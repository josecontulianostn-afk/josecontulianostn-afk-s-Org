function _y(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var r1={exports:{}},Gu={},n1={exports:{}},Tt={};var kE;function o6(){if(kE)return Tt;kE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(Q){return Q===null||typeof Q!="object"?null:(Q=b&&Q[b]||Q["@@iterator"],typeof Q=="function"?Q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function P(Q,le,Ue){this.props=Q,this.context=le,this.refs=I,this.updater=Ue||C}P.prototype.isReactComponent={},P.prototype.setState=function(Q,le){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,le,"setState")},P.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function D(){}D.prototype=P.prototype;function M(Q,le,Ue){this.props=Q,this.context=le,this.refs=I,this.updater=Ue||C}var R=M.prototype=new D;R.constructor=M,O(R,P.prototype),R.isPureReactComponent=!0;var B=Array.isArray,W=Object.prototype.hasOwnProperty,$={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function Z(Q,le,Ue){var Be,Ge={},X=null,_e=null;if(le!=null)for(Be in le.ref!==void 0&&(_e=le.ref),le.key!==void 0&&(X=""+le.key),le)W.call(le,Be)&&!H.hasOwnProperty(Be)&&(Ge[Be]=le[Be]);var ze=arguments.length-2;if(ze===1)Ge.children=Ue;else if(1<ze){for(var me=Array(ze),He=0;He<ze;He++)me[He]=arguments[He+2];Ge.children=me}if(Q&&Q.defaultProps)for(Be in ze=Q.defaultProps,ze)Ge[Be]===void 0&&(Ge[Be]=ze[Be]);return{$$typeof:e,type:Q,key:X,ref:_e,props:Ge,_owner:$.current}}function K(Q,le){return{$$typeof:e,type:Q.type,key:le,ref:Q.ref,props:Q.props,_owner:Q._owner}}function pe(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function se(Q){var le={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ue){return le[Ue]})}var ie=/\/+/g;function Ae(Q,le){return typeof Q=="object"&&Q!==null&&Q.key!=null?se(""+Q.key):le.toString(36)}function Ce(Q,le,Ue,Be,Ge){var X=typeof Q;(X==="undefined"||X==="boolean")&&(Q=null);var _e=!1;if(Q===null)_e=!0;else switch(X){case"string":case"number":_e=!0;break;case"object":switch(Q.$$typeof){case e:case t:_e=!0}}if(_e)return _e=Q,Ge=Ge(_e),Q=Be===""?"."+Ae(_e,0):Be,B(Ge)?(Ue="",Q!=null&&(Ue=Q.replace(ie,"$&/")+"/"),Ce(Ge,le,Ue,"",function(He){return He})):Ge!=null&&(pe(Ge)&&(Ge=K(Ge,Ue+(!Ge.key||_e&&_e.key===Ge.key?"":(""+Ge.key).replace(ie,"$&/")+"/")+Q)),le.push(Ge)),1;if(_e=0,Be=Be===""?".":Be+":",B(Q))for(var ze=0;ze<Q.length;ze++){X=Q[ze];var me=Be+Ae(X,ze);_e+=Ce(X,le,Ue,me,Ge)}else if(me=S(Q),typeof me=="function")for(Q=me.call(Q),ze=0;!(X=Q.next()).done;)X=X.value,me=Be+Ae(X,ze++),_e+=Ce(X,le,Ue,me,Ge);else if(X==="object")throw le=String(Q),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return _e}function te(Q,le,Ue){if(Q==null)return Q;var Be=[],Ge=0;return Ce(Q,Be,"","",function(X){return le.call(Ue,X,Ge++)}),Be}function Re(Q){if(Q._status===-1){var le=Q._result;le=le(),le.then(function(Ue){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ue)},function(Ue){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ue)}),Q._status===-1&&(Q._status=0,Q._result=le)}if(Q._status===1)return Q._result.default;throw Q._result}var J={current:null},oe={transition:null},ue={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:oe,ReactCurrentOwner:$};function ve(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:te,forEach:function(Q,le,Ue){te(Q,function(){le.apply(this,arguments)},Ue)},count:function(Q){var le=0;return te(Q,function(){le++}),le},toArray:function(Q){return te(Q,function(le){return le})||[]},only:function(Q){if(!pe(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Tt.Component=P,Tt.Fragment=r,Tt.Profiler=i,Tt.PureComponent=M,Tt.StrictMode=n,Tt.Suspense=h,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Tt.act=ve,Tt.cloneElement=function(Q,le,Ue){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var Be=O({},Q.props),Ge=Q.key,X=Q.ref,_e=Q._owner;if(le!=null){if(le.ref!==void 0&&(X=le.ref,_e=$.current),le.key!==void 0&&(Ge=""+le.key),Q.type&&Q.type.defaultProps)var ze=Q.type.defaultProps;for(me in le)W.call(le,me)&&!H.hasOwnProperty(me)&&(Be[me]=le[me]===void 0&&ze!==void 0?ze[me]:le[me])}var me=arguments.length-2;if(me===1)Be.children=Ue;else if(1<me){ze=Array(me);for(var He=0;He<me;He++)ze[He]=arguments[He+2];Be.children=ze}return{$$typeof:e,type:Q.type,key:Ge,ref:X,props:Be,_owner:_e}},Tt.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:a,_context:Q},Q.Consumer=Q},Tt.createElement=Z,Tt.createFactory=function(Q){var le=Z.bind(null,Q);return le.type=Q,le},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(Q){return{$$typeof:f,render:Q}},Tt.isValidElement=pe,Tt.lazy=function(Q){return{$$typeof:v,_payload:{_status:-1,_result:Q},_init:Re}},Tt.memo=function(Q,le){return{$$typeof:p,type:Q,compare:le===void 0?null:le}},Tt.startTransition=function(Q){var le=oe.transition;oe.transition={};try{Q()}finally{oe.transition=le}},Tt.unstable_act=ve,Tt.useCallback=function(Q,le){return J.current.useCallback(Q,le)},Tt.useContext=function(Q){return J.current.useContext(Q)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(Q){return J.current.useDeferredValue(Q)},Tt.useEffect=function(Q,le){return J.current.useEffect(Q,le)},Tt.useId=function(){return J.current.useId()},Tt.useImperativeHandle=function(Q,le,Ue){return J.current.useImperativeHandle(Q,le,Ue)},Tt.useInsertionEffect=function(Q,le){return J.current.useInsertionEffect(Q,le)},Tt.useLayoutEffect=function(Q,le){return J.current.useLayoutEffect(Q,le)},Tt.useMemo=function(Q,le){return J.current.useMemo(Q,le)},Tt.useReducer=function(Q,le,Ue){return J.current.useReducer(Q,le,Ue)},Tt.useRef=function(Q){return J.current.useRef(Q)},Tt.useState=function(Q){return J.current.useState(Q)},Tt.useSyncExternalStore=function(Q,le,Ue){return J.current.useSyncExternalStore(Q,le,Ue)},Tt.useTransition=function(){return J.current.useTransition()},Tt.version="18.3.1",Tt}var TE;function Kc(){return TE||(TE=1,n1.exports=o6()),n1.exports}var RE;function l6(){if(RE)return Gu;RE=1;var e=Kc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,p){var v,b={},S=null,C=null;p!==void 0&&(S=""+p),h.key!==void 0&&(S=""+h.key),h.ref!==void 0&&(C=h.ref);for(v in h)n.call(h,v)&&!a.hasOwnProperty(v)&&(b[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)b[v]===void 0&&(b[v]=h[v]);return{$$typeof:t,type:f,key:S,ref:C,props:b,_owner:i.current}}return Gu.Fragment=r,Gu.jsx=c,Gu.jsxs=c,Gu}var DE;function c6(){return DE||(DE=1,r1.exports=l6()),r1.exports}var m=c6(),_=Kc();const ur=fa(_),u6=_y({__proto__:null,default:ur},[_]);var Ch={},i1={exports:{}},bi={},a1={exports:{}},s1={};var ME;function d6(){return ME||(ME=1,(function(e){function t(oe,ue){var ve=oe.length;oe.push(ue);e:for(;0<ve;){var Q=ve-1>>>1,le=oe[Q];if(0<i(le,ue))oe[Q]=ue,oe[ve]=le,ve=Q;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var ue=oe[0],ve=oe.pop();if(ve!==ue){oe[0]=ve;e:for(var Q=0,le=oe.length,Ue=le>>>1;Q<Ue;){var Be=2*(Q+1)-1,Ge=oe[Be],X=Be+1,_e=oe[X];if(0>i(Ge,ve))X<le&&0>i(_e,Ge)?(oe[Q]=_e,oe[X]=ve,Q=X):(oe[Q]=Ge,oe[Be]=ve,Q=Be);else if(X<le&&0>i(_e,ve))oe[Q]=_e,oe[X]=ve,Q=X;else break e}}return ue}function i(oe,ue){var ve=oe.sortIndex-ue.sortIndex;return ve!==0?ve:oe.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],p=[],v=1,b=null,S=3,C=!1,O=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(oe){for(var ue=r(p);ue!==null;){if(ue.callback===null)n(p);else if(ue.startTime<=oe)n(p),ue.sortIndex=ue.expirationTime,t(h,ue);else break;ue=r(p)}}function B(oe){if(I=!1,R(oe),!O)if(r(h)!==null)O=!0,Re(W);else{var ue=r(p);ue!==null&&J(B,ue.startTime-oe)}}function W(oe,ue){O=!1,I&&(I=!1,D(Z),Z=-1),C=!0;var ve=S;try{for(R(ue),b=r(h);b!==null&&(!(b.expirationTime>ue)||oe&&!se());){var Q=b.callback;if(typeof Q=="function"){b.callback=null,S=b.priorityLevel;var le=Q(b.expirationTime<=ue);ue=e.unstable_now(),typeof le=="function"?b.callback=le:b===r(h)&&n(h),R(ue)}else n(h);b=r(h)}if(b!==null)var Ue=!0;else{var Be=r(p);Be!==null&&J(B,Be.startTime-ue),Ue=!1}return Ue}finally{b=null,S=ve,C=!1}}var $=!1,H=null,Z=-1,K=5,pe=-1;function se(){return!(e.unstable_now()-pe<K)}function ie(){if(H!==null){var oe=e.unstable_now();pe=oe;var ue=!0;try{ue=H(!0,oe)}finally{ue?Ae():($=!1,H=null)}}else $=!1}var Ae;if(typeof M=="function")Ae=function(){M(ie)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,te=Ce.port2;Ce.port1.onmessage=ie,Ae=function(){te.postMessage(null)}}else Ae=function(){P(ie,0)};function Re(oe){H=oe,$||($=!0,Ae())}function J(oe,ue){Z=P(function(){oe(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){O||C||(O=!0,Re(W))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var ve=S;S=ue;try{return oe()}finally{S=ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,ue){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ve=S;S=oe;try{return ue()}finally{S=ve}},e.unstable_scheduleCallback=function(oe,ue,ve){var Q=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Q+ve:Q):ve=Q,oe){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ve+le,oe={id:v++,callback:ue,priorityLevel:oe,startTime:ve,expirationTime:le,sortIndex:-1},ve>Q?(oe.sortIndex=ve,t(p,oe),r(h)===null&&oe===r(p)&&(I?(D(Z),Z=-1):I=!0,J(B,ve-Q))):(oe.sortIndex=le,t(h,oe),O||C||(O=!0,Re(W))),oe},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(oe){var ue=S;return function(){var ve=S;S=ue;try{return oe.apply(this,arguments)}finally{S=ve}}}})(s1)),s1}var LE;function f6(){return LE||(LE=1,a1.exports=d6()),a1.exports}var BE;function h6(){if(BE)return bi;BE=1;var e=Kc(),t=f6();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,w=1;w<arguments.length;w++)d+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},b={};function S(o){return h.call(b,o)?!0:h.call(v,o)?!1:p.test(o)?b[o]=!0:(v[o]=!0,!1)}function C(o,d,w,A){if(w!==null&&w.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:w!==null?!w.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function O(o,d,w,A){if(d===null||typeof d>"u"||C(o,d,w,A))return!0;if(A)return!1;if(w!==null)switch(w.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function I(o,d,w,A,k,T,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=k,this.mustUseProperty=w,this.propertyName=o,this.type=d,this.sanitizeURL=T,this.removeEmptyString=U}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];P[d]=new I(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(D,M);P[d]=new I(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(D,M);P[d]=new I(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(D,M);P[d]=new I(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,d,w,A){var k=P.hasOwnProperty(d)?P[d]:null;(k!==null?k.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(O(d,w,k,A)&&(w=null),A||k===null?S(d)&&(w===null?o.removeAttribute(d):o.setAttribute(d,""+w)):k.mustUseProperty?o[k.propertyName]=w===null?k.type===3?!1:"":w:(d=k.attributeName,A=k.attributeNamespace,w===null?o.removeAttribute(d):(k=k.type,w=k===3||k===4&&w===!0?"":""+w,A?o.setAttributeNS(A,d,w):o.setAttribute(d,w))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),$=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),se=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ue(o){return o===null||typeof o!="object"?null:(o=oe&&o[oe]||o["@@iterator"],typeof o=="function"?o:null)}var ve=Object.assign,Q;function le(o){if(Q===void 0)try{throw Error()}catch(w){var d=w.stack.trim().match(/\n( *(at )?)/);Q=d&&d[1]||""}return`
`+Q+o}var Ue=!1;function Be(o,d){if(!o||Ue)return"";Ue=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Se){var A=Se}Reflect.construct(o,[],d)}else{try{d.call()}catch(Se){A=Se}o.call(d.prototype)}else{try{throw Error()}catch(Se){A=Se}o()}}catch(Se){if(Se&&A&&typeof Se.stack=="string"){for(var k=Se.stack.split(`
`),T=A.stack.split(`
`),U=k.length-1,Y=T.length-1;1<=U&&0<=Y&&k[U]!==T[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(k[U]!==T[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||k[U]!==T[Y]){var re=`
`+k[U].replace(" at new "," at ");return o.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",o.displayName)),re}while(1<=U&&0<=Y);break}}}finally{Ue=!1,Error.prepareStackTrace=w}return(o=o?o.displayName||o.name:"")?le(o):""}function Ge(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=Be(o.type,!1),o;case 11:return o=Be(o.type.render,!1),o;case 1:return o=Be(o.type,!0),o;default:return""}}function X(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case $:return"Portal";case K:return"Profiler";case Z:return"StrictMode";case Ae:return"Suspense";case Ce:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case se:return(o.displayName||"Context")+".Consumer";case pe:return(o._context.displayName||"Context")+".Provider";case ie:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case te:return d=o.displayName||null,d!==null?d:X(o.type)||"Memo";case Re:d=o._payload,o=o._init;try{return X(o(d))}catch{}}return null}function _e(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(d);case 8:return d===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ze(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function me(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function He(o){var d=me(o)?"checked":"value",w=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var k=w.get,T=w.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return k.call(this)},set:function(U){A=""+U,T.call(this,U)}}),Object.defineProperty(o,d,{enumerable:w.enumerable}),{getValue:function(){return A},setValue:function(U){A=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function ge(o){o._valueTracker||(o._valueTracker=He(o))}function we(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var w=d.getValue(),A="";return o&&(A=me(o)?o.checked?"true":"false":o.value),o=A,o!==w?(d.setValue(o),!0):!1}function ke(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function We(o,d){var w=d.checked;return ve({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??o._wrapperState.initialChecked})}function it(o,d){var w=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;w=ze(d.value!=null?d.value:w),o._wrapperState={initialChecked:A,initialValue:w,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function jt(o,d){d=d.checked,d!=null&&R(o,"checked",d,!1)}function dt(o,d){jt(o,d);var w=ze(d.value),A=d.type;if(w!=null)A==="number"?(w===0&&o.value===""||o.value!=w)&&(o.value=""+w):o.value!==""+w&&(o.value=""+w);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?wt(o,d.type,w):d.hasOwnProperty("defaultValue")&&wt(o,d.type,ze(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function _t(o,d,w){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,w||d===o.value||(o.value=d),o.defaultValue=d}w=o.name,w!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,w!==""&&(o.name=w)}function wt(o,d,w){(d!=="number"||ke(o.ownerDocument)!==o)&&(w==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+w&&(o.defaultValue=""+w))}var en=Array.isArray;function Ve(o,d,w,A){if(o=o.options,d){d={};for(var k=0;k<w.length;k++)d["$"+w[k]]=!0;for(w=0;w<o.length;w++)k=d.hasOwnProperty("$"+o[w].value),o[w].selected!==k&&(o[w].selected=k),k&&A&&(o[w].defaultSelected=!0)}else{for(w=""+ze(w),d=null,k=0;k<o.length;k++){if(o[k].value===w){o[k].selected=!0,A&&(o[k].defaultSelected=!0);return}d!==null||o[k].disabled||(d=o[k])}d!==null&&(d.selected=!0)}}function ma(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return ve({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ys(o,d){var w=d.value;if(w==null){if(w=d.children,d=d.defaultValue,w!=null){if(d!=null)throw Error(r(92));if(en(w)){if(1<w.length)throw Error(r(93));w=w[0]}d=w}d==null&&(d=""),w=d}o._wrapperState={initialValue:ze(w)}}function Gn(o,d){var w=ze(d.value),A=ze(d.defaultValue);w!=null&&(w=""+w,w!==o.value&&(o.value=w),d.defaultValue==null&&o.defaultValue!==w&&(o.defaultValue=w)),A!=null&&(o.defaultValue=""+A)}function as(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Dn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ss(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Dn(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Kn,ye=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,w,A,k){MSApp.execUnsafeLocalFunction(function(){return o(d,w,A,k)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Kn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function Qe(o,d){if(d){var w=o.firstChild;if(w&&w===o.lastChild&&w.nodeType===3){w.nodeValue=d;return}}o.textContent=d}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rr=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(o){rr.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),mt[d]=mt[o]})});function ht(o,d,w){return d==null||typeof d=="boolean"||d===""?"":w||typeof d!="number"||d===0||mt.hasOwnProperty(o)&&mt[o]?(""+d).trim():d+"px"}function Oe(o,d){o=o.style;for(var w in d)if(d.hasOwnProperty(w)){var A=w.indexOf("--")===0,k=ht(w,d[w],A);w==="float"&&(w="cssFloat"),A?o.setProperty(w,k):o[w]=k}}var Cr=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(o,d){if(d){if(Cr[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Gt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function ga(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var os=null,Ot=null,un=null;function ls(o){if(o=ku(o)){if(typeof os!="function")throw Error(r(280));var d=o.stateNode;d&&(d=Ff(d),os(o.stateNode,o.type,d))}}function qi(o){Ot?un?un.push(o):un=[o]:Ot=o}function Sn(){if(Ot){var o=Ot,d=un;if(un=Ot=null,ls(o),d)for(o=0;o<d.length;o++)ls(d[o])}}function St(o,d){return o(d)}function gt(){}var Jt=!1;function rn(o,d,w){if(Jt)return o(d,w);Jt=!0;try{return St(o,d,w)}finally{Jt=!1,(Ot!==null||un!==null)&&(gt(),Sn())}}function _r(o,d){var w=o.stateNode;if(w===null)return null;var A=Ff(w);if(A===null)return null;w=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(w&&typeof w!="function")throw Error(r(231,d,typeof w));return w}var Lo=!1;if(f)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Lo=!1}function Bo(o,d,w,A,k,T,U,Y,re){var Se=Array.prototype.slice.call(arguments,3);try{d.apply(w,Se)}catch(Te){this.onError(Te)}}var yr=!1,pi=null,dn=!1,qe=null,Ma={onError:function(o){yr=!0,pi=o}};function Ne(o,d,w,A,k,T,U,Y,re){yr=!1,pi=null,Bo.apply(Ma,arguments)}function Ke(o,d,w,A,k,T,U,Y,re){if(Ne.apply(this,arguments),yr){if(yr){var Se=pi;yr=!1,pi=null}else throw Error(r(198));dn||(dn=!0,qe=Se)}}function Je(o){var d=o,w=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(w=d.return),o=d.return;while(o)}return d.tag===3?w:null}function Dr(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function or(o){if(Je(o)!==o)throw Error(r(188))}function nr(o){var d=o.alternate;if(!d){if(d=Je(o),d===null)throw Error(r(188));return d!==o?null:o}for(var w=o,A=d;;){var k=w.return;if(k===null)break;var T=k.alternate;if(T===null){if(A=k.return,A!==null){w=A;continue}break}if(k.child===T.child){for(T=k.child;T;){if(T===w)return or(k),o;if(T===A)return or(k),d;T=T.sibling}throw Error(r(188))}if(w.return!==A.return)w=k,A=T;else{for(var U=!1,Y=k.child;Y;){if(Y===w){U=!0,w=k,A=T;break}if(Y===A){U=!0,A=k,w=T;break}Y=Y.sibling}if(!U){for(Y=T.child;Y;){if(Y===w){U=!0,w=T,A=k;break}if(Y===A){U=!0,A=T,w=k;break}Y=Y.sibling}if(!U)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?o:d}function oi(o){return o=nr(o),o!==null?La(o):null}function La(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=La(o);if(d!==null)return d;o=o.sibling}return null}var An=t.unstable_scheduleCallback,Mr=t.unstable_cancelCallback,hr=t.unstable_shouldYield,bf=t.unstable_requestPaint,Yt=t.unstable_now,fu=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,wf=t.unstable_UserBlockingPriority,lr=t.unstable_NormalPriority,Zs=t.unstable_LowPriority,Ef=t.unstable_IdlePriority,Ft=null,It=null;function Rt(o){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ft,o,void 0,(o.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:Kr,hu=Math.log,pu=Math.LN2;function Kr(o){return o>>>=0,o===0?32:31-(hu(o)/pu|0)|0}var Ii=64,Vl=4194304;function cr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Pi(o,d){var w=o.pendingLanes;if(w===0)return 0;var A=0,k=o.suspendedLanes,T=o.pingedLanes,U=w&268435455;if(U!==0){var Y=U&~k;Y!==0?A=cr(Y):(T&=U,T!==0&&(A=cr(T)))}else U=w&~k,U!==0?A=cr(U):T!==0&&(A=cr(T));if(A===0)return 0;if(d!==0&&d!==A&&(d&k)===0&&(k=A&-A,T=d&-d,k>=T||k===16&&(T&4194240)!==0))return d;if((A&4)!==0&&(A|=w&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)w=31-li(d),k=1<<w,A|=o[w],d&=~k;return A}function Mm(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(o,d){for(var w=o.suspendedLanes,A=o.pingedLanes,k=o.expirationTimes,T=o.pendingLanes;0<T;){var U=31-li(T),Y=1<<U,re=k[U];re===-1?((Y&w)===0||(Y&A)!==0)&&(k[U]=Mm(Y,d)):re<=d&&(o.expiredLanes|=Y),T&=~Y}}function Zt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function fn(){var o=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),o}function de(o){for(var d=[],w=0;31>w;w++)d.push(o);return d}function q(o,d,w){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-li(d),o[d]=w}function ut(o,d){var w=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<w;){var k=31-li(w),T=1<<k;d[k]=0,A[k]=-1,o[k]=-1,w&=~T}}function Ur(o,d){var w=o.entangledLanes|=d;for(o=o.entanglements;w;){var A=31-li(w),k=1<<A;k&d|o[A]&d&&(o[A]|=d),w&=~k}}var Pt=0;function Sf(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Hl,Yn,ft,pr,mu,gu=!1,Js=[],ji=null,Gi=null,Ba=null,Nr=new Map,xa=new Map,Mn=[],yt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(o,d){switch(o){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Nr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(d.pointerId)}}function At(o,d,w,A,k,T){return o===null||o.nativeEvent!==T?(o={blockedOn:d,domEventName:w,eventSystemFlags:A,nativeEvent:T,targetContainers:[k]},d!==null&&(d=ku(d),d!==null&&Yn(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),o)}function hn(o,d,w,A,k){switch(d){case"focusin":return ji=At(ji,o,d,w,A,k),!0;case"dragenter":return Gi=At(Gi,o,d,w,A,k),!0;case"mouseover":return Ba=At(Ba,o,d,w,A,k),!0;case"pointerover":var T=k.pointerId;return Nr.set(T,At(Nr.get(T)||null,o,d,w,A,k)),!0;case"gotpointercapture":return T=k.pointerId,xa.set(T,At(xa.get(T)||null,o,d,w,A,k)),!0}return!1}function Cf(o){var d=Ko(o.target);if(d!==null){var w=Je(d);if(w!==null){if(d=w.tag,d===13){if(d=Dr(w),d!==null){o.blockedOn=d,mu(o.priority,function(){ft(w)});return}}else if(d===3&&w.stateNode.current.memoizedState.isDehydrated){o.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}o.blockedOn=null}function eo(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var w=ql(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(w===null){w=o.nativeEvent;var A=new w.constructor(w.type,w);tn=A,w.target.dispatchEvent(A),tn=null}else return d=ku(w),d!==null&&Yn(d),o.blockedOn=w,!1;d.shift()}return!0}function xu(o,d,w){eo(o)&&w.delete(d)}function cs(){gu=!1,ji!==null&&eo(ji)&&(ji=null),Gi!==null&&eo(Gi)&&(Gi=null),Ba!==null&&eo(Ba)&&(Ba=null),Nr.forEach(xu),xa.forEach(xu)}function Fo(o,d){o.blockedOn===d&&(o.blockedOn=null,gu||(gu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cs)))}function va(o){function d(k){return Fo(k,o)}if(0<Js.length){Fo(Js[0],o);for(var w=1;w<Js.length;w++){var A=Js[w];A.blockedOn===o&&(A.blockedOn=null)}}for(ji!==null&&Fo(ji,o),Gi!==null&&Fo(Gi,o),Ba!==null&&Fo(Ba,o),Nr.forEach(d),xa.forEach(d),w=0;w<Mn.length;w++)A=Mn[w],A.blockedOn===o&&(A.blockedOn=null);for(;0<Mn.length&&(w=Mn[0],w.blockedOn===null);)Cf(w),w.blockedOn===null&&Mn.shift()}var Ki=B.ReactCurrentBatchConfig,Fa=!0;function _f(o,d,w,A){var k=Pt,T=Ki.transition;Ki.transition=null;try{Pt=1,us(o,d,w,A)}finally{Pt=k,Ki.transition=T}}function zo(o,d,w,A){var k=Pt,T=Ki.transition;Ki.transition=null;try{Pt=4,us(o,d,w,A)}finally{Pt=k,Ki.transition=T}}function us(o,d,w,A){if(Fa){var k=ql(o,d,w,A);if(k===null)qm(o,d,A,pn,w),Af(o,A);else if(hn(k,o,d,w,A))A.stopPropagation();else if(Af(o,A),d&4&&-1<yt.indexOf(o)){for(;k!==null;){var T=ku(k);if(T!==null&&Hl(T),T=ql(o,d,w,A),T===null&&qm(o,d,A,pn,w),T===k)break;k=T}k!==null&&A.stopPropagation()}else qm(o,d,A,null,w)}}var pn=null;function ql(o,d,w,A){if(pn=null,o=ga(A),o=Ko(o),o!==null)if(d=Je(o),d===null)o=null;else if(w=d.tag,w===13){if(o=Dr(d),o!==null)return o;o=null}else if(w===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return pn=o,null}function vu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fu()){case Ie:return 1;case wf:return 4;case lr:case Zs:return 16;case Ef:return 536870912;default:return 16}default:return 16}}var ya=null,yu=null,Gl=null;function Nf(){if(Gl)return Gl;var o,d=yu,w=d.length,A,k="value"in ya?ya.value:ya.textContent,T=k.length;for(o=0;o<w&&d[o]===k[o];o++);var U=w-o;for(A=1;A<=U&&d[w-A]===k[T-A];A++);return Gl=k.slice(o,1<A?1-A:void 0)}function Wt(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Uo(){return!0}function $o(){return!1}function $r(o){function d(w,A,k,T,U){this._reactName=w,this._targetInst=k,this.type=A,this.nativeEvent=T,this.target=U,this.currentTarget=null;for(var Y in o)o.hasOwnProperty(Y)&&(w=o[Y],this[Y]=w?w(T):T[Y]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Uo:$o,this.isPropagationStopped=$o,this}return ve(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),d}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ee=$r(to),Nt=ve({},to,{view:0,detail:0}),mn=$r(Nt),ro,Kl,Wo,Xl=ve({},Nt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Wo&&(Wo&&o.type==="mousemove"?(ro=o.screenX-Wo.screenX,Kl=o.screenY-Wo.screenY):Kl=ro=0,Wo=o),ro)},movementY:function(o){return"movementY"in o?o.movementY:Kl}}),Of=$r(Xl),bu=ve({},Xl,{dataTransfer:0}),Xr=$r(bu),wu=ve({},Nt,{relatedTarget:0}),mr=$r(wu),Yl=ve({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),ds=$r(Yl),er=ve({},to,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),pt=$r(er),Lm=ve({},to,{data:0}),ir=$r(Lm),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},no={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xi(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=Bm[o])?!!d[o]:!1}function Vo(){return Xi}var If=ve({},Nt,{key:function(o){if(o.key){var d=fs[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Wt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?no[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(o){return o.type==="keypress"?Wt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Eu=$r(If),Pf=ve({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=$r(Pf),Fm=ve({},Nt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),io=$r(Fm),Au=ve({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),zm=$r(Au),Ho=ve({},Xl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Um=$r(Ho),za=[9,13,27,32],ao=f&&"CompositionEvent"in window,Cn=null;f&&"documentMode"in document&&(Cn=document.documentMode);var jf=f&&"TextEvent"in window&&!Cn,ki=f&&(!ao||Cn&&8<Cn&&11>=Cn),kf=" ",Zl=!1;function Tf(o,d){switch(o){case"keyup":return za.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ln=!1;function $m(o,d){switch(o){case"compositionend":return Cu(d);case"keypress":return d.which!==32?null:(Zl=!0,kf);case"textInput":return o=d.data,o===kf&&Zl?null:o;default:return null}}function _u(o,d){if(Ln)return o==="compositionend"||!ao&&Tf(o,d)?(o=Nf(),Gl=yu=ya=null,Ln=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ki&&d.locale!=="ko"?null:d.data;default:return null}}var qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!qo[o.type]:d==="textarea"}function Go(o,d,w,A){qi(A),d=Mf(d,"onChange"),0<d.length&&(w=new Ee("onChange","change",null,w,A),o.push({event:w,listeners:d}))}var F=null,s=null;function l(o){Kw(o,0)}function u(o){var d=ec(o);if(we(d))return o}function g(o,d){if(o==="change")return d}var x=!1;if(f){var y;if(f){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}y=E}else y=!1;x=y&&(!document.documentMode||9<document.documentMode)}function j(){F&&(F.detachEvent("onpropertychange",L),s=F=null)}function L(o){if(o.propertyName==="value"&&u(s)){var d=[];Go(d,s,o,ga(o)),rn(l,d)}}function z(o,d,w){o==="focusin"?(j(),F=d,s=w,F.attachEvent("onpropertychange",L)):o==="focusout"&&j()}function V(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(s)}function G(o,d){if(o==="click")return u(d)}function ee(o,d){if(o==="input"||o==="change")return u(d)}function ne(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ce=typeof Object.is=="function"?Object.is:ne;function be(o,d){if(ce(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var w=Object.keys(o),A=Object.keys(d);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var k=w[A];if(!h.call(d,k)||!ce(o[k],d[k]))return!1}return!0}function Me(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Le(o,d){var w=Me(o);o=0;for(var A;w;){if(w.nodeType===3){if(A=o+w.textContent.length,o<=d&&A>=d)return{node:w,offset:d-o};o=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Me(w)}}function je(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?je(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function kt(){for(var o=window,d=ke();d instanceof o.HTMLIFrameElement;){try{var w=typeof d.contentWindow.location.href=="string"}catch{w=!1}if(w)o=d.contentWindow;else break;d=ke(o.document)}return d}function Ct(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Zn(o){var d=kt(),w=o.focusedElem,A=o.selectionRange;if(d!==w&&w&&w.ownerDocument&&je(w.ownerDocument.documentElement,w)){if(A!==null&&Ct(w)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in w)w.selectionStart=d,w.selectionEnd=Math.min(o,w.value.length);else if(o=(d=w.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var k=w.textContent.length,T=Math.min(A.start,k);A=A.end===void 0?T:Math.min(A.end,k),!o.extend&&T>A&&(k=A,A=T,T=k),k=Le(w,T);var U=Le(w,A);k&&U&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(k.node,k.offset),o.removeAllRanges(),T>A?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=w;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<d.length;w++)o=d[w],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Ti=f&&"documentMode"in document&&11>=document.documentMode,Yr=null,Kt=null,Lr=null,Bn=!1;function hs(o,d,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Bn||Yr==null||Yr!==ke(A)||(A=Yr,"selectionStart"in A&&Ct(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Lr&&be(Lr,A)||(Lr=A,A=Mf(Kt,"onSelect"),0<A.length&&(d=new Ee("onSelect","select",null,d,w),o.push({event:d,listeners:A}),d.target=Yr)))}function ba(o,d){var w={};return w[o.toLowerCase()]=d.toLowerCase(),w["Webkit"+o]="webkit"+d,w["Moz"+o]="moz"+d,w}var so={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Nu={},zw={};f&&(zw=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Rf(o){if(Nu[o])return Nu[o];if(!so[o])return o;var d=so[o],w;for(w in d)if(d.hasOwnProperty(w)&&w in zw)return Nu[o]=d[w];return o}var Uw=Rf("animationend"),$w=Rf("animationiteration"),Ww=Rf("animationstart"),Vw=Rf("transitionend"),Hw=new Map,qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(o,d){Hw.set(o,d),a(d,[o])}for(var Wm=0;Wm<qw.length;Wm++){var Vm=qw[Wm],g8=Vm.toLowerCase(),x8=Vm[0].toUpperCase()+Vm.slice(1);oo(g8,"on"+x8)}oo(Uw,"onAnimationEnd"),oo($w,"onAnimationIteration"),oo(Ww,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(Vw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ou));function Gw(o,d,w){var A=o.type||"unknown-event";o.currentTarget=w,Ke(A,d,void 0,o),o.currentTarget=null}function Kw(o,d){d=(d&4)!==0;for(var w=0;w<o.length;w++){var A=o[w],k=A.event;A=A.listeners;e:{var T=void 0;if(d)for(var U=A.length-1;0<=U;U--){var Y=A[U],re=Y.instance,Se=Y.currentTarget;if(Y=Y.listener,re!==T&&k.isPropagationStopped())break e;Gw(k,Y,Se),T=re}else for(U=0;U<A.length;U++){if(Y=A[U],re=Y.instance,Se=Y.currentTarget,Y=Y.listener,re!==T&&k.isPropagationStopped())break e;Gw(k,Y,Se),T=re}}}if(dn)throw o=qe,dn=!1,qe=null,o}function br(o,d){var w=d[Qm];w===void 0&&(w=d[Qm]=new Set);var A=o+"__bubble";w.has(A)||(Xw(d,o,2,!1),w.add(A))}function Hm(o,d,w){var A=0;d&&(A|=4),Xw(w,o,A,d)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Iu(o){if(!o[Df]){o[Df]=!0,n.forEach(function(w){w!=="selectionchange"&&(v8.has(w)||Hm(w,!1,o),Hm(w,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Df]||(d[Df]=!0,Hm("selectionchange",!1,d))}}function Xw(o,d,w,A){switch(vu(d)){case 1:var k=_f;break;case 4:k=zo;break;default:k=us}w=k.bind(null,d,w,o),k=void 0,!Lo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),A?k!==void 0?o.addEventListener(d,w,{capture:!0,passive:k}):o.addEventListener(d,w,!0):k!==void 0?o.addEventListener(d,w,{passive:k}):o.addEventListener(d,w,!1)}function qm(o,d,w,A,k){var T=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var U=A.tag;if(U===3||U===4){var Y=A.stateNode.containerInfo;if(Y===k||Y.nodeType===8&&Y.parentNode===k)break;if(U===4)for(U=A.return;U!==null;){var re=U.tag;if((re===3||re===4)&&(re=U.stateNode.containerInfo,re===k||re.nodeType===8&&re.parentNode===k))return;U=U.return}for(;Y!==null;){if(U=Ko(Y),U===null)return;if(re=U.tag,re===5||re===6){A=T=U;continue e}Y=Y.parentNode}}A=A.return}rn(function(){var Se=T,Te=ga(w),De=[];e:{var Pe=Hw.get(o);if(Pe!==void 0){var Ze=Ee,at=o;switch(o){case"keypress":if(Wt(w)===0)break e;case"keydown":case"keyup":Ze=Eu;break;case"focusin":at="focus",Ze=mr;break;case"focusout":at="blur",Ze=mr;break;case"beforeblur":case"afterblur":Ze=mr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=Xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=io;break;case Uw:case $w:case Ww:Ze=ds;break;case Vw:Ze=zm;break;case"scroll":Ze=mn;break;case"wheel":Ze=Um;break;case"copy":case"cut":case"paste":Ze=pt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=Su}var ot=(d&4)!==0,Zr=!ot&&o==="scroll",fe=ot?Pe!==null?Pe+"Capture":null:Pe;ot=[];for(var ae=Se,xe;ae!==null;){xe=ae;var Fe=xe.stateNode;if(xe.tag===5&&Fe!==null&&(xe=Fe,fe!==null&&(Fe=_r(ae,fe),Fe!=null&&ot.push(Pu(ae,Fe,xe)))),Zr)break;ae=ae.return}0<ot.length&&(Pe=new Ze(Pe,at,null,w,Te),De.push({event:Pe,listeners:ot}))}}if((d&7)===0){e:{if(Pe=o==="mouseover"||o==="pointerover",Ze=o==="mouseout"||o==="pointerout",Pe&&w!==tn&&(at=w.relatedTarget||w.fromElement)&&(Ko(at)||at[ps]))break e;if((Ze||Pe)&&(Pe=Te.window===Te?Te:(Pe=Te.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Ze?(at=w.relatedTarget||w.toElement,Ze=Se,at=at?Ko(at):null,at!==null&&(Zr=Je(at),at!==Zr||at.tag!==5&&at.tag!==6)&&(at=null)):(Ze=null,at=Se),Ze!==at)){if(ot=Of,Fe="onMouseLeave",fe="onMouseEnter",ae="mouse",(o==="pointerout"||o==="pointerover")&&(ot=Su,Fe="onPointerLeave",fe="onPointerEnter",ae="pointer"),Zr=Ze==null?Pe:ec(Ze),xe=at==null?Pe:ec(at),Pe=new ot(Fe,ae+"leave",Ze,w,Te),Pe.target=Zr,Pe.relatedTarget=xe,Fe=null,Ko(Te)===Se&&(ot=new ot(fe,ae+"enter",at,w,Te),ot.target=xe,ot.relatedTarget=Zr,Fe=ot),Zr=Fe,Ze&&at)t:{for(ot=Ze,fe=at,ae=0,xe=ot;xe;xe=Ql(xe))ae++;for(xe=0,Fe=fe;Fe;Fe=Ql(Fe))xe++;for(;0<ae-xe;)ot=Ql(ot),ae--;for(;0<xe-ae;)fe=Ql(fe),xe--;for(;ae--;){if(ot===fe||fe!==null&&ot===fe.alternate)break t;ot=Ql(ot),fe=Ql(fe)}ot=null}else ot=null;Ze!==null&&Yw(De,Pe,Ze,ot,!1),at!==null&&Zr!==null&&Yw(De,Zr,at,ot,!0)}}e:{if(Pe=Se?ec(Se):window,Ze=Pe.nodeName&&Pe.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Pe.type==="file")var lt=g;else if(Lt(Pe))if(x)lt=ee;else{lt=V;var xt=z}else(Ze=Pe.nodeName)&&Ze.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(lt=G);if(lt&&(lt=lt(o,Se))){Go(De,lt,w,Te);break e}xt&&xt(o,Pe,Se),o==="focusout"&&(xt=Pe._wrapperState)&&xt.controlled&&Pe.type==="number"&&wt(Pe,"number",Pe.value)}switch(xt=Se?ec(Se):window,o){case"focusin":(Lt(xt)||xt.contentEditable==="true")&&(Yr=xt,Kt=Se,Lr=null);break;case"focusout":Lr=Kt=Yr=null;break;case"mousedown":Bn=!0;break;case"contextmenu":case"mouseup":case"dragend":Bn=!1,hs(De,w,Te);break;case"selectionchange":if(Ti)break;case"keydown":case"keyup":hs(De,w,Te)}var vt;if(ao)e:{switch(o){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Ln?Tf(o,w)&&(Et="onCompositionEnd"):o==="keydown"&&w.keyCode===229&&(Et="onCompositionStart");Et&&(ki&&w.locale!=="ko"&&(Ln||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ln&&(vt=Nf()):(ya=Te,yu="value"in ya?ya.value:ya.textContent,Ln=!0)),xt=Mf(Se,Et),0<xt.length&&(Et=new ir(Et,o,null,w,Te),De.push({event:Et,listeners:xt}),vt?Et.data=vt:(vt=Cu(w),vt!==null&&(Et.data=vt)))),(vt=jf?$m(o,w):_u(o,w))&&(Se=Mf(Se,"onBeforeInput"),0<Se.length&&(Te=new ir("onBeforeInput","beforeinput",null,w,Te),De.push({event:Te,listeners:Se}),Te.data=vt))}Kw(De,d)})}function Pu(o,d,w){return{instance:o,listener:d,currentTarget:w}}function Mf(o,d){for(var w=d+"Capture",A=[];o!==null;){var k=o,T=k.stateNode;k.tag===5&&T!==null&&(k=T,T=_r(o,w),T!=null&&A.unshift(Pu(o,T,k)),T=_r(o,d),T!=null&&A.push(Pu(o,T,k))),o=o.return}return A}function Ql(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Yw(o,d,w,A,k){for(var T=d._reactName,U=[];w!==null&&w!==A;){var Y=w,re=Y.alternate,Se=Y.stateNode;if(re!==null&&re===A)break;Y.tag===5&&Se!==null&&(Y=Se,k?(re=_r(w,T),re!=null&&U.unshift(Pu(w,re,Y))):k||(re=_r(w,T),re!=null&&U.push(Pu(w,re,Y)))),w=w.return}U.length!==0&&o.push({event:d,listeners:U})}var y8=/\r\n?/g,b8=/\u0000|\uFFFD/g;function Zw(o){return(typeof o=="string"?o:""+o).replace(y8,`
`).replace(b8,"")}function Lf(o,d,w){if(d=Zw(d),Zw(o)!==d&&w)throw Error(r(425))}function Bf(){}var Gm=null,Km=null;function Xm(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,w8=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,E8=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function(o){return Qw.resolve(null).then(o).catch(S8)}:Ym;function S8(o){setTimeout(function(){throw o})}function Zm(o,d){var w=d,A=0;do{var k=w.nextSibling;if(o.removeChild(w),k&&k.nodeType===8)if(w=k.data,w==="/$"){if(A===0){o.removeChild(k),va(d);return}A--}else w!=="$"&&w!=="$?"&&w!=="$!"||A++;w=k}while(w);va(d)}function lo(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function Jw(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="$"||w==="$!"||w==="$?"){if(d===0)return o;d--}else w==="/$"&&d++}o=o.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),Ua="__reactFiber$"+Jl,ju="__reactProps$"+Jl,ps="__reactContainer$"+Jl,Qm="__reactEvents$"+Jl,A8="__reactListeners$"+Jl,C8="__reactHandles$"+Jl;function Ko(o){var d=o[Ua];if(d)return d;for(var w=o.parentNode;w;){if(d=w[ps]||w[Ua]){if(w=d.alternate,d.child!==null||w!==null&&w.child!==null)for(o=Jw(o);o!==null;){if(w=o[Ua])return w;o=Jw(o)}return d}o=w,w=o.parentNode}return null}function ku(o){return o=o[Ua]||o[ps],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ec(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Ff(o){return o[ju]||null}var Jm=[],tc=-1;function co(o){return{current:o}}function wr(o){0>tc||(o.current=Jm[tc],Jm[tc]=null,tc--)}function gr(o,d){tc++,Jm[tc]=o.current,o.current=d}var uo={},Qn=co(uo),mi=co(!1),Xo=uo;function rc(o,d){var w=o.type.contextTypes;if(!w)return uo;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var k={},T;for(T in w)k[T]=d[T];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=k),k}function gi(o){return o=o.childContextTypes,o!=null}function zf(){wr(mi),wr(Qn)}function e2(o,d,w){if(Qn.current!==uo)throw Error(r(168));gr(Qn,d),gr(mi,w)}function t2(o,d,w){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var k in A)if(!(k in d))throw Error(r(108,_e(o)||"Unknown",k));return ve({},w,A)}function Uf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||uo,Xo=Qn.current,gr(Qn,o),gr(mi,mi.current),!0}function r2(o,d,w){var A=o.stateNode;if(!A)throw Error(r(169));w?(o=t2(o,d,Xo),A.__reactInternalMemoizedMergedChildContext=o,wr(mi),wr(Qn),gr(Qn,o)):wr(mi),gr(mi,w)}var ms=null,$f=!1,eg=!1;function n2(o){ms===null?ms=[o]:ms.push(o)}function _8(o){$f=!0,n2(o)}function fo(){if(!eg&&ms!==null){eg=!0;var o=0,d=Pt;try{var w=ms;for(Pt=1;o<w.length;o++){var A=w[o];do A=A(!0);while(A!==null)}ms=null,$f=!1}catch(k){throw ms!==null&&(ms=ms.slice(o+1)),An(Ie,fo),k}finally{Pt=d,eg=!1}}return null}var nc=[],ic=0,Wf=null,Vf=0,Yi=[],Zi=0,Yo=null,gs=1,xs="";function Zo(o,d){nc[ic++]=Vf,nc[ic++]=Wf,Wf=o,Vf=d}function i2(o,d,w){Yi[Zi++]=gs,Yi[Zi++]=xs,Yi[Zi++]=Yo,Yo=o;var A=gs;o=xs;var k=32-li(A)-1;A&=~(1<<k),w+=1;var T=32-li(d)+k;if(30<T){var U=k-k%5;T=(A&(1<<U)-1).toString(32),A>>=U,k-=U,gs=1<<32-li(d)+k|w<<k|A,xs=T+o}else gs=1<<T|w<<k|A,xs=o}function tg(o){o.return!==null&&(Zo(o,1),i2(o,1,0))}function rg(o){for(;o===Wf;)Wf=nc[--ic],nc[ic]=null,Vf=nc[--ic],nc[ic]=null;for(;o===Yo;)Yo=Yi[--Zi],Yi[Zi]=null,xs=Yi[--Zi],Yi[Zi]=null,gs=Yi[--Zi],Yi[Zi]=null}var Ri=null,Di=null,Or=!1,wa=null;function a2(o,d){var w=ta(5,null,null,0);w.elementType="DELETED",w.stateNode=d,w.return=o,d=o.deletions,d===null?(o.deletions=[w],o.flags|=16):d.push(w)}function s2(o,d){switch(o.tag){case 5:var w=o.type;return d=d.nodeType!==1||w.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,Ri=o,Di=lo(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,Ri=o,Di=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(w=Yo!==null?{id:gs,overflow:xs}:null,o.memoizedState={dehydrated:d,treeContext:w,retryLane:1073741824},w=ta(18,null,null,0),w.stateNode=d,w.return=o,o.child=w,Ri=o,Di=null,!0):!1;default:return!1}}function ng(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ig(o){if(Or){var d=Di;if(d){var w=d;if(!s2(o,d)){if(ng(o))throw Error(r(418));d=lo(w.nextSibling);var A=Ri;d&&s2(o,d)?a2(A,w):(o.flags=o.flags&-4097|2,Or=!1,Ri=o)}}else{if(ng(o))throw Error(r(418));o.flags=o.flags&-4097|2,Or=!1,Ri=o}}}function o2(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ri=o}function Hf(o){if(o!==Ri)return!1;if(!Or)return o2(o),Or=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Xm(o.type,o.memoizedProps)),d&&(d=Di)){if(ng(o))throw l2(),Error(r(418));for(;d;)a2(o,d),d=lo(d.nextSibling)}if(o2(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="/$"){if(d===0){Di=lo(o.nextSibling);break e}d--}else w!=="$"&&w!=="$!"&&w!=="$?"||d++}o=o.nextSibling}Di=null}}else Di=Ri?lo(o.stateNode.nextSibling):null;return!0}function l2(){for(var o=Di;o;)o=lo(o.nextSibling)}function ac(){Di=Ri=null,Or=!1}function ag(o){wa===null?wa=[o]:wa.push(o)}var N8=B.ReactCurrentBatchConfig;function Tu(o,d,w){if(o=w.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var A=w.stateNode}if(!A)throw Error(r(147,o));var k=A,T=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===T?d.ref:(d=function(U){var Y=k.refs;U===null?delete Y[T]:Y[T]=U},d._stringRef=T,d)}if(typeof o!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,o))}return o}function qf(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function c2(o){var d=o._init;return d(o._payload)}function u2(o){function d(fe,ae){if(o){var xe=fe.deletions;xe===null?(fe.deletions=[ae],fe.flags|=16):xe.push(ae)}}function w(fe,ae){if(!o)return null;for(;ae!==null;)d(fe,ae),ae=ae.sibling;return null}function A(fe,ae){for(fe=new Map;ae!==null;)ae.key!==null?fe.set(ae.key,ae):fe.set(ae.index,ae),ae=ae.sibling;return fe}function k(fe,ae){return fe=bo(fe,ae),fe.index=0,fe.sibling=null,fe}function T(fe,ae,xe){return fe.index=xe,o?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<ae?(fe.flags|=2,ae):xe):(fe.flags|=2,ae)):(fe.flags|=1048576,ae)}function U(fe){return o&&fe.alternate===null&&(fe.flags|=2),fe}function Y(fe,ae,xe,Fe){return ae===null||ae.tag!==6?(ae=Yg(xe,fe.mode,Fe),ae.return=fe,ae):(ae=k(ae,xe),ae.return=fe,ae)}function re(fe,ae,xe,Fe){var lt=xe.type;return lt===H?Te(fe,ae,xe.props.children,Fe,xe.key):ae!==null&&(ae.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Re&&c2(lt)===ae.type)?(Fe=k(ae,xe.props),Fe.ref=Tu(fe,ae,xe),Fe.return=fe,Fe):(Fe=gh(xe.type,xe.key,xe.props,null,fe.mode,Fe),Fe.ref=Tu(fe,ae,xe),Fe.return=fe,Fe)}function Se(fe,ae,xe,Fe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==xe.containerInfo||ae.stateNode.implementation!==xe.implementation?(ae=Zg(xe,fe.mode,Fe),ae.return=fe,ae):(ae=k(ae,xe.children||[]),ae.return=fe,ae)}function Te(fe,ae,xe,Fe,lt){return ae===null||ae.tag!==7?(ae=al(xe,fe.mode,Fe,lt),ae.return=fe,ae):(ae=k(ae,xe),ae.return=fe,ae)}function De(fe,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=Yg(""+ae,fe.mode,xe),ae.return=fe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case W:return xe=gh(ae.type,ae.key,ae.props,null,fe.mode,xe),xe.ref=Tu(fe,null,ae),xe.return=fe,xe;case $:return ae=Zg(ae,fe.mode,xe),ae.return=fe,ae;case Re:var Fe=ae._init;return De(fe,Fe(ae._payload),xe)}if(en(ae)||ue(ae))return ae=al(ae,fe.mode,xe,null),ae.return=fe,ae;qf(fe,ae)}return null}function Pe(fe,ae,xe,Fe){var lt=ae!==null?ae.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return lt!==null?null:Y(fe,ae,""+xe,Fe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case W:return xe.key===lt?re(fe,ae,xe,Fe):null;case $:return xe.key===lt?Se(fe,ae,xe,Fe):null;case Re:return lt=xe._init,Pe(fe,ae,lt(xe._payload),Fe)}if(en(xe)||ue(xe))return lt!==null?null:Te(fe,ae,xe,Fe,null);qf(fe,xe)}return null}function Ze(fe,ae,xe,Fe,lt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return fe=fe.get(xe)||null,Y(ae,fe,""+Fe,lt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case W:return fe=fe.get(Fe.key===null?xe:Fe.key)||null,re(ae,fe,Fe,lt);case $:return fe=fe.get(Fe.key===null?xe:Fe.key)||null,Se(ae,fe,Fe,lt);case Re:var xt=Fe._init;return Ze(fe,ae,xe,xt(Fe._payload),lt)}if(en(Fe)||ue(Fe))return fe=fe.get(xe)||null,Te(ae,fe,Fe,lt,null);qf(ae,Fe)}return null}function at(fe,ae,xe,Fe){for(var lt=null,xt=null,vt=ae,Et=ae=0,On=null;vt!==null&&Et<xe.length;Et++){vt.index>Et?(On=vt,vt=null):On=vt.sibling;var Ht=Pe(fe,vt,xe[Et],Fe);if(Ht===null){vt===null&&(vt=On);break}o&&vt&&Ht.alternate===null&&d(fe,vt),ae=T(Ht,ae,Et),xt===null?lt=Ht:xt.sibling=Ht,xt=Ht,vt=On}if(Et===xe.length)return w(fe,vt),Or&&Zo(fe,Et),lt;if(vt===null){for(;Et<xe.length;Et++)vt=De(fe,xe[Et],Fe),vt!==null&&(ae=T(vt,ae,Et),xt===null?lt=vt:xt.sibling=vt,xt=vt);return Or&&Zo(fe,Et),lt}for(vt=A(fe,vt);Et<xe.length;Et++)On=Ze(vt,fe,Et,xe[Et],Fe),On!==null&&(o&&On.alternate!==null&&vt.delete(On.key===null?Et:On.key),ae=T(On,ae,Et),xt===null?lt=On:xt.sibling=On,xt=On);return o&&vt.forEach(function(wo){return d(fe,wo)}),Or&&Zo(fe,Et),lt}function ot(fe,ae,xe,Fe){var lt=ue(xe);if(typeof lt!="function")throw Error(r(150));if(xe=lt.call(xe),xe==null)throw Error(r(151));for(var xt=lt=null,vt=ae,Et=ae=0,On=null,Ht=xe.next();vt!==null&&!Ht.done;Et++,Ht=xe.next()){vt.index>Et?(On=vt,vt=null):On=vt.sibling;var wo=Pe(fe,vt,Ht.value,Fe);if(wo===null){vt===null&&(vt=On);break}o&&vt&&wo.alternate===null&&d(fe,vt),ae=T(wo,ae,Et),xt===null?lt=wo:xt.sibling=wo,xt=wo,vt=On}if(Ht.done)return w(fe,vt),Or&&Zo(fe,Et),lt;if(vt===null){for(;!Ht.done;Et++,Ht=xe.next())Ht=De(fe,Ht.value,Fe),Ht!==null&&(ae=T(Ht,ae,Et),xt===null?lt=Ht:xt.sibling=Ht,xt=Ht);return Or&&Zo(fe,Et),lt}for(vt=A(fe,vt);!Ht.done;Et++,Ht=xe.next())Ht=Ze(vt,fe,Et,Ht.value,Fe),Ht!==null&&(o&&Ht.alternate!==null&&vt.delete(Ht.key===null?Et:Ht.key),ae=T(Ht,ae,Et),xt===null?lt=Ht:xt.sibling=Ht,xt=Ht);return o&&vt.forEach(function(s6){return d(fe,s6)}),Or&&Zo(fe,Et),lt}function Zr(fe,ae,xe,Fe){if(typeof xe=="object"&&xe!==null&&xe.type===H&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case W:e:{for(var lt=xe.key,xt=ae;xt!==null;){if(xt.key===lt){if(lt=xe.type,lt===H){if(xt.tag===7){w(fe,xt.sibling),ae=k(xt,xe.props.children),ae.return=fe,fe=ae;break e}}else if(xt.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Re&&c2(lt)===xt.type){w(fe,xt.sibling),ae=k(xt,xe.props),ae.ref=Tu(fe,xt,xe),ae.return=fe,fe=ae;break e}w(fe,xt);break}else d(fe,xt);xt=xt.sibling}xe.type===H?(ae=al(xe.props.children,fe.mode,Fe,xe.key),ae.return=fe,fe=ae):(Fe=gh(xe.type,xe.key,xe.props,null,fe.mode,Fe),Fe.ref=Tu(fe,ae,xe),Fe.return=fe,fe=Fe)}return U(fe);case $:e:{for(xt=xe.key;ae!==null;){if(ae.key===xt)if(ae.tag===4&&ae.stateNode.containerInfo===xe.containerInfo&&ae.stateNode.implementation===xe.implementation){w(fe,ae.sibling),ae=k(ae,xe.children||[]),ae.return=fe,fe=ae;break e}else{w(fe,ae);break}else d(fe,ae);ae=ae.sibling}ae=Zg(xe,fe.mode,Fe),ae.return=fe,fe=ae}return U(fe);case Re:return xt=xe._init,Zr(fe,ae,xt(xe._payload),Fe)}if(en(xe))return at(fe,ae,xe,Fe);if(ue(xe))return ot(fe,ae,xe,Fe);qf(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,ae!==null&&ae.tag===6?(w(fe,ae.sibling),ae=k(ae,xe),ae.return=fe,fe=ae):(w(fe,ae),ae=Yg(xe,fe.mode,Fe),ae.return=fe,fe=ae),U(fe)):w(fe,ae)}return Zr}var sc=u2(!0),d2=u2(!1),Gf=co(null),Kf=null,oc=null,sg=null;function og(){sg=oc=Kf=null}function lg(o){var d=Gf.current;wr(Gf),o._currentValue=d}function cg(o,d,w){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===w)break;o=o.return}}function lc(o,d){Kf=o,sg=oc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(xi=!0),o.firstContext=null)}function Qi(o){var d=o._currentValue;if(sg!==o)if(o={context:o,memoizedValue:d,next:null},oc===null){if(Kf===null)throw Error(r(308));oc=o,Kf.dependencies={lanes:0,firstContext:o}}else oc=oc.next=o;return d}var Qo=null;function ug(o){Qo===null?Qo=[o]:Qo.push(o)}function f2(o,d,w,A){var k=d.interleaved;return k===null?(w.next=w,ug(d)):(w.next=k.next,k.next=w),d.interleaved=w,vs(o,A)}function vs(o,d){o.lanes|=d;var w=o.alternate;for(w!==null&&(w.lanes|=d),w=o,o=o.return;o!==null;)o.childLanes|=d,w=o.alternate,w!==null&&(w.childLanes|=d),w=o,o=o.return;return w.tag===3?w.stateNode:null}var ho=!1;function dg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h2(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ys(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function po(o,d,w){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Vt&2)!==0){var k=A.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),A.pending=d,vs(o,w)}return k=A.interleaved,k===null?(d.next=d,ug(A)):(d.next=k.next,k.next=d),A.interleaved=d,vs(o,w)}function Xf(o,d,w){if(d=d.updateQueue,d!==null&&(d=d.shared,(w&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,Ur(o,w)}}function p2(o,d){var w=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var k=null,T=null;if(w=w.firstBaseUpdate,w!==null){do{var U={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};T===null?k=T=U:T=T.next=U,w=w.next}while(w!==null);T===null?k=T=d:T=T.next=d}else k=T=d;w={baseState:A.baseState,firstBaseUpdate:k,lastBaseUpdate:T,shared:A.shared,effects:A.effects},o.updateQueue=w;return}o=w.lastBaseUpdate,o===null?w.firstBaseUpdate=d:o.next=d,w.lastBaseUpdate=d}function Yf(o,d,w,A){var k=o.updateQueue;ho=!1;var T=k.firstBaseUpdate,U=k.lastBaseUpdate,Y=k.shared.pending;if(Y!==null){k.shared.pending=null;var re=Y,Se=re.next;re.next=null,U===null?T=Se:U.next=Se,U=re;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,Y=Te.lastBaseUpdate,Y!==U&&(Y===null?Te.firstBaseUpdate=Se:Y.next=Se,Te.lastBaseUpdate=re))}if(T!==null){var De=k.baseState;U=0,Te=Se=re=null,Y=T;do{var Pe=Y.lane,Ze=Y.eventTime;if((A&Pe)===Pe){Te!==null&&(Te=Te.next={eventTime:Ze,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var at=o,ot=Y;switch(Pe=d,Ze=w,ot.tag){case 1:if(at=ot.payload,typeof at=="function"){De=at.call(Ze,De,Pe);break e}De=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ot.payload,Pe=typeof at=="function"?at.call(Ze,De,Pe):at,Pe==null)break e;De=ve({},De,Pe);break e;case 2:ho=!0}}Y.callback!==null&&Y.lane!==0&&(o.flags|=64,Pe=k.effects,Pe===null?k.effects=[Y]:Pe.push(Y))}else Ze={eventTime:Ze,lane:Pe,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Te===null?(Se=Te=Ze,re=De):Te=Te.next=Ze,U|=Pe;if(Y=Y.next,Y===null){if(Y=k.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,k.lastBaseUpdate=Pe,k.shared.pending=null}}while(!0);if(Te===null&&(re=De),k.baseState=re,k.firstBaseUpdate=Se,k.lastBaseUpdate=Te,d=k.shared.interleaved,d!==null){k=d;do U|=k.lane,k=k.next;while(k!==d)}else T===null&&(k.shared.lanes=0);tl|=U,o.lanes=U,o.memoizedState=De}}function m2(o,d,w){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],k=A.callback;if(k!==null){if(A.callback=null,A=w,typeof k!="function")throw Error(r(191,k));k.call(A)}}}var Ru={},$a=co(Ru),Du=co(Ru),Mu=co(Ru);function Jo(o){if(o===Ru)throw Error(r(174));return o}function fg(o,d){switch(gr(Mu,d),gr(Du,o),gr($a,Ru),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ss(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=ss(d,o)}wr($a),gr($a,d)}function cc(){wr($a),wr(Du),wr(Mu)}function g2(o){Jo(Mu.current);var d=Jo($a.current),w=ss(d,o.type);d!==w&&(gr(Du,o),gr($a,w))}function hg(o){Du.current===o&&(wr($a),wr(Du))}var Br=co(0);function Zf(o){for(var d=o;d!==null;){if(d.tag===13){var w=d.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var pg=[];function mg(){for(var o=0;o<pg.length;o++)pg[o]._workInProgressVersionPrimary=null;pg.length=0}var Qf=B.ReactCurrentDispatcher,gg=B.ReactCurrentBatchConfig,el=0,Fr=null,gn=null,_n=null,Jf=!1,Lu=!1,Bu=0,O8=0;function Jn(){throw Error(r(321))}function xg(o,d){if(d===null)return!1;for(var w=0;w<d.length&&w<o.length;w++)if(!ce(o[w],d[w]))return!1;return!0}function vg(o,d,w,A,k,T){if(el=T,Fr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Qf.current=o===null||o.memoizedState===null?k8:T8,o=w(A,k),Lu){T=0;do{if(Lu=!1,Bu=0,25<=T)throw Error(r(301));T+=1,_n=gn=null,d.updateQueue=null,Qf.current=R8,o=w(A,k)}while(Lu)}if(Qf.current=rh,d=gn!==null&&gn.next!==null,el=0,_n=gn=Fr=null,Jf=!1,d)throw Error(r(300));return o}function yg(){var o=Bu!==0;return Bu=0,o}function Wa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Fr.memoizedState=_n=o:_n=_n.next=o,_n}function Ji(){if(gn===null){var o=Fr.alternate;o=o!==null?o.memoizedState:null}else o=gn.next;var d=_n===null?Fr.memoizedState:_n.next;if(d!==null)_n=d,gn=o;else{if(o===null)throw Error(r(310));gn=o,o={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},_n===null?Fr.memoizedState=_n=o:_n=_n.next=o}return _n}function Fu(o,d){return typeof d=="function"?d(o):d}function bg(o){var d=Ji(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=gn,k=A.baseQueue,T=w.pending;if(T!==null){if(k!==null){var U=k.next;k.next=T.next,T.next=U}A.baseQueue=k=T,w.pending=null}if(k!==null){T=k.next,A=A.baseState;var Y=U=null,re=null,Se=T;do{var Te=Se.lane;if((el&Te)===Te)re!==null&&(re=re.next={lane:0,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),A=Se.hasEagerState?Se.eagerState:o(A,Se.action);else{var De={lane:Te,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null};re===null?(Y=re=De,U=A):re=re.next=De,Fr.lanes|=Te,tl|=Te}Se=Se.next}while(Se!==null&&Se!==T);re===null?U=A:re.next=Y,ce(A,d.memoizedState)||(xi=!0),d.memoizedState=A,d.baseState=U,d.baseQueue=re,w.lastRenderedState=A}if(o=w.interleaved,o!==null){k=o;do T=k.lane,Fr.lanes|=T,tl|=T,k=k.next;while(k!==o)}else k===null&&(w.lanes=0);return[d.memoizedState,w.dispatch]}function wg(o){var d=Ji(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=w.dispatch,k=w.pending,T=d.memoizedState;if(k!==null){w.pending=null;var U=k=k.next;do T=o(T,U.action),U=U.next;while(U!==k);ce(T,d.memoizedState)||(xi=!0),d.memoizedState=T,d.baseQueue===null&&(d.baseState=T),w.lastRenderedState=T}return[T,A]}function x2(){}function v2(o,d){var w=Fr,A=Ji(),k=d(),T=!ce(A.memoizedState,k);if(T&&(A.memoizedState=k,xi=!0),A=A.queue,Eg(w2.bind(null,w,A,o),[o]),A.getSnapshot!==d||T||_n!==null&&_n.memoizedState.tag&1){if(w.flags|=2048,zu(9,b2.bind(null,w,A,k,d),void 0,null),Nn===null)throw Error(r(349));(el&30)!==0||y2(w,d,k)}return k}function y2(o,d,w){o.flags|=16384,o={getSnapshot:d,value:w},d=Fr.updateQueue,d===null?(d={lastEffect:null,stores:null},Fr.updateQueue=d,d.stores=[o]):(w=d.stores,w===null?d.stores=[o]:w.push(o))}function b2(o,d,w,A){d.value=w,d.getSnapshot=A,E2(d)&&S2(o)}function w2(o,d,w){return w(function(){E2(d)&&S2(o)})}function E2(o){var d=o.getSnapshot;o=o.value;try{var w=d();return!ce(o,w)}catch{return!0}}function S2(o){var d=vs(o,1);d!==null&&Ca(d,o,1,-1)}function A2(o){var d=Wa();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:o},d.queue=o,o=o.dispatch=j8.bind(null,Fr,o),[d.memoizedState,o]}function zu(o,d,w,A){return o={tag:o,create:d,destroy:w,deps:A,next:null},d=Fr.updateQueue,d===null?(d={lastEffect:null,stores:null},Fr.updateQueue=d,d.lastEffect=o.next=o):(w=d.lastEffect,w===null?d.lastEffect=o.next=o:(A=w.next,w.next=o,o.next=A,d.lastEffect=o)),o}function C2(){return Ji().memoizedState}function eh(o,d,w,A){var k=Wa();Fr.flags|=o,k.memoizedState=zu(1|d,w,void 0,A===void 0?null:A)}function th(o,d,w,A){var k=Ji();A=A===void 0?null:A;var T=void 0;if(gn!==null){var U=gn.memoizedState;if(T=U.destroy,A!==null&&xg(A,U.deps)){k.memoizedState=zu(d,w,T,A);return}}Fr.flags|=o,k.memoizedState=zu(1|d,w,T,A)}function _2(o,d){return eh(8390656,8,o,d)}function Eg(o,d){return th(2048,8,o,d)}function N2(o,d){return th(4,2,o,d)}function O2(o,d){return th(4,4,o,d)}function I2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function P2(o,d,w){return w=w!=null?w.concat([o]):null,th(4,4,I2.bind(null,d,o),w)}function Sg(){}function j2(o,d){var w=Ji();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&xg(d,A[1])?A[0]:(w.memoizedState=[o,d],o)}function k2(o,d){var w=Ji();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&xg(d,A[1])?A[0]:(o=o(),w.memoizedState=[o,d],o)}function T2(o,d,w){return(el&21)===0?(o.baseState&&(o.baseState=!1,xi=!0),o.memoizedState=w):(ce(w,d)||(w=fn(),Fr.lanes|=w,tl|=w,o.baseState=!0),d)}function I8(o,d){var w=Pt;Pt=w!==0&&4>w?w:4,o(!0);var A=gg.transition;gg.transition={};try{o(!1),d()}finally{Pt=w,gg.transition=A}}function R2(){return Ji().memoizedState}function P8(o,d,w){var A=vo(o);if(w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},D2(o))M2(d,w);else if(w=f2(o,d,w,A),w!==null){var k=ui();Ca(w,o,A,k),L2(w,d,A)}}function j8(o,d,w){var A=vo(o),k={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(D2(o))M2(d,k);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=d.lastRenderedReducer,T!==null))try{var U=d.lastRenderedState,Y=T(U,w);if(k.hasEagerState=!0,k.eagerState=Y,ce(Y,U)){var re=d.interleaved;re===null?(k.next=k,ug(d)):(k.next=re.next,re.next=k),d.interleaved=k;return}}catch{}finally{}w=f2(o,d,k,A),w!==null&&(k=ui(),Ca(w,o,A,k),L2(w,d,A))}}function D2(o){var d=o.alternate;return o===Fr||d!==null&&d===Fr}function M2(o,d){Lu=Jf=!0;var w=o.pending;w===null?d.next=d:(d.next=w.next,w.next=d),o.pending=d}function L2(o,d,w){if((w&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,Ur(o,w)}}var rh={readContext:Qi,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},k8={readContext:Qi,useCallback:function(o,d){return Wa().memoizedState=[o,d===void 0?null:d],o},useContext:Qi,useEffect:_2,useImperativeHandle:function(o,d,w){return w=w!=null?w.concat([o]):null,eh(4194308,4,I2.bind(null,d,o),w)},useLayoutEffect:function(o,d){return eh(4194308,4,o,d)},useInsertionEffect:function(o,d){return eh(4,2,o,d)},useMemo:function(o,d){var w=Wa();return d=d===void 0?null:d,o=o(),w.memoizedState=[o,d],o},useReducer:function(o,d,w){var A=Wa();return d=w!==void 0?w(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=P8.bind(null,Fr,o),[A.memoizedState,o]},useRef:function(o){var d=Wa();return o={current:o},d.memoizedState=o},useState:A2,useDebugValue:Sg,useDeferredValue:function(o){return Wa().memoizedState=o},useTransition:function(){var o=A2(!1),d=o[0];return o=I8.bind(null,o[1]),Wa().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,w){var A=Fr,k=Wa();if(Or){if(w===void 0)throw Error(r(407));w=w()}else{if(w=d(),Nn===null)throw Error(r(349));(el&30)!==0||y2(A,d,w)}k.memoizedState=w;var T={value:w,getSnapshot:d};return k.queue=T,_2(w2.bind(null,A,T,o),[o]),A.flags|=2048,zu(9,b2.bind(null,A,T,w,d),void 0,null),w},useId:function(){var o=Wa(),d=Nn.identifierPrefix;if(Or){var w=xs,A=gs;w=(A&~(1<<32-li(A)-1)).toString(32)+w,d=":"+d+"R"+w,w=Bu++,0<w&&(d+="H"+w.toString(32)),d+=":"}else w=O8++,d=":"+d+"r"+w.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},T8={readContext:Qi,useCallback:j2,useContext:Qi,useEffect:Eg,useImperativeHandle:P2,useInsertionEffect:N2,useLayoutEffect:O2,useMemo:k2,useReducer:bg,useRef:C2,useState:function(){return bg(Fu)},useDebugValue:Sg,useDeferredValue:function(o){var d=Ji();return T2(d,gn.memoizedState,o)},useTransition:function(){var o=bg(Fu)[0],d=Ji().memoizedState;return[o,d]},useMutableSource:x2,useSyncExternalStore:v2,useId:R2,unstable_isNewReconciler:!1},R8={readContext:Qi,useCallback:j2,useContext:Qi,useEffect:Eg,useImperativeHandle:P2,useInsertionEffect:N2,useLayoutEffect:O2,useMemo:k2,useReducer:wg,useRef:C2,useState:function(){return wg(Fu)},useDebugValue:Sg,useDeferredValue:function(o){var d=Ji();return gn===null?d.memoizedState=o:T2(d,gn.memoizedState,o)},useTransition:function(){var o=wg(Fu)[0],d=Ji().memoizedState;return[o,d]},useMutableSource:x2,useSyncExternalStore:v2,useId:R2,unstable_isNewReconciler:!1};function Ea(o,d){if(o&&o.defaultProps){d=ve({},d),o=o.defaultProps;for(var w in o)d[w]===void 0&&(d[w]=o[w]);return d}return d}function Ag(o,d,w,A){d=o.memoizedState,w=w(A,d),w=w==null?d:ve({},d,w),o.memoizedState=w,o.lanes===0&&(o.updateQueue.baseState=w)}var nh={isMounted:function(o){return(o=o._reactInternals)?Je(o)===o:!1},enqueueSetState:function(o,d,w){o=o._reactInternals;var A=ui(),k=vo(o),T=ys(A,k);T.payload=d,w!=null&&(T.callback=w),d=po(o,T,k),d!==null&&(Ca(d,o,k,A),Xf(d,o,k))},enqueueReplaceState:function(o,d,w){o=o._reactInternals;var A=ui(),k=vo(o),T=ys(A,k);T.tag=1,T.payload=d,w!=null&&(T.callback=w),d=po(o,T,k),d!==null&&(Ca(d,o,k,A),Xf(d,o,k))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var w=ui(),A=vo(o),k=ys(w,A);k.tag=2,d!=null&&(k.callback=d),d=po(o,k,A),d!==null&&(Ca(d,o,A,w),Xf(d,o,A))}};function B2(o,d,w,A,k,T,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,T,U):d.prototype&&d.prototype.isPureReactComponent?!be(w,A)||!be(k,T):!0}function F2(o,d,w){var A=!1,k=uo,T=d.contextType;return typeof T=="object"&&T!==null?T=Qi(T):(k=gi(d)?Xo:Qn.current,A=d.contextTypes,T=(A=A!=null)?rc(o,k):uo),d=new d(w,T),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nh,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=T),d}function z2(o,d,w,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(w,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(w,A),d.state!==o&&nh.enqueueReplaceState(d,d.state,null)}function Cg(o,d,w,A){var k=o.stateNode;k.props=w,k.state=o.memoizedState,k.refs={},dg(o);var T=d.contextType;typeof T=="object"&&T!==null?k.context=Qi(T):(T=gi(d)?Xo:Qn.current,k.context=rc(o,T)),k.state=o.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Ag(o,d,T,w),k.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(d=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),d!==k.state&&nh.enqueueReplaceState(k,k.state,null),Yf(o,w,k,A),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function uc(o,d){try{var w="",A=d;do w+=Ge(A),A=A.return;while(A);var k=w}catch(T){k=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:d,stack:k,digest:null}}function _g(o,d,w){return{value:o,source:null,stack:w??null,digest:d??null}}function Ng(o,d){try{console.error(d.value)}catch(w){setTimeout(function(){throw w})}}var D8=typeof WeakMap=="function"?WeakMap:Map;function U2(o,d,w){w=ys(-1,w),w.tag=3,w.payload={element:null};var A=d.value;return w.callback=function(){uh||(uh=!0,$g=A),Ng(o,d)},w}function $2(o,d,w){w=ys(-1,w),w.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var k=d.value;w.payload=function(){return A(k)},w.callback=function(){Ng(o,d)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(w.callback=function(){Ng(o,d),typeof A!="function"&&(go===null?go=new Set([this]):go.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),w}function W2(o,d,w){var A=o.pingCache;if(A===null){A=o.pingCache=new D8;var k=new Set;A.set(d,k)}else k=A.get(d),k===void 0&&(k=new Set,A.set(d,k));k.has(w)||(k.add(w),o=X8.bind(null,o,d,w),d.then(o,o))}function V2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function H2(o,d,w,A,k){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(d=ys(-1,1),d.tag=2,po(w,d,1))),w.lanes|=1),o):(o.flags|=65536,o.lanes=k,o)}var M8=B.ReactCurrentOwner,xi=!1;function ci(o,d,w,A){d.child=o===null?d2(d,null,w,A):sc(d,o.child,w,A)}function q2(o,d,w,A,k){w=w.render;var T=d.ref;return lc(d,k),A=vg(o,d,w,A,T,k),w=yg(),o!==null&&!xi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~k,bs(o,d,k)):(Or&&w&&tg(d),d.flags|=1,ci(o,d,A,k),d.child)}function G2(o,d,w,A,k){if(o===null){var T=w.type;return typeof T=="function"&&!Xg(T)&&T.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(d.tag=15,d.type=T,K2(o,d,T,A,k)):(o=gh(w.type,null,A,d,d.mode,k),o.ref=d.ref,o.return=d,d.child=o)}if(T=o.child,(o.lanes&k)===0){var U=T.memoizedProps;if(w=w.compare,w=w!==null?w:be,w(U,A)&&o.ref===d.ref)return bs(o,d,k)}return d.flags|=1,o=bo(T,A),o.ref=d.ref,o.return=d,d.child=o}function K2(o,d,w,A,k){if(o!==null){var T=o.memoizedProps;if(be(T,A)&&o.ref===d.ref)if(xi=!1,d.pendingProps=A=T,(o.lanes&k)!==0)(o.flags&131072)!==0&&(xi=!0);else return d.lanes=o.lanes,bs(o,d,k)}return Og(o,d,w,A,k)}function X2(o,d,w){var A=d.pendingProps,k=A.children,T=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(fc,Mi),Mi|=w;else{if((w&1073741824)===0)return o=T!==null?T.baseLanes|w:w,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,gr(fc,Mi),Mi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=T!==null?T.baseLanes:w,gr(fc,Mi),Mi|=A}else T!==null?(A=T.baseLanes|w,d.memoizedState=null):A=w,gr(fc,Mi),Mi|=A;return ci(o,d,k,w),d.child}function Y2(o,d){var w=d.ref;(o===null&&w!==null||o!==null&&o.ref!==w)&&(d.flags|=512,d.flags|=2097152)}function Og(o,d,w,A,k){var T=gi(w)?Xo:Qn.current;return T=rc(d,T),lc(d,k),w=vg(o,d,w,A,T,k),A=yg(),o!==null&&!xi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~k,bs(o,d,k)):(Or&&A&&tg(d),d.flags|=1,ci(o,d,w,k),d.child)}function Z2(o,d,w,A,k){if(gi(w)){var T=!0;Uf(d)}else T=!1;if(lc(d,k),d.stateNode===null)ah(o,d),F2(d,w,A),Cg(d,w,A,k),A=!0;else if(o===null){var U=d.stateNode,Y=d.memoizedProps;U.props=Y;var re=U.context,Se=w.contextType;typeof Se=="object"&&Se!==null?Se=Qi(Se):(Se=gi(w)?Xo:Qn.current,Se=rc(d,Se));var Te=w.getDerivedStateFromProps,De=typeof Te=="function"||typeof U.getSnapshotBeforeUpdate=="function";De||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==A||re!==Se)&&z2(d,U,A,Se),ho=!1;var Pe=d.memoizedState;U.state=Pe,Yf(d,A,U,k),re=d.memoizedState,Y!==A||Pe!==re||mi.current||ho?(typeof Te=="function"&&(Ag(d,w,Te,A),re=d.memoizedState),(Y=ho||B2(d,w,Y,A,Pe,re,Se))?(De||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=re),U.props=A,U.state=re,U.context=Se,A=Y):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{U=d.stateNode,h2(o,d),Y=d.memoizedProps,Se=d.type===d.elementType?Y:Ea(d.type,Y),U.props=Se,De=d.pendingProps,Pe=U.context,re=w.contextType,typeof re=="object"&&re!==null?re=Qi(re):(re=gi(w)?Xo:Qn.current,re=rc(d,re));var Ze=w.getDerivedStateFromProps;(Te=typeof Ze=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==De||Pe!==re)&&z2(d,U,A,re),ho=!1,Pe=d.memoizedState,U.state=Pe,Yf(d,A,U,k);var at=d.memoizedState;Y!==De||Pe!==at||mi.current||ho?(typeof Ze=="function"&&(Ag(d,w,Ze,A),at=d.memoizedState),(Se=ho||B2(d,w,Se,A,Pe,at,re)||!1)?(Te||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,at,re),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,at,re)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===o.memoizedProps&&Pe===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Pe===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=at),U.props=A,U.state=at,U.context=re,A=Se):(typeof U.componentDidUpdate!="function"||Y===o.memoizedProps&&Pe===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&Pe===o.memoizedState||(d.flags|=1024),A=!1)}return Ig(o,d,w,A,T,k)}function Ig(o,d,w,A,k,T){Y2(o,d);var U=(d.flags&128)!==0;if(!A&&!U)return k&&r2(d,w,!1),bs(o,d,T);A=d.stateNode,M8.current=d;var Y=U&&typeof w.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&U?(d.child=sc(d,o.child,null,T),d.child=sc(d,null,Y,T)):ci(o,d,Y,T),d.memoizedState=A.state,k&&r2(d,w,!0),d.child}function Q2(o){var d=o.stateNode;d.pendingContext?e2(o,d.pendingContext,d.pendingContext!==d.context):d.context&&e2(o,d.context,!1),fg(o,d.containerInfo)}function J2(o,d,w,A,k){return ac(),ag(k),d.flags|=256,ci(o,d,w,A),d.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function jg(o){return{baseLanes:o,cachePool:null,transitions:null}}function eE(o,d,w){var A=d.pendingProps,k=Br.current,T=!1,U=(d.flags&128)!==0,Y;if((Y=U)||(Y=o!==null&&o.memoizedState===null?!1:(k&2)!==0),Y?(T=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),gr(Br,k&1),o===null)return ig(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=A.children,o=A.fallback,T?(A=d.mode,T=d.child,U={mode:"hidden",children:U},(A&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=U):T=xh(U,A,0,null),o=al(o,A,w,null),T.return=d,o.return=d,T.sibling=o,d.child=T,d.child.memoizedState=jg(w),d.memoizedState=Pg,o):kg(d,U));if(k=o.memoizedState,k!==null&&(Y=k.dehydrated,Y!==null))return L8(o,d,U,A,Y,k,w);if(T){T=A.fallback,U=d.mode,k=o.child,Y=k.sibling;var re={mode:"hidden",children:A.children};return(U&1)===0&&d.child!==k?(A=d.child,A.childLanes=0,A.pendingProps=re,d.deletions=null):(A=bo(k,re),A.subtreeFlags=k.subtreeFlags&14680064),Y!==null?T=bo(Y,T):(T=al(T,U,w,null),T.flags|=2),T.return=d,A.return=d,A.sibling=T,d.child=A,A=T,T=d.child,U=o.child.memoizedState,U=U===null?jg(w):{baseLanes:U.baseLanes|w,cachePool:null,transitions:U.transitions},T.memoizedState=U,T.childLanes=o.childLanes&~w,d.memoizedState=Pg,A}return T=o.child,o=T.sibling,A=bo(T,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=w),A.return=d,A.sibling=null,o!==null&&(w=d.deletions,w===null?(d.deletions=[o],d.flags|=16):w.push(o)),d.child=A,d.memoizedState=null,A}function kg(o,d){return d=xh({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function ih(o,d,w,A){return A!==null&&ag(A),sc(d,o.child,null,w),o=kg(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function L8(o,d,w,A,k,T,U){if(w)return d.flags&256?(d.flags&=-257,A=_g(Error(r(422))),ih(o,d,U,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(T=A.fallback,k=d.mode,A=xh({mode:"visible",children:A.children},k,0,null),T=al(T,k,U,null),T.flags|=2,A.return=d,T.return=d,A.sibling=T,d.child=A,(d.mode&1)!==0&&sc(d,o.child,null,U),d.child.memoizedState=jg(U),d.memoizedState=Pg,T);if((d.mode&1)===0)return ih(o,d,U,null);if(k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var Y=A.dgst;return A=Y,T=Error(r(419)),A=_g(T,A,void 0),ih(o,d,U,A)}if(Y=(U&o.childLanes)!==0,xi||Y){if(A=Nn,A!==null){switch(U&-U){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(A.suspendedLanes|U))!==0?0:k,k!==0&&k!==T.retryLane&&(T.retryLane=k,vs(o,k),Ca(A,o,k,-1))}return Kg(),A=_g(Error(r(421))),ih(o,d,U,A)}return k.data==="$?"?(d.flags|=128,d.child=o.child,d=Y8.bind(null,o),k._reactRetry=d,null):(o=T.treeContext,Di=lo(k.nextSibling),Ri=d,Or=!0,wa=null,o!==null&&(Yi[Zi++]=gs,Yi[Zi++]=xs,Yi[Zi++]=Yo,gs=o.id,xs=o.overflow,Yo=d),d=kg(d,A.children),d.flags|=4096,d)}function tE(o,d,w){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),cg(o.return,d,w)}function Tg(o,d,w,A,k){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:k}:(T.isBackwards=d,T.rendering=null,T.renderingStartTime=0,T.last=A,T.tail=w,T.tailMode=k)}function rE(o,d,w){var A=d.pendingProps,k=A.revealOrder,T=A.tail;if(ci(o,d,A.children,w),A=Br.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&tE(o,w,d);else if(o.tag===19)tE(o,w,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(gr(Br,A),(d.mode&1)===0)d.memoizedState=null;else switch(k){case"forwards":for(w=d.child,k=null;w!==null;)o=w.alternate,o!==null&&Zf(o)===null&&(k=w),w=w.sibling;w=k,w===null?(k=d.child,d.child=null):(k=w.sibling,w.sibling=null),Tg(d,!1,k,w,T);break;case"backwards":for(w=null,k=d.child,d.child=null;k!==null;){if(o=k.alternate,o!==null&&Zf(o)===null){d.child=k;break}o=k.sibling,k.sibling=w,w=k,k=o}Tg(d,!0,w,null,T);break;case"together":Tg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ah(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function bs(o,d,w){if(o!==null&&(d.dependencies=o.dependencies),tl|=d.lanes,(w&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,w=bo(o,o.pendingProps),d.child=w,w.return=d;o.sibling!==null;)o=o.sibling,w=w.sibling=bo(o,o.pendingProps),w.return=d;w.sibling=null}return d.child}function B8(o,d,w){switch(d.tag){case 3:Q2(d),ac();break;case 5:g2(d);break;case 1:gi(d.type)&&Uf(d);break;case 4:fg(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,k=d.memoizedProps.value;gr(Gf,A._currentValue),A._currentValue=k;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(gr(Br,Br.current&1),d.flags|=128,null):(w&d.child.childLanes)!==0?eE(o,d,w):(gr(Br,Br.current&1),o=bs(o,d,w),o!==null?o.sibling:null);gr(Br,Br.current&1);break;case 19:if(A=(w&d.childLanes)!==0,(o.flags&128)!==0){if(A)return rE(o,d,w);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),gr(Br,Br.current),A)break;return null;case 22:case 23:return d.lanes=0,X2(o,d,w)}return bs(o,d,w)}var nE,Rg,iE,aE;nE=function(o,d){for(var w=d.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Rg=function(){},iE=function(o,d,w,A){var k=o.memoizedProps;if(k!==A){o=d.stateNode,Jo($a.current);var T=null;switch(w){case"input":k=We(o,k),A=We(o,A),T=[];break;case"select":k=ve({},k,{value:void 0}),A=ve({},A,{value:void 0}),T=[];break;case"textarea":k=ma(o,k),A=ma(o,A),T=[];break;default:typeof k.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=Bf)}Bt(w,A);var U;w=null;for(Se in k)if(!A.hasOwnProperty(Se)&&k.hasOwnProperty(Se)&&k[Se]!=null)if(Se==="style"){var Y=k[Se];for(U in Y)Y.hasOwnProperty(U)&&(w||(w={}),w[U]="")}else Se!=="dangerouslySetInnerHTML"&&Se!=="children"&&Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(i.hasOwnProperty(Se)?T||(T=[]):(T=T||[]).push(Se,null));for(Se in A){var re=A[Se];if(Y=k?.[Se],A.hasOwnProperty(Se)&&re!==Y&&(re!=null||Y!=null))if(Se==="style")if(Y){for(U in Y)!Y.hasOwnProperty(U)||re&&re.hasOwnProperty(U)||(w||(w={}),w[U]="");for(U in re)re.hasOwnProperty(U)&&Y[U]!==re[U]&&(w||(w={}),w[U]=re[U])}else w||(T||(T=[]),T.push(Se,w)),w=re;else Se==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,Y=Y?Y.__html:void 0,re!=null&&Y!==re&&(T=T||[]).push(Se,re)):Se==="children"?typeof re!="string"&&typeof re!="number"||(T=T||[]).push(Se,""+re):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&(i.hasOwnProperty(Se)?(re!=null&&Se==="onScroll"&&br("scroll",o),T||Y===re||(T=[])):(T=T||[]).push(Se,re))}w&&(T=T||[]).push("style",w);var Se=T;(d.updateQueue=Se)&&(d.flags|=4)}},aE=function(o,d,w,A){w!==A&&(d.flags|=4)};function Uu(o,d){if(!Or)switch(o.tailMode){case"hidden":d=o.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?o.tail=null:w.sibling=null;break;case"collapsed":w=o.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function ei(o){var d=o.alternate!==null&&o.alternate.child===o.child,w=0,A=0;if(d)for(var k=o.child;k!==null;)w|=k.lanes|k.childLanes,A|=k.subtreeFlags&14680064,A|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)w|=k.lanes|k.childLanes,A|=k.subtreeFlags,A|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=A,o.childLanes=w,d}function F8(o,d,w){var A=d.pendingProps;switch(rg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(d),null;case 1:return gi(d.type)&&zf(),ei(d),null;case 3:return A=d.stateNode,cc(),wr(mi),wr(Qn),mg(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(Hf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,wa!==null&&(Hg(wa),wa=null))),Rg(o,d),ei(d),null;case 5:hg(d);var k=Jo(Mu.current);if(w=d.type,o!==null&&d.stateNode!=null)iE(o,d,w,A,k),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return ei(d),null}if(o=Jo($a.current),Hf(d)){A=d.stateNode,w=d.type;var T=d.memoizedProps;switch(A[Ua]=d,A[ju]=T,o=(d.mode&1)!==0,w){case"dialog":br("cancel",A),br("close",A);break;case"iframe":case"object":case"embed":br("load",A);break;case"video":case"audio":for(k=0;k<Ou.length;k++)br(Ou[k],A);break;case"source":br("error",A);break;case"img":case"image":case"link":br("error",A),br("load",A);break;case"details":br("toggle",A);break;case"input":it(A,T),br("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!T.multiple},br("invalid",A);break;case"textarea":Ys(A,T),br("invalid",A)}Bt(w,T),k=null;for(var U in T)if(T.hasOwnProperty(U)){var Y=T[U];U==="children"?typeof Y=="string"?A.textContent!==Y&&(T.suppressHydrationWarning!==!0&&Lf(A.textContent,Y,o),k=["children",Y]):typeof Y=="number"&&A.textContent!==""+Y&&(T.suppressHydrationWarning!==!0&&Lf(A.textContent,Y,o),k=["children",""+Y]):i.hasOwnProperty(U)&&Y!=null&&U==="onScroll"&&br("scroll",A)}switch(w){case"input":ge(A),_t(A,T,!0);break;case"textarea":ge(A),as(A);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(A.onclick=Bf)}A=k,d.updateQueue=A,A!==null&&(d.flags|=4)}else{U=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Dn(w)),o==="http://www.w3.org/1999/xhtml"?w==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=U.createElement(w,{is:A.is}):(o=U.createElement(w),w==="select"&&(U=o,A.multiple?U.multiple=!0:A.size&&(U.size=A.size))):o=U.createElementNS(o,w),o[Ua]=d,o[ju]=A,nE(o,d,!1,!1),d.stateNode=o;e:{switch(U=Gt(w,A),w){case"dialog":br("cancel",o),br("close",o),k=A;break;case"iframe":case"object":case"embed":br("load",o),k=A;break;case"video":case"audio":for(k=0;k<Ou.length;k++)br(Ou[k],o);k=A;break;case"source":br("error",o),k=A;break;case"img":case"image":case"link":br("error",o),br("load",o),k=A;break;case"details":br("toggle",o),k=A;break;case"input":it(o,A),k=We(o,A),br("invalid",o);break;case"option":k=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},k=ve({},A,{value:void 0}),br("invalid",o);break;case"textarea":Ys(o,A),k=ma(o,A),br("invalid",o);break;default:k=A}Bt(w,k),Y=k;for(T in Y)if(Y.hasOwnProperty(T)){var re=Y[T];T==="style"?Oe(o,re):T==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&ye(o,re)):T==="children"?typeof re=="string"?(w!=="textarea"||re!=="")&&Qe(o,re):typeof re=="number"&&Qe(o,""+re):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?re!=null&&T==="onScroll"&&br("scroll",o):re!=null&&R(o,T,re,U))}switch(w){case"input":ge(o),_t(o,A,!1);break;case"textarea":ge(o),as(o);break;case"option":A.value!=null&&o.setAttribute("value",""+ze(A.value));break;case"select":o.multiple=!!A.multiple,T=A.value,T!=null?Ve(o,!!A.multiple,T,!1):A.defaultValue!=null&&Ve(o,!!A.multiple,A.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=Bf)}switch(w){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ei(d),null;case 6:if(o&&d.stateNode!=null)aE(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(w=Jo(Mu.current),Jo($a.current),Hf(d)){if(A=d.stateNode,w=d.memoizedProps,A[Ua]=d,(T=A.nodeValue!==w)&&(o=Ri,o!==null))switch(o.tag){case 3:Lf(A.nodeValue,w,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Lf(A.nodeValue,w,(o.mode&1)!==0)}T&&(d.flags|=4)}else A=(w.nodeType===9?w:w.ownerDocument).createTextNode(A),A[Ua]=d,d.stateNode=A}return ei(d),null;case 13:if(wr(Br),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Or&&Di!==null&&(d.mode&1)!==0&&(d.flags&128)===0)l2(),ac(),d.flags|=98560,T=!1;else if(T=Hf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ua]=d}else ac(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ei(d),T=!1}else wa!==null&&(Hg(wa),wa=null),T=!0;if(!T)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=w,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Br.current&1)!==0?xn===0&&(xn=3):Kg())),d.updateQueue!==null&&(d.flags|=4),ei(d),null);case 4:return cc(),Rg(o,d),o===null&&Iu(d.stateNode.containerInfo),ei(d),null;case 10:return lg(d.type._context),ei(d),null;case 17:return gi(d.type)&&zf(),ei(d),null;case 19:if(wr(Br),T=d.memoizedState,T===null)return ei(d),null;if(A=(d.flags&128)!==0,U=T.rendering,U===null)if(A)Uu(T,!1);else{if(xn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=Zf(o),U!==null){for(d.flags|=128,Uu(T,!1),A=U.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=w,w=d.child;w!==null;)T=w,o=A,T.flags&=14680066,U=T.alternate,U===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=U.childLanes,T.lanes=U.lanes,T.child=U.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=U.memoizedProps,T.memoizedState=U.memoizedState,T.updateQueue=U.updateQueue,T.type=U.type,o=U.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),w=w.sibling;return gr(Br,Br.current&1|2),d.child}o=o.sibling}T.tail!==null&&Yt()>hc&&(d.flags|=128,A=!0,Uu(T,!1),d.lanes=4194304)}else{if(!A)if(o=Zf(U),o!==null){if(d.flags|=128,A=!0,w=o.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),Uu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!U.alternate&&!Or)return ei(d),null}else 2*Yt()-T.renderingStartTime>hc&&w!==1073741824&&(d.flags|=128,A=!0,Uu(T,!1),d.lanes=4194304);T.isBackwards?(U.sibling=d.child,d.child=U):(w=T.last,w!==null?w.sibling=U:d.child=U,T.last=U)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Yt(),d.sibling=null,w=Br.current,gr(Br,A?w&1|2:w&1),d):(ei(d),null);case 22:case 23:return Gg(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(Mi&1073741824)!==0&&(ei(d),d.subtreeFlags&6&&(d.flags|=8192)):ei(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function z8(o,d){switch(rg(d),d.tag){case 1:return gi(d.type)&&zf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return cc(),wr(mi),wr(Qn),mg(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return hg(d),null;case 13:if(wr(Br),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));ac()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return wr(Br),null;case 4:return cc(),null;case 10:return lg(d.type._context),null;case 22:case 23:return Gg(),null;case 24:return null;default:return null}}var sh=!1,ti=!1,U8=typeof WeakSet=="function"?WeakSet:Set,tt=null;function dc(o,d){var w=o.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Wr(o,d,A)}else w.current=null}function Dg(o,d,w){try{w()}catch(A){Wr(o,d,A)}}var sE=!1;function $8(o,d){if(Gm=Fa,o=kt(),Ct(o)){if("selectionStart"in o)var w={start:o.selectionStart,end:o.selectionEnd};else e:{w=(w=o.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var k=A.anchorOffset,T=A.focusNode;A=A.focusOffset;try{w.nodeType,T.nodeType}catch{w=null;break e}var U=0,Y=-1,re=-1,Se=0,Te=0,De=o,Pe=null;t:for(;;){for(var Ze;De!==w||k!==0&&De.nodeType!==3||(Y=U+k),De!==T||A!==0&&De.nodeType!==3||(re=U+A),De.nodeType===3&&(U+=De.nodeValue.length),(Ze=De.firstChild)!==null;)Pe=De,De=Ze;for(;;){if(De===o)break t;if(Pe===w&&++Se===k&&(Y=U),Pe===T&&++Te===A&&(re=U),(Ze=De.nextSibling)!==null)break;De=Pe,Pe=De.parentNode}De=Ze}w=Y===-1||re===-1?null:{start:Y,end:re}}else w=null}w=w||{start:0,end:0}}else w=null;for(Km={focusedElem:o,selectionRange:w},Fa=!1,tt=d;tt!==null;)if(d=tt,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,tt=o;else for(;tt!==null;){d=tt;try{var at=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ot=at.memoizedProps,Zr=at.memoizedState,fe=d.stateNode,ae=fe.getSnapshotBeforeUpdate(d.elementType===d.type?ot:Ea(d.type,ot),Zr);fe.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var xe=d.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Fe){Wr(d,d.return,Fe)}if(o=d.sibling,o!==null){o.return=d.return,tt=o;break}tt=d.return}return at=sE,sE=!1,at}function $u(o,d,w){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var k=A=A.next;do{if((k.tag&o)===o){var T=k.destroy;k.destroy=void 0,T!==void 0&&Dg(d,w,T)}k=k.next}while(k!==A)}}function oh(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var w=d=d.next;do{if((w.tag&o)===o){var A=w.create;w.destroy=A()}w=w.next}while(w!==d)}}function Mg(o){var d=o.ref;if(d!==null){var w=o.stateNode;switch(o.tag){case 5:o=w;break;default:o=w}typeof d=="function"?d(o):d.current=o}}function oE(o){var d=o.alternate;d!==null&&(o.alternate=null,oE(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Ua],delete d[ju],delete d[Qm],delete d[A8],delete d[C8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function lE(o){return o.tag===5||o.tag===3||o.tag===4}function cE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||lE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Lg(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.nodeType===8?w.parentNode.insertBefore(o,d):w.insertBefore(o,d):(w.nodeType===8?(d=w.parentNode,d.insertBefore(o,w)):(d=w,d.appendChild(o)),w=w._reactRootContainer,w!=null||d.onclick!==null||(d.onclick=Bf));else if(A!==4&&(o=o.child,o!==null))for(Lg(o,d,w),o=o.sibling;o!==null;)Lg(o,d,w),o=o.sibling}function Bg(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.insertBefore(o,d):w.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(Bg(o,d,w),o=o.sibling;o!==null;)Bg(o,d,w),o=o.sibling}var Fn=null,Sa=!1;function mo(o,d,w){for(w=w.child;w!==null;)uE(o,d,w),w=w.sibling}function uE(o,d,w){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ft,w)}catch{}switch(w.tag){case 5:ti||dc(w,d);case 6:var A=Fn,k=Sa;Fn=null,mo(o,d,w),Fn=A,Sa=k,Fn!==null&&(Sa?(o=Fn,w=w.stateNode,o.nodeType===8?o.parentNode.removeChild(w):o.removeChild(w)):Fn.removeChild(w.stateNode));break;case 18:Fn!==null&&(Sa?(o=Fn,w=w.stateNode,o.nodeType===8?Zm(o.parentNode,w):o.nodeType===1&&Zm(o,w),va(o)):Zm(Fn,w.stateNode));break;case 4:A=Fn,k=Sa,Fn=w.stateNode.containerInfo,Sa=!0,mo(o,d,w),Fn=A,Sa=k;break;case 0:case 11:case 14:case 15:if(!ti&&(A=w.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){k=A=A.next;do{var T=k,U=T.destroy;T=T.tag,U!==void 0&&((T&2)!==0||(T&4)!==0)&&Dg(w,d,U),k=k.next}while(k!==A)}mo(o,d,w);break;case 1:if(!ti&&(dc(w,d),A=w.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=w.memoizedProps,A.state=w.memoizedState,A.componentWillUnmount()}catch(Y){Wr(w,d,Y)}mo(o,d,w);break;case 21:mo(o,d,w);break;case 22:w.mode&1?(ti=(A=ti)||w.memoizedState!==null,mo(o,d,w),ti=A):mo(o,d,w);break;default:mo(o,d,w)}}function dE(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var w=o.stateNode;w===null&&(w=o.stateNode=new U8),d.forEach(function(A){var k=Z8.bind(null,o,A);w.has(A)||(w.add(A),A.then(k,k))})}}function Aa(o,d){var w=d.deletions;if(w!==null)for(var A=0;A<w.length;A++){var k=w[A];try{var T=o,U=d,Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:Fn=Y.stateNode,Sa=!1;break e;case 3:Fn=Y.stateNode.containerInfo,Sa=!0;break e;case 4:Fn=Y.stateNode.containerInfo,Sa=!0;break e}Y=Y.return}if(Fn===null)throw Error(r(160));uE(T,U,k),Fn=null,Sa=!1;var re=k.alternate;re!==null&&(re.return=null),k.return=null}catch(Se){Wr(k,d,Se)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)fE(d,o),d=d.sibling}function fE(o,d){var w=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Aa(d,o),Va(o),A&4){try{$u(3,o,o.return),oh(3,o)}catch(ot){Wr(o,o.return,ot)}try{$u(5,o,o.return)}catch(ot){Wr(o,o.return,ot)}}break;case 1:Aa(d,o),Va(o),A&512&&w!==null&&dc(w,w.return);break;case 5:if(Aa(d,o),Va(o),A&512&&w!==null&&dc(w,w.return),o.flags&32){var k=o.stateNode;try{Qe(k,"")}catch(ot){Wr(o,o.return,ot)}}if(A&4&&(k=o.stateNode,k!=null)){var T=o.memoizedProps,U=w!==null?w.memoizedProps:T,Y=o.type,re=o.updateQueue;if(o.updateQueue=null,re!==null)try{Y==="input"&&T.type==="radio"&&T.name!=null&&jt(k,T),Gt(Y,U);var Se=Gt(Y,T);for(U=0;U<re.length;U+=2){var Te=re[U],De=re[U+1];Te==="style"?Oe(k,De):Te==="dangerouslySetInnerHTML"?ye(k,De):Te==="children"?Qe(k,De):R(k,Te,De,Se)}switch(Y){case"input":dt(k,T);break;case"textarea":Gn(k,T);break;case"select":var Pe=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!T.multiple;var Ze=T.value;Ze!=null?Ve(k,!!T.multiple,Ze,!1):Pe!==!!T.multiple&&(T.defaultValue!=null?Ve(k,!!T.multiple,T.defaultValue,!0):Ve(k,!!T.multiple,T.multiple?[]:"",!1))}k[ju]=T}catch(ot){Wr(o,o.return,ot)}}break;case 6:if(Aa(d,o),Va(o),A&4){if(o.stateNode===null)throw Error(r(162));k=o.stateNode,T=o.memoizedProps;try{k.nodeValue=T}catch(ot){Wr(o,o.return,ot)}}break;case 3:if(Aa(d,o),Va(o),A&4&&w!==null&&w.memoizedState.isDehydrated)try{va(d.containerInfo)}catch(ot){Wr(o,o.return,ot)}break;case 4:Aa(d,o),Va(o);break;case 13:Aa(d,o),Va(o),k=o.child,k.flags&8192&&(T=k.memoizedState!==null,k.stateNode.isHidden=T,!T||k.alternate!==null&&k.alternate.memoizedState!==null||(Ug=Yt())),A&4&&dE(o);break;case 22:if(Te=w!==null&&w.memoizedState!==null,o.mode&1?(ti=(Se=ti)||Te,Aa(d,o),ti=Se):Aa(d,o),Va(o),A&8192){if(Se=o.memoizedState!==null,(o.stateNode.isHidden=Se)&&!Te&&(o.mode&1)!==0)for(tt=o,Te=o.child;Te!==null;){for(De=tt=Te;tt!==null;){switch(Pe=tt,Ze=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:$u(4,Pe,Pe.return);break;case 1:dc(Pe,Pe.return);var at=Pe.stateNode;if(typeof at.componentWillUnmount=="function"){A=Pe,w=Pe.return;try{d=A,at.props=d.memoizedProps,at.state=d.memoizedState,at.componentWillUnmount()}catch(ot){Wr(A,w,ot)}}break;case 5:dc(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){mE(De);continue}}Ze!==null?(Ze.return=Pe,tt=Ze):mE(De)}Te=Te.sibling}e:for(Te=null,De=o;;){if(De.tag===5){if(Te===null){Te=De;try{k=De.stateNode,Se?(T=k.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Y=De.stateNode,re=De.memoizedProps.style,U=re!=null&&re.hasOwnProperty("display")?re.display:null,Y.style.display=ht("display",U))}catch(ot){Wr(o,o.return,ot)}}}else if(De.tag===6){if(Te===null)try{De.stateNode.nodeValue=Se?"":De.memoizedProps}catch(ot){Wr(o,o.return,ot)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===o)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===o)break e;for(;De.sibling===null;){if(De.return===null||De.return===o)break e;Te===De&&(Te=null),De=De.return}Te===De&&(Te=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:Aa(d,o),Va(o),A&4&&dE(o);break;case 21:break;default:Aa(d,o),Va(o)}}function Va(o){var d=o.flags;if(d&2){try{e:{for(var w=o.return;w!==null;){if(lE(w)){var A=w;break e}w=w.return}throw Error(r(160))}switch(A.tag){case 5:var k=A.stateNode;A.flags&32&&(Qe(k,""),A.flags&=-33);var T=cE(o);Bg(o,T,k);break;case 3:case 4:var U=A.stateNode.containerInfo,Y=cE(o);Lg(o,Y,U);break;default:throw Error(r(161))}}catch(re){Wr(o,o.return,re)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function W8(o,d,w){tt=o,hE(o)}function hE(o,d,w){for(var A=(o.mode&1)!==0;tt!==null;){var k=tt,T=k.child;if(k.tag===22&&A){var U=k.memoizedState!==null||sh;if(!U){var Y=k.alternate,re=Y!==null&&Y.memoizedState!==null||ti;Y=sh;var Se=ti;if(sh=U,(ti=re)&&!Se)for(tt=k;tt!==null;)U=tt,re=U.child,U.tag===22&&U.memoizedState!==null?gE(k):re!==null?(re.return=U,tt=re):gE(k);for(;T!==null;)tt=T,hE(T),T=T.sibling;tt=k,sh=Y,ti=Se}pE(o)}else(k.subtreeFlags&8772)!==0&&T!==null?(T.return=k,tt=T):pE(o)}}function pE(o){for(;tt!==null;){var d=tt;if((d.flags&8772)!==0){var w=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ti||oh(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!ti)if(w===null)A.componentDidMount();else{var k=d.elementType===d.type?w.memoizedProps:Ea(d.type,w.memoizedProps);A.componentDidUpdate(k,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var T=d.updateQueue;T!==null&&m2(d,T,A);break;case 3:var U=d.updateQueue;if(U!==null){if(w=null,d.child!==null)switch(d.child.tag){case 5:w=d.child.stateNode;break;case 1:w=d.child.stateNode}m2(d,U,w)}break;case 5:var Y=d.stateNode;if(w===null&&d.flags&4){w=Y;var re=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&w.focus();break;case"img":re.src&&(w.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Se=d.alternate;if(Se!==null){var Te=Se.memoizedState;if(Te!==null){var De=Te.dehydrated;De!==null&&va(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ti||d.flags&512&&Mg(d)}catch(Pe){Wr(d,d.return,Pe)}}if(d===o){tt=null;break}if(w=d.sibling,w!==null){w.return=d.return,tt=w;break}tt=d.return}}function mE(o){for(;tt!==null;){var d=tt;if(d===o){tt=null;break}var w=d.sibling;if(w!==null){w.return=d.return,tt=w;break}tt=d.return}}function gE(o){for(;tt!==null;){var d=tt;try{switch(d.tag){case 0:case 11:case 15:var w=d.return;try{oh(4,d)}catch(re){Wr(d,w,re)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var k=d.return;try{A.componentDidMount()}catch(re){Wr(d,k,re)}}var T=d.return;try{Mg(d)}catch(re){Wr(d,T,re)}break;case 5:var U=d.return;try{Mg(d)}catch(re){Wr(d,U,re)}}}catch(re){Wr(d,d.return,re)}if(d===o){tt=null;break}var Y=d.sibling;if(Y!==null){Y.return=d.return,tt=Y;break}tt=d.return}}var V8=Math.ceil,lh=B.ReactCurrentDispatcher,Fg=B.ReactCurrentOwner,ea=B.ReactCurrentBatchConfig,Vt=0,Nn=null,nn=null,zn=0,Mi=0,fc=co(0),xn=0,Wu=null,tl=0,ch=0,zg=0,Vu=null,vi=null,Ug=0,hc=1/0,ws=null,uh=!1,$g=null,go=null,dh=!1,xo=null,fh=0,Hu=0,Wg=null,hh=-1,ph=0;function ui(){return(Vt&6)!==0?Yt():hh!==-1?hh:hh=Yt()}function vo(o){return(o.mode&1)===0?1:(Vt&2)!==0&&zn!==0?zn&-zn:N8.transition!==null?(ph===0&&(ph=fn()),ph):(o=Pt,o!==0||(o=window.event,o=o===void 0?16:vu(o.type)),o)}function Ca(o,d,w,A){if(50<Hu)throw Hu=0,Wg=null,Error(r(185));q(o,w,A),((Vt&2)===0||o!==Nn)&&(o===Nn&&((Vt&2)===0&&(ch|=w),xn===4&&yo(o,zn)),yi(o,A),w===1&&Vt===0&&(d.mode&1)===0&&(hc=Yt()+500,$f&&fo()))}function yi(o,d){var w=o.callbackNode;Qs(o,d);var A=Pi(o,o===Nn?zn:0);if(A===0)w!==null&&Mr(w),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(w!=null&&Mr(w),d===1)o.tag===0?_8(vE.bind(null,o)):n2(vE.bind(null,o)),E8(function(){(Vt&6)===0&&fo()}),w=null;else{switch(Sf(A)){case 1:w=Ie;break;case 4:w=wf;break;case 16:w=lr;break;case 536870912:w=Ef;break;default:w=lr}w=_E(w,xE.bind(null,o))}o.callbackPriority=d,o.callbackNode=w}}function xE(o,d){if(hh=-1,ph=0,(Vt&6)!==0)throw Error(r(327));var w=o.callbackNode;if(pc()&&o.callbackNode!==w)return null;var A=Pi(o,o===Nn?zn:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=mh(o,A);else{d=A;var k=Vt;Vt|=2;var T=bE();(Nn!==o||zn!==d)&&(ws=null,hc=Yt()+500,nl(o,d));do try{G8();break}catch(Y){yE(o,Y)}while(!0);og(),lh.current=T,Vt=k,nn!==null?d=0:(Nn=null,zn=0,d=xn)}if(d!==0){if(d===2&&(k=Zt(o),k!==0&&(A=k,d=Vg(o,k))),d===1)throw w=Wu,nl(o,0),yo(o,A),yi(o,Yt()),w;if(d===6)yo(o,A);else{if(k=o.current.alternate,(A&30)===0&&!H8(k)&&(d=mh(o,A),d===2&&(T=Zt(o),T!==0&&(A=T,d=Vg(o,T))),d===1))throw w=Wu,nl(o,0),yo(o,A),yi(o,Yt()),w;switch(o.finishedWork=k,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:il(o,vi,ws);break;case 3:if(yo(o,A),(A&130023424)===A&&(d=Ug+500-Yt(),10<d)){if(Pi(o,0)!==0)break;if(k=o.suspendedLanes,(k&A)!==A){ui(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=Ym(il.bind(null,o,vi,ws),d);break}il(o,vi,ws);break;case 4:if(yo(o,A),(A&4194240)===A)break;for(d=o.eventTimes,k=-1;0<A;){var U=31-li(A);T=1<<U,U=d[U],U>k&&(k=U),A&=~T}if(A=k,A=Yt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*V8(A/1960))-A,10<A){o.timeoutHandle=Ym(il.bind(null,o,vi,ws),A);break}il(o,vi,ws);break;case 5:il(o,vi,ws);break;default:throw Error(r(329))}}}return yi(o,Yt()),o.callbackNode===w?xE.bind(null,o):null}function Vg(o,d){var w=Vu;return o.current.memoizedState.isDehydrated&&(nl(o,d).flags|=256),o=mh(o,d),o!==2&&(d=vi,vi=w,d!==null&&Hg(d)),o}function Hg(o){vi===null?vi=o:vi.push.apply(vi,o)}function H8(o){for(var d=o;;){if(d.flags&16384){var w=d.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var k=w[A],T=k.getSnapshot;k=k.value;try{if(!ce(T(),k))return!1}catch{return!1}}}if(w=d.child,d.subtreeFlags&16384&&w!==null)w.return=d,d=w;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function yo(o,d){for(d&=~zg,d&=~ch,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var w=31-li(d),A=1<<w;o[w]=-1,d&=~A}}function vE(o){if((Vt&6)!==0)throw Error(r(327));pc();var d=Pi(o,0);if((d&1)===0)return yi(o,Yt()),null;var w=mh(o,d);if(o.tag!==0&&w===2){var A=Zt(o);A!==0&&(d=A,w=Vg(o,A))}if(w===1)throw w=Wu,nl(o,0),yo(o,d),yi(o,Yt()),w;if(w===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,il(o,vi,ws),yi(o,Yt()),null}function qg(o,d){var w=Vt;Vt|=1;try{return o(d)}finally{Vt=w,Vt===0&&(hc=Yt()+500,$f&&fo())}}function rl(o){xo!==null&&xo.tag===0&&(Vt&6)===0&&pc();var d=Vt;Vt|=1;var w=ea.transition,A=Pt;try{if(ea.transition=null,Pt=1,o)return o()}finally{Pt=A,ea.transition=w,Vt=d,(Vt&6)===0&&fo()}}function Gg(){Mi=fc.current,wr(fc)}function nl(o,d){o.finishedWork=null,o.finishedLanes=0;var w=o.timeoutHandle;if(w!==-1&&(o.timeoutHandle=-1,w8(w)),nn!==null)for(w=nn.return;w!==null;){var A=w;switch(rg(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&zf();break;case 3:cc(),wr(mi),wr(Qn),mg();break;case 5:hg(A);break;case 4:cc();break;case 13:wr(Br);break;case 19:wr(Br);break;case 10:lg(A.type._context);break;case 22:case 23:Gg()}w=w.return}if(Nn=o,nn=o=bo(o.current,null),zn=Mi=d,xn=0,Wu=null,zg=ch=tl=0,vi=Vu=null,Qo!==null){for(d=0;d<Qo.length;d++)if(w=Qo[d],A=w.interleaved,A!==null){w.interleaved=null;var k=A.next,T=w.pending;if(T!==null){var U=T.next;T.next=k,A.next=U}w.pending=A}Qo=null}return o}function yE(o,d){do{var w=nn;try{if(og(),Qf.current=rh,Jf){for(var A=Fr.memoizedState;A!==null;){var k=A.queue;k!==null&&(k.pending=null),A=A.next}Jf=!1}if(el=0,_n=gn=Fr=null,Lu=!1,Bu=0,Fg.current=null,w===null||w.return===null){xn=1,Wu=d,nn=null;break}e:{var T=o,U=w.return,Y=w,re=d;if(d=zn,Y.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var Se=re,Te=Y,De=Te.tag;if((Te.mode&1)===0&&(De===0||De===11||De===15)){var Pe=Te.alternate;Pe?(Te.updateQueue=Pe.updateQueue,Te.memoizedState=Pe.memoizedState,Te.lanes=Pe.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Ze=V2(U);if(Ze!==null){Ze.flags&=-257,H2(Ze,U,Y,T,d),Ze.mode&1&&W2(T,Se,d),d=Ze,re=Se;var at=d.updateQueue;if(at===null){var ot=new Set;ot.add(re),d.updateQueue=ot}else at.add(re);break e}else{if((d&1)===0){W2(T,Se,d),Kg();break e}re=Error(r(426))}}else if(Or&&Y.mode&1){var Zr=V2(U);if(Zr!==null){(Zr.flags&65536)===0&&(Zr.flags|=256),H2(Zr,U,Y,T,d),ag(uc(re,Y));break e}}T=re=uc(re,Y),xn!==4&&(xn=2),Vu===null?Vu=[T]:Vu.push(T),T=U;do{switch(T.tag){case 3:T.flags|=65536,d&=-d,T.lanes|=d;var fe=U2(T,re,d);p2(T,fe);break e;case 1:Y=re;var ae=T.type,xe=T.stateNode;if((T.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(go===null||!go.has(xe)))){T.flags|=65536,d&=-d,T.lanes|=d;var Fe=$2(T,Y,d);p2(T,Fe);break e}}T=T.return}while(T!==null)}EE(w)}catch(lt){d=lt,nn===w&&w!==null&&(nn=w=w.return);continue}break}while(!0)}function bE(){var o=lh.current;return lh.current=rh,o===null?rh:o}function Kg(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||(tl&268435455)===0&&(ch&268435455)===0||yo(Nn,zn)}function mh(o,d){var w=Vt;Vt|=2;var A=bE();(Nn!==o||zn!==d)&&(ws=null,nl(o,d));do try{q8();break}catch(k){yE(o,k)}while(!0);if(og(),Vt=w,lh.current=A,nn!==null)throw Error(r(261));return Nn=null,zn=0,xn}function q8(){for(;nn!==null;)wE(nn)}function G8(){for(;nn!==null&&!hr();)wE(nn)}function wE(o){var d=CE(o.alternate,o,Mi);o.memoizedProps=o.pendingProps,d===null?EE(o):nn=d,Fg.current=null}function EE(o){var d=o;do{var w=d.alternate;if(o=d.return,(d.flags&32768)===0){if(w=F8(w,d,Mi),w!==null){nn=w;return}}else{if(w=z8(w,d),w!==null){w.flags&=32767,nn=w;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{xn=6,nn=null;return}}if(d=d.sibling,d!==null){nn=d;return}nn=d=o}while(d!==null);xn===0&&(xn=5)}function il(o,d,w){var A=Pt,k=ea.transition;try{ea.transition=null,Pt=1,K8(o,d,w,A)}finally{ea.transition=k,Pt=A}return null}function K8(o,d,w,A){do pc();while(xo!==null);if((Vt&6)!==0)throw Error(r(327));w=o.finishedWork;var k=o.finishedLanes;if(w===null)return null;if(o.finishedWork=null,o.finishedLanes=0,w===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=w.lanes|w.childLanes;if(ut(o,T),o===Nn&&(nn=Nn=null,zn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||dh||(dh=!0,_E(lr,function(){return pc(),null})),T=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||T){T=ea.transition,ea.transition=null;var U=Pt;Pt=1;var Y=Vt;Vt|=4,Fg.current=null,$8(o,w),fE(w,o),Zn(Km),Fa=!!Gm,Km=Gm=null,o.current=w,W8(w),bf(),Vt=Y,Pt=U,ea.transition=T}else o.current=w;if(dh&&(dh=!1,xo=o,fh=k),T=o.pendingLanes,T===0&&(go=null),Rt(w.stateNode),yi(o,Yt()),d!==null)for(A=o.onRecoverableError,w=0;w<d.length;w++)k=d[w],A(k.value,{componentStack:k.stack,digest:k.digest});if(uh)throw uh=!1,o=$g,$g=null,o;return(fh&1)!==0&&o.tag!==0&&pc(),T=o.pendingLanes,(T&1)!==0?o===Wg?Hu++:(Hu=0,Wg=o):Hu=0,fo(),null}function pc(){if(xo!==null){var o=Sf(fh),d=ea.transition,w=Pt;try{if(ea.transition=null,Pt=16>o?16:o,xo===null)var A=!1;else{if(o=xo,xo=null,fh=0,(Vt&6)!==0)throw Error(r(331));var k=Vt;for(Vt|=4,tt=o.current;tt!==null;){var T=tt,U=T.child;if((tt.flags&16)!==0){var Y=T.deletions;if(Y!==null){for(var re=0;re<Y.length;re++){var Se=Y[re];for(tt=Se;tt!==null;){var Te=tt;switch(Te.tag){case 0:case 11:case 15:$u(8,Te,T)}var De=Te.child;if(De!==null)De.return=Te,tt=De;else for(;tt!==null;){Te=tt;var Pe=Te.sibling,Ze=Te.return;if(oE(Te),Te===Se){tt=null;break}if(Pe!==null){Pe.return=Ze,tt=Pe;break}tt=Ze}}}var at=T.alternate;if(at!==null){var ot=at.child;if(ot!==null){at.child=null;do{var Zr=ot.sibling;ot.sibling=null,ot=Zr}while(ot!==null)}}tt=T}}if((T.subtreeFlags&2064)!==0&&U!==null)U.return=T,tt=U;else e:for(;tt!==null;){if(T=tt,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:$u(9,T,T.return)}var fe=T.sibling;if(fe!==null){fe.return=T.return,tt=fe;break e}tt=T.return}}var ae=o.current;for(tt=ae;tt!==null;){U=tt;var xe=U.child;if((U.subtreeFlags&2064)!==0&&xe!==null)xe.return=U,tt=xe;else e:for(U=ae;tt!==null;){if(Y=tt,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:oh(9,Y)}}catch(lt){Wr(Y,Y.return,lt)}if(Y===U){tt=null;break e}var Fe=Y.sibling;if(Fe!==null){Fe.return=Y.return,tt=Fe;break e}tt=Y.return}}if(Vt=k,fo(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ft,o)}catch{}A=!0}return A}finally{Pt=w,ea.transition=d}}return!1}function SE(o,d,w){d=uc(w,d),d=U2(o,d,1),o=po(o,d,1),d=ui(),o!==null&&(q(o,1,d),yi(o,d))}function Wr(o,d,w){if(o.tag===3)SE(o,o,w);else for(;d!==null;){if(d.tag===3){SE(d,o,w);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(go===null||!go.has(A))){o=uc(w,o),o=$2(d,o,1),d=po(d,o,1),o=ui(),d!==null&&(q(d,1,o),yi(d,o));break}}d=d.return}}function X8(o,d,w){var A=o.pingCache;A!==null&&A.delete(d),d=ui(),o.pingedLanes|=o.suspendedLanes&w,Nn===o&&(zn&w)===w&&(xn===4||xn===3&&(zn&130023424)===zn&&500>Yt()-Ug?nl(o,0):zg|=w),yi(o,d)}function AE(o,d){d===0&&((o.mode&1)===0?d=1:(d=Vl,Vl<<=1,(Vl&130023424)===0&&(Vl=4194304)));var w=ui();o=vs(o,d),o!==null&&(q(o,d,w),yi(o,w))}function Y8(o){var d=o.memoizedState,w=0;d!==null&&(w=d.retryLane),AE(o,w)}function Z8(o,d){var w=0;switch(o.tag){case 13:var A=o.stateNode,k=o.memoizedState;k!==null&&(w=k.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),AE(o,w)}var CE;CE=function(o,d,w){if(o!==null)if(o.memoizedProps!==d.pendingProps||mi.current)xi=!0;else{if((o.lanes&w)===0&&(d.flags&128)===0)return xi=!1,B8(o,d,w);xi=(o.flags&131072)!==0}else xi=!1,Or&&(d.flags&1048576)!==0&&i2(d,Vf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;ah(o,d),o=d.pendingProps;var k=rc(d,Qn.current);lc(d,w),k=vg(null,d,A,o,k,w);var T=yg();return d.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,gi(A)?(T=!0,Uf(d)):T=!1,d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,dg(d),k.updater=nh,d.stateNode=k,k._reactInternals=d,Cg(d,A,o,w),d=Ig(null,d,A,!0,T,w)):(d.tag=0,Or&&T&&tg(d),ci(null,d,k,w),d=d.child),d;case 16:A=d.elementType;e:{switch(ah(o,d),o=d.pendingProps,k=A._init,A=k(A._payload),d.type=A,k=d.tag=J8(A),o=Ea(A,o),k){case 0:d=Og(null,d,A,o,w);break e;case 1:d=Z2(null,d,A,o,w);break e;case 11:d=q2(null,d,A,o,w);break e;case 14:d=G2(null,d,A,Ea(A.type,o),w);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,k=d.pendingProps,k=d.elementType===A?k:Ea(A,k),Og(o,d,A,k,w);case 1:return A=d.type,k=d.pendingProps,k=d.elementType===A?k:Ea(A,k),Z2(o,d,A,k,w);case 3:e:{if(Q2(d),o===null)throw Error(r(387));A=d.pendingProps,T=d.memoizedState,k=T.element,h2(o,d),Yf(d,A,null,w);var U=d.memoizedState;if(A=U.element,T.isDehydrated)if(T={element:A,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){k=uc(Error(r(423)),d),d=J2(o,d,A,w,k);break e}else if(A!==k){k=uc(Error(r(424)),d),d=J2(o,d,A,w,k);break e}else for(Di=lo(d.stateNode.containerInfo.firstChild),Ri=d,Or=!0,wa=null,w=d2(d,null,A,w),d.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ac(),A===k){d=bs(o,d,w);break e}ci(o,d,A,w)}d=d.child}return d;case 5:return g2(d),o===null&&ig(d),A=d.type,k=d.pendingProps,T=o!==null?o.memoizedProps:null,U=k.children,Xm(A,k)?U=null:T!==null&&Xm(A,T)&&(d.flags|=32),Y2(o,d),ci(o,d,U,w),d.child;case 6:return o===null&&ig(d),null;case 13:return eE(o,d,w);case 4:return fg(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=sc(d,null,A,w):ci(o,d,A,w),d.child;case 11:return A=d.type,k=d.pendingProps,k=d.elementType===A?k:Ea(A,k),q2(o,d,A,k,w);case 7:return ci(o,d,d.pendingProps,w),d.child;case 8:return ci(o,d,d.pendingProps.children,w),d.child;case 12:return ci(o,d,d.pendingProps.children,w),d.child;case 10:e:{if(A=d.type._context,k=d.pendingProps,T=d.memoizedProps,U=k.value,gr(Gf,A._currentValue),A._currentValue=U,T!==null)if(ce(T.value,U)){if(T.children===k.children&&!mi.current){d=bs(o,d,w);break e}}else for(T=d.child,T!==null&&(T.return=d);T!==null;){var Y=T.dependencies;if(Y!==null){U=T.child;for(var re=Y.firstContext;re!==null;){if(re.context===A){if(T.tag===1){re=ys(-1,w&-w),re.tag=2;var Se=T.updateQueue;if(Se!==null){Se=Se.shared;var Te=Se.pending;Te===null?re.next=re:(re.next=Te.next,Te.next=re),Se.pending=re}}T.lanes|=w,re=T.alternate,re!==null&&(re.lanes|=w),cg(T.return,w,d),Y.lanes|=w;break}re=re.next}}else if(T.tag===10)U=T.type===d.type?null:T.child;else if(T.tag===18){if(U=T.return,U===null)throw Error(r(341));U.lanes|=w,Y=U.alternate,Y!==null&&(Y.lanes|=w),cg(U,w,d),U=T.sibling}else U=T.child;if(U!==null)U.return=T;else for(U=T;U!==null;){if(U===d){U=null;break}if(T=U.sibling,T!==null){T.return=U.return,U=T;break}U=U.return}T=U}ci(o,d,k.children,w),d=d.child}return d;case 9:return k=d.type,A=d.pendingProps.children,lc(d,w),k=Qi(k),A=A(k),d.flags|=1,ci(o,d,A,w),d.child;case 14:return A=d.type,k=Ea(A,d.pendingProps),k=Ea(A.type,k),G2(o,d,A,k,w);case 15:return K2(o,d,d.type,d.pendingProps,w);case 17:return A=d.type,k=d.pendingProps,k=d.elementType===A?k:Ea(A,k),ah(o,d),d.tag=1,gi(A)?(o=!0,Uf(d)):o=!1,lc(d,w),F2(d,A,k),Cg(d,A,k,w),Ig(null,d,A,!0,o,w);case 19:return rE(o,d,w);case 22:return X2(o,d,w)}throw Error(r(156,d.tag))};function _E(o,d){return An(o,d)}function Q8(o,d,w,A){this.tag=o,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(o,d,w,A){return new Q8(o,d,w,A)}function Xg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function J8(o){if(typeof o=="function")return Xg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ie)return 11;if(o===te)return 14}return 2}function bo(o,d){var w=o.alternate;return w===null?(w=ta(o.tag,d,o.key,o.mode),w.elementType=o.elementType,w.type=o.type,w.stateNode=o.stateNode,w.alternate=o,o.alternate=w):(w.pendingProps=d,w.type=o.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=o.flags&14680064,w.childLanes=o.childLanes,w.lanes=o.lanes,w.child=o.child,w.memoizedProps=o.memoizedProps,w.memoizedState=o.memoizedState,w.updateQueue=o.updateQueue,d=o.dependencies,w.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},w.sibling=o.sibling,w.index=o.index,w.ref=o.ref,w}function gh(o,d,w,A,k,T){var U=2;if(A=o,typeof o=="function")Xg(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case H:return al(w.children,k,T,d);case Z:U=8,k|=8;break;case K:return o=ta(12,w,d,k|2),o.elementType=K,o.lanes=T,o;case Ae:return o=ta(13,w,d,k),o.elementType=Ae,o.lanes=T,o;case Ce:return o=ta(19,w,d,k),o.elementType=Ce,o.lanes=T,o;case J:return xh(w,k,T,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case pe:U=10;break e;case se:U=9;break e;case ie:U=11;break e;case te:U=14;break e;case Re:U=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=ta(U,w,d,k),d.elementType=o,d.type=A,d.lanes=T,d}function al(o,d,w,A){return o=ta(7,o,A,d),o.lanes=w,o}function xh(o,d,w,A){return o=ta(22,o,A,d),o.elementType=J,o.lanes=w,o.stateNode={isHidden:!1},o}function Yg(o,d,w){return o=ta(6,o,null,d),o.lanes=w,o}function Zg(o,d,w){return d=ta(4,o.children!==null?o.children:[],o.key,d),d.lanes=w,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function e6(o,d,w,A,k){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=de(0),this.expirationTimes=de(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.identifierPrefix=A,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Qg(o,d,w,A,k,T,U,Y,re){return o=new e6(o,d,w,Y,re),d===1?(d=1,T===!0&&(d|=8)):d=0,T=ta(3,null,null,d),o.current=T,T.stateNode=o,T.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},dg(T),o}function t6(o,d,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:A==null?null:""+A,children:o,containerInfo:d,implementation:w}}function NE(o){if(!o)return uo;o=o._reactInternals;e:{if(Je(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(gi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var w=o.type;if(gi(w))return t2(o,w,d)}return d}function OE(o,d,w,A,k,T,U,Y,re){return o=Qg(w,A,!0,o,k,T,U,Y,re),o.context=NE(null),w=o.current,A=ui(),k=vo(w),T=ys(A,k),T.callback=d??null,po(w,T,k),o.current.lanes=k,q(o,k,A),yi(o,A),o}function vh(o,d,w,A){var k=d.current,T=ui(),U=vo(k);return w=NE(w),d.context===null?d.context=w:d.pendingContext=w,d=ys(T,U),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=po(k,d,U),o!==null&&(Ca(o,k,U,T),Xf(o,k,U)),U}function yh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function IE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var w=o.retryLane;o.retryLane=w!==0&&w<d?w:d}}function Jg(o,d){IE(o,d),(o=o.alternate)&&IE(o,d)}function r6(){return null}var PE=typeof reportError=="function"?reportError:function(o){console.error(o)};function e1(o){this._internalRoot=o}bh.prototype.render=e1.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));vh(o,d,null,null)},bh.prototype.unmount=e1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;rl(function(){vh(null,o,null,null)}),d[ps]=null}};function bh(o){this._internalRoot=o}bh.prototype.unstable_scheduleHydration=function(o){if(o){var d=pr();o={blockedOn:null,target:o,priority:d};for(var w=0;w<Mn.length&&d!==0&&d<Mn[w].priority;w++);Mn.splice(w,0,o),w===0&&Cf(o)}};function t1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function wh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function jE(){}function n6(o,d,w,A,k){if(k){if(typeof A=="function"){var T=A;A=function(){var Se=yh(U);T.call(Se)}}var U=OE(d,A,o,0,null,!1,!1,"",jE);return o._reactRootContainer=U,o[ps]=U.current,Iu(o.nodeType===8?o.parentNode:o),rl(),U}for(;k=o.lastChild;)o.removeChild(k);if(typeof A=="function"){var Y=A;A=function(){var Se=yh(re);Y.call(Se)}}var re=Qg(o,0,!1,null,null,!1,!1,"",jE);return o._reactRootContainer=re,o[ps]=re.current,Iu(o.nodeType===8?o.parentNode:o),rl(function(){vh(d,re,w,A)}),re}function Eh(o,d,w,A,k){var T=w._reactRootContainer;if(T){var U=T;if(typeof k=="function"){var Y=k;k=function(){var re=yh(U);Y.call(re)}}vh(d,U,o,k)}else U=n6(w,d,o,k,A);return yh(U)}Hl=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var w=cr(d.pendingLanes);w!==0&&(Ur(d,w|1),yi(d,Yt()),(Vt&6)===0&&(hc=Yt()+500,fo()))}break;case 13:rl(function(){var A=vs(o,1);if(A!==null){var k=ui();Ca(A,o,1,k)}}),Jg(o,1)}},Yn=function(o){if(o.tag===13){var d=vs(o,134217728);if(d!==null){var w=ui();Ca(d,o,134217728,w)}Jg(o,134217728)}},ft=function(o){if(o.tag===13){var d=vo(o),w=vs(o,d);if(w!==null){var A=ui();Ca(w,o,d,A)}Jg(o,d)}},pr=function(){return Pt},mu=function(o,d){var w=Pt;try{return Pt=o,d()}finally{Pt=w}},os=function(o,d,w){switch(d){case"input":if(dt(o,w),d=w.name,w.type==="radio"&&d!=null){for(w=o;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<w.length;d++){var A=w[d];if(A!==o&&A.form===o.form){var k=Ff(A);if(!k)throw Error(r(90));we(A),dt(A,k)}}}break;case"textarea":Gn(o,w);break;case"select":d=w.value,d!=null&&Ve(o,!!w.multiple,d,!1)}},St=qg,gt=rl;var i6={usingClientEntryPoint:!1,Events:[ku,ec,Ff,qi,Sn,qg]},qu={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a6={bundleType:qu.bundleType,version:qu.version,rendererPackageName:qu.rendererPackageName,rendererConfig:qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=oi(o),o===null?null:o.stateNode},findFiberByHostInstance:qu.findFiberByHostInstance||r6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{Ft=Sh.inject(a6),It=Sh}catch{}}return bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i6,bi.createPortal=function(o,d){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t1(d))throw Error(r(200));return t6(o,d,null,w)},bi.createRoot=function(o,d){if(!t1(o))throw Error(r(299));var w=!1,A="",k=PE;return d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),d=Qg(o,1,!1,null,null,w,!1,A,k),o[ps]=d.current,Iu(o.nodeType===8?o.parentNode:o),new e1(d)},bi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=oi(d),o=o===null?null:o.stateNode,o},bi.flushSync=function(o){return rl(o)},bi.hydrate=function(o,d,w){if(!wh(d))throw Error(r(200));return Eh(null,o,d,!0,w)},bi.hydrateRoot=function(o,d,w){if(!t1(o))throw Error(r(405));var A=w!=null&&w.hydratedSources||null,k=!1,T="",U=PE;if(w!=null&&(w.unstable_strictMode===!0&&(k=!0),w.identifierPrefix!==void 0&&(T=w.identifierPrefix),w.onRecoverableError!==void 0&&(U=w.onRecoverableError)),d=OE(d,null,o,1,w??null,k,!1,T,U),o[ps]=d.current,Iu(o),A)for(o=0;o<A.length;o++)w=A[o],k=w._getVersion,k=k(w._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[w,k]:d.mutableSourceEagerHydrationData.push(w,k);return new bh(d)},bi.render=function(o,d,w){if(!wh(d))throw Error(r(200));return Eh(null,o,d,!1,w)},bi.unmountComponentAtNode=function(o){if(!wh(o))throw Error(r(40));return o._reactRootContainer?(rl(function(){Eh(null,null,o,!1,function(){o._reactRootContainer=null,o[ps]=null})}),!0):!1},bi.unstable_batchedUpdates=qg,bi.unstable_renderSubtreeIntoContainer=function(o,d,w,A){if(!wh(w))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Eh(o,d,w,!1,A)},bi.version="18.3.1-next-f1338f8080-20240426",bi}var FE;function $3(){if(FE)return i1.exports;FE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i1.exports=h6(),i1.exports}var zE;function p6(){if(zE)return Ch;zE=1;var e=$3();return Ch.createRoot=e.createRoot,Ch.hydrateRoot=e.hydrateRoot,Ch}var m6=p6();const g6=fa(m6);var UE="popstate";function x6(e={}){function t(i,a){let{pathname:c="/",search:f="",hash:h=""}=Fl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ev("",{pathname:c,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");f=p===-1?h:h.slice(0,p)}return f+"#"+(typeof a=="string"?a:yd(a))}function n(i,a){Wi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return y6(t,r,n,e)}function Tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function v6(){return Math.random().toString(36).substring(2,10)}function $E(e,t){return{usr:e.state,key:e.key,idx:t}}function ev(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Fl(t):t,state:r,key:t&&t.key||n||v6()}}function yd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function y6(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,f="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let P=v(),D=P==null?null:P-p;p=P,h&&h({action:f,location:I.location,delta:D})}function S(P,D){f="PUSH";let M=ev(I.location,P,D);r&&r(M,P),p=v()+1;let R=$E(M,p),B=I.createHref(M);try{c.pushState(R,"",B)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(B)}a&&h&&h({action:f,location:I.location,delta:1})}function C(P,D){f="REPLACE";let M=ev(I.location,P,D);r&&r(M,P),p=v();let R=$E(M,p),B=I.createHref(M);c.replaceState(R,"",B),a&&h&&h({action:f,location:I.location,delta:0})}function O(P){return b6(P)}let I={get action(){return f},get location(){return e(i,c)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(UE,b),h=P,()=>{i.removeEventListener(UE,b),h=null}},createHref(P){return t(i,P)},createURL:O,encodeLocation(P){let D=O(P);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:C,go(P){return c.go(P)}};return I}function b6(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Tr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:yd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function W3(e,t,r="/"){return w6(e,t,r,!1)}function w6(e,t,r,n){let i=typeof t=="string"?Fl(t):t,a=Ds(i.pathname||"/",r);if(a==null)return null;let c=V3(e);E6(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=T6(a);f=j6(c[h],p,n)}return f}function V3(e,t=[],r=[],n="",i=!1){let a=(c,f,h=i,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&h)return;Tr(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let b=js([n,v.relativePath]),S=r.concat(v);c.children&&c.children.length>0&&(Tr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),V3(c.children,t,S,b,h)),!(c.path==null&&!c.index)&&t.push({path:b,score:I6(b,c.index),routesMeta:S})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))a(c,f);else for(let h of H3(c.path))a(c,f,!0,h)}),t}function H3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=H3(n.join("/")),f=[];return f.push(...c.map(h=>h===""?a:[a,h].join("/"))),i&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function E6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:P6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var S6=/^:[\w-]+$/,A6=3,C6=2,_6=1,N6=10,O6=-2,WE=e=>e==="*";function I6(e,t){let r=e.split("/"),n=r.length;return r.some(WE)&&(n+=O6),t&&(n+=C6),r.filter(i=>!WE(i)).reduce((i,a)=>i+(S6.test(a)?A6:a===""?_6:N6),n)}function P6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function j6(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",c=[];for(let f=0;f<n.length;++f){let h=n[f],p=f===n.length-1,v=a==="/"?t:t.slice(a.length)||"/",b=h0({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),S=h.route;if(!b&&p&&r&&!n[n.length-1].route.index&&(b=h0({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:js([a,b.pathname]),pathnameBase:L6(js([a,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(a=js([a,b.pathnameBase]))}return c}function h0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=k6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((p,{paramName:v,isOptional:b},S)=>{if(v==="*"){let O=f[S]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const C=f[S];return b&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:c,pattern:e}}function k6(e,t=!1,r=!0){Wi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(n.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function T6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var q3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R6=e=>q3.test(e);function D6(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Fl(e):e,a;if(r)if(R6(r))a=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Wi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?a=VE(r.substring(1),"/"):a=VE(r,t)}else a=t;return{pathname:a,search:B6(n),hash:F6(i)}}function VE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function o1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ny(e){let t=M6(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Oy(e,t,r,n=!1){let i;typeof e=="string"?i=Fl(e):(i={...e},Tr(!i.pathname||!i.pathname.includes("?"),o1("?","pathname","search",i)),Tr(!i.pathname||!i.pathname.includes("#"),o1("#","pathname","hash",i)),Tr(!i.search||!i.search.includes("#"),o1("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,f;if(c==null)f=r;else{let b=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;i.pathname=S.join("/")}f=b>=0?t[b]:"/"}let h=D6(i,f),p=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var js=e=>e.join("/").replace(/\/\/+/g,"/"),L6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,F6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,z6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function U6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function $6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var G3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function K3(e,t){let r=e;if(typeof r!="string"||!q3.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(G3)try{let a=new URL(window.location.href),c=r.startsWith("//")?new URL(a.protocol+r):new URL(r),f=Ds(c.pathname,t);c.origin===a.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Wi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X3=["POST","PUT","PATCH","DELETE"];new Set(X3);var W6=["GET",...X3];new Set(W6);var Xc=_.createContext(null);Xc.displayName="DataRouter";var Ap=_.createContext(null);Ap.displayName="DataRouterState";var V6=_.createContext(!1),Y3=_.createContext({isTransitioning:!1});Y3.displayName="ViewTransition";var H6=_.createContext(new Map);H6.displayName="Fetchers";var q6=_.createContext(null);q6.displayName="Await";var Hi=_.createContext(null);Hi.displayName="Navigation";var Vd=_.createContext(null);Vd.displayName="Location";var Qa=_.createContext({outlet:null,matches:[],isDataRoute:!1});Qa.displayName="Route";var Iy=_.createContext(null);Iy.displayName="RouteError";var Z3="REACT_ROUTER_ERROR",G6="REDIRECT",K6="ROUTE_ERROR_RESPONSE";function X6(e){if(e.startsWith(`${Z3}:${G6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Y6(e){if(e.startsWith(`${Z3}:${K6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new z6(t.status,t.statusText,t.data)}catch{}}function Z6(e,{relative:t}={}){Tr(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Hi),{hash:i,pathname:a,search:c}=Hd(e,{relative:t}),f=a;return r!=="/"&&(f=a==="/"?r:js([r,a])),n.createHref({pathname:f,search:c,hash:i})}function Yc(){return _.useContext(Vd)!=null}function ha(){return Tr(Yc(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Vd).location}var Q3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J3(e){_.useContext(Hi).static||_.useLayoutEffect(e)}function Cp(){let{isDataRoute:e}=_.useContext(Qa);return e?uR():Q6()}function Q6(){Tr(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(Xc),{basename:t,navigator:r}=_.useContext(Hi),{matches:n}=_.useContext(Qa),{pathname:i}=ha(),a=JSON.stringify(Ny(n)),c=_.useRef(!1);return J3(()=>{c.current=!0}),_.useCallback((h,p={})=>{if(Wi(c.current,Q3),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=Oy(h,JSON.parse(a),i,p.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:js([t,v.pathname])),(p.replace?r.replace:r.push)(v,p.state,p)},[t,r,a,i,e])}_.createContext(null);function Hd(e,{relative:t}={}){let{matches:r}=_.useContext(Qa),{pathname:n}=ha(),i=JSON.stringify(Ny(r));return _.useMemo(()=>Oy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function J6(e,t){return eO(e,t)}function eO(e,t,r,n,i){Tr(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Hi),{matches:c}=_.useContext(Qa),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let M=b&&b.path||"";rO(p,!b||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=ha(),C;if(t){let M=typeof t=="string"?Fl(t):t;Tr(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),C=M}else C=S;let O=C.pathname||"/",I=O;if(v!=="/"){let M=v.replace(/^\//,"").split("/");I="/"+O.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=W3(e,{pathname:I});Wi(b||P!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Wi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=iR(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:js([v,a.encodeLocation?a.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:js([v,a.encodeLocation?a.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,r,n,i);return t&&D?_.createElement(Vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},D):D}function eR(){let e=cR(),t=U6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,c)}var tR=_.createElement(eR,null),tO=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Y6(e.digest);r&&(e=r)}let t=e!==void 0?_.createElement(Qa.Provider,{value:this.props.routeContext},_.createElement(Iy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(rR,{error:e},t):t}};tO.contextType=V6;var l1=new WeakMap;function rR({children:e,error:t}){let{basename:r}=_.useContext(Hi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=X6(t.digest);if(n){let i=l1.get(t);if(i)throw i;let a=K3(n.location,r);if(G3&&!l1.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw l1.set(t,c),c}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function nR({routeContext:e,match:t,children:r}){let n=_.useContext(Xc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(Qa.Provider,{value:e},r)}function iR(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,c=r?.errors;if(c!=null){let v=a.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Tr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let f=!1,h=-1;if(r)for(let v=0;v<a.length;v++){let b=a[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(h=v),b.route.id){let{loaderData:S,errors:C}=r,O=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||O){f=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let p=r&&n?(v,b)=>{n(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:$6(r.matches),errorInfo:b})}:void 0;return a.reduceRight((v,b,S)=>{let C,O=!1,I=null,P=null;r&&(C=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||tR,f&&(h<0&&S===0?(rO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,P=null):h===S&&(O=!0,P=b.route.hydrateFallbackElement||null)));let D=t.concat(a.slice(0,S+1)),M=()=>{let R;return C?R=I:O?R=P:b.route.Component?R=_.createElement(b.route.Component,null):b.route.element?R=b.route.element:R=v,_.createElement(nR,{match:b,routeContext:{outlet:v,matches:D,isDataRoute:r!=null},children:R})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?_.createElement(tO,{location:r.location,revalidation:r.revalidation,component:I,error:C,children:M(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:p}):M()},null)}function Py(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(e){let t=_.useContext(Xc);return Tr(t,Py(e)),t}function sR(e){let t=_.useContext(Ap);return Tr(t,Py(e)),t}function oR(e){let t=_.useContext(Qa);return Tr(t,Py(e)),t}function jy(e){let t=oR(e),r=t.matches[t.matches.length-1];return Tr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function lR(){return jy("useRouteId")}function cR(){let e=_.useContext(Iy),t=sR("useRouteError"),r=jy("useRouteError");return e!==void 0?e:t.errors?.[r]}function uR(){let{router:e}=aR("useNavigate"),t=jy("useNavigate"),r=_.useRef(!1);return J3(()=>{r.current=!0}),_.useCallback(async(i,a={})=>{Wi(r.current,Q3),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var HE={};function rO(e,t,r){!t&&!HE[e]&&(HE[e]=!0,Wi(!1,r))}_.memo(dR);function dR({routes:e,future:t,state:r,onError:n}){return eO(e,void 0,r,n,t)}function fR({to:e,replace:t,state:r,relative:n}){Tr(Yc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Hi);Wi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(Qa),{pathname:c}=ha(),f=Cp(),h=Oy(e,Ny(a),c,n==="path"),p=JSON.stringify(h);return _.useEffect(()=>{f(JSON.parse(p),{replace:t,state:r,relative:n})},[f,p,n,t,r]),null}function _a(e){Tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hR({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:c}){Tr(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=_.useMemo(()=>({basename:f,navigator:i,static:a,unstable_useTransitions:c,future:{}}),[f,i,a,c]);typeof r=="string"&&(r=Fl(r));let{pathname:p="/",search:v="",hash:b="",state:S=null,key:C="default"}=r,O=_.useMemo(()=>{let I=Ds(p,f);return I==null?null:{location:{pathname:I,search:v,hash:b,state:S,key:C},navigationType:n}},[f,p,v,b,S,C,n]);return Wi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:_.createElement(Hi.Provider,{value:h},_.createElement(Vd.Provider,{children:t,value:O}))}function pR({children:e,location:t}){return J6(tv(e),t)}function tv(e,t=[]){let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let a=[...t,i];if(n.type===_.Fragment){r.push.apply(r,tv(n.props.children,a));return}Tr(n.type===_a,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=tv(n.props.children,a)),r.push(c)}),r}var e0="get",t0="application/x-www-form-urlencoded";function _p(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function mR(e){return _p(e)&&e.tagName.toLowerCase()==="button"}function gR(e){return _p(e)&&e.tagName.toLowerCase()==="form"}function xR(e){return _p(e)&&e.tagName.toLowerCase()==="input"}function vR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yR(e,t){return e.button===0&&(!t||t==="_self")&&!vR(e)}var _h=null;function bR(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var wR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c1(e){return e!=null&&!wR.has(e)?(Wi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${t0}"`),null):e}function ER(e,t){let r,n,i,a,c;if(gR(e)){let f=e.getAttribute("action");n=f?Ds(f,t):null,r=e.getAttribute("method")||e0,i=c1(e.getAttribute("enctype"))||t0,a=new FormData(e)}else if(mR(e)||xR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(n=h?Ds(h,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||e0,i=c1(e.getAttribute("formenctype"))||c1(f.getAttribute("enctype"))||t0,a=new FormData(f,e),!bR()){let{name:p,type:v,value:b}=e;if(v==="image"){let S=p?`${p}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else p&&a.append(p,b)}}else{if(_p(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=e0,n=null,i=t0,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ky(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SR(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ds(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function AR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _R(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await AR(a,r);return c.links?c.links():[]}return[]}));return PR(n.flat(1).filter(CR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qE(e,t,r,n,i,a){let c=(h,p)=>r[p]?h.route.id!==r[p].route.id:!0,f=(h,p)=>r[p].pathname!==h.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,p)=>c(h,p)||f(h,p)):a==="data"?t.filter((h,p)=>{let v=n.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function NR(e,t,{includeHydrateFallback:r}={}){return OR(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function OR(e){return[...new Set(e)]}function IR(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function PR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(IR(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function nO(){let e=_.useContext(Xc);return ky(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jR(){let e=_.useContext(Ap);return ky(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ty=_.createContext(void 0);Ty.displayName="FrameworkContext";function iO(){let e=_.useContext(Ty);return ky(e,"You must render this element inside a <HydratedRouter> element"),e}function kR(e,t){let r=_.useContext(Ty),[n,i]=_.useState(!1),[a,c]=_.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=t,S=_.useRef(null);_.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let I=D=>{D.forEach(M=>{c(M.isIntersecting)})},P=new IntersectionObserver(I,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[e]),_.useEffect(()=>{if(n){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[n]);let C=()=>{i(!0)},O=()=>{i(!1),c(!1)};return r?e!=="intent"?[a,S,{}]:[a,S,{onFocus:Ku(f,C),onBlur:Ku(h,O),onMouseEnter:Ku(p,C),onMouseLeave:Ku(v,O),onTouchStart:Ku(b,C)}]:[!1,S,{}]}function Ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function TR({page:e,...t}){let{router:r}=nO(),n=_.useMemo(()=>W3(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(DR,{page:e,matches:n,...t}):null}function RR(e){let{manifest:t,routeModules:r}=iO(),[n,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return _R(e,t,r).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,r]),n}function DR({page:e,matches:t,...r}){let n=ha(),{future:i,manifest:a,routeModules:c}=iO(),{basename:f}=nO(),{loaderData:h,matches:p}=jR(),v=_.useMemo(()=>qE(e,t,p,a,n,"data"),[e,t,p,a,n]),b=_.useMemo(()=>qE(e,t,p,a,n,"assets"),[e,t,p,a,n]),S=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let I=new Set,P=!1;if(t.forEach(M=>{let R=a.routes[M.route.id];!R||!R.hasLoader||(!v.some(B=>B.route.id===M.route.id)&&M.route.id in h&&c[M.route.id]?.shouldRevalidate||R.hasClientLoader?P=!0:I.add(M.route.id))}),I.size===0)return[];let D=SR(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return P&&I.size>0&&D.searchParams.set("_routes",t.filter(M=>I.has(M.route.id)).map(M=>M.route.id).join(",")),[D.pathname+D.search]},[f,i.unstable_trailingSlashAwareDataRequests,h,n,a,v,t,e,c]),C=_.useMemo(()=>NR(b,a),[b,a]),O=RR(b);return _.createElement(_.Fragment,null,S.map(I=>_.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),C.map(I=>_.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),O.map(({key:I,link:P})=>_.createElement("link",{key:I,nonce:r.nonce,...P})))}function MR(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var LR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LR&&(window.__reactRouterVersion="7.12.0")}catch{}function BR({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=_.useRef();i.current==null&&(i.current=x6({window:n,v5Compat:!0}));let a=i.current,[c,f]=_.useState({action:a.action,location:a.location}),h=_.useCallback(p=>{r===!1?f(p):_.startTransition(()=>f(p))},[r]);return _.useLayoutEffect(()=>a.listen(h),[a,h]),_.createElement(hR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:r})}var aO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:c,state:f,target:h,to:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},O){let{basename:I,unstable_useTransitions:P}=_.useContext(Hi),D=typeof p=="string"&&aO.test(p),M=K3(p,I);p=M.to;let R=Z6(p,{relative:i}),[B,W,$]=kR(n,C),H=$R(p,{replace:c,state:f,target:h,preventScrollReset:v,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:P});function Z(pe){t&&t(pe),pe.defaultPrevented||H(pe)}let K=_.createElement("a",{...C,...$,href:M.absoluteURL||R,onClick:M.isExternal||a?t:Z,ref:MR(O,W),target:h,"data-discover":!D&&r==="render"?"true":void 0});return B&&!D?_.createElement(_.Fragment,null,K,_.createElement(TR,{page:R})):K});ai.displayName="Link";var FR=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:c,viewTransition:f,children:h,...p},v){let b=Hd(c,{relative:p.relative}),S=ha(),C=_.useContext(Ap),{navigator:O,basename:I}=_.useContext(Hi),P=C!=null&&GR(b)&&f===!0,D=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,M=S.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(M=M.toLowerCase(),R=R?R.toLowerCase():null,D=D.toLowerCase()),R&&I&&(R=Ds(R,I)||R);const B=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=M===D||!i&&M.startsWith(D)&&M.charAt(B)==="/",$=R!=null&&(R===D||!i&&R.startsWith(D)&&R.charAt(D.length)==="/"),H={isActive:W,isPending:$,isTransitioning:P},Z=W?t:void 0,K;typeof n=="function"?K=n(H):K=[n,W?"active":null,$?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let pe=typeof a=="function"?a(H):a;return _.createElement(ai,{...p,"aria-current":Z,className:K,ref:v,style:pe,to:c,viewTransition:f},typeof h=="function"?h(H):h)});FR.displayName="NavLink";var zR=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:c=e0,action:f,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},O)=>{let{unstable_useTransitions:I}=_.useContext(Hi),P=HR(),D=qR(f,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&aO.test(f),B=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let $=W.nativeEvent.submitter,H=$?.getAttribute("formmethod")||c,Z=()=>P($||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:a,relative:p,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:S});I&&r!==!1?_.startTransition(()=>Z()):Z()};return _.createElement("form",{ref:O,method:M,action:D,onSubmit:n?h:B,...C,"data-discover":!R&&e==="render"?"true":void 0})});zR.displayName="Form";function UR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sO(e){let t=_.useContext(Xc);return Tr(t,UR(e)),t}function $R(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let p=Cp(),v=ha(),b=Hd(e,{relative:a});return _.useCallback(S=>{if(yR(S,t)){S.preventDefault();let C=r!==void 0?r:yd(v)===yd(b),O=()=>p(e,{replace:C,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f});h?_.startTransition(()=>O()):O()}},[v,p,b,r,n,t,e,i,a,c,f,h])}var WR=0,VR=()=>`__${String(++WR)}__`;function HR(){let{router:e}=sO("useSubmit"),{basename:t}=_.useContext(Hi),r=lR(),n=e.fetch,i=e.navigate;return _.useCallback(async(a,c={})=>{let{action:f,method:h,encType:p,formData:v,body:b}=ER(a,t);if(c.navigate===!1){let S=c.fetcherKey||VR();await n(S,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function qR(e,{relative:t}={}){let{basename:r}=_.useContext(Hi),n=_.useContext(Qa);Tr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Hd(e||".",{relative:t})},c=ha();if(e==null){a.search=c.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();a.search=v?`?${v}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:js([r,a.pathname])),yd(a)}function GR(e,{relative:t}={}){let r=_.useContext(Y3);Tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sO("useViewTransitionState"),i=Hd(e,{relative:t});if(!r.isTransitioning)return!1;let a=Ds(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Ds(r.nextLocation.pathname,n)||r.nextLocation.pathname;return h0(i.pathname,c)!=null||h0(i.pathname,a)!=null}var Ry=$3(),KR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),st=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,children:f,...h},p)=>_.createElement("svg",{ref:p,...KR,width:i,height:i,stroke:n,strokeWidth:c?Number(a)*24/Number(i):a,className:`lucide lucide-${XR(e)}`,...h},[...t.map(([v,b])=>_.createElement(v,b)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},YR=st("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Dy=st("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),hd=st("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ZR=st("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),QR=st("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),oO=st("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Np=st("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),kc=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),JR=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),lO=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),e5=st("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),My=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),t5=st("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),pd=st("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),cO=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),r0=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),r5=st("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),uO=st("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dO=st("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),n5=st("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),i5=st("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),fO=st("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),hO=st("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),a5=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),s5=st("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),bd=st("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),GE=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),pO=st("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),o5=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Op=st("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),l5=st("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),mO=st("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ly=st("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),gO=st("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),KE=st("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),c5=st("PlusSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),XE=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ip=st("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),u5=st("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),d5=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),f5=st("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),By=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),h5=st("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),Os=st("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),wd=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xO=st("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),p5=st("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),m5=st("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),g5=st("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Nl=st("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),YE=st("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),vO=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Io=st("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),yO=st("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),x5=st("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Ed=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),n0=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Sd=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ZE=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),bO=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),v5=st("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),Ai=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),y5=st("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),b5=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),i=ha(),a=Cp();_.useEffect(()=>{const S=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)},[]);const c=i.pathname==="/",h=`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${e||!c?"bg-white/95 backdrop-blur-md shadow-sm border-b border-stone-100 py-3":"bg-transparent py-1"}`,p=S=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===S?"text-stone-900 border-b-2 border-stone-800":e||!c?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,v=S=>{a(S),n(!1)},b=()=>{const S=i.pathname;if(S==="/")return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-sm shrink-0",children:m.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border border-white/20"})}),m.jsxs("div",{className:"flex flex-col items-center justify-center -space-y-0.5",children:[m.jsxs("h1",{className:"font-serif italic text-2xl md:text-3xl text-stone-900 tracking-[0.15em] drop-shadow-sm whitespace-nowrap",children:["Tus3B ",m.jsx("span",{className:"text-amber-500",children:"HUB"})]}),m.jsx("span",{className:"text-[9px] md:text-[10px] text-stone-500 uppercase tracking-[0.25em] font-medium leading-none whitespace-nowrap",children:"Belleza  Aroma  Regalos"})]})]});let C="text-stone-900",O="Style",I="by tus3b",P=!0;return S.startsWith("/perfum")?(C="text-amber-600",O="Perfum",P=!1):S.startsWith("/regalos")&&(C="text-rose-600",O="Amor Amor",P=!1),m.jsxs(ai,{to:S.startsWith("/perfum")?"/perfum":S.startsWith("/regalos")?"/regalos":"/style",className:"flex flex-col justify-center items-start leading-none group pb-2.5",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("span",{className:`serif text-2xl md:text-3xl font-bold tracking-tight ${C} ${P?"italic":""} transition-opacity group-hover:opacity-80`,children:O})}),m.jsx("span",{className:"text-stone-400 text-[10px] font-medium tracking-[0.2em] uppercase ml-0.5",children:I})]})};return m.jsxs("nav",{className:h,children:[m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"relative flex justify-between items-center min-h-14 md:min-h-[4rem]",children:[m.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-1",children:[i.pathname!=="/"&&m.jsx(ai,{to:"/",className:`p-2 rounded-full transition shrink-0 ${e||!c?"bg-stone-100 text-stone-600 hover:bg-stone-200":"bg-black/20 text-white hover:bg-black/30"}`,title:"Volver al Hub",children:m.jsx(hO,{size:18})}),m.jsx("div",{className:"flex items-center justify-start",children:b()})]}),m.jsx("div",{className:"hidden md:flex space-x-8 items-center justify-center flex-1",children:i.pathname!=="/"&&m.jsxs(m.Fragment,{children:[m.jsx(ai,{to:"/style",className:p("/style"),children:"Style"}),m.jsx(ai,{to:"/perfum",className:p("/perfum"),children:"Perfum"}),m.jsx(ai,{to:"/regalos",className:p("/regalos"),children:"Amor Amor"})]})}),m.jsxs("div",{className:"flex items-center justify-end flex-1 gap-4",children:[m.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):a("/style")},className:"hidden md:block bg-stone-900 text-white px-5 py-2 rounded-full text-xs font-bold uppercase tracking-wider hover:bg-stone-800 transition shadow-lg transform hover:scale-105",children:"Reservar"}),m.jsx("div",{className:"md:hidden flex items-center",children:m.jsx("button",{onClick:()=>n(!r),className:`focus:outline-none ${e||!c?"text-stone-900":"text-stone-800"}`,children:r?m.jsx(Ai,{size:32}):m.jsx(o5,{size:32})})})]})]})}),r&&m.jsxs("div",{className:"md:hidden fixed inset-0 top-[56px] bg-white z-40 flex flex-col p-6 space-y-6 animate-in slide-in-from-right-10 border-t border-stone-100",children:[m.jsxs("button",{onClick:()=>v("/style"),className:"flex items-center space-x-4 text-lg font-medium text-stone-800 p-3 active:bg-stone-50 rounded-xl border border-transparent active:border-stone-100",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center text-stone-600",children:m.jsx(Os,{size:20})}),m.jsx("span",{children:"Style (Inicio)"})]}),m.jsxs("button",{onClick:()=>v("/perfum"),className:"flex items-center space-x-4 text-lg font-medium text-stone-800 p-3 active:bg-stone-50 rounded-xl border border-transparent active:border-stone-100",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-50 flex items-center justify-center text-amber-600",children:m.jsx(Nl,{size:20})}),m.jsx("span",{children:"Perfumes"})]}),m.jsxs("button",{onClick:()=>v("/regalos"),className:"flex items-center space-x-4 text-lg font-medium text-stone-800 p-3 active:bg-stone-50 rounded-xl border border-transparent active:border-stone-100",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-50 flex items-center justify-center text-rose-600",children:m.jsx(dO,{size:20})}),m.jsx("span",{children:"Regalos"})]}),m.jsx("div",{className:"mt-auto pb-8",children:m.jsxs("button",{onClick:()=>v("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-2",children:[m.jsx(Os,{size:18}),"Agendar Cita"]})})]})]})},w5=({onCtaClick:e})=>m.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[m.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),m.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[m.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),m.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",m.jsx("br",{})," ",m.jsx("span",{className:"italic",children:"Tu Esencia"})]}),m.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",m.jsx("br",{className:"hidden md:block"}),m.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:m.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),m.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[m.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[m.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),m.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[m.jsx("span",{className:"mr-1",children:"Desde"}),m.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),Tc="56984524774",E5="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",Ei=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]},{id:"alisado-1",name:"Alisado Permanente",description:"Alisado profesional para un cabello liso, suave y brillante por meses.",price:39990,durationMin:180,includes:["Evaluacin del cabello","Alisado completo","Tratamiento sellador"],fromPrice:!0},{id:"mechas-1",name:"Mechas",description:"Iluminaciones y mechas para dar luz y dimensin a tu cabello.",price:39990,durationMin:150,includes:["Diagnstico capilar","Mechas personalizadas","Matizado"],fromPrice:!0},{id:"hidratacion-1",name:"Hidratacin",description:"Tratamiento profundo para devolver la vitalidad y suavidad a tu cabello.",price:14990,durationMin:60,includes:["Diagnstico capilar","Tratamiento hidratante profundo","Sellado de cutculas"],fromPrice:!0},{id:"balayage-1",name:"Balayage",description:"Tcnica de coloracin para un efecto natural, degradado y luminoso.",price:34990,durationMin:180,includes:["Diagnstico capilar","Balayage personalizado","Matizado y sellado"],fromPrice:!0}],S5=3e3,A5=30,C5=["Santiago Centro","uoa"],ks=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous-spray.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],QE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],_5=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],N5=[{id:"gift-red-passion",name:"Red Passion",price:34990,image:"/images/gifts/red-passion-pack.jpg",description:'Hay regalos que se guardan y otros que se llevan puestos. Con el pack "Red Passion", no solo regalas la exclusividad de Lattafa y la dulzura de Ritter, sino un recordatorio constante en sus manos. Porque cada vez que tome sus llaves, sentir el peso de un detalle hecho con el corazn.',includes:["Perfume Ana Abiyedh 60ml","Caja Roja Premium","4 Chocolates Ritter","Llavero Corazn"],note:"Consulta por otro perfume"},{id:"gift-love-gold",name:"Love Gold",price:36990,image:"/images/gifts/love-gold-pack.jpg",description:"Buscas el regalo que lo diga todo por ti? Hemos reunido el aroma ms deseado de Maison Alhambra con los detalles que nunca fallan. Sofisticacin, flores y chocolates: la trada perfecta para sorprender a alguien especial.",includes:["Perfume Lonie 100ml","Caja Dorada Premium","Rosa Eterna","4 Chocolates Ferrero"],note:"Consulta por otro perfume"},{id:"gift-pink-sweet",name:"Pink Sweet",price:29990,image:"/images/gifts/pink-sweet-pack.jpg",description:`Hay fragancias que evocan recuerdos y detalles que los mantienen vivos. Sorprende con este pack "Pink Sweet" que combina la sofisticacin de Victoria's Secret con un detalle tctil: un llavero de corazn que ser el recordatorio diario de tu amor en sus manos. Porque los mejores regalos son los que se llevan puestos y se sienten cerca.`,includes:["Body Mist Bare Vanilla Daydream 250ml","Caja Rosada Premium","4 Chocolates Ritter","Llavero Corazn"],note:"Consulta por otra fragancia"},{id:"gift-pink-surprise-fresh",name:"Pink Surprise Box - Fresh",price:21990,image:"/images/gifts/pink-surprise-fresh-final.jpg",description:"Haz que su corazn palpite ms fuerte con nuestra Pink Surprise Box. Una seleccin premium con la sofisticacin rabe de Yara, chocolates para endulzar el da y un detalle que vivir en sus manos: un llavero diseado para recordarle, paso a paso, cunto la quieres. Elige la versin que ms le guste y sorprndela!",includes:["Lattafa Yara Spray 200ml","Caja Sorpresa Premium","4 Chocolates","Llavero de Diseo"],note:"Versin Spray"},{id:"gift-pink-surprise-luxury",name:"Pink Surprise Box - Luxury",price:44990,image:"/images/gifts/pink-surprise-luxury-final.jpg",description:"Haz que su corazn palpite ms fuerte con nuestra Pink Surprise Box. Una seleccin premium con la sofisticacin rabe de Yara, chocolates para endulzar el da y un detalle que vivir en sus manos: un llavero diseado para recordarle, paso a paso, cunto la quieres. Elige la versin que ms le guste y sorprndela!",includes:["Lattafa Yara EDP 100ml","Caja Sorpresa Premium","4 Chocolates","Llavero de Diseo"],note:"Versin Perfume"},{id:"love-in-air",name:" Love in the Air ",price:26990,description:"Buscas una sorpresa que llegue a lo ms alto? Hemos diseado este encantador globo aerosttico que combina la ternura clsica con una presentacin inolvidable. Dulzura, suavidad y magia: el regalo perfecto para hacer volar su corazn en este da especial.",image:"/love_in_the_air.png",includes:[" Oso de Peluche Premium"," Caja Hershey's Kisses"," Globo Decorativo Rosa"," Caja Pink Decorada"],category:"san-valentin"},{id:"gift-custom",name:"Arma tu regalito",price:0,description:"Quieres personalizar tu regalo? Cuntanos qu tienes en mente y te ayudamos a armarlo.",includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var Es={},Nh={},rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},rv(e,t)};function wO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var p0=function(){return p0=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},p0.apply(this,arguments)};function Zc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function EO(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(a=(i<3?c(a):i>3?c(t,r,a):c(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function SO(e,t){return function(r,n){t(r,n,e)}}function AO(e,t,r,n,i,a){function c(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var f=n.kind,h=f==="getter"?"get":f==="setter"?"set":"value",p=!t&&e?n.static?e:e.prototype:null,v=t||(p?Object.getOwnPropertyDescriptor(p,n.name):{}),b,S=!1,C=r.length-1;C>=0;C--){var O={};for(var I in n)O[I]=I==="access"?{}:n[I];for(var I in n.access)O.access[I]=n.access[I];O.addInitializer=function(D){if(S)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(D||null))};var P=(0,r[C])(f==="accessor"?{get:v.get,set:v.set}:v[h],O);if(f==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(b=c(P.get))&&(v.get=b),(b=c(P.set))&&(v.set=b),(b=c(P.init))&&i.unshift(b)}else(b=c(P))&&(f==="field"?i.unshift(b):v[h]=b)}p&&Object.defineProperty(p,n.name,v),S=!0}function CO(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function _O(e){return typeof e=="symbol"?e:"".concat(e)}function NO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function OO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rt(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})}function IO(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Pp=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function PO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pp(t,e,r)}function m0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return a}function jO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Fy(arguments[t]));return e}function kO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],c=0,f=a.length;c<f;c++,i++)n[i]=a[c];return n}function TO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Bc(e){return this instanceof Bc?(this.v=e,this):new Bc(e)}function RO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(C){return function(O){return Promise.resolve(O).then(C,b)}}function f(C,O){n[C]&&(i[C]=function(I){return new Promise(function(P,D){a.push([C,I,P,D])>1||h(C,I)})},O&&(i[C]=O(i[C])))}function h(C,O){try{p(n[C](O))}catch(I){S(a[0][3],I)}}function p(C){C.value instanceof Bc?Promise.resolve(C.value.v).then(v,b):S(a[0][2],C)}function v(C){h("next",C)}function b(C){h("throw",C)}function S(C,O){C(O),a.shift(),a.length&&h(a[0][0],a[0][1])}}function DO(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(c){return(r=!r)?{value:Bc(e[i](c)),done:!1}:a?a(c):c}:a}}function MO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof m0=="function"?m0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(c){return new Promise(function(f,h){c=e[a](c),i(f,h,c.done,c.value)})}}function i(a,c,f,h){Promise.resolve(h).then(function(p){a({value:p,done:f})},c)}}function LO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O5=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},nv=function(e){return nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},nv(e)};function BO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=nv(e),n=0;n<r.length;n++)r[n]!=="default"&&Pp(t,e,r[n]);return O5(t,e),t}function FO(e){return e&&e.__esModule?e:{default:e}}function zO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function UO(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function $O(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function WO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var I5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function VO(e){function t(a){e.error=e.hasError?new I5(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function HO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,c){return n?t?".jsx":".js":i&&(!a||!c)?r:i+a+"."+c.toLowerCase()+"js"}):e}const P5={__extends:wO,__assign:p0,__rest:Zc,__decorate:EO,__param:SO,__esDecorate:AO,__runInitializers:CO,__propKey:_O,__setFunctionName:NO,__metadata:OO,__awaiter:rt,__generator:IO,__createBinding:Pp,__exportStar:PO,__values:m0,__read:Fy,__spread:jO,__spreadArrays:kO,__spreadArray:TO,__await:Bc,__asyncGenerator:RO,__asyncDelegator:DO,__asyncValues:MO,__makeTemplateObject:LO,__importStar:BO,__importDefault:FO,__classPrivateFieldGet:zO,__classPrivateFieldSet:UO,__classPrivateFieldIn:$O,__addDisposableResource:WO,__disposeResources:VO,__rewriteRelativeImportExtension:HO},j5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:WO,get __assign(){return p0},__asyncDelegator:DO,__asyncGenerator:RO,__asyncValues:MO,__await:Bc,__awaiter:rt,__classPrivateFieldGet:zO,__classPrivateFieldIn:$O,__classPrivateFieldSet:UO,__createBinding:Pp,__decorate:EO,__disposeResources:VO,__esDecorate:AO,__exportStar:PO,__extends:wO,__generator:IO,__importDefault:FO,__importStar:BO,__makeTemplateObject:LO,__metadata:OO,__param:SO,__propKey:_O,__read:Fy,__rest:Zc,__rewriteRelativeImportExtension:HO,__runInitializers:CO,__setFunctionName:NO,__spread:jO,__spreadArray:TO,__spreadArrays:kO,__values:m0,default:P5},Symbol.toStringTag,{value:"Module"})),k5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let jp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},qO=class extends jp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},iv=class extends jp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},av=class extends jp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var g0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(g0||(g0={}));class T5{constructor(t,{headers:r={},customFetch:n,region:i=g0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=k5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return rt(this,arguments,void 0,function*(r,n={}){var i;let a,c;try{const{headers:f,method:h,body:p,signal:v,timeout:b}=n;let S={},{region:C}=n;C||(C=this.region);const O=new URL(`${this.url}/${r}`);C&&C!=="any"&&(S["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let I;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",I=p):typeof p=="string"?(S["Content-Type"]="text/plain",I=p):typeof FormData<"u"&&p instanceof FormData?I=p:(S["Content-Type"]="application/json",I=JSON.stringify(p)):I=p;let P=v;b&&(c=new AbortController,a=setTimeout(()=>c.abort(),b),v?(P=c.signal,v.addEventListener("abort",()=>c.abort())):P=c.signal);const D=yield this.fetch(O.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:I,signal:P}).catch(W=>{throw new qO(W)}),M=D.headers.get("x-relay-error");if(M&&M==="true")throw new iv(D);if(!D.ok)throw new av(D);let R=((i=D.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return R==="application/json"?B=yield D.json():R==="application/octet-stream"||R==="application/pdf"?B=yield D.blob():R==="text/event-stream"?B=D:R==="multipart/form-data"?B=yield D.formData():B=yield D.text(),{data:B,error:null,response:D}}catch(f){return{data:null,error:f,response:f instanceof av||f instanceof iv?f.context:void 0}}finally{a&&clearTimeout(a)}})}}const R5=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return g0},FunctionsClient:T5,FunctionsError:jp,FunctionsFetchError:qO,FunctionsHttpError:av,FunctionsRelayError:iv},Symbol.toStringTag,{value:"Module"})),GO=Wd(R5);var ri={};const Qc=Wd(j5);var Oh={},Ih={},Ph={},jh={},kh={},Th={},JE;function KO(){if(JE)return Th;JE=1,Object.defineProperty(Th,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Th.default=e,Th}var eS;function XO(){if(eS)return kh;eS=1,Object.defineProperty(kh,"__esModule",{value:!0});const t=Qc.__importDefault(KO());let r=class{constructor(i){var a,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,v,b,S;let C=null,O=null,I=null,P=h.status,D=h.statusText;if(h.ok){if(this.method!=="HEAD"){const W=await h.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?O=W:O=JSON.parse(W))}const R=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),B=(b=h.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");R&&B&&B.length>1&&(I=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(C={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,I=null,P=406,D="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const R=await h.text();try{C=JSON.parse(R),Array.isArray(C)&&h.status===404&&(O=[],C=null,P=200,D="OK")}catch{h.status===404&&R===""?(P=204,D="No Content"):C={message:R}}if(C&&this.isMaybeSingle&&(!((S=C?.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,P=200,D="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:O,count:I,status:P,statusText:D}});return this.shouldThrowOnError||(f=f.catch(h=>{var p,v,b,S,C,O;let I="";const P=h?.cause;if(P){const D=(p=P?.message)!==null&&p!==void 0?p:"",M=(v=P?.code)!==null&&v!==void 0?v:"";I=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,I+=`

Caused by: ${(S=P?.name)!==null&&S!==void 0?S:"Error"}: ${D}`,M&&(I+=` (${M})`),P?.stack&&(I+=`
${P.stack}`)}else I=(C=h?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(O=h?.name)!==null&&O!==void 0?O:"FetchError"}: ${h?.message}`,details:I,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,a)}returns(){return this}overrideTypes(){return this}};return kh.default=r,kh}var tS;function YO(){if(tS)return jh;tS=1,Object.defineProperty(jh,"__esModule",{value:!0});const t=Qc.__importDefault(XO());let r=class extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const p=h?`${h}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(p,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:p="text"}={}){var v;const b=[i?"analyze":null,a?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return jh.default=r,jh}var rS;function zy(){if(rS)return Ph;rS=1,Object.defineProperty(Ph,"__esModule",{value:!0});const t=Qc.__importDefault(YO()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}regexMatch(a,c){return this.url.searchParams.append(a,`match.${c}`),this}regexIMatch(a,c){return this.url.searchParams.append(a,`imatch.${c}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}isDistinct(a,c){return this.url.searchParams.append(a,`isdistinct.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${p}fts${v}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}};return Ph.default=n,Ph}var nS;function ZO(){if(nS)return Ih;nS=1,Object.defineProperty(Ih,"__esModule",{value:!0});const t=Qc.__importDefault(zy());let r=class{constructor(i,{headers:a={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(a),this.schema=c,this.fetch=f}select(i,a){const{head:c=!1,count:f}=a??{},h=c?"HEAD":"GET";let p=!1;const v=(i??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:c=!0}={}){var f;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(p.length>0){const v=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(b.length>0){const S=[...new Set(b)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(i,{count:a}={}){var c;const f="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var a;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Ih.default=r,Ih}var iS;function D5(){if(iS)return Oh;iS=1,Object.defineProperty(Oh,"__esModule",{value:!0});const e=Qc,t=e.__importDefault(ZO()),r=e.__importDefault(zy());let n=class QO{constructor(a,{headers:c={},schema:f,fetch:h}={}){this.url=a,this.headers=new Headers(c),this.schemaName=f,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new QO(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:f=!1,get:h=!1,count:p}={}){var v;let b;const S=new URL(`${this.url}/rpc/${a}`);let C;f||h?(b=f?"HEAD":"GET",Object.entries(c).filter(([I,P])=>P!==void 0).map(([I,P])=>[I,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([I,P])=>{S.searchParams.append(I,P)})):(b="POST",C=c);const O=new Headers(this.headers);return p&&O.set("Prefer",`count=${p}`),new r.default({method:b,url:S,headers:O,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Oh.default=n,Oh}var aS;function JO(){if(aS)return ri;aS=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.PostgrestError=ri.PostgrestBuilder=ri.PostgrestTransformBuilder=ri.PostgrestFilterBuilder=ri.PostgrestQueryBuilder=ri.PostgrestClient=void 0;const e=Qc,t=e.__importDefault(D5());ri.PostgrestClient=t.default;const r=e.__importDefault(ZO());ri.PostgrestQueryBuilder=r.default;const n=e.__importDefault(zy());ri.PostgrestFilterBuilder=n.default;const i=e.__importDefault(YO());ri.PostgrestTransformBuilder=i.default;const a=e.__importDefault(XO());ri.PostgrestBuilder=a.default;const c=e.__importDefault(KO());return ri.PostgrestError=c.default,ri.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},ri}class eI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M5="2.87.1",L5=`realtime-js/${M5}`,tI="1.0.0",B5="2.0.0",sS=tI,sv=1e4,F5=1e3,z5=100;var pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(pl||(pl={}));var an;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(an||(an={}));var Ia;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ia||(Ia={}));var ov;(function(e){e.websocket="websocket"})(ov||(ov={}));var ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ml||(ml={}));class U5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,a;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",p=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+p.length+b.length,C=new ArrayBuffer(this.HEADER_LENGTH+S);let O=new DataView(C),I=0;O.setUint8(I++,this.KINDS.userBroadcastPush),O.setUint8(I++,h.length),O.setUint8(I++,f.length),O.setUint8(I++,c.length),O.setUint8(I++,p.length),O.setUint8(I++,b.length),O.setUint8(I++,r),Array.from(h,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(f,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(c,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(p,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(b,D=>O.setUint8(I++,D.charCodeAt(0)));var P=new Uint8Array(C.byteLength+n.byteLength);return P.set(new Uint8Array(C),0),P.set(new Uint8Array(n),C.byteLength),P.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,c,f,h]=n;return r({join_ref:i,ref:a,topic:c,event:f,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const p=n.decode(t.slice(h,h+i));h=h+i;const v=n.decode(t.slice(h,h+a));h=h+a;const b=n.decode(t.slice(h,h+c));h=h+c;const S=t.slice(h,t.byteLength),C=f===this.JSON_ENCODING?JSON.parse(n.decode(S)):S,O={type:this.BROADCAST_EVENT,event:v,payload:C};return c>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class rI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xr||(xr={}));const oS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=$5(c,e,t,i),a),{}):{}},$5=(e,t,r,n)=>{const i=t.find(f=>f.name===e),a=i?.type,c=r[e];return a&&!n.includes(a)?nI(a,c):lv(c)},nI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return q5(t,r)}switch(e){case xr.bool:return W5(t);case xr.float4:case xr.float8:case xr.int2:case xr.int4:case xr.int8:case xr.numeric:case xr.oid:return V5(t);case xr.json:case xr.jsonb:return H5(t);case xr.timestamp:return G5(t);case xr.abstime:case xr.date:case xr.daterange:case xr.int4range:case xr.int8range:case xr.money:case xr.reltime:case xr.text:case xr.time:case xr.timestamptz:case xr.timetz:case xr.tsrange:case xr.tstzrange:return lv(t);default:return lv(t)}},lv=e=>e,W5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},q5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>nI(t,f))}return e},G5=e=>typeof e=="string"?e.replace(" ","T"):e,iI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class u1{constructor(t,r,n={},i=sv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cv||(cv={}));let aI=class i0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=i0.syncState(this.state,i,a,c),this.pendingDiffs.forEach(h=>{this.state=i0.syncDiff(this.state,h,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=i0.syncDiff(this.state,i,a,c),f())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),c=this.transformState(r),f={},h={};return this.map(a,(p,v)=>{c[p]||(h[p]=v)}),this.map(c,(p,v)=>{const b=a[p];if(b){const S=v.map(P=>P.presence_ref),C=b.map(P=>P.presence_ref),O=v.filter(P=>C.indexOf(P.presence_ref)<0),I=b.filter(P=>S.indexOf(P.presence_ref)<0);O.length>0&&(f[p]=O),I.length>0&&(h[p]=I)}else f[p]=v}),this.syncDiff(a,{joins:f,leaves:h},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(f,h)=>{var p;const v=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(h),v.length>0){const b=t[f].map(C=>C.presence_ref),S=v.filter(C=>b.indexOf(C.presence_ref)<0);t[f].unshift(...S)}n(f,v,h)}),this.map(c,(f,h)=>{let p=t[f];if(!p)return;const v=h.map(b=>b.presence_ref);p=p.filter(b=>v.indexOf(b.presence_ref)<0),t[f]=p,i(f,p,h),p.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var uv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uv||(uv={}));var Rc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Rc||(Rc={}));var qa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qa||(qa={}));const K5=an;let sI=class ad{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u1(this,Ia.join,this.params,this.timeout),this.rejoinTimer=new rI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ia.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new aI(this),this.broadcastEndpointURL=iI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==an.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,p=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Rc.PRESENCE]&&this.bindings[Rc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,b={},S={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(C=>t?.(qa.CHANNEL_ERROR,C)),this._onClose(()=>t?.(qa.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){t?.(qa.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,P=(O=I?.length)!==null&&O!==void 0?O:0,D=[];for(let M=0;M<P;M++){const R=I[M],{filter:{event:B,schema:W,table:$,filter:H}}=R,Z=C&&C[M];if(Z&&Z.event===B&&ad.isFilterValueEqual(Z.schema,W)&&ad.isFilterValueEqual(Z.table,$)&&ad.isFilterValueEqual(Z.filter,H))D.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),this.state=an.errored,t?.(qa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(qa.SUBSCRIBED);return}}).receive("error",C=>{this.state=an.errored,t?.(qa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{t?.(qa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===an.joined&&t===Rc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const p=await f.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,h;const p=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=an.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ia.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new u1(this,Ia.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=an.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new u1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>z5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const c=t.toLocaleLowerCase(),{close:f,error:h,leave:p,join:v}=Ia;if(n&&[f,h,p,v].indexOf(c)>=0&&n!==this._joinRef())return;let S=this._onMessage(c,r,n);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var O,I,P;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(I=C.filter)===null||I===void 0?void 0:I.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===c}).map(C=>C.callback(S,n)):(a=this.bindings[c])===null||a===void 0||a.filter(C=>{var O,I,P,D,M,R;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const B=C.id,W=(O=C.filter)===null||O===void 0?void 0:O.event;return B&&((I=r.ids)===null||I===void 0?void 0:I.includes(B))&&(W==="*"||W?.toLocaleLowerCase()===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const B=(M=(D=C?.filter)===null||D===void 0?void 0:D.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return B==="*"||B===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:I,table:P,commit_timestamp:D,type:M,errors:R}=O;S=Object.assign(Object.assign({},{schema:I,table:P,commit_timestamp:D,eventType:M,new:{},old:{},errors:R}),this._getPayloadRecords(O))}C.callback(S,n)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ad.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ia.close,{},t)}_onError(t){this._on(Ia.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=oS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=oS(t.columns,t.old_record)),r}};const d1=()=>{},Rh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},X5=[1e3,2e3,5e3,1e4],Y5=1e4,Z5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Q5=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sv,this.transport=null,this.heartbeatIntervalMs=Rh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d1,this.ref=0,this.reconnectTimer=null,this.vsn=sS,this.logger=d1,this.conn=null,this.sendBuffer=[],this.serializer=new U5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ov.websocket}`,this.httpEndpoint=iI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pl.connecting:return ml.Connecting;case pl.open:return ml.Open;case pl.closing:return ml.Closing;default:return ml.Closed}}isConnected(){return this.connectionState()===ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new sI(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,c=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:c}=r,f=c?`(${c})`:"",h=a.status||"";this.log("receive",`${h} ${n} ${i} ${f}`.trim(),a),this.channels.filter(p=>p._isMember(n)).forEach(p=>p._trigger(i,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pl.open||this.conn.readyState===pl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ia.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Z5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:L5};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Ia.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,c,f,h,p,v,b,S,C;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:sv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Rh.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:d1,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:sS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(O=>X5[O-1]||Y5),this.vsn){case tI:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((O,I)=>I(JSON.stringify(O))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((O,I)=>I(JSON.parse(O)));break;case B5:this.encode=(S=t?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(C=t?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const J5=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:K5,get REALTIME_LISTEN_TYPES(){return Rc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return uv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return cv},get REALTIME_SUBSCRIBE_STATES(){return qa},RealtimeChannel:sI,RealtimeClient:Q5,RealtimePresence:aI,WebSocketFactory:eI},Symbol.toStringTag,{value:"Module"})),oI=Wd(J5);class qd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ir(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lI extends qd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x0 extends qd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Uy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eD=()=>Response,dv=e=>{if(Array.isArray(e))return e.map(r=>dv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=dv(n)}),t},tD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),f1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},nD=(e,t,r)=>rt(void 0,void 0,void 0,function*(){const n=yield eD();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,c=i?.statusCode||a+"";t(new lI(f1(i),a,c))}).catch(i=>{t(new x0(f1(i),i))}):t(new x0(f1(e),e))}),iD=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(tD(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Gd(e,t,r,n,i,a){return rt(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,iD(t,n,i,a)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>nD(h,f,n))})})}function Ad(e,t,r,n){return rt(this,void 0,void 0,function*(){return Gd(e,"GET",t,r,n)})}function Oa(e,t,r,n,i){return rt(this,void 0,void 0,function*(){return Gd(e,"POST",t,n,i,r)})}function fv(e,t,r,n,i){return rt(this,void 0,void 0,function*(){return Gd(e,"PUT",t,n,i,r)})}function aD(e,t,r,n){return rt(this,void 0,void 0,function*(){return Gd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $y(e,t,r,n,i){return rt(this,void 0,void 0,function*(){return Gd(e,"DELETE",t,n,i,r)})}class sD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return rt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ir(t))return{data:null,error:t};throw t}})}}var cI;class oD{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[cI]="BlobDownloadBuilder",this.promise=null}asStream(){return new sD(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return rt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ir(t))return{data:null,error:t};throw t}})}}cI=Symbol.toStringTag;const lD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cD{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return rt(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},lS),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const p=this._removeEmptyFolders(r),v=this._getFinalPath(p),b=yield(t=="PUT"?fv:Oa)(this.fetch,`${this.url}/object/${v}`,a,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ir(a))return{data:null,error:a};throw a}})}upload(t,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return rt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const p=Object.assign({upsert:lS.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",p.cacheControl)):(h=n,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const b=yield fv(this.fetch,f.toString(),h,{headers:v});return{data:{path:a,fullPath:b.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Ir(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return rt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Oa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+a.url),f=c.searchParams.get("token");if(!f)throw new qd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}update(t,r,n){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return rt(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}copy(t,r,n){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield Oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return rt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Oa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return rt(this,void 0,void 0,function*(){try{const i=yield Oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),c=a?`?${a}`:"",f=this._getFinalPath(t),h=()=>Ad(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new oD(h,this.shouldThrowOnError)}info(t){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:dv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}exists(t){return rt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n)&&n instanceof x0){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${p}`)}}}remove(t){return rt(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}list(t,r,n){return rt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},lD),r),{prefix:t||""});return{data:yield Oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}listV2(t,r){return rt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Oa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const uI="2.87.1",dI={"X-Client-Info":`storage-js/${uI}`};class uD{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dI),r),this.fetch=Uy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return rt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ad(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}getBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}createBucket(t){return rt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ir(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return rt(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ir(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Cd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dD(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function fD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function hD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:c}){const f=dD(e.baseUrl,n,i),h=await fD(e.auth),p=await t(f,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...h,...c},body:a?JSON.stringify(a):void 0}),v=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),S=b&&v?JSON.parse(v):v;if(!p.ok){const C=b?S:void 0,O=C?.error;throw new Cd(O?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:O?.type,icebergCode:O?.code,details:C})}return{status:p.status,headers:p.headers,data:S}}}}function Dh(e){return e.join("")}var pD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dh(e.namespace)}`}),!0}catch(t){if(t instanceof Cd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Cd&&r.status===409)return;throw r}}};function mc(e){return e.join("")}var mD=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Cd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Cd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},gD=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=hD({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new pD(this.client,t),this.tableOps=new mD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class fI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dI),r),this.fetch=Uy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}listBuckets(t){return rt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ad(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ir(r))return{data:null,error:r};throw r}})}from(t){if(!rD(t))throw new qd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gD({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>rt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,c){const f=a[c];return typeof f!="function"?f:(...h)=>rt(this,void 0,void 0,function*(){try{return{data:yield f.apply(a,h),error:null}}catch(p){if(n)throw p;return{data:null,error:p}}})}})}}const Wy={"X-Client-Info":`storage-js/${uI}`,"Content-Type":"application/json"};class Vy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Si(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class a0 extends Vy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hI extends Vy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var hv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hv||(hv={}));const kp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xD=()=>Response,pI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vD=e=>Array.from(new Float32Array(e)),yD=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},cS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bD=(e,t,r)=>rt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new a0(cS(c),i,f))}).catch(()=>{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new a0(f,i,c))});else{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new a0(f,i,c))}}else t(new hI(cS(e),e))}),wD=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(pI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function ED(e,t,r,n,i,a){return rt(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,wD(t,n,i,a)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>bD(h,f,n))})})}function Fi(e,t,r,n,i){return rt(this,void 0,void 0,function*(){return ED(e,"POST",t,n,i,r)})}class mI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),r),this.fetch=kp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return rt(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}getIndex(t,r){return rt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}listIndexes(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return rt(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Si(n))return{data:null,error:n};throw n}})}}class gI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),r),this.fetch=kp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return rt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}getVectors(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}listVectors(t){return rt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Fi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}queryVectors(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}deleteVectors(t){return rt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}}class xI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wy),r),this.fetch=kp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}getBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}listBuckets(){return rt(this,arguments,void 0,function*(t={}){try{return{data:yield Fi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rt(this,void 0,void 0,function*(){try{return{data:(yield Fi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Si(r))return{data:null,error:r};throw r}})}}class vI extends xI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new yI(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return rt(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return rt(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return rt(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return rt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class yI extends mI{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return rt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return rt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return rt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return rt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new bI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class bI extends gI{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return rt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return rt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return rt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return rt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return rt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SD extends uD{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new cD(this.url,this.headers,t,this.fetch)}get vectors(){return new vI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fI(this.url+"/iceberg",this.headers,this.fetch)}}const AD=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fI,StorageApiError:lI,StorageClient:SD,StorageError:qd,StorageUnknownError:x0,StorageVectorsApiError:a0,StorageVectorsClient:vI,StorageVectorsError:Vy,get StorageVectorsErrorCode(){return hv},StorageVectorsUnknownError:hI,VectorBucketApi:xI,VectorBucketScope:yI,VectorDataApi:gI,VectorIndexApi:mI,VectorIndexScope:bI,isPlainObject:pI,isStorageError:Ir,isStorageVectorsError:Si,normalizeToFloat32:vD,resolveFetch:kp,resolveResponse:xD,validateVectorDimension:yD},Symbol.toStringTag,{value:"Module"})),CD=Wd(AD);var h1={},Xu={},uS;function _D(){return uS||(uS=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.version=void 0,Xu.version="2.87.1"),Xu}var dS;function ND(){return dS||(dS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=_D();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(h1)),h1}var p1={},fS;function OD(){return fS||(fS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,c)=>{const f=(0,e.resolveFetch)(c),h=(0,e.resolveHeadersConstructor)();return async(p,v)=>{var b;const S=(b=await a())!==null&&b!==void 0?b:i;let C=new h(v?.headers);return C.has("apikey")||C.set("apikey",i),C.has("Authorization")||C.set("Authorization",`Bearer ${S}`),f(p,Object.assign(Object.assign({},v),{headers:C}))}};e.fetchWithAuth=n})(p1)),p1}var Ss={},hS;function ID(){if(hS)return Ss;hS=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.isBrowser=void 0,Ss.uuid=e,Ss.ensureTrailingSlash=t,Ss.applySettingDefaults=n,Ss.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=Math.random()*16|0,f=a=="x"?c:c&3|8;return f.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";Ss.isBrowser=r;function n(a,c){var f,h;const{db:p,auth:v,realtime:b,global:S}=a,{db:C,auth:O,realtime:I,global:P}=c,D={db:Object.assign(Object.assign({},C),p),auth:Object.assign(Object.assign({},O),v),realtime:Object.assign(Object.assign({},I),b),storage:{},global:Object.assign(Object.assign(Object.assign({},P),S),{headers:Object.assign(Object.assign({},(f=P?.headers)!==null&&f!==void 0?f:{}),(h=S?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return a.accessToken?D.accessToken=a.accessToken:delete D.accessToken,D}function i(a){const c=a?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ss}var Yu={};const wI="2.87.1",Sc=30*1e3,pv=3,m1=pv*Sc,PD="http://localhost:9999",jD="supabase.auth.token",kD={"X-Client-Info":`gotrue-js/${wI}`},mv="X-Supabase-Api-Version",EI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RD=600*1e3;let Fc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ct(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let SI=class extends Fc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function AI(e){return ct(e)&&e.name==="AuthApiError"}let Ao=class extends Fc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Vs=class extends Fc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},wi=class extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function CI(e){return ct(e)&&e.name==="AuthSessionMissingError"}let ll=class extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},sd=class extends Vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},od=class extends Vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function _I(e){return ct(e)&&e.name==="AuthImplicitGrantRedirectError"}let gv=class extends Vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},v0=class extends Vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function s0(e){return ct(e)&&e.name==="AuthRetryableFetchError"}let xv=class extends Vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function DD(e){return ct(e)&&e.name==="AuthWeakPasswordError"}let y0=class extends Vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const b0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pS=` 	
\r=`.split(""),MD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pS.length;t+=1)e[pS[t].charCodeAt(0)]=-2;for(let t=0;t<b0.length;t+=1)e[b0[t].charCodeAt(0)]=t;return e})();function mS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(b0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(b0[n]),t.queuedBits-=6}}function NI(e,t,r){const n=MD[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function gS(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{FD(c,n,r)};for(let c=0;c<e.length;c+=1)NI(e.charCodeAt(c),i,a);return t.join("")}function LD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BD(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}LD(n,t)}}function FD(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Dc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)NI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function zD(e){const t=[];return BD(e,r=>t.push(r)),new Uint8Array(t)}function gl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>mS(i,r,n)),mS(null,r,n),t.join("")}function UD(e){return Math.round(Date.now()/1e3)+e}function $D(){return Symbol("auth-callback")}const $n=()=>typeof window<"u"&&typeof document<"u",sl={tested:!1,writable:!1},OI=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sl.tested)return sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sl.tested=!0,sl.writable=!0}catch{sl.tested=!0,sl.writable=!1}return sl.writable};function WD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const II=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ac=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ol=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Un=async(e,t)=>{await e.removeItem(t)};class Tp{constructor(){this.promise=new Tp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tp.promiseConstructor=Promise;function g1(e){const t=e.split(".");if(t.length!==3)throw new y0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TD.test(t[n]))throw new y0("JWT not in base64url format");return{header:JSON.parse(gS(t[0])),payload:JSON.parse(gS(t[1])),signature:Dc(t[2]),raw:{header:t[0],payload:t[1]}}}async function HD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qD(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function GD(e){return("0"+e.toString(16)).substr(-2)}function KD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,GD).join("")}async function XD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function YD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gc(e,t,r=!1){const n=KD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ac(e,`${t}-code-verifier`,i);const a=await YD(n);return[a,n===a?"plain":"s256"]}const ZD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QD(e){const t=e.headers.get(mv);if(!t||!t.match(ZD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xc(e){if(!tM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function x1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rM(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function xS(e){return JSON.parse(JSON.stringify(e))}const cl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nM=[502,503,504];async function vS(e){var t;if(!VD(e))throw new v0(cl(e),0);if(nM.includes(e.status))throw new v0(cl(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ao(cl(a),a)}let n;const i=QD(e);if(i&&i.getTime()>=EI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new xv(cl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new wi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new xv(cl(r),e.status,r.weak_password.reasons);throw new SI(cl(r),e.status||500,n)}const iM=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function bt(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[mv]||(a[mv]=EI["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await aM(e,t,r+f,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function aM(e,t,r,n,i,a){const c=iM(t,n,i,a);let f;try{f=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new v0(cl(h),0)}if(f.ok||await vS(f),n?.noResolveJson)return f;try{return await f.json()}catch(h){await vS(h)}}function Na(e){var t;let r=null;lM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yS(e){const t=Na(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sM(e){return{data:e,error:null}}function oM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,c=Zc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function bS(e){return e}function lM(e){return e.access_token&&e.refresh_token&&e.expires_in}const o0=["global","local","others"];let Hy=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=II(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=o0[0]){if(o0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o0.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ct(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Co})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zc(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oM,redirectTo:r?.redirectTo})}catch(r){if(ct(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Co})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,c,f,h;try{const p={nextPage:null,lastPage:0,total:0},v=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:bS});if(v.error)throw v.error;const b=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);p[`${P}Page`]=I}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ct(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){xc(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Co})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){xc(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Co})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){xc(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Co})}catch(n){if(ct(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){xc(t.userId);try{const{data:r,error:n}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _deleteFactor(t){xc(t.userId),xc(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,c,f,h;try{const p={nextPage:null,lastPage:0,total:0},v=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:bS});if(v.error)throw v.error;const b=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);p[`${P}Page`]=I}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ct(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ct(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ct(r))return{data:null,error:r};throw r}}};function wS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ul={debug:!!(globalThis&&OI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let PI=class extends qy{};class cM extends qy{}async function jI(e,t,r){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ul.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ul.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new PI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ul.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const ES={};async function uM(e,t,r){var n;const i=(n=ES[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new cM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return ES[e]=a.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await a}function dM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fM(e){return parseInt(e,16)}function hM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function pM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:c,notBefore:f,requestId:h,resources:p,scheme:v,uri:b,version:S}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const C=kI(e.address),O=v?`${v}://${n}`:n,I=e.statement?`${e.statement}
`:"",P=`${O} wants you to sign in with your Ethereum account:
${C}

${I}`;let D=`URI: ${b}
Version: ${S}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(i&&(D+=`
Expiration Time: ${i.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),h&&(D+=`
Request ID: ${h}`),p){let M=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);M+=`
- ${R}`}D+=M}return`${P}
${D}`}class sn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class w0 extends sn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function mM({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(TI(c)){if(a.rp.id!==c)return new sn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(TI(n)){if(r.rpId!==n)return new sn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const vM=new xM;function yM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Zc(e,["challenge","user","excludeCredentials"]),a=Dc(t).buffer,c=Object.assign(Object.assign({},r),{id:Dc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:a,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const p=n[h];f.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Dc(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function bM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Zc(e,["challenge","allowCredentials"]),i=Dc(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];a.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Dc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return a}function wM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:gl(new Uint8Array(e.response.attestationObject)),clientDataJSON:gl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function EM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:gl(new Uint8Array(i.authenticatorData)),clientDataJSON:gl(new Uint8Array(i.clientDataJSON)),signature:gl(new Uint8Array(i.signature)),userHandle:i.userHandle?gl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function SS(){var e,t;return!!($n()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function SM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new w0("Browser returned unexpected credential type",t)}:{data:null,error:new w0("Empty credential response",t)}}catch(t){return{data:null,error:mM({error:t,options:e})}}}async function AM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new w0("Browser returned unexpected credential type",t)}:{data:null,error:new w0("Empty credential response",t)}}catch(t){return{data:null,error:gM({error:t,options:e})}}}const CM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_M={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function E0(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const c=i[a];if(c!==void 0)if(Array.isArray(c))n[a]=c;else if(r(c))n[a]=c;else if(t(c)){const f=n[a];t(f)?n[a]=E0(f,c):n[a]=E0(c)}else n[a]=c}return n}function NM(e,t){return E0(CM,e,t||{})}function OM(e,t){return E0(_M,e,t||{})}class IM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const h=i??vM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${n}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=NM(c.webauthn.credential_options.publicKey,a?.create),{data:v,error:b}=await SM({publicKey:p,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const p=OM(c.webauthn.credential_options.publicKey,a?.request),{data:v,error:b}=await AM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Ao("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Fc("rpId is required for WebAuthn authentication")};try{if(!SS())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Ao("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Fc("rpId is required for WebAuthn registration")};try{if(!SS())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ct(c)?{data:null,error:c}:{data:null,error:new Ao("Unexpected error in register",c)}}}}dM();const PM={url:PD,storageKey:jD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function AS(e,t,r){return await r()}const vc={};let Gy=class vv{get jwks(){var t,r;return(r=(t=vc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=vc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vc[this.storageKey]=Object.assign(Object.assign({},vc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},PM),t);if(this.storageKey=a.storageKey,this.instanceID=(r=vv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&$n()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Hy({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=II(a.fetch),this.lock=a.lock||AS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&$n()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=jI:this.lock=AS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new IM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:OI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=wS(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($n()&&(r=WD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$n()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_I(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ct(r)?this._returnResult({error:r}):this._returnResult({error:new Ao("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Na}),{data:c,error:f}=a;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:v,password:b,options:S}=t;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await gc(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:b,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:O},xform:Na})}else if("phone"in t){const{phone:v,password:b,options:S}=t;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(n=S?.data)!==null&&n!==void 0?n:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Na})}else throw new sd("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:f}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:yS})}else if("phone"in t){const{phone:a,password:c,options:f}=t;r=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:yS})}else throw new sd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ll;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,c,f,h,p,v,b,S;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:I,wallet:P,statement:D,options:M}=t;let R;if($n())if(typeof P=="object")R=P;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")R=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=P}const B=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href),W=await R.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=kI(W[0]);let H=(n=M?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const K=await R.request({method:"eth_chainId"});H=fM(K)}const Z={domain:B.host,address:$,statement:D,uri:B.href,version:"1",chainId:H,nonce:(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(a=M?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=M?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=M?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=M?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=pM(Z),O=await R.request({method:"personal_sign",params:[hM(C),$]})}try{const{data:I,error:P}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Na});if(P)throw P;if(!I||!I.session||!I.user){const D=new ll;return this._returnResult({data:{user:null,session:null},error:D})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:P})}catch(I){if(ct(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async signInWithSolana(t){var r,n,i,a,c,f,h,p,v,b,S,C;let O,I;if("message"in t)O=t.message,I=t.signature;else{const{chain:P,wallet:D,statement:M,options:R}=t;let B;if($n())if(typeof D=="object")B=D;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))B=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=D}const W=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const $=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),M?{statement:M}:null));let H;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")H=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)H=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)O=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),I=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${W.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=R?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const $=await B.signMessage(new TextEncoder().encode(O),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=$}}try{const{data:P,error:D}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:gl(I)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Na});if(D)throw D;if(!P||!P.session||!P.user){const M=new ll;return this._returnResult({data:{user:null,session:null},error:M})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:D})}catch(P){if(ct(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:c}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Na});if(await Un(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const f=new ll;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:c}=t,f=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Na}),{data:h,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const v=new ll;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,c;try{if("email"in t){const{email:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await gc(this.storage,this.storageKey));const{error:b}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:f,options:h}=t,{data:p,error:v}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new sd("You must provide either an email or phone number.")}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Na});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(i){if(ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await gc(this.storage,this.storageKey));const p=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:sM});return!((a=p.data)===null||a===void 0)&&a.url&&$n()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new wi;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ct(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:c}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:c,error:f}=await bt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new sd("You must provide either an email or phone number and a type")}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ol(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<m1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await ol(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=x1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=rM(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Co}):await this._useSession(async r=>{var n,i,a;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wi}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Co})})}catch(r){if(ct(r))return CI(r)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new wi;const c=i.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await gc(this.storage,this.storageKey));const{data:p,error:v}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Co});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wi;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:c}=g1(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ct(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new wi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ct(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$n())throw new od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gv("No code detected.");const{data:M,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:f,expires_at:h,token_type:p}=t;if(!a||!f||!c||!p)throw new od("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(f);let S=v+b;h&&(S=parseInt(h));const C=S-v;C*1e3<=Sc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${b}s`);const O=S-b;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,v);const{data:I,error:P}=await this._getUser(a);if(P)throw P;const D={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:b,expires_at:S,refresh_token:c,token_type:p,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:t.type},error:null})}catch(n){if(ct(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(AI(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$D(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gc(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var c,f,h,p,v;const{data:b,error:S}=a;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return $n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ct(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:c,provider:f,token:h,access_token:p,nonce:v}=t,b=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Na}),{data:S,error:C}=b;return C?this._returnResult({data:{user:null,session:null},error:C}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ll}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:C}))}catch(i){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ct(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)throw c;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qD(async i=>(i>0&&await HD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Na})),(i,a)=>{const c=200*Math.pow(2,i);return a&&s0(a)&&Date.now()+c-n<Sc})}catch(n){if(this._debug(r,"error",n),ct(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$n()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ol(this.storage,this.storageKey);if(i&&this.userStorage){let c=await ol(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Ac(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:x1()}else if(i&&!i.user&&!i.user){const c=await ol(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Un(this.storage,this.storageKey+"-user"),await Ac(this.storage,this.storageKey,i)):i.user=x1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<m1;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${m1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),s0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new wi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tp;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new wi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={data:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(i,"error",a),ct(a)){const c={data:null,error:a};return s0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(h){a.push(h)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ac(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=xS(i);await Ac(this.storage,this.storageKey,a)}else{const i=xS(r);await Ac(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Sc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Sc}ms, refresh threshold is ${pv} ticks`),i<=pv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await gc(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:p}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wM(t.webauthn.credential_response):EM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:h}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:yM(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:bM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=g1(n.access_token);let c=null;a.aal&&(c=a.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const p=a.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wi})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new wi});const c=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$n()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new wi});const c=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$n()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wi})})}catch(t){if(ct(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wi})})}catch(r){if(ct(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+RD>i)return n;const{data:a,error:c}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});n=C.session.access_token}const{header:i,payload:a,signature:c,raw:{header:f,payload:h}}=g1(n);r?.allowExpired||JD(a.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:a,header:i,signature:c},error:null}}const v=eM(i.alg),b=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,c,zD(`${f}.${h}`)))throw new y0("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(n){if(ct(n))return this._returnResult({data:null,error:n});throw n}}};Gy.nextInstanceID={};const jM=Hy,kM=Gy,TM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:jM,AuthApiError:SI,AuthClient:kM,AuthError:Fc,AuthImplicitGrantRedirectError:od,AuthInvalidCredentialsError:sd,AuthInvalidJwtError:y0,AuthInvalidTokenResponseError:ll,AuthPKCEGrantCodeExchangeError:gv,AuthRetryableFetchError:v0,AuthSessionMissingError:wi,AuthUnknownError:Ao,AuthWeakPasswordError:xv,CustomAuthError:Vs,GoTrueAdminApi:Hy,GoTrueClient:Gy,NavigatorLockAcquireTimeoutError:PI,SIGN_OUT_SCOPES:o0,isAuthApiError:AI,isAuthError:ct,isAuthImplicitGrantRedirectError:_I,isAuthRetryableFetchError:s0,isAuthSessionMissingError:CI,isAuthWeakPasswordError:DD,lockInternals:ul,navigatorLock:jI,processLock:uM},Symbol.toStringTag,{value:"Module"})),RI=Wd(TM);var CS;function RM(){if(CS)return Yu;CS=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.SupabaseAuthClient=void 0;const e=RI;let t=class extends e.AuthClient{constructor(n){super(n)}};return Yu.SupabaseAuthClient=t,Yu}var _S;function NS(){if(_S)return Nh;_S=1,Object.defineProperty(Nh,"__esModule",{value:!0});const e=GO,t=JO(),r=oI,n=CD,i=ND(),a=OD(),c=ID(),f=RM();class h{constructor(v,b,S){var C,O,I;this.supabaseUrl=v,this.supabaseKey=b;const P=(0,c.validateSupabaseUrl)(v);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",P),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",P),this.storageUrl=new URL("storage/v1",P),this.functionsUrl=new URL("functions/v1",P);const D=`sb-${P.hostname.split(".")[0]}-auth-token`,M={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:i.DEFAULT_GLOBAL_OPTIONS},R=(0,c.applySettingDefaults)(S??{},M);this.storageKey=(C=R.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(O=R.global.headers)!==null&&O!==void 0?O:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(B,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((I=R.auth)!==null&&I!==void 0?I:{},this.headers,R.global.fetch),this.fetch=(0,a.fetchWithAuth)(b,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(B=>this.realtime.setAuth(B)).catch(B=>console.warn("Failed to set initial Realtime auth token:",B)),this.rest=new t.PostgrestClient(new URL("rest/v1",P).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,S?.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,b={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,b,S)}channel(v,b={config:{}}){return this.realtime.channel(v,b)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,b;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(b=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:b,detectSessionInUrl:S,storage:C,userStorage:O,storageKey:I,flowType:P,lock:D,debug:M,throwOnError:R},B,W){const $={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},$),B),storageKey:I,autoRefreshToken:v,persistSession:b,detectSessionInUrl:S,storage:C,userStorage:O,flowType:P,lock:D,debug:M,throwOnError:R,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(H=>H.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,S)=>{this._handleTokenChanged(b,"CLIENT",S?.access_token)})}_handleTokenChanged(v,b,S){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Nh.default=h,Nh}var OS;function DM(){return OS||(OS=1,(function(e){var t=Es&&Es.__createBinding||(Object.create?(function(v,b,S,C){C===void 0&&(C=S);var O=Object.getOwnPropertyDescriptor(b,S);(!O||("get"in O?!b.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return b[S]}}),Object.defineProperty(v,C,O)}):(function(v,b,S,C){C===void 0&&(C=S),v[C]=b[S]})),r=Es&&Es.__exportStar||function(v,b){for(var S in v)S!=="default"&&!Object.prototype.hasOwnProperty.call(b,S)&&t(b,v,S)},n=Es&&Es.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(NS());r(RI,e);var a=JO();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var c=GO;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(oI,e);var f=NS();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const h=(v,b,S)=>new i.default(v,b,S);e.createClient=h;function p(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const b=v.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Es)),Es}var DI=DM();const MI=fa(DI),MM=_y({__proto__:null,default:MI},[DI]),{PostgrestError:fne,FunctionsHttpError:hne,FunctionsFetchError:pne,FunctionsRelayError:mne,FunctionsError:gne,FunctionRegion:xne,SupabaseClient:vne,createClient:LM,GoTrueAdminApi:yne,GoTrueClient:bne,AuthAdminApi:wne,AuthClient:Ene,navigatorLock:Sne,NavigatorLockAcquireTimeoutError:Ane,lockInternals:Cne,processLock:_ne,SIGN_OUT_SCOPES:Nne,AuthError:One,AuthApiError:Ine,AuthUnknownError:Pne,CustomAuthError:jne,AuthSessionMissingError:kne,AuthInvalidTokenResponseError:Tne,AuthInvalidCredentialsError:Rne,AuthImplicitGrantRedirectError:Dne,AuthPKCEGrantCodeExchangeError:Mne,AuthRetryableFetchError:Lne,AuthWeakPasswordError:Bne,AuthInvalidJwtError:Fne,isAuthError:zne,isAuthApiError:Une,isAuthSessionMissingError:$ne,isAuthImplicitGrantRedirectError:Wne,isAuthRetryableFetchError:Vne,isAuthWeakPasswordError:Hne,RealtimePresence:qne,RealtimeChannel:Gne,RealtimeClient:Kne,REALTIME_LISTEN_TYPES:Xne,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Yne,REALTIME_PRESENCE_LISTEN_EVENTS:Zne,REALTIME_SUBSCRIBE_STATES:Qne,REALTIME_CHANNEL_STATES:Jne}=MI||MM,v1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},LI=e=>v1&&v1[e]?v1[e]:"",y1=LI("VITE_SUPABASE_URL"),IS=LI("VITE_SUPABASE_KEY");let BI=null;if(y1&&IS&&y1!=="https://placeholder.supabase.co")try{BI=LM(y1,IS)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const $e=BI,BM=({onSuccess:e})=>{const[t,r]=_.useState(Ei[0].id),n=Ei.find(J=>J.id===t)||Ei[0],[i,a]=_.useState({name:"",email:"",phone:"",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=_.useState(!1),[h,p]=_.useState(!1),[v,b]=_.useState([]),[S,C]=_.useState([]),[O,I]=_.useState({}),[P,D]=_.useState(null),[M,R]=_.useState(!1);_.useEffect(()=>{a(J=>({...J,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:J.isHomeService}))},[n]);const B=n.durationMin+(i.isHomeService?A5:0),W=n.price+(i.isHomeService?S5:0);_.useEffect(()=>{i.date&&$(i.date)},[i.date]),_.useEffect(()=>{i.date&&H()},[i.date,S,B]),_.useEffect(()=>{const oe=setTimeout(()=>{if(i.name.length>3&&i.phone.length===8){const ue=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),ve="+569"+i.phone,Q=ue.find(le=>le.phone.replace(/\s/g,"")===ve.replace(/\s/g,"")&&le.name.toLowerCase()===i.name.toLowerCase());Q&&(D(Q),R(!0))}},1e3);return()=>clearTimeout(oe)},[i.name,i.phone]);const $=async J=>{p(!0);try{let oe=[];if($e){const{data:le,error:Ue}=await $e.from("bookings").select("time, duration_minutes").eq("date",J);!Ue&&le&&(oe=le.map(Be=>{const[Ge,X]=Be.time.split(":").map(Number),_e=Ge*60+X;return{start:_e,end:_e+Be.duration_minutes}}))}const Q=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(le=>le.date===J).map(le=>{const[Ue,Be]=le.time.split(":").map(Number),Ge=Ue*60+Be,X=le.duration_minutes||60;return{start:Ge,end:Ge+X}});C([...oe,...Q])}catch(oe){console.warn("Error fetching slots",oe),C([])}finally{p(!1)}},H=()=>{const ue=[];for(let ve=9;ve<20;ve++)for(let Q=0;Q<60;Q+=30){const le=ve*60+Q,Ue=le+B;if(Ue>1200)continue;if(!S.some(Ge=>le>=Ge.start&&le<Ge.end||Ue>Ge.start&&Ue<=Ge.end||le<=Ge.start&&Ue>=Ge.end)){const Ge=`${ve.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`;ue.push(Ge)}}b(ue),i.time&&!ue.includes(i.time)&&a(ve=>({...ve,time:""}))},Z=()=>{const J={};return i.name||(J.name="El nombre es obligatorio"),(!i.phone||i.phone.length<8)&&(J.phone="Ingresa los 8 dgitos"),i.email?/\S+@\S+\.\S+/.test(i.email)||(J.email="El formato del email no es vlido"):J.email="El email es obligatorio",i.date||(J.date="Selecciona una fecha"),i.time||(J.time="Selecciona una hora"),i.isHomeService&&!i.address&&(J.address="La direccin es obligatoria para servicio a domicilio"),I(J),Object.keys(J).length===0},K=J=>{const{name:oe,value:ue,type:ve}=J.target,Q=J.target.checked;if(oe==="phone"){const le=ue.replace(/[^0-9]/g,"");le.length<=8&&a(Ue=>({...Ue,phone:le}))}else a(le=>({...le,[oe]:ve==="checkbox"?Q:ue}));O[oe]&&I(le=>{const Ue={...le};return delete Ue[oe],Ue})},pe=J=>{a(oe=>({...oe,time:J})),O.time&&I(oe=>{const ue={...oe};return delete ue.time,ue})},se=async()=>{const J="+569"+i.phone,oe=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),ue={id:Date.now(),...i,phone:J,duration_minutes:B,created_at:new Date().toISOString()};if(oe.push(ue),localStorage.setItem("mock_bookings",JSON.stringify(oe)),$e)try{const{error:ve}=await $e.from("leads").upsert({phone:J,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});ve&&console.warn("Error saving lead:",ve),await $e.from("bookings").insert([{name:i.name,email:i.email,phone:J,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:B}])}catch(ve){console.warn("Supabase save failed, relying on local:",ve)}},ie=J=>{const ue=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(ve=>ve.id!==J);localStorage.setItem("mock_bookings",JSON.stringify(ue))},Ae=()=>{P&&(ie(P.id),D(null),R(!1))},Ce=()=>{R(!1),a(J=>({...J,name:"",phone:""})),alert(`Entendido. Tu cita anterior (${P.date} a las ${P.time}) se mantiene. Gracias!`)},te=Cp(),Re=async J=>{if(!Z())return;f(!0),await se();const oe="+569"+i.phone,ue=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,ve=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),Q=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${oe}
*Servicio:* ${ue}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${B} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${ve}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(le=>setTimeout(le,800)),f(!1),e&&e({...i,phone:oe}),te("/confirmation",{state:{booking:{...i,phone:oe},totalPrice:W,duration:B}});{const le=`https://wa.me/${Tc}?text=${encodeURIComponent(Q)}`;window.open(le,"_blank")}};return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[M&&P&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:m.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[m.jsx(Dy,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),m.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),m.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",m.jsx("strong",{children:P.name})," el da ",m.jsx("strong",{children:P.date})," a las ",m.jsx("strong",{children:P.time}),"."]}),m.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:Ae,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),m.jsx("button",{onClick:Ce,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!$e&&m.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[m.jsx(a5,{size:12})," MODO DEMO"]}),m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),m.jsxs("div",{className:"relative mb-6",children:[m.jsx("select",{value:t,onChange:J=>r(J.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:Ei.map(J=>m.jsxs("option",{value:J.id,children:[J.name," - $",J.price.toLocaleString("es-CL")]},J.id))}),m.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:m.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),m.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),m.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[m.jsxs("div",{children:[m.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),m.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[B," min"]}),m.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),m.jsx("div",{className:"mb-4",children:m.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[m.jsx("div",{className:"flex items-center h-5 mt-0.5",children:m.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:K,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),m.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",C5.join(", "),". ",m.jsx("br",{}),m.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),m.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),m.jsx("ul",{className:"space-y-2",children:n.includes.map((J,oe)=>m.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[m.jsx(Np,{size:14,className:"text-stone-900 mr-2"}),J]},oe))})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),m.jsx("input",{type:"text",name:"name",value:i.name,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),O.name&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.name})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-100 border border-stone-200 px-3 py-3 rounded-lg text-stone-500 font-bold",children:"+569"}),m.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:K,maxLength:8,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"12345678",inputMode:"numeric"})]}),O.phone&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.phone})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),m.jsx("input",{type:"email",name:"email",value:i.email,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),O.email&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.email})]})]}),m.jsxs("div",{className:"animate-in fade-in pt-2",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[m.jsx(Sd,{size:12})," Quin te recomend? (Opcional)"]}),m.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:K,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",name:"address",value:i.address,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${O.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),m.jsx(pO,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),O.address&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.address})]})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:K,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${O.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),m.jsx(oO,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),O.date&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.date})]}),i.date&&m.jsxs("div",{className:"animate-in fade-in",children:[m.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[m.jsx("span",{children:"Horas Disponibles"}),h&&m.jsxs("span",{className:"flex items-center text-stone-400",children:[m.jsx(bd,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),v.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:v.map(J=>m.jsx("button",{onClick:()=>pe(J),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===J?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:J},J))}),O.time&&m.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:O.time})]}):m.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:h?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&m.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[m.jsx(My,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),m.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[m.jsxs("button",{onClick:()=>Re(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?m.jsx(bd,{className:"animate-spin"}):m.jsx(vO,{size:22}),m.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),m.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},FM=({onSelectPerfume:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(""),[a,c]=_.useState([]),[f,h]=_.useState(!1),p=b=>{if(b.preventDefault(),!n.trim())return;const S=n.toLowerCase().split(/[\s,]+/).filter(I=>I.length>2),O=ks.map(I=>{let P=0;const D=[],M=(R,B)=>{S.forEach(W=>{R.toLowerCase().includes(W)&&(P+=B,D.includes(W)||D.push(W))})};return M(I.name,3),M(I.description,1),M(I.brand,2),I.notes.forEach(R=>M(R,2)),M(I.category==="arab"?"arabe":"clasico",2),{perfume:I,score:P,matches:D}}).filter(I=>I.score>0).sort((I,P)=>P.score-I.score).slice(0,3);c(O),h(!0)},v=()=>{i(""),c([]),h(!1)};return m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[m.jsx(Io,{size:24,className:"animate-pulse"}),m.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[m.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:m.jsx(Ai,{size:24})}),m.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[m.jsx(Io,{className:"text-yellow-300"})," Asesor de Aromas"]}),m.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),m.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?m.jsx("div",{className:"space-y-4",children:a.length>0?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),a.map(({perfume:b,matches:S},C)=>m.jsxs("div",{onClick:()=>{e(b.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[m.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[C===0&&m.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),m.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:b.name}),m.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:b.brand}),m.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(O=>m.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",O]},O))})]})]},b.id)),m.jsx("button",{onClick:v,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),m.jsx("button",{onClick:v,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:m.jsx(Op,{size:48,className:"text-purple-400"})}),m.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),m.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",m.jsx("br",{}),'"Algo dulce con vainilla"',m.jsx("br",{}),'"Fresco y ctrico para el da"',m.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),m.jsx("form",{onSubmit:p,className:"p-4 border-t border-stone-100 bg-stone-50",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:n,onChange:b=>i(b.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),m.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?m.jsx(wd,{size:20}):m.jsx(xO,{size:20})})]})})]})})]})},zM=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(null),[i,a]=_.useState("all"),[c,f]=_.useState({});_.useEffect(()=>{h()},[]);const h=async()=>{const{data:M}=await $e.from("inventory").select("product_id, quantity");if(M){const R={};M.forEach(B=>{R[B.product_id]=B.quantity}),f(R)}},p=M=>{t("");const R=ks.find(B=>B.id===M);R&&(a(R.category),setTimeout(()=>{const B=document.getElementById(`perfume-${M}`);B&&B.scrollIntoView({behavior:"smooth",block:"center"}),B?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>B?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},v=_.useMemo(()=>{const M=new Set;return ks.forEach(R=>R.notes.forEach(B=>M.add(B))),Array.from(M).sort()},[]),b=_.useMemo(()=>ks.filter(M=>{const R=M.name.toLowerCase().includes(e.toLowerCase())||M.brand.toLowerCase().includes(e.toLowerCase()),B=r?M.notes.includes(r):!0,W=i==="all"||M.category===i;return R&&B&&W}).sort((M,R)=>{const B=c[M.id]!==void 0?c[M.id]>0:M.stock,W=c[R.id]!==void 0?c[R.id]>0:R.stock;return B===W?0:B?-1:1}),[e,r,i,c]),S=b.filter(M=>M.category==="classic"),C=b.filter(M=>M.category==="arab"),O=(M,R)=>{const B=R==="5ml"?M.price5ml:M.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${M.brand} - ${M.name}* en formato *${R}* por $${B}. Tienen disponibilidad?`,$=`https://wa.me/${Tc}?text=${encodeURIComponent(W)}`;window.open($,"_blank")},I=M=>{if(!M.priceFullBottle)return;const R=`Hola Tus3B Style, quiero comprar la botella completa de *${M.brand} - ${M.name}* por $${M.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,B=`https://wa.me/${Tc}?text=${encodeURIComponent(R)}`;window.open(B,"_blank")},P=()=>{window.open(`https://wa.me/${Tc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},D=M=>m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:M.map((R,B)=>m.jsxs("div",{className:"group flex flex-col h-full",children:[m.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&m.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:B+1}),m.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[m.jsx("img",{src:R.image,alt:R.name,className:`w-full h-full object-contain ${R.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),R.secondaryImage&&m.jsx("img",{src:R.secondaryImage,alt:`${R.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),m.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!R.stock&&m.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:m.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),m.jsxs("div",{className:"flex-1 flex flex-col",children:[m.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:R.brand}),m.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:R.name}),m.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:R.description}),m.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.notes.slice(0,3).map(W=>m.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),m.jsxs("div",{className:"mt-auto space-y-3",children:[!R.isSpray&&m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:()=>O(R,"5ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[m.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),m.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price5ml.toLocaleString("es-CL")]})]}),m.jsxs("button",{onClick:()=>O(R,"10ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[m.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),m.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price10ml.toLocaleString("es-CL")]})]})]}),R.priceFullBottle&&m.jsxs("button",{onClick:()=>I(R),disabled:!(c[R.id]!==void 0?c[R.id]>0:R.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[R.id]!==void 0?c[R.id]>0:R.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[m.jsx(Nl,{size:14}),m.jsxs("span",{children:["Botella ",R.isSpray?"200ml":"100ml"," - $",R.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},R.id))});return m.jsxs("div",{className:"space-y-16 fade-in",children:[m.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),m.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),m.jsxs("div",{className:"relative w-full md:w-72",children:[m.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:M=>t(M.target.value)}),m.jsx(wd,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),m.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:m.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[m.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),v.map(M=>m.jsx("button",{onClick:()=>n(r===M?null:M),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===M?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:M},M))]})})]}),m.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),m.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),m.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",m.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),m.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),m.jsxs("ul",{className:"space-y-4 pt-2",children:[m.jsxs("li",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:m.jsx(kc,{size:14,className:"text-green-500"})}),m.jsxs("span",{className:"text-stone-700 text-sm",children:[m.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),m.jsxs("li",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:m.jsx(kc,{size:14,className:"text-green-500"})}),m.jsxs("span",{className:"text-stone-700 text-sm",children:[m.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),m.jsxs("li",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:m.jsx(kc,{size:14,className:"text-green-500"})}),m.jsxs("span",{className:"text-stone-700 text-sm",children:[m.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:M=>M.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),m.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx(yO,{fill:"#fbbf24",className:"text-amber-400",size:16}),m.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),m.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const M=W=>W.some($=>c[$.id]!==void 0?c[$.id]>0:$.stock),B=[{id:"arab",hasStock:M(C),items:C,render:()=>m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[m.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:m.jsx(Io,{size:24,className:"text-purple-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),m.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),D(C)]},"arab")},{id:"classic",hasStock:M(S),items:S,render:()=>m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[m.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:m.jsx(pd,{size:24,className:"text-stone-800"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),m.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),D(S)]},"classic")}].sort((W,$)=>W.hasStock===$.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return B.map((W,$)=>m.jsxs(ur.Fragment,{children:[W.items.length>0&&W.render(),$===0&&B.length>1&&B[1].items.length>0&&B[0].items.length>0&&m.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),b.length===0&&m.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[m.jsx(Nl,{size:48,className:"mx-auto text-stone-300 mb-4"}),m.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),m.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),m.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[m.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[m.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:m.jsx(l5,{size:32,className:"text-yellow-200"})}),m.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),m.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),m.jsxs("button",{onClick:P,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[m.jsx(Op,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),m.jsx(FM,{onSelectPerfume:p})]})},UM=()=>m.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[m.jsxs("div",{children:[m.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",m.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),m.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),m.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[m.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),m.jsxs("a",{href:`https://wa.me/${Tc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[m.jsx(Op,{size:16})," WhatsApp: +56 9 8452 4774"]}),m.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),m.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),m.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[m.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),m.jsx("div",{className:"flex space-x-4",children:m.jsx("a",{href:E5,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:m.jsx(s5,{size:20})})})]})]}),m.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),$M=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],yc={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},WM=e=>{const t=e.toLowerCase();return $M.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},VM=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return yc.concepts;if(r.includes("oud")||r.includes("arabe"))return yc.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return yc.greeting;if(r.includes("precio")||r.includes("valor"))return yc.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return yc.shipping;const n=WM(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const a=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${a}

Quieres detalles de alguno?`}return yc.default},HM=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},qM=()=>{const{pathname:e}=ha();if(e==="/"||e==="/style"||e==="/regalos")return null;const[t,r]=_.useState(!1),[n,i]=_.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[a,c]=_.useState(""),[f,h]=_.useState(!1),p=_.useRef(null),v=()=>{p.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{v()},[n,t]);const b=async()=>{if(!a.trim()||f)return;const C=a;i(I=>[...I,{role:"user",text:C}]),c(""),h(!0);const O=n.map(I=>`${I.role==="user"?"Usuario":"Bot"}: ${I.text}`);try{const I=await VM(C,O);i(P=>[...P,{role:"bot",text:I}])}catch{i(P=>[...P,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}h(!1)},S=C=>{C.key==="Enter"&&b()};return m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>r(!t),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${t?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:t?m.jsx(Ai,{color:"white"}):m.jsx(Io,{color:"white"})}),t&&m.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[m.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[m.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:m.jsx(Io,{size:16,className:"text-yellow-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),m.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[n.map((C,O)=>m.jsx("div",{className:`flex ${C.role==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${C.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:C.text})},O)),f&&m.jsx("div",{className:"flex justify-start",children:m.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[m.jsx(bd,{size:16,className:"animate-spin text-stone-400"}),m.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),m.jsx("div",{ref:p})]}),m.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[m.jsx("input",{type:"text",value:a,onChange:C=>c(C.target.value),onKeyDown:S,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),m.jsx("button",{onClick:b,disabled:f||!a.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:m.jsx(xO,{size:16})})]})]})]})},GM=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(_.useEffect(()=>{window.scrollTo(0,0)},[]),m.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:m.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),m.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:m.jsx(Np,{size:40,strokeWidth:2.5})}),m.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),m.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&m.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[m.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[m.jsx(pO,{size:14})," Direccin del Servicio"]}),m.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),m.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[m.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[m.jsx(hO,{size:20}),"Regresar al Inicio"]}),m.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[m.jsx(Nl,{size:20}),m.jsxs("span",{children:["Venta de Perfumes ",m.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),KM=()=>m.jsx("section",{className:"py-24 bg-white",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),m.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:_5.map(e=>m.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[m.jsx(u5,{className:"absolute top-6 right-6 text-stone-200",size:40}),m.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>m.jsx(yO,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),m.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),m.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),m.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),m.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var XM=Object.defineProperty,S0=Object.getOwnPropertySymbols,FI=Object.prototype.hasOwnProperty,zI=Object.prototype.propertyIsEnumerable,PS=(e,t,r)=>t in e?XM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yv=(e,t)=>{for(var r in t||(t={}))FI.call(t,r)&&PS(e,r,t[r]);if(S0)for(var r of S0(t))zI.call(t,r)&&PS(e,r,t[r]);return e},bv=(e,t)=>{var r={};for(var n in e)FI.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&S0)for(var n of S0(e))t.indexOf(n)<0&&zI.call(e,n)&&(r[n]=e[n]);return r};var Ol;(e=>{const t=class Dt{constructor(h,p,v,b){if(this.version=h,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],h<Dt.MIN_VERSION||h>Dt.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let S=[];for(let O=0;O<this.size;O++)S.push(!1);for(let O=0;O<this.size;O++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(v);if(this.drawCodewords(C),b==-1){let O=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);const P=this.getPenaltyScore();P<O&&(b=I,O=P),this.applyMask(I)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(h,p){const v=e.QrSegment.makeSegments(h);return Dt.encodeSegments(v,p)}static encodeBinary(h,p){const v=e.QrSegment.makeBytes(h);return Dt.encodeSegments([v],p)}static encodeSegments(h,p,v=1,b=40,S=-1,C=!0){if(!(Dt.MIN_VERSION<=v&&v<=b&&b<=Dt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let O,I;for(O=v;;O++){const R=Dt.getNumDataCodewords(O,p)*8,B=c.getTotalBits(h,O);if(B<=R){I=B;break}if(O>=b)throw new RangeError("Data too long")}for(const R of[Dt.Ecc.MEDIUM,Dt.Ecc.QUARTILE,Dt.Ecc.HIGH])C&&I<=Dt.getNumDataCodewords(O,R)*8&&(p=R);let P=[];for(const R of h){r(R.mode.modeBits,4,P),r(R.numChars,R.mode.numCharCountBits(O),P);for(const B of R.getData())P.push(B)}i(P.length==I);const D=Dt.getNumDataCodewords(O,p)*8;i(P.length<=D),r(0,Math.min(4,D-P.length),P),r(0,(8-P.length%8)%8,P),i(P.length%8==0);for(let R=236;P.length<D;R^=253)r(R,8,P);let M=[];for(;M.length*8<P.length;)M.push(0);return P.forEach((R,B)=>M[B>>>3]|=R<<7-(B&7)),new Dt(O,p,M,S)}getModule(h,p){return 0<=h&&h<this.size&&0<=p&&p<this.size&&this.modules[p][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),p=h.length;for(let v=0;v<p;v++)for(let b=0;b<p;b++)v==0&&b==0||v==0&&b==p-1||v==p-1&&b==0||this.drawAlignmentPattern(h[v],h[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const p=this.errorCorrectionLevel.formatBits<<3|h;let v=p;for(let S=0;S<10;S++)v=v<<1^(v>>>9)*1335;const b=(p<<10|v)^21522;i(b>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,n(b,S));this.setFunctionModule(8,7,n(b,6)),this.setFunctionModule(8,8,n(b,7)),this.setFunctionModule(7,8,n(b,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,n(b,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,n(b,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,n(b,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let v=0;v<12;v++)h=h<<1^(h>>>11)*7973;const p=this.version<<12|h;i(p>>>18==0);for(let v=0;v<18;v++){const b=n(p,v),S=this.size-11+v%3,C=Math.floor(v/3);this.setFunctionModule(S,C,b),this.setFunctionModule(C,S,b)}}drawFinderPattern(h,p){for(let v=-4;v<=4;v++)for(let b=-4;b<=4;b++){const S=Math.max(Math.abs(b),Math.abs(v)),C=h+b,O=p+v;0<=C&&C<this.size&&0<=O&&O<this.size&&this.setFunctionModule(C,O,S!=2&&S!=4)}}drawAlignmentPattern(h,p){for(let v=-2;v<=2;v++)for(let b=-2;b<=2;b++)this.setFunctionModule(h+b,p+v,Math.max(Math.abs(b),Math.abs(v))!=1)}setFunctionModule(h,p,v){this.modules[p][h]=v,this.isFunction[p][h]=!0}addEccAndInterleave(h){const p=this.version,v=this.errorCorrectionLevel;if(h.length!=Dt.getNumDataCodewords(p,v))throw new RangeError("Invalid argument");const b=Dt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][p],S=Dt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][p],C=Math.floor(Dt.getNumRawDataModules(p)/8),O=b-C%b,I=Math.floor(C/b);let P=[];const D=Dt.reedSolomonComputeDivisor(S);for(let R=0,B=0;R<b;R++){let W=h.slice(B,B+I-S+(R<O?0:1));B+=W.length;const $=Dt.reedSolomonComputeRemainder(W,D);R<O&&W.push(0),P.push(W.concat($))}let M=[];for(let R=0;R<P[0].length;R++)P.forEach((B,W)=>{(R!=I-S||W>=O)&&M.push(B[R])});return i(M.length==C),M}drawCodewords(h){if(h.length!=Math.floor(Dt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let b=0;b<this.size;b++)for(let S=0;S<2;S++){const C=v-S,I=(v+1&2)==0?this.size-1-b:b;!this.isFunction[I][C]&&p<h.length*8&&(this.modules[I][C]=n(h[p>>>3],7-(p&7)),p++)}}i(p==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let v=0;v<this.size;v++){let b;switch(h){case 0:b=(v+p)%2==0;break;case 1:b=p%2==0;break;case 2:b=v%3==0;break;case 3:b=(v+p)%3==0;break;case 4:b=(Math.floor(v/3)+Math.floor(p/2))%2==0;break;case 5:b=v*p%2+v*p%3==0;break;case 6:b=(v*p%2+v*p%3)%2==0;break;case 7:b=((v+p)%2+v*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][v]&&b&&(this.modules[p][v]=!this.modules[p][v])}}getPenaltyScore(){let h=0;for(let S=0;S<this.size;S++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[S][P]==C?(O++,O==5?h+=Dt.PENALTY_N1:O>5&&h++):(this.finderPenaltyAddHistory(O,I),C||(h+=this.finderPenaltyCountPatterns(I)*Dt.PENALTY_N3),C=this.modules[S][P],O=1);h+=this.finderPenaltyTerminateAndCount(C,O,I)*Dt.PENALTY_N3}for(let S=0;S<this.size;S++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let P=0;P<this.size;P++)this.modules[P][S]==C?(O++,O==5?h+=Dt.PENALTY_N1:O>5&&h++):(this.finderPenaltyAddHistory(O,I),C||(h+=this.finderPenaltyCountPatterns(I)*Dt.PENALTY_N3),C=this.modules[P][S],O=1);h+=this.finderPenaltyTerminateAndCount(C,O,I)*Dt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let C=0;C<this.size-1;C++){const O=this.modules[S][C];O==this.modules[S][C+1]&&O==this.modules[S+1][C]&&O==this.modules[S+1][C+1]&&(h+=Dt.PENALTY_N2)}let p=0;for(const S of this.modules)p=S.reduce((C,O)=>C+(O?1:0),p);const v=this.size*this.size,b=Math.ceil(Math.abs(p*20-v*10)/v)-1;return i(0<=b&&b<=9),h+=b*Dt.PENALTY_N4,i(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let v=[6];for(let b=this.size-7;v.length<h;b-=p)v.splice(1,0,b);return v}}static getNumRawDataModules(h){if(h<Dt.MIN_VERSION||h>Dt.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*h+128)*h+64;if(h>=2){const v=Math.floor(h/7)+2;p-=(25*v-10)*v-55,h>=7&&(p-=36)}return i(208<=p&&p<=29648),p}static getNumDataCodewords(h,p){return Math.floor(Dt.getNumRawDataModules(h)/8)-Dt.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h]*Dt.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let p=[];for(let b=0;b<h-1;b++)p.push(0);p.push(1);let v=1;for(let b=0;b<h;b++){for(let S=0;S<p.length;S++)p[S]=Dt.reedSolomonMultiply(p[S],v),S+1<p.length&&(p[S]^=p[S+1]);v=Dt.reedSolomonMultiply(v,2)}return p}static reedSolomonComputeRemainder(h,p){let v=p.map(b=>0);for(const b of h){const S=b^v.shift();v.push(0),p.forEach((C,O)=>v[O]^=Dt.reedSolomonMultiply(C,S))}return v}static reedSolomonMultiply(h,p){if(h>>>8||p>>>8)throw new RangeError("Byte out of range");let v=0;for(let b=7;b>=0;b--)v=v<<1^(v>>>7)*285,v^=(p>>>b&1)*h;return i(v>>>8==0),v}finderPenaltyCountPatterns(h){const p=h[1];i(p<=this.size*3);const v=p>0&&h[2]==p&&h[3]==p*3&&h[4]==p&&h[5]==p;return(v&&h[0]>=p*4&&h[6]>=p?1:0)+(v&&h[6]>=p*4&&h[0]>=p?1:0)}finderPenaltyTerminateAndCount(h,p,v){return h&&(this.finderPenaltyAddHistory(p,v),p=0),p+=this.size,this.finderPenaltyAddHistory(p,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(h,p){p[0]==0&&(h+=this.size),p.pop(),p.unshift(h)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,h,p){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let v=h-1;v>=0;v--)p.push(f>>>v&1)}function n(f,h){return(f>>>h&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const a=class Vr{constructor(h,p,v){if(this.mode=h,this.numChars=p,this.bitData=v,p<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(h){let p=[];for(const v of h)r(v,8,p);return new Vr(Vr.Mode.BYTE,h.length,p)}static makeNumeric(h){if(!Vr.isNumeric(h))throw new RangeError("String contains non-numeric characters");let p=[];for(let v=0;v<h.length;){const b=Math.min(h.length-v,3);r(parseInt(h.substring(v,v+b),10),b*3+1,p),v+=b}return new Vr(Vr.Mode.NUMERIC,h.length,p)}static makeAlphanumeric(h){if(!Vr.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],v;for(v=0;v+2<=h.length;v+=2){let b=Vr.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v))*45;b+=Vr.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v+1)),r(b,11,p)}return v<h.length&&r(Vr.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v)),6,p),new Vr(Vr.Mode.ALPHANUMERIC,h.length,p)}static makeSegments(h){return h==""?[]:Vr.isNumeric(h)?[Vr.makeNumeric(h)]:Vr.isAlphanumeric(h)?[Vr.makeAlphanumeric(h)]:[Vr.makeBytes(Vr.toUtf8ByteArray(h))]}static makeEci(h){let p=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)r(h,8,p);else if(h<16384)r(2,2,p),r(h,14,p);else if(h<1e6)r(6,3,p),r(h,21,p);else throw new RangeError("ECI assignment value out of range");return new Vr(Vr.Mode.ECI,0,p)}static isNumeric(h){return Vr.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Vr.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,p){let v=0;for(const b of h){const S=b.mode.numCharCountBits(p);if(b.numChars>=1<<S)return 1/0;v+=4+S+b.bitData.length}return v}static toUtf8ByteArray(h){h=encodeURI(h);let p=[];for(let v=0;v<h.length;v++)h.charAt(v)!="%"?p.push(h.charCodeAt(v)):(p.push(parseInt(h.substring(v+1,v+3),16)),v+=2);return p}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;e.QrSegment=a})(Ol||(Ol={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ol||(Ol={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ol||(Ol={}));var _c=Ol;var YM={L:_c.QrCode.Ecc.LOW,M:_c.QrCode.Ecc.MEDIUM,Q:_c.QrCode.Ecc.QUARTILE,H:_c.QrCode.Ecc.HIGH},UI=128,$I="L",WI="#FFFFFF",VI="#000000",HI=!1,qI=1,ZM=4,QM=0,JM=.1;function GI(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(c,f){if(!c&&a!==null){r.push(`M${a+t} ${i+t}h${f-a}v1H${a+t}z`),a=null;return}if(f===n.length-1){if(!c)return;a===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${a+t},${i+t} h${f+1-a}v1H${a+t}z`);return}c&&a===null&&(a=f)})}),r.join("")}function KI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function e9(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*JM),c=i/t,f=(n.width||a)*c,h=(n.height||a)*c,p=n.x==null?e.length/2-f/2:n.x*c,v=n.y==null?e.length/2-h/2:n.y*c,b=n.opacity==null?1:n.opacity;let S=null;if(n.excavate){let O=Math.floor(p),I=Math.floor(v),P=Math.ceil(f+p-O),D=Math.ceil(h+v-I);S={x:O,y:I,w:P,h:D}}const C=n.crossOrigin;return{x:p,y:v,h,w:f,excavation:S,opacity:b,crossOrigin:C}}function t9(e,t){return t!=null?Math.max(Math.floor(t),0):e?ZM:QM}function XI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:c,boostLevel:f}){let h=ur.useMemo(()=>{const O=(Array.isArray(e)?e:[e]).reduce((I,P)=>(I.push(..._c.QrSegment.makeSegments(P)),I),[]);return _c.QrCode.encodeSegments(O,YM[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:p,margin:v,numCells:b,calculatedImageSettings:S}=ur.useMemo(()=>{let C=h.getModules();const O=t9(n,i),I=C.length+O*2,P=e9(C,c,O,a);return{cells:C,margin:O,numCells:I,calculatedImageSettings:P}},[h,c,a,n,i]);return{qrcode:h,margin:v,cells:p,numCells:b,calculatedImageSettings:S}}var r9=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),n9=ur.forwardRef(function(t,r){const n=t,{value:i,size:a=UI,level:c=$I,bgColor:f=WI,fgColor:h=VI,includeMargin:p=HI,minVersion:v=qI,boostLevel:b,marginSize:S,imageSettings:C}=n,I=bv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:P}=I,D=bv(I,["style"]),M=C?.src,R=ur.useRef(null),B=ur.useRef(null),W=ur.useCallback(Ce=>{R.current=Ce,typeof r=="function"?r(Ce):r&&(r.current=Ce)},[r]),[$,H]=ur.useState(!1),{margin:Z,cells:K,numCells:pe,calculatedImageSettings:se}=XI({value:i,level:c,minVersion:v,boostLevel:b,includeMargin:p,marginSize:S,imageSettings:C,size:a});ur.useEffect(()=>{if(R.current!=null){const Ce=R.current,te=Ce.getContext("2d");if(!te)return;let Re=K;const J=B.current,oe=se!=null&&J!==null&&J.complete&&J.naturalHeight!==0&&J.naturalWidth!==0;oe&&se.excavation!=null&&(Re=KI(K,se.excavation));const ue=window.devicePixelRatio||1;Ce.height=Ce.width=a*ue;const ve=a/pe*ue;te.scale(ve,ve),te.fillStyle=f,te.fillRect(0,0,pe,pe),te.fillStyle=h,r9?te.fill(new Path2D(GI(Re,Z))):K.forEach(function(Q,le){Q.forEach(function(Ue,Be){Ue&&te.fillRect(Be+Z,le+Z,1,1)})}),se&&(te.globalAlpha=se.opacity),oe&&te.drawImage(J,se.x+Z,se.y+Z,se.w,se.h)}}),ur.useEffect(()=>{H(!1)},[M]);const ie=yv({height:a,width:a},P);let Ae=null;return M!=null&&(Ae=ur.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{H(!0)},ref:B,crossOrigin:se?.crossOrigin})),ur.createElement(ur.Fragment,null,ur.createElement("canvas",yv({style:ie,height:a,width:a,ref:W,role:"img"},D)),Ae)});n9.displayName="QRCodeCanvas";var Rp=ur.forwardRef(function(t,r){const n=t,{value:i,size:a=UI,level:c=$I,bgColor:f=WI,fgColor:h=VI,includeMargin:p=HI,minVersion:v=qI,boostLevel:b,title:S,marginSize:C,imageSettings:O}=n,I=bv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:P,cells:D,numCells:M,calculatedImageSettings:R}=XI({value:i,level:c,minVersion:v,boostLevel:b,includeMargin:p,marginSize:C,imageSettings:O,size:a});let B=D,W=null;O!=null&&R!=null&&(R.excavation!=null&&(B=KI(D,R.excavation)),W=ur.createElement("image",{href:O.src,height:R.h,width:R.w,x:R.x+P,y:R.y+P,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const $=GI(B,P);return ur.createElement("svg",yv({height:a,width:a,viewBox:`0 0 ${M} ${M}`,ref:r,role:"img"},I),!!S&&ur.createElement("title",null,S),ur.createElement("path",{fill:f,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),ur.createElement("path",{fill:h,d:$,shapeRendering:"crispEdges"}),W)});Rp.displayName="QRCodeSVG";const wv=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[a,c]=_.useState(!1),h=(v=>{switch(v==="Silver"&&(v="Bronce"),v){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"15% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return m.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!a),children:[m.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${a?"rotate-y-180":""}`,children:[m.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[680px] border border-stone-800",children:[m.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",m.jsx("span",{className:"text-amber-500",children:"Style"})]}),m.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:h.name})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),m.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),m.jsxs("div",{className:"px-6 py-4 z-10",children:[m.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((v,b)=>m.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${b<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:b<r&&m.jsx(kc,{size:20,className:"text-stone-950 stroke-[4]"})},b))}),m.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[m.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),m.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),m.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),m.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),m.jsx("div",{className:"w-px h-10 bg-stone-800"}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),m.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),m.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[m.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[m.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),m.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),m.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[m.jsx(Rp,{value:t,size:160,level:"M"}),m.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]})]}),m.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${h.bgGradient} z-0`})]}),m.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[680px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[m.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),m.jsx(n5,{className:"text-stone-500"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),m.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),m.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),m.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),m.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),m.jsxs("ul",{className:"text-[9px] text-stone-300 list-disc list-inside leading-tight mt-1",children:[m.jsx("li",{children:"10% OFF Servicios + 7% Productos"}),m.jsx("li",{children:" Regalo: Decant rabe 5ml"})]})]})]}),m.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold (VIP)"}),m.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas / Actualizacin Anual"}),m.jsxs("ul",{className:"text-[9px] text-stone-300 list-disc list-inside leading-tight mt-1",children:[m.jsx("li",{children:"15% OFF Servicios + 10% Productos"}),m.jsx("li",{children:"Prioridad en Agenda + Regalo Cumpleaos"}),m.jsx("li",{children:" Regalo: Decant Premium 10ml"})]})]})]})]})]}),m.jsxs("div",{className:"text-center space-y-1",children:[m.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."}),m.jsx("p",{className:"text-[8px] text-stone-600 italic",children:"* El sistema de fidelidad se actualiza de forma anual."})]})]})]}),m.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},i9=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":/android/i.test(e)?"android":"other"},Ev=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[c,f]=_.useState(!1);_.useEffect(()=>{const p=i9();n(p==="ios"),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)&&a(!0);const v=b=>{b.preventDefault(),t(b)};return window.addEventListener("beforeinstallprompt",v),()=>{window.removeEventListener("beforeinstallprompt",v)}},[]);const h=()=>{r?f(!0):e?(e.prompt(),e.userChoice.then(p=>{p.outcome==="accepted"&&console.log("App instalada correctamente"),t(null)})):alert('Para instalar, busca la opcin "Agregar a pantalla de inicio" en el men de tu navegador.')};return i?m.jsx("div",{className:"mt-6 w-full",children:m.jsxs("div",{className:"bg-green-500/10 text-green-400 px-5 py-4 rounded-2xl border border-green-500/20 flex items-center justify-center gap-3 backdrop-blur-sm",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:m.jsx(kc,{size:18,strokeWidth:3})}),m.jsx("span",{className:"font-bold text-sm",children:"App Instalada Correctamente"})]})}):m.jsxs("div",{className:"flex flex-col gap-4 mt-6 w-full",children:[m.jsxs("button",{onClick:h,className:"relative overflow-hidden w-full bg-gradient-to-br from-stone-800 to-stone-900 text-white p-1 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group active:scale-[0.98]",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsxs("div",{className:"relative rounded-xl px-6 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-600/10 flex items-center justify-center shrink-0 border border-amber-500/20",children:m.jsx(vO,{className:"w-6 h-6 text-amber-400"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"text-amber-400 text-[10px] font-bold uppercase tracking-wider mb-0.5",children:"Acceso Directo"}),m.jsx("p",{className:"font-bold text-lg leading-tight",children:"Guardar en mi Celular"}),m.jsx("p",{className:"text-stone-400 text-xs mt-0.5",children:"Accede a tu tarjeta con un toque"})]})]}),m.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center group-hover:bg-amber-500 group-hover:text-black transition-all border border-amber-500/20",children:m.jsx(r0,{size:18})})]})]}),c&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[28px] p-7 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-stone-900",children:"Guardar en tu iPhone"}),m.jsx("button",{onClick:()=>f(!1),className:"w-8 h-8 rounded-full bg-stone-100 flex items-center justify-center hover:bg-stone-200 transition-colors",children:m.jsx(Ai,{size:16,className:"text-stone-500"})})]}),m.jsxs("div",{className:"space-y-5",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-9 h-9 rounded-full bg-amber-500 text-white flex items-center justify-center shrink-0 text-sm font-bold shadow-md",children:"1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-stone-900",children:"Toca el cono de Compartir"}),m.jsx("p",{className:"text-stone-500 text-sm mt-0.5",children:"Bscalo en la barra de tu explorador web."}),m.jsx("div",{className:"mt-2 flex justify-center",children:m.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:m.jsx(p5,{className:"text-blue-500",size:22})})})]})]}),m.jsx("div",{className:"w-full h-px bg-stone-100"}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-9 h-9 rounded-full bg-amber-500 text-white flex items-center justify-center shrink-0 text-sm font-bold shadow-md",children:"2"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-stone-900",children:'Busca "Agregar a Inicio"'}),m.jsx("p",{className:"text-stone-500 text-sm mt-0.5",children:"Debes deslizar hacia abajo hasta encontrar la opcin."}),m.jsxs("div",{className:"mt-2 flex items-center gap-2 bg-stone-100 px-4 py-2.5 rounded-xl w-fit",children:[m.jsx(c5,{size:16,className:"text-stone-600"}),m.jsx("span",{className:"text-sm font-medium text-stone-700",children:"Agregar a Inicio"})]})]})]})]}),m.jsx("button",{onClick:()=>f(!1),className:"w-full mt-8 bg-stone-900 text-white py-4 rounded-2xl font-bold text-base active:scale-[0.98] transition-transform",children:"Entendido!"})]})})]})},a9=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(null),[c,f]=_.useState(null),[h,p]=_.useState(!1),[v,b]=_.useState(""),[S,C]=_.useState(""),[O,I]=_.useState(""),[P,D]=_.useState(""),[M,R]=_.useState(""),[B,W]=_.useState(!1),$=pe=>{let se=pe.replace(/[^0-9kK]/g,"").toUpperCase();return se=se.replace("K","0"),se.slice(0,9)},H=pe=>{const se=pe.target.value.replace(/[^0-9]/g,"");se.length<=8&&t(se)},Z=async pe=>{pe&&pe.preventDefault();const ie=new URLSearchParams(window.location.search).get("token");if(!(!ie&&e.length<8)){n(!0);try{let Ae=$e.from("clients").select("*");ie?Ae=Ae.eq("member_token",ie):Ae=Ae.eq("phone","+569"+e);const{data:Ce,error:te}=await Ae.single();if(Ce){const Re=Ce.visits||0;let J="Bronce";Re>=10?J="Gold":Re>=5&&(J="Plata"),f({name:Ce.name,visits:Re,referrals:Ce.referrals,nextReward:Re<5?5:Re<10?10:15,token:Ce.member_token,tier:J,hair_service_count:Ce.hair_service_count||0}),p(!1)}else ie||p(!0)}catch(Ae){console.error("Error checking loyalty:",Ae)}finally{n(!1)}}},K=async pe=>{pe.preventDefault(),n(!0);try{if(!$e)throw new Error("Sistema no disponible. Contacta al administrador.");if(!v.trim()||!S.trim())throw new Error("Por favor completa nombre y apellido");if(!B)throw new Error("Debes aceptar los trminos de uso");const se=$(O),ie="+569"+e,Ce="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(J){const oe=Math.random()*16|0;return(J==="x"?oe:oe&3|8).toString(16)});console.log("Registrando cliente:",{fullPhone:ie,name:`${v} ${S}`,token:Ce});const{data:te,error:Re}=await $e.from("clients").insert([{name:`${v} ${S}`,phone:ie,rut:se,email:P||null,birth_date:M||null,visits:0,referrals:0,hair_service_count:0,member_token:Ce}]).select();if(console.log("Resultado insert:",{data:te,error:Re}),Re)throw console.error("Error de Supabase:",Re),Re.code==="23505"?new Error("Este nmero o RUT ya est registrado."):new Error("Ocurri un problema al registrar. Por favor intenta nuevamente.");if(te&&te[0]){const J=te[0];console.log("Cliente creado:",J),f({name:J.name,visits:0,referrals:0,nextReward:5,token:J.member_token||Ce,tier:"Bronce",hair_service_count:0}),p(!1)}else throw new Error("No se recibieron datos del servidor")}catch(se){console.error("Error registering:",se),a(se.message==="Este nmero o RUT ya est registrado."||se.message==="Por favor completa nombre y apellido"||se.message==="Debes aceptar los trminos de uso"?se.message:"No se pudo completar el registro. Verifica tus datos e intenta nuevamente.")}finally{n(!1)}};return ur.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&Z()},[]),m.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[m.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),m.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),m.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!c&&!h&&m.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[m.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),m.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-2 group",children:[m.jsx("span",{className:"bg-stone-800/50 text-stone-400 font-mono text-sm px-3 py-4 rounded-xl border border-stone-700 whitespace-nowrap",children:"+569"}),m.jsxs("div",{className:"relative flex-1",children:[m.jsx("input",{type:"tel",value:e,onChange:H,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 px-4 pr-10 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono text-lg tracking-wider"}),m.jsx(wd,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]})]}),m.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?m.jsx(bd,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!c&&h&&m.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:m.jsx(Sd,{size:24})}),m.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),m.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",m.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),m.jsxs("form",{onSubmit:K,className:"space-y-4",children:[i&&m.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex items-center gap-3",children:[m.jsx(Dy,{className:"text-red-400 shrink-0",size:20}),m.jsx("p",{className:"text-red-300 text-sm",children:i})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:v,onChange:pe=>{b(pe.target.value),a(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),m.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:S,onChange:pe=>{C(pe.target.value),a(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),m.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:O,onChange:pe=>{I(pe.target.value),a(null)},className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),m.jsx("input",{type:"email",placeholder:"Email (Opcional)",value:P,onChange:pe=>D(pe.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-stone-500 ml-1 mb-1",children:"Fecha de Nacimiento"}),m.jsx("input",{type:"date",value:M,onChange:pe=>R(pe.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),m.jsxs("div",{className:"flex items-center gap-3 py-2",children:[m.jsx("input",{type:"checkbox",id:"terms",checked:B,onChange:pe=>W(pe.target.checked),className:"w-5 h-5 rounded border-stone-700 bg-stone-900 text-amber-500 focus:ring-amber-500/50"}),m.jsxs("label",{htmlFor:"terms",className:"text-xs text-stone-400 select-none",children:["He ledo y acepto los ",m.jsx("a",{href:"#",className:"text-amber-500 hover:underline",children:"trminos de uso"}),"."]})]}),m.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?m.jsx(bd,{className:"animate-spin"}):"Registrarme"}),m.jsx("button",{type:"button",onClick:()=>p(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),c&&m.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[m.jsxs("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:[m.jsx(wv,{clientName:c.name||"Miembro Exclusivo",token:c.token||"pending-token",visits:c.visits,nextReward:5,tier:c.tier}),m.jsx("div",{className:"mt-6",children:m.jsx(Ev,{})})]}),m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("p",{className:"text-sm text-stone-400",children:c.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),m.jsx("button",{onClick:()=>{f(null),t(""),p(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},s9="modulepreload",o9=function(e){return"/"+e},jS={},l9=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let h=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");i=h(r.map(p=>{if(p=o9(p),p in jS)return;jS[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":s9,v||(S.as="script"),S.crossOrigin="",S.href=p,f&&S.setAttribute("nonce",f),document.head.appendChild(S),v)return new Promise((C,O)=>{S.addEventListener("load",C),S.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})},c9=({onLogin:e})=>{const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,c]=_.useState(""),[f,h]=_.useState(!1),p=async v=>{v.preventDefault(),c(""),h(!0);try{if(await new Promise(b=>setTimeout(b,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else if(n==="inventario@tus3b.cl"&&t==="Stock2026!")console.log("ACCESO INVENTARIO: Credenciales vlidas"),e("inventory",n);else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(b){console.error(b),c("Error local simulado")}finally{h(!1)}};return m.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:m.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[m.jsx(g5,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),m.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),a&&m.jsx("p",{className:"text-red-500 text-sm",children:a}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),m.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var et;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(et||(et={}));var kS=new Map([[et.QR_CODE,"QR_CODE"],[et.AZTEC,"AZTEC"],[et.CODABAR,"CODABAR"],[et.CODE_39,"CODE_39"],[et.CODE_93,"CODE_93"],[et.CODE_128,"CODE_128"],[et.DATA_MATRIX,"DATA_MATRIX"],[et.MAXICODE,"MAXICODE"],[et.ITF,"ITF"],[et.EAN_13,"EAN_13"],[et.EAN_8,"EAN_8"],[et.PDF_417,"PDF_417"],[et.RSS_14,"RSS_14"],[et.RSS_EXPANDED,"RSS_EXPANDED"],[et.UPC_A,"UPC_A"],[et.UPC_E,"UPC_E"],[et.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),TS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(TS||(TS={}));function u9(e){return Object.values(et).includes(e)}var A0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(A0||(A0={}));var d9=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[A0.SCAN_TYPE_CAMERA,A0.SCAN_TYPE_FILE],e})(),YI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!kS.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,kS.get(t))},e})(),RS=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Sv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Sv||(Sv={}));var f9=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Sv.UNKWOWN_ERROR}},e})(),h9=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function As(e){return typeof e>"u"||e===null}var Nc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),ZI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(t),f=0,h=c;f<h.length;f++){var p=h[f];if(a.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e})(),ld={exports:{}},p9=ld.exports,DS;function m9(){return DS||(DS=1,(function(e,t){(function(r,n){n(t)})(p9,(function(r){function n(F){return F==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,s){F.__proto__=s}||function(F,s){for(var l in s)s.hasOwnProperty(l)&&(F[l]=s[l])};function a(F,s){i(F,s);function l(){this.constructor=F}F.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(F,s){var l=Object.setPrototypeOf;l?l(F,s):F.__proto__=s}function f(F,s){s===void 0&&(s=F.constructor);var l=Error.captureStackTrace;l&&l(F,s)}var h=(function(F){a(s,F);function s(l){var u=this.constructor,g=F.call(this,l)||this;return Object.defineProperty(g,"name",{value:u.name,enumerable:!1}),c(g,u.prototype),f(g),g}return s})(Error);class p extends h{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class v extends p{}v.kind="ArgumentException";class b extends p{}b.kind="IllegalArgumentException";class S{constructor(s){if(this.binarizer=s,s===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,u,g){const x=this.binarizer.getLuminanceSource().crop(s,l,u,g);return new S(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends p{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class O{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,l,u,g,x){for(;x--;)u[g++]=s[l++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class D extends P{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}D.kind="ArrayIndexOutOfBoundsException";class M{static fill(s,l){for(let u=0,g=s.length;u<g;u++)s[u]=l}static fillWithin(s,l,u,g){M.rangeCheck(s.length,l,u);for(let x=l;x<u;x++)s[x]=g}static rangeCheck(s,l,u){if(l>u)throw new b("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new D(l);if(u>s)throw new D(u)}static asList(...s){return s}static create(s,l,u){return Array.from({length:s}).map(x=>Array.from({length:l}).fill(u))}static createInt32Array(s,l,u){return Array.from({length:s}).map(x=>Int32Array.from({length:l}).fill(u))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let u=0,g=s.length;u<g;u++)if(s[u]!==l[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const u of s)l=31*l+u;return l}static fillUint8Array(s,l){for(let u=0;u!==s.length;u++)s[u]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const u=new Uint8Array(l);return u.set(s),u}return s.slice(0,l)}static copyOfRange(s,l,u){const g=u-l,x=new Int32Array(g);return I.arraycopy(s,l,x,0,g),x}static binarySearch(s,l,u){u===void 0&&(u=M.numberComparator);let g=0,x=s.length-1;for(;g<=x;){const y=x+g>>1,E=u(l,s[y]);if(E>0)g=y+1;else if(E<0)x=y-1;else return y}return-g-1}static numberComparator(s,l){return s-l}}class R{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let u=31;return l=s<<16,l!==0&&(u-=16,s=l),l=s<<8,l!==0&&(u-=8,s=l),l=s<<4,l!==0&&(u-=4,s=l),l=s<<2,l!==0&&(u-=2,s=l),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=B.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=B.makeArray(s);I.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const u=this.bits;let g=Math.floor(s/32),x=u[g];x&=~((1<<(s&31))-1);const y=u.length;for(;x===0;){if(++g===y)return l;x=u[g]}const E=g*32+R.numberOfTrailingZeros(x);return E>l?l:E}getNextUnset(s){const l=this.size;if(s>=l)return l;const u=this.bits;let g=Math.floor(s/32),x=~u[g];x&=~((1<<(s&31))-1);const y=u.length;for(;x===0;){if(++g===y)return l;x=~u[g]}const E=g*32+R.numberOfTrailingZeros(x);return E>l?l:E}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new b;if(l===s)return;l--;const u=Math.floor(s/32),g=Math.floor(l/32),x=this.bits;for(let y=u;y<=g;y++){const E=y>u?0:s&31,j=(2<<(y<g?31:l&31))-(1<<E);x[y]|=j}}clear(){const s=this.bits.length,l=this.bits;for(let u=0;u<s;u++)l[u]=0}isRange(s,l,u){if(l<s||s<0||l>this.size)throw new b;if(l===s)return!0;l--;const g=Math.floor(s/32),x=Math.floor(l/32),y=this.bits;for(let E=g;E<=x;E++){const N=E>g?0:s&31,L=(2<<(E<x?31:l&31))-(1<<N)&4294967295;if((y[E]&L)!==(u?L:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new b("Sizes don't match");const l=this.bits;for(let u=0,g=l.length;u<g;u++)l[u]^=s.bits[u]}toBytes(s,l,u,g){for(let x=0;x<g;x++){let y=0;for(let E=0;E<8;E++)this.get(s)&&(y|=1<<7-E),s++;l[u+x]=y}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,g=this.bits;for(let x=0;x<u;x++){let y=g[x];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,s[l-x]=y}if(this.size!==u*32){const x=u*32-this.size;let y=s[0]>>>x;for(let E=1;E<u;E++){const N=s[E];y|=N<<32-x,s[E-1]=y,y=N>>>x}s[u-1]=y}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof B))return!1;const l=s;return this.size===l.size&&M.equals(this.bits,l.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let s="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new B(this.size,this.bits.slice())}}var W;(function(F){F[F.OTHER=0]="OTHER",F[F.PURE_BARCODE=1]="PURE_BARCODE",F[F.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",F[F.TRY_HARDER=3]="TRY_HARDER",F[F.CHARACTER_SET=4]="CHARACTER_SET",F[F.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",F[F.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",F[F.ASSUME_GS1=7]="ASSUME_GS1",F[F.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",F[F.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",F[F.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var $=W;class H extends p{static getFormatInstance(){return new H}}H.kind="FormatException";var Z;(function(F){F[F.Cp437=0]="Cp437",F[F.ISO8859_1=1]="ISO8859_1",F[F.ISO8859_2=2]="ISO8859_2",F[F.ISO8859_3=3]="ISO8859_3",F[F.ISO8859_4=4]="ISO8859_4",F[F.ISO8859_5=5]="ISO8859_5",F[F.ISO8859_6=6]="ISO8859_6",F[F.ISO8859_7=7]="ISO8859_7",F[F.ISO8859_8=8]="ISO8859_8",F[F.ISO8859_9=9]="ISO8859_9",F[F.ISO8859_10=10]="ISO8859_10",F[F.ISO8859_11=11]="ISO8859_11",F[F.ISO8859_13=12]="ISO8859_13",F[F.ISO8859_14=13]="ISO8859_14",F[F.ISO8859_15=14]="ISO8859_15",F[F.ISO8859_16=15]="ISO8859_16",F[F.SJIS=16]="SJIS",F[F.Cp1250=17]="Cp1250",F[F.Cp1251=18]="Cp1251",F[F.Cp1252=19]="Cp1252",F[F.Cp1256=20]="Cp1256",F[F.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",F[F.UTF8=22]="UTF8",F[F.ASCII=23]="ASCII",F[F.Big5=24]="Big5",F[F.GB18030=25]="GB18030",F[F.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class K{constructor(s,l,u,...g){this.valueIdentifier=s,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=g,K.VALUE_IDENTIFIER_TO_ECI.set(s,this),K.NAME_TO_ECI.set(u,this);const x=this.values;for(let y=0,E=x.length;y!==E;y++){const N=x[y];K.VALUES_TO_ECI.set(N,this)}for(const y of g)K.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new H("incorect value");const l=K.VALUES_TO_ECI.get(s);if(l===void 0)throw new H("incorect value");return l}static getCharacterSetECIByName(s){const l=K.NAME_TO_ECI.get(s);if(l===void 0)throw new H("incorect value");return l}equals(s){if(!(s instanceof K))return!1;const l=s;return this.getName()===l.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Z.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Z.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Z.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Z.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Z.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Z.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Z.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Z.Big5,28,"Big5"),K.GB18030=new K(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Z.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends p{}pe.kind="UnsupportedOperationException";class se{static decode(s,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!se.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof K?s:K.getCharacterSetECIByName(s)}static decodeFallback(s,l){const u=this.encodingCharacterSet(l);if(se.isDecodeFallbackSupported(u)){let g="";for(let x=0,y=s.length;x<y;x++){let E=s[x].toString(16);E.length<2&&(E="0"+E),g+="%"+E}return decodeURIComponent(g)}if(u.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new pe(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(K.UTF8)||s.equals(K.ISO8859_1)||s.equals(K.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),g=[];for(let x=0;x<u.length;x++)g.push(u[x].charCodeAt(0));return new Uint8Array(g)}}class ie{static castAsNonUtf8Char(s,l=null){const u=l?l.getName():this.ISO88591;return se.decode(new Uint8Array([s]),u)}static guessEncoding(s,l){if(l!=null&&l.get($.CHARACTER_SET)!==void 0)return l.get($.CHARACTER_SET).toString();const u=s.length;let g=!0,x=!0,y=!0,E=0,N=0,j=0,L=0,z=0,V=0,G=0,ee=0,ne=0,ce=0,be=0;const Me=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let Le=0;Le<u&&(g||x||y);Le++){const je=s[Le]&255;y&&(E>0?(je&128)===0?y=!1:E--:(je&128)!==0&&((je&64)===0?y=!1:(E++,(je&32)===0?N++:(E++,(je&16)===0?j++:(E++,(je&8)===0?L++:y=!1))))),g&&(je>127&&je<160?g=!1:je>159&&(je<192||je===215||je===247)&&be++),x&&(z>0?je<64||je===127||je>252?x=!1:z--:je===128||je===160||je>239?x=!1:je>160&&je<224?(V++,ee=0,G++,G>ne&&(ne=G)):je>127?(z++,G=0,ee++,ee>ce&&(ce=ee)):(G=0,ee=0))}return y&&E>0&&(y=!1),x&&z>0&&(x=!1),y&&(Me||N+j+L>0)?ie.UTF8:x&&(ie.ASSUME_SHIFT_JIS||ne>=3||ce>=3)?ie.SHIFT_JIS:g&&x?ne===2&&V===2||be*10>=u?ie.SHIFT_JIS:ie.ISO88591:g?ie.ISO88591:x?ie.SHIFT_JIS:y?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let u=-1;function g(y,E,N,j,L,z){if(y==="%%")return"%";if(l[++u]===void 0)return;y=j?parseInt(j.substr(1)):void 0;let V=L?parseInt(L.substr(1)):void 0,G;switch(z){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(y);break;case"p":G=parseFloat(l[u]).toPrecision(y);break;case"e":G=parseFloat(l[u]).toExponential(y);break;case"x":G=parseInt(l[u]).toString(V||16);break;case"d":G=parseFloat(parseInt(l[u],V||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(V);let ee=parseInt(N),ne=N&&N[0]+""=="0"?"0":" ";for(;G.length<ee;)G=E!==void 0?G+ne:ne+G;return G}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(x,g)}static getBytes(s,l){return se.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}ie.SHIFT_JIS=K.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=K.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=K.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class Ae{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,u){for(let g=l;l<l+u;g++)this.append(s[g]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class Ce{constructor(s,l,u,g){if(this.width=s,this.height=l,this.rowSize=u,this.bits=g,l==null&&(l=s),this.height=l,s<1||l<1)throw new b("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,u=s[0].length,g=new Ce(u,l);for(let x=0;x<l;x++){const y=s[x];for(let E=0;E<u;E++)y[E]&&g.set(E,x)}return g}static parseFromString(s,l,u){if(s===null)throw new b("stringRepresentation cannot be null");const g=new Array(s.length);let x=0,y=0,E=-1,N=0,j=0;for(;j<s.length;)if(s.charAt(j)===`
`||s.charAt(j)==="\r"){if(x>y){if(E===-1)E=x-y;else if(x-y!==E)throw new b("row lengths do not match");y=x,N++}j++}else if(s.substring(j,j+l.length)===l)j+=l.length,g[x]=!0,x++;else if(s.substring(j,j+u.length)===u)j+=u.length,g[x]=!1,x++;else throw new b("illegal character encountered: "+s.substring(j));if(x>y){if(E===-1)E=x-y;else if(x-y!==E)throw new b("row lengths do not match");N++}const L=new Ce(E,N);for(let z=0;z<x;z++)g[z]&&L.set(Math.floor(z%E),Math.floor(z/E));return L}get(s,l){const u=l*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new b("input matrix dimensions do not match");const l=new B(Math.floor(this.width/32)+1),u=this.rowSize,g=this.bits;for(let x=0,y=this.height;x<y;x++){const E=x*u,N=s.getRow(x,l).getBitArray();for(let j=0;j<u;j++)g[E+j]^=N[j]}}clear(){const s=this.bits,l=s.length;for(let u=0;u<l;u++)s[u]=0}setRegion(s,l,u,g){if(l<0||s<0)throw new b("Left and top must be nonnegative");if(g<1||u<1)throw new b("Height and width must be at least 1");const x=s+u,y=l+g;if(y>this.height||x>this.width)throw new b("The region must fit inside the matrix");const E=this.rowSize,N=this.bits;for(let j=l;j<y;j++){const L=j*E;for(let z=s;z<x;z++)N[L+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new B(this.width):l.clear();const u=this.rowSize,g=this.bits,x=s*u;for(let y=0;y<u;y++)l.setBulk(y*32,g[x+y]);return l}setRow(s,l){I.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let u=new B(s),g=new B(s);for(let x=0,y=Math.floor((l+1)/2);x<y;x++)u=this.getRow(x,u),g=this.getRow(l-1-x,g),u.reverse(),g.reverse(),this.setRow(x,g),this.setRow(l-1-x,u)}getEnclosingRectangle(){const s=this.width,l=this.height,u=this.rowSize,g=this.bits;let x=s,y=l,E=-1,N=-1;for(let j=0;j<l;j++)for(let L=0;L<u;L++){const z=g[j*u+L];if(z!==0){if(j<y&&(y=j),j>N&&(N=j),L*32<x){let V=0;for(;(z<<31-V&4294967295)===0;)V++;L*32+V<x&&(x=L*32+V)}if(L*32+31>E){let V=31;for(;!(z>>>V);)V--;L*32+V>E&&(E=L*32+V)}}}return E<x||N<y?null:Int32Array.from([x,y,E-x+1,N-y+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const g=u/s;let x=u%s*32;const y=l[u];let E=0;for(;(y<<31-E&4294967295)===0;)E++;return x+=E,Int32Array.from([x,g])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const g=Math.floor(u/s);let x=Math.floor(u%s)*32;const y=l[u];let E=31;for(;!(y>>>E);)E--;return x+=E,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Ce))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&M.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+M.hashCode(this.bits),s}toString(s="X ",l="  ",u=`
`){return this.buildToString(s,l,u)}buildToString(s,l,u){let g=new Ae;for(let x=0,y=this.height;x<y;x++){for(let E=0,N=this.width;E<N;E++)g.append(this.get(E,x)?s:l);g.append(u)}return g.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Re extends O{constructor(s){super(s),this.luminances=Re.EMPTY,this.buckets=new Int32Array(Re.LUMINANCE_BUCKETS)}getBlackRow(s,l){const u=this.getLuminanceSource(),g=u.getWidth();l==null||l.getSize()<g?l=new B(g):l.clear(),this.initArrays(g);const x=u.getRow(s,this.luminances),y=this.buckets;for(let N=0;N<g;N++)y[(x[N]&255)>>Re.LUMINANCE_SHIFT]++;const E=Re.estimateBlackPoint(y);if(g<3)for(let N=0;N<g;N++)(x[N]&255)<E&&l.set(N);else{let N=x[0]&255,j=x[1]&255;for(let L=1;L<g-1;L++){const z=x[L+1]&255;(j*4-N-z)/2<E&&l.set(L),N=j,j=z}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight(),g=new Ce(l,u);this.initArrays(l);const x=this.buckets;for(let N=1;N<5;N++){const j=Math.floor(u*N/5),L=s.getRow(j,this.luminances),z=Math.floor(l*4/5);for(let V=Math.floor(l/5);V<z;V++){const G=L[V]&255;x[G>>Re.LUMINANCE_SHIFT]++}}const y=Re.estimateBlackPoint(x),E=s.getMatrix();for(let N=0;N<u;N++){const j=N*l;for(let L=0;L<l;L++)(E[j+L]&255)<y&&g.set(L,N)}return g}createBinarizer(s){return new Re(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let u=0;u<Re.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(s){const l=s.length;let u=0,g=0,x=0;for(let L=0;L<l;L++)s[L]>x&&(g=L,x=s[L]),s[L]>u&&(u=s[L]);let y=0,E=0;for(let L=0;L<l;L++){const z=L-g,V=s[L]*z*z;V>E&&(y=L,E=V)}if(g>y){const L=g;g=y,y=L}if(y-g<=l/16)throw new te;let N=y-1,j=-1;for(let L=y-1;L>g;L--){const z=L-g,V=z*z*(y-L)*(u-s[L]);V>j&&(N=L,j=V)}return N<<Re.LUMINANCE_SHIFT}}Re.LUMINANCE_BITS=5,Re.LUMINANCE_SHIFT=8-Re.LUMINANCE_BITS,Re.LUMINANCE_BUCKETS=1<<Re.LUMINANCE_BITS,Re.EMPTY=Uint8ClampedArray.from([0]);class J extends Re{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight();if(l>=J.MINIMUM_DIMENSION&&u>=J.MINIMUM_DIMENSION){const g=s.getMatrix();let x=l>>J.BLOCK_SIZE_POWER;(l&J.BLOCK_SIZE_MASK)!==0&&x++;let y=u>>J.BLOCK_SIZE_POWER;(u&J.BLOCK_SIZE_MASK)!==0&&y++;const E=J.calculateBlackPoints(g,x,y,l,u),N=new Ce(l,u);J.calculateThresholdForBlock(g,x,y,l,u,E,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new J(s)}static calculateThresholdForBlock(s,l,u,g,x,y,E){const N=x-J.BLOCK_SIZE,j=g-J.BLOCK_SIZE;for(let L=0;L<u;L++){let z=L<<J.BLOCK_SIZE_POWER;z>N&&(z=N);const V=J.cap(L,2,u-3);for(let G=0;G<l;G++){let ee=G<<J.BLOCK_SIZE_POWER;ee>j&&(ee=j);const ne=J.cap(G,2,l-3);let ce=0;for(let Me=-2;Me<=2;Me++){const Le=y[V+Me];ce+=Le[ne-2]+Le[ne-1]+Le[ne]+Le[ne+1]+Le[ne+2]}const be=ce/25;J.thresholdBlock(s,ee,z,be,g,E)}}}static cap(s,l,u){return s<l?l:s>u?u:s}static thresholdBlock(s,l,u,g,x,y){for(let E=0,N=u*x+l;E<J.BLOCK_SIZE;E++,N+=x)for(let j=0;j<J.BLOCK_SIZE;j++)(s[N+j]&255)<=g&&y.set(l+j,u+E)}static calculateBlackPoints(s,l,u,g,x){const y=x-J.BLOCK_SIZE,E=g-J.BLOCK_SIZE,N=new Array(u);for(let j=0;j<u;j++){N[j]=new Int32Array(l);let L=j<<J.BLOCK_SIZE_POWER;L>y&&(L=y);for(let z=0;z<l;z++){let V=z<<J.BLOCK_SIZE_POWER;V>E&&(V=E);let G=0,ee=255,ne=0;for(let be=0,Me=L*g+V;be<J.BLOCK_SIZE;be++,Me+=g){for(let Le=0;Le<J.BLOCK_SIZE;Le++){const je=s[Me+Le]&255;G+=je,je<ee&&(ee=je),je>ne&&(ne=je)}if(ne-ee>J.MIN_DYNAMIC_RANGE)for(be++,Me+=g;be<J.BLOCK_SIZE;be++,Me+=g)for(let Le=0;Le<J.BLOCK_SIZE;Le++)G+=s[Me+Le]&255}let ce=G>>J.BLOCK_SIZE_POWER*2;if(ne-ee<=J.MIN_DYNAMIC_RANGE&&(ce=ee/2,j>0&&z>0)){const be=(N[j-1][z]+2*N[j][z-1]+N[j-1][z-1])/4;ee<be&&(ce=be)}N[j][z]=ce}}return N}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class oe{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,u,g){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new Ae;for(let u=0;u<this.height;u++){const g=this.getRow(u,s);for(let x=0;x<this.width;x++){const y=g[x]&255;let E;y<64?E="#":y<128?E="+":y<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class ue extends oe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const u=this.delegate.getRow(s,l),g=this.getWidth();for(let x=0;x<g;x++)u[x]=255-(u[x]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let g=0;g<l;g++)u[g]=255-(s[g]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,u,g){return new ue(this.delegate.crop(s,l,u,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class ve extends oe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return ve.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,u){const g=new Uint8ClampedArray(l*u);for(let x=0,y=0,E=s.length;x<E;x+=4,y++){let N;if(s[x+3]===0)N=255;else{const L=s[x],z=s[x+1],V=s[x+2];N=306*L+601*z+117*V+512>>10}g[y]=N}return g}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth(),g=s*u;return l===null?l=this.buffer.slice(g,g+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(g,g+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,u,g){return super.crop(s,l,u,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),u=l.getContext("2d"),g=s*ve.DEGREE_TO_RADIANS,x=this.canvas.width,y=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*y),N=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*y);return l.width=E,l.height=N,u.translate(E/2,N/2),u.rotate(g),u.drawImage(this.canvas,x/-2,y/-2),this.buffer=ve.makeBufferFromCanvasImageData(l),this}invert(){return new ue(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class Q{constructor(s,l,u){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||Ah||self||window||void 0)&&(globalThis||Ah||self||window||void 0).__awaiter||function(F,s,l,u){function g(x){return x instanceof l?x:new l(function(y){y(x)})}return new(l||(l=Promise))(function(x,y){function E(L){try{j(u.next(L))}catch(z){y(z)}}function N(L){try{j(u.throw(L))}catch(z){y(z)}}function j(L){L.done?x(L.value):g(L.value).then(E,N)}j((u=u.apply(F,s||[])).next())})};class Ue{constructor(s,l=500,u){this.reader=s,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of s){const g=u.kind==="video"?"videoinput":u.kind;if(g!=="videoinput")continue;const x=u.deviceId||u.id,y=u.label||`Video device ${l.length+1}`,E=u.groupId,N={deviceId:x,label:y,kind:g,groupId:E};l.push(N)}return l})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Q(l.deviceId,l.label))})}findDeviceById(s){return le(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return le(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const g={video:u};return yield this.decodeOnceFromConstraints(g,l)})}decodeOnceFromConstraints(s,l){return le(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(s,l){return le(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,l,u){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,u)})}decodeFromVideoDevice(s,l,u){return le(this,void 0,void 0,function*(){let g;s?g={deviceId:{exact:s}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,l,u)})}decodeFromConstraints(s,l,u){return le(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(g,l,u)})}decodeFromStream(s,l,u){return le(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(g,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return le(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((l,u)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const u=document.getElementById(s);if(!u)throw new v(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new v(`element with id '${s}' must be an ${l} element`);return u}decodeFromImage(s,l){if(!s&&!l)throw new v("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new v("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,u){if(s===void 0&&l===void 0)throw new v("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=s,u}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=s,u}decodeFromVideoUrlContinuously(s,l){if(!s)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(u,l);return u.src=s,g}_decodeOnLoadImage(s){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,u=!0){this._stopAsyncDecode=!1;const g=(x,y)=>{if(this._stopAsyncDecode){y(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(s);x(E)}catch(E){const N=l&&E instanceof te,L=(E instanceof C||E instanceof H)&&u;if(N||L)return setTimeout(g,this._timeBetweenDecodingAttempts,x,y);y(E)}};return new Promise((x,y)=>g(x,y))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(s);l(g,null),setTimeout(u,this.timeBetweenScansMillis)}catch(g){l(null,g);const x=g instanceof C||g instanceof H,y=g instanceof te;(x||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,u){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new ve(l),g=new J(u);return new S(g)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,g;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,g=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,g=s.naturalHeight||s.height)),l.style.width=u+"px",l.style.height=g+"px",l.width=u,l.height=g,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(s,l,u=l==null?0:8*l.length,g,x,y=I.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=u,this.resultPoints=g,this.format=x,this.timestamp=y,this.text=s,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=g,this.format=x,this.resultMetadata=null,y==null?this.timestamp=I.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(l.length+s.length);I.arraycopy(l,0,u,0,l.length),I.arraycopy(s,0,u,l.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ge;(function(F){F[F.AZTEC=0]="AZTEC",F[F.CODABAR=1]="CODABAR",F[F.CODE_39=2]="CODE_39",F[F.CODE_93=3]="CODE_93",F[F.CODE_128=4]="CODE_128",F[F.DATA_MATRIX=5]="DATA_MATRIX",F[F.EAN_8=6]="EAN_8",F[F.EAN_13=7]="EAN_13",F[F.ITF=8]="ITF",F[F.MAXICODE=9]="MAXICODE",F[F.PDF_417=10]="PDF_417",F[F.QR_CODE=11]="QR_CODE",F[F.RSS_14=12]="RSS_14",F[F.RSS_EXPANDED=13]="RSS_EXPANDED",F[F.UPC_A=14]="UPC_A",F[F.UPC_E=15]="UPC_E",F[F.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var X=Ge,_e;(function(F){F[F.OTHER=0]="OTHER",F[F.ORIENTATION=1]="ORIENTATION",F[F.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",F[F.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",F[F.ISSUE_NUMBER=4]="ISSUE_NUMBER",F[F.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",F[F.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",F[F.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",F[F.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",F[F.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",F[F.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var ze=_e;class me{constructor(s,l,u,g,x=-1,y=-1){this.rawBytes=s,this.text=l,this.byteSegments=u,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=y,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class He{exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class ge{constructor(s,l){if(l.length===0)throw new b;this.field=s;const u=l.length;if(u>1&&l[0]===0){let g=1;for(;g<u&&l[g]===0;)g++;g===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-g),I.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(s===1){u=0;for(let y=0,E=l.length;y!==E;y++){const N=l[y];u=He.addOrSubtract(u,N)}return u}u=l[0];const g=l.length,x=this.field;for(let y=1;y<g;y++)u=He.addOrSubtract(x.multiply(s,u),l[y]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){const y=l;l=u,u=y}let g=new Int32Array(u.length);const x=u.length-l.length;I.arraycopy(u,0,g,0,x);for(let y=x;y<u.length;y++)g[y]=He.addOrSubtract(l[y-x],u[y]);return new ge(this.field,g)}multiply(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,g=s.coefficients,x=g.length,y=new Int32Array(u+x-1),E=this.field;for(let N=0;N<u;N++){const j=l[N];for(let L=0;L<x;L++)y[N+L]=He.addOrSubtract(y[N+L],E.multiply(j,g[L]))}return new ge(E,y)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,u=this.field,g=new Int32Array(l),x=this.coefficients;for(let y=0;y<l;y++)g[y]=u.multiply(x[y],s);return new ge(u,g)}multiplyByMonomial(s,l){if(s<0)throw new b;if(l===0)return this.field.getZero();const u=this.coefficients,g=u.length,x=new Int32Array(g+s),y=this.field;for(let E=0;E<g;E++)x[E]=y.multiply(u[E],l);return new ge(y,x)}divide(s){if(!this.field.equals(s.field))throw new b("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new b("Divide by 0");const l=this.field;let u=l.getZero(),g=this;const x=s.getCoefficient(s.getDegree()),y=l.inverse(x);for(;g.getDegree()>=s.getDegree()&&!g.isZero();){const E=g.getDegree()-s.getDegree(),N=l.multiply(g.getCoefficient(g.getDegree()),y),j=s.multiplyByMonomial(E,N),L=l.buildMonomial(E,N);u=u.addOrSubtract(L),g=g.addOrSubtract(j)}return[u,g]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),l===0||u!==1){const g=this.field.log(u);g===0?s+="1":g===1?s+="a":(s+="a^",s+=g)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class we extends p{}we.kind="ArithmeticException";class ke extends He{constructor(s,l,u){super(),this.primitive=s,this.size=l,this.generatorBase=u;const g=new Int32Array(l);let x=1;for(let E=0;E<l;E++)g[E]=x,x*=2,x>=l&&(x^=s,x&=l-1);this.expTable=g;const y=new Int32Array(l);for(let E=0;E<l-1;E++)y[g[E]]=E;this.logTable=y,this.zero=new ge(this,Int32Array.from([0])),this.one=new ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new b;if(l===0)return this.zero;const u=new Int32Array(s+1);return u[0]=l,new ge(this,u)}inverse(s){if(s===0)throw new we;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}ke.AZTEC_DATA_12=new ke(4201,4096,1),ke.AZTEC_DATA_10=new ke(1033,1024,1),ke.AZTEC_DATA_6=new ke(67,64,1),ke.AZTEC_PARAM=new ke(19,16,1),ke.QR_CODE_FIELD_256=new ke(285,256,0),ke.DATA_MATRIX_FIELD_256=new ke(301,256,1),ke.AZTEC_DATA_8=ke.DATA_MATRIX_FIELD_256,ke.MAXICODE_FIELD_64=ke.AZTEC_DATA_6;class We extends p{}We.kind="ReedSolomonException";class it extends p{}it.kind="IllegalStateException";class jt{constructor(s){this.field=s}decode(s,l){const u=this.field,g=new ge(u,s),x=new Int32Array(l);let y=!0;for(let G=0;G<l;G++){const ee=g.evaluateAt(u.exp(G+u.getGeneratorBase()));x[x.length-1-G]=ee,ee!==0&&(y=!1)}if(y)return;const E=new ge(u,x),N=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),j=N[0],L=N[1],z=this.findErrorLocations(j),V=this.findErrorMagnitudes(L,z);for(let G=0;G<z.length;G++){const ee=s.length-1-u.log(z[G]);if(ee<0)throw new We("Bad error location");s[ee]=ke.addOrSubtract(s[ee],V[G])}}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){const G=s;s=l,l=G}const g=this.field;let x=s,y=l,E=g.getZero(),N=g.getOne();for(;y.getDegree()>=(u/2|0);){let G=x,ee=E;if(x=y,E=N,x.isZero())throw new We("r_{i-1} was zero");y=G;let ne=g.getZero();const ce=x.getCoefficient(x.getDegree()),be=g.inverse(ce);for(;y.getDegree()>=x.getDegree()&&!y.isZero();){const Me=y.getDegree()-x.getDegree(),Le=g.multiply(y.getCoefficient(y.getDegree()),be);ne=ne.addOrSubtract(g.buildMonomial(Me,Le)),y=y.addOrSubtract(x.multiplyByMonomial(Me,Le))}if(N=ne.multiply(E).addOrSubtract(ee),y.getDegree()>=x.getDegree())throw new it("Division algorithm failed to reduce polynomial?")}const j=N.getCoefficient(0);if(j===0)throw new We("sigmaTilde(0) was zero");const L=g.inverse(j),z=N.multiplyScalar(L),V=y.multiplyScalar(L);return[z,V]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(l);let g=0;const x=this.field;for(let y=1;y<x.getSize()&&g<l;y++)s.evaluateAt(y)===0&&(u[g]=x.inverse(y),g++);if(g!==l)throw new We("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,l){const u=l.length,g=new Int32Array(u),x=this.field;for(let y=0;y<u;y++){const E=x.inverse(l[y]);let N=1;for(let j=0;j<u;j++)if(y!==j){const L=x.multiply(l[j],E),z=(L&1)===0?L|1:L&-2;N=x.multiply(N,z)}g[y]=x.multiply(s.evaluateAt(E),x.inverse(N)),x.getGeneratorBase()!==0&&(g[y]=x.multiply(g[y],E))}return g}}var dt;(function(F){F[F.UPPER=0]="UPPER",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.DIGIT=3]="DIGIT",F[F.PUNCT=4]="PUNCT",F[F.BINARY=5]="BINARY"})(dt||(dt={}));class _t{decode(s){this.ddata=s;let l=s.getBits(),u=this.extractBits(l),g=this.correctBits(u),x=_t.convertBoolArrayToByteArray(g),y=_t.getEncodedData(g),E=new me(x,y,null,null);return E.setNumBits(g.length),E}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,u=dt.UPPER,g=dt.UPPER,x="",y=0;for(;y<l;)if(g===dt.BINARY){if(l-y<5)break;let E=_t.readCode(s,y,5);if(y+=5,E===0){if(l-y<11)break;E=_t.readCode(s,y,11)+31,y+=11}for(let N=0;N<E;N++){if(l-y<8){y=l;break}const j=_t.readCode(s,y,8);x+=ie.castAsNonUtf8Char(j),y+=8}g=u}else{let E=g===dt.DIGIT?4:5;if(l-y<E)break;let N=_t.readCode(s,y,E);y+=E;let j=_t.getCharacter(g,N);j.startsWith("CTRL_")?(u=g,g=_t.getTable(j.charAt(5)),j.charAt(6)==="L"&&(u=g)):(x+=j,g=u)}return x}static getTable(s){switch(s){case"L":return dt.LOWER;case"P":return dt.PUNCT;case"M":return dt.MIXED;case"D":return dt.DIGIT;case"B":return dt.BINARY;case"U":default:return dt.UPPER}}static getCharacter(s,l){switch(s){case dt.UPPER:return _t.UPPER_TABLE[l];case dt.LOWER:return _t.LOWER_TABLE[l];case dt.MIXED:return _t.MIXED_TABLE[l];case dt.PUNCT:return _t.PUNCT_TABLE[l];case dt.DIGIT:return _t.DIGIT_TABLE[l];default:throw new it("Bad table")}}correctBits(s){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=ke.AZTEC_DATA_10):(u=12,l=ke.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=s.length/u;if(x<g)throw new H;let y=s.length%u,E=new Int32Array(x);for(let V=0;V<x;V++,y+=u)E[V]=_t.readCode(s,y,u);try{new jt(l).decode(E,x-g)}catch(V){throw new H(V)}let N=(1<<u)-1,j=0;for(let V=0;V<g;V++){let G=E[V];if(G===0||G===N)throw new H;(G===1||G===N-1)&&j++}let L=new Array(g*u-j),z=0;for(let V=0;V<g;V++){let G=E[V];if(G===1||G===N-1)L.fill(G>1,z,z+u-1),z+=u-1;else for(let ee=u-1;ee>=0;--ee)L[z++]=(G&1<<ee)!==0}return L}extractBits(s){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),g=(l?11:14)+u*4,x=new Int32Array(g),y=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<x.length;E++)x[E]=E;else{let E=g+1+2*R.truncDivision(R.truncDivision(g,2)-1,15),N=g/2,j=R.truncDivision(E,2);for(let L=0;L<N;L++){let z=L+R.truncDivision(L,15);x[N-L-1]=j-z-1,x[N+L]=j+z+1}}for(let E=0,N=0;E<u;E++){let j=(u-E)*4+(l?9:12),L=E*2,z=g-1-L;for(let V=0;V<j;V++){let G=V*2;for(let ee=0;ee<2;ee++)y[N+G+ee]=s.get(x[L+ee],x[L+V]),y[N+2*j+G+ee]=s.get(x[L+V],x[z-ee]),y[N+4*j+G+ee]=s.get(x[z-ee],x[z-V]),y[N+6*j+G+ee]=s.get(x[z-V],x[L+ee])}N+=j*8}return y}static readCode(s,l,u){let g=0;for(let x=l;x<l+u;x++)g<<=1,s[x]&&(g|=1);return g}static readByte(s,l){let u=s.length-l;return u>=8?_t.readCode(s,l,8):_t.readCode(s,l,u)<<8-u}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let u=0;u<l.length;u++)l[u]=_t.readByte(s,8*u);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}_t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],_t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],_t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],_t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],_t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class wt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,u,g){const x=s-u,y=l-g;return Math.sqrt(x*x+y*y)}static sum(s){let l=0;for(let u=0,g=s.length;u!==g;u++){const x=s[u];l+=x}return l}}class en{static floatToIntBits(s){return s}}en.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ve{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ve){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*en.floatToIntBits(this.x)+en.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),g=this.distance(s[0],s[2]);let x,y,E;if(u>=l&&u>=g?(y=s[0],x=s[1],E=s[2]):g>=u&&g>=l?(y=s[1],x=s[0],E=s[2]):(y=s[2],x=s[0],E=s[1]),this.crossProductZ(x,y,E)<0){const N=x;x=E,E=N}s[0]=x,s[1]=y,s[2]=E}static distance(s,l){return wt.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,u){const g=l.x,x=l.y;return(u.x-g)*(s.y-x)-(u.y-x)*(s.x-g)}}class ma{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Ys extends ma{constructor(s,l,u,g,x){super(s,l),this.compact=u,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Gn{constructor(s,l,u,g){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=Gn.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),g==null&&(g=s.getHeight()/2|0);const x=l/2|0;if(this.leftInit=u-x,this.rightInit=u+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let s=this.leftInit,l=this.rightInit,u=this.upInit,g=this.downInit,x=!1,y=!0,E=!1,N=!1,j=!1,L=!1,z=!1;const V=this.width,G=this.height;for(;y;){y=!1;let ee=!0;for(;(ee||!N)&&l<V;)ee=this.containsBlackPoint(u,g,l,!1),ee?(l++,y=!0,N=!0):N||l++;if(l>=V){x=!0;break}let ne=!0;for(;(ne||!j)&&g<G;)ne=this.containsBlackPoint(s,l,g,!0),ne?(g++,y=!0,j=!0):j||g++;if(g>=G){x=!0;break}let ce=!0;for(;(ce||!L)&&s>=0;)ce=this.containsBlackPoint(u,g,s,!1),ce?(s--,y=!0,L=!0):L||s--;if(s<0){x=!0;break}let be=!0;for(;(be||!z)&&u>=0;)be=this.containsBlackPoint(s,l,u,!0),be?(u--,y=!0,z=!0):z||u--;if(u<0){x=!0;break}y&&(E=!0)}if(!x&&E){const ee=l-s;let ne=null;for(let Le=1;ne===null&&Le<ee;Le++)ne=this.getBlackPointOnSegment(s,g-Le,s+Le,g);if(ne==null)throw new te;let ce=null;for(let Le=1;ce===null&&Le<ee;Le++)ce=this.getBlackPointOnSegment(s,u+Le,s+Le,u);if(ce==null)throw new te;let be=null;for(let Le=1;be===null&&Le<ee;Le++)be=this.getBlackPointOnSegment(l,u+Le,l-Le,u);if(be==null)throw new te;let Me=null;for(let Le=1;Me===null&&Le<ee;Le++)Me=this.getBlackPointOnSegment(l,g-Le,l-Le,g);if(Me==null)throw new te;return this.centerEdges(Me,ne,be,ce)}else throw new te}getBlackPointOnSegment(s,l,u,g){const x=wt.round(wt.distance(s,l,u,g)),y=(u-s)/x,E=(g-l)/x,N=this.image;for(let j=0;j<x;j++){const L=wt.round(s+j*y),z=wt.round(l+j*E);if(N.get(L,z))return new Ve(L,z)}return null}centerEdges(s,l,u,g){const x=s.getX(),y=s.getY(),E=l.getX(),N=l.getY(),j=u.getX(),L=u.getY(),z=g.getX(),V=g.getY(),G=Gn.CORR;return x<this.width/2?[new Ve(z-G,V+G),new Ve(E+G,N+G),new Ve(j-G,L-G),new Ve(x+G,y-G)]:[new Ve(z+G,V+G),new Ve(E+G,N-G),new Ve(j-G,L+G),new Ve(x-G,y-G)]}containsBlackPoint(s,l,u,g){const x=this.image;if(g){for(let y=s;y<=l;y++)if(x.get(y,u))return!0}else for(let y=s;y<=l;y++)if(x.get(u,y))return!0;return!1}}Gn.INIT_SIZE=10,Gn.CORR=1;class as{static checkAndNudgePoints(s,l){const u=s.getWidth(),g=s.getHeight();let x=!0;for(let y=0;y<l.length&&x;y+=2){const E=Math.floor(l[y]),N=Math.floor(l[y+1]);if(E<-1||E>u||N<-1||N>g)throw new te;x=!1,E===-1?(l[y]=0,x=!0):E===u&&(l[y]=u-1,x=!0),N===-1?(l[y+1]=0,x=!0):N===g&&(l[y+1]=g-1,x=!0)}x=!0;for(let y=l.length-2;y>=0&&x;y-=2){const E=Math.floor(l[y]),N=Math.floor(l[y+1]);if(E<-1||E>u||N<-1||N>g)throw new te;x=!1,E===-1?(l[y]=0,x=!0):E===u&&(l[y]=u-1,x=!0),N===-1?(l[y+1]=0,x=!0):N===g&&(l[y+1]=g-1,x=!0)}}}class Dn{constructor(s,l,u,g,x,y,E,N,j){this.a11=s,this.a21=l,this.a31=u,this.a12=g,this.a22=x,this.a32=y,this.a13=E,this.a23=N,this.a33=j}static quadrilateralToQuadrilateral(s,l,u,g,x,y,E,N,j,L,z,V,G,ee,ne,ce){const be=Dn.quadrilateralToSquare(s,l,u,g,x,y,E,N);return Dn.squareToQuadrilateral(j,L,z,V,G,ee,ne,ce).times(be)}transformPoints(s){const l=s.length,u=this.a11,g=this.a12,x=this.a13,y=this.a21,E=this.a22,N=this.a23,j=this.a31,L=this.a32,z=this.a33;for(let V=0;V<l;V+=2){const G=s[V],ee=s[V+1],ne=x*G+N*ee+z;s[V]=(u*G+y*ee+j)/ne,s[V+1]=(g*G+E*ee+L)/ne}}transformPointsWithValues(s,l){const u=this.a11,g=this.a12,x=this.a13,y=this.a21,E=this.a22,N=this.a23,j=this.a31,L=this.a32,z=this.a33,V=s.length;for(let G=0;G<V;G++){const ee=s[G],ne=l[G],ce=x*ee+N*ne+z;s[G]=(u*ee+y*ne+j)/ce,l[G]=(g*ee+E*ne+L)/ce}}static squareToQuadrilateral(s,l,u,g,x,y,E,N){const j=s-u+x-E,L=l-g+y-N;if(j===0&&L===0)return new Dn(u-s,x-u,s,g-l,y-g,l,0,0,1);{const z=u-x,V=E-x,G=g-y,ee=N-y,ne=z*ee-V*G,ce=(j*ee-V*L)/ne,be=(z*L-j*G)/ne;return new Dn(u-s+ce*u,E-s+be*E,s,g-l+ce*g,N-l+be*N,l,ce,be,1)}}static quadrilateralToSquare(s,l,u,g,x,y,E,N){return Dn.squareToQuadrilateral(s,l,u,g,x,y,E,N).buildAdjoint()}buildAdjoint(){return new Dn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Dn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class ss extends as{sampleGrid(s,l,u,g,x,y,E,N,j,L,z,V,G,ee,ne,ce,be,Me,Le){const je=Dn.quadrilateralToQuadrilateral(g,x,y,E,N,j,L,z,V,G,ee,ne,ce,be,Me,Le);return this.sampleGridWithTransform(s,l,u,je)}sampleGridWithTransform(s,l,u,g){if(l<=0||u<=0)throw new te;const x=new Ce(l,u),y=new Float32Array(2*l);for(let E=0;E<u;E++){const N=y.length,j=E+.5;for(let L=0;L<N;L+=2)y[L]=L/2+.5,y[L+1]=j;g.transformPoints(y),as.checkAndNudgePoints(s,y);try{for(let L=0;L<N;L+=2)s.get(Math.floor(y[L]),Math.floor(y[L+1]))&&x.set(L/2,E)}catch{throw new te}}return x}}class Kn{static setGridSampler(s){Kn.gridSampler=s}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new ss;class ye{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new Ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qe{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(s){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let g=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),x=this.getMatrixCornerPoints(u);return new Ys(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new te;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(u,l);let g=0;for(let y=0;y<4;y++){let E=u[(this.shift+y)%4];this.compact?(g<<=7,g+=E>>1&127):(g<<=10,g+=(E>>2&992)+(E>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(s,l){let u=0;s.forEach((g,x,y)=>{let E=(g>>l-2<<1)+(g&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let g=0;g<4;g++)if(R.bitCount(u^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new te}getCorrectedParameterData(s,l){let u,g;l?(u=7,g=2):(u=10,g=4);let x=u-g,y=new Int32Array(u);for(let N=u-1;N>=0;--N)y[N]=s&15,s>>=4;try{new jt(ke.AZTEC_PARAM).decode(y,x)}catch{throw new te}let E=0;for(let N=0;N<g;N++)E=(E<<4)+y[N];return E}getBullsEyeCorners(s){let l=s,u=s,g=s,x=s,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(l,y,1,-1),V=this.getFirstDifferent(u,y,1,1),G=this.getFirstDifferent(g,y,-1,1),ee=this.getFirstDifferent(x,y,-1,-1);if(this.nbCenterLayers>2){let ne=this.distancePoint(ee,z)*this.nbCenterLayers/(this.distancePoint(x,l)*(this.nbCenterLayers+2));if(ne<.75||ne>1.25||!this.isWhiteOrBlackRectangle(z,V,G,ee))break}l=z,u=V,g=G,x=ee,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let E=new Ve(l.getX()+.5,l.getY()-.5),N=new Ve(u.getX()+.5,u.getY()+.5),j=new Ve(g.getX()-.5,g.getY()+.5),L=new Ve(x.getX()-.5,x.getY()-.5);return this.expandSquare([E,N,j,L],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,u,g;try{let E=new Gn(this.image).detect();s=E[0],l=E[1],u=E[2],g=E[3]}catch{let N=this.image.getWidth()/2,j=this.image.getHeight()/2;s=this.getFirstDifferent(new ye(N+7,j-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ye(N+7,j+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ye(N-7,j+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new ye(N-7,j-7),!1,-1,-1).toResultPoint()}let x=wt.round((s.getX()+g.getX()+l.getX()+u.getX())/4),y=wt.round((s.getY()+g.getY()+l.getY()+u.getY())/4);try{let E=new Gn(this.image,15,x,y).detect();s=E[0],l=E[1],u=E[2],g=E[3]}catch{s=this.getFirstDifferent(new ye(x+7,y-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ye(x+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ye(x-7,y+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new ye(x-7,y-7),!1,-1,-1).toResultPoint()}return x=wt.round((s.getX()+g.getX()+l.getX()+u.getX())/4),y=wt.round((s.getY()+g.getY()+l.getY()+u.getY())/4),new ye(x,y)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,u,g,x){let y=Kn.getInstance(),E=this.getDimension(),N=E/2-this.nbCenterLayers,j=E/2+this.nbCenterLayers;return y.sampleGrid(s,E,E,N,N,j,N,j,j,N,j,l.getX(),l.getY(),u.getX(),u.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(s,l,u){let g=0,x=this.distanceResultPoint(s,l),y=x/u,E=s.getX(),N=s.getY(),j=y*(l.getX()-s.getX())/x,L=y*(l.getY()-s.getY())/x;for(let z=0;z<u;z++)this.image.get(wt.round(E+z*j),wt.round(N+z*L))&&(g|=1<<u-z-1);return g}isWhiteOrBlackRectangle(s,l,u,g){let x=3;s=new ye(s.getX()-x,s.getY()+x),l=new ye(l.getX()-x,l.getY()-x),u=new ye(u.getX()+x,u.getY()-x),g=new ye(g.getX()+x,g.getY()+x);let y=this.getColor(g,s);if(y===0)return!1;let E=this.getColor(s,l);return E!==y||(E=this.getColor(l,u),E!==y)?!1:(E=this.getColor(u,g),E===y)}getColor(s,l){let u=this.distancePoint(s,l),g=(l.getX()-s.getX())/u,x=(l.getY()-s.getY())/u,y=0,E=s.getX(),N=s.getY(),j=this.image.get(s.getX(),s.getY()),L=Math.ceil(u);for(let V=0;V<L;V++)E+=g,N+=x,this.image.get(wt.round(E),wt.round(N))!==j&&y++;let z=y/u;return z>.1&&z<.9?0:z<=.1===j?1:-1}getFirstDifferent(s,l,u,g){let x=s.getX()+u,y=s.getY()+g;for(;this.isValid(x,y)&&this.image.get(x,y)===l;)x+=u,y+=g;for(x-=u,y-=g;this.isValid(x,y)&&this.image.get(x,y)===l;)x+=u;for(x-=u;this.isValid(x,y)&&this.image.get(x,y)===l;)y+=g;return y-=g,new ye(x,y)}expandSquare(s,l,u){let g=u/(2*l),x=s[0].getX()-s[2].getX(),y=s[0].getY()-s[2].getY(),E=(s[0].getX()+s[2].getX())/2,N=(s[0].getY()+s[2].getY())/2,j=new Ve(E+g*x,N+g*y),L=new Ve(E-g*x,N-g*y);x=s[1].getX()-s[3].getX(),y=s[1].getY()-s[3].getY(),E=(s[1].getX()+s[3].getX())/2,N=(s[1].getY()+s[3].getY())/2;let z=new Ve(E+g*x,N+g*y),V=new Ve(E-g*x,N-g*y);return[j,z,L,V]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=wt.round(s.getX()),u=wt.round(s.getY());return this.isValid(l,u)}distancePoint(s,l){return wt.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return wt.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class mt{decode(s,l=null){let u=null,g=new Qe(s.getBlackMatrix()),x=null,y=null;try{let L=g.detectMirror(!1);x=L.getPoints(),this.reportFoundResultPoints(l,x),y=new _t().decode(L)}catch(L){u=L}if(y==null)try{let L=g.detectMirror(!0);x=L.getPoints(),this.reportFoundResultPoints(l,x),y=new _t().decode(L)}catch(L){throw u??L}let E=new Be(y.getText(),y.getRawBytes(),y.getNumBits(),x,X.AZTEC,I.currentTimeMillis()),N=y.getByteSegments();N!=null&&E.putMetadata(ze.BYTE_SEGMENTS,N);let j=y.getECLevel();return j!=null&&E.putMetadata(ze.ERROR_CORRECTION_LEVEL,j),E}reportFoundResultPoints(s,l){if(s!=null){let u=s.get($.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((g,x,y)=>{u.foundPossibleResultPoint(g)})}}reset(){}}class rr extends Ue{constructor(s=500){super(new mt,s)}}class ht{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get($.TRY_HARDER)===!0&&s.isRotateSupported()){const x=s.rotateCounterClockwise(),y=this.doDecode(x,l),E=y.getResultMetadata();let N=270;E!==null&&E.get(ze.ORIENTATION)===!0&&(N=N+E.get(ze.ORIENTATION)%360),y.putMetadata(ze.ORIENTATION,N);const j=y.getResultPoints();if(j!==null){const L=x.getHeight();for(let z=0;z<j.length;z++)j[z]=new Ve(L-j[z].getY()-1,j[z].getX())}return y}else throw new te}}reset(){}doDecode(s,l){const u=s.getWidth(),g=s.getHeight();let x=new B(u);const y=l&&l.get($.TRY_HARDER)===!0,E=Math.max(1,g>>(y?8:5));let N;y?N=g:N=15;const j=Math.trunc(g/2);for(let L=0;L<N;L++){const z=Math.trunc((L+1)/2),V=(L&1)===0,G=j+E*(V?z:-z);if(G<0||G>=g)break;try{x=s.getBlackRow(G,x)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(x.reverse(),l&&l.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const ne=new Map;l.forEach((ce,be)=>ne.set(be,ce)),ne.delete($.NEED_RESULT_POINT_CALLBACK),l=ne}try{const ne=this.decodeRow(G,x,l);if(ee===1){ne.putMetadata(ze.ORIENTATION,180);const ce=ne.getResultPoints();ce!==null&&(ce[0]=new Ve(u-ce[0].getX()-1,ce[0].getY()),ce[1]=new Ve(u-ce[1].getX()-1,ce[1].getY()))}return ne}catch{}}}throw new te}static recordPattern(s,l,u){const g=u.length;for(let j=0;j<g;j++)u[j]=0;const x=s.getSize();if(l>=x)throw new te;let y=!s.get(l),E=0,N=l;for(;N<x;){if(s.get(N)!==y)u[E]++;else{if(++E===g)break;u[E]=1,y=!y}N++}if(!(E===g||E===g-1&&N===x))throw new te}static recordPatternInReverse(s,l,u){let g=u.length,x=s.get(l);for(;l>0&&g>=0;)s.get(--l)!==x&&(g--,x=!x);if(g>=0)throw new te;ht.recordPattern(s,l+1,u)}static patternMatchVariance(s,l,u){const g=s.length;let x=0,y=0;for(let j=0;j<g;j++)x+=s[j],y+=l[j];if(x<y)return Number.POSITIVE_INFINITY;const E=x/y;u*=E;let N=0;for(let j=0;j<g;j++){const L=s[j],z=l[j]*E,V=L>z?L-z:z-L;if(V>u)return Number.POSITIVE_INFINITY;N+=V}return N/x}}class Oe extends ht{static findStartPattern(s){const l=s.getSize(),u=s.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),y=u,E=!1;const N=6;for(let j=u;j<l;j++)if(s.get(j)!==E)x[g]++;else{if(g===N-1){let L=Oe.MAX_AVG_VARIANCE,z=-1;for(let V=Oe.CODE_START_A;V<=Oe.CODE_START_C;V++){const G=ht.patternMatchVariance(x,Oe.CODE_PATTERNS[V],Oe.MAX_INDIVIDUAL_VARIANCE);G<L&&(L=G,z=V)}if(z>=0&&s.isRange(Math.max(0,y-(j-y)/2),y,!1))return Int32Array.from([y,j,z]);y+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,E=!E}throw new te}static decodeCode(s,l,u){ht.recordPattern(s,u,l);let g=Oe.MAX_AVG_VARIANCE,x=-1;for(let y=0;y<Oe.CODE_PATTERNS.length;y++){const E=Oe.CODE_PATTERNS[y],N=this.patternMatchVariance(l,E,Oe.MAX_INDIVIDUAL_VARIANCE);N<g&&(g=N,x=y)}if(x>=0)return x;throw new te}decodeRow(s,l,u){const g=u&&u.get($.ASSUME_GS1)===!0,x=Oe.findStartPattern(l),y=x[2];let E=0;const N=new Uint8Array(20);N[E++]=y;let j;switch(y){case Oe.CODE_START_A:j=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:j=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:j=Oe.CODE_CODE_C;break;default:throw new H}let L=!1,z=!1,V="",G=x[0],ee=x[1];const ne=Int32Array.from([0,0,0,0,0,0]);let ce=0,be=0,Me=y,Le=0,je=!0,kt=!1,Ct=!1;for(;!L;){const ba=z;switch(z=!1,ce=be,be=Oe.decodeCode(l,ne,ee),N[E++]=be,be!==Oe.CODE_STOP&&(je=!0),be!==Oe.CODE_STOP&&(Le++,Me+=Le*be),G=ee,ee+=ne.reduce((so,Nu)=>so+Nu,0),be){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new H}switch(j){case Oe.CODE_CODE_A:if(be<64)Ct===kt?V+=String.fromCharCode(32+be):V+=String.fromCharCode(32+be+128),Ct=!1;else if(be<96)Ct===kt?V+=String.fromCharCode(be-64):V+=String.fromCharCode(be+64),Ct=!1;else switch(be!==Oe.CODE_STOP&&(je=!1),be){case Oe.CODE_FNC_1:g&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!kt&&Ct?(kt=!0,Ct=!1):kt&&Ct?(kt=!1,Ct=!1):Ct=!0;break;case Oe.CODE_SHIFT:z=!0,j=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:j=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:j=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:L=!0;break}break;case Oe.CODE_CODE_B:if(be<96)Ct===kt?V+=String.fromCharCode(32+be):V+=String.fromCharCode(32+be+128),Ct=!1;else switch(be!==Oe.CODE_STOP&&(je=!1),be){case Oe.CODE_FNC_1:g&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!kt&&Ct?(kt=!0,Ct=!1):kt&&Ct?(kt=!1,Ct=!1):Ct=!0;break;case Oe.CODE_SHIFT:z=!0,j=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:j=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:j=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:L=!0;break}break;case Oe.CODE_CODE_C:if(be<100)be<10&&(V+="0"),V+=be;else switch(be!==Oe.CODE_STOP&&(je=!1),be){case Oe.CODE_FNC_1:g&&(V.length===0?V+="]C1":V+="");break;case Oe.CODE_CODE_A:j=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:j=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:L=!0;break}break}ba&&(j=j===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const Zn=ee-G;if(ee=l.getNextUnset(ee),!l.isRange(ee,Math.min(l.getSize(),ee+(ee-G)/2),!1))throw new te;if(Me-=Le*ce,Me%103!==ce)throw new C;const Ti=V.length;if(Ti===0)throw new te;Ti>0&&je&&(j===Oe.CODE_CODE_C?V=V.substring(0,Ti-2):V=V.substring(0,Ti-1));const Yr=(x[1]+x[0])/2,Kt=G+Zn/2,Lr=N.length,Bn=new Uint8Array(Lr);for(let ba=0;ba<Lr;ba++)Bn[ba]=N[ba];const hs=[new Ve(Yr,s),new Ve(Kt,s)];return new Be(V,Bn,0,hs,X.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Cr extends ht{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,u){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=Cr.findAsteriskPattern(l,g),y=l.getNextSet(x[1]),E=l.getSize(),N,j;do{Cr.recordPattern(l,y,g);let ne=Cr.toNarrowWidePattern(g);if(ne<0)throw new te;N=Cr.patternToChar(ne),this.decodeRowResult+=N,j=y;for(let ce of g)y+=ce;y=l.getNextSet(y)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L=0;for(let ne of g)L+=ne;let z=y-j-L;if(y!==E&&z*2<L)throw new te;if(this.usingCheckDigit){let ne=this.decodeRowResult.length-1,ce=0;for(let be=0;be<ne;be++)ce+=Cr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(be));if(this.decodeRowResult.charAt(ne)!==Cr.ALPHABET_STRING.charAt(ce%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ne)}if(this.decodeRowResult.length===0)throw new te;let V;this.extendedMode?V=Cr.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;let G=(x[1]+x[0])/2,ee=j+L/2;return new Be(V,null,0,[new Ve(G,s),new Ve(ee,s)],X.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let u=s.getSize(),g=s.getNextSet(0),x=0,y=g,E=!1,N=l.length;for(let j=g;j<u;j++)if(s.get(j)!==E)l[x]++;else{if(x===N-1){if(this.toNarrowWidePattern(l)===Cr.ASTERISK_ENCODING&&s.isRange(Math.max(0,y-Math.floor((j-y)/2)),y,!1))return[y,j];y+=l[0]+l[1],l.copyWithin(0,2,2+x-1),l[x-1]=0,l[x]=0,x--}else x++;l[x]=1,E=!E}throw new te}static toNarrowWidePattern(s){let l=s.length,u=0,g;do{let x=2147483647;for(let N of s)N<x&&N>u&&(x=N);u=x,g=0;let y=0,E=0;for(let N=0;N<l;N++){let j=s[N];j>u&&(E|=1<<l-1-N,g++,y+=j)}if(g===3){for(let N=0;N<l&&g>0;N++){let j=s[N];if(j>u&&(g--,j*2>=y))return-1}return E}}while(g>3);return-1}static patternToChar(s){for(let l=0;l<Cr.CHARACTER_ENCODINGS.length;l++)if(Cr.CHARACTER_ENCODINGS[l]===s)return Cr.ALPHABET_STRING.charAt(l);if(s===Cr.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(s){let l=s.length,u="";for(let g=0;g<l;g++){let x=s.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let y=s.charAt(g+1),E="\0";switch(x){case"+":if(y>="A"&&y<="Z")E=String.fromCharCode(y.charCodeAt(0)+32);else throw new H;break;case"$":if(y>="A"&&y<="Z")E=String.fromCharCode(y.charCodeAt(0)-64);else throw new H;break;case"%":if(y>="A"&&y<="E")E=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")E=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")E=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")E=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")E="\0";else if(y==="V")E="@";else if(y==="W")E="`";else if(y==="X"||y==="Y"||y==="Z")E="";else throw new H;break;case"/":if(y>="A"&&y<="O")E=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")E=":";else throw new H;break}u+=E,g++}else u+=x}return u}}Cr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Cr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Cr.ASTERISK_ENCODING=148;class Bt extends ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,u){let g=this.decodeStart(l),x=this.decodeEnd(l),y=new Ae;Bt.decodeMiddle(l,g[1],x[0],y);let E=y.toString(),N=null;u!=null&&(N=u.get($.ALLOWED_LENGTHS)),N==null&&(N=Bt.DEFAULT_ALLOWED_LENGTHS);let j=E.length,L=!1,z=0;for(let ee of N){if(j===ee){L=!0;break}ee>z&&(z=ee)}if(!L&&j>z&&(L=!0),!L)throw new H;const V=[new Ve(g[1],s),new Ve(x[0],s)];return new Be(E,null,0,V,X.ITF,new Date().getTime())}static decodeMiddle(s,l,u,g){let x=new Int32Array(10),y=new Int32Array(5),E=new Int32Array(5);for(x.fill(0),y.fill(0),E.fill(0);l<u;){ht.recordPattern(s,l,x);for(let j=0;j<5;j++){let L=2*j;y[j]=x[L],E[j]=x[L+1]}let N=Bt.decodeDigit(y);g.append(N.toString()),N=this.decodeDigit(E),g.append(N.toString()),x.forEach(function(j){l+=j})}}decodeStart(s){let l=Bt.skipWhiteSpace(s),u=Bt.findGuardPattern(s,l,Bt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let g=l-1;u>0&&g>=0&&!s.get(g);g--)u--;if(u!==0)throw new te}static skipWhiteSpace(s){const l=s.getSize(),u=s.getNextSet(0);if(u===l)throw new te;return u}decodeEnd(s){s.reverse();try{let l=Bt.skipWhiteSpace(s),u;try{u=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[0])}catch(x){x instanceof te&&(u=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let g=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-g,u}finally{s.reverse()}}static findGuardPattern(s,l,u){let g=u.length,x=new Int32Array(g),y=s.getSize(),E=!1,N=0,j=l;x.fill(0);for(let L=l;L<y;L++)if(s.get(L)!==E)x[N]++;else{if(N===g-1){if(ht.patternMatchVariance(x,u,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[j,L];j+=x[0]+x[1],I.arraycopy(x,2,x,0,N-1),x[N-1]=0,x[N]=0,N--}else N++;x[N]=1,E=!E}throw new te}static decodeDigit(s){let l=Bt.MAX_AVG_VARIANCE,u=-1,g=Bt.PATTERNS.length;for(let x=0;x<g;x++){let y=Bt.PATTERNS[x],E=ht.patternMatchVariance(s,y,Bt.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=x):E===l&&(u=-1)}if(u>=0)return u%10;throw new te}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,u,g=0,x=Int32Array.from([0,0,0]);for(;!l;){x=Int32Array.from([0,0,0]),u=Gt.findGuardPattern(s,g,!1,this.START_END_PATTERN,x);let y=u[0];g=u[1];let E=y-(g-y);E>=0&&(l=s.isRange(E,y,!1))}return u}static checkChecksum(s){return Gt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return Gt.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let g=l-1;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new H;u+=x}u*=3;for(let g=l-2;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new H;u+=x}return(1e3-u)%10}static decodeEnd(s,l){return Gt.findGuardPattern(s,l,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,u,g){return this.findGuardPattern(s,l,u,g,new Int32Array(g.length))}static findGuardPattern(s,l,u,g,x){let y=s.getSize();l=u?s.getNextUnset(l):s.getNextSet(l);let E=0,N=l,j=g.length,L=u;for(let z=l;z<y;z++)if(s.get(z)!==L)x[E]++;else{if(E===j-1){if(ht.patternMatchVariance(x,g,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([N,z]);N+=x[0]+x[1];let V=x.slice(2,x.length-1);for(let G=0;G<E-1;G++)x[G]=V[G];x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,L=!L}throw new te}static decodeDigit(s,l,u,g){this.recordPattern(s,u,l);let x=this.MAX_AVG_VARIANCE,y=-1,E=g.length;for(let N=0;N<E;N++){let j=g[N],L=ht.patternMatchVariance(l,j,Gt.MAX_INDIVIDUAL_VARIANCE);L<x&&(x=L,y=N)}if(y>=0)return y;throw new te}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class tn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(l,u,g),y=g.toString(),E=tn.parseExtensionString(y),N=[new Ve((u[0]+u[1])/2,s),new Ve(x,s)],j=new Be(y,null,0,N,X.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&j.putAllMetadata(E),j}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),y=l[1],E=0;for(let j=0;j<5&&y<x;j++){let L=Gt.decodeDigit(s,g,y,Gt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of g)y+=z;L>=10&&(E|=1<<4-j),j!==4&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==5)throw new te;let N=this.determineCheckDigit(E);if(tn.extensionChecksum(u.toString())!==N)throw new te;return y}static extensionChecksum(s){let l=s.length,u=0;for(let g=l-2;g>=0;g-=2)u+=s.charAt(g).charCodeAt(0)-48;u*=3;for(let g=l-1;g>=0;g-=2)u+=s.charAt(g).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new te}static parseExtensionString(s){if(s.length!==5)return null;let l=tn.parseExtension5String(s);return l==null?null:new Map([[ze.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(s.substring(1)),g=(u/100).toString(),x=u%100,y=x<10?"0"+x:x.toString();return l+g+"."+y}}class ga{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(l,u,g),y=g.toString(),E=ga.parseExtensionString(y),N=[new Ve((u[0]+u[1])/2,s),new Ve(x,s)],j=new Be(y,null,0,N,X.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&j.putAllMetadata(E),j}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),y=l[1],E=0;for(let N=0;N<2&&y<x;N++){let j=Gt.decodeDigit(s,g,y,Gt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+j%10);for(let L of g)y+=L;j>=10&&(E|=1<<1-N),N!==1&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==2)throw new te;if(parseInt(u.toString())%4!==E)throw new te;return y}static parseExtensionString(s){return s.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(s)]])}}class os{static decodeRow(s,l,u){let g=Gt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new tn().decodeRow(s,l,g)}catch{return new ga().decodeRow(s,l,g)}}}os.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ot extends Gt{constructor(){super(),this.decodeRowStringBuffer="",Ot.L_AND_G_PATTERNS=Ot.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=Ot.L_PATTERNS[s-10],u=new Int32Array(l.length);for(let g=0;g<l.length;g++)u[g]=l[l.length-g-1];Ot.L_AND_G_PATTERNS[s]=u}}decodeRow(s,l,u){let g=Ot.findStartGuardPattern(l),x=u==null?null:u.get($.NEED_RESULT_POINT_CALLBACK);if(x!=null){const je=new Ve((g[0]+g[1])/2,s);x.foundPossibleResultPoint(je)}let y=this.decodeMiddle(l,g,this.decodeRowStringBuffer),E=y.rowOffset,N=y.resultString;if(x!=null){const je=new Ve(E,s);x.foundPossibleResultPoint(je)}let j=this.decodeEnd(l,E);if(x!=null){const je=new Ve((j[0]+j[1])/2,s);x.foundPossibleResultPoint(je)}let L=j[1],z=L+(L-j[0]);if(z>=l.getSize()||!l.isRange(L,z,!1))throw new te;let V=N.toString();if(V.length<8)throw new H;if(!Ot.checkChecksum(V))throw new C;let G=(g[1]+g[0])/2,ee=(j[1]+j[0])/2,ne=this.getBarcodeFormat(),ce=[new Ve(G,s),new Ve(ee,s)],be=new Be(V,null,0,ce,ne,new Date().getTime()),Me=0;try{let je=os.decodeRow(s,l,j[1]);be.putMetadata(ze.UPC_EAN_EXTENSION,je.getText()),be.putAllMetadata(je.getResultMetadata()),be.addResultPoints(je.getResultPoints()),Me=je.getText().length}catch{}let Le=u==null?null:u.get($.ALLOWED_EAN_EXTENSIONS);if(Le!=null){let je=!1;for(let kt in Le)if(Me.toString()===kt){je=!0;break}if(!je)throw new te}return be}decodeEnd(s,l){return Ot.findGuardPattern(s,l,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Ot.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return Ot.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let g=l-1;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new H;u+=x}u*=3;for(let g=l-2;g>=0;g-=2){let x=s.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new H;u+=x}return(1e3-u)%10}}class un extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),y=l[1],E=0;for(let j=0;j<6&&y<x;j++){let L=Ot.decodeDigit(s,g,y,Ot.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of g)y+=z;L>=10&&(E|=1<<5-j)}u=un.determineFirstDigit(u,E),y=Ot.findGuardPattern(s,y,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<6&&y<x;j++){let L=Ot.decodeDigit(s,g,y,Ot.L_PATTERNS);u+=String.fromCharCode(48+L);for(let z of g)y+=z}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return X.EAN_13}static determineFirstDigit(s,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new te}}un.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ls extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),y=l[1];for(let N=0;N<4&&y<x;N++){let j=Ot.decodeDigit(s,g,y,Ot.L_PATTERNS);u+=String.fromCharCode(48+j);for(let L of g)y+=L}y=Ot.findGuardPattern(s,y,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&y<x;N++){let j=Ot.decodeDigit(s,g,y,Ot.L_PATTERNS);u+=String.fromCharCode(48+j);for(let L of g)y+=L}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return X.EAN_8}}class qi extends Ot{constructor(){super(...arguments),this.ean13Reader=new un}getBarcodeFormat(){return X.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,u))}decodeMiddle(s,l,u){return this.ean13Reader.decodeMiddle(s,l,u)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let u=new Be(l.substring(1),null,null,s.getResultPoints(),X.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new te}reset(){this.ean13Reader.reset()}}class Sn extends Ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,u){const g=this.decodeMiddleCounters.map(j=>j);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=s.getSize();let y=l[1],E=0;for(let j=0;j<6&&y<x;j++){const L=Sn.decodeDigit(s,g,y,Sn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of g)y+=z;L>=10&&(E|=1<<5-j)}let N=Sn.determineNumSysAndCheckDigit(u,E);return{rowOffset:y,resultString:N}}decodeEnd(s,l){return Sn.findGuardPatternWithoutCounters(s,l,!0,Sn.MIDDLE_END_PATTERN)}checkChecksum(s){return Ot.checkChecksum(Sn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let u=0;u<=1;u++)for(let g=0;g<10;g++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][g]){let x=String.fromCharCode(48+u),y=String.fromCharCode(48+g);return x+s+y}throw te.getNotFoundInstance()}getBarcodeFormat(){return X.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(x=>x.charCodeAt(0)),u=new Ae;u.append(s.charAt(0));let g=l[5];switch(g){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(g),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(g);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}Sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class St extends ht{constructor(s){super();let l=s==null?null:s.get($.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new un),u.push(new qi),u.push(new ls),u.push(new Sn)):(l.indexOf(X.EAN_13)>-1&&u.push(new un),l.indexOf(X.UPC_A)>-1&&u.push(new qi),l.indexOf(X.EAN_8)>-1&&u.push(new ls),l.indexOf(X.UPC_E)>-1&&u.push(new Sn)),this.readers=u}decodeRow(s,l,u){for(let g of this.readers)try{const x=g.decodeRow(s,l,u),y=x.getBarcodeFormat()===X.EAN_13&&x.getText().charAt(0)==="0",E=u==null?null:u.get($.POSSIBLE_FORMATS),N=E==null||E.includes(X.UPC_A);if(y&&N){const j=x.getRawBytes(),L=new Be(x.getText().substring(1),j,j?j.length:null,x.getResultPoints(),X.UPC_A);return L.putAllMetadata(x.getResultMetadata()),L}return x}catch{}throw new te}reset(){for(let s of this.readers)s.reset()}}class gt extends ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let u=0;u<l.length;u++)if(ht.patternMatchVariance(s,l[u],gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return u;throw new te}static count(s){return wt.sum(new Int32Array(s))}static increment(s,l){let u=0,g=l[0];for(let x=1;x<s.length;x++)l[x]>g&&(g=l[x],u=x);s[u]++}static decrement(s,l){let u=0,g=l[0];for(let x=1;x<s.length;x++)l[x]<g&&(g=l[x],u=x);s[u]--}static isFinderPattern(s){let l=s[0]+s[1],u=l+s[2]+s[3],g=l/u;if(g>=gt.MIN_FINDER_PATTERN_RATIO&&g<=gt.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let E of s)E>y&&(y=E),E<x&&(x=E);return y<10*x}return!1}}gt.MAX_AVG_VARIANCE=.2,gt.MAX_INDIVIDUAL_VARIANCE=.45,gt.MIN_FINDER_PATTERN_RATIO=9.5/12,gt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Jt{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Jt))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class rn{constructor(s,l,u,g,x){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ve(u,x)),this.resultPoints.push(new Ve(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof rn))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class _r{constructor(){}static getRSSvalue(s,l,u){let g=0;for(let N of s)g+=N;let x=0,y=0,E=s.length;for(let N=0;N<E-1;N++){let j;for(j=1,y|=1<<N;j<s[N];j++,y&=~(1<<N)){let L=_r.combins(g-j-1,E-N-2);if(u&&y===0&&g-j-(E-N-1)>=E-N-1&&(L-=_r.combins(g-j-(E-N),E-N-2)),E-N-1>1){let z=0;for(let V=g-j-(E-N-2);V>l;V--)z+=_r.combins(g-j-V-1,E-N-3);L-=z*(E-1-N)}else g-j>l&&L--;x+=L}g-=j}return x}static combins(s,l){let u,g;s-l>l?(g=l,u=s-l):(g=s-l,u=l);let x=1,y=1;for(let E=s;E>u;E--)x*=E,y<=g&&(x/=y,y++);for(;y<=g;)x/=y,y++;return x}}class Lo{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let u=12*l,g=new B(u),x=0,E=s[0].getRightChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&g.set(x),x++;for(let N=1;N<s.length;++N){let j=s[N],L=j.getLeftChar().getValue();for(let z=11;z>=0;--z)(L&1<<z)!=0&&g.set(x),x++;if(j.getRightChar()!=null){let z=j.getRightChar().getValue();for(let V=11;V>=0;--V)(z&1<<V)!=0&&g.set(x),x++}}return g}}class Xn{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Bo{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class yr extends Bo{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===yr.FNC1}}yr.FNC1="$";class pi extends Bo{constructor(s,l,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class dn extends Bo{constructor(s,l,u){if(super(s),l<0||l>10||u<0||u>10)throw new H;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===dn.FNC1}isAnyFNC1(){return this.firstDigit===dn.FNC1||this.secondDigit===dn.FNC1}}dn.FNC1=10;class qe{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new te;let l=s.substring(0,2);for(let x of qe.TWO_DIGIT_DATA_LENGTH)if(x[0]===l)return x[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(2,x[2],s):qe.processFixedAI(2,x[1],s);if(s.length<3)throw new te;let u=s.substring(0,3);for(let x of qe.THREE_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(3,x[2],s):qe.processFixedAI(3,x[1],s);for(let x of qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(4,x[2],s):qe.processFixedAI(4,x[1],s);if(s.length<4)throw new te;let g=s.substring(0,4);for(let x of qe.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===qe.VARIABLE_LENGTH?qe.processVariableAI(4,x[2],s):qe.processFixedAI(4,x[1],s);throw new te}static processFixedAI(s,l,u){if(u.length<s)throw new te;let g=u.substring(0,s);if(u.length<s+l)throw new te;let x=u.substring(s,s+l),y=u.substring(s+l),E="("+g+")"+x,N=qe.parseFieldsInGeneralPurpose(y);return N==null?E:E+N}static processVariableAI(s,l,u){let g=u.substring(0,s),x;u.length<s+l?x=u.length:x=s+l;let y=u.substring(s,x),E=u.substring(x),N="("+g+")"+y,j=qe.parseFieldsInGeneralPurpose(E);return j==null?N:N+j}}qe.VARIABLE_LENGTH=[],qe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",qe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",qe.VARIABLE_LENGTH,20],["22",qe.VARIABLE_LENGTH,29],["30",qe.VARIABLE_LENGTH,8],["37",qe.VARIABLE_LENGTH,8],["90",qe.VARIABLE_LENGTH,30],["91",qe.VARIABLE_LENGTH,30],["92",qe.VARIABLE_LENGTH,30],["93",qe.VARIABLE_LENGTH,30],["94",qe.VARIABLE_LENGTH,30],["95",qe.VARIABLE_LENGTH,30],["96",qe.VARIABLE_LENGTH,30],["97",qe.VARIABLE_LENGTH,3],["98",qe.VARIABLE_LENGTH,30],["99",qe.VARIABLE_LENGTH,30]],qe.THREE_DIGIT_DATA_LENGTH=[["240",qe.VARIABLE_LENGTH,30],["241",qe.VARIABLE_LENGTH,30],["242",qe.VARIABLE_LENGTH,6],["250",qe.VARIABLE_LENGTH,30],["251",qe.VARIABLE_LENGTH,30],["253",qe.VARIABLE_LENGTH,17],["254",qe.VARIABLE_LENGTH,20],["400",qe.VARIABLE_LENGTH,30],["401",qe.VARIABLE_LENGTH,30],["402",17],["403",qe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",qe.VARIABLE_LENGTH,20],["421",qe.VARIABLE_LENGTH,15],["422",3],["423",qe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",qe.VARIABLE_LENGTH,15],["391",qe.VARIABLE_LENGTH,18],["392",qe.VARIABLE_LENGTH,15],["393",qe.VARIABLE_LENGTH,18],["703",qe.VARIABLE_LENGTH,30]],qe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",qe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",qe.VARIABLE_LENGTH,20],["8003",qe.VARIABLE_LENGTH,30],["8004",qe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",qe.VARIABLE_LENGTH,30],["8008",qe.VARIABLE_LENGTH,12],["8018",18],["8020",qe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",qe.VARIABLE_LENGTH,70],["8200",qe.VARIABLE_LENGTH,70]];class Ma{constructor(s){this.buffer=new Ae,this.information=s}decodeAllCodes(s,l){let u=l,g=null;do{let x=this.decodeGeneralPurposeField(u,g),y=qe.parseFieldsInGeneralPurpose(x.getNewString());if(y!=null&&s.append(y),x.isRemaining()?g=""+x.getRemainingValue():g=null,u===x.getNewPosition())break;u=x.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(s,4);return x===0?new dn(this.information.getSize(),dn.FNC1,dn.FNC1):new dn(this.information.getSize(),x-1,dn.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),u=(l-8)/11,g=(l-8)%11;return new dn(s+7,u,g)}extractNumericValueFromBitArray(s,l){return Ma.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,u){let g=0;for(let x=0;x<u;++x)s.get(l+x)&&(g|=1<<u-x-1);return g}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new pi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new pi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new pi(this.current.getPosition(),this.buffer.toString()):l=new pi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Xn(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new pi(this.current.getPosition(),this.buffer.toString());return new Xn(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new pi(this.current.getPosition(),this.buffer.toString());return new Xn(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new pi(this.current.getPosition(),this.buffer.toString());return new Xn(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(s,8);return g>=232&&g<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new yr(s+5,yr.FNC1);if(l>=5&&l<15)return new yr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new yr(s+7,""+(u+1));if(u>=90&&u<116)return new yr(s+7,""+(u+7));let g=this.extractNumericValueFromBitArray(s,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new H}return new yr(s+8,x)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new yr(s+5,yr.FNC1);if(l>=5&&l<15)return new yr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new yr(s+6,""+(u+33));let g;switch(u){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new it("Decoding invalid alphanumeric value: "+u)}return new yr(s+6,g)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Ne{constructor(s){this.information=s,this.generalDecoder=new Ma(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ke extends Ne{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,u)}encodeCompressedGtinWithoutAI(s,l,u){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*g,10);x/100===0&&s.append("0"),x/10===0&&s.append("0"),s.append(x)}Ke.appendCheckDigit(s,u)}static appendCheckDigit(s,l){let u=0;for(let g=0;g<13;g++){let x=s.charAt(g+l).charCodeAt(0)-48;u+=(g&1)===0?3*x:x}u=10-u%10,u===10&&(u=0),s.append(u)}}Ke.GTIN_SIZE=40;class Je extends Ke{constructor(s){super(s)}parseInformation(){let s=new Ae;s.append("(01)");let l=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,Je.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Je.HEADER_SIZE+44)}}Je.HEADER_SIZE=4;class Dr extends Ne{constructor(s){super(s)}parseInformation(){let s=new Ae;return this.getGeneralDecoder().decodeAllCodes(s,Dr.HEADER_SIZE)}}Dr.HEADER_SIZE=5;class or extends Ke{constructor(s){super(s)}encodeCompressedWeight(s,l,u){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(s,g);let x=this.checkWeight(g),y=1e5;for(let E=0;E<5;++E)x/y===0&&s.append("0"),y/=10;s.append(x)}}class nr extends or{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=nr.HEADER_SIZE+or.GTIN_SIZE+nr.WEIGHT_SIZE)throw new te;let s=new Ae;return this.encodeCompressedGtin(s,nr.HEADER_SIZE),this.encodeCompressedWeight(s,nr.HEADER_SIZE+or.GTIN_SIZE,nr.WEIGHT_SIZE),s.toString()}}nr.HEADER_SIZE=5,nr.WEIGHT_SIZE=15;class oi extends nr{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class La extends nr{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class An extends Ke{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Ke.GTIN_SIZE)throw new te;let s=new Ae;this.encodeCompressedGtin(s,An.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Ke.GTIN_SIZE,An.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Ke.GTIN_SIZE+An.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2;class Mr extends Ke{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Mr.HEADER_SIZE+Ke.GTIN_SIZE)throw new te;let s=new Ae;this.encodeCompressedGtin(s,Mr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Mr.HEADER_SIZE+Ke.GTIN_SIZE,Mr.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Mr.HEADER_SIZE+Ke.GTIN_SIZE+Mr.LAST_DIGIT_SIZE,Mr.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let g=this.getGeneralDecoder().decodeGeneralPurposeField(Mr.HEADER_SIZE+Ke.GTIN_SIZE+Mr.LAST_DIGIT_SIZE+Mr.FIRST_THREE_DIGITS_SIZE,null);return s.append(g.getNewString()),s.toString()}}Mr.HEADER_SIZE=8,Mr.LAST_DIGIT_SIZE=2,Mr.FIRST_THREE_DIGITS_SIZE=10;class hr extends or{constructor(s,l,u){super(s),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=hr.HEADER_SIZE+hr.GTIN_SIZE+hr.WEIGHT_SIZE+hr.DATE_SIZE)throw new te;let s=new Ae;return this.encodeCompressedGtin(s,hr.HEADER_SIZE),this.encodeCompressedWeight(s,hr.HEADER_SIZE+hr.GTIN_SIZE,hr.WEIGHT_SIZE),this.encodeCompressedDate(s,hr.HEADER_SIZE+hr.GTIN_SIZE+hr.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,hr.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let g=u%32;u/=32;let x=u%12+1;u/=12;let y=u;y/10==0&&s.append("0"),s.append(y),x/10==0&&s.append("0"),s.append(x),g/10==0&&s.append("0"),s.append(g)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}hr.HEADER_SIZE=8,hr.WEIGHT_SIZE=20,hr.DATE_SIZE=16;function bf(F){try{if(F.get(1))return new Je(F);if(!F.get(2))return new Dr(F);switch(Ma.extractNumericValueFromBitArray(F,1,4)){case 4:return new oi(F);case 5:return new La(F)}switch(Ma.extractNumericValueFromBitArray(F,1,5)){case 12:return new An(F);case 13:return new Mr(F)}switch(Ma.extractNumericValueFromBitArray(F,1,7)){case 56:return new hr(F,"310","11");case 57:return new hr(F,"320","11");case 58:return new hr(F,"310","13");case 59:return new hr(F,"320","13");case 60:return new hr(F,"310","15");case 61:return new hr(F,"320","15");case 62:return new hr(F,"310","17");case 63:return new hr(F,"320","17")}}catch(s){throw console.log(s),new it("unknown decoder: "+F)}}class Yt{constructor(s,l,u,g){this.leftchar=s,this.rightchar=l,this.finderpattern=u,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof Yt?Yt.equalsOrNull(s.leftchar,l.leftchar)&&Yt.equalsOrNull(s.rightchar,l.rightchar)&&Yt.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:Yt.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class fu{constructor(s,l,u){this.pairs=s,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof fu?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let u;return s.forEach((g,x)=>{l.forEach(y=>{g.getLeftChar().getValue()===y.getLeftChar().getValue()&&g.getRightChar().getValue()===y.getRightChar().getValue()&&g.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ie extends gt{constructor(s){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(s,l))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(x){if(x instanceof te){if(!this.pairs.length)throw new te;u=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(s,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new te}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let u=l;u<this.rows.length;u++){let g=this.rows[u];this.pairs.length=0;for(let y of s)this.pairs.push(y.getPairs());if(this.pairs.push(g.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(s);x.push(g);try{return this.checkRows(x,u+1)}catch(y){this.verbose&&console.log(y)}}throw new te}static isValidSequence(s){for(let l of Ie.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let u=!0;for(let g=0;g<s.length;g++)if(s[g].getFinderPattern().getValue()!=l[g]){u=!1;break}if(u)return!0}return!1}storeRow(s,l){let u=0,g=!1,x=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>s){x=y.isEquivalent(this.pairs);break}g=y.isEquivalent(this.pairs),u++}x||g||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new fu(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let u of l)if(u.getPairs().length!==s.length){for(let g of u.getPairs())for(let x of s)if(Yt.equals(g,x))break}}static isPartialRow(s,l){for(let u of l){let g=!0;for(let x of s){let y=!1;for(let E of u.getPairs())if(x.equals(E)){y=!0;break}if(!y){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=Lo.buildBitArray(s),g=bf(l).parseInformation(),x=s[0].getFinderPattern().getResultPoints(),y=s[s.length-1].getFinderPattern().getResultPoints(),E=[x[0],x[1],y[0],y[1]];return new Be(g,null,null,E,X.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let g=u.getChecksumPortion(),x=2;for(let E=1;E<this.pairs.size();++E){let N=this.pairs.get(E);g+=N.getLeftChar().getChecksumPortion(),x++;let j=N.getRightChar();j!=null&&(g+=j.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==l.getValue()}static getNextSecondBar(s,l){let u;return s.get(l)?(u=s.getNextUnset(l),u=s.getNextSet(u)):(u=s.getNextSet(l),u=s.getNextUnset(u)),u}retrieveNextPair(s,l,u){let g=l.length%2==0;this.startFromEven&&(g=!g);let x,y=!0,E=-1;do this.findNextPair(s,l,E),x=this.parseFoundFinderPattern(s,u,g),x==null?E=Ie.getNextSecondBar(s,this.startEnd[0]):y=!1;while(y);let N=this.decodeDataCharacter(s,x,g,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new te;let j;try{j=this.decodeDataCharacter(s,x,g,!1)}catch(L){j=null,this.verbose&&console.log(L)}return new Yt(N,j,x,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,u){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=s.getSize(),y;u>=0?y=u:this.isEmptyPair(l)?y=0:y=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let N=!1;for(;y<x&&(N=!s.get(y),!!N);)y++;let j=0,L=y;for(let z=y;z<x;z++)if(s.get(z)!=N)g[j]++;else{if(j==3){if(E&&Ie.reverseCounters(g),Ie.isFinderPattern(g)){this.startEnd[0]=L,this.startEnd[1]=z;return}E&&Ie.reverseCounters(g),L+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,j--}else j++;g[j]=1,N=!N}throw new te}static reverseCounters(s){let l=s.length;for(let u=0;u<l/2;++u){let g=s[u];s[u]=s[l-u-1],s[l-u-1]=g}}parseFoundFinderPattern(s,l,u){let g,x,y;if(u){let j=this.startEnd[0]-1;for(;j>=0&&!s.get(j);)j--;j++,g=this.startEnd[0]-j,x=j,y=this.startEnd[1]}else x=this.startEnd[0],y=s.getNextUnset(this.startEnd[1]+1),g=y-this.startEnd[1];let E=this.getDecodeFinderCounters();I.arraycopy(E,0,E,1,E.length-1),E[0]=g;let N;try{N=this.parseFinderValue(E,Ie.FINDER_PATTERNS)}catch{return null}return new rn(N,[x,y],x,y,l)}decodeDataCharacter(s,l,u,g){let x=this.getDataCharacterCounters();for(let Kt=0;Kt<x.length;Kt++)x[Kt]=0;if(g)Ie.recordPatternInReverse(s,l.getStartEnd()[0],x);else{Ie.recordPattern(s,l.getStartEnd()[1],x);for(let Kt=0,Lr=x.length-1;Kt<Lr;Kt++,Lr--){let Bn=x[Kt];x[Kt]=x[Lr],x[Lr]=Bn}}let y=17,E=wt.sum(new Int32Array(x))/y,N=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-N)/N>.3)throw new te;let j=this.getOddCounts(),L=this.getEvenCounts(),z=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let Kt=0;Kt<x.length;Kt++){let Lr=1*x[Kt]/E,Bn=Lr+.5;if(Bn<1){if(Lr<.3)throw new te;Bn=1}else if(Bn>8){if(Lr>8.7)throw new te;Bn=8}let hs=Kt/2;(Kt&1)==0?(j[hs]=Bn,z[hs]=Lr-Bn):(L[hs]=Bn,V[hs]=Lr-Bn)}this.adjustOddEvenCounts(y);let G=4*l.getValue()+(u?0:2)+(g?0:1)-1,ee=0,ne=0;for(let Kt=j.length-1;Kt>=0;Kt--){if(Ie.isNotA1left(l,u,g)){let Lr=Ie.WEIGHTS[G][2*Kt];ne+=j[Kt]*Lr}ee+=j[Kt]}let ce=0;for(let Kt=L.length-1;Kt>=0;Kt--)if(Ie.isNotA1left(l,u,g)){let Lr=Ie.WEIGHTS[G][2*Kt+1];ce+=L[Kt]*Lr}let be=ne+ce;if((ee&1)!=0||ee>13||ee<4)throw new te;let Me=(13-ee)/2,Le=Ie.SYMBOL_WIDEST[Me],je=9-Le,kt=_r.getRSSvalue(j,Le,!0),Ct=_r.getRSSvalue(L,je,!1),Zn=Ie.EVEN_TOTAL_SUBSET[Me],Ti=Ie.GSUM[Me],Yr=kt*Zn+Ct+Ti;return new Jt(Yr,be)}static isNotA1left(s,l,u){return!(s.getValue()==0&&l&&u)}adjustOddEvenCounts(s){let l=wt.sum(new Int32Array(this.getOddCounts())),u=wt.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;l>13?x=!0:l<4&&(g=!0);let y=!1,E=!1;u>13?E=!0:u<4&&(y=!0);let N=l+u-s,j=(l&1)==1,L=(u&1)==0;if(N==1)if(j){if(L)throw new te;x=!0}else{if(!L)throw new te;E=!0}else if(N==-1)if(j){if(L)throw new te;g=!0}else{if(!L)throw new te;y=!0}else if(N==0){if(j){if(!L)throw new te;l<u?(g=!0,E=!0):(x=!0,y=!0)}else if(L)throw new te}else throw new te;if(g){if(x)throw new te;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(E)throw new te;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class wf extends Jt{constructor(s,l,u){super(s,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class lr extends gt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,u){const g=this.decodePair(l,!1,s,u);lr.addOrTally(this.possibleLeftPairs,g),l.reverse();let x=this.decodePair(l,!0,s,u);lr.addOrTally(this.possibleRightPairs,x),l.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&lr.checkChecksum(y,E))return lr.constructResult(y,E)}throw new te}static addOrTally(s,l){if(l==null)return;let u=!1;for(let g of s)if(g.getValue()===l.getValue()){g.incrementCount(),u=!0;break}u||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let u=4537077*s.getValue()+l.getValue(),g=new String(u).toString(),x=new Ae;for(let j=13-g.length;j>0;j--)x.append("0");x.append(g);let y=0;for(let j=0;j<13;j++){let L=x.charAt(j).charCodeAt(0)-48;y+=(j&1)===0?3*L:L}y=10-y%10,y===10&&(y=0),x.append(y.toString());let E=s.getFinderPattern().getResultPoints(),N=l.getFinderPattern().getResultPoints();return new Be(x.toString(),null,0,[E[0],E[1],N[0],N[1]],X.RSS_14,new Date().getTime())}static checkChecksum(s,l){let u=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,g=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,u===g}decodePair(s,l,u,g){try{let x=this.findFinderPattern(s,l),y=this.parseFoundFinderPattern(s,u,l,x),E=g==null?null:g.get($.NEED_RESULT_POINT_CALLBACK);if(E!=null){let L=(x[0]+x[1])/2;l&&(L=s.getSize()-1-L),E.foundPossibleResultPoint(new Ve(L,u))}let N=this.decodeDataCharacter(s,y,!0),j=this.decodeDataCharacter(s,y,!1);return new wf(1597*N.getValue()+j.getValue(),N.getChecksumPortion()+4*j.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(s,l,u){let g=this.getDataCharacterCounters();for(let ce=0;ce<g.length;ce++)g[ce]=0;if(u)ht.recordPatternInReverse(s,l.getStartEnd()[0],g);else{ht.recordPattern(s,l.getStartEnd()[1]+1,g);for(let ce=0,be=g.length-1;ce<be;ce++,be--){let Me=g[ce];g[ce]=g[be],g[be]=Me}}let x=u?16:15,y=wt.sum(new Int32Array(g))/x,E=this.getOddCounts(),N=this.getEvenCounts(),j=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let ce=0;ce<g.length;ce++){let be=g[ce]/y,Me=Math.floor(be+.5);Me<1?Me=1:Me>8&&(Me=8);let Le=Math.floor(ce/2);(ce&1)===0?(E[Le]=Me,j[Le]=be-Me):(N[Le]=Me,L[Le]=be-Me)}this.adjustOddEvenCounts(u,x);let z=0,V=0;for(let ce=E.length-1;ce>=0;ce--)V*=9,V+=E[ce],z+=E[ce];let G=0,ee=0;for(let ce=N.length-1;ce>=0;ce--)G*=9,G+=N[ce],ee+=N[ce];let ne=V+3*G;if(u){if((z&1)!==0||z>12||z<4)throw new te;let ce=(12-z)/2,be=lr.OUTSIDE_ODD_WIDEST[ce],Me=9-be,Le=_r.getRSSvalue(E,be,!1),je=_r.getRSSvalue(N,Me,!0),kt=lr.OUTSIDE_EVEN_TOTAL_SUBSET[ce],Ct=lr.OUTSIDE_GSUM[ce];return new Jt(Le*kt+je+Ct,ne)}else{if((ee&1)!==0||ee>10||ee<4)throw new te;let ce=(10-ee)/2,be=lr.INSIDE_ODD_WIDEST[ce],Me=9-be,Le=_r.getRSSvalue(E,be,!0),je=_r.getRSSvalue(N,Me,!1),kt=lr.INSIDE_ODD_TOTAL_SUBSET[ce],Ct=lr.INSIDE_GSUM[ce];return new Jt(je*kt+Le+Ct,ne)}}findFinderPattern(s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let g=s.getSize(),x=!1,y=0;for(;y<g&&(x=!s.get(y),l!==x);)y++;let E=0,N=y;for(let j=y;j<g;j++)if(s.get(j)!==x)u[E]++;else{if(E===3){if(gt.isFinderPattern(u))return[N,j];N+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,x=!x}throw new te}parseFoundFinderPattern(s,l,u,g){let x=s.get(g[0]),y=g[0]-1;for(;y>=0&&x!==s.get(y);)y--;y++;const E=g[0]-y,N=this.getDecodeFinderCounters(),j=new Int32Array(N.length);I.arraycopy(N,0,j,1,N.length-1),j[0]=E;const L=this.parseFinderValue(j,lr.FINDER_PATTERNS);let z=y,V=g[1];return u&&(z=s.getSize()-1-z,V=s.getSize()-1-V),new rn(L,[y,g[1]],z,V,l)}adjustOddEvenCounts(s,l){let u=wt.sum(new Int32Array(this.getOddCounts())),g=wt.sum(new Int32Array(this.getEvenCounts())),x=!1,y=!1,E=!1,N=!1;s?(u>12?y=!0:u<4&&(x=!0),g>12?N=!0:g<4&&(E=!0)):(u>11?y=!0:u<5&&(x=!0),g>10?N=!0:g<4&&(E=!0));let j=u+g-l,L=(u&1)===(s?1:0),z=(g&1)===1;if(j===1)if(L){if(z)throw new te;y=!0}else{if(!z)throw new te;N=!0}else if(j===-1)if(L){if(z)throw new te;x=!0}else{if(!z)throw new te;E=!0}else if(j===0){if(L){if(!z)throw new te;u<g?(x=!0,N=!0):(y=!0,E=!0)}else if(z)throw new te}else throw new te;if(x){if(y)throw new te;gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(N)throw new te;gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],lr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],lr.OUTSIDE_GSUM=[0,161,961,2015,2715],lr.INSIDE_GSUM=[0,336,1036,1516],lr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],lr.INSIDE_ODD_WIDEST=[2,4,6,8],lr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Zs extends ht{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const u=s?s.get($.POSSIBLE_FORMATS):null,g=s&&s.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(X.EAN_13)||u.includes(X.UPC_A)||u.includes(X.EAN_8)||u.includes(X.UPC_E))&&this.readers.push(new St(s)),u.includes(X.CODE_39)&&this.readers.push(new Cr(g)),u.includes(X.CODE_128)&&this.readers.push(new Oe),u.includes(X.ITF)&&this.readers.push(new Bt),u.includes(X.RSS_14)&&this.readers.push(new lr),u.includes(X.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new St(s)),this.readers.push(new Cr),this.readers.push(new St(s)),this.readers.push(new Oe),this.readers.push(new Bt),this.readers.push(new lr),this.readers.push(new Ie(this.verbose)))}decodeRow(s,l,u){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(s,l,u)}catch{}throw new te}reset(){this.readers.forEach(s=>s.reset())}}class Ef extends Ue{constructor(s=500,l){super(new Zs(l),s,l)}}class Ft{constructor(s,l,u){this.ecCodewords=s,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class It{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rt{constructor(s,l,u,g,x,y){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=y;let E=0;const N=y.getECCodewords(),j=y.getECBlocks();for(let L of j)E+=L.getCount()*(L.getDataCodewords()+N);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new H;for(let u of Rt.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===l)return u;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Rt(1,10,10,8,8,new Ft(5,new It(1,3))),new Rt(2,12,12,10,10,new Ft(7,new It(1,5))),new Rt(3,14,14,12,12,new Ft(10,new It(1,8))),new Rt(4,16,16,14,14,new Ft(12,new It(1,12))),new Rt(5,18,18,16,16,new Ft(14,new It(1,18))),new Rt(6,20,20,18,18,new Ft(18,new It(1,22))),new Rt(7,22,22,20,20,new Ft(20,new It(1,30))),new Rt(8,24,24,22,22,new Ft(24,new It(1,36))),new Rt(9,26,26,24,24,new Ft(28,new It(1,44))),new Rt(10,32,32,14,14,new Ft(36,new It(1,62))),new Rt(11,36,36,16,16,new Ft(42,new It(1,86))),new Rt(12,40,40,18,18,new Ft(48,new It(1,114))),new Rt(13,44,44,20,20,new Ft(56,new It(1,144))),new Rt(14,48,48,22,22,new Ft(68,new It(1,174))),new Rt(15,52,52,24,24,new Ft(42,new It(2,102))),new Rt(16,64,64,14,14,new Ft(56,new It(2,140))),new Rt(17,72,72,16,16,new Ft(36,new It(4,92))),new Rt(18,80,80,18,18,new Ft(48,new It(4,114))),new Rt(19,88,88,20,20,new Ft(56,new It(4,144))),new Rt(20,96,96,22,22,new Ft(68,new It(4,174))),new Rt(21,104,104,24,24,new Ft(56,new It(6,136))),new Rt(22,120,120,18,18,new Ft(68,new It(6,175))),new Rt(23,132,132,20,20,new Ft(62,new It(8,163))),new Rt(24,144,144,22,22,new Ft(62,new It(8,156),new It(2,155))),new Rt(25,8,18,6,16,new Ft(7,new It(1,5))),new Rt(26,8,32,6,14,new Ft(11,new It(1,10))),new Rt(27,12,26,10,24,new Ft(14,new It(1,16))),new Rt(28,12,36,10,16,new Ft(18,new It(1,22))),new Rt(29,16,36,14,16,new Ft(24,new It(1,32))),new Rt(30,16,48,14,22,new Ft(28,new It(1,49)))]}}Rt.VERSIONS=Rt.buildVersions();class li{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new H;this.version=li.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),u=s.getWidth();return Rt.getVersionForDimensions(l,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,g=0;const x=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let E=!1,N=!1,j=!1,L=!1;do if(u===x&&g===0&&!E)s[l++]=this.readCorner1(x,y)&255,u-=2,g+=2,E=!0;else if(u===x-2&&g===0&&(y&3)!==0&&!N)s[l++]=this.readCorner2(x,y)&255,u-=2,g+=2,N=!0;else if(u===x+4&&g===2&&(y&7)===0&&!j)s[l++]=this.readCorner3(x,y)&255,u-=2,g+=2,j=!0;else if(u===x-2&&g===0&&(y&7)===4&&!L)s[l++]=this.readCorner4(x,y)&255,u-=2,g+=2,L=!0;else{do u<x&&g>=0&&!this.readMappingMatrix.get(g,u)&&(s[l++]=this.readUtah(u,g,x,y)&255),u-=2,g+=2;while(u>=0&&g<y);u+=1,g+=3;do u>=0&&g<y&&!this.readMappingMatrix.get(g,u)&&(s[l++]=this.readUtah(u,g,x,y)&255),u+=2,g-=2;while(u<x&&g>=0);u+=3,g+=1}while(u<x||g<y);if(l!==this.version.getTotalCodewords())throw new H;return s}readModule(s,l,u,g){return s<0&&(s+=u,l+=4-(u+4&7)),l<0&&(l+=g,s+=4-(g+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,u,g){let x=0;return this.readModule(s-2,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s-2,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s-1,l,u,g)&&(x|=1),x<<=1,this.readModule(s,l-2,u,g)&&(x|=1),x<<=1,this.readModule(s,l-1,u,g)&&(x|=1),x<<=1,this.readModule(s,l,u,g)&&(x|=1),x}readCorner1(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,1,s,l)&&(u|=1),u<<=1,this.readModule(s-1,2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}readCorner2(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-4,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner3(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-3,s,l)&&(u|=1),u<<=1,this.readModule(1,l-2,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner4(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new b("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),y=l/g|0,E=u/x|0,N=y*g,j=E*x,L=new Ce(j,N);for(let z=0;z<y;++z){const V=z*g;for(let G=0;G<E;++G){const ee=G*x;for(let ne=0;ne<g;++ne){const ce=z*(g+2)+1+ne,be=V+ne;for(let Me=0;Me<x;++Me){const Le=G*(x+2)+1+Me;if(s.get(Le,ce)){const je=ee+Me;L.set(je,be)}}}}}return L}}class hu{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const u=l.getECBlocks();let g=0;const x=u.getECBlocks();for(let ne of x)g+=ne.getCount();const y=new Array(g);let E=0;for(let ne of x)for(let ce=0;ce<ne.getCount();ce++){const be=ne.getDataCodewords(),Me=u.getECCodewords()+be;y[E++]=new hu(be,new Uint8Array(Me))}const j=y[0].codewords.length-u.getECCodewords(),L=j-1;let z=0;for(let ne=0;ne<L;ne++)for(let ce=0;ce<E;ce++)y[ce].codewords[ne]=s[z++];const V=l.getVersionNumber()===24,G=V?8:E;for(let ne=0;ne<G;ne++)y[ne].codewords[j-1]=s[z++];const ee=y[0].codewords.length;for(let ne=j;ne<ee;ne++)for(let ce=0;ce<E;ce++){const be=V?(ce+8)%E:ce,Me=V&&be>7?ne-1:ne;y[be].codewords[Me]=s[z++]}if(z!==s.length)throw new b;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class pu{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new b(""+s);let l=0,u=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(u>0){const y=8-u,E=s<y?s:y,N=y-E,j=255>>8-E<<N;l=(x[g]&j)>>N,s-=E,u+=E,u===8&&(u=0,g++)}if(s>0){for(;s>=8;)l=l<<8|x[g]&255,g++,s-=8;if(s>0){const y=8-s,E=255>>y<<y;l=l<<s|(x[g]&E)>>y,u+=s}}return this.bitOffset=u,this.byteOffset=g,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Kr;(function(F){F[F.PAD_ENCODE=0]="PAD_ENCODE",F[F.ASCII_ENCODE=1]="ASCII_ENCODE",F[F.C40_ENCODE=2]="C40_ENCODE",F[F.TEXT_ENCODE=3]="TEXT_ENCODE",F[F.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",F[F.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",F[F.BASE256_ENCODE=6]="BASE256_ENCODE"})(Kr||(Kr={}));class Ii{static decode(s){const l=new pu(s),u=new Ae,g=new Ae,x=new Array;let y=Kr.ASCII_ENCODE;do if(y===Kr.ASCII_ENCODE)y=this.decodeAsciiSegment(l,u,g);else{switch(y){case Kr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Kr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Kr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Kr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Kr.BASE256_ENCODE:this.decodeBase256Segment(l,u,x);break;default:throw new H}y=Kr.ASCII_ENCODE}while(y!==Kr.PAD_ENCODE&&l.available()>0);return g.length()>0&&u.append(g.toString()),new me(s,u.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(s,l,u){let g=!1;do{let x=s.readBits(8);if(x===0)throw new H;if(x<=128)return g&&(x+=128),l.append(String.fromCharCode(x-1)),Kr.ASCII_ENCODE;if(x===129)return Kr.PAD_ENCODE;if(x<=229){const y=x-130;y<10&&l.append("0"),l.append(""+y)}else switch(x){case 230:return Kr.C40_ENCODE;case 231:return Kr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Kr.ANSIX12_ENCODE;case 239:return Kr.TEXT_ENCODE;case 240:return Kr.EDIFACT_ENCODE;case 241:break;default:if(x!==254||s.available()!==0)throw new H;break}}while(s.available()>0);return Kr.ASCII_ENCODE}static decodeC40Segment(s,l){let u=!1;const g=[];let x=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),g);for(let E=0;E<3;E++){const N=g[E];switch(x){case 0:if(N<3)x=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const j=this.C40_BASIC_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(N+128)),u=!1):l.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const j=this.C40_SHIFT2_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else switch(N){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}x=0;break;case 3:u?(l.append(String.fromCharCode(N+224)),u=!1):l.append(String.fromCharCode(N+96)),x=0;break;default:throw new H}}}while(s.available()>0)}static decodeTextSegment(s,l){let u=!1,g=[],x=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),g);for(let E=0;E<3;E++){const N=g[E];switch(x){case 0:if(N<3)x=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const j=this.TEXT_BASIC_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(N+128)),u=!1):l.append(String.fromCharCode(N)),x=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const j=this.TEXT_SHIFT2_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else switch(N){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}x=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const j=this.TEXT_SHIFT3_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j),x=0}else throw new H;break;default:throw new H}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const u=[];do{if(s.available()===8)return;const g=s.readBits(8);if(g===254)return;this.parseTwoBytes(g,s.readBits(8),u);for(let x=0;x<3;x++){const y=u[x];switch(y){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(y<14)l.append(String.fromCharCode(y+44));else if(y<40)l.append(String.fromCharCode(y+51));else throw new H;break}}}while(s.available()>0)}static parseTwoBytes(s,l,u){let g=(s<<8)+l-1,x=Math.floor(g/1600);u[0]=x,g-=x*1600,x=Math.floor(g/40),u[1]=x,u[2]=g-x*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let g=s.readBits(6);if(g===31){const x=8-s.getBitOffset();x!==8&&s.readBits(x);return}(g&32)===0&&(g|=64),l.append(String.fromCharCode(g))}}while(s.available()>0)}static decodeBase256Segment(s,l,u){let g=1+s.getByteOffset();const x=this.unrandomize255State(s.readBits(8),g++);let y;if(x===0?y=s.available()/8|0:x<250?y=x:y=250*(x-249)+this.unrandomize255State(s.readBits(8),g++),y<0)throw new H;const E=new Uint8Array(y);for(let N=0;N<y;N++){if(s.available()<8)throw new H;E[N]=this.unrandomize255State(s.readBits(8),g++)}u.push(E);try{l.append(se.decode(E,ie.ISO88591))}catch(N){throw new it("Platform does not support required encoding: "+N.message)}}static unrandomize255State(s,l){const u=149*l%255+1,g=s-u;return g>=0?g:g+256}}Ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ii.TEXT_SHIFT2_SET_CHARS=Ii.C40_SHIFT2_SET_CHARS,Ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Vl{constructor(){this.rsDecoder=new jt(ke.DATA_MATRIX_FIELD_256)}decode(s){const l=new li(s),u=l.getVersion(),g=l.readCodewords(),x=hu.getDataBlocks(g,u);let y=0;for(let j of x)y+=j.getNumDataCodewords();const E=new Uint8Array(y),N=x.length;for(let j=0;j<N;j++){const L=x[j],z=L.getCodewords(),V=L.getNumDataCodewords();this.correctErrors(z,V);for(let G=0;G<V;G++)E[G*N+j]=z[G]}return Ii.decode(E)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let g=0;g<l;g++)s[g]=u[g]}}class cr{constructor(s){this.image=s,this.rectangleDetector=new Gn(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new te;l=this.shiftToModuleCenter(l);const u=l[0],g=l[1],x=l[2],y=l[3];let E=this.transitionsBetween(u,y)+1,N=this.transitionsBetween(x,y)+1;(E&1)===1&&(E+=1),(N&1)===1&&(N+=1),4*E<7*N&&4*N<7*E&&(E=N=Math.max(E,N));let j=cr.sampleGrid(this.image,u,g,x,y,E,N);return new ma(j,[u,g,x,y])}static shiftPoint(s,l,u){let g=(l.getX()-s.getX())/(u+1),x=(l.getY()-s.getY())/(u+1);return new Ve(s.getX()+g,s.getY()+x)}static moveAway(s,l,u){let g=s.getX(),x=s.getY();return g<l?g-=1:g+=1,x<u?x-=1:x+=1,new Ve(g,x)}detectSolid1(s){let l=s[0],u=s[1],g=s[3],x=s[2],y=this.transitionsBetween(l,u),E=this.transitionsBetween(u,g),N=this.transitionsBetween(g,x),j=this.transitionsBetween(x,l),L=y,z=[x,l,u,g];return L>E&&(L=E,z[0]=l,z[1]=u,z[2]=g,z[3]=x),L>N&&(L=N,z[0]=u,z[1]=g,z[2]=x,z[3]=l),L>j&&(z[0]=g,z[1]=x,z[2]=l,z[3]=u),z}detectSolid2(s){let l=s[0],u=s[1],g=s[2],x=s[3],y=this.transitionsBetween(l,x),E=cr.shiftPoint(u,g,(y+1)*4),N=cr.shiftPoint(g,u,(y+1)*4),j=this.transitionsBetween(E,l),L=this.transitionsBetween(N,x);return j<L?(s[0]=l,s[1]=u,s[2]=g,s[3]=x):(s[0]=u,s[1]=g,s[2]=x,s[3]=l),s}correctTopRight(s){let l=s[0],u=s[1],g=s[2],x=s[3],y=this.transitionsBetween(l,x),E=this.transitionsBetween(u,x),N=cr.shiftPoint(l,u,(E+1)*4),j=cr.shiftPoint(g,u,(y+1)*4);y=this.transitionsBetween(N,x),E=this.transitionsBetween(j,x);let L=new Ve(x.getX()+(g.getX()-u.getX())/(y+1),x.getY()+(g.getY()-u.getY())/(y+1)),z=new Ve(x.getX()+(l.getX()-u.getX())/(E+1),x.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(L))return this.isValid(z)?z:null;if(!this.isValid(z))return L;let V=this.transitionsBetween(N,L)+this.transitionsBetween(j,L),G=this.transitionsBetween(N,z)+this.transitionsBetween(j,z);return V>G?L:z}shiftToModuleCenter(s){let l=s[0],u=s[1],g=s[2],x=s[3],y=this.transitionsBetween(l,x)+1,E=this.transitionsBetween(g,x)+1,N=cr.shiftPoint(l,u,E*4),j=cr.shiftPoint(g,u,y*4);y=this.transitionsBetween(N,x)+1,E=this.transitionsBetween(j,x)+1,(y&1)===1&&(y+=1),(E&1)===1&&(E+=1);let L=(l.getX()+u.getX()+g.getX()+x.getX())/4,z=(l.getY()+u.getY()+g.getY()+x.getY())/4;l=cr.moveAway(l,L,z),u=cr.moveAway(u,L,z),g=cr.moveAway(g,L,z),x=cr.moveAway(x,L,z);let V,G;return N=cr.shiftPoint(l,u,E*4),N=cr.shiftPoint(N,x,y*4),V=cr.shiftPoint(u,l,E*4),V=cr.shiftPoint(V,g,y*4),j=cr.shiftPoint(g,x,E*4),j=cr.shiftPoint(j,u,y*4),G=cr.shiftPoint(x,g,E*4),G=cr.shiftPoint(G,l,y*4),[N,V,j,G]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,u,g,x,y,E){return Kn.getInstance().sampleGrid(s,y,E,.5,.5,y-.5,.5,y-.5,E-.5,.5,E-.5,l.getX(),l.getY(),x.getX(),x.getY(),g.getX(),g.getY(),u.getX(),u.getY())}transitionsBetween(s,l){let u=Math.trunc(s.getX()),g=Math.trunc(s.getY()),x=Math.trunc(l.getX()),y=Math.trunc(l.getY()),E=Math.abs(y-g)>Math.abs(x-u);if(E){let ne=u;u=g,g=ne,ne=x,x=y,y=ne}let N=Math.abs(x-u),j=Math.abs(y-g),L=-N/2,z=g<y?1:-1,V=u<x?1:-1,G=0,ee=this.image.get(E?g:u,E?u:g);for(let ne=u,ce=g;ne!==x;ne+=V){let be=this.image.get(E?ce:ne,E?ne:ce);if(be!==ee&&(G++,ee=be),L+=j,L>0){if(ce===y)break;ce+=z,L-=N}}return G}}class Pi{constructor(){this.decoder=new Vl}decode(s,l=null){let u,g;if(l!=null&&l.has($.PURE_BARCODE)){const j=Pi.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(j),g=Pi.NO_POINTS}else{const j=new cr(s.getBlackMatrix()).detect();u=this.decoder.decode(j.getBits()),g=j.getPoints()}const x=u.getRawBytes(),y=new Be(u.getText(),x,8*x.length,g,X.DATA_MATRIX,I.currentTimeMillis()),E=u.getByteSegments();E!=null&&y.putMetadata(ze.BYTE_SEGMENTS,E);const N=u.getECLevel();return N!=null&&y.putMetadata(ze.ERROR_CORRECTION_LEVEL,N),y}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l==null||u==null)throw new te;const g=this.moduleSize(l,s);let x=l[1];const y=u[1];let E=l[0];const j=(u[0]-E+1)/g,L=(y-x+1)/g;if(j<=0||L<=0)throw new te;const z=g/2;x+=z,E+=z;const V=new Ce(j,L);for(let G=0;G<L;G++){const ee=x+G*g;for(let ne=0;ne<j;ne++)s.get(E+ne*g,ee)&&V.set(ne,G)}return V}static moduleSize(s,l){const u=l.getWidth();let g=s[0];const x=s[1];for(;g<u&&l.get(g,x);)g++;if(g===u)throw new te;const y=g-s[0];if(y===0)throw new te;return y}}Pi.NO_POINTS=[];class Mm extends Ue{constructor(s=500){super(new Pi,s)}}var Qs;(function(F){F[F.L=0]="L",F[F.M=1]="M",F[F.Q=2]="Q",F[F.H=3]="H"})(Qs||(Qs={}));class Zt{constructor(s,l,u){this.value=s,this.stringValue=l,this.bits=u,Zt.FOR_BITS.set(u,this),Zt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Zt.L;case"M":return Zt.M;case"Q":return Zt.Q;case"H":return Zt.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Zt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Zt.FOR_BITS.size)throw new b;return Zt.FOR_BITS.get(s)}}Zt.FOR_BITS=new Map,Zt.FOR_VALUE=new Map,Zt.L=new Zt(Qs.L,"L",1),Zt.M=new Zt(Qs.M,"M",0),Zt.Q=new Zt(Qs.Q,"Q",3),Zt.H=new Zt(Qs.H,"H",2);class fn{constructor(s){this.errorCorrectionLevel=Zt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return R.bitCount(s^l)}static decodeFormatInformation(s,l){const u=fn.doDecodeFormatInformation(s,l);return u!==null?u:fn.doDecodeFormatInformation(s^fn.FORMAT_INFO_MASK_QR,l^fn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let u=Number.MAX_SAFE_INTEGER,g=0;for(const x of fn.FORMAT_INFO_DECODE_LOOKUP){const y=x[0];if(y===s||y===l)return new fn(x[1]);let E=fn.numBitsDiffering(s,y);E<u&&(g=x[1],u=E),s!==l&&(E=fn.numBitsDiffering(l,y),E<u&&(g=x[1],u=E))}return u<=3?new fn(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof fn))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}fn.FORMAT_INFO_MASK_QR=21522,fn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class de{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const u of l)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class q{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(s,l,...u){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=u;let g=0;const x=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const E of y)g+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new H;try{return this.getVersionForNumber((s-17)/4)}catch{throw new H}}static getVersionForNumber(s){if(s<1||s>40)throw new b;return ut.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,u=0;for(let g=0;g<ut.VERSION_DECODE_INFO.length;g++){const x=ut.VERSION_DECODE_INFO[g];if(x===s)return ut.getVersionForNumber(g+7);const y=fn.numBitsDiffering(s,x);y<l&&(u=g+7,l=y)}return l<=3?ut.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new Ce(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let g=0;g<u;g++){const x=this.alignmentPatternCenters[g]-2;for(let y=0;y<u;y++)g===0&&(y===0||y===u-1)||g===u-1&&y===0||l.setRegion(this.alignmentPatternCenters[y]-2,x,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}ut.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ut.VERSIONS=[new ut(1,new Int32Array(0),new de(7,new q(1,19)),new de(10,new q(1,16)),new de(13,new q(1,13)),new de(17,new q(1,9))),new ut(2,Int32Array.from([6,18]),new de(10,new q(1,34)),new de(16,new q(1,28)),new de(22,new q(1,22)),new de(28,new q(1,16))),new ut(3,Int32Array.from([6,22]),new de(15,new q(1,55)),new de(26,new q(1,44)),new de(18,new q(2,17)),new de(22,new q(2,13))),new ut(4,Int32Array.from([6,26]),new de(20,new q(1,80)),new de(18,new q(2,32)),new de(26,new q(2,24)),new de(16,new q(4,9))),new ut(5,Int32Array.from([6,30]),new de(26,new q(1,108)),new de(24,new q(2,43)),new de(18,new q(2,15),new q(2,16)),new de(22,new q(2,11),new q(2,12))),new ut(6,Int32Array.from([6,34]),new de(18,new q(2,68)),new de(16,new q(4,27)),new de(24,new q(4,19)),new de(28,new q(4,15))),new ut(7,Int32Array.from([6,22,38]),new de(20,new q(2,78)),new de(18,new q(4,31)),new de(18,new q(2,14),new q(4,15)),new de(26,new q(4,13),new q(1,14))),new ut(8,Int32Array.from([6,24,42]),new de(24,new q(2,97)),new de(22,new q(2,38),new q(2,39)),new de(22,new q(4,18),new q(2,19)),new de(26,new q(4,14),new q(2,15))),new ut(9,Int32Array.from([6,26,46]),new de(30,new q(2,116)),new de(22,new q(3,36),new q(2,37)),new de(20,new q(4,16),new q(4,17)),new de(24,new q(4,12),new q(4,13))),new ut(10,Int32Array.from([6,28,50]),new de(18,new q(2,68),new q(2,69)),new de(26,new q(4,43),new q(1,44)),new de(24,new q(6,19),new q(2,20)),new de(28,new q(6,15),new q(2,16))),new ut(11,Int32Array.from([6,30,54]),new de(20,new q(4,81)),new de(30,new q(1,50),new q(4,51)),new de(28,new q(4,22),new q(4,23)),new de(24,new q(3,12),new q(8,13))),new ut(12,Int32Array.from([6,32,58]),new de(24,new q(2,92),new q(2,93)),new de(22,new q(6,36),new q(2,37)),new de(26,new q(4,20),new q(6,21)),new de(28,new q(7,14),new q(4,15))),new ut(13,Int32Array.from([6,34,62]),new de(26,new q(4,107)),new de(22,new q(8,37),new q(1,38)),new de(24,new q(8,20),new q(4,21)),new de(22,new q(12,11),new q(4,12))),new ut(14,Int32Array.from([6,26,46,66]),new de(30,new q(3,115),new q(1,116)),new de(24,new q(4,40),new q(5,41)),new de(20,new q(11,16),new q(5,17)),new de(24,new q(11,12),new q(5,13))),new ut(15,Int32Array.from([6,26,48,70]),new de(22,new q(5,87),new q(1,88)),new de(24,new q(5,41),new q(5,42)),new de(30,new q(5,24),new q(7,25)),new de(24,new q(11,12),new q(7,13))),new ut(16,Int32Array.from([6,26,50,74]),new de(24,new q(5,98),new q(1,99)),new de(28,new q(7,45),new q(3,46)),new de(24,new q(15,19),new q(2,20)),new de(30,new q(3,15),new q(13,16))),new ut(17,Int32Array.from([6,30,54,78]),new de(28,new q(1,107),new q(5,108)),new de(28,new q(10,46),new q(1,47)),new de(28,new q(1,22),new q(15,23)),new de(28,new q(2,14),new q(17,15))),new ut(18,Int32Array.from([6,30,56,82]),new de(30,new q(5,120),new q(1,121)),new de(26,new q(9,43),new q(4,44)),new de(28,new q(17,22),new q(1,23)),new de(28,new q(2,14),new q(19,15))),new ut(19,Int32Array.from([6,30,58,86]),new de(28,new q(3,113),new q(4,114)),new de(26,new q(3,44),new q(11,45)),new de(26,new q(17,21),new q(4,22)),new de(26,new q(9,13),new q(16,14))),new ut(20,Int32Array.from([6,34,62,90]),new de(28,new q(3,107),new q(5,108)),new de(26,new q(3,41),new q(13,42)),new de(30,new q(15,24),new q(5,25)),new de(28,new q(15,15),new q(10,16))),new ut(21,Int32Array.from([6,28,50,72,94]),new de(28,new q(4,116),new q(4,117)),new de(26,new q(17,42)),new de(28,new q(17,22),new q(6,23)),new de(30,new q(19,16),new q(6,17))),new ut(22,Int32Array.from([6,26,50,74,98]),new de(28,new q(2,111),new q(7,112)),new de(28,new q(17,46)),new de(30,new q(7,24),new q(16,25)),new de(24,new q(34,13))),new ut(23,Int32Array.from([6,30,54,78,102]),new de(30,new q(4,121),new q(5,122)),new de(28,new q(4,47),new q(14,48)),new de(30,new q(11,24),new q(14,25)),new de(30,new q(16,15),new q(14,16))),new ut(24,Int32Array.from([6,28,54,80,106]),new de(30,new q(6,117),new q(4,118)),new de(28,new q(6,45),new q(14,46)),new de(30,new q(11,24),new q(16,25)),new de(30,new q(30,16),new q(2,17))),new ut(25,Int32Array.from([6,32,58,84,110]),new de(26,new q(8,106),new q(4,107)),new de(28,new q(8,47),new q(13,48)),new de(30,new q(7,24),new q(22,25)),new de(30,new q(22,15),new q(13,16))),new ut(26,Int32Array.from([6,30,58,86,114]),new de(28,new q(10,114),new q(2,115)),new de(28,new q(19,46),new q(4,47)),new de(28,new q(28,22),new q(6,23)),new de(30,new q(33,16),new q(4,17))),new ut(27,Int32Array.from([6,34,62,90,118]),new de(30,new q(8,122),new q(4,123)),new de(28,new q(22,45),new q(3,46)),new de(30,new q(8,23),new q(26,24)),new de(30,new q(12,15),new q(28,16))),new ut(28,Int32Array.from([6,26,50,74,98,122]),new de(30,new q(3,117),new q(10,118)),new de(28,new q(3,45),new q(23,46)),new de(30,new q(4,24),new q(31,25)),new de(30,new q(11,15),new q(31,16))),new ut(29,Int32Array.from([6,30,54,78,102,126]),new de(30,new q(7,116),new q(7,117)),new de(28,new q(21,45),new q(7,46)),new de(30,new q(1,23),new q(37,24)),new de(30,new q(19,15),new q(26,16))),new ut(30,Int32Array.from([6,26,52,78,104,130]),new de(30,new q(5,115),new q(10,116)),new de(28,new q(19,47),new q(10,48)),new de(30,new q(15,24),new q(25,25)),new de(30,new q(23,15),new q(25,16))),new ut(31,Int32Array.from([6,30,56,82,108,134]),new de(30,new q(13,115),new q(3,116)),new de(28,new q(2,46),new q(29,47)),new de(30,new q(42,24),new q(1,25)),new de(30,new q(23,15),new q(28,16))),new ut(32,Int32Array.from([6,34,60,86,112,138]),new de(30,new q(17,115)),new de(28,new q(10,46),new q(23,47)),new de(30,new q(10,24),new q(35,25)),new de(30,new q(19,15),new q(35,16))),new ut(33,Int32Array.from([6,30,58,86,114,142]),new de(30,new q(17,115),new q(1,116)),new de(28,new q(14,46),new q(21,47)),new de(30,new q(29,24),new q(19,25)),new de(30,new q(11,15),new q(46,16))),new ut(34,Int32Array.from([6,34,62,90,118,146]),new de(30,new q(13,115),new q(6,116)),new de(28,new q(14,46),new q(23,47)),new de(30,new q(44,24),new q(7,25)),new de(30,new q(59,16),new q(1,17))),new ut(35,Int32Array.from([6,30,54,78,102,126,150]),new de(30,new q(12,121),new q(7,122)),new de(28,new q(12,47),new q(26,48)),new de(30,new q(39,24),new q(14,25)),new de(30,new q(22,15),new q(41,16))),new ut(36,Int32Array.from([6,24,50,76,102,128,154]),new de(30,new q(6,121),new q(14,122)),new de(28,new q(6,47),new q(34,48)),new de(30,new q(46,24),new q(10,25)),new de(30,new q(2,15),new q(64,16))),new ut(37,Int32Array.from([6,28,54,80,106,132,158]),new de(30,new q(17,122),new q(4,123)),new de(28,new q(29,46),new q(14,47)),new de(30,new q(49,24),new q(10,25)),new de(30,new q(24,15),new q(46,16))),new ut(38,Int32Array.from([6,32,58,84,110,136,162]),new de(30,new q(4,122),new q(18,123)),new de(28,new q(13,46),new q(32,47)),new de(30,new q(48,24),new q(14,25)),new de(30,new q(42,15),new q(32,16))),new ut(39,Int32Array.from([6,26,54,82,110,138,166]),new de(30,new q(20,117),new q(4,118)),new de(28,new q(40,47),new q(7,48)),new de(30,new q(43,24),new q(22,25)),new de(30,new q(10,15),new q(67,16))),new ut(40,Int32Array.from([6,30,58,86,114,142,170]),new de(30,new q(19,118),new q(6,119)),new de(28,new q(18,47),new q(31,48)),new de(30,new q(34,24),new q(34,25)),new de(30,new q(20,15),new q(61,16)))];var Ur;(function(F){F[F.DATA_MASK_000=0]="DATA_MASK_000",F[F.DATA_MASK_001=1]="DATA_MASK_001",F[F.DATA_MASK_010=2]="DATA_MASK_010",F[F.DATA_MASK_011=3]="DATA_MASK_011",F[F.DATA_MASK_100=4]="DATA_MASK_100",F[F.DATA_MASK_101=5]="DATA_MASK_101",F[F.DATA_MASK_110=6]="DATA_MASK_110",F[F.DATA_MASK_111=7]="DATA_MASK_111"})(Ur||(Ur={}));class Pt{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let u=0;u<l;u++)for(let g=0;g<l;g++)this.isMasked(u,g)&&s.flip(g,u)}}Pt.values=new Map([[Ur.DATA_MASK_000,new Pt(Ur.DATA_MASK_000,(F,s)=>(F+s&1)===0)],[Ur.DATA_MASK_001,new Pt(Ur.DATA_MASK_001,(F,s)=>(F&1)===0)],[Ur.DATA_MASK_010,new Pt(Ur.DATA_MASK_010,(F,s)=>s%3===0)],[Ur.DATA_MASK_011,new Pt(Ur.DATA_MASK_011,(F,s)=>(F+s)%3===0)],[Ur.DATA_MASK_100,new Pt(Ur.DATA_MASK_100,(F,s)=>(Math.floor(F/2)+Math.floor(s/3)&1)===0)],[Ur.DATA_MASK_101,new Pt(Ur.DATA_MASK_101,(F,s)=>F*s%6===0)],[Ur.DATA_MASK_110,new Pt(Ur.DATA_MASK_110,(F,s)=>F*s%6<3)],[Ur.DATA_MASK_111,new Pt(Ur.DATA_MASK_111,(F,s)=>(F+s+F*s%3&1)===0)]]);class Sf{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new H;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let x=0;x<6;x++)s=this.copyBit(x,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let x=5;x>=0;x--)s=this.copyBit(8,x,s);const l=this.bitMatrix.getHeight();let u=0;const g=l-7;for(let x=l-1;x>=g;x--)u=this.copyBit(8,x,u);for(let x=l-8;x<l;x++)u=this.copyBit(x,8,u);if(this.parsedFormatInfo=fn.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return ut.getVersionForNumber(l);let u=0;const g=s-11;for(let y=5;y>=0;y--)for(let E=s-9;E>=g;E--)u=this.copyBit(E,y,u);let x=ut.decodeVersionInformation(u);if(x!==null&&x.getDimensionForVersion()===s)return this.parsedVersion=x,x;u=0;for(let y=5;y>=0;y--)for(let E=s-9;E>=g;E--)u=this.copyBit(y,E,u);if(x=ut.decodeVersionInformation(u),x!==null&&x.getDimensionForVersion()===s)return this.parsedVersion=x,x;throw new H}copyBit(s,l,u){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),u=Pt.values.get(s.getDataMask()),g=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,g);const x=l.buildFunctionPattern();let y=!0;const E=new Uint8Array(l.getTotalCodewords());let N=0,j=0,L=0;for(let z=g-1;z>0;z-=2){z===6&&z--;for(let V=0;V<g;V++){const G=y?g-1-V:V;for(let ee=0;ee<2;ee++)x.get(z-ee,G)||(L++,j<<=1,this.bitMatrix.get(z-ee,G)&&(j|=1),L===8&&(E[N++]=j,L=0,j=0))}y=!y}if(N!==l.getTotalCodewords())throw new H;return E}remask(){if(this.parsedFormatInfo===null)return;const s=Pt.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,u=s.getWidth();l<u;l++)for(let g=l+1,x=s.getHeight();g<x;g++)s.get(l,g)!==s.get(g,l)&&(s.flip(g,l),s.flip(l,g))}}class Hl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,u){if(s.length!==l.getTotalCodewords())throw new b;const g=l.getECBlocksForLevel(u);let x=0;const y=g.getECBlocks();for(const ee of y)x+=ee.getCount();const E=new Array(x);let N=0;for(const ee of y)for(let ne=0;ne<ee.getCount();ne++){const ce=ee.getDataCodewords(),be=g.getECCodewordsPerBlock()+ce;E[N++]=new Hl(ce,new Uint8Array(be))}const j=E[0].codewords.length;let L=E.length-1;for(;L>=0&&E[L].codewords.length!==j;)L--;L++;const z=j-g.getECCodewordsPerBlock();let V=0;for(let ee=0;ee<z;ee++)for(let ne=0;ne<N;ne++)E[ne].codewords[ee]=s[V++];for(let ee=L;ee<N;ee++)E[ee].codewords[z]=s[V++];const G=E[0].codewords.length;for(let ee=z;ee<G;ee++)for(let ne=0;ne<N;ne++){const ce=ne<L?ee:ee+1;E[ne].codewords[ce]=s[V++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(F){F[F.TERMINATOR=0]="TERMINATOR",F[F.NUMERIC=1]="NUMERIC",F[F.ALPHANUMERIC=2]="ALPHANUMERIC",F[F.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",F[F.BYTE=4]="BYTE",F[F.ECI=5]="ECI",F[F.KANJI=6]="KANJI",F[F.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",F[F.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",F[F.HANZI=9]="HANZI"})(Yn||(Yn={}));class ft{constructor(s,l,u,g){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=g,ft.FOR_BITS.set(g,this),ft.FOR_VALUE.set(s,this)}static forBits(s){const l=ft.FOR_BITS.get(s);if(l===void 0)throw new b;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof ft))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}ft.FOR_BITS=new Map,ft.FOR_VALUE=new Map,ft.TERMINATOR=new ft(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ft.NUMERIC=new ft(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ft.ALPHANUMERIC=new ft(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ft.STRUCTURED_APPEND=new ft(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ft.BYTE=new ft(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ft.ECI=new ft(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),ft.KANJI=new ft(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ft.FNC1_FIRST_POSITION=new ft(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ft.FNC1_SECOND_POSITION=new ft(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ft.HANZI=new ft(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class pr{static decode(s,l,u,g){const x=new pu(s);let y=new Ae;const E=new Array;let N=-1,j=-1;try{let L=null,z=!1,V;do{if(x.available()<4)V=ft.TERMINATOR;else{const G=x.readBits(4);V=ft.forBits(G)}switch(V){case ft.TERMINATOR:break;case ft.FNC1_FIRST_POSITION:case ft.FNC1_SECOND_POSITION:z=!0;break;case ft.STRUCTURED_APPEND:if(x.available()<16)throw new H;N=x.readBits(8),j=x.readBits(8);break;case ft.ECI:const G=pr.parseECIValue(x);if(L=K.getCharacterSetECIByValue(G),L===null)throw new H;break;case ft.HANZI:const ee=x.readBits(4),ne=x.readBits(V.getCharacterCountBits(l));ee===pr.GB2312_SUBSET&&pr.decodeHanziSegment(x,y,ne);break;default:const ce=x.readBits(V.getCharacterCountBits(l));switch(V){case ft.NUMERIC:pr.decodeNumericSegment(x,y,ce);break;case ft.ALPHANUMERIC:pr.decodeAlphanumericSegment(x,y,ce,z);break;case ft.BYTE:pr.decodeByteSegment(x,y,ce,L,E,g);break;case ft.KANJI:pr.decodeKanjiSegment(x,y,ce);break;default:throw new H}break}}while(V!==ft.TERMINATOR)}catch{throw new H}return new me(s,y.toString(),E.length===0?null:E,u===null?null:u.toString(),N,j)}static decodeHanziSegment(s,l,u){if(u*13>s.available())throw new H;const g=new Uint8Array(2*u);let x=0;for(;u>0;){const y=s.readBits(13);let E=y/96<<8&4294967295|y%96;E<959?E+=41377:E+=42657,g[x]=E>>8&255,g[x+1]=E&255,x+=2,u--}try{l.append(se.decode(g,ie.GB2312))}catch(y){throw new H(y)}}static decodeKanjiSegment(s,l,u){if(u*13>s.available())throw new H;const g=new Uint8Array(2*u);let x=0;for(;u>0;){const y=s.readBits(13);let E=y/192<<8&4294967295|y%192;E<7936?E+=33088:E+=49472,g[x]=E>>8,g[x+1]=E,x+=2,u--}try{l.append(se.decode(g,ie.SHIFT_JIS))}catch(y){throw new H(y)}}static decodeByteSegment(s,l,u,g,x,y){if(8*u>s.available())throw new H;const E=new Uint8Array(u);for(let j=0;j<u;j++)E[j]=s.readBits(8);let N;g===null?N=ie.guessEncoding(E,y):N=g.getName();try{l.append(se.decode(E,N))}catch(j){throw new H(j)}x.push(E)}static toAlphaNumericChar(s){if(s>=pr.ALPHANUMERIC_CHARS.length)throw new H;return pr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,u,g){const x=l.length();for(;u>1;){if(s.available()<11)throw new H;const y=s.readBits(11);l.append(pr.toAlphaNumericChar(Math.floor(y/45))),l.append(pr.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(s.available()<6)throw new H;l.append(pr.toAlphaNumericChar(s.readBits(6)))}if(g)for(let y=x;y<l.length();y++)l.charAt(y)==="%"&&(y<l.length()-1&&l.charAt(y+1)==="%"?l.deleteCharAt(y+1):l.setCharAt(y,""))}static decodeNumericSegment(s,l,u){for(;u>=3;){if(s.available()<10)throw new H;const g=s.readBits(10);if(g>=1e3)throw new H;l.append(pr.toAlphaNumericChar(Math.floor(g/100))),l.append(pr.toAlphaNumericChar(Math.floor(g/10)%10)),l.append(pr.toAlphaNumericChar(g%10)),u-=3}if(u===2){if(s.available()<7)throw new H;const g=s.readBits(7);if(g>=100)throw new H;l.append(pr.toAlphaNumericChar(Math.floor(g/10))),l.append(pr.toAlphaNumericChar(g%10))}else if(u===1){if(s.available()<4)throw new H;const g=s.readBits(4);if(g>=10)throw new H;l.append(pr.toAlphaNumericChar(g))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=s.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=s.readBits(16);return(l&31)<<16&4294967295|u}throw new H}}pr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",pr.GB2312_SUBSET=1;class mu{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class gu{constructor(){this.rsDecoder=new jt(ke.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(Ce.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const u=new Sf(s);let g=null;try{return this.decodeBitMatrixParser(u,l)}catch(x){g=x}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const x=this.decodeBitMatrixParser(u,l);return x.setOther(new mu(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(s,l){const u=s.readVersion(),g=s.readFormatInformation().getErrorCorrectionLevel(),x=s.readCodewords(),y=Hl.getDataBlocks(x,u,g);let E=0;for(const L of y)E+=L.getNumDataCodewords();const N=new Uint8Array(E);let j=0;for(const L of y){const z=L.getCodewords(),V=L.getNumDataCodewords();this.correctErrors(z,V);for(let G=0;G<V;G++)N[j++]=z[G]}return pr.decode(N,u,g,l)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let g=0;g<l;g++)s[g]=u[g]}}class Js extends Ve{constructor(s,l,u){super(s,l),this.estimatedModuleSize=u}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const g=Math.abs(s-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const g=(this.getX()+l)/2,x=(this.getY()+s)/2,y=(this.estimatedModuleSize+u)/2;return new Js(g,x,y)}}class ji{constructor(s,l,u,g,x,y,E){this.image=s,this.startX=l,this.startY=u,this.width=g,this.height=x,this.moduleSize=y,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,u=this.width,g=s+u,x=this.startY+l/2,y=new Int32Array(3),E=this.image;for(let N=0;N<l;N++){const j=x+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));y[0]=0,y[1]=0,y[2]=0;let L=s;for(;L<g&&!E.get(L,j);)L++;let z=0;for(;L<g;){if(E.get(L,j))if(z===1)y[1]++;else if(z===2){if(this.foundPatternCross(y)){const V=this.handlePossibleCenter(y,j,L);if(V!==null)return V}y[0]=y[2],y[1]=1,y[2]=0,z=1}else y[++z]++;else z===1&&z++,y[z]++;L++}if(this.foundPatternCross(y)){const V=this.handlePossibleCenter(y,j,g);if(V!==null)return V}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,u=l/2;for(let g=0;g<3;g++)if(Math.abs(l-s[g])>=u)return!1;return!0}crossCheckVertical(s,l,u,g){const x=this.image,y=x.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let N=s;for(;N>=0&&x.get(l,N)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&!x.get(l,N)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<y&&x.get(l,N)&&E[1]<=u;)E[1]++,N++;if(N===y||E[1]>u)return NaN;for(;N<y&&!x.get(l,N)&&E[2]<=u;)E[2]++,N++;if(E[2]>u)return NaN;const j=E[0]+E[1]+E[2];return 5*Math.abs(j-g)>=2*g?NaN:this.foundPatternCross(E)?ji.centerFromEnd(E,N):NaN}handlePossibleCenter(s,l,u){const g=s[0]+s[1]+s[2],x=ji.centerFromEnd(s,u),y=this.crossCheckVertical(l,x,2*s[1],g);if(!isNaN(y)){const E=(s[0]+s[1]+s[2])/3;for(const j of this.possibleCenters)if(j.aboutEquals(E,y,x))return j.combineEstimate(y,x,E);const N=new Js(x,y,E);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class Gi extends Ve{constructor(s,l,u,g){super(s,l),this.estimatedModuleSize=u,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const g=Math.abs(s-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const g=this.count+1,x=(this.count*this.getX()+l)/g,y=(this.count*this.getY()+s)/g,E=(this.count*this.estimatedModuleSize+u)/g;return new Gi(x,y,E,g)}}class Ba{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nr{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get($.TRY_HARDER)!==void 0,u=s!=null&&s.get($.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),y=g.getWidth();let E=Math.floor(3*x/(4*Nr.MAX_MODULES));(E<Nr.MIN_SKIP||l)&&(E=Nr.MIN_SKIP);let N=!1;const j=new Int32Array(5);for(let z=E-1;z<x&&!N;z+=E){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;let V=0;for(let G=0;G<y;G++)if(g.get(G,z))(V&1)===1&&V++,j[V]++;else if((V&1)===0)if(V===4)if(Nr.foundPatternCross(j)){if(this.handlePossibleCenter(j,z,G,u)===!0)if(E=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const ne=this.findRowSkip();ne>j[2]&&(z+=ne-j[2]-E,G=y-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,V=3;continue}V=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,V=3;else j[++V]++;else j[V]++;Nr.foundPatternCross(j)&&this.handlePossibleCenter(j,z,y,u)===!0&&(E=j[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const L=this.selectBestPatterns();return Ve.orderBestPatterns(L),new Ba(L)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let x=0;x<5;x++){const y=s[x];if(y===0)return!1;l+=y}if(l<7)return!1;const u=l/7,g=u/2;return Math.abs(u-s[0])<g&&Math.abs(u-s[1])<g&&Math.abs(3*u-s[2])<3*g&&Math.abs(u-s[3])<g&&Math.abs(u-s[4])<g}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,u,g){const x=this.getCrossCheckStateCount();let y=0;const E=this.image;for(;s>=y&&l>=y&&E.get(l-y,s-y);)x[2]++,y++;if(s<y||l<y)return!1;for(;s>=y&&l>=y&&!E.get(l-y,s-y)&&x[1]<=u;)x[1]++,y++;if(s<y||l<y||x[1]>u)return!1;for(;s>=y&&l>=y&&E.get(l-y,s-y)&&x[0]<=u;)x[0]++,y++;if(x[0]>u)return!1;const N=E.getHeight(),j=E.getWidth();for(y=1;s+y<N&&l+y<j&&E.get(l+y,s+y);)x[2]++,y++;if(s+y>=N||l+y>=j)return!1;for(;s+y<N&&l+y<j&&!E.get(l+y,s+y)&&x[3]<u;)x[3]++,y++;if(s+y>=N||l+y>=j||x[3]>=u)return!1;for(;s+y<N&&l+y<j&&E.get(l+y,s+y)&&x[4]<u;)x[4]++,y++;if(x[4]>=u)return!1;const L=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(L-g)<2*g&&Nr.foundPatternCross(x)}crossCheckVertical(s,l,u,g){const x=this.image,y=x.getHeight(),E=this.getCrossCheckStateCount();let N=s;for(;N>=0&&x.get(l,N);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(l,N)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&x.get(l,N)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<y&&x.get(l,N);)E[2]++,N++;if(N===y)return NaN;for(;N<y&&!x.get(l,N)&&E[3]<u;)E[3]++,N++;if(N===y||E[3]>=u)return NaN;for(;N<y&&x.get(l,N)&&E[4]<u;)E[4]++,N++;if(E[4]>=u)return NaN;const j=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(j-g)>=2*g?NaN:Nr.foundPatternCross(E)?Nr.centerFromEnd(E,N):NaN}crossCheckHorizontal(s,l,u,g){const x=this.image,y=x.getWidth(),E=this.getCrossCheckStateCount();let N=s;for(;N>=0&&x.get(N,l);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!x.get(N,l)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&x.get(N,l)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<y&&x.get(N,l);)E[2]++,N++;if(N===y)return NaN;for(;N<y&&!x.get(N,l)&&E[3]<u;)E[3]++,N++;if(N===y||E[3]>=u)return NaN;for(;N<y&&x.get(N,l)&&E[4]<u;)E[4]++,N++;if(E[4]>=u)return NaN;const j=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(j-g)>=g?NaN:Nr.foundPatternCross(E)?Nr.centerFromEnd(E,N):NaN}handlePossibleCenter(s,l,u,g){const x=s[0]+s[1]+s[2]+s[3]+s[4];let y=Nr.centerFromEnd(s,u),E=this.crossCheckVertical(l,Math.floor(y),s[2],x);if(!isNaN(E)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(E),s[2],x),!isNaN(y)&&(!g||this.crossCheckDiagonal(Math.floor(E),Math.floor(y),s[2],x)))){const N=x/7;let j=!1;const L=this.possibleCenters;for(let z=0,V=L.length;z<V;z++){const G=L[z];if(G.aboutEquals(N,E,y)){L[z]=G.combineEstimate(E,y,N),j=!0;break}}if(!j){const z=new Gi(y,E,N);L.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=Nr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Nr.CENTER_QUORUM&&(s++,l+=y.getEstimatedModuleSize());if(s<3)return!1;const g=l/u;let x=0;for(const y of this.possibleCenters)x+=Math.abs(y.getEstimatedModuleSize()-g);return x<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new te;const l=this.possibleCenters;let u;if(s>3){let g=0,x=0;for(const N of this.possibleCenters){const j=N.getEstimatedModuleSize();g+=j,x+=j*j}u=g/s;let y=Math.sqrt(x/s-u*u);l.sort((N,j)=>{const L=Math.abs(j.getEstimatedModuleSize()-u),z=Math.abs(N.getEstimatedModuleSize()-u);return L<z?-1:L>z?1:0});const E=Math.max(.2*u,y);for(let N=0;N<l.length&&l.length>3;N++){const j=l[N];Math.abs(j.getEstimatedModuleSize()-u)>E&&(l.splice(N,1),N--)}}if(l.length>3){let g=0;for(const x of l)g+=x.getEstimatedModuleSize();u=g/l.length,l.sort((x,y)=>{if(y.getCount()===x.getCount()){const E=Math.abs(y.getEstimatedModuleSize()-u),N=Math.abs(x.getEstimatedModuleSize()-u);return E<N?1:E>N?-1:0}else return y.getCount()-x.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Nr.CENTER_QUORUM=2,Nr.MIN_SKIP=3,Nr.MAX_MODULES=57;class xa{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get($.NEED_RESULT_POINT_CALLBACK);const u=new Nr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const l=s.getTopLeft(),u=s.getTopRight(),g=s.getBottomLeft(),x=this.calculateModuleSize(l,u,g);if(x<1)throw new te("No pattern found in proccess finder.");const y=xa.computeDimension(l,u,g,x),E=ut.getProvisionalVersionForDimension(y),N=E.getDimensionForVersion()-7;let j=null;if(E.getAlignmentPatternCenters().length>0){const G=u.getX()-l.getX()+g.getX(),ee=u.getY()-l.getY()+g.getY(),ne=1-3/N,ce=Math.floor(l.getX()+ne*(G-l.getX())),be=Math.floor(l.getY()+ne*(ee-l.getY()));for(let Me=4;Me<=16;Me<<=1)try{j=this.findAlignmentInRegion(x,ce,be,Me);break}catch(Le){if(!(Le instanceof te))throw Le}}const L=xa.createTransform(l,u,g,j,y),z=xa.sampleGrid(this.image,L,y);let V;return j===null?V=[g,l,u]:V=[g,l,u,j],new ma(z,V)}static createTransform(s,l,u,g,x){const y=x-3.5;let E,N,j,L;return g!==null?(E=g.getX(),N=g.getY(),j=y-3,L=j):(E=l.getX()-s.getX()+u.getX(),N=l.getY()-s.getY()+u.getY(),j=y,L=y),Dn.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,j,L,3.5,y,s.getX(),s.getY(),l.getX(),l.getY(),E,N,u.getX(),u.getY())}static sampleGrid(s,l,u){return Kn.getInstance().sampleGridWithTransform(s,u,u,l)}static computeDimension(s,l,u,g){const x=wt.round(Ve.distance(s,l)/g),y=wt.round(Ve.distance(s,u)/g);let E=Math.floor((x+y)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new te("Dimensions could be not found.")}return E}calculateModuleSize(s,l,u){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?g/7:isNaN(g)?u/7:(u+g)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,u,g){let x=this.sizeOfBlackWhiteBlackRun(s,l,u,g),y=1,E=s-(u-s);E<0?(y=s/(s-E),E=0):E>=this.image.getWidth()&&(y=(this.image.getWidth()-1-s)/(E-s),E=this.image.getWidth()-1);let N=Math.floor(l-(g-l)*y);return y=1,N<0?(y=l/(l-N),N=0):N>=this.image.getHeight()&&(y=(this.image.getHeight()-1-l)/(N-l),N=this.image.getHeight()-1),E=Math.floor(s+(E-s)*y),x+=this.sizeOfBlackWhiteBlackRun(s,l,E,N),x-1}sizeOfBlackWhiteBlackRun(s,l,u,g){const x=Math.abs(g-l)>Math.abs(u-s);if(x){let G=s;s=l,l=G,G=u,u=g,g=G}const y=Math.abs(u-s),E=Math.abs(g-l);let N=-y/2;const j=s<u?1:-1,L=l<g?1:-1;let z=0;const V=u+j;for(let G=s,ee=l;G!==V;G+=j){const ne=x?ee:G,ce=x?G:ee;if(z===1===this.image.get(ne,ce)){if(z===2)return wt.distance(G,ee,s,l);z++}if(N+=E,N>0){if(ee===g)break;ee+=L,N-=y}}return z===2?wt.distance(u+j,g,s,l):NaN}findAlignmentInRegion(s,l,u,g){const x=Math.floor(g*s),y=Math.max(0,l-x),E=Math.min(this.image.getWidth()-1,l+x);if(E-y<s*3)throw new te("Alignment top exceeds estimated module size.");const N=Math.max(0,u-x),j=Math.min(this.image.getHeight()-1,u+x);if(j-N<s*3)throw new te("Alignment bottom exceeds estimated module size.");return new ji(this.image,y,N,E-y,j-N,s,this.resultPointCallback).find()}}class Mn{constructor(){this.decoder=new gu}getDecoder(){return this.decoder}decode(s,l){let u,g;if(l!=null&&l.get($.PURE_BARCODE)!==void 0){const N=Mn.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(N,l),g=Mn.NO_POINTS}else{const N=new xa(s.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(N.getBits(),l),g=N.getPoints()}u.getOther()instanceof mu&&u.getOther().applyMirroredCorrection(g);const x=new Be(u.getText(),u.getRawBytes(),void 0,g,X.QR_CODE,void 0),y=u.getByteSegments();y!==null&&x.putMetadata(ze.BYTE_SEGMENTS,y);const E=u.getECLevel();return E!==null&&x.putMetadata(ze.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(x.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),x.putMetadata(ze.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),x}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l===null||u===null)throw new te;const g=this.moduleSize(l,s);let x=l[1],y=u[1],E=l[0],N=u[0];if(E>=N||x>=y)throw new te;if(y-x!==N-E&&(N=E+(y-x),N>=s.getWidth()))throw new te;const j=Math.round((N-E+1)/g),L=Math.round((y-x+1)/g);if(j<=0||L<=0)throw new te;if(L!==j)throw new te;const z=Math.floor(g/2);x+=z,E+=z;const V=E+Math.floor((j-1)*g)-N;if(V>0){if(V>z)throw new te;E-=V}const G=x+Math.floor((L-1)*g)-y;if(G>0){if(G>z)throw new te;x-=G}const ee=new Ce(j,L);for(let ne=0;ne<L;ne++){const ce=x+Math.floor(ne*g);for(let be=0;be<j;be++)s.get(E+Math.floor(be*g),ce)&&ee.set(be,ne)}return ee}static moduleSize(s,l){const u=l.getHeight(),g=l.getWidth();let x=s[0],y=s[1],E=!0,N=0;for(;x<g&&y<u;){if(E!==l.get(x,y)){if(++N===5)break;E=!E}x++,y++}if(x===g||y===u)throw new te;return(x-s[0])/7}}Mn.NO_POINTS=new Array;class yt{PDF417Common(){}static getBitCountSum(s){return wt.sum(s)}static toIntArray(s){if(s==null||!s.length)return yt.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let u=0;for(const g of s)l[u++]=g;return l}static getCodeword(s){const l=M.binarySearch(yt.SYMBOL_TABLE,s&262143);return l<0?-1:(yt.CODEWORD_TABLE[l]-1)%yt.NUMBER_OF_CODEWORDS}}yt.NUMBER_OF_CODEWORDS=929,yt.MAX_CODEWORDS_IN_BARCODE=yt.NUMBER_OF_CODEWORDS-1,yt.MIN_ROWS_IN_BARCODE=3,yt.MAX_ROWS_IN_BARCODE=90,yt.MODULES_IN_CODEWORD=17,yt.MODULES_IN_STOP_PATTERN=18,yt.BARS_IN_MODULE=8,yt.EMPTY_INT_ARRAY=new Int32Array([]),yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Af{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class At{static detectMultiple(s,l,u){let g=s.getBlackMatrix(),x=At.detect(u,g);return x.length||(g=g.clone(),g.rotate180(),x=At.detect(u,g)),new Af(g,x)}static detect(s,l){const u=new Array;let g=0,x=0,y=!1;for(;g<l.getHeight();){const E=At.findVertices(l,g,x);if(E[0]==null&&E[3]==null){if(!y)break;y=!1,x=0;for(const N of u)N[1]!=null&&(g=Math.trunc(Math.max(g,N[1].getY()))),N[3]!=null&&(g=Math.max(g,Math.trunc(N[3].getY())));g+=At.ROW_STEP;continue}if(y=!0,u.push(E),!s)break;E[2]!=null?(x=Math.trunc(E[2].getX()),g=Math.trunc(E[2].getY())):(x=Math.trunc(E[4].getX()),g=Math.trunc(E[4].getY()))}return u}static findVertices(s,l,u){const g=s.getHeight(),x=s.getWidth(),y=new Array(8);return At.copyToResult(y,At.findRowsWithPattern(s,g,x,l,u,At.START_PATTERN),At.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),l=Math.trunc(y[4].getY())),At.copyToResult(y,At.findRowsWithPattern(s,g,x,l,u,At.STOP_PATTERN),At.INDEXES_STOP_PATTERN),y}static copyToResult(s,l,u){for(let g=0;g<u.length;g++)s[u[g]]=l[g]}static findRowsWithPattern(s,l,u,g,x,y){const E=new Array(4);let N=!1;const j=new Int32Array(y.length);for(;g<l;g+=At.ROW_STEP){let z=At.findGuardPattern(s,x,g,u,!1,y,j);if(z!=null){for(;g>0;){const V=At.findGuardPattern(s,x,--g,u,!1,y,j);if(V!=null)z=V;else{g++;break}}E[0]=new Ve(z[0],g),E[1]=new Ve(z[1],g),N=!0;break}}let L=g+1;if(N){let z=0,V=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;L<l;L++){const G=At.findGuardPattern(s,V[0],L,u,!1,y,j);if(G!=null&&Math.abs(V[0]-G[0])<At.MAX_PATTERN_DRIFT&&Math.abs(V[1]-G[1])<At.MAX_PATTERN_DRIFT)V=G,z=0;else{if(z>At.SKIPPED_ROW_COUNT_MAX)break;z++}}L-=z+1,E[2]=new Ve(V[0],L),E[3]=new Ve(V[1],L)}return L-g<At.BARCODE_MIN_HEIGHT&&M.fill(E,null),E}static findGuardPattern(s,l,u,g,x,y,E){M.fillWithin(E,0,E.length,0);let N=l,j=0;for(;s.get(N,u)&&N>0&&j++<At.MAX_PIXEL_DRIFT;)N--;let L=N,z=0,V=y.length;for(let G=x;L<g;L++)if(s.get(L,u)!==G)E[z]++;else{if(z===V-1){if(At.patternMatchVariance(E,y,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return new Int32Array([N,L]);N+=E[0]+E[1],I.arraycopy(E,2,E,0,z-1),E[z-1]=0,E[z]=0,z--}else z++;E[z]=1,G=!G}return z===V-1&&At.patternMatchVariance(E,y,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE?new Int32Array([N,L-1]):null}static patternMatchVariance(s,l,u){let g=s.length,x=0,y=0;for(let j=0;j<g;j++)x+=s[j],y+=l[j];if(x<y)return 1/0;let E=x/y;u*=E;let N=0;for(let j=0;j<g;j++){let L=s[j],z=l[j]*E,V=L>z?L-z:z-L;if(V>u)return 1/0;N+=V}return N/x}}At.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),At.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),At.MAX_AVG_VARIANCE=.42,At.MAX_INDIVIDUAL_VARIANCE=.8,At.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),At.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),At.MAX_PIXEL_DRIFT=3,At.MAX_PATTERN_DRIFT=5,At.SKIPPED_ROW_COUNT_MAX=25,At.ROW_STEP=5,At.BARCODE_MIN_HEIGHT=10;class hn{constructor(s,l){if(l.length===0)throw new b;this.field=s;let u=l.length;if(u>1&&l[0]===0){let g=1;for(;g<u&&l[g]===0;)g++;g===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-g),I.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let l=this.coefficients[0],u=this.coefficients.length;for(let g=1;g<u;g++)l=this.field.add(this.field.multiply(s,l),this.coefficients[g]);return l}add(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){let y=l;l=u,u=y}let g=new Int32Array(u.length),x=u.length-l.length;I.arraycopy(u,0,g,0,x);for(let y=x;y<u.length;y++)g[y]=this.field.add(l[y-x],u[y]);return new hn(this.field,g)}subtract(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof hn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new hn(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,g=s.coefficients,x=g.length,y=new Int32Array(u+x-1);for(let E=0;E<u;E++){let N=l[E];for(let j=0;j<x;j++)y[E+j]=this.field.add(y[E+j],this.field.multiply(N,g[j]))}return new hn(this.field,y)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new hn(this.field,l)}multiplyScalar(s){if(s===0)return new hn(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let g=0;g<l;g++)u[g]=this.field.multiply(this.coefficients[g],s);return new hn(this.field,u)}multiplyByMonomial(s,l){if(s<0)throw new b;if(l===0)return new hn(this.field,new Int32Array([0]));let u=this.coefficients.length,g=new Int32Array(u+s);for(let x=0;x<u;x++)g[x]=this.field.multiply(this.coefficients[x],l);return new hn(this.field,g)}toString(){let s=new Ae;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(l===0||u!==1)&&s.append(u),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class Cf{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new b;return this.logTable[s]}inverse(s){if(s===0)throw new we;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class eo extends Cf{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let g=0;g<s;g++)this.expTable[g]=u,u=u*l%s;for(let g=0;g<s-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new hn(this,new Int32Array([0])),this.one=new hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new b;if(l===0)return this.zero;let u=new Int32Array(s+1);return u[0]=l,new hn(this,u)}}eo.PDF417_GF=new eo(yt.NUMBER_OF_CODEWORDS,3);class xu{constructor(){this.field=eo.PDF417_GF}decode(s,l,u){let g=new hn(this.field,s),x=new Int32Array(l),y=!1;for(let ee=l;ee>0;ee--){let ne=g.evaluateAt(this.field.exp(ee));x[l-ee]=ne,ne!==0&&(y=!0)}if(!y)return 0;let E=this.field.getOne();if(u!=null)for(const ee of u){let ne=this.field.exp(s.length-1-ee),ce=new hn(this.field,new Int32Array([this.field.subtract(0,ne),1]));E=E.multiply(ce)}let N=new hn(this.field,x),j=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),N,l),L=j[0],z=j[1],V=this.findErrorLocations(L),G=this.findErrorMagnitudes(z,L,V);for(let ee=0;ee<V.length;ee++){let ne=s.length-1-this.field.log(V[ee]);if(ne<0)throw C.getChecksumInstance();s[ne]=this.field.subtract(s[ne],G[ee])}return V.length}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){let V=s;s=l,l=V}let g=s,x=l,y=this.field.getZero(),E=this.field.getOne();for(;x.getDegree()>=Math.round(u/2);){let V=g,G=y;if(g=x,y=E,g.isZero())throw C.getChecksumInstance();x=V;let ee=this.field.getZero(),ne=g.getCoefficient(g.getDegree()),ce=this.field.inverse(ne);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let be=x.getDegree()-g.getDegree(),Me=this.field.multiply(x.getCoefficient(x.getDegree()),ce);ee=ee.add(this.field.buildMonomial(be,Me)),x=x.subtract(g.multiplyByMonomial(be,Me))}E=ee.multiply(y).subtract(G).negative()}let N=E.getCoefficient(0);if(N===0)throw C.getChecksumInstance();let j=this.field.inverse(N),L=E.multiply(j),z=x.multiply(j);return[L,z]}findErrorLocations(s){let l=s.getDegree(),u=new Int32Array(l),g=0;for(let x=1;x<this.field.getSize()&&g<l;x++)s.evaluateAt(x)===0&&(u[g]=this.field.inverse(x),g++);if(g!==l)throw C.getChecksumInstance();return u}findErrorMagnitudes(s,l,u){let g=l.getDegree(),x=new Int32Array(g);for(let j=1;j<=g;j++)x[g-j]=this.field.multiply(j,l.getCoefficient(j));let y=new hn(this.field,x),E=u.length,N=new Int32Array(E);for(let j=0;j<E;j++){let L=this.field.inverse(u[j]),z=this.field.subtract(0,s.evaluateAt(L)),V=this.field.inverse(y.evaluateAt(L));N[j]=this.field.multiply(z,V)}return N}}class cs{constructor(s,l,u,g,x){s instanceof cs?this.constructor_2(s):this.constructor_1(s,l,u,g,x)}constructor_1(s,l,u,g,x){const y=l==null||u==null,E=g==null||x==null;if(y&&E)throw new te;y?(l=new Ve(0,g.getY()),u=new Ve(0,x.getY())):E&&(g=new Ve(s.getWidth()-1,l.getY()),x=new Ve(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=l,this.bottomLeft=u,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(l.getY(),g.getY())),this.maxY=Math.trunc(Math.max(u.getY(),x.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new cs(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,u){let g=this.topLeft,x=this.bottomLeft,y=this.topRight,E=this.bottomRight;if(s>0){let N=u?this.topLeft:this.topRight,j=Math.trunc(N.getY()-s);j<0&&(j=0);let L=new Ve(N.getX(),j);u?g=L:y=L}if(l>0){let N=u?this.bottomLeft:this.bottomRight,j=Math.trunc(N.getY()+l);j>=this.image.getHeight()&&(j=this.image.getHeight()-1);let L=new Ve(N.getX(),j);u?x=L:E=L}return new cs(this.image,g,x,y,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Fo{constructor(s,l,u,g){this.columnCount=s,this.errorCorrectionLevel=g,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class va{constructor(){this.buffer=""}static form(s,l){let u=-1;function g(y,E,N,j,L,z){if(y==="%%")return"%";if(l[++u]===void 0)return;y=j?parseInt(j.substr(1)):void 0;let V=L?parseInt(L.substr(1)):void 0,G;switch(z){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(y);break;case"p":G=parseFloat(l[u]).toPrecision(y);break;case"e":G=parseFloat(l[u]).toExponential(y);break;case"x":G=parseInt(l[u]).toString(V||16);break;case"d":G=parseFloat(parseInt(l[u],V||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(V);let ee=parseInt(N),ne=N&&N[0]+""=="0"?"0":" ";for(;G.length<ee;)G=E!==void 0?G+ne:ne+G;return G}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(x,g)}format(s,...l){this.buffer+=va.form(s,l)}toString(){return this.buffer}}class Ki{constructor(s){this.boundingBox=new cs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let u=1;u<Ki.MAX_NEARBY_DISTANCE;u++){let g=this.imageRowToCodewordIndex(s)-u;if(g>=0&&(l=this.codewords[g],l!=null)||(g=this.imageRowToCodewordIndex(s)+u,g<this.codewords.length&&(l=this.codewords[g],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new va;let l=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return s.toString()}}Ki.MAX_NEARBY_DISTANCE=5;class Fa{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[u,g]of this.values.entries()){const x={getKey:()=>u,getValue:()=>g};x.getValue()>s?(s=x.getValue(),l=[],l.push(x.getKey())):x.getValue()===s&&l.push(x.getKey())}return yt.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class _f extends Ki{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let u=this.getBoundingBox(),g=this._isLeft?u.getTopLeft():u.getTopRight(),x=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.imageRowToCodewordIndex(Math.trunc(x.getY())),N=-1,j=1,L=0;for(let z=y;z<E;z++){if(l[z]==null)continue;let V=l[z],G=V.getRowNumber()-N;if(G===0)L++;else if(G===1)j=Math.max(j,L),L=1,N=V.getRowNumber();else if(G<0||V.getRowNumber()>=s.getRowCount()||G>z)l[z]=null;else{let ee;j>2?ee=(j-2)*G:ee=G;let ne=ee>=z;for(let ce=1;ce<=ee&&!ne;ce++)ne=l[z-ce]!=null;ne?l[z]=null:(N=V.getRowNumber(),L=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let g=u.getRowNumber();if(g>=l.length)continue;l[g]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),g=this._isLeft?l.getBottomLeft():l.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.getCodewords(),N=-1;for(let j=x;j<y;j++){if(E[j]==null)continue;let L=E[j];L.setRowNumberAsRowIndicatorColumn();let z=L.getRowNumber()-N;z===0||(z===1?N=L.getRowNumber():L.getRowNumber()>=s.getRowCount()?E[j]=null:N=L.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new Fa,u=new Fa,g=new Fa,x=new Fa;for(let E of s){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let N=E.getValue()%30,j=E.getRowNumber();switch(this._isLeft||(j+=2),j%3){case 0:u.setValue(N*3+1);break;case 1:x.setValue(N/3),g.setValue(N%3);break;case 2:l.setValue(N+1);break}}if(l.getValue().length===0||u.getValue().length===0||g.getValue().length===0||x.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+g.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+g.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;let y=new Fo(l.getValue()[0],u.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(s,y),y}removeIncorrectCodewords(s,l){for(let u=0;u<s.length;u++){let g=s[u];if(s[u]==null)continue;let x=g.getValue()%30,y=g.getRowNumber();if(y>l.getRowCount()){s[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:x*3+1!==l.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(x/3)!==l.getErrorCorrectionLevel()||x%3!==l.getRowCountLowerPart())&&(s[u]=null);break;case 2:x+1!==l.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class zo{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=yt.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let g=0;g<u.length;g++)u[g]!=null&&(u[g].hasValidRowNumber()||this.adjustRowNumbers(l,g,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&l[u]!=null&&s[u].getRowNumber()===l[u].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[u];x!=null&&(x.setRowNumber(s[u].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let g=l[u].getRowNumber(),x=0;for(let y=this.barcodeColumnCount+1;y>0&&x<this.ADJUST_ROW_NUMBER_SKIP;y--){let E=this.detectionResultColumns[y].getCodewords()[u];E!=null&&(x=zo.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let g=l[u].getRowNumber(),x=0;for(let y=1;y<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;y++){let E=this.detectionResultColumns[y].getCodewords()[u];E!=null&&(x=zo.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,u){if(!this.detectionResultColumns[s-1])return;let g=u[l],x=this.detectionResultColumns[s-1].getCodewords(),y=x;this.detectionResultColumns[s+1]!=null&&(y=this.detectionResultColumns[s+1].getCodewords());let E=new Array(14);E[2]=x[l],E[3]=y[l],l>0&&(E[0]=u[l-1],E[4]=x[l-1],E[5]=y[l-1]),l>1&&(E[8]=u[l-2],E[10]=x[l-2],E[11]=y[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=x[l+1],E[7]=y[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=x[l+2],E[13]=y[l+2]);for(let N of E)if(zo.adjustRowNumber(g,N))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new va;for(let u=0;u<s.getCodewords().length;u++){l.format("CW %3d:",u);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){l.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[u];if(x==null){l.format("    |   ");continue}l.format(" %3d|%3d",x.getRowNumber(),x.getValue())}l.format("%n")}return l.toString()}}class us{constructor(s,l,u,g){this.rowNumber=us.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==us.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}us.BARCODE_ROW_UNKNOWN=-1;class pn{static initialize(){for(let s=0;s<yt.SYMBOL_TABLE.length;s++){let l=yt.SYMBOL_TABLE[s],u=l&1;for(let g=0;g<yt.BARS_IN_MODULE;g++){let x=0;for(;(l&1)===u;)x+=1,l>>=1;u=l&1,pn.RATIOS_TABLE[s]||(pn.RATIOS_TABLE[s]=new Array(yt.BARS_IN_MODULE)),pn.RATIOS_TABLE[s][yt.BARS_IN_MODULE-g-1]=Math.fround(x/yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=pn.getDecodedCodewordValue(pn.sampleBitCounts(s));return l!==-1?l:pn.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=wt.sum(s),u=new Int32Array(yt.BARS_IN_MODULE),g=0,x=0;for(let y=0;y<yt.MODULES_IN_CODEWORD;y++){let E=l/(2*yt.MODULES_IN_CODEWORD)+y*l/yt.MODULES_IN_CODEWORD;x+s[g]<=E&&(x+=s[g],g++),u[g]++}return u}static getDecodedCodewordValue(s){let l=pn.getBitValue(s);return yt.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let u=0;u<s.length;u++)for(let g=0;g<s[u];g++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=wt.sum(s),u=new Array(yt.BARS_IN_MODULE);if(l>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(s[y]/l);let g=en.MAX_VALUE,x=-1;this.bSymbolTableReady||pn.initialize();for(let y=0;y<pn.RATIOS_TABLE.length;y++){let E=0,N=pn.RATIOS_TABLE[y];for(let j=0;j<yt.BARS_IN_MODULE;j++){let L=Math.fround(N[j]-u[j]);if(E+=Math.fround(L*L),E>=g)break}E<g&&(g=E,x=yt.SYMBOL_TABLE[y])}return x}}pn.bSymbolTableReady=!1,pn.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(F=>new Array(yt.BARS_IN_MODULE));class ql{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class vu{static parseLong(s,l=void 0){return parseInt(s,l)}}class ya extends p{}ya.kind="NullPointerException";class yu{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,u){if(s==null)throw new ya;if(l<0||l>s.length||u<0||l+u>s.length||l+u<0)throw new P;if(u===0)return;for(let g=0;g<u;g++)this.write(s[l+g])}flush(){}close(){}}class Gl extends p{}class Nf extends yu{constructor(s=32){if(super(),this.count=0,s<0)throw new b("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new Gl;u=R.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,u){if(l<0||l>s.length||u<0||l+u-s.length>0)throw new P;this.ensureCapacity(this.count+u),I.arraycopy(s,l,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Wt;(function(F){F[F.ALPHA=0]="ALPHA",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.PUNCT=3]="PUNCT",F[F.ALPHA_SHIFT=4]="ALPHA_SHIFT",F[F.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Wt||(Wt={}));function Uo(){if(typeof window<"u")return window.BigInt||null;if(typeof Ah<"u")return Ah.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let $o;function $r(F){if(typeof $o>"u"&&($o=Uo()),$o===null)throw new Error("BigInt is not supported!");return $o(F)}function to(){let F=[];F[0]=$r(1);let s=$r(900);F[1]=s;for(let l=2;l<16;l++)F[l]=F[l-1]*s;return F}class Ee{static decode(s,l){let u=new Ae(""),g=K.ISO8859_1;u.enableDecoding(g);let x=1,y=s[x++],E=new ql;for(;x<s[0];){switch(y){case Ee.TEXT_COMPACTION_MODE_LATCH:x=Ee.textCompaction(s,x,u);break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:x=Ee.byteCompaction(y,s,g,x,u);break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[x++]);break;case Ee.NUMERIC_COMPACTION_MODE_LATCH:x=Ee.numericCompaction(s,x,u);break;case Ee.ECI_CHARSET:K.getCharacterSetECIByValue(s[x++]);break;case Ee.ECI_GENERAL_PURPOSE:x+=2;break;case Ee.ECI_USER_DEFINED:x++;break;case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ee.decodeMacroBlock(s,x,E);break;case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:throw new H;default:x--,x=Ee.textCompaction(s,x,u);break}if(x<s.length)y=s[x++];else throw H.getFormatInstance()}if(u.length()===0)throw H.getFormatInstance();let N=new me(null,u.toString(),null,l);return N.setOther(E),N}static decodeMacroBlock(s,l,u){if(l+Ee.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw H.getFormatInstance();let g=new Int32Array(Ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ee.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)g[E]=s[l];u.setSegmentIndex(R.parseInt(Ee.decodeBase900toBase10(g,Ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Ae;l=Ee.textCompaction(s,l,x),u.setFileId(x.toString());let y=-1;for(s[l]===Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=l+1);l<s[0];)switch(s[l]){case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Ae;l=Ee.textCompaction(s,l+1,E),u.setFileName(E.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Ae;l=Ee.textCompaction(s,l+1,N),u.setSender(N.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let j=new Ae;l=Ee.textCompaction(s,l+1,j),u.setAddressee(j.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let L=new Ae;l=Ee.numericCompaction(s,l+1,L),u.setSegmentCount(R.parseInt(L.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new Ae;l=Ee.numericCompaction(s,l+1,z),u.setTimestamp(vu.parseLong(z.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let V=new Ae;l=Ee.numericCompaction(s,l+1,V),u.setChecksum(R.parseInt(V.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Ae;l=Ee.numericCompaction(s,l+1,G),u.setFileSize(vu.parseLong(G.toString()));break;default:throw H.getFormatInstance()}break;case Ee.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(y!==-1){let E=l-y;u.isLastSegment()&&E--,u.setOptionalData(M.copyOfRange(s,y,y+E))}return l}static textCompaction(s,l,u){let g=new Int32Array((s[0]-l)*2),x=new Int32Array((s[0]-l)*2),y=0,E=!1;for(;l<s[0]&&!E;){let N=s[l++];if(N<Ee.TEXT_COMPACTION_MODE_LATCH)g[y]=N/30,g[y+1]=N%30,y+=2;else switch(N){case Ee.TEXT_COMPACTION_MODE_LATCH:g[y++]=Ee.TEXT_COMPACTION_MODE_LATCH;break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[y]=Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=s[l++],x[y]=N,y++;break}}return Ee.decodeTextCompaction(g,x,y,u),l}static decodeTextCompaction(s,l,u,g){let x=Wt.ALPHA,y=Wt.ALPHA,E=0;for(;E<u;){let N=s[E],j="";switch(x){case Wt.ALPHA:if(N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case Ee.LL:x=Wt.LOWER;break;case Ee.ML:x=Wt.MIXED;break;case Ee.PS:y=x,x=Wt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break;case Wt.LOWER:if(N<26)j=String.fromCharCode(97+N);else switch(N){case 26:j=" ";break;case Ee.AS:y=x,x=Wt.ALPHA_SHIFT;break;case Ee.ML:x=Wt.MIXED;break;case Ee.PS:y=x,x=Wt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break;case Wt.MIXED:if(N<Ee.PL)j=Ee.MIXED_CHARS[N];else switch(N){case Ee.PL:x=Wt.PUNCT;break;case 26:j=" ";break;case Ee.LL:x=Wt.LOWER;break;case Ee.AL:x=Wt.ALPHA;break;case Ee.PS:y=x,x=Wt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break;case Wt.PUNCT:if(N<Ee.PAL)j=Ee.PUNCT_CHARS[N];else switch(N){case Ee.PAL:x=Wt.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break;case Wt.ALPHA_SHIFT:if(x=y,N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break;case Wt.PUNCT_SHIFT:if(x=y,N<Ee.PAL)j=Ee.PUNCT_CHARS[N];else switch(N){case Ee.PAL:x=Wt.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[E]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:x=Wt.ALPHA;break}break}j!==""&&g.append(j),E++}}static byteCompaction(s,l,u,g,x){let y=new Nf,E=0,N=0,j=!1;switch(s){case Ee.BYTE_COMPACTION_MODE_LATCH:let L=new Int32Array(6),z=l[g++];for(;g<l[0]&&!j;)switch(L[E++]=z,N=900*N+z,z=l[g++],z){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:g--,j=!0;break;default:if(E%5===0&&E>0){for(let V=0;V<6;++V)y.write(Number($r(N)>>$r(8*(5-V))));N=0,E=0}break}g===l[0]&&z<Ee.TEXT_COMPACTION_MODE_LATCH&&(L[E++]=z);for(let V=0;V<E;V++)y.write(L[V]);break;case Ee.BYTE_COMPACTION_MODE_LATCH_6:for(;g<l[0]&&!j;){let V=l[g++];if(V<Ee.TEXT_COMPACTION_MODE_LATCH)E++,N=900*N+V;else switch(V){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:g--,j=!0;break}if(E%5===0&&E>0){for(let G=0;G<6;++G)y.write(Number($r(N)>>$r(8*(5-G))));N=0,E=0}}break}return x.append(se.decode(y.toByteArray(),u)),g}static numericCompaction(s,l,u){let g=0,x=!1,y=new Int32Array(Ee.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!x;){let E=s[l++];if(l===s[0]&&(x=!0),E<Ee.TEXT_COMPACTION_MODE_LATCH)y[g]=E,g++;else switch(E){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:l--,x=!0;break}(g%Ee.MAX_NUMERIC_CODEWORDS===0||E===Ee.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(u.append(Ee.decodeBase900toBase10(y,g)),g=0)}return l}static decodeBase900toBase10(s,l){let u=$r(0);for(let x=0;x<l;x++)u+=Ee.EXP900[l-x-1]*$r(s[x]);let g=u.toString();if(g.charAt(0)!=="1")throw new H;return g.substring(1)}}Ee.TEXT_COMPACTION_MODE_LATCH=900,Ee.BYTE_COMPACTION_MODE_LATCH=901,Ee.NUMERIC_COMPACTION_MODE_LATCH=902,Ee.BYTE_COMPACTION_MODE_LATCH_6=924,Ee.ECI_USER_DEFINED=925,Ee.ECI_GENERAL_PURPOSE=926,Ee.ECI_CHARSET=927,Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ee.MACRO_PDF417_TERMINATOR=922,Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ee.MAX_NUMERIC_CODEWORDS=15,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ee.PL=25,Ee.LL=27,Ee.AS=27,Ee.ML=28,Ee.AL=28,Ee.PS=29,Ee.PAL=29,Ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ee.EXP900=Uo()?to():[],Ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Nt{constructor(){}static decode(s,l,u,g,x,y,E){let N=new cs(s,l,u,g,x),j=null,L=null,z;for(let ee=!0;;ee=!1){if(l!=null&&(j=Nt.getRowIndicatorColumn(s,N,l,!0,y,E)),g!=null&&(L=Nt.getRowIndicatorColumn(s,N,g,!1,y,E)),z=Nt.merge(j,L),z==null)throw te.getNotFoundInstance();let ne=z.getBoundingBox();if(ee&&ne!=null&&(ne.getMinY()<N.getMinY()||ne.getMaxY()>N.getMaxY()))N=ne;else break}z.setBoundingBox(N);let V=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,j),z.setDetectionResultColumn(V,L);let G=j!=null;for(let ee=1;ee<=V;ee++){let ne=G?ee:V-ee;if(z.getDetectionResultColumn(ne)!==void 0)continue;let ce;ne===0||ne===V?ce=new _f(N,ne===0):ce=new Ki(N),z.setDetectionResultColumn(ne,ce);let be=-1,Me=be;for(let Le=N.getMinY();Le<=N.getMaxY();Le++){if(be=Nt.getStartColumn(z,ne,Le,G),be<0||be>N.getMaxX()){if(Me===-1)continue;be=Me}let je=Nt.detectCodeword(s,N.getMinX(),N.getMaxX(),G,be,Le,y,E);je!=null&&(ce.setCodeword(Le,je),Me=be,y=Math.min(y,je.getWidth()),E=Math.max(E,je.getWidth()))}}return Nt.createDecoderResult(z)}static merge(s,l){if(s==null&&l==null)return null;let u=Nt.getBarcodeMetadata(s,l);if(u==null)return null;let g=cs.merge(Nt.adjustBoundingBox(s),Nt.adjustBoundingBox(l));return new zo(u,g)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let u=Nt.getMax(l),g=0;for(let E of l)if(g+=u-E,E>0)break;let x=s.getCodewords();for(let E=0;g>0&&x[E]==null;E++)g--;let y=0;for(let E=l.length-1;E>=0&&(y+=u-l[E],!(l[E]>0));E--);for(let E=x.length-1;y>0&&x[E]==null;E--)y--;return s.getBoundingBox().addMissingRows(g,y,s.isLeft())}static getMax(s){let l=-1;for(let u of s)l=Math.max(l,u);return l}static getBarcodeMetadata(s,l){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let g;return l==null||(g=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==g.getColumnCount()&&u.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&u.getRowCount()!==g.getRowCount()?null:u}static getRowIndicatorColumn(s,l,u,g,x,y){let E=new _f(l,g);for(let N=0;N<2;N++){let j=N===0?1:-1,L=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=l.getMaxY()&&z>=l.getMinY();z+=j){let V=Nt.detectCodeword(s,0,s.getWidth(),g,L,z,x,y);V!=null&&(E.setCodeword(z,V),g?L=V.getStartX():L=V.getEndX())}}return E}static adjustCodewordCount(s,l){let u=l[0][1],g=u.getValue(),x=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Nt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(g.length===0){if(x<1||x>yt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();u.setValue(x)}else g[0]!==x&&u.setValue(x)}static createDecoderResult(s){let l=Nt.createBarcodeMatrix(s);Nt.adjustCodewordCount(s,l);let u=new Array,g=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),x=[],y=new Array;for(let N=0;N<s.getBarcodeRowCount();N++)for(let j=0;j<s.getBarcodeColumnCount();j++){let L=l[N][j+1].getValue(),z=N*s.getBarcodeColumnCount()+j;L.length===0?u.push(z):L.length===1?g[z]=L[0]:(y.push(z),x.push(L))}let E=new Array(x.length);for(let N=0;N<E.length;N++)E[N]=x[N];return Nt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),g,yt.toIntArray(u),yt.toIntArray(y),E)}static createDecoderResultFromAmbiguousValues(s,l,u,g,x){let y=new Int32Array(g.length),E=100;for(;E-- >0;){for(let N=0;N<y.length;N++)l[g[N]]=x[N][y[N]];try{return Nt.decodeCodewords(l,s,u)}catch(N){if(!(N instanceof C))throw N}if(y.length===0)throw C.getChecksumInstance();for(let N=0;N<y.length;N++)if(y[N]<x[N].length-1){y[N]++;break}else if(y[N]=0,N===y.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let g=0;g<l.length;g++)for(let x=0;x<l[g].length;x++)l[g][x]=new Fa;let u=0;for(let g of s.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let y=x.getRowNumber();if(y>=0){if(y>=l.length)continue;l[y][u].setValue(x.getValue())}}}u++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,u,g){let x=g?1:-1,y=null;if(Nt.isValidBarcodeColumn(s,l-x)&&(y=s.getDetectionResultColumn(l-x).getCodeword(u)),y!=null)return g?y.getEndX():y.getStartX();if(y=s.getDetectionResultColumn(l).getCodewordNearby(u),y!=null)return g?y.getStartX():y.getEndX();if(Nt.isValidBarcodeColumn(s,l-x)&&(y=s.getDetectionResultColumn(l-x).getCodewordNearby(u)),y!=null)return g?y.getEndX():y.getStartX();let E=0;for(;Nt.isValidBarcodeColumn(s,l-x);){l-=x;for(let N of s.getDetectionResultColumn(l).getCodewords())if(N!=null)return(g?N.getEndX():N.getStartX())+x*E*(N.getEndX()-N.getStartX());E++}return g?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,u,g,x,y,E,N){x=Nt.adjustCodewordStartColumn(s,l,u,g,x,y);let j=Nt.getModuleBitCount(s,l,u,g,x,y);if(j==null)return null;let L,z=wt.sum(j);if(g)L=x+z;else{for(let ee=0;ee<j.length/2;ee++){let ne=j[ee];j[ee]=j[j.length-1-ee],j[j.length-1-ee]=ne}L=x,x=L-z}if(!Nt.checkCodewordSkew(z,E,N))return null;let V=pn.getDecodedValue(j),G=yt.getCodeword(V);return G===-1?null:new us(x,L,Nt.getCodewordBucketNumber(V),G)}static getModuleBitCount(s,l,u,g,x,y){let E=x,N=new Int32Array(8),j=0,L=g?1:-1,z=g;for(;(g?E<u:E>=l)&&j<N.length;)s.get(E,y)===z?(N[j]++,E+=L):(j++,z=!z);return j===N.length||E===(g?u:l)&&j===N.length-1?N:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,u,g,x,y){let E=x,N=g?-1:1;for(let j=0;j<2;j++){for(;(g?E>=l:E<u)&&g===s.get(E,y);){if(Math.abs(x-E)>Nt.CODEWORD_SKEW_SIZE)return x;E+=N}N=-N,g=!g}return E}static checkCodewordSkew(s,l,u){return l-Nt.CODEWORD_SKEW_SIZE<=s&&s<=u+Nt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,u){if(s.length===0)throw H.getFormatInstance();let g=1<<l+1,x=Nt.correctErrors(s,u,g);Nt.verifyCodewordCount(s,g);let y=Ee.decode(s,""+l);return y.setErrorsCorrected(x),y.setErasures(u.length),y}static correctErrors(s,l,u){if(l!=null&&l.length>u/2+Nt.MAX_ERRORS||u<0||u>Nt.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Nt.errorCorrection.decode(s,u,l)}static verifyCodewordCount(s,l){if(s.length<4)throw H.getFormatInstance();let u=s[0];if(u>s.length)throw H.getFormatInstance();if(u===0)if(l<s.length)s[0]=s.length-l;else throw H.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),u=0,g=l.length-1;for(;!((s&1)!==u&&(u=s&1,g--,g<0));)l[g]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Nt.getCodewordBucketNumber(Nt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new va;for(let u=0;u<s.length;u++){l.format("Row %2d: ",u);for(let g=0;g<s[u].length;g++){let x=s[u][g];x.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}l.format("%n")}return l.toString()}}Nt.CODEWORD_SKEW_SIZE=2,Nt.MAX_ERRORS=3,Nt.MAX_EC_CODEWORDS=512,Nt.errorCorrection=new xu;class mn{decode(s,l=null){let u=mn.decode(s,l,!1);if(u==null||u.length===0||u[0]==null)throw te.getNotFoundInstance();return u[0]}decodeMultiple(s,l=null){try{return mn.decode(s,l,!0)}catch(u){throw u instanceof H||u instanceof C?te.getNotFoundInstance():u}}static decode(s,l,u){const g=new Array,x=At.detectMultiple(s,l,u);for(const y of x.getPoints()){const E=Nt.decode(x.getBits(),y[4],y[5],y[6],y[7],mn.getMinCodewordWidth(y),mn.getMaxCodewordWidth(y)),N=new Be(E.getText(),E.getRawBytes(),void 0,y,X.PDF_417);N.putMetadata(ze.ERROR_CORRECTION_LEVEL,E.getECLevel());const j=E.getOther();j!=null&&N.putMetadata(ze.PDF417_EXTRA_METADATA,j),g.push(N)}return g.map(y=>y)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(mn.getMaxWidth(s[0],s[4]),mn.getMaxWidth(s[6],s[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(mn.getMaxWidth(s[1],s[5]),mn.getMaxWidth(s[7],s[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(mn.getMinWidth(s[0],s[4]),mn.getMinWidth(s[6],s[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(mn.getMinWidth(s[1],s[5]),mn.getMinWidth(s[7],s[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ro extends p{}ro.kind="ReaderException";class Kl{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!n(s)&&s.get($.TRY_HARDER)===!0,u=n(s)?null:s.get($.POSSIBLE_FORMATS),g=new Array;if(!n(u)){const x=u.some(y=>y===X.UPC_A||y===X.UPC_E||y===X.EAN_13||y===X.EAN_8||y===X.CODABAR||y===X.CODE_39||y===X.CODE_93||y===X.CODE_128||y===X.ITF||y===X.RSS_14||y===X.RSS_EXPANDED);x&&!l&&g.push(new Zs(s,this.verbose)),u.includes(X.QR_CODE)&&g.push(new Mn),u.includes(X.DATA_MATRIX)&&g.push(new Pi),u.includes(X.AZTEC)&&g.push(new mt),u.includes(X.PDF_417)&&g.push(new mn),x&&l&&g.push(new Zs(s,this.verbose))}g.length===0&&(l||g.push(new Zs(s,this.verbose)),g.push(new Mn),g.push(new Pi),g.push(new mt),g.push(new mn),l&&g.push(new Zs(s,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new ro("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(u){if(u instanceof ro)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Wo extends Ue{constructor(s=null,l=500){const u=new Kl;u.setHints(s),super(u,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Xl extends Ue{constructor(s=500){super(new mn,s)}}class Of extends Ue{constructor(s=500){super(new Mn,s)}}var bu;(function(F){F[F.ERROR_CORRECTION=0]="ERROR_CORRECTION",F[F.CHARACTER_SET=1]="CHARACTER_SET",F[F.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",F[F.MIN_SIZE=3]="MIN_SIZE",F[F.MAX_SIZE=4]="MAX_SIZE",F[F.MARGIN=5]="MARGIN",F[F.PDF417_COMPACT=6]="PDF417_COMPACT",F[F.PDF417_COMPACTION=7]="PDF417_COMPACTION",F[F.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",F[F.AZTEC_LAYERS=9]="AZTEC_LAYERS",F[F.QR_VERSION=10]="QR_VERSION"})(bu||(bu={}));var Xr=bu;class wu{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ge(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let u=l[l.length-1];const g=this.field;for(let x=l.length;x<=s;x++){const y=u.multiply(new ge(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));l.push(y),u=y}}return l[s]}encode(s,l){if(l===0)throw new b("No error correction bytes");const u=s.length-l;if(u<=0)throw new b("No data bytes provided");const g=this.buildGenerator(l),x=new Int32Array(u);I.arraycopy(s,0,x,0,u);let y=new ge(this.field,x);y=y.multiplyByMonomial(l,1);const N=y.divide(g)[1].getCoefficients(),j=l-N.length;for(let L=0;L<j;L++)s[u+L]=0;I.arraycopy(N,0,s,u+j,N.length)}}class mr{constructor(){}static applyMaskPenaltyRule1(s){return mr.applyMaskPenaltyRule1Internal(s,!0)+mr.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let y=0;y<x-1;y++){const E=u[y];for(let N=0;N<g-1;N++){const j=E[N];j===E[N+1]&&j===u[y+1][N]&&j===u[y+1][N+1]&&l++}}return mr.N2*l}static applyMaskPenaltyRule3(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let y=0;y<x;y++)for(let E=0;E<g;E++){const N=u[y];E+6<g&&N[E]===1&&N[E+1]===0&&N[E+2]===1&&N[E+3]===1&&N[E+4]===1&&N[E+5]===0&&N[E+6]===1&&(mr.isWhiteHorizontal(N,E-4,E)||mr.isWhiteHorizontal(N,E+7,E+11))&&l++,y+6<x&&u[y][E]===1&&u[y+1][E]===0&&u[y+2][E]===1&&u[y+3][E]===1&&u[y+4][E]===1&&u[y+5][E]===0&&u[y+6][E]===1&&(mr.isWhiteVertical(u,E,y-4,y)||mr.isWhiteVertical(u,E,y+7,y+11))&&l++}return l*mr.N3}static isWhiteHorizontal(s,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let g=l;g<u;g++)if(s[g]===1)return!1;return!0}static isWhiteVertical(s,l,u,g){u=Math.max(u,0),g=Math.min(g,s.length);for(let x=u;x<g;x++)if(s[x][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const u=s.getArray(),g=s.getWidth(),x=s.getHeight();for(let N=0;N<x;N++){const j=u[N];for(let L=0;L<g;L++)j[L]===1&&l++}const y=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-y)*10/y)*mr.N4}static getDataMaskBit(s,l,u){let g,x;switch(s){case 0:g=u+l&1;break;case 1:g=u&1;break;case 2:g=l%3;break;case 3:g=(u+l)%3;break;case 4:g=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:x=u*l,g=(x&1)+x%3;break;case 6:x=u*l,g=(x&1)+x%3&1;break;case 7:x=u*l,g=x%3+(u+l&1)&1;break;default:throw new b("Invalid mask pattern: "+s)}return g===0}static applyMaskPenaltyRule1Internal(s,l){let u=0;const g=l?s.getHeight():s.getWidth(),x=l?s.getWidth():s.getHeight(),y=s.getArray();for(let E=0;E<g;E++){let N=0,j=-1;for(let L=0;L<x;L++){const z=l?y[E][L]:y[L][E];z===j?N++:(N>=5&&(u+=mr.N1+(N-5)),N=1,j=z)}N>=5&&(u+=mr.N1+(N-5))}return u}}mr.N1=3,mr.N2=3,mr.N3=40,mr.N4=10;class Yl{constructor(s,l){this.width=s,this.height=l;const u=new Array(l);for(let g=0;g!==l;g++)u[g]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,u){this.bytes[l][s]=u}setBoolean(s,l,u){this.bytes[l][s]=u?1:0}clear(s){for(const l of this.bytes)M.fill(l,s)}equals(s){if(!(s instanceof Yl))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,g=this.height;u<g;++u){const x=this.bytes[u],y=l.bytes[u];for(let E=0,N=this.width;E<N;++E)if(x[E]!==y[E])return!1}return!0}toString(){const s=new Ae;for(let l=0,u=this.height;l<u;++l){const g=this.bytes[l];for(let x=0,y=this.width;x<y;++x)switch(g[x]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ds{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ae;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ds.NUM_MASK_PATTERNS}}ds.NUM_MASK_PATTERNS=8;class er extends p{}er.kind="WriterException";class pt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,u,g,x){pt.clearMatrix(x),pt.embedBasicPatterns(u,x),pt.embedTypeInfo(l,g,x),pt.maybeEmbedVersionInfo(u,x),pt.embedDataBits(s,g,x)}static embedBasicPatterns(s,l){pt.embedPositionDetectionPatternsAndSeparators(l),pt.embedDarkDotAtLeftBottomCorner(l),pt.maybeEmbedPositionAdjustmentPatterns(s,l),pt.embedTimingPatterns(l)}static embedTypeInfo(s,l,u){const g=new B;pt.makeTypeInfoBits(s,l,g);for(let x=0,y=g.getSize();x<y;++x){const E=g.get(g.getSize()-1-x),N=pt.TYPE_INFO_COORDINATES[x],j=N[0],L=N[1];if(u.setBoolean(j,L,E),x<8){const z=u.getWidth()-x-1;u.setBoolean(z,8,E)}else{const V=u.getHeight()-7+(x-8);u.setBoolean(8,V,E)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const u=new B;pt.makeVersionInfoBits(s,u);let g=17;for(let x=0;x<6;++x)for(let y=0;y<3;++y){const E=u.get(g);g--,l.setBoolean(x,l.getHeight()-11+y,E),l.setBoolean(l.getHeight()-11+y,x,E)}}static embedDataBits(s,l,u){let g=0,x=-1,y=u.getWidth()-1,E=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);E>=0&&E<u.getHeight();){for(let N=0;N<2;++N){const j=y-N;if(!pt.isEmpty(u.get(j,E)))continue;let L;g<s.getSize()?(L=s.get(g),++g):L=!1,l!==255&&mr.getDataMaskBit(l,j,E)&&(L=!L),u.setBoolean(j,E,L)}E+=x}x=-x,E+=x,y-=2}if(g!==s.getSize())throw new er("Not all bits consumed: "+g+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new b("0 polynomial");const u=pt.findMSBSet(l);for(s<<=u-1;pt.findMSBSet(s)>=u;)s^=l<<pt.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,l,u){if(!ds.isValidMaskPattern(l))throw new er("Invalid mask pattern");const g=s.getBits()<<3|l;u.appendBits(g,5);const x=pt.calculateBCHCode(g,pt.TYPE_INFO_POLY);u.appendBits(x,10);const y=new B;if(y.appendBits(pt.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new er("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const u=pt.calculateBCHCode(s.getVersionNumber(),pt.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new er("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const u=(l+1)%2;pt.isEmpty(s.get(l,6))&&s.setNumber(l,6,u),pt.isEmpty(s.get(6,l))&&s.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new er;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,u){for(let g=0;g<8;++g){if(!pt.isEmpty(u.get(s+g,l)))throw new er;u.setNumber(s+g,l,0)}}static embedVerticalSeparationPattern(s,l,u){for(let g=0;g<7;++g){if(!pt.isEmpty(u.get(s,l+g)))throw new er;u.setNumber(s,l+g,0)}}static embedPositionAdjustmentPattern(s,l,u){for(let g=0;g<5;++g){const x=pt.POSITION_ADJUSTMENT_PATTERN[g];for(let y=0;y<5;++y)u.setNumber(s+y,l+g,x[y])}}static embedPositionDetectionPattern(s,l,u){for(let g=0;g<7;++g){const x=pt.POSITION_DETECTION_PATTERN[g];for(let y=0;y<7;++y)u.setNumber(s+y,l+g,x[y])}}static embedPositionDetectionPatternsAndSeparators(s){const l=pt.POSITION_DETECTION_PATTERN[0].length;pt.embedPositionDetectionPattern(0,0,s),pt.embedPositionDetectionPattern(s.getWidth()-l,0,s),pt.embedPositionDetectionPattern(0,s.getWidth()-l,s);const u=8;pt.embedHorizontalSeparationPattern(0,u-1,s),pt.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),pt.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const g=7;pt.embedVerticalSeparationPattern(g,0,s),pt.embedVerticalSeparationPattern(s.getHeight()-g-1,0,s),pt.embedVerticalSeparationPattern(g,s.getHeight()-g,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,g=pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let x=0,y=g.length;x!==y;x++){const E=g[x];if(E>=0)for(let N=0;N!==y;N++){const j=g[N];j>=0&&pt.isEmpty(l.get(j,E))&&pt.embedPositionAdjustmentPattern(j-2,E-2,l)}}}}pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pt.VERSION_INFO_POLY=7973,pt.TYPE_INFO_POLY=1335,pt.TYPE_INFO_MASK_PATTERN=21522;class Lm{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ir{constructor(){}static calculateMaskPenalty(s){return mr.applyMaskPenaltyRule1(s)+mr.applyMaskPenaltyRule2(s)+mr.applyMaskPenaltyRule3(s)+mr.applyMaskPenaltyRule4(s)}static encode(s,l,u=null){let g=ir.DEFAULT_BYTE_MODE_ENCODING;const x=u!==null&&u.get(Xr.CHARACTER_SET)!==void 0;x&&(g=u.get(Xr.CHARACTER_SET).toString());const y=this.chooseMode(s,g),E=new B;if(y===ft.BYTE&&(x||ir.DEFAULT_BYTE_MODE_ENCODING!==g)){const Le=K.getCharacterSetECIByName(g);Le!==void 0&&this.appendECI(Le,E)}this.appendModeInfo(y,E);const N=new B;this.appendBytes(s,y,N,g);let j;if(u!==null&&u.get(Xr.QR_VERSION)!==void 0){const Le=Number.parseInt(u.get(Xr.QR_VERSION).toString(),10);j=ut.getVersionForNumber(Le);const je=this.calculateBitsNeeded(y,E,N,j);if(!this.willFit(je,j,l))throw new er("Data too big for requested version")}else j=this.recommendVersion(l,y,E,N);const L=new B;L.appendBitArray(E);const z=y===ft.BYTE?N.getSizeInBytes():s.length;this.appendLengthInfo(z,j,y,L),L.appendBitArray(N);const V=j.getECBlocksForLevel(l),G=j.getTotalCodewords()-V.getTotalECCodewords();this.terminateBits(G,L);const ee=this.interleaveWithECBytes(L,j.getTotalCodewords(),G,V.getNumBlocks()),ne=new ds;ne.setECLevel(l),ne.setMode(y),ne.setVersion(j);const ce=j.getDimensionForVersion(),be=new Yl(ce,ce),Me=this.chooseMaskPattern(ee,l,j,be);return ne.setMaskPattern(Me),pt.buildMatrix(ee,l,j,Me,be),ne.setMatrix(be),ne}static recommendVersion(s,l,u,g){const x=this.calculateBitsNeeded(l,u,g,ut.getVersionForNumber(1)),y=this.chooseVersion(x,s),E=this.calculateBitsNeeded(l,u,g,y);return this.chooseVersion(E,s)}static calculateBitsNeeded(s,l,u,g){return l.getSize()+s.getCharacterCountBits(g)+u.getSize()}static getAlphanumericCode(s){return s<ir.ALPHANUMERIC_TABLE.length?ir.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(K.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return ft.KANJI;let u=!1,g=!1;for(let x=0,y=s.length;x<y;++x){const E=s.charAt(x);if(ir.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)g=!0;else return ft.BYTE}return g?ft.ALPHANUMERIC:u?ft.NUMERIC:ft.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=se.encode(s,K.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let g=0;g<u;g+=2){const x=l[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(s,l,u,g){let x=Number.MAX_SAFE_INTEGER,y=-1;for(let E=0;E<ds.NUM_MASK_PATTERNS;E++){pt.buildMatrix(s,l,u,E,g);let N=this.calculateMaskPenalty(g);N<x&&(x=N,y=E)}return y}static chooseVersion(s,l){for(let u=1;u<=40;u++){const g=ut.getVersionForNumber(u);if(ir.willFit(s,g,l))return g}throw new er("Data too big")}static willFit(s,l,u){const g=l.getTotalCodewords(),y=l.getECBlocksForLevel(u).getTotalECCodewords(),E=g-y,N=(s+7)/8;return E>=N}static terminateBits(s,l){const u=s*8;if(l.getSize()>u)throw new er("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let y=0;y<4&&l.getSize()<u;++y)l.appendBit(!1);const g=l.getSize()&7;if(g>0)for(let y=g;y<8;y++)l.appendBit(!1);const x=s-l.getSizeInBytes();for(let y=0;y<x;++y)l.appendBits((y&1)===0?236:17,8);if(l.getSize()!==u)throw new er("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,u,g,x,y){if(g>=u)throw new er("Block ID too large");const E=s%u,N=u-E,j=Math.floor(s/u),L=j+1,z=Math.floor(l/u),V=z+1,G=j-z,ee=L-V;if(G!==ee)throw new er("EC bytes mismatch");if(u!==N+E)throw new er("RS blocks mismatch");if(s!==(z+G)*N+(V+ee)*E)throw new er("Total bytes mismatch");g<N?(x[0]=z,y[0]=G):(x[0]=V,y[0]=ee)}static interleaveWithECBytes(s,l,u,g){if(s.getSizeInBytes()!==u)throw new er("Number of bits and data bytes does not match");let x=0,y=0,E=0;const N=new Array;for(let L=0;L<g;++L){const z=new Int32Array(1),V=new Int32Array(1);ir.getNumDataBytesAndNumECBytesForBlockID(l,u,g,L,z,V);const G=z[0],ee=new Uint8Array(G);s.toBytes(8*x,ee,0,G);const ne=ir.generateECBytes(ee,V[0]);N.push(new Lm(ee,ne)),y=Math.max(y,G),E=Math.max(E,ne.length),x+=z[0]}if(u!==x)throw new er("Data bytes does not match offset");const j=new B;for(let L=0;L<y;++L)for(const z of N){const V=z.getDataBytes();L<V.length&&j.appendBits(V[L],8)}for(let L=0;L<E;++L)for(const z of N){const V=z.getErrorCorrectionBytes();L<V.length&&j.appendBits(V[L],8)}if(l!==j.getSizeInBytes())throw new er("Interleaving error: "+l+" and "+j.getSizeInBytes()+" differ.");return j}static generateECBytes(s,l){const u=s.length,g=new Int32Array(u+l);for(let y=0;y<u;y++)g[y]=s[y]&255;new wu(ke.QR_CODE_FIELD_256).encode(g,l);const x=new Uint8Array(l);for(let y=0;y<l;y++)x[y]=g[u+y];return x}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,u,g){const x=u.getCharacterCountBits(l);if(s>=1<<x)throw new er(s+" is bigger than "+((1<<x)-1));g.appendBits(s,x)}static appendBytes(s,l,u,g){switch(l){case ft.NUMERIC:ir.appendNumericBytes(s,u);break;case ft.ALPHANUMERIC:ir.appendAlphanumericBytes(s,u);break;case ft.BYTE:ir.append8BitBytes(s,u,g);break;case ft.KANJI:ir.appendKanjiBytes(s,u);break;default:throw new er("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=ir.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const u=s.length;let g=0;for(;g<u;){const x=ir.getDigit(s.charAt(g));if(g+2<u){const y=ir.getDigit(s.charAt(g+1)),E=ir.getDigit(s.charAt(g+2));l.appendBits(x*100+y*10+E,10),g+=3}else if(g+1<u){const y=ir.getDigit(s.charAt(g+1));l.appendBits(x*10+y,7),g+=2}else l.appendBits(x,4),g++}}static appendAlphanumericBytes(s,l){const u=s.length;let g=0;for(;g<u;){const x=ir.getAlphanumericCode(s.charCodeAt(g));if(x===-1)throw new er;if(g+1<u){const y=ir.getAlphanumericCode(s.charCodeAt(g+1));if(y===-1)throw new er;l.appendBits(x*45+y,11),g+=2}else l.appendBits(x,6),g++}}static append8BitBytes(s,l,u){let g;try{g=se.encode(s,u)}catch(x){throw new er(x)}for(let x=0,y=g.length;x!==y;x++){const E=g[x];l.appendBits(E,8)}}static appendKanjiBytes(s,l){let u;try{u=se.encode(s,K.SJIS)}catch(x){throw new er(x)}const g=u.length;for(let x=0;x<g;x+=2){const y=u[x]&255,E=u[x+1]&255,N=y<<8&4294967295|E;let j=-1;if(N>=33088&&N<=40956?j=N-33088:N>=57408&&N<=60351&&(j=N-49472),j===-1)throw new er("Invalid byte sequence");const L=(j>>8)*192+(j&255);l.appendBits(L,13)}}static appendECI(s,l){l.appendBits(ft.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ir.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class fs{write(s,l,u,g=null){if(s.length===0)throw new b("Found empty contents");if(l<0||u<0)throw new b("Requested dimensions are too small: "+l+"x"+u);let x=Zt.L,y=fs.QUIET_ZONE_SIZE;g!==null&&(g.get(Xr.ERROR_CORRECTION)!==void 0&&(x=Zt.fromString(g.get(Xr.ERROR_CORRECTION).toString())),g.get(Xr.MARGIN)!==void 0&&(y=Number.parseInt(g.get(Xr.MARGIN).toString(),10)));const E=ir.encode(s,x,g);return this.renderResult(E,l,u,y)}writeToDom(s,l,u,g,x=null){typeof s=="string"&&(s=document.querySelector(s));const y=this.write(l,u,g,x);s&&s.appendChild(y)}renderResult(s,l,u,g){const x=s.getMatrix();if(x===null)throw new it;const y=x.getWidth(),E=x.getHeight(),N=y+g*2,j=E+g*2,L=Math.max(l,N),z=Math.max(u,j),V=Math.min(Math.floor(L/N),Math.floor(z/j)),G=Math.floor((L-y*V)/2),ee=Math.floor((z-E*V)/2),ne=this.createSVGElement(L,z);for(let ce=0,be=ee;ce<E;ce++,be+=V)for(let Me=0,Le=G;Me<y;Me++,Le+=V)if(x.get(Me,ce)===1){const je=this.createSvgRectElement(Le,be,V,V);ne.appendChild(je)}return ne}createSVGElement(s,l){const u=document.createElementNS(fs.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(s,l,u,g){const x=document.createElementNS(fs.SVG_NS,"rect");return x.setAttributeNS(null,"x",s.toString()),x.setAttributeNS(null,"y",l.toString()),x.setAttributeNS(null,"height",u.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}fs.QUIET_ZONE_SIZE=4,fs.SVG_NS="http://www.w3.org/2000/svg";class no{encode(s,l,u,g,x){if(s.length===0)throw new b("Found empty contents");if(l!==X.QR_CODE)throw new b("Can only encode QR_CODE, but got "+l);if(u<0||g<0)throw new b(`Requested dimensions are too small: ${u}x${g}`);let y=Zt.L,E=no.QUIET_ZONE_SIZE;x!==null&&(x.get(Xr.ERROR_CORRECTION)!==void 0&&(y=Zt.fromString(x.get(Xr.ERROR_CORRECTION).toString())),x.get(Xr.MARGIN)!==void 0&&(E=Number.parseInt(x.get(Xr.MARGIN).toString(),10)));const N=ir.encode(s,y,x);return no.renderResult(N,u,g,E)}static renderResult(s,l,u,g){const x=s.getMatrix();if(x===null)throw new it;const y=x.getWidth(),E=x.getHeight(),N=y+g*2,j=E+g*2,L=Math.max(l,N),z=Math.max(u,j),V=Math.min(Math.floor(L/N),Math.floor(z/j)),G=Math.floor((L-y*V)/2),ee=Math.floor((z-E*V)/2),ne=new Ce(L,z);for(let ce=0,be=ee;ce<E;ce++,be+=V)for(let Me=0,Le=G;Me<y;Me++,Le+=V)x.get(Me,ce)===1&&ne.setRegion(Le,be,V,V);return ne}}no.QUIET_ZONE_SIZE=4;class Bm{encode(s,l,u,g,x){let y;switch(l){case X.QR_CODE:y=new no;break;default:throw new b("No encoder available for format "+l)}return y.encode(s,l,u,g,x)}}class Xi extends oe{constructor(s,l,u,g,x,y,E,N){if(super(y,E),this.yuvData=s,this.dataWidth=l,this.dataHeight=u,this.left=g,this.top=x,g+y>l||x+E>u)throw new b("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(y,E)}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const g=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,g,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=s*l,g=new Uint8ClampedArray(u);let x=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,x,g,0,u),g;for(let y=0;y<l;y++){const E=y*s;I.arraycopy(this.yuvData,x,g,E,s),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(s,l,u,g){return new Xi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,u,g,!1)}renderThumbnail(){const s=this.getWidth()/Xi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Xi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*l),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let y=0;y<l;y++){const E=y*s;for(let N=0;N<s;N++){const j=g[x+N*Xi.THUMBNAIL_SCALE_FACTOR]&255;u[E+N]=4278190080|j*65793}x+=this.dataWidth*Xi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Xi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Xi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const u=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<l;g++,x+=this.dataWidth){const y=x+s/2;for(let E=x,N=x+s-1;E<y;E++,N--){const j=u[E];u[E]=u[N],u[N]=j}}}invert(){return new ue(this)}}Xi.THUMBNAIL_SCALE_FACTOR=2;class Vo extends oe{constructor(s,l,u,g,x,y,E){if(super(l,u),this.dataWidth=g,this.dataHeight=x,this.left=y,this.top=E,s.BYTES_PER_ELEMENT===4){const N=l*u,j=new Uint8ClampedArray(N);for(let L=0;L<N;L++){const z=s[L],V=z>>16&255,G=z>>7&510,ee=z&255;j[L]=(V+G+ee)/4&255}this.luminances=j}else this.luminances=s;if(g===void 0&&(this.dataWidth=l),x===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new b("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const g=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,g,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=s*l,g=new Uint8ClampedArray(u);let x=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,x,g,0,u),g;for(let y=0;y<l;y++){const E=y*s;I.arraycopy(this.luminances,x,g,E,s),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(s,l,u,g){return new Vo(this.luminances,u,g,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new ue(this)}}class If extends K{static forName(s){return this.getCharacterSetECIByName(s)}}class Eu{}Eu.ISO_8859_1=K.ISO8859_1;class Pf{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Su{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Fm{constructor(s){this.previous=s}getPrevious(){return this.previous}}class io extends Fm{constructor(s,l,u){super(s),this.value=l,this.bitCount=u}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new io(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new io(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class Au extends io{constructor(s,l,u){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(s,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(s,l){return new Au(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zm(F,s,l){return new Au(F,s,l)}function Ho(F,s,l){return new io(F,s,l)}const Um=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],za=0,ao=1,Cn=2,jf=3,ki=4,kf=new io(null,0,0),Zl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Tf(F){for(let s of F)M.fill(s,-1);return F[za][ki]=0,F[ao][ki]=0,F[ao][za]=28,F[jf][ki]=0,F[Cn][ki]=0,F[Cn][za]=15,F}const Cu=Tf(M.createInt32Array(6,6));class Ln{constructor(s,l,u,g){this.token=s,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let u=this.bitCount,g=this.token;if(s!==this.mode){let y=Zl[this.mode][s];g=Ho(g,y&65535,y>>16),u+=y>>16}let x=s===Cn?4:5;return g=Ho(g,l,x),new Ln(g,s,0,u+x)}shiftAndAppend(s,l){let u=this.token,g=this.mode===Cn?4:5;return u=Ho(u,Cu[this.mode][s],g),u=Ho(u,l,5),new Ln(u,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(s){let l=this.token,u=this.mode,g=this.bitCount;if(this.mode===ki||this.mode===Cn){let E=Zl[u][za];l=Ho(l,E&65535,E>>16),g+=E>>16,u=za}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Ln(l,u,this.binaryShiftByteCount+1,g+x);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(s+1)),y}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=zm(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(Zl[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=Ln.calculateBinaryShiftCost(s)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let g=this.endBinaryShift(s.length).token;g!==null;g=g.getPrevious())l.unshift(g);let u=new B;for(const g of l)g.appendTo(u,s);return u}toString(){return ie.format("%s bits=%d bytes=%d",Um[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(kf,za,0,0);function $m(F){const s=ie.getCharCode(" "),l=ie.getCharCode("."),u=ie.getCharCode(",");F[za][s]=1;const g=ie.getCharCode("Z"),x=ie.getCharCode("A");for(let V=x;V<=g;V++)F[za][V]=V-x+2;F[ao][s]=1;const y=ie.getCharCode("z"),E=ie.getCharCode("a");for(let V=E;V<=y;V++)F[ao][V]=V-E+2;F[Cn][s]=1;const N=ie.getCharCode("9"),j=ie.getCharCode("0");for(let V=j;V<=N;V++)F[Cn][V]=V-j+2;F[Cn][u]=12,F[Cn][l]=13;const L=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let V=0;V<L.length;V++)F[jf][ie.getCharCode(L[V])]=V;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let V=0;V<z.length;V++)ie.getCharCode(z[V])>0&&(F[ki][ie.getCharCode(z[V])]=V);return F}const _u=$m(M.createInt32Array(5,256));class qo{constructor(s){this.text=s}encode(){const s=ie.getCharCode(" "),l=ie.getCharCode(`
`);let u=Su.singletonList(Ln.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let y,E=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case ie.getCharCode("\r"):y=E===l?2:0;break;case ie.getCharCode("."):y=E===s?3:0;break;case ie.getCharCode(","):y=E===s?4:0;break;case ie.getCharCode(":"):y=E===s?5:0;break;default:y=0}y>0?(u=qo.updateStateListForPair(u,x,y),x++):u=this.updateStateListForChar(u,x)}return Su.min(u,(x,y)=>x.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const u=[];for(let g of s)this.updateStateForChar(g,l,u);return qo.simplifyStates(u)}updateStateForChar(s,l,u){let g=this.text[l]&255,x=_u[s.getMode()][g]>0,y=null;for(let E=0;E<=ki;E++){let N=_u[E][g];if(N>0){if(y==null&&(y=s.endBinaryShift(l)),!x||E===s.getMode()||E===Cn){const j=y.latchAndAppend(E,N);u.push(j)}if(!x&&Cu[s.getMode()][E]>=0){const j=y.shiftAndAppend(E,N);u.push(j)}}}if(s.getBinaryShiftByteCount()>0||_u[s.getMode()][g]===0){let E=s.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(s,l,u){const g=[];for(let x of s)this.updateStateForPair(x,l,u,g);return this.simplifyStates(g)}static updateStateForPair(s,l,u,g){let x=s.endBinaryShift(l);if(g.push(x.latchAndAppend(ki,u)),s.getMode()!==ki&&g.push(x.shiftAndAppend(ki,u)),u===3||u===4){let y=x.latchAndAppend(Cn,16-u).latchAndAppend(Cn,1);g.push(y)}if(s.getBinaryShiftByteCount()>0){let y=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);g.push(y)}}static simplifyStates(s){let l=[];for(const u of s){let g=!0;for(const x of l){if(x.isBetterThanOrEqualTo(u)){g=!1;break}u.isBetterThanOrEqualTo(x)&&(l=l.filter(y=>y!==x))}g&&l.push(u)}return l}}class Lt{constructor(){}static encodeBytes(s){return Lt.encode(s,Lt.DEFAULT_EC_PERCENT,Lt.DEFAULT_AZTEC_LAYERS)}static encode(s,l,u){let g=new qo(s).encode(),x=R.truncDivision(g.getSize()*l,100)+11,y=g.getSize()+x,E,N,j,L,z;if(u!==Lt.DEFAULT_AZTEC_LAYERS){if(E=u<0,N=Math.abs(u),N>(E?Lt.MAX_NB_BITS_COMPACT:Lt.MAX_NB_BITS))throw new b(ie.format("Illegal value %s for layers",u));j=Lt.totalBitsInLayer(N,E),L=Lt.WORD_SIZE[N];let je=j-j%L;if(z=Lt.stuffBits(g,L),z.getSize()+x>je)throw new b("Data to large for user specified layer");if(E&&z.getSize()>L*64)throw new b("Data to large for user specified layer")}else{L=0,z=null;for(let je=0;;je++){if(je>Lt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(E=je<=3,N=E?je+1:je,j=Lt.totalBitsInLayer(N,E),y>j)continue;(z==null||L!==Lt.WORD_SIZE[N])&&(L=Lt.WORD_SIZE[N],z=Lt.stuffBits(g,L));let kt=j-j%L;if(!(E&&z.getSize()>L*64)&&z.getSize()+x<=kt)break}}let V=Lt.generateCheckWords(z,j,L),G=z.getSize()/L,ee=Lt.generateModeMessage(E,N,G),ne=(E?11:14)+N*4,ce=new Int32Array(ne),be;if(E){be=ne;for(let je=0;je<ce.length;je++)ce[je]=je}else{be=ne+1+2*R.truncDivision(R.truncDivision(ne,2)-1,15);let je=R.truncDivision(ne,2),kt=R.truncDivision(be,2);for(let Ct=0;Ct<je;Ct++){let Zn=Ct+R.truncDivision(Ct,15);ce[je-Ct-1]=kt-Zn-1,ce[je+Ct]=kt+Zn+1}}let Me=new Ce(be);for(let je=0,kt=0;je<N;je++){let Ct=(N-je)*4+(E?9:12);for(let Zn=0;Zn<Ct;Zn++){let Ti=Zn*2;for(let Yr=0;Yr<2;Yr++)V.get(kt+Ti+Yr)&&Me.set(ce[je*2+Yr],ce[je*2+Zn]),V.get(kt+Ct*2+Ti+Yr)&&Me.set(ce[je*2+Zn],ce[ne-1-je*2-Yr]),V.get(kt+Ct*4+Ti+Yr)&&Me.set(ce[ne-1-je*2-Yr],ce[ne-1-je*2-Zn]),V.get(kt+Ct*6+Ti+Yr)&&Me.set(ce[ne-1-je*2-Zn],ce[je*2+Yr])}kt+=Ct*8}if(Lt.drawModeMessage(Me,E,be,ee),E)Lt.drawBullsEye(Me,R.truncDivision(be,2),5);else{Lt.drawBullsEye(Me,R.truncDivision(be,2),7);for(let je=0,kt=0;je<R.truncDivision(ne,2)-1;je+=15,kt+=16)for(let Ct=R.truncDivision(be,2)&1;Ct<be;Ct+=2)Me.set(R.truncDivision(be,2)-kt,Ct),Me.set(R.truncDivision(be,2)+kt,Ct),Me.set(Ct,R.truncDivision(be,2)-kt),Me.set(Ct,R.truncDivision(be,2)+kt)}let Le=new Pf;return Le.setCompact(E),Le.setSize(be),Le.setLayers(N),Le.setCodeWords(G),Le.setMatrix(Me),Le}static drawBullsEye(s,l,u){for(let g=0;g<u;g+=2)for(let x=l-g;x<=l+g;x++)s.set(x,l-g),s.set(x,l+g),s.set(l-g,x),s.set(l+g,x);s.set(l-u,l-u),s.set(l-u+1,l-u),s.set(l-u,l-u+1),s.set(l+u,l-u),s.set(l+u,l-u+1),s.set(l+u,l+u-1)}static generateModeMessage(s,l,u){let g=new B;return s?(g.appendBits(l-1,2),g.appendBits(u-1,6),g=Lt.generateCheckWords(g,28,4)):(g.appendBits(l-1,5),g.appendBits(u-1,11),g=Lt.generateCheckWords(g,40,4)),g}static drawModeMessage(s,l,u,g){let x=R.truncDivision(u,2);if(l)for(let y=0;y<7;y++){let E=x-3+y;g.get(y)&&s.set(E,x-5),g.get(y+7)&&s.set(x+5,E),g.get(20-y)&&s.set(E,x+5),g.get(27-y)&&s.set(x-5,E)}else for(let y=0;y<10;y++){let E=x-5+y+R.truncDivision(y,5);g.get(y)&&s.set(E,x-7),g.get(y+10)&&s.set(x+7,E),g.get(29-y)&&s.set(E,x+7),g.get(39-y)&&s.set(x-7,E)}}static generateCheckWords(s,l,u){let g=s.getSize()/u,x=new wu(Lt.getGF(u)),y=R.truncDivision(l,u),E=Lt.bitsToWords(s,u,y);x.encode(E,y-g);let N=l%u,j=new B;j.appendBits(0,N);for(const L of Array.from(E))j.appendBits(L,u);return j}static bitsToWords(s,l,u){let g=new Int32Array(u),x,y;for(x=0,y=s.getSize()/l;x<y;x++){let E=0;for(let N=0;N<l;N++)E|=s.get(x*l+N)?1<<l-N-1:0;g[x]=E}return g}static getGF(s){switch(s){case 4:return ke.AZTEC_PARAM;case 6:return ke.AZTEC_DATA_6;case 8:return ke.AZTEC_DATA_8;case 10:return ke.AZTEC_DATA_10;case 12:return ke.AZTEC_DATA_12;default:throw new b("Unsupported word size "+s)}}static stuffBits(s,l){let u=new B,g=s.getSize(),x=(1<<l)-2;for(let y=0;y<g;y+=l){let E=0;for(let N=0;N<l;N++)(y+N>=g||s.get(y+N))&&(E|=1<<l-1-N);(E&x)===x?(u.appendBits(E&x,l),y--):(E&x)===0?(u.appendBits(E|1,l),y--):u.appendBits(E,l)}return u}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Lt.DEFAULT_EC_PERCENT=33,Lt.DEFAULT_AZTEC_LAYERS=0,Lt.MAX_NB_BITS=32,Lt.MAX_NB_BITS_COMPACT=4,Lt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Go{encode(s,l,u,g){return this.encodeWithHints(s,l,u,g,null)}encodeWithHints(s,l,u,g,x){let y=Eu.ISO_8859_1,E=Lt.DEFAULT_EC_PERCENT,N=Lt.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Xr.CHARACTER_SET)&&(y=If.forName(x.get(Xr.CHARACTER_SET).toString())),x.has(Xr.ERROR_CORRECTION)&&(E=R.parseInt(x.get(Xr.ERROR_CORRECTION).toString())),x.has(Xr.AZTEC_LAYERS)&&(N=R.parseInt(x.get(Xr.AZTEC_LAYERS).toString()))),Go.encodeLayers(s,l,u,g,y,E,N)}static encodeLayers(s,l,u,g,x,y,E){if(l!==X.AZTEC)throw new b("Can only encode AZTEC, but got "+l);let N=Lt.encode(ie.getBytes(s,x),y,E);return Go.renderResult(N,u,g)}static renderResult(s,l,u){let g=s.getMatrix();if(g==null)throw new it;let x=g.getWidth(),y=g.getHeight(),E=Math.max(l,x),N=Math.max(u,y),j=Math.min(E/x,N/y),L=(E-x*j)/2,z=(N-y*j)/2,V=new Ce(E,N);for(let G=0,ee=z;G<y;G++,ee+=j)for(let ne=0,ce=L;ne<x;ne++,ce+=j)g.get(ne,G)&&V.setRegion(ce,ee,j,j);return V}}r.AbstractExpandedDecoder=Ne,r.ArgumentException=v,r.ArithmeticException=we,r.AztecCode=Pf,r.AztecCodeReader=mt,r.AztecCodeWriter=Go,r.AztecDecoder=_t,r.AztecDetector=Qe,r.AztecDetectorResult=Ys,r.AztecEncoder=Lt,r.AztecHighLevelEncoder=qo,r.AztecPoint=ye,r.BarcodeFormat=X,r.Binarizer=O,r.BinaryBitmap=S,r.BitArray=B,r.BitMatrix=Ce,r.BitSource=pu,r.BrowserAztecCodeReader=rr,r.BrowserBarcodeReader=Ef,r.BrowserCodeReader=Ue,r.BrowserDatamatrixCodeReader=Mm,r.BrowserMultiFormatReader=Wo,r.BrowserPDF417Reader=Xl,r.BrowserQRCodeReader=Of,r.BrowserQRCodeSvgWriter=fs,r.CharacterSetECI=K,r.ChecksumException=C,r.Code128Reader=Oe,r.Code39Reader=Cr,r.DataMatrixDecodedBitStreamParser=Ii,r.DataMatrixReader=Pi,r.DecodeHintType=$,r.DecoderResult=me,r.DefaultGridSampler=ss,r.DetectorResult=ma,r.EAN13Reader=un,r.EncodeHintType=Xr,r.Exception=p,r.FormatException=H,r.GenericGF=ke,r.GenericGFPoly=ge,r.GlobalHistogramBinarizer=Re,r.GridSampler=as,r.GridSamplerInstance=Kn,r.HTMLCanvasElementLuminanceSource=ve,r.HybridBinarizer=J,r.ITFReader=Bt,r.IllegalArgumentException=b,r.IllegalStateException=it,r.InvertedLuminanceSource=ue,r.LuminanceSource=oe,r.MathUtils=wt,r.MultiFormatOneDReader=Zs,r.MultiFormatReader=Kl,r.MultiFormatWriter=Bm,r.NotFoundException=te,r.OneDReader=ht,r.PDF417DecodedBitStreamParser=Ee,r.PDF417DecoderErrorCorrection=xu,r.PDF417Reader=mn,r.PDF417ResultMetadata=ql,r.PerspectiveTransform=Dn,r.PlanarYUVLuminanceSource=Xi,r.QRCodeByteMatrix=Yl,r.QRCodeDataMask=Pt,r.QRCodeDecodedBitStreamParser=pr,r.QRCodeDecoderErrorCorrectionLevel=Zt,r.QRCodeDecoderFormatInformation=fn,r.QRCodeEncoder=ir,r.QRCodeEncoderQRCode=ds,r.QRCodeMaskUtil=mr,r.QRCodeMatrixUtil=pt,r.QRCodeMode=ft,r.QRCodeReader=Mn,r.QRCodeVersion=ut,r.QRCodeWriter=no,r.RGBLuminanceSource=Vo,r.RSS14Reader=lr,r.RSSExpandedReader=Ie,r.ReaderException=ro,r.ReedSolomonDecoder=jt,r.ReedSolomonEncoder=wu,r.ReedSolomonException=We,r.Result=Be,r.ResultMetadataType=ze,r.ResultPoint=Ve,r.StringUtils=ie,r.UnsupportedOperationException=pe,r.VideoInputDevice=Q,r.WhiteRectangleDetector=Gn,r.WriterException=er,r.ZXingArrays=M,r.ZXingCharset=If,r.ZXingInteger=R,r.ZXingStandardCharsets=Eu,r.ZXingStringBuilder=Ae,r.ZXingStringEncoding=se,r.ZXingSystem=I,r.createAbstractExpandedDecoder=bf,Object.defineProperty(r,"__esModule",{value:!0})}))})(ld,ld.exports)),ld.exports}var Er=m9();const g9=fa(Er),x9=_y({__proto__:null,default:g9},[Er]);var MS=(function(){function e(t,r,n){if(this.formatMap=new Map([[et.QR_CODE,Er.BarcodeFormat.QR_CODE],[et.AZTEC,Er.BarcodeFormat.AZTEC],[et.CODABAR,Er.BarcodeFormat.CODABAR],[et.CODE_39,Er.BarcodeFormat.CODE_39],[et.CODE_93,Er.BarcodeFormat.CODE_93],[et.CODE_128,Er.BarcodeFormat.CODE_128],[et.DATA_MATRIX,Er.BarcodeFormat.DATA_MATRIX],[et.MAXICODE,Er.BarcodeFormat.MAXICODE],[et.ITF,Er.BarcodeFormat.ITF],[et.EAN_13,Er.BarcodeFormat.EAN_13],[et.EAN_8,Er.BarcodeFormat.EAN_8],[et.PDF_417,Er.BarcodeFormat.PDF_417],[et.RSS_14,Er.BarcodeFormat.RSS_14],[et.RSS_EXPANDED,Er.BarcodeFormat.RSS_EXPANDED],[et.UPC_A,Er.BarcodeFormat.UPC_A],[et.UPC_E,Er.BarcodeFormat.UPC_E],[et.UPC_EAN_EXTENSION,Er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!x9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Er.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Er.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Er.MultiFormatReader(this.verbose,this.hints),n=new Er.HTMLCanvasElementLuminanceSource(t),i=new Er.BinaryBitmap(new Er.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:YI.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),v9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})},y9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},LS=(function(){function e(t,r,n){if(this.formatMap=new Map([[et.QR_CODE,"qr_code"],[et.AZTEC,"aztec"],[et.CODABAR,"codabar"],[et.CODE_39,"code_39"],[et.CODE_93,"code_93"],[et.CODE_128,"code_128"],[et.DATA_MATRIX,"data_matrix"],[et.ITF,"itf"],[et.EAN_13,"ean_13"],[et.EAN_8,"ean_8"],[et.PDF_417,"pdf417"],[et.UPC_A,"upc_a"],[et.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return v9(this,void 0,void 0,function(){var r,n;return y9(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:YI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var c=a[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),BS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})},FS=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},b9=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&LS.isSupported()?(this.primaryDecoder=new LS(t,n,i),this.secondaryDecoder=new MS(t,n,i)):this.primaryDecoder=new MS(t,n,i)}return e.prototype.decodeAsync=function(t){return BS(this,void 0,void 0,function(){var r;return FS(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return BS(this,void 0,void 0,function(){var r,n;return FS(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Ky=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),C0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})},_0=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},QI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),w9=(function(e){Ky(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(QI),E9=(function(e){Ky(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(w9),S9=(function(e){Ky(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(QI),A9=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new E9(this.track)},e.prototype.torchFeature=function(){return new S9(this.track)},e})(),C9=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return C0(this,void 0,void 0,function(){var a,c;return _0(this,function(f){switch(f.label){case 0:return a=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return C0(this,void 0,void 0,function(){return _0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new A9(this.getFirstTrackOrFail())},e})(),_9=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return C0(this,void 0,void 0,function(){return _0(this,function(i){return[2,C9.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return C0(this,void 0,void 0,function(){var r,n;return _0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),zS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})},US=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},N9=(function(){function e(){}return e.failIfNotSupported=function(){return zS(this,void 0,void 0,function(){return US(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return zS(this,void 0,void 0,function(){return US(this,function(r){return[2,_9.create(t)]})})},e})(),O9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{p(n.next(v))}catch(b){c(b)}}function h(v){try{p(n.throw(v))}catch(b){c(b)}}function p(v){v.done?a(v.value):i(v.value).then(f,h)}p((n=n.apply(e,t||[])).next())})},I9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(v){return h([p,v])}}function h(p){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(r=0)),r;)try{if(n=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,i=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){r.label=p[1];break}if(p[0]===6&&r.label<a[1]){r.label=a[1],a=p;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(p);break}a[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(v){p=[6,v],i=0}finally{n=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},P9=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Nc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Nc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return O9(this,void 0,void 0,function(){var t,r,n,i,a,c,f;return I9(this,function(h){switch(h.label){case 0:return t=function(p){for(var v=p.getVideoTracks(),b=0,S=v;b<S.length;b++){var C=S[b];C.enabled=!1,C.stop(),p.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=h.sent(),i=[],a=0,c=n;a<c.length;a++)f=c[a],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var c=[],f=0,h=a;f<h.length;f++){var p=h[f];p.kind==="video"&&c.push({id:p.id,label:p.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Hr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Hr||(Hr={}));var j9=(function(){function e(){this.state=Hr.NOT_STARTED,this.onGoingTransactionNewState=Hr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Hr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Hr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Hr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Hr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Hr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Hr.UNKNOWN:throw"Transition from unknown is not allowed";case Hr.NOT_STARTED:this.failIfNewStateIs(t,[Hr.PAUSED]);break;case Hr.SCANNING:break;case Hr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),k9=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Hr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Hr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Hr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Hr.PAUSED},e})(),T9=(function(){function e(){}return e.create=function(){return new k9(new j9)},e})(),R9=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Li=(function(e){R9(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(d9),D9=(function(){function e(t,r){this.logger=r,this.fps=Li.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Li.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ZI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!As(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),M9=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new h9(this.verbose),this.qrcode=new b9(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=T9.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=D9.create(r,this.logger);this.clearElement();var h=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=h,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Li.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var b=this,S=this.stateManagerProxy.startTransition(Hr.SCANNING);return new Promise(function(C,O){var I=p?f.videoConstraints:b.createVideoConstraints(t);if(!I){S.cancel(),O("videoConstraints should be defined");return}var P={};(!p||f.aspectRatio)&&(P.aspectRatio=f.aspectRatio);var D={onRenderSurfaceReady:function(M,R){b.setupUi(M,R,f),b.isScanning=!0,b.foreverScan(f,n,c)}};N9.failIfNotSupported().then(function(M){M.create(I).then(function(R){return R.render(a.element,P,D).then(function(B){b.renderedCamera=B,S.execute(),C(null)}).catch(function(B){S.cancel(),O(B)})}).catch(function(R){S.cancel(),O(Nc.errorGettingUserMedia(R))})}).catch(function(M){S.cancel(),O(Nc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Hr.PAUSED),this.showPausedState(),(As(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Hr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Hr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Li.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(As(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,h=c.height,p=document.getElementById(n.elementId),v=p.clientWidth?p.clientWidth:Li.DEFAULT_WIDTH,b=Math.max(p.clientHeight?p.clientHeight:h,Li.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,h,v,b);if(r){var C=n.createCanvasElement(v,b,"qr-canvas-visible");C.style.display="inline-block",p.appendChild(C);var O=C.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=v,O.canvas.height=b,O.drawImage(c,0,0,f,h,S.x,S.y,S.width,S.height)}var I=Li.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(c.width,S.width),D=Math.max(c.height,S.height),M=P+2*I,R=D+2*I,B=n.createCanvasElement(M,R);p.appendChild(B);var W=B.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=M,W.canvas.height=R,W.drawImage(c,0,0,f,h,I,I,P,D);try{n.qrcode.decodeRobustlyAsync(B).then(function($){i(RS.createFromQrcodeResult($))}).catch(a)}catch($){a("QR code parse error, error = ".concat($))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return P9.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!ZI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[et.QR_CODE,et.AZTEC,et.CODABAR,et.CODE_39,et.CODE_93,et.CODE_128,et.DATA_MATRIX,et.MAXICODE,et.ITF,et.EAN_13,et.EAN_8,et.PDF_417,et.RSS_14,et.RSS_EXPANDED,et.UPC_A,et.UPC_E,et.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var c=a[i];u9(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(As(t))return!0;if(!As(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(As(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return As(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,r,a),f=function(p){if(p<Li.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Li.MIN_QR_BOX_SIZE,"px.")},h=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};f(c.width),f(c.height),c.width=h(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=As(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&a.height<=r,f={x:0,y:0,width:t,height:r},h=c?this.getShadedRegionBounds(t,r,a):f,p=this.createCanvasElement(h.width,h.height),v={willReadFrequently:!0},b=p.getContext("2d",v);b.canvas.width=h.width,b.canvas.height=h.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=b,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Nc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,RS.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Nc.codeParseError(i);return r(a,f9.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*c,p=this.qrRegion.height*f,v=this.qrRegion.x*c,b=this.qrRegion.y*f;this.context.drawImage(a,v,b,h,p,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(C){!C&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){S()})):S()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",c=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var h=Object.keys(t)[0];if(h!==r&&h!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(h===r){var p=t.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(c(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof p;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(a in b)return{deviceId:{exact:b["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var S=typeof b;throw"Invalid type of 'deviceId' = ".concat(S)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,c=(i-r)/2;return{x:a,y:c,width:t,height:r}}else{var f=t,h=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(h)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Li.BORDER_SHADER_MATCH_COLOR:Li.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=As(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Li.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var h=5,p=40;this.insertShaderBorders(a,p,h,-h,null,0,!0),this.insertShaderBorders(a,p,h,-h,null,0,!1),this.insertShaderBorders(a,p,h,null,-h,0,!0),this.insertShaderBorders(a,p,h,null,-h,0,!1),this.insertShaderBorders(a,h,p+h,-h,null,-h,!0),this.insertShaderBorders(a,h,p+h,null,-h,-h,!0),this.insertShaderBorders(a,h,p+h,-h,null,-h,!1),this.insertShaderBorders(a,h,p+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,c,f){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=Li.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(r,"px"),h.style.height="".concat(n,"px"),i!==null&&(h.style.top="".concat(i,"px")),a!==null&&(h.style.bottom="".concat(a,"px")),f?h.style.left="".concat(c,"px"):h.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),$S;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($S||($S={}));const L9=({perfume:e,onSell:t})=>{const[r,n]=_.useState(null);_.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await $e.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},a=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await $e.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return m.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[m.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),m.jsx("td",{className:"px-3 py-2 text-center",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),m.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsx("button",{onClick:a,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},B9=({onLogout:e})=>{const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,c]=_.useState(!1),[f,h]=_.useState(null),[p,v]=_.useState("loyalty"),[b,S]=_.useState("Corte"),[C,O]=_.useState("7000"),[I,P]=_.useState(""),[D,M]=_.useState(""),[R,B]=_.useState("0"),[W,$]=_.useState([]),[H,Z]=_.useState(null);_.useEffect(()=>{p==="agenda"&&rr()},[p]);const[K,pe]=_.useState([]),[se,ie]=_.useState(""),[Ae,Ce]=_.useState(!1),[te,Re]=_.useState(""),[J,oe]=_.useState(""),[ue,ve]=_.useState(null),[Q,le]=_.useState([]),[Ue,Be]=_.useState(null),[Ge,X]=_.useState(!1),[_e,ze]=_.useState([]),[me,He]=_.useState(""),[ge,we]=_.useState(""),[ke,We]=_.useState(!1),[it,jt]=_.useState([]),[dt,_t]=_.useState(null),[wt,en]=_.useState(""),[Ve,ma]=_.useState(""),[Ys,Gn]=_.useState(!1),[as,Dn]=_.useState(""),[ss,Kn]=_.useState("");_.useEffect(()=>{p==="agenda"?rr():p==="clients"?Jt():p==="expenses"&&ye()},[p]);const ye=async()=>{const{data:Ne,error:Ke}=await $e.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});Ke?console.error("Error fetching expenses:",Ke):ze(Ne||[])},Qe=async()=>{if(!me||!ge){alert("Ingrese descripcin y monto");return}We(!0);try{const Ne=HM(me),{error:Ke}=await $e.from("expenses").insert({description:me,amount:parseInt(ge),category:Ne,date:new Date});if(Ke)throw Ke;alert(`Gasto registrado como: ${Ne}`),He(""),we(""),ye()}catch(Ne){alert("Error: "+Ne.message)}finally{We(!1)}},mt=async Ne=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:Ke}=await $e.from("expenses").delete().eq("id",Ne);Ke||ye()},rr=async()=>{const{data:Ne,error:Ke}=await $e.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});Ke?console.error("Error fetching bookings:",Ke):$(Ne||[])},[ht,Oe]=_.useState(new Date),[Cr,Bt]=_.useState(null),[Gt,tn]=_.useState(!1),[ga,os]=_.useState(""),[Ot,un]=_.useState(""),[ls,qi]=_.useState("Corte"),[Sn,St]=_.useState("salon");(Ne=>{const Ke=[],Je=Ne.getDay(),Dr=Ne.getDate()-Je+(Je===0?-6:1),or=new Date(Ne);or.setDate(Dr);for(let nr=0;nr<7;nr++){const oi=new Date(or);oi.setDate(or.getDate()+nr),Ke.push(oi)}return Ke})(ht),Array.from({length:13},(Ne,Ke)=>`${Ke+9}:00`);const Jt=async()=>{let Ne=$e.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);se&&(Ne=Ne.ilike("phone",`%${se}%`));const{data:Ke,error:Je}=await Ne;Je?console.error("Error fetching clients:",Je):pe(Ke||[])};_.useEffect(()=>{if(p==="clients"){const Ne=setTimeout(()=>{Jt()},500);return()=>clearTimeout(Ne)}},[se]);const rn=async(Ne,Ke)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${Ke} y todo su historial. Esta accin no se puede deshacer.`))try{await $e.from("hair_service_log").delete().eq("client_id",Ne),await $e.from("transactions").delete().eq("client_id",Ne),await $e.from("visit_registrations").delete().eq("client_id",Ne);const{error:Je}=await $e.from("clients").delete().eq("id",Ne);if(Je)throw Je;alert("Cliente eliminado correctamente."),Jt()}catch(Je){alert("Error al eliminar: "+Je.message)}},_r=async Ne=>{X(!0),Be(Ne);const{data:Ke,error:Je}=await $e.from("transactions").select("*").eq("client_id",Ne.id).order("created_at",{ascending:!1});Je?console.error("Error fetching history:",Je):le(Ke||[]),X(!1)},Lo=async Ne=>{if(!window.confirm("Eliminar esta transaccin?"))return;const{error:Ke}=await $e.from("transactions").delete().eq("id",Ne);Ke?alert("Error: "+Ke.message):le(Je=>Je.filter(Dr=>Dr.id!==Ne))},Xn=(Ne=null)=>{Ne?(ve(Ne),Re(Ne.name||""),oe(Ne.phone||"")):(ve(null),Re(""),oe("")),Ce(!0)},Bo=async()=>{if(!J||J.length<8)return alert("El telfono debe tener 8 dgitos");const Ke="+569"+J.replace(/[^0-9]/g,"");try{if(ue){const{error:Je}=await $e.from("clients").update({name:te}).eq("id",ue.id);if(Je)throw Je;alert("Cliente actualizado")}else{const{error:Je}=await $e.from("clients").insert({name:te,phone:Ke,member_token:"manual-"+Date.now(),visits:0});if(Je)throw Je;alert("Cliente creado")}Ce(!1),Jt()}catch(Je){alert("Error al guardar cliente: "+Je.message)}};_.useEffect(()=>{if(a&&!f){const Ne=new M9("reader"),Ke={fps:10,qrbox:{width:250,height:250}};return Ne.start({facingMode:"environment"},Ke,pi,dn).catch(Je=>{console.error("Error starting scanner:",Je),i("Error iniciando cmara: "+Je)}),()=>{Ne.stop().then(()=>Ne.clear()).catch(console.error)}}},[a,f]);const yr=async(Ne,Ke,Je,Dr,or=0,nr="")=>{if(Ke<=0)return;let oi=0;if(Je==="service"){const An=Ei.find(Mr=>Dr.includes(Mr.name));if(An){const{data:Mr}=await $e.from("service_costs").select("cost").eq("service_id",An.id).single();Mr&&(oi=Mr.cost)}}const{error:La}=await $e.from("transactions").insert({client_id:Ne,amount:Ke,type:Je,description:Dr,additional_cost:or,additional_cost_detail:nr,cost:oi});La&&console.error("Error recording transaction:",La)},pi=async(Ne,Ke)=>{if(!f){h(Ne),c(!1);try{i("Procesando...");const{data:Je,error:Dr}=await $e.rpc("register_visit",{token_input:Ne});if(Dr)throw Dr;if(Je.success){if(i("OK: "+Je.message+" Visitas: "+Je.new_visits),p==="hair"){const or=parseInt(C)||0,{data:nr}=await $e.from("clients").select("id").eq("member_token",Ne).single();nr&&nr&&await yr(nr.id,or,"service",`Servicio: ${b}`,0,"")}else if(p==="ventas"){const{data:or}=await $e.from("clients").select("*").eq("member_token",Ne).single();or&&_t(or)}}else i("Error: "+Je.message);setTimeout(()=>{h(null),i("")},4e3)}catch(Je){console.error(Je),i("Error al procesar el cdigo."),h(null)}}},dn=Ne=>{console.warn(Ne)},qe=async()=>{if(!H||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:Ne,error:Ke}=await $e.rpc("redeem_discount_5th",{token_input:H.member_token});if(Ke)i("Error: "+Ke.message);else if(i(Ne.message),Ne.success){const{data:Je}=await $e.from("clients").select("*").eq("id",H.id).single();Z(Je)}},Ma=async()=>{const Ne=t.replace(/[^0-9]/g,"");if(Ne.length<8){alert("Ingrese un nmero vlido (8 dgitos)");return}const Ke="+569"+Ne;try{if(i("Procesando..."),p==="hair"){const Je=parseInt(C)||0,Dr=parseInt(I)||0,{data:or,error:nr}=await $e.rpc("add_hair_service_by_phone",{phone_input:Ke,service_type:b,service_price:Je,notes_input:`Ingreso Manual. Extras: ${D} ($${Dr})`});if(nr)throw nr;if(or.success){const{data:oi}=await $e.from("clients").select("id").eq("phone",Ke).single();oi&&await yr(oi.id,Je,"service",`Servicio: ${b}`,Dr,D),i(` Servicio registrado. Total: ${or.new_total_services}. ${or.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${or.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r(""),P(""),M("")}else i("Error: "+or.message)}else{const{data:Je,error:Dr}=await $e.from("clients").select("*").eq("phone",Ke).single();let or=0;Je&&(or=Je.visits);const nr=or+1,{data:oi,error:La}=await $e.from("clients").upsert({phone:Ke,visits:nr,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(La)throw La;const An=parseInt(R)||0;await yr(oi.id,An,"service","Manual: Visita"),i("Visita registrada para "+Ke+". Total: "+nr),r("")}}catch(Je){console.error(Je),i("Error: "+(Je.message||"Error desconocido"))}};return m.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[m.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[m.jsx("span",{children:"Panel de Atencin"}),m.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[m.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[m.jsx(KE,{className:"text-green-600"}),"Registrar Visita Manual"]}),m.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),m.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[m.jsx("span",{className:"bg-stone-200 border border-stone-300 text-stone-600 px-3 py-3 rounded-lg font-bold",children:"+569"}),m.jsx("input",{type:"tel",value:t,onChange:Ne=>{const Ke=Ne.target.value.replace(/[^0-9]/g,"");Ke.length<=8&&r(Ke)},placeholder:"12345678",maxLength:8,className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"})]}),p==="loyalty"&&m.jsx("input",{type:"number",value:R,onChange:Ne=>B(Ne.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m.jsxs("button",{onClick:Ma,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[m.jsx(By,{size:18}),"Registrar"]})]}),m.jsx("div",{className:"flex justify-center mb-6",children:m.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[m.jsx("button",{onClick:()=>v("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${p==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),m.jsx("button",{onClick:()=>v("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${p==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),m.jsx("button",{onClick:()=>v("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${p==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),m.jsx("button",{onClick:()=>v("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${p==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),m.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${p==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"})]})}),m.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[m.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:p==="loyalty"?"Registrar Visita":p==="hair"?"Registrar Servicio Peluquera":p==="inventory"?"Gestin de Inventario":p==="clients"?"Gestin de Clientes":"Control de Inversin y Compras"}),p==="expenses"&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[m.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:me,onChange:Ne=>He(Ne.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),m.jsx("input",{type:"number",value:ge,onChange:Ne=>we(Ne.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),m.jsx("button",{onClick:Qe,disabled:ke,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:ke?"...":"Guardar"})]}),m.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(Ne=>{const Ke=_e.filter(Je=>Je.category===Ne).reduce((Je,Dr)=>Je+Dr.amount,0);return m.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[m.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:Ne}),m.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",Ke.toLocaleString()]})]},Ne)}),m.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[m.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),m.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",_e.reduce((Ne,Ke)=>Ne+Ke.amount,0).toLocaleString()]})]})]}),m.jsx("div",{className:"max-h-60 overflow-y-auto",children:m.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[m.jsx("thead",{className:"sticky top-0 bg-stone-800",children:m.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[m.jsx("th",{className:"pb-2",children:"Desc"}),m.jsx("th",{className:"pb-2",children:"Cat"}),m.jsx("th",{className:"pb-2 text-right",children:"Monto"}),m.jsx("th",{className:"pb-2 w-8"})]})}),m.jsx("tbody",{className:"divide-y divide-stone-700",children:_e.map(Ne=>m.jsxs("tr",{children:[m.jsx("td",{className:"py-2",children:Ne.description}),m.jsx("td",{className:"py-2",children:m.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:Ne.category})}),m.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",Ne.amount.toLocaleString()]}),m.jsx("td",{className:"py-2 text-right",children:m.jsx("button",{onClick:()=>mt(Ne.id),className:"text-red-500 hover:text-red-400",children:m.jsx(Ai,{size:12})})})]},Ne.id))})]})})]}),p==="clients"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:se,onChange:Ne=>ie(Ne.target.value),className:"flex-1 bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),m.jsxs("button",{onClick:()=>Xn(),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[m.jsx(KE,{size:16})," Nuevo"]})]}),m.jsxs("div",{className:"overflow-x-auto max-h-96",children:[m.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[m.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"Nombre"}),m.jsx("th",{className:"px-3 py-2",children:"Telfono"}),m.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),m.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),m.jsx("tbody",{children:K.map(Ne=>m.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[m.jsx("td",{className:"px-3 py-2 text-white font-medium",children:Ne.name||"Sin nombre"}),m.jsx("td",{className:"px-3 py-2 text-stone-300 font-mono",children:Ne.phone}),m.jsx("td",{className:"px-3 py-2 text-center",children:Ne.visits}),m.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:Ne.hair_service_count||0}),m.jsxs("td",{className:"px-3 py-2 text-right flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>_r(Ne),className:"bg-purple-600/20 hover:bg-purple-600 hover:text-white text-purple-400 p-1.5 rounded transition",title:"Ver Historial",children:m.jsx(uO,{size:14})}),m.jsx("button",{onClick:()=>Xn(Ne),className:"bg-blue-600/20 hover:bg-blue-600 hover:text-white text-blue-500 p-1.5 rounded transition",title:"Editar Cliente",children:m.jsx(Os,{size:14,className:"rotate-90"})}),m.jsx("button",{onClick:()=>rn(Ne.id,Ne.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:m.jsx(Ai,{size:14})})]})]},Ne.id))})]}),K.length===0&&m.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]}),Ae&&m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-sm border border-stone-600 shadow-2xl",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:ue?"Editar Cliente":"Nuevo Cliente"}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Telfono (ID nico)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-800 border border-stone-700 text-stone-400 px-2 py-2 rounded text-sm",children:"+569"}),m.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm disabled:opacity-50",placeholder:"12345678",value:J,onChange:Ne=>{const Ke=Ne.target.value.replace(/[^0-9]/g,"");Ke.length<=8&&oe(Ke)},disabled:!!ue,maxLength:8})]}),ue&&m.jsx("p",{className:"text-[10px] text-stone-500 mt-1",children:"El telfono no se puede cambiar."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Nombre"}),m.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Nombre Cliente",value:te,onChange:Ne=>Re(Ne.target.value)})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Ce(!1),className:"flex-1 py-2 rounded bg-stone-700 text-white text-sm hover:bg-stone-600",children:"Cancelar"}),m.jsx("button",{onClick:Bo,className:"flex-1 py-2 rounded bg-green-600 text-white font-bold text-sm hover:bg-green-500",children:"Guardar"})]})]})}),Ue&&m.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col border border-stone-600 shadow-2xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:"Historial de Servicios"}),m.jsxs("p",{className:"text-sm text-stone-400",children:[Ue.name||"Cliente"," - ",Ue.phone]})]}),m.jsx("button",{onClick:()=>{Be(null),le([])},className:"p-2 hover:bg-stone-700 rounded-full text-stone-400",children:m.jsx(Ai,{size:20})})]}),Ge?m.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):Q.length===0?m.jsx("div",{className:"py-12 text-center text-stone-500 bg-stone-900 rounded-lg border border-stone-700",children:m.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):m.jsx("div",{className:"overflow-y-auto flex-1",children:m.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[m.jsx("thead",{className:"text-xs uppercase bg-stone-700 text-stone-400 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"Fecha"}),m.jsx("th",{className:"px-3 py-2",children:"Descripcin"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"Monto"}),m.jsx("th",{className:"px-3 py-2 w-8"})]})}),m.jsx("tbody",{children:Q.map(Ne=>m.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/30",children:[m.jsx("td",{className:"px-3 py-2 text-stone-500 text-[10px]",children:new Date(Ne.created_at).toLocaleDateString("es-CL")}),m.jsx("td",{className:"px-3 py-2 text-white",children:Ne.description||(Ne.type==="service"?"Servicio":"Producto")}),m.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400 font-bold",children:["$",Ne.amount.toLocaleString()]}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsx("button",{onClick:()=>Lo(Ne.id),className:"text-red-500 hover:text-red-400 p-1",title:"Eliminar",children:m.jsx(Ed,{size:12})})})]},Ne.id))}),m.jsx("tfoot",{className:"bg-stone-900 font-bold text-white",children:m.jsxs("tr",{children:[m.jsx("td",{colSpan:2,className:"px-3 py-2",children:"Total"}),m.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400",children:["$",Q.reduce((Ne,Ke)=>Ne+Ke.amount,0).toLocaleString()]}),m.jsx("td",{})]})})]})}),m.jsx("div",{className:"mt-4 pt-4 border-t border-stone-700",children:m.jsx("button",{onClick:()=>{Be(null),le([])},className:"w-full py-2 bg-stone-700 hover:bg-stone-600 text-white rounded font-bold text-sm",children:"Cerrar"})})]})})]}),p==="inventory"&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[m.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-3 py-2",children:"Perfume"}),m.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),m.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),m.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),m.jsx("tbody",{children:ks.map(Ne=>m.jsx(L9,{perfume:Ne,onSell:(Ke,Je)=>yr(H?.id||"anon",Ke,"product",Je)},Ne.id))})]})}),p==="hair"&&m.jsxs("div",{className:"mb-4 space-y-3",children:[m.jsxs("select",{value:b,onChange:Ne=>S(Ne.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[m.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),m.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),m.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),m.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),m.jsx("input",{type:"number",value:C,onChange:Ne=>O(Ne.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"number",value:I,onChange:Ne=>P(Ne.target.value),placeholder:"Costo Extra ($)",className:"w-1/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"}),m.jsx("input",{type:"text",value:D,onChange:Ne=>M(Ne.target.value),placeholder:"Detalle (ej: Luz, Caf)",className:"w-2/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"})]})]}),p!=="inventory"&&p!=="clients"&&p!=="expenses"&&m.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${p==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[m.jsx(Ip,{size:24}),p==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&m.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),H&&m.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[m.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",H.phone]}),m.jsx("div",{className:"space-y-3",children:H.discount_5th_visit_available?m.jsx("button",{onClick:qe,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):m.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),a&&m.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:m.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[m.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:m.jsx(Ai,{size:32})}),m.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),m.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},F9=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=_.useState(!1),[a,c]=_.useState(""),[f,h]=_.useState(!0),[p,v]=_.useState(""),b=async()=>{if(!a.trim()){v("Debes ingresar qu servicio o producto se realiz.");return}i(!0),v("");try{const{data:C,error:O}=await $e.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:a,count_as_loyalty:f});if(O)throw O;if(!C.success)throw new Error(C.message);r(),t()}catch(C){v(C.message||"Error al validar visita")}finally{i(!1)}},S=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:C}=await $e.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(C)throw C;r(),t()}catch(C){alert(C.message)}finally{i(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[m.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[m.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),m.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:m.jsx(Ai,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[m.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),m.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),m.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),p&&m.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[m.jsx(Dy,{className:"w-4 h-4"}),p]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),m.jsx("textarea",{value:a,onChange:C=>c(C.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:C=>h(C.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),m.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),m.jsxs("div",{className:"mt-8 flex gap-3",children:[m.jsx("button",{onClick:S,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),m.jsx("button",{onClick:b,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?m.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx(kc,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function JI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=JI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=JI(e))&&(n&&(n+=" "),n+=t);return n}var z9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xy(e){if(typeof e!="string")return!1;var t=z9;return t.includes(e)}var U9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$9=new Set(U9);function e4(e){return typeof e!="string"?!1:$9.has(e)}function t4(e){return typeof e=="string"&&e.startsWith("data-")}function Hn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e4(r)||t4(r))&&(t[r]=e[r]);return t}function Po(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hn(t)}return typeof e=="object"&&!Array.isArray(e)?Hn(e):null}function qn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e4(r)||t4(r)||Xy(r))&&(t[r]=e[r]);return t}function W9(e){return e==null?null:_.isValidElement(e)?qn(e.props):typeof e=="object"&&!Array.isArray(e)?qn(e):null}var V9=["children","width","height","viewBox","className","style","title","desc"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function H9(e,t){if(e==null)return{};var r,n,i=q9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yy=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:c,style:f,title:h,desc:p}=e,v=H9(e,V9),b=a||{width:n,height:i,x:0,y:0},S=zt("recharts-surface",c);return _.createElement("svg",Av({},qn(v),{className:S,width:n,height:i,style:f,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height),ref:t}),_.createElement("title",null,h),_.createElement("desc",null,p),r)}),G9=["children","className"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cv.apply(null,arguments)}function K9(e,t){if(e==null)return{};var r,n,i=X9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sr=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=K9(e,G9),a=zt("recharts-layer",n);return _.createElement("g",Cv({className:a},qn(i),{ref:t}),r)}),r4=_.createContext(null),Y9=()=>_.useContext(r4);function vr(e){return function(){return e}}const n4=Math.cos,N0=Math.sin,Da=Math.sqrt,O0=Math.PI,Dp=2*O0,_v=Math.PI,Nv=2*_v,dl=1e-6,Z9=Nv-dl;function i4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Q9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return i4;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class J9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?i4:Q9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+c}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,f=this._y1,h=n-t,p=i-r,v=c-t,b=f-r,S=v*v+b*b;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>dl)if(!(Math.abs(b*h-p*v)>dl)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let C=n-c,O=i-f,I=h*h+p*p,P=C*C+O*O,D=Math.sqrt(I),M=Math.sqrt(S),R=a*Math.tan((_v-Math.acos((I+S-P)/(2*D*M)))/2),B=R/M,W=R/D;Math.abs(B-1)>dl&&this._append`L${t+B*v},${r+B*b}`,this._append`A${a},${a},0,0,${+(b*C>v*O)},${this._x1=t+W*h},${this._y1=r+W*p}`}}arc(t,r,n,i,a,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),h=n*Math.sin(i),p=t+f,v=r+h,b=1^c,S=c?i-a:a-i;this._x1===null?this._append`M${p},${v}`:(Math.abs(this._x1-p)>dl||Math.abs(this._y1-v)>dl)&&this._append`L${p},${v}`,n&&(S<0&&(S=S%Nv+Nv),S>Z9?this._append`A${n},${n},0,1,${b},${t-f},${r-h}A${n},${n},0,1,${b},${this._x1=p},${this._y1=v}`:S>dl&&this._append`A${n},${n},0,${+(S>=_v)},${b},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Zy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new J9(t)}function Qy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function a4(e){this._context=e}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mp(e){return new a4(e)}function s4(e){return e[0]}function o4(e){return e[1]}function l4(e,t){var r=vr(!0),n=null,i=Mp,a=null,c=Zy(f);e=typeof e=="function"?e:e===void 0?s4:vr(e),t=typeof t=="function"?t:t===void 0?o4:vr(t);function f(h){var p,v=(h=Qy(h)).length,b,S=!1,C;for(n==null&&(a=i(C=c())),p=0;p<=v;++p)!(p<v&&r(b=h[p],p,h))===S&&((S=!S)?a.lineStart():a.lineEnd()),S&&a.point(+e(b,p,h),+t(b,p,h));if(C)return a=null,C+""||null}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:vr(+h),f):e},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:vr(+h),f):t},f.defined=function(h){return arguments.length?(r=typeof h=="function"?h:vr(!!h),f):r},f.curve=function(h){return arguments.length?(i=h,n!=null&&(a=i(n)),f):i},f.context=function(h){return arguments.length?(h==null?n=a=null:a=i(n=h),f):n},f}function Mh(e,t,r){var n=null,i=vr(!0),a=null,c=Mp,f=null,h=Zy(p);e=typeof e=="function"?e:e===void 0?s4:vr(+e),t=typeof t=="function"?t:vr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?o4:vr(+r);function p(b){var S,C,O,I=(b=Qy(b)).length,P,D=!1,M,R=new Array(I),B=new Array(I);for(a==null&&(f=c(M=h())),S=0;S<=I;++S){if(!(S<I&&i(P=b[S],S,b))===D)if(D=!D)C=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),O=S-1;O>=C;--O)f.point(R[O],B[O]);f.lineEnd(),f.areaEnd()}D&&(R[S]=+e(P,S,b),B[S]=+t(P,S,b),f.point(n?+n(P,S,b):R[S],r?+r(P,S,b):B[S]))}if(M)return f=null,M+""||null}function v(){return l4().defined(i).curve(c).context(a)}return p.x=function(b){return arguments.length?(e=typeof b=="function"?b:vr(+b),n=null,p):e},p.x0=function(b){return arguments.length?(e=typeof b=="function"?b:vr(+b),p):e},p.x1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:vr(+b),p):n},p.y=function(b){return arguments.length?(t=typeof b=="function"?b:vr(+b),r=null,p):t},p.y0=function(b){return arguments.length?(t=typeof b=="function"?b:vr(+b),p):t},p.y1=function(b){return arguments.length?(r=b==null?null:typeof b=="function"?b:vr(+b),p):r},p.lineX0=p.lineY0=function(){return v().x(e).y(t)},p.lineY1=function(){return v().x(e).y(r)},p.lineX1=function(){return v().x(n).y(t)},p.defined=function(b){return arguments.length?(i=typeof b=="function"?b:vr(!!b),p):i},p.curve=function(b){return arguments.length?(c=b,a!=null&&(f=c(a)),p):c},p.context=function(b){return arguments.length?(b==null?a=f=null:f=c(a=b),p):a},p}class c4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eL(e){return new c4(e,!0)}function tL(e){return new c4(e,!1)}const Jy={draw(e,t){const r=Da(t/O0);e.moveTo(r,0),e.arc(0,0,r,0,Dp)}},rL={draw(e,t){const r=Da(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},u4=Da(1/3),nL=u4*2,iL={draw(e,t){const r=Da(t/nL),n=r*u4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},aL={draw(e,t){const r=Da(t),n=-r/2;e.rect(n,n,r,r)}},sL=.8908130915292852,d4=N0(O0/10)/N0(7*O0/10),oL=N0(Dp/10)*d4,lL=-n4(Dp/10)*d4,cL={draw(e,t){const r=Da(t*sL),n=oL*r,i=lL*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const c=Dp*a/5,f=n4(c),h=N0(c);e.lineTo(h*r,-f*r),e.lineTo(f*n-h*i,h*n+f*i)}e.closePath()}},b1=Da(3),uL={draw(e,t){const r=-Da(t/(b1*3));e.moveTo(0,r*2),e.lineTo(-b1*r,-r),e.lineTo(b1*r,-r),e.closePath()}},ra=-.5,na=Da(3)/2,Ov=1/Da(12),dL=(Ov/2+1)*3,fL={draw(e,t){const r=Da(t/dL),n=r/2,i=r*Ov,a=n,c=r*Ov+r,f=-a,h=c;e.moveTo(n,i),e.lineTo(a,c),e.lineTo(f,h),e.lineTo(ra*n-na*i,na*n+ra*i),e.lineTo(ra*a-na*c,na*a+ra*c),e.lineTo(ra*f-na*h,na*f+ra*h),e.lineTo(ra*n+na*i,ra*i-na*n),e.lineTo(ra*a+na*c,ra*c-na*a),e.lineTo(ra*f+na*h,ra*h-na*f),e.closePath()}};function hL(e,t){let r=null,n=Zy(i);e=typeof e=="function"?e:vr(e||Jy),t=typeof t=="function"?t:vr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:vr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:vr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function I0(){}function P0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function f4(e){this._context=e}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pL(e){return new f4(e)}function h4(e){this._context=e}h4.prototype={areaStart:I0,areaEnd:I0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:P0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mL(e){return new h4(e)}function p4(e){this._context=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:P0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gL(e){return new p4(e)}function m4(e){this._context=e}m4.prototype={areaStart:I0,areaEnd:I0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xL(e){return new m4(e)}function WS(e){return e<0?-1:1}function VS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(a*i+c*n)/(n+i);return(WS(a)+WS(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(f))||0}function HS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function w1(e,t,r){var n=e._x0,i=e._y0,a=e._x1,c=e._y1,f=(a-n)/3;e._context.bezierCurveTo(n+f,i+f*t,a-f,c-f*r,a,c)}function j0(e){this._context=e}j0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w1(this,this._t0,HS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,w1(this,HS(this,r=VS(this,e,t)),r);break;default:w1(this,this._t0,r=VS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function g4(e){this._context=new x4(e)}(g4.prototype=Object.create(j0.prototype)).point=function(e,t){j0.prototype.point.call(this,t,e)};function x4(e){this._context=e}x4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function vL(e){return new j0(e)}function yL(e){return new g4(e)}function v4(e){this._context=e}v4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qS(e),i=qS(t),a=0,c=1;c<r;++a,++c)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qS(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),c=new Array(r);for(i[0]=0,a[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function bL(e){return new v4(e)}function Lp(e,t){this._context=e,this._t=t}Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wL(e){return new Lp(e,.5)}function EL(e){return new Lp(e,0)}function SL(e){return new Lp(e,1)}function Il(e,t){if((c=e.length)>1)for(var r=1,n,i,a=e[t[0]],c,f=a.length;r<c;++r)for(i=a,a=e[t[r]],n=0;n<f;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Iv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function AL(e,t){return e[t]}function CL(e){const t=[];return t.key=e,t}function _L(){var e=vr([]),t=Iv,r=Il,n=AL;function i(a){var c=Array.from(e.apply(this,arguments),CL),f,h=c.length,p=-1,v;for(const b of a)for(f=0,++p;f<h;++f)(c[f][p]=[0,+n(b,c[f].key,p,a)]).data=b;for(f=0,v=Qy(t(c));f<h;++f)c[v[f]].index=f;return r(c,v),c}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:vr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:vr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Iv:typeof a=="function"?a:vr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Il,i):r},i}function NL(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,c;i<a;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Il(e,t)}}function OL(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}Il(e,t)}}function IL(e,t){if(!(!((c=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,c;n<a;++n){for(var f=0,h=0,p=0;f<c;++f){for(var v=e[t[f]],b=v[n][1]||0,S=v[n-1][1]||0,C=(b-S)/2,O=0;O<f;++O){var I=e[t[O]],P=I[n][1]||0,D=I[n-1][1]||0;C+=P-D}h+=b,p+=C*b}i[n-1][1]+=i[n-1][0]=r,h&&(r-=p/h)}i[n-1][1]+=i[n-1][0]=r,Il(e,t)}}var E1={},S1={},GS;function PL(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(S1)),S1}var A1={},KS;function y4(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(A1)),A1}var C1={},XS;function eb(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(C1)),C1}var _1={},N1={},YS;function jL(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(N1)),N1}var ZS;function tb(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jL(),r=eb();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],c=i.length;if(c===0)return a;let f=0,h="",p="",v=!1;for(i.charCodeAt(0)===46&&(a.push(""),f++);f<c;){const b=i[f];p?b==="\\"&&f+1<c?(f++,h+=i[f]):b===p?p="":h+=b:v?b==='"'||b==="'"?p=b:b==="]"?(v=!1,a.push(h),h=""):h+=b:b==="["?(v=!0,h&&(a.push(h),h="")):b==="."?h&&(a.push(h),h=""):h+=b,f++}return h&&a.push(h),a}e.toPath=n})(_1)),_1}var QS;function rb(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PL(),r=y4(),n=eb(),i=tb();function a(f,h,p){if(f==null)return p;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return p;const v=f[h];return v===void 0?r.isDeepKey(h)?a(f,i.toPath(h),p):p:v}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const v=f[h];return v===void 0?p:v}default:{if(Array.isArray(h))return c(f,h,p);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return p;const v=f[h];return v===void 0?p:v}}}function c(f,h,p){if(h.length===0)return p;let v=f;for(let b=0;b<h.length;b++){if(v==null||t.isUnsafeProperty(h[b]))return p;v=v[h[b]]}return v===void 0?p:v}e.get=a})(E1)),E1}var O1,JS;function kL(){return JS||(JS=1,O1=rb().get),O1}var TL=kL();const Pl=fa(TL);var RL=4;function No(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RL,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,c)=>{var f=r[c-1];return typeof f=="string"?i+f+a:f!==void 0?i+No(f)+a:i+a},"")}var kn=e=>e===0?0:e>0?1:-1,Ni=e=>typeof e=="number"&&e!=+e,Ms=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Xe=e=>(typeof e=="number"||e instanceof Number)&&!Ni(e),oa=e=>Xe(e)||typeof e=="string",DL=0,_d=e=>{var t=++DL;return"".concat(e||"").concat(t)},si=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&typeof t!="string")return n;var a;if(Ms(t)){if(r==null)return n;var c=t.indexOf("%");a=r*parseFloat(t.slice(0,c))/100}else a=+t;return Ni(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},b4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ut(e,t,r){return Xe(e)&&Xe(t)?No(e+r*(t-e)):t}function w4(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Pl(n,t))===r)}var ML=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,c=1/0,f=-1/0,h=0,p=0,v=0;v<t;v++){var b,S;h=((b=e[v])===null||b===void 0?void 0:b.cx)||0,p=((S=e[v])===null||S===void 0?void 0:S.cy)||0,r+=h,n+=p,i+=h*p,a+=h*h,c=Math.min(c,h),f=Math.max(f,h)}var C=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:c,xmax:f,a:C,b:(n-C*r)/t}},Qt=e=>e===null||typeof e>"u",Kd=e=>Qt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function LL(e){return e!=null}function Xd(){}var BL=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){FL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FL(e,t,r){return(t=zL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=UL(e,"string");return typeof t=="symbol"?t:t+""}function UL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $L(e,t){if(e==null)return{};var r,n,i=WL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E4={symbolCircle:Jy,symbolCross:rL,symbolDiamond:iL,symbolSquare:aL,symbolStar:cL,symbolTriangle:uL,symbolWye:fL},VL=Math.PI/180,HL=e=>{var t="symbol".concat(Kd(e));return E4[t]||Jy},qL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*VL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GL=(e,t)=>{E4["symbol".concat(Kd(e))]=t},Bp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=$L(e,BL),a=tA(tA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=HL(c),C=hL().type(S).size(qL(r,n,c)),O=C();if(O!==null)return O},{className:h,cx:p,cy:v}=a,b=qn(a);return Xe(p)&&Xe(v)&&Xe(r)?_.createElement("path",Pv({},b,{className:zt("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(v,")"),d:f()})):null};Bp.registerSymbol=GL;var S4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,nb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Xy(i)&&(n[i]=(a=>r[i](r,a)))}),n},KL=(e,t,r)=>n=>(e(t,r,n),null),Jc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Xy(i)&&typeof a=="function"&&(n||(n={}),n[i]=KL(a,t,r))}),n},XL=e=>Array.isArray(e)&&e.length>0;function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=QL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=JL(e,"string");return typeof t=="symbol"?t:t+""}function JL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=YL({},e),n=t,i=Object.keys(t),a=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return a}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aa=32,i7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function a7(e){var{data:t,iconType:r,inactiveColor:n}=e,i=aa/2,a=aa/6,c=aa/3,f=t.inactive?n:t.color,h=r??t.type;if(h==="none")return null;if(h==="plainline"){var p;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:i,x2:aa,y2:i,className:"recharts-legend-icon"})}if(h==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(aa,"M").concat(2*c,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(h==="rect")return _.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(aa/8,"h").concat(aa,"v").concat(aa*3/4,"h").concat(-aa,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var v=e7({},t);return delete v.legendIcon,_.cloneElement(t.legendIcon,v)}return _.createElement(Bp,{fill:f,cx:i,cy:i,size:aa,sizeType:"diameter",type:h})}function s7(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:c}=e,f={x:0,y:0,width:aa,height:aa},h={display:n==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,b)=>{var S=v.formatter||i,C=zt({"recharts-legend-item":!0,["legend-item-".concat(b)]:!0,inactive:v.inactive});if(v.type==="none")return null;var O=v.inactive?a:v.color,I=S?S(v.value,v,b):v.value;return _.createElement("li",k0({className:C,style:h,key:"legend-item-".concat(b)},Jc(e,v,b)),_.createElement(Yy,{width:r,height:r,viewBox:f,style:p,"aria-label":"".concat(I," legend icon")},_.createElement(a7,{data:v,iconType:c,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},I))})}var o7=e=>{var t=Ar(e,i7),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(s7,k0({},t,{payload:r})))},I1={},P1={},iA;function l7(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const c=r[a],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(P1)),P1}var j1={},aA;function A4(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(j1)),j1}var k1={},T1={},R1={},sA;function c7(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(R1)),R1}var oA;function ib(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(T1)),T1}var D1={},lA;function u7(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(D1)),D1}var cA;function d7(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ib(),r=u7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(k1)),k1}var M1={},L1={},uA;function f7(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rb();function r(n){return function(i){return t.get(i,n)}}e.property=r})(L1)),L1}var B1={},F1={},z1={},U1={},dA;function C4(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U1)),U1}var $1={},fA;function _4(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})($1)),$1}var W1={},hA;function N4(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(W1)),W1}var pA;function h7(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4(),r=_4(),n=N4();function i(v,b,S){return typeof S!="function"?i(v,b,()=>{}):a(v,b,function C(O,I,P,D,M,R){const B=S(O,I,P,D,M,R);return B!==void 0?!!B:a(O,I,C,R)},new Map)}function a(v,b,S,C){if(b===v)return!0;switch(typeof b){case"object":return c(v,b,S,C);case"function":return Object.keys(b).length>0?a(v,{...b},S,C):n.eq(v,b);default:return t.isObject(v)?typeof b=="string"?b==="":!0:n.eq(v,b)}}function c(v,b,S,C){if(b==null)return!0;if(Array.isArray(b))return h(v,b,S,C);if(b instanceof Map)return f(v,b,S,C);if(b instanceof Set)return p(v,b,S,C);const O=Object.keys(b);if(v==null||r.isPrimitive(v))return O.length===0;if(O.length===0)return!0;if(C?.has(b))return C.get(b)===v;C?.set(b,v);try{for(let I=0;I<O.length;I++){const P=O[I];if(!r.isPrimitive(v)&&!(P in v)||b[P]===void 0&&v[P]!==void 0||b[P]===null&&v[P]!==null||!S(v[P],b[P],P,v,b,C))return!1}return!0}finally{C?.delete(b)}}function f(v,b,S,C){if(b.size===0)return!0;if(!(v instanceof Map))return!1;for(const[O,I]of b.entries()){const P=v.get(O);if(S(P,I,O,v,b,C)===!1)return!1}return!0}function h(v,b,S,C){if(b.length===0)return!0;if(!Array.isArray(v))return!1;const O=new Set;for(let I=0;I<b.length;I++){const P=b[I];let D=!1;for(let M=0;M<v.length;M++){if(O.has(M))continue;const R=v[M];let B=!1;if(S(R,P,I,v,b,C)&&(B=!0),B){O.add(M),D=!0;break}}if(!D)return!1}return!0}function p(v,b,S,C){return b.size===0?!0:v instanceof Set?h([...v],[...b],S,C):!1}e.isMatchWith=i,e.isSetMatch=p})(z1)),z1}var mA;function O4(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(F1)),F1}var V1={},H1={},q1={},gA;function p7(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(q1)),q1}var G1={},xA;function I4(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(G1)),G1}var K1={},vA;function P4(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",c="[object Symbol]",f="[object Date]",h="[object Map]",p="[object Set]",v="[object Array]",b="[object Function]",S="[object ArrayBuffer]",C="[object Object]",O="[object Error]",I="[object DataView]",P="[object Uint8Array]",D="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",B="[object BigUint64Array]",W="[object Int8Array]",$="[object Int16Array]",H="[object Int32Array]",Z="[object BigInt64Array]",K="[object Float32Array]",pe="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=S,e.arrayTag=v,e.bigInt64ArrayTag=Z,e.bigUint64ArrayTag=B,e.booleanTag=i,e.dataViewTag=I,e.dateTag=f,e.errorTag=O,e.float32ArrayTag=K,e.float64ArrayTag=pe,e.functionTag=b,e.int16ArrayTag=$,e.int32ArrayTag=H,e.int8ArrayTag=W,e.mapTag=h,e.numberTag=n,e.objectTag=C,e.regexpTag=t,e.setTag=p,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=M,e.uint32ArrayTag=R,e.uint8ArrayTag=P,e.uint8ClampedArrayTag=D})(K1)),K1}var X1={},yA;function m7(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(X1)),X1}var bA;function j4(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p7(),r=I4(),n=P4(),i=_4(),a=m7();function c(v,b){return f(v,void 0,v,new Map,b)}function f(v,b,S,C=new Map,O=void 0){const I=O?.(v,b,S,C);if(I!==void 0)return I;if(i.isPrimitive(v))return v;if(C.has(v))return C.get(v);if(Array.isArray(v)){const P=new Array(v.length);C.set(v,P);for(let D=0;D<v.length;D++)P[D]=f(v[D],D,S,C,O);return Object.hasOwn(v,"index")&&(P.index=v.index),Object.hasOwn(v,"input")&&(P.input=v.input),P}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const P=new RegExp(v.source,v.flags);return P.lastIndex=v.lastIndex,P}if(v instanceof Map){const P=new Map;C.set(v,P);for(const[D,M]of v)P.set(D,f(M,D,S,C,O));return P}if(v instanceof Set){const P=new Set;C.set(v,P);for(const D of v)P.add(f(D,void 0,S,C,O));return P}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const P=new(Object.getPrototypeOf(v)).constructor(v.length);C.set(v,P);for(let D=0;D<v.length;D++)P[D]=f(v[D],D,S,C,O);return P}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const P=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return C.set(v,P),h(P,v,S,C,O),P}if(typeof File<"u"&&v instanceof File){const P=new File([v],v.name,{type:v.type});return C.set(v,P),h(P,v,S,C,O),P}if(typeof Blob<"u"&&v instanceof Blob){const P=new Blob([v],{type:v.type});return C.set(v,P),h(P,v,S,C,O),P}if(v instanceof Error){const P=new v.constructor;return C.set(v,P),P.message=v.message,P.name=v.name,P.stack=v.stack,P.cause=v.cause,h(P,v,S,C,O),P}if(v instanceof Boolean){const P=new Boolean(v.valueOf());return C.set(v,P),h(P,v,S,C,O),P}if(v instanceof Number){const P=new Number(v.valueOf());return C.set(v,P),h(P,v,S,C,O),P}if(v instanceof String){const P=new String(v.valueOf());return C.set(v,P),h(P,v,S,C,O),P}if(typeof v=="object"&&p(v)){const P=Object.create(Object.getPrototypeOf(v));return C.set(v,P),h(P,v,S,C,O),P}return v}function h(v,b,S=v,C,O){const I=[...Object.keys(b),...t.getSymbols(b)];for(let P=0;P<I.length;P++){const D=I[P],M=Object.getOwnPropertyDescriptor(v,D);(M==null||M.writable)&&(v[D]=f(b[D],D,S,C,O))}}function p(v){switch(r.getTag(v)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=h})(H1)),H1}var wA;function g7(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(V1)),V1}var EA;function x7(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4(),r=g7();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(B1)),B1}var Y1={},Z1={},Q1={},SA;function v7(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4(),r=P4();function n(i,a){return t.cloneDeepWith(i,(c,f,h,p)=>{const v=a?.(c,f,h,p);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const b=new i.constructor(i?.valueOf());return t.copyProperties(b,i),b}case r.argumentsTag:{const b={};return t.copyProperties(b,i),b.length=i.length,b[Symbol.iterator]=i[Symbol.iterator],b}default:return}})}e.cloneDeepWith=n})(Q1)),Q1}var AA;function y7(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Z1)),Z1}var J1={},ex={},CA;function k4(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(ex)),ex}var tx={},_A;function b7(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(tx)),tx}var NA;function w7(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y4(),r=k4(),n=b7(),i=tb();function a(c,f){let h;if(Array.isArray(f)?h=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?h=i.toPath(f):h=[f],h.length===0)return!1;let p=c;for(let v=0;v<h.length;v++){const b=h[v];if((p==null||!Object.hasOwn(p,b))&&!((Array.isArray(p)||n.isArguments(p))&&r.isIndex(b)&&b<p.length))return!1;p=p[b]}return!0}e.has=a})(J1)),J1}var OA;function E7(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O4(),r=eb(),n=y7(),i=rb(),a=w7();function c(f,h){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return h=n.cloneDeep(h),function(p){const v=i.get(p,f);return v===void 0?a.has(p,f):h===void 0?v===void 0:t.isMatch(v,h)}}e.matchesProperty=c})(Y1)),Y1}var IA;function S7(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A4(),r=f7(),n=x7(),i=E7();function a(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=a})(M1)),M1}var PA;function A7(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l7(),r=A4(),n=d7(),i=S7();function a(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=a})(I1)),I1}var rx,jA;function C7(){return jA||(jA=1,rx=A7().uniqBy),rx}var _7=C7();const kA=fa(_7);function T4(e,t,r){return t===!0?kA(e,r):typeof t=="function"?kA(e,t):e}var nx={exports:{}},ix={},ax={exports:{}},sx={};var TA;function N7(){if(TA)return sx;TA=1;var e=Kc();function t(b,S){return b===S&&(b!==0||1/b===1/S)||b!==b&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function f(b,S){var C=S(),O=n({inst:{value:C,getSnapshot:S}}),I=O[0].inst,P=O[1];return a(function(){I.value=C,I.getSnapshot=S,h(I)&&P({inst:I})},[b,C,S]),i(function(){return h(I)&&P({inst:I}),b(function(){h(I)&&P({inst:I})})},[b]),c(C),C}function h(b){var S=b.getSnapshot;b=b.value;try{var C=S();return!r(b,C)}catch{return!0}}function p(b,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return sx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,sx}var RA;function O7(){return RA||(RA=1,ax.exports=N7()),ax.exports}var DA;function I7(){if(DA)return ix;DA=1;var e=Kc(),t=O7();function r(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return ix.useSyncExternalStoreWithSelector=function(p,v,b,S,C){var O=a(null);if(O.current===null){var I={hasValue:!1,value:null};O.current=I}else I=O.current;O=f(function(){function D($){if(!M){if(M=!0,R=$,$=S($),C!==void 0&&I.hasValue){var H=I.value;if(C(H,$))return B=H}return B=$}if(H=B,n(R,$))return H;var Z=S($);return C!==void 0&&C(H,Z)?(R=$,H):(R=$,B=Z)}var M=!1,R,B,W=b===void 0?null:b;return[function(){return D(v())},W===null?void 0:function(){return D(W())}]},[v,b,S,C]);var P=i(p,O[0],O[1]);return c(function(){I.hasValue=!0,I.value=P},[P]),h(P),P},ix}var MA;function P7(){return MA||(MA=1,nx.exports=I7()),nx.exports}var j7=P7(),ab=_.createContext(null),k7=e=>e,fr=()=>{var e=_.useContext(ab);return e?e.store.dispatch:k7},l0=()=>{},T7=()=>l0,R7=(e,t)=>e===t;function Ye(e){var t=_.useContext(ab);return j7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:T7,t?t.store.getState:l0,t?t.store.getState:l0,t?e:l0,R7)}function D7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function M7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function L7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var LA=e=>Array.isArray(e)?e:[e];function B7(e){const t=Array.isArray(e[0])?e[0]:e;return L7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function F7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var z7=class{constructor(e){this.value=e}deref(){return this.value}},U7=typeof WeakRef<"u"?WeakRef:z7,$7=0,BA=1;function Lh(){return{s:$7,v:void 0,o:null,p:null}}function R4(e,t={}){let r=Lh();const{resultEqualityCheck:n}=t;let i,a=0;function c(){let f=r;const{length:h}=arguments;for(let b=0,S=h;b<S;b++){const C=arguments[b];if(typeof C=="function"||typeof C=="object"&&C!==null){let O=f.o;O===null&&(f.o=O=new WeakMap);const I=O.get(C);I===void 0?(f=Lh(),O.set(C,f)):f=I}else{let O=f.p;O===null&&(f.p=O=new Map);const I=O.get(C);I===void 0?(f=Lh(),O.set(C,f)):f=I}}const p=f;let v;if(f.s===BA)v=f.v;else if(v=e.apply(null,arguments),a++,n){const b=i?.deref?.()??i;b!=null&&n(b,v)&&(v=b,a!==0&&a--),i=typeof v=="object"&&v!==null||typeof v=="function"?new U7(v):v}return p.s=BA,p.v=v,v}return c.clearCache=()=>{r=Lh(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function W7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,c=0,f,h={},p=i.pop();typeof p=="object"&&(h=p,p=i.pop()),D7(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const v={...r,...h},{memoize:b,memoizeOptions:S=[],argsMemoize:C=R4,argsMemoizeOptions:O=[]}=v,I=LA(S),P=LA(O),D=B7(i),M=b(function(){return a++,p.apply(null,arguments)},...I),R=C(function(){c++;const W=F7(D,arguments);return f=M.apply(null,W),f},...P);return Object.assign(R,{resultFunc:p,memoizedResultFunc:M,dependencies:D,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:b,argsMemoize:C})};return Object.assign(n,{withTypes:()=>n}),n}var he=W7(R4),V7=Object.assign((e,t=he)=>{M7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((c,f,h)=>(c[r[h]]=f,c),{}))},{withTypes:()=>V7}),ox={},lx={},cx={},FA;function H7(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?f-c:c-f}return 0};e.compareValues=r})(cx)),cx}var ux={},dx={},zA;function D4(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(dx)),dx}var UA;function q7(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,c){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||c!=null&&Object.hasOwn(c,a)}e.isKey=i})(ux)),ux}var $A;function G7(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7(),r=q7(),n=tb();function i(a,c,f,h){if(a==null)return[];f=h?void 0:f,Array.isArray(a)||(a=Object.values(a)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(C=>String(C));const p=(C,O)=>{let I=C;for(let P=0;P<O.length&&I!=null;++P)I=I[O[P]];return I},v=(C,O)=>O==null||C==null?O:typeof C=="object"&&"key"in C?Object.hasOwn(O,C.key)?O[C.key]:p(O,C.path):typeof C=="function"?C(O):Array.isArray(C)?p(O,C):typeof O=="object"?O[C]:O,b=c.map(C=>(Array.isArray(C)&&C.length===1&&(C=C[0]),C==null||typeof C=="function"||Array.isArray(C)||r.isKey(C)?C:{key:C,path:n.toPath(C)}));return a.map(C=>({original:C,criteria:b.map(O=>v(O,C))})).slice().sort((C,O)=>{for(let I=0;I<b.length;I++){const P=t.compareValues(C.criteria[I],O.criteria[I],f[I]);if(P!==0)return P}return 0}).map(C=>C.original)}e.orderBy=i})(lx)),lx}var fx={},WA;function K7(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),c=(f,h)=>{for(let p=0;p<f.length;p++){const v=f[p];Array.isArray(v)&&h<a?c(v,h+1):i.push(v)}};return c(r,0),i}e.flatten=t})(fx)),fx}var hx={},VA;function M4(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k4(),r=ib(),n=C4(),i=N4();function a(c,f,h){return n.isObject(h)&&(typeof f=="number"&&r.isArrayLike(h)&&t.isIndex(f)&&f<h.length||typeof f=="string"&&f in h)?i.eq(h[f],c):!1}e.isIterateeCall=a})(hx)),hx}var HA;function X7(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7(),r=K7(),n=M4();function i(a,...c){const f=c.length;return f>1&&n.isIterateeCall(a,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(a,r.flatten(c),["asc"])}e.sortBy=i})(ox)),ox}var px,qA;function Y7(){return qA||(qA=1,px=X7().sortBy),px}var Z7=Y7();const Fp=fa(Z7);var L4=e=>e.legend.settings,Q7=e=>e.legend.size,J7=e=>e.legend.payload,eB=he([J7,L4],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Fp(n,r):n});function tB(){return Ye(eB)}var Bh=1;function B4(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),c={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(c.height-t.height)>Bh||Math.abs(c.left-t.left)>Bh||Math.abs(c.top-t.top)>Bh||Math.abs(c.width-t.width)>Bh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rB=typeof Symbol=="function"&&Symbol.observable||"@@observable",GA=rB,mx=()=>Math.random().toString(36).substring(7).split("").join("."),nB={INIT:`@@redux/INIT${mx()}`,REPLACE:`@@redux/REPLACE${mx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mx()}`},T0=nB;function sb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function F4(e,t,r){if(typeof e!="function")throw new Error(Wn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Wn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Wn(1));return r(F4)(e,t)}let n=e,i=t,a=new Map,c=a,f=0,h=!1;function p(){c===a&&(c=new Map,a.forEach((P,D)=>{c.set(D,P)}))}function v(){if(h)throw new Error(Wn(3));return i}function b(P){if(typeof P!="function")throw new Error(Wn(4));if(h)throw new Error(Wn(5));let D=!0;p();const M=f++;return c.set(M,P),function(){if(D){if(h)throw new Error(Wn(6));D=!1,p(),c.delete(M),a=null}}}function S(P){if(!sb(P))throw new Error(Wn(7));if(typeof P.type>"u")throw new Error(Wn(8));if(typeof P.type!="string")throw new Error(Wn(17));if(h)throw new Error(Wn(9));try{h=!0,i=n(i,P)}finally{h=!1}return(a=c).forEach(M=>{M()}),P}function C(P){if(typeof P!="function")throw new Error(Wn(10));n=P,S({type:T0.REPLACE})}function O(){const P=b;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Wn(11));function M(){const B=D;B.next&&B.next(v())}return M(),{unsubscribe:P(M)}},[GA](){return this}}}return S({type:T0.INIT}),{dispatch:S,subscribe:b,getState:v,replaceReducer:C,[GA]:O}}function iB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:T0.INIT})>"u")throw new Error(Wn(12));if(typeof r(void 0,{type:T0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wn(13))})}function z4(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{iB(r)}catch(a){i=a}return function(c={},f){if(i)throw i;let h=!1;const p={};for(let v=0;v<n.length;v++){const b=n[v],S=r[b],C=c[b],O=S(C,f);if(typeof O>"u")throw f&&f.type,new Error(Wn(14));p[b]=O,h=h||O!==C}return h=h||n.length!==Object.keys(c).length,h?p:c}}function R0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function aB(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Wn(15))};const c={getState:i.getState,dispatch:(h,...p)=>a(h,...p)},f=e.map(h=>h(c));return a=R0(...f)(i.dispatch),{...i,dispatch:a}}}function U4(e){return sb(e)&&"type"in e&&typeof e.type=="string"}var $4=Symbol.for("immer-nothing"),KA=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ui=Object,zc=Ui.getPrototypeOf,D0="constructor",zp="prototype",jv="configurable",M0="enumerable",c0="writable",Nd="value",Ls=e=>!!e&&!!e[hi];function Ra(e){return e?W4(e)||$p(e)||!!e[KA]||!!e[D0]?.[KA]||Wp(e)||Vp(e):!1}var sB=Ui[zp][D0].toString(),XA=new WeakMap;function W4(e){if(!e||!ob(e))return!1;const t=zc(e);if(t===null||t===Ui[zp])return!0;const r=Ui.hasOwnProperty.call(t,D0)&&t[D0];if(r===Object)return!0;if(!Cc(r))return!1;let n=XA.get(r);return n===void 0&&(n=Function.toString.call(r),XA.set(r,n)),n===sB}function Up(e,t,r=!0){Yd(e)===0?(r?Reflect.ownKeys(e):Ui.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Yd(e){const t=e[hi];return t?t.type_:$p(e)?1:Wp(e)?2:Vp(e)?3:0}var YA=(e,t,r=Yd(e))=>r===2?e.has(t):Ui[zp].hasOwnProperty.call(e,t),kv=(e,t,r=Yd(e))=>r===2?e.get(t):e[t],L0=(e,t,r,n=Yd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function oB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var $p=Array.isArray,Wp=e=>e instanceof Map,Vp=e=>e instanceof Set,ob=e=>typeof e=="object",Cc=e=>typeof e=="function",gx=e=>typeof e=="boolean";function lB(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Cs=e=>e.copy_||e.base_,lb=e=>e.modified_?e.copy_:e.base_;function Tv(e,t){if(Wp(e))return new Map(e);if(Vp(e))return new Set(e);if($p(e))return Array[zp].slice.call(e);const r=W4(e);if(t===!0||t==="class_only"&&!r){const n=Ui.getOwnPropertyDescriptors(e);delete n[hi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f[c0]===!1&&(f[c0]=!0,f[jv]=!0),(f.get||f.set)&&(n[c]={[jv]:!0,[c0]:!0,[M0]:f[M0],[Nd]:e[c]})}return Ui.create(zc(e),n)}else{const n=zc(e);if(n!==null&&r)return{...e};const i=Ui.create(n);return Ui.assign(i,e)}}function cb(e,t=!1){return Hp(e)||Ls(e)||!Ra(e)||(Yd(e)>1&&Ui.defineProperties(e,{set:Fh,add:Fh,clear:Fh,delete:Fh}),Ui.freeze(e),t&&Up(e,(r,n)=>{cb(n,!0)},!1)),e}function cB(){Pa(2)}var Fh={[Nd]:cB};function Hp(e){return e===null||!ob(e)?!0:Ui.isFrozen(e)}var B0="MapSet",Rv="Patches",ZA="ArrayMethods",V4={};function jl(e){const t=V4[e];return t||Pa(0,e),t}var QA=e=>!!V4[e],Od,H4=()=>Od,uB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:QA(B0)?jl(B0):void 0,arrayMethodsPlugin_:QA(ZA)?jl(ZA):void 0});function JA(e,t){t&&(e.patchPlugin_=jl(Rv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dv(e){Mv(e),e.drafts_.forEach(dB),e.drafts_=null}function Mv(e){e===Od&&(Od=e.parent_)}var eC=e=>Od=uB(Od,e);function dB(e){const t=e[hi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[hi].modified_&&(Dv(t),Pa(4)),Ra(e)&&(e=rC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[hi].base_,e,t)}else e=rC(t,r);return fB(t,e,!0),Dv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$4?e:void 0}function rC(e,t){if(Hp(t))return t;const r=t[hi];if(!r)return F0(t,e.handledSet_,e);if(!qp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);K4(r,e)}return r.copy_}function fB(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&cb(t,r)}function q4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var qp=(e,t)=>e.scope_===t,hB=[];function G4(e,t,r,n){const i=Cs(e),a=e.type_;if(n!==void 0&&kv(i,n,a)===t){L0(i,n,r,a);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;Up(i,(h,p)=>{if(Ls(p)){const v=f.get(p)||[];v.push(h),f.set(p,v)}})}const c=e.draftLocations_.get(t)??hB;for(const f of c)L0(i,f,r,a)}function pB(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!qp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const c=lb(a);G4(e,a.draft_??a,c,r),K4(a,i)})}function K4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}q4(e)}}function mB(e,t,r){const{scope_:n}=e;if(Ls(r)){const i=r[hi];qp(i,n)&&i.callbacks_.push(function(){u0(e);const c=lb(i);G4(e,r,c,t)})}else Ra(r)&&e.callbacks_.push(function(){const a=Cs(e);e.type_===3?a.has(r)&&F0(r,n.handledSet_,n):kv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&F0(kv(e.copy_,t,e.type_),n.handledSet_,n)})}function F0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ls(e)||t.has(e)||!Ra(e)||Hp(e)||(t.add(e),Up(e,(n,i)=>{if(Ls(i)){const a=i[hi];if(qp(a,r)){const c=lb(a);L0(e,n,c,e.type_),q4(a)}}else Ra(i)&&F0(i,t,r)})),e}function gB(e,t){const r=$p(e),n={type_:r?1:0,scope_:t?t.scope_:H4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=z0;r&&(i=[n],a=Id);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,[f,n]}var z0={get(e,t){if(t===hi)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Cs(e);if(!YA(i,t,e.type_))return xB(e,i,t);const a=i[t];if(e.finalized_||!Ra(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&lB(t))return a;if(a===xx(e.base_,t)){u0(e);const c=e.type_===1?+t:t,f=Bv(e.scope_,a,e,c);return e.copy_[c]=f}return a},has(e,t){return t in Cs(e)},ownKeys(e){return Reflect.ownKeys(Cs(e))},set(e,t,r){const n=X4(Cs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=xx(Cs(e),t),a=i?.[hi];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(oB(r,i)&&(r!==void 0||YA(e.base_,t,e.type_)))return!0;u0(e),Lv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),mB(e,t,r)),!0},deleteProperty(e,t){return u0(e),xx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Lv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Cs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[c0]:!0,[jv]:e.type_!==1||t!=="length",[M0]:n[M0],[Nd]:r[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return zc(e.base_)},setPrototypeOf(){Pa(12)}},Id={};for(let e in z0){let t=z0[e];Id[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Id.deleteProperty=function(e,t){return Id.set.call(this,e,t,void 0)};Id.set=function(e,t,r){return z0.set.call(this,e[0],t,r,e[0])};function xx(e,t){const r=e[hi];return(r?Cs(r):e)[t]}function xB(e,t,r){const n=X4(t,r);return n?Nd in n?n[Nd]:n.get?.call(e.draft_):void 0}function X4(e,t){if(!(t in e))return;let r=zc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zc(r)}}function Lv(e){e.modified_||(e.modified_=!0,e.parent_&&Lv(e.parent_))}function u0(e){e.copy_||(e.assigned_=new Map,e.copy_=Tv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Cc(r)&&!Cc(n)){const c=n;n=r;const f=this;return function(p=c,...v){return f.produce(p,b=>n.call(this,b,...v))}}Cc(n)||Pa(6),i!==void 0&&!Cc(i)&&Pa(7);let a;if(Ra(r)){const c=eC(this),f=Bv(c,r,void 0);let h=!0;try{a=n(f),h=!1}finally{h?Dv(c):Mv(c)}return JA(c,i),tC(a,c)}else if(!r||!ob(r)){if(a=n(r),a===void 0&&(a=r),a===$4&&(a=void 0),this.autoFreeze_&&cb(a,!0),i){const c=[],f=[];jl(Rv).generateReplacementPatches_(r,a,{patches_:c,inversePatches_:f}),i(c,f)}return a}else Pa(1,r)},this.produceWithPatches=(r,n)=>{if(Cc(r))return(f,...h)=>this.produceWithPatches(f,p=>r(p,...h));let i,a;return[this.produce(r,n,(f,h)=>{i=f,a=h}),i,a]},gx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),gx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),gx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ra(t)||Pa(8),Ls(t)&&(t=Ta(t));const r=eC(this),n=Bv(r,t,void 0);return n[hi].isManual_=!0,Mv(r),n}finishDraft(t,r){const n=t&&t[hi];(!n||!n.isManual_)&&Pa(9);const{scope_:i}=n;return JA(i,r),tC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=jl(Rv).applyPatches_;return Ls(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Bv(e,t,r,n){const[i,a]=Wp(t)?jl(B0).proxyMap_(t,r):Vp(t)?jl(B0).proxySet_(t,r):gB(t,r);return(r?.scope_??H4()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?pB(r,a,n):a.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:p}=h;a.modified_&&p&&p.generatePatches_(a,[],h)}),i}function Ta(e){return Ls(e)||Pa(10,e),Y4(e)}function Y4(e){if(!Ra(e)||Hp(e))return e;const t=e[hi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Tv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Tv(e,!0);return Up(r,(i,a)=>{L0(r,i,Y4(a))},n),t&&(t.finalized_=!1),r}var yB=new vB,Z4=yB.produce;function Q4(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var bB=Q4(),wB=Q4,EB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?R0:R0.apply(null,arguments)};function la(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error($i(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>U4(n)&&n.type===e,r}var J4=class cd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cd.prototype)}static get[Symbol.species](){return cd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cd(...t[0].concat(this)):new cd(...t.concat(this))}};function nC(e){return Ra(e)?Z4(e,()=>{}):e}function zh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function SB(e){return typeof e=="boolean"}var AB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new J4;return r&&(SB(r)?c.push(bB):c.push(wB(r.extraArgument))),c},eP="RTK_autoBatch",Pr=()=>e=>({payload:e,meta:{[eP]:!0}}),iC=e=>t=>{setTimeout(t,e)},tP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const f=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iC(10):e.type==="callback"?e.queueNotification:iC(e.timeout),p=()=>{c=!1,a&&(a=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const b=()=>i&&v(),S=n.subscribe(b);return f.add(v),()=>{S(),f.delete(v)}},dispatch(v){try{return i=!v?.meta?.[eP],a=!i,a&&(c||(c=!0,h(p))),n.dispatch(v)}finally{i=!0}}})},CB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new J4(e);return n&&i.push(tP(typeof n=="object"?n:void 0)),i};function _B(e){const t=AB(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(sb(r))f=z4(r);else throw new Error($i(1));let h;typeof n=="function"?h=n(t):h=t();let p=R0;i&&(p=EB({trace:!1,...typeof i=="object"&&i}));const v=aB(...h),b=CB(v);let S=typeof c=="function"?c(b):b();const C=p(...S);return F4(f,a,C)}function rP(e){const t={},r=[];let n;const i={addCase(a,c){const f=typeof a=="string"?a:a.type;if(!f)throw new Error($i(28));if(f in t)throw new Error($i(29));return t[f]=c,i},addAsyncThunk(a,c){return c.pending&&(t[a.pending.type]=c.pending),c.rejected&&(t[a.rejected.type]=c.rejected),c.fulfilled&&(t[a.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:a.settled,reducer:c.settled}),i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function NB(e){return typeof e=="function"}function OB(e,t){let[r,n,i]=rP(t),a;if(NB(e))a=()=>nC(e());else{const f=nC(e);a=()=>f}function c(f=a(),h){let p=[r[h.type],...n.filter(({matcher:v})=>v(h)).map(({reducer:v})=>v)];return p.filter(v=>!!v).length===0&&(p=[i]),p.reduce((v,b)=>{if(b)if(Ls(v)){const C=b(v,h);return C===void 0?v:C}else{if(Ra(v))return Z4(v,S=>b(S,h));{const S=b(v,h);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},f)}return c.getInitialState=a,c}var IB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PB=(e=21)=>{let t="",r=e;for(;r--;)t+=IB[Math.random()*64|0];return t},jB=Symbol.for("rtk-slice-createasyncthunk");function kB(e,t){return`${e}/${t}`}function TB({creators:e}={}){const t=e?.asyncThunk?.[jB];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error($i(11));const c=(typeof n.reducers=="function"?n.reducers(DB()):n.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(R,B){const W=typeof R=="string"?R:R.type;if(!W)throw new Error($i(12));if(W in h.sliceCaseReducersByType)throw new Error($i(13));return h.sliceCaseReducersByType[W]=B,p},addMatcher(R,B){return h.sliceMatchers.push({matcher:R,reducer:B}),p},exposeAction(R,B){return h.actionCreators[R]=B,p},exposeCaseReducer(R,B){return h.sliceCaseReducersByName[R]=B,p}};f.forEach(R=>{const B=c[R],W={reducerName:R,type:kB(i,R),createNotation:typeof n.reducers=="function"};LB(B)?FB(W,B,p,t):MB(W,B,p)});function v(){const[R={},B=[],W=void 0]=typeof n.extraReducers=="function"?rP(n.extraReducers):[n.extraReducers],$={...R,...h.sliceCaseReducersByType};return OB(n.initialState,H=>{for(let Z in $)H.addCase(Z,$[Z]);for(let Z of h.sliceMatchers)H.addMatcher(Z.matcher,Z.reducer);for(let Z of B)H.addMatcher(Z.matcher,Z.reducer);W&&H.addDefaultCase(W)})}const b=R=>R,S=new Map,C=new WeakMap;let O;function I(R,B){return O||(O=v()),O(R,B)}function P(){return O||(O=v()),O.getInitialState()}function D(R,B=!1){function W(H){let Z=H[R];return typeof Z>"u"&&B&&(Z=zh(C,W,P)),Z}function $(H=b){const Z=zh(S,B,()=>new WeakMap);return zh(Z,H,()=>{const K={};for(const[pe,se]of Object.entries(n.selectors??{}))K[pe]=RB(se,H,()=>zh(C,H,P),B);return K})}return{reducerPath:R,getSelectors:$,get selectors(){return $(W)},selectSlice:W}}const M={name:i,reducer:I,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:P,...D(a),injectInto(R,{reducerPath:B,...W}={}){const $=B??a;return R.inject({reducerPath:$,reducer:I},W),{...M,...D($,!0)}}};return M}}function RB(e,t,r,n){function i(a,...c){let f=t(a);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var Oi=TB();function DB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function MB({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!BB(n))throw new Error($i(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?la(e,c):la(e))}function LB(e){return e._reducerDefinitionType==="asyncThunk"}function BB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function FB({type:e,reducerName:t},r,n,i){if(!i)throw new Error($i(18));const{payloadCreator:a,fulfilled:c,pending:f,rejected:h,settled:p,options:v}=r,b=i(e,a,v);n.exposeAction(t,b),c&&n.addCase(b.fulfilled,c),f&&n.addCase(b.pending,f),h&&n.addCase(b.rejected,h),p&&n.addMatcher(b.settled,p),n.exposeCaseReducer(t,{fulfilled:c||Uh,pending:f||Uh,rejected:h||Uh,settled:p||Uh})}function Uh(){}var zB="task",nP="listener",iP="completed",ub="cancelled",UB=`task-${ub}`,$B=`task-${iP}`,Fv=`${nP}-${ub}`,WB=`${nP}-${iP}`,Gp=class{constructor(e){this.code=e,this.message=`${zB} ${ub} (reason: ${e})`}name="TaskAbortError";message},db=(e,t)=>{if(typeof e!="function")throw new TypeError($i(32))},U0=()=>{},aP=(e,t=U0)=>(e.catch(t),e),sP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wl=e=>{if(e.aborted)throw new Gp(e.reason)};function oP(e,t){let r=U0;return new Promise((n,i)=>{const a=()=>i(new Gp(e.reason));if(e.aborted){a();return}r=sP(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=U0})}var VB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Gp?"cancelled":"rejected",error:r}}finally{t?.()}},$0=e=>t=>aP(oP(e,t).then(r=>(wl(e),r))),lP=e=>{const t=$0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Mc}=Object,aC={},Kp="listenerMiddleware",HB=(e,t)=>{const r=n=>sP(e,()=>n.abort(e.reason));return(n,i)=>{db(n);const a=new AbortController;r(a);const c=VB(async()=>{wl(e),wl(a.signal);const f=await n({pause:$0(a.signal),delay:lP(a.signal),signal:a.signal});return wl(a.signal),f},()=>a.abort($B));return i?.autoJoin&&t.push(c.catch(U0)),{result:$0(e)(c),cancel(){a.abort(UB)}}}},qB=(e,t)=>{const r=async(n,i)=>{wl(t);let a=()=>{};const f=[new Promise((h,p)=>{let v=e({predicate:n,effect:(b,S)=>{S.unsubscribe(),h([b,S.getState(),S.getOriginalState()])}});a=()=>{v(),p()}})];i!=null&&f.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await oP(t,Promise.race(f));return wl(t),h}finally{a()}};return(n,i)=>aP(r(n,i))},cP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=la(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($i(21));return db(a),{predicate:i,type:t,effect:a}},uP=Mc(e=>{const{type:t,predicate:r,effect:n}=cP(e);return{id:PB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($i(22))}}},{withTypes:()=>uP}),sC=(e,t)=>{const{type:r,effect:n,predicate:i}=cP(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},zv=e=>{e.pending.forEach(t=>{t.abort(Fv)})},GB=(e,t)=>()=>{for(const r of t.keys())zv(r);e.clear()},oC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dP=Mc(la(`${Kp}/add`),{withTypes:()=>dP}),KB=la(`${Kp}/removeAll`),fP=Mc(la(`${Kp}/remove`),{withTypes:()=>fP}),XB=(...e)=>{console.error(`${Kp}/error`,...e)},Zd=(e={})=>{const t=new Map,r=new Map,n=C=>{const O=r.get(C)??0;r.set(C,O+1)},i=C=>{const O=r.get(C)??1;O===1?r.delete(C):r.set(C,O-1)},{extra:a,onError:c=XB}=e;db(c);const f=C=>(C.unsubscribe=()=>t.delete(C.id),t.set(C.id,C),O=>{C.unsubscribe(),O?.cancelActive&&zv(C)}),h=C=>{const O=sC(t,C)??uP(C);return f(O)};Mc(h,{withTypes:()=>h});const p=C=>{const O=sC(t,C);return O&&(O.unsubscribe(),C.cancelActive&&zv(O)),!!O};Mc(p,{withTypes:()=>p});const v=async(C,O,I,P)=>{const D=new AbortController,M=qB(h,D.signal),R=[];try{C.pending.add(D),n(C),await Promise.resolve(C.effect(O,Mc({},I,{getOriginalState:P,condition:(B,W)=>M(B,W).then(Boolean),take:M,delay:lP(D.signal),pause:$0(D.signal),extra:a,signal:D.signal,fork:HB(D.signal,R),unsubscribe:C.unsubscribe,subscribe:()=>{t.set(C.id,C)},cancelActiveListeners:()=>{C.pending.forEach((B,W,$)=>{B!==D&&(B.abort(Fv),$.delete(B))})},cancel:()=>{D.abort(Fv),C.pending.delete(D)},throwIfCancelled:()=>{wl(D.signal)}})))}catch(B){B instanceof Gp||oC(c,B,{raisedBy:"effect"})}finally{await Promise.all(R),D.abort(WB),i(C),C.pending.delete(D)}},b=GB(t,r);return{middleware:C=>O=>I=>{if(!U4(I))return O(I);if(dP.match(I))return h(I.payload);if(KB.match(I)){b();return}if(fP.match(I))return p(I.payload);let P=C.getState();const D=()=>{if(P===aC)throw new Error($i(23));return P};let M;try{if(M=O(I),t.size>0){const R=C.getState(),B=Array.from(t.values());for(const W of B){let $=!1;try{$=W.predicate(I,R,P)}catch(H){$=!1,oC(c,H,{raisedBy:"predicate"})}$&&v(W,I,C,D)}}}finally{P=aC}return M},startListening:h,stopListening:p,clearListeners:b}};function $i(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hP=Oi({name:"chartLayout",initialState:YB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZB,setLayout:QB,setChartSize:JB,setScale:eF}=hP.actions,tF=hP.reducer;function pP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Xt(e){return Number.isFinite(e)}function Ya(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=iF(e,"string");return typeof t=="symbol"?t:t+""}function iF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return Qt(e)||Qt(t)?r:oa(t)?Pl(e,t,r):typeof t=="function"?t(e):r}var aF=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&a!=="center"&&Xe(e[a]))return Oc(Oc({},e),{},{[a]:e[a]+(n||0)});if((f==="horizontal"||f==="vertical"&&a==="center")&&c!=="middle"&&Xe(e[c]))return Oc(Oc({},e),{},{[c]:e[c]+(i||0)})}return e},Ja=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mP=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,a,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(a=!0),f.coordinate));return i||c.push(t),a||c.push(r),c},gP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:c,realScaleType:f,isCategorical:h,categoricalDomain:p,tickCount:v,ticks:b,niceTicks:S,axisType:C}=e;if(!c)return null;var O=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,I=i==="category"&&c.bandwidth?c.bandwidth()/O:0;if(I=C==="angleAxis"&&a&&a.length>=2?kn(a[0]-a[1])*2*I:I,b||S){var P=(b||S||[]).map((D,M)=>{var R=n?n.indexOf(D):D;return{coordinate:c(R)+I,value:D,offset:I,index:M}});return P.filter(D=>!Ni(D.coordinate))}return h&&p?p.map((D,M)=>({coordinate:c(D)+I,value:D,index:M,offset:I})):c.ticks&&v!=null?c.ticks(v).map((D,M)=>({coordinate:c(D)+I,value:D,offset:I,index:M})):c.domain().map((D,M)=>({coordinate:c(D)+I,value:n?n[D]:D,index:M,offset:I}))},cC=1e-4,sF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-cC,a=Math.max(n[0],n[1])+cC,c=e(t[0]),f=e(t[r-1]);(c<i||c>a||f<i||f>a)&&e.domain([t[0],t[r-1]])}},oF=(e,t)=>{if(!t||t.length!==2||!Xe(t[0])||!Xe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Xe(e[0])||e[0]<r)&&(i[0]=r),(!Xe(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},lF=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0,f=0;f<r;++f){var h=e[f],p=h?.[i];if(p!=null){var v=p[1],b=p[0],S=Ni(v)?b:v;S>=0?(p[0]=a,p[1]=a+S,a=v):(p[0]=c,p[1]=c+S,c=v)}}}},cF=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0;c<r;++c){var f=e[c],h=f?.[i];if(h!=null){var p=Ni(h[1])?h[0]:h[1];p>=0?(h[0]=a,h[1]=a+p,a=h[1]):(h[0]=0,h[1]=0)}}}},uF={sign:lF,expand:NL,none:Il,silhouette:OL,wiggle:IL,positive:cF},dF=(e,t,r)=>{var n,i=(n=uF[r])!==null&&n!==void 0?n:Il,a=_L().keys(t).value((f,h)=>Number($t(f,h,0))).order(Iv).offset(i),c=a(e);return c.forEach((f,h)=>{f.forEach((p,v)=>{var b=$t(e[v],t[h],0);Array.isArray(b)&&b.length===2&&Xe(b[0])&&Xe(b[1])&&(p[0]=b[0],p[1]=b[1])})}),c};function xP(e){return e==null?void 0:String(e)}function Uc(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qt(i[t.dataKey])){var f=w4(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var h=$t(i,Qt(c)?t.dataKey:c);return Qt(h)?null:t.scale(h)}var uC=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=$t(a,t.dataKey,t.scale.domain()[c]);return Qt(f)?null:t.scale(f)-i/2+n},fF=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},hF=e=>{var t=e.flat(2).filter(Xe);return[Math.min(...t),Math.max(...t)]},pF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mF=(e,t,r)=>{if(e!=null)return pF(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:c}=a,f=c.reduce((h,p)=>{var v=pP(p,t,r),b=hF(v);return!Xt(b[0])||!Xt(b[1])?h:[Math.min(h[0],b[0]),Math.max(h[1],b[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},dC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Fp(t,v=>v.coordinate),a=1/0,c=1,f=i.length;c<f;c++){var h=i[c],p=i[c-1];a=Math.min((h?.coordinate||0)-(p?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function hC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Oc(Oc({},t),{},{dataKey:r,payload:n,value:i,name:a})}function es(e,t){if(e)return String(e);if(typeof t=="string")return t}var gF=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},xF=(e,t)=>t==="centric"?e.angle:e.radius,Hs=e=>e.layout.width,qs=e=>e.layout.height,vF=e=>e.layout.scale,vP=e=>e.layout.margin,Xp=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yp=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fb="data-recharts-item-index",hb="data-recharts-item-id",Qd=60;function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){yF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yF(e,t,r){return(t=bF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=wF(e,"string");return typeof t=="symbol"?t:t+""}function wF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EF=e=>e.brush.height;function SF(e){var t=Yp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qd;return r+i}return r},0)}function AF(e){var t=Yp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qd;return r+i}return r},0)}function CF(e){var t=Xp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _F(e){var t=Xp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var yn=he([Hs,qs,vP,EF,SF,AF,CF,_F,L4,Q7],(e,t,r,n,i,a,c,f,h,p)=>{var v={left:(r.left||0)+i,right:(r.right||0)+a},b={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=$h($h({},b),v),C=S.bottom;S.bottom+=n,S=aF(S,h,p);var O=e-S.left-S.right,I=t-S.top-S.bottom;return $h($h({brushBottom:C},S),{},{width:Math.max(O,0),height:Math.max(I,0)})}),NF=he(yn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),pb=he(Hs,qs,(e,t)=>({x:0,y:0,width:e,height:t})),OF=_.createContext(null),Jr=()=>_.useContext(OF)!=null,Zp=e=>e.brush,Qp=he([Zp,yn,vP],(e,t,r)=>({height:e.height,x:Xe(e.x)?e.x:t.left,y:Xe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Xe(e.width)?e.width:t.width})),vx={},yx={},bx={},mC;function IF(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let c,f=null;const h=a!=null&&a.includes("leading"),p=a==null||a.includes("trailing"),v=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},b=()=>{p&&v(),I()};let S=null;const C=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,b()},n)},O=()=>{S!==null&&(clearTimeout(S),S=null)},I=()=>{O(),c=void 0,f=null},P=()=>{v()},D=function(...M){if(i?.aborted)return;c=this,f=M;const R=S==null;C(),h&&R&&v()};return D.schedule=C,D.cancel=I,D.flush=P,i?.addEventListener("abort",I,{once:!0}),D}e.debounce=t})(bx)),bx}var gC;function PF(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IF();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:c=!1,trailing:f=!0,maxWait:h}=a,p=Array(2);c&&(p[0]="leading"),f&&(p[1]="trailing");let v,b=null;const S=t.debounce(function(...I){v=n.apply(this,I),b=null},i,{edges:p}),C=function(...I){return h!=null&&(b===null&&(b=Date.now()),Date.now()-b>=h)?(v=n.apply(this,I),b=Date.now(),S.cancel(),S.schedule(),v):(S.apply(this,I),v)},O=()=>(S.flush(),v);return C.cancel=S.cancel,C.flush=O,C}e.debounce=r})(yx)),yx}var xC;function jF(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF();function r(n,i=0,a={}){const{leading:c=!0,trailing:f=!0}=a;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(vx)),vx}var wx,vC;function kF(){return vC||(vC=1,wx=jF().throttle),wx}var TF=kF();const RF=fa(TF);var W0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},yP=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:c}=r,f=Ms(n)?e:Number(n),h=Ms(i)?t:Number(i);return a&&a>0&&(f?h=f/a:h&&(f=h*a),c&&h!=null&&h>c&&(h=c)),{calculatedWidth:f,calculatedHeight:h}},DF={width:0,height:0,overflow:"visible"},MF={width:0,overflowX:"visible"},LF={height:0,overflowY:"visible"},BF={},FF=e=>{var{width:t,height:r}=e,n=Ms(t),i=Ms(r);return n&&i?DF:n?MF:i?LF:BF};function zF(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){UF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UF(e,t,r){return(t=$F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=WF(e,"string");return typeof t=="symbol"?t:t+""}function WF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bP=_.createContext({width:-1,height:-1});function VF(e){return Ya(e.width)&&Ya(e.height)}function wP(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return VF(i)?_.createElement(bP.Provider,{value:i},t):null}var mb=()=>_.useContext(bP),HF=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:c=0,minHeight:f,maxHeight:h,children:p,debounce:v=0,id:b,className:S,onResize:C,style:O={}}=e,I=_.useRef(null),P=_.useRef();P.current=C,_.useImperativeHandle(t,()=>I.current);var[D,M]=_.useState({containerWidth:n.width,containerHeight:n.height}),R=_.useCallback((Z,K)=>{M(pe=>{var se=Math.round(Z),ie=Math.round(K);return pe.containerWidth===se&&pe.containerHeight===ie?pe:{containerWidth:se,containerHeight:ie}})},[]);_.useEffect(()=>{if(I.current==null||typeof ResizeObserver>"u")return Xd;var Z=ie=>{var Ae,{width:Ce,height:te}=ie[0].contentRect;R(Ce,te),(Ae=P.current)===null||Ae===void 0||Ae.call(P,Ce,te)};v>0&&(Z=RF(Z,v,{trailing:!0,leading:!1}));var K=new ResizeObserver(Z),{width:pe,height:se}=I.current.getBoundingClientRect();return R(pe,se),K.observe(I.current),()=>{K.disconnect()}},[R,v]);var{containerWidth:B,containerHeight:W}=D;W0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:$,calculatedHeight:H}=yP(B,W,{width:i,height:a,aspect:r,maxHeight:h});return W0($!=null&&$>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,i,a,c,f,r),_.createElement("div",{id:b?"".concat(b):void 0,className:zt("recharts-responsive-container",S),style:bC(bC({},O),{},{width:i,height:a,minWidth:c,minHeight:f,maxHeight:h}),ref:I},_.createElement("div",{style:FF({width:i,height:a})},_.createElement(wP,{width:$,height:H},p)))}),ud=_.forwardRef((e,t)=>{var r=mb();if(Ya(r.width)&&Ya(r.height))return e.children;var{width:n,height:i}=zF({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:c}=yP(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Xe(a)&&Xe(c)?_.createElement(wP,{width:a,height:c},e.children):_.createElement(HF,Uv({},e,{width:n,height:i,ref:t}))});function EP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var eu=()=>{var e,t=Jr(),r=Ye(NF),n=Ye(Qp),i=(e=Ye(Zp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},qF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},SP=()=>{var e;return(e=Ye(yn))!==null&&e!==void 0?e:qF},gb=()=>Ye(Hs),xb=()=>Ye(qs),GF=()=>Ye(e=>e.layout.margin),Mt=e=>e.layout.layoutType,Ro=()=>Ye(Mt),KF=()=>{var e=Ro();if(e==="horizontal"||e==="vertical")return e},XF=()=>{var e=Ro();return e!==void 0},Jp=e=>{var t=fr(),r=Jr(),{width:n,height:i}=e,a=mb(),c=n,f=i;return a&&(c=a.width>0?a.width:n,f=a.height>0?a.height:i),_.useEffect(()=>{!r&&Ya(c)&&Ya(f)&&t(JB({width:c,height:f}))},[t,r,c,f]),null},AP=Symbol.for("immer-nothing"),wC=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function ja(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pd=Object.getPrototypeOf;function $c(e){return!!e&&!!e[Vi]}function kl(e){return e?CP(e)||Array.isArray(e)||!!e[wC]||!!e.constructor?.[wC]||Jd(e)||tm(e):!1}var YF=Object.prototype.constructor.toString(),EC=new WeakMap;function CP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=EC.get(r);return n===void 0&&(n=Function.toString.call(r),EC.set(r,n)),n===YF}function V0(e,t,r=!0){em(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function em(e){const t=e[Vi];return t?t.type_:Array.isArray(e)?1:Jd(e)?2:tm(e)?3:0}function $v(e,t){return em(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _P(e,t,r){const n=em(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Jd(e){return e instanceof Map}function tm(e){return e instanceof Set}function fl(e){return e.copy_||e.base_}function Wv(e,t){if(Jd(e))return new Map(e);if(tm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=CP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(Pd(e),n)}else{const n=Pd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function vb(e,t=!1){return rm(e)||$c(e)||!kl(e)||(em(e)>1&&Object.defineProperties(e,{set:Wh,add:Wh,clear:Wh,delete:Wh}),Object.freeze(e),t&&Object.values(e).forEach(r=>vb(r,!0))),e}function QF(){ja(2)}var Wh={value:QF};function rm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var JF={};function Tl(e){const t=JF[e];return t||ja(0,e),t}var jd;function NP(){return jd}function ez(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SC(e,t){t&&(Tl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vv(e){Hv(e),e.drafts_.forEach(tz),e.drafts_=null}function Hv(e){e===jd&&(jd=e.parent_)}function AC(e){return jd=ez(jd,e)}function tz(e){const t=e[Vi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vi].modified_&&(Vv(t),ja(4)),kl(e)&&(e=H0(t,e),t.parent_||q0(t,e)),t.patches_&&Tl("Patches").generateReplacementPatches_(r[Vi].base_,e,t.patches_,t.inversePatches_)):e=H0(t,r,[]),Vv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AP?e:void 0}function H0(e,t,r){if(rm(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Vi];if(!i)return V0(t,(a,c)=>_C(e,i,t,a,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return q0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let c=a,f=!1;i.type_===3&&(c=new Set(a),a.clear(),f=!0),V0(c,(h,p)=>_C(e,i,a,h,p,r,f),n),q0(e,a,!1),r&&e.patches_&&Tl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function _C(e,t,r,n,i,a,c){if(i==null||typeof i!="object"&&!c)return;const f=rm(i);if(!(f&&!c)){if($c(i)){const h=a&&t&&t.type_!==3&&!$v(t.assigned_,n)?a.concat(n):void 0,p=H0(e,i,h);if(_P(r,n,p),$c(p))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(kl(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;H0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Jd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&q0(e,i)}}}function q0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vb(t,r)}function rz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:NP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=yb;r&&(i=[n],a=kd);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,f}var yb={get(e,t){if(t===Vi)return e;const r=fl(e);if(!$v(r,t))return nz(e,r,t);const n=r[t];return e.finalized_||!kl(n)?n:n===Ex(e.base_,t)?(Sx(e),e.copy_[t]=Gv(n,e)):n},has(e,t){return t in fl(e)},ownKeys(e){return Reflect.ownKeys(fl(e))},set(e,t,r){const n=OP(fl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Ex(fl(e),t),a=i?.[Vi];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZF(r,i)&&(r!==void 0||$v(e.base_,t)))return!0;Sx(e),qv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ex(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Sx(e),qv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ja(11)},getPrototypeOf(e){return Pd(e.base_)},setPrototypeOf(){ja(12)}},kd={};V0(yb,(e,t)=>{kd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kd.deleteProperty=function(e,t){return kd.set.call(this,e,t,void 0)};kd.set=function(e,t,r){return yb.set.call(this,e[0],t,r,e[0])};function Ex(e,t){const r=e[Vi];return(r?fl(r):e)[t]}function nz(e,t,r){const n=OP(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function OP(e,t){if(!(t in e))return;let r=Pd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Pd(r)}}function qv(e){e.modified_||(e.modified_=!0,e.parent_&&qv(e.parent_))}function Sx(e){e.copy_||(e.copy_=Wv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(h=a,...p){return c.produce(h,v=>r.call(this,v,...p))}}typeof r!="function"&&ja(6),n!==void 0&&typeof n!="function"&&ja(7);let i;if(kl(t)){const a=AC(this),c=Gv(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?Vv(a):Hv(a)}return SC(a,n),CC(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===AP&&(i=void 0),this.autoFreeze_&&vb(i,!0),n){const a=[],c=[];Tl("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else ja(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,h=>t(h,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kl(e)||ja(8),$c(e)&&(e=az(e));const t=AC(this),r=Gv(e,void 0);return r[Vi].isManual_=!0,Hv(t),r}finishDraft(e,t){const r=e&&e[Vi];(!r||!r.isManual_)&&ja(9);const{scope_:n}=r;return SC(n,t),CC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Tl("Patches").applyPatches_;return $c(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Gv(e,t){const r=Jd(e)?Tl("MapSet").proxyMap_(e,t):tm(e)?Tl("MapSet").proxySet_(e,t):rz(e,t);return(t?t.scope_:NP()).drafts_.push(r),r}function az(e){return $c(e)||ja(10,e),IP(e)}function IP(e){if(!kl(e)||rm(e))return e;const t=e[Vi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Wv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Wv(e,!0);return V0(r,(i,a)=>{_P(r,i,IP(a))},n),t&&(t.finalized_=!1),r}var sz=new iz;sz.produce;var oz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PP=Oi({name:"legend",initialState:oz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Pr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ta(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Pr()},removeLegendPayload:{reducer(e,t){var r=Ta(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Pr()}}}),{setLegendSize:NC,setLegendSettings:lz,addLegendPayload:jP,replaceLegendPayload:kP,removeLegendPayload:TP}=PP.actions,cz=PP.reducer,uz=["contextPayload"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t,r){return(t=fz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fz(e){var t=hz(e,"string");return typeof t=="symbol"?t:t+""}function hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pz(e,t){if(e==null)return{};var r,n,i=mz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gz(e){return e.value}function xz(e){var{contextPayload:t}=e,r=pz(e,uz),n=T4(t,e.payloadUniqBy,gz),i=Wc(Wc({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(o7,i)}function vz(e,t,r,n,i,a){var{layout:c,align:f,verticalAlign:h}=t,p,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?p={left:((n||0)-a.width)/2}:p=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?v={top:((i||0)-a.height)/2}:v=h==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Wc(Wc({},p),v)}function yz(e){var t=fr();return _.useEffect(()=>{t(lz(e))},[t,e]),null}function bz(e){var t=fr();return _.useEffect(()=>(t(NC(e)),()=>{t(NC({width:0,height:0}))}),[t,e]),null}function wz(e,t,r,n){return e==="vertical"&&Xe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Ez={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function G0(e){var t=Ar(e,Ez),r=tB(),n=Y9(),i=GF(),{width:a,height:c,wrapperStyle:f,portal:h}=t,[p,v]=B4([r]),b=gb(),S=xb();if(b==null||S==null)return null;var C=b-(i?.left||0)-(i?.right||0),O=wz(t.layout,c,a,C),I=h?f:Wc(Wc({position:"absolute",width:O?.width||a||"auto",height:O?.height||c||"auto"},vz(f,t,i,b,S,p)),f),P=h??n;if(P==null||r==null)return null;var D=_.createElement("div",{className:"recharts-legend-wrapper",style:I,ref:v},_.createElement(yz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&_.createElement(bz,{width:p.width,height:p.height}),_.createElement(xz,Kv({},t,O,{margin:i,chartWidth:b,chartHeight:S,contextPayload:r})));return Ry.createPortal(D,P)}G0.displayName="Legend";function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){Sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sz(e,t,r){return(t=Az(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Cz(e,"string");return typeof t=="symbol"?t:t+""}function Cz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _z(e){return Array.isArray(e)&&oa(e[0])&&oa(e[1])?e.join(" ~ "):e}var Nz=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:c,itemSorter:f,wrapperClassName:h,labelClassName:p,label:v,labelFormatter:b,accessibilityLayer:S=!1}=e,C=()=>{if(a&&a.length){var W={padding:0,margin:0},$=(f?Fp(a,f):a).map((H,Z)=>{if(H.type==="none")return null;var K=H.formatter||c||_z,{value:pe,name:se}=H,ie=pe,Ae=se;if(K){var Ce=K(pe,se,H,Z,a);if(Array.isArray(Ce))[ie,Ae]=Ce;else if(Ce!=null)ie=Ce;else return null}var te=Ax({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:te},oa(Ae)?_.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,oa(Ae)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},ie),_.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:W},$)}return null},O=Ax({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),I=Ax({margin:0},i),P=!Qt(v),D=P?v:"",M=zt("recharts-default-tooltip",h),R=zt("recharts-tooltip-label",p);P&&b&&a!==void 0&&a!==null&&(D=b(v,a));var B=S?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Xv({className:M,style:O},B),_.createElement("p",{className:R,style:I},_.isValidElement(D)?D:"".concat(D)),C())},Zu="recharts-tooltip-wrapper",Oz={visibility:"hidden"};function Iz(e){var{coordinate:t,translateX:r,translateY:n}=e;return zt(Zu,{["".concat(Zu,"-right")]:Xe(r)&&t&&Xe(t.x)&&r>=t.x,["".concat(Zu,"-left")]:Xe(r)&&t&&Xe(t.x)&&r<t.x,["".concat(Zu,"-bottom")]:Xe(n)&&t&&Xe(t.y)&&n>=t.y,["".concat(Zu,"-top")]:Xe(n)&&t&&Xe(t.y)&&n<t.y})}function PC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:c,tooltipDimension:f,viewBox:h,viewBoxDimension:p}=e;if(a&&Xe(a[n]))return a[n];var v=r[n]-f-(i>0?i:0),b=r[n]+i;if(t[n])return c[n]?v:b;var S=h[n];if(S==null)return 0;if(c[n]){var C=v,O=S;return C<O?Math.max(b,S):Math.max(v,S)}if(p==null)return 0;var I=b+f,P=S+p;return I>P?Math.max(v,S):Math.max(b,S)}function Pz(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jz(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:c,useTranslate3d:f,viewBox:h}=e,p,v,b;return c.height>0&&c.width>0&&r?(v=PC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),b=PC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),p=Pz({translateX:v,translateY:b,useTranslate3d:f})):p=Oz,{cssProperties:p,cssClasses:Iz({translateX:v,translateY:b,coordinate:r})}}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){Yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yv(e,t,r){return(t=kz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rz extends _.PureComponent{constructor(){super(...arguments),Yv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:c,hasPayload:f,isAnimationActive:h,offset:p,position:v,reverseDirection:b,useTranslate3d:S,viewBox:C,wrapperStyle:O,lastBoundingBox:I,innerRef:P,hasPortalFromProps:D}=this.props,{cssClasses:M,cssProperties:R}=jz({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:{height:I.height,width:I.width},useTranslate3d:S,viewBox:C}),B=D?{}:Vh(Vh({transition:h&&t?"transform ".concat(n,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=Vh(Vh({},B),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},O);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:W,ref:P},a)}}var RP=()=>{var e;return(e=Ye(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){Dz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dz(e,t,r){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RC={curveBasisClosed:mL,curveBasisOpen:gL,curveBasis:pL,curveBumpX:eL,curveBumpY:tL,curveLinearClosed:xL,curveLinear:Mp,curveMonotoneX:vL,curveMonotoneY:yL,curveNatural:bL,curveStep:wL,curveStepAfter:SL,curveStepBefore:EL},K0=e=>Xt(e.x)&&Xt(e.y),DC=e=>e.base!=null&&K0(e.base)&&K0(e),Qu=e=>e.x,Ju=e=>e.y,Bz=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Kd(e));return(r==="curveMonotone"||r==="curveBump")&&t?RC["".concat(r).concat(t==="vertical"?"Y":"X")]:RC[r]||Mp},Fz=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,c=Bz(t,i),f=a?r.filter(K0):r,h;if(Array.isArray(n)){var p=r.map((C,O)=>TC(TC({},C),{},{base:n[O]}));i==="vertical"?h=Mh().y(Ju).x1(Qu).x0(C=>C.base.x):h=Mh().x(Qu).y1(Ju).y0(C=>C.base.y);var v=h.defined(DC).curve(c),b=a?p.filter(DC):p;return v(b)}i==="vertical"&&Xe(n)?h=Mh().y(Ju).x1(Qu).x0(n):Xe(n)?h=Mh().x(Qu).y1(Ju).y0(n):h=l4().x(Qu).y(Ju);var S=h.defined(K0).curve(c);return S(f)},El=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Ro();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},f=r&&r.length?Fz(c):n;return _.createElement("path",Zv({},Hn(e),nb(e),{className:zt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},zz=["x","y","top","left","width","height","className"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){$z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $z(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Vz(e,"string");return typeof t=="symbol"?t:t+""}function Vz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hz(e,t){if(e==null)return{};var r,n,i=qz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gz=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),Kz=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:c=0,className:f}=e,h=Hz(e,zz),p=Uz({x:t,y:r,top:n,left:i,width:a,height:c},h);return!Xe(t)||!Xe(r)||!Xe(a)||!Xe(c)||!Xe(n)||!Xe(i)?null:_.createElement("path",Qv({},qn(p),{className:zt("recharts-cross",f),d:Gz(t,r,a,c,n,i)}))};function Xz(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){Yz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yz(e,t,r){return(t=Zz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),DP=(e,t,r)=>e.map(n=>"".concat(Jz(n)," ").concat(t,"ms ").concat(r)).join(","),eU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Td=(e,t)=>Object.keys(t).reduce((r,n)=>BC(BC({},r),{},{[n]:e(n,t[n])}),{});function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){tU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X0=(e,t,r)=>e+(t-e)*r,Jv=e=>{var{from:t,to:r}=e;return t!==r},MP=(e,t,r)=>{var n=Td((i,a)=>{if(Jv(a)){var[c,f]=e(a.from,a.to,a.velocity);return vn(vn({},a),{},{from:c,velocity:f})}return a},t);return r<1?Td((i,a)=>Jv(a)&&n[i]!=null?vn(vn({},a),{},{velocity:X0(a.velocity,n[i].velocity,r),from:X0(a.from,n[i].from,r)}):a,t):MP(e,n,r-1)};function iU(e,t,r,n,i,a){var c,f=n.reduce((S,C)=>vn(vn({},S),{},{[C]:{from:e[C],velocity:0,to:t[C]}}),{}),h=()=>Td((S,C)=>C.from,f),p=()=>!Object.values(f).filter(Jv).length,v=null,b=S=>{c||(c=S);var C=S-c,O=C/r.dt;f=MP(r,f,O),i(vn(vn(vn({},e),t),h())),c=S,p()||(v=a.setTimeout(b))};return()=>(v=a.setTimeout(b),()=>{var S;(S=v)===null||S===void 0||S()})}function aU(e,t,r,n,i,a,c){var f=null,h=i.reduce((b,S)=>{var C=e[S],O=t[S];return C==null||O==null?b:vn(vn({},b),{},{[S]:[C,O]})},{}),p,v=b=>{p||(p=b);var S=(b-p)/n,C=Td((I,P)=>X0(...P,r(S)),h);if(a(vn(vn(vn({},e),t),C)),S<1)f=c.setTimeout(v);else{var O=Td((I,P)=>X0(...P,r(1)),h);a(vn(vn(vn({},e),t),O))}};return()=>(f=c.setTimeout(v),()=>{var b;(b=f)===null||b===void 0||b()})}const sU=(e,t,r,n,i,a)=>{var c=eU(e,t);return r==null?()=>(i(vn(vn({},e),t)),()=>{}):r.isStepper===!0?iU(e,t,r,c,i,a):aU(e,t,r,n,c,i,a)};var Y0=1e-4,LP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],BP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zC=(e,t)=>r=>{var n=LP(e,t);return BP(n,r)},oU=(e,t)=>r=>{var n=LP(e,t),i=[...n.map((a,c)=>a*c).slice(1),0];return BP(i,r)},lU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},cU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},uU=(e,t,r,n)=>{var i=zC(e,r),a=zC(t,n),c=oU(e,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var v=p>1?1:p,b=v,S=0;S<8;++S){var C=i(b)-v,O=c(b);if(Math.abs(C-v)<Y0||O<Y0)return a(b);b=f(b-C/O)}return a(b)};return h.isStepper=!1,h},UC=function(){return uU(...cU(...arguments))},dU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(c,f,h)=>{var p=-(c-f)*r,v=h*n,b=h+(p-v)*i/1e3,S=h*i/1e3+c;return Math.abs(S-f)<Y0&&Math.abs(b)<Y0?[f,0]:[S,b]};return a.isStepper=!0,a.dt=i,a},fU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UC(e);case"spring":return dU();default:if(e.split("(")[0]==="cubic-bezier")return UC(e)}return typeof e=="function"?e:null};function hU(e){var t,r=()=>null,n=!1,i=null,a=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[h,...p]=f;if(typeof h=="number"){i=e.setTimeout(a.bind(null,p),h);return}a(h),i=e.setTimeout(a.bind(null,p));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),a(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class pU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function mU(){return hU(new pU)}var gU=_.createContext(mU);function xU(e,t){var r=_.useContext(gU);return _.useMemo(()=>t??r(e),[e,t,r])}var vU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ef={isSsr:vU()},yU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$C={t:0},Cx={t:1};function zl(e){var t=Ar(e,yU),{isActive:r,canBegin:n,duration:i,easing:a,begin:c,onAnimationEnd:f,onAnimationStart:h,children:p}=t,v=r==="auto"?!ef.isSsr:r,b=xU(t.animationId,t.animationManager),[S,C]=_.useState(v?$C:Cx),O=_.useRef(null);return _.useEffect(()=>{v||C(Cx)},[v]),_.useEffect(()=>{if(!v||!n)return Xd;var I=sU($C,Cx,fU(a),i,C,b.getTimeoutController()),P=()=>{O.current=I()};return b.start([h,c,P,i,f]),()=>{b.stop(),O.current&&O.current(),f()}},[v,n,i,a,c,h,f,b]),p(S.t)}function Ul(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(_d(t)),n=_.useRef(e);return n.current!==e&&(r.current=_d(t),n.current=e),r.current}var bU=["radius"],wU=["radius"],WC,VC,HC,qC,GC,KC,XC,YC,ZC,QC;function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){EU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EU(e,t,r){return(t=SU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(null,arguments)}function t_(e,t){if(e==null)return{};var r,n,i=CU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var r_=(e,t,r,n,i)=>{var a=No(r),c=No(n),f=Math.min(Math.abs(a)/2,Math.abs(c)/2),h=c>=0?1:-1,p=a>=0?1:-1,v=c>=0&&a>=0||c<0&&a<0?1:0,b;if(f>0&&i instanceof Array){for(var S=[0,0,0,0],C=0,O=4;C<O;C++)S[C]=i[C]>f?f:i[C];b=qr(WC||(WC=Ha(["M",",",""])),e,t+h*S[0]),S[0]>0&&(b+=qr(VC||(VC=Ha(["A ",",",",0,0,",",",",",""])),S[0],S[0],v,e+p*S[0],t)),b+=qr(HC||(HC=Ha(["L ",",",""])),e+r-p*S[1],t),S[1]>0&&(b+=qr(qC||(qC=Ha(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],v,e+r,t+h*S[1])),b+=qr(GC||(GC=Ha(["L ",",",""])),e+r,t+n-h*S[2]),S[2]>0&&(b+=qr(KC||(KC=Ha(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],v,e+r-p*S[2],t+n)),b+=qr(XC||(XC=Ha(["L ",",",""])),e+p*S[3],t+n),S[3]>0&&(b+=qr(YC||(YC=Ha(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],v,e,t+n-h*S[3])),b+="Z"}else if(f>0&&i===+i&&i>0){var I=Math.min(f,i);b=qr(ZC||(ZC=Ha(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*I,I,I,v,e+p*I,t,e+r-p*I,t,I,I,v,e+r,t+h*I,e+r,t+n-h*I,I,I,v,e+r-p*I,t+n,e+p*I,t+n,I,I,v,e,t+n-h*I)}else b=qr(QC||(QC=Ha(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return b},n_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FP=e=>{var t=Ar(e,n_),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:c,width:f,height:h,radius:p,className:v}=t,{animationEasing:b,animationDuration:S,animationBegin:C,isAnimationActive:O,isUpdateAnimationActive:I}=t,P=_.useRef(f),D=_.useRef(h),M=_.useRef(a),R=_.useRef(c),B=_.useMemo(()=>({x:a,y:c,width:f,height:h,radius:p}),[a,c,f,h,p]),W=Ul(B,"rectangle-");if(a!==+a||c!==+c||f!==+f||h!==+h||f===0||h===0)return null;var $=zt("recharts-rectangle",v);if(!I){var H=qn(t),{radius:Z}=H,K=t_(H,bU);return _.createElement("path",Z0({},K,{x:No(a),y:No(c),width:No(f),height:No(h),radius:typeof p=="number"?p:void 0,className:$,d:r_(a,c,f,h,p)}))}var pe=P.current,se=D.current,ie=M.current,Ae=R.current,Ce="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),Re=DP(["strokeDasharray"],S,typeof b=="string"?b:n_.animationEasing);return _.createElement(zl,{animationId:W,key:W,canBegin:n>0,duration:S,easing:b,isActive:I,begin:C},J=>{var oe=Ut(pe,f,J),ue=Ut(se,h,J),ve=Ut(ie,a,J),Q=Ut(Ae,c,J);r.current&&(P.current=oe,D.current=ue,M.current=ve,R.current=Q);var le;O?J>0?le={transition:Re,strokeDasharray:te}:le={strokeDasharray:Ce}:le={strokeDasharray:te};var Ue=qn(t),{radius:Be}=Ue,Ge=t_(Ue,wU);return _.createElement("path",Z0({},Ge,{radius:typeof p=="number"?p:void 0,className:$,d:r_(ve,Q,oe,ue,p),ref:r,style:e_(e_({},le),t.style)}))})};function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){_U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=OU(e,"string");return typeof t=="symbol"?t:t+""}function OU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q0=Math.PI/180,IU=e=>e*180/Math.PI,ln=(e,t,r,n)=>({x:e+Math.cos(-Q0*n)*r,y:t+Math.sin(-Q0*n)*r}),zP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},PU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},jU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,c=PU({x:r,y:n},{x:i,y:a});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,h=Math.acos(f);return n>a&&(h=2*Math.PI-h),{radius:c,angle:IU(h),angleInRadian:h}},kU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},TU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),c=Math.min(i,a);return e+c*360},RU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=jU({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:h,endAngle:p}=kU(t),v=a,b;if(h<=p){for(;v>p;)v-=360;for(;v<h;)v+=360;b=v>=h&&v<=p}else{for(;v>h;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=h}return b?a_(a_({},t),{},{radius:i,angle:TU(v,t)}):null};function UP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,c=ln(t,r,n,i),f=ln(t,r,n,a);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var s_,o_,l_,c_,u_,d_,f_;function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var DU=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Hh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:c,cornerRadius:f,cornerIsExternal:h}=e,p=f*(c?1:-1)+n,v=Math.asin(f/p)/Q0,b=h?i:i+a*v,S=ln(t,r,p,b),C=ln(t,r,n,b),O=h?i-a*v:i,I=ln(t,r,p*Math.cos(v*Q0),O);return{center:S,circleTangency:C,lineTangency:I,theta:v}},$P=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:c}=e,f=DU(a,c),h=a+f,p=ln(t,r,i,a),v=ln(t,r,i,h),b=qr(s_||(s_=xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,i,i,+(Math.abs(f)>180),+(a>h),v.x,v.y);if(n>0){var S=ln(t,r,n,a),C=ln(t,r,n,h);b+=qr(o_||(o_=xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),C.x,C.y,n,n,+(Math.abs(f)>180),+(a<=h),S.x,S.y)}else b+=qr(l_||(l_=xl(["L ",","," Z"])),t,r);return b},MU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}=e,v=kn(p-h),{circleTangency:b,lineTangency:S,theta:C}=Hh({cx:t,cy:r,radius:i,angle:h,sign:v,cornerRadius:a,cornerIsExternal:f}),{circleTangency:O,lineTangency:I,theta:P}=Hh({cx:t,cy:r,radius:i,angle:p,sign:-v,cornerRadius:a,cornerIsExternal:f}),D=f?Math.abs(h-p):Math.abs(h-p)-C-P;if(D<0)return c?qr(c_||(c_=xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,a,a,a*2,a,a,-a*2):$P({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:h,endAngle:p});var M=qr(u_||(u_=xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,a,a,+(v<0),b.x,b.y,i,i,+(D>180),+(v<0),O.x,O.y,a,a,+(v<0),I.x,I.y);if(n>0){var{circleTangency:R,lineTangency:B,theta:W}=Hh({cx:t,cy:r,radius:n,angle:h,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),{circleTangency:$,lineTangency:H,theta:Z}=Hh({cx:t,cy:r,radius:n,angle:p,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),K=f?Math.abs(h-p):Math.abs(h-p)-W-Z;if(K<0&&a===0)return"".concat(M,"L").concat(t,",").concat(r,"Z");M+=qr(d_||(d_=xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),H.x,H.y,a,a,+(v<0),$.x,$.y,n,n,+(K>180),+(v>0),R.x,R.y,a,a,+(v<0),B.x,B.y)}else M+=qr(f_||(f_=xl(["L",",","Z"])),t,r);return M},LU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WP=e=>{var t=Ar(e,LU),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:v,className:b}=t;if(a<i||p===v)return null;var S=zt("recharts-sector",b),C=a-i,O=si(c,C,0,!0),I;return O>0&&Math.abs(p-v)<360?I=MU({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(O,C/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:v}):I=$P({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:p,endAngle:v}),_.createElement("path",ey({},qn(t),{className:S,d:I}))};function BU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(S4(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:c,angle:f}=t,h=ln(n,i,a,f),p=ln(n,i,c,f);return[{x:h.x,y:h.y},{x:p.x,y:p.y}]}return UP(t)}}var _x={},Nx={},Ox={},h_;function FU(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ox)),Ox}var p_;function zU(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Nx)),Nx}var m_;function UU(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M4(),r=zU();function n(i,a,c){c&&typeof c!="number"&&t.isIterateeCall(i,a,c)&&(a=c=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),c=c===void 0?i<a?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((a-i)/(c||1)),0),h=new Array(f);for(let p=0;p<f;p++)h[p]=i,i+=c;return h}e.range=n})(_x)),_x}var Ix,g_;function $U(){return g_||(g_=1,Ix=UU().range),Ix}var WU=$U();const VP=fa(WU);function Oo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bb(e){let t,r,n;e.length!==2?(t=Oo,r=(f,h)=>Oo(e(f),h),n=(f,h)=>e(f)-h):(t=e===Oo||e===VU?e:HU,r=e,n=e);function i(f,h,p=0,v=f.length){if(p<v){if(t(h,h)!==0)return v;do{const b=p+v>>>1;r(f[b],h)<0?p=b+1:v=b}while(p<v)}return p}function a(f,h,p=0,v=f.length){if(p<v){if(t(h,h)!==0)return v;do{const b=p+v>>>1;r(f[b],h)<=0?p=b+1:v=b}while(p<v)}return p}function c(f,h,p=0,v=f.length){const b=i(f,h,p,v-1);return b>p&&n(f[b-1],h)>-n(f[b],h)?b-1:b}return{left:i,center:c,right:a}}function HU(){return 0}function HP(e){return e===null?NaN:+e}function*qU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const GU=bb(Oo),tf=GU.right;bb(HP).center;class x_ extends Map{constructor(t,r=YU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(v_(this,t))}has(t){return super.has(v_(this,t))}set(t,r){return super.set(KU(this,t),r)}delete(t){return super.delete(XU(this,t))}}function v_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function KU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZU(e=Oo){if(e===Oo)return qP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QU=Math.sqrt(50),JU=Math.sqrt(10),e$=Math.sqrt(2);function J0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),c=a>=QU?10:a>=JU?5:a>=e$?2:1;let f,h,p;return i<0?(p=Math.pow(10,-i)/c,f=Math.round(e*p),h=Math.round(t*p),f/p<e&&++f,h/p>t&&--h,p=-p):(p=Math.pow(10,i)*c,f=Math.round(e/p),h=Math.round(t/p),f*p<e&&++f,h*p>t&&--h),h<f&&.5<=r&&r<2?J0(e,t,r*2):[f,h,p]}function ty(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,c]=n?J0(t,e,r):J0(e,t,r);if(!(a>=i))return[];const f=a-i+1,h=new Array(f);if(n)if(c<0)for(let p=0;p<f;++p)h[p]=(a-p)/-c;else for(let p=0;p<f;++p)h[p]=(a-p)*c;else if(c<0)for(let p=0;p<f;++p)h[p]=(i+p)/-c;else for(let p=0;p<f;++p)h[p]=(i+p)*c;return h}function ry(e,t,r){return t=+t,e=+e,r=+r,J0(e,t,r)[2]}function ny(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ry(t,e,r):ry(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function y_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?qP:ZU(i);n>r;){if(n-r>600){const h=n-r+1,p=t-r+1,v=Math.log(h),b=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*b*(h-b)/h)*(p-h/2<0?-1:1),C=Math.max(r,Math.floor(t-p*b/h+S)),O=Math.min(n,Math.floor(t+(h-p)*b/h+S));GP(e,t,C,O,i)}const a=e[t];let c=r,f=n;for(ed(e,r,t),i(e[n],a)>0&&ed(e,r,n);c<f;){for(ed(e,c,f),++c,--f;i(e[c],a)<0;)++c;for(;i(e[f],a)>0;)--f}i(e[r],a)===0?ed(e,r,f):(++f,ed(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function ed(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function t$(e,t,r){if(e=Float64Array.from(qU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b_(e);if(t>=1)return y_(e);var n,i=(n-1)*t,a=Math.floor(i),c=y_(GP(e,a).subarray(0,a+1)),f=b_(e.subarray(a+1));return c+(f-c)*(i-a)}}function r$(e,t,r=HP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),c=+r(e[a],a,e),f=+r(e[a+1],a+1,e);return c+(f-c)*(i-a)}}function n$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iy=Symbol("implicit");function wb(){var e=new x_,t=[],r=[],n=iy;function i(a){let c=e.get(a);if(c===void 0){if(n!==iy)return n;e.set(a,c=t.push(a)-1)}return r[c%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new x_;for(const c of a)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wb(t,r).unknown(n)},pa.apply(i,arguments),i}function Eb(){var e=wb().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,c,f=!1,h=0,p=0,v=.5;delete e.unknown;function b(){var S=t().length,C=i<n,O=C?i:n,I=C?n:i;a=(I-O)/Math.max(1,S-h+p*2),f&&(a=Math.floor(a)),O+=(I-O-a*(S-h))*v,c=a*(1-h),f&&(O=Math.round(O),c=Math.round(c));var P=n$(S).map(function(D){return O+a*D});return r(C?P.reverse():P)}return e.domain=function(S){return arguments.length?(t(S),b()):t()},e.range=function(S){return arguments.length?([n,i]=S,n=+n,i=+i,b()):[n,i]},e.rangeRound=function(S){return[n,i]=S,n=+n,i=+i,f=!0,b()},e.bandwidth=function(){return c},e.step=function(){return a},e.round=function(S){return arguments.length?(f=!!S,b()):f},e.padding=function(S){return arguments.length?(h=Math.min(1,p=+S),b()):h},e.paddingInner=function(S){return arguments.length?(h=Math.min(1,S),b()):h},e.paddingOuter=function(S){return arguments.length?(p=+S,b()):p},e.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),b()):v},e.copy=function(){return Eb(t(),[n,i]).round(f).paddingInner(h).paddingOuter(p).align(v)},pa.apply(b(),arguments)}function KP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KP(t())},e}function i$(){return KP(Eb.apply(null,arguments).paddingInner(1))}function Sb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rf(){}var Rd=.7,ep=1/Rd,Lc="\\s*([+-]?\\d+)\\s*",Dd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a$=/^#([0-9a-f]{3,8})$/,s$=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),o$=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),l$=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${Dd}\\)$`),c$=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${Dd}\\)$`),u$=new RegExp(`^hsl\\(${Dd},${Xa},${Xa}\\)$`),d$=new RegExp(`^hsla\\(${Dd},${Xa},${Xa},${Dd}\\)$`),w_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sb(rf,Md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:E_,formatHex:E_,formatHex8:f$,formatHsl:h$,formatRgb:S_,toString:S_});function E_(){return this.rgb().formatHex()}function f$(){return this.rgb().formatHex8()}function h$(){return YP(this).formatHsl()}function S_(){return this.rgb().formatRgb()}function Md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=a$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?A_(t):r===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s$.exec(e))?new Ci(t[1],t[2],t[3],1):(t=o$.exec(e))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=l$.exec(e))?qh(t[1],t[2],t[3],t[4]):(t=c$.exec(e))?qh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=u$.exec(e))?N_(t[1],t[2]/100,t[3]/100,1):(t=d$.exec(e))?N_(t[1],t[2]/100,t[3]/100,t[4]):w_.hasOwnProperty(e)?A_(w_[e]):e==="transparent"?new Ci(NaN,NaN,NaN,0):null}function A_(e){return new Ci(e>>16&255,e>>8&255,e&255,1)}function qh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ci(e,t,r,n)}function p$(e){return e instanceof rf||(e=Md(e)),e?(e=e.rgb(),new Ci(e.r,e.g,e.b,e.opacity)):new Ci}function ay(e,t,r,n){return arguments.length===1?p$(e):new Ci(e,t,r,n??1)}function Ci(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sb(Ci,ay,XP(rf,{brighter(e){return e=e==null?ep:Math.pow(ep,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rd:Math.pow(Rd,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ci(Sl(this.r),Sl(this.g),Sl(this.b),tp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C_,formatHex:C_,formatHex8:m$,formatRgb:__,toString:__}));function C_(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}`}function m$(){return`#${vl(this.r)}${vl(this.g)}${vl(this.b)}${vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function __(){const e=tp(this.opacity);return`${e===1?"rgb(":"rgba("}${Sl(this.r)}, ${Sl(this.g)}, ${Sl(this.b)}${e===1?")":`, ${e})`}`}function tp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vl(e){return e=Sl(e),(e<16?"0":"")+e.toString(16)}function N_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ka(e,t,r,n)}function YP(e){if(e instanceof ka)return new ka(e.h,e.s,e.l,e.opacity);if(e instanceof rf||(e=Md(e)),!e)return new ka;if(e instanceof ka)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),c=NaN,f=a-i,h=(a+i)/2;return f?(t===a?c=(r-n)/f+(r<n)*6:r===a?c=(n-t)/f+2:c=(t-r)/f+4,f/=h<.5?a+i:2-a-i,c*=60):f=h>0&&h<1?0:c,new ka(c,f,h,e.opacity)}function g$(e,t,r,n){return arguments.length===1?YP(e):new ka(e,t,r,n??1)}function ka(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sb(ka,g$,XP(rf,{brighter(e){return e=e==null?ep:Math.pow(ep,e),new ka(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rd:Math.pow(Rd,e),new ka(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ci(Px(e>=240?e-240:e+120,i,n),Px(e,i,n),Px(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ka(O_(this.h),Gh(this.s),Gh(this.l),tp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tp(this.opacity);return`${e===1?"hsl(":"hsla("}${O_(this.h)}, ${Gh(this.s)*100}%, ${Gh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O_(e){return e=(e||0)%360,e<0?e+360:e}function Gh(e){return Math.max(0,Math.min(1,e||0))}function Px(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ab=e=>()=>e;function x$(e,t){return function(r){return e+r*t}}function v$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function y$(e){return(e=+e)==1?ZP:function(t,r){return r-t?v$(t,r,e):Ab(isNaN(t)?r:t)}}function ZP(e,t){var r=t-e;return r?x$(e,r):Ab(isNaN(e)?t:e)}const I_=(function e(t){var r=y$(t);function n(i,a){var c=r((i=ay(i)).r,(a=ay(a)).r),f=r(i.g,a.g),h=r(i.b,a.b),p=ZP(i.opacity,a.opacity);return function(v){return i.r=c(v),i.g=f(v),i.b=h(v),i.opacity=p(v),i+""}}return n.gamma=e,n})(1);function b$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function w$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function E$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),c;for(c=0;c<n;++c)i[c]=tu(e[c],t[c]);for(;c<r;++c)a[c]=t[c];return function(f){for(c=0;c<n;++c)a[c]=i[c](f);return a}}function S$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function rp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function A$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=tu(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var sy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jx=new RegExp(sy.source,"g");function C$(e){return function(){return e}}function _$(e){return function(t){return e(t)+""}}function N$(e,t){var r=sy.lastIndex=jx.lastIndex=0,n,i,a,c=-1,f=[],h=[];for(e=e+"",t=t+"";(n=sy.exec(e))&&(i=jx.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),f[c]?f[c]+=a:f[++c]=a),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,h.push({i:c,x:rp(n,i)})),r=jx.lastIndex;return r<t.length&&(a=t.slice(r),f[c]?f[c]+=a:f[++c]=a),f.length<2?h[0]?_$(h[0].x):C$(t):(t=h.length,function(p){for(var v=0,b;v<t;++v)f[(b=h[v]).i]=b.x(p);return f.join("")})}function tu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ab(t):(r==="number"?rp:r==="string"?(n=Md(t))?(t=n,I_):N$:t instanceof Md?I_:t instanceof Date?S$:w$(t)?b$:Array.isArray(t)?E$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?A$:rp)(e,t)}function Cb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function O$(e,t){t===void 0&&(t=e,e=tu);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return a[f](c-f)}}function I$(e){return function(){return e}}function np(e){return+e}var P_=[0,1];function fi(e){return e}function oy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:I$(isNaN(t)?NaN:.5)}function P$(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function j$(e,t,r){var n=e[0],i=e[1],a=t[0],c=t[1];return i<n?(n=oy(i,n),a=r(c,a)):(n=oy(n,i),a=r(a,c)),function(f){return a(n(f))}}function k$(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=oy(e[c],e[c+1]),a[c]=r(t[c],t[c+1]);return function(f){var h=tf(e,f,1,n)-1;return a[h](i[h](f))}}function nf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nm(){var e=P_,t=P_,r=tu,n,i,a,c=fi,f,h,p;function v(){var S=Math.min(e.length,t.length);return c!==fi&&(c=P$(e[0],e[S-1])),f=S>2?k$:j$,h=p=null,b}function b(S){return S==null||isNaN(S=+S)?a:(h||(h=f(e.map(n),t,r)))(n(c(S)))}return b.invert=function(S){return c(i((p||(p=f(t,e.map(n),rp)))(S)))},b.domain=function(S){return arguments.length?(e=Array.from(S,np),v()):e.slice()},b.range=function(S){return arguments.length?(t=Array.from(S),v()):t.slice()},b.rangeRound=function(S){return t=Array.from(S),r=Cb,v()},b.clamp=function(S){return arguments.length?(c=S?!0:fi,v()):c!==fi},b.interpolate=function(S){return arguments.length?(r=S,v()):r},b.unknown=function(S){return arguments.length?(a=S,b):a},function(S,C){return n=S,i=C,v()}}function _b(){return nm()(fi,fi)}function T$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ip(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Vc(e){return e=ip(Math.abs(e)),e?e[1]:NaN}function R$(e,t){return function(r,n){for(var i=r.length,a=[],c=0,f=e[0],h=0;i>0&&f>0&&(h+f+1>n&&(f=Math.max(1,n-h)),a.push(r.substring(i-=f,i+f)),!((h+=f+1)>n));)f=e[c=(c+1)%e.length];return a.reverse().join(t)}}function D$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var M$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ld(e){if(!(t=M$.exec(e)))throw new Error("invalid format: "+e);var t;return new Nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ld.prototype=Nb.prototype;function Nb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function L$(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var QP;function B$(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(QP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return a===c?n:a>c?n+new Array(a-c+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ip(e,Math.max(0,t+a-1))[0]}function j_(e,t){var r=ip(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const k_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>j_(e*100,t),r:j_,s:B$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function T_(e){return e}var R_=Array.prototype.map,D_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function F$(e){var t=e.grouping===void 0||e.thousands===void 0?T_:R$(R_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?T_:D$(R_.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function p(b){b=Ld(b);var S=b.fill,C=b.align,O=b.sign,I=b.symbol,P=b.zero,D=b.width,M=b.comma,R=b.precision,B=b.trim,W=b.type;W==="n"?(M=!0,W="g"):k_[W]||(R===void 0&&(R=12),B=!0,W="g"),(P||S==="0"&&C==="=")&&(P=!0,S="0",C="=");var $=I==="$"?r:I==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=I==="$"?n:/[%p]/.test(W)?c:"",Z=k_[W],K=/[defgprs%]/.test(W);R=R===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function pe(se){var ie=$,Ae=H,Ce,te,Re;if(W==="c")Ae=Z(se)+Ae,se="";else{se=+se;var J=se<0||1/se<0;if(se=isNaN(se)?h:Z(Math.abs(se),R),B&&(se=L$(se)),J&&+se==0&&O!=="+"&&(J=!1),ie=(J?O==="("?O:f:O==="-"||O==="("?"":O)+ie,Ae=(W==="s"?D_[8+QP/3]:"")+Ae+(J&&O==="("?")":""),K){for(Ce=-1,te=se.length;++Ce<te;)if(Re=se.charCodeAt(Ce),48>Re||Re>57){Ae=(Re===46?i+se.slice(Ce+1):se.slice(Ce))+Ae,se=se.slice(0,Ce);break}}}M&&!P&&(se=t(se,1/0));var oe=ie.length+se.length+Ae.length,ue=oe<D?new Array(D-oe+1).join(S):"";switch(M&&P&&(se=t(ue+se,ue.length?D-Ae.length:1/0),ue=""),C){case"<":se=ie+se+Ae+ue;break;case"=":se=ie+ue+se+Ae;break;case"^":se=ue.slice(0,oe=ue.length>>1)+ie+se+Ae+ue.slice(oe);break;default:se=ue+ie+se+Ae;break}return a(se)}return pe.toString=function(){return b+""},pe}function v(b,S){var C=p((b=Ld(b),b.type="f",b)),O=Math.max(-8,Math.min(8,Math.floor(Vc(S)/3)))*3,I=Math.pow(10,-O),P=D_[8+O/3];return function(D){return C(I*D)+P}}return{format:p,formatPrefix:v}}var Kh,Ob,JP;z$({thousands:",",grouping:[3],currency:["$",""]});function z$(e){return Kh=F$(e),Ob=Kh.format,JP=Kh.formatPrefix,Kh}function U$(e){return Math.max(0,-Vc(Math.abs(e)))}function $$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vc(t)/3)))*3-Vc(Math.abs(e)))}function W$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vc(t)-Vc(e))+1}function ej(e,t,r,n){var i=ny(e,t,r),a;switch(n=Ld(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=$$(i,c))&&(n.precision=a),JP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=W$(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=U$(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ob(n)}function Do(e){var t=e.domain;return e.ticks=function(r){var n=t();return ty(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return ej(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,c=n[i],f=n[a],h,p,v=10;for(f<c&&(p=c,c=f,f=p,p=i,i=a,a=p);v-- >0;){if(p=ry(c,f,r),p===h)return n[i]=c,n[a]=f,t(n);if(p>0)c=Math.floor(c/p)*p,f=Math.ceil(f/p)*p;else if(p<0)c=Math.ceil(c*p)/p,f=Math.floor(f*p)/p;else break;h=p}return e},e}function tj(){var e=_b();return e.copy=function(){return nf(e,tj())},pa.apply(e,arguments),Do(e)}function rj(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,np),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return rj(e).unknown(t)},e=arguments.length?Array.from(e,np):[0,1],Do(r)}function nj(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],c;return a<i&&(c=r,r=n,n=c,c=i,i=a,a=c),e[r]=t.floor(i),e[n]=t.ceil(a),e}function M_(e){return Math.log(e)}function L_(e){return Math.exp(e)}function V$(e){return-Math.log(-e)}function H$(e){return-Math.exp(-e)}function q$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function G$(e){return e===10?q$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function K$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B_(e){return(t,r)=>-e(-t,r)}function Ib(e){const t=e(M_,L_),r=t.domain;let n=10,i,a;function c(){return i=K$(n),a=G$(n),r()[0]<0?(i=B_(i),a=B_(a),e(V$,H$)):e(M_,L_),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const h=r();let p=h[0],v=h[h.length-1];const b=v<p;b&&([p,v]=[v,p]);let S=i(p),C=i(v),O,I;const P=f==null?10:+f;let D=[];if(!(n%1)&&C-S<P){if(S=Math.floor(S),C=Math.ceil(C),p>0){for(;S<=C;++S)for(O=1;O<n;++O)if(I=S<0?O/a(-S):O*a(S),!(I<p)){if(I>v)break;D.push(I)}}else for(;S<=C;++S)for(O=n-1;O>=1;--O)if(I=S>0?O/a(-S):O*a(S),!(I<p)){if(I>v)break;D.push(I)}D.length*2<P&&(D=ty(p,v,P))}else D=ty(S,C,Math.min(C-S,P)).map(a);return b?D.reverse():D},t.tickFormat=(f,h)=>{if(f==null&&(f=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=Ld(h)).precision==null&&(h.trim=!0),h=Ob(h)),f===1/0)return h;const p=Math.max(1,n*f/t.ticks().length);return v=>{let b=v/a(Math.round(i(v)));return b*n<n-.5&&(b*=n),b<=p?h(v):""}},t.nice=()=>r(nj(r(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function ij(){const e=Ib(nm()).domain([1,10]);return e.copy=()=>nf(e,ij()).base(e.base()),pa.apply(e,arguments),e}function F_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Pb(e){var t=1,r=e(F_(t),z_(t));return r.constant=function(n){return arguments.length?e(F_(t=+n),z_(t)):t},Do(r)}function aj(){var e=Pb(nm());return e.copy=function(){return nf(e,aj()).constant(e.constant())},pa.apply(e,arguments)}function U_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function X$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y$(e){return e<0?-e*e:e*e}function jb(e){var t=e(fi,fi),r=1;function n(){return r===1?e(fi,fi):r===.5?e(X$,Y$):e(U_(r),U_(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Do(t)}function kb(){var e=jb(nm());return e.copy=function(){return nf(e,kb()).exponent(e.exponent())},pa.apply(e,arguments),e}function Z$(){return kb.apply(null,arguments).exponent(.5)}function $_(e){return Math.sign(e)*e*e}function Q$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function sj(){var e=_b(),t=[0,1],r=!1,n;function i(a){var c=Q$(e(a));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(a){return e.invert($_(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,np)).map($_)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return sj(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pa.apply(i,arguments),Do(i)}function oj(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=r$(e,c/f);return a}function a(c){return c==null||isNaN(c=+c)?n:t[tf(r,c)]}return a.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},a.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Oo),i()},a.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},a.unknown=function(c){return arguments.length?(n=c,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return oj().domain(e).range(t).unknown(n)},pa.apply(a,arguments)}function lj(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function c(h){return h!=null&&h<=h?i[tf(n,h,0,r)]:a}function f(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return c}return c.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,f()):[e,t]},c.range=function(h){return arguments.length?(r=(i=Array.from(h)).length-1,f()):i.slice()},c.invertExtent=function(h){var p=i.indexOf(h);return p<0?[NaN,NaN]:p<1?[e,n[0]]:p>=r?[n[r-1],t]:[n[p-1],n[p]]},c.unknown=function(h){return arguments.length&&(a=h),c},c.thresholds=function(){return n.slice()},c.copy=function(){return lj().domain([e,t]).range(i).unknown(a)},pa.apply(Do(c),arguments)}function cj(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[tf(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var c=t.indexOf(a);return[e[c-1],e[c]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cj().domain(e).range(t).unknown(r)},pa.apply(i,arguments)}const kx=new Date,Tx=new Date;function bn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const c=i(a),f=i.ceil(a);return a-c<f-a?c:f},i.offset=(a,c)=>(t(a=new Date(+a),c==null?1:Math.floor(c)),a),i.range=(a,c,f)=>{const h=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<c)||!(f>0))return h;let p;do h.push(p=new Date(+a)),t(a,f),e(a);while(p<a&&a<c);return h},i.filter=a=>bn(c=>{if(c>=c)for(;e(c),!a(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!a(c););else for(;--f>=0;)for(;t(c,1),!a(c););}),r&&(i.count=(a,c)=>(kx.setTime(+a),Tx.setTime(+c),e(kx),e(Tx),Math.floor(r(kx,Tx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?c=>n(c)%a===0:c=>i.count(0,c)%a===0):i)),i}const ap=bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ap.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ap);ap.range;const Is=1e3,sa=Is*60,Ps=sa*60,Bs=Ps*24,Tb=Bs*7,W_=Bs*30,Rx=Bs*365,yl=bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCSeconds());yl.range;const Rb=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Is)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getMinutes());Rb.range;const Db=bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*sa)},(e,t)=>(t-e)/sa,e=>e.getUTCMinutes());Db.range;const Mb=bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Is-e.getMinutes()*sa)},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getHours());Mb.range;const Lb=bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCHours());Lb.range;const af=bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*sa)/Bs,e=>e.getDate()-1);af.range;const im=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>e.getUTCDate()-1);im.range;const uj=bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bs,e=>Math.floor(e/Bs));uj.range;function $l(e){return bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*sa)/Tb)}const am=$l(0),sp=$l(1),J$=$l(2),eW=$l(3),Hc=$l(4),tW=$l(5),rW=$l(6);am.range;sp.range;J$.range;eW.range;Hc.range;tW.range;rW.range;function Wl(e){return bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Tb)}const sm=Wl(0),op=Wl(1),nW=Wl(2),iW=Wl(3),qc=Wl(4),aW=Wl(5),sW=Wl(6);sm.range;op.range;nW.range;iW.range;qc.range;aW.range;sW.range;const Bb=bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Bb.range;const Fb=bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fb.range;const Fs=bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fs.range;const zs=bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zs.range;function dj(e,t,r,n,i,a){const c=[[yl,1,Is],[yl,5,5*Is],[yl,15,15*Is],[yl,30,30*Is],[a,1,sa],[a,5,5*sa],[a,15,15*sa],[a,30,30*sa],[i,1,Ps],[i,3,3*Ps],[i,6,6*Ps],[i,12,12*Ps],[n,1,Bs],[n,2,2*Bs],[r,1,Tb],[t,1,W_],[t,3,3*W_],[e,1,Rx]];function f(p,v,b){const S=v<p;S&&([p,v]=[v,p]);const C=b&&typeof b.range=="function"?b:h(p,v,b),O=C?C.range(p,+v+1):[];return S?O.reverse():O}function h(p,v,b){const S=Math.abs(v-p)/b,C=bb(([,,P])=>P).right(c,S);if(C===c.length)return e.every(ny(p/Rx,v/Rx,b));if(C===0)return ap.every(Math.max(ny(p,v,b),1));const[O,I]=c[S/c[C-1][2]<c[C][2]/S?C-1:C];return O.every(I)}return[f,h]}const[oW,lW]=dj(zs,Fb,sm,uj,Lb,Db),[cW,uW]=dj(Fs,Bb,am,af,Mb,Rb);function Dx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function td(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function dW(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,c=e.shortDays,f=e.months,h=e.shortMonths,p=rd(i),v=nd(i),b=rd(a),S=nd(a),C=rd(c),O=nd(c),I=rd(f),P=nd(f),D=rd(h),M=nd(h),R={a:J,A:oe,b:ue,B:ve,c:null,d:X_,e:X_,f:RW,g:VW,G:qW,H:jW,I:kW,j:TW,L:fj,m:DW,M:MW,p:Q,q:le,Q:Q_,s:J_,S:LW,u:BW,U:FW,V:zW,w:UW,W:$W,x:null,X:null,y:WW,Y:HW,Z:GW,"%":Z_},B={a:Ue,A:Be,b:Ge,B:X,c:null,d:Y_,e:Y_,f:ZW,g:oV,G:cV,H:KW,I:XW,j:YW,L:pj,m:QW,M:JW,p:_e,q:ze,Q:Q_,s:J_,S:eV,u:tV,U:rV,V:nV,w:iV,W:aV,x:null,X:null,y:sV,Y:lV,Z:uV,"%":Z_},W={a:pe,A:se,b:ie,B:Ae,c:Ce,d:G_,e:G_,f:NW,g:q_,G:H_,H:K_,I:K_,j:SW,L:_W,m:EW,M:AW,p:K,q:wW,Q:IW,s:PW,S:CW,u:gW,U:xW,V:vW,w:mW,W:yW,x:te,X:Re,y:q_,Y:H_,Z:bW,"%":OW};R.x=$(r,R),R.X=$(n,R),R.c=$(t,R),B.x=$(r,B),B.X=$(n,B),B.c=$(t,B);function $(me,He){return function(ge){var we=[],ke=-1,We=0,it=me.length,jt,dt,_t;for(ge instanceof Date||(ge=new Date(+ge));++ke<it;)me.charCodeAt(ke)===37&&(we.push(me.slice(We,ke)),(dt=V_[jt=me.charAt(++ke)])!=null?jt=me.charAt(++ke):dt=jt==="e"?" ":"0",(_t=He[jt])&&(jt=_t(ge,dt)),we.push(jt),We=ke+1);return we.push(me.slice(We,ke)),we.join("")}}function H(me,He){return function(ge){var we=td(1900,void 0,1),ke=Z(we,me,ge+="",0),We,it;if(ke!=ge.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(He&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(We=Mx(td(we.y,0,1)),it=We.getUTCDay(),We=it>4||it===0?op.ceil(We):op(We),We=im.offset(We,(we.V-1)*7),we.y=We.getUTCFullYear(),we.m=We.getUTCMonth(),we.d=We.getUTCDate()+(we.w+6)%7):(We=Dx(td(we.y,0,1)),it=We.getDay(),We=it>4||it===0?sp.ceil(We):sp(We),We=af.offset(We,(we.V-1)*7),we.y=We.getFullYear(),we.m=We.getMonth(),we.d=We.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),it="Z"in we?Mx(td(we.y,0,1)).getUTCDay():Dx(td(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(it+5)%7:we.w+we.U*7-(it+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Mx(we)):Dx(we)}}function Z(me,He,ge,we){for(var ke=0,We=He.length,it=ge.length,jt,dt;ke<We;){if(we>=it)return-1;if(jt=He.charCodeAt(ke++),jt===37){if(jt=He.charAt(ke++),dt=W[jt in V_?He.charAt(ke++):jt],!dt||(we=dt(me,ge,we))<0)return-1}else if(jt!=ge.charCodeAt(we++))return-1}return we}function K(me,He,ge){var we=p.exec(He.slice(ge));return we?(me.p=v.get(we[0].toLowerCase()),ge+we[0].length):-1}function pe(me,He,ge){var we=C.exec(He.slice(ge));return we?(me.w=O.get(we[0].toLowerCase()),ge+we[0].length):-1}function se(me,He,ge){var we=b.exec(He.slice(ge));return we?(me.w=S.get(we[0].toLowerCase()),ge+we[0].length):-1}function ie(me,He,ge){var we=D.exec(He.slice(ge));return we?(me.m=M.get(we[0].toLowerCase()),ge+we[0].length):-1}function Ae(me,He,ge){var we=I.exec(He.slice(ge));return we?(me.m=P.get(we[0].toLowerCase()),ge+we[0].length):-1}function Ce(me,He,ge){return Z(me,t,He,ge)}function te(me,He,ge){return Z(me,r,He,ge)}function Re(me,He,ge){return Z(me,n,He,ge)}function J(me){return c[me.getDay()]}function oe(me){return a[me.getDay()]}function ue(me){return h[me.getMonth()]}function ve(me){return f[me.getMonth()]}function Q(me){return i[+(me.getHours()>=12)]}function le(me){return 1+~~(me.getMonth()/3)}function Ue(me){return c[me.getUTCDay()]}function Be(me){return a[me.getUTCDay()]}function Ge(me){return h[me.getUTCMonth()]}function X(me){return f[me.getUTCMonth()]}function _e(me){return i[+(me.getUTCHours()>=12)]}function ze(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var He=$(me+="",R);return He.toString=function(){return me},He},parse:function(me){var He=H(me+="",!1);return He.toString=function(){return me},He},utcFormat:function(me){var He=$(me+="",B);return He.toString=function(){return me},He},utcParse:function(me){var He=H(me+="",!0);return He.toString=function(){return me},He}}}var V_={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,fW=/^%/,hW=/[\\^$*+?|[\]().{}]/g;function qt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function pW(e){return e.replace(hW,"\\$&")}function rd(e){return new RegExp("^(?:"+e.map(pW).join("|")+")","i")}function nd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function mW(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gW(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function xW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function vW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function H_(e,t,r){var n=Tn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function q_(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function bW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wW(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function EW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G_(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SW(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K_(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function AW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function CW(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _W(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function NW(e,t,r){var n=Tn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OW(e,t,r){var n=fW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IW(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PW(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function X_(e,t){return qt(e.getDate(),t,2)}function jW(e,t){return qt(e.getHours(),t,2)}function kW(e,t){return qt(e.getHours()%12||12,t,2)}function TW(e,t){return qt(1+af.count(Fs(e),e),t,3)}function fj(e,t){return qt(e.getMilliseconds(),t,3)}function RW(e,t){return fj(e,t)+"000"}function DW(e,t){return qt(e.getMonth()+1,t,2)}function MW(e,t){return qt(e.getMinutes(),t,2)}function LW(e,t){return qt(e.getSeconds(),t,2)}function BW(e){var t=e.getDay();return t===0?7:t}function FW(e,t){return qt(am.count(Fs(e)-1,e),t,2)}function hj(e){var t=e.getDay();return t>=4||t===0?Hc(e):Hc.ceil(e)}function zW(e,t){return e=hj(e),qt(Hc.count(Fs(e),e)+(Fs(e).getDay()===4),t,2)}function UW(e){return e.getDay()}function $W(e,t){return qt(sp.count(Fs(e)-1,e),t,2)}function WW(e,t){return qt(e.getFullYear()%100,t,2)}function VW(e,t){return e=hj(e),qt(e.getFullYear()%100,t,2)}function HW(e,t){return qt(e.getFullYear()%1e4,t,4)}function qW(e,t){var r=e.getDay();return e=r>=4||r===0?Hc(e):Hc.ceil(e),qt(e.getFullYear()%1e4,t,4)}function GW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qt(t/60|0,"0",2)+qt(t%60,"0",2)}function Y_(e,t){return qt(e.getUTCDate(),t,2)}function KW(e,t){return qt(e.getUTCHours(),t,2)}function XW(e,t){return qt(e.getUTCHours()%12||12,t,2)}function YW(e,t){return qt(1+im.count(zs(e),e),t,3)}function pj(e,t){return qt(e.getUTCMilliseconds(),t,3)}function ZW(e,t){return pj(e,t)+"000"}function QW(e,t){return qt(e.getUTCMonth()+1,t,2)}function JW(e,t){return qt(e.getUTCMinutes(),t,2)}function eV(e,t){return qt(e.getUTCSeconds(),t,2)}function tV(e){var t=e.getUTCDay();return t===0?7:t}function rV(e,t){return qt(sm.count(zs(e)-1,e),t,2)}function mj(e){var t=e.getUTCDay();return t>=4||t===0?qc(e):qc.ceil(e)}function nV(e,t){return e=mj(e),qt(qc.count(zs(e),e)+(zs(e).getUTCDay()===4),t,2)}function iV(e){return e.getUTCDay()}function aV(e,t){return qt(op.count(zs(e)-1,e),t,2)}function sV(e,t){return qt(e.getUTCFullYear()%100,t,2)}function oV(e,t){return e=mj(e),qt(e.getUTCFullYear()%100,t,2)}function lV(e,t){return qt(e.getUTCFullYear()%1e4,t,4)}function cV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qc(e):qc.ceil(e),qt(e.getUTCFullYear()%1e4,t,4)}function uV(){return"+0000"}function Z_(){return"%"}function Q_(e){return+e}function J_(e){return Math.floor(+e/1e3)}var bc,gj,xj;dV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dV(e){return bc=dW(e),gj=bc.format,bc.parse,xj=bc.utcFormat,bc.utcParse,bc}function fV(e){return new Date(e)}function hV(e){return e instanceof Date?+e:+new Date(+e)}function zb(e,t,r,n,i,a,c,f,h,p){var v=_b(),b=v.invert,S=v.domain,C=p(".%L"),O=p(":%S"),I=p("%I:%M"),P=p("%I %p"),D=p("%a %d"),M=p("%b %d"),R=p("%B"),B=p("%Y");function W($){return(h($)<$?C:f($)<$?O:c($)<$?I:a($)<$?P:n($)<$?i($)<$?D:M:r($)<$?R:B)($)}return v.invert=function($){return new Date(b($))},v.domain=function($){return arguments.length?S(Array.from($,hV)):S().map(fV)},v.ticks=function($){var H=S();return e(H[0],H[H.length-1],$??10)},v.tickFormat=function($,H){return H==null?W:p(H)},v.nice=function($){var H=S();return(!$||typeof $.range!="function")&&($=t(H[0],H[H.length-1],$??10)),$?S(nj(H,$)):v},v.copy=function(){return nf(v,zb(e,t,r,n,i,a,c,f,h,p))},v}function pV(){return pa.apply(zb(cW,uW,Fs,Bb,am,af,Mb,Rb,yl,gj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mV(){return pa.apply(zb(oW,lW,zs,Fb,sm,im,Lb,Db,yl,xj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,r,n,i,a,c=fi,f=!1,h;function p(b){return b==null||isNaN(b=+b)?h:c(i===0?.5:(b=(a(b)-r)*i,f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t]=b,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),p):[e,t]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function v(b){return function(S){var C,O;return arguments.length?([C,O]=S,c=b(C,O),p):[c(0),c(1)]}}return p.range=v(tu),p.rangeRound=v(Cb),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return a=b,r=b(e),n=b(t),i=r===n?0:1/(n-r),p}}function Mo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function vj(){var e=Do(om()(fi));return e.copy=function(){return Mo(e,vj())},Gs.apply(e,arguments)}function yj(){var e=Ib(om()).domain([1,10]);return e.copy=function(){return Mo(e,yj()).base(e.base())},Gs.apply(e,arguments)}function bj(){var e=Pb(om());return e.copy=function(){return Mo(e,bj()).constant(e.constant())},Gs.apply(e,arguments)}function Ub(){var e=jb(om());return e.copy=function(){return Mo(e,Ub()).exponent(e.exponent())},Gs.apply(e,arguments)}function gV(){return Ub.apply(null,arguments).exponent(.5)}function wj(){var e=[],t=fi;function r(n){if(n!=null&&!isNaN(n=+n))return t((tf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Oo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>t$(e,a/n))},r.copy=function(){return wj(t).domain(e)},Gs.apply(r,arguments)}function lm(){var e=0,t=.5,r=1,n=1,i,a,c,f,h,p=fi,v,b=!1,S;function C(I){return isNaN(I=+I)?S:(I=.5+((I=+v(I))-a)*(n*I<n*a?f:h),p(b?Math.max(0,Math.min(1,I)):I))}C.domain=function(I){return arguments.length?([e,t,r]=I,i=v(e=+e),a=v(t=+t),c=v(r=+r),f=i===a?0:.5/(a-i),h=a===c?0:.5/(c-a),n=a<i?-1:1,C):[e,t,r]},C.clamp=function(I){return arguments.length?(b=!!I,C):b},C.interpolator=function(I){return arguments.length?(p=I,C):p};function O(I){return function(P){var D,M,R;return arguments.length?([D,M,R]=P,p=O$(I,[D,M,R]),C):[p(0),p(.5),p(1)]}}return C.range=O(tu),C.rangeRound=O(Cb),C.unknown=function(I){return arguments.length?(S=I,C):S},function(I){return v=I,i=I(e),a=I(t),c=I(r),f=i===a?0:.5/(a-i),h=a===c?0:.5/(c-a),n=a<i?-1:1,C}}function Ej(){var e=Do(lm()(fi));return e.copy=function(){return Mo(e,Ej())},Gs.apply(e,arguments)}function Sj(){var e=Ib(lm()).domain([.1,1,10]);return e.copy=function(){return Mo(e,Sj()).base(e.base())},Gs.apply(e,arguments)}function Aj(){var e=Pb(lm());return e.copy=function(){return Mo(e,Aj()).constant(e.constant())},Gs.apply(e,arguments)}function $b(){var e=jb(lm());return e.copy=function(){return Mo(e,$b()).exponent(e.exponent())},Gs.apply(e,arguments)}function xV(){return $b.apply(null,arguments).exponent(.5)}const dd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Eb,scaleDiverging:Ej,scaleDivergingLog:Sj,scaleDivergingPow:$b,scaleDivergingSqrt:xV,scaleDivergingSymlog:Aj,scaleIdentity:rj,scaleImplicit:iy,scaleLinear:tj,scaleLog:ij,scaleOrdinal:wb,scalePoint:i$,scalePow:kb,scaleQuantile:oj,scaleQuantize:lj,scaleRadial:sj,scaleSequential:vj,scaleSequentialLog:yj,scaleSequentialPow:Ub,scaleSequentialQuantile:wj,scaleSequentialSqrt:gV,scaleSequentialSymlog:bj,scaleSqrt:Z$,scaleSymlog:aj,scaleThreshold:cj,scaleTime:pV,scaleUtc:mV,tickFormat:ej},Symbol.toStringTag,{value:"Module"}));var Ks=e=>e.chartData,cm=he([Ks],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),um=(e,t,r,n)=>n?cm(e):Ks(e),Cj=(e,t,r)=>r?cm(e):Ks(e);function ko(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Xt(t)&&Xt(r))return!0}return!1}function eN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function _j(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Xt(r))i=r;else if(typeof r=="function")return;if(Xt(n))a=n;else if(typeof n=="function")return;var c=[i,a];if(ko(c))return c}}function vV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ko(n))return eN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Xe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&dC.test(i)){var h=dC.exec(i);if(h==null||h[1]==null||t==null)c=void 0;else{var p=+h[1];c=t[0]-p}}else c=t?.[0];if(a==="auto")t!=null&&(f=Math.max(...t));else if(Xe(a))f=a;else if(typeof a=="function")try{t!=null&&(f=a(t?.[1]))}catch{}else if(typeof a=="string"&&fC.test(a)){var v=fC.exec(a);if(v==null||v[1]==null||t==null)f=void 0;else{var b=+v[1];f=t[1]+b}}else f=t?.[1];var S=[c,f];if(ko(S))return t==null?S:eN(S,t,r)}}}var ru=1e9,yV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vb,jr=!0,ca="[DecimalError] ",Al=ca+"Invalid argument: ",Wb=ca+"Exponent out of range: ",nu=Math.floor,hl=Math.pow,bV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zi,jn=1e7,Sr=7,Nj=9007199254740991,lp=nu(Nj/Sr),nt={};nt.absoluteValue=nt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};nt.comparedTo=nt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};nt.decimalPlaces=nt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};nt.dividedBy=nt.div=function(e){return Ts(this,new this.constructor(e))};nt.dividedToIntegerBy=nt.idiv=function(e){var t=this,r=t.constructor;return dr(Ts(t,new r(e),0,1),r.precision)};nt.equals=nt.eq=function(e){return!this.cmp(e)};nt.exponent=function(){return cn(this)};nt.greaterThan=nt.gt=function(e){return this.cmp(e)>0};nt.greaterThanOrEqualTo=nt.gte=function(e){return this.cmp(e)>=0};nt.isInteger=nt.isint=function(){return this.e>this.d.length-2};nt.isNegative=nt.isneg=function(){return this.s<0};nt.isPositive=nt.ispos=function(){return this.s>0};nt.isZero=function(){return this.s===0};nt.lessThan=nt.lt=function(e){return this.cmp(e)<0};nt.lessThanOrEqualTo=nt.lte=function(e){return this.cmp(e)<1};nt.logarithm=nt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(zi))throw Error(ca+"NaN");if(r.s<1)throw Error(ca+(r.s?"NaN":"-Infinity"));return r.eq(zi)?new n(0):(jr=!1,t=Ts(Bd(r,a),Bd(e,a),a),jr=!0,dr(t,i))};nt.minus=nt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pj(t,e):Oj(t,(e.s=-e.s,e))};nt.modulo=nt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ca+"NaN");return r.s?(jr=!1,t=Ts(r,e,0,1).times(e),jr=!0,r.minus(t)):dr(new n(r),i)};nt.naturalExponential=nt.exp=function(){return Ij(this)};nt.naturalLogarithm=nt.ln=function(){return Bd(this)};nt.negated=nt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};nt.plus=nt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Oj(t,e):Pj(t,(e.s=-e.s,e))};nt.precision=nt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Al+e);if(t=cn(i)+1,n=i.d.length-1,r=n*Sr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};nt.squareRoot=nt.sqrt=function(){var e,t,r,n,i,a,c,f=this,h=f.constructor;if(f.s<1){if(!f.s)return new h(0);throw Error(ca+"NaN")}for(e=cn(f),jr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Ka(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(i.toString()),r=h.precision,i=c=r+3;;)if(a=n,n=a.plus(Ts(f,a,c+2)).times(.5),Ka(a.d).slice(0,c)===(t=Ka(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(dr(a,r+1,0),a.times(a).eq(f)){n=a;break}}else if(t!="9999")break;c+=4}return jr=!0,dr(n,r)};nt.times=nt.mul=function(e){var t,r,n,i,a,c,f,h,p,v=this,b=v.constructor,S=v.d,C=(e=new b(e)).d;if(!v.s||!e.s)return new b(0);for(e.s*=v.s,r=v.e+e.e,h=S.length,p=C.length,h<p&&(a=S,S=C,C=a,c=h,h=p,p=c),a=[],c=h+p,n=c;n--;)a.push(0);for(n=p;--n>=0;){for(t=0,i=h+n;i>n;)f=a[i]+C[n]*S[i-n-1]+t,a[i--]=f%jn|0,t=f/jn|0;a[i]=(a[i]+t)%jn|0}for(;!a[--c];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,jr?dr(e,b.precision):e};nt.toDecimalPlaces=nt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Za(e,0,ru),t===void 0?t=n.rounding:Za(t,0,8),dr(r,e+cn(r)+1,t))};nt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Rl(n,!0):(Za(e,0,ru),t===void 0?t=i.rounding:Za(t,0,8),n=dr(new i(n),e+1,t),r=Rl(n,!0,e+1)),r};nt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Rl(i):(Za(e,0,ru),t===void 0?t=a.rounding:Za(t,0,8),n=dr(new a(i),e+cn(i)+1,t),r=Rl(n.abs(),!1,e+cn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};nt.toInteger=nt.toint=function(){var e=this,t=e.constructor;return dr(new t(e),cn(e)+1,t.rounding)};nt.toNumber=function(){return+this};nt.toPower=nt.pow=function(e){var t,r,n,i,a,c,f=this,h=f.constructor,p=12,v=+(e=new h(e));if(!e.s)return new h(zi);if(f=new h(f),!f.s){if(e.s<1)throw Error(ca+"Infinity");return f}if(f.eq(zi))return f;if(n=h.precision,e.eq(zi))return dr(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,a=f.s,c){if((r=v<0?-v:v)<=Nj){for(i=new h(zi),t=Math.ceil(n/Sr+4),jr=!1;r%2&&(i=i.times(f),rN(i.d,t)),r=nu(r/2),r!==0;)f=f.times(f),rN(f.d,t);return jr=!0,e.s<0?new h(zi).div(i):dr(i,n)}}else if(a<0)throw Error(ca+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,jr=!1,i=e.times(Bd(f,n+p)),jr=!0,i=Ij(i),i.s=a,i};nt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=cn(i),n=Rl(i,r<=a.toExpNeg||r>=a.toExpPos)):(Za(e,1,ru),t===void 0?t=a.rounding:Za(t,0,8),i=dr(new a(i),e,t),r=cn(i),n=Rl(i,e<=r||r<=a.toExpNeg,e)),n};nt.toSignificantDigits=nt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Za(e,1,ru),t===void 0?t=n.rounding:Za(t,0,8)),dr(new n(r),e,t)};nt.toString=nt.valueOf=nt.val=nt.toJSON=nt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cn(e),r=e.constructor;return Rl(e,t<=r.toExpNeg||t>=r.toExpPos)};function Oj(e,t){var r,n,i,a,c,f,h,p,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),jr?dr(t,b):t;if(h=e.d,p=t.d,c=e.e,i=t.e,h=h.slice(),a=c-i,a){for(a<0?(n=h,a=-a,f=p.length):(n=p,i=c,f=h.length),c=Math.ceil(b/Sr),f=c>f?c+1:f+1,a>f&&(a=f,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(f=h.length,a=p.length,f-a<0&&(a=f,n=p,p=h,h=n),r=0;a;)r=(h[--a]=h[a]+p[a]+r)/jn|0,h[a]%=jn;for(r&&(h.unshift(r),++i),f=h.length;h[--f]==0;)h.pop();return t.d=h,t.e=i,jr?dr(t,b):t}function Za(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Al+e)}function Ka(e){var t,r,n,i=e.length-1,a="",c=e[0];if(i>0){for(a+=c,t=1;t<i;t++)n=e[t]+"",r=Sr-n.length,r&&(a+=Eo(r)),a+=n;c=e[t],n=c+"",r=Sr-n.length,r&&(a+=Eo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var Ts=(function(){function e(n,i){var a,c=0,f=n.length;for(n=n.slice();f--;)a=n[f]*i+c,n[f]=a%jn|0,c=a/jn|0;return c&&n.unshift(c),n}function t(n,i,a,c){var f,h;if(a!=c)h=a>c?1:-1;else for(f=h=0;f<a;f++)if(n[f]!=i[f]){h=n[f]>i[f]?1:-1;break}return h}function r(n,i,a){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*jn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,c){var f,h,p,v,b,S,C,O,I,P,D,M,R,B,W,$,H,Z,K=n.constructor,pe=n.s==i.s?1:-1,se=n.d,ie=i.d;if(!n.s)return new K(n);if(!i.s)throw Error(ca+"Division by zero");for(h=n.e-i.e,H=ie.length,W=se.length,C=new K(pe),O=C.d=[],p=0;ie[p]==(se[p]||0);)++p;if(ie[p]>(se[p]||0)&&--h,a==null?M=a=K.precision:c?M=a+(cn(n)-cn(i))+1:M=a,M<0)return new K(0);if(M=M/Sr+2|0,p=0,H==1)for(v=0,ie=ie[0],M++;(p<W||v)&&M--;p++)R=v*jn+(se[p]||0),O[p]=R/ie|0,v=R%ie|0;else{for(v=jn/(ie[0]+1)|0,v>1&&(ie=e(ie,v),se=e(se,v),H=ie.length,W=se.length),B=H,I=se.slice(0,H),P=I.length;P<H;)I[P++]=0;Z=ie.slice(),Z.unshift(0),$=ie[0],ie[1]>=jn/2&&++$;do v=0,f=t(ie,I,H,P),f<0?(D=I[0],H!=P&&(D=D*jn+(I[1]||0)),v=D/$|0,v>1?(v>=jn&&(v=jn-1),b=e(ie,v),S=b.length,P=I.length,f=t(b,I,S,P),f==1&&(v--,r(b,H<S?Z:ie,S))):(v==0&&(f=v=1),b=ie.slice()),S=b.length,S<P&&b.unshift(0),r(I,b,P),f==-1&&(P=I.length,f=t(ie,I,H,P),f<1&&(v++,r(I,H<P?Z:ie,P))),P=I.length):f===0&&(v++,I=[0]),O[p++]=v,f&&I[0]?I[P++]=se[B]||0:(I=[se[B]],P=1);while((B++<W||I[0]!==void 0)&&M--)}return O[0]||O.shift(),C.e=h,dr(C,c?a+cn(C)+1:a)}})();function Ij(e,t){var r,n,i,a,c,f,h=0,p=0,v=e.constructor,b=v.precision;if(cn(e)>16)throw Error(Wb+cn(e));if(!e.s)return new v(zi);for(jr=!1,f=b,c=new v(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(n=Math.log(hl(2,p))/Math.LN10*2+5|0,f+=n,r=i=a=new v(zi),v.precision=f;;){if(i=dr(i.times(e),f),r=r.times(++h),c=a.plus(Ts(i,r,f)),Ka(c.d).slice(0,f)===Ka(a.d).slice(0,f)){for(;p--;)a=dr(a.times(a),f);return v.precision=b,t==null?(jr=!0,dr(a,b)):a}a=c}}function cn(e){for(var t=e.e*Sr,r=e.d[0];r>=10;r/=10)t++;return t}function Lx(e,t,r){if(t>e.LN10.sd())throw jr=!0,r&&(e.precision=r),Error(ca+"LN10 precision limit exceeded");return dr(new e(e.LN10),t)}function Eo(e){for(var t="";e--;)t+="0";return t}function Bd(e,t){var r,n,i,a,c,f,h,p,v,b=1,S=10,C=e,O=C.d,I=C.constructor,P=I.precision;if(C.s<1)throw Error(ca+(C.s?"NaN":"-Infinity"));if(C.eq(zi))return new I(0);if(t==null?(jr=!1,p=P):p=t,C.eq(10))return t==null&&(jr=!0),Lx(I,p);if(p+=S,I.precision=p,r=Ka(O),n=r.charAt(0),a=cn(C),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=Ka(C.d),n=r.charAt(0),b++;a=cn(C),n>1?(C=new I("0."+r),a++):C=new I(n+"."+r.slice(1))}else return h=Lx(I,p+2,P).times(a+""),C=Bd(new I(n+"."+r.slice(1)),p-S).plus(h),I.precision=P,t==null?(jr=!0,dr(C,P)):C;for(f=c=C=Ts(C.minus(zi),C.plus(zi),p),v=dr(C.times(C),p),i=3;;){if(c=dr(c.times(v),p),h=f.plus(Ts(c,new I(i),p)),Ka(h.d).slice(0,p)===Ka(f.d).slice(0,p))return f=f.times(2),a!==0&&(f=f.plus(Lx(I,p+2,P).times(a+""))),f=Ts(f,new I(b),p),I.precision=P,t==null?(jr=!0,dr(f,P)):f;f=h,i+=2}}function tN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=nu(r/Sr),e.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Sr;n<i;)e.d.push(+t.slice(n,n+=Sr));t=t.slice(n),n=Sr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),jr&&(e.e>lp||e.e<-lp))throw Error(Wb+r)}else e.s=0,e.e=0,e.d=[0];return e}function dr(e,t,r){var n,i,a,c,f,h,p,v,b=e.d;for(c=1,a=b[0];a>=10;a/=10)c++;if(n=t-c,n<0)n+=Sr,i=t,p=b[v=0];else{if(v=Math.ceil((n+1)/Sr),a=b.length,v>=a)return e;for(p=a=b[v],c=1;a>=10;a/=10)c++;n%=Sr,i=n-Sr+c}if(r!==void 0&&(a=hl(10,c-i-1),f=p/a%10|0,h=t<0||b[v+1]!==void 0||p%a,h=r<4?(f||h)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||h||r==6&&(n>0?i>0?p/hl(10,c-i):0:b[v-1])%10&1||r==(e.s<0?8:7))),t<1||!b[0])return h?(a=cn(e),b.length=1,t=t-a-1,b[0]=hl(10,(Sr-t%Sr)%Sr),e.e=nu(-t/Sr)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(n==0?(b.length=v,a=1,v--):(b.length=v+1,a=hl(10,Sr-n),b[v]=i>0?(p/hl(10,c-i)%hl(10,i)|0)*a:0),h)for(;;)if(v==0){(b[0]+=a)==jn&&(b[0]=1,++e.e);break}else{if(b[v]+=a,b[v]!=jn)break;b[v--]=0,a=1}for(n=b.length;b[--n]===0;)b.pop();if(jr&&(e.e>lp||e.e<-lp))throw Error(Wb+cn(e));return e}function Pj(e,t){var r,n,i,a,c,f,h,p,v,b,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),jr?dr(t,C):t;if(h=e.d,b=t.d,n=t.e,p=e.e,h=h.slice(),c=p-n,c){for(v=c<0,v?(r=h,c=-c,f=b.length):(r=b,n=p,f=h.length),i=Math.max(Math.ceil(C/Sr),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=h.length,f=b.length,v=i<f,v&&(f=i),i=0;i<f;i++)if(h[i]!=b[i]){v=h[i]<b[i];break}c=0}for(v&&(r=h,h=b,b=r,t.s=-t.s),f=h.length,i=b.length-f;i>0;--i)h[f++]=0;for(i=b.length;i>c;){if(h[--i]<b[i]){for(a=i;a&&h[--a]===0;)h[a]=jn-1;--h[a],h[i]+=jn}h[i]-=b[i]}for(;h[--f]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,jr?dr(t,C):t):new S(0)}function Rl(e,t,r){var n,i=cn(e),a=Ka(e.d),c=a.length;return t?(r&&(n=r-c)>0?a=a.charAt(0)+"."+a.slice(1)+Eo(n):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Eo(-i-1)+a,r&&(n=r-c)>0&&(a+=Eo(n))):i>=c?(a+=Eo(i+1-c),r&&(n=r-i-1)>0&&(a=a+"."+Eo(n))):((n=i+1)<c&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(a+="."),a+=Eo(n))),e.s<0?"-"+a:a}function rN(e,t){if(e.length>t)return e.length=t,!0}function jj(e){var t,r,n;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Al+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return tN(c,a.toString())}else if(typeof a!="string")throw Error(Al+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,bV.test(a))tN(c,a);else throw Error(Al+a)}if(i.prototype=nt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jj,i.config=i.set=wV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wV(e){if(!e||typeof e!="object")throw Error(ca+"Object expected");var t,r,n,i=["precision",1,ru,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(nu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Al+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Al+r+": "+n);return this}var Vb=jj(yV);zi=new Vb(1);const tr=Vb;var EV=e=>e,kj={},Tj=e=>e===kj,nN=e=>function t(){return arguments.length===0||arguments.length===1&&Tj(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Rj=(e,t)=>e===1?t:nN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(c=>c!==kj).length;return a>=e?t(...n):Rj(e-a,nN(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=n.map(v=>Tj(v)?f.shift():v);return t(...p,...f)}))}),SV=e=>Rj(e.length,e),ly=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},AV=SV((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),CV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return EV;var i=r.reverse(),a=i[0],c=i.slice(1);return function(){return c.reduce((f,h)=>h(f),a(...arguments))}};function Dj(e){var t;return e===0?t=1:t=Math.floor(new tr(e).abs().log(10).toNumber())+1,t}function Mj(e,t,r){for(var n=new tr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Lj=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Bj=(e,t,r)=>{if(e.lte(0))return new tr(0);var n=Dj(e.toNumber()),i=new tr(10).pow(n),a=e.div(i),c=n!==1?.05:.1,f=new tr(Math.ceil(a.div(c).toNumber())).add(r).mul(c),h=f.mul(i);return t?new tr(h.toNumber()):new tr(Math.ceil(h.toNumber()))},_V=(e,t,r)=>{var n=new tr(1),i=new tr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new tr(10).pow(Dj(e)-1),i=new tr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new tr(Math.floor(e)))}else e===0?i=new tr(Math.floor((t-1)/2)):r||(i=new tr(Math.floor(e)));var c=Math.floor((t-1)/2),f=CV(AV(h=>i.add(new tr(h-c).mul(n)).toNumber()),ly);return f(0,t)},Fj=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new tr(0),tickMin:new tr(0),tickMax:new tr(0)};var c=Bj(new tr(r).sub(t).div(n-1),i,a),f;t<=0&&r>=0?f=new tr(0):(f=new tr(t).add(r).div(2),f=f.sub(new tr(f).mod(c)));var h=Math.ceil(f.sub(t).div(c).toNumber()),p=Math.ceil(new tr(r).sub(f).div(c).toNumber()),v=h+p+1;return v>n?Fj(t,r,n,i,a+1):(v<n&&(p=r>0?p+(n-v):p,h=r>0?h:h+(n-v)),{step:c,tickMin:f.sub(new tr(h).mul(c)),tickMax:f.add(new tr(p).mul(c))})},NV=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,h]=Lj([r,n]);if(f===-1/0||h===1/0){var p=h===1/0?[f,...ly(0,i-1).map(()=>1/0)]:[...ly(0,i-1).map(()=>-1/0),h];return r>n?p.reverse():p}if(f===h)return _V(f,i,a);var{step:v,tickMin:b,tickMax:S}=Fj(f,h,c,a,0),C=Mj(b,S.add(new tr(.1).mul(v)),v);return r>n?C.reverse():C},OV=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=Lj([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(r,2),p=Bj(new tr(f).sub(c).div(h-1),a,0),v=[...Mj(new tr(c),new tr(f),p),f];return a===!1&&(v=v.map(b=>Math.round(b))),n>i?v.reverse():v},zj=e=>e.rootProps.maxBarSize,IV=e=>e.rootProps.barGap,Uj=e=>e.rootProps.barCategoryGap,PV=e=>e.rootProps.barSize,sf=e=>e.rootProps.stackOffset,$j=e=>e.rootProps.reverseStackOrder,Hb=e=>e.options.chartName,qb=e=>e.rootProps.syncId,Wj=e=>e.rootProps.syncMethod,Gb=e=>e.options.eventEmitter,jV=e=>e.rootProps.baseValue,kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_s={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:_s.type,unit:void 0},TV={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:Bi.type,unit:void 0},RV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_s.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_s.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_s.scale,tick:_s.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DV={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:"category",unit:void 0},Kb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?RV:kV,Xb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DV:TV,fm=e=>e.polarOptions,Yb=he([Hs,qs,yn],zP),Vj=he([fm,Yb],(e,t)=>{if(e!=null)return si(e.innerRadius,t,0)}),Hj=he([fm,Yb],(e,t)=>{if(e!=null)return si(e.outerRadius,t,t*.8)}),MV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},qj=he([fm],MV);he([Kb,qj],dm);var Gj=he([Yb,Vj,Hj],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([Xb,Gj],dm);var Kj=he([Mt,fm,Vj,Hj,Hs,qs],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:h,endAngle:p}=t;return{cx:si(c,i,i/2),cy:si(f,a,a/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:p,clockWise:!1}}}),Rr=(e,t)=>t,of=(e,t,r)=>r;function hm(e){return e?.id}function Xj(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,c=new Map;return e.forEach(f=>{var h,p=(h=f.data)!==null&&h!==void 0?h:n;if(!(p==null||p.length===0)){var v=hm(f);p.forEach((b,S)=>{var C=a==null||i?S:String($t(b,a,null)),O=$t(b,f.dataKey,0),I;c.has(C)?I=c.get(C):I={},Object.assign(I,{[v]:O}),c.set(C,I)})}}),Array.from(c.values())}function pm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function LV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wn=e=>{var t=Mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},iu=e=>e.tooltip.settings.axisId;function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=FV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=zV(e,"string");return typeof t=="symbol"?t:t+""}function zV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cy=[0,"auto"],In={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Yj=(e,t)=>e.cartesianAxis.xAxis[t],ts=(e,t)=>{var r=Yj(e,t);return r??In},Pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qd},Zj=(e,t)=>e.cartesianAxis.yAxis[t],rs=(e,t)=>{var r=Zj(e,t);return r??Pn},Qj={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zb=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Qj},zr=(e,t,r)=>{switch(t){case"xAxis":return ts(e,r);case"yAxis":return rs(e,r);case"zAxis":return Zb(e,r);case"angleAxis":return Kb(e,r);case"radiusAxis":return Xb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UV=(e,t,r)=>{switch(t){case"xAxis":return ts(e,r);case"yAxis":return rs(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lf=(e,t,r)=>{switch(t){case"xAxis":return ts(e,r);case"yAxis":return rs(e,r);case"angleAxis":return Kb(e,r);case"radiusAxis":return Xb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Qb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var au=e=>e.graphicalItems.cartesianItems,$V=he([Rr,of],Qb),Jb=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),cf=he([au,zr,$V],Jb,{memoizeOptions:{resultEqualityCheck:gm}}),ek=he([cf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pm)),tk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WV=he([cf],tk),ew=e=>e.map(t=>t.data).filter(Boolean).flat(1),VV=he([cf],ew,{memoizeOptions:{resultEqualityCheck:gm}}),tw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},rw=he([VV,um],tw),nw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$t(i,n)}))):e.map(n=>({value:n})),xm=he([rw,zr,cf],nw);function rk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function d0(e){if(oa(e)||e instanceof Date){var t=Number(e);if(Xt(t))return t}}function aN(e){if(Array.isArray(e)){var t=[d0(e[0]),d0(e[1])];return ko(t)?t:void 0}var r=d0(e);if(r!=null)return[r,r]}function Us(e){return e.map(d0).filter(LL)}function HV(e,t,r){return!r||typeof t!="number"||Ni(t)?[]:r.length?Us(r.flatMap(n=>{var i=$t(e,n.dataKey),a,c;if(Array.isArray(i)?[a,c]=i:a=c=i,!(!Xt(a)||!Xt(c)))return[t-a,t+c]})):[]}var En=e=>{var t=wn(e),r=iu(e);return lf(e,t,r)},uf=he([En],e=>e?.dataKey),qV=he([ek,um,En],Xj),nk=(e,t,r,n)=>{var i={},a=t.reduce((c,f)=>{if(f.stackId==null)return c;var h=c[f.stackId];return h==null&&(h=[]),h.push(f),c[f.stackId]=h,c},i);return Object.fromEntries(Object.entries(a).map(c=>{var[f,h]=c,p=n?[...h].reverse():h,v=p.map(hm);return[f,{stackedData:dF(e,v,r),graphicalItems:p}]}))},up=he([qV,ek,sf,$j],nk),ik=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var c=mF(e,i,a);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},GV=he([zr],e=>e.allowDataOverflow),iw=e=>{var t;if(e==null||!("domain"in e))return cy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Us(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:cy},aw=he([zr],iw),sw=he([aw,GV],_j),KV=he([up,Ks,Rr,sw],ik,{memoizeOptions:{resultEqualityCheck:mm}}),vm=e=>e.errorBars,XV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>rk(r,n)),dp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),c=Math.min(...a),f=Math.max(...a);return[c,f]}},ow=(e,t,r,n,i)=>{var a,c;if(r.length>0&&e.forEach(f=>{r.forEach(h=>{var p,v,b=(p=n[h.id])===null||p===void 0?void 0:p.filter(D=>rk(i,D)),S=$t(f,(v=t.dataKey)!==null&&v!==void 0?v:h.dataKey),C=HV(f,S,b);if(C.length>=2){var O=Math.min(...C),I=Math.max(...C);(a==null||O<a)&&(a=O),(c==null||I>c)&&(c=I)}var P=aN(S);P!=null&&(a=a==null?P[0]:Math.min(a,P[0]),c=c==null?P[1]:Math.max(c,P[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var h=aN($t(f,t.dataKey));h!=null&&(a=a==null?h[0]:Math.min(a,h[0]),c=c==null?h[1]:Math.max(c,h[1]))}),Xt(a)&&Xt(c))return[a,c]},YV=he([rw,zr,WV,vm,Rr],ow,{memoizeOptions:{resultEqualityCheck:mm}});function ZV(e){var{value:t}=e;if(oa(t)||t instanceof Date)return t}var QV=(e,t,r)=>{var n=e.map(ZV).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&b4(n))?VP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ak=e=>e.referenceElements.dots,su=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),JV=he([ak,Rr,of],su),sk=e=>e.referenceElements.areas,eH=he([sk,Rr,of],su),ok=e=>e.referenceElements.lines,tH=he([ok,Rr,of],su),lk=(e,t)=>{if(e!=null){var r=Us(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},rH=he(JV,Rr,lk),ck=(e,t)=>{if(e!=null){var r=Us(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},nH=he([eH,Rr],ck);function iH(e){var t;if(e.x!=null)return Us([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Us(r)}function aH(e){var t;if(e.y!=null)return Us([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Us(r)}var uk=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?iH(n):aH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},sH=he([tH,Rr],uk),oH=he(rH,sH,nH,(e,t,r)=>dp(e,r,t)),lw=(e,t,r,n,i,a,c,f)=>{if(r!=null)return r;var h=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",p=h?dp(n,a,i):dp(a,i);return vV(t,p,e.allowDataOverflow)},lH=he([zr,aw,sw,KV,YV,oH,Mt,Rr],lw,{memoizeOptions:{resultEqualityCheck:mm}}),cH=[0,1],cw=(e,t,r,n,i,a,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:h}=e,p=Ja(t,a);if(p&&f==null){var v;return VP(0,(v=r?.length)!==null&&v!==void 0?v:0)}return h==="category"?QV(n,e,p):i==="expand"?cH:c}},uw=he([zr,Mt,rw,xm,sf,Rr,lH],cw),dk=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:c}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof a=="string"){var f="scale".concat(Kd(a));return f in dd?f:"point"}}},ou=he([zr,Mt,Jj,Hb,Rr],dk);function uH(e){if(e!=null){if(e in dd)return dd[e]();var t="scale".concat(Kd(e));if(t in dd)return dd[t]()}}function dw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=uH(t);if(i!=null){var a=i.domain(r).range(n);return sF(a),a}}}var fw=(e,t,r)=>{var n=iw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ko(e))return NV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ko(e))return OV(e,t.tickCount,t.allowDecimals)}},hw=he([uw,lf,ou],fw),pw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&ko(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,a),Math.max(c,f)]}return t},dH=he([zr,uw,hw,Rr],pw),fH=he(xm,zr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Us(e.map(b=>b.value))).sort((b,S)=>b-S),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var c=a-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var h=n[f],p=n[f+1];if(!(h==null||p==null)){var v=p-h;r=Math.min(r,v)}}return r/c}}),fk=he(fH,Mt,Uj,yn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Xt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var c=si(r,e*a),f=e*a/2;return f-c-(f-c)/a*c}return 0}),hH=(e,t,r)=>{var n=ts(e,t);return n==null||typeof n.padding!="string"?0:fk(e,"xAxis",t,r,n.padding)},pH=(e,t,r)=>{var n=rs(e,t);return n==null||typeof n.padding!="string"?0:fk(e,"yAxis",t,r,n.padding)},mH=he(ts,hH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),gH=he(rs,pH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),xH=he([yn,mH,Qp,Zp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),vH=he([yn,Mt,gH,Qp,Zp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:c}=i;return a?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),df=(e,t,r,n)=>{var i;switch(t){case"xAxis":return xH(e,r,n);case"yAxis":return vH(e,r,n);case"zAxis":return(i=Zb(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return qj(e);case"radiusAxis":return Gj(e,r);default:return}},hk=he([zr,df],dm),Gc=he([zr,ou,dH,hk],dw);he([cf,vm,Rr],XV);function pk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ym=(e,t)=>t,bm=(e,t,r)=>r,yH=he(Xp,ym,bm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(pk)),bH=he(Yp,ym,bm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(pk)),mk=(e,t)=>({width:e.width,height:t.height}),wH=(e,t)=>{var r=typeof t.width=="number"?t.width:Qd;return{width:r,height:e.height}},gk=he(yn,ts,mk),EH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},SH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},AH=he(qs,yn,yH,ym,bm,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var h=mk(t,f);c==null&&(c=EH(t,n,e));var p=n==="top"&&!i||n==="bottom"&&i;a[f.id]=c-Number(p)*h.height,c+=(p?-1:1)*h.height}),a}),CH=he(Hs,yn,bH,ym,bm,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var h=wH(t,f);c==null&&(c=SH(t,n,e));var p=n==="left"&&!i||n==="right"&&i;a[f.id]=c-Number(p)*h.width,c+=(p?-1:1)*h.width}),a}),_H=(e,t)=>{var r=ts(e,t);if(r!=null)return AH(e,r.orientation,r.mirror)},NH=he([yn,ts,_H,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),OH=(e,t)=>{var r=rs(e,t);if(r!=null)return CH(e,r.orientation,r.mirror)},IH=he([yn,rs,OH,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),xk=he(yn,rs,(e,t)=>{var r=typeof t.width=="number"?t.width:Qd;return{width:r,height:e.height}}),sN=(e,t,r)=>{switch(t){case"xAxis":return gk(e,r).width;case"yAxis":return xk(e,r).height;default:return}},vk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:c}=r,f=Ja(e,n),h=t.map(p=>p.value);if(c&&f&&a==="category"&&i&&b4(h))return h}},mw=he([Mt,xm,zr,Rr],vk),yk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,c=Ja(e,n);if(c&&(i==="number"||a!=="auto"))return t.map(f=>f.value)}},gw=he([Mt,xm,lf,Rr],yk),oN=he([Mt,UV,ou,Gc,mw,gw,df,hw,Rr],(e,t,r,n,i,a,c,f,h)=>{if(t!=null){var p=Ja(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:a,duplicateDomain:i,isCategorical:p,niceTicks:f,range:c,realScaleType:r,scale:n}}}),PH=(e,t,r,n,i,a,c,f,h)=>{if(!(t==null||n==null)){var p=Ja(e,h),{type:v,ticks:b,tickCount:S}=t,C=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,O=v==="category"&&n.bandwidth?n.bandwidth()/C:0;O=h==="angleAxis"&&a!=null&&a.length>=2?kn(a[0]-a[1])*2*O:O;var I=b||i;if(I){var P=I.map((D,M)=>{var R=c?c.indexOf(D):D;return{index:M,coordinate:n(R)+O,value:D,offset:O}});return P.filter(D=>Xt(D.coordinate))}return p&&f?f.map((D,M)=>({coordinate:n(D)+O,value:D,index:M,offset:O})).filter(D=>Xt(D.coordinate)):n.ticks?n.ticks(S).map(D=>({coordinate:n(D)+O,value:D,offset:O})):n.domain().map((D,M)=>({coordinate:n(D)+O,value:c?c[D]:D,index:M,offset:O}))}},bk=he([Mt,lf,ou,Gc,hw,df,mw,gw,Rr],PH),jH=(e,t,r,n,i,a,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Ja(e,c),{tickCount:h}=t,p=0;return p=c==="angleAxis"&&n?.length>=2?kn(n[0]-n[1])*2*p:p,f&&a?a.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:i?i[v]:v,index:b,offset:p}))}},ua=he([Mt,lf,Gc,df,mw,gw,Rr],jH),da=he(zr,Gc,(e,t)=>{if(!(e==null||t==null))return cp(cp({},e),{},{scale:t})}),kH=he([zr,ou,uw,hk],dw),TH=he((e,t,r)=>Zb(e,r),kH,(e,t)=>{if(!(e==null||t==null))return cp(cp({},e),{},{scale:t})}),RH=he([Mt,Xp,Yp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wk=e=>e.options.defaultTooltipEventType,Ek=e=>e.options.validateTooltipEventTypes;function Sk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function xw(e,t){var r=wk(e),n=Ek(e);return Sk(t,r,n)}function DH(e){return Ye(t=>xw(t,e))}var Ak=(e,t)=>{var r,n=Number(t);if(!(Ni(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},MH=e=>e.tooltip.settings,_o={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},LH={itemInteraction:{click:_o,hover:_o},axisInteraction:{click:_o,hover:_o},keyboardInteraction:_o,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Ck=Oi({name:"tooltip",initialState:LH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Pr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ta(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Pr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ta(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Pr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:BH,replaceTooltipEntrySettings:FH,removeTooltipEntrySettings:zH,setTooltipSettingsState:UH,setActiveMouseOverItemIndex:_k,mouseLeaveItem:$H,mouseLeaveChart:Nk,setActiveClickItemIndex:WH,setMouseOverAxisIndex:Ok,setMouseClickAxisIndex:VH,setSyncInteraction:uy,setKeyboardInteraction:dy}=Ck.actions,HH=Ck.reducer;function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YH(e){return e.index!=null}var Ik=(e,t,r,n)=>{if(t==null)return _o;var i=XH(e,t,r);if(i==null)return _o;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(YH(i)){if(a)return Xh(Xh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Xh(Xh({},_o),{},{coordinate:i.coordinate})};function ZH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function QH(e,t){var r=ZH(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),c=Math.max(n,i);return r>=a&&r<=c}function JH(e,t,r){if(r==null||t==null)return!0;var n=$t(e,t);return n==null||!ko(r)?!0:QH(n,r)}var vw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Xt(a))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var h=Math.max(c,Math.min(a,f)),p=t[h];return p==null||JH(p,r,n)?String(h):null},Pk=(e,t,r,n,i,a,c,f)=>{if(!(a==null||f==null)){var h=c[0],p=h==null?void 0:f(h.positions,a);if(p!=null)return p;var v=i?.[Number(a)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},jk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},ff=e=>e.options.tooltipPayloadSearcher,lu=e=>e.tooltip;function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eq(e,t,r){return(t=tq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nq(e,t){return e??t}var kk=(e,t,r,n,i,a,c)=>{if(!(t==null||a==null)){var{chartData:f,computedData:h,dataStartIndex:p,dataEndIndex:v}=r,b=[];return e.reduce((S,C)=>{var O,{dataDefinedOnItem:I,settings:P}=C,D=nq(I,f),M=Array.isArray(D)?pP(D,p,v):D,R=(O=P?.dataKey)!==null&&O!==void 0?O:n,B=P?.nameKey,W;if(n&&Array.isArray(M)&&!Array.isArray(M[0])&&c==="axis"?W=w4(M,n,i):W=a(M,t,h,B),Array.isArray(W))W.forEach(H=>{var Z=uN(uN({},P),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});S.push(hC({tooltipEntrySettings:Z,dataKey:H.dataKey,payload:H.payload,value:$t(H.payload,H.dataKey),name:H.name}))});else{var $;S.push(hC({tooltipEntrySettings:P,dataKey:R,payload:W,value:$t(W,R),name:($=$t(W,B))!==null&&$!==void 0?$:P?.name}))}return S},b)}},yw=he([En,Mt,Jj,Hb,wn],dk),iq=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),aq=he([wn,iu],Qb),cu=he([iq,En,aq],Jb,{memoizeOptions:{resultEqualityCheck:gm}}),sq=he([cu],e=>e.filter(pm)),oq=he([cu],ew,{memoizeOptions:{resultEqualityCheck:gm}}),uu=he([oq,Ks],tw),lq=he([sq,Ks,En],Xj),bw=he([uu,En,cu],nw),Tk=he([En],iw),cq=he([En],e=>e.allowDataOverflow),Rk=he([Tk,cq],_j),uq=he([cu],e=>e.filter(pm)),dq=he([lq,uq,sf,$j],nk),fq=he([dq,Ks,wn,Rk],ik),hq=he([cu],tk),pq=he([uu,En,hq,vm,wn],ow,{memoizeOptions:{resultEqualityCheck:mm}}),mq=he([ak,wn,iu],su),gq=he([mq,wn],lk),xq=he([sk,wn,iu],su),vq=he([xq,wn],ck),yq=he([ok,wn,iu],su),bq=he([yq,wn],uk),wq=he([gq,bq,vq],dp),Eq=he([En,Tk,Rk,fq,pq,wq,Mt,wn],lw),hf=he([En,Mt,uu,bw,sf,wn,Eq],cw),Sq=he([hf,En,yw],fw),Aq=he([En,hf,Sq,wn],pw),Dk=e=>{var t=wn(e),r=iu(e),n=!1;return df(e,t,r,n)},Mk=he([En,Dk],dm),Lk=he([En,yw,Aq,Mk],dw),Cq=he([Mt,bw,En,wn],vk),_q=he([Mt,bw,En,wn],yk),Nq=(e,t,r,n,i,a,c,f)=>{if(t){var{type:h}=t,p=Ja(e,f);if(n){var v=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/v:0;return b=f==="angleAxis"&&i!=null&&i?.length>=2?kn(i[0]-i[1])*2*b:b,p&&c?c.map((S,C)=>({coordinate:n(S)+b,value:S,index:C,offset:b})):n.domain().map((S,C)=>({coordinate:n(S)+b,value:a?a[S]:S,index:C,offset:b}))}}},Xs=he([Mt,En,yw,Lk,Dk,Cq,_q,wn],Nq),ww=he([wk,Ek,MH],(e,t,r)=>Sk(r.shared,e,t)),Bk=e=>e.tooltip.settings.trigger,Ew=e=>e.tooltip.settings.defaultIndex,pf=he([lu,ww,Bk,Ew],Ik),$s=he([pf,uu,uf,hf],vw),Fk=he([Xs,$s],Ak),Sw=he([pf],e=>{if(e)return e.dataKey}),Oq=he([pf],e=>{if(e)return e.graphicalItemId}),zk=he([lu,ww,Bk,Ew],jk),Iq=he([Hs,qs,Mt,yn,Xs,Ew,zk,ff],Pk),Pq=he([pf,Iq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jq=he([pf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),kq=he([zk,$s,Ks,uf,Fk,ff,ww],kk),Tq=he([kq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lq=()=>Ye(En),Bq=()=>{var e=Lq(),t=Ye(Xs),r=Ye(Lk);return jo(!e||!r?void 0:fN(fN({},e),{},{scale:r}),t)};function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $q=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Wq=(e,t,r,n)=>{var i=t.find(p=>p&&p.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:c}=n;return wc(wc(wc({},n),ln(n.cx,n.cy,c,a)),{},{angle:a,radius:c})}var f=i.coordinate,{angle:h}=n;return wc(wc(wc({},n),ln(n.cx,n.cy,f,h)),{},{angle:h,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Vq(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Uk=(e,t,r,n,i)=>{var a,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h,p,v,b,S,C=f>0?(h=r[f-1])===null||h===void 0?void 0:h.coordinate:(p=r[c-1])===null||p===void 0?void 0:p.coordinate,O=(v=r[f])===null||v===void 0?void 0:v.coordinate,I=f>=c-1?(b=r[0])===null||b===void 0?void 0:b.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,P=void 0;if(!(C==null||O==null||I==null))if(kn(O-C)!==kn(I-O)){var D=[];if(kn(I-O)===kn(i[1]-i[0])){P=I;var M=O+i[1]-i[0];D[0]=Math.min(M,(M+C)/2),D[1]=Math.max(M,(M+C)/2)}else{P=C;var R=I+i[1]-i[0];D[0]=Math.min(O,(R+O)/2),D[1]=Math.max(O,(R+O)/2)}var B=[Math.min(O,(P+O)/2),Math.max(O,(P+O)/2)];if(e>B[0]&&e<=B[1]||e>=D[0]&&e<=D[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var $=Math.min(C,I),H=Math.max(C,I);if(e>($+O)/2&&e<=(H+O)/2){var Z;return(Z=r[f])===null||Z===void 0?void 0:Z.index}}}else if(t)for(var K=0;K<c;K++){var pe=t[K];if(pe!=null){var se=t[K+1],ie=t[K-1];if(K===0&&se!=null&&e<=(pe.coordinate+se.coordinate)/2||K===c-1&&ie!=null&&e>(pe.coordinate+ie.coordinate)/2||K>0&&K<c-1&&ie!=null&&se!=null&&e>(pe.coordinate+ie.coordinate)/2&&e<=(pe.coordinate+se.coordinate)/2)return pe.index}}return-1},$k=()=>Ye(Hb),Aw=(e,t)=>t,Wk=(e,t,r)=>r,Cw=(e,t,r,n)=>n,Hq=he(Xs,e=>Fp(e,t=>t.coordinate)),_w=he([lu,Aw,Wk,Cw],Ik),Nw=he([_w,uu,uf,hf],vw),qq=(e,t,r)=>{if(t!=null){var n=lu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Vk=he([lu,Aw,Wk,Cw],jk),fp=he([Hs,qs,Mt,yn,Xs,Cw,Vk,ff],Pk),Gq=he([_w,fp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Hk=he([Xs,Nw],Ak),Kq=he([Vk,Nw,Ks,uf,Hk,ff,Aw],kk),Xq=he([_w,Nw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Yq=(e,t,r,n,i,a,c)=>{if(!(!e||!r||!n||!i)&&Vq(e,c)){var f=gF(e,t),h=Uk(f,a,i,r,n),p=$q(t,i,h,e);return{activeIndex:String(h),activeCoordinate:p}}},Zq=(e,t,r,n,i,a,c)=>{if(!(!e||!n||!i||!a||!r)){var f=RU(e,r);if(f){var h=xF(f,t),p=Uk(h,c,a,n,i),v=Wq(t,a,p,f);return{activeIndex:String(p),activeCoordinate:v}}}},Qq=(e,t,r,n,i,a,c,f)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Yq(e,t,n,i,a,c,f):Zq(e,t,r,n,i,a,c)},Jq=he(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),eG=he(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(kr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:LV}});function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iG={},aG={zIndexMap:Object.values(kr).reduce((e,t)=>mN(mN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),iG)},sG=new Set(Object.values(kr));function oG(e){return sG.has(e)}var qk=Oi({name:"zIndex",initialState:aG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Pr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!oG(r)&&delete e.zIndexMap[r])},prepare:Pr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Pr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Pr()}}}),{registerZIndexPortal:lG,unregisterZIndexPortal:cG,registerZIndexPortalElement:uG,unregisterZIndexPortalElement:dG}=qk.actions,fG=qk.reducer;function Rn(e){var{zIndex:t,children:r}=e,n=XF(),i=n&&t!==void 0&&t!==0,a=Jr(),c=fr();_.useLayoutEffect(()=>i?(c(lG({zIndex:t})),()=>{c(cG({zIndex:t}))}):Xd,[c,t,i]);var f=Ye(h=>Jq(h,t,a));return i?f?Ry.createPortal(r,f):null:r}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function xG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:c,layout:f,cursor:h,tooltipEventType:p,chartName:v}=e,b=r,S=n,C=i;if(!h||!b||v!=="ScatterChart"&&p!=="axis")return null;var O,I,P;if(v==="ScatterChart")O=b,I=Kz,P=kr.cursorLine;else if(v==="BarChart")O=Xz(f,b,a,c),I=FP,P=kr.cursorRectangle;else if(f==="radial"&&S4(b)){var{cx:D,cy:M,radius:R,startAngle:B,endAngle:W}=UP(b);O={cx:D,cy:M,startAngle:B,endAngle:W,innerRadius:R,outerRadius:R},I=WP,P=kr.cursorLine}else O={points:BU(f,b,a)},I=El,P=kr.cursorLine;var $=typeof h=="object"&&"className"in h?h.className:void 0,H=Yh(Yh(Yh(Yh({stroke:"#ccc",pointerEvents:"none"},a),O),Po(h)),{},{payload:S,payloadIndex:C,className:zt("recharts-tooltip-cursor",$)});return _.createElement(Rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:P},_.createElement(gG,{cursor:h,cursorComp:I,cursorProps:H}))}function vG(e){var t=Bq(),r=SP(),n=Ro(),i=$k();return t==null||r==null||n==null||i==null?null:_.createElement(xG,fy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var Gk=_.createContext(null),yG=()=>_.useContext(Gk),Bx={exports:{}},xN;function bG(){return xN||(xN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,p,v){this.fn=h,this.context=p,this.once=v||!1}function a(h,p,v,b,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var C=new i(v,b||h,S),O=r?r+p:p;return h._events[O]?h._events[O].fn?h._events[O]=[h._events[O],C]:h._events[O].push(C):(h._events[O]=C,h._eventsCount++),h}function c(h,p){--h._eventsCount===0?h._events=new n:delete h._events[p]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var p=[],v,b;if(this._eventsCount===0)return p;for(b in v=this._events)t.call(v,b)&&p.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},f.prototype.listeners=function(p){var v=r?r+p:p,b=this._events[v];if(!b)return[];if(b.fn)return[b.fn];for(var S=0,C=b.length,O=new Array(C);S<C;S++)O[S]=b[S].fn;return O},f.prototype.listenerCount=function(p){var v=r?r+p:p,b=this._events[v];return b?b.fn?1:b.length:0},f.prototype.emit=function(p,v,b,S,C,O){var I=r?r+p:p;if(!this._events[I])return!1;var P=this._events[I],D=arguments.length,M,R;if(P.fn){switch(P.once&&this.removeListener(p,P.fn,void 0,!0),D){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,b),!0;case 4:return P.fn.call(P.context,v,b,S),!0;case 5:return P.fn.call(P.context,v,b,S,C),!0;case 6:return P.fn.call(P.context,v,b,S,C,O),!0}for(R=1,M=new Array(D-1);R<D;R++)M[R-1]=arguments[R];P.fn.apply(P.context,M)}else{var B=P.length,W;for(R=0;R<B;R++)switch(P[R].once&&this.removeListener(p,P[R].fn,void 0,!0),D){case 1:P[R].fn.call(P[R].context);break;case 2:P[R].fn.call(P[R].context,v);break;case 3:P[R].fn.call(P[R].context,v,b);break;case 4:P[R].fn.call(P[R].context,v,b,S);break;default:if(!M)for(W=1,M=new Array(D-1);W<D;W++)M[W-1]=arguments[W];P[R].fn.apply(P[R].context,M)}}return!0},f.prototype.on=function(p,v,b){return a(this,p,v,b,!1)},f.prototype.once=function(p,v,b){return a(this,p,v,b,!0)},f.prototype.removeListener=function(p,v,b,S){var C=r?r+p:p;if(!this._events[C])return this;if(!v)return c(this,C),this;var O=this._events[C];if(O.fn)O.fn===v&&(!S||O.once)&&(!b||O.context===b)&&c(this,C);else{for(var I=0,P=[],D=O.length;I<D;I++)(O[I].fn!==v||S&&!O[I].once||b&&O[I].context!==b)&&P.push(O[I]);P.length?this._events[C]=P.length===1?P[0]:P:c(this,C)}return this},f.prototype.removeAllListeners=function(p){var v;return p?(v=r?r+p:p,this._events[v]&&c(this,v)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(Bx)),Bx.exports}var wG=bG();const EG=fa(wG);var Fd=new EG,hy="recharts.syncEvent.tooltip",vN="recharts.syncEvent.brush";function wm(e,t){if(t){var r=Number.parseInt(t,10);if(!Ni(r))return e?.[r]}}var SG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Kk=Oi({name:"options",initialState:SG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),AG=Kk.reducer,{createEventEmitter:CG}=Kk.actions;function _G(e){return e.tooltip.syncInteraction}var NG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Xk=Oi({name:"chartData",initialState:NG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yN,setDataStartEndIndexes:OG,setComputedData:nie}=Xk.actions,IG=Xk.reducer,PG=["x","y"];function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t){if(e==null)return{};var r,n,i=DG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MG(){var e=Ye(qb),t=Ye(Gb),r=fr(),n=Ye(Wj),i=Ye(Xs),a=Ro(),c=eu(),f=Ye(h=>h.rootProps.className);_.useEffect(()=>{if(e==null)return Xd;var h=(p,v,b)=>{if(t!==b&&e===p){if(n==="index"){var S;if(c&&v!==null&&v!==void 0&&(S=v.payload)!==null&&S!==void 0&&S.coordinate&&v.payload.sourceViewBox){var C=v.payload.coordinate,{x:O,y:I}=C,P=RG(C,PG),{x:D,y:M,width:R,height:B}=v.payload.sourceViewBox,W=Ec(Ec({},P),{},{x:c.x+(R?(O-D)/R:0)*c.width,y:c.y+(B?(I-M)/B:0)*c.height});r(Ec(Ec({},v),{},{payload:Ec(Ec({},v.payload),{},{coordinate:W})}))}else r(v);return}if(i!=null){var $;if(typeof n=="function"){var H={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},Z=n(i,H);$=i[Z]}else n==="value"&&($=i.find(Re=>String(Re.value)===v.payload.label));var{coordinate:K}=v.payload;if($==null||v.payload.active===!1||K==null||c==null){r(uy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:pe,y:se}=K,ie=Math.min(pe,c.x+c.width),Ae=Math.min(se,c.y+c.height),Ce={x:a==="horizontal"?$.coordinate:ie,y:a==="horizontal"?Ae:$.coordinate},te=uy({active:v.payload.active,coordinate:Ce,dataKey:v.payload.dataKey,index:String($.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox,graphicalItemId:v.payload.graphicalItemId});r(te)}}};return Fd.on(hy,h),()=>{Fd.off(hy,h)}},[f,r,t,e,n,i,a,c])}function LG(){var e=Ye(qb),t=Ye(Gb),r=fr();_.useEffect(()=>{if(e==null)return Xd;var n=(i,a,c)=>{t!==c&&e===i&&r(OG(a))};return Fd.on(vN,n),()=>{Fd.off(vN,n)}},[r,t,e])}function BG(){var e=fr();_.useEffect(()=>{e(CG())},[e]),MG(),LG()}function FG(e,t,r,n,i,a){var c=Ye(C=>qq(C,e,t)),f=Ye(Gb),h=Ye(qb),p=Ye(Wj),v=Ye(_G),b=v?.active,S=eu();_.useEffect(()=>{if(!b&&h!=null&&f!=null){var C=uy({active:a,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});Fd.emit(hy,h,C,f)}},[b,r,c,i,n,f,h,p,a,S])}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WG(e){return e.dataKey}function VG(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(Nz,t)}var SN=[],HG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fd(e){var t,r,n=Ar(e,HG),{active:i,allowEscapeViewBox:a,animationDuration:c,animationEasing:f,content:h,filterNull:p,isAnimationActive:v,offset:b,payloadUniqBy:S,position:C,reverseDirection:O,useTranslate3d:I,wrapperStyle:P,cursor:D,shared:M,trigger:R,defaultIndex:B,portal:W,axisId:$}=n,H=fr(),Z=typeof B=="number"?String(B):B;_.useEffect(()=>{H(UH({shared:M,trigger:R,axisId:$,active:i,defaultIndex:Z}))},[H,M,R,$,i,Z]);var K=eu(),pe=RP(),se=DH(M),{activeIndex:ie,isActive:Ae}=(t=Ye(_e=>Xq(_e,se,R,Z)))!==null&&t!==void 0?t:{},Ce=Ye(_e=>Kq(_e,se,R,Z)),te=Ye(_e=>Hk(_e,se,R,Z)),Re=Ye(_e=>Gq(_e,se,R,Z)),J=Ce,oe=yG(),ue=(r=i??Ae)!==null&&r!==void 0?r:!1,[ve,Q]=B4([J,ue]),le=se==="axis"?te:void 0;FG(se,R,Re,le,ie,ue);var Ue=W??oe;if(Ue==null||K==null||se==null)return null;var Be=J??SN;ue||(Be=SN),p&&Be.length&&(Be=T4(Be.filter(_e=>_e.value!=null&&(_e.hide!==!0||n.includeHidden)),S,WG));var Ge=Be.length>0,X=_.createElement(Rz,{allowEscapeViewBox:a,animationDuration:c,animationEasing:f,isAnimationActive:v,active:ue,coordinate:Re,hasPayload:Ge,offset:b,position:C,reverseDirection:O,useTranslate3d:I,viewBox:K,wrapperStyle:P,lastBoundingBox:ve,innerRef:Q,hasPortalFromProps:!!W},VG(h,EN(EN({},n),{},{payload:Be,label:le,active:ue,activeIndex:ie,coordinate:Re,accessibilityLayer:pe})));return _.createElement(_.Fragment,null,Ry.createPortal(X,Ue),ue&&_.createElement(vG,{cursor:D,tooltipEventType:se,coordinate:Re,payload:Be,index:ie}))}var Dl=e=>null;Dl.displayName="Cell";function qG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XG{constructor(t){qG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){ZG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZG(e,t,r){return(t=QG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eK={cacheSize:2e3,enableCache:!0},Yk=YG({},eK),CN=new XG(Yk.cacheSize),tK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_N="recharts_measurement_span";function rK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(c,"|").concat(f)}var NN=(e,t)=>{try{var r=document.getElementById(_N);r||(r=document.createElement("span"),r.setAttribute("id",_N),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,tK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},md=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ef.isSsr)return{width:0,height:0};if(!Yk.enableCache)return NN(t,r);var n=rK(t,r),i=CN.get(n);if(i)return i;var a=NN(t,r);return CN.set(n,a),a},Zk;function nK(e,t,r){return(t=iK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=aK(e,"string");return typeof t=="symbol"?t:t+""}function aK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ON=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,lK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},cK=["cm","mm","pt","pc","in","Q","px"];function uK(e){return cK.includes(e)}var Ic="NaN";function dK(e,t){return e*lK[t]}class Vn{static parse(t){var r,[,n,i]=(r=oK.exec(t))!==null&&r!==void 0?r:[];return n==null?Vn.NaN:new Vn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ni(t)&&(this.unit=""),r!==""&&!sK.test(r)&&(this.num=NaN,this.unit=""),uK(r)&&(this.num=dK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Vn(NaN,""):new Vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ni(this.num)}}Zk=Vn;nK(Vn,"NaN",new Zk(NaN,""));function Qk(e){if(e==null||e.includes(Ic))return Ic;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=ON.exec(t))!==null&&r!==void 0?r:[],c=Vn.parse(n??""),f=Vn.parse(a??""),h=i==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return Ic;t=t.replace(ON,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,v,b,S]=(p=IN.exec(t))!==null&&p!==void 0?p:[],C=Vn.parse(v??""),O=Vn.parse(S??""),I=b==="+"?C.add(O):C.subtract(O);if(I.isNaN())return Ic;t=t.replace(IN,I.toString())}return t}var PN=/\(([^()]*)\)/;function fK(e){for(var t=e,r;(r=PN.exec(t))!=null;){var[,n]=r;t=t.replace(PN,Qk(n))}return t}function hK(e){var t=e.replace(/\s+/g,"");return t=fK(t),t=Qk(t),t}function pK(e){try{return hK(e)}catch{return Ic}}function Fx(e){var t=pK(e.slice(5,-1));return t===Ic?"":t}var mK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gK=["dx","dy","angle","className","breakAll"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function jN(e,t){if(e==null)return{};var r,n,i=xK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jk=/[ \f\n\r\t\v\u2028\u2029]+/,eT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Qt(t)||(r?i=t.toString().split(""):i=t.toString().split(Jk));var a=i.map(f=>({word:f,width:md(f,n).width})),c=r?0:md("",n).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}};function vK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var tT=(e,t,r,n)=>e.reduce((i,a)=>{var{word:c,width:f}=a,h=i[i.length-1];if(h&&f!=null&&(t==null||n||h.width+f+r<Number(t)))h.words.push(c),h.width+=f+r;else{var p={words:[c],width:f};i.push(p)}return i},[]),rT=e=>e.reduce((t,r)=>t.width>r.width?t:r),yK="",kN=(e,t,r,n,i,a,c,f)=>{var h=e.slice(0,t),p=eT({breakAll:r,style:n,children:h+yK});if(!p)return[!1,[]];var v=tT(p.wordsWithComputedWidth,a,c,f),b=v.length>i||rT(v).width>Number(a);return[b,v]},bK=(e,t,r,n,i)=>{var{maxLines:a,children:c,style:f,breakAll:h}=e,p=Xe(a),v=String(c),b=tT(t,n,r,i);if(!p||i)return b;var S=b.length>a||rT(b).width>Number(n);if(!S)return b;for(var C=0,O=v.length-1,I=0,P;C<=O&&I<=v.length-1;){var D=Math.floor((C+O)/2),M=D-1,[R,B]=kN(v,M,h,f,a,n,r,i),[W]=kN(v,D,h,f,a,n,r,i);if(!R&&!W&&(C=D+1),R&&W&&(O=D-1),!R&&W){P=B;break}I++}return P||b},TN=e=>{var t=Qt(e)?[]:e.toString().split(Jk);return[{words:t,width:void 0}]},wK=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:c}=e;if((t||r)&&!ef.isSsr){var f,h,p=eT({breakAll:a,children:n,style:i});if(p){var{wordsWithComputedWidth:v,spaceWidth:b}=p;f=v,h=b}else return TN(n);return bK({breakAll:a,children:n,maxLines:c,style:i},f,h,t,!!r)}return TN(n)},nT="#808080",EK={angle:0,breakAll:!1,capHeight:"0.71em",fill:nT,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Em=_.forwardRef((e,t)=>{var r=Ar(e,EK),{x:n,y:i,lineHeight:a,capHeight:c,fill:f,scaleToFit:h,textAnchor:p,verticalAnchor:v}=r,b=jN(r,mK),S=_.useMemo(()=>wK({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:h,style:b.style,width:b.width}),[b.breakAll,b.children,b.maxLines,h,b.style,b.width]),{dx:C,dy:O,angle:I,className:P,breakAll:D}=b,M=jN(b,gK);if(!oa(n)||!oa(i)||S.length===0)return null;var R=Number(n)+(Xe(C)?C:0),B=Number(i)+(Xe(O)?O:0);if(!Xt(R)||!Xt(B))return null;var W;switch(v){case"start":W=Fx("calc(".concat(c,")"));break;case"middle":W=Fx("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:W=Fx("calc(".concat(S.length-1," * -").concat(a,")"));break}var $=[];if(h){var H=S[0].width,{width:Z}=b;$.push("scale(".concat(Xe(Z)&&Xe(H)?Z/H:1,")"))}return I&&$.push("rotate(".concat(I,", ").concat(R,", ").concat(B,")")),$.length&&(M.transform=$.join(" ")),_.createElement("text",py({},qn(M),{ref:t,x:R,y:B,className:zt("recharts-text",P),textAnchor:p,fill:f.includes("url")?nT:f}),S.map((K,pe)=>{var se=K.words.join(D?"":" ");return _.createElement("tspan",{x:R,dy:pe===0?W:a,key:"".concat(se,"-").concat(pe)},se)}))});Em.displayName="Text";var SK=["labelRef"],AK=["content"];function RN(e,t){if(e==null)return{};var r,n,i=CK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){_K(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _K(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}var iT=_.createContext(null),aT=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c,children:f}=e,h=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c}),[t,r,n,i,a,c]);return _.createElement(iT.Provider,{value:h},f)},sT=()=>{var e=_.useContext(iT),t=eu();return e||EP(t)},IK=_.createContext(null),PK=()=>{var e=_.useContext(IK),t=Ye(Kj);return e||t},jK=e=>{var{value:t,formatter:r}=e,n=Qt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ow=e=>e!=null&&typeof e=="function",kK=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},TK=(e,t,r,n,i)=>{var{offset:a,className:c}=e,{cx:f,cy:h,innerRadius:p,outerRadius:v,startAngle:b,endAngle:S,clockWise:C}=i,O=(p+v)/2,I=kK(b,S),P=I>=0?1:-1,D,M;switch(t){case"insideStart":D=b+P*a,M=C;break;case"insideEnd":D=S-P*a,M=!C;break;case"end":D=S+P*a,M=C;break;default:throw new Error("Unsupported position ".concat(t))}M=I<=0?M:!M;var R=ln(f,h,O,D),B=ln(f,h,O,D+(M?1:-1)*359),W="M".concat(R.x,",").concat(R.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(M?0:1,`,
    `).concat(B.x,",").concat(B.y),$=Qt(e.id)?_d("recharts-radial-line-"):e.id;return _.createElement("text",Ns({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:$,d:W})),_.createElement("textPath",{xlinkHref:"#".concat($)},r))},RK=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:c,startAngle:f,endAngle:h}=e,p=(f+h)/2;if(r==="outside"){var{x:v,y:b}=ln(n,i,c+t,p);return{x:v,y:b,textAnchor:v>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(a+c)/2,{x:C,y:O}=ln(n,i,S,p);return{x:C,y:O,textAnchor:"middle",verticalAnchor:"middle"}},my=e=>"cx"in e&&Xe(e.cx),DK=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!my(r)&&(a=r);var{x:c,y:f,upperWidth:h,lowerWidth:p,height:v}=t,b=c,S=c+(h-p)/2,C=(b+S)/2,O=(h+p)/2,I=b+h/2,P=v>=0?1:-1,D=P*n,M=P>0?"end":"start",R=P>0?"start":"end",B=h>=0?1:-1,W=B*n,$=B>0?"end":"start",H=B>0?"start":"end";if(i==="top"){var Z={x:b+h/2,y:f-D,textAnchor:"middle",verticalAnchor:M};return Qr(Qr({},Z),a?{height:Math.max(f-a.y,0),width:h}:{})}if(i==="bottom"){var K={x:S+p/2,y:f+v+D,textAnchor:"middle",verticalAnchor:R};return Qr(Qr({},K),a?{height:Math.max(a.y+a.height-(f+v),0),width:p}:{})}if(i==="left"){var pe={x:C-W,y:f+v/2,textAnchor:$,verticalAnchor:"middle"};return Qr(Qr({},pe),a?{width:Math.max(pe.x-a.x,0),height:v}:{})}if(i==="right"){var se={x:C+O+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"};return Qr(Qr({},se),a?{width:Math.max(a.x+a.width-se.x,0),height:v}:{})}var ie=a?{width:O,height:v}:{};return i==="insideLeft"?Qr({x:C+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"},ie):i==="insideRight"?Qr({x:C+O-W,y:f+v/2,textAnchor:$,verticalAnchor:"middle"},ie):i==="insideTop"?Qr({x:b+h/2,y:f+D,textAnchor:"middle",verticalAnchor:R},ie):i==="insideBottom"?Qr({x:S+p/2,y:f+v-D,textAnchor:"middle",verticalAnchor:M},ie):i==="insideTopLeft"?Qr({x:b+W,y:f+D,textAnchor:H,verticalAnchor:R},ie):i==="insideTopRight"?Qr({x:b+h-W,y:f+D,textAnchor:$,verticalAnchor:R},ie):i==="insideBottomLeft"?Qr({x:S+W,y:f+v-D,textAnchor:H,verticalAnchor:M},ie):i==="insideBottomRight"?Qr({x:S+p-W,y:f+v-D,textAnchor:$,verticalAnchor:M},ie):i&&typeof i=="object"&&(Xe(i.x)||Ms(i.x))&&(Xe(i.y)||Ms(i.y))?Qr({x:c+si(i.x,O),y:f+si(i.y,v),textAnchor:"end",verticalAnchor:"end"},ie):Qr({x:I,y:f+v/2,textAnchor:"middle",verticalAnchor:"middle"},ie)},MK={angle:0,offset:5,zIndex:kr.label,position:"middle",textBreakAll:!1};function So(e){var t=Ar(e,MK),{viewBox:r,position:n,value:i,children:a,content:c,className:f="",textBreakAll:h,labelRef:p}=t,v=PK(),b=sT(),S=n==="center"?b:v??b,C,O,I;if(r==null?C=S:my(r)?C=r:C=EP(r),!C||Qt(i)&&Qt(a)&&!_.isValidElement(c)&&typeof c!="function")return null;var P=Qr(Qr({},t),{},{viewBox:C});if(_.isValidElement(c)){var{labelRef:D}=P,M=RN(P,SK);return _.cloneElement(c,M)}if(typeof c=="function"){var{content:R}=P,B=RN(P,AK);if(O=_.createElement(c,B),_.isValidElement(O))return O}else O=jK(t);var W=qn(t);if(my(C)){if(n==="insideStart"||n==="insideEnd"||n==="end")return TK(t,n,O,W,C);I=RK(C,t.offset,t.position)}else I=DK(t,C);return _.createElement(Rn,{zIndex:t.zIndex},_.createElement(Em,Ns({ref:p,className:zt("recharts-label",f)},W,I,{textAnchor:vK(W.textAnchor)?W.textAnchor:I.textAnchor,breakAll:h}),O))}So.displayName="Label";var LK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(So,Ns({key:"label-implicit"},n)):oa(e)?_.createElement(So,Ns({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===So?_.cloneElement(e,Qr({key:"label-implicit"},n)):_.createElement(So,Ns({key:"label-implicit",content:e},n)):Ow(e)?_.createElement(So,Ns({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(So,Ns({},e,{key:"label-implicit"},n)):null};function oT(e){var{label:t,labelRef:r}=e,n=sT();return LK(t,n,r)||null}var zx={},Ux={},MN;function BK(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ux)),Ux}var $x={},LN;function FK(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})($x)),$x}var BN;function zK(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BK(),r=FK(),n=ib();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(zx)),zx}var Wx,FN;function UK(){return FN||(FN=1,Wx=zK().last),Wx}var $K=UK();const WK=fa($K);var VK=["valueAccessor"],HK=["dataKey","clockWise","id","textBreakAll","zIndex"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function zN(e,t){if(e==null)return{};var r,n,i=qK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GK=e=>Array.isArray(e.value)?WK(e.value):e.value,lT=_.createContext(void 0),Sm=lT.Provider,cT=_.createContext(void 0),KK=cT.Provider;function XK(){return _.useContext(lT)}function YK(){return _.useContext(cT)}function f0(e){var{valueAccessor:t=GK}=e,r=zN(e,VK),{dataKey:n,clockWise:i,id:a,textBreakAll:c,zIndex:f}=r,h=zN(r,HK),p=XK(),v=YK(),b=p||v;return!b||!b.length?null:_.createElement(Rn,{zIndex:f??kr.label},_.createElement(sr,{className:"recharts-label-list"},b.map((S,C)=>{var O,I=Qt(n)?t(S,C):$t(S&&S.payload,n),P=Qt(a)?{}:{id:"".concat(a,"-").concat(C)};return _.createElement(So,hp({key:"label-".concat(C)},qn(S),h,P,{fill:(O=r.fill)!==null&&O!==void 0?O:S.fill,parentViewBox:S.parentViewBox,value:I,textBreakAll:c,viewBox:S.viewBox,index:C,zIndex:0}))})))}f0.displayName="LabelList";function mf(e){var{label:t}=e;return t?t===!0?_.createElement(f0,{key:"labelList-implicit"}):_.isValidElement(t)||Ow(t)?_.createElement(f0,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(f0,hp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}var uT=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=zt("recharts-dot",i);return Xe(t)&&Xe(r)&&Xe(n)?_.createElement("circle",gy({},Hn(e),nb(e),{className:a,cx:t,cy:r,r:n})):null},dT=e=>e.graphicalItems.polarItems,ZK=he([Rr,of],Qb),Am=he([dT,zr,ZK],Jb),QK=he([Am],ew),Cm=he([QK,cm],tw),JK=he([Cm,zr,Am],nw);he([Cm,zr,Am],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,c=$t(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:$t(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var UN=()=>{},eX=he([Cm,zr,Am,vm,Rr],ow),tX=he([zr,aw,sw,UN,eX,UN,Mt,Rr],lw),fT=he([zr,Mt,Cm,JK,sf,Rr,tX],cw),rX=he([fT,zr,ou],fw);he([zr,fT,rX,Rr],pw);var nX={radiusAxis:{},angleAxis:{}},hT=Oi({name:"polarAxis",initialState:nX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iie,removeRadiusAxis:aie,addAngleAxis:sie,removeAngleAxis:oie}=hT.actions,iX=hT.reducer;function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){aX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lX=(e,t)=>t,Iw=he([dT,lX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),cX=[],Pw=(e,t,r)=>r?.length===0?cX:r,pT=he([cm,Iw,Pw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>WN(WN({},t.presentationProps),a.props))),i!=null)return i}}),uX=he([pT,Iw,Pw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,c=$t(n,t.nameKey,t.name),f;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:es(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),dX=he([pT,Iw,Pw,yn],(e,t,r,n)=>{if(!(t==null||e==null))return hY({offset:n,pieSettings:t,displayedData:e,cells:r})}),Vx={exports:{}},ar={};var VN;function fX(){if(VN)return ar;VN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function O(I){if(typeof I=="object"&&I!==null){var P=I.$$typeof;switch(P){case e:switch(I=I.type,I){case r:case i:case n:case h:case p:case S:return I;default:switch(I=I&&I.$$typeof,I){case c:case f:case b:case v:return I;case a:return I;default:return P}}case t:return P}}}return ar.ContextConsumer=a,ar.ContextProvider=c,ar.Element=e,ar.ForwardRef=f,ar.Fragment=r,ar.Lazy=b,ar.Memo=v,ar.Portal=t,ar.Profiler=i,ar.StrictMode=n,ar.Suspense=h,ar.SuspenseList=p,ar.isContextConsumer=function(I){return O(I)===a},ar.isContextProvider=function(I){return O(I)===c},ar.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},ar.isForwardRef=function(I){return O(I)===f},ar.isFragment=function(I){return O(I)===r},ar.isLazy=function(I){return O(I)===b},ar.isMemo=function(I){return O(I)===v},ar.isPortal=function(I){return O(I)===t},ar.isProfiler=function(I){return O(I)===i},ar.isStrictMode=function(I){return O(I)===n},ar.isSuspense=function(I){return O(I)===h},ar.isSuspenseList=function(I){return O(I)===p},ar.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===i||I===n||I===h||I===p||typeof I=="object"&&I!==null&&(I.$$typeof===b||I.$$typeof===v||I.$$typeof===c||I.$$typeof===a||I.$$typeof===f||I.$$typeof===C||I.getModuleId!==void 0)},ar.typeOf=O,ar}var HN;function hX(){return HN||(HN=1,Vx.exports=fX()),Vx.exports}var pX=hX(),qN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GN=null,Hx=null,mT=e=>{if(e===GN&&Array.isArray(Hx))return Hx;var t=[];return _.Children.forEach(e,r=>{Qt(r)||(pX.isFragment(r)?t=t.concat(mT(r.props.children)):t.push(r))}),Hx=t,GN=e,t};function _m(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>qN(i)):n=[qN(t)],mT(e).forEach(i=>{var a=Pl(i,"type.displayName")||Pl(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var jw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qx={},KN;function mX(){return KN||(KN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(qx)),qx}var Gx,XN;function gX(){return XN||(XN=1,Gx=mX().isPlainObject),Gx}var xX=gX();const vX=fa(xX);var YN,ZN,QN,JN,e3;function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function id(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var n3=(e,t,r,n,i)=>{var a=r-n,c;return c=qr(YN||(YN=id(["M ",",",""])),e,t),c+=qr(ZN||(ZN=id(["L ",",",""])),e+r,t),c+=qr(QN||(QN=id(["L ",",",""])),e+r-a/2,t+i),c+=qr(JN||(JN=id(["L ",",",""])),e+r-a/2-n,t+i),c+=qr(e3||(e3=id(["L ",","," Z"])),e,t),c},EX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SX=e=>{var t=Ar(e,EX),{x:r,y:n,upperWidth:i,lowerWidth:a,height:c,className:f}=t,{animationEasing:h,animationDuration:p,animationBegin:v,isUpdateAnimationActive:b}=t,S=_.useRef(null),[C,O]=_.useState(-1),I=_.useRef(i),P=_.useRef(a),D=_.useRef(c),M=_.useRef(r),R=_.useRef(n),B=Ul(e,"trapezoid-");if(_.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var Ce=S.current.getTotalLength();Ce&&O(Ce)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||c!==+c||i===0&&a===0||c===0)return null;var W=zt("recharts-trapezoid",f);if(!b)return _.createElement("g",null,_.createElement("path",pp({},qn(t),{className:W,d:n3(r,n,i,a,c)})));var $=I.current,H=P.current,Z=D.current,K=M.current,pe=R.current,se="0px ".concat(C===-1?1:C,"px"),ie="".concat(C,"px 0px"),Ae=DP(["strokeDasharray"],p,h);return _.createElement(zl,{animationId:B,key:B,canBegin:C>0,duration:p,easing:h,isActive:b,begin:v},Ce=>{var te=Ut($,i,Ce),Re=Ut(H,a,Ce),J=Ut(Z,c,Ce),oe=Ut(K,r,Ce),ue=Ut(pe,n,Ce);S.current&&(I.current=te,P.current=Re,D.current=J,M.current=oe,R.current=ue);var ve=Ce>0?{transition:Ae,strokeDasharray:ie}:{strokeDasharray:se};return _.createElement("path",pp({},qn(t),{className:W,d:n3(oe,ue,te,Re,J),ref:S,style:r3(r3({},ve),t.style)}))})},AX=["option","shapeType","activeClassName"];function CX(e,t){if(e==null)return{};var r,n,i=_X(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _X(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t){return mp(mp({},t),e)}function jX(e,t){return e==="symbols"}function a3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(FP,r);case"trapezoid":return _.createElement(SX,r);case"sector":return _.createElement(WP,r);case"symbols":if(jX(t))return _.createElement(Bp,r);break;case"curve":return _.createElement(El,r);default:return null}}function kX(e){return _.isValidElement(e)?e.props:e}function zd(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=CX(e,AX),a;if(_.isValidElement(t))a=_.cloneElement(t,mp(mp({},i),kX(t)));else if(typeof t=="function")a=t(i,i.index);else if(vX(t)&&typeof t!="boolean"){var c=PX(t,i);a=_.createElement(a3,{shapeType:r,elementProps:c})}else{var f=i;a=_.createElement(a3,{shapeType:r,elementProps:f})}return i.isActive?_.createElement(sr,{className:n},a):a}var Nm=(e,t,r)=>{var n=fr();return(i,a)=>c=>{e?.(i,a,c),n(_k({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Om=e=>{var t=fr();return(r,n)=>i=>{e?.(r,n,i),t($H())}},Im=(e,t,r)=>{var n=fr();return(i,a)=>c=>{e?.(i,a,c),n(WH({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function gf(e){var{tooltipEntrySettings:t}=e,r=fr(),n=Jr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(BH(t)):i.current!==t&&r(FH({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(zH(i.current)),i.current=null)},[r]),null}function Pm(e){var{legendPayload:t}=e,r=fr(),n=Jr(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(jP(t)):i.current!==t&&r(kP({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(TP(i.current)),i.current=null)},[r]),null}function TX(e){var{legendPayload:t}=e,r=fr(),n=Ye(Mt),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(jP(t)):i.current!==t&&r(kP({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(TP(i.current)),i.current=null)},[r]),null}var Kx,RX=()=>{var[e]=_.useState(()=>_d("uid-"));return e},DX=(Kx=u6.useId)!==null&&Kx!==void 0?Kx:RX;function MX(e,t){var r=DX();return t||(e?"".concat(e,"-").concat(r):r)}var LX=_.createContext(void 0),xf=e=>{var{id:t,type:r,children:n}=e,i=MX("recharts-".concat(r),t);return _.createElement(LX.Provider,{value:i},n(i))},BX={cartesianItems:[],polarItems:[]},gT=Oi({name:"graphicalItems",initialState:BX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Pr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ta(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Pr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ta(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Pr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Pr()},removePolarGraphicalItem:{reducer(e,t){var r=Ta(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Pr()}}}),{addCartesianGraphicalItem:FX,replaceCartesianGraphicalItem:zX,removeCartesianGraphicalItem:UX,addPolarGraphicalItem:$X,removePolarGraphicalItem:WX}=gT.actions,VX=gT.reducer,HX=e=>{var t=fr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(FX(e)):r.current!==e&&t(zX({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(UX(r.current)),r.current=null)},[t]),null},jm=_.memo(HX);function qX(e){var t=fr();return _.useLayoutEffect(()=>(t($X(e)),()=>{t(WX(e))}),[t,e]),null}var GX=["key"],KX=["onMouseEnter","onClick","onMouseLeave"],XX=["id"],YX=["id"];function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){ZX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},To.apply(null,arguments)}function km(e,t){if(e==null)return{};var r,n,i=eY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tY(e){var t=_.useMemo(()=>_m(e.children,Dl),[e.children]),r=Ye(n=>uX(n,e.id,t));return r==null?null:_.createElement(TX,{legendPayload:r})}var rY=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:c,name:f,hide:h,tooltipType:p,id:v}=e,b={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:c,dataKey:t,nameKey:r,name:es(f,t),hide:h,type:p,color:c,unit:"",graphicalItemId:v}};return _.createElement(gf,{tooltipEntrySettings:b})}),nY=(e,t)=>e>t?"start":e<t?"end":"middle",iY=(e,t,r)=>si(typeof t=="function"?t(e):t,r,r*.8),aY=(e,t,r)=>{var{top:n,left:i,width:a,height:c}=t,f=zP(a,c),h=i+si(e.cx,a,a/2),p=n+si(e.cy,c,c/2),v=si(e.innerRadius,f,0),b=iY(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(a*a+c*c)/2;return{cx:h,cy:p,innerRadius:v,outerRadius:b,maxRadius:S}},sY=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function oY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var lY=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=zt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=km(t,GX);return _.createElement(El,To({},i,{type:"linear",className:r}))},cY=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=zt("recharts-pie-label-text",oY(e));return _.createElement(Em,To({},t,{alignmentBaseline:"middle",className:i}),n)};function uY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:c}=r;if(!n||!i||!t)return null;var f=Hn(r),h=Po(i),p=Po(a),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,b=t.map((S,C)=>{var O=(S.startAngle+S.endAngle)/2,I=ln(S.cx,S.cy,S.outerRadius+v,O),P=Gr(Gr(Gr(Gr({},f),S),{},{stroke:"none"},h),{},{index:C,textAnchor:nY(I.x,S.cx)},I),D=Gr(Gr(Gr(Gr({},f),S),{},{fill:"none",stroke:S.fill},p),{},{index:C,points:[ln(S.cx,S.cy,S.outerRadius,O),I],key:"line"});return _.createElement(Rn,{zIndex:kr.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(C)},_.createElement(sr,null,a&&lY(a,D),cY(i,P,$t(S,c))))});return _.createElement(sr,{className:"recharts-pie-labels"},b)}function dY(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(mf,{label:i}):_.createElement(uY,{sectors:t,props:r,showLabels:n})}function fY(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:c}=e,f=Ye($s),h=Ye(Sw),p=Ye(Oq),{onMouseEnter:v,onClick:b,onMouseLeave:S}=i,C=km(i,KX),O=Nm(v,i.dataKey,c),I=Om(S),P=Im(b,i.dataKey,c);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((D,M)=>{if(D?.startAngle===0&&D?.endAngle===0&&t.length!==1)return null;var R=p==null||p===c,B=String(M)===f&&(h==null||i.dataKey===h)&&R,W=f?n:null,$=r&&B?r:W,H=Gr(Gr({},D),{},{stroke:D.stroke,tabIndex:-1,[fb]:M,[hb]:c});return _.createElement(sr,To({key:"sector-".concat(D?.startAngle,"-").concat(D?.endAngle,"-").concat(D.midAngle,"-").concat(M),tabIndex:-1,className:"recharts-pie-sector"},Jc(C,D,M),{onMouseEnter:O(D,M),onMouseLeave:I(D,M),onClick:P(D,M)}),_.createElement(zd,To({option:a??$,index:M,shapeType:"sector",isActive:B},H)))}))}function hY(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:c,startAngle:f,endAngle:h,dataKey:p,nameKey:v,tooltipType:b}=r,S=Math.abs(r.minAngle),C=sY(f,h),O=Math.abs(C),I=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,P=n.filter($=>$t($,p,0)!==0).length,D=(O>=360?P:P-1)*I,M=O-P*S-D,R=n.reduce(($,H)=>{var Z=$t(H,p,0);return $+(Xe(Z)?Z:0)},0),B;if(R>0){var W;B=n.map(($,H)=>{var Z=$t($,p,0),K=$t($,v,H),pe=aY(r,a,$),se=(Xe(Z)?Z:0)/R,ie,Ae=Gr(Gr({},$),i&&i[H]&&i[H].props);H?ie=W.endAngle+kn(C)*I*(Z!==0?1:0):ie=f;var Ce=ie+kn(C)*((Z!==0?S:0)+se*M),te=(ie+Ce)/2,Re=(pe.innerRadius+pe.outerRadius)/2,J=[{name:K,value:Z,payload:Ae,dataKey:p,type:b,graphicalItemId:r.id}],oe=ln(pe.cx,pe.cy,Re,te);return W=Gr(Gr(Gr(Gr({},r.presentationProps),{},{percent:se,cornerRadius:typeof c=="string"?parseFloat(c):c,name:K,tooltipPayload:J,midAngle:te,middleRadius:Re,tooltipPosition:oe},Ae),pe),{},{value:Z,dataKey:p,startAngle:ie,endAngle:Ce,payload:Ae,paddingAngle:kn(C)*I}),W})}return B}function pY(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(KK,{value:t?i:void 0},n)}function mY(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:h,activeShape:p,inactiveShape:v,onAnimationStart:b,onAnimationEnd:S}=t,C=Ul(t,"recharts-pie-"),O=r.current,[I,P]=_.useState(!1),D=_.useCallback(()=>{typeof S=="function"&&S(),P(!1)},[S]),M=_.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]);return _.createElement(pY,{showLabels:!I,sectors:i},_.createElement(zl,{animationId:C,begin:c,duration:f,isActive:a,easing:h,onAnimationStart:M,onAnimationEnd:D,key:C},R=>{var B=[],W=i&&i[0],$=W?.startAngle;return i?.forEach((H,Z)=>{var K=O&&O[Z],pe=Z>0?Pl(H,"paddingAngle",0):0;if(K){var se=Ut(K.endAngle-K.startAngle,H.endAngle-H.startAngle,R),ie=Gr(Gr({},H),{},{startAngle:$+pe,endAngle:$+se+pe});B.push(ie),$=ie.endAngle}else{var{endAngle:Ae,startAngle:Ce}=H,te=Ut(0,Ae-Ce,R),Re=Gr(Gr({},H),{},{startAngle:$+pe,endAngle:$+te+pe});B.push(Re),$=Re.endAngle}}),r.current=B,_.createElement(sr,null,_.createElement(fY,{sectors:B,activeShape:p,inactiveShape:v,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(dY,{showLabels:!I,sectors:i,props:t}),t.children)}var gY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:kr.area};function xY(e){var{id:t}=e,r=km(e,XX),{hide:n,className:i,rootTabIndex:a}=e,c=_.useMemo(()=>_m(e.children,Dl),[e.children]),f=Ye(v=>dX(v,t,c)),h=_.useRef(null),p=zt("recharts-pie",i);return n||f==null?(h.current=null,_.createElement(sr,{tabIndex:a,className:p})):_.createElement(Rn,{zIndex:e.zIndex},_.createElement(rY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(sr,{tabIndex:a,className:p},_.createElement(mY,{props:Gr(Gr({},r),{},{sectors:f}),previousSectorsRef:h,id:t})))}function xT(e){var t=Ar(e,gY),{id:r}=t,n=km(t,YX),i=Hn(n);return _.createElement(xf,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(qX,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(tY,To({},n,{id:a})),_.createElement(xY,To({},n,{id:a}))))}xT.displayName="Pie";var vY=["points"];function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function EY(e,t){if(e==null)return{};var r,n,i=SY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AY(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if(typeof t=="function")return t(r);var i=zt(n,typeof t!="boolean"?t.className:""),a=r??{},{points:c}=a,f=EY(a,vY);return _.createElement(uT,gp({},f,{className:i}))}function CY(e,t){return e==null?!1:t?!0:e.length===1}function vT(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:c,needClip:f,clipPathId:h,zIndex:p=kr.scatter}=e;if(!CY(t,r))return null;var v=jw(r),b=W9(r),S=t.map((O,I)=>{var P,D,M=Xx(Xx(Xx({r:3},c),b),{},{index:I,cx:(P=O.x)!==null&&P!==void 0?P:void 0,cy:(D=O.y)!==null&&D!==void 0?D:void 0,dataKey:a,value:O.value,payload:O.payload,points:t});return _.createElement(AY,{key:"dot-".concat(I),option:r,dotProps:M,className:i})}),C={};return f&&h!=null&&(C.clipPath="url(#clipPath-".concat(v?"":"dots-").concat(h,")")),_.createElement(Rn,{zIndex:p},_.createElement(sr,gp({className:n},C),S))}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=NY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT=0,IY={xAxis:{},yAxis:{},zAxis:{}},bT=Oi({name:"cartesianAxis",initialState:IY,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Pr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Pr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Pr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Pr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Pr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Pr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Pr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Pr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Pr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var c=[...a,n].slice(-3);e.yAxis[r]=c3(c3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:PY,replaceXAxis:jY,removeXAxis:kY,addYAxis:TY,replaceYAxis:RY,removeYAxis:DY,addZAxis:lie,replaceZAxis:cie,removeZAxis:uie,updateYAxisWidth:MY}=bT.actions,LY=bT.reducer,BY=he([yn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),FY=he([BY,Hs,qs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Tm=()=>Ye(FY),zY=()=>Ye(Tq);function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VY=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:c}=e;if(i===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},h=Yx(Yx(Yx({},f),Po(i)),nb(i)),p;return _.isValidElement(i)?p=_.cloneElement(i,h):typeof i=="function"?p=i(h):p=_.createElement(uT,h),_.createElement(sr,{className:"recharts-active-dot",clipPath:c},p)};function xy(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:c=kr.activeDot}=e,f=Ye($s),h=zY();if(t==null||h==null)return null;var p=t.find(v=>h.includes(v.payload));return Qt(p)?null:_.createElement(Rn,{zIndex:c},_.createElement(VY,{point:p,childIndex:Number(f),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var d3=(e,t,r)=>{var n=r??e;if(!Qt(n))return si(n,t,0)},HY=(e,t,r)=>{var n={},i=e.filter(pm),a=e.filter(p=>p.stackId==null),c=i.reduce((p,v)=>(p[v.stackId]||(p[v.stackId]=[]),p[v.stackId].push(v),p),n),f=Object.entries(c).map(p=>{var[v,b]=p,S=b.map(O=>O.dataKey),C=d3(t,r,b[0].barSize);return{stackId:v,dataKeys:S,barSize:C}}),h=a.map(p=>{var v=[p.dataKey].filter(S=>S!=null),b=d3(t,r,p.barSize);return{stackId:void 0,dataKeys:v,barSize:b}});return[...f,...h]};function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XY(e,t,r,n,i){var a=n.length;if(!(a<1)){var c=si(e,r,0,!0),f,h=[];if(Xt(n[0].barSize)){var p=!1,v=r/a,b=n.reduce((D,M)=>D+(M.barSize||0),0);b+=(a-1)*c,b>=r&&(b-=(a-1)*c,c=0),b>=r&&v>0&&(p=!0,v*=.9,b=a*v);var S=(r-b)/2>>0,C={offset:S-c,size:0};f=n.reduce((D,M)=>{var R,B={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:C.offset+C.size+c,size:p?v:(R=M.barSize)!==null&&R!==void 0?R:0}},W=[...D,B];return C=W[W.length-1].position,W},h)}else{var O=si(t,r,0,!0);r-2*O-(a-1)*c<=0&&(c=0);var I=(r-2*O-(a-1)*c)/a;I>1&&(I>>=0);var P=Xt(i)?Math.min(I,i):I;f=n.reduce((D,M,R)=>[...D,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:O+(I+c)*R+(I-P)/2,size:P}}],h)}return f}}var YY=(e,t,r,n,i,a,c)=>{var f=Qt(c)?t:c,h=XY(r,n,i!==a?i:a,e,f);return i!==a&&h!=null&&(h=h.map(p=>Zh(Zh({},p),{},{position:Zh(Zh({},p.position),{},{offset:p.position.offset-i/2})}))),h},ZY=(e,t)=>{var r=hm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(c=>c.key===r)}}}};function QY(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Xt(e.zIndex)?e.zIndex:t}var wT=e=>{var{chartData:t}=e,r=fr(),n=Jr();return _.useEffect(()=>n?()=>{}:(r(yN(t)),()=>{r(yN(void 0))}),[t,r,n]),null},h3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ET=Oi({name:"brush",initialState:h3,reducers:{setBrushSettings(e,t){return t.payload==null?h3:t.payload}}}),{setBrushSettings:die}=ET.actions,JY=ET.reducer;function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){ST(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ST(e,t,r){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rZ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},nZ=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return rZ({x:t,y:r},{x:n,y:i})};class Rm{static create(t){return new Rm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}ST(Rm,"EPS",1e-4);var iZ=e=>{var t=Object.keys(e).reduce((r,n)=>Qh(Qh({},r),{},{[n]:Rm.create(e[n])}),{});return Qh(Qh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(a=>{var[c,f]=a;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function aZ(e){return(e%180+180)%180}var sZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=aZ(i),c=a*Math.PI/180,f=Math.atan(n/r),h=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(h)},oZ={dots:[],areas:[],lines:[]},AT=Oi({name:"referenceElements",initialState:oZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ta(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ta(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ta(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:fie,removeDot:hie,addArea:pie,removeArea:mie,addLine:lZ,removeLine:cZ}=AT.actions,uZ=AT.reducer,CT=_.createContext(void 0),dZ=e=>{var{children:t}=e,[r]=_.useState("".concat(_d("recharts"),"-clip")),n=Tm();if(n==null)return null;var{x:i,y:a,width:c,height:f}=n;return _.createElement(CT.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:f,width:c}))),t)},fZ=()=>_.useContext(CT);function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){hZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hZ(e,t,r){return(t=pZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}var gZ=(e,t)=>{var r;if(_.isValidElement(e))r=_.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Xt(t.x1)||!Xt(t.y1)||!Xt(t.x2)||!Xt(t.y2))return null;r=_.createElement("line",xp({},t,{className:"recharts-reference-line-line"}))}return r},xZ=(e,t,r,n,i,a)=>{var{x:c,width:f}=a,h=i.y.apply(e,{position:r});if(Ni(h)||t==="discard"&&!i.y.isInRange(h))return null;var p=[{x:c+f,y:h},{x:c,y:h}];return n==="left"?p.reverse():p},vZ=(e,t,r,n,i,a)=>{var{y:c,height:f}=a,h=i.x.apply(e,{position:r});if(Ni(h)||t==="discard"&&!i.x.isInRange(h))return null;var p=[{x:h,y:c+f},{x:h,y:c}];return n==="top"?p.reverse():p},yZ=(e,t,r,n)=>{var i=e.map(a=>n.apply(a,{position:r}));return t==="discard"&&i.some(a=>!n.isInRange(a))?null:i},bZ=(e,t,r,n,i,a)=>{var{x:c,y:f,segment:h,ifOverflow:p}=a,v=oa(c),b=oa(f);return b?xZ(f,p,r,i,e,t):v?vZ(c,p,r,n,e,t):h!=null&&h.length===2?yZ(h,p,r,e):null};function wZ(e){var t=fr();return _.useEffect(()=>(t(lZ(e)),()=>{t(cZ(e))})),null}function EZ(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:a}=e,c=Jr(),f=fZ(),h=Ye($=>ts($,t)),p=Ye($=>rs($,r)),v=Ye($=>Gc($,"xAxis",t,c)),b=Ye($=>Gc($,"yAxis",r,c)),S=eu();if(!f||!S||h==null||p==null||v==null||b==null)return null;var C=iZ({x:v,y:b}),O=bZ(C,S,e.position,h.orientation,p.orientation,e);if(!O)return null;var[{x:I,y:P},{x:D,y:M}]=O,R=a==="hidden"?"url(#".concat(f,")"):void 0,B=g3(g3({clipPath:R},qn(e)),{},{x1:I,y1:P,x2:D,y2:M}),W=nZ({x1:I,y1:P,x2:D,y2:M});return _.createElement(Rn,{zIndex:e.zIndex},_.createElement(sr,{className:zt("recharts-reference-line",i)},gZ(n,B),_.createElement(aT,xp({},W,{lowerWidth:W.width,upperWidth:W.width}),_.createElement(oT,{label:e.label}),e.children)))}var SZ={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:kr.line};function _T(e){var t=Ar(e,SZ);return _.createElement(_.Fragment,null,_.createElement(wZ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),_.createElement(EZ,t))}_T.displayName="ReferenceLine";function NT(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function AZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sZ(n,r)}function CZ(e,t,r){var n=r==="width",{x:i,y:a,width:c,height:f}=e;return t===1?{start:n?i:a,end:n?i+c:a+f}:{start:n?i+c:a+f,end:n?i:a}}function Ud(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function _Z(e,t){return NT(e,t+1)}function NZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:c,end:f}=t,h=0,p=1,v=c,b=function(){var O=n?.[h];if(O===void 0)return{v:NT(n,p)};var I=h,P,D=()=>(P===void 0&&(P=r(O,I)),P),M=O.coordinate,R=h===0||Ud(e,M,D,v,f);R||(h=0,v=c,p+=1),R&&(v=M+e*(D()/2+i),h+=p)},S;p<=a.length;)if(S=b(),S)return S.v;return[]}function OZ(e,t,r,n,i){var a=(n||[]).slice(),c=a.length;if(c===0)return[];for(var{start:f,end:h}=t,p=1;p<=c;p++){for(var v=(c-1)%p,b=f,S=!0,C=function(){var M=n[O],R=O,B,W=()=>(B===void 0&&(B=r(M,R)),B),$=M.coordinate,H=O===v||Ud(e,$,W,b,h);if(!H)return S=!1,1;H&&(b=$+e*(W()/2+i))},O=v;O<c&&!C();O+=p);if(S){for(var I=[],P=v;P<c;P+=p)I.push(n[P]);return I}}return[]}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kZ(e,t,r,n,i){for(var a=(n||[]).slice(),c=a.length,{start:f}=t,{end:h}=t,p=function(S){var C=a[S],O,I=()=>(O===void 0&&(O=r(C,S)),O);if(S===c-1){var P=e*(C.coordinate+e*I()/2-h);a[S]=C=ni(ni({},C),{},{tickCoord:P>0?C.coordinate-P*e:C.coordinate})}else a[S]=C=ni(ni({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=Ud(e,C.tickCoord,I,f,h);D&&(h=C.tickCoord-e*(I()/2+i),a[S]=ni(ni({},C),{},{isShow:!0}))}},v=c-1;v>=0;v--)p(v);return a}function TZ(e,t,r,n,i,a){var c=(n||[]).slice(),f=c.length,{start:h,end:p}=t;if(a){var v=n[f-1],b=r(v,f-1),S=e*(v.coordinate+e*b/2-p);if(c[f-1]=v=ni(ni({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate}),v.tickCoord!=null){var C=Ud(e,v.tickCoord,()=>b,h,p);C&&(p=v.tickCoord-e*(b/2+i),c[f-1]=ni(ni({},v),{},{isShow:!0}))}}for(var O=a?f-1:f,I=function(M){var R=c[M],B,W=()=>(B===void 0&&(B=r(R,M)),B);if(M===0){var $=e*(R.coordinate-e*W()/2-h);c[M]=R=ni(ni({},R),{},{tickCoord:$<0?R.coordinate-$*e:R.coordinate})}else c[M]=R=ni(ni({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var H=Ud(e,R.tickCoord,W,h,p);H&&(h=R.tickCoord+e*(W()/2+i),c[M]=ni(ni({},R),{},{isShow:!0}))}},P=0;P<O;P++)I(P);return c}function kw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:c,orientation:f,interval:h,tickFormatter:p,unit:v,angle:b}=e;if(!i||!i.length||!n)return[];if(Xe(h)||ef.isSsr){var S;return(S=_Z(i,Xe(h)?h:0))!==null&&S!==void 0?S:[]}var C=[],O=f==="top"||f==="bottom"?"width":"height",I=v&&O==="width"?md(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},P=(R,B)=>{var W=typeof p=="function"?p(R.value,B):R.value;return O==="width"?AZ(md(W,{fontSize:t,letterSpacing:r}),I,b):md(W,{fontSize:t,letterSpacing:r})[O]},D=i.length>=2?kn(i[1].coordinate-i[0].coordinate):1,M=CZ(a,D,O);return h==="equidistantPreserveStart"?NZ(D,M,P,i,c):h==="equidistantPreserveEnd"?OZ(D,M,P,i,c):(h==="preserveStart"||h==="preserveStartEnd"?C=TZ(D,M,P,i,c,h==="preserveStartEnd"):C=kZ(D,M,P,i,c),C.filter(R=>R.isShow))}var RZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,c=0;if(t){Array.from(t).forEach(v=>{if(v){var b=v.getBoundingClientRect();b.width>c&&(c=b.width)}});var f=r?r.getBoundingClientRect().width:0,h=i+a,p=c+h+f+(r?n:0);return Math.round(p)}return 0},DZ=["axisLine","width","height","className","hide","ticks","axisType"];function MZ(e,t){if(e==null)return{};var r,n,i=LZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(null,arguments)}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FZ(e){var t=zZ(e,"string");return typeof t=="symbol"?t:t+""}function zZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:kr.axis};function UZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:c,axisLine:f,otherSvgProps:h}=e;if(!f)return null;var p=on(on(on({},h),Hn(f)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!c||a==="bottom"&&c);p=on(on({},p),{},{x1:t,y1:r+v*i,x2:t+n,y2:r+v*i})}else{var b=+(a==="left"&&!c||a==="right"&&c);p=on(on({},p),{},{x1:t+b*n,y1:r,x2:t+b*n,y2:r+i})}return _.createElement("line",Ml({},p,{className:zt("recharts-cartesian-axis-line",Pl(f,"className"))}))}function $Z(e,t,r,n,i,a,c,f,h){var p,v,b,S,C,O,I=f?-1:1,P=e.tickSize||c,D=Xe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":p=v=e.coordinate,S=r+ +!f*i,b=S-I*P,O=b-I*h,C=D;break;case"left":b=S=e.coordinate,v=t+ +!f*n,p=v-I*P,C=p-I*h,O=D;break;case"right":b=S=e.coordinate,v=t+ +f*n,p=v+I*P,C=p+I*h,O=D;break;default:p=v=e.coordinate,S=r+ +f*i,b=S+I*P,O=b+I*h,C=D;break}return{line:{x1:p,y1:b,x2:v,y2:S},tick:{x:C,y:O}}}function WZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function VZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function HZ(e){var{option:t,tickProps:r,value:n}=e,i,a=zt(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,on(on({},r),{},{className:a}));else if(typeof t=="function")i=t(on(on({},r),{},{className:a}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=zt(c,t?.className)),i=_.createElement(Em,Ml({},r,{className:c}),n)}return i}var qZ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:c,unit:f,padding:h,tickTextProps:p,orientation:v,mirror:b,x:S,y:C,width:O,height:I,tickSize:P,tickMargin:D,fontSize:M,letterSpacing:R,getTicksConfig:B,events:W,axisType:$}=e,H=kw(on(on({},B),{},{ticks:r}),M,R),Z=WZ(v,b),K=VZ(v,b),pe=Hn(B),se=Po(n),ie={};typeof i=="object"&&(ie=i);var Ae=on(on({},pe),{},{fill:"none"},ie),Ce=H.map(J=>on({entry:J},$Z(J,S,C,O,I,v,P,b,D))),te=Ce.map(J=>{var{entry:oe,line:ue}=J;return _.createElement(sr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&_.createElement("line",Ml({},Ae,ue,{className:zt("recharts-cartesian-axis-tick-line",Pl(i,"className"))})))}),Re=Ce.map((J,oe)=>{var{entry:ue,tick:ve}=J,Q=on(on(on(on({textAnchor:Z,verticalAnchor:K},pe),{},{stroke:"none",fill:a},se),ve),{},{index:oe,payload:ue,visibleTicksCount:H.length,tickFormatter:c,padding:h},p);return _.createElement(sr,Ml({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},Jc(W,ue,oe)),n&&_.createElement(HZ,{option:n,tickProps:Q,value:"".concat(typeof c=="function"?c(ue.value,oe):ue.value).concat(f||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},Re.length>0&&_.createElement(Rn,{zIndex:kr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:t},Re)),te.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},te))}),GZ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:c,ticks:f,axisType:h}=e,p=MZ(e,DZ),[v,b]=_.useState(""),[S,C]=_.useState(""),O=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var P;return RZ({ticks:O.current,label:(P=e.labelRef)===null||P===void 0?void 0:P.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var I=_.useCallback(P=>{if(P){var D=P.getElementsByClassName("recharts-cartesian-axis-tick-value");O.current=D;var M=D[0];if(M){var R=window.getComputedStyle(M),B=R.fontSize,W=R.letterSpacing;(B!==v||W!==S)&&(b(B),C(W))}}},[v,S]);return c||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Rn,{zIndex:e.zIndex},_.createElement(sr,{className:zt("recharts-cartesian-axis",a)},_.createElement(UZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Hn(e)}),_.createElement(qZ,{ref:I,axisType:h,events:p,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(aT,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(oT,{label:e.label,labelRef:e.labelRef}),e.children)))}),Tw=_.forwardRef((e,t)=>{var r=Ar(e,Rs);return _.createElement(GZ,Ml({},r,{ref:t}))});Tw.displayName="CartesianAxis";var KZ=["x1","y1","x2","y2","key"],XZ=["offset"],YZ=["xAxisId","yAxisId"],ZZ=["xAxisId","yAxisId"];function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(n){QZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QZ(e,t,r){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZ(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function vp(e,t){if(e==null)return{};var r,n,i=tQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:c,ry:f}=e;return _.createElement("rect",{x:n,y:i,ry:f,width:a,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OT(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:c,x2:f,y2:h,key:p}=r,v=vp(r,KZ),b=(i=Hn(v))!==null&&i!==void 0?i:{},{offset:S}=b,C=vp(b,XZ);n=_.createElement("line",bl({},C,{x1:a,y1:c,x2:f,y2:h,fill:"none",key:p}))}return n}function nQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=vp(e,YZ),h=i.map((p,v)=>{var b=ii(ii({},f),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(v),index:v});return _.createElement(OT,{key:"line-".concat(v),option:n,lineItemProps:b})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function iQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=vp(e,ZZ),h=i.map((p,v)=>{var b=ii(ii({},f),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(v),index:v});return _.createElement(OT,{option:n,lineItemProps:b,key:"line-".concat(v)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function aQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:c,horizontalPoints:f,horizontal:h=!0}=e;if(!h||!t||!t.length||f==null)return null;var p=f.map(b=>Math.round(b+i-i)).sort((b,S)=>b-S);i!==p[0]&&p.unshift(0);var v=p.map((b,S)=>{var C=!p[S+1],O=C?i+c-b:p[S+1]-b;if(O<=0)return null;var I=S%t.length;return _.createElement("rect",{key:"react-".concat(S),y:b,x:n,height:O,width:a,stroke:"none",fill:t[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function sQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:c,height:f,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var p=h.map(b=>Math.round(b+i-i)).sort((b,S)=>b-S);i!==p[0]&&p.unshift(0);var v=p.map((b,S)=>{var C=!p[S+1],O=C?i+c-b:p[S+1]-b;if(O<=0)return null;var I=S%r.length;return _.createElement("rect",{key:"react-".concat(S),x:b,y:a,width:O,height:f,stroke:"none",fill:r[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var oQ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return mP(kw(ii(ii(ii({},Rs),r),{},{ticks:gP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},lQ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return mP(kw(ii(ii(ii({},Rs),r),{},{ticks:gP(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},cQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:kr.grid};function gd(e){var t=gb(),r=xb(),n=SP(),i=ii(ii({},Ar(e,cQ)),{},{x:Xe(e.x)?e.x:n.left,y:Xe(e.y)?e.y:n.top,width:Xe(e.width)?e.width:n.width,height:Xe(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:c,x:f,y:h,width:p,height:v,syncWithTicks:b,horizontalValues:S,verticalValues:C}=i,O=Jr(),I=Ye(K=>oN(K,"xAxis",a,O)),P=Ye(K=>oN(K,"yAxis",c,O));if(!Ya(p)||!Ya(v)||!Xe(f)||!Xe(h))return null;var D=i.verticalCoordinatesGenerator||oQ,M=i.horizontalCoordinatesGenerator||lQ,{horizontalPoints:R,verticalPoints:B}=i;if((!R||!R.length)&&typeof M=="function"){var W=S&&S.length,$=M({yAxis:P?ii(ii({},P),{},{ticks:W?S:P.ticks}):void 0,width:t??p,height:r??v,offset:n},W?!0:b);W0(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(R=$)}if((!B||!B.length)&&typeof D=="function"){var H=C&&C.length,Z=D({xAxis:I?ii(ii({},I),{},{ticks:H?C:I.ticks}):void 0,width:t??p,height:r??v,offset:n},H?!0:b);W0(Array.isArray(Z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Z,"]")),Array.isArray(Z)&&(B=Z)}return _.createElement(Rn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(rQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(aQ,bl({},i,{horizontalPoints:R})),_.createElement(sQ,bl({},i,{verticalPoints:B})),_.createElement(nQ,bl({},i,{offset:n,horizontalPoints:R,xAxis:I,yAxis:P})),_.createElement(iQ,bl({},i,{offset:n,verticalPoints:B,xAxis:I,yAxis:P}))))}gd.displayName="CartesianGrid";var uQ={},IT=Oi({name:"errorBars",initialState:uQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:gie,replaceErrorBar:xie,removeErrorBar:vie}=IT.actions,dQ=IT.reducer,fQ=["children"];function hQ(e,t){if(e==null)return{};var r,n,i=pQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gQ=_.createContext(mQ);function Rw(e){var{children:t}=e,r=hQ(e,fQ);return _.createElement(gQ.Provider,{value:r},t)}function vf(e,t){var r,n,i=Ye(p=>ts(p,e)),a=Ye(p=>rs(p,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:In.allowDataOverflow,f=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Pn.allowDataOverflow,h=c||f;return{needClip:h,needClipX:c,needClipY:f}}function Dm(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Tm(),{needClipX:a,needClipY:c,needClip:f}=vf(t,r);if(!f||!i)return null;var{x:h,y:p,width:v,height:b}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?h:h-v/2,y:c?p:p-b/2,width:a?v:v*2,height:c?b:b*2}))}var PT=(e,t,r,n)=>da(e,"xAxis",t,n),jT=(e,t,r,n)=>ua(e,"xAxis",t,n),kT=(e,t,r,n)=>da(e,"yAxis",r,n),TT=(e,t,r,n)=>ua(e,"yAxis",r,n),xQ=he([Mt,PT,kT,jT,TT],(e,t,r,n,i)=>Ja(e,"xAxis")?jo(t,n,!1):jo(r,i,!1)),vQ=(e,t,r,n,i)=>i;function yQ(e){return e.type==="line"}var bQ=he([au,vQ],(e,t)=>e.filter(yQ).find(r=>r.id===t)),wQ=he([Mt,PT,kT,jT,TT,bQ,xQ,um],(e,t,r,n,i,a,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:v}=f;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:b,data:S}=a,C;if(S!=null&&S.length>0?C=S:C=h?.slice(p,v+1),C!=null)return oJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:b,bandSize:c,displayedData:C})}});function RT(e){var t=Po(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,c=Number(i),f=Number(a);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(f)||f<0)&&(f=n),{r:c,strokeWidth:f}}return{r,strokeWidth:n}}var Zx={exports:{}},Qx={};var b3;function EQ(){if(b3)return Qx;b3=1;var e=Kc();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Qx.useSyncExternalStoreWithSelector=function(h,p,v,b,S){var C=i(null);if(C.current===null){var O={hasValue:!1,value:null};C.current=O}else O=C.current;C=c(function(){function P(W){if(!D){if(D=!0,M=W,W=b(W),S!==void 0&&O.hasValue){var $=O.value;if(S($,W))return R=$}return R=W}if($=R,r(M,W))return $;var H=b(W);return S!==void 0&&S($,H)?(M=W,$):(M=W,R=H)}var D=!1,M,R,B=v===void 0?null:v;return[function(){return P(p())},B===null?void 0:function(){return P(B())}]},[p,v,b,S]);var I=n(h,C[0],C[1]);return a(function(){O.hasValue=!0,O.value=I},[I]),f(I),I},Qx}var w3;function SQ(){return w3||(w3=1,Zx.exports=EQ()),Zx.exports}SQ();function AQ(e){e()}function CQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){AQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var E3={notify(){},get:()=>[]};function _Q(e,t){let r,n=E3,i=0,a=!1;function c(I){v();const P=n.subscribe(I);let D=!1;return()=>{D||(D=!0,P(),b())}}function f(){n.notify()}function h(){O.onStateChange&&O.onStateChange()}function p(){return a}function v(){i++,r||(r=e.subscribe(h),n=CQ())}function b(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=E3)}function S(){a||(a=!0,v())}function C(){a&&(a=!1,b())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:p,trySubscribe:S,tryUnsubscribe:C,getListeners:()=>n};return O}var NQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OQ=NQ(),IQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PQ=IQ(),jQ=()=>OQ||PQ?_.useLayoutEffect:_.useEffect,kQ=jQ();function S3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function TQ(e,t){if(S3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!S3(e[r[i]],t[r[i]]))return!1;return!0}var RQ=Symbol.for("react-redux-context"),DQ=typeof globalThis<"u"?globalThis:{};function MQ(){if(!_.createContext)return{};const e=DQ[RQ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var LQ=MQ();function BQ(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const h=_Q(i);return{store:i,subscription:h,getServerState:n?()=>n:void 0}},[i,n]),c=_.useMemo(()=>i.getState(),[i]);kQ(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,c]);const f=r||LQ;return _.createElement(f.Provider,{value:a},t)}var FQ=BQ,zQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function UQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function du(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(zQ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!TQ(e[n],t[n]))return!1}else if(!UQ(e[n],t[n]))return!1;return!0}var $Q=["id"],WQ=["type","layout","connectNulls","needClip","shape"],VQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(null,arguments)}function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dw(e,t){if(e==null)return{};var r,n,i=KQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:es(r,t),payload:e}]},YQ=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,unit:h,tooltipType:p,id:v}=e,b={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:es(c,t),hide:f,type:p,color:n,unit:h,graphicalItemId:v}};return _.createElement(gf,{tooltipEntrySettings:b})}),DT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function ZQ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var QQ=(e,t,r)=>{var n=r.reduce((b,S)=>b+S);if(!n)return DT(t,e);for(var i=Math.floor(e/n),a=e%n,c=t-e,f=[],h=0,p=0;h<r.length;p+=r[h],++h)if(p+r[h]>a){f=[...r.slice(0,h),a-p];break}var v=f.length%2===0?[0,c]:[c];return[...ZQ(r,i),...f,...v].map(b=>"".concat(b,"px")).join(", ")};function JQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:c}=n,{id:f}=n,h=Dw(n,$Q),p=Hn(h);return _.createElement(vT,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:p,needClip:c,clipPathId:t})}function eJ(e){var{showLabels:t,children:r,points:n}=e,i=_.useMemo(()=>n?.map(a=>{var c,f,h={x:(c=a.x)!==null&&c!==void 0?c:0,y:(f=a.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ga(Ga({},h),{},{value:a.value,payload:a.payload,viewBox:h,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(Sm,{value:t?i:void 0},r)}function C3(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:c,layout:f,connectNulls:h,needClip:p,shape:v}=a,b=Dw(a,WQ),S=Ga(Ga({},qn(b)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:n,type:c,layout:f,connectNulls:h,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,n?.length>1&&_.createElement(zd,$d({shapeType:"curve",option:v},S,{pathRef:r})),_.createElement(JQ,{points:n,clipPathId:t,props:a}))}function tJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function rJ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:c,strokeDasharray:f,isAnimationActive:h,animationBegin:p,animationDuration:v,animationEasing:b,animateNewValues:S,width:C,height:O,onAnimationEnd:I,onAnimationStart:P}=r,D=i.current,M=Ul(c,"recharts-line-"),R=_.useRef(M),[B,W]=_.useState(!1),$=!B,H=_.useCallback(()=>{typeof I=="function"&&I(),W(!1)},[I]),Z=_.useCallback(()=>{typeof P=="function"&&P(),W(!0)},[P]),K=tJ(n.current),pe=_.useRef(0);R.current!==M&&(pe.current=a.current,R.current=M);var se=pe.current;return _.createElement(eJ,{points:c,showLabels:$},r.children,_.createElement(zl,{animationId:M,begin:p,duration:v,isActive:h,easing:b,onAnimationEnd:H,onAnimationStart:Z,key:M},ie=>{var Ae=Ut(se,K+se,ie),Ce=Math.min(Ae,K),te;if(h)if(f){var Re="".concat(f).split(/[,\s]+/gim).map(ue=>parseFloat(ue));te=QQ(Ce,K,Re)}else te=DT(K,Ce);else te=f==null?void 0:String(f);if(ie>0&&K>0&&(i.current=c,a.current=Math.max(a.current,Ce)),D){var J=D.length/c.length,oe=ie===1?c:c.map((ue,ve)=>{var Q=Math.floor(ve*J);if(D[Q]){var le=D[Q];return Ga(Ga({},ue),{},{x:Ut(le.x,ue.x,ie),y:Ut(le.y,ue.y,ie)})}return S?Ga(Ga({},ue),{},{x:Ut(C*2,ue.x,ie),y:Ut(O/2,ue.y,ie)}):Ga(Ga({},ue),{},{x:ue.x,y:ue.y})});return i.current=oe,_.createElement(C3,{props:r,points:oe,clipPathId:t,pathRef:n,strokeDasharray:te})}return _.createElement(C3,{props:r,points:c,clipPathId:t,pathRef:n,strokeDasharray:te})}),_.createElement(mf,{label:r.label}))}function nJ(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(rJ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var iJ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:$t(e.payload,t)}};class aJ extends _.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:c,top:f,left:h,width:p,height:v,id:b,needClip:S,zIndex:C}=this.props;if(t)return null;var O=zt("recharts-line",i),I=b,{r:P,strokeWidth:D}=RT(r),M=jw(r),R=P*2+D,B=S?"url(#clipPath-".concat(M?"":"dots-").concat(I,")"):void 0;return _.createElement(Rn,{zIndex:C},_.createElement(sr,{className:O},S&&_.createElement("defs",null,_.createElement(Dm,{clipPathId:I,xAxisId:a,yAxisId:c}),!M&&_.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:v+R}))),_.createElement(Rw,{xAxisId:a,yAxisId:c,data:n,dataPointFormatter:iJ,errorBarOffset:0},_.createElement(nJ,{props:this.props,clipPathId:I}))),_.createElement(xy,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:B}))}}var MT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:kr.line,type:"linear"};function sJ(e){var t=Ar(e,MT),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:f,dot:h,hide:p,isAnimationActive:v,label:b,legendType:S,xAxisId:C,yAxisId:O,id:I}=t,P=Dw(t,VQ),{needClip:D}=vf(C,O),M=Tm(),R=Ro(),B=Jr(),W=Ye(pe=>wQ(pe,C,O,B,I));if(R!=="horizontal"&&R!=="vertical"||W==null||M==null)return null;var{height:$,width:H,x:Z,y:K}=M;return _.createElement(aJ,$d({},P,{id:I,connectNulls:f,dot:h,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:c,isAnimationActive:v,hide:p,label:b,legendType:S,xAxisId:C,yAxisId:O,points:W,layout:R,height:$,width:H,left:Z,top:K,needClip:D}))}function oJ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:c,bandSize:f,displayedData:h}=e;return h.map((p,v)=>{var b=$t(p,c);if(t==="horizontal"){var S=Uc({axis:r,ticks:i,bandSize:f,entry:p,index:v}),C=Qt(b)?null:n.scale(b);return{x:S,y:C,value:b,payload:p}}var O=Qt(b)?null:r.scale(b),I=Uc({axis:n,ticks:a,bandSize:f,entry:p,index:v});return O==null||I==null?null:{x:O,y:I,value:b,payload:p}}).filter(Boolean)}function lJ(e){var t=Ar(e,MT),r=Jr();return _.createElement(xf,{id:t.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:XQ(t)}),_.createElement(YQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(jm,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(sJ,$d({},t,{id:n}))))}var LT=_.memo(lJ,du);LT.displayName="Line";function ns(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:yT}function is(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:yT}var BT=(e,t,r)=>da(e,"xAxis",ns(e,t),r),FT=(e,t,r)=>ua(e,"xAxis",ns(e,t),r),zT=(e,t,r)=>da(e,"yAxis",is(e,t),r),UT=(e,t,r)=>ua(e,"yAxis",is(e,t),r),cJ=he([Mt,BT,zT,FT,UT],(e,t,r,n,i)=>Ja(e,"xAxis")?jo(t,n,!1):jo(r,i,!1)),uJ=(e,t)=>t,$T=he([au,uJ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),WT=e=>{var t=Mt(e),r=Ja(t,"xAxis");return r?"yAxis":"xAxis"},dJ=(e,t)=>{var r=WT(e);return r==="yAxis"?is(e,t):ns(e,t)},fJ=(e,t,r)=>up(e,WT(e),dJ(e,t),r),hJ=he([$T,fJ],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=hm(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,c=a?.find(f=>f.key===i);if(c!=null)return c.map(f=>[f[0],f[1]])}}}),pJ=he([Mt,BT,zT,FT,UT,hJ,Cj,cJ,$T,jV],(e,t,r,n,i,a,c,f,h,p)=>{var{chartData:v,dataStartIndex:b,dataEndIndex:S}=c;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||f==null)){var{data:C}=h,O;if(C&&C.length>0?O=C:O=v?.slice(b,S+1),O!=null)return TJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:b,areaSettings:h,stackedData:a,displayedData:O,chartBaseValue:p,bandSize:f})}}),mJ=["id"],gJ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(null,arguments)}function VT(e,t){if(e==null)return{};var r,n,i=xJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yp(e,t){return e&&e!=="none"?e:t}var wJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:c}=e;return[{inactive:c,dataKey:t,type:a,color:yp(n,i),value:es(r,t),payload:e}]},EJ=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,unit:h,tooltipType:p,id:v}=e,b={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:es(c,t),hide:f,type:p,color:yp(n,a),unit:h,graphicalItemId:v}};return _.createElement(gf,{tooltipEntrySettings:b})});function SJ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:c}=n,f=Hn(n);return _.createElement(vT,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:f,needClip:i,clipPathId:t})}function AJ(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var c,f,h={x:(c=a.x)!==null&&c!==void 0?c:0,y:(f=a.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pc(Pc({},h),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return _.createElement(Sm,{value:t?i:void 0},r)}function N3(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:c,type:f,stroke:h,connectNulls:p,isRange:v}=a,{id:b}=a,S=VT(a,mJ),C=Hn(S),O=qn(S);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(sr,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},_.createElement(El,Cl({},O,{id:b,points:t,connectNulls:p,type:f,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&_.createElement(El,Cl({},C,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:t})),h!=="none"&&v&&_.createElement(El,Cl({},C,{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:r}))),_.createElement(SJ,{points:t,props:S,clipPathId:i}))}function CJ(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:c}=e,f=(t=a[0])===null||t===void 0?void 0:t.y,h=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!Xt(f)||!Xt(h))return null;var p=n*Math.abs(f-h),v=Math.max(...a.map(b=>b.x||0));return Xe(i)?v=Math.max(i,v):i&&Array.isArray(i)&&i.length&&(v=Math.max(...i.map(b=>b.x||0),v)),Xe(v)?_.createElement("rect",{x:0,y:f<h?f:f-p,width:v+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function _J(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:c}=e,f=(t=a[0])===null||t===void 0?void 0:t.x,h=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!Xt(f)||!Xt(h))return null;var p=n*Math.abs(f-h),v=Math.max(...a.map(b=>b.y||0));return Xe(i)?v=Math.max(i,v):i&&Array.isArray(i)&&i.length&&(v=Math.max(...i.map(b=>b.y||0),v)),Xe(v)?_.createElement("rect",{x:f<h?f:f-p,y:0,width:p,height:Math.floor(v+(c?parseInt("".concat(c),10):1))}):null}function NJ(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?_.createElement(CJ,{alpha:t,points:n,baseLine:i,strokeWidth:a}):_.createElement(_J,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function OJ(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:c,baseLine:f,isAnimationActive:h,animationBegin:p,animationDuration:v,animationEasing:b,onAnimationStart:S,onAnimationEnd:C}=n,O=_.useMemo(()=>({points:c,baseLine:f}),[c,f]),I=Ul(O,"recharts-area-"),P=KF(),[D,M]=_.useState(!1),R=!D,B=_.useCallback(()=>{typeof C=="function"&&C(),M(!1)},[C]),W=_.useCallback(()=>{typeof S=="function"&&S(),M(!0)},[S]);if(P==null)return null;var $=i.current,H=a.current;return _.createElement(AJ,{showLabels:R,points:c},n.children,_.createElement(zl,{animationId:I,begin:p,duration:v,isActive:h,easing:b,onAnimationEnd:B,onAnimationStart:W,key:I},Z=>{if($){var K=$.length/c.length,pe=Z===1?c:c.map((ie,Ae)=>{var Ce=Math.floor(Ae*K);if($[Ce]){var te=$[Ce];return Pc(Pc({},ie),{},{x:Ut(te.x,ie.x,Z),y:Ut(te.y,ie.y,Z)})}return ie}),se;return Xe(f)?se=Ut(H,f,Z):Qt(f)||Ni(f)?se=Ut(H,0,Z):se=f.map((ie,Ae)=>{var Ce=Math.floor(Ae*K);if(Array.isArray(H)&&H[Ce]){var te=H[Ce];return Pc(Pc({},ie),{},{x:Ut(te.x,ie.x,Z),y:Ut(te.y,ie.y,Z)})}return ie}),Z>0&&(i.current=pe,a.current=se),_.createElement(N3,{points:pe,baseLine:se,needClip:t,clipPathId:r,props:n})}return Z>0&&(i.current=c,a.current=f),_.createElement(sr,null,h&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(r)},_.createElement(NJ,{alpha:Z,points:c,baseLine:f,layout:P,strokeWidth:n.strokeWidth}))),_.createElement(sr,{clipPath:"url(#animationClipPath-".concat(r,")")},_.createElement(N3,{points:c,baseLine:f,needClip:t,clipPathId:r,props:n})))}),_.createElement(mf,{label:n.label}))}function IJ(e){var{needClip:t,clipPathId:r,props:n}=e,i=_.useRef(null),a=_.useRef();return _.createElement(OJ,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class PJ extends _.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:c,needClip:f,xAxisId:h,yAxisId:p,width:v,height:b,id:S,baseLine:C,zIndex:O}=this.props;if(t)return null;var I=zt("recharts-area",i),P=S,{r:D,strokeWidth:M}=RT(r),R=jw(r),B=D*2+M,W=f?"url(#clipPath-".concat(R?"":"dots-").concat(P,")"):void 0;return _.createElement(Rn,{zIndex:O},_.createElement(sr,{className:I},f&&_.createElement("defs",null,_.createElement(Dm,{clipPathId:P,xAxisId:h,yAxisId:p}),!R&&_.createElement("clipPath",{id:"clipPath-dots-".concat(P)},_.createElement("rect",{x:c-B/2,y:a-B/2,width:v+B,height:b+B}))),_.createElement(IJ,{needClip:f,clipPathId:P,props:this.props})),_.createElement(xy,{points:n,mainColor:yp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:W}),this.props.isRange&&Array.isArray(C)&&_.createElement(xy,{points:C,mainColor:yp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:W}))}}var HT={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:kr.area};function jJ(e){var t,r=Ar(e,HT),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:f,dot:h,fill:p,fillOpacity:v,hide:b,isAnimationActive:S,legendType:C,stroke:O,xAxisId:I,yAxisId:P}=r,D=VT(r,gJ),M=Ro(),R=$k(),{needClip:B}=vf(I,P),W=Jr(),{points:$,isRange:H,baseLine:Z}=(t=Ye(Ce=>pJ(Ce,e.id,W)))!==null&&t!==void 0?t:{},K=Tm();if(M!=="horizontal"&&M!=="vertical"||K==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:pe,width:se,x:ie,y:Ae}=K;return!$||!$.length?null:_.createElement(PJ,Cl({},D,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:c,baseLine:Z,connectNulls:f,dot:h,fill:p,fillOpacity:v,height:pe,hide:b,layout:M,isAnimationActive:S==="auto"?!ef.isSsr:S,isRange:H,legendType:C,needClip:B,points:$,stroke:O,width:se,left:ie,top:Ae,xAxisId:I,yAxisId:P}))}var kJ=(e,t,r,n,i)=>{var a=r??t;if(Xe(a))return a;var c=e==="horizontal"?i:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return a==="dataMin"?p:a==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return a==="dataMin"?f[0]:a==="dataMax"?f[1]:f[0]};function TJ(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:c,xAxis:f,yAxis:h,displayedData:p,dataStartIndex:v,xAxisTicks:b,yAxisTicks:S,bandSize:C}=e,O=i&&i.length,I=kJ(a,c,r,f,h),P=a==="horizontal",D=!1,M=p.map((B,W)=>{var $,H,Z;if(O)Z=i[v+W];else{var K=$t(B,n);Array.isArray(K)?(Z=K,D=!0):Z=[I,K]}var pe=($=(H=Z)===null||H===void 0?void 0:H[1])!==null&&$!==void 0?$:null,se=pe==null||O&&!t&&$t(B,n)==null;return P?{x:Uc({axis:f,ticks:b,bandSize:C,entry:B,index:W}),y:se?null:h.scale(pe),value:Z,payload:B}:{x:se?null:f.scale(pe),y:Uc({axis:h,ticks:S,bandSize:C,entry:B,index:W}),value:Z,payload:B}}),R;return O||D?R=M.map(B=>{var W=Array.isArray(B.value)?B.value[0]:null;return P?{x:B.x,y:W!=null&&B.y!=null?h.scale(W):null,payload:B.payload}:{x:W!=null?f.scale(W):null,y:B.y,payload:B.payload}}):R=P?h.scale(I):f.scale(I),{points:M,baseLine:R,isRange:D}}function RJ(e){var t=Ar(e,HT),r=Jr();return _.createElement(xf,{id:t.id,type:"area"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:wJ(t)}),_.createElement(EJ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(jm,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:xP(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),_.createElement(jJ,Cl({},t,{id:n}))))}var qT=_.memo(RJ,du);qT.displayName="Area";var DJ="Invariant failed";function MJ(e,t){throw new Error(DJ)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function bp(e){return _.createElement(zd,vy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var LJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Xe(t))return t;var a=Xe(n)||Qt(n);return a?t(n,i):(a||MJ(),r)}},BJ=(e,t,r)=>r,FJ=(e,t)=>t,yf=he([au,FJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),zJ=he([yf],e=>e?.maxBarSize),UJ=(e,t,r,n)=>n,$J=he([Mt,au,ns,is,BJ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),WJ=(e,t,r)=>{var n=Mt(e),i=ns(e,t),a=is(e,t);if(!(i==null||a==null))return n==="horizontal"?up(e,"yAxis",a,r):up(e,"xAxis",i,r)},VJ=(e,t)=>{var r=Mt(e),n=ns(e,t),i=is(e,t);if(!(n==null||i==null))return r==="horizontal"?sN(e,"xAxis",n):sN(e,"yAxis",i)},HJ=he([$J,PV,VJ],HY),qJ=(e,t,r)=>{var n,i,a=yf(e,t);if(a!=null){var c=ns(e,t),f=is(e,t);if(!(c==null||f==null)){var h=Mt(e),p=zj(e),{maxBarSize:v}=a,b=Qt(v)?p:v,S,C;return h==="horizontal"?(S=da(e,"xAxis",c,r),C=ua(e,"xAxis",c,r)):(S=da(e,"yAxis",f,r),C=ua(e,"yAxis",f,r)),(n=(i=jo(S,C,!0))!==null&&i!==void 0?i:b)!==null&&n!==void 0?n:0}}},GT=(e,t,r)=>{var n=Mt(e),i=ns(e,t),a=is(e,t);if(!(i==null||a==null)){var c,f;return n==="horizontal"?(c=da(e,"xAxis",i,r),f=ua(e,"xAxis",i,r)):(c=da(e,"yAxis",a,r),f=ua(e,"yAxis",a,r)),jo(c,f)}},GJ=he([HJ,zj,IV,Uj,qJ,GT,zJ],YY),KJ=(e,t,r)=>{var n=ns(e,t);if(n!=null)return da(e,"xAxis",n,r)},XJ=(e,t,r)=>{var n=is(e,t);if(n!=null)return da(e,"yAxis",n,r)},YJ=(e,t,r)=>{var n=ns(e,t);if(n!=null)return ua(e,"xAxis",n,r)},ZJ=(e,t,r)=>{var n=is(e,t);if(n!=null)return ua(e,"yAxis",n,r)},QJ=he([GJ,yf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),JJ=he([WJ,yf],ZY),eee=he([yn,pb,KJ,XJ,YJ,ZJ,QJ,Mt,Cj,GT,JJ,yf,UJ],(e,t,r,n,i,a,c,f,h,p,v,b,S)=>{var{chartData:C,dataStartIndex:O,dataEndIndex:I}=h;if(!(b==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||a==null||p==null)){var{data:P}=b,D;if(P!=null&&P.length>0?D=P:D=C?.slice(O,I+1),D!=null)return Iee({layout:f,barSettings:b,pos:c,parentViewBox:t,bandSize:p,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:v,displayedData:D,offset:e,cells:S,dataStartIndex:O})}}),tee=["index"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function ree(e,t){if(e==null)return{};var r,n,i=nee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KT=_.createContext(void 0),iee=e=>{var t=_.useContext(KT);if(t!=null)return t.stackId;if(e!=null)return xP(e)},aee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),see=e=>{var t=_.useContext(KT);if(t!=null){var{stackId:r}=t;return"url(#".concat(aee(r,e),")")}},oee=e=>{var{index:t}=e,r=ree(e,tee),n=see(t);return _.createElement(sr,yy({className:"recharts-bar-stack-layer",clipPath:n},r))},lee=["onMouseEnter","onMouseLeave","onClick"],cee=["value","background","tooltipPosition"],uee=["id"],dee=["onMouseEnter","onClick","onMouseLeave"];function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return(t=hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wp(e,t){if(e==null)return{};var r,n,i=mee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gee=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:es(r,t),payload:e}]},xee=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:c,unit:f,tooltipType:h,id:p}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:es(a,t),hide:c,type:h,color:i,unit:f,graphicalItemId:p}};return _.createElement(gf,{tooltipEntrySettings:v})});function vee(e){var t=Ye($s),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:c,onMouseLeave:f,onClick:h}=a,p=wp(a,lee),v=Nm(c,n,a.id),b=Om(f),S=Im(h,n,a.id);if(!i||r==null)return null;var C=Po(i);return _.createElement(Rn,{zIndex:QY(i,kr.barBackground)},r.map((O,I)=>{var{value:P,background:D,tooltipPosition:M}=O,R=wp(O,cee);if(!D)return null;var B=v(O,I),W=b(O,I),$=S(O,I),H=di(di(di(di(di({option:i,isActive:String(I)===t},R),{},{fill:"#eee"},D),C),Jc(p,O,I)),{},{onMouseEnter:B,onMouseLeave:W,onClick:$,dataKey:n,index:I,className:"recharts-bar-background-rectangle"});return _.createElement(bp,Ws({key:"background-bar-".concat(I)},H))}))}function yee(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var c={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return di(di({},c),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:c,fill:a.fill})});return _.createElement(Sm,{value:t?i:void 0},r)}function bee(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:c}=e,f=Ye($s),h=Ye(Sw),p=r&&String(a)===f&&(h==null||c===h),v=p?r:t;return p?_.createElement(Rn,{zIndex:kr.activeBar},_.createElement(bp,Ws({},n,{name:String(n.name)},i,{isActive:p,option:v,index:a,dataKey:c}))):_.createElement(bp,Ws({},n,{name:String(n.name)},i,{isActive:p,option:v,index:a,dataKey:c}))}function wee(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(bp,Ws({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Eee(e){var t,{data:r,props:n}=e,i=(t=Hn(n))!==null&&t!==void 0?t:{},{id:a}=i,c=wp(i,uee),{shape:f,dataKey:h,activeBar:p}=n,{onMouseEnter:v,onClick:b,onMouseLeave:S}=n,C=wp(n,dee),O=Nm(v,h,a),I=Om(S),P=Im(b,h,a);return r?_.createElement(_.Fragment,null,r.map((D,M)=>_.createElement(oee,Ws({index:M,key:"rectangle-".concat(D?.x,"-").concat(D?.y,"-").concat(D?.value,"-").concat(M),className:"recharts-bar-rectangle"},Jc(C,D,M),{onMouseEnter:O(D,M),onMouseLeave:I(D,M),onClick:P(D,M)}),p?_.createElement(bee,{shape:f,activeBar:p,baseProps:c,entry:D,index:M,dataKey:h}):_.createElement(wee,{shape:f,baseProps:c,entry:D,index:M,dataKey:h})))):null}function See(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationEnd:p,onAnimationStart:v}=t,b=r.current,S=Ul(t,"recharts-bar-"),[C,O]=_.useState(!1),I=!C,P=_.useCallback(()=>{typeof p=="function"&&p(),O(!1)},[p]),D=_.useCallback(()=>{typeof v=="function"&&v(),O(!0)},[v]);return _.createElement(yee,{showLabels:I,rects:n},_.createElement(zl,{animationId:S,begin:c,duration:f,isActive:a,easing:h,onAnimationEnd:P,onAnimationStart:D,key:S},M=>{var R=M===1?n:n?.map((B,W)=>{var $=b&&b[W];if($)return di(di({},B),{},{x:Ut($.x,B.x,M),y:Ut($.y,B.y,M),width:Ut($.width,B.width,M),height:Ut($.height,B.height,M)});if(i==="horizontal"){var H=Ut(0,B.height,M),Z=Ut(B.stackedBarStart,B.y,M);return di(di({},B),{},{y:Z,height:H})}var K=Ut(0,B.width,M),pe=Ut(B.stackedBarStart,B.x,M);return di(di({},B),{},{width:K,x:pe})});return M>0&&(r.current=R??null),R==null?null:_.createElement(sr,null,_.createElement(Eee,{props:t,data:R}))}),_.createElement(mf,{label:t.label}),t.children)}function Aee(e){var t=_.useRef(null);return _.createElement(See,{previousRectanglesRef:t,props:e})}var XT=0,Cee=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$t(e,t)}};class _ee extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:c,needClip:f,background:h,id:p}=this.props;if(t||r==null)return null;var v=zt("recharts-bar",i),b=p;return _.createElement(sr,{className:v,id:p},f&&_.createElement("defs",null,_.createElement(Dm,{clipPathId:b,xAxisId:a,yAxisId:c})),_.createElement(sr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(b,")"):void 0},_.createElement(vee,{data:r,dataKey:n,background:h,allOtherBarProps:this.props}),_.createElement(Aee,this.props)))}}var Nee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:XT,xAxisId:0,yAxisId:0,zIndex:kr.bar};function Oee(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:h,animationEasing:p,isAnimationActive:v}=e,{needClip:b}=vf(t,r),S=Ro(),C=Jr(),O=_m(e.children,Dl),I=Ye(M=>eee(M,e.id,C,O));if(S!=="vertical"&&S!=="horizontal")return null;var P,D=I?.[0];return D==null||D.height==null||D.width==null?P=0:P=S==="vertical"?D.height/2:D.width/2,_.createElement(Rw,{xAxisId:t,yAxisId:r,data:I,dataPointFormatter:Cee,errorBarOffset:P},_.createElement(_ee,Ws({},e,{layout:S,needClip:b,data:I,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:h,animationEasing:p,isAnimationActive:v})))}function Iee(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:c,yAxis:f,xAxisTicks:h,yAxisTicks:p,stackedData:v,displayedData:b,offset:S,cells:C,parentViewBox:O,dataStartIndex:I}=e,P=t==="horizontal"?f:c,D=v?P.scale.domain():null,M=fF({numericAxis:P}),R=P.scale(M);return b.map((B,W)=>{var $,H,Z,K,pe,se;if(v){var ie=v[W+I];if(ie==null)return null;$=oF(ie,D)}else $=$t(B,r),Array.isArray($)||($=[M,$]);var Ae=LJ(n,XT)($[1],W);if(t==="horizontal"){var Ce,[te,Re]=[f.scale($[0]),f.scale($[1])];H=uC({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:B,index:W}),Z=(Ce=Re??te)!==null&&Ce!==void 0?Ce:void 0,K=i.size;var J=te-Re;if(pe=Ni(J)?0:J,se={x:H,y:S.top,width:K,height:S.height},Math.abs(Ae)>0&&Math.abs(pe)<Math.abs(Ae)){var oe=kn(pe||Ae)*(Math.abs(Ae)-Math.abs(pe));Z-=oe,pe+=oe}}else{var[ue,ve]=[c.scale($[0]),c.scale($[1])];if(H=ue,Z=uC({axis:f,ticks:p,bandSize:a,offset:i.offset,entry:B,index:W}),K=ve-ue,pe=i.size,se={x:S.left,y:Z,width:S.width,height:pe},Math.abs(Ae)>0&&Math.abs(K)<Math.abs(Ae)){var Q=kn(K||Ae)*(Math.abs(Ae)-Math.abs(K));K+=Q}}if(H==null||Z==null||K==null||pe==null)return null;var le=di(di({},B),{},{stackedBarStart:R,x:H,y:Z,width:K,height:pe,value:v?$:$[1],payload:B,background:se,tooltipPosition:{x:H+K/2,y:Z+pe/2},parentViewBox:O},C&&C[W]&&C[W].props);return le}).filter(Boolean)}function Pee(e){var t=Ar(e,Nee),r=iee(t.stackId),n=Jr();return _.createElement(xf,{id:t.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:gee(t)}),_.createElement(xee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),_.createElement(jm,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(Rn,{zIndex:t.zIndex},_.createElement(Oee,Ws({},t,{id:i})))))}var _l=_.memo(Pee,du);_l.displayName="Bar";var jee=["option","isActive"];function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(null,arguments)}function kee(e,t){if(e==null)return{};var r,n,i=Tee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ree(e){var{option:t,isActive:r}=e,n=kee(e,jee);return typeof t=="string"?_.createElement(zd,xd({option:_.createElement(Bp,xd({type:t},n)),isActive:r,shapeType:"symbols"},n)):_.createElement(zd,xd({option:t,isActive:r,shapeType:"symbols"},n))}var Dee=(e,t,r,n,i,a,c)=>da(e,"xAxis",t,c),Mee=(e,t,r,n,i,a,c)=>ua(e,"xAxis",t,c),Lee=(e,t,r,n,i,a,c)=>da(e,"yAxis",r,c),Bee=(e,t,r,n,i,a,c)=>ua(e,"yAxis",r,c),Fee=(e,t,r,n)=>TH(e,"zAxis",n,!1),zee=(e,t,r,n,i)=>i,Uee=(e,t,r,n,i,a)=>a,$ee=(e,t,r,n,i,a,c)=>um(e,void 0,void 0,c),Wee=he([au,zee],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),Vee=he([$ee,Dee,Mee,Lee,Bee,Fee,Wee,Uee],(e,t,r,n,i,a,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:v}=e;if(c!=null){var b;if(c?.data!=null&&c.data.length>0?b=c.data:b=h?.slice(p,v+1),!(b==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return ite({displayedData:b,xAxis:t,yAxis:n,zAxis:a,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),Hee=["id"],qee=["onMouseEnter","onClick","onMouseLeave"],Gee=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function by(e,t){if(e==null)return{};var r,n,i=Kee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(null,arguments)}function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Zee(e,"string");return typeof t=="symbol"?t:t+""}function Zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:es(r,t),payload:e}]},Jee=_.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,tooltipType:h,id:p}=e,v={dataDefinedOnItem:r?.map(b=>b.tooltipPayload),positions:r?.map(b=>b.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:es(c,t),hide:f,type:h,color:a,unit:"",graphicalItemId:p}};return _.createElement(gf,{tooltipEntrySettings:v})});function ete(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var c=Hn(r),f=Po(n),h,p;if(i==="joint")h=t.map(P=>{var D,M;return{x:(D=P.cx)!==null&&D!==void 0?D:null,y:(M=P.cy)!==null&&M!==void 0?M:null}});else if(i==="fitting"){var{xmin:v,xmax:b,a:S,b:C}=ML(t),O=P=>S*P+C;h=[{x:v,y:O(v)},{x:b,y:O(b)}]}var I=_i(_i(_i({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:h});return _.isValidElement(n)?p=_.cloneElement(n,I):typeof n=="function"?p=n(I):p=_.createElement(El,Ll({},I,{type:a})),_.createElement(sr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}function tte(e){var{showLabels:t,points:r,children:n}=e,i=eu(),a=_.useMemo(()=>r?.map(c=>{var f,h,p={x:(f=c.x)!==null&&f!==void 0?f:0,y:(h=c.y)!==null&&h!==void 0?h:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return _i(_i({},p),{},{value:void 0,payload:c.payload,viewBox:p,parentViewBox:i,fill:void 0})}),[i,r]);return _.createElement(Sm,{value:t?a:void 0},n)}function rte(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:c}=r,f=by(r,Hee),h=Ye($s),{onMouseEnter:p,onClick:v,onMouseLeave:b}=r,S=by(r,qee),C=Nm(p,a,c),O=Om(b),I=Im(v,a,c);if(!XL(t))return null;var P=Hn(f);return _.createElement(_.Fragment,null,_.createElement(ete,{points:t,props:f}),t.map((D,M)=>{var R=i!=null&&i!==!1,B=R&&h===String(M),W=R&&B?i:n,$=_i(_i(_i({},P),D),{},{[fb]:M,[hb]:String(c)});return _.createElement(Rn,{key:"symbol-".concat(D?.cx,"-").concat(D?.cy,"-").concat(D?.size,"-").concat(M),zIndex:B?kr.activeDot:void 0},_.createElement(sr,Ll({className:"recharts-scatter-symbol"},Jc(S,D,M),{onMouseEnter:C(D,M),onMouseLeave:O(D,M),onClick:I(D,M)}),_.createElement(Ree,Ll({option:W,isActive:B},$))))}))}function nte(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:c,animationEasing:f}=r,h=t.current,p=Ul(r,"recharts-scatter-"),[v,b]=_.useState(!1),S=_.useCallback(()=>{b(!1)},[]),C=_.useCallback(()=>{b(!0)},[]),O=!v;return _.createElement(tte,{showLabels:O,points:n},r.children,_.createElement(zl,{animationId:p,begin:a,duration:c,isActive:i,easing:f,onAnimationEnd:S,onAnimationStart:C,key:p},I=>{var P=I===1?n:n?.map((D,M)=>{var R=h&&h[M];return R?_i(_i({},D),{},{cx:D.cx==null?void 0:Ut(R.cx,D.cx,I),cy:D.cy==null?void 0:Ut(R.cy,D.cy,I),size:Ut(R.size,D.size,I)}):_i(_i({},D),{},{size:Ut(0,D.size,I)})});return I>0&&(t.current=P),_.createElement(sr,null,_.createElement(rte,{points:P,allOtherScatterProps:r,showLabels:O}))}),_.createElement(mf,{label:r.label}))}function ite(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:c,yAxisTicks:f,cells:h}=e,p=Qt(r.dataKey)?a.dataKey:r.dataKey,v=Qt(n.dataKey)?a.dataKey:n.dataKey,b=i&&i.dataKey,S=i?i.range:Qj.range,C=S&&S[0],O=r.scale.bandwidth?r.scale.bandwidth():0,I=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((P,D)=>{var M=$t(P,p),R=$t(P,v),B=!Qt(b)&&$t(P,b)||"-",W=[{name:Qt(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:M,payload:P,dataKey:p,type:a.tooltipType},{name:Qt(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:R,payload:P,dataKey:v,type:a.tooltipType}];B!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:B,payload:P,dataKey:b,type:a.tooltipType});var $=Uc({axis:r,ticks:c,bandSize:O,entry:P,index:D,dataKey:p}),H=Uc({axis:n,ticks:f,bandSize:I,entry:P,index:D,dataKey:v}),Z=B!=="-"?i.scale(B):C,K=Math.sqrt(Math.max(Z,0)/Math.PI);return _i(_i({},P),{},{cx:$,cy:H,x:$==null?void 0:$-K,y:H==null?void 0:H-K,width:2*K,height:2*K,size:Z,node:{x:M,y:R,z:B},tooltipPayload:W,tooltipPosition:{x:$,y:H},payload:P},h&&h[D]&&h[D].props)})}var ate=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:$t(e,t)});function ste(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:c,id:f}=e,h=_.useRef(null);if(t)return null;var p=zt("recharts-scatter",n),v=f;return _.createElement(Rn,{zIndex:e.zIndex},_.createElement(sr,{className:p,clipPath:i?"url(#clipPath-".concat(v,")"):void 0,id:f},i&&_.createElement("defs",null,_.createElement(Dm,{clipPathId:v,xAxisId:a,yAxisId:c})),_.createElement(Rw,{xAxisId:a,yAxisId:c,data:r,dataPointFormatter:ate,errorBarOffset:0},_.createElement(sr,{key:"recharts-scatter-symbols"},_.createElement(nte,{props:e,previousPointsRef:h})))))}var YT={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:kr.scatter};function ote(e){var t=Ar(e,YT),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:c,legendType:f,lineJointType:h,lineType:p,shape:v,xAxisId:b,yAxisId:S,zAxisId:C}=t,O=by(t,Gee),{needClip:I}=vf(b,S),P=_.useMemo(()=>_m(e.children,Dl),[e.children]),D=Jr(),M=Ye(R=>Vee(R,b,S,C,e.id,P,D));return I==null||M==null?null:_.createElement(_.Fragment,null,_.createElement(Jee,{dataKey:e.dataKey,points:M,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),_.createElement(ste,Ll({},O,{xAxisId:b,yAxisId:S,zAxisId:C,lineType:p,lineJointType:h,legendType:f,shape:v,hide:a,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:M,needClip:I})))}function lte(e){var t=Ar(e,YT),r=Jr();return _.createElement(xf,{id:t.id,type:"scatter"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:Qee(t)}),_.createElement(jm,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),_.createElement(ote,Ll({},t,{id:n}))))}var ZT=_.memo(lte,du);ZT.displayName="Scatter";var cte=["domain","range"],ute=["domain","range"];function P3(e,t){if(e==null)return{};var r,n,i=dte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function QT(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=P3(e,cte),{domain:a,range:c}=t,f=P3(t,ute);return!j3(r,a)||!j3(n,c)?!1:du(i,f)}var fte=["dangerouslySetInnerHTML","ticks","scale"],hte=["id","scale"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function k3(e,t){if(e==null)return{};var r,n,i=pte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mte(e){var t=fr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(PY(e)):r.current!==e&&t(jY({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(kY(r.current)),r.current=null)},[t]),null}var gte=e=>{var{xAxisId:t,className:r}=e,n=Ye(pb),i=Jr(),a="xAxis",c=Ye(D=>bk(D,a,t,i)),f=Ye(D=>gk(D,t)),h=Ye(D=>NH(D,t)),p=Ye(D=>Yj(D,t));if(f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:S}=e,C=k3(e,fte),{id:O,scale:I}=p,P=k3(p,hte);return _.createElement(Tw,wy({},C,P,{x:h.x,y:h.y,width:f.width,height:f.height,className:zt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c,axisType:a}))},xte={allowDataOverflow:In.allowDataOverflow,allowDecimals:In.allowDecimals,allowDuplicatedCategory:In.allowDuplicatedCategory,angle:In.angle,axisLine:Rs.axisLine,height:In.height,hide:!1,includeHidden:In.includeHidden,interval:In.interval,minTickGap:In.minTickGap,mirror:In.mirror,orientation:In.orientation,padding:In.padding,reversed:In.reversed,scale:In.scale,tick:In.tick,tickCount:In.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:In.type,xAxisId:0},vte=e=>{var t=Ar(e,xte);return _.createElement(_.Fragment,null,_.createElement(mte,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(gte,t))},vd=_.memo(vte,QT);vd.displayName="XAxis";var yte=["dangerouslySetInnerHTML","ticks","scale"],bte=["id","scale"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function T3(e,t){if(e==null)return{};var r,n,i=wte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ete(e){var t=fr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(TY(e)):r.current!==e&&t(RY({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(DY(r.current)),r.current=null)},[t]),null}var Ste=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),c=_.useRef(null),f=Ye(pb),h=Jr(),p=fr(),v="yAxis",b=Ye($=>xk($,t)),S=Ye($=>IH($,t)),C=Ye($=>bk($,v,t,h)),O=Ye($=>Zj($,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!b||Ow(i)||_.isValidElement(i)||O==null)){var $=a.current;if($){var H=$.getCalculatedWidth();Math.round(b.width)!==Math.round(H)&&p(MY({id:t,width:H}))}}},[C,b,p,i,t,n,O]),b==null||S==null||O==null)return null;var{dangerouslySetInnerHTML:I,ticks:P,scale:D}=e,M=T3(e,yte),{id:R,scale:B}=O,W=T3(O,bte);return _.createElement(Tw,Ey({},M,W,{ref:a,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:b.width,height:b.height,className:zt("recharts-".concat(v," ").concat(v),r),viewBox:f,ticks:C,axisType:v}))},Ate={allowDataOverflow:Pn.allowDataOverflow,allowDecimals:Pn.allowDecimals,allowDuplicatedCategory:Pn.allowDuplicatedCategory,angle:Pn.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:Pn.includeHidden,interval:Pn.interval,minTickGap:Pn.minTickGap,mirror:Pn.mirror,orientation:Pn.orientation,padding:Pn.padding,reversed:Pn.reversed,scale:Pn.scale,tick:Pn.tick,tickCount:Pn.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:Pn.type,width:Pn.width,yAxisId:0},Cte=e=>{var t=Ar(e,Ate);return _.createElement(_.Fragment,null,_.createElement(Ete,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(Ste,t))},jc=_.memo(Cte,QT);jc.displayName="YAxis";var _te=(e,t)=>t,Mw=he([_te,Mt,Kj,wn,Mk,Xs,Hq,yn],Qq),Lw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},JT=la("mouseClick"),e8=Zd();e8.startListening({actionCreator:JT,effect:(e,t)=>{var r=e.payload,n=Mw(t.getState(),Lw(r));n?.activeIndex!=null&&t.dispatch(VH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Sy=la("mouseMove"),t8=Zd(),Jh=null;t8.startListening({actionCreator:Sy,effect:(e,t)=>{var r=e.payload;Jh!==null&&cancelAnimationFrame(Jh);var n=Lw(r);Jh=requestAnimationFrame(()=>{var i=t.getState(),a=xw(i,i.tooltip.settings.shared);if(a==="axis"){var c=Mw(i,n);c?.activeIndex!=null?t.dispatch(Ok({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(Nk())}Jh=null})}});function Nte(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var R3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},r8=Oi({name:"rootProps",initialState:R3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:R3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Ote=r8.reducer,{updateOptions:Ite}=r8.actions,n8=Oi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Pte}=n8.actions,jte=n8.reducer,i8=la("keyDown"),a8=la("focus"),Bw=Zd();Bw.startListening({actionCreator:i8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var c=vw(i,uu(r),uf(r),hf(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var h=Xs(r);if(a==="Enter"){var p=fp(r,"axis","hover",String(i.index));t.dispatch(dy({active:!i.active,activeIndex:i.index,activeCoordinate:p}));return}var v=RH(r),b=v==="left-to-right"?1:-1,S=a==="ArrowRight"?1:-1,C=f+S*b;if(!(h==null||C>=h.length||C<0)){var O=fp(r,"axis","hover",String(C));t.dispatch(dy({active:!0,activeIndex:C.toString(),activeCoordinate:O}))}}}}}});Bw.startListening({actionCreator:a8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",c=fp(r,"axis","hover",String(a));t.dispatch(dy({active:!0,activeIndex:a,activeCoordinate:c}))}}}});var ia=la("externalEvent"),s8=Zd(),Jx=new Map;s8.startListening({actionCreator:ia,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Jx.get(i);a!==void 0&&cancelAnimationFrame(a);var c=requestAnimationFrame(()=>{try{var f=t.getState(),h={activeCoordinate:Pq(f),activeDataKey:Sw(f),activeIndex:$s(f),activeLabel:Fk(f),activeTooltipIndex:$s(f),isTooltipActive:jq(f)};r(h,n)}finally{Jx.delete(i)}});Jx.set(i,c)}}});var kte=he([lu],e=>e.tooltipItemPayloads),Tte=he([kte,ff,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var c=t(a,r);return c}}}),o8=la("touchMove"),l8=Zd();l8.startListening({actionCreator:o8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=xw(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var c=Mw(n,Lw({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(Ok({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,h=r.touches[0];if(document.elementFromPoint==null||h==null)return;var p=document.elementFromPoint(h.clientX,h.clientY);if(!p||!p.getAttribute)return;var v=p.getAttribute(fb),b=(f=p.getAttribute(hb))!==null&&f!==void 0?f:void 0,S=cu(n).find(I=>I.id===b);if(v==null||S==null||b==null)return;var{dataKey:C}=S,O=Tte(n,v,b);t.dispatch(_k({activeDataKey:C,activeIndex:v,activeCoordinate:O,activeGraphicalItemId:b}))}}}});var Rte=z4({brush:JY,cartesianAxis:LY,chartData:IG,errorBars:dQ,graphicalItems:VX,layout:tF,legend:cz,options:AG,polarAxis:iX,polarOptions:jte,referenceElements:uZ,rootProps:Ote,tooltip:HH,zIndex:fG}),Dte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _B({reducer:Rte,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([e8.middleware,t8.middleware,Bw.middleware,s8.middleware,l8.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(tP({type:"raf"}))},devTools:{serialize:{replacer:Nte},name:"recharts-".concat(r)}})};function c8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Jr(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=Dte(t,n));var c=ab;return _.createElement(FQ,{context:c,store:a.current},r)}function Mte(e){var{layout:t,margin:r}=e,n=fr(),i=Jr();return _.useEffect(()=>{i||(n(QB(t)),n(ZB(r)))},[n,i,t,r]),null}var u8=_.memo(Mte,du);function d8(e){var t=fr();return _.useEffect(()=>{t(Ite(e))},[t,e]),null}function D3(e){var{zIndex:t,isPanorama:r}=e,n=_.useRef(null),i=fr();return _.useLayoutEffect(()=>(n.current&&i(uG({zIndex:t,element:n.current,isPanorama:r})),()=>{i(dG({zIndex:t,isPanorama:r}))}),[i,t,r]),_.createElement("g",{tabIndex:-1,ref:n})}function M3(e){var{children:t,isPanorama:r}=e,n=Ye(eG);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),a=n.filter(c=>c>0);return _.createElement(_.Fragment,null,i.map(c=>_.createElement(D3,{key:c,zIndex:c,isPanorama:r})),t,a.map(c=>_.createElement(D3,{key:c,zIndex:c,isPanorama:r})))}var Lte=["children"];function Bte(e,t){if(e==null)return{};var r,n,i=Fte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}var zte={width:"100%",height:"100%",display:"block"},Ute=_.forwardRef((e,t)=>{var r=gb(),n=xb(),i=RP();if(!Ya(r)||!Ya(n))return null;var{children:a,otherAttributes:c,title:f,desc:h}=e,p,v;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0),_.createElement(Yy,Ep({},c,{title:f,desc:h,role:v,tabIndex:p,width:r,height:n,style:zte,ref:t}),a)}),$te=e=>{var{children:t}=e,r=Ye(Qp);if(!r)return null;var{width:n,height:i,y:a,x:c}=r;return _.createElement(Yy,{width:n,height:i,x:c,y:a},t)},L3=_.forwardRef((e,t)=>{var{children:r}=e,n=Bte(e,Lte),i=Jr();return i?_.createElement($te,null,_.createElement(M3,{isPanorama:!0},r)):_.createElement(Ute,Ep({ref:t},n),_.createElement(M3,{isPanorama:!1},r))});function Wte(){var e=fr(),[t,r]=_.useState(null),n=Ye(vF);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Xt(a)&&a!==n&&e(eF(a))}},[t,e,n]),r}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){Hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hte(e,t,r){return(t=qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(null,arguments)}var Kte=()=>(BG(),null);function Sp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Xte=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,c]=_.useState({containerWidth:Sp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Sp((n=e.style)===null||n===void 0?void 0:n.height)}),f=_.useCallback((p,v)=>{c(b=>{var S=Math.round(p),C=Math.round(v);return b.containerWidth===S&&b.containerHeight===C?b:{containerWidth:S,containerHeight:C}})},[]),h=_.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:v,height:b}=p.getBoundingClientRect();f(v,b);var S=O=>{var{width:I,height:P}=O[0].contentRect;f(I,P)},C=new ResizeObserver(S);C.observe(p),i.current=C}},[t,f]);return _.useEffect(()=>()=>{var p=i.current;p?.disconnect()},[f]),_.createElement(_.Fragment,null,_.createElement(Jp,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Bl({ref:h},e)))}),Yte=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:Sp(r),containerHeight:Sp(n)}),c=_.useCallback((h,p)=>{a(v=>{var b=Math.round(h),S=Math.round(p);return v.containerWidth===b&&v.containerHeight===S?v:{containerWidth:b,containerHeight:S}})},[]),f=_.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:v}=h.getBoundingClientRect();c(p,v)}},[t,c]);return _.createElement(_.Fragment,null,_.createElement(Jp,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Bl({ref:f},e)))}),Zte=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Jp,{width:r,height:n}),_.createElement("div",Bl({ref:t},e)))}),Qte=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ms(r)||Ms(n)?_.createElement(Yte,Bl({},e,{ref:t})):_.createElement(Zte,Bl({},e,{ref:t}))});function Jte(e){return e===!0?Xte:Qte}var ere=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:c,onDoubleClick:f,onMouseDown:h,onMouseEnter:p,onMouseLeave:v,onMouseMove:b,onMouseUp:S,onTouchEnd:C,onTouchMove:O,onTouchStart:I,style:P,width:D,responsive:M,dispatchTouchEvents:R=!0}=e,B=_.useRef(null),W=fr(),[$,H]=_.useState(null),[Z,K]=_.useState(null),pe=Wte(),se=mb(),ie=se?.width>0?se.width:D,Ae=se?.height>0?se.height:i,Ce=_.useCallback(me=>{pe(me),typeof t=="function"&&t(me),H(me),K(me),me!=null&&(B.current=me)},[pe,t,H,K]),te=_.useCallback(me=>{W(JT(me)),W(ia({handler:a,reactEvent:me}))},[W,a]),Re=_.useCallback(me=>{W(Sy(me)),W(ia({handler:p,reactEvent:me}))},[W,p]),J=_.useCallback(me=>{W(Nk()),W(ia({handler:v,reactEvent:me}))},[W,v]),oe=_.useCallback(me=>{W(Sy(me)),W(ia({handler:b,reactEvent:me}))},[W,b]),ue=_.useCallback(()=>{W(a8())},[W]),ve=_.useCallback(me=>{W(i8(me.key))},[W]),Q=_.useCallback(me=>{W(ia({handler:c,reactEvent:me}))},[W,c]),le=_.useCallback(me=>{W(ia({handler:f,reactEvent:me}))},[W,f]),Ue=_.useCallback(me=>{W(ia({handler:h,reactEvent:me}))},[W,h]),Be=_.useCallback(me=>{W(ia({handler:S,reactEvent:me}))},[W,S]),Ge=_.useCallback(me=>{W(ia({handler:I,reactEvent:me}))},[W,I]),X=_.useCallback(me=>{R&&W(o8(me)),W(ia({handler:O,reactEvent:me}))},[W,R,O]),_e=_.useCallback(me=>{W(ia({handler:C,reactEvent:me}))},[W,C]),ze=Jte(M);return _.createElement(Gk.Provider,{value:$},_.createElement(r4.Provider,{value:Z},_.createElement(ze,{width:ie??P?.width,height:Ae??P?.height,className:zt("recharts-wrapper",n),style:Vte({position:"relative",cursor:"default",width:ie,height:Ae},P),onClick:te,onContextMenu:Q,onDoubleClick:le,onFocus:ue,onKeyDown:ve,onMouseDown:Ue,onMouseEnter:Re,onMouseLeave:J,onMouseMove:oe,onMouseUp:Be,onTouchEnd:_e,onTouchMove:X,onTouchStart:Ge,ref:Ce},_.createElement(Kte,null),r)))}),tre=["width","height","responsive","children","className","style","compact","title","desc"];function rre(e,t){if(e==null)return{};var r,n,i=nre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f8=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:c,style:f,compact:h,title:p,desc:v}=e,b=rre(e,tre),S=Hn(b);return h?_.createElement(_.Fragment,null,_.createElement(Jp,{width:r,height:n}),_.createElement(L3,{otherAttributes:S,title:p,desc:v},a)):_.createElement(ere,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(L3,{otherAttributes:S,title:p,desc:v,ref:t},_.createElement(dZ,null,a)))});function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}var ire={top:5,right:5,bottom:5,left:5},are={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ire,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Fw=_.forwardRef(function(t,r){var n,i=Ar(t.categoricalChartProps,are),{chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,categoricalChartProps:p}=t,v={chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return _.createElement(c8,{preloadedState:{options:v},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:a},_.createElement(wT,{chartData:p.data}),_.createElement(u8,{layout:i.layout,margin:i.margin}),_.createElement(d8,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(f8,Ay({},i,{ref:r})))}),sre=["axis","item"],h8=_.forwardRef((e,t)=>_.createElement(Fw,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sre,tooltipPayloadSearcher:wm,categoricalChartProps:e,ref:t}));function ore(e){var t=fr();return _.useEffect(()=>{t(Pte(e))},[t,e]),null}var lre=["layout"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function cre(e,t){if(e==null)return{};var r,n,i=ure(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ure(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dre={top:5,right:5,bottom:5,left:5},p8={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},fre=_.forwardRef(function(t,r){var n,i=Ar(t.categoricalChartProps,p8),{layout:a}=i,c=cre(i,lre),{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v}=t,b={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return _.createElement(c8,{preloadedState:{options:b},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},_.createElement(wT,{chartData:i.data}),_.createElement(u8,{layout:a,margin:i.margin}),_.createElement(d8,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(ore,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(f8,Cy({},c,{ref:r})))});function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gre=["item"],xre=z3(z3({},p8),{},{layout:"centric",startAngle:0,endAngle:360}),vre=_.forwardRef((e,t)=>{var r=Ar(e,xre);return _.createElement(fre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gre,tooltipPayloadSearcher:wm,categoricalChartProps:r,ref:t})}),yre=["item"],bre=_.forwardRef((e,t)=>_.createElement(Fw,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yre,tooltipPayloadSearcher:wm,categoricalChartProps:e,ref:t})),wre=["axis"],Ere=_.forwardRef((e,t)=>_.createElement(Fw,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wre,tooltipPayloadSearcher:wm,categoricalChartProps:e,ref:t}));const Sre=({transactions:e,expenses:t,timeRange:r,onTimeRangeChange:n,onRefresh:i})=>{const[a,c]=_.useState([]),[f,h]=_.useState({invested:0,recovered:0}),[p,v]=_.useState({}),[b,S]=_.useState(null),[C,O]=_.useState(""),I=async(B,W)=>{try{const{error:$}=await $e.from("transactions").update({cost:W}).eq("id",B);if($)throw $;i&&i()}catch($){alert("Error actualizando costo: "+$.message)}};_.useEffect(()=>{M(),P()},[e,t]);const P=async()=>{try{const{data:B,error:W}=await $e.from("service_costs").select("*");if(B){const $={};Ei.forEach(H=>{$[H.id]=0}),B.forEach(H=>{$[H.service_id]=H.cost}),v($)}W&&console.error("Error loading service costs:",W)}catch(B){console.error("Failed to load costs:",B)}},D=async(B,W)=>{try{const{error:$}=await $e.from("service_costs").upsert({service_id:B,cost:W},{onConflict:"service_id"});if($)throw $;const H={...p,[B]:W};v(H),S(null)}catch($){alert("Error guardando costo: "+$.message)}},M=()=>{const B={Style:{sales:0,cost:0,extras:0,count:0},Perfum:{sales:0,cost:0,extras:0,count:0},"Amor Amor":{sales:0,cost:0,extras:0,count:0}};e.forEach(Z=>{let K="Style";if(Z.type==="product"?Z.description?.includes("Regalito")||Z.description?.includes("Amor")?K="Amor Amor":K="Perfum":K="Style",B[K]){const pe=B[K];pe.sales+=Z.amount,pe.extras+=Z.additional_cost||0,pe.count+=1,pe.cost+=Z.cost||0}});const W=Object.keys(B).map(Z=>{const K=B[Z],pe=K.sales-K.cost-K.extras,se=K.sales>0?pe/K.sales*100:0;return{name:Z,Ventas:K.sales,"Costo Extra":K.extras,Margen:pe,"Margen %":Math.round(se)}});c(W);const $=t.reduce((Z,K)=>Z+K.amount,0),H=e.reduce((Z,K)=>Z+K.amount,0);h({invested:$,recovered:H})},R=ur.useMemo(()=>{new Set(Ei.map($=>$.id));const B=new Set(Ei.map($=>$.name)),W=[];return e.forEach($=>{if($.type==="service"&&$.description){const H=$.description;B.has(H)||W.find(Z=>Z.name===H)||W.push({id:H,name:H,price:0,isDynamic:!0})}}),[...Ei,...W]},[e]);return m.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-stone-100 shadow-sm",children:[m.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[m.jsx(YR,{className:"text-emerald-600"}),"Resumen Financiero"]}),m.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(B=>m.jsx("button",{onClick:()=>n(B),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition ${r===B?"bg-stone-900 text-white":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:B==="day"?"Hoy":B==="week"?"Semana":"Mes"},B))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-stone-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-stone-400 text-sm font-bold uppercase tracking-wider mb-2",children:"Inversin Total (Gastos)"}),m.jsxs("h3",{className:"text-4xl font-mono font-bold text-red-400 mb-1",children:["$",f.invested.toLocaleString()]}),m.jsx("p",{className:"text-xs text-stone-500",children:"Acumulado histrico de compras/gastos"})]}),m.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10",children:m.jsx(cO,{size:120})})]}),m.jsx("div",{className:"bg-emerald-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-emerald-200 text-sm font-bold uppercase tracking-wider mb-2",children:"Recuperado (Ventas)"}),m.jsxs("h3",{className:"text-4xl font-mono font-bold text-emerald-400 mb-1",children:["$",f.recovered.toLocaleString()]}),m.jsx("p",{className:"text-xs text-emerald-200/50",children:f.invested>0?`${(f.recovered/f.invested*100).toFixed(1)}% de la inversin recuperada`:"Calculando retorno..."})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[m.jsx(n0,{size:20})," Rendimiento por rea"]}),m.jsx("div",{className:"h-[300px] w-full text-xs",children:m.jsx(ud,{width:"100%",height:"100%",children:m.jsxs(h8,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[m.jsx(gd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),m.jsx(vd,{dataKey:"name",axisLine:!1,tickLine:!1}),m.jsx(jc,{axisLine:!1,tickLine:!1,tickFormatter:B=>`$${B/1e3}k`}),m.jsx(fd,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),m.jsx(G0,{}),m.jsx(_l,{dataKey:"Ventas",fill:"#3b82f6",radius:[4,4,0,0]}),m.jsx(_l,{dataKey:"Margen",fill:"#10b981",radius:[4,4,0,0]}),m.jsx(_l,{dataKey:"Costo Extra",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[m.jsx(gO,{size:20})," Detalle de Mrgenes"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 text-left",children:"rea"}),m.jsx("th",{className:"px-2 py-2 text-right",children:"Margen $"}),m.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:a.map(B=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-2 py-3 font-medium",children:B.name}),m.jsxs("td",{className:`px-2 py-3 text-right font-bold ${B.Margen>0?"text-emerald-600":"text-stone-500"}`,children:["$",B.Margen.toLocaleString()]}),m.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[B["Margen %"],"%"]})]},B.name))})]})}),m.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl text-xs text-blue-700",children:[m.jsx("p",{className:"font-bold mb-1",children:" Tip:"}),m.jsx("p",{children:'El "Margen" descuenta los Costos Extra ingresados (luz, caf, etc). Para aumentar el margen en "Style", asegrate de registrar todos los insumos variables.'})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(Ly,{size:20,className:"text-purple-600"})," Costos de Servicios"]}),m.jsx("p",{className:"text-xs text-stone-400 mb-4",children:"Ingresa el costo de insumos por servicio para calcular mrgenes reales."}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-2 text-left",children:"Servicio"}),m.jsx("th",{className:"px-2 py-2 text-right",children:"Precio Prom."}),m.jsx("th",{className:"px-2 py-2 text-right",children:"Costo"}),m.jsx("th",{className:"px-2 py-2 text-right",children:"Margen"}),m.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:R.map(B=>{const W=p[B.id]||0;let $=B.price||0;if(B.isDynamic||!$){const K=e.filter(pe=>pe.description===B.name&&pe.amount>0);K.length>0&&($=K.reduce((se,ie)=>se+ie.amount,0)/K.length)}const H=$-W,Z=$>0?Math.round(H/$*100):0;return m.jsxs("tr",{className:"hover:bg-stone-50",children:[m.jsxs("td",{className:"px-2 py-3 font-medium text-stone-700",children:[B.name,B.isDynamic&&m.jsx("span",{className:"text-[10px] text-blue-500 ml-1",children:"(Nuevo)"})]}),m.jsxs("td",{className:"px-2 py-3 text-right text-stone-600",children:["$",$.toLocaleString(void 0,{maximumFractionDigits:0})]}),m.jsx("td",{className:"px-2 py-3 text-right",children:b===B.id?m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx("input",{type:"number",value:C,onChange:K=>O(K.target.value),className:"w-16 border rounded px-1 py-0.5 text-right text-sm",autoFocus:!0}),m.jsx("button",{onClick:()=>D(B.id,parseInt(C)||0),className:"text-green-600 hover:text-green-700",children:m.jsx(By,{size:14})})]}):m.jsxs("button",{onClick:()=>{S(B.id),O(W.toString())},className:"text-red-500 hover:underline",children:["$",W.toLocaleString()]})}),m.jsxs("td",{className:`px-2 py-3 text-right font-bold ${H>0?"text-emerald-600":"text-red-500"}`,children:["$",H.toLocaleString()]}),m.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[Z,"%"]})]},B.id)})})]})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsx("div",{className:"flex justify-between items-center mb-4",children:m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[m.jsx(bO,{size:20,className:"text-blue-600"})," Vista de Ingreso, Costo y Margen por Cliente"]})}),m.jsx("p",{className:"text-xs text-stone-400 mb-4",children:"Detalle de visitas. Edita el costo manual si difiere del estndar."}),m.jsx("div",{className:"overflow-x-auto max-h-[600px]",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50 sticky top-0 z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Fecha"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Cliente"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Servicio/Producto"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Venta"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Costo (Edit)"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Margen"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"%"})]})}),m.jsxs("tbody",{className:"divide-y divide-stone-100",children:[e.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"text-center py-8 text-stone-400",children:"No hay transacciones en este periodo."})}),e.map(B=>{let W=0;if(!B.cost&&B.type==="service"){const $=Ei.find(H=>B.description?.includes(H.name));$&&(W=p[$.id]||0)}return m.jsx(Are,{transaction:B,serviceCostStd:W,onUpdate:I},B.id)})]})]})})]})]})]})},Are=({transaction:e,serviceCostStd:t,onUpdate:r})=>{const[n,i]=_.useState(!1),[a,c]=_.useState(0),[f,h]=_.useState(!1);_.useEffect(()=>{c(e.cost!==void 0&&e.cost!==null?e.cost:t)},[e.cost,t]);const p=e.amount-a,v=e.amount>0?p/e.amount*100:0,b=async()=>{h(!0),await r(e.id,a),h(!1),i(!1)};return m.jsxs("tr",{className:"hover:bg-stone-50 border-b border-stone-100 last:border-0",children:[m.jsx("td",{className:"px-4 py-3 text-stone-600 whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()}),m.jsxs("td",{className:"px-4 py-3",children:[m.jsx("div",{className:"font-medium text-stone-800",children:e.client?.name||"Cliente Casual"}),m.jsx("div",{className:"text-xs text-stone-400",children:e.client?.phone||""})]}),m.jsx("td",{className:"px-4 py-3 text-stone-600",children:m.jsx("div",{className:"text-sm truncate max-w-[200px]",title:e.description,children:e.description||e.type})}),m.jsxs("td",{className:"px-4 py-3 text-right text-stone-800 font-medium",children:["$",e.amount.toLocaleString()]}),m.jsx("td",{className:"px-4 py-3 text-right",children:n?m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx("input",{type:"number",value:a,onChange:S=>c(Number(S.target.value)),className:"w-20 border border-stone-300 rounded px-2 py-1 text-right text-sm focus:outline-none focus:border-blue-500",autoFocus:!0}),m.jsx("button",{onClick:b,disabled:f,className:"text-green-600 hover:text-green-700 bg-green-50 p-1 rounded",children:m.jsx(By,{size:16})})]}):m.jsxs("button",{onClick:()=>i(!0),className:"text-stone-500 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 rounded transition-colors text-sm flex items-center justify-end w-full gap-1 group",children:["$",a.toLocaleString(),m.jsx(Ly,{size:12,className:"opacity-0 group-hover:opacity-100"})]})}),m.jsxs("td",{className:`px-4 py-3 text-right font-bold ${p>=0?"text-emerald-600":"text-red-500"}`,children:["$",p.toLocaleString()]}),m.jsxs("td",{className:"px-4 py-3 text-right text-xs text-stone-400",children:[v.toFixed(0),"%"]})]})},Cre=({initialClient:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(e||null),[a,c]=_.useState(""),[f,h]=_.useState(""),[p,v]=_.useState("todos"),[b,S]=_.useState(!1),[C,O]=_.useState([]),[I,P]=_.useState(""),[D,M]=_.useState([]),[R,B]=_.useState(""),[W,$]=_.useState(""),[H,Z]=_.useState([]),[K,pe]=_.useState(!1);_.useEffect(()=>{e&&i(e),se(),ie()},[e]);const se=async()=>{const{data:X,error:_e}=await $e.from("inventory").select("*").gt("quantity",0).order("name",{ascending:!0});X&&M(X)},ie=async()=>{pe(!0);const X=new Date;X.setDate(X.getDate()-7);const{data:_e,error:ze}=await $e.from("transactions").select("*, clients(name)").gte("created_at",X.toISOString()).order("created_at",{ascending:!1}).limit(50);!ze&&_e&&Z(_e),pe(!1)},Ae=async X=>{if(!X||X.length<2){O([]);return}const{data:_e,error:ze}=await $e.from("clients").select("*").or(`phone.ilike.%${X}%,name.ilike.%${X}%`).limit(10);_e&&O(_e)};_.useEffect(()=>{const X=setTimeout(()=>{Ae(a)},500);return()=>clearTimeout(X)},[a]);const Ce=(X,_e,ze,me)=>{const He=ze||(_e==="product"?"10ml":"standard"),ge=`${X.id}-${He}`;if(t.find(ke=>ke.cartId===ge))r(t.map(ke=>ke.cartId===ge?{...ke,qty:ke.qty+1}:ke));else{let ke=me||0;me||(_e==="product"&&(ze==="5ml"?ke=X.price5ml||X.price||0:ze==="10ml"?ke=X.price10ml||0:ze==="Botella"?ke=X.priceFullBottle||0:ke=X.price||0),_e==="gift"&&(ke=X.price||0),_e==="service"&&(ke=X.price||0)),r([...t,{...X,cartId:ge,type:_e,qty:1,price:ke,variant:He}])}P(`Agregado: ${X.name} (${He})`),setTimeout(()=>P(""),2e3)},te=()=>{if(!R||!W){alert("Por favor ingrese nombre y precio del item.");return}const X=parseInt(W);if(isNaN(X)){alert("El precio debe ser un nmero vlido.");return}const _e={id:"manual-"+Date.now(),name:R,price:X,type:"service",qty:1,variant:"manual",stock:!1,cartId:"manual-"+Date.now()};r(ze=>[...ze,_e]),B(""),$(""),P(`Item "${R}" agregado al carrito ($${X})`),setTimeout(()=>P(""),3e3)},Re=X=>{r(t.filter(_e=>_e.cartId!==X))},J=(X,_e)=>{_e<1||r(t.map(ze=>ze.cartId===X?{...ze,qty:_e}:ze))},oe=(X,_e)=>{if(_e===""){r(t.map(me=>me.cartId===X?{...me,price:0}:me));return}const ze=parseInt(_e);isNaN(ze)||r(t.map(me=>me.cartId===X?{...me,price:ze}:me))},ue=async()=>{const X=prompt(`Ingresa el telfono para el nuevo cliente "${a}":`,"+569");if(X)try{const{data:_e}=await $e.from("clients").select("id, name, phone").eq("phone",X).single();if(_e){alert(`El cliente ya existe: ${_e.name}`),i(_e),c("");return}const ze=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ge=>{const we=Math.random()*16|0;return(ge==="x"?we:we&3|8).toString(16)}),{data:me,error:He}=await $e.from("clients").insert({name:a,phone:X,visits:1,member_token:ze()}).select().single();if(He)throw He;alert(` Cliente creado: ${me.name}`),i(me),c("")}catch(_e){alert("Error creando cliente: "+_e.message)}},ve=async X=>{if(!n||!n.id){alert(` Primero selecciona un cliente en el panel 'Venta Actual' (derecha).

1. Busca y selecciona el cliente arriba a la derecha.
2. Vuelve aqu y presiona este botn para asignarlo a esta venta.`);return}if(confirm(`Asignar cliente "${n.name}" a esta venta?`))try{const{error:_e}=await $e.from("transactions").update({client_id:n.id}).eq("id",X);if(_e)throw _e;alert(" Cliente asignado correctamente."),ie(),i(null)}catch(_e){alert("Error: "+_e.message)}},Q=async()=>{if(t.length===0)return alert("El carrito est vaco");if(window.confirm(`Confirmar venta por $${t.reduce((X,_e)=>X+_e.price*_e.qty,0).toLocaleString()}?`)){S(!0);try{let X=n?.id||null;if(n&&!n.id&&n.phone){const _e=n.phone.startsWith("+")?n.phone:"+569"+n.phone,{data:ze}=await $e.from("clients").select("id").eq("phone",_e).single();if(ze)X=ze.id;else{const me=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(we){const ke=Math.random()*16|0;return(we==="x"?ke:ke&3|8).toString(16)}),{data:He,error:ge}=await $e.from("clients").insert({name:n.name||"Cliente",phone:_e,visits:1,member_token:me()}).select("id").single();ge?console.error("Error creando cliente:",ge):He&&(X=He.id)}}for(const _e of t){if(_e.type==="product"&&_e.stock!==!1){const{error:me}=await $e.rpc("adjust_inventory",{p_product_id:_e.id,p_delta:-_e.qty,p_reason:"sale_pos"});me&&console.error("Inventory error",me)}const{error:ze}=await $e.from("transactions").insert({client_id:X,amount:_e.price*_e.qty,type:_e.type==="service"?"service":"product",description:`POS: ${_e.name} (${_e.variant}) x${_e.qty}`,additional_cost:0});if(ze)throw ze}alert(" Venta registrada con xito!"),r([]),i(null),c(""),ie()}catch(X){alert("Error procesando venta: "+X.message)}finally{S(!1)}}},le=async X=>{if(confirm(`Eliminar venta de $${X.amount.toLocaleString()}?

Esta accin eliminar el registro financiero.`)){X.type==="product"&&confirm(`Deseas intentar devolver el stock automticamente?
(Solo funciona si el sistema puede identificar el producto)`);try{const{error:_e}=await $e.from("transactions").delete().eq("id",X.id);if(_e)throw _e;alert("Venta eliminada correctamente."),ie()}catch(_e){alert("Error al eliminar: "+_e.message)}}},Ue=ks.filter(X=>(p==="todos"||p==="perfumes"||p==="arabes"&&X.category==="arab")&&X.name?.toLowerCase().includes(f.toLowerCase())),Be=Ei.filter(X=>(p==="todos"||p==="servicios")&&X.name?.toLowerCase().includes(f.toLowerCase())),Ge=D.filter(X=>(p==="todos"||p==="productos")&&X.name?.toLowerCase().includes(f.toLowerCase()));return m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6 overflow-y-auto pr-2 pb-20",children:[I&&m.jsx("div",{className:"bg-green-600 text-white p-2 rounded text-center text-sm font-bold sticky top-0 z-50 animate-in slide-in-from-top duration-300 shadow-lg",children:I}),m.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-stone-100 z-10 sticky top-0",children:[m.jsxs("div",{className:"relative",children:[m.jsx(wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:20}),m.jsx("input",{type:"text",placeholder:"Buscar servicio o producto...",value:f,onChange:X=>h(X.target.value),className:"w-full pl-10 pr-4 py-3 bg-stone-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-black transition-all"})]}),m.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:["todos","servicios","perfumes","arabes","productos"].map(X=>m.jsx("button",{onClick:()=>v(X),className:`px-4 py-2 rounded-full whitespace-nowrap text-sm font-bold transition-all ${p===X?"bg-black text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),m.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[m.jsxs("h4",{className:"font-bold text-stone-700 mb-2 text-sm flex items-center gap-2",children:[m.jsx(Ly,{size:14})," Item Manual"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{placeholder:"Nombre Item",className:"flex-1 border p-2 rounded text-sm",value:R,onChange:X=>B(X.target.value)}),m.jsx("input",{placeholder:"Precio",type:"number",className:"w-24 border p-2 rounded text-sm",value:W,onChange:X=>$(X.target.value)}),m.jsxs("button",{onClick:te,className:"bg-stone-800 text-white px-3 rounded-lg font-bold text-sm hover:bg-black transition flex items-center gap-1",children:[m.jsx(XE,{size:16})," Agregar"]})]})]}),m.jsxs("div",{className:"space-y-8",children:[Be.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs",children:"Servicios"}),m.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:Be.map(X=>m.jsxs("button",{onClick:()=>Ce(X,"service"),className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md hover:border-purple-200 transition-all text-left group relative overflow-hidden",children:[m.jsx("div",{className:"mb-2",children:m.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:"Servicio"})}),m.jsx("h3",{className:"font-bold text-stone-800 leading-tight mb-1",children:X.name}),m.jsxs("div",{className:"font-mono font-bold text-lg text-emerald-600 mt-2",children:["$",X.price.toLocaleString()]})]},X.id))})]}),Ge.length>0&&m.jsxs("div",{children:[m.jsxs("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs flex items-center gap-2",children:[m.jsx(mO,{size:14})," Inventario"]}),m.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:Ge.map(X=>m.jsxs("div",{className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md hover:border-emerald-200 transition-all text-left relative overflow-hidden",children:[m.jsx("div",{className:"font-bold text-stone-800 text-sm mb-1 truncate",children:X.name}),m.jsxs("div",{className:"text-stone-400 text-[10px] mb-3",children:["Stock: ",X.quantity]}),m.jsxs("button",{onClick:()=>Ce({...X,id:X.product_id},"product","unidad",X.sale_price||X.price||0),className:"w-full bg-emerald-600 text-white text-xs py-2 rounded-lg font-bold hover:bg-emerald-700 transition flex items-center justify-center gap-1",children:[m.jsx(XE,{size:14})," $",(X.sale_price||X.price||0).toLocaleString()]})]},X.product_id))})]}),Ue.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs",children:"Catlogo de Perfumes"}),m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Ue.map(X=>m.jsxs("div",{className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-stone-800 text-sm",children:X.name}),m.jsx("p",{className:"text-xs text-stone-400",children:X.brand})]}),m.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 rounded-full bg-orange-100 text-orange-700",children:X.category})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[m.jsxs("button",{onClick:()=>Ce(X,"product","5ml",X.price5ml),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition",children:["5ml",m.jsx("br",{}),m.jsxs("span",{className:"text-emerald-600",children:["$",X.price5ml.toLocaleString()]})]}),m.jsxs("button",{onClick:()=>Ce(X,"product","10ml",X.price10ml),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition",children:["10ml",m.jsx("br",{}),m.jsxs("span",{className:"text-emerald-600",children:["$",X.price10ml.toLocaleString()]})]}),X.priceFullBottle&&m.jsxs("button",{onClick:()=>Ce(X,"product","Botella",X.priceFullBottle),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition border border-amber-200",children:["Botella",m.jsx("br",{}),m.jsxs("span",{className:"text-emerald-600",children:["$",X.priceFullBottle.toLocaleString()]})]})]})]},X.id))})]})]}),m.jsxs("div",{className:"mt-12 pt-8 border-t border-stone-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h3",{className:"font-bold text-stone-800 flex items-center gap-2",children:[m.jsx(f5,{size:18})," ltimas Ventas (24h)"]}),m.jsx("button",{onClick:ie,className:"text-stone-400 hover:text-black p-2 hover:bg-stone-100 rounded-full transition",children:m.jsx(d5,{size:16,className:K?"animate-spin":""})})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-stone-50 text-stone-400 text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Hora"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Descripcin"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Accin"})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:H.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-8 text-center text-stone-400",children:"No hay ventas recientes hoy."})}):H.map(X=>m.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[m.jsx("td",{className:"px-4 py-3 text-stone-500 whitespace-nowrap",children:new Date(X.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),m.jsxs("td",{className:"px-4 py-3",children:[m.jsx("div",{className:"font-medium text-stone-800 line-clamp-1",children:X.description}),m.jsx("div",{className:"text-xs text-stone-400",children:X.clients?.name||"Cliente Casual"})]}),m.jsxs("td",{className:"px-4 py-3 text-right font-mono font-medium text-emerald-600",children:["$",X.amount.toLocaleString()]}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1",children:[!X.clients&&m.jsx("button",{onClick:()=>ve(X.id),className:"p-2 text-stone-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Asignar cliente seleccionado (en panel derecho)",children:m.jsx(Sd,{size:16})}),m.jsx("button",{onClick:()=>le(X),className:"p-2 text-stone-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-transparent hover:border-red-100",title:"Eliminar venta",children:m.jsx(Ed,{size:16})})]})})]},X.id))})]})})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl h-fit border border-stone-100 lg:sticky lg:top-4 flex flex-col max-h-[90vh]",children:[m.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2",children:[m.jsx(Nl,{})," Venta Actual"]}),m.jsxs("div",{className:"mb-6 space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider",children:"Cliente"}),n?m.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border ${n.visits>=10?"bg-amber-50 border-amber-200 text-amber-800":n.visits>=5?"bg-slate-50 border-slate-200 text-slate-700":"bg-emerald-50 border-emerald-100 text-emerald-700"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-full ${n.visits>=10?"bg-amber-100":n.visits>=5?"bg-slate-200":"bg-emerald-100"}`,children:n.visits>=10?m.jsx(pd,{size:16,className:"text-amber-600"}):m.jsx(ZE,{size:16})}),m.jsxs("div",{children:[m.jsx("span",{className:"font-bold block",children:n.name}),n.visits>=10&&m.jsx("span",{className:"text-[10px] uppercase font-bold text-amber-600 tracking-wider",children:"Cliente VIP Gold"}),n.visits>=5&&n.visits<10&&m.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Cliente Plata"})]})]}),m.jsx("button",{onClick:()=>i(null),className:`p-1 rounded-full ${n.visits>=10?"hover:bg-amber-100 text-amber-600":"hover:bg-stone-100 text-stone-500"}`,children:m.jsx(Ai,{size:16})})]}):m.jsxs("div",{className:"relative",children:[m.jsx(wd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:16}),m.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:a,onChange:X=>c(X.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-black transition-all border border-transparent focus:border-stone-200"}),!n&&a.length>2&&C.length===0&&m.jsxs("button",{onClick:ue,className:"absolute top-full left-0 right-0 mt-2 w-full py-2 bg-emerald-600 text-white rounded-xl shadow-lg z-50 text-sm font-bold flex items-center justify-center gap-2 hover:bg-emerald-700 transition animate-in fade-in slide-in-from-top-2",children:[m.jsx(Sd,{size:16}),' Crear "',a,'"']}),C.length>0&&m.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-stone-100 shadow-xl rounded-xl mt-2 z-50 max-h-48 overflow-y-auto p-2",children:C.map(X=>m.jsxs("button",{onClick:()=>{i(X),c(""),O([])},className:"w-full text-left px-3 py-2 hover:bg-stone-50 text-sm rounded-lg flex justify-between items-center group",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-stone-800",children:X.name||"Sin Nombre"}),m.jsx("div",{className:"text-xs text-stone-400",children:X.phone})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[X.visits>=10&&m.jsx(pd,{size:12,className:"text-amber-500 fill-amber-500"}),m.jsxs("span",{className:`text-[10px] px-2 py-1 rounded-full ${X.visits>=10?"bg-amber-100 text-amber-700 font-bold":X.visits>=5?"bg-slate-100 text-slate-600 font-bold":"bg-stone-100"}`,children:[X.visits," visitas"]})]})]},X.id))})]}),n&&t.some(X=>X.type==="product")&&m.jsxs(m.Fragment,{children:[n.visits>=10&&m.jsxs("button",{onClick:()=>{r(t.map(X=>X.type==="product"?{...X,price:Math.floor(X.price*.9)}:X)),P(" Descuento VIP (10%) aplicado a productos"),setTimeout(()=>P(""),3e3)},className:"w-full py-2 bg-amber-100 text-amber-800 text-xs font-bold rounded-lg hover:bg-amber-200 transition flex items-center justify-center gap-1",children:[m.jsx(pd,{size:14})," Aplicar 10% OFF Extra (VIP)"]}),n.visits>=5&&n.visits<10&&m.jsxs("button",{onClick:()=>{r(t.map(X=>X.type==="product"?{...X,price:Math.floor(X.price*.93)}:X)),P(" Descuento Plata (7%) aplicado a productos"),setTimeout(()=>P(""),3e3)},className:"w-full py-2 bg-slate-100 text-slate-700 text-xs font-bold rounded-lg hover:bg-slate-200 transition flex items-center justify-center gap-1",children:[m.jsx(ZE,{size:14})," Aplicar 7% OFF (Plata)"]})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 mb-6 min-h-[200px]",children:t.length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-300 space-y-4",children:[m.jsx(Nl,{size:48,strokeWidth:1}),m.jsx("p",{className:"text-sm font-medium",children:"Carrito vaco"})]}):t.map(X=>m.jsxs("div",{className:"flex justify-between items-center group bg-stone-50 p-3 rounded-xl border border-transparent hover:border-stone-200 transition-all",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-bold text-stone-800 text-sm",children:X.name}),m.jsx("div",{className:"text-xs text-stone-400 mb-2",children:X.variant}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>J(X.cartId,X.qty-1),className:"w-6 h-6 flex items-center justify-center bg-white border border-stone-200 rounded-lg text-xs hover:bg-stone-100 transition",children:"-"}),m.jsx("span",{className:"text-xs font-bold w-4 text-center",children:X.qty}),m.jsx("button",{onClick:()=>J(X.cartId,X.qty+1),className:"w-6 h-6 flex items-center justify-center bg-white border border-stone-200 rounded-lg text-xs hover:bg-stone-100 transition",children:"+"})]})]}),m.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[m.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[m.jsx("span",{className:"text-stone-400 text-xs",children:"$"}),m.jsx("input",{className:"w-20 text-right bg-transparent border-b border-stone-300 font-bold text-stone-800 text-sm focus:outline-none focus:border-black p-0",value:X.price,onChange:_e=>oe(X.cartId,_e.target.value),title:"Click para editar precio"})]}),m.jsx("button",{onClick:()=>Re(X.cartId),className:"text-stone-300 hover:text-red-500 transition-colors p-1",children:m.jsx(Ed,{size:14})})]})]},X.cartId||`${X.id}-${X.variant}`))}),m.jsxs("div",{className:"space-y-4 pt-6 border-t border-stone-100 mt-auto",children:[m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsx("span",{className:"text-stone-500 font-medium",children:"Total"}),m.jsxs("span",{className:"text-4xl font-bold font-mono text-stone-900 tracking-tight",children:["$",t.reduce((X,_e)=>X+_e.price*_e.qty,0).toLocaleString()]})]}),m.jsx("button",{onClick:Q,disabled:t.length===0||b,className:"w-full py-4 bg-black text-white font-bold rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100 flex items-center justify-center gap-2 shadow-xl shadow-stone-200",children:b?m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):m.jsxs(m.Fragment,{children:[m.jsx(t5,{size:20})," Cobrar"]})})]})]})]})},_re=({onRegisterService:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(()=>{const ge=new Date;return ge.setHours(0,0,0,0),ge}),[a,c]=_.useState(null),[f,h]=_.useState(!1),[p,v]=_.useState(null),[b,S]=_.useState(""),[C,O]=_.useState(""),[I,P]=_.useState("Corte"),[D,M]=_.useState("salon"),[R,B]=_.useState(1),[W,$]=_.useState(!1),[H,Z]=_.useState(!1),[K,pe]=_.useState("9:00"),[se,ie]=_.useState("21:00"),[Ae,Ce]=_.useState(""),[te,Re]=_.useState(new Set);_.useEffect(()=>{J()},[n]);const J=async()=>{$(!0);try{const{data:ge,error:we}=await $e.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});if(we)throw we;if(r(ge||[]),ge&&ge.length>0){const ke=[...new Set(ge.map(We=>We.phone).filter(We=>We&&We.length>=8))];if(ke.length>0){const{data:We}=await $e.from("clients").select("phone").gte("visits",10).in("phone",ke);We&&Re(new Set(We.map(it=>it.phone)))}}}catch(ge){console.error("Error fetching bookings:",ge)}finally{$(!1)}},ue=(ge=>{const we=[],ke=ge.getDay(),We=ge.getDate()-ke+(ke===0?-6:1),it=new Date(ge);it.setDate(We);for(let jt=0;jt<7;jt++){const dt=new Date(it);dt.setDate(it.getDate()+jt),we.push(dt)}return we})(n),ve=Array.from({length:13},(ge,we)=>`${we+9}:00`),Q=(ge,we)=>{const ke=new Date,We=parseInt(we.split(":")[0]),it=new Date(ge+"T00:00:00");return it.toDateString()<ke.toDateString()?!0:it.toDateString()===ke.toDateString()?We<=ke.getHours():!1},le=()=>{const ge=new Date(n);ge.setDate(n.getDate()-7),i(ge)},Ue=()=>{const ge=new Date(n);ge.setDate(n.getDate()+7),i(ge)},Be=()=>{const ge=new Date;ge.setHours(0,0,0,0),i(ge)},Ge=(ge,we)=>{const ke=t.find(We=>We.date===ge&&We.time===we);ke?v(ke):(c({date:ge,time:we}),M("salon"),S(""),O(""),B(1),h(!0))},X=async()=>{if(!a)return;const ge=D==="bloqueo",we=ge?"BLOQUEADO":b;if(!we&&!ge)return alert("Ingrese nombre");$(!0);try{const ke=parseInt(a.time.split(":")[0]),We=[];for(let dt=0;dt<R;dt++){const _t=ke+dt;if(_t>21)break;const wt=`${_t}:00`;if(t.find(Ve=>Ve.date===a.date&&Ve.time===wt)){alert(`El horario ${wt} ya est ocupado`),$(!1);return}We.push({date:a.date,time:wt,name:we,phone:C?"+569"+C:"00000000",email:"manual@admin.com",service_name:ge?"Bloqueo":`${I} (${R}h)`,is_home_service:D==="domicilio",created_at:new Date().toISOString()})}const{error:it}=await $e.from("bookings").insert(We);if(it)throw it;const jt=R>1?` (${R} horas)`:"";alert(ge?"Bloqueo registrado"+jt:"Reserva creada"+jt),h(!1),J()}catch(ke){alert("Error: "+ke.message)}finally{$(!1)}},_e=async ge=>{const{error:we}=await $e.from("bookings").delete().eq("id",ge);we||J()},ze=async ge=>{if(!window.confirm(`Bloquear todo el da ${ge}?`))return;$(!0);const we=ve.map(it=>({date:ge,time:it,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()})),ke=t.filter(it=>it.date===ge).map(it=>it.time),We=we.filter(it=>!ke.includes(it.time));if(We.length>0){const{error:it}=await $e.from("bookings").insert(We);it?alert("Error: "+it.message):J()}$(!1)},me=async()=>{if(!Ae)return alert("Selecciona una fecha");const ge=ve.indexOf(K),we=ve.indexOf(se);if(ge>we)return alert("Hora inicio debe ser menor que fin");const ke=ve.slice(ge,we+1),We=t.filter(dt=>dt.date===Ae).map(dt=>dt.time),it=ke.filter(dt=>!We.includes(dt)).map(dt=>({date:Ae,time:dt,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()}));if(it.length===0)return alert("Todos esos horarios ya estn ocupados");$(!0);const{error:jt}=await $e.from("bookings").insert(it);jt?alert("Error: "+jt.message):(alert(`${it.length} horarios bloqueados`),Z(!1),J()),$(!1)},He=async ge=>{if(!window.confirm(`Desbloquear todo el da ${ge}?`))return;$(!0);const{error:we}=await $e.from("bookings").delete().eq("date",ge).eq("name","BLOQUEADO");we||J(),$(!1)};return m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-stone-200 h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(oO,{})," Agenda Semanal"]}),m.jsxs("div",{className:"flex items-center bg-stone-100 rounded-lg p-1",children:[m.jsx("button",{onClick:le,className:"p-1 hover:bg-stone-200 rounded",children:m.jsx(JR,{size:20})}),m.jsx("button",{onClick:Be,className:"px-3 py-1 font-bold text-sm text-stone-600 hover:text-stone-900 border-x border-stone-200",children:"Hoy"}),m.jsx("button",{onClick:Ue,className:"p-1 hover:bg-stone-200 rounded",children:m.jsx(lO,{size:20})})]})]}),m.jsxs("div",{className:"flex gap-2 text-xs items-center flex-wrap",children:[m.jsxs("button",{onClick:()=>Z(!H),className:`px-3 py-1.5 rounded-lg font-bold flex items-center gap-1 transition ${H?"bg-red-600 text-white":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:[m.jsx(GE,{size:14})," ",H?"Cerrar":"Bloqueo Rpido"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-purple-100 border border-purple-300 rounded"})," Saln"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"})," Domicilio"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-red-100 border border-red-300 rounded"})," Bloqueado"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-stone-200 border border-stone-300 rounded"})," Expirado"]})]})]}),H&&m.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 animate-in slide-in-from-top duration-200",children:m.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Fecha"}),m.jsxs("select",{value:Ae,onChange:ge=>Ce(ge.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:[m.jsx("option",{value:"",children:"Seleccionar..."}),ue.map(ge=>m.jsxs("option",{value:ge.toISOString().split("T")[0],children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][ge.getDay()]," ",ge.getDate(),"/",ge.getMonth()+1]},ge.toISOString()))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Desde"}),m.jsx("select",{value:K,onChange:ge=>pe(ge.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:ve.map(ge=>m.jsx("option",{value:ge,children:ge},ge))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Hasta"}),m.jsx("select",{value:se,onChange:ge=>ie(ge.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:ve.map(ge=>m.jsx("option",{value:ge,children:ge},ge))})]}),m.jsx("button",{onClick:me,disabled:W||!Ae,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1.5 rounded font-bold text-sm disabled:opacity-50",children:W?"Bloqueando...":"Bloquear Rango"}),m.jsxs("div",{className:"border-l border-red-300 pl-4 ml-2",children:[m.jsx("span",{className:"text-xs text-red-600 mr-2",children:"Da completo:"}),ue.map(ge=>{const we=ge.toISOString().split("T")[0],ke=t.some(We=>We.date===we&&We.name==="BLOQUEADO");return m.jsxs("button",{onClick:()=>ke?He(we):ze(we),className:`px-2 py-0.5 mx-0.5 rounded text-xs font-bold ${ke?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,title:ke?"Desbloquear da":"Bloquear da",children:[["D","L","M","X","J","V","S"][ge.getDay()],ge.getDate()]},we)})]})]})}),m.jsx("div",{className:"flex-1 overflow-auto border border-stone-200 rounded-lg",children:m.jsxs("div",{className:"min-w-[800px]",children:[m.jsxs("div",{className:"grid grid-cols-8 bg-stone-50 border-b border-stone-200 sticky top-0 z-10",children:[m.jsx("div",{className:"p-2 text-center text-stone-500 font-bold text-xs border-r border-stone-200",children:"Hora"}),ue.map((ge,we)=>m.jsxs("div",{className:`p-2 text-center border-r border-stone-200 ${ge.toDateString()===new Date().toDateString()?"bg-amber-50":""}`,children:[m.jsx("div",{className:"text-stone-500 text-[10px] uppercase",children:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][ge.getDay()]}),m.jsx("div",{className:"font-bold text-stone-900",children:ge.getDate()})]},we))]}),ve.map(ge=>m.jsxs("div",{className:"grid grid-cols-8 border-b border-stone-100 hover:bg-stone-50/50",children:[m.jsx("div",{className:"p-2 text-center text-stone-400 text-xs font-mono border-r border-stone-100",children:ge}),ue.map((we,ke)=>{const We=we.toISOString().split("T")[0],it=t.find(en=>en.date===We&&en.time===ge),jt=Q(We,ge);let dt="transition p-1 border-r border-stone-100 min-h-[50px]",_t=null,wt=!0;if(it){const en=te.has(it.phone);it.name==="BLOQUEADO"?(dt+=" bg-red-100 hover:bg-red-200 border-red-200 cursor-pointer",_t=m.jsx("div",{className:"flex justify-center items-center h-full text-red-400",children:m.jsx(GE,{size:16})})):(dt+=it.is_home_service?" bg-blue-100 hover:bg-blue-200 border-blue-200 cursor-pointer":" bg-purple-100 hover:bg-purple-200 border-purple-200 cursor-pointer",en&&(dt="transition p-1 border-r border-stone-100 min-h-[50px] bg-amber-100 hover:bg-amber-200 border-amber-300 cursor-pointer relative"),_t=m.jsxs("div",{className:"text-[10px] leading-tight p-1 h-full overflow-hidden",children:[m.jsxs("div",{className:"font-bold truncate flex items-center gap-1",children:[en&&m.jsx(pd,{size:10,className:"text-amber-600 fill-amber-600"}),it.name]}),m.jsx("div",{className:"text-stone-500 truncate",children:it.service_name})]}))}else jt?(dt+=" bg-stone-200/50 cursor-not-allowed",_t=m.jsx("div",{className:"flex justify-center items-center h-full text-stone-400",children:m.jsx(My,{size:14,className:"opacity-50"})}),wt=!1):dt+=" cursor-pointer hover:bg-stone-100";return m.jsx("div",{className:dt,onClick:()=>wt&&Ge(We,ge),children:_t},`${We}-${ge}`)})]},ge))]})}),f&&a&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-xl font-bold",children:[a.date," - ",a.time]}),m.jsx("button",{onClick:()=>h(!1),children:m.jsx(Ai,{className:"text-stone-400 hover:text-stone-600"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[m.jsx("button",{onClick:()=>M("salon"),className:`p-2 rounded border text-sm font-bold ${D==="salon"?"bg-purple-600 text-white border-purple-600":"border-stone-200 text-stone-500"}`,children:"Saln"}),m.jsx("button",{onClick:()=>M("domicilio"),className:`p-2 rounded border text-sm font-bold ${D==="domicilio"?"bg-blue-600 text-white border-blue-600":"border-stone-200 text-stone-500"}`,children:"Domicilio"}),m.jsx("button",{onClick:()=>M("bloqueo"),className:`p-2 rounded border text-sm font-bold ${D==="bloqueo"?"bg-red-600 text-white border-red-600":"border-stone-200 text-stone-500"}`,children:"Bloquear"})]}),D!=="bloqueo"&&m.jsxs(m.Fragment,{children:[m.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",placeholder:"Nombre Cliente",value:b,onChange:ge=>S(ge.target.value),autoFocus:!0}),m.jsxs("div",{className:"flex items-center gap-2 w-full",children:[m.jsx("span",{className:"bg-stone-200 border border-stone-300 text-stone-600 px-2 py-2 rounded-lg font-bold text-sm",children:"+569"}),m.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm outline-none focus:ring-1 focus:ring-stone-400",placeholder:"12345678",value:C,onChange:ge=>{const we=ge.target.value.replace(/[^0-9]/g,"");we.length<=8&&O(we)},maxLength:8})]}),m.jsxs("select",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",value:I,onChange:ge=>P(ge.target.value),children:[m.jsx("option",{value:"Corte",children:"Corte"}),m.jsx("option",{value:"Color",children:"Color"}),m.jsx("option",{value:"Efecto",children:"Efecto"}),m.jsx("option",{value:"Alisado",children:"Alisado"}),m.jsx("option",{value:"Masaje",children:"Masaje"})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-sm text-stone-600 whitespace-nowrap",children:"Duracin:"}),m.jsxs("select",{className:"flex-1 border border-stone-300 rounded-lg p-2 text-sm",value:R,onChange:ge=>B(parseInt(ge.target.value)),children:[m.jsx("option",{value:1,children:"1 hora"}),m.jsx("option",{value:2,children:"2 horas"}),m.jsx("option",{value:3,children:"3 horas"}),m.jsx("option",{value:4,children:"4 horas"}),m.jsx("option",{value:5,children:"5 horas"})]})]}),m.jsx("button",{onClick:X,disabled:W,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg mt-2 disabled:opacity-50 ${D==="bloqueo"?"bg-red-600 hover:bg-red-700":"bg-stone-900 hover:bg-stone-800"}`,children:W?"Guardando...":D==="bloqueo"?"Bloquear Horario":"Guardar Reserva"})]})]})}),p&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-xl font-bold",children:p.name==="BLOQUEADO"?"Horario Bloqueado":"Reserva"}),m.jsx("button",{onClick:()=>v(null),children:m.jsx(Ai,{className:"text-stone-400 hover:text-stone-600"})})]}),p.name!=="BLOQUEADO"&&m.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 mb-4",children:[m.jsx("p",{className:"font-bold text-lg",children:p.name}),m.jsx("p",{className:"text-stone-500 text-sm",children:p.phone}),m.jsx("p",{className:"text-stone-400 text-xs mt-1",children:p.service_name}),m.jsxs("p",{className:"text-stone-400 text-xs",children:[p.date," - ",p.time]})]}),m.jsxs("div",{className:"space-y-3",children:[p.name!=="BLOQUEADO"&&e&&m.jsxs("button",{onClick:()=>{e({name:p.name,phone:p.phone,service:p.service_name}),v(null)},className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[m.jsx(Np,{size:20})," Registrar Servicio"]}),m.jsxs("button",{onClick:()=>{_e(p.id),v(null)},className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[m.jsx(Ed,{size:18})," ",p.name==="BLOQUEADO"?"Desbloquear":"Eliminar Reserva"]}),m.jsx("button",{onClick:()=>v(null),className:"w-full py-2 bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold rounded-xl",children:"Cancelar"})]})]})})]})},U3=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],Nre=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=_.useState(!1),a=t?.quantity||0,c=t?.last_purchase_price||0,f=e.priceFullBottle||0,h=f-c,p=c>0?h/c*100:0;let v=null;if(t?.last_purchase_date){const S=new Date().getTime()-new Date(t.last_purchase_date).getTime();v=Math.floor(S/(1e3*60*60*24))}const b=async S=>{i(!0);const{data:C,error:O}=await $e.rpc("adjust_inventory",{p_product_id:e.id,p_delta:S,p_reason:"manual_adjustment"});O?alert("Error: "+O.message):C.success?r():alert("Error: "+C.message),i(!1)};return m.jsxs("tr",{className:"border-b border-stone-100",children:[m.jsx("td",{className:"px-4 py-2",children:m.jsx("div",{className:"font-medium text-stone-800",children:e.name})}),m.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",c.toLocaleString()]}),m.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",f.toLocaleString()]}),m.jsxs("td",{className:"px-4 py-2 text-center",children:[m.jsxs("div",{className:`text-xs font-bold ${h>=0?"text-green-600":"text-red-500"}`,children:["$",h.toLocaleString()]}),m.jsxs("div",{className:`text-[10px] ${h>=0?"text-green-500":"text-red-400"}`,children:[p.toFixed(1),"%"]})]}),m.jsx("td",{className:"px-4 py-2 text-center",children:m.jsx("span",{className:`font-bold ${a>2?"text-green-600":"text-red-500"}`,children:a})}),m.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:v!==null?`${v}d`:"-"}),m.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>b(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),m.jsx("button",{onClick:()=>b(-1),disabled:n||a<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},Ore=({onClose:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(!0);_.useEffect(()=>{(async()=>{const{data:f,error:h}=await $e.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);h?console.error("Error fetching logs:",h):r(f||[]),i(!1)})()},[]);const a=c=>{const f=ks.find(h=>h.id===c);return f?f.name:c};return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(fO,{})," Historial de Movimientos"]}),m.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),m.jsx("div",{className:"overflow-y-auto flex-1",children:n?m.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:"Fecha"}),m.jsx("th",{className:"px-4 py-2",children:"Producto"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),m.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),m.jsxs("tbody",{children:[t.map(c=>m.jsxs("tr",{className:"border-b border-stone-100",children:[m.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),m.jsx("td",{className:"px-4 py-2 font-medium",children:a(c.product_id)}),m.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),m.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),m.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},Ire=({onLogout:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,c]=_.useState("month"),[f,h]=_.useState(0),[p,v]=_.useState(0),[b,S]=_.useState([]),[C,O]=_.useState([]),[I,P]=_.useState([]),[D,M]=_.useState([]),[R,B]=_.useState("dashboard"),[W,$]=_.useState([]),[H,Z]=_.useState(null),[K,pe]=_.useState(null),[se,ie]=_.useState([]),[Ae,Ce]=_.useState(null),[te,Re]=_.useState(!1),[J,oe]=_.useState([]),[ue,ve]=_.useState([]),[Q,le]=_.useState(null),[Ue,Be]=_.useState(new Map),[Ge,X]=_.useState(0),[_e,ze]=_.useState(0),[me,He]=_.useState([]),[ge,we]=_.useState(!1),ke=ur.useMemo(()=>{const ye=new Map;return[...t].sort((mt,rr)=>new Date(mt.created_at).getTime()-new Date(rr.created_at).getTime()).forEach(mt=>{const ht=new Date(mt.created_at).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit"});ye.has(ht)||ye.set(ht,{date:ht,sales:0,cost:0,clients:new Set});const Oe=ye.get(ht);Oe.sales+=mt.amount,Oe.cost+=mt.cost||0,mt.client_id&&Oe.clients.add(mt.client_id)}),Array.from(ye.values()).map(mt=>({...mt,margin:mt.sales-mt.cost,uniqueClients:mt.clients.size}))},[t]);_.useEffect(()=>{R==="dashboard"||R==="finanzas"?(it(),R==="finanzas"&&We()):R==="clients"?dt():R==="validaciones"&&(_t(),wt()),jt()},[R,a]);const We=async()=>{const{data:ye}=await $e.from("expenses").select("*");ye&&He(ye)},it=async()=>{i(!0);try{const ye=new Date;a==="week"?ye.setDate(ye.getDate()-7):a==="month"?ye.setDate(ye.getDate()-30):ye.setHours(0,0,0,0);const{data:Qe,error:mt}=await $e.from("transactions").select("*, clients(name, phone)").gte("created_at",ye.toISOString());if(mt)throw mt;const rr=Qe||[],ht=new Date(ye);a==="week"?ht.setDate(ht.getDate()-7):a==="month"?ht.setDate(ht.getDate()-30):ht.setDate(ht.getDate()-1);const{data:Oe}=await $e.from("transactions").select("*").gte("created_at",ht.toISOString()).lt("created_at",ye.toISOString()),Cr=Oe||[];r(rr);const Bt=rr.reduce((St,gt)=>St+gt.amount,0);h(Bt),v(rr.length?Math.round(Bt/rr.length):0);const Gt=new Map;rr.forEach(St=>{const gt=St.type==="product"?"Productos":"Servicios";Gt.set(gt,(Gt.get(gt)||0)+St.amount)}),O(Array.from(Gt).map(([St,gt])=>({name:St,value:gt})));const tn=new Map,ga=(St,gt)=>{if(gt==="product"){const Jt=ks.find(rn=>rn.price5ml===St||rn.price10ml===St||rn.priceFullBottle===St);return Jt?Jt.name:"Producto Genrico"}else{const Jt=Ei.find(rn=>rn.price===St);return Jt?Jt.name:"Servicio General"}};rr.forEach(St=>{const gt=ga(St.amount,St.type);tn.has(gt)||tn.set(gt,{current:0,previous:0}),tn.get(gt).current++}),Cr.forEach(St=>{const gt=ga(St.amount,St.type);tn.has(gt)||tn.set(gt,{current:0,previous:0}),tn.get(gt).previous++});const os=Array.from(tn.entries()).map(([St,gt])=>({name:St,count:gt.current})).sort((St,gt)=>gt.count-St.count).slice(0,5);P(os);const Ot=rr.length||1,un=rr.length/tn.size/Ot,ls=[];tn.forEach((St,gt)=>{if(St.current===0)return;const Jt=St.current/Ot,rn=St.previous===0?1:(St.current-St.previous)/St.previous;let _r="question";Jt>=un&&rn>=0?_r="star":Jt>=un&&rn<0?_r="cow":Jt<un&&rn>=0?_r="question":_r="dog",ls.push({name:gt,volume:Jt,growth:rn,type:_r})}),M(ls);const qi=new Map;rr.forEach(St=>{if(!St.client_id)return;const gt=qi.get(St.client_id)||{id:St.client_id,phone:"Cargando...",total_spent:0,visit_count:0};gt.total_spent+=St.amount,gt.visit_count+=1,qi.set(St.client_id,gt)});const Sn=Array.from(qi.keys());if(Sn.length>0){const{data:St}=await $e.from("clients").select("id, phone").in("id",Sn);St?.forEach(gt=>{const Jt=qi.get(gt.id);Jt&&(Jt.phone=gt.phone)})}S(Array.from(qi.values()).sort((St,gt)=>gt.total_spent-St.total_spent).slice(0,10))}catch(ye){console.error("Error fetching dashboard data:",ye)}finally{i(!1)}},jt=async()=>{const{data:ye,error:Qe}=await $e.from("inventory").select("*");if(ye){const mt=new Map;let rr=0,ht=0;ye.forEach(Oe=>{mt.set(Oe.product_id,Oe),rr+=Oe.quantity*(Oe.last_purchase_price||0),ht+=Oe.quantity}),Be(mt),X(rr),ze(ht)}Qe&&console.error("Error fetching inventory",Qe)},dt=async()=>{i(!0);const{data:ye,error:Qe}=await $e.from("clients").select("*").order("last_visit",{ascending:!1});Qe?console.error("Error fetching clients",Qe):$(ye||[]),Qe?console.error("Error fetching clients",Qe):$(ye||[]),i(!1)},_t=async()=>{i(!0);const{data:ye,error:Qe}=await $e.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});Qe?console.error("Error fetching visits",Qe):oe(ye||[]),i(!1)},wt=async()=>{i(!0);const{data:ye,error:Qe}=await $e.from("inventory_requests").select("*, product:products(*)").eq("status","pending").order("created_at",{ascending:!0});Qe?console.error("Error fetching inventory requests",Qe):ve(ye||[]),i(!1)},en=async ye=>{if(!confirm("Aprobar esta venta/movimiento? Esto descontar el stock."))return;const{data:Qe,error:mt}=await $e.rpc("approve_inventory_request",{p_request_id:ye});mt||!Qe.success?alert("Error: "+(mt?.message||Qe?.message)):(alert("Aprobado correctamente"),wt(),jt())},Ve=async ye=>{if(!confirm("Rechazar esta solicitud?"))return;const{data:Qe,error:mt}=await $e.rpc("reject_inventory_request",{p_request_id:ye});mt||!Qe.success?alert("Error: "+(mt?.message||Qe?.message)):(alert("Solicitud rechazada"),wt())},ma=async ye=>{if(ye.preventDefault(),!H)return;const{error:Qe}=await $e.from("clients").update({name:H.name,phone:H.phone,visits:H.visits}).eq("id",H.id);Qe?alert("Error al actualizar: "+Qe.message):(Z(null),dt())},Ys=async ye=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await $e.from("hair_service_log").delete().eq("client_id",ye),await $e.from("transactions").delete().eq("client_id",ye),await $e.from("visit_registrations").delete().eq("client_id",ye);const{error:Qe}=await $e.from("clients").delete().eq("id",ye);if(Qe)throw Qe;dt()}catch(Qe){alert("Error al eliminar: "+Qe.message)}},Gn=ye=>{pe(ye),B("ventas")},as=async ye=>{Re(!0),Ce(ye);const{data:Qe,error:mt}=await $e.from("transactions").select("*").eq("client_id",ye.id).order("created_at",{ascending:!1});mt?console.error("Error fetching history:",mt):ie(Qe||[]),Re(!1)},Dn=async ye=>{if(!window.confirm("Eliminar esta transaccin? Esta accin no se puede deshacer."))return;const{error:Qe}=await $e.from("transactions").delete().eq("id",ye);Qe?alert("Error al eliminar: "+Qe.message):ie(mt=>mt.filter(rr=>rr.id!==ye))},ss=()=>{const ye=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],Qe=t.map(Oe=>[Oe.id,Oe.created_at,Oe.amount,Oe.type,Oe.client_id||"Annimo"]),mt="data:text/csv;charset=utf-8,"+ye.join(",")+`
`+Qe.map(Oe=>Oe.join(",")).join(`
`),rr=encodeURI(mt),ht=document.createElement("a");ht.setAttribute("href",rr),ht.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},Kn=()=>{const ye=["Nombre","Telfono","Visitas","ltima Visita"],Qe=W.map(Oe=>[Oe.name||"Sin Nombre",Oe.phone,Oe.visits,Oe.last_visit?new Date(Oe.last_visit).toLocaleDateString():"N/A"]),mt="data:text/csv;charset=utf-8,"+ye.join(",")+`
`+Qe.map(Oe=>Oe.join(",")).join(`
`),rr=encodeURI(mt),ht=document.createElement("a");ht.setAttribute("href",rr),ht.setAttribute("download",`clientes_tus3b_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)};return m.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),m.jsxs("div",{className:"flex gap-4",children:[R==="dashboard"&&m.jsxs("select",{value:a,onChange:ye=>c(ye.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[m.jsx("option",{value:"week",children:"ltima Semana"}),m.jsx("option",{value:"month",children:"ltimo Mes"})]}),m.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),m.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[m.jsx("button",{onClick:()=>B("dashboard"),className:`px-4 py-2 font-bold transition ${R==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),m.jsx("button",{onClick:()=>B("clients"),className:`px-4 py-2 font-bold transition ${R==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),m.jsxs("button",{onClick:()=>B("validaciones"),className:`px-4 py-2 font-bold transition ${R==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones",J.length+ue.length>0&&m.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:J.length+ue.length})]}),m.jsx("button",{onClick:()=>B("finanzas"),className:`px-4 py-2 font-bold transition ${R==="finanzas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Finanzas"}),m.jsx("button",{onClick:()=>B("ventas"),className:`px-4 py-2 font-bold transition ${R==="ventas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Ventas (POS)"}),m.jsx("button",{onClick:()=>B("agenda"),className:`px-4 py-2 font-bold transition ${R==="agenda"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Agenda"})]}),R==="validaciones"&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[m.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[m.jsx(Ip,{})," QR de Llegada"]}),m.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),m.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:m.jsx(Rp,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),m.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),m.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[m.jsx(r0,{size:14})," Imprimir QR"]})]}),m.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(e5,{})," Visitas Pendientes"]}),J.length===0?m.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:m.jsx("p",{children:"No hay clientes esperando validacin."})}):m.jsx("div",{className:"space-y-4",children:J.map(ye=>m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[m.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:ye.client?.name?.charAt(0)||"?"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-stone-900",children:ye.client?.name||"Cliente"}),m.jsx("p",{className:"text-sm text-stone-500",children:ye.client?.phone}),m.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(ye.check_in_time).toLocaleTimeString()]})]})]}),m.jsx("button",{onClick:()=>le(ye),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},ye.id))})]}),m.jsxs("div",{className:"md:col-span-3 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mt-6",children:[m.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-amber-700",children:[m.jsx(YE,{})," Ventas / Inventario Pendiente"]}),ue.length===0?m.jsx("div",{className:"py-8 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:m.jsx("p",{children:"No hay solicitudes de inventario pendientes."})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-stone-50 text-stone-500 text-xs uppercase",children:[m.jsx("th",{className:"p-3",children:"Fecha"}),m.jsx("th",{className:"p-3",children:"Producto"}),m.jsx("th",{className:"p-3 text-center",children:"Cantidad"}),m.jsx("th",{className:"p-3 text-right",children:"Solicitante"}),m.jsx("th",{className:"p-3 text-right",children:"Accin"})]})}),m.jsx("tbody",{className:"divide-y divide-stone-100",children:ue.map(ye=>m.jsxs("tr",{className:"hover:bg-amber-50/30 transition",children:[m.jsx("td",{className:"p-3 text-sm text-stone-500",children:new Date(ye.created_at).toLocaleString()}),m.jsx("td",{className:"p-3 font-medium text-stone-800",children:ye.product?.name||"Producto Desconocido"}),m.jsx("td",{className:`p-3 text-center font-bold ${ye.quantity<0?"text-red-500":"text-green-600"}`,children:ye.quantity}),m.jsx("td",{className:"p-3 text-right text-xs text-stone-400",children:ye.requested_by||"Staff"}),m.jsx("td",{className:"p-3 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>Ve(ye.id),className:"px-3 py-1 text-xs font-bold text-red-600 hover:bg-red-100 rounded",children:"Rechazar"}),m.jsx("button",{onClick:()=>en(ye.id),className:"px-3 py-1 text-xs font-bold text-white bg-green-600 hover:bg-green-700 rounded shadow-sm",children:"Aprobar"})]})})]},ye.id))})]})})]})]}),R==="finanzas"&&m.jsx(Sre,{transactions:t,expenses:me,timeRange:a,onTimeRangeChange:ye=>c(ye),onRefresh:it}),R==="ventas"&&m.jsx(Cre,{initialClient:K},K?K.id:"pos-reset"),R==="agenda"&&m.jsx(_re,{onRegisterService:ye=>{const Qe={name:ye.name,phone:ye.phone,service:ye.service};pe(Qe),B("ventas")}}),R==="dashboard"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),m.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),m.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:m.jsx(cO,{className:"text-green-600"})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),m.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",p.toLocaleString()]})]}),m.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:m.jsx(n0,{className:"text-blue-600"})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),m.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),m.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:m.jsx(n0,{className:"text-purple-600"})})]})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[m.jsx(n0,{className:"text-blue-600"})," Evolucin Financiera"]})}),m.jsx("div",{className:"h-[350px] w-full",children:m.jsx(ud,{width:"100%",height:"100%",children:m.jsxs(Ere,{data:ke,margin:{top:10,right:30,left:0,bottom:0},children:[m.jsx(gd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),m.jsx(vd,{dataKey:"date",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#9ca3af"}),m.jsx(jc,{yAxisId:"left",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:ye=>`$${ye/1e3}k`,stroke:"#9ca3af"}),m.jsx(jc,{yAxisId:"right",orientation:"right",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#9ca3af"}),m.jsx(fd,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:(ye,Qe)=>[Qe==="Clientes"?ye:`$${ye.toLocaleString()}`,Qe]}),m.jsx(G0,{wrapperStyle:{paddingTop:"20px"}}),m.jsx(_l,{yAxisId:"left",dataKey:"sales",name:"Venta Total",fill:"#4f46e5",radius:[4,4,0,0],barSize:20}),m.jsx(_l,{yAxisId:"left",dataKey:"cost",name:"Costo",fill:"#ef4444",radius:[4,4,0,0],barSize:20}),m.jsx(LT,{yAxisId:"left",type:"monotone",dataKey:"margin",name:"Margen",stroke:"#10b981",strokeWidth:3,dot:!1}),m.jsx(qT,{yAxisId:"right",type:"monotone",dataKey:"uniqueClients",name:"Clientes nicos",fill:"#e0f2fe",stroke:"#3b82f6",fillOpacity:.4})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[m.jsx(gO,{size:18})," Origen de Ingresos"]}),m.jsx("div",{className:"h-[250px] w-full",children:m.jsx(ud,{width:"100%",height:"100%",children:m.jsxs(vre,{children:[m.jsx(xT,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:C.map((ye,Qe)=>m.jsx(Dl,{fill:U3[Qe%U3.length]},`cell-${Qe}`))}),m.jsx(fd,{formatter:ye=>`$${ye.toLocaleString()}`}),m.jsx(G0,{})]})})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[m.jsx(ZR,{size:18})," Top Productos/Servicios"]}),m.jsx("div",{className:"h-[250px] w-full",children:m.jsx(ud,{width:"100%",height:"100%",children:m.jsxs(h8,{data:I,layout:"vertical",children:[m.jsx(gd,{strokeDasharray:"3 3",horizontal:!1}),m.jsx(vd,{type:"number",hide:!0}),m.jsx(jc,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),m.jsx(fd,{}),m.jsx(_l,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),m.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[m.jsx(h5,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),m.jsxs("div",{className:"h-[300px] w-full relative",children:[m.jsx(ud,{width:"100%",height:"100%",children:m.jsxs(bre,{margin:{top:20,right:20,bottom:20,left:20},children:[m.jsx(gd,{}),m.jsx(vd,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:ye=>Math.round(ye*100)+"%"}),m.jsx(jc,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:ye=>Math.round(ye*100)+"%"}),m.jsx(fd,{cursor:{strokeDasharray:"3 3"},formatter:(ye,Qe)=>[Math.round(ye*100)+"%",Qe==="volume"?"Cuota":"Crecimiento"]}),m.jsx(_T,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),m.jsx(ZT,{name:"Productos",data:D,fill:"#8884d8",children:D.map((ye,Qe)=>{let mt="#8884d8";return ye.type==="star"?mt="#FFBB28":ye.type==="cow"?mt="#00C49F":ye.type==="dog"?mt="#FF8042":mt="#999",m.jsx(Dl,{fill:mt},`cell-${Qe}`)})})]})}),m.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),m.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(bO,{size:20})," Top 10 Clientes (Gasto)"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2",children:"Cliente"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),m.jsxs("tbody",{children:[b.map((ye,Qe)=>m.jsxs("tr",{className:"border-b border-stone-100",children:[m.jsxs("td",{className:"px-4 py-3 font-medium",children:[Qe+1,". ",ye.phone]}),m.jsx("td",{className:"px-4 py-3 text-right",children:ye.visit_count}),m.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",ye.total_spent.toLocaleString()]}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("button",{onClick:()=>Gn({id:ye.id,phone:ye.phone,name:"Cliente"}),className:"text-xs bg-stone-900 text-white px-2 py-1 rounded hover:bg-stone-700",children:"Vender"})})]},ye.id)),b.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(mO,{size:20})," Inventario Perfumes"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:()=>we(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[m.jsx(fO,{size:14})," Historial"]}),m.jsxs("button",{onClick:ss,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[m.jsx(r0,{size:14})," Exportar CSV"]})]})]}),m.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:m.jsxs("table",{className:"w-full text-xs text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-stone-500 border-b border-stone-200",children:[m.jsx("th",{className:"px-4 py-2 text-left",children:"Producto"}),m.jsx("th",{className:"px-4 py-2 text-center",children:"Costo"}),m.jsx("th",{className:"px-4 py-2 text-center",children:"Precio Vta"}),m.jsx("th",{className:"px-4 py-2 text-center",children:"Margen"}),m.jsx("th",{className:"px-4 py-2 text-center",children:"Stock"}),m.jsx("th",{className:"px-4 py-2 text-center",children:"Das"}),m.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),m.jsx("tbody",{children:ks.map(ye=>m.jsx(Nre,{perfume:ye,inventoryItem:Ue.get(ye.id),onRefresh:jt},ye.id))}),m.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),m.jsx("td",{className:"px-4 py-3"}),m.jsx("td",{className:"px-4 py-3"}),m.jsx("td",{className:"px-4 py-3"}),m.jsxs("td",{className:"px-4 py-3 text-center",children:[_e," un."]}),m.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),m.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",Ge.toLocaleString()]})]})})]})})]})]})]}):m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold",children:"Gestin de Clientes"}),m.jsxs("button",{onClick:Kn,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-green-700 flex items-center gap-2",children:[m.jsx(r0,{size:16})," Exportar Excel"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Nombre"}),m.jsx("th",{className:"px-6 py-3",children:"Telfono"}),m.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),m.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),m.jsx("tbody",{children:W.map(ye=>m.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[m.jsx("td",{className:"px-6 py-4 font-bold text-stone-800",children:ye.name||"Sin nombre"}),m.jsx("td",{className:"px-6 py-4 font-mono text-stone-600",children:ye.phone}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:ye.visits})}),m.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(ye.last_visit).toLocaleDateString()}),m.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[m.jsxs("button",{onClick:()=>as(ye),className:"text-purple-600 hover:text-purple-800 font-medium text-xs px-2 py-1 bg-purple-50 rounded inline-flex items-center gap-1",children:[m.jsx(uO,{size:12})," Historial"]}),m.jsx("button",{onClick:()=>Z(ye),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),m.jsx("button",{onClick:()=>Ys(ye.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},ye.id))})]})})]}),H&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),m.jsxs("form",{onSubmit:ma,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Nombre"}),m.jsx("input",{type:"text",value:H.name||"",onChange:ye=>Z({...H,name:ye.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-200 border border-stone-300 text-stone-600 px-3 py-2 rounded-lg font-bold",children:"+569"}),m.jsx("input",{type:"tel",value:H.phone.replace("+569",""),onChange:ye=>{const Qe=ye.target.value.replace(/[^0-9]/g,"");Qe.length<=8&&Z({...H,phone:"+569"+Qe})},maxLength:8,className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-blue-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),m.jsx("input",{type:"number",value:H.visits,onChange:ye=>Z({...H,visits:parseInt(ye.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),m.jsxs("div",{className:"flex gap-2 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>Z(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),m.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),Ae&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold",children:"Historial de Servicios"}),m.jsxs("p",{className:"text-sm text-stone-500",children:[Ae.name||"Cliente"," - ",Ae.phone]})]}),m.jsx("button",{onClick:()=>{Ce(null),ie([])},className:"p-2 hover:bg-stone-100 rounded-full",children:m.jsx(Ai,{size:20})})]}),te?m.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):se.length===0?m.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:m.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):m.jsx("div",{className:"overflow-y-auto flex-1",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3",children:"Fecha"}),m.jsx("th",{className:"px-4 py-3",children:"Descripcin"}),m.jsx("th",{className:"px-4 py-3",children:"Tipo"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),m.jsx("th",{className:"px-4 py-3 text-right",children:"Accin"})]})}),m.jsx("tbody",{children:se.map(ye=>m.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[m.jsx("td",{className:"px-4 py-3 text-stone-500 text-xs",children:new Date(ye.created_at).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),m.jsx("td",{className:"px-4 py-3 font-medium",children:ye.description||"Sin descripcin"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ye.type==="service"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:ye.type==="service"?"Servicio":"Producto"})}),m.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",ye.amount.toLocaleString()]}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsx("button",{onClick:()=>Dn(ye.id),className:"text-red-500 hover:text-red-700 p-1",title:"Eliminar transaccin",children:m.jsx(Ed,{size:14})})})]},ye.id))}),m.jsx("tfoot",{className:"bg-stone-100 font-bold",children:m.jsxs("tr",{children:[m.jsx("td",{colSpan:3,className:"px-4 py-3",children:"Total General"}),m.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["$",se.reduce((ye,Qe)=>ye+Qe.amount,0).toLocaleString()]}),m.jsx("td",{})]})})]})}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-200 flex gap-2",children:[m.jsxs("button",{onClick:()=>Gn(Ae),className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold flex items-center justify-center gap-2",children:[m.jsx(YE,{size:16})," Registrar Nueva Venta"]}),m.jsx("button",{onClick:()=>{Ce(null),ie([])},className:"px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cerrar"})]})]})}),Q&&m.jsx(F9,{visit:Q,onClose:()=>le(null),onSuccess:_t}),ge&&m.jsx(Ore,{onClose:()=>we(!1)})]})},Pre=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(""),i=(c,f)=>{t(c),f&&n(f)},a=async()=>{await $e.auth.signOut(),t(null),n("")};if(!e)return m.jsx(c9,{onLogin:i});if(e==="management")return m.jsx(Ire,{onLogout:a});if(e==="inventory"){const c=ur.lazy(()=>l9(()=>import("./InventoryDashboard-02a7jxQE.js"),[]));return m.jsx(ur.Suspense,{fallback:m.jsx("div",{className:"p-10 text-white",children:"Cargando..."}),children:m.jsx(c,{onLogout:a})})}return m.jsx(B9,{onLogout:a})},jre=()=>{const[e,t]=_.useState("Todos"),[r,n]=_.useState(null),i=["Todos","Cortes","Color","Peinados"],a=e==="Todos"?QE:QE.filter(c=>c.category===e);return m.jsxs("div",{className:"animate-in fade-in duration-700",children:[m.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>m.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),m.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:a.map((c,f)=>m.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[m.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:m.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[m.jsx(y5,{className:"mx-auto mb-2 opacity-80"}),m.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[m.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:m.jsx(Ai,{size:32})}),m.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},kre=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${Tc}?text=${r}`,"_blank")};return m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 min-h-[60vh]",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("span",{className:"text-sm font-bold tracking-widest text-rose-400 uppercase",children:"Detalles con Amor"}),m.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),m.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),m.jsx("div",{className:"space-y-8",children:N5.map(t=>m.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-stone-100",children:[t.image&&m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.image,alt:t.name,className:"w-full h-96 object-contain bg-neutral-50"}),m.jsxs("div",{className:"absolute top-4 right-4 bg-rose-600 text-white px-4 py-2 rounded-full font-bold shadow-lg",children:["$",t.price.toLocaleString("es-CL")]})]}),m.jsxs("div",{className:"p-6 md:p-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Io,{size:20,className:"text-amber-500"}),m.jsx("h3",{className:"serif text-2xl md:text-3xl text-stone-900",children:t.name})]}),!t.image&&m.jsx("div",{className:"text-3xl font-light text-stone-800 mb-4 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),t.description&&m.jsxs("p",{className:"text-stone-600 mb-6 italic leading-relaxed",children:['"',t.description,'"']}),m.jsxs("div",{className:"bg-rose-50 rounded-xl p-4 mb-6",children:[m.jsx("p",{className:"text-xs uppercase tracking-wider text-rose-400 font-bold mb-3",children:"Incluye:"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.includes.map((r,n)=>m.jsxs("div",{className:"flex items-start text-stone-700",children:[m.jsx(i5,{size:14,className:"text-rose-400 mt-1 mr-2 flex-shrink-0 fill-current"}),m.jsx("span",{className:"text-sm",children:r})]},n))})]}),t.note&&m.jsxs("p",{className:"text-center text-sm text-amber-600 bg-amber-50 py-2 px-4 rounded-lg mb-4",children:[" ",t.note]}),m.jsxs("button",{onClick:()=>e(t.name),className:"w-full bg-gradient-to-r from-rose-500 to-rose-600 text-white py-4 rounded-xl font-bold uppercase tracking-wider flex items-center justify-center gap-2 hover:from-rose-600 hover:to-rose-700 transition shadow-lg shadow-rose-200",children:[m.jsx(Op,{size:20}),"Reservar por WhatsApp"]})]})]},t.id))})]})},Tre=Ei.filter(e=>!e.homeServiceOnly),Rre=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(""),[c,f]=_.useState(""),[h,p]=_.useState(!1),[v,b]=_.useState(!1),[S,C]=_.useState("search"),[O,I]=_.useState(null),[P,D]=_.useState(""),[M,R]=_.useState(null),[B,W]=_.useState(null),[$,H]=_.useState(""),Z=()=>new Date().toISOString().split("T")[0],K=()=>{const J=new Date;return J.getHours()*60+J.getMinutes()},pe=async J=>{const oe=Z(),ue=K(),{data:ve}=await $e.from("bookings").select("time, duration_minutes").eq("date",oe),Q=(ve||[]).map(Ge=>{const[X,_e]=Ge.time.split(":").map(Number),ze=X*60+(_e||0);return{start:ze,end:ze+(Ge.duration_minutes||60)}}),le=600,Ue=1260;let Be=Math.max(le,Math.ceil(ue/60)*60);for(;Be+J<=Ue;){const Ge=Be+J;if(!Q.some(_e=>Be<_e.end&&Ge>_e.start)){const _e=Math.floor(Be/60),ze=Be%60;return`${_e}:${ze.toString().padStart(2,"0")}`}Be+=30}throw new Error("No hay horarios disponibles hoy. Intenta reservar para otro da.")},se=async J=>{J.preventDefault(),b(!0),D("");try{const oe=e.replace(/\D/g,"");if(oe.length<8)throw new Error("Ingresa un nmero vlido (8 dgitos)");const ue="+569"+oe,{data:ve,error:Q}=await $e.from("clients").select("*").eq("phone",ue).single();if(Q&&Q.code!=="PGRST116")throw Q;ve?(I(ve),await ie(ve,ue)):C("register")}catch(oe){D(oe.message||"Error al buscar cliente")}finally{b(!1)}},ie=async(J,oe)=>{const ue=Z(),{data:ve}=await $e.from("bookings").select("*").eq("phone",oe).eq("date",ue).order("time",{ascending:!0});ve&&ve.length>0?(R(ve[0]),await te(J.id),C("has-booking")):C("select-service")},Ae=async J=>{J.preventDefault(),b(!0),D("");try{const ue="+569"+e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");if(!h)throw new Error("Debes aceptar los trminos de uso");const{data:ve,error:Q}=await $e.from("clients").insert([{name:r,phone:ue,visits:0,email:i||null,birth_date:c||null}]).select().single();if(Q)throw Q;I(ve),C("select-service")}catch(oe){D(oe.message||"Error al registrar")}finally{b(!1)}},Ce=async J=>{W(J),b(!0),D(""),C("confirming");try{if(!O)throw new Error("Cliente no encontrado");const oe=await pe(J.durationMin);H(oe);const ue=Z(),{error:ve}=await $e.from("bookings").insert([{name:O.name,phone:O.phone,email:O.email||"walkin@tus3b.cl",date:ue,time:oe,duration_minutes:J.durationMin,service_name:J.name,is_home_service:!1,created_at:new Date().toISOString()}]);if(ve)throw ve;await te(O.id),C("success")}catch(oe){D(oe.message||"Error al crear la reserva"),C("select-service")}finally{b(!1)}},te=async J=>{const{error:oe}=await $e.from("visit_registrations").insert([{client_id:J}]);if(oe&&console.error("Error logging visit:",oe),O){const ue=(O.visits||0)+1,{data:ve,error:Q}=await $e.from("clients").update({visits:ue,last_visit:new Date().toISOString()}).eq("id",J).select().single();Q?console.error("Error updating loyalty points:",Q):ve&&I(ve)}},Re=J=>{const[oe,ue]=J.split(":"),ve=parseInt(oe),Q=ve>=12?"PM":"AM";return`${ve>12?ve-12:ve===0?12:ve}:${ue||"00"} ${Q}`};return S==="has-booking"&&O&&M?m.jsxs("div",{className:"min-h-screen bg-stone-950 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-stone-900 to-stone-950 z-0"}),m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-96 h-96 bg-green-500/10 rounded-full blur-[100px]"}),m.jsxs("div",{className:"relative z-10 max-w-md w-full animate-fade-in-up",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-500/20 text-green-400 mb-4 shadow-[0_0_30px_rgba(74,222,128,0.3)]",children:m.jsx(QR,{size:40,strokeWidth:2.5})}),m.jsx("h2",{className:"text-3xl font-serif text-white mb-2",children:"Cita Confirmada!"}),m.jsxs("p",{className:"text-stone-400",children:["Bienvenida, ",m.jsx("span",{className:"text-amber-400 font-bold",children:O.name})]})]}),m.jsxs("div",{className:"bg-stone-900/60 backdrop-blur-xl border border-stone-800 rounded-3xl p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-500/20 flex items-center justify-center",children:m.jsx(Os,{className:"w-6 h-6 text-amber-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-bold text-lg",children:M.service_name||"Servicio reservado"}),m.jsx("p",{className:"text-stone-400 text-sm",children:"Tu reserva de hoy"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 bg-stone-950/50 rounded-xl p-3 text-center",children:[m.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wider mb-1",children:"Hora"}),m.jsx("p",{className:"text-white font-bold text-lg",children:Re(M.time)})]}),m.jsxs("div",{className:"flex-1 bg-stone-950/50 rounded-xl p-3 text-center",children:[m.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wider mb-1",children:"Duracin"}),m.jsxs("p",{className:"text-white font-bold text-lg",children:[M.duration_minutes||60," min"]})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx(wv,{clientName:O.name,token:O.id,visits:O.visits||0,nextReward:5-(O.visits||0)%5,tier:O.tier||"Bronce"}),m.jsx("div",{className:"mt-6 max-w-sm mx-auto",children:m.jsx(Ev,{})})]}),m.jsx("div",{className:"text-center",children:m.jsx(ai,{to:"/",className:"inline-block text-sm text-stone-500 hover:text-white transition-colors border-b border-transparent hover:border-stone-500",children:"Volver al Inicio"})})]})]}):S==="success"&&O&&B?m.jsxs("div",{className:"min-h-screen bg-stone-950 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-stone-900 to-stone-950 z-0"}),m.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-96 h-96 bg-amber-500/10 rounded-full blur-[100px]"}),m.jsxs("div",{className:"relative z-10 max-w-md w-full animate-fade-in-up",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-500/20 text-green-400 mb-4 shadow-[0_0_30px_rgba(74,222,128,0.3)]",children:m.jsx(Np,{size:40,strokeWidth:2.5})}),m.jsx("h2",{className:"text-3xl font-serif text-white mb-2",children:"Llegada Confirmada!"}),m.jsxs("p",{className:"text-stone-400",children:["Bienvenida, ",m.jsx("span",{className:"text-amber-400 font-bold",children:O.name}),". Tu hora ha sido agendada."]})]}),m.jsxs("div",{className:"bg-stone-900/60 backdrop-blur-xl border border-stone-800 rounded-3xl p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-500/20 flex items-center justify-center",children:m.jsx(Os,{className:"w-6 h-6 text-amber-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-white font-bold text-lg",children:B.name}),m.jsx("p",{className:"text-stone-400 text-sm",children:"Agendado automticamente"})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1 bg-stone-950/50 rounded-xl p-3 text-center",children:[m.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wider mb-1",children:"Hora"}),m.jsx("p",{className:"text-white font-bold text-lg",children:Re($)})]}),m.jsxs("div",{className:"flex-1 bg-stone-950/50 rounded-xl p-3 text-center",children:[m.jsx("p",{className:"text-xs text-stone-500 uppercase tracking-wider mb-1",children:"Duracin"}),m.jsxs("p",{className:"text-white font-bold text-lg",children:[B.durationMin," min"]})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx(wv,{clientName:O.name,token:O.id,visits:O.visits||0,nextReward:5-(O.visits||0)%5,tier:O.tier||"Bronce"}),m.jsx("div",{className:"mt-6 max-w-sm mx-auto",children:m.jsx(Ev,{})})]}),m.jsx("div",{className:"text-center",children:m.jsx(ai,{to:"/",className:"inline-block text-sm text-stone-500 hover:text-white transition-colors border-b border-transparent hover:border-stone-500",children:"Volver al Inicio"})})]})]}):S==="confirming"?m.jsxs("div",{className:"min-h-screen bg-stone-950 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-stone-900 to-stone-950 z-0"}),m.jsxs("div",{className:"relative z-10 text-center",children:[m.jsx("div",{className:"w-16 h-16 border-4 border-amber-500/30 border-t-amber-500 rounded-full animate-spin mx-auto mb-6"}),m.jsx("p",{className:"text-white text-xl font-serif",children:"Agendando tu hora..."}),m.jsx("p",{className:"text-stone-500 text-sm mt-2",children:"Buscando el mejor horario disponible"})]})]}):S==="select-service"&&O?m.jsxs("div",{className:"min-h-screen bg-stone-950 p-6 flex flex-col items-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-80 h-80 bg-amber-600/10 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),m.jsxs("div",{className:"w-full max-w-md relative z-10 pt-8",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-stone-800 to-stone-900 border border-stone-700 shadow-xl mb-4",children:m.jsx(Os,{className:"w-7 h-7 text-amber-400"})}),m.jsx("h2",{className:"text-2xl font-serif text-white mb-2",children:"Qu servicio te realizars?"}),m.jsxs("p",{className:"text-stone-400 text-sm",children:["Hola ",m.jsx("span",{className:"text-amber-400 font-bold",children:O.name}),", selecciona tu servicio para agendar tu hora."]})]}),P&&m.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-xl text-red-200 text-sm text-center flex items-center justify-center gap-2",children:[m.jsx("span",{className:"block w-2 h-2 rounded-full bg-red-500"}),P]}),m.jsx("div",{className:"space-y-3",children:Tre.map(J=>m.jsxs("button",{onClick:()=>Ce(J),disabled:v,className:"w-full bg-stone-900/60 backdrop-blur-sm border border-stone-800 rounded-2xl p-5 flex items-center gap-4 hover:border-amber-500/50 hover:bg-stone-900/80 transition-all group active:scale-[0.98] disabled:opacity-50",children:[m.jsx("div",{className:"w-11 h-11 rounded-xl bg-stone-800 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors shrink-0",children:m.jsx(Os,{className:"w-5 h-5 text-stone-400 group-hover:text-amber-400 transition-colors"})}),m.jsxs("div",{className:"flex-1 text-left",children:[m.jsx("p",{className:"text-white font-bold",children:J.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx(My,{className:"w-3 h-3 text-stone-500"}),m.jsxs("span",{className:"text-stone-500 text-xs",children:[J.durationMin," min aprox."]})]})]}),m.jsx(lO,{className:"w-5 h-5 text-stone-600 group-hover:text-amber-400 transition-colors"})]},J.id))}),m.jsx("p",{className:"text-center text-stone-600 text-xs mt-8",children:"Tus3B Style  Check-In  v3.0"})]})]}):m.jsxs("div",{className:"min-h-screen bg-stone-950 p-6 flex flex-col items-center justify-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-80 h-80 bg-amber-600/10 rounded-full blur-[100px] -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-purple-600/10 rounded-full blur-[100px] translate-x-1/3 translate-y-1/3 pointer-events-none"}),m.jsxs("div",{className:"w-full max-w-md relative z-10",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-stone-800 to-stone-900 border border-stone-700 shadow-xl mb-6",children:m.jsx(Ip,{className:"w-8 h-8 text-amber-400"})}),m.jsx("h1",{className:"text-4xl font-serif text-white mb-3",children:"Check-in"}),m.jsx("p",{className:"text-stone-400 text-lg",children:"Tu experiencia comienza aqu."})]}),m.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-xl border border-stone-800 rounded-3xl p-8 shadow-2xl",children:[P&&m.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-xl text-red-200 text-sm text-center flex items-center justify-center gap-2",children:[m.jsx("span",{className:"block w-2 h-2 rounded-full bg-red-500"}),P]}),S==="search"?m.jsxs("form",{onSubmit:se,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-widest ml-1",children:"Nmero de Telfono"}),m.jsxs("div",{className:"relative group flex items-center gap-2",children:[m.jsx("span",{className:"bg-stone-900 border border-stone-800 text-stone-400 rounded-2xl px-4 py-5 font-mono text-xl",children:"+569"}),m.jsxs("div",{className:"relative w-full",children:[m.jsx("input",{type:"tel",placeholder:"12345678",value:e,onChange:J=>{const oe=J.target.value.replace(/[^0-9]/g,"");oe.length<=8&&t(oe)},className:"w-full bg-stone-950 border border-stone-800 rounded-2xl px-6 py-5 text-white placeholder-stone-700 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all text-2xl tracking-widest text-center shadow-inner font-mono group-hover:border-stone-700",autoFocus:!0,maxLength:8}),m.jsx("div",{className:"absolute inset-0 rounded-2xl ring-1 ring-inset ring-transparent group-hover:ring-white/5 pointer-events-none"})]})]})]}),m.jsx("button",{type:"submit",disabled:v||e.length<8,className:"w-full py-5 bg-gradient-to-r from-amber-500 to-amber-700 hover:from-amber-400 hover:to-amber-600 text-stone-950 font-bold text-lg rounded-2xl shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-[1.02] active:scale-[0.98]",children:v?m.jsx("span",{className:"w-6 h-6 border-2 border-stone-950/30 border-t-stone-950 rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Confirmar Llegada"}),m.jsx(Io,{className:"w-5 h-5"})]})})]}):m.jsxs("form",{onSubmit:Ae,className:"space-y-6 animate-fade-in-right",children:[m.jsxs("div",{className:"text-center mb-6 border-b border-stone-800/50 pb-6",children:[m.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:m.jsx(Sd,{className:"w-6 h-6"})}),m.jsx("h3",{className:"text-xl text-white font-medium",children:"Bienvenida!"}),m.jsx("p",{className:"text-sm text-stone-400",children:"Crea tu perfil en segundos para sumar puntos hoy mismo."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-2 ml-1",children:"Tu Nombre"}),m.jsx("input",{type:"text",placeholder:"Ej: Carolina Muoz",value:r,onChange:J=>n(J.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-5 py-4 text-white placeholder-stone-700 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all text-lg",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-2 ml-1",children:"Email (Opcional)"}),m.jsx("input",{type:"email",placeholder:"correo@ejemplo.com",value:i,onChange:J=>a(J.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-5 py-4 text-white placeholder-stone-700 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all text-lg"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-2 ml-1",children:"Fecha de Nacimiento"}),m.jsx("input",{type:"date",value:c,onChange:J=>f(J.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-5 py-4 text-white placeholder-stone-700 focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 outline-none transition-all text-lg"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-2 ml-1",children:"Telfono"}),m.jsx("input",{type:"tel",value:"+569"+e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800/50 rounded-xl px-5 py-4 text-stone-500 font-mono text-lg"})]})]}),m.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[m.jsx("input",{type:"checkbox",id:"terms",checked:h,onChange:J=>p(J.target.checked),className:"w-5 h-5 rounded border-stone-700 bg-stone-900 text-amber-500 focus:ring-amber-500/50"}),m.jsxs("label",{htmlFor:"terms",className:"text-sm text-stone-400 select-none",children:["He ledo y acepto los ",m.jsx("a",{href:"#",className:"text-amber-500 hover:underline",children:"trminos de uso"}),"."]})]})]}),m.jsxs("div",{className:"pt-4 flex gap-4",children:[m.jsx("button",{type:"button",onClick:()=>C("search"),className:"px-6 py-4 rounded-xl text-stone-400 hover:text-white hover:bg-stone-800/50 transition-colors font-medium",children:"Cancelar"}),m.jsx("button",{type:"submit",disabled:v,className:"flex-1 py-4 bg-white text-stone-950 font-bold rounded-xl hover:bg-stone-200 transition-all shadow-lg flex items-center justify-center gap-2 transform hover:scale-[1.02] active:scale-[0.98]",children:v?"Registrando...":"Crear y Entrar"})]})]})]}),m.jsx("p",{className:"text-center text-stone-600 text-xs mt-8",children:"Tus3B Style  Sistema de Lealtad  v3.0"})]})]})},Dre=()=>m.jsxs("div",{className:"fixed inset-0 z-[100] bg-stone-50 flex flex-col items-center justify-center p-8 print:p-0 overflow-auto",children:[m.jsxs("div",{className:"bg-white border-[6px] border-black p-12 pr-16 rounded-[40px] max-w-5xl w-full flex flex-row items-center justify-between gap-12 shadow-2xl print:shadow-none print:border-[6px] print:w-[100%] print:h-[100%] print:rounded-none landscape:flex-row portrait:flex-col",children:[m.jsxs("div",{className:"flex-1 flex flex-col items-start text-left",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"font-serif text-6xl mb-2 font-bold tracking-tighter text-black",children:"Tus3B Style"}),m.jsx("p",{className:"text-xl uppercase tracking-[0.5em] text-stone-500 font-bold",children:"Studio & Beauty"})]}),m.jsxs("p",{className:"text-4xl font-serif mb-10 leading-tight",children:["Registra tu visita y suma puntos en tu ",m.jsx("span",{className:"text-amber-600 font-bold italic",children:"Wallet"})]}),m.jsx("div",{className:"bg-black text-white px-10 py-4 rounded-full text-2xl font-bold mb-10 shadow-lg inline-block",children:"ESCANEA AQU"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-xl shrink-0",children:"1"}),m.jsx("p",{className:"text-2xl text-stone-700 font-medium",children:"Confirma tu llegada."})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-xl shrink-0",children:"2"}),m.jsx("p",{className:"text-2xl text-stone-700 font-medium",children:"Obtn tu tarjeta y beneficios."})]})]})]}),m.jsx("div",{className:"flex-shrink-0",children:m.jsxs("div",{className:"bg-white p-6 rounded-[32px] shadow-2xl border-2 border-stone-100",children:[m.jsx(Rp,{value:"https://tus3b.cl/#/checkin",size:400,level:"H",includeMargin:!0}),m.jsx("p",{className:"mt-4 text-center text-stone-400 font-mono text-base font-bold tracking-widest",children:"tus3b.cl/checkin"})]})})]}),m.jsx("div",{className:"mt-8 print:hidden fixed bottom-8",children:m.jsxs("button",{onClick:()=>window.print(),className:"bg-stone-900 text-white px-8 py-4 rounded-xl font-bold hover:bg-stone-700 transition shadow-lg flex items-center gap-2",children:[m.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("polyline",{points:"6 9 6 2 18 2 18 9"}),m.jsx("path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"}),m.jsx("rect",{x:"6",y:"14",width:"12",height:"8"})]}),"Imprimir Cartel (Horizontal)"]})}),m.jsx("style",{children:`
                @media print {
                    @page {
                        size: landscape;
                        margin: 0;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                }
            `})]}),Mre=()=>m.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),m.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),m.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-6",children:[m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs(ai,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),m.jsxs("div",{className:"p-8 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors shadow-lg",children:m.jsx(Os,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-serif text-3xl italic text-white drop-shadow-md",children:"Style"}),m.jsx("p",{className:"text-xs text-stone-400 uppercase tracking-widest font-semibold",children:"Peluquera & Color"})]})]}),m.jsx(hd,{size:24,className:"text-stone-500 group-hover:text-white transition-colors"})]})]}),m.jsx(ai,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:m.jsxs("div",{className:"p-8 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-900/40 flex items-center justify-center text-amber-500 border border-amber-500/30 group-hover:border-amber-500/60 transition-colors shadow-lg shadow-amber-900/20",children:m.jsx(Nl,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-serif text-3xl text-amber-500 drop-shadow-md",children:"Perfum"}),m.jsx("p",{className:"text-xs text-amber-500/80 uppercase tracking-widest font-semibold",children:"Decants Exclusivos"})]})]}),m.jsx(hd,{size:24,className:"text-amber-800 group-hover:text-amber-500 transition-colors"})]})}),m.jsx(ai,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:m.jsxs("div",{className:"p-8 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-6",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-rose-900/40 flex items-center justify-center text-rose-400 border border-rose-500/30 group-hover:border-rose-500/60 transition-colors shadow-lg shadow-rose-900/20",children:m.jsx(dO,{size:32})}),m.jsxs("div",{children:[m.jsx("h2",{className:"font-serif text-3xl text-rose-400 drop-shadow-md",children:"Amor Amor"}),m.jsx("p",{className:"text-xs text-rose-400/80 uppercase tracking-widest font-semibold",children:"Detalles Especiales"})]})]}),m.jsx(hd,{size:24,className:"text-rose-800 group-hover:text-rose-400 transition-colors"})]})})]}),m.jsx("div",{className:"w-full mt-4",children:m.jsxs(ai,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),m.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:m.jsx(Ip,{size:20})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),m.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),m.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),m.jsx("div",{className:"w-full pt-4",children:m.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),m.jsx("div",{className:"text-center py-6 z-10",children:m.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),Lre=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:m.jsx(r5,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:m.jsx(x5,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:m.jsx(Os,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:m.jsx(Io,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:m.jsx(v5,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],Bre=()=>{const[e,t]=_.useState(null);return m.jsx("section",{className:"py-20 bg-stone-50",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),m.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),m.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Lre.map(r=>m.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&m.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),m.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?m.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[m.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),m.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[m.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),m.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",m.jsx(hd,{size:14})]})]})]}):m.jsxs("div",{children:[m.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),m.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",m.jsx(hd,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),m.jsx("div",{className:"mt-12 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[m.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),m.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',m.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},Fre=()=>{const{pathname:e}=ha();return _.useEffect(()=>{window.scrollTo(0,0)},[e]),null},zre=()=>{const[e,t]=_.useState(null),r=()=>m.jsxs(m.Fragment,{children:[m.jsx(w5,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),m.jsx("section",{className:"py-20 bg-white",children:m.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),m.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Ei.filter(n=>!n.homeServiceOnly).map(n=>m.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"font-bold text-stone-900",children:[n.name,n.fromPrice&&m.jsx("span",{className:"text-amber-600 text-xs ml-1",children:"*"})]}),m.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),m.jsxs("div",{className:"text-right ml-4 shrink-0",children:[m.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:[n.fromPrice&&m.jsx("span",{className:"text-xs font-normal text-stone-500",children:"Desde "}),"$",n.price.toLocaleString("es-CL")]}),m.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min aprox."]})]})]},n.id))}),m.jsxs("p",{className:"text-[11px] text-stone-400 mt-6 text-center leading-relaxed",children:[m.jsx("span",{className:"text-amber-600",children:"*"})," Valor final se entregar luego de la evaluacin presencial sin costo. Factores como largo del cabello y su estado determinarn el precio final."]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx(ai,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),m.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),m.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),m.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),m.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),m.jsx("div",{className:"flex items-center space-x-4 pt-4",children:m.jsx(ai,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),m.jsx(Bre,{}),m.jsx(KM,{}),m.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),m.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),m.jsx(BM,{onSuccess:n=>{t(n)}})]}),m.jsx("div",{className:"bg-white py-4 text-center",children:m.jsxs(ai,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[m.jsx(m5,{size:10})," Admin"]})})]});return m.jsx(BR,{children:m.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[m.jsx(Fre,{}),m.jsx(b5,{}),m.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:m.jsxs(pR,{children:[m.jsx(_a,{path:"/",element:m.jsx(Mre,{})}),m.jsx(_a,{path:"/style",element:m.jsx(r,{})}),m.jsx(_a,{path:"/perfum",element:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),m.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),m.jsx(zM,{})]})}),m.jsx(_a,{path:"/regalos",element:m.jsx(kre,{})}),m.jsx(_a,{path:"/gallery",element:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[m.jsxs("div",{className:"text-center mb-16",children:[m.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),m.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),m.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),m.jsx(jre,{})]})}),m.jsx(_a,{path:"/loyalty",element:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:m.jsx(a9,{})})}),m.jsx(_a,{path:"/admin",element:m.jsx(Pre,{})}),m.jsx(_a,{path:"/checkin",element:m.jsx(Rre,{})}),m.jsx(_a,{path:"/print-qr",element:m.jsx(Dre,{})}),m.jsx(_a,{path:"/confirmation",element:m.jsx(Ure,{})})]})}),m.jsx(UM,{}),m.jsx(qM,{})]})})},Ure=()=>{const t=ha().state;return t?m.jsx(GM,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):m.jsx(fR,{to:"/"})};console.log("Iniciando aplicacin React...");const m8=document.getElementById("root");if(!m8)throw new Error("Could not find root element to mount to");try{g6.createRoot(m8).render(m.jsx(ur.StrictMode,{children:m.jsx(zre,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}export{Np as C,M9 as H,XE as P,wd as S,Ai as X,st as c,m as j,_ as r,$e as s};
