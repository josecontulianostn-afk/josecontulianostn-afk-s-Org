function Jy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Im={exports:{}},Pu={},Tm={exports:{}},yt={};var lE;function AR(){if(lE)return yt;lE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(Z){return Z===null||typeof Z!="object"?null:(Z=w&&Z[w]||Z["@@iterator"],typeof Z=="function"?Z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function k(Z,le,De){this.props=Z,this.context=le,this.refs=I,this.updater=De||C}k.prototype.isReactComponent={},k.prototype.setState=function(Z,le){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,le,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function D(){}D.prototype=k.prototype;function L(Z,le,De){this.props=Z,this.context=le,this.refs=I,this.updater=De||C}var j=L.prototype=new D;j.constructor=L,O(j,k.prototype),j.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,H={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function re(Z,le,De){var Be,Ye={},Te=null,rt=null;if(le!=null)for(Be in le.ref!==void 0&&(rt=le.ref),le.key!==void 0&&(Te=""+le.key),le)W.call(le,Be)&&!V.hasOwnProperty(Be)&&(Ye[Be]=le[Be]);var ve=arguments.length-2;if(ve===1)Ye.children=De;else if(1<ve){for(var ae=Array(ve),ke=0;ke<ve;ke++)ae[ke]=arguments[ke+2];Ye.children=ae}if(Z&&Z.defaultProps)for(Be in ve=Z.defaultProps,ve)Ye[Be]===void 0&&(Ye[Be]=ve[Be]);return{$$typeof:e,type:Z,key:Te,ref:rt,props:Ye,_owner:H.current}}function Y(Z,le){return{$$typeof:e,type:Z.type,key:le,ref:Z.ref,props:Z.props,_owner:Z._owner}}function _e(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function ge(Z){var le={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(De){return le[De]})}var de=/\/+/g;function Ae(Z,le){return typeof Z=="object"&&Z!==null&&Z.key!=null?ge(""+Z.key):le.toString(36)}function ye(Z,le,De,Be,Ye){var Te=typeof Z;(Te==="undefined"||Te==="boolean")&&(Z=null);var rt=!1;if(Z===null)rt=!0;else switch(Te){case"string":case"number":rt=!0;break;case"object":switch(Z.$$typeof){case e:case t:rt=!0}}if(rt)return rt=Z,Ye=Ye(rt),Z=Be===""?"."+Ae(rt,0):Be,z(Ye)?(De="",Z!=null&&(De=Z.replace(de,"$&/")+"/"),ye(Ye,le,De,"",function(ke){return ke})):Ye!=null&&(_e(Ye)&&(Ye=Y(Ye,De+(!Ye.key||rt&&rt.key===Ye.key?"":(""+Ye.key).replace(de,"$&/")+"/")+Z)),le.push(Ye)),1;if(rt=0,Be=Be===""?".":Be+":",z(Z))for(var ve=0;ve<Z.length;ve++){Te=Z[ve];var ae=Be+Ae(Te,ve);rt+=ye(Te,le,De,ae,Ye)}else if(ae=E(Z),typeof ae=="function")for(Z=ae.call(Z),ve=0;!(Te=Z.next()).done;)Te=Te.value,ae=Be+Ae(Te,ve++),rt+=ye(Te,le,De,ae,Ye);else if(Te==="object")throw le=String(Z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return rt}function J(Z,le,De){if(Z==null)return Z;var Be=[],Ye=0;return ye(Z,Be,"","",function(Te){return le.call(De,Te,Ye++)}),Be}function Me(Z){if(Z._status===-1){var le=Z._result;le=le(),le.then(function(De){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=De)},function(De){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=De)}),Z._status===-1&&(Z._status=0,Z._result=le)}if(Z._status===1)return Z._result.default;throw Z._result}var ie={current:null},fe={transition:null},we={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:fe,ReactCurrentOwner:H};function be(){throw Error("act(...) is not supported in production builds of React.")}return yt.Children={map:J,forEach:function(Z,le,De){J(Z,function(){le.apply(this,arguments)},De)},count:function(Z){var le=0;return J(Z,function(){le++}),le},toArray:function(Z){return J(Z,function(le){return le})||[]},only:function(Z){if(!_e(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},yt.Component=k,yt.Fragment=r,yt.Profiler=i,yt.PureComponent=L,yt.StrictMode=n,yt.Suspense=h,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,yt.act=be,yt.cloneElement=function(Z,le,De){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Be=O({},Z.props),Ye=Z.key,Te=Z.ref,rt=Z._owner;if(le!=null){if(le.ref!==void 0&&(Te=le.ref,rt=H.current),le.key!==void 0&&(Ye=""+le.key),Z.type&&Z.type.defaultProps)var ve=Z.type.defaultProps;for(ae in le)W.call(le,ae)&&!V.hasOwnProperty(ae)&&(Be[ae]=le[ae]===void 0&&ve!==void 0?ve[ae]:le[ae])}var ae=arguments.length-2;if(ae===1)Be.children=De;else if(1<ae){ve=Array(ae);for(var ke=0;ke<ae;ke++)ve[ke]=arguments[ke+2];Be.children=ve}return{$$typeof:e,type:Z.type,key:Ye,ref:Te,props:Be,_owner:rt}},yt.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:a,_context:Z},Z.Consumer=Z},yt.createElement=re,yt.createFactory=function(Z){var le=re.bind(null,Z);return le.type=Z,le},yt.createRef=function(){return{current:null}},yt.forwardRef=function(Z){return{$$typeof:f,render:Z}},yt.isValidElement=_e,yt.lazy=function(Z){return{$$typeof:v,_payload:{_status:-1,_result:Z},_init:Me}},yt.memo=function(Z,le){return{$$typeof:m,type:Z,compare:le===void 0?null:le}},yt.startTransition=function(Z){var le=fe.transition;fe.transition={};try{Z()}finally{fe.transition=le}},yt.unstable_act=be,yt.useCallback=function(Z,le){return ie.current.useCallback(Z,le)},yt.useContext=function(Z){return ie.current.useContext(Z)},yt.useDebugValue=function(){},yt.useDeferredValue=function(Z){return ie.current.useDeferredValue(Z)},yt.useEffect=function(Z,le){return ie.current.useEffect(Z,le)},yt.useId=function(){return ie.current.useId()},yt.useImperativeHandle=function(Z,le,De){return ie.current.useImperativeHandle(Z,le,De)},yt.useInsertionEffect=function(Z,le){return ie.current.useInsertionEffect(Z,le)},yt.useLayoutEffect=function(Z,le){return ie.current.useLayoutEffect(Z,le)},yt.useMemo=function(Z,le){return ie.current.useMemo(Z,le)},yt.useReducer=function(Z,le,De){return ie.current.useReducer(Z,le,De)},yt.useRef=function(Z){return ie.current.useRef(Z)},yt.useState=function(Z){return ie.current.useState(Z)},yt.useSyncExternalStore=function(Z,le,De){return ie.current.useSyncExternalStore(Z,le,De)},yt.useTransition=function(){return ie.current.useTransition()},yt.version="18.3.1",yt}var cE;function Oc(){return cE||(cE=1,Tm.exports=AR()),Tm.exports}var uE;function SR(){if(uE)return Pu;uE=1;var e=Oc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,h,m){var v,w={},E=null,C=null;m!==void 0&&(E=""+m),h.key!==void 0&&(E=""+h.key),h.ref!==void 0&&(C=h.ref);for(v in h)n.call(h,v)&&!a.hasOwnProperty(v)&&(w[v]=h[v]);if(f&&f.defaultProps)for(v in h=f.defaultProps,h)w[v]===void 0&&(w[v]=h[v]);return{$$typeof:t,type:f,key:E,ref:C,props:w,_owner:i.current}}return Pu.Fragment=r,Pu.jsx=c,Pu.jsxs=c,Pu}var dE;function CR(){return dE||(dE=1,Im.exports=SR()),Im.exports}var A=CR(),N=Oc();const cr=Xi(N),OR=Jy({__proto__:null,default:cr},[N]);var nh={},Nm={exports:{}},Jn={},Pm={exports:{}},km={};var fE;function IR(){return fE||(fE=1,(function(e){function t(fe,we){var be=fe.length;fe.push(we);e:for(;0<be;){var Z=be-1>>>1,le=fe[Z];if(0<i(le,we))fe[Z]=we,fe[be]=le,be=Z;else break e}}function r(fe){return fe.length===0?null:fe[0]}function n(fe){if(fe.length===0)return null;var we=fe[0],be=fe.pop();if(be!==we){fe[0]=be;e:for(var Z=0,le=fe.length,De=le>>>1;Z<De;){var Be=2*(Z+1)-1,Ye=fe[Be],Te=Be+1,rt=fe[Te];if(0>i(Ye,be))Te<le&&0>i(rt,Ye)?(fe[Z]=rt,fe[Te]=be,Z=Te):(fe[Z]=Ye,fe[Be]=be,Z=Be);else if(Te<le&&0>i(rt,be))fe[Z]=rt,fe[Te]=be,Z=Te;else break e}}return we}function i(fe,we){var be=fe.sortIndex-we.sortIndex;return be!==0?be:fe.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],v=1,w=null,E=3,C=!1,O=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(fe){for(var we=r(m);we!==null;){if(we.callback===null)n(m);else if(we.startTime<=fe)n(m),we.sortIndex=we.expirationTime,t(h,we);else break;we=r(m)}}function z(fe){if(I=!1,j(fe),!O)if(r(h)!==null)O=!0,Me(W);else{var we=r(m);we!==null&&ie(z,we.startTime-fe)}}function W(fe,we){O=!1,I&&(I=!1,D(re),re=-1),C=!0;var be=E;try{for(j(we),w=r(h);w!==null&&(!(w.expirationTime>we)||fe&&!ge());){var Z=w.callback;if(typeof Z=="function"){w.callback=null,E=w.priorityLevel;var le=Z(w.expirationTime<=we);we=e.unstable_now(),typeof le=="function"?w.callback=le:w===r(h)&&n(h),j(we)}else n(h);w=r(h)}if(w!==null)var De=!0;else{var Be=r(m);Be!==null&&ie(z,Be.startTime-we),De=!1}return De}finally{w=null,E=be,C=!1}}var H=!1,V=null,re=-1,Y=5,_e=-1;function ge(){return!(e.unstable_now()-_e<Y)}function de(){if(V!==null){var fe=e.unstable_now();_e=fe;var we=!0;try{we=V(!0,fe)}finally{we?Ae():(H=!1,V=null)}}else H=!1}var Ae;if(typeof L=="function")Ae=function(){L(de)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,J=ye.port2;ye.port1.onmessage=de,Ae=function(){J.postMessage(null)}}else Ae=function(){k(de,0)};function Me(fe){V=fe,H||(H=!0,Ae())}function ie(fe,we){re=k(function(){fe(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){O||C||(O=!0,Me(W))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function(fe){switch(E){case 1:case 2:case 3:var we=3;break;default:we=E}var be=E;E=we;try{return fe()}finally{E=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,we){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var be=E;E=fe;try{return we()}finally{E=be}},e.unstable_scheduleCallback=function(fe,we,be){var Z=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Z+be:Z):be=Z,fe){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=be+le,fe={id:v++,callback:we,priorityLevel:fe,startTime:be,expirationTime:le,sortIndex:-1},be>Z?(fe.sortIndex=be,t(m,fe),r(h)===null&&fe===r(m)&&(I?(D(re),re=-1):I=!0,ie(z,be-Z))):(fe.sortIndex=le,t(h,fe),O||C||(O=!0,Me(W))),fe},e.unstable_shouldYield=ge,e.unstable_wrapCallback=function(fe){var we=E;return function(){var be=E;E=we;try{return fe.apply(this,arguments)}finally{E=be}}}})(km)),km}var hE;function TR(){return hE||(hE=1,Pm.exports=IR()),Pm.exports}var pE;function NR(){if(pE)return Jn;pE=1;var e=Oc(),t=TR();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(o){return h.call(w,o)?!0:h.call(v,o)?!1:m.test(o)?w[o]=!0:(v[o]=!0,!1)}function C(o,d,x,_){if(x!==null&&x.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return _?!1:x!==null?!x.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function O(o,d,x,_){if(d===null||typeof d>"u"||C(o,d,x,_))return!0;if(_)return!1;if(x!==null)switch(x.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function I(o,d,x,_,P,R,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=_,this.attributeNamespace=P,this.mustUseProperty=x,this.propertyName=o,this.type=d,this.sanitizeURL=R,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new I(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(D,L);k[d]=new I(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(D,L);k[d]=new I(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(D,L);k[d]=new I(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,d,x,_){var P=k.hasOwnProperty(d)?k[d]:null;(P!==null?P.type!==0:_||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(O(d,x,P,_)&&(x=null),_||P===null?E(d)&&(x===null?o.removeAttribute(d):o.setAttribute(d,""+x)):P.mustUseProperty?o[P.propertyName]=x===null?P.type===3?!1:"":x:(d=P.attributeName,_=P.attributeNamespace,x===null?o.removeAttribute(d):(P=P.type,x=P===3||P===4&&x===!0?"":""+x,_?o.setAttributeNS(_,d,x):o.setAttribute(d,x))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),H=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),ge=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),fe=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=fe&&o[fe]||o["@@iterator"],typeof o=="function"?o:null)}var be=Object.assign,Z;function le(o){if(Z===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);Z=d&&d[1]||""}return`
`+Z+o}var De=!1;function Be(o,d){if(!o||De)return"";De=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(me){var _=me}Reflect.construct(o,[],d)}else{try{d.call()}catch(me){_=me}o.call(d.prototype)}else{try{throw Error()}catch(me){_=me}o()}}catch(me){if(me&&_&&typeof me.stack=="string"){for(var P=me.stack.split(`
`),R=_.stack.split(`
`),U=P.length-1,K=R.length-1;1<=U&&0<=K&&P[U]!==R[K];)K--;for(;1<=U&&0<=K;U--,K--)if(P[U]!==R[K]){if(U!==1||K!==1)do if(U--,K--,0>K||P[U]!==R[K]){var Q=`
`+P[U].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=U&&0<=K);break}}}finally{De=!1,Error.prepareStackTrace=x}return(o=o?o.displayName||o.name:"")?le(o):""}function Ye(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=Be(o.type,!1),o;case 11:return o=Be(o.type.render,!1),o;case 1:return o=Be(o.type,!0),o;default:return""}}function Te(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case V:return"Fragment";case H:return"Portal";case Y:return"Profiler";case re:return"StrictMode";case Ae:return"Suspense";case ye:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ge:return(o.displayName||"Context")+".Consumer";case _e:return(o._context.displayName||"Context")+".Provider";case de:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case J:return d=o.displayName||null,d!==null?d:Te(o.type)||"Memo";case Me:d=o._payload,o=o._init;try{return Te(o(d))}catch{}}return null}function rt(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(d);case 8:return d===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ae(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ke(o){var d=ae(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),_=""+o[d];if(!o.hasOwnProperty(d)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var P=x.get,R=x.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(U){_=""+U,R.call(this,U)}}),Object.defineProperty(o,d,{enumerable:x.enumerable}),{getValue:function(){return _},setValue:function(U){_=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Oe(o){o._valueTracker||(o._valueTracker=ke(o))}function xe(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var x=d.getValue(),_="";return o&&(_=ae(o)?o.checked?"true":"false":o.value),o=_,o!==x?(d.setValue(o),!0):!1}function Fe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ot(o,d){var x=d.checked;return be({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??o._wrapperState.initialChecked})}function St(o,d){var x=d.defaultValue==null?"":d.defaultValue,_=d.checked!=null?d.checked:d.defaultChecked;x=ve(d.value!=null?d.value:x),o._wrapperState={initialChecked:_,initialValue:x,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function wr(o,d){d=d.checked,d!=null&&j(o,"checked",d,!1)}function Bt(o,d){wr(o,d);var x=ve(d.value),_=d.type;if(x!=null)_==="number"?(x===0&&o.value===""||o.value!=x)&&(o.value=""+x):o.value!==""+x&&(o.value=""+x);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?xt(o,d.type,x):d.hasOwnProperty("defaultValue")&&xt(o,d.type,ve(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function It(o,d,x){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var _=d.type;if(!(_!=="submit"&&_!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,x||d===o.value||(o.value=d),o.defaultValue=d}x=o.name,x!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,x!==""&&(o.name=x)}function xt(o,d,x){(d!=="number"||Fe(o.ownerDocument)!==o)&&(x==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+x&&(o.defaultValue=""+x))}var va=Array.isArray;function $e(o,d,x,_){if(o=o.options,d){d={};for(var P=0;P<x.length;P++)d["$"+x[P]]=!0;for(x=0;x<o.length;x++)P=d.hasOwnProperty("$"+o[x].value),o[x].selected!==P&&(o[x].selected=P),P&&_&&(o[x].defaultSelected=!0)}else{for(x=""+ve(x),d=null,P=0;P<o.length;P++){if(o[P].value===x){o[P].selected=!0,_&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function Es(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Hc(o,d){var x=d.value;if(x==null){if(x=d.children,d=d.defaultValue,x!=null){if(d!=null)throw Error(r(92));if(va(x)){if(1<x.length)throw Error(r(93));x=x[0]}d=x}d==null&&(d=""),x=d}o._wrapperState={initialValue:ve(x)}}function Ni(o,d){var x=ve(d.value),_=ve(d.defaultValue);x!=null&&(x=""+x,x!==o.value&&(o.value=x),d.defaultValue==null&&o.defaultValue!==x&&(o.defaultValue=x)),_!=null&&(o.defaultValue=""+_)}function bl(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Hn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Hn(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var oi,nn=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,x,_,P){MSApp.execUnsafeLocalFunction(function(){return o(d,x,_,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=oi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function _s(o,d){if(d){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=d;return}}o.textContent=d}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o1=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(o){o1.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),ya[d]=ya[o]})});function pr(o,d,x){return d==null||typeof d=="boolean"||d===""?"":x||typeof d!="number"||d===0||ya.hasOwnProperty(o)&&ya[o]?(""+d).trim():d+"px"}function Le(o,d){o=o.style;for(var x in d)if(d.hasOwnProperty(x)){var _=x.indexOf("--")===0,P=pr(x,d[x],_);x==="float"&&(x="cssFloat"),_?o.setProperty(x,P):o[x]=P}}var Ir=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(o,d){if(d){if(Ir[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Kt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=null;function fo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var _l=null,vt=null,Vn=null;function Vc(o){if(o=gu(o)){if(typeof _l!="function")throw Error(r(280));var d=o.stateNode;d&&(d=vf(d),_l(o.stateNode,o.type,d))}}function Gc(o){vt?Vn?Vn.push(o):Vn=[o]:vt=o}function Gn(){if(vt){var o=vt,d=Vn;if(Vn=vt=null,Vc(o),d)for(o=0;o<d.length;o++)Vc(d[o])}}function Al(o,d){return o(d)}function Hr(){}var xa=!1;function ho(o,d,x){if(xa)return o(d,x);xa=!0;try{return Al(o,d,x)}finally{xa=!1,(vt!==null||Vn!==null)&&(Hr(),Gn())}}function Cn(o,d){var x=o.stateNode;if(x===null)return null;var _=vf(x);if(_===null)return null;x=_[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(r(231,d,typeof x));return x}var qc=!1;if(f)try{var li={};Object.defineProperty(li,"passive",{get:function(){qc=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{qc=!1}function Kc(o,d,x,_,P,R,U,K,Q){var me=Array.prototype.slice.call(arguments,3);try{d.apply(x,me)}catch(Ie){this.onError(Ie)}}var Dr=!1,Pi=null,mn=!1,Ue=null,As={onError:function(o){Dr=!0,Pi=o}};function Yc(o,d,x,_,P,R,U,K,Q){Dr=!1,Pi=null,Kc.apply(As,arguments)}function On(o,d,x,_,P,R,U,K,Q){if(Yc.apply(this,arguments),Dr){if(Dr){var me=Pi;Dr=!1,Pi=null}else throw Error(r(198));mn||(mn=!0,Ue=me)}}function qn(o){var d=o,x=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(x=d.return),o=d.return;while(o)}return d.tag===3?x:null}function po(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function mo(o){if(qn(o)!==o)throw Error(r(188))}function ki(o){var d=o.alternate;if(!d){if(d=qn(o),d===null)throw Error(r(188));return d!==o?null:o}for(var x=o,_=d;;){var P=x.return;if(P===null)break;var R=P.alternate;if(R===null){if(_=P.return,_!==null){x=_;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===x)return mo(P),o;if(R===_)return mo(P),d;R=R.sibling}throw Error(r(188))}if(x.return!==_.return)x=P,_=R;else{for(var U=!1,K=P.child;K;){if(K===x){U=!0,x=P,_=R;break}if(K===_){U=!0,_=P,x=R;break}K=K.sibling}if(!U){for(K=R.child;K;){if(K===x){U=!0,x=R,_=P;break}if(K===_){U=!0,_=R,x=P;break}K=K.sibling}if(!U)throw Error(r(189))}}if(x.alternate!==_)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?o:d}function Yd(o){return o=ki(o),o!==null?Xd(o):null}function Xd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Xd(o);if(d!==null)return d;o=o.sibling}return null}var ci=t.unstable_scheduleCallback,an=t.unstable_cancelCallback,Yt=t.unstable_shouldYield,Zd=t.unstable_requestPaint,Mt=t.unstable_now,Xc=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,Qd=t.unstable_UserBlockingPriority,Wt=t.unstable_NormalPriority,Ss=t.unstable_LowPriority,Jd=t.unstable_IdlePriority,_t=null,pt=null;function wt(o){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(_t,o,void 0,(o.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:Tr,Zc=Math.log,Qc=Math.LN2;function Tr(o){return o>>>=0,o===0?32:31-(Zc(o)/Qc|0)|0}var ui=64,Sl=4194304;function Ht(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function di(o,d){var x=o.pendingLanes;if(x===0)return 0;var _=0,P=o.suspendedLanes,R=o.pingedLanes,U=x&268435455;if(U!==0){var K=U&~P;K!==0?_=Ht(K):(R&=U,R!==0&&(_=Ht(R)))}else U=x&~P,U!==0?_=Ht(U):R!==0&&(_=Ht(R));if(_===0)return 0;if(d!==0&&d!==_&&(d&P)===0&&(P=_&-_,R=d&-d,P>=R||P===16&&(R&4194240)!==0))return d;if((_&4)!==0&&(_|=x&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=_;0<d;)x=31-Bn(d),P=1<<x,_|=o[x],d&=~P;return _}function l1(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(o,d){for(var x=o.suspendedLanes,_=o.pingedLanes,P=o.expirationTimes,R=o.pendingLanes;0<R;){var U=31-Bn(R),K=1<<U,Q=P[U];Q===-1?((K&x)===0||(K&_)!==0)&&(P[U]=l1(K,d)):Q<=d&&(o.expiredLanes|=K),R&=~K}}function Dt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Vr(){var o=ui;return ui<<=1,(ui&4194240)===0&&(ui=64),o}function se(o){for(var d=[],x=0;31>x;x++)d.push(o);return d}function G(o,d,x){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-Bn(d),o[d]=x}function et(o,d){var x=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<x;){var P=31-Bn(x),R=1<<P;d[P]=0,_[P]=-1,o[P]=-1,x&=~R}}function br(o,d){var x=o.entangledLanes|=d;for(o=o.entanglements;x;){var _=31-Bn(x),P=1<<_;P&d|o[_]&d&&(o[_]|=d),x&=~P}}var mt=0;function ef(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Cl,In,tt,Xt,Jc,eu=!1,Os=[],fi=null,Ri=null,wa=null,sr=new Map,Qi=new Map,gn=[],st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tf(o,d){switch(o){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":sr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(d.pointerId)}}function ut(o,d,x,_,P,R){return o===null||o.nativeEvent!==R?(o={blockedOn:d,domEventName:x,eventSystemFlags:_,nativeEvent:R,targetContainers:[P]},d!==null&&(d=gu(d),d!==null&&In(d)),o):(o.eventSystemFlags|=_,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function Gr(o,d,x,_,P){switch(d){case"focusin":return fi=ut(fi,o,d,x,_,P),!0;case"dragenter":return Ri=ut(Ri,o,d,x,_,P),!0;case"mouseover":return wa=ut(wa,o,d,x,_,P),!0;case"pointerover":var R=P.pointerId;return sr.set(R,ut(sr.get(R)||null,o,d,x,_,P)),!0;case"gotpointercapture":return R=P.pointerId,Qi.set(R,ut(Qi.get(R)||null,o,d,x,_,P)),!0}return!1}function rf(o){var d=So(o.target);if(d!==null){var x=qn(d);if(x!==null){if(d=x.tag,d===13){if(d=po(x),d!==null){o.blockedOn=d,Jc(o.priority,function(){tt(x)});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Is(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var x=Ol(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(x===null){x=o.nativeEvent;var _=new x.constructor(x.type,x);Da=_,x.target.dispatchEvent(_),Da=null}else return d=gu(x),d!==null&&In(d),o.blockedOn=x,!1;d.shift()}return!0}function tu(o,d,x){Is(o)&&x.delete(d)}function La(){eu=!1,fi!==null&&Is(fi)&&(fi=null),Ri!==null&&Is(Ri)&&(Ri=null),wa!==null&&Is(wa)&&(wa=null),sr.forEach(tu),Qi.forEach(tu)}function go(o,d){o.blockedOn===d&&(o.blockedOn=null,eu||(eu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,La)))}function Ji(o){function d(P){return go(P,o)}if(0<Os.length){go(Os[0],o);for(var x=1;x<Os.length;x++){var _=Os[x];_.blockedOn===o&&(_.blockedOn=null)}}for(fi!==null&&go(fi,o),Ri!==null&&go(Ri,o),wa!==null&&go(wa,o),sr.forEach(d),Qi.forEach(d),x=0;x<gn.length;x++)_=gn[x],_.blockedOn===o&&(_.blockedOn=null);for(;0<gn.length&&(x=gn[0],x.blockedOn===null);)rf(x),x.blockedOn===null&&gn.shift()}var ji=z.ReactCurrentBatchConfig,ba=!0;function nf(o,d,x,_){var P=mt,R=ji.transition;ji.transition=null;try{mt=1,Ba(o,d,x,_)}finally{mt=P,ji.transition=R}}function vo(o,d,x,_){var P=mt,R=ji.transition;ji.transition=null;try{mt=4,Ba(o,d,x,_)}finally{mt=P,ji.transition=R}}function Ba(o,d,x,_){if(ba){var P=Ol(o,d,x,_);if(P===null)y1(o,d,_,qr,x),tf(o,_);else if(Gr(P,o,d,x,_))_.stopPropagation();else if(tf(o,_),d&4&&-1<st.indexOf(o)){for(;P!==null;){var R=gu(P);if(R!==null&&Cl(R),R=Ol(o,d,x,_),R===null&&y1(o,d,_,qr,x),R===P)break;P=R}P!==null&&_.stopPropagation()}else y1(o,d,_,null,x)}}var qr=null;function Ol(o,d,x,_){if(qr=null,o=fo(_),o=So(o),o!==null)if(d=qn(o),d===null)o=null;else if(x=d.tag,x===13){if(o=po(d),o!==null)return o;o=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return qr=o,null}function ru(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xc()){case Ee:return 1;case Qd:return 4;case Wt:case Ss:return 16;case Jd:return 536870912;default:return 16}default:return 16}}var ea=null,nu=null,Il=null;function af(){if(Il)return Il;var o,d=nu,x=d.length,_,P="value"in ea?ea.value:ea.textContent,R=P.length;for(o=0;o<x&&d[o]===P[o];o++);var U=x-o;for(_=1;_<=U&&d[x-_]===P[R-_];_++);return Il=P.slice(o,1<_?1-_:void 0)}function Ct(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function yo(){return!0}function xo(){return!1}function Er(o){function d(x,_,P,R,U){this._reactName=x,this._targetInst=P,this.type=_,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(x=o[K],this[K]=x?x(R):R[K]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?yo:xo,this.isPropagationStopped=xo,this}return be(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),d}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pe=Er(Ts),ft=be({},Ts,{view:0,detail:0}),Kr=Er(ft),Ns,Tl,wo,Nl=be({},ft,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==wo&&(wo&&o.type==="mousemove"?(Ns=o.screenX-wo.screenX,Tl=o.screenY-wo.screenY):Tl=Ns=0,wo=o),Ns)},movementY:function(o){return"movementY"in o?o.movementY:Tl}}),sf=Er(Nl),iu=be({},Nl,{dataTransfer:0}),Nr=Er(iu),au=be({},ft,{relatedTarget:0}),Zt=Er(au),Pl=be({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Er(Pl),Ft=be({},Ts,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),nt=Er(Ft),c1=be({},Ts,{data:0}),zt=Er(c1),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ps={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mi(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=u1[o])?!!d[o]:!1}function bo(){return Mi}var of=be({},ft,{key:function(o){if(o.key){var d=Ua[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Ct(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ps[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(o){return o.type==="keypress"?Ct(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ct(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),su=Er(of),lf=be({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ou=Er(lf),d1=be({},ft,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),ks=Er(d1),lu=be({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),f1=Er(lu),Eo=be({},Nl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=Er(Eo),Ea=[9,13,27,32],Rs=f&&"CompositionEvent"in window,sn=null;f&&"documentMode"in document&&(sn=document.documentMode);var cf=f&&"TextEvent"in window&&!sn,hi=f&&(!Rs||sn&&8<sn&&11>=sn),uf=" ",kl=!1;function df(o,d){switch(o){case"keyup":return Ea.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var vn=!1;function p1(o,d){switch(o){case"compositionend":return cu(d);case"keypress":return d.which!==32?null:(kl=!0,uf);case"textInput":return o=d.data,o===uf&&kl?null:o;default:return null}}function uu(o,d){if(vn)return o==="compositionend"||!Rs&&df(o,d)?(o=af(),Il=nu=ea=null,vn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return hi&&d.locale!=="ko"?null:d.data;default:return null}}var _o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Et(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!_o[o.type]:d==="textarea"}function Ao(o,d,x,_){Gc(_),d=pf(d,"onChange"),0<d.length&&(x=new pe("onChange","change",null,x,_),o.push({event:x,listeners:d}))}var B=null,s=null;function l(o){Ab(o,0)}function u(o){var d=Ml(o);if(xe(d))return o}function p(o,d){if(o==="change")return d}var g=!1;if(f){var y;if(f){var b="oninput"in document;if(!b){var S=document.createElement("div");S.setAttribute("oninput","return;"),b=typeof S.oninput=="function"}y=b}else y=!1;g=y&&(!document.documentMode||9<document.documentMode)}function T(){B&&(B.detachEvent("onpropertychange",M),s=B=null)}function M(o){if(o.propertyName==="value"&&u(s)){var d=[];Ao(d,s,o,fo(o)),ho(l,d)}}function F(o,d,x){o==="focusin"?(T(),B=d,s=x,B.attachEvent("onpropertychange",M)):o==="focusout"&&T()}function $(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(s)}function q(o,d){if(o==="click")return u(d)}function X(o,d){if(o==="input"||o==="change")return u(d)}function ee(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ne=typeof Object.is=="function"?Object.is:ee;function he(o,d){if(ne(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var x=Object.keys(o),_=Object.keys(d);if(x.length!==_.length)return!1;for(_=0;_<x.length;_++){var P=x[_];if(!h.call(d,P)||!ne(o[P],d[P]))return!1}return!0}function Pe(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Re(o,d){var x=Pe(o);o=0;for(var _;x;){if(x.nodeType===3){if(_=o+x.textContent.length,o<=d&&_>=d)return{node:x,offset:d-o};o=_}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Pe(x)}}function Ce(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Ce(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function gt(){for(var o=window,d=Fe();d instanceof o.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch{x=!1}if(x)o=d.contentWindow;else break;d=Fe(o.document)}return d}function dt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Tn(o){var d=gt(),x=o.focusedElem,_=o.selectionRange;if(d!==x&&x&&x.ownerDocument&&Ce(x.ownerDocument.documentElement,x)){if(_!==null&&dt(x)){if(d=_.start,o=_.end,o===void 0&&(o=d),"selectionStart"in x)x.selectionStart=d,x.selectionEnd=Math.min(o,x.value.length);else if(o=(d=x.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=x.textContent.length,R=Math.min(_.start,P);_=_.end===void 0?R:Math.min(_.end,P),!o.extend&&R>_&&(P=_,_=R,R=P),P=Re(x,R);var U=Re(x,_);P&&U&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),R>_?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=x;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<d.length;x++)o=d[x],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var pi=f&&"documentMode"in document&&11>=document.documentMode,Pr=null,Rt=null,mr=null,yn=!1;function za(o,d,x){var _=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;yn||Pr==null||Pr!==Fe(_)||(_=Pr,"selectionStart"in _&&dt(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),mr&&he(mr,_)||(mr=_,_=pf(Rt,"onSelect"),0<_.length&&(d=new pe("onSelect","select",null,d,x),o.push({event:d,listeners:_}),d.target=Pr)))}function ta(o,d){var x={};return x[o.toLowerCase()]=d.toLowerCase(),x["Webkit"+o]="webkit"+d,x["Moz"+o]="moz"+d,x}var js={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},du={},gb={};f&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function ff(o){if(du[o])return du[o];if(!js[o])return o;var d=js[o],x;for(x in d)if(d.hasOwnProperty(x)&&x in gb)return du[o]=d[x];return o}var vb=ff("animationend"),yb=ff("animationiteration"),xb=ff("animationstart"),wb=ff("transitionend"),bb=new Map,Eb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(o,d){bb.set(o,d),a(d,[o])}for(var m1=0;m1<Eb.length;m1++){var g1=Eb[m1],Rk=g1.toLowerCase(),jk=g1[0].toUpperCase()+g1.slice(1);Ms(Rk,"on"+jk)}Ms(vb,"onAnimationEnd"),Ms(yb,"onAnimationIteration"),Ms(xb,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(wb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function _b(o,d,x){var _=o.type||"unknown-event";o.currentTarget=x,On(_,d,void 0,o),o.currentTarget=null}function Ab(o,d){d=(d&4)!==0;for(var x=0;x<o.length;x++){var _=o[x],P=_.event;_=_.listeners;e:{var R=void 0;if(d)for(var U=_.length-1;0<=U;U--){var K=_[U],Q=K.instance,me=K.currentTarget;if(K=K.listener,Q!==R&&P.isPropagationStopped())break e;_b(P,K,me),R=Q}else for(U=0;U<_.length;U++){if(K=_[U],Q=K.instance,me=K.currentTarget,K=K.listener,Q!==R&&P.isPropagationStopped())break e;_b(P,K,me),R=Q}}}if(mn)throw o=Ue,mn=!1,Ue=null,o}function rr(o,d){var x=d[A1];x===void 0&&(x=d[A1]=new Set);var _=o+"__bubble";x.has(_)||(Sb(d,o,2,!1),x.add(_))}function v1(o,d,x){var _=0;d&&(_|=4),Sb(x,o,_,d)}var hf="_reactListening"+Math.random().toString(36).slice(2);function hu(o){if(!o[hf]){o[hf]=!0,n.forEach(function(x){x!=="selectionchange"&&(Mk.has(x)||v1(x,!1,o),v1(x,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[hf]||(d[hf]=!0,v1("selectionchange",!1,d))}}function Sb(o,d,x,_){switch(ru(d)){case 1:var P=nf;break;case 4:P=vo;break;default:P=Ba}x=P.bind(null,d,x,o),P=void 0,!qc||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),_?P!==void 0?o.addEventListener(d,x,{capture:!0,passive:P}):o.addEventListener(d,x,!0):P!==void 0?o.addEventListener(d,x,{passive:P}):o.addEventListener(d,x,!1)}function y1(o,d,x,_,P){var R=_;if((d&1)===0&&(d&2)===0&&_!==null)e:for(;;){if(_===null)return;var U=_.tag;if(U===3||U===4){var K=_.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(U===4)for(U=_.return;U!==null;){var Q=U.tag;if((Q===3||Q===4)&&(Q=U.stateNode.containerInfo,Q===P||Q.nodeType===8&&Q.parentNode===P))return;U=U.return}for(;K!==null;){if(U=So(K),U===null)return;if(Q=U.tag,Q===5||Q===6){_=R=U;continue e}K=K.parentNode}}_=_.return}ho(function(){var me=R,Ie=fo(x),Ne=[];e:{var Se=bb.get(o);if(Se!==void 0){var ze=pe,Ke=o;switch(o){case"keypress":if(Ct(x)===0)break e;case"keydown":case"keyup":ze=su;break;case"focusin":Ke="focus",ze=Zt;break;case"focusout":Ke="blur",ze=Zt;break;case"beforeblur":case"afterblur":ze=Zt;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=ks;break;case vb:case yb:case xb:ze=Fa;break;case wb:ze=f1;break;case"scroll":ze=Kr;break;case"wheel":ze=h1;break;case"copy":case"cut":case"paste":ze=nt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=ou}var Xe=(d&4)!==0,kr=!Xe&&o==="scroll",oe=Xe?Se!==null?Se+"Capture":null:Se;Xe=[];for(var te=me,ce;te!==null;){ce=te;var je=ce.stateNode;if(ce.tag===5&&je!==null&&(ce=je,oe!==null&&(je=Cn(te,oe),je!=null&&Xe.push(pu(te,je,ce)))),kr)break;te=te.return}0<Xe.length&&(Se=new ze(Se,Ke,null,x,Ie),Ne.push({event:Se,listeners:Xe}))}}if((d&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",ze=o==="mouseout"||o==="pointerout",Se&&x!==Da&&(Ke=x.relatedTarget||x.fromElement)&&(So(Ke)||Ke[$a]))break e;if((ze||Se)&&(Se=Ie.window===Ie?Ie:(Se=Ie.ownerDocument)?Se.defaultView||Se.parentWindow:window,ze?(Ke=x.relatedTarget||x.toElement,ze=me,Ke=Ke?So(Ke):null,Ke!==null&&(kr=qn(Ke),Ke!==kr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):(ze=null,Ke=me),ze!==Ke)){if(Xe=sf,je="onMouseLeave",oe="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Xe=ou,je="onPointerLeave",oe="onPointerEnter",te="pointer"),kr=ze==null?Se:Ml(ze),ce=Ke==null?Se:Ml(Ke),Se=new Xe(je,te+"leave",ze,x,Ie),Se.target=kr,Se.relatedTarget=ce,je=null,So(Ie)===me&&(Xe=new Xe(oe,te+"enter",Ke,x,Ie),Xe.target=ce,Xe.relatedTarget=kr,je=Xe),kr=je,ze&&Ke)t:{for(Xe=ze,oe=Ke,te=0,ce=Xe;ce;ce=Rl(ce))te++;for(ce=0,je=oe;je;je=Rl(je))ce++;for(;0<te-ce;)Xe=Rl(Xe),te--;for(;0<ce-te;)oe=Rl(oe),ce--;for(;te--;){if(Xe===oe||oe!==null&&Xe===oe.alternate)break t;Xe=Rl(Xe),oe=Rl(oe)}Xe=null}else Xe=null;ze!==null&&Cb(Ne,Se,ze,Xe,!1),Ke!==null&&kr!==null&&Cb(Ne,kr,Ke,Xe,!0)}}e:{if(Se=me?Ml(me):window,ze=Se.nodeName&&Se.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Se.type==="file")var Qe=p;else if(Et(Se))if(g)Qe=X;else{Qe=$;var it=F}else(ze=Se.nodeName)&&ze.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Qe=q);if(Qe&&(Qe=Qe(o,me))){Ao(Ne,Qe,x,Ie);break e}it&&it(o,Se,me),o==="focusout"&&(it=Se._wrapperState)&&it.controlled&&Se.type==="number"&&xt(Se,"number",Se.value)}switch(it=me?Ml(me):window,o){case"focusin":(Et(it)||it.contentEditable==="true")&&(Pr=it,Rt=me,mr=null);break;case"focusout":mr=Rt=Pr=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,za(Ne,x,Ie);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":za(Ne,x,Ie)}var at;if(Rs)e:{switch(o){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else vn?df(o,x)&&(ct="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(ct="onCompositionStart");ct&&(hi&&x.locale!=="ko"&&(vn||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&vn&&(at=af()):(ea=Ie,nu="value"in ea?ea.value:ea.textContent,vn=!0)),it=pf(me,ct),0<it.length&&(ct=new zt(ct,o,null,x,Ie),Ne.push({event:ct,listeners:it}),at?ct.data=at:(at=cu(x),at!==null&&(ct.data=at)))),(at=cf?p1(o,x):uu(o,x))&&(me=pf(me,"onBeforeInput"),0<me.length&&(Ie=new zt("onBeforeInput","beforeinput",null,x,Ie),Ne.push({event:Ie,listeners:me}),Ie.data=at))}Ab(Ne,d)})}function pu(o,d,x){return{instance:o,listener:d,currentTarget:x}}function pf(o,d){for(var x=d+"Capture",_=[];o!==null;){var P=o,R=P.stateNode;P.tag===5&&R!==null&&(P=R,R=Cn(o,x),R!=null&&_.unshift(pu(o,R,P)),R=Cn(o,d),R!=null&&_.push(pu(o,R,P))),o=o.return}return _}function Rl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Cb(o,d,x,_,P){for(var R=d._reactName,U=[];x!==null&&x!==_;){var K=x,Q=K.alternate,me=K.stateNode;if(Q!==null&&Q===_)break;K.tag===5&&me!==null&&(K=me,P?(Q=Cn(x,R),Q!=null&&U.unshift(pu(x,Q,K))):P||(Q=Cn(x,R),Q!=null&&U.push(pu(x,Q,K)))),x=x.return}U.length!==0&&o.push({event:d,listeners:U})}var Dk=/\r\n?/g,Lk=/\u0000|\uFFFD/g;function Ob(o){return(typeof o=="string"?o:""+o).replace(Dk,`
`).replace(Lk,"")}function mf(o,d,x){if(d=Ob(d),Ob(o)!==d&&x)throw Error(r(425))}function gf(){}var x1=null,w1=null;function b1(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var E1=typeof setTimeout=="function"?setTimeout:void 0,Bk=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(o){return Ib.resolve(null).then(o).catch(Uk)}:E1;function Uk(o){setTimeout(function(){throw o})}function _1(o,d){var x=d,_=0;do{var P=x.nextSibling;if(o.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"){if(_===0){o.removeChild(P),Ji(d);return}_--}else x!=="$"&&x!=="$?"&&x!=="$!"||_++;x=P}while(x);Ji(d)}function Ds(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function Tb(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return o;d--}else x==="/$"&&d++}o=o.previousSibling}return null}var jl=Math.random().toString(36).slice(2),_a="__reactFiber$"+jl,mu="__reactProps$"+jl,$a="__reactContainer$"+jl,A1="__reactEvents$"+jl,zk="__reactListeners$"+jl,$k="__reactHandles$"+jl;function So(o){var d=o[_a];if(d)return d;for(var x=o.parentNode;x;){if(d=x[$a]||x[_a]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(o=Tb(o);o!==null;){if(x=o[_a])return x;o=Tb(o)}return d}o=x,x=o.parentNode}return null}function gu(o){return o=o[_a]||o[$a],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ml(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function vf(o){return o[mu]||null}var S1=[],Dl=-1;function Ls(o){return{current:o}}function nr(o){0>Dl||(o.current=S1[Dl],S1[Dl]=null,Dl--)}function Qt(o,d){Dl++,S1[Dl]=o.current,o.current=d}var Bs={},Nn=Ls(Bs),Kn=Ls(!1),Co=Bs;function Ll(o,d){var x=o.type.contextTypes;if(!x)return Bs;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===d)return _.__reactInternalMemoizedMaskedChildContext;var P={},R;for(R in x)P[R]=d[R];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function Yn(o){return o=o.childContextTypes,o!=null}function yf(){nr(Kn),nr(Nn)}function Nb(o,d,x){if(Nn.current!==Bs)throw Error(r(168));Qt(Nn,d),Qt(Kn,x)}function Pb(o,d,x){var _=o.stateNode;if(d=d.childContextTypes,typeof _.getChildContext!="function")return x;_=_.getChildContext();for(var P in _)if(!(P in d))throw Error(r(108,rt(o)||"Unknown",P));return be({},x,_)}function xf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Bs,Co=Nn.current,Qt(Nn,o),Qt(Kn,Kn.current),!0}function kb(o,d,x){var _=o.stateNode;if(!_)throw Error(r(169));x?(o=Pb(o,d,Co),_.__reactInternalMemoizedMergedChildContext=o,nr(Kn),nr(Nn),Qt(Nn,o)):nr(Kn),Qt(Kn,x)}var Wa=null,wf=!1,C1=!1;function Rb(o){Wa===null?Wa=[o]:Wa.push(o)}function Wk(o){wf=!0,Rb(o)}function Fs(){if(!C1&&Wa!==null){C1=!0;var o=0,d=mt;try{var x=Wa;for(mt=1;o<x.length;o++){var _=x[o];do _=_(!0);while(_!==null)}Wa=null,wf=!1}catch(P){throw Wa!==null&&(Wa=Wa.slice(o+1)),ci(Ee,Fs),P}finally{mt=d,C1=!1}}return null}var Bl=[],Fl=0,bf=null,Ef=0,Di=[],Li=0,Oo=null,Ha=1,Va="";function Io(o,d){Bl[Fl++]=Ef,Bl[Fl++]=bf,bf=o,Ef=d}function jb(o,d,x){Di[Li++]=Ha,Di[Li++]=Va,Di[Li++]=Oo,Oo=o;var _=Ha;o=Va;var P=32-Bn(_)-1;_&=~(1<<P),x+=1;var R=32-Bn(d)+P;if(30<R){var U=P-P%5;R=(_&(1<<U)-1).toString(32),_>>=U,P-=U,Ha=1<<32-Bn(d)+P|x<<P|_,Va=R+o}else Ha=1<<R|x<<P|_,Va=o}function O1(o){o.return!==null&&(Io(o,1),jb(o,1,0))}function I1(o){for(;o===bf;)bf=Bl[--Fl],Bl[Fl]=null,Ef=Bl[--Fl],Bl[Fl]=null;for(;o===Oo;)Oo=Di[--Li],Di[Li]=null,Va=Di[--Li],Di[Li]=null,Ha=Di[--Li],Di[Li]=null}var mi=null,gi=null,or=!1,ra=null;function Mb(o,d){var x=zi(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=o,d=o.deletions,d===null?(o.deletions=[x],o.flags|=16):d.push(x)}function Db(o,d){switch(o.tag){case 5:var x=o.type;return d=d.nodeType!==1||x.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,mi=o,gi=Ds(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,mi=o,gi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(x=Oo!==null?{id:Ha,overflow:Va}:null,o.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=zi(18,null,null,0),x.stateNode=d,x.return=o,o.child=x,mi=o,gi=null,!0):!1;default:return!1}}function T1(o){return(o.mode&1)!==0&&(o.flags&128)===0}function N1(o){if(or){var d=gi;if(d){var x=d;if(!Db(o,d)){if(T1(o))throw Error(r(418));d=Ds(x.nextSibling);var _=mi;d&&Db(o,d)?Mb(_,x):(o.flags=o.flags&-4097|2,or=!1,mi=o)}}else{if(T1(o))throw Error(r(418));o.flags=o.flags&-4097|2,or=!1,mi=o}}}function Lb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;mi=o}function _f(o){if(o!==mi)return!1;if(!or)return Lb(o),or=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!b1(o.type,o.memoizedProps)),d&&(d=gi)){if(T1(o))throw Bb(),Error(r(418));for(;d;)Mb(o,d),d=Ds(d.nextSibling)}if(Lb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="/$"){if(d===0){gi=Ds(o.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++}o=o.nextSibling}gi=null}}else gi=mi?Ds(o.stateNode.nextSibling):null;return!0}function Bb(){for(var o=gi;o;)o=Ds(o.nextSibling)}function Ul(){gi=mi=null,or=!1}function P1(o){ra===null?ra=[o]:ra.push(o)}var Hk=z.ReactCurrentBatchConfig;function vu(o,d,x){if(o=x.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var _=x.stateNode}if(!_)throw Error(r(147,o));var P=_,R=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(U){var K=P.refs;U===null?delete K[R]:K[R]=U},d._stringRef=R,d)}if(typeof o!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,o))}return o}function Af(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Fb(o){var d=o._init;return d(o._payload)}function Ub(o){function d(oe,te){if(o){var ce=oe.deletions;ce===null?(oe.deletions=[te],oe.flags|=16):ce.push(te)}}function x(oe,te){if(!o)return null;for(;te!==null;)d(oe,te),te=te.sibling;return null}function _(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function P(oe,te){return oe=qs(oe,te),oe.index=0,oe.sibling=null,oe}function R(oe,te,ce){return oe.index=ce,o?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<te?(oe.flags|=2,te):ce):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function U(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,te,ce,je){return te===null||te.tag!==6?(te=Em(ce,oe.mode,je),te.return=oe,te):(te=P(te,ce),te.return=oe,te)}function Q(oe,te,ce,je){var Qe=ce.type;return Qe===V?Ie(oe,te,ce.props.children,je,ce.key):te!==null&&(te.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Me&&Fb(Qe)===te.type)?(je=P(te,ce.props),je.ref=vu(oe,te,ce),je.return=oe,je):(je=Kf(ce.type,ce.key,ce.props,null,oe.mode,je),je.ref=vu(oe,te,ce),je.return=oe,je)}function me(oe,te,ce,je){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=_m(ce,oe.mode,je),te.return=oe,te):(te=P(te,ce.children||[]),te.return=oe,te)}function Ie(oe,te,ce,je,Qe){return te===null||te.tag!==7?(te=Do(ce,oe.mode,je,Qe),te.return=oe,te):(te=P(te,ce),te.return=oe,te)}function Ne(oe,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Em(""+te,oe.mode,ce),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case W:return ce=Kf(te.type,te.key,te.props,null,oe.mode,ce),ce.ref=vu(oe,null,te),ce.return=oe,ce;case H:return te=_m(te,oe.mode,ce),te.return=oe,te;case Me:var je=te._init;return Ne(oe,je(te._payload),ce)}if(va(te)||we(te))return te=Do(te,oe.mode,ce,null),te.return=oe,te;Af(oe,te)}return null}function Se(oe,te,ce,je){var Qe=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Qe!==null?null:K(oe,te,""+ce,je);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:return ce.key===Qe?Q(oe,te,ce,je):null;case H:return ce.key===Qe?me(oe,te,ce,je):null;case Me:return Qe=ce._init,Se(oe,te,Qe(ce._payload),je)}if(va(ce)||we(ce))return Qe!==null?null:Ie(oe,te,ce,je,null);Af(oe,ce)}return null}function ze(oe,te,ce,je,Qe){if(typeof je=="string"&&je!==""||typeof je=="number")return oe=oe.get(ce)||null,K(te,oe,""+je,Qe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case W:return oe=oe.get(je.key===null?ce:je.key)||null,Q(te,oe,je,Qe);case H:return oe=oe.get(je.key===null?ce:je.key)||null,me(te,oe,je,Qe);case Me:var it=je._init;return ze(oe,te,ce,it(je._payload),Qe)}if(va(je)||we(je))return oe=oe.get(ce)||null,Ie(te,oe,je,Qe,null);Af(te,je)}return null}function Ke(oe,te,ce,je){for(var Qe=null,it=null,at=te,ct=te=0,cn=null;at!==null&&ct<ce.length;ct++){at.index>ct?(cn=at,at=null):cn=at.sibling;var Tt=Se(oe,at,ce[ct],je);if(Tt===null){at===null&&(at=cn);break}o&&at&&Tt.alternate===null&&d(oe,at),te=R(Tt,te,ct),it===null?Qe=Tt:it.sibling=Tt,it=Tt,at=cn}if(ct===ce.length)return x(oe,at),or&&Io(oe,ct),Qe;if(at===null){for(;ct<ce.length;ct++)at=Ne(oe,ce[ct],je),at!==null&&(te=R(at,te,ct),it===null?Qe=at:it.sibling=at,it=at);return or&&Io(oe,ct),Qe}for(at=_(oe,at);ct<ce.length;ct++)cn=ze(at,oe,ct,ce[ct],je),cn!==null&&(o&&cn.alternate!==null&&at.delete(cn.key===null?ct:cn.key),te=R(cn,te,ct),it===null?Qe=cn:it.sibling=cn,it=cn);return o&&at.forEach(function(Ks){return d(oe,Ks)}),or&&Io(oe,ct),Qe}function Xe(oe,te,ce,je){var Qe=we(ce);if(typeof Qe!="function")throw Error(r(150));if(ce=Qe.call(ce),ce==null)throw Error(r(151));for(var it=Qe=null,at=te,ct=te=0,cn=null,Tt=ce.next();at!==null&&!Tt.done;ct++,Tt=ce.next()){at.index>ct?(cn=at,at=null):cn=at.sibling;var Ks=Se(oe,at,Tt.value,je);if(Ks===null){at===null&&(at=cn);break}o&&at&&Ks.alternate===null&&d(oe,at),te=R(Ks,te,ct),it===null?Qe=Ks:it.sibling=Ks,it=Ks,at=cn}if(Tt.done)return x(oe,at),or&&Io(oe,ct),Qe;if(at===null){for(;!Tt.done;ct++,Tt=ce.next())Tt=Ne(oe,Tt.value,je),Tt!==null&&(te=R(Tt,te,ct),it===null?Qe=Tt:it.sibling=Tt,it=Tt);return or&&Io(oe,ct),Qe}for(at=_(oe,at);!Tt.done;ct++,Tt=ce.next())Tt=ze(at,oe,ct,Tt.value,je),Tt!==null&&(o&&Tt.alternate!==null&&at.delete(Tt.key===null?ct:Tt.key),te=R(Tt,te,ct),it===null?Qe=Tt:it.sibling=Tt,it=Tt);return o&&at.forEach(function(_R){return d(oe,_R)}),or&&Io(oe,ct),Qe}function kr(oe,te,ce,je){if(typeof ce=="object"&&ce!==null&&ce.type===V&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:e:{for(var Qe=ce.key,it=te;it!==null;){if(it.key===Qe){if(Qe=ce.type,Qe===V){if(it.tag===7){x(oe,it.sibling),te=P(it,ce.props.children),te.return=oe,oe=te;break e}}else if(it.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Me&&Fb(Qe)===it.type){x(oe,it.sibling),te=P(it,ce.props),te.ref=vu(oe,it,ce),te.return=oe,oe=te;break e}x(oe,it);break}else d(oe,it);it=it.sibling}ce.type===V?(te=Do(ce.props.children,oe.mode,je,ce.key),te.return=oe,oe=te):(je=Kf(ce.type,ce.key,ce.props,null,oe.mode,je),je.ref=vu(oe,te,ce),je.return=oe,oe=je)}return U(oe);case H:e:{for(it=ce.key;te!==null;){if(te.key===it)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){x(oe,te.sibling),te=P(te,ce.children||[]),te.return=oe,oe=te;break e}else{x(oe,te);break}else d(oe,te);te=te.sibling}te=_m(ce,oe.mode,je),te.return=oe,oe=te}return U(oe);case Me:return it=ce._init,kr(oe,te,it(ce._payload),je)}if(va(ce))return Ke(oe,te,ce,je);if(we(ce))return Xe(oe,te,ce,je);Af(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(x(oe,te.sibling),te=P(te,ce),te.return=oe,oe=te):(x(oe,te),te=Em(ce,oe.mode,je),te.return=oe,oe=te),U(oe)):x(oe,te)}return kr}var zl=Ub(!0),zb=Ub(!1),Sf=Ls(null),Cf=null,$l=null,k1=null;function R1(){k1=$l=Cf=null}function j1(o){var d=Sf.current;nr(Sf),o._currentValue=d}function M1(o,d,x){for(;o!==null;){var _=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,_!==null&&(_.childLanes|=d)):_!==null&&(_.childLanes&d)!==d&&(_.childLanes|=d),o===x)break;o=o.return}}function Wl(o,d){Cf=o,k1=$l=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Xn=!0),o.firstContext=null)}function Bi(o){var d=o._currentValue;if(k1!==o)if(o={context:o,memoizedValue:d,next:null},$l===null){if(Cf===null)throw Error(r(308));$l=o,Cf.dependencies={lanes:0,firstContext:o}}else $l=$l.next=o;return d}var To=null;function D1(o){To===null?To=[o]:To.push(o)}function $b(o,d,x,_){var P=d.interleaved;return P===null?(x.next=x,D1(d)):(x.next=P.next,P.next=x),d.interleaved=x,Ga(o,_)}function Ga(o,d){o.lanes|=d;var x=o.alternate;for(x!==null&&(x.lanes|=d),x=o,o=o.return;o!==null;)o.childLanes|=d,x=o.alternate,x!==null&&(x.childLanes|=d),x=o,o=o.return;return x.tag===3?x.stateNode:null}var Us=!1;function L1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function qa(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function zs(o,d,x){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(Ot&2)!==0){var P=_.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),_.pending=d,Ga(o,x)}return P=_.interleaved,P===null?(d.next=d,D1(_)):(d.next=P.next,P.next=d),_.interleaved=d,Ga(o,x)}function Of(o,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var _=d.lanes;_&=o.pendingLanes,x|=_,d.lanes=x,br(o,x)}}function Hb(o,d){var x=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,x===_)){var P=null,R=null;if(x=x.firstBaseUpdate,x!==null){do{var U={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};R===null?P=R=U:R=R.next=U,x=x.next}while(x!==null);R===null?P=R=d:R=R.next=d}else P=R=d;x={baseState:_.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:_.shared,effects:_.effects},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=d:o.next=d,x.lastBaseUpdate=d}function If(o,d,x,_){var P=o.updateQueue;Us=!1;var R=P.firstBaseUpdate,U=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var Q=K,me=Q.next;Q.next=null,U===null?R=me:U.next=me,U=Q;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,K=Ie.lastBaseUpdate,K!==U&&(K===null?Ie.firstBaseUpdate=me:K.next=me,Ie.lastBaseUpdate=Q))}if(R!==null){var Ne=P.baseState;U=0,Ie=me=Q=null,K=R;do{var Se=K.lane,ze=K.eventTime;if((_&Se)===Se){Ie!==null&&(Ie=Ie.next={eventTime:ze,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ke=o,Xe=K;switch(Se=d,ze=x,Xe.tag){case 1:if(Ke=Xe.payload,typeof Ke=="function"){Ne=Ke.call(ze,Ne,Se);break e}Ne=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Xe.payload,Se=typeof Ke=="function"?Ke.call(ze,Ne,Se):Ke,Se==null)break e;Ne=be({},Ne,Se);break e;case 2:Us=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Se=P.effects,Se===null?P.effects=[K]:Se.push(K))}else ze={eventTime:ze,lane:Se,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ie===null?(me=Ie=ze,Q=Ne):Ie=Ie.next=ze,U|=Se;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;Se=K,K=Se.next,Se.next=null,P.lastBaseUpdate=Se,P.shared.pending=null}}while(!0);if(Ie===null&&(Q=Ne),P.baseState=Q,P.firstBaseUpdate=me,P.lastBaseUpdate=Ie,d=P.shared.interleaved,d!==null){P=d;do U|=P.lane,P=P.next;while(P!==d)}else R===null&&(P.shared.lanes=0);ko|=U,o.lanes=U,o.memoizedState=Ne}}function Vb(o,d,x){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var _=o[d],P=_.callback;if(P!==null){if(_.callback=null,_=x,typeof P!="function")throw Error(r(191,P));P.call(_)}}}var yu={},Aa=Ls(yu),xu=Ls(yu),wu=Ls(yu);function No(o){if(o===yu)throw Error(r(174));return o}function B1(o,d){switch(Qt(wu,d),Qt(xu,o),Qt(Aa,yu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:El(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=El(d,o)}nr(Aa),Qt(Aa,d)}function Hl(){nr(Aa),nr(xu),nr(wu)}function Gb(o){No(wu.current);var d=No(Aa.current),x=El(d,o.type);d!==x&&(Qt(xu,o),Qt(Aa,x))}function F1(o){xu.current===o&&(nr(Aa),nr(xu))}var gr=Ls(0);function Tf(o){for(var d=o;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var U1=[];function z1(){for(var o=0;o<U1.length;o++)U1[o]._workInProgressVersionPrimary=null;U1.length=0}var Nf=z.ReactCurrentDispatcher,$1=z.ReactCurrentBatchConfig,Po=0,vr=null,Yr=null,on=null,Pf=!1,bu=!1,Eu=0,Vk=0;function Pn(){throw Error(r(321))}function W1(o,d){if(d===null)return!1;for(var x=0;x<d.length&&x<o.length;x++)if(!ne(o[x],d[x]))return!1;return!0}function H1(o,d,x,_,P,R){if(Po=R,vr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Nf.current=o===null||o.memoizedState===null?Yk:Xk,o=x(_,P),bu){R=0;do{if(bu=!1,Eu=0,25<=R)throw Error(r(301));R+=1,on=Yr=null,d.updateQueue=null,Nf.current=Zk,o=x(_,P)}while(bu)}if(Nf.current=jf,d=Yr!==null&&Yr.next!==null,Po=0,on=Yr=vr=null,Pf=!1,d)throw Error(r(300));return o}function V1(){var o=Eu!==0;return Eu=0,o}function Sa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?vr.memoizedState=on=o:on=on.next=o,on}function Fi(){if(Yr===null){var o=vr.alternate;o=o!==null?o.memoizedState:null}else o=Yr.next;var d=on===null?vr.memoizedState:on.next;if(d!==null)on=d,Yr=o;else{if(o===null)throw Error(r(310));Yr=o,o={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},on===null?vr.memoizedState=on=o:on=on.next=o}return on}function _u(o,d){return typeof d=="function"?d(o):d}function G1(o){var d=Fi(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var _=Yr,P=_.baseQueue,R=x.pending;if(R!==null){if(P!==null){var U=P.next;P.next=R.next,R.next=U}_.baseQueue=P=R,x.pending=null}if(P!==null){R=P.next,_=_.baseState;var K=U=null,Q=null,me=R;do{var Ie=me.lane;if((Po&Ie)===Ie)Q!==null&&(Q=Q.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),_=me.hasEagerState?me.eagerState:o(_,me.action);else{var Ne={lane:Ie,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};Q===null?(K=Q=Ne,U=_):Q=Q.next=Ne,vr.lanes|=Ie,ko|=Ie}me=me.next}while(me!==null&&me!==R);Q===null?U=_:Q.next=K,ne(_,d.memoizedState)||(Xn=!0),d.memoizedState=_,d.baseState=U,d.baseQueue=Q,x.lastRenderedState=_}if(o=x.interleaved,o!==null){P=o;do R=P.lane,vr.lanes|=R,ko|=R,P=P.next;while(P!==o)}else P===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function q1(o){var d=Fi(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var _=x.dispatch,P=x.pending,R=d.memoizedState;if(P!==null){x.pending=null;var U=P=P.next;do R=o(R,U.action),U=U.next;while(U!==P);ne(R,d.memoizedState)||(Xn=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),x.lastRenderedState=R}return[R,_]}function qb(){}function Kb(o,d){var x=vr,_=Fi(),P=d(),R=!ne(_.memoizedState,P);if(R&&(_.memoizedState=P,Xn=!0),_=_.queue,K1(Zb.bind(null,x,_,o),[o]),_.getSnapshot!==d||R||on!==null&&on.memoizedState.tag&1){if(x.flags|=2048,Au(9,Xb.bind(null,x,_,P,d),void 0,null),ln===null)throw Error(r(349));(Po&30)!==0||Yb(x,d,P)}return P}function Yb(o,d,x){o.flags|=16384,o={getSnapshot:d,value:x},d=vr.updateQueue,d===null?(d={lastEffect:null,stores:null},vr.updateQueue=d,d.stores=[o]):(x=d.stores,x===null?d.stores=[o]:x.push(o))}function Xb(o,d,x,_){d.value=x,d.getSnapshot=_,Qb(d)&&Jb(o)}function Zb(o,d,x){return x(function(){Qb(d)&&Jb(o)})}function Qb(o){var d=o.getSnapshot;o=o.value;try{var x=d();return!ne(o,x)}catch{return!0}}function Jb(o){var d=Ga(o,1);d!==null&&sa(d,o,1,-1)}function e2(o){var d=Sa();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_u,lastRenderedState:o},d.queue=o,o=o.dispatch=Kk.bind(null,vr,o),[d.memoizedState,o]}function Au(o,d,x,_){return o={tag:o,create:d,destroy:x,deps:_,next:null},d=vr.updateQueue,d===null?(d={lastEffect:null,stores:null},vr.updateQueue=d,d.lastEffect=o.next=o):(x=d.lastEffect,x===null?d.lastEffect=o.next=o:(_=x.next,x.next=o,o.next=_,d.lastEffect=o)),o}function t2(){return Fi().memoizedState}function kf(o,d,x,_){var P=Sa();vr.flags|=o,P.memoizedState=Au(1|d,x,void 0,_===void 0?null:_)}function Rf(o,d,x,_){var P=Fi();_=_===void 0?null:_;var R=void 0;if(Yr!==null){var U=Yr.memoizedState;if(R=U.destroy,_!==null&&W1(_,U.deps)){P.memoizedState=Au(d,x,R,_);return}}vr.flags|=o,P.memoizedState=Au(1|d,x,R,_)}function r2(o,d){return kf(8390656,8,o,d)}function K1(o,d){return Rf(2048,8,o,d)}function n2(o,d){return Rf(4,2,o,d)}function i2(o,d){return Rf(4,4,o,d)}function a2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function s2(o,d,x){return x=x!=null?x.concat([o]):null,Rf(4,4,a2.bind(null,d,o),x)}function Y1(){}function o2(o,d){var x=Fi();d=d===void 0?null:d;var _=x.memoizedState;return _!==null&&d!==null&&W1(d,_[1])?_[0]:(x.memoizedState=[o,d],o)}function l2(o,d){var x=Fi();d=d===void 0?null:d;var _=x.memoizedState;return _!==null&&d!==null&&W1(d,_[1])?_[0]:(o=o(),x.memoizedState=[o,d],o)}function c2(o,d,x){return(Po&21)===0?(o.baseState&&(o.baseState=!1,Xn=!0),o.memoizedState=x):(ne(x,d)||(x=Vr(),vr.lanes|=x,ko|=x,o.baseState=!0),d)}function Gk(o,d){var x=mt;mt=x!==0&&4>x?x:4,o(!0);var _=$1.transition;$1.transition={};try{o(!1),d()}finally{mt=x,$1.transition=_}}function u2(){return Fi().memoizedState}function qk(o,d,x){var _=Vs(o);if(x={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null},d2(o))f2(d,x);else if(x=$b(o,d,x,_),x!==null){var P=Un();sa(x,o,_,P),h2(x,d,_)}}function Kk(o,d,x){var _=Vs(o),P={lane:_,action:x,hasEagerState:!1,eagerState:null,next:null};if(d2(o))f2(d,P);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var U=d.lastRenderedState,K=R(U,x);if(P.hasEagerState=!0,P.eagerState=K,ne(K,U)){var Q=d.interleaved;Q===null?(P.next=P,D1(d)):(P.next=Q.next,Q.next=P),d.interleaved=P;return}}catch{}finally{}x=$b(o,d,P,_),x!==null&&(P=Un(),sa(x,o,_,P),h2(x,d,_))}}function d2(o){var d=o.alternate;return o===vr||d!==null&&d===vr}function f2(o,d){bu=Pf=!0;var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}function h2(o,d,x){if((x&4194240)!==0){var _=d.lanes;_&=o.pendingLanes,x|=_,d.lanes=x,br(o,x)}}var jf={readContext:Bi,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},Yk={readContext:Bi,useCallback:function(o,d){return Sa().memoizedState=[o,d===void 0?null:d],o},useContext:Bi,useEffect:r2,useImperativeHandle:function(o,d,x){return x=x!=null?x.concat([o]):null,kf(4194308,4,a2.bind(null,d,o),x)},useLayoutEffect:function(o,d){return kf(4194308,4,o,d)},useInsertionEffect:function(o,d){return kf(4,2,o,d)},useMemo:function(o,d){var x=Sa();return d=d===void 0?null:d,o=o(),x.memoizedState=[o,d],o},useReducer:function(o,d,x){var _=Sa();return d=x!==void 0?x(d):d,_.memoizedState=_.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},_.queue=o,o=o.dispatch=qk.bind(null,vr,o),[_.memoizedState,o]},useRef:function(o){var d=Sa();return o={current:o},d.memoizedState=o},useState:e2,useDebugValue:Y1,useDeferredValue:function(o){return Sa().memoizedState=o},useTransition:function(){var o=e2(!1),d=o[0];return o=Gk.bind(null,o[1]),Sa().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,x){var _=vr,P=Sa();if(or){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),ln===null)throw Error(r(349));(Po&30)!==0||Yb(_,d,x)}P.memoizedState=x;var R={value:x,getSnapshot:d};return P.queue=R,r2(Zb.bind(null,_,R,o),[o]),_.flags|=2048,Au(9,Xb.bind(null,_,R,x,d),void 0,null),x},useId:function(){var o=Sa(),d=ln.identifierPrefix;if(or){var x=Va,_=Ha;x=(_&~(1<<32-Bn(_)-1)).toString(32)+x,d=":"+d+"R"+x,x=Eu++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=Vk++,d=":"+d+"r"+x.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},Xk={readContext:Bi,useCallback:o2,useContext:Bi,useEffect:K1,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:l2,useReducer:G1,useRef:t2,useState:function(){return G1(_u)},useDebugValue:Y1,useDeferredValue:function(o){var d=Fi();return c2(d,Yr.memoizedState,o)},useTransition:function(){var o=G1(_u)[0],d=Fi().memoizedState;return[o,d]},useMutableSource:qb,useSyncExternalStore:Kb,useId:u2,unstable_isNewReconciler:!1},Zk={readContext:Bi,useCallback:o2,useContext:Bi,useEffect:K1,useImperativeHandle:s2,useInsertionEffect:n2,useLayoutEffect:i2,useMemo:l2,useReducer:q1,useRef:t2,useState:function(){return q1(_u)},useDebugValue:Y1,useDeferredValue:function(o){var d=Fi();return Yr===null?d.memoizedState=o:c2(d,Yr.memoizedState,o)},useTransition:function(){var o=q1(_u)[0],d=Fi().memoizedState;return[o,d]},useMutableSource:qb,useSyncExternalStore:Kb,useId:u2,unstable_isNewReconciler:!1};function na(o,d){if(o&&o.defaultProps){d=be({},d),o=o.defaultProps;for(var x in o)d[x]===void 0&&(d[x]=o[x]);return d}return d}function X1(o,d,x,_){d=o.memoizedState,x=x(_,d),x=x==null?d:be({},d,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var Mf={isMounted:function(o){return(o=o._reactInternals)?qn(o)===o:!1},enqueueSetState:function(o,d,x){o=o._reactInternals;var _=Un(),P=Vs(o),R=qa(_,P);R.payload=d,x!=null&&(R.callback=x),d=zs(o,R,P),d!==null&&(sa(d,o,P,_),Of(d,o,P))},enqueueReplaceState:function(o,d,x){o=o._reactInternals;var _=Un(),P=Vs(o),R=qa(_,P);R.tag=1,R.payload=d,x!=null&&(R.callback=x),d=zs(o,R,P),d!==null&&(sa(d,o,P,_),Of(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var x=Un(),_=Vs(o),P=qa(x,_);P.tag=2,d!=null&&(P.callback=d),d=zs(o,P,_),d!==null&&(sa(d,o,_,x),Of(d,o,_))}};function p2(o,d,x,_,P,R,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,R,U):d.prototype&&d.prototype.isPureReactComponent?!he(x,_)||!he(P,R):!0}function m2(o,d,x){var _=!1,P=Bs,R=d.contextType;return typeof R=="object"&&R!==null?R=Bi(R):(P=Yn(d)?Co:Nn.current,_=d.contextTypes,R=(_=_!=null)?Ll(o,P):Bs),d=new d(x,R),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,o.stateNode=d,d._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=R),d}function g2(o,d,x,_){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,_),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,_),d.state!==o&&Mf.enqueueReplaceState(d,d.state,null)}function Z1(o,d,x,_){var P=o.stateNode;P.props=x,P.state=o.memoizedState,P.refs={},L1(o);var R=d.contextType;typeof R=="object"&&R!==null?P.context=Bi(R):(R=Yn(d)?Co:Nn.current,P.context=Ll(o,R)),P.state=o.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(X1(o,d,R,x),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&Mf.enqueueReplaceState(P,P.state,null),If(o,x,P,_),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function Vl(o,d){try{var x="",_=d;do x+=Ye(_),_=_.return;while(_);var P=x}catch(R){P=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:d,stack:P,digest:null}}function Q1(o,d,x){return{value:o,source:null,stack:x??null,digest:d??null}}function J1(o,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var Qk=typeof WeakMap=="function"?WeakMap:Map;function v2(o,d,x){x=qa(-1,x),x.tag=3,x.payload={element:null};var _=d.value;return x.callback=function(){$f||($f=!0,pm=_),J1(o,d)},x}function y2(o,d,x){x=qa(-1,x),x.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var P=d.value;x.payload=function(){return _(P)},x.callback=function(){J1(o,d)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(x.callback=function(){J1(o,d),typeof _!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),x}function x2(o,d,x){var _=o.pingCache;if(_===null){_=o.pingCache=new Qk;var P=new Set;_.set(d,P)}else P=_.get(d),P===void 0&&(P=new Set,_.set(d,P));P.has(x)||(P.add(x),o=fR.bind(null,o,d,x),d.then(o,o))}function w2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function b2(o,d,x,_,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=qa(-1,1),d.tag=2,zs(x,d,1))),x.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var Jk=z.ReactCurrentOwner,Xn=!1;function Fn(o,d,x,_){d.child=o===null?zb(d,null,x,_):zl(d,o.child,x,_)}function E2(o,d,x,_,P){x=x.render;var R=d.ref;return Wl(d,P),_=H1(o,d,x,_,R,P),x=V1(),o!==null&&!Xn?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,Ka(o,d,P)):(or&&x&&O1(d),d.flags|=1,Fn(o,d,_,P),d.child)}function _2(o,d,x,_,P){if(o===null){var R=x.type;return typeof R=="function"&&!bm(R)&&R.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=R,A2(o,d,R,_,P)):(o=Kf(x.type,null,_,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(R=o.child,(o.lanes&P)===0){var U=R.memoizedProps;if(x=x.compare,x=x!==null?x:he,x(U,_)&&o.ref===d.ref)return Ka(o,d,P)}return d.flags|=1,o=qs(R,_),o.ref=d.ref,o.return=d,d.child=o}function A2(o,d,x,_,P){if(o!==null){var R=o.memoizedProps;if(he(R,_)&&o.ref===d.ref)if(Xn=!1,d.pendingProps=_=R,(o.lanes&P)!==0)(o.flags&131072)!==0&&(Xn=!0);else return d.lanes=o.lanes,Ka(o,d,P)}return em(o,d,x,_,P)}function S2(o,d,x){var _=d.pendingProps,P=_.children,R=o!==null?o.memoizedState:null;if(_.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(ql,vi),vi|=x;else{if((x&1073741824)===0)return o=R!==null?R.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,Qt(ql,vi),vi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=R!==null?R.baseLanes:x,Qt(ql,vi),vi|=_}else R!==null?(_=R.baseLanes|x,d.memoizedState=null):_=x,Qt(ql,vi),vi|=_;return Fn(o,d,P,x),d.child}function C2(o,d){var x=d.ref;(o===null&&x!==null||o!==null&&o.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function em(o,d,x,_,P){var R=Yn(x)?Co:Nn.current;return R=Ll(d,R),Wl(d,P),x=H1(o,d,x,_,R,P),_=V1(),o!==null&&!Xn?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,Ka(o,d,P)):(or&&_&&O1(d),d.flags|=1,Fn(o,d,x,P),d.child)}function O2(o,d,x,_,P){if(Yn(x)){var R=!0;xf(d)}else R=!1;if(Wl(d,P),d.stateNode===null)Lf(o,d),m2(d,x,_),Z1(d,x,_,P),_=!0;else if(o===null){var U=d.stateNode,K=d.memoizedProps;U.props=K;var Q=U.context,me=x.contextType;typeof me=="object"&&me!==null?me=Bi(me):(me=Yn(x)?Co:Nn.current,me=Ll(d,me));var Ie=x.getDerivedStateFromProps,Ne=typeof Ie=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ne||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==_||Q!==me)&&g2(d,U,_,me),Us=!1;var Se=d.memoizedState;U.state=Se,If(d,_,U,P),Q=d.memoizedState,K!==_||Se!==Q||Kn.current||Us?(typeof Ie=="function"&&(X1(d,x,Ie,_),Q=d.memoizedState),(K=Us||p2(d,x,K,_,Se,Q,me))?(Ne||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=_,d.memoizedState=Q),U.props=_,U.state=Q,U.context=me,_=K):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),_=!1)}else{U=d.stateNode,Wb(o,d),K=d.memoizedProps,me=d.type===d.elementType?K:na(d.type,K),U.props=me,Ne=d.pendingProps,Se=U.context,Q=x.contextType,typeof Q=="object"&&Q!==null?Q=Bi(Q):(Q=Yn(x)?Co:Nn.current,Q=Ll(d,Q));var ze=x.getDerivedStateFromProps;(Ie=typeof ze=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==Ne||Se!==Q)&&g2(d,U,_,Q),Us=!1,Se=d.memoizedState,U.state=Se,If(d,_,U,P);var Ke=d.memoizedState;K!==Ne||Se!==Ke||Kn.current||Us?(typeof ze=="function"&&(X1(d,x,ze,_),Ke=d.memoizedState),(me=Us||p2(d,x,me,_,Se,Ke,Q)||!1)?(Ie||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(_,Ke,Q),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(_,Ke,Q)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),d.memoizedProps=_,d.memoizedState=Ke),U.props=_,U.state=Ke,U.context=Q,_=me):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),_=!1)}return tm(o,d,x,_,R,P)}function tm(o,d,x,_,P,R){C2(o,d);var U=(d.flags&128)!==0;if(!_&&!U)return P&&kb(d,x,!1),Ka(o,d,R);_=d.stateNode,Jk.current=d;var K=U&&typeof x.getDerivedStateFromError!="function"?null:_.render();return d.flags|=1,o!==null&&U?(d.child=zl(d,o.child,null,R),d.child=zl(d,null,K,R)):Fn(o,d,K,R),d.memoizedState=_.state,P&&kb(d,x,!0),d.child}function I2(o){var d=o.stateNode;d.pendingContext?Nb(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Nb(o,d.context,!1),B1(o,d.containerInfo)}function T2(o,d,x,_,P){return Ul(),P1(P),d.flags|=256,Fn(o,d,x,_),d.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function nm(o){return{baseLanes:o,cachePool:null,transitions:null}}function N2(o,d,x){var _=d.pendingProps,P=gr.current,R=!1,U=(d.flags&128)!==0,K;if((K=U)||(K=o!==null&&o.memoizedState===null?!1:(P&2)!==0),K?(R=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),Qt(gr,P&1),o===null)return N1(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=_.children,o=_.fallback,R?(_=d.mode,R=d.child,U={mode:"hidden",children:U},(_&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=Yf(U,_,0,null),o=Do(o,_,x,null),R.return=d,o.return=d,R.sibling=o,d.child=R,d.child.memoizedState=nm(x),d.memoizedState=rm,o):im(d,U));if(P=o.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return eR(o,d,U,_,K,P,x);if(R){R=_.fallback,U=d.mode,P=o.child,K=P.sibling;var Q={mode:"hidden",children:_.children};return(U&1)===0&&d.child!==P?(_=d.child,_.childLanes=0,_.pendingProps=Q,d.deletions=null):(_=qs(P,Q),_.subtreeFlags=P.subtreeFlags&14680064),K!==null?R=qs(K,R):(R=Do(R,U,x,null),R.flags|=2),R.return=d,_.return=d,_.sibling=R,d.child=_,_=R,R=d.child,U=o.child.memoizedState,U=U===null?nm(x):{baseLanes:U.baseLanes|x,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=o.childLanes&~x,d.memoizedState=rm,_}return R=o.child,o=R.sibling,_=qs(R,{mode:"visible",children:_.children}),(d.mode&1)===0&&(_.lanes=x),_.return=d,_.sibling=null,o!==null&&(x=d.deletions,x===null?(d.deletions=[o],d.flags|=16):x.push(o)),d.child=_,d.memoizedState=null,_}function im(o,d){return d=Yf({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Df(o,d,x,_){return _!==null&&P1(_),zl(d,o.child,null,x),o=im(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function eR(o,d,x,_,P,R,U){if(x)return d.flags&256?(d.flags&=-257,_=Q1(Error(r(422))),Df(o,d,U,_)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(R=_.fallback,P=d.mode,_=Yf({mode:"visible",children:_.children},P,0,null),R=Do(R,P,U,null),R.flags|=2,_.return=d,R.return=d,_.sibling=R,d.child=_,(d.mode&1)!==0&&zl(d,o.child,null,U),d.child.memoizedState=nm(U),d.memoizedState=rm,R);if((d.mode&1)===0)return Df(o,d,U,null);if(P.data==="$!"){if(_=P.nextSibling&&P.nextSibling.dataset,_)var K=_.dgst;return _=K,R=Error(r(419)),_=Q1(R,_,void 0),Df(o,d,U,_)}if(K=(U&o.childLanes)!==0,Xn||K){if(_=ln,_!==null){switch(U&-U){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(_.suspendedLanes|U))!==0?0:P,P!==0&&P!==R.retryLane&&(R.retryLane=P,Ga(o,P),sa(_,o,P,-1))}return wm(),_=Q1(Error(r(421))),Df(o,d,U,_)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=hR.bind(null,o),P._reactRetry=d,null):(o=R.treeContext,gi=Ds(P.nextSibling),mi=d,or=!0,ra=null,o!==null&&(Di[Li++]=Ha,Di[Li++]=Va,Di[Li++]=Oo,Ha=o.id,Va=o.overflow,Oo=d),d=im(d,_.children),d.flags|=4096,d)}function P2(o,d,x){o.lanes|=d;var _=o.alternate;_!==null&&(_.lanes|=d),M1(o.return,d,x)}function am(o,d,x,_,P){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:_,tail:x,tailMode:P}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=_,R.tail=x,R.tailMode=P)}function k2(o,d,x){var _=d.pendingProps,P=_.revealOrder,R=_.tail;if(Fn(o,d,_.children,x),_=gr.current,(_&2)!==0)_=_&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&P2(o,x,d);else if(o.tag===19)P2(o,x,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if(Qt(gr,_),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(x=d.child,P=null;x!==null;)o=x.alternate,o!==null&&Tf(o)===null&&(P=x),x=x.sibling;x=P,x===null?(P=d.child,d.child=null):(P=x.sibling,x.sibling=null),am(d,!1,P,x,R);break;case"backwards":for(x=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&Tf(o)===null){d.child=P;break}o=P.sibling,P.sibling=x,x=P,P=o}am(d,!0,x,null,R);break;case"together":am(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Lf(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function Ka(o,d,x){if(o!==null&&(d.dependencies=o.dependencies),ko|=d.lanes,(x&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,x=qs(o,o.pendingProps),d.child=x,x.return=d;o.sibling!==null;)o=o.sibling,x=x.sibling=qs(o,o.pendingProps),x.return=d;x.sibling=null}return d.child}function tR(o,d,x){switch(d.tag){case 3:I2(d),Ul();break;case 5:Gb(d);break;case 1:Yn(d.type)&&xf(d);break;case 4:B1(d,d.stateNode.containerInfo);break;case 10:var _=d.type._context,P=d.memoizedProps.value;Qt(Sf,_._currentValue),_._currentValue=P;break;case 13:if(_=d.memoizedState,_!==null)return _.dehydrated!==null?(Qt(gr,gr.current&1),d.flags|=128,null):(x&d.child.childLanes)!==0?N2(o,d,x):(Qt(gr,gr.current&1),o=Ka(o,d,x),o!==null?o.sibling:null);Qt(gr,gr.current&1);break;case 19:if(_=(x&d.childLanes)!==0,(o.flags&128)!==0){if(_)return k2(o,d,x);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Qt(gr,gr.current),_)break;return null;case 22:case 23:return d.lanes=0,S2(o,d,x)}return Ka(o,d,x)}var R2,sm,j2,M2;R2=function(o,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},sm=function(){},j2=function(o,d,x,_){var P=o.memoizedProps;if(P!==_){o=d.stateNode,No(Aa.current);var R=null;switch(x){case"input":P=ot(o,P),_=ot(o,_),R=[];break;case"select":P=be({},P,{value:void 0}),_=be({},_,{value:void 0}),R=[];break;case"textarea":P=Es(o,P),_=Es(o,_),R=[];break;default:typeof P.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=gf)}kt(x,_);var U;x=null;for(me in P)if(!_.hasOwnProperty(me)&&P.hasOwnProperty(me)&&P[me]!=null)if(me==="style"){var K=P[me];for(U in K)K.hasOwnProperty(U)&&(x||(x={}),x[U]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?R||(R=[]):(R=R||[]).push(me,null));for(me in _){var Q=_[me];if(K=P?.[me],_.hasOwnProperty(me)&&Q!==K&&(Q!=null||K!=null))if(me==="style")if(K){for(U in K)!K.hasOwnProperty(U)||Q&&Q.hasOwnProperty(U)||(x||(x={}),x[U]="");for(U in Q)Q.hasOwnProperty(U)&&K[U]!==Q[U]&&(x||(x={}),x[U]=Q[U])}else x||(R||(R=[]),R.push(me,x)),x=Q;else me==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,K=K?K.__html:void 0,Q!=null&&K!==Q&&(R=R||[]).push(me,Q)):me==="children"?typeof Q!="string"&&typeof Q!="number"||(R=R||[]).push(me,""+Q):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(Q!=null&&me==="onScroll"&&rr("scroll",o),R||K===Q||(R=[])):(R=R||[]).push(me,Q))}x&&(R=R||[]).push("style",x);var me=R;(d.updateQueue=me)&&(d.flags|=4)}},M2=function(o,d,x,_){x!==_&&(d.flags|=4)};function Su(o,d){if(!or)switch(o.tailMode){case"hidden":d=o.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var _=null;x!==null;)x.alternate!==null&&(_=x),x=x.sibling;_===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function kn(o){var d=o.alternate!==null&&o.alternate.child===o.child,x=0,_=0;if(d)for(var P=o.child;P!==null;)x|=P.lanes|P.childLanes,_|=P.subtreeFlags&14680064,_|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)x|=P.lanes|P.childLanes,_|=P.subtreeFlags,_|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=_,o.childLanes=x,d}function rR(o,d,x){var _=d.pendingProps;switch(I1(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(d),null;case 1:return Yn(d.type)&&yf(),kn(d),null;case 3:return _=d.stateNode,Hl(),nr(Kn),nr(Nn),z1(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(_f(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ra!==null&&(vm(ra),ra=null))),sm(o,d),kn(d),null;case 5:F1(d);var P=No(wu.current);if(x=d.type,o!==null&&d.stateNode!=null)j2(o,d,x,_,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!_){if(d.stateNode===null)throw Error(r(166));return kn(d),null}if(o=No(Aa.current),_f(d)){_=d.stateNode,x=d.type;var R=d.memoizedProps;switch(_[_a]=d,_[mu]=R,o=(d.mode&1)!==0,x){case"dialog":rr("cancel",_),rr("close",_);break;case"iframe":case"object":case"embed":rr("load",_);break;case"video":case"audio":for(P=0;P<fu.length;P++)rr(fu[P],_);break;case"source":rr("error",_);break;case"img":case"image":case"link":rr("error",_),rr("load",_);break;case"details":rr("toggle",_);break;case"input":St(_,R),rr("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!R.multiple},rr("invalid",_);break;case"textarea":Hc(_,R),rr("invalid",_)}kt(x,R),P=null;for(var U in R)if(R.hasOwnProperty(U)){var K=R[U];U==="children"?typeof K=="string"?_.textContent!==K&&(R.suppressHydrationWarning!==!0&&mf(_.textContent,K,o),P=["children",K]):typeof K=="number"&&_.textContent!==""+K&&(R.suppressHydrationWarning!==!0&&mf(_.textContent,K,o),P=["children",""+K]):i.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&rr("scroll",_)}switch(x){case"input":Oe(_),It(_,R,!0);break;case"textarea":Oe(_),bl(_);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(_.onclick=gf)}_=P,d.updateQueue=_,_!==null&&(d.flags|=4)}else{U=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Hn(x)),o==="http://www.w3.org/1999/xhtml"?x==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=U.createElement(x,{is:_.is}):(o=U.createElement(x),x==="select"&&(U=o,_.multiple?U.multiple=!0:_.size&&(U.size=_.size))):o=U.createElementNS(o,x),o[_a]=d,o[mu]=_,R2(o,d,!1,!1),d.stateNode=o;e:{switch(U=Kt(x,_),x){case"dialog":rr("cancel",o),rr("close",o),P=_;break;case"iframe":case"object":case"embed":rr("load",o),P=_;break;case"video":case"audio":for(P=0;P<fu.length;P++)rr(fu[P],o);P=_;break;case"source":rr("error",o),P=_;break;case"img":case"image":case"link":rr("error",o),rr("load",o),P=_;break;case"details":rr("toggle",o),P=_;break;case"input":St(o,_),P=ot(o,_),rr("invalid",o);break;case"option":P=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},P=be({},_,{value:void 0}),rr("invalid",o);break;case"textarea":Hc(o,_),P=Es(o,_),rr("invalid",o);break;default:P=_}kt(x,P),K=P;for(R in K)if(K.hasOwnProperty(R)){var Q=K[R];R==="style"?Le(o,Q):R==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&nn(o,Q)):R==="children"?typeof Q=="string"?(x!=="textarea"||Q!=="")&&_s(o,Q):typeof Q=="number"&&_s(o,""+Q):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?Q!=null&&R==="onScroll"&&rr("scroll",o):Q!=null&&j(o,R,Q,U))}switch(x){case"input":Oe(o),It(o,_,!1);break;case"textarea":Oe(o),bl(o);break;case"option":_.value!=null&&o.setAttribute("value",""+ve(_.value));break;case"select":o.multiple=!!_.multiple,R=_.value,R!=null?$e(o,!!_.multiple,R,!1):_.defaultValue!=null&&$e(o,!!_.multiple,_.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=gf)}switch(x){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return kn(d),null;case 6:if(o&&d.stateNode!=null)M2(o,d,o.memoizedProps,_);else{if(typeof _!="string"&&d.stateNode===null)throw Error(r(166));if(x=No(wu.current),No(Aa.current),_f(d)){if(_=d.stateNode,x=d.memoizedProps,_[_a]=d,(R=_.nodeValue!==x)&&(o=mi,o!==null))switch(o.tag){case 3:mf(_.nodeValue,x,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&mf(_.nodeValue,x,(o.mode&1)!==0)}R&&(d.flags|=4)}else _=(x.nodeType===9?x:x.ownerDocument).createTextNode(_),_[_a]=d,d.stateNode=_}return kn(d),null;case 13:if(nr(gr),_=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(or&&gi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Bb(),Ul(),d.flags|=98560,R=!1;else if(R=_f(d),_!==null&&_.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[_a]=d}else Ul(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;kn(d),R=!1}else ra!==null&&(vm(ra),ra=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=x,d):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(gr.current&1)!==0?Xr===0&&(Xr=3):wm())),d.updateQueue!==null&&(d.flags|=4),kn(d),null);case 4:return Hl(),sm(o,d),o===null&&hu(d.stateNode.containerInfo),kn(d),null;case 10:return j1(d.type._context),kn(d),null;case 17:return Yn(d.type)&&yf(),kn(d),null;case 19:if(nr(gr),R=d.memoizedState,R===null)return kn(d),null;if(_=(d.flags&128)!==0,U=R.rendering,U===null)if(_)Su(R,!1);else{if(Xr!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=Tf(o),U!==null){for(d.flags|=128,Su(R,!1),_=U.updateQueue,_!==null&&(d.updateQueue=_,d.flags|=4),d.subtreeFlags=0,_=x,x=d.child;x!==null;)R=x,o=_,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,o=U.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),x=x.sibling;return Qt(gr,gr.current&1|2),d.child}o=o.sibling}R.tail!==null&&Mt()>Kl&&(d.flags|=128,_=!0,Su(R,!1),d.lanes=4194304)}else{if(!_)if(o=Tf(U),o!==null){if(d.flags|=128,_=!0,x=o.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),Su(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!or)return kn(d),null}else 2*Mt()-R.renderingStartTime>Kl&&x!==1073741824&&(d.flags|=128,_=!0,Su(R,!1),d.lanes=4194304);R.isBackwards?(U.sibling=d.child,d.child=U):(x=R.last,x!==null?x.sibling=U:d.child=U,R.last=U)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Mt(),d.sibling=null,x=gr.current,Qt(gr,_?x&1|2:x&1),d):(kn(d),null);case 22:case 23:return xm(),_=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(d.flags|=8192),_&&(d.mode&1)!==0?(vi&1073741824)!==0&&(kn(d),d.subtreeFlags&6&&(d.flags|=8192)):kn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function nR(o,d){switch(I1(d),d.tag){case 1:return Yn(d.type)&&yf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Hl(),nr(Kn),nr(Nn),z1(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return F1(d),null;case 13:if(nr(gr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Ul()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return nr(gr),null;case 4:return Hl(),null;case 10:return j1(d.type._context),null;case 22:case 23:return xm(),null;case 24:return null;default:return null}}var Bf=!1,Rn=!1,iR=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Gl(o,d){var x=o.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(_){_r(o,d,_)}else x.current=null}function om(o,d,x){try{x()}catch(_){_r(o,d,_)}}var D2=!1;function aR(o,d){if(x1=ba,o=gt(),dt(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var _=x.getSelection&&x.getSelection();if(_&&_.rangeCount!==0){x=_.anchorNode;var P=_.anchorOffset,R=_.focusNode;_=_.focusOffset;try{x.nodeType,R.nodeType}catch{x=null;break e}var U=0,K=-1,Q=-1,me=0,Ie=0,Ne=o,Se=null;t:for(;;){for(var ze;Ne!==x||P!==0&&Ne.nodeType!==3||(K=U+P),Ne!==R||_!==0&&Ne.nodeType!==3||(Q=U+_),Ne.nodeType===3&&(U+=Ne.nodeValue.length),(ze=Ne.firstChild)!==null;)Se=Ne,Ne=ze;for(;;){if(Ne===o)break t;if(Se===x&&++me===P&&(K=U),Se===R&&++Ie===_&&(Q=U),(ze=Ne.nextSibling)!==null)break;Ne=Se,Se=Ne.parentNode}Ne=ze}x=K===-1||Q===-1?null:{start:K,end:Q}}else x=null}x=x||{start:0,end:0}}else x=null;for(w1={focusedElem:o,selectionRange:x},ba=!1,Ve=d;Ve!==null;)if(d=Ve,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Ve=o;else for(;Ve!==null;){d=Ve;try{var Ke=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Xe=Ke.memoizedProps,kr=Ke.memoizedState,oe=d.stateNode,te=oe.getSnapshotBeforeUpdate(d.elementType===d.type?Xe:na(d.type,Xe),kr);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ce=d.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(je){_r(d,d.return,je)}if(o=d.sibling,o!==null){o.return=d.return,Ve=o;break}Ve=d.return}return Ke=D2,D2=!1,Ke}function Cu(o,d,x){var _=d.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var P=_=_.next;do{if((P.tag&o)===o){var R=P.destroy;P.destroy=void 0,R!==void 0&&om(d,x,R)}P=P.next}while(P!==_)}}function Ff(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&o)===o){var _=x.create;x.destroy=_()}x=x.next}while(x!==d)}}function lm(o){var d=o.ref;if(d!==null){var x=o.stateNode;switch(o.tag){case 5:o=x;break;default:o=x}typeof d=="function"?d(o):d.current=o}}function L2(o){var d=o.alternate;d!==null&&(o.alternate=null,L2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[_a],delete d[mu],delete d[A1],delete d[zk],delete d[$k])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function B2(o){return o.tag===5||o.tag===3||o.tag===4}function F2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||B2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function cm(o,d,x){var _=o.tag;if(_===5||_===6)o=o.stateNode,d?x.nodeType===8?x.parentNode.insertBefore(o,d):x.insertBefore(o,d):(x.nodeType===8?(d=x.parentNode,d.insertBefore(o,x)):(d=x,d.appendChild(o)),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=gf));else if(_!==4&&(o=o.child,o!==null))for(cm(o,d,x),o=o.sibling;o!==null;)cm(o,d,x),o=o.sibling}function um(o,d,x){var _=o.tag;if(_===5||_===6)o=o.stateNode,d?x.insertBefore(o,d):x.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(um(o,d,x),o=o.sibling;o!==null;)um(o,d,x),o=o.sibling}var xn=null,ia=!1;function $s(o,d,x){for(x=x.child;x!==null;)U2(o,d,x),x=x.sibling}function U2(o,d,x){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(_t,x)}catch{}switch(x.tag){case 5:Rn||Gl(x,d);case 6:var _=xn,P=ia;xn=null,$s(o,d,x),xn=_,ia=P,xn!==null&&(ia?(o=xn,x=x.stateNode,o.nodeType===8?o.parentNode.removeChild(x):o.removeChild(x)):xn.removeChild(x.stateNode));break;case 18:xn!==null&&(ia?(o=xn,x=x.stateNode,o.nodeType===8?_1(o.parentNode,x):o.nodeType===1&&_1(o,x),Ji(o)):_1(xn,x.stateNode));break;case 4:_=xn,P=ia,xn=x.stateNode.containerInfo,ia=!0,$s(o,d,x),xn=_,ia=P;break;case 0:case 11:case 14:case 15:if(!Rn&&(_=x.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){P=_=_.next;do{var R=P,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&om(x,d,U),P=P.next}while(P!==_)}$s(o,d,x);break;case 1:if(!Rn&&(Gl(x,d),_=x.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=x.memoizedProps,_.state=x.memoizedState,_.componentWillUnmount()}catch(K){_r(x,d,K)}$s(o,d,x);break;case 21:$s(o,d,x);break;case 22:x.mode&1?(Rn=(_=Rn)||x.memoizedState!==null,$s(o,d,x),Rn=_):$s(o,d,x);break;default:$s(o,d,x)}}function z2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var x=o.stateNode;x===null&&(x=o.stateNode=new iR),d.forEach(function(_){var P=pR.bind(null,o,_);x.has(_)||(x.add(_),_.then(P,P))})}}function aa(o,d){var x=d.deletions;if(x!==null)for(var _=0;_<x.length;_++){var P=x[_];try{var R=o,U=d,K=U;e:for(;K!==null;){switch(K.tag){case 5:xn=K.stateNode,ia=!1;break e;case 3:xn=K.stateNode.containerInfo,ia=!0;break e;case 4:xn=K.stateNode.containerInfo,ia=!0;break e}K=K.return}if(xn===null)throw Error(r(160));U2(R,U,P),xn=null,ia=!1;var Q=P.alternate;Q!==null&&(Q.return=null),P.return=null}catch(me){_r(P,d,me)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)$2(d,o),d=d.sibling}function $2(o,d){var x=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(aa(d,o),Ca(o),_&4){try{Cu(3,o,o.return),Ff(3,o)}catch(Xe){_r(o,o.return,Xe)}try{Cu(5,o,o.return)}catch(Xe){_r(o,o.return,Xe)}}break;case 1:aa(d,o),Ca(o),_&512&&x!==null&&Gl(x,x.return);break;case 5:if(aa(d,o),Ca(o),_&512&&x!==null&&Gl(x,x.return),o.flags&32){var P=o.stateNode;try{_s(P,"")}catch(Xe){_r(o,o.return,Xe)}}if(_&4&&(P=o.stateNode,P!=null)){var R=o.memoizedProps,U=x!==null?x.memoizedProps:R,K=o.type,Q=o.updateQueue;if(o.updateQueue=null,Q!==null)try{K==="input"&&R.type==="radio"&&R.name!=null&&wr(P,R),Kt(K,U);var me=Kt(K,R);for(U=0;U<Q.length;U+=2){var Ie=Q[U],Ne=Q[U+1];Ie==="style"?Le(P,Ne):Ie==="dangerouslySetInnerHTML"?nn(P,Ne):Ie==="children"?_s(P,Ne):j(P,Ie,Ne,me)}switch(K){case"input":Bt(P,R);break;case"textarea":Ni(P,R);break;case"select":var Se=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!R.multiple;var ze=R.value;ze!=null?$e(P,!!R.multiple,ze,!1):Se!==!!R.multiple&&(R.defaultValue!=null?$e(P,!!R.multiple,R.defaultValue,!0):$e(P,!!R.multiple,R.multiple?[]:"",!1))}P[mu]=R}catch(Xe){_r(o,o.return,Xe)}}break;case 6:if(aa(d,o),Ca(o),_&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,R=o.memoizedProps;try{P.nodeValue=R}catch(Xe){_r(o,o.return,Xe)}}break;case 3:if(aa(d,o),Ca(o),_&4&&x!==null&&x.memoizedState.isDehydrated)try{Ji(d.containerInfo)}catch(Xe){_r(o,o.return,Xe)}break;case 4:aa(d,o),Ca(o);break;case 13:aa(d,o),Ca(o),P=o.child,P.flags&8192&&(R=P.memoizedState!==null,P.stateNode.isHidden=R,!R||P.alternate!==null&&P.alternate.memoizedState!==null||(hm=Mt())),_&4&&z2(o);break;case 22:if(Ie=x!==null&&x.memoizedState!==null,o.mode&1?(Rn=(me=Rn)||Ie,aa(d,o),Rn=me):aa(d,o),Ca(o),_&8192){if(me=o.memoizedState!==null,(o.stateNode.isHidden=me)&&!Ie&&(o.mode&1)!==0)for(Ve=o,Ie=o.child;Ie!==null;){for(Ne=Ve=Ie;Ve!==null;){switch(Se=Ve,ze=Se.child,Se.tag){case 0:case 11:case 14:case 15:Cu(4,Se,Se.return);break;case 1:Gl(Se,Se.return);var Ke=Se.stateNode;if(typeof Ke.componentWillUnmount=="function"){_=Se,x=Se.return;try{d=_,Ke.props=d.memoizedProps,Ke.state=d.memoizedState,Ke.componentWillUnmount()}catch(Xe){_r(_,x,Xe)}}break;case 5:Gl(Se,Se.return);break;case 22:if(Se.memoizedState!==null){V2(Ne);continue}}ze!==null?(ze.return=Se,Ve=ze):V2(Ne)}Ie=Ie.sibling}e:for(Ie=null,Ne=o;;){if(Ne.tag===5){if(Ie===null){Ie=Ne;try{P=Ne.stateNode,me?(R=P.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(K=Ne.stateNode,Q=Ne.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,K.style.display=pr("display",U))}catch(Xe){_r(o,o.return,Xe)}}}else if(Ne.tag===6){if(Ie===null)try{Ne.stateNode.nodeValue=me?"":Ne.memoizedProps}catch(Xe){_r(o,o.return,Xe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===o)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===o)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===o)break e;Ie===Ne&&(Ie=null),Ne=Ne.return}Ie===Ne&&(Ie=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:aa(d,o),Ca(o),_&4&&z2(o);break;case 21:break;default:aa(d,o),Ca(o)}}function Ca(o){var d=o.flags;if(d&2){try{e:{for(var x=o.return;x!==null;){if(B2(x)){var _=x;break e}x=x.return}throw Error(r(160))}switch(_.tag){case 5:var P=_.stateNode;_.flags&32&&(_s(P,""),_.flags&=-33);var R=F2(o);um(o,R,P);break;case 3:case 4:var U=_.stateNode.containerInfo,K=F2(o);cm(o,K,U);break;default:throw Error(r(161))}}catch(Q){_r(o,o.return,Q)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function sR(o,d,x){Ve=o,W2(o)}function W2(o,d,x){for(var _=(o.mode&1)!==0;Ve!==null;){var P=Ve,R=P.child;if(P.tag===22&&_){var U=P.memoizedState!==null||Bf;if(!U){var K=P.alternate,Q=K!==null&&K.memoizedState!==null||Rn;K=Bf;var me=Rn;if(Bf=U,(Rn=Q)&&!me)for(Ve=P;Ve!==null;)U=Ve,Q=U.child,U.tag===22&&U.memoizedState!==null?G2(P):Q!==null?(Q.return=U,Ve=Q):G2(P);for(;R!==null;)Ve=R,W2(R),R=R.sibling;Ve=P,Bf=K,Rn=me}H2(o)}else(P.subtreeFlags&8772)!==0&&R!==null?(R.return=P,Ve=R):H2(o)}}function H2(o){for(;Ve!==null;){var d=Ve;if((d.flags&8772)!==0){var x=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Rn||Ff(5,d);break;case 1:var _=d.stateNode;if(d.flags&4&&!Rn)if(x===null)_.componentDidMount();else{var P=d.elementType===d.type?x.memoizedProps:na(d.type,x.memoizedProps);_.componentDidUpdate(P,x.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&Vb(d,R,_);break;case 3:var U=d.updateQueue;if(U!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=d.child.stateNode;break;case 1:x=d.child.stateNode}Vb(d,U,x)}break;case 5:var K=d.stateNode;if(x===null&&d.flags&4){x=K;var Q=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&x.focus();break;case"img":Q.src&&(x.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var me=d.alternate;if(me!==null){var Ie=me.memoizedState;if(Ie!==null){var Ne=Ie.dehydrated;Ne!==null&&Ji(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rn||d.flags&512&&lm(d)}catch(Se){_r(d,d.return,Se)}}if(d===o){Ve=null;break}if(x=d.sibling,x!==null){x.return=d.return,Ve=x;break}Ve=d.return}}function V2(o){for(;Ve!==null;){var d=Ve;if(d===o){Ve=null;break}var x=d.sibling;if(x!==null){x.return=d.return,Ve=x;break}Ve=d.return}}function G2(o){for(;Ve!==null;){var d=Ve;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{Ff(4,d)}catch(Q){_r(d,x,Q)}break;case 1:var _=d.stateNode;if(typeof _.componentDidMount=="function"){var P=d.return;try{_.componentDidMount()}catch(Q){_r(d,P,Q)}}var R=d.return;try{lm(d)}catch(Q){_r(d,R,Q)}break;case 5:var U=d.return;try{lm(d)}catch(Q){_r(d,U,Q)}}}catch(Q){_r(d,d.return,Q)}if(d===o){Ve=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Ve=K;break}Ve=d.return}}var oR=Math.ceil,Uf=z.ReactCurrentDispatcher,dm=z.ReactCurrentOwner,Ui=z.ReactCurrentBatchConfig,Ot=0,ln=null,Lr=null,wn=0,vi=0,ql=Ls(0),Xr=0,Ou=null,ko=0,zf=0,fm=0,Iu=null,Zn=null,hm=0,Kl=1/0,Ya=null,$f=!1,pm=null,Ws=null,Wf=!1,Hs=null,Hf=0,Tu=0,mm=null,Vf=-1,Gf=0;function Un(){return(Ot&6)!==0?Mt():Vf!==-1?Vf:Vf=Mt()}function Vs(o){return(o.mode&1)===0?1:(Ot&2)!==0&&wn!==0?wn&-wn:Hk.transition!==null?(Gf===0&&(Gf=Vr()),Gf):(o=mt,o!==0||(o=window.event,o=o===void 0?16:ru(o.type)),o)}function sa(o,d,x,_){if(50<Tu)throw Tu=0,mm=null,Error(r(185));G(o,x,_),((Ot&2)===0||o!==ln)&&(o===ln&&((Ot&2)===0&&(zf|=x),Xr===4&&Gs(o,wn)),Qn(o,_),x===1&&Ot===0&&(d.mode&1)===0&&(Kl=Mt()+500,wf&&Fs()))}function Qn(o,d){var x=o.callbackNode;Cs(o,d);var _=di(o,o===ln?wn:0);if(_===0)x!==null&&an(x),o.callbackNode=null,o.callbackPriority=0;else if(d=_&-_,o.callbackPriority!==d){if(x!=null&&an(x),d===1)o.tag===0?Wk(K2.bind(null,o)):Rb(K2.bind(null,o)),Fk(function(){(Ot&6)===0&&Fs()}),x=null;else{switch(ef(_)){case 1:x=Ee;break;case 4:x=Qd;break;case 16:x=Wt;break;case 536870912:x=Jd;break;default:x=Wt}x=rE(x,q2.bind(null,o))}o.callbackPriority=d,o.callbackNode=x}}function q2(o,d){if(Vf=-1,Gf=0,(Ot&6)!==0)throw Error(r(327));var x=o.callbackNode;if(Yl()&&o.callbackNode!==x)return null;var _=di(o,o===ln?wn:0);if(_===0)return null;if((_&30)!==0||(_&o.expiredLanes)!==0||d)d=qf(o,_);else{d=_;var P=Ot;Ot|=2;var R=X2();(ln!==o||wn!==d)&&(Ya=null,Kl=Mt()+500,jo(o,d));do try{uR();break}catch(K){Y2(o,K)}while(!0);R1(),Uf.current=R,Ot=P,Lr!==null?d=0:(ln=null,wn=0,d=Xr)}if(d!==0){if(d===2&&(P=Dt(o),P!==0&&(_=P,d=gm(o,P))),d===1)throw x=Ou,jo(o,0),Gs(o,_),Qn(o,Mt()),x;if(d===6)Gs(o,_);else{if(P=o.current.alternate,(_&30)===0&&!lR(P)&&(d=qf(o,_),d===2&&(R=Dt(o),R!==0&&(_=R,d=gm(o,R))),d===1))throw x=Ou,jo(o,0),Gs(o,_),Qn(o,Mt()),x;switch(o.finishedWork=P,o.finishedLanes=_,d){case 0:case 1:throw Error(r(345));case 2:Mo(o,Zn,Ya);break;case 3:if(Gs(o,_),(_&130023424)===_&&(d=hm+500-Mt(),10<d)){if(di(o,0)!==0)break;if(P=o.suspendedLanes,(P&_)!==_){Un(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=E1(Mo.bind(null,o,Zn,Ya),d);break}Mo(o,Zn,Ya);break;case 4:if(Gs(o,_),(_&4194240)===_)break;for(d=o.eventTimes,P=-1;0<_;){var U=31-Bn(_);R=1<<U,U=d[U],U>P&&(P=U),_&=~R}if(_=P,_=Mt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*oR(_/1960))-_,10<_){o.timeoutHandle=E1(Mo.bind(null,o,Zn,Ya),_);break}Mo(o,Zn,Ya);break;case 5:Mo(o,Zn,Ya);break;default:throw Error(r(329))}}}return Qn(o,Mt()),o.callbackNode===x?q2.bind(null,o):null}function gm(o,d){var x=Iu;return o.current.memoizedState.isDehydrated&&(jo(o,d).flags|=256),o=qf(o,d),o!==2&&(d=Zn,Zn=x,d!==null&&vm(d)),o}function vm(o){Zn===null?Zn=o:Zn.push.apply(Zn,o)}function lR(o){for(var d=o;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var _=0;_<x.length;_++){var P=x[_],R=P.getSnapshot;P=P.value;try{if(!ne(R(),P))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Gs(o,d){for(d&=~fm,d&=~zf,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var x=31-Bn(d),_=1<<x;o[x]=-1,d&=~_}}function K2(o){if((Ot&6)!==0)throw Error(r(327));Yl();var d=di(o,0);if((d&1)===0)return Qn(o,Mt()),null;var x=qf(o,d);if(o.tag!==0&&x===2){var _=Dt(o);_!==0&&(d=_,x=gm(o,_))}if(x===1)throw x=Ou,jo(o,0),Gs(o,d),Qn(o,Mt()),x;if(x===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Mo(o,Zn,Ya),Qn(o,Mt()),null}function ym(o,d){var x=Ot;Ot|=1;try{return o(d)}finally{Ot=x,Ot===0&&(Kl=Mt()+500,wf&&Fs())}}function Ro(o){Hs!==null&&Hs.tag===0&&(Ot&6)===0&&Yl();var d=Ot;Ot|=1;var x=Ui.transition,_=mt;try{if(Ui.transition=null,mt=1,o)return o()}finally{mt=_,Ui.transition=x,Ot=d,(Ot&6)===0&&Fs()}}function xm(){vi=ql.current,nr(ql)}function jo(o,d){o.finishedWork=null,o.finishedLanes=0;var x=o.timeoutHandle;if(x!==-1&&(o.timeoutHandle=-1,Bk(x)),Lr!==null)for(x=Lr.return;x!==null;){var _=x;switch(I1(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&yf();break;case 3:Hl(),nr(Kn),nr(Nn),z1();break;case 5:F1(_);break;case 4:Hl();break;case 13:nr(gr);break;case 19:nr(gr);break;case 10:j1(_.type._context);break;case 22:case 23:xm()}x=x.return}if(ln=o,Lr=o=qs(o.current,null),wn=vi=d,Xr=0,Ou=null,fm=zf=ko=0,Zn=Iu=null,To!==null){for(d=0;d<To.length;d++)if(x=To[d],_=x.interleaved,_!==null){x.interleaved=null;var P=_.next,R=x.pending;if(R!==null){var U=R.next;R.next=P,_.next=U}x.pending=_}To=null}return o}function Y2(o,d){do{var x=Lr;try{if(R1(),Nf.current=jf,Pf){for(var _=vr.memoizedState;_!==null;){var P=_.queue;P!==null&&(P.pending=null),_=_.next}Pf=!1}if(Po=0,on=Yr=vr=null,bu=!1,Eu=0,dm.current=null,x===null||x.return===null){Xr=1,Ou=d,Lr=null;break}e:{var R=o,U=x.return,K=x,Q=d;if(d=wn,K.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=Q,Ie=K,Ne=Ie.tag;if((Ie.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Se=Ie.alternate;Se?(Ie.updateQueue=Se.updateQueue,Ie.memoizedState=Se.memoizedState,Ie.lanes=Se.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var ze=w2(U);if(ze!==null){ze.flags&=-257,b2(ze,U,K,R,d),ze.mode&1&&x2(R,me,d),d=ze,Q=me;var Ke=d.updateQueue;if(Ke===null){var Xe=new Set;Xe.add(Q),d.updateQueue=Xe}else Ke.add(Q);break e}else{if((d&1)===0){x2(R,me,d),wm();break e}Q=Error(r(426))}}else if(or&&K.mode&1){var kr=w2(U);if(kr!==null){(kr.flags&65536)===0&&(kr.flags|=256),b2(kr,U,K,R,d),P1(Vl(Q,K));break e}}R=Q=Vl(Q,K),Xr!==4&&(Xr=2),Iu===null?Iu=[R]:Iu.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var oe=v2(R,Q,d);Hb(R,oe);break e;case 1:K=Q;var te=R.type,ce=R.stateNode;if((R.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Ws===null||!Ws.has(ce)))){R.flags|=65536,d&=-d,R.lanes|=d;var je=y2(R,K,d);Hb(R,je);break e}}R=R.return}while(R!==null)}Q2(x)}catch(Qe){d=Qe,Lr===x&&x!==null&&(Lr=x=x.return);continue}break}while(!0)}function X2(){var o=Uf.current;return Uf.current=jf,o===null?jf:o}function wm(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),ln===null||(ko&268435455)===0&&(zf&268435455)===0||Gs(ln,wn)}function qf(o,d){var x=Ot;Ot|=2;var _=X2();(ln!==o||wn!==d)&&(Ya=null,jo(o,d));do try{cR();break}catch(P){Y2(o,P)}while(!0);if(R1(),Ot=x,Uf.current=_,Lr!==null)throw Error(r(261));return ln=null,wn=0,Xr}function cR(){for(;Lr!==null;)Z2(Lr)}function uR(){for(;Lr!==null&&!Yt();)Z2(Lr)}function Z2(o){var d=tE(o.alternate,o,vi);o.memoizedProps=o.pendingProps,d===null?Q2(o):Lr=d,dm.current=null}function Q2(o){var d=o;do{var x=d.alternate;if(o=d.return,(d.flags&32768)===0){if(x=rR(x,d,vi),x!==null){Lr=x;return}}else{if(x=nR(x,d),x!==null){x.flags&=32767,Lr=x;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Xr=6,Lr=null;return}}if(d=d.sibling,d!==null){Lr=d;return}Lr=d=o}while(d!==null);Xr===0&&(Xr=5)}function Mo(o,d,x){var _=mt,P=Ui.transition;try{Ui.transition=null,mt=1,dR(o,d,x,_)}finally{Ui.transition=P,mt=_}return null}function dR(o,d,x,_){do Yl();while(Hs!==null);if((Ot&6)!==0)throw Error(r(327));x=o.finishedWork;var P=o.finishedLanes;if(x===null)return null;if(o.finishedWork=null,o.finishedLanes=0,x===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=x.lanes|x.childLanes;if(et(o,R),o===ln&&(Lr=ln=null,wn=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Wf||(Wf=!0,rE(Wt,function(){return Yl(),null})),R=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||R){R=Ui.transition,Ui.transition=null;var U=mt;mt=1;var K=Ot;Ot|=4,dm.current=null,aR(o,x),$2(x,o),Tn(w1),ba=!!x1,w1=x1=null,o.current=x,sR(x),Zd(),Ot=K,mt=U,Ui.transition=R}else o.current=x;if(Wf&&(Wf=!1,Hs=o,Hf=P),R=o.pendingLanes,R===0&&(Ws=null),wt(x.stateNode),Qn(o,Mt()),d!==null)for(_=o.onRecoverableError,x=0;x<d.length;x++)P=d[x],_(P.value,{componentStack:P.stack,digest:P.digest});if($f)throw $f=!1,o=pm,pm=null,o;return(Hf&1)!==0&&o.tag!==0&&Yl(),R=o.pendingLanes,(R&1)!==0?o===mm?Tu++:(Tu=0,mm=o):Tu=0,Fs(),null}function Yl(){if(Hs!==null){var o=ef(Hf),d=Ui.transition,x=mt;try{if(Ui.transition=null,mt=16>o?16:o,Hs===null)var _=!1;else{if(o=Hs,Hs=null,Hf=0,(Ot&6)!==0)throw Error(r(331));var P=Ot;for(Ot|=4,Ve=o.current;Ve!==null;){var R=Ve,U=R.child;if((Ve.flags&16)!==0){var K=R.deletions;if(K!==null){for(var Q=0;Q<K.length;Q++){var me=K[Q];for(Ve=me;Ve!==null;){var Ie=Ve;switch(Ie.tag){case 0:case 11:case 15:Cu(8,Ie,R)}var Ne=Ie.child;if(Ne!==null)Ne.return=Ie,Ve=Ne;else for(;Ve!==null;){Ie=Ve;var Se=Ie.sibling,ze=Ie.return;if(L2(Ie),Ie===me){Ve=null;break}if(Se!==null){Se.return=ze,Ve=Se;break}Ve=ze}}}var Ke=R.alternate;if(Ke!==null){var Xe=Ke.child;if(Xe!==null){Ke.child=null;do{var kr=Xe.sibling;Xe.sibling=null,Xe=kr}while(Xe!==null)}}Ve=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,Ve=U;else e:for(;Ve!==null;){if(R=Ve,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Cu(9,R,R.return)}var oe=R.sibling;if(oe!==null){oe.return=R.return,Ve=oe;break e}Ve=R.return}}var te=o.current;for(Ve=te;Ve!==null;){U=Ve;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,Ve=ce;else e:for(U=te;Ve!==null;){if(K=Ve,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Ff(9,K)}}catch(Qe){_r(K,K.return,Qe)}if(K===U){Ve=null;break e}var je=K.sibling;if(je!==null){je.return=K.return,Ve=je;break e}Ve=K.return}}if(Ot=P,Fs(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(_t,o)}catch{}_=!0}return _}finally{mt=x,Ui.transition=d}}return!1}function J2(o,d,x){d=Vl(x,d),d=v2(o,d,1),o=zs(o,d,1),d=Un(),o!==null&&(G(o,1,d),Qn(o,d))}function _r(o,d,x){if(o.tag===3)J2(o,o,x);else for(;d!==null;){if(d.tag===3){J2(d,o,x);break}else if(d.tag===1){var _=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ws===null||!Ws.has(_))){o=Vl(x,o),o=y2(d,o,1),d=zs(d,o,1),o=Un(),d!==null&&(G(d,1,o),Qn(d,o));break}}d=d.return}}function fR(o,d,x){var _=o.pingCache;_!==null&&_.delete(d),d=Un(),o.pingedLanes|=o.suspendedLanes&x,ln===o&&(wn&x)===x&&(Xr===4||Xr===3&&(wn&130023424)===wn&&500>Mt()-hm?jo(o,0):fm|=x),Qn(o,d)}function eE(o,d){d===0&&((o.mode&1)===0?d=1:(d=Sl,Sl<<=1,(Sl&130023424)===0&&(Sl=4194304)));var x=Un();o=Ga(o,d),o!==null&&(G(o,d,x),Qn(o,x))}function hR(o){var d=o.memoizedState,x=0;d!==null&&(x=d.retryLane),eE(o,x)}function pR(o,d){var x=0;switch(o.tag){case 13:var _=o.stateNode,P=o.memoizedState;P!==null&&(x=P.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(d),eE(o,x)}var tE;tE=function(o,d,x){if(o!==null)if(o.memoizedProps!==d.pendingProps||Kn.current)Xn=!0;else{if((o.lanes&x)===0&&(d.flags&128)===0)return Xn=!1,tR(o,d,x);Xn=(o.flags&131072)!==0}else Xn=!1,or&&(d.flags&1048576)!==0&&jb(d,Ef,d.index);switch(d.lanes=0,d.tag){case 2:var _=d.type;Lf(o,d),o=d.pendingProps;var P=Ll(d,Nn.current);Wl(d,x),P=H1(null,d,_,o,P,x);var R=V1();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Yn(_)?(R=!0,xf(d)):R=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,L1(d),P.updater=Mf,d.stateNode=P,P._reactInternals=d,Z1(d,_,o,x),d=tm(null,d,_,!0,R,x)):(d.tag=0,or&&R&&O1(d),Fn(null,d,P,x),d=d.child),d;case 16:_=d.elementType;e:{switch(Lf(o,d),o=d.pendingProps,P=_._init,_=P(_._payload),d.type=_,P=d.tag=gR(_),o=na(_,o),P){case 0:d=em(null,d,_,o,x);break e;case 1:d=O2(null,d,_,o,x);break e;case 11:d=E2(null,d,_,o,x);break e;case 14:d=_2(null,d,_,na(_.type,o),x);break e}throw Error(r(306,_,""))}return d;case 0:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:na(_,P),em(o,d,_,P,x);case 1:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:na(_,P),O2(o,d,_,P,x);case 3:e:{if(I2(d),o===null)throw Error(r(387));_=d.pendingProps,R=d.memoizedState,P=R.element,Wb(o,d),If(d,_,null,x);var U=d.memoizedState;if(_=U.element,R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){P=Vl(Error(r(423)),d),d=T2(o,d,_,x,P);break e}else if(_!==P){P=Vl(Error(r(424)),d),d=T2(o,d,_,x,P);break e}else for(gi=Ds(d.stateNode.containerInfo.firstChild),mi=d,or=!0,ra=null,x=zb(d,null,_,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ul(),_===P){d=Ka(o,d,x);break e}Fn(o,d,_,x)}d=d.child}return d;case 5:return Gb(d),o===null&&N1(d),_=d.type,P=d.pendingProps,R=o!==null?o.memoizedProps:null,U=P.children,b1(_,P)?U=null:R!==null&&b1(_,R)&&(d.flags|=32),C2(o,d),Fn(o,d,U,x),d.child;case 6:return o===null&&N1(d),null;case 13:return N2(o,d,x);case 4:return B1(d,d.stateNode.containerInfo),_=d.pendingProps,o===null?d.child=zl(d,null,_,x):Fn(o,d,_,x),d.child;case 11:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:na(_,P),E2(o,d,_,P,x);case 7:return Fn(o,d,d.pendingProps,x),d.child;case 8:return Fn(o,d,d.pendingProps.children,x),d.child;case 12:return Fn(o,d,d.pendingProps.children,x),d.child;case 10:e:{if(_=d.type._context,P=d.pendingProps,R=d.memoizedProps,U=P.value,Qt(Sf,_._currentValue),_._currentValue=U,R!==null)if(ne(R.value,U)){if(R.children===P.children&&!Kn.current){d=Ka(o,d,x);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var K=R.dependencies;if(K!==null){U=R.child;for(var Q=K.firstContext;Q!==null;){if(Q.context===_){if(R.tag===1){Q=qa(-1,x&-x),Q.tag=2;var me=R.updateQueue;if(me!==null){me=me.shared;var Ie=me.pending;Ie===null?Q.next=Q:(Q.next=Ie.next,Ie.next=Q),me.pending=Q}}R.lanes|=x,Q=R.alternate,Q!==null&&(Q.lanes|=x),M1(R.return,x,d),K.lanes|=x;break}Q=Q.next}}else if(R.tag===10)U=R.type===d.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=x,K=U.alternate,K!==null&&(K.lanes|=x),M1(U,x,d),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===d){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}Fn(o,d,P.children,x),d=d.child}return d;case 9:return P=d.type,_=d.pendingProps.children,Wl(d,x),P=Bi(P),_=_(P),d.flags|=1,Fn(o,d,_,x),d.child;case 14:return _=d.type,P=na(_,d.pendingProps),P=na(_.type,P),_2(o,d,_,P,x);case 15:return A2(o,d,d.type,d.pendingProps,x);case 17:return _=d.type,P=d.pendingProps,P=d.elementType===_?P:na(_,P),Lf(o,d),d.tag=1,Yn(_)?(o=!0,xf(d)):o=!1,Wl(d,x),m2(d,_,P),Z1(d,_,P,x),tm(null,d,_,!0,o,x);case 19:return k2(o,d,x);case 22:return S2(o,d,x)}throw Error(r(156,d.tag))};function rE(o,d){return ci(o,d)}function mR(o,d,x,_){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(o,d,x,_){return new mR(o,d,x,_)}function bm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function gR(o){if(typeof o=="function")return bm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===de)return 11;if(o===J)return 14}return 2}function qs(o,d){var x=o.alternate;return x===null?(x=zi(o.tag,d,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=d,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&14680064,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,d=o.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x}function Kf(o,d,x,_,P,R){var U=2;if(_=o,typeof o=="function")bm(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case V:return Do(x.children,P,R,d);case re:U=8,P|=8;break;case Y:return o=zi(12,x,d,P|2),o.elementType=Y,o.lanes=R,o;case Ae:return o=zi(13,x,d,P),o.elementType=Ae,o.lanes=R,o;case ye:return o=zi(19,x,d,P),o.elementType=ye,o.lanes=R,o;case ie:return Yf(x,P,R,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case _e:U=10;break e;case ge:U=9;break e;case de:U=11;break e;case J:U=14;break e;case Me:U=16,_=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=zi(U,x,d,P),d.elementType=o,d.type=_,d.lanes=R,d}function Do(o,d,x,_){return o=zi(7,o,_,d),o.lanes=x,o}function Yf(o,d,x,_){return o=zi(22,o,_,d),o.elementType=ie,o.lanes=x,o.stateNode={isHidden:!1},o}function Em(o,d,x){return o=zi(6,o,null,d),o.lanes=x,o}function _m(o,d,x){return d=zi(4,o.children!==null?o.children:[],o.key,d),d.lanes=x,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function vR(o,d,x,_,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=se(0),this.expirationTimes=se(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.identifierPrefix=_,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Am(o,d,x,_,P,R,U,K,Q){return o=new vR(o,d,x,K,Q),d===1?(d=1,R===!0&&(d|=8)):d=0,R=zi(3,null,null,d),o.current=R,R.stateNode=o,R.memoizedState={element:_,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},L1(R),o}function yR(o,d,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:_==null?null:""+_,children:o,containerInfo:d,implementation:x}}function nE(o){if(!o)return Bs;o=o._reactInternals;e:{if(qn(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Yn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var x=o.type;if(Yn(x))return Pb(o,x,d)}return d}function iE(o,d,x,_,P,R,U,K,Q){return o=Am(x,_,!0,o,P,R,U,K,Q),o.context=nE(null),x=o.current,_=Un(),P=Vs(x),R=qa(_,P),R.callback=d??null,zs(x,R,P),o.current.lanes=P,G(o,P,_),Qn(o,_),o}function Xf(o,d,x,_){var P=d.current,R=Un(),U=Vs(P);return x=nE(x),d.context===null?d.context=x:d.pendingContext=x,d=qa(R,U),d.payload={element:o},_=_===void 0?null:_,_!==null&&(d.callback=_),o=zs(P,d,U),o!==null&&(sa(o,P,U,R),Of(o,P,U)),U}function Zf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function aE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<d?x:d}}function Sm(o,d){aE(o,d),(o=o.alternate)&&aE(o,d)}function xR(){return null}var sE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cm(o){this._internalRoot=o}Qf.prototype.render=Cm.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));Xf(o,d,null,null)},Qf.prototype.unmount=Cm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Ro(function(){Xf(null,o,null,null)}),d[$a]=null}};function Qf(o){this._internalRoot=o}Qf.prototype.unstable_scheduleHydration=function(o){if(o){var d=Xt();o={blockedOn:null,target:o,priority:d};for(var x=0;x<gn.length&&d!==0&&d<gn[x].priority;x++);gn.splice(x,0,o),x===0&&rf(o)}};function Om(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Jf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function oE(){}function wR(o,d,x,_,P){if(P){if(typeof _=="function"){var R=_;_=function(){var me=Zf(U);R.call(me)}}var U=iE(d,_,o,0,null,!1,!1,"",oE);return o._reactRootContainer=U,o[$a]=U.current,hu(o.nodeType===8?o.parentNode:o),Ro(),U}for(;P=o.lastChild;)o.removeChild(P);if(typeof _=="function"){var K=_;_=function(){var me=Zf(Q);K.call(me)}}var Q=Am(o,0,!1,null,null,!1,!1,"",oE);return o._reactRootContainer=Q,o[$a]=Q.current,hu(o.nodeType===8?o.parentNode:o),Ro(function(){Xf(d,Q,x,_)}),Q}function eh(o,d,x,_,P){var R=x._reactRootContainer;if(R){var U=R;if(typeof P=="function"){var K=P;P=function(){var Q=Zf(U);K.call(Q)}}Xf(d,U,o,P)}else U=wR(x,d,o,P,_);return Zf(U)}Cl=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var x=Ht(d.pendingLanes);x!==0&&(br(d,x|1),Qn(d,Mt()),(Ot&6)===0&&(Kl=Mt()+500,Fs()))}break;case 13:Ro(function(){var _=Ga(o,1);if(_!==null){var P=Un();sa(_,o,1,P)}}),Sm(o,1)}},In=function(o){if(o.tag===13){var d=Ga(o,134217728);if(d!==null){var x=Un();sa(d,o,134217728,x)}Sm(o,134217728)}},tt=function(o){if(o.tag===13){var d=Vs(o),x=Ga(o,d);if(x!==null){var _=Un();sa(x,o,d,_)}Sm(o,d)}},Xt=function(){return mt},Jc=function(o,d){var x=mt;try{return mt=o,d()}finally{mt=x}},_l=function(o,d,x){switch(d){case"input":if(Bt(o,x),d=x.name,x.type==="radio"&&d!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<x.length;d++){var _=x[d];if(_!==o&&_.form===o.form){var P=vf(_);if(!P)throw Error(r(90));xe(_),Bt(_,P)}}}break;case"textarea":Ni(o,x);break;case"select":d=x.value,d!=null&&$e(o,!!x.multiple,d,!1)}},Al=ym,Hr=Ro;var bR={usingClientEntryPoint:!1,Events:[gu,Ml,vf,Gc,Gn,ym]},Nu={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ER={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Yd(o),o===null?null:o.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||xR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{_t=th.inject(ER),pt=th}catch{}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR,Jn.createPortal=function(o,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(d))throw Error(r(200));return yR(o,d,null,x)},Jn.createRoot=function(o,d){if(!Om(o))throw Error(r(299));var x=!1,_="",P=sE;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=Am(o,1,!1,null,null,x,!1,_,P),o[$a]=d.current,hu(o.nodeType===8?o.parentNode:o),new Cm(d)},Jn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Yd(d),o=o===null?null:o.stateNode,o},Jn.flushSync=function(o){return Ro(o)},Jn.hydrate=function(o,d,x){if(!Jf(d))throw Error(r(200));return eh(null,o,d,!0,x)},Jn.hydrateRoot=function(o,d,x){if(!Om(o))throw Error(r(405));var _=x!=null&&x.hydratedSources||null,P=!1,R="",U=sE;if(x!=null&&(x.unstable_strictMode===!0&&(P=!0),x.identifierPrefix!==void 0&&(R=x.identifierPrefix),x.onRecoverableError!==void 0&&(U=x.onRecoverableError)),d=iE(d,null,o,1,x??null,P,!1,R,U),o[$a]=d.current,hu(o),_)for(o=0;o<_.length;o++)x=_[o],P=x._getVersion,P=P(x._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[x,P]:d.mutableSourceEagerHydrationData.push(x,P);return new Qf(d)},Jn.render=function(o,d,x){if(!Jf(d))throw Error(r(200));return eh(null,o,d,!1,x)},Jn.unmountComponentAtNode=function(o){if(!Jf(o))throw Error(r(40));return o._reactRootContainer?(Ro(function(){eh(null,null,o,!1,function(){o._reactRootContainer=null,o[$a]=null})}),!0):!1},Jn.unstable_batchedUpdates=ym,Jn.unstable_renderSubtreeIntoContainer=function(o,d,x,_){if(!Jf(x))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return eh(o,d,x,!1,_)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var mE;function E3(){if(mE)return Nm.exports;mE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nm.exports=NR(),Nm.exports}var gE;function PR(){if(gE)return nh;gE=1;var e=E3();return nh.createRoot=e.createRoot,nh.hydrateRoot=e.hydrateRoot,nh}var kR=PR();const RR=Xi(kR);var vE="popstate";function jR(e={}){function t(i,a){let{pathname:c="/",search:f="",hash:h=""}=ml(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ov("",{pathname:c,search:f,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=i.location.href,m=h.indexOf("#");f=m===-1?h:h.slice(0,m)}return f+"#"+(typeof a=="string"?a:Qu(a))}function n(i,a){Ai(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return DR(t,r,n,e)}function fr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ai(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MR(){return Math.random().toString(36).substring(2,10)}function yE(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:r,key:t&&t.key||n||MR()}}function Qu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function DR(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,f="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function w(){f="POP";let k=v(),D=k==null?null:k-m;m=k,h&&h({action:f,location:I.location,delta:D})}function E(k,D){f="PUSH";let L=Ov(I.location,k,D);r&&r(L,k),m=v()+1;let j=yE(L,m),z=I.createHref(L);try{c.pushState(j,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}a&&h&&h({action:f,location:I.location,delta:1})}function C(k,D){f="REPLACE";let L=Ov(I.location,k,D);r&&r(L,k),m=v();let j=yE(L,m),z=I.createHref(L);c.replaceState(j,"",z),a&&h&&h({action:f,location:I.location,delta:0})}function O(k){return LR(k)}let I={get action(){return f},get location(){return e(i,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(vE,w),h=k,()=>{i.removeEventListener(vE,w),h=null}},createHref(k){return t(i,k)},createURL:O,encodeLocation(k){let D=O(k);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:C,go(k){return c.go(k)}};return I}function LR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),fr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Qu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _3(e,t,r="/"){return BR(e,t,r,!1)}function BR(e,t,r,n){let i=typeof t=="string"?ml(t):t,a=ls(i.pathname||"/",r);if(a==null)return null;let c=A3(e);FR(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=XR(a);f=KR(c[h],m,n)}return f}function A3(e,t=[],r=[],n="",i=!1){let a=(c,f,h=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&h)return;fr(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let w=as([n,v.relativePath]),E=r.concat(v);c.children&&c.children.length>0&&(fr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),A3(c.children,t,E,w,h)),!(c.path==null&&!c.index)&&t.push({path:w,score:GR(w,c.index),routesMeta:E})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))a(c,f);else for(let h of S3(c.path))a(c,f,!0,h)}),t}function S3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=S3(n.join("/")),f=[];return f.push(...c.map(h=>h===""?a:[a,h].join("/"))),i&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function FR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var UR=/^:[\w-]+$/,zR=3,$R=2,WR=1,HR=10,VR=-2,xE=e=>e==="*";function GR(e,t){let r=e.split("/"),n=r.length;return r.some(xE)&&(n+=VR),t&&(n+=$R),r.filter(i=>!xE(i)).reduce((i,a)=>i+(UR.test(a)?zR:a===""?WR:HR),n)}function qR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function KR(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",c=[];for(let f=0;f<n.length;++f){let h=n[f],m=f===n.length-1,v=a==="/"?t:t.slice(a.length)||"/",w=Gh({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),E=h.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=Gh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:as([a,w.pathname]),pathnameBase:e6(as([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=as([a,w.pathnameBase]))}return c}function Gh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=YR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:v,isOptional:w},E)=>{if(v==="*"){let O=f[E]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const C=f[E];return w&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:e}}function YR(e,t=!1,r=!0){Ai(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(n.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function XR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ai(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ls(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var C3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ZR=e=>C3.test(e);function QR(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ml(e):e,a;if(r)if(ZR(r))a=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Ai(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?a=wE(r.substring(1),"/"):a=wE(r,t)}else a=t;return{pathname:a,search:t6(n),hash:r6(i)}}function wE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ex(e){let t=JR(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function tx(e,t,r,n=!1){let i;typeof e=="string"?i=ml(e):(i={...e},fr(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),fr(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),fr(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,f;if(c==null)f=r;else{let w=t.length-1;if(!n&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;i.pathname=E.join("/")}f=w>=0?t[w]:"/"}let h=QR(i,f),m=c&&c!=="/"&&c.endsWith("/"),v=(a||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var as=e=>e.join("/").replace(/\/\/+/g,"/"),e6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,n6=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function i6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function a6(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var O3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function I3(e,t){let r=e;if(typeof r!="string"||!C3.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(O3)try{let a=new URL(window.location.href),c=r.startsWith("//")?new URL(a.protocol+r):new URL(r),f=ls(c.pathname,t);c.origin===a.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Ai(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T3=["POST","PUT","PATCH","DELETE"];new Set(T3);var s6=["GET",...T3];new Set(s6);var Ic=N.createContext(null);Ic.displayName="DataRouter";var np=N.createContext(null);np.displayName="DataRouterState";var o6=N.createContext(!1),N3=N.createContext({isTransitioning:!1});N3.displayName="ViewTransition";var l6=N.createContext(new Map);l6.displayName="Fetchers";var c6=N.createContext(null);c6.displayName="Await";var Ti=N.createContext(null);Ti.displayName="Navigation";var bd=N.createContext(null);bd.displayName="Location";var Ra=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var rx=N.createContext(null);rx.displayName="RouteError";var P3="REACT_ROUTER_ERROR",u6="REDIRECT",d6="ROUTE_ERROR_RESPONSE";function f6(e){if(e.startsWith(`${P3}:${u6}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function h6(e){if(e.startsWith(`${P3}:${d6}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new n6(t.status,t.statusText,t.data)}catch{}}function p6(e,{relative:t}={}){fr(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(Ti),{hash:i,pathname:a,search:c}=Ed(e,{relative:t}),f=a;return r!=="/"&&(f=a==="/"?r:as([r,a])),n.createHref({pathname:f,search:c,hash:i})}function Tc(){return N.useContext(bd)!=null}function ma(){return fr(Tc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bd).location}var k3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R3(e){N.useContext(Ti).static||N.useLayoutEffect(e)}function ip(){let{isDataRoute:e}=N.useContext(Ra);return e?O6():m6()}function m6(){fr(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Ic),{basename:t,navigator:r}=N.useContext(Ti),{matches:n}=N.useContext(Ra),{pathname:i}=ma(),a=JSON.stringify(ex(n)),c=N.useRef(!1);return R3(()=>{c.current=!0}),N.useCallback((h,m={})=>{if(Ai(c.current,k3),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=tx(h,JSON.parse(a),i,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:as([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,a,i,e])}N.createContext(null);function Ed(e,{relative:t}={}){let{matches:r}=N.useContext(Ra),{pathname:n}=ma(),i=JSON.stringify(ex(r));return N.useMemo(()=>tx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function g6(e,t){return j3(e,t)}function j3(e,t,r,n,i){fr(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Ti),{matches:c}=N.useContext(Ra),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let L=w&&w.path||"";D3(m,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let E=ma(),C;if(t){let L=typeof t=="string"?ml(t):t;fr(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),C=L}else C=E;let O=C.pathname||"/",I=O;if(v!=="/"){let L=v.replace(/^\//,"").split("/");I="/"+O.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=_3(e,{pathname:I});Ai(w||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Ai(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=b6(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:as([v,a.encodeLocation?a.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:as([v,a.encodeLocation?a.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,i);return t&&D?N.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},D):D}function v6(){let e=C6(),t=i6(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,c)}var y6=N.createElement(v6,null),M3=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=h6(e.digest);r&&(e=r)}let t=e!==void 0?N.createElement(Ra.Provider,{value:this.props.routeContext},N.createElement(rx.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(x6,{error:e},t):t}};M3.contextType=o6;var jm=new WeakMap;function x6({children:e,error:t}){let{basename:r}=N.useContext(Ti);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=f6(t.digest);if(n){let i=jm.get(t);if(i)throw i;let a=I3(n.location,r);if(O3&&!jm.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw jm.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function w6({routeContext:e,match:t,children:r}){let n=N.useContext(Ic);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ra.Provider,{value:e},r)}function b6(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,c=r?.errors;if(c!=null){let v=a.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);fr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let f=!1,h=-1;if(r)for(let v=0;v<a.length;v++){let w=a[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(h=v),w.route.id){let{loaderData:E,errors:C}=r,O=w.route.loader&&!E.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||O){f=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let m=r&&n?(v,w)=>{n(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:a6(r.matches),errorInfo:w})}:void 0;return a.reduceRight((v,w,E)=>{let C,O=!1,I=null,k=null;r&&(C=c&&w.route.id?c[w.route.id]:void 0,I=w.route.errorElement||y6,f&&(h<0&&E===0?(D3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):h===E&&(O=!0,k=w.route.hydrateFallbackElement||null)));let D=t.concat(a.slice(0,E+1)),L=()=>{let j;return C?j=I:O?j=k:w.route.Component?j=N.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=v,N.createElement(w6,{match:w,routeContext:{outlet:v,matches:D,isDataRoute:r!=null},children:j})};return r&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?N.createElement(M3,{location:r.location,revalidation:r.revalidation,component:I,error:C,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:m}):L()},null)}function nx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(e){let t=N.useContext(Ic);return fr(t,nx(e)),t}function _6(e){let t=N.useContext(np);return fr(t,nx(e)),t}function A6(e){let t=N.useContext(Ra);return fr(t,nx(e)),t}function ix(e){let t=A6(e),r=t.matches[t.matches.length-1];return fr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function S6(){return ix("useRouteId")}function C6(){let e=N.useContext(rx),t=_6("useRouteError"),r=ix("useRouteError");return e!==void 0?e:t.errors?.[r]}function O6(){let{router:e}=E6("useNavigate"),t=ix("useNavigate"),r=N.useRef(!1);return R3(()=>{r.current=!0}),N.useCallback(async(i,a={})=>{Ai(r.current,k3),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var bE={};function D3(e,t,r){!t&&!bE[e]&&(bE[e]=!0,Ai(!1,r))}N.memo(I6);function I6({routes:e,future:t,state:r,onError:n}){return j3(e,void 0,r,n,t)}function T6({to:e,replace:t,state:r,relative:n}){fr(Tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Ti);Ai(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(Ra),{pathname:c}=ma(),f=ip(),h=tx(e,ex(a),c,n==="path"),m=JSON.stringify(h);return N.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:n})},[f,m,n,t,r]),null}function Qa(e){fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:c}){fr(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:f,navigator:i,static:a,unstable_useTransitions:c,future:{}}),[f,i,a,c]);typeof r=="string"&&(r=ml(r));let{pathname:m="/",search:v="",hash:w="",state:E=null,key:C="default"}=r,O=N.useMemo(()=>{let I=ls(m,f);return I==null?null:{location:{pathname:I,search:v,hash:w,state:E,key:C},navigationType:n}},[f,m,v,w,E,C,n]);return Ai(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(Ti.Provider,{value:h},N.createElement(bd.Provider,{children:t,value:O}))}function P6({children:e,location:t}){return g6(Iv(e),t)}function Iv(e,t=[]){let r=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let a=[...t,i];if(n.type===N.Fragment){r.push.apply(r,Iv(n.props.children,a));return}fr(n.type===Qa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Iv(n.props.children,a)),r.push(c)}),r}var kh="get",Rh="application/x-www-form-urlencoded";function ap(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function k6(e){return ap(e)&&e.tagName.toLowerCase()==="button"}function R6(e){return ap(e)&&e.tagName.toLowerCase()==="form"}function j6(e){return ap(e)&&e.tagName.toLowerCase()==="input"}function M6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D6(e,t){return e.button===0&&(!t||t==="_self")&&!M6(e)}var ih=null;function L6(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var B6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(e){return e!=null&&!B6.has(e)?(Ai(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):e}function F6(e,t){let r,n,i,a,c;if(R6(e)){let f=e.getAttribute("action");n=f?ls(f,t):null,r=e.getAttribute("method")||kh,i=Mm(e.getAttribute("enctype"))||Rh,a=new FormData(e)}else if(k6(e)||j6(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(n=h?ls(h,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||kh,i=Mm(e.getAttribute("formenctype"))||Mm(f.getAttribute("enctype"))||Rh,a=new FormData(f,e),!L6()){let{name:m,type:v,value:w}=e;if(v==="image"){let E=m?`${m}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else m&&a.append(m,w)}}else{if(ap(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kh,n=null,i=Rh,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ax(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U6(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ls(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function z6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W6(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await z6(a,r);return c.links?c.links():[]}return[]}));return q6(n.flat(1).filter($6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function EE(e,t,r,n,i,a){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return a==="assets"?t.filter((h,m)=>c(h,m)||f(h,m)):a==="data"?t.filter((h,m)=>{let v=n.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function H6(e,t,{includeHydrateFallback:r}={}){return V6(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function V6(e){return[...new Set(e)]}function G6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function q6(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(G6(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function L3(){let e=N.useContext(Ic);return ax(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function K6(){let e=N.useContext(np);return ax(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var sx=N.createContext(void 0);sx.displayName="FrameworkContext";function B3(){let e=N.useContext(sx);return ax(e,"You must render this element inside a <HydratedRouter> element"),e}function Y6(e,t){let r=N.useContext(sx),[n,i]=N.useState(!1),[a,c]=N.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=t,E=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let I=D=>{D.forEach(L=>{c(L.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[e]),N.useEffect(()=>{if(n){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[n]);let C=()=>{i(!0)},O=()=>{i(!1),c(!1)};return r?e!=="intent"?[a,E,{}]:[a,E,{onFocus:ku(f,C),onBlur:ku(h,O),onMouseEnter:ku(m,C),onMouseLeave:ku(v,O),onTouchStart:ku(w,C)}]:[!1,E,{}]}function ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function X6({page:e,...t}){let{router:r}=L3(),n=N.useMemo(()=>_3(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(Q6,{page:e,matches:n,...t}):null}function Z6(e){let{manifest:t,routeModules:r}=B3(),[n,i]=N.useState([]);return N.useEffect(()=>{let a=!1;return W6(e,t,r).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,r]),n}function Q6({page:e,matches:t,...r}){let n=ma(),{future:i,manifest:a,routeModules:c}=B3(),{basename:f}=L3(),{loaderData:h,matches:m}=K6(),v=N.useMemo(()=>EE(e,t,m,a,n,"data"),[e,t,m,a,n]),w=N.useMemo(()=>EE(e,t,m,a,n,"assets"),[e,t,m,a,n]),E=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let I=new Set,k=!1;if(t.forEach(L=>{let j=a.routes[L.route.id];!j||!j.hasLoader||(!v.some(z=>z.route.id===L.route.id)&&L.route.id in h&&c[L.route.id]?.shouldRevalidate||j.hasClientLoader?k=!0:I.add(L.route.id))}),I.size===0)return[];let D=U6(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&I.size>0&&D.searchParams.set("_routes",t.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[f,i.unstable_trailingSlashAwareDataRequests,h,n,a,v,t,e,c]),C=N.useMemo(()=>H6(w,a),[w,a]),O=Z6(w);return N.createElement(N.Fragment,null,E.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),C.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),O.map(({key:I,link:k})=>N.createElement("link",{key:I,nonce:r.nonce,...k})))}function J6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ej=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ej&&(window.__reactRouterVersion="7.12.0")}catch{}function tj({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=N.useRef();i.current==null&&(i.current=jR({window:n,v5Compat:!0}));let a=i.current,[c,f]=N.useState({action:a.action,location:a.location}),h=N.useCallback(m=>{r===!1?f(m):N.startTransition(()=>f(m))},[r]);return N.useLayoutEffect(()=>a.listen(h),[a,h]),N.createElement(N6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:r})}var F3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:c,state:f,target:h,to:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:E,...C},O){let{basename:I,unstable_useTransitions:k}=N.useContext(Ti),D=typeof m=="string"&&F3.test(m),L=I3(m,I);m=L.to;let j=p6(m,{relative:i}),[z,W,H]=Y6(n,C),V=aj(m,{replace:c,state:f,target:h,preventScrollReset:v,relative:i,viewTransition:w,unstable_defaultShouldRevalidate:E,unstable_useTransitions:k});function re(_e){t&&t(_e),_e.defaultPrevented||V(_e)}let Y=N.createElement("a",{...C,...H,href:L.absoluteURL||j,onClick:L.isExternal||a?t:re,ref:J6(O,W),target:h,"data-discover":!D&&r==="render"?"true":void 0});return z&&!D?N.createElement(N.Fragment,null,Y,N.createElement(X6,{page:j})):Y});Zr.displayName="Link";var rj=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:c,viewTransition:f,children:h,...m},v){let w=Ed(c,{relative:m.relative}),E=ma(),C=N.useContext(np),{navigator:O,basename:I}=N.useContext(Ti),k=C!=null&&uj(w)&&f===!0,D=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,L=E.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(L=L.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&I&&(j=ls(j,I)||j);const z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let W=L===D||!i&&L.startsWith(D)&&L.charAt(z)==="/",H=j!=null&&(j===D||!i&&j.startsWith(D)&&j.charAt(D.length)==="/"),V={isActive:W,isPending:H,isTransitioning:k},re=W?t:void 0,Y;typeof n=="function"?Y=n(V):Y=[n,W?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let _e=typeof a=="function"?a(V):a;return N.createElement(Zr,{...m,"aria-current":re,className:Y,ref:v,style:_e,to:c,viewTransition:f},typeof h=="function"?h(V):h)});rj.displayName="NavLink";var nj=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:c=kh,action:f,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:E,...C},O)=>{let{unstable_useTransitions:I}=N.useContext(Ti),k=lj(),D=cj(f,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&F3.test(f),z=W=>{if(h&&h(W),W.defaultPrevented)return;W.preventDefault();let H=W.nativeEvent.submitter,V=H?.getAttribute("formmethod")||c,re=()=>k(H||W.currentTarget,{fetcherKey:t,method:V,navigate:r,replace:i,state:a,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:E});I&&r!==!1?N.startTransition(()=>re()):re()};return N.createElement("form",{ref:O,method:L,action:D,onSubmit:n?h:z,...C,"data-discover":!j&&e==="render"?"true":void 0})});nj.displayName="Form";function ij(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U3(e){let t=N.useContext(Ic);return fr(t,ij(e)),t}function aj(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=ip(),v=ma(),w=Ed(e,{relative:a});return N.useCallback(E=>{if(D6(E,t)){E.preventDefault();let C=r!==void 0?r:Qu(v)===Qu(w),O=()=>m(e,{replace:C,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f});h?N.startTransition(()=>O()):O()}},[v,m,w,r,n,t,e,i,a,c,f,h])}var sj=0,oj=()=>`__${String(++sj)}__`;function lj(){let{router:e}=U3("useSubmit"),{basename:t}=N.useContext(Ti),r=S6(),n=e.fetch,i=e.navigate;return N.useCallback(async(a,c={})=>{let{action:f,method:h,encType:m,formData:v,body:w}=F6(a,t);if(c.navigate===!1){let E=c.fetcherKey||oj();await n(E,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function cj(e,{relative:t}={}){let{basename:r}=N.useContext(Ti),n=N.useContext(Ra);fr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Ed(e||".",{relative:t})},c=ma();if(e==null){a.search=c.search;let f=new URLSearchParams(a.search),h=f.getAll("index");if(h.some(v=>v==="")){f.delete("index"),h.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();a.search=v?`?${v}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:as([r,a.pathname])),Qu(a)}function uj(e,{relative:t}={}){let r=N.useContext(N3);fr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=U3("useViewTransitionState"),i=Ed(e,{relative:t});if(!r.isTransitioning)return!1;let a=ls(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ls(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Gh(i.pathname,c)!=null||Gh(i.pathname,a)!=null}var ox=E3(),dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ht=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,children:f,...h},m)=>N.createElement("svg",{ref:m,...dj,width:i,height:i,stroke:n,strokeWidth:c?Number(a)*24/Number(i):a,className:`lucide lucide-${fj(e)}`,...h},[...t.map(([v,w])=>N.createElement(v,w)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},hj=ht("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yu=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pj=ht("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),mj=ht("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),z3=ht("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),jh=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),gj=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),vj=ht("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),yj=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),xj=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),wj=ht("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),lx=ht("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),bj=ht("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),Ej=ht("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_j=ht("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Aj=ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Sj=ht("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Ju=ht("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),$3=ht("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Cj=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),cx=ht("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Oj=ht("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),Ij=ht("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Tj=ht("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Nj=ht("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),W3=ht("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Pj=ht("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),kj=ht("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Rj=ht("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),ux=ht("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),dx=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),H3=ht("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),jj=ht("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Mj=ht("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ed=ht("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Dj=ht("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),gc=ht("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),V3=ht("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Lj=ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),_E=ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),G3=ht("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Bj=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Fj=ht("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),Jo=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uj=ht("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zj=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),i=ma(),a=ip();N.useEffect(()=>{const v=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=v=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===v?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,h=v=>{a(v),n(!1)},m=()=>{const v=i.pathname;return v==="/"?A.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[A.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:A.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),A.jsx(Zr,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:A.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),A.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),A.jsx(Zr,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:A.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),A.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),A.jsx(Zr,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:A.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):v.startsWith("/perfum")?A.jsxs(Zr,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[A.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),A.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):v.startsWith("/regalos")?A.jsxs(Zr,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[A.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),A.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):A.jsxs(Zr,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[A.jsx("span",{className:"serif text-2xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),A.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]})};return A.jsxs("nav",{className:c,children:[A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex justify-between items-center h-16",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&A.jsx(Zr,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),A.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),A.jsx("div",{className:"flex items-center",children:m()})]}),A.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&A.jsxs(A.Fragment,{children:[A.jsx(Zr,{to:"/style",className:f("/style"),children:"Style"}),A.jsx(Zr,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),A.jsx(Zr,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),A.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):a("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),A.jsx("div",{className:"md:hidden flex items-center",children:A.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?A.jsx(Jo,{size:28}):A.jsx(Cj,{size:28})})})]})}),r&&A.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[A.jsxs("button",{onClick:()=>h("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[A.jsx(ux,{size:24}),A.jsx("span",{children:"Style (Inicio)"})]}),A.jsxs("button",{onClick:()=>h("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[A.jsx(ed,{size:24}),A.jsx("span",{children:"Perfumes"})]}),A.jsxs("button",{onClick:()=>h("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[A.jsx(lx,{size:24}),A.jsx("span",{children:"Regalos"})]}),A.jsx("div",{className:"mt-auto pb-8",children:A.jsx("button",{onClick:()=>h("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},$j=({onCtaClick:e})=>A.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[A.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[A.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),A.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),A.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[A.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),A.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",A.jsx("br",{})," ",A.jsx("span",{className:"italic",children:"Tu Esencia"})]}),A.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",A.jsx("br",{className:"hidden md:block"}),A.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),A.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:A.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),A.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[A.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[A.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),A.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[A.jsx("span",{className:"mr-1",children:"Desde"}),A.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),dc="56984524774",Wj="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",qo=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],Hj=3e3,Vj=30,Gj=["Santiago Centro","uoa"],ro=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Yara (Rosa) EDP",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:32990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Yara Tous",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:32990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Rave Now Women",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"Valentia Rome Intense",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:34990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Leonie EDP",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:31990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Ana Abiyedh",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:32990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Bad Femme",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:31990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Yara Desodorante Spray",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Qaed Al Fursan Desodorante",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],AE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],qj=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],Kj=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var Xa={},ah={},Tv=function(e,t){return Tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tv(e,t)};function q3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qh=function(){return qh=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},qh.apply(this,arguments)};function Nc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function K3(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(a=(i<3?c(a):i>3?c(t,r,a):c(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function Y3(e,t){return function(r,n){t(r,n,e)}}function X3(e,t,r,n,i,a){function c(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var f=n.kind,h=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,v=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),w,E=!1,C=r.length-1;C>=0;C--){var O={};for(var I in n)O[I]=I==="access"?{}:n[I];for(var I in n.access)O.access[I]=n.access[I];O.addInitializer=function(D){if(E)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(D||null))};var k=(0,r[C])(f==="accessor"?{get:v.get,set:v.set}:v[h],O);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=c(k.get))&&(v.get=w),(w=c(k.set))&&(v.set=w),(w=c(k.init))&&i.unshift(w)}else(w=c(k))&&(f==="field"?i.unshift(w):v[h]=w)}m&&Object.defineProperty(m,n.name,v),E=!0}function Z3(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Q3(e){return typeof e=="symbol"?e:"".concat(e)}function J3(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function eI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ge(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})}function tI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var sp=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function rI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sp(t,e,r)}function Kh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return a}function nI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fx(arguments[t]));return e}function iI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],c=0,f=a.length;c<f;c++,i++)n[i]=a[c];return n}function aI(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function vc(e){return this instanceof vc?(this.v=e,this):new vc(e)}function sI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(C){return function(O){return Promise.resolve(O).then(C,w)}}function f(C,O){n[C]&&(i[C]=function(I){return new Promise(function(k,D){a.push([C,I,k,D])>1||h(C,I)})},O&&(i[C]=O(i[C])))}function h(C,O){try{m(n[C](O))}catch(I){E(a[0][3],I)}}function m(C){C.value instanceof vc?Promise.resolve(C.value.v).then(v,w):E(a[0][2],C)}function v(C){h("next",C)}function w(C){h("throw",C)}function E(C,O){C(O),a.shift(),a.length&&h(a[0][0],a[0][1])}}function oI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(c){return(r=!r)?{value:vc(e[i](c)),done:!1}:a?a(c):c}:a}}function lI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Kh=="function"?Kh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(c){return new Promise(function(f,h){c=e[a](c),i(f,h,c.done,c.value)})}}function i(a,c,f,h){Promise.resolve(h).then(function(m){a({value:m,done:f})},c)}}function cI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Yj=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Nv=function(e){return Nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Nv(e)};function uI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Nv(e),n=0;n<r.length;n++)r[n]!=="default"&&sp(t,e,r[n]);return Yj(t,e),t}function dI(e){return e&&e.__esModule?e:{default:e}}function fI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function hI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function pI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function mI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Xj=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function gI(e){function t(a){e.error=e.hasError?new Xj(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function vI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,c){return n?t?".jsx":".js":i&&(!a||!c)?r:i+a+"."+c.toLowerCase()+"js"}):e}const Zj={__extends:q3,__assign:qh,__rest:Nc,__decorate:K3,__param:Y3,__esDecorate:X3,__runInitializers:Z3,__propKey:Q3,__setFunctionName:J3,__metadata:eI,__awaiter:Ge,__generator:tI,__createBinding:sp,__exportStar:rI,__values:Kh,__read:fx,__spread:nI,__spreadArrays:iI,__spreadArray:aI,__await:vc,__asyncGenerator:sI,__asyncDelegator:oI,__asyncValues:lI,__makeTemplateObject:cI,__importStar:uI,__importDefault:dI,__classPrivateFieldGet:fI,__classPrivateFieldSet:hI,__classPrivateFieldIn:pI,__addDisposableResource:mI,__disposeResources:gI,__rewriteRelativeImportExtension:vI},Qj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mI,get __assign(){return qh},__asyncDelegator:oI,__asyncGenerator:sI,__asyncValues:lI,__await:vc,__awaiter:Ge,__classPrivateFieldGet:fI,__classPrivateFieldIn:pI,__classPrivateFieldSet:hI,__createBinding:sp,__decorate:K3,__disposeResources:gI,__esDecorate:X3,__exportStar:rI,__extends:q3,__generator:tI,__importDefault:dI,__importStar:uI,__makeTemplateObject:cI,__metadata:eI,__param:Y3,__propKey:Q3,__read:fx,__rest:Nc,__rewriteRelativeImportExtension:vI,__runInitializers:Z3,__setFunctionName:J3,__spread:nI,__spreadArray:aI,__spreadArrays:iI,__values:Kh,default:Zj},Symbol.toStringTag,{value:"Module"})),Jj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let op=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},yI=class extends op{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Pv=class extends op{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},kv=class extends op{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Yh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yh||(Yh={}));class e5{constructor(t,{headers:r={},customFetch:n,region:i=Yh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Jj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ge(this,arguments,void 0,function*(r,n={}){var i;let a,c;try{const{headers:f,method:h,body:m,signal:v,timeout:w}=n;let E={},{region:C}=n;C||(C=this.region);const O=new URL(`${this.url}/${r}`);C&&C!=="any"&&(E["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let I;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",I=m):typeof m=="string"?(E["Content-Type"]="text/plain",I=m):typeof FormData<"u"&&m instanceof FormData?I=m:(E["Content-Type"]="application/json",I=JSON.stringify(m)):I=m;let k=v;w&&(c=new AbortController,a=setTimeout(()=>c.abort(),w),v?(k=c.signal,v.addEventListener("abort",()=>c.abort())):k=c.signal);const D=yield this.fetch(O.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:I,signal:k}).catch(W=>{throw new yI(W)}),L=D.headers.get("x-relay-error");if(L&&L==="true")throw new Pv(D);if(!D.ok)throw new kv(D);let j=((i=D.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),z;return j==="application/json"?z=yield D.json():j==="application/octet-stream"||j==="application/pdf"?z=yield D.blob():j==="text/event-stream"?z=D:j==="multipart/form-data"?z=yield D.formData():z=yield D.text(),{data:z,error:null,response:D}}catch(f){return{data:null,error:f,response:f instanceof kv||f instanceof Pv?f.context:void 0}}finally{a&&clearTimeout(a)}})}}const t5=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Yh},FunctionsClient:e5,FunctionsError:op,FunctionsFetchError:yI,FunctionsHttpError:kv,FunctionsRelayError:Pv},Symbol.toStringTag,{value:"Module"})),xI=wd(t5);var jn={};const Pc=wd(Qj);var sh={},oh={},lh={},ch={},uh={},dh={},SE;function wI(){if(SE)return dh;SE=1,Object.defineProperty(dh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return dh.default=e,dh}var CE;function bI(){if(CE)return uh;CE=1,Object.defineProperty(uh,"__esModule",{value:!0});const t=Pc.__importDefault(wI());let r=class{constructor(i){var a,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,w,E;let C=null,O=null,I=null,k=h.status,D=h.statusText;if(h.ok){if(this.method!=="HEAD"){const W=await h.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?O=W:O=JSON.parse(W))}const j=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(w=h.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&z&&z.length>1&&(I=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(C={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,I=null,k=406,D="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const j=await h.text();try{C=JSON.parse(j),Array.isArray(C)&&h.status===404&&(O=[],C=null,k=200,D="OK")}catch{h.status===404&&j===""?(k=204,D="No Content"):C={message:j}}if(C&&this.isMaybeSingle&&(!((E=C?.details)===null||E===void 0)&&E.includes("0 rows"))&&(C=null,k=200,D="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:O,count:I,status:k,statusText:D}});return this.shouldThrowOnError||(f=f.catch(h=>{var m,v,w,E,C,O;let I="";const k=h?.cause;if(k){const D=(m=k?.message)!==null&&m!==void 0?m:"",L=(v=k?.code)!==null&&v!==void 0?v:"";I=`${(w=h?.name)!==null&&w!==void 0?w:"FetchError"}: ${h?.message}`,I+=`

Caused by: ${(E=k?.name)!==null&&E!==void 0?E:"Error"}: ${D}`,L&&(I+=` (${L})`),k?.stack&&(I+=`
${k.stack}`)}else I=(C=h?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(O=h?.name)!==null&&O!==void 0?O:"FetchError"}: ${h?.message}`,details:I,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,a)}returns(){return this}overrideTypes(){return this}};return uh.default=r,uh}var OE;function EI(){if(OE)return ch;OE=1,Object.defineProperty(ch,"__esModule",{value:!0});const t=Pc.__importDefault(bI());let r=class extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:f,referencedTable:h=f}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:f=!1,wal:h=!1,format:m="text"}={}){var v;const w=[i?"analyze":null,a?"verbose":null,c?"settings":null,f?"buffers":null,h?"wal":null].filter(Boolean).join("|"),E=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return ch.default=r,ch}var IE;function hx(){if(IE)return lh;IE=1,Object.defineProperty(lh,"__esModule",{value:!0});const t=Pc.__importDefault(EI()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}regexMatch(a,c){return this.url.searchParams.append(a,`match.${c}`),this}regexIMatch(a,c){return this.url.searchParams.append(a,`imatch.${c}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}isDistinct(a,c){return this.url.searchParams.append(a,`isdistinct.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${m}fts${v}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}};return lh.default=n,lh}var TE;function _I(){if(TE)return oh;TE=1,Object.defineProperty(oh,"__esModule",{value:!0});const t=Pc.__importDefault(hx());let r=class{constructor(i,{headers:a={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(a),this.schema=c,this.fetch=f}select(i,a){const{head:c=!1,count:f}=a??{},h=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:c=!0}={}){var f;const h="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:f,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),f&&this.headers.append("Prefer",`count=${f}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const w=i.reduce((E,C)=>E.concat(Object.keys(C)),[]);if(w.length>0){const E=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",E.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:a}={}){var c;const f="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var a;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return oh.default=r,oh}var NE;function r5(){if(NE)return sh;NE=1,Object.defineProperty(sh,"__esModule",{value:!0});const e=Pc,t=e.__importDefault(_I()),r=e.__importDefault(hx());let n=class AI{constructor(a,{headers:c={},schema:f,fetch:h}={}){this.url=a,this.headers=new Headers(c),this.schemaName=f,this.fetch=h}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new AI(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:f=!1,get:h=!1,count:m}={}){var v;let w;const E=new URL(`${this.url}/rpc/${a}`);let C;f||h?(w=f?"HEAD":"GET",Object.entries(c).filter(([I,k])=>k!==void 0).map(([I,k])=>[I,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([I,k])=>{E.searchParams.append(I,k)})):(w="POST",C=c);const O=new Headers(this.headers);return m&&O.set("Prefer",`count=${m}`),new r.default({method:w,url:E,headers:O,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return sh.default=n,sh}var PE;function SI(){if(PE)return jn;PE=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.PostgrestError=jn.PostgrestBuilder=jn.PostgrestTransformBuilder=jn.PostgrestFilterBuilder=jn.PostgrestQueryBuilder=jn.PostgrestClient=void 0;const e=Pc,t=e.__importDefault(r5());jn.PostgrestClient=t.default;const r=e.__importDefault(_I());jn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(hx());jn.PostgrestFilterBuilder=n.default;const i=e.__importDefault(EI());jn.PostgrestTransformBuilder=i.default;const a=e.__importDefault(bI());jn.PostgrestBuilder=a.default;const c=e.__importDefault(wI());return jn.PostgrestError=c.default,jn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},jn}class CI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const n5="2.87.1",i5=`realtime-js/${n5}`,OI="1.0.0",a5="2.0.0",kE=OI,Rv=1e4,s5=1e3,o5=100;var Vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vo||(Vo={}));var Br;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Br||(Br={}));var ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ca||(ca={}));var jv;(function(e){e.websocket="websocket"})(jv||(jv={}));var Go;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Go||(Go={}));class l5{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,a;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",h=(a=t.join_ref)!==null&&a!==void 0?a:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+E);let O=new DataView(C),I=0;O.setUint8(I++,this.KINDS.userBroadcastPush),O.setUint8(I++,h.length),O.setUint8(I++,f.length),O.setUint8(I++,c.length),O.setUint8(I++,m.length),O.setUint8(I++,w.length),O.setUint8(I++,r),Array.from(h,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(f,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(c,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(m,D=>O.setUint8(I++,D.charCodeAt(0))),Array.from(w,D=>O.setUint8(I++,D.charCodeAt(0)));var k=new Uint8Array(C.byteLength+n.byteLength);return k.set(new Uint8Array(C),0),k.set(new Uint8Array(n),C.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,c,f,h]=n;return r({join_ref:i,ref:a,topic:c,event:f,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=n.decode(t.slice(h,h+i));h=h+i;const v=n.decode(t.slice(h,h+a));h=h+a;const w=n.decode(t.slice(h,h+c));h=h+c;const E=t.slice(h,t.byteLength),C=f===this.JSON_ENCODING?JSON.parse(n.decode(E)):E,O={type:this.BROADCAST_EVENT,event:v,payload:C};return c>0&&(O.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class II{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Jt||(Jt={}));const RE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=c5(c,e,t,i),a),{}):{}},c5=(e,t,r,n)=>{const i=t.find(f=>f.name===e),a=i?.type,c=r[e];return a&&!n.includes(a)?TI(a,c):Mv(c)},TI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return h5(t,r)}switch(e){case Jt.bool:return u5(t);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return d5(t);case Jt.json:case Jt.jsonb:return f5(t);case Jt.timestamp:return p5(t);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return Mv(t);default:return Mv(t)}},Mv=e=>e,u5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},d5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},f5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},h5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>TI(t,f))}return e},p5=e=>typeof e=="string"?e.replace(" ","T"):e,NI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dm{constructor(t,r,n={},i=Rv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dv||(Dv={}));let PI=class Mh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mh.syncState(this.state,i,a,c),this.pendingDiffs.forEach(h=>{this.state=Mh.syncDiff(this.state,h,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mh.syncDiff(this.state,i,a,c),f())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),c=this.transformState(r),f={},h={};return this.map(a,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const w=a[m];if(w){const E=v.map(k=>k.presence_ref),C=w.map(k=>k.presence_ref),O=v.filter(k=>C.indexOf(k.presence_ref)<0),I=w.filter(k=>E.indexOf(k.presence_ref)<0);O.length>0&&(f[m]=O),I.length>0&&(h[m]=I)}else f[m]=v}),this.syncDiff(a,{joins:f,leaves:h},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(f,h)=>{var m;const v=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(h),v.length>0){const w=t[f].map(C=>C.presence_ref),E=v.filter(C=>w.indexOf(C.presence_ref)<0);t[f].unshift(...E)}n(f,v,h)}),this.map(c,(f,h)=>{let m=t[f];if(!m)return;const v=h.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[f]=m,i(f,m,h),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Lv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lv||(Lv={}));var fc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fc||(fc={}));var Ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ia||(Ia={}));const m5=Br;let kI=class Wu{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dm(this,ca.join,this.params,this.timeout),this.rejoinTimer=new II(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new PI(this),this.broadcastEndpointURL=NI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Br.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[fc.PRESENCE]&&this.bindings[fc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,w={},E={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>t?.(Ia.CHANNEL_ERROR,C)),this._onClose(()=>t?.(Ia.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){t?.(Ia.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,k=(O=I?.length)!==null&&O!==void 0?O:0,D=[];for(let L=0;L<k;L++){const j=I[L],{filter:{event:z,schema:W,table:H,filter:V}}=j,re=C&&C[L];if(re&&re.event===z&&Wu.isFilterValueEqual(re.schema,W)&&Wu.isFilterValueEqual(re.table,H)&&Wu.isFilterValueEqual(re.filter,V))D.push(Object.assign(Object.assign({},j),{id:re.id}));else{this.unsubscribe(),this.state=Br.errored,t?.(Ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,t&&t(Ia.SUBSCRIBED);return}}).receive("error",C=>{this.state=Br.errored,t?.(Ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Br.joined&&t===fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Br.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Dm(this,ca.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Br.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Dm(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>o5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const c=t.toLocaleLowerCase(),{close:f,error:h,leave:m,join:v}=ca;if(n&&[f,h,m,v].indexOf(c)>=0&&n!==this._joinRef())return;let E=this._onMessage(c,r,n);if(r&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var O,I,k;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((k=(I=C.filter)===null||I===void 0?void 0:I.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(C=>C.callback(E,n)):(a=this.bindings[c])===null||a===void 0||a.filter(C=>{var O,I,k,D,L,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const z=C.id,W=(O=C.filter)===null||O===void 0?void 0:O.event;return z&&((I=r.ids)===null||I===void 0?void 0:I.includes(z))&&(W==="*"||W?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(L=(D=C?.filter)===null||D===void 0?void 0:D.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return z==="*"||z===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:I,table:k,commit_timestamp:D,type:L,errors:j}=O;E=Object.assign(Object.assign({},{schema:I,table:k,commit_timestamp:D,eventType:L,new:{},old:{},errors:j}),this._getPayloadRecords(O))}C.callback(E,n)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Wu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ca.close,{},t)}_onError(t){this._on(ca.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=RE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=RE(t.columns,t.old_record)),r}};const Lm=()=>{},fh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},g5=[1e3,2e3,5e3,1e4],v5=1e4,y5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let x5=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rv,this.transport=null,this.heartbeatIntervalMs=fh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lm,this.ref=0,this.reconnectTimer=null,this.vsn=kE,this.logger=Lm,this.conn=null,this.sendBuffer=[],this.serializer=new l5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jv.websocket}`,this.httpEndpoint=NI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=CI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vo.connecting:return Go.Connecting;case Vo.open:return Go.Open;case Vo.closing:return Go.Closing;default:return Go.Closed}}isConnected(){return this.connectionState()===Go.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new kI(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,c=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:c}=r,f=c?`(${c})`:"",h=a.status||"";this.log("receive",`${h} ${n} ${i} ${f}`.trim(),a),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vo.open||this.conn.readyState===Vo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ca.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([y5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:i5};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ca.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new II(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,c,f,h,m,v,w,E,C;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Rv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:fh.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Lm,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:kE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(O=>g5[O-1]||v5),this.vsn){case OI:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((O,I)=>I(JSON.stringify(O))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((O,I)=>I(JSON.parse(O)));break;case a5:this.encode=(E=t?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(C=t?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const w5=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:m5,get REALTIME_LISTEN_TYPES(){return fc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Lv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Dv},get REALTIME_SUBSCRIBE_STATES(){return Ia},RealtimeChannel:kI,RealtimeClient:x5,RealtimePresence:PI,WebSocketFactory:CI},Symbol.toStringTag,{value:"Module"})),RI=wd(w5);class _d extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jI extends _d{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xh extends _d{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const px=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),b5=()=>Response,Bv=e=>{if(Array.isArray(e))return e.map(r=>Bv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Bv(n)}),t},E5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Bm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},A5=(e,t,r)=>Ge(void 0,void 0,void 0,function*(){const n=yield b5();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,c=i?.statusCode||a+"";t(new jI(Bm(i),a,c))}).catch(i=>{t(new Xh(Bm(i),i))}):t(new Xh(Bm(e),e))}),S5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(E5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Ad(e,t,r,n,i,a){return Ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,S5(t,n,i,a)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>A5(h,f,n))})})}function td(e,t,r,n){return Ge(this,void 0,void 0,function*(){return Ad(e,"GET",t,r,n)})}function la(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return Ad(e,"POST",t,n,i,r)})}function Fv(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return Ad(e,"PUT",t,n,i,r)})}function C5(e,t,r,n){return Ge(this,void 0,void 0,function*(){return Ad(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function mx(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return Ad(e,"DELETE",t,n,i,r)})}class O5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lr(t))return{data:null,error:t};throw t}})}}var MI;class I5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[MI]="BlobDownloadBuilder",this.promise=null}asStream(){return new O5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lr(t))return{data:null,error:t};throw t}})}}MI=Symbol.toStringTag;const T5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=px(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ge(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},jE),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),h&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(h))):(a=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),w=yield(t=="PUT"?Fv:la)(this.fetch,`${this.url}/object/${v}`,a,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ge(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:jE.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield Fv(this.fetch,f.toString(),h,{headers:v});return{data:{path:a,fullPath:w.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(lr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield la(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+a.url),f=c.searchParams.get("token");if(!f)throw new _d("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield la(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield la(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ge(this,void 0,void 0,function*(){try{const i=yield la(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),c=a?`?${a}`:"",f=this._getFinalPath(t),h=()=>td(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new I5(h,this.shouldThrowOnError)}info(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield td(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}exists(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield C5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n)&&n instanceof Xh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const f=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${m}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},T5),r),{prefix:t||""});return{data:yield la(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield la(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const DI="2.87.1",LI={"X-Client-Info":`storage-js/${DI}`};class P5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},LI),r),this.fetch=px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield td(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var rd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function k5(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function R5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function j5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:c}){const f=k5(e.baseUrl,n,i),h=await R5(e.auth),m=await t(f,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...h,...c},body:a?JSON.stringify(a):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),E=w&&v?JSON.parse(v):v;if(!m.ok){const C=w?E:void 0,O=C?.error;throw new rd(O?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:O?.type,icebergCode:O?.code,details:C})}return{status:m.status,headers:m.headers,data:E}}}}function hh(e){return e.join("")}var M5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hh(e.namespace)}`}),!0}catch(t){if(t instanceof rd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof rd&&r.status===409)return;throw r}}};function Xl(e){return e.join("")}var D5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof rd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof rd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},L5=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=j5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new M5(this.client,t),this.tableOps=new D5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class BI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},LI),r),this.fetch=px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield td(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield mx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lr(r))return{data:null,error:r};throw r}})}from(t){if(!_5(t))throw new _d("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new L5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,c){const f=a[c];return typeof f!="function"?f:(...h)=>Ge(this,void 0,void 0,function*(){try{return{data:yield f.apply(a,h),error:null}}catch(m){if(n)throw m;return{data:null,error:m}}})}})}}const gx={"X-Client-Info":`storage-js/${DI}`,"Content-Type":"application/json"};class vx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ti(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Dh extends vx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class FI extends vx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Uv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uv||(Uv={}));const lp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B5=()=>Response,UI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},F5=e=>Array.from(new Float32Array(e)),U5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},ME=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z5=(e,t,r)=>Ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new Dh(ME(c),i,f))}).catch(()=>{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new Dh(f,i,c))});else{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new Dh(f,i,c))}}else t(new FI(ME(e),e))}),$5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(UI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function W5(e,t,r,n,i,a){return Ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,$5(t,n,i,a)).then(h=>{if(!h.ok)throw h;if(n?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>z5(h,f,n))})})}function wi(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return W5(e,"POST",t,n,i,r)})}class zI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gx),r),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield wi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:(yield wi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}}class $I{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gx),r),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield wi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}getVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}listVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield wi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield wi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}}class WI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gx),r),this.fetch=lp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield wi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}listBuckets(){return Ge(this,arguments,void 0,function*(t={}){try{return{data:yield wi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield wi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ti(r))return{data:null,error:r};throw r}})}}class HI extends WI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new VI(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ge(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ge(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ge(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ge(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class VI extends zI{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new GI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class GI extends $I{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class H5 extends P5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new N5(this.url,this.headers,t,this.fetch)}get vectors(){return new HI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BI(this.url+"/iceberg",this.headers,this.fetch)}}const V5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:BI,StorageApiError:jI,StorageClient:H5,StorageError:_d,StorageUnknownError:Xh,StorageVectorsApiError:Dh,StorageVectorsClient:HI,StorageVectorsError:vx,get StorageVectorsErrorCode(){return Uv},StorageVectorsUnknownError:FI,VectorBucketApi:WI,VectorBucketScope:VI,VectorDataApi:$I,VectorIndexApi:zI,VectorIndexScope:GI,isPlainObject:UI,isStorageError:lr,isStorageVectorsError:ti,normalizeToFloat32:F5,resolveFetch:lp,resolveResponse:B5,validateVectorDimension:U5},Symbol.toStringTag,{value:"Module"})),G5=wd(V5);var Fm={},Ru={},DE;function q5(){return DE||(DE=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.version=void 0,Ru.version="2.87.1"),Ru}var LE;function K5(){return LE||(LE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=q5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Fm)),Fm}var Um={},BE;function Y5(){return BE||(BE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,c)=>{const f=(0,e.resolveFetch)(c),h=(0,e.resolveHeadersConstructor)();return async(m,v)=>{var w;const E=(w=await a())!==null&&w!==void 0?w:i;let C=new h(v?.headers);return C.has("apikey")||C.set("apikey",i),C.has("Authorization")||C.set("Authorization",`Bearer ${E}`),f(m,Object.assign(Object.assign({},v),{headers:C}))}};e.fetchWithAuth=n})(Um)),Um}var Za={},FE;function X5(){if(FE)return Za;FE=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.isBrowser=void 0,Za.uuid=e,Za.ensureTrailingSlash=t,Za.applySettingDefaults=n,Za.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=Math.random()*16|0,f=a=="x"?c:c&3|8;return f.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";Za.isBrowser=r;function n(a,c){var f,h;const{db:m,auth:v,realtime:w,global:E}=a,{db:C,auth:O,realtime:I,global:k}=c,D={db:Object.assign(Object.assign({},C),m),auth:Object.assign(Object.assign({},O),v),realtime:Object.assign(Object.assign({},I),w),storage:{},global:Object.assign(Object.assign(Object.assign({},k),E),{headers:Object.assign(Object.assign({},(f=k?.headers)!==null&&f!==void 0?f:{}),(h=E?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return a.accessToken?D.accessToken=a.accessToken:delete D.accessToken,D}function i(a){const c=a?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Za}var ju={};const qI="2.87.1",ic=30*1e3,zv=3,zm=zv*ic,Z5="http://localhost:9999",Q5="supabase.auth.token",J5={"X-Client-Info":`gotrue-js/${qI}`},$v="X-Supabase-Api-Version",KI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tM=600*1e3;let yc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let YI=class extends yc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function XI(e){return Je(e)&&e.name==="AuthApiError"}let Qs=class extends yc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},gs=class extends yc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},ei=class extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ZI(e){return Je(e)&&e.name==="AuthSessionMissingError"}let Fo=class extends gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hu=class extends gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Vu=class extends gs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function QI(e){return Je(e)&&e.name==="AuthImplicitGrantRedirectError"}let Wv=class extends gs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Zh=class extends gs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Lh(e){return Je(e)&&e.name==="AuthRetryableFetchError"}let Hv=class extends gs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function rM(e){return Je(e)&&e.name==="AuthWeakPasswordError"}let Qh=class extends gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Jh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UE=` 	
\r=`.split(""),nM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UE.length;t+=1)e[UE[t].charCodeAt(0)]=-2;for(let t=0;t<Jh.length;t+=1)e[Jh[t].charCodeAt(0)]=t;return e})();function zE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jh[n]),t.queuedBits-=6}}function JI(e,t,r){const n=nM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $E(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{sM(c,n,r)};for(let c=0;c<e.length;c+=1)JI(e.charCodeAt(c),i,a);return t.join("")}function iM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}iM(n,t)}}function sM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)JI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function oM(e){const t=[];return aM(e,r=>t.push(r)),new Uint8Array(t)}function Ko(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>zE(i,r,n)),zE(null,r,n),t.join("")}function lM(e){return Math.round(Date.now()/1e3)+e}function cM(){return Symbol("auth-callback")}const En=()=>typeof window<"u"&&typeof document<"u",Lo={tested:!1,writable:!1},eT=()=>{if(!En())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lo.tested)return Lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lo.tested=!0,Lo.writable=!0}catch{Lo.tested=!0,Lo.writable=!1}return Lo.writable};function uM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const tT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ac=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},bn=async(e,t)=>{await e.removeItem(t)};class cp{constructor(){this.promise=new cp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}cp.promiseConstructor=Promise;function $m(e){const t=e.split(".");if(t.length!==3)throw new Qh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!eM.test(t[n]))throw new Qh("JWT not in base64url format");return{header:JSON.parse($E(t[0])),payload:JSON.parse($E(t[1])),signature:hc(t[2]),raw:{header:t[0],payload:t[1]}}}async function fM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hM(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function pM(e){return("0"+e.toString(16)).substr(-2)}function mM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,pM).join("")}async function gM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function vM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zl(e,t,r=!1){const n=mM();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ac(e,`${t}-code-verifier`,i);const a=await vM(n);return[a,n===a?"plain":"s256"]}const yM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xM(e){const t=e.headers.get($v);if(!t||!t.match(yM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function bM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const EM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ql(e){if(!EM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _M(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function WE(e){return JSON.parse(JSON.stringify(e))}const Uo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AM=[502,503,504];async function HE(e){var t;if(!dM(e))throw new Zh(Uo(e),0);if(AM.includes(e.status))throw new Zh(Uo(e),e.status);let r;try{r=await e.json()}catch(a){throw new Qs(Uo(a),a)}let n;const i=xM(e);if(i&&i.getTime()>=KI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hv(Uo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ei}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new Hv(Uo(r),e.status,r.weak_password.reasons);throw new YI(Uo(r),e.status||500,n)}const SM=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function lt(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[$v]||(a[$v]=KI["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await CM(e,t,r+f,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function CM(e,t,r,n,i,a){const c=SM(t,n,i,a);let f;try{f=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new Zh(Uo(h),0)}if(f.ok||await HE(f),n?.noResolveJson)return f;try{return await f.json()}catch(h){await HE(h)}}function oa(e){var t;let r=null;TM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function VE(e){const t=oa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function OM(e){return{data:e,error:null}}function IM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,c=Nc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function GE(e){return e}function TM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Bh=["global","local","others"];let yx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Bh[0]){if(Bh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bh.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Nc(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IM,redirectTo:r?.redirectTo})}catch(r){if(Je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:GE});if(v.error)throw v.error;const w=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);m[`${k}Page`]=I}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Je(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Ql(t);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ql(t);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ql(t);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ql(t.userId);try{const{data:r,error:n}=await lt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ql(t.userId),Ql(t.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},v=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:GE});if(v.error)throw v.error;const w=await v.json(),E=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(h=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);m[`${k}Page`]=I}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}};function qE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zo={debug:!!(globalThis&&eT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let rT=class extends xx{};class NM extends xx{}async function nT(e,t,r){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const KE={};async function PM(e,t,r){var n;const i=(n=KE[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new NM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return KE[e]=a.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await a}function kM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function RM(e){return parseInt(e,16)}function jM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function MM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:v,uri:w,version:E}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const C=iT(e.address),O=v?`${v}://${n}`:n,I=e.statement?`${e.statement}
`:"",k=`${O} wants you to sign in with your Ethereum account:
${C}

${I}`;let D=`URI: ${w}
Version: ${E}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(i&&(D+=`
Expiration Time: ${i.toISOString()}`),f&&(D+=`
Not Before: ${f.toISOString()}`),h&&(D+=`
Request ID: ${h}`),m){let L=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);L+=`
- ${j}`}D+=L}return`${k}
${D}`}class Fr extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class e0 extends Fr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function DM({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(aT(c)){if(a.rp.id!==c)return new Fr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(aT(n)){if(r.rpId!==n)return new Fr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class BM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const FM=new BM;function UM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Nc(e,["challenge","user","excludeCredentials"]),a=hc(t).buffer,c=Object.assign(Object.assign({},r),{id:hc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:a,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const m=n[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:hc(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function zM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Nc(e,["challenge","allowCredentials"]),i=hc(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];a.allowCredentials[c]=Object.assign(Object.assign({},f),{id:hc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return a}function $M(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ko(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ko(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ko(new Uint8Array(i.authenticatorData)),clientDataJSON:Ko(new Uint8Array(i.clientDataJSON)),signature:Ko(new Uint8Array(i.signature)),userHandle:i.userHandle?Ko(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function YE(){var e,t;return!!(En()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new e0("Browser returned unexpected credential type",t)}:{data:null,error:new e0("Empty credential response",t)}}catch(t){return{data:null,error:DM({error:t,options:e})}}}async function VM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new e0("Browser returned unexpected credential type",t)}:{data:null,error:new e0("Empty credential response",t)}}catch(t){return{data:null,error:LM({error:t,options:e})}}}const GM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function t0(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const c=i[a];if(c!==void 0)if(Array.isArray(c))n[a]=c;else if(r(c))n[a]=c;else if(t(c)){const f=n[a];t(f)?n[a]=t0(f,c):n[a]=t0(c)}else n[a]=c}return n}function KM(e,t){return t0(GM,e,t||{})}function YM(e,t){return t0(qM,e,t||{})}class XM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const h=i??FM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=KM(c.webauthn.credential_options.publicKey,a?.create),{data:v,error:w}=await HM({publicKey:m,signal:h});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=YM(c.webauthn.credential_options.publicKey,a?.request),{data:v,error:w}=await VM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Qs("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!YE())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Qs("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!YE())return{data:null,error:new Qs("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Qs("Unexpected error in register",c)}}}}kM();const ZM={url:Z5,storageKey:Q5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:J5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function XE(e,t,r){return await r()}const Jl={};let wx=class Vv{get jwks(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Jl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jl[this.storageKey]=Object.assign(Object.assign({},Jl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},ZM),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Vv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&En()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new yx({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=tT(a.fetch),this.lock=a.lock||XE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&En()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=nT:this.lock=XE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:eT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=qE(this.memoryStorage)),En()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(En()&&(r=uM(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),En()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),QI(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Je(r)?this._returnResult({error:r}):this._returnResult({error:new Qs("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:oa}),{data:c,error:f}=a;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(Je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:v,password:w,options:E}=t;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await Zl(this.storage,this.storageKey)),a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:v,password:w,data:(r=E?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:C,code_challenge_method:O},xform:oa})}else if("phone"in t){const{phone:v,password:w,options:E}=t;a=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(n=E?.data)!==null&&n!==void 0?n:{},channel:(i=E?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:oa})}else throw new Hu("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return await bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:f}=t;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:VE})}else if("phone"in t){const{phone:a,password:c,options:f}=t;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:VE})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new Fo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,c,f,h,m,v,w,E;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:I,wallet:k,statement:D,options:L}=t;let j;if(En())if(typeof k=="object")j=k;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")j=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const z=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),W=await j.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=iT(W[0]);let V=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const Y=await j.request({method:"eth_chainId"});V=RM(Y)}const re={domain:z.host,address:H,statement:D,uri:z.href,version:"1",chainId:V,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(a=L?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=L?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=MM(re),O=await j.request({method:"personal_sign",params:[jM(C),H]})}try{const{data:I,error:k}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:oa});if(k)throw k;if(!I||!I.session||!I.user){const D=new Fo;return this._returnResult({data:{user:null,session:null},error:D})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:k})}catch(I){if(Je(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async signInWithSolana(t){var r,n,i,a,c,f,h,m,v,w,E,C;let O,I;if("message"in t)O=t.message,I=t.signature;else{const{chain:k,wallet:D,statement:L,options:j}=t;let z;if(En())if(typeof D=="object")z=D;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))z=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=D}const W=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const H=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),L?{statement:L}:null));let V;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")V=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)V=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)O=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),I=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${W.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=j?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((w=(v=j?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...j.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const H=await z.signMessage(new TextEncoder().encode(O),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=H}}try{const{data:k,error:D}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Ko(I)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:oa});if(D)throw D;if(!k||!k.session||!k.user){const L=new Fo;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:D})}catch(k){if(Je(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Bo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:c}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:oa});if(await bn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const f=new Fo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:c}=t,f=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:oa}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new Fo;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,c;try{if("email"in t){const{email:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Zl(this.storage,this.storageKey));const{error:w}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:h}=t,{data:m,error:v}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Hu("You must provide either an email or phone number.")}catch(f){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:oa});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Zl(this.storage,this.storageKey));const m=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:OM});return!((a=m.data)===null||a===void 0)&&a.url&&En()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ei;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:c}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:c,error:f}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Bo(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Wm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=_M(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async r=>{var n,i,a;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Js})})}catch(r){if(Je(r))return ZI(r)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ei;const c=i.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await Zl(this.storage,this.storageKey));const{data:m,error:v}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Js});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:c}=$m(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ei;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!En())throw new Vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wv("No code detected.");const{data:L,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=t;if(!a||!f||!c||!m)throw new Vu("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let E=v+w;h&&(E=parseInt(h));const C=E-v;C*1e3<=ic&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const O=E-w;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,v);const{data:I,error:k}=await this._getUser(a);if(k)throw k;const D={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:w,expires_at:E,refresh_token:c,token_type:m,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:D,redirectType:t.type},error:null})}catch(n){if(Je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(XI(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=cM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Zl(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var c,f,h,m,v;const{data:w,error:E}=a;if(E)throw E;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return En()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Je(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:c,provider:f,token:h,access_token:m,nonce:v}=t,w=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:oa}),{data:E,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Fo}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:C}))}catch(i){if(await bn(this.storage,`${this.storageKey}-code-verifier`),Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)throw c;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hM(async i=>(i>0&&await fM(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:oa})),(i,a)=>{const c=200*Math.pow(2,i);return a&&Lh(a)&&Date.now()+c-n<ic})}catch(n){if(this._debug(r,"error",n),Je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),En()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Bo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Bo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await ac(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:Wm()}else if(i&&!i.user&&!i.user){const c=await Bo(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await bn(this.storage,this.storageKey+"-user"),await ac(this.storage,this.storageKey,i)):i.user=Wm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${zm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Lh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new cp;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={data:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(i,"error",a),Je(a)){const c={data:null,error:a};return Lh(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(h){a.push(h)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ac(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=WE(i);await ac(this.storage,this.storageKey,a)}else{const i=WE(r);await ac(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&En()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ic);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ic);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ic}ms, refresh threshold is ${zv} ticks`),i<=zv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!En()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await Zl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await lt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$M(t.webauthn.credential_response):WM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:h}=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=await lt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:UM(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:zM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=$m(n.access_token);let c=null;a.aal&&(c=a.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=a.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const c=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&En()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ei});const c=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&En()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(Je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+tM>i)return n;const{data:a,error:c}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});n=C.session.access_token}const{header:i,payload:a,signature:c,raw:{header:f,payload:h}}=$m(n);r?.allowExpired||wM(a.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:a,header:i,signature:c},error:null}}const v=bM(i.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,oM(`${f}.${h}`)))throw new Qh("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}};wx.nextInstanceID={};const QM=yx,JM=wx,eD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:QM,AuthApiError:YI,AuthClient:JM,AuthError:yc,AuthImplicitGrantRedirectError:Vu,AuthInvalidCredentialsError:Hu,AuthInvalidJwtError:Qh,AuthInvalidTokenResponseError:Fo,AuthPKCEGrantCodeExchangeError:Wv,AuthRetryableFetchError:Zh,AuthSessionMissingError:ei,AuthUnknownError:Qs,AuthWeakPasswordError:Hv,CustomAuthError:gs,GoTrueAdminApi:yx,GoTrueClient:wx,NavigatorLockAcquireTimeoutError:rT,SIGN_OUT_SCOPES:Bh,isAuthApiError:XI,isAuthError:Je,isAuthImplicitGrantRedirectError:QI,isAuthRetryableFetchError:Lh,isAuthSessionMissingError:ZI,isAuthWeakPasswordError:rM,lockInternals:zo,navigatorLock:nT,processLock:PM},Symbol.toStringTag,{value:"Module"})),sT=wd(eD);var ZE;function tD(){if(ZE)return ju;ZE=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.SupabaseAuthClient=void 0;const e=sT;let t=class extends e.AuthClient{constructor(n){super(n)}};return ju.SupabaseAuthClient=t,ju}var QE;function JE(){if(QE)return ah;QE=1,Object.defineProperty(ah,"__esModule",{value:!0});const e=xI,t=SI(),r=RI,n=G5,i=K5(),a=Y5(),c=X5(),f=tD();class h{constructor(v,w,E){var C,O,I;this.supabaseUrl=v,this.supabaseKey=w;const k=(0,c.validateSupabaseUrl)(v);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const D=`sb-${k.hostname.split(".")[0]}-auth-token`,L={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:D}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,c.applySettingDefaults)(E??{},L);this.storageKey=(C=j.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(O=j.global.headers)!==null&&O!==void 0?O:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(z,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((I=j.auth)!==null&&I!==void 0?I:{},this.headers,j.global.fetch),this.fetch=(0,a.fetchWithAuth)(w,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,E?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,w={},E={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,w,E)}channel(v,w={config:{}}){return this.realtime.channel(v,w)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,w;if(this.accessToken)return await this.accessToken();const{data:E}=await this.auth.getSession();return(w=(v=E.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:w,detectSessionInUrl:E,storage:C,userStorage:O,storageKey:I,flowType:k,lock:D,debug:L,throwOnError:j},z,W){const H={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},H),z),storageKey:I,autoRefreshToken:v,persistSession:w,detectSessionInUrl:E,storage:C,userStorage:O,flowType:k,lock:D,debug:L,throwOnError:j,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,E)=>{this._handleTokenChanged(w,"CLIENT",E?.access_token)})}_handleTokenChanged(v,w,E){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==E?(this.changedAccessToken=E,this.realtime.setAuth(E)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ah.default=h,ah}var e_;function rD(){return e_||(e_=1,(function(e){var t=Xa&&Xa.__createBinding||(Object.create?(function(v,w,E,C){C===void 0&&(C=E);var O=Object.getOwnPropertyDescriptor(w,E);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(v,C,O)}):(function(v,w,E,C){C===void 0&&(C=E),v[C]=w[E]})),r=Xa&&Xa.__exportStar||function(v,w){for(var E in v)E!=="default"&&!Object.prototype.hasOwnProperty.call(w,E)&&t(w,v,E)},n=Xa&&Xa.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(JE());r(sT,e);var a=SI();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var c=xI;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(RI,e);var f=JE();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const h=(v,w,E)=>new i.default(v,w,E);e.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Xa)),Xa}var oT=rD();const lT=Xi(oT),nD=Jy({__proto__:null,default:lT},[oT]),{PostgrestError:Dte,FunctionsHttpError:Lte,FunctionsFetchError:Bte,FunctionsRelayError:Fte,FunctionsError:Ute,FunctionRegion:zte,SupabaseClient:$te,createClient:iD,GoTrueAdminApi:Wte,GoTrueClient:Hte,AuthAdminApi:Vte,AuthClient:Gte,navigatorLock:qte,NavigatorLockAcquireTimeoutError:Kte,lockInternals:Yte,processLock:Xte,SIGN_OUT_SCOPES:Zte,AuthError:Qte,AuthApiError:Jte,AuthUnknownError:ere,CustomAuthError:tre,AuthSessionMissingError:rre,AuthInvalidTokenResponseError:nre,AuthInvalidCredentialsError:ire,AuthImplicitGrantRedirectError:are,AuthPKCEGrantCodeExchangeError:sre,AuthRetryableFetchError:ore,AuthWeakPasswordError:lre,AuthInvalidJwtError:cre,isAuthError:ure,isAuthApiError:dre,isAuthSessionMissingError:fre,isAuthImplicitGrantRedirectError:hre,isAuthRetryableFetchError:pre,isAuthWeakPasswordError:mre,RealtimePresence:gre,RealtimeChannel:vre,RealtimeClient:yre,REALTIME_LISTEN_TYPES:xre,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:wre,REALTIME_PRESENCE_LISTEN_EVENTS:bre,REALTIME_SUBSCRIBE_STATES:Ere,REALTIME_CHANNEL_STATES:_re}=lT||nD,Hm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},cT=e=>Hm&&Hm[e]?Hm[e]:"",Vm=cT("VITE_SUPABASE_URL"),t_=cT("VITE_SUPABASE_KEY");let uT=null;if(Vm&&t_&&Vm!=="https://placeholder.supabase.co")try{uT=iD(Vm,t_)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const At=uT,aD=({onSuccess:e})=>{const[t,r]=N.useState(qo[0].id),n=qo.find(ie=>ie.id===t)||qo[0],[i,a]=N.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=N.useState(!1),[h,m]=N.useState(!1),[v,w]=N.useState([]),[E,C]=N.useState([]),[O,I]=N.useState({}),[k,D]=N.useState(null),[L,j]=N.useState(!1);N.useEffect(()=>{a(ie=>({...ie,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:ie.isHomeService}))},[n]);const z=n.durationMin+(i.isHomeService?Vj:0),W=n.price+(i.isHomeService?Hj:0);N.useEffect(()=>{i.date&&H(i.date)},[i.date]),N.useEffect(()=>{i.date&&V()},[i.date,E,z]),N.useEffect(()=>{const fe=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const be=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(Z=>Z.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&Z.name.toLowerCase()===i.name.toLowerCase());be&&(D(be),j(!0))}},1e3);return()=>clearTimeout(fe)},[i.name,i.phone]);const H=async ie=>{m(!0);try{let fe=[];if(At){const{data:le,error:De}=await At.from("bookings").select("time, duration_minutes").eq("date",ie);!De&&le&&(fe=le.map(Be=>{const[Ye,Te]=Be.time.split(":").map(Number),rt=Ye*60+Te;return{start:rt,end:rt+Be.duration_minutes}}))}const Z=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(le=>le.date===ie).map(le=>{const[De,Be]=le.time.split(":").map(Number),Ye=De*60+Be,Te=le.duration_minutes||60;return{start:Ye,end:Ye+Te}});C([...fe,...Z])}catch(fe){console.warn("Error fetching slots",fe),C([])}finally{m(!1)}},V=()=>{const we=[];for(let be=9;be<20;be++)for(let Z=0;Z<60;Z+=30){const le=be*60+Z,De=le+z;if(De>1200)continue;if(!E.some(Ye=>le>=Ye.start&&le<Ye.end||De>Ye.start&&De<=Ye.end||le<=Ye.start&&De>=Ye.end)){const Ye=`${be.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`;we.push(Ye)}}w(we),i.time&&!we.includes(i.time)&&a(be=>({...be,time:""}))},re=()=>{const ie={};return i.name||(ie.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(ie.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(ie.email="El formato del email no es vlido"):ie.email="El email es obligatorio",i.date||(ie.date="Selecciona una fecha"),i.time||(ie.time="Selecciona una hora"),i.isHomeService&&!i.address&&(ie.address="La direccin es obligatoria para servicio a domicilio"),I(ie),Object.keys(ie).length===0},Y=ie=>{const{name:fe,value:we,type:be}=ie.target,Z=ie.target.checked;a(le=>({...le,[fe]:be==="checkbox"?Z:we})),O[fe]&&I(le=>{const De={...le};return delete De[fe],De})},_e=ie=>{a(fe=>({...fe,time:ie})),O.time&&I(fe=>{const we={...fe};return delete we.time,we})},ge=async()=>{const ie=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),fe={id:Date.now(),...i,duration_minutes:z,created_at:new Date().toISOString()};if(ie.push(fe),localStorage.setItem("mock_bookings",JSON.stringify(ie)),At)try{const{error:we}=await At.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});we&&console.warn("Error saving lead:",we),await At.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:z}])}catch(we){console.warn("Supabase save failed, relying on local:",we)}},de=ie=>{const we=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(be=>be.id!==ie);localStorage.setItem("mock_bookings",JSON.stringify(we))},Ae=()=>{k&&(de(k.id),D(null),j(!1))},ye=()=>{j(!1),a(ie=>({...ie,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${k.date} a las ${k.time}) se mantiene. Gracias!`)},J=ip(),Me=async ie=>{if(!re())return;f(!0),await ge();const fe=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,we=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),be=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${fe}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${z} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${we}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(Z=>setTimeout(Z,800)),f(!1),e&&e(i),J("/confirmation",{state:{booking:i,totalPrice:W,duration:z}});{const Z=`https://wa.me/${dc}?text=${encodeURIComponent(be)}`;window.open(Z,"_blank")}};return A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[L&&k&&A.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:A.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[A.jsx(hj,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),A.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),A.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",A.jsx("strong",{children:k.name})," el da ",A.jsx("strong",{children:k.date})," a las ",A.jsx("strong",{children:k.time}),"."]}),A.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:Ae,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),A.jsx("button",{onClick:ye,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!At&&A.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[A.jsx(Aj,{size:12})," MODO DEMO"]}),A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),A.jsxs("div",{className:"relative mb-6",children:[A.jsx("select",{value:t,onChange:ie=>r(ie.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:qo.map(ie=>A.jsxs("option",{value:ie.id,children:[ie.name," - $",ie.price.toLocaleString("es-CL")]},ie.id))}),A.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:A.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),A.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),A.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[A.jsxs("div",{children:[A.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),A.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[z," min"]}),A.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),A.jsx("div",{className:"mb-4",children:A.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[A.jsx("div",{className:"flex items-center h-5 mt-0.5",children:A.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:Y,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),A.jsxs("div",{className:"ml-3",children:[A.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),A.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",Gj.join(", "),". ",A.jsx("br",{}),A.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),A.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),A.jsx("ul",{className:"space-y-2",children:n.includes.map((ie,fe)=>A.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[A.jsx(z3,{size:14,className:"text-stone-900 mr-2"}),ie]},fe))})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),A.jsx("input",{type:"text",name:"name",value:i.name,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),O.name&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.name})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),A.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),O.phone&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.phone})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),A.jsx("input",{type:"email",name:"email",value:i.email,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),O.email&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.email})]})]}),A.jsxs("div",{className:"animate-in fade-in pt-2",children:[A.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[A.jsx(G3,{size:12})," Quin te recomend? (Opcional)"]}),A.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:Y,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&A.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",name:"address",value:i.address,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${O.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),A.jsx($3,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),O.address&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.address})]})]})]})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[A.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:Y,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${O.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),A.jsx(mj,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),O.date&&A.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.date})]}),i.date&&A.jsxs("div",{className:"animate-in fade-in",children:[A.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[A.jsx("span",{children:"Horas Disponibles"}),h&&A.jsxs("span",{className:"flex items-center text-stone-400",children:[A.jsx(Ju,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),v.length>0?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:v.map(ie=>A.jsx("button",{onClick:()=>_e(ie),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===ie?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:ie},ie))}),O.time&&A.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:O.time})]}):A.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:h?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&A.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[A.jsx(gj,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),A.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[A.jsxs("button",{onClick:()=>Me(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?A.jsx(Ju,{className:"animate-spin"}):A.jsx(Dj,{size:22}),A.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),A.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},sD=({onSelectPerfume:e})=>{const[t,r]=N.useState(!1),[n,i]=N.useState(""),[a,c]=N.useState([]),[f,h]=N.useState(!1),m=w=>{if(w.preventDefault(),!n.trim())return;const E=n.toLowerCase().split(/[\s,]+/).filter(I=>I.length>2),O=ro.map(I=>{let k=0;const D=[],L=(j,z)=>{E.forEach(W=>{j.toLowerCase().includes(W)&&(k+=z,D.includes(W)||D.push(W))})};return L(I.name,3),L(I.description,1),L(I.brand,2),I.notes.forEach(j=>L(j,2)),L(I.category==="arab"?"arabe":"clasico",2),{perfume:I,score:k,matches:D}}).filter(I=>I.score>0).sort((I,k)=>k.score-I.score).slice(0,3);c(O),h(!0)},v=()=>{i(""),c([]),h(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[A.jsx(gc,{size:24,className:"animate-pulse"}),A.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&A.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[A.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[A.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:A.jsx(Jo,{size:24})}),A.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[A.jsx(gc,{className:"text-yellow-300"})," Asesor de Aromas"]}),A.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),A.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?A.jsx("div",{className:"space-y-4",children:a.length>0?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),a.map(({perfume:w,matches:E},C)=>A.jsxs("div",{onClick:()=>{e(w.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[A.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[C===0&&A.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),A.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})]}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:w.name}),A.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:w.brand}),A.jsx("div",{className:"flex flex-wrap gap-1",children:E.map(O=>A.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",O]},O))})]})]},w.id)),A.jsx("button",{onClick:v,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):A.jsxs("div",{className:"text-center py-8",children:[A.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),A.jsx("button",{onClick:v,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:A.jsx(cx,{size:48,className:"text-purple-400"})}),A.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),A.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",A.jsx("br",{}),'"Algo dulce con vainilla"',A.jsx("br",{}),'"Fresco y ctrico para el da"',A.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),A.jsx("form",{onSubmit:m,className:"p-4 border-t border-stone-100 bg-stone-50",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),A.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?A.jsx(dx,{size:20}):A.jsx(H3,{size:20})})]})})]})})]})},oD=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(null),[i,a]=N.useState("all"),[c,f]=N.useState({});N.useEffect(()=>{h()},[]);const h=async()=>{const{data:L}=await At.from("inventory").select("product_id, quantity");if(L){const j={};L.forEach(z=>{j[z.product_id]=z.quantity}),f(j)}},m=L=>{t("");const j=ro.find(z=>z.id===L);j&&(a(j.category),setTimeout(()=>{const z=document.getElementById(`perfume-${L}`);z&&z.scrollIntoView({behavior:"smooth",block:"center"}),z?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>z?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},v=N.useMemo(()=>{const L=new Set;return ro.forEach(j=>j.notes.forEach(z=>L.add(z))),Array.from(L).sort()},[]),w=N.useMemo(()=>ro.filter(L=>{const j=L.name.toLowerCase().includes(e.toLowerCase())||L.brand.toLowerCase().includes(e.toLowerCase()),z=r?L.notes.includes(r):!0,W=i==="all"||L.category===i;return j&&z&&W}).sort((L,j)=>{const z=c[L.id]!==void 0?c[L.id]>0:L.stock,W=c[j.id]!==void 0?c[j.id]>0:j.stock;return z===W?0:z?-1:1}),[e,r,i,c]),E=w.filter(L=>L.category==="classic"),C=w.filter(L=>L.category==="arab"),O=(L,j)=>{const z=j==="5ml"?L.price5ml:L.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${L.brand} - ${L.name}* en formato *${j}* por $${z}. Tienen disponibilidad?`,H=`https://wa.me/${dc}?text=${encodeURIComponent(W)}`;window.open(H,"_blank")},I=L=>{if(!L.priceFullBottle)return;const j=`Hola Tus3B Style, quiero comprar la botella completa de *${L.brand} - ${L.name}* por $${L.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,z=`https://wa.me/${dc}?text=${encodeURIComponent(j)}`;window.open(z,"_blank")},k=()=>{window.open(`https://wa.me/${dc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},D=L=>A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((j,z)=>A.jsxs("div",{className:"group flex flex-col h-full",children:[A.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&A.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:z+1}),A.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[A.jsx("img",{src:j.image,alt:j.name,className:`w-full h-full object-contain ${j.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),j.secondaryImage&&A.jsx("img",{src:j.secondaryImage,alt:`${j.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),A.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!j.stock&&A.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:A.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),A.jsxs("div",{className:"flex-1 flex flex-col",children:[A.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:j.brand}),A.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:j.name}),A.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:j.description}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:j.notes.slice(0,3).map(W=>A.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),A.jsxs("div",{className:"mt-auto space-y-3",children:[!j.isSpray&&A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsxs("button",{onClick:()=>O(j,"5ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[A.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),A.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price5ml.toLocaleString("es-CL")]})]}),A.jsxs("button",{onClick:()=>O(j,"10ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[A.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),A.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price10ml.toLocaleString("es-CL")]})]})]}),j.priceFullBottle&&A.jsxs("button",{onClick:()=>I(j),disabled:!(c[j.id]!==void 0?c[j.id]>0:j.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[j.id]!==void 0?c[j.id]>0:j.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[A.jsx(ed,{size:14}),A.jsxs("span",{children:["Botella ",j.isSpray?"200ml":"100ml"," - $",j.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},j.id))});return A.jsxs("div",{className:"space-y-16 fade-in",children:[A.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),A.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),A.jsxs("div",{className:"relative w-full md:w-72",children:[A.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:L=>t(L.target.value)}),A.jsx(dx,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),A.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:A.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[A.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),v.map(L=>A.jsx("button",{onClick:()=>n(r===L?null:L),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===L?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:L},L))]})})]}),A.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),A.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),A.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[A.jsxs("div",{className:"space-y-6",children:[A.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),A.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",A.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),A.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),A.jsxs("ul",{className:"space-y-4 pt-2",children:[A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:A.jsx(jh,{size:14,className:"text-green-500"})}),A.jsxs("span",{className:"text-stone-700 text-sm",children:[A.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:A.jsx(jh,{size:14,className:"text-green-500"})}),A.jsxs("span",{className:"text-stone-700 text-sm",children:[A.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),A.jsxs("li",{className:"flex items-start gap-3",children:[A.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:A.jsx(jh,{size:14,className:"text-green-500"})}),A.jsxs("span",{className:"text-stone-700 text-sm",children:[A.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:L=>L.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),A.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[A.jsx(V3,{fill:"#fbbf24",className:"text-amber-400",size:16}),A.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),A.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const L=W=>W.some(H=>c[H.id]!==void 0?c[H.id]>0:H.stock),z=[{id:"arab",hasStock:L(C),items:C,render:()=>A.jsxs("section",{children:[A.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[A.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:A.jsx(gc,{size:24,className:"text-purple-600"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),A.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),D(C)]},"arab")},{id:"classic",hasStock:L(E),items:E,render:()=>A.jsxs("section",{children:[A.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[A.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:A.jsx(vj,{size:24,className:"text-stone-800"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),A.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),D(E)]},"classic")}].sort((W,H)=>W.hasStock===H.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return z.map((W,H)=>A.jsxs(cr.Fragment,{children:[W.items.length>0&&W.render(),H===0&&z.length>1&&z[1].items.length>0&&z[0].items.length>0&&A.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),w.length===0&&A.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[A.jsx(ed,{size:48,className:"mx-auto text-stone-300 mb-4"}),A.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),A.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),A.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[A.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[A.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:A.jsx(Oj,{size:32,className:"text-yellow-200"})}),A.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),A.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),A.jsxs("button",{onClick:k,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[A.jsx(cx,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),A.jsx(sD,{onSelectPerfume:m})]})},lD=()=>A.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",A.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),A.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),A.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[A.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),A.jsxs("a",{href:`https://wa.me/${dc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[A.jsx(cx,{size:16})," WhatsApp: +56 9 8452 4774"]}),A.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),A.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),A.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[A.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),A.jsx("div",{className:"flex space-x-4",children:A.jsx("a",{href:Wj,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:A.jsx(Sj,{size:20})})})]})]}),A.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})});const r_=["user","model","function","system"];var n_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(n_||(n_={}));var i_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(i_||(i_={}));var a_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(a_||(a_={}));var s_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(s_||(s_={}));var r0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(r0||(r0={}));var o_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(o_||(o_={}));var l_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(l_||(l_={}));var c_;(function(e){e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT"})(c_||(c_={}));class ri extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ec extends ri{constructor(t,r){super(t),this.response=r}}class u_ extends ri{constructor(t,r,n,i){super(t),this.status=r,this.statusText=n,this.errorDetails=i}}class Fh extends ri{}const cD="https://generativelanguage.googleapis.com",uD="v1beta",dD="0.11.5",fD="genai-js";var nl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(nl||(nl={}));class dT{constructor(t,r,n,i,a){this.model=t,this.task=r,this.apiKey=n,this.stream=i,this.requestOptions=a}toString(){var t,r;const n=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||uD;let a=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||cD}/${n}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function hD(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${fD}/${dD}`),t.join(" ")}async function pD(e){const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",hD(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=e.requestOptions.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(n){throw new Fh(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${n.message}`)}for(const[n,i]of r.entries()){if(n==="x-goog-api-key")throw new Fh(`Cannot set reserved header name ${n}`);if(n==="x-goog-api-client")throw new Fh(`Header name ${n} can only be set using the apiClient field`);t.append(n,i)}}return t}async function mD(e,t,r,n,i,a){const c=new dT(e,t,r,n,a);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},vD(a)),{method:"POST",headers:await pD(c),body:i})}}async function Sd(e,t,r,n,i,a){return gD(e,t,r,n,i,a,fetch)}async function gD(e,t,r,n,i,a,c=fetch){const f=new dT(e,t,r,n,a);let h;try{const m=await mD(e,t,r,n,i,a);if(h=await c(m.url,m.fetchOptions),!h.ok){let v="",w;try{const E=await h.json();v=E.error.message,E.error.details&&(v+=` ${JSON.stringify(E.error.details)}`,w=E.error.details)}catch{}throw new u_(`Error fetching from ${f.toString()}: [${h.status} ${h.statusText}] ${v}`,h.status,h.statusText,w)}}catch(m){let v=m;throw m instanceof u_||m instanceof Fh||(v=new ri(`Error fetching from ${f.toString()}: ${m.message}`),v.stack=m.stack),v}return h}function vD(e){const t={};if(e?.timeout>=0){const r=new AbortController,n=r.signal;setTimeout(()=>r.abort(),e.timeout),t.signal=n}return t}function bx(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Uh(e.candidates[0]))throw new ec(`${Ys(e)}`,e);return yD(e)}else if(e.promptFeedback)throw new ec(`Text not available. ${Ys(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Uh(e.candidates[0]))throw new ec(`${Ys(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),d_(e)[0]}else if(e.promptFeedback)throw new ec(`Function call not available. ${Ys(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Uh(e.candidates[0]))throw new ec(`${Ys(e)}`,e);return d_(e)}else if(e.promptFeedback)throw new ec(`Function call not available. ${Ys(e)}`,e)},e}function yD(e){var t,r,n,i;const a=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const c of(i=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)c.text&&a.push(c.text);return a.length>0?a.join(""):""}function d_(e){var t,r,n,i;const a=[];if(!((r=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||r===void 0)&&r.parts)for(const c of(i=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||i===void 0?void 0:i.parts)c.functionCall&&a.push(c.functionCall);if(a.length>0)return a}const xD=[r0.RECITATION,r0.SAFETY];function Uh(e){return!!e.finishReason&&xD.includes(e.finishReason)}function Ys(e){var t,r,n;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((r=e.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((n=e.candidates)===null||n===void 0)&&n[0]){const a=e.candidates[0];Uh(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function nd(e){return this instanceof nd?(this.v=e,this):new nd(e)}function wD(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(E){n[E]&&(i[E]=function(C){return new Promise(function(O,I){a.push([E,C,O,I])>1||f(E,C)})})}function f(E,C){try{h(n[E](C))}catch(O){w(a[0][3],O)}}function h(E){E.value instanceof nd?Promise.resolve(E.value.v).then(m,v):w(a[0][2],E)}function m(E){f("next",E)}function v(E){f("throw",E)}function w(E,C){E(C),a.shift(),a.length&&f(a[0][0],a[0][1])}}const f_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function bD(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=AD(t),[n,i]=r.tee();return{stream:_D(n),response:ED(i)}}async function ED(e){const t=[],r=e.getReader();for(;;){const{done:n,value:i}=await r.read();if(n)return bx(SD(t));t.push(i)}}function _D(e){return wD(this,arguments,function*(){const r=e.getReader();for(;;){const{value:n,done:i}=yield nd(r.read());if(i)break;yield yield nd(bx(n))}})}function AD(e){const t=e.getReader();return new ReadableStream({start(n){let i="";return a();function a(){return t.read().then(({value:c,done:f})=>{if(f){if(i.trim()){n.error(new ri("Failed to parse stream"));return}n.close();return}i+=c;let h=i.match(f_),m;for(;h;){try{m=JSON.parse(h[1])}catch{n.error(new ri(`Error parsing JSON response: "${h[1]}"`));return}n.enqueue(m),i=i.substring(h[0].length),h=i.match(f_)}return a()})}}})}function SD(e){const t=e[e.length-1],r={promptFeedback:t?.promptFeedback};for(const n of e)if(n.candidates)for(const i of n.candidates){const a=i.index;if(r.candidates||(r.candidates=[]),r.candidates[a]||(r.candidates[a]={index:i.index}),r.candidates[a].citationMetadata=i.citationMetadata,r.candidates[a].finishReason=i.finishReason,r.candidates[a].finishMessage=i.finishMessage,r.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){r.candidates[a].content||(r.candidates[a].content={role:i.content.role||"user",parts:[]});const c={};for(const f of i.content.parts)f.text&&(c.text=f.text),f.functionCall&&(c.functionCall=f.functionCall),Object.keys(c).length===0&&(c.text=""),r.candidates[a].content.parts.push(c)}}return r}async function fT(e,t,r,n){const i=await Sd(t,nl.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(r),n);return bD(i)}async function hT(e,t,r,n){const a=await(await Sd(t,nl.GENERATE_CONTENT,e,!1,JSON.stringify(r),n)).json();return{response:bx(a)}}function pT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function n0(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const r of e)typeof r=="string"?t.push({text:r}):t.push(r);return CD(t)}function CD(e){const t={role:"user",parts:[]},r={role:"function",parts:[]};let n=!1,i=!1;for(const a of e)"functionResponse"in a?(r.parts.push(a),i=!0):(t.parts.push(a),n=!0);if(n&&i)throw new ri("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!i)throw new ri("No content is provided for sending chat message.");return n?t:r}function Gm(e){let t;return e.contents?t=e:t={contents:[n0(e)]},e.systemInstruction&&(t.systemInstruction=pT(e.systemInstruction)),t}function OD(e){return typeof e=="string"||Array.isArray(e)?{content:n0(e)}:e}const h_=["text","inlineData","functionCall","functionResponse"],ID={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]};function TD(e){let t=!1;for(const r of e){const{role:n,parts:i}=r;if(!t&&n!=="user")throw new ri(`First content should be with role 'user', got ${n}`);if(!r_.includes(n))throw new ri(`Each item should include role field. Got ${n} but valid roles are: ${JSON.stringify(r_)}`);if(!Array.isArray(i))throw new ri("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ri("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const f of i)for(const h of h_)h in f&&(a[h]+=1);const c=ID[n];for(const f of h_)if(!c.includes(f)&&a[f]>0)throw new ri(`Content with role '${n}' can't contain '${f}' part`);t=!0}}const p_="SILENT_ERROR";class ND{constructor(t,r,n,i){this.model=r,this.params=n,this.requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,n?.history&&(TD(n.history),this._history=n.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var r,n,i,a,c;await this._sendPromise;const f=n0(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,contents:[...this._history,f]};let m;return this._sendPromise=this._sendPromise.then(()=>hT(this._apiKey,this.model,h,this.requestOptions)).then(v=>{var w;if(v.response.candidates&&v.response.candidates.length>0){this._history.push(f);const E=Object.assign({parts:[],role:"model"},(w=v.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(E)}else{const E=Ys(v.response);E&&console.warn(`sendMessage() was unsuccessful. ${E}. Inspect response object for details.`)}m=v}),await this._sendPromise,m}async sendMessageStream(t){var r,n,i,a,c;await this._sendPromise;const f=n0(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(c=this.params)===null||c===void 0?void 0:c.systemInstruction,contents:[...this._history,f]},m=fT(this._apiKey,this.model,h,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>m).catch(v=>{throw new Error(p_)}).then(v=>v.response).then(v=>{if(v.candidates&&v.candidates.length>0){this._history.push(f);const w=Object.assign({},v.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=Ys(v);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(v=>{v.message!==p_&&console.error(v)}),m}}async function PD(e,t,r,n){return(await Sd(t,nl.COUNT_TOKENS,e,!1,JSON.stringify(Object.assign(Object.assign({},r),{model:t})),n)).json()}async function kD(e,t,r,n){return(await Sd(t,nl.EMBED_CONTENT,e,!1,JSON.stringify(r),n)).json()}async function RD(e,t,r,n){const i=r.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await Sd(t,nl.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),n)).json()}class jD{constructor(t,r,n){this.apiKey=t,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=pT(r.systemInstruction),this.requestOptions=n||{}}async generateContent(t){const r=Gm(t);return hT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},r),this.requestOptions)}async generateContentStream(t){const r=Gm(t);return fT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},r),this.requestOptions)}startChat(t){return new ND(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}async countTokens(t){const r=Gm(t);return PD(this.apiKey,this.model,r,this.requestOptions)}async embedContent(t){const r=OD(t);return kD(this.apiKey,this.model,r,this.requestOptions)}async batchEmbedContents(t){return RD(this.apiKey,this.model,t,this.requestOptions)}}class MD{constructor(t){this.apiKey=t}getGenerativeModel(t,r){if(!t.model)throw new ri("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new jD(this.apiKey,t,r)}}const DD={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},LD=()=>{try{if(DD)return"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80"}catch(e){console.warn("Error accediendo a env vars:",e)}},m_=LD();let id=null;if(m_)try{id=new MD(m_)}catch(e){console.error("Error initializing Gemini:",e)}else console.warn("VITE_GEMINI_API_KEY no encontrada. El chat funcionar en modo DEMO.");const BD=async(e,t)=>{if(!id)return await new Promise(a=>setTimeout(a,800)),e.toLowerCase().includes("precio")||e.toLowerCase().includes("valor")?"Nuestros cortes parten desde $19.990. Los decants de perfumes tienen precios variados, por ejemplo Good Girl 5ml a $8.990. Te gustara ver el catlogo completo?":e.toLowerCase().includes("domicilio")||e.toLowerCase().includes("casa")?"S! Atendemos principalmente en nuestro Studio, pero tambin vamos a domicilio en Santiago Centro y uoa por un recargo de $3.000 adicional.":e.toLowerCase().includes("hola")||e.toLowerCase().includes("buenos")?"Hola! Bienvenid@ a Tus3B Style. Soy tu asistente virtual (Modo Demo). Puedo ayudarte con precios, zonas de cobertura y recomendaciones de perfumes.":"Gracias por tu mensaje. Como estoy en Modo Demo (sin API Key configurada), mis respuestas son limitadas. Te sugiero contactarnos directamente por WhatsApp para una atencin personalizada.";const r=ro.map(a=>`- ID: ${a.id}
     - Marca: ${a.brand}
     - Nombre: ${a.name}
     - Descripcin: ${a.description}
     - Notas Olfativas: ${a.notes.join(", ")}
     - Categora: ${a.category==="arab"?"Perfumera rabe (Tendencia)":"Clsico de Lujo"}
     - Precios: 5ml $${a.price5ml} / 10ml $${a.price10ml} ${a.priceFullBottle?`/ Botella: $${a.priceFullBottle}`:""}
     - STOCK: ${a.stock?"DISPONIBLE (Recomendar)":"AGOTADO (No recomendar como primera opcin)"}
     - Spray: ${a.isSpray?"S, es formato desodorante/body spray":"No, es perfume concentrado"}`).join(`

`),n=qo.map(a=>`- ${a.name}: ${a.description}. Precio: ${a.price}. Incluye: ${a.includes.join(", ")}.`).join(`
`),i=`
    Eres "StyleBot", el asistente experto y vendedor estrella de "Tus3B Style".
    
    Tus objetivos principales:
    1. ASESORAR sobre perfumes basndote en las notas que busca el usuario (ej: dulce, fresco, amaderado).
    2. VENDER servicios de peluquera (Cortes desde $7.000).

    REGLAS DE ORO PARA PERFUMES (SGUELAS SIEMPRE):
    1. **VERIFICAR STOCK**: Antes de recomendar, mira el campo "STOCK".
       - Prioriza SIEMPRE recomendar perfumes con "STOCK: DISPONIBLE".
       - Si el usuario pide algo especfico que est "AGOTADO", avsale pero ofrece inmediatemente una alternativa disponible.
    2. **REGLA DE LAS 2 OPCIONES**: Cuando te pidan una recomendacin, SIEMPRE sugiere exactamente 2 opciones del catlogo que mejor se ajusten.
       - Opcin 1: La mejor coincidencia (Disponible).
       - Opcin 2: Una alternativa interesante o complementaria (Disponible).
    3. **Precios Claros**: Menciona los precios de los decants (5ml y 10ml) en tus recomendaciones.

    Contexto del Catlogo de Perfumes (BASE DE DATOS ACTUALIZADA):
    ${r}

    Contexto de Servicios:
    ${n}

    Tono y Estilo:
    - Eres cercana, experta y entusiasta (usa emojis con moderacin ).
    - Si te preguntan "dnde atienden": "Nuestra atencin principal es en nuestro exclusivo **Studio** (Sector Santiago Centro/uoa). Es un espacio acondicionado especial para ti."
    - Si insisten por domicilio: "S, tambin vamos a domicilio en Santiago y uoa por un recargo de $3.000 adicional."
    - Si te preguntan "qu me recomiendas", no des una lista larga. Cntrate en tus 2 mejores cartas.
    - Responde siempre en espaol de Chile.
  `;try{return(await(await id.getGenerativeModel({model:"gemini-2.5-flash",systemInstruction:i}).generateContent(`${t.join(`
`)}
User: ${e}`)).response).text()}catch(a){return console.error("Error calling Gemini:",a),"Hubo un error al conectar con el asistente. Por favor intenta ms tarde."}},FD=async e=>{if(!id)return"Otros";const t=["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"],r=`
    Clasifica la siguiente compra/gasto en EXACTAMENTE una de estas categoras: ${t.join(", ")}.
    
    Descripcin del gasto: "${e}"
    
    Responde SOLAMENTE con el nombre de la categora, sin texto adicional. Si no ests seguro o no encaja, responde "Otros".
  `;try{const c=(await(await id.getGenerativeModel({model:"gemini-2.5-flash"}).generateContent(r)).response).text().trim();return c&&t.includes(c)?c:"Otros"}catch(n){return console.error("Error classifying expense:",n),"Otros"}},UD=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([{role:"bot",text:"Hola! Soy tu asistente de estilo. Buscas un perfume especial o tienes dudas sobre el corte a domicilio?"}]),[i,a]=N.useState(""),[c,f]=N.useState(!1),h=N.useRef(null),m=()=>{h.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{m()},[r,e]);const v=async()=>{if(!i.trim()||c)return;const E=i;n(I=>[...I,{role:"user",text:E}]),a(""),f(!0);const C=r.map(I=>`${I.role==="user"?"Usuario":"Bot"}: ${I.text}`),O=await BD(E,C);n(I=>[...I,{role:"bot",text:O}]),f(!1)},w=E=>{E.key==="Enter"&&v()};return A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?A.jsx(Jo,{color:"white"}):A.jsx(gc,{color:"white"})}),e&&A.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[A.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[A.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:A.jsx(gc,{size:16,className:"text-yellow-400"})}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),A.jsx("p",{className:"text-stone-400 text-xs",children:"Te ayudo a elegir tu estilo"})]})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((E,C)=>A.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:A.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm ${E.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:E.text})},C)),c&&A.jsx("div",{className:"flex justify-start",children:A.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[A.jsx(Ju,{size:16,className:"animate-spin text-stone-400"}),A.jsx("span",{className:"text-xs text-stone-400",children:"Escribiendo..."})]})}),A.jsx("div",{ref:h})]}),A.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[A.jsx("input",{type:"text",value:i,onChange:E=>a(E.target.value),onKeyDown:w,placeholder:"Pregunta por perfumes o cortes...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),A.jsx("button",{onClick:v,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:A.jsx(H3,{size:16})})]})]})]})},zD=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(N.useEffect(()=>{window.scrollTo(0,0)},[]),A.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:A.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[A.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),A.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),A.jsxs("div",{className:"relative z-10",children:[A.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:A.jsx(z3,{size:40,strokeWidth:2.5})}),A.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),A.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&A.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[A.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[A.jsx($3,{size:14})," Direccin del Servicio"]}),A.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),A.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[A.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[A.jsx(_j,{size:20}),"Regresar al Inicio"]}),A.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[A.jsx(ed,{size:20}),A.jsxs("span",{children:["Venta de Perfumes ",A.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),$D=()=>A.jsx("section",{className:"py-24 bg-white",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),A.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:qj.map(e=>A.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[A.jsx(Pj,{className:"absolute top-6 right-6 text-stone-200",size:40}),A.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>A.jsx(V3,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),A.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),A.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),A.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),A.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var WD=Object.defineProperty,i0=Object.getOwnPropertySymbols,mT=Object.prototype.hasOwnProperty,gT=Object.prototype.propertyIsEnumerable,g_=(e,t,r)=>t in e?WD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gv=(e,t)=>{for(var r in t||(t={}))mT.call(t,r)&&g_(e,r,t[r]);if(i0)for(var r of i0(t))gT.call(t,r)&&g_(e,r,t[r]);return e},qv=(e,t)=>{var r={};for(var n in e)mT.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&i0)for(var n of i0(e))t.indexOf(n)<0&&gT.call(e,n)&&(r[n]=e[n]);return r};var il;(e=>{const t=class bt{constructor(h,m,v,w){if(this.version=h,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],h<bt.MIN_VERSION||h>bt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let E=[];for(let O=0;O<this.size;O++)E.push(!1);for(let O=0;O<this.size;O++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(v);if(this.drawCodewords(C),w==-1){let O=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);const k=this.getPenaltyScore();k<O&&(w=I,O=k),this.applyMask(I)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(h,m){const v=e.QrSegment.makeSegments(h);return bt.encodeSegments(v,m)}static encodeBinary(h,m){const v=e.QrSegment.makeBytes(h);return bt.encodeSegments([v],m)}static encodeSegments(h,m,v=1,w=40,E=-1,C=!0){if(!(bt.MIN_VERSION<=v&&v<=w&&w<=bt.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let O,I;for(O=v;;O++){const j=bt.getNumDataCodewords(O,m)*8,z=c.getTotalBits(h,O);if(z<=j){I=z;break}if(O>=w)throw new RangeError("Data too long")}for(const j of[bt.Ecc.MEDIUM,bt.Ecc.QUARTILE,bt.Ecc.HIGH])C&&I<=bt.getNumDataCodewords(O,j)*8&&(m=j);let k=[];for(const j of h){r(j.mode.modeBits,4,k),r(j.numChars,j.mode.numCharCountBits(O),k);for(const z of j.getData())k.push(z)}i(k.length==I);const D=bt.getNumDataCodewords(O,m)*8;i(k.length<=D),r(0,Math.min(4,D-k.length),k),r(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let j=236;k.length<D;j^=253)r(j,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((j,z)=>L[z>>>3]|=j<<7-(z&7)),new bt(O,m,L,E)}getModule(h,m){return 0<=h&&h<this.size&&0<=m&&m<this.size&&this.modules[m][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),m=h.length;for(let v=0;v<m;v++)for(let w=0;w<m;w++)v==0&&w==0||v==0&&w==m-1||v==m-1&&w==0||this.drawAlignmentPattern(h[v],h[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const m=this.errorCorrectionLevel.formatBits<<3|h;let v=m;for(let E=0;E<10;E++)v=v<<1^(v>>>9)*1335;const w=(m<<10|v)^21522;i(w>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,n(w,E));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,n(w,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,n(w,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,n(w,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let v=0;v<12;v++)h=h<<1^(h>>>11)*7973;const m=this.version<<12|h;i(m>>>18==0);for(let v=0;v<18;v++){const w=n(m,v),E=this.size-11+v%3,C=Math.floor(v/3);this.setFunctionModule(E,C,w),this.setFunctionModule(C,E,w)}}drawFinderPattern(h,m){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const E=Math.max(Math.abs(w),Math.abs(v)),C=h+w,O=m+v;0<=C&&C<this.size&&0<=O&&O<this.size&&this.setFunctionModule(C,O,E!=2&&E!=4)}}drawAlignmentPattern(h,m){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(h+w,m+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(h,m,v){this.modules[m][h]=v,this.isFunction[m][h]=!0}addEccAndInterleave(h){const m=this.version,v=this.errorCorrectionLevel;if(h.length!=bt.getNumDataCodewords(m,v))throw new RangeError("Invalid argument");const w=bt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m],E=bt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m],C=Math.floor(bt.getNumRawDataModules(m)/8),O=w-C%w,I=Math.floor(C/w);let k=[];const D=bt.reedSolomonComputeDivisor(E);for(let j=0,z=0;j<w;j++){let W=h.slice(z,z+I-E+(j<O?0:1));z+=W.length;const H=bt.reedSolomonComputeRemainder(W,D);j<O&&W.push(0),k.push(W.concat(H))}let L=[];for(let j=0;j<k[0].length;j++)k.forEach((z,W)=>{(j!=I-E||W>=O)&&L.push(z[j])});return i(L.length==C),L}drawCodewords(h){if(h.length!=Math.floor(bt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let E=0;E<2;E++){const C=v-E,I=(v+1&2)==0?this.size-1-w:w;!this.isFunction[I][C]&&m<h.length*8&&(this.modules[I][C]=n(h[m>>>3],7-(m&7)),m++)}}i(m==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let v=0;v<this.size;v++){let w;switch(h){case 0:w=(v+m)%2==0;break;case 1:w=m%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+m)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(m/2))%2==0;break;case 5:w=v*m%2+v*m%3==0;break;case 6:w=(v*m%2+v*m%3)%2==0;break;case 7:w=((v+m)%2+v*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][v]&&w&&(this.modules[m][v]=!this.modules[m][v])}}getPenaltyScore(){let h=0;for(let E=0;E<this.size;E++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[E][k]==C?(O++,O==5?h+=bt.PENALTY_N1:O>5&&h++):(this.finderPenaltyAddHistory(O,I),C||(h+=this.finderPenaltyCountPatterns(I)*bt.PENALTY_N3),C=this.modules[E][k],O=1);h+=this.finderPenaltyTerminateAndCount(C,O,I)*bt.PENALTY_N3}for(let E=0;E<this.size;E++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][E]==C?(O++,O==5?h+=bt.PENALTY_N1:O>5&&h++):(this.finderPenaltyAddHistory(O,I),C||(h+=this.finderPenaltyCountPatterns(I)*bt.PENALTY_N3),C=this.modules[k][E],O=1);h+=this.finderPenaltyTerminateAndCount(C,O,I)*bt.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let C=0;C<this.size-1;C++){const O=this.modules[E][C];O==this.modules[E][C+1]&&O==this.modules[E+1][C]&&O==this.modules[E+1][C+1]&&(h+=bt.PENALTY_N2)}let m=0;for(const E of this.modules)m=E.reduce((C,O)=>C+(O?1:0),m);const v=this.size*this.size,w=Math.ceil(Math.abs(m*20-v*10)/v)-1;return i(0<=w&&w<=9),h+=w*bt.PENALTY_N4,i(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let v=[6];for(let w=this.size-7;v.length<h;w-=m)v.splice(1,0,w);return v}}static getNumRawDataModules(h){if(h<bt.MIN_VERSION||h>bt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*h+128)*h+64;if(h>=2){const v=Math.floor(h/7)+2;m-=(25*v-10)*v-55,h>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(h,m){return Math.floor(bt.getNumRawDataModules(h)/8)-bt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h]*bt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let m=[];for(let w=0;w<h-1;w++)m.push(0);m.push(1);let v=1;for(let w=0;w<h;w++){for(let E=0;E<m.length;E++)m[E]=bt.reedSolomonMultiply(m[E],v),E+1<m.length&&(m[E]^=m[E+1]);v=bt.reedSolomonMultiply(v,2)}return m}static reedSolomonComputeRemainder(h,m){let v=m.map(w=>0);for(const w of h){const E=w^v.shift();v.push(0),m.forEach((C,O)=>v[O]^=bt.reedSolomonMultiply(C,E))}return v}static reedSolomonMultiply(h,m){if(h>>>8||m>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(m>>>w&1)*h;return i(v>>>8==0),v}finderPenaltyCountPatterns(h){const m=h[1];i(m<=this.size*3);const v=m>0&&h[2]==m&&h[3]==m*3&&h[4]==m&&h[5]==m;return(v&&h[0]>=m*4&&h[6]>=m?1:0)+(v&&h[6]>=m*4&&h[0]>=m?1:0)}finderPenaltyTerminateAndCount(h,m,v){return h&&(this.finderPenaltyAddHistory(m,v),m=0),m+=this.size,this.finderPenaltyAddHistory(m,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(h,m){m[0]==0&&(h+=this.size),m.pop(),m.unshift(h)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,h,m){if(h<0||h>31||f>>>h)throw new RangeError("Value out of range");for(let v=h-1;v>=0;v--)m.push(f>>>v&1)}function n(f,h){return(f>>>h&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const a=class Ar{constructor(h,m,v){if(this.mode=h,this.numChars=m,this.bitData=v,m<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(h){let m=[];for(const v of h)r(v,8,m);return new Ar(Ar.Mode.BYTE,h.length,m)}static makeNumeric(h){if(!Ar.isNumeric(h))throw new RangeError("String contains non-numeric characters");let m=[];for(let v=0;v<h.length;){const w=Math.min(h.length-v,3);r(parseInt(h.substring(v,v+w),10),w*3+1,m),v+=w}return new Ar(Ar.Mode.NUMERIC,h.length,m)}static makeAlphanumeric(h){if(!Ar.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],v;for(v=0;v+2<=h.length;v+=2){let w=Ar.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v))*45;w+=Ar.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v+1)),r(w,11,m)}return v<h.length&&r(Ar.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v)),6,m),new Ar(Ar.Mode.ALPHANUMERIC,h.length,m)}static makeSegments(h){return h==""?[]:Ar.isNumeric(h)?[Ar.makeNumeric(h)]:Ar.isAlphanumeric(h)?[Ar.makeAlphanumeric(h)]:[Ar.makeBytes(Ar.toUtf8ByteArray(h))]}static makeEci(h){let m=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)r(h,8,m);else if(h<16384)r(2,2,m),r(h,14,m);else if(h<1e6)r(6,3,m),r(h,21,m);else throw new RangeError("ECI assignment value out of range");return new Ar(Ar.Mode.ECI,0,m)}static isNumeric(h){return Ar.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Ar.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,m){let v=0;for(const w of h){const E=w.mode.numCharCountBits(m);if(w.numChars>=1<<E)return 1/0;v+=4+E+w.bitData.length}return v}static toUtf8ByteArray(h){h=encodeURI(h);let m=[];for(let v=0;v<h.length;v++)h.charAt(v)!="%"?m.push(h.charCodeAt(v)):(m.push(parseInt(h.substring(v+1,v+3),16)),v+=2);return m}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;e.QrSegment=a})(il||(il={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(il||(il={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(il||(il={}));var oc=il;var HD={L:oc.QrCode.Ecc.LOW,M:oc.QrCode.Ecc.MEDIUM,Q:oc.QrCode.Ecc.QUARTILE,H:oc.QrCode.Ecc.HIGH},vT=128,yT="L",xT="#FFFFFF",wT="#000000",bT=!1,ET=1,VD=4,GD=0,qD=.1;function _T(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(c,f){if(!c&&a!==null){r.push(`M${a+t} ${i+t}h${f-a}v1H${a+t}z`),a=null;return}if(f===n.length-1){if(!c)return;a===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${a+t},${i+t} h${f+1-a}v1H${a+t}z`);return}c&&a===null&&(a=f)})}),r.join("")}function AT(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function KD(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*qD),c=i/t,f=(n.width||a)*c,h=(n.height||a)*c,m=n.x==null?e.length/2-f/2:n.x*c,v=n.y==null?e.length/2-h/2:n.y*c,w=n.opacity==null?1:n.opacity;let E=null;if(n.excavate){let O=Math.floor(m),I=Math.floor(v),k=Math.ceil(f+m-O),D=Math.ceil(h+v-I);E={x:O,y:I,w:k,h:D}}const C=n.crossOrigin;return{x:m,y:v,h,w:f,excavation:E,opacity:w,crossOrigin:C}}function YD(e,t){return t!=null?Math.max(Math.floor(t),0):e?VD:GD}function ST({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:c,boostLevel:f}){let h=cr.useMemo(()=>{const O=(Array.isArray(e)?e:[e]).reduce((I,k)=>(I.push(...oc.QrSegment.makeSegments(k)),I),[]);return oc.QrCode.encodeSegments(O,HD[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:m,margin:v,numCells:w,calculatedImageSettings:E}=cr.useMemo(()=>{let C=h.getModules();const O=YD(n,i),I=C.length+O*2,k=KD(C,c,O,a);return{cells:C,margin:O,numCells:I,calculatedImageSettings:k}},[h,c,a,n,i]);return{qrcode:h,margin:v,cells:m,numCells:w,calculatedImageSettings:E}}var XD=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),ZD=cr.forwardRef(function(t,r){const n=t,{value:i,size:a=vT,level:c=yT,bgColor:f=xT,fgColor:h=wT,includeMargin:m=bT,minVersion:v=ET,boostLevel:w,marginSize:E,imageSettings:C}=n,I=qv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=I,D=qv(I,["style"]),L=C?.src,j=cr.useRef(null),z=cr.useRef(null),W=cr.useCallback(ye=>{j.current=ye,typeof r=="function"?r(ye):r&&(r.current=ye)},[r]),[H,V]=cr.useState(!1),{margin:re,cells:Y,numCells:_e,calculatedImageSettings:ge}=ST({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:E,imageSettings:C,size:a});cr.useEffect(()=>{if(j.current!=null){const ye=j.current,J=ye.getContext("2d");if(!J)return;let Me=Y;const ie=z.current,fe=ge!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;fe&&ge.excavation!=null&&(Me=AT(Y,ge.excavation));const we=window.devicePixelRatio||1;ye.height=ye.width=a*we;const be=a/_e*we;J.scale(be,be),J.fillStyle=f,J.fillRect(0,0,_e,_e),J.fillStyle=h,XD?J.fill(new Path2D(_T(Me,re))):Y.forEach(function(Z,le){Z.forEach(function(De,Be){De&&J.fillRect(Be+re,le+re,1,1)})}),ge&&(J.globalAlpha=ge.opacity),fe&&J.drawImage(ie,ge.x+re,ge.y+re,ge.w,ge.h)}}),cr.useEffect(()=>{V(!1)},[L]);const de=Gv({height:a,width:a},k);let Ae=null;return L!=null&&(Ae=cr.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{V(!0)},ref:z,crossOrigin:ge?.crossOrigin})),cr.createElement(cr.Fragment,null,cr.createElement("canvas",Gv({style:de,height:a,width:a,ref:W,role:"img"},D)),Ae)});ZD.displayName="QRCodeCanvas";var CT=cr.forwardRef(function(t,r){const n=t,{value:i,size:a=vT,level:c=yT,bgColor:f=xT,fgColor:h=wT,includeMargin:m=bT,minVersion:v=ET,boostLevel:w,title:E,marginSize:C,imageSettings:O}=n,I=qv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:D,numCells:L,calculatedImageSettings:j}=ST({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:C,imageSettings:O,size:a});let z=D,W=null;O!=null&&j!=null&&(j.excavation!=null&&(z=AT(D,j.excavation)),W=cr.createElement("image",{href:O.src,height:j.h,width:j.w,x:j.x+k,y:j.y+k,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const H=_T(z,k);return cr.createElement("svg",Gv({height:a,width:a,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},I),!!E&&cr.createElement("title",null,E),cr.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),cr.createElement("path",{fill:h,d:H,shapeRendering:"crispEdges"}),W)});CT.displayName="QRCodeSVG";const QD=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[a,c]=N.useState(!1),h=(v=>{switch(v==="Silver"&&(v="Bronce"),v){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return A.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!a),children:[A.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${a?"rotate-y-180":""}`,children:[A.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[560px] border border-stone-800",children:[A.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",A.jsx("span",{className:"text-amber-500",children:"Style"})]}),A.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:h.name})]}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),A.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),A.jsxs("div",{className:"px-6 py-4 z-10",children:[A.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((v,w)=>A.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${w<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:w<r&&A.jsx(jh,{size:20,className:"text-stone-950 stroke-[4]"})},w))}),A.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[A.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),A.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),A.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),A.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),A.jsx("div",{className:"w-px h-10 bg-stone-800"}),A.jsxs("div",{className:"text-right",children:[A.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),A.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),A.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[A.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[A.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),A.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),A.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),A.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[A.jsx(CT,{value:t,size:160,level:"M"}),A.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]})]}),A.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${h.bgGradient} z-0`})]}),A.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[560px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[A.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),A.jsx(bj,{className:"text-stone-500"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),A.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),A.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),A.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),A.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),A.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),A.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),A.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),A.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),A.jsx("div",{className:"text-center",children:A.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),A.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},JD=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(!1),[i,a]=N.useState(null),[c,f]=N.useState(!1),[h,m]=N.useState(""),[v,w]=N.useState(""),[E,C]=N.useState(""),O=L=>{let j=L.replace(/[^0-9kK]/g,"").toUpperCase();return j=j.replace("K","0"),j},I=L=>{const j=L.target.value.replace(/[^0-9]/g,"");j.length<=8&&t(j)},k=async L=>{L&&L.preventDefault();const z=new URLSearchParams(window.location.search).get("token");if(!(!z&&e.length<8)){n(!0);try{let W=At.from("clients").select("*");z?W=W.eq("member_token",z):W=W.eq("phone","+569"+e);const{data:H,error:V}=await W.single();if(H){const re=H.visits||0;let Y="Bronce";re>=10?Y="Gold":re>=5&&(Y="Plata"),a({name:H.name,visits:re,referrals:H.referrals,nextReward:re<5?5:re<10?10:15,token:H.member_token,tier:Y,hair_service_count:H.hair_service_count||0}),f(!1)}else z||f(!0)}catch(W){console.error("Error checking loyalty:",W)}finally{n(!1)}}},D=async L=>{L.preventDefault(),n(!0);try{const j=O(E),z="+569"+e,{data:W,error:H}=await At.from("clients").insert([{name:`${h} ${v}`,phone:z,rut:j,visits:0,referrals:0,hair_service_count:0}]).select();if(H)throw H;if(W&&W[0]){const V=W[0];a({name:V.name,visits:0,referrals:0,nextReward:5,token:V.member_token,tier:"Bronce",hair_service_count:0}),f(!1)}}catch(j){console.error("Error registering:",j),alert("No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return cr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&k()},[]),A.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[A.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),A.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),A.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!i&&!c&&A.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[A.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),A.jsxs("form",{onSubmit:k,className:"space-y-4",children:[A.jsxs("div",{className:"relative group",children:[A.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-500 font-mono text-lg z-10 pointer-events-none border-r border-stone-800 pr-3 h-6 flex items-center",children:"+569"}),A.jsx("input",{type:"tel",value:e,onChange:I,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 pl-[5.5rem] pr-12 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono tracking-normal md:tracking-widest text-lg"}),A.jsx(dx,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]}),A.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?A.jsx(Ju,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!i&&c&&A.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:A.jsx(G3,{size:24})}),A.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),A.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",A.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),A.jsxs("form",{onSubmit:D,className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:h,onChange:L=>m(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),A.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:v,onChange:L=>w(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),A.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:E,onChange:L=>C(L.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),A.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?A.jsx(Ju,{className:"animate-spin"}):"Registrarme"}),A.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),i&&A.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[A.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:A.jsx(QD,{clientName:i.name||"Miembro Exclusivo",token:i.token||"pending-token",visits:i.visits,nextReward:5,tier:i.tier})}),A.jsxs("div",{className:"text-center space-y-4",children:[A.jsx("p",{className:"text-sm text-stone-400",children:i.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),A.jsx("button",{onClick:()=>{a(null),t(""),f(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},e9=({onLogin:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[a,c]=N.useState(""),[f,h]=N.useState(!1),m=async v=>{v.preventDefault(),c(""),h(!0);try{if(await new Promise(w=>setTimeout(w,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(w){console.error(w),c("Error local simulado")}finally{h(!1)}};return A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[A.jsx(Mj,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),A.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),A.jsxs("form",{onSubmit:m,className:"space-y-4",children:[A.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),A.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),a&&A.jsx("p",{className:"text-red-500 text-sm",children:a}),A.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),A.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var We;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var v_=new Map([[We.QR_CODE,"QR_CODE"],[We.AZTEC,"AZTEC"],[We.CODABAR,"CODABAR"],[We.CODE_39,"CODE_39"],[We.CODE_93,"CODE_93"],[We.CODE_128,"CODE_128"],[We.DATA_MATRIX,"DATA_MATRIX"],[We.MAXICODE,"MAXICODE"],[We.ITF,"ITF"],[We.EAN_13,"EAN_13"],[We.EAN_8,"EAN_8"],[We.PDF_417,"PDF_417"],[We.RSS_14,"RSS_14"],[We.RSS_EXPANDED,"RSS_EXPANDED"],[We.UPC_A,"UPC_A"],[We.UPC_E,"UPC_E"],[We.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),y_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(y_||(y_={}));function t9(e){return Object.values(We).includes(e)}var a0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(a0||(a0={}));var r9=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[a0.SCAN_TYPE_CAMERA,a0.SCAN_TYPE_FILE],e})(),OT=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!v_.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,v_.get(t))},e})(),x_=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Kv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kv||(Kv={}));var n9=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Kv.UNKWOWN_ERROR}},e})(),i9=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Ja(e){return typeof e>"u"||e===null}var lc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),IT=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(t),f=0,h=c;f<h.length;f++){var m=h[f];if(a.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Gu={exports:{}},a9=Gu.exports,w_;function s9(){return w_||(w_=1,(function(e,t){(function(r,n){n(t)})(a9,(function(r){function n(B){return B==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,s){B.__proto__=s}||function(B,s){for(var l in s)s.hasOwnProperty(l)&&(B[l]=s[l])};function a(B,s){i(B,s);function l(){this.constructor=B}B.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(B,s){var l=Object.setPrototypeOf;l?l(B,s):B.__proto__=s}function f(B,s){s===void 0&&(s=B.constructor);var l=Error.captureStackTrace;l&&l(B,s)}var h=(function(B){a(s,B);function s(l){var u=this.constructor,p=B.call(this,l)||this;return Object.defineProperty(p,"name",{value:u.name,enumerable:!1}),c(p,u.prototype),f(p),p}return s})(Error);class m extends h{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,u,p){const g=this.binarizer.getLuminanceSource().crop(s,l,u,p);return new E(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends m{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class O{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,l,u,p,g){for(;g--;)u[p++]=s[l++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class D extends k{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}D.kind="ArrayIndexOutOfBoundsException";class L{static fill(s,l){for(let u=0,p=s.length;u<p;u++)s[u]=l}static fillWithin(s,l,u,p){L.rangeCheck(s.length,l,u);for(let g=l;g<u;g++)s[g]=p}static rangeCheck(s,l,u){if(l>u)throw new w("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new D(l);if(u>s)throw new D(u)}static asList(...s){return s}static create(s,l,u){return Array.from({length:s}).map(g=>Array.from({length:l}).fill(u))}static createInt32Array(s,l,u){return Array.from({length:s}).map(g=>Int32Array.from({length:l}).fill(u))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let u=0,p=s.length;u<p;u++)if(s[u]!==l[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const u of s)l=31*l+u;return l}static fillUint8Array(s,l){for(let u=0;u!==s.length;u++)s[u]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const u=new Uint8Array(l);return u.set(s),u}return s.slice(0,l)}static copyOfRange(s,l,u){const p=u-l,g=new Int32Array(p);return I.arraycopy(s,l,g,0,p),g}static binarySearch(s,l,u){u===void 0&&(u=L.numberComparator);let p=0,g=s.length-1;for(;p<=g;){const y=g+p>>1,b=u(l,s[y]);if(b>0)p=y+1;else if(b<0)g=y-1;else return y}return-p-1}static numberComparator(s,l){return s-l}}class j{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let u=31;return l=s<<16,l!==0&&(u-=16,s=l),l=s<<8,l!==0&&(u-=8,s=l),l=s<<4,l!==0&&(u-=4,s=l),l=s<<2,l!==0&&(u-=2,s=l),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=z.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=z.makeArray(s);I.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const u=this.bits;let p=Math.floor(s/32),g=u[p];g&=~((1<<(s&31))-1);const y=u.length;for(;g===0;){if(++p===y)return l;g=u[p]}const b=p*32+j.numberOfTrailingZeros(g);return b>l?l:b}getNextUnset(s){const l=this.size;if(s>=l)return l;const u=this.bits;let p=Math.floor(s/32),g=~u[p];g&=~((1<<(s&31))-1);const y=u.length;for(;g===0;){if(++p===y)return l;g=~u[p]}const b=p*32+j.numberOfTrailingZeros(g);return b>l?l:b}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new w;if(l===s)return;l--;const u=Math.floor(s/32),p=Math.floor(l/32),g=this.bits;for(let y=u;y<=p;y++){const b=y>u?0:s&31,T=(2<<(y<p?31:l&31))-(1<<b);g[y]|=T}}clear(){const s=this.bits.length,l=this.bits;for(let u=0;u<s;u++)l[u]=0}isRange(s,l,u){if(l<s||s<0||l>this.size)throw new w;if(l===s)return!0;l--;const p=Math.floor(s/32),g=Math.floor(l/32),y=this.bits;for(let b=p;b<=g;b++){const S=b>p?0:s&31,M=(2<<(b<g?31:l&31))-(1<<S)&4294967295;if((y[b]&M)!==(u?M:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new w("Sizes don't match");const l=this.bits;for(let u=0,p=l.length;u<p;u++)l[u]^=s.bits[u]}toBytes(s,l,u,p){for(let g=0;g<p;g++){let y=0;for(let b=0;b<8;b++)this.get(s)&&(y|=1<<7-b),s++;l[u+g]=y}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,p=this.bits;for(let g=0;g<u;g++){let y=p[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,s[l-g]=y}if(this.size!==u*32){const g=u*32-this.size;let y=s[0]>>>g;for(let b=1;b<u;b++){const S=s[b];y|=S<<32-g,s[b-1]=y,y=S>>>g}s[u-1]=y}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof z))return!1;const l=s;return this.size===l.size&&L.equals(this.bits,l.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let s="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new z(this.size,this.bits.slice())}}var W;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var H=W;class V extends m{static getFormatInstance(){return new V}}V.kind="FormatException";var re;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(re||(re={}));class Y{constructor(s,l,u,...p){this.valueIdentifier=s,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=p,Y.VALUE_IDENTIFIER_TO_ECI.set(s,this),Y.NAME_TO_ECI.set(u,this);const g=this.values;for(let y=0,b=g.length;y!==b;y++){const S=g[y];Y.VALUES_TO_ECI.set(S,this)}for(const y of p)Y.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new V("incorect value");const l=Y.VALUES_TO_ECI.get(s);if(l===void 0)throw new V("incorect value");return l}static getCharacterSetECIByName(s){const l=Y.NAME_TO_ECI.get(s);if(l===void 0)throw new V("incorect value");return l}equals(s){if(!(s instanceof Y))return!1;const l=s;return this.getName()===l.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(re.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(re.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(re.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(re.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(re.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(re.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(re.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(re.Big5,28,"Big5"),Y.GB18030=new Y(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(re.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends m{}_e.kind="UnsupportedOperationException";class ge{static decode(s,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!ge.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof Y?s:Y.getCharacterSetECIByName(s)}static decodeFallback(s,l){const u=this.encodingCharacterSet(l);if(ge.isDecodeFallbackSupported(u)){let p="";for(let g=0,y=s.length;g<y;g++){let b=s[g].toString(16);b.length<2&&(b="0"+b),p+="%"+b}return decodeURIComponent(p)}if(u.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new _e(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(Y.UTF8)||s.equals(Y.ISO8859_1)||s.equals(Y.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),p=[];for(let g=0;g<u.length;g++)p.push(u[g].charCodeAt(0));return new Uint8Array(p)}}class de{static castAsNonUtf8Char(s,l=null){const u=l?l.getName():this.ISO88591;return ge.decode(new Uint8Array([s]),u)}static guessEncoding(s,l){if(l!=null&&l.get(H.CHARACTER_SET)!==void 0)return l.get(H.CHARACTER_SET).toString();const u=s.length;let p=!0,g=!0,y=!0,b=0,S=0,T=0,M=0,F=0,$=0,q=0,X=0,ee=0,ne=0,he=0;const Pe=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let Re=0;Re<u&&(p||g||y);Re++){const Ce=s[Re]&255;y&&(b>0?(Ce&128)===0?y=!1:b--:(Ce&128)!==0&&((Ce&64)===0?y=!1:(b++,(Ce&32)===0?S++:(b++,(Ce&16)===0?T++:(b++,(Ce&8)===0?M++:y=!1))))),p&&(Ce>127&&Ce<160?p=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&he++),g&&(F>0?Ce<64||Ce===127||Ce>252?g=!1:F--:Ce===128||Ce===160||Ce>239?g=!1:Ce>160&&Ce<224?($++,X=0,q++,q>ee&&(ee=q)):Ce>127?(F++,q=0,X++,X>ne&&(ne=X)):(q=0,X=0))}return y&&b>0&&(y=!1),g&&F>0&&(g=!1),y&&(Pe||S+T+M>0)?de.UTF8:g&&(de.ASSUME_SHIFT_JIS||ee>=3||ne>=3)?de.SHIFT_JIS:p&&g?ee===2&&$===2||he*10>=u?de.SHIFT_JIS:de.ISO88591:p?de.ISO88591:g?de.SHIFT_JIS:y?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let u=-1;function p(y,b,S,T,M,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=M?parseInt(M.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(y);break;case"p":q=parseFloat(l[u]).toPrecision(y);break;case"e":q=parseFloat(l[u]).toExponential(y);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let X=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;q.length<X;)q=b!==void 0?q+ee:ee+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,p)}static getBytes(s,l){return ge.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}de.SHIFT_JIS=Y.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=Y.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=Y.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Ae{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=de.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,u){for(let p=l;l<l+u;p++)this.append(s[p]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class ye{constructor(s,l,u,p){if(this.width=s,this.height=l,this.rowSize=u,this.bits=p,l==null&&(l=s),this.height=l,s<1||l<1)throw new w("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,u=s[0].length,p=new ye(u,l);for(let g=0;g<l;g++){const y=s[g];for(let b=0;b<u;b++)y[b]&&p.set(b,g)}return p}static parseFromString(s,l,u){if(s===null)throw new w("stringRepresentation cannot be null");const p=new Array(s.length);let g=0,y=0,b=-1,S=0,T=0;for(;T<s.length;)if(s.charAt(T)===`
`||s.charAt(T)==="\r"){if(g>y){if(b===-1)b=g-y;else if(g-y!==b)throw new w("row lengths do not match");y=g,S++}T++}else if(s.substring(T,T+l.length)===l)T+=l.length,p[g]=!0,g++;else if(s.substring(T,T+u.length)===u)T+=u.length,p[g]=!1,g++;else throw new w("illegal character encountered: "+s.substring(T));if(g>y){if(b===-1)b=g-y;else if(g-y!==b)throw new w("row lengths do not match");S++}const M=new ye(b,S);for(let F=0;F<g;F++)p[F]&&M.set(Math.floor(F%b),Math.floor(F/b));return M}get(s,l){const u=l*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new w("input matrix dimensions do not match");const l=new z(Math.floor(this.width/32)+1),u=this.rowSize,p=this.bits;for(let g=0,y=this.height;g<y;g++){const b=g*u,S=s.getRow(g,l).getBitArray();for(let T=0;T<u;T++)p[b+T]^=S[T]}}clear(){const s=this.bits,l=s.length;for(let u=0;u<l;u++)s[u]=0}setRegion(s,l,u,p){if(l<0||s<0)throw new w("Left and top must be nonnegative");if(p<1||u<1)throw new w("Height and width must be at least 1");const g=s+u,y=l+p;if(y>this.height||g>this.width)throw new w("The region must fit inside the matrix");const b=this.rowSize,S=this.bits;for(let T=l;T<y;T++){const M=T*b;for(let F=s;F<g;F++)S[M+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new z(this.width):l.clear();const u=this.rowSize,p=this.bits,g=s*u;for(let y=0;y<u;y++)l.setBulk(y*32,p[g+y]);return l}setRow(s,l){I.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let u=new z(s),p=new z(s);for(let g=0,y=Math.floor((l+1)/2);g<y;g++)u=this.getRow(g,u),p=this.getRow(l-1-g,p),u.reverse(),p.reverse(),this.setRow(g,p),this.setRow(l-1-g,u)}getEnclosingRectangle(){const s=this.width,l=this.height,u=this.rowSize,p=this.bits;let g=s,y=l,b=-1,S=-1;for(let T=0;T<l;T++)for(let M=0;M<u;M++){const F=p[T*u+M];if(F!==0){if(T<y&&(y=T),T>S&&(S=T),M*32<g){let $=0;for(;(F<<31-$&4294967295)===0;)$++;M*32+$<g&&(g=M*32+$)}if(M*32+31>b){let $=31;for(;!(F>>>$);)$--;M*32+$>b&&(b=M*32+$)}}}return b<g||S<y?null:Int32Array.from([g,y,b-g+1,S-y+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const p=u/s;let g=u%s*32;const y=l[u];let b=0;for(;(y<<31-b&4294967295)===0;)b++;return g+=b,Int32Array.from([g,p])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const p=Math.floor(u/s);let g=Math.floor(u%s)*32;const y=l[u];let b=31;for(;!(y>>>b);)b--;return g+=b,Int32Array.from([g,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof ye))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&L.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+L.hashCode(this.bits),s}toString(s="X ",l="  ",u=`
`){return this.buildToString(s,l,u)}buildToString(s,l,u){let p=new Ae;for(let g=0,y=this.height;g<y;g++){for(let b=0,S=this.width;b<S;b++)p.append(this.get(b,g)?s:l);p.append(u)}return p.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends m{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class Me extends O{constructor(s){super(s),this.luminances=Me.EMPTY,this.buckets=new Int32Array(Me.LUMINANCE_BUCKETS)}getBlackRow(s,l){const u=this.getLuminanceSource(),p=u.getWidth();l==null||l.getSize()<p?l=new z(p):l.clear(),this.initArrays(p);const g=u.getRow(s,this.luminances),y=this.buckets;for(let S=0;S<p;S++)y[(g[S]&255)>>Me.LUMINANCE_SHIFT]++;const b=Me.estimateBlackPoint(y);if(p<3)for(let S=0;S<p;S++)(g[S]&255)<b&&l.set(S);else{let S=g[0]&255,T=g[1]&255;for(let M=1;M<p-1;M++){const F=g[M+1]&255;(T*4-S-F)/2<b&&l.set(M),S=T,T=F}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight(),p=new ye(l,u);this.initArrays(l);const g=this.buckets;for(let S=1;S<5;S++){const T=Math.floor(u*S/5),M=s.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<F;$++){const q=M[$]&255;g[q>>Me.LUMINANCE_SHIFT]++}}const y=Me.estimateBlackPoint(g),b=s.getMatrix();for(let S=0;S<u;S++){const T=S*l;for(let M=0;M<l;M++)(b[T+M]&255)<y&&p.set(M,S)}return p}createBinarizer(s){return new Me(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let u=0;u<Me.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(s){const l=s.length;let u=0,p=0,g=0;for(let M=0;M<l;M++)s[M]>g&&(p=M,g=s[M]),s[M]>u&&(u=s[M]);let y=0,b=0;for(let M=0;M<l;M++){const F=M-p,$=s[M]*F*F;$>b&&(y=M,b=$)}if(p>y){const M=p;p=y,y=M}if(y-p<=l/16)throw new J;let S=y-1,T=-1;for(let M=y-1;M>p;M--){const F=M-p,$=F*F*(y-M)*(u-s[M]);$>T&&(S=M,T=$)}return S<<Me.LUMINANCE_SHIFT}}Me.LUMINANCE_BITS=5,Me.LUMINANCE_SHIFT=8-Me.LUMINANCE_BITS,Me.LUMINANCE_BUCKETS=1<<Me.LUMINANCE_BITS,Me.EMPTY=Uint8ClampedArray.from([0]);class ie extends Me{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight();if(l>=ie.MINIMUM_DIMENSION&&u>=ie.MINIMUM_DIMENSION){const p=s.getMatrix();let g=l>>ie.BLOCK_SIZE_POWER;(l&ie.BLOCK_SIZE_MASK)!==0&&g++;let y=u>>ie.BLOCK_SIZE_POWER;(u&ie.BLOCK_SIZE_MASK)!==0&&y++;const b=ie.calculateBlackPoints(p,g,y,l,u),S=new ye(l,u);ie.calculateThresholdForBlock(p,g,y,l,u,b,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new ie(s)}static calculateThresholdForBlock(s,l,u,p,g,y,b){const S=g-ie.BLOCK_SIZE,T=p-ie.BLOCK_SIZE;for(let M=0;M<u;M++){let F=M<<ie.BLOCK_SIZE_POWER;F>S&&(F=S);const $=ie.cap(M,2,u-3);for(let q=0;q<l;q++){let X=q<<ie.BLOCK_SIZE_POWER;X>T&&(X=T);const ee=ie.cap(q,2,l-3);let ne=0;for(let Pe=-2;Pe<=2;Pe++){const Re=y[$+Pe];ne+=Re[ee-2]+Re[ee-1]+Re[ee]+Re[ee+1]+Re[ee+2]}const he=ne/25;ie.thresholdBlock(s,X,F,he,p,b)}}}static cap(s,l,u){return s<l?l:s>u?u:s}static thresholdBlock(s,l,u,p,g,y){for(let b=0,S=u*g+l;b<ie.BLOCK_SIZE;b++,S+=g)for(let T=0;T<ie.BLOCK_SIZE;T++)(s[S+T]&255)<=p&&y.set(l+T,u+b)}static calculateBlackPoints(s,l,u,p,g){const y=g-ie.BLOCK_SIZE,b=p-ie.BLOCK_SIZE,S=new Array(u);for(let T=0;T<u;T++){S[T]=new Int32Array(l);let M=T<<ie.BLOCK_SIZE_POWER;M>y&&(M=y);for(let F=0;F<l;F++){let $=F<<ie.BLOCK_SIZE_POWER;$>b&&($=b);let q=0,X=255,ee=0;for(let he=0,Pe=M*p+$;he<ie.BLOCK_SIZE;he++,Pe+=p){for(let Re=0;Re<ie.BLOCK_SIZE;Re++){const Ce=s[Pe+Re]&255;q+=Ce,Ce<X&&(X=Ce),Ce>ee&&(ee=Ce)}if(ee-X>ie.MIN_DYNAMIC_RANGE)for(he++,Pe+=p;he<ie.BLOCK_SIZE;he++,Pe+=p)for(let Re=0;Re<ie.BLOCK_SIZE;Re++)q+=s[Pe+Re]&255}let ne=q>>ie.BLOCK_SIZE_POWER*2;if(ee-X<=ie.MIN_DYNAMIC_RANGE&&(ne=X/2,T>0&&F>0)){const he=(S[T-1][F]+2*S[T][F-1]+S[T-1][F-1])/4;X<he&&(ne=he)}S[T][F]=ne}}return S}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class fe{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,u,p){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new Ae;for(let u=0;u<this.height;u++){const p=this.getRow(u,s);for(let g=0;g<this.width;g++){const y=p[g]&255;let b;y<64?b="#":y<128?b="+":y<192?b=".":b=" ",l.append(b)}l.append(`
`)}return l.toString()}}class we extends fe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const u=this.delegate.getRow(s,l),p=this.getWidth();for(let g=0;g<p;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let p=0;p<l;p++)u[p]=255-(s[p]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,u,p){return new we(this.delegate.crop(s,l,u,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new we(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new we(this.delegate.rotateCounterClockwise45())}}class be extends fe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return be.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,u){const p=new Uint8ClampedArray(l*u);for(let g=0,y=0,b=s.length;g<b;g+=4,y++){let S;if(s[g+3]===0)S=255;else{const M=s[g],F=s[g+1],$=s[g+2];S=306*M+601*F+117*$+512>>10}p[y]=S}return p}getRow(s,l){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const u=this.getWidth(),p=s*u;return l===null?l=this.buffer.slice(p,p+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(p,p+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,u,p){return super.crop(s,l,u,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),u=l.getContext("2d"),p=s*be.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(p))*g+Math.abs(Math.sin(p))*y),S=Math.ceil(Math.abs(Math.sin(p))*g+Math.abs(Math.cos(p))*y);return l.width=b,l.height=S,u.translate(b/2,S/2),u.rotate(p),u.drawImage(this.canvas,g/-2,y/-2),this.buffer=be.makeBufferFromCanvasImageData(l),this}invert(){return new we(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(s,l,u){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||rh||self||window||void 0)&&(globalThis||rh||self||window||void 0).__awaiter||function(B,s,l,u){function p(g){return g instanceof l?g:new l(function(y){y(g)})}return new(l||(l=Promise))(function(g,y){function b(M){try{T(u.next(M))}catch(F){y(F)}}function S(M){try{T(u.throw(M))}catch(F){y(F)}}function T(M){M.done?g(M.value):p(M.value).then(b,S)}T((u=u.apply(B,s||[])).next())})};class De{constructor(s,l=500,u){this.reader=s,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of s){const p=u.kind==="video"?"videoinput":u.kind;if(p!=="videoinput")continue;const g=u.deviceId||u.id,y=u.label||`Video device ${l.length+1}`,b=u.groupId,S={deviceId:g,label:y,kind:p,groupId:b};l.push(S)}return l})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Z(l.deviceId,l.label))})}findDeviceById(s){return le(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return le(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const p={video:u};return yield this.decodeOnceFromConstraints(p,l)})}decodeOnceFromConstraints(s,l){return le(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(s,l){return le(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,l,u){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,u)})}decodeFromVideoDevice(s,l,u){return le(this,void 0,void 0,function*(){let p;s?p={deviceId:{exact:s}}:p={facingMode:"environment"};const g={video:p};return yield this.decodeFromConstraints(g,l,u)})}decodeFromConstraints(s,l,u){return le(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(p,l,u)})}decodeFromStream(s,l,u){return le(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(p,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return le(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((l,u)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const u=document.getElementById(s);if(!u)throw new v(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new v(`element with id '${s}' must be an ${l} element`);return u}decodeFromImage(s,l){if(!s&&!l)throw new v("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new v("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,u){if(s===void 0&&l===void 0)throw new v("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new v("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(s){if(!s)throw new v("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=s,u}decodeFromVideoUrl(s){if(!s)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=s,u}decodeFromVideoUrlContinuously(s,l){if(!s)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(u,l);return u.src=s,p}_decodeOnLoadImage(s){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,u=!0){this._stopAsyncDecode=!1;const p=(g,y)=>{if(this._stopAsyncDecode){y(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);g(b)}catch(b){const S=l&&b instanceof J,M=(b instanceof C||b instanceof V)&&u;if(S||M)return setTimeout(p,this._timeBetweenDecodingAttempts,g,y);y(b)}};return new Promise((g,y)=>p(g,y))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(s);l(p,null),setTimeout(u,this.timeBetweenScansMillis)}catch(p){l(null,p);const g=p instanceof C||p instanceof V,y=p instanceof J;(g||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,u){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new be(l),p=new ie(u);return new E(p)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,p;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,p=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,p=s.naturalHeight||s.height)),l.style.width=u+"px",l.style.height=p+"px",l.width=u,l.height=p,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(s,l,u=l==null?0:8*l.length,p,g,y=I.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=u,this.resultPoints=p,this.format=g,this.timestamp=y,this.text=s,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=p,this.format=g,this.resultMetadata=null,y==null?this.timestamp=I.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(l.length+s.length);I.arraycopy(l,0,u,0,l.length),I.arraycopy(s,0,u,l.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ye;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var Te=Ye,rt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rt||(rt={}));var ve=rt;class ae{constructor(s,l,u,p,g=-1,y=-1){this.rawBytes=s,this.text=l,this.byteSegments=u,this.ecLevel=p,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ke{exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class Oe{constructor(s,l){if(l.length===0)throw new w;this.field=s;const u=l.length;if(u>1&&l[0]===0){let p=1;for(;p<u&&l[p]===0;)p++;p===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-p),I.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(s===1){u=0;for(let y=0,b=l.length;y!==b;y++){const S=l[y];u=ke.addOrSubtract(u,S)}return u}u=l[0];const p=l.length,g=this.field;for(let y=1;y<p;y++)u=ke.addOrSubtract(g.multiply(s,u),l[y]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){const y=l;l=u,u=y}let p=new Int32Array(u.length);const g=u.length-l.length;I.arraycopy(u,0,p,0,g);for(let y=g;y<u.length;y++)p[y]=ke.addOrSubtract(l[y-g],u[y]);return new Oe(this.field,p)}multiply(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,p=s.coefficients,g=p.length,y=new Int32Array(u+g-1),b=this.field;for(let S=0;S<u;S++){const T=l[S];for(let M=0;M<g;M++)y[S+M]=ke.addOrSubtract(y[S+M],b.multiply(T,p[M]))}return new Oe(b,y)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,u=this.field,p=new Int32Array(l),g=this.coefficients;for(let y=0;y<l;y++)p[y]=u.multiply(g[y],s);return new Oe(u,p)}multiplyByMonomial(s,l){if(s<0)throw new w;if(l===0)return this.field.getZero();const u=this.coefficients,p=u.length,g=new Int32Array(p+s),y=this.field;for(let b=0;b<p;b++)g[b]=y.multiply(u[b],l);return new Oe(y,g)}divide(s){if(!this.field.equals(s.field))throw new w("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new w("Divide by 0");const l=this.field;let u=l.getZero(),p=this;const g=s.getCoefficient(s.getDegree()),y=l.inverse(g);for(;p.getDegree()>=s.getDegree()&&!p.isZero();){const b=p.getDegree()-s.getDegree(),S=l.multiply(p.getCoefficient(p.getDegree()),y),T=s.multiplyByMonomial(b,S),M=l.buildMonomial(b,S);u=u.addOrSubtract(M),p=p.addOrSubtract(T)}return[u,p]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),l===0||u!==1){const p=this.field.log(u);p===0?s+="1":p===1?s+="a":(s+="a^",s+=p)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class xe extends m{}xe.kind="ArithmeticException";class Fe extends ke{constructor(s,l,u){super(),this.primitive=s,this.size=l,this.generatorBase=u;const p=new Int32Array(l);let g=1;for(let b=0;b<l;b++)p[b]=g,g*=2,g>=l&&(g^=s,g&=l-1);this.expTable=p;const y=new Int32Array(l);for(let b=0;b<l-1;b++)y[p[b]]=b;this.logTable=y,this.zero=new Oe(this,Int32Array.from([0])),this.one=new Oe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new w;if(l===0)return this.zero;const u=new Int32Array(s+1);return u[0]=l,new Oe(this,u)}inverse(s){if(s===0)throw new xe;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Fe.AZTEC_DATA_12=new Fe(4201,4096,1),Fe.AZTEC_DATA_10=new Fe(1033,1024,1),Fe.AZTEC_DATA_6=new Fe(67,64,1),Fe.AZTEC_PARAM=new Fe(19,16,1),Fe.QR_CODE_FIELD_256=new Fe(285,256,0),Fe.DATA_MATRIX_FIELD_256=new Fe(301,256,1),Fe.AZTEC_DATA_8=Fe.DATA_MATRIX_FIELD_256,Fe.MAXICODE_FIELD_64=Fe.AZTEC_DATA_6;class ot extends m{}ot.kind="ReedSolomonException";class St extends m{}St.kind="IllegalStateException";class wr{constructor(s){this.field=s}decode(s,l){const u=this.field,p=new Oe(u,s),g=new Int32Array(l);let y=!0;for(let q=0;q<l;q++){const X=p.evaluateAt(u.exp(q+u.getGeneratorBase()));g[g.length-1-q]=X,X!==0&&(y=!1)}if(y)return;const b=new Oe(u,g),S=this.runEuclideanAlgorithm(u.buildMonomial(l,1),b,l),T=S[0],M=S[1],F=this.findErrorLocations(T),$=this.findErrorMagnitudes(M,F);for(let q=0;q<F.length;q++){const X=s.length-1-u.log(F[q]);if(X<0)throw new ot("Bad error location");s[X]=Fe.addOrSubtract(s[X],$[q])}}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){const q=s;s=l,l=q}const p=this.field;let g=s,y=l,b=p.getZero(),S=p.getOne();for(;y.getDegree()>=(u/2|0);){let q=g,X=b;if(g=y,b=S,g.isZero())throw new ot("r_{i-1} was zero");y=q;let ee=p.getZero();const ne=g.getCoefficient(g.getDegree()),he=p.inverse(ne);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const Pe=y.getDegree()-g.getDegree(),Re=p.multiply(y.getCoefficient(y.getDegree()),he);ee=ee.addOrSubtract(p.buildMonomial(Pe,Re)),y=y.addOrSubtract(g.multiplyByMonomial(Pe,Re))}if(S=ee.multiply(b).addOrSubtract(X),y.getDegree()>=g.getDegree())throw new St("Division algorithm failed to reduce polynomial?")}const T=S.getCoefficient(0);if(T===0)throw new ot("sigmaTilde(0) was zero");const M=p.inverse(T),F=S.multiplyScalar(M),$=y.multiplyScalar(M);return[F,$]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(l);let p=0;const g=this.field;for(let y=1;y<g.getSize()&&p<l;y++)s.evaluateAt(y)===0&&(u[p]=g.inverse(y),p++);if(p!==l)throw new ot("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,l){const u=l.length,p=new Int32Array(u),g=this.field;for(let y=0;y<u;y++){const b=g.inverse(l[y]);let S=1;for(let T=0;T<u;T++)if(y!==T){const M=g.multiply(l[T],b),F=(M&1)===0?M|1:M&-2;S=g.multiply(S,F)}p[y]=g.multiply(s.evaluateAt(b),g.inverse(S)),g.getGeneratorBase()!==0&&(p[y]=g.multiply(p[y],b))}return p}}var Bt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Bt||(Bt={}));class It{decode(s){this.ddata=s;let l=s.getBits(),u=this.extractBits(l),p=this.correctBits(u),g=It.convertBoolArrayToByteArray(p),y=It.getEncodedData(p),b=new ae(g,y,null,null);return b.setNumBits(p.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,u=Bt.UPPER,p=Bt.UPPER,g="",y=0;for(;y<l;)if(p===Bt.BINARY){if(l-y<5)break;let b=It.readCode(s,y,5);if(y+=5,b===0){if(l-y<11)break;b=It.readCode(s,y,11)+31,y+=11}for(let S=0;S<b;S++){if(l-y<8){y=l;break}const T=It.readCode(s,y,8);g+=de.castAsNonUtf8Char(T),y+=8}p=u}else{let b=p===Bt.DIGIT?4:5;if(l-y<b)break;let S=It.readCode(s,y,b);y+=b;let T=It.getCharacter(p,S);T.startsWith("CTRL_")?(u=p,p=It.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=p)):(g+=T,p=u)}return g}static getTable(s){switch(s){case"L":return Bt.LOWER;case"P":return Bt.PUNCT;case"M":return Bt.MIXED;case"D":return Bt.DIGIT;case"B":return Bt.BINARY;case"U":default:return Bt.UPPER}}static getCharacter(s,l){switch(s){case Bt.UPPER:return It.UPPER_TABLE[l];case Bt.LOWER:return It.LOWER_TABLE[l];case Bt.MIXED:return It.MIXED_TABLE[l];case Bt.PUNCT:return It.PUNCT_TABLE[l];case Bt.DIGIT:return It.DIGIT_TABLE[l];default:throw new St("Bad table")}}correctBits(s){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=Fe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=Fe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=Fe.AZTEC_DATA_10):(u=12,l=Fe.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),g=s.length/u;if(g<p)throw new V;let y=s.length%u,b=new Int32Array(g);for(let $=0;$<g;$++,y+=u)b[$]=It.readCode(s,y,u);try{new wr(l).decode(b,g-p)}catch($){throw new V($)}let S=(1<<u)-1,T=0;for(let $=0;$<p;$++){let q=b[$];if(q===0||q===S)throw new V;(q===1||q===S-1)&&T++}let M=new Array(p*u-T),F=0;for(let $=0;$<p;$++){let q=b[$];if(q===1||q===S-1)M.fill(q>1,F,F+u-1),F+=u-1;else for(let X=u-1;X>=0;--X)M[F++]=(q&1<<X)!==0}return M}extractBits(s){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),p=(l?11:14)+u*4,g=new Int32Array(p),y=new Array(this.totalBitsInLayer(u,l));if(l)for(let b=0;b<g.length;b++)g[b]=b;else{let b=p+1+2*j.truncDivision(j.truncDivision(p,2)-1,15),S=p/2,T=j.truncDivision(b,2);for(let M=0;M<S;M++){let F=M+j.truncDivision(M,15);g[S-M-1]=T-F-1,g[S+M]=T+F+1}}for(let b=0,S=0;b<u;b++){let T=(u-b)*4+(l?9:12),M=b*2,F=p-1-M;for(let $=0;$<T;$++){let q=$*2;for(let X=0;X<2;X++)y[S+q+X]=s.get(g[M+X],g[M+$]),y[S+2*T+q+X]=s.get(g[M+$],g[F-X]),y[S+4*T+q+X]=s.get(g[F-X],g[F-$]),y[S+6*T+q+X]=s.get(g[F-$],g[M+X])}S+=T*8}return y}static readCode(s,l,u){let p=0;for(let g=l;g<l+u;g++)p<<=1,s[g]&&(p|=1);return p}static readByte(s,l){let u=s.length-l;return u>=8?It.readCode(s,l,8):It.readCode(s,l,u)<<8-u}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let u=0;u<l.length;u++)l[u]=It.readByte(s,8*u);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}It.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],It.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],It.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],It.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],It.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class xt{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,u,p){const g=s-u,y=l-p;return Math.sqrt(g*g+y*y)}static sum(s){let l=0;for(let u=0,p=s.length;u!==p;u++){const g=s[u];l+=g}return l}}class va{static floatToIntBits(s){return s}}va.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof $e){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*va.floatToIntBits(this.x)+va.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),p=this.distance(s[0],s[2]);let g,y,b;if(u>=l&&u>=p?(y=s[0],g=s[1],b=s[2]):p>=u&&p>=l?(y=s[1],g=s[0],b=s[2]):(y=s[2],g=s[0],b=s[1]),this.crossProductZ(g,y,b)<0){const S=g;g=b,b=S}s[0]=g,s[1]=y,s[2]=b}static distance(s,l){return xt.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,u){const p=l.x,g=l.y;return(u.x-p)*(s.y-g)-(u.y-g)*(s.x-p)}}class Es{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Hc extends Es{constructor(s,l,u,p,g){super(s,l),this.compact=u,this.nbDatablocks=p,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ni{constructor(s,l,u,p){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=Ni.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),p==null&&(p=s.getHeight()/2|0);const g=l/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=p-g,this.downInit=p+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let s=this.leftInit,l=this.rightInit,u=this.upInit,p=this.downInit,g=!1,y=!0,b=!1,S=!1,T=!1,M=!1,F=!1;const $=this.width,q=this.height;for(;y;){y=!1;let X=!0;for(;(X||!S)&&l<$;)X=this.containsBlackPoint(u,p,l,!1),X?(l++,y=!0,S=!0):S||l++;if(l>=$){g=!0;break}let ee=!0;for(;(ee||!T)&&p<q;)ee=this.containsBlackPoint(s,l,p,!0),ee?(p++,y=!0,T=!0):T||p++;if(p>=q){g=!0;break}let ne=!0;for(;(ne||!M)&&s>=0;)ne=this.containsBlackPoint(u,p,s,!1),ne?(s--,y=!0,M=!0):M||s--;if(s<0){g=!0;break}let he=!0;for(;(he||!F)&&u>=0;)he=this.containsBlackPoint(s,l,u,!0),he?(u--,y=!0,F=!0):F||u--;if(u<0){g=!0;break}y&&(b=!0)}if(!g&&b){const X=l-s;let ee=null;for(let Re=1;ee===null&&Re<X;Re++)ee=this.getBlackPointOnSegment(s,p-Re,s+Re,p);if(ee==null)throw new J;let ne=null;for(let Re=1;ne===null&&Re<X;Re++)ne=this.getBlackPointOnSegment(s,u+Re,s+Re,u);if(ne==null)throw new J;let he=null;for(let Re=1;he===null&&Re<X;Re++)he=this.getBlackPointOnSegment(l,u+Re,l-Re,u);if(he==null)throw new J;let Pe=null;for(let Re=1;Pe===null&&Re<X;Re++)Pe=this.getBlackPointOnSegment(l,p-Re,l-Re,p);if(Pe==null)throw new J;return this.centerEdges(Pe,ee,he,ne)}else throw new J}getBlackPointOnSegment(s,l,u,p){const g=xt.round(xt.distance(s,l,u,p)),y=(u-s)/g,b=(p-l)/g,S=this.image;for(let T=0;T<g;T++){const M=xt.round(s+T*y),F=xt.round(l+T*b);if(S.get(M,F))return new $e(M,F)}return null}centerEdges(s,l,u,p){const g=s.getX(),y=s.getY(),b=l.getX(),S=l.getY(),T=u.getX(),M=u.getY(),F=p.getX(),$=p.getY(),q=Ni.CORR;return g<this.width/2?[new $e(F-q,$+q),new $e(b+q,S+q),new $e(T-q,M-q),new $e(g+q,y-q)]:[new $e(F+q,$+q),new $e(b+q,S-q),new $e(T-q,M+q),new $e(g-q,y-q)]}containsBlackPoint(s,l,u,p){const g=this.image;if(p){for(let y=s;y<=l;y++)if(g.get(y,u))return!0}else for(let y=s;y<=l;y++)if(g.get(u,y))return!0;return!1}}Ni.INIT_SIZE=10,Ni.CORR=1;class bl{static checkAndNudgePoints(s,l){const u=s.getWidth(),p=s.getHeight();let g=!0;for(let y=0;y<l.length&&g;y+=2){const b=Math.floor(l[y]),S=Math.floor(l[y+1]);if(b<-1||b>u||S<-1||S>p)throw new J;g=!1,b===-1?(l[y]=0,g=!0):b===u&&(l[y]=u-1,g=!0),S===-1?(l[y+1]=0,g=!0):S===p&&(l[y+1]=p-1,g=!0)}g=!0;for(let y=l.length-2;y>=0&&g;y-=2){const b=Math.floor(l[y]),S=Math.floor(l[y+1]);if(b<-1||b>u||S<-1||S>p)throw new J;g=!1,b===-1?(l[y]=0,g=!0):b===u&&(l[y]=u-1,g=!0),S===-1?(l[y+1]=0,g=!0):S===p&&(l[y+1]=p-1,g=!0)}}}class Hn{constructor(s,l,u,p,g,y,b,S,T){this.a11=s,this.a21=l,this.a31=u,this.a12=p,this.a22=g,this.a32=y,this.a13=b,this.a23=S,this.a33=T}static quadrilateralToQuadrilateral(s,l,u,p,g,y,b,S,T,M,F,$,q,X,ee,ne){const he=Hn.quadrilateralToSquare(s,l,u,p,g,y,b,S);return Hn.squareToQuadrilateral(T,M,F,$,q,X,ee,ne).times(he)}transformPoints(s){const l=s.length,u=this.a11,p=this.a12,g=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,M=this.a32,F=this.a33;for(let $=0;$<l;$+=2){const q=s[$],X=s[$+1],ee=g*q+S*X+F;s[$]=(u*q+y*X+T)/ee,s[$+1]=(p*q+b*X+M)/ee}}transformPointsWithValues(s,l){const u=this.a11,p=this.a12,g=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,M=this.a32,F=this.a33,$=s.length;for(let q=0;q<$;q++){const X=s[q],ee=l[q],ne=g*X+S*ee+F;s[q]=(u*X+y*ee+T)/ne,l[q]=(p*X+b*ee+M)/ne}}static squareToQuadrilateral(s,l,u,p,g,y,b,S){const T=s-u+g-b,M=l-p+y-S;if(T===0&&M===0)return new Hn(u-s,g-u,s,p-l,y-p,l,0,0,1);{const F=u-g,$=b-g,q=p-y,X=S-y,ee=F*X-$*q,ne=(T*X-$*M)/ee,he=(F*M-T*q)/ee;return new Hn(u-s+ne*u,b-s+he*b,s,p-l+ne*p,S-l+he*S,l,ne,he,1)}}static quadrilateralToSquare(s,l,u,p,g,y,b,S){return Hn.squareToQuadrilateral(s,l,u,p,g,y,b,S).buildAdjoint()}buildAdjoint(){return new Hn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Hn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class El extends bl{sampleGrid(s,l,u,p,g,y,b,S,T,M,F,$,q,X,ee,ne,he,Pe,Re){const Ce=Hn.quadrilateralToQuadrilateral(p,g,y,b,S,T,M,F,$,q,X,ee,ne,he,Pe,Re);return this.sampleGridWithTransform(s,l,u,Ce)}sampleGridWithTransform(s,l,u,p){if(l<=0||u<=0)throw new J;const g=new ye(l,u),y=new Float32Array(2*l);for(let b=0;b<u;b++){const S=y.length,T=b+.5;for(let M=0;M<S;M+=2)y[M]=M/2+.5,y[M+1]=T;p.transformPoints(y),bl.checkAndNudgePoints(s,y);try{for(let M=0;M<S;M+=2)s.get(Math.floor(y[M]),Math.floor(y[M+1]))&&g.set(M/2,b)}catch{throw new J}}return g}}class oi{static setGridSampler(s){oi.gridSampler=s}static getInstance(){return oi.gridSampler}}oi.gridSampler=new El;class nn{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class _s{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(s){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let p=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new Hc(p,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new J;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(u,l);let p=0;for(let y=0;y<4;y++){let b=u[(this.shift+y)%4];this.compact?(p<<=7,p+=b>>1&127):(p<<=10,p+=(b>>2&992)+(b>>1&31))}let g=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(s,l){let u=0;s.forEach((p,g,y)=>{let b=(p>>l-2<<1)+(p&1);u=(u<<3)+b}),u=((u&1)<<11)+(u>>1);for(let p=0;p<4;p++)if(j.bitCount(u^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new J}getCorrectedParameterData(s,l){let u,p;l?(u=7,p=2):(u=10,p=4);let g=u-p,y=new Int32Array(u);for(let S=u-1;S>=0;--S)y[S]=s&15,s>>=4;try{new wr(Fe.AZTEC_PARAM).decode(y,g)}catch{throw new J}let b=0;for(let S=0;S<p;S++)b=(b<<4)+y[S];return b}getBullsEyeCorners(s){let l=s,u=s,p=s,g=s,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,y,1,-1),$=this.getFirstDifferent(u,y,1,1),q=this.getFirstDifferent(p,y,-1,1),X=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(X,F)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(F,$,q,X))break}l=F,u=$,p=q,g=X,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let b=new $e(l.getX()+.5,l.getY()-.5),S=new $e(u.getX()+.5,u.getY()+.5),T=new $e(p.getX()-.5,p.getY()+.5),M=new $e(g.getX()-.5,g.getY()-.5);return this.expandSquare([b,S,T,M],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,u,p;try{let b=new Ni(this.image).detect();s=b[0],l=b[1],u=b[2],p=b[3]}catch{let S=this.image.getWidth()/2,T=this.image.getHeight()/2;s=this.getFirstDifferent(new nn(S+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new nn(S+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(S-7,T+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new nn(S-7,T-7),!1,-1,-1).toResultPoint()}let g=xt.round((s.getX()+p.getX()+l.getX()+u.getX())/4),y=xt.round((s.getY()+p.getY()+l.getY()+u.getY())/4);try{let b=new Ni(this.image,15,g,y).detect();s=b[0],l=b[1],u=b[2],p=b[3]}catch{s=this.getFirstDifferent(new nn(g+7,y-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new nn(g+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new nn(g-7,y+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new nn(g-7,y-7),!1,-1,-1).toResultPoint()}return g=xt.round((s.getX()+p.getX()+l.getX()+u.getX())/4),y=xt.round((s.getY()+p.getY()+l.getY()+u.getY())/4),new nn(g,y)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,u,p,g){let y=oi.getInstance(),b=this.getDimension(),S=b/2-this.nbCenterLayers,T=b/2+this.nbCenterLayers;return y.sampleGrid(s,b,b,S,S,T,S,T,T,S,T,l.getX(),l.getY(),u.getX(),u.getY(),p.getX(),p.getY(),g.getX(),g.getY())}sampleLine(s,l,u){let p=0,g=this.distanceResultPoint(s,l),y=g/u,b=s.getX(),S=s.getY(),T=y*(l.getX()-s.getX())/g,M=y*(l.getY()-s.getY())/g;for(let F=0;F<u;F++)this.image.get(xt.round(b+F*T),xt.round(S+F*M))&&(p|=1<<u-F-1);return p}isWhiteOrBlackRectangle(s,l,u,p){let g=3;s=new nn(s.getX()-g,s.getY()+g),l=new nn(l.getX()-g,l.getY()-g),u=new nn(u.getX()+g,u.getY()-g),p=new nn(p.getX()+g,p.getY()+g);let y=this.getColor(p,s);if(y===0)return!1;let b=this.getColor(s,l);return b!==y||(b=this.getColor(l,u),b!==y)?!1:(b=this.getColor(u,p),b===y)}getColor(s,l){let u=this.distancePoint(s,l),p=(l.getX()-s.getX())/u,g=(l.getY()-s.getY())/u,y=0,b=s.getX(),S=s.getY(),T=this.image.get(s.getX(),s.getY()),M=Math.ceil(u);for(let $=0;$<M;$++)b+=p,S+=g,this.image.get(xt.round(b),xt.round(S))!==T&&y++;let F=y/u;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(s,l,u,p){let g=s.getX()+u,y=s.getY()+p;for(;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u,y+=p;for(g-=u,y-=p;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u;for(g-=u;this.isValid(g,y)&&this.image.get(g,y)===l;)y+=p;return y-=p,new nn(g,y)}expandSquare(s,l,u){let p=u/(2*l),g=s[0].getX()-s[2].getX(),y=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,S=(s[0].getY()+s[2].getY())/2,T=new $e(b+p*g,S+p*y),M=new $e(b-p*g,S-p*y);g=s[1].getX()-s[3].getX(),y=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,S=(s[1].getY()+s[3].getY())/2;let F=new $e(b+p*g,S+p*y),$=new $e(b-p*g,S-p*y);return[T,F,M,$]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=xt.round(s.getX()),u=xt.round(s.getY());return this.isValid(l,u)}distancePoint(s,l){return xt.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return xt.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class ya{decode(s,l=null){let u=null,p=new _s(s.getBlackMatrix()),g=null,y=null;try{let M=p.detectMirror(!1);g=M.getPoints(),this.reportFoundResultPoints(l,g),y=new It().decode(M)}catch(M){u=M}if(y==null)try{let M=p.detectMirror(!0);g=M.getPoints(),this.reportFoundResultPoints(l,g),y=new It().decode(M)}catch(M){throw u??M}let b=new Be(y.getText(),y.getRawBytes(),y.getNumBits(),g,Te.AZTEC,I.currentTimeMillis()),S=y.getByteSegments();S!=null&&b.putMetadata(ve.BYTE_SEGMENTS,S);let T=y.getECLevel();return T!=null&&b.putMetadata(ve.ERROR_CORRECTION_LEVEL,T),b}reportFoundResultPoints(s,l){if(s!=null){let u=s.get(H.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((p,g,y)=>{u.foundPossibleResultPoint(p)})}}reset(){}}class o1 extends De{constructor(s=500){super(new ya,s)}}class pr{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(H.TRY_HARDER)===!0&&s.isRotateSupported()){const g=s.rotateCounterClockwise(),y=this.doDecode(g,l),b=y.getResultMetadata();let S=270;b!==null&&b.get(ve.ORIENTATION)===!0&&(S=S+b.get(ve.ORIENTATION)%360),y.putMetadata(ve.ORIENTATION,S);const T=y.getResultPoints();if(T!==null){const M=g.getHeight();for(let F=0;F<T.length;F++)T[F]=new $e(M-T[F].getY()-1,T[F].getX())}return y}else throw new J}}reset(){}doDecode(s,l){const u=s.getWidth(),p=s.getHeight();let g=new z(u);const y=l&&l.get(H.TRY_HARDER)===!0,b=Math.max(1,p>>(y?8:5));let S;y?S=p:S=15;const T=Math.trunc(p/2);for(let M=0;M<S;M++){const F=Math.trunc((M+1)/2),$=(M&1)===0,q=T+b*($?F:-F);if(q<0||q>=p)break;try{g=s.getBlackRow(q,g)}catch{continue}for(let X=0;X<2;X++){if(X===1&&(g.reverse(),l&&l.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;l.forEach((ne,he)=>ee.set(he,ne)),ee.delete(H.NEED_RESULT_POINT_CALLBACK),l=ee}try{const ee=this.decodeRow(q,g,l);if(X===1){ee.putMetadata(ve.ORIENTATION,180);const ne=ee.getResultPoints();ne!==null&&(ne[0]=new $e(u-ne[0].getX()-1,ne[0].getY()),ne[1]=new $e(u-ne[1].getX()-1,ne[1].getY()))}return ee}catch{}}}throw new J}static recordPattern(s,l,u){const p=u.length;for(let T=0;T<p;T++)u[T]=0;const g=s.getSize();if(l>=g)throw new J;let y=!s.get(l),b=0,S=l;for(;S<g;){if(s.get(S)!==y)u[b]++;else{if(++b===p)break;u[b]=1,y=!y}S++}if(!(b===p||b===p-1&&S===g))throw new J}static recordPatternInReverse(s,l,u){let p=u.length,g=s.get(l);for(;l>0&&p>=0;)s.get(--l)!==g&&(p--,g=!g);if(p>=0)throw new J;pr.recordPattern(s,l+1,u)}static patternMatchVariance(s,l,u){const p=s.length;let g=0,y=0;for(let T=0;T<p;T++)g+=s[T],y+=l[T];if(g<y)return Number.POSITIVE_INFINITY;const b=g/y;u*=b;let S=0;for(let T=0;T<p;T++){const M=s[T],F=l[T]*b,$=M>F?M-F:F-M;if($>u)return Number.POSITIVE_INFINITY;S+=$}return S/g}}class Le extends pr{static findStartPattern(s){const l=s.getSize(),u=s.getNextSet(0);let p=0,g=Int32Array.from([0,0,0,0,0,0]),y=u,b=!1;const S=6;for(let T=u;T<l;T++)if(s.get(T)!==b)g[p]++;else{if(p===S-1){let M=Le.MAX_AVG_VARIANCE,F=-1;for(let $=Le.CODE_START_A;$<=Le.CODE_START_C;$++){const q=pr.patternMatchVariance(g,Le.CODE_PATTERNS[$],Le.MAX_INDIVIDUAL_VARIANCE);q<M&&(M=q,F=$)}if(F>=0&&s.isRange(Math.max(0,y-(T-y)/2),y,!1))return Int32Array.from([y,T,F]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[p-1]=0,g[p]=0,p--}else p++;g[p]=1,b=!b}throw new J}static decodeCode(s,l,u){pr.recordPattern(s,u,l);let p=Le.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<Le.CODE_PATTERNS.length;y++){const b=Le.CODE_PATTERNS[y],S=this.patternMatchVariance(l,b,Le.MAX_INDIVIDUAL_VARIANCE);S<p&&(p=S,g=y)}if(g>=0)return g;throw new J}decodeRow(s,l,u){const p=u&&u.get(H.ASSUME_GS1)===!0,g=Le.findStartPattern(l),y=g[2];let b=0;const S=new Uint8Array(20);S[b++]=y;let T;switch(y){case Le.CODE_START_A:T=Le.CODE_CODE_A;break;case Le.CODE_START_B:T=Le.CODE_CODE_B;break;case Le.CODE_START_C:T=Le.CODE_CODE_C;break;default:throw new V}let M=!1,F=!1,$="",q=g[0],X=g[1];const ee=Int32Array.from([0,0,0,0,0,0]);let ne=0,he=0,Pe=y,Re=0,Ce=!0,gt=!1,dt=!1;for(;!M;){const ta=F;switch(F=!1,ne=he,he=Le.decodeCode(l,ee,X),S[b++]=he,he!==Le.CODE_STOP&&(Ce=!0),he!==Le.CODE_STOP&&(Re++,Pe+=Re*he),q=X,X+=ee.reduce((js,du)=>js+du,0),he){case Le.CODE_START_A:case Le.CODE_START_B:case Le.CODE_START_C:throw new V}switch(T){case Le.CODE_CODE_A:if(he<64)dt===gt?$+=String.fromCharCode(32+he):$+=String.fromCharCode(32+he+128),dt=!1;else if(he<96)dt===gt?$+=String.fromCharCode(he-64):$+=String.fromCharCode(he+64),dt=!1;else switch(he!==Le.CODE_STOP&&(Ce=!1),he){case Le.CODE_FNC_1:p&&($.length===0?$+="]C1":$+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_A:!gt&&dt?(gt=!0,dt=!1):gt&&dt?(gt=!1,dt=!1):dt=!0;break;case Le.CODE_SHIFT:F=!0,T=Le.CODE_CODE_B;break;case Le.CODE_CODE_B:T=Le.CODE_CODE_B;break;case Le.CODE_CODE_C:T=Le.CODE_CODE_C;break;case Le.CODE_STOP:M=!0;break}break;case Le.CODE_CODE_B:if(he<96)dt===gt?$+=String.fromCharCode(32+he):$+=String.fromCharCode(32+he+128),dt=!1;else switch(he!==Le.CODE_STOP&&(Ce=!1),he){case Le.CODE_FNC_1:p&&($.length===0?$+="]C1":$+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_B:!gt&&dt?(gt=!0,dt=!1):gt&&dt?(gt=!1,dt=!1):dt=!0;break;case Le.CODE_SHIFT:F=!0,T=Le.CODE_CODE_A;break;case Le.CODE_CODE_A:T=Le.CODE_CODE_A;break;case Le.CODE_CODE_C:T=Le.CODE_CODE_C;break;case Le.CODE_STOP:M=!0;break}break;case Le.CODE_CODE_C:if(he<100)he<10&&($+="0"),$+=he;else switch(he!==Le.CODE_STOP&&(Ce=!1),he){case Le.CODE_FNC_1:p&&($.length===0?$+="]C1":$+="");break;case Le.CODE_CODE_A:T=Le.CODE_CODE_A;break;case Le.CODE_CODE_B:T=Le.CODE_CODE_B;break;case Le.CODE_STOP:M=!0;break}break}ta&&(T=T===Le.CODE_CODE_A?Le.CODE_CODE_B:Le.CODE_CODE_A)}const Tn=X-q;if(X=l.getNextUnset(X),!l.isRange(X,Math.min(l.getSize(),X+(X-q)/2),!1))throw new J;if(Pe-=Re*ne,Pe%103!==ne)throw new C;const pi=$.length;if(pi===0)throw new J;pi>0&&Ce&&(T===Le.CODE_CODE_C?$=$.substring(0,pi-2):$=$.substring(0,pi-1));const Pr=(g[1]+g[0])/2,Rt=q+Tn/2,mr=S.length,yn=new Uint8Array(mr);for(let ta=0;ta<mr;ta++)yn[ta]=S[ta];const za=[new $e(Pr,s),new $e(Rt,s)];return new Be($,yn,0,za,Te.CODE_128,new Date().getTime())}}Le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Le.MAX_AVG_VARIANCE=.25,Le.MAX_INDIVIDUAL_VARIANCE=.7,Le.CODE_SHIFT=98,Le.CODE_CODE_C=99,Le.CODE_CODE_B=100,Le.CODE_CODE_A=101,Le.CODE_FNC_1=102,Le.CODE_FNC_2=97,Le.CODE_FNC_3=96,Le.CODE_FNC_4_A=101,Le.CODE_FNC_4_B=100,Le.CODE_START_A=103,Le.CODE_START_B=104,Le.CODE_START_C=105,Le.CODE_STOP=106;class Ir extends pr{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,u){let p=this.counters;p.fill(0),this.decodeRowResult="";let g=Ir.findAsteriskPattern(l,p),y=l.getNextSet(g[1]),b=l.getSize(),S,T;do{Ir.recordPattern(l,y,p);let ee=Ir.toNarrowWidePattern(p);if(ee<0)throw new J;S=Ir.patternToChar(ee),this.decodeRowResult+=S,T=y;for(let ne of p)y+=ne;y=l.getNextSet(y)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let M=0;for(let ee of p)M+=ee;let F=y-T-M;if(y!==b&&F*2<M)throw new J;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,ne=0;for(let he=0;he<ee;he++)ne+=Ir.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(ee)!==Ir.ALPHABET_STRING.charAt(ne%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new J;let $;this.extendedMode?$=Ir.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let q=(g[1]+g[0])/2,X=T+M/2;return new Be($,null,0,[new $e(q,s),new $e(X,s)],Te.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let u=s.getSize(),p=s.getNextSet(0),g=0,y=p,b=!1,S=l.length;for(let T=p;T<u;T++)if(s.get(T)!==b)l[g]++;else{if(g===S-1){if(this.toNarrowWidePattern(l)===Ir.ASTERISK_ENCODING&&s.isRange(Math.max(0,y-Math.floor((T-y)/2)),y,!1))return[y,T];y+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,b=!b}throw new J}static toNarrowWidePattern(s){let l=s.length,u=0,p;do{let g=2147483647;for(let S of s)S<g&&S>u&&(g=S);u=g,p=0;let y=0,b=0;for(let S=0;S<l;S++){let T=s[S];T>u&&(b|=1<<l-1-S,p++,y+=T)}if(p===3){for(let S=0;S<l&&p>0;S++){let T=s[S];if(T>u&&(p--,T*2>=y))return-1}return b}}while(p>3);return-1}static patternToChar(s){for(let l=0;l<Ir.CHARACTER_ENCODINGS.length;l++)if(Ir.CHARACTER_ENCODINGS[l]===s)return Ir.ALPHABET_STRING.charAt(l);if(s===Ir.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(s){let l=s.length,u="";for(let p=0;p<l;p++){let g=s.charAt(p);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=s.charAt(p+1),b="\0";switch(g){case"+":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)+32);else throw new V;break;case"$":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)-64);else throw new V;break;case"%":if(y>="A"&&y<="E")b=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")b=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")b=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")b="\0";else if(y==="V")b="@";else if(y==="W")b="`";else if(y==="X"||y==="Y"||y==="Z")b="";else throw new V;break;case"/":if(y>="A"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")b=":";else throw new V;break}u+=b,p++}else u+=g}return u}}Ir.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ir.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ir.ASTERISK_ENCODING=148;class kt extends pr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,u){let p=this.decodeStart(l),g=this.decodeEnd(l),y=new Ae;kt.decodeMiddle(l,p[1],g[0],y);let b=y.toString(),S=null;u!=null&&(S=u.get(H.ALLOWED_LENGTHS)),S==null&&(S=kt.DEFAULT_ALLOWED_LENGTHS);let T=b.length,M=!1,F=0;for(let X of S){if(T===X){M=!0;break}X>F&&(F=X)}if(!M&&T>F&&(M=!0),!M)throw new V;const $=[new $e(p[1],s),new $e(g[0],s)];return new Be(b,null,0,$,Te.ITF,new Date().getTime())}static decodeMiddle(s,l,u,p){let g=new Int32Array(10),y=new Int32Array(5),b=new Int32Array(5);for(g.fill(0),y.fill(0),b.fill(0);l<u;){pr.recordPattern(s,l,g);for(let T=0;T<5;T++){let M=2*T;y[T]=g[M],b[T]=g[M+1]}let S=kt.decodeDigit(y);p.append(S.toString()),S=this.decodeDigit(b),p.append(S.toString()),g.forEach(function(T){l+=T})}}decodeStart(s){let l=kt.skipWhiteSpace(s),u=kt.findGuardPattern(s,l,kt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let p=l-1;u>0&&p>=0&&!s.get(p);p--)u--;if(u!==0)throw new J}static skipWhiteSpace(s){const l=s.getSize(),u=s.getNextSet(0);if(u===l)throw new J;return u}decodeEnd(s){s.reverse();try{let l=kt.skipWhiteSpace(s),u;try{u=kt.findGuardPattern(s,l,kt.END_PATTERN_REVERSED[0])}catch(g){g instanceof J&&(u=kt.findGuardPattern(s,l,kt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let p=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-p,u}finally{s.reverse()}}static findGuardPattern(s,l,u){let p=u.length,g=new Int32Array(p),y=s.getSize(),b=!1,S=0,T=l;g.fill(0);for(let M=l;M<y;M++)if(s.get(M)!==b)g[S]++;else{if(S===p-1){if(pr.patternMatchVariance(g,u,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return[T,M];T+=g[0]+g[1],I.arraycopy(g,2,g,0,S-1),g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,b=!b}throw new J}static decodeDigit(s){let l=kt.MAX_AVG_VARIANCE,u=-1,p=kt.PATTERNS.length;for(let g=0;g<p;g++){let y=kt.PATTERNS[g],b=pr.patternMatchVariance(s,y,kt.MAX_INDIVIDUAL_VARIANCE);b<l?(l=b,u=g):b===l&&(u=-1)}if(u>=0)return u%10;throw new J}}kt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],kt.MAX_AVG_VARIANCE=.38,kt.MAX_INDIVIDUAL_VARIANCE=.5,kt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],kt.START_PATTERN=Int32Array.from([1,1,1,1]),kt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Kt extends pr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,u,p=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),u=Kt.findGuardPattern(s,p,!1,this.START_END_PATTERN,g);let y=u[0];p=u[1];let b=y-(p-y);b>=0&&(l=s.isRange(b,y,!1))}return u}static checkChecksum(s){return Kt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return Kt.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let p=l-1;p>=0;p-=2){let g=s.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let p=l-2;p>=0;p-=2){let g=s.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}static decodeEnd(s,l){return Kt.findGuardPattern(s,l,!1,Kt.START_END_PATTERN,new Int32Array(Kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,u,p){return this.findGuardPattern(s,l,u,p,new Int32Array(p.length))}static findGuardPattern(s,l,u,p,g){let y=s.getSize();l=u?s.getNextUnset(l):s.getNextSet(l);let b=0,S=l,T=p.length,M=u;for(let F=l;F<y;F++)if(s.get(F)!==M)g[b]++;else{if(b===T-1){if(pr.patternMatchVariance(g,p,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return Int32Array.from([S,F]);S+=g[0]+g[1];let $=g.slice(2,g.length-1);for(let q=0;q<b-1;q++)g[q]=$[q];g[b-1]=0,g[b]=0,b--}else b++;g[b]=1,M=!M}throw new J}static decodeDigit(s,l,u,p){this.recordPattern(s,u,l);let g=this.MAX_AVG_VARIANCE,y=-1,b=p.length;for(let S=0;S<b;S++){let T=p[S],M=pr.patternMatchVariance(l,T,Kt.MAX_INDIVIDUAL_VARIANCE);M<g&&(g=M,y=S)}if(y>=0)return y;throw new J}}Kt.MAX_AVG_VARIANCE=.48,Kt.MAX_INDIVIDUAL_VARIANCE=.7,Kt.START_END_PATTERN=Int32Array.from([1,1,1]),Kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Da{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,p),y=p.toString(),b=Da.parseExtensionString(y),S=[new $e((u[0]+u[1])/2,s),new $e(g,s)],T=new Be(y,null,0,S,Te.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(s,l,u){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=s.getSize(),y=l[1],b=0;for(let T=0;T<5&&y<g;T++){let M=Kt.decodeDigit(s,p,y,Kt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let F of p)y+=F;M>=10&&(b|=1<<4-T),T!==4&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==5)throw new J;let S=this.determineCheckDigit(b);if(Da.extensionChecksum(u.toString())!==S)throw new J;return y}static extensionChecksum(s){let l=s.length,u=0;for(let p=l-2;p>=0;p-=2)u+=s.charAt(p).charCodeAt(0)-48;u*=3;for(let p=l-1;p>=0;p-=2)u+=s.charAt(p).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new J}static parseExtensionString(s){if(s.length!==5)return null;let l=Da.parseExtension5String(s);return l==null?null:new Map([[ve.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(s.substring(1)),p=(u/100).toString(),g=u%100,y=g<10?"0"+g:g.toString();return l+p+"."+y}}class fo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,p),y=p.toString(),b=fo.parseExtensionString(y),S=[new $e((u[0]+u[1])/2,s),new $e(g,s)],T=new Be(y,null,0,S,Te.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(s,l,u){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=s.getSize(),y=l[1],b=0;for(let S=0;S<2&&y<g;S++){let T=Kt.decodeDigit(s,p,y,Kt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let M of p)y+=M;T>=10&&(b|=1<<1-S),S!==1&&(y=s.getNextSet(y),y=s.getNextUnset(y))}if(u.length!==2)throw new J;if(parseInt(u.toString())%4!==b)throw new J;return y}static parseExtensionString(s){return s.length!==2?null:new Map([[ve.ISSUE_NUMBER,parseInt(s)]])}}class _l{static decodeRow(s,l,u){let p=Kt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Da().decodeRow(s,l,p)}catch{return new fo().decodeRow(s,l,p)}}}_l.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class vt extends Kt{constructor(){super(),this.decodeRowStringBuffer="",vt.L_AND_G_PATTERNS=vt.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=vt.L_PATTERNS[s-10],u=new Int32Array(l.length);for(let p=0;p<l.length;p++)u[p]=l[l.length-p-1];vt.L_AND_G_PATTERNS[s]=u}}decodeRow(s,l,u){let p=vt.findStartGuardPattern(l),g=u==null?null:u.get(H.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Ce=new $e((p[0]+p[1])/2,s);g.foundPossibleResultPoint(Ce)}let y=this.decodeMiddle(l,p,this.decodeRowStringBuffer),b=y.rowOffset,S=y.resultString;if(g!=null){const Ce=new $e(b,s);g.foundPossibleResultPoint(Ce)}let T=this.decodeEnd(l,b);if(g!=null){const Ce=new $e((T[0]+T[1])/2,s);g.foundPossibleResultPoint(Ce)}let M=T[1],F=M+(M-T[0]);if(F>=l.getSize()||!l.isRange(M,F,!1))throw new J;let $=S.toString();if($.length<8)throw new V;if(!vt.checkChecksum($))throw new C;let q=(p[1]+p[0])/2,X=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),ne=[new $e(q,s),new $e(X,s)],he=new Be($,null,0,ne,ee,new Date().getTime()),Pe=0;try{let Ce=_l.decodeRow(s,l,T[1]);he.putMetadata(ve.UPC_EAN_EXTENSION,Ce.getText()),he.putAllMetadata(Ce.getResultMetadata()),he.addResultPoints(Ce.getResultPoints()),Pe=Ce.getText().length}catch{}let Re=u==null?null:u.get(H.ALLOWED_EAN_EXTENSIONS);if(Re!=null){let Ce=!1;for(let gt in Re)if(Pe.toString()===gt){Ce=!0;break}if(!Ce)throw new J}return he}decodeEnd(s,l){return vt.findGuardPattern(s,l,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return vt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return vt.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let p=l-1;p>=0;p-=2){let g=s.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}u*=3;for(let p=l-2;p>=0;p-=2){let g=s.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new V;u+=g}return(1e3-u)%10}}class Vn extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=s.getSize(),y=l[1],b=0;for(let T=0;T<6&&y<g;T++){let M=vt.decodeDigit(s,p,y,vt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let F of p)y+=F;M>=10&&(b|=1<<5-T)}u=Vn.determineFirstDigit(u,b),y=vt.findGuardPattern(s,y,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&y<g;T++){let M=vt.decodeDigit(s,p,y,vt.L_PATTERNS);u+=String.fromCharCode(48+M);for(let F of p)y+=F}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Te.EAN_13}static determineFirstDigit(s,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new J}}Vn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Vc extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=s.getSize(),y=l[1];for(let S=0;S<4&&y<g;S++){let T=vt.decodeDigit(s,p,y,vt.L_PATTERNS);u+=String.fromCharCode(48+T);for(let M of p)y+=M}y=vt.findGuardPattern(s,y,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&y<g;S++){let T=vt.decodeDigit(s,p,y,vt.L_PATTERNS);u+=String.fromCharCode(48+T);for(let M of p)y+=M}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Te.EAN_8}}class Gc extends vt{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return Te.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,u))}decodeMiddle(s,l,u){return this.ean13Reader.decodeMiddle(s,l,u)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let u=new Be(l.substring(1),null,null,s.getResultPoints(),Te.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new J}reset(){this.ean13Reader.reset()}}class Gn extends vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,u){const p=this.decodeMiddleCounters.map(T=>T);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const g=s.getSize();let y=l[1],b=0;for(let T=0;T<6&&y<g;T++){const M=Gn.decodeDigit(s,p,y,Gn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+M%10);for(let F of p)y+=F;M>=10&&(b|=1<<5-T)}let S=Gn.determineNumSysAndCheckDigit(u,b);return{rowOffset:y,resultString:S}}decodeEnd(s,l){return Gn.findGuardPatternWithoutCounters(s,l,!0,Gn.MIDDLE_END_PATTERN)}checkChecksum(s){return vt.checkChecksum(Gn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let u=0;u<=1;u++)for(let p=0;p<10;p++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][p]){let g=String.fromCharCode(48+u),y=String.fromCharCode(48+p);return g+s+y}throw J.getNotFoundInstance()}getBarcodeFormat(){return Te.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Ae;u.append(s.charAt(0));let p=l[5];switch(p){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(p),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(p);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}Gn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Al extends pr{constructor(s){super();let l=s==null?null:s.get(H.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new Vn),u.push(new Gc),u.push(new Vc),u.push(new Gn)):(l.indexOf(Te.EAN_13)>-1&&u.push(new Vn),l.indexOf(Te.UPC_A)>-1&&u.push(new Gc),l.indexOf(Te.EAN_8)>-1&&u.push(new Vc),l.indexOf(Te.UPC_E)>-1&&u.push(new Gn)),this.readers=u}decodeRow(s,l,u){for(let p of this.readers)try{const g=p.decodeRow(s,l,u),y=g.getBarcodeFormat()===Te.EAN_13&&g.getText().charAt(0)==="0",b=u==null?null:u.get(H.POSSIBLE_FORMATS),S=b==null||b.includes(Te.UPC_A);if(y&&S){const T=g.getRawBytes(),M=new Be(g.getText().substring(1),T,T?T.length:null,g.getResultPoints(),Te.UPC_A);return M.putAllMetadata(g.getResultMetadata()),M}return g}catch{}throw new J}reset(){for(let s of this.readers)s.reset()}}class Hr extends pr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let u=0;u<l.length;u++)if(pr.patternMatchVariance(s,l[u],Hr.MAX_INDIVIDUAL_VARIANCE)<Hr.MAX_AVG_VARIANCE)return u;throw new J}static count(s){return xt.sum(new Int32Array(s))}static increment(s,l){let u=0,p=l[0];for(let g=1;g<s.length;g++)l[g]>p&&(p=l[g],u=g);s[u]++}static decrement(s,l){let u=0,p=l[0];for(let g=1;g<s.length;g++)l[g]<p&&(p=l[g],u=g);s[u]--}static isFinderPattern(s){let l=s[0]+s[1],u=l+s[2]+s[3],p=l/u;if(p>=Hr.MIN_FINDER_PATTERN_RATIO&&p<=Hr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let b of s)b>y&&(y=b),b<g&&(g=b);return y<10*g}return!1}}Hr.MAX_AVG_VARIANCE=.2,Hr.MAX_INDIVIDUAL_VARIANCE=.45,Hr.MIN_FINDER_PATTERN_RATIO=9.5/12,Hr.MAX_FINDER_PATTERN_RATIO=12.5/14;class xa{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof xa))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ho{constructor(s,l,u,p,g){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new $e(u,g)),this.resultPoints.push(new $e(p,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof ho))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class Cn{constructor(){}static getRSSvalue(s,l,u){let p=0;for(let S of s)p+=S;let g=0,y=0,b=s.length;for(let S=0;S<b-1;S++){let T;for(T=1,y|=1<<S;T<s[S];T++,y&=~(1<<S)){let M=Cn.combins(p-T-1,b-S-2);if(u&&y===0&&p-T-(b-S-1)>=b-S-1&&(M-=Cn.combins(p-T-(b-S),b-S-2)),b-S-1>1){let F=0;for(let $=p-T-(b-S-2);$>l;$--)F+=Cn.combins(p-T-$-1,b-S-3);M-=F*(b-1-S)}else p-T>l&&M--;g+=M}p-=T}return g}static combins(s,l){let u,p;s-l>l?(p=l,u=s-l):(p=s-l,u=l);let g=1,y=1;for(let b=s;b>u;b--)g*=b,y<=p&&(g/=y,y++);for(;y<=p;)g/=y,y++;return g}}class qc{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let u=12*l,p=new z(u),g=0,b=s[0].getRightChar().getValue();for(let S=11;S>=0;--S)(b&1<<S)!=0&&p.set(g),g++;for(let S=1;S<s.length;++S){let T=s[S],M=T.getLeftChar().getValue();for(let F=11;F>=0;--F)(M&1<<F)!=0&&p.set(g),g++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&p.set(g),g++}}return p}}class li{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kc{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Dr extends Kc{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Dr.FNC1}}Dr.FNC1="$";class Pi extends Kc{constructor(s,l,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends Kc{constructor(s,l,u){if(super(s),l<0||l>10||u<0||u>10)throw new V;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new J;let l=s.substring(0,2);for(let g of Ue.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,g[2],s):Ue.processFixedAI(2,g[1],s);if(s.length<3)throw new J;let u=s.substring(0,3);for(let g of Ue.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,g[2],s):Ue.processFixedAI(3,g[1],s);for(let g of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,g[2],s):Ue.processFixedAI(4,g[1],s);if(s.length<4)throw new J;let p=s.substring(0,4);for(let g of Ue.FOUR_DIGIT_DATA_LENGTH)if(g[0]===p)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,g[2],s):Ue.processFixedAI(4,g[1],s);throw new J}static processFixedAI(s,l,u){if(u.length<s)throw new J;let p=u.substring(0,s);if(u.length<s+l)throw new J;let g=u.substring(s,s+l),y=u.substring(s+l),b="("+p+")"+g,S=Ue.parseFieldsInGeneralPurpose(y);return S==null?b:b+S}static processVariableAI(s,l,u){let p=u.substring(0,s),g;u.length<s+l?g=u.length:g=s+l;let y=u.substring(s,g),b=u.substring(g),S="("+p+")"+y,T=Ue.parseFieldsInGeneralPurpose(b);return T==null?S:S+T}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class As{constructor(s){this.buffer=new Ae,this.information=s}decodeAllCodes(s,l){let u=l,p=null;do{let g=this.decodeGeneralPurposeField(u,p),y=Ue.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&s.append(y),g.isRemaining()?p=""+g.getRemainingValue():p=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(s,4);return g===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),g-1,mn.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),u=(l-8)/11,p=(l-8)%11;return new mn(s+7,u,p)}extractNumericValueFromBitArray(s,l){return As.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,u){let p=0;for(let g=0;g<u;++g)s.get(l+g)&&(p|=1<<u-g-1);return p}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Pi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Pi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new Pi(this.current.getPosition(),this.buffer.toString()):l=new Pi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new li(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new Pi(this.current.getPosition(),this.buffer.toString());return new li(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new li(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Pi(this.current.getPosition(),this.buffer.toString());return new li(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new li(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new Pi(this.current.getPosition(),this.buffer.toString());return new li(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new li(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(s,8);return p>=232&&p<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Dr(s+5,Dr.FNC1);if(l>=5&&l<15)return new Dr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new Dr(s+7,""+(u+1));if(u>=90&&u<116)return new Dr(s+7,""+(u+7));let p=this.extractNumericValueFromBitArray(s,8),g;switch(p){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new V}return new Dr(s+8,g)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new Dr(s+5,Dr.FNC1);if(l>=5&&l<15)return new Dr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new Dr(s+6,""+(u+33));let p;switch(u){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new St("Decoding invalid alphanumeric value: "+u)}return new Dr(s+6,p)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Yc{constructor(s){this.information=s,this.generalDecoder=new As(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class On extends Yc{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,u)}encodeCompressedGtinWithoutAI(s,l,u){for(let p=0;p<4;++p){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*p,10);g/100===0&&s.append("0"),g/10===0&&s.append("0"),s.append(g)}On.appendCheckDigit(s,u)}static appendCheckDigit(s,l){let u=0;for(let p=0;p<13;p++){let g=s.charAt(p+l).charCodeAt(0)-48;u+=(p&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),s.append(u)}}On.GTIN_SIZE=40;class qn extends On{constructor(s){super(s)}parseInformation(){let s=new Ae;s.append("(01)");let l=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(qn.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,qn.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,qn.HEADER_SIZE+44)}}qn.HEADER_SIZE=4;class po extends Yc{constructor(s){super(s)}parseInformation(){let s=new Ae;return this.getGeneralDecoder().decodeAllCodes(s,po.HEADER_SIZE)}}po.HEADER_SIZE=5;class mo extends On{constructor(s){super(s)}encodeCompressedWeight(s,l,u){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(s,p);let g=this.checkWeight(p),y=1e5;for(let b=0;b<5;++b)g/y===0&&s.append("0"),y/=10;s.append(g)}}class ki extends mo{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=ki.HEADER_SIZE+mo.GTIN_SIZE+ki.WEIGHT_SIZE)throw new J;let s=new Ae;return this.encodeCompressedGtin(s,ki.HEADER_SIZE),this.encodeCompressedWeight(s,ki.HEADER_SIZE+mo.GTIN_SIZE,ki.WEIGHT_SIZE),s.toString()}}ki.HEADER_SIZE=5,ki.WEIGHT_SIZE=15;class Yd extends ki{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class Xd extends ki{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class ci extends On{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<ci.HEADER_SIZE+On.GTIN_SIZE)throw new J;let s=new Ae;this.encodeCompressedGtin(s,ci.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(ci.HEADER_SIZE+On.GTIN_SIZE,ci.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(ci.HEADER_SIZE+On.GTIN_SIZE+ci.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}ci.HEADER_SIZE=8,ci.LAST_DIGIT_SIZE=2;class an extends On{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+On.GTIN_SIZE)throw new J;let s=new Ae;this.encodeCompressedGtin(s,an.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+On.GTIN_SIZE,an.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+On.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let p=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+On.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return s.append(p.getNewString()),s.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class Yt extends mo{constructor(s,l,u){super(s),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Yt.HEADER_SIZE+Yt.GTIN_SIZE+Yt.WEIGHT_SIZE+Yt.DATE_SIZE)throw new J;let s=new Ae;return this.encodeCompressedGtin(s,Yt.HEADER_SIZE),this.encodeCompressedWeight(s,Yt.HEADER_SIZE+Yt.GTIN_SIZE,Yt.WEIGHT_SIZE),this.encodeCompressedDate(s,Yt.HEADER_SIZE+Yt.GTIN_SIZE+Yt.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Yt.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let p=u%32;u/=32;let g=u%12+1;u/=12;let y=u;y/10==0&&s.append("0"),s.append(y),g/10==0&&s.append("0"),s.append(g),p/10==0&&s.append("0"),s.append(p)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}Yt.HEADER_SIZE=8,Yt.WEIGHT_SIZE=20,Yt.DATE_SIZE=16;function Zd(B){try{if(B.get(1))return new qn(B);if(!B.get(2))return new po(B);switch(As.extractNumericValueFromBitArray(B,1,4)){case 4:return new Yd(B);case 5:return new Xd(B)}switch(As.extractNumericValueFromBitArray(B,1,5)){case 12:return new ci(B);case 13:return new an(B)}switch(As.extractNumericValueFromBitArray(B,1,7)){case 56:return new Yt(B,"310","11");case 57:return new Yt(B,"320","11");case 58:return new Yt(B,"310","13");case 59:return new Yt(B,"320","13");case 60:return new Yt(B,"310","15");case 61:return new Yt(B,"320","15");case 62:return new Yt(B,"310","17");case 63:return new Yt(B,"320","17")}}catch(s){throw console.log(s),new St("unknown decoder: "+B)}}class Mt{constructor(s,l,u,p){this.leftchar=s,this.rightchar=l,this.finderpattern=u,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof Mt?Mt.equalsOrNull(s.leftchar,l.leftchar)&&Mt.equalsOrNull(s.rightchar,l.rightchar)&&Mt.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:Mt.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xc{constructor(s,l,u){this.pairs=s,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof Xc?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let u;return s.forEach((p,g)=>{l.forEach(y=>{p.getLeftChar().getValue()===y.getLeftChar().getValue()&&p.getRightChar().getValue()===y.getRightChar().getValue()&&p.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ee extends Hr{constructor(s){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(s,l))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(g){if(g instanceof J){if(!this.pairs.length)throw new J;u=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(s,!1),p){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new J}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let u=l;u<this.rows.length;u++){let p=this.rows[u];this.pairs.length=0;for(let y of s)this.pairs.push(y.getPairs());if(this.pairs.push(p.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(s);g.push(p);try{return this.checkRows(g,u+1)}catch(y){this.verbose&&console.log(y)}}throw new J}static isValidSequence(s){for(let l of Ee.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let u=!0;for(let p=0;p<s.length;p++)if(s[p].getFinderPattern().getValue()!=l[p]){u=!1;break}if(u)return!0}return!1}storeRow(s,l){let u=0,p=!1,g=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>s){g=y.isEquivalent(this.pairs);break}p=y.isEquivalent(this.pairs),u++}g||p||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Xc(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let u of l)if(u.getPairs().length!==s.length){for(let p of u.getPairs())for(let g of s)if(Mt.equals(p,g))break}}static isPartialRow(s,l){for(let u of l){let p=!0;for(let g of s){let y=!1;for(let b of u.getPairs())if(g.equals(b)){y=!0;break}if(!y){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=qc.buildBitArray(s),p=Zd(l).parseInformation(),g=s[0].getFinderPattern().getResultPoints(),y=s[s.length-1].getFinderPattern().getResultPoints(),b=[g[0],g[1],y[0],y[1]];return new Be(p,null,null,b,Te.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let p=u.getChecksumPortion(),g=2;for(let b=1;b<this.pairs.size();++b){let S=this.pairs.get(b);p+=S.getLeftChar().getChecksumPortion(),g++;let T=S.getRightChar();T!=null&&(p+=T.getChecksumPortion(),g++)}return p%=211,211*(g-4)+p==l.getValue()}static getNextSecondBar(s,l){let u;return s.get(l)?(u=s.getNextUnset(l),u=s.getNextSet(u)):(u=s.getNextSet(l),u=s.getNextUnset(u)),u}retrieveNextPair(s,l,u){let p=l.length%2==0;this.startFromEven&&(p=!p);let g,y=!0,b=-1;do this.findNextPair(s,l,b),g=this.parseFoundFinderPattern(s,u,p),g==null?b=Ee.getNextSecondBar(s,this.startEnd[0]):y=!1;while(y);let S=this.decodeDataCharacter(s,g,p,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new J;let T;try{T=this.decodeDataCharacter(s,g,p,!1)}catch(M){T=null,this.verbose&&console.log(M)}return new Mt(S,T,g,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,u){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=s.getSize(),y;u>=0?y=u:this.isEmptyPair(l)?y=0:y=l[l.length-1].getFinderPattern().getStartEnd()[1];let b=l.length%2!=0;this.startFromEven&&(b=!b);let S=!1;for(;y<g&&(S=!s.get(y),!!S);)y++;let T=0,M=y;for(let F=y;F<g;F++)if(s.get(F)!=S)p[T]++;else{if(T==3){if(b&&Ee.reverseCounters(p),Ee.isFinderPattern(p)){this.startEnd[0]=M,this.startEnd[1]=F;return}b&&Ee.reverseCounters(p),M+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,T--}else T++;p[T]=1,S=!S}throw new J}static reverseCounters(s){let l=s.length;for(let u=0;u<l/2;++u){let p=s[u];s[u]=s[l-u-1],s[l-u-1]=p}}parseFoundFinderPattern(s,l,u){let p,g,y;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!s.get(T);)T--;T++,p=this.startEnd[0]-T,g=T,y=this.startEnd[1]}else g=this.startEnd[0],y=s.getNextUnset(this.startEnd[1]+1),p=y-this.startEnd[1];let b=this.getDecodeFinderCounters();I.arraycopy(b,0,b,1,b.length-1),b[0]=p;let S;try{S=this.parseFinderValue(b,Ee.FINDER_PATTERNS)}catch{return null}return new ho(S,[g,y],g,y,l)}decodeDataCharacter(s,l,u,p){let g=this.getDataCharacterCounters();for(let Rt=0;Rt<g.length;Rt++)g[Rt]=0;if(p)Ee.recordPatternInReverse(s,l.getStartEnd()[0],g);else{Ee.recordPattern(s,l.getStartEnd()[1],g);for(let Rt=0,mr=g.length-1;Rt<mr;Rt++,mr--){let yn=g[Rt];g[Rt]=g[mr],g[mr]=yn}}let y=17,b=xt.sum(new Int32Array(g))/y,S=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(b-S)/S>.3)throw new J;let T=this.getOddCounts(),M=this.getEvenCounts(),F=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Rt=0;Rt<g.length;Rt++){let mr=1*g[Rt]/b,yn=mr+.5;if(yn<1){if(mr<.3)throw new J;yn=1}else if(yn>8){if(mr>8.7)throw new J;yn=8}let za=Rt/2;(Rt&1)==0?(T[za]=yn,F[za]=mr-yn):(M[za]=yn,$[za]=mr-yn)}this.adjustOddEvenCounts(y);let q=4*l.getValue()+(u?0:2)+(p?0:1)-1,X=0,ee=0;for(let Rt=T.length-1;Rt>=0;Rt--){if(Ee.isNotA1left(l,u,p)){let mr=Ee.WEIGHTS[q][2*Rt];ee+=T[Rt]*mr}X+=T[Rt]}let ne=0;for(let Rt=M.length-1;Rt>=0;Rt--)if(Ee.isNotA1left(l,u,p)){let mr=Ee.WEIGHTS[q][2*Rt+1];ne+=M[Rt]*mr}let he=ee+ne;if((X&1)!=0||X>13||X<4)throw new J;let Pe=(13-X)/2,Re=Ee.SYMBOL_WIDEST[Pe],Ce=9-Re,gt=Cn.getRSSvalue(T,Re,!0),dt=Cn.getRSSvalue(M,Ce,!1),Tn=Ee.EVEN_TOTAL_SUBSET[Pe],pi=Ee.GSUM[Pe],Pr=gt*Tn+dt+pi;return new xa(Pr,he)}static isNotA1left(s,l,u){return!(s.getValue()==0&&l&&u)}adjustOddEvenCounts(s){let l=xt.sum(new Int32Array(this.getOddCounts())),u=xt.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1;l>13?g=!0:l<4&&(p=!0);let y=!1,b=!1;u>13?b=!0:u<4&&(y=!0);let S=l+u-s,T=(l&1)==1,M=(u&1)==0;if(S==1)if(T){if(M)throw new J;g=!0}else{if(!M)throw new J;b=!0}else if(S==-1)if(T){if(M)throw new J;p=!0}else{if(!M)throw new J;y=!0}else if(S==0){if(T){if(!M)throw new J;l<u?(p=!0,b=!0):(g=!0,y=!0)}else if(M)throw new J}else throw new J;if(p){if(g)throw new J;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(b)throw new J;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class Qd extends xa{constructor(s,l,u){super(s,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Wt extends Hr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,u){const p=this.decodePair(l,!1,s,u);Wt.addOrTally(this.possibleLeftPairs,p),l.reverse();let g=this.decodePair(l,!0,s,u);Wt.addOrTally(this.possibleRightPairs,g),l.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&Wt.checkChecksum(y,b))return Wt.constructResult(y,b)}throw new J}static addOrTally(s,l){if(l==null)return;let u=!1;for(let p of s)if(p.getValue()===l.getValue()){p.incrementCount(),u=!0;break}u||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let u=4537077*s.getValue()+l.getValue(),p=new String(u).toString(),g=new Ae;for(let T=13-p.length;T>0;T--)g.append("0");g.append(p);let y=0;for(let T=0;T<13;T++){let M=g.charAt(T).charCodeAt(0)-48;y+=(T&1)===0?3*M:M}y=10-y%10,y===10&&(y=0),g.append(y.toString());let b=s.getFinderPattern().getResultPoints(),S=l.getFinderPattern().getResultPoints();return new Be(g.toString(),null,0,[b[0],b[1],S[0],S[1]],Te.RSS_14,new Date().getTime())}static checkChecksum(s,l){let u=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,p=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,u===p}decodePair(s,l,u,p){try{let g=this.findFinderPattern(s,l),y=this.parseFoundFinderPattern(s,u,l,g),b=p==null?null:p.get(H.NEED_RESULT_POINT_CALLBACK);if(b!=null){let M=(g[0]+g[1])/2;l&&(M=s.getSize()-1-M),b.foundPossibleResultPoint(new $e(M,u))}let S=this.decodeDataCharacter(s,y,!0),T=this.decodeDataCharacter(s,y,!1);return new Qd(1597*S.getValue()+T.getValue(),S.getChecksumPortion()+4*T.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(s,l,u){let p=this.getDataCharacterCounters();for(let ne=0;ne<p.length;ne++)p[ne]=0;if(u)pr.recordPatternInReverse(s,l.getStartEnd()[0],p);else{pr.recordPattern(s,l.getStartEnd()[1]+1,p);for(let ne=0,he=p.length-1;ne<he;ne++,he--){let Pe=p[ne];p[ne]=p[he],p[he]=Pe}}let g=u?16:15,y=xt.sum(new Int32Array(p))/g,b=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),M=this.getEvenRoundingErrors();for(let ne=0;ne<p.length;ne++){let he=p[ne]/y,Pe=Math.floor(he+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let Re=Math.floor(ne/2);(ne&1)===0?(b[Re]=Pe,T[Re]=he-Pe):(S[Re]=Pe,M[Re]=he-Pe)}this.adjustOddEvenCounts(u,g);let F=0,$=0;for(let ne=b.length-1;ne>=0;ne--)$*=9,$+=b[ne],F+=b[ne];let q=0,X=0;for(let ne=S.length-1;ne>=0;ne--)q*=9,q+=S[ne],X+=S[ne];let ee=$+3*q;if(u){if((F&1)!==0||F>12||F<4)throw new J;let ne=(12-F)/2,he=Wt.OUTSIDE_ODD_WIDEST[ne],Pe=9-he,Re=Cn.getRSSvalue(b,he,!1),Ce=Cn.getRSSvalue(S,Pe,!0),gt=Wt.OUTSIDE_EVEN_TOTAL_SUBSET[ne],dt=Wt.OUTSIDE_GSUM[ne];return new xa(Re*gt+Ce+dt,ee)}else{if((X&1)!==0||X>10||X<4)throw new J;let ne=(10-X)/2,he=Wt.INSIDE_ODD_WIDEST[ne],Pe=9-he,Re=Cn.getRSSvalue(b,he,!0),Ce=Cn.getRSSvalue(S,Pe,!1),gt=Wt.INSIDE_ODD_TOTAL_SUBSET[ne],dt=Wt.INSIDE_GSUM[ne];return new xa(Ce*gt+Re+dt,ee)}}findFinderPattern(s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let p=s.getSize(),g=!1,y=0;for(;y<p&&(g=!s.get(y),l!==g);)y++;let b=0,S=y;for(let T=y;T<p;T++)if(s.get(T)!==g)u[b]++;else{if(b===3){if(Hr.isFinderPattern(u))return[S,T];S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,b--}else b++;u[b]=1,g=!g}throw new J}parseFoundFinderPattern(s,l,u,p){let g=s.get(p[0]),y=p[0]-1;for(;y>=0&&g!==s.get(y);)y--;y++;const b=p[0]-y,S=this.getDecodeFinderCounters(),T=new Int32Array(S.length);I.arraycopy(S,0,T,1,S.length-1),T[0]=b;const M=this.parseFinderValue(T,Wt.FINDER_PATTERNS);let F=y,$=p[1];return u&&(F=s.getSize()-1-F,$=s.getSize()-1-$),new ho(M,[y,p[1]],F,$,l)}adjustOddEvenCounts(s,l){let u=xt.sum(new Int32Array(this.getOddCounts())),p=xt.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,b=!1,S=!1;s?(u>12?y=!0:u<4&&(g=!0),p>12?S=!0:p<4&&(b=!0)):(u>11?y=!0:u<5&&(g=!0),p>10?S=!0:p<4&&(b=!0));let T=u+p-l,M=(u&1)===(s?1:0),F=(p&1)===1;if(T===1)if(M){if(F)throw new J;y=!0}else{if(!F)throw new J;S=!0}else if(T===-1)if(M){if(F)throw new J;g=!0}else{if(!F)throw new J;b=!0}else if(T===0){if(M){if(!F)throw new J;u<p?(g=!0,S=!0):(y=!0,b=!0)}else if(F)throw new J}else throw new J;if(g){if(y)throw new J;Hr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Hr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(S)throw new J;Hr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Hr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Wt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Wt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Wt.OUTSIDE_GSUM=[0,161,961,2015,2715],Wt.INSIDE_GSUM=[0,336,1036,1516],Wt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Wt.INSIDE_ODD_WIDEST=[2,4,6,8],Wt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ss extends pr{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const u=s?s.get(H.POSSIBLE_FORMATS):null,p=s&&s.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Te.EAN_13)||u.includes(Te.UPC_A)||u.includes(Te.EAN_8)||u.includes(Te.UPC_E))&&this.readers.push(new Al(s)),u.includes(Te.CODE_39)&&this.readers.push(new Ir(p)),u.includes(Te.CODE_128)&&this.readers.push(new Le),u.includes(Te.ITF)&&this.readers.push(new kt),u.includes(Te.RSS_14)&&this.readers.push(new Wt),u.includes(Te.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new Al(s)),this.readers.push(new Ir),this.readers.push(new Al(s)),this.readers.push(new Le),this.readers.push(new kt),this.readers.push(new Wt),this.readers.push(new Ee(this.verbose)))}decodeRow(s,l,u){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(s,l,u)}catch{}throw new J}reset(){this.readers.forEach(s=>s.reset())}}class Jd extends De{constructor(s=500,l){super(new Ss(l),s,l)}}class _t{constructor(s,l,u){this.ecCodewords=s,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class pt{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(s,l,u,p,g,y){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=g,this.ecBlocks=y;let b=0;const S=y.getECCodewords(),T=y.getECBlocks();for(let M of T)b+=M.getCount()*(M.getDataCodewords()+S);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new V;for(let u of wt.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===l)return u;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new wt(1,10,10,8,8,new _t(5,new pt(1,3))),new wt(2,12,12,10,10,new _t(7,new pt(1,5))),new wt(3,14,14,12,12,new _t(10,new pt(1,8))),new wt(4,16,16,14,14,new _t(12,new pt(1,12))),new wt(5,18,18,16,16,new _t(14,new pt(1,18))),new wt(6,20,20,18,18,new _t(18,new pt(1,22))),new wt(7,22,22,20,20,new _t(20,new pt(1,30))),new wt(8,24,24,22,22,new _t(24,new pt(1,36))),new wt(9,26,26,24,24,new _t(28,new pt(1,44))),new wt(10,32,32,14,14,new _t(36,new pt(1,62))),new wt(11,36,36,16,16,new _t(42,new pt(1,86))),new wt(12,40,40,18,18,new _t(48,new pt(1,114))),new wt(13,44,44,20,20,new _t(56,new pt(1,144))),new wt(14,48,48,22,22,new _t(68,new pt(1,174))),new wt(15,52,52,24,24,new _t(42,new pt(2,102))),new wt(16,64,64,14,14,new _t(56,new pt(2,140))),new wt(17,72,72,16,16,new _t(36,new pt(4,92))),new wt(18,80,80,18,18,new _t(48,new pt(4,114))),new wt(19,88,88,20,20,new _t(56,new pt(4,144))),new wt(20,96,96,22,22,new _t(68,new pt(4,174))),new wt(21,104,104,24,24,new _t(56,new pt(6,136))),new wt(22,120,120,18,18,new _t(68,new pt(6,175))),new wt(23,132,132,20,20,new _t(62,new pt(8,163))),new wt(24,144,144,22,22,new _t(62,new pt(8,156),new pt(2,155))),new wt(25,8,18,6,16,new _t(7,new pt(1,5))),new wt(26,8,32,6,14,new _t(11,new pt(1,10))),new wt(27,12,26,10,24,new _t(14,new pt(1,16))),new wt(28,12,36,10,16,new _t(18,new pt(1,22))),new wt(29,16,36,14,16,new _t(24,new pt(1,32))),new wt(30,16,48,14,22,new _t(28,new pt(1,49)))]}}wt.VERSIONS=wt.buildVersions();class Bn{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new V;this.version=Bn.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),u=s.getWidth();return wt.getVersionForDimensions(l,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,p=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let b=!1,S=!1,T=!1,M=!1;do if(u===g&&p===0&&!b)s[l++]=this.readCorner1(g,y)&255,u-=2,p+=2,b=!0;else if(u===g-2&&p===0&&(y&3)!==0&&!S)s[l++]=this.readCorner2(g,y)&255,u-=2,p+=2,S=!0;else if(u===g+4&&p===2&&(y&7)===0&&!T)s[l++]=this.readCorner3(g,y)&255,u-=2,p+=2,T=!0;else if(u===g-2&&p===0&&(y&7)===4&&!M)s[l++]=this.readCorner4(g,y)&255,u-=2,p+=2,M=!0;else{do u<g&&p>=0&&!this.readMappingMatrix.get(p,u)&&(s[l++]=this.readUtah(u,p,g,y)&255),u-=2,p+=2;while(u>=0&&p<y);u+=1,p+=3;do u>=0&&p<y&&!this.readMappingMatrix.get(p,u)&&(s[l++]=this.readUtah(u,p,g,y)&255),u+=2,p-=2;while(u<g&&p>=0);u+=3,p+=1}while(u<g||p<y);if(l!==this.version.getTotalCodewords())throw new V;return s}readModule(s,l,u,p){return s<0&&(s+=u,l+=4-(u+4&7)),l<0&&(l+=p,s+=4-(p+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,u,p){let g=0;return this.readModule(s-2,l-2,u,p)&&(g|=1),g<<=1,this.readModule(s-2,l-1,u,p)&&(g|=1),g<<=1,this.readModule(s-1,l-2,u,p)&&(g|=1),g<<=1,this.readModule(s-1,l-1,u,p)&&(g|=1),g<<=1,this.readModule(s-1,l,u,p)&&(g|=1),g<<=1,this.readModule(s,l-2,u,p)&&(g|=1),g<<=1,this.readModule(s,l-1,u,p)&&(g|=1),g<<=1,this.readModule(s,l,u,p)&&(g|=1),g}readCorner1(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,1,s,l)&&(u|=1),u<<=1,this.readModule(s-1,2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}readCorner2(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-4,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner3(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-3,s,l)&&(u|=1),u<<=1,this.readModule(1,l-2,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner4(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new w("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=l/p|0,b=u/g|0,S=y*p,T=b*g,M=new ye(T,S);for(let F=0;F<y;++F){const $=F*p;for(let q=0;q<b;++q){const X=q*g;for(let ee=0;ee<p;++ee){const ne=F*(p+2)+1+ee,he=$+ee;for(let Pe=0;Pe<g;++Pe){const Re=q*(g+2)+1+Pe;if(s.get(Re,ne)){const Ce=X+Pe;M.set(Ce,he)}}}}}return M}}class Zc{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const u=l.getECBlocks();let p=0;const g=u.getECBlocks();for(let ee of g)p+=ee.getCount();const y=new Array(p);let b=0;for(let ee of g)for(let ne=0;ne<ee.getCount();ne++){const he=ee.getDataCodewords(),Pe=u.getECCodewords()+he;y[b++]=new Zc(he,new Uint8Array(Pe))}const T=y[0].codewords.length-u.getECCodewords(),M=T-1;let F=0;for(let ee=0;ee<M;ee++)for(let ne=0;ne<b;ne++)y[ne].codewords[ee]=s[F++];const $=l.getVersionNumber()===24,q=$?8:b;for(let ee=0;ee<q;ee++)y[ee].codewords[T-1]=s[F++];const X=y[0].codewords.length;for(let ee=T;ee<X;ee++)for(let ne=0;ne<b;ne++){const he=$?(ne+8)%b:ne,Pe=$&&he>7?ee-1:ee;y[he].codewords[Pe]=s[F++]}if(F!==s.length)throw new w;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Qc{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new w(""+s);let l=0,u=this.bitOffset,p=this.byteOffset;const g=this.bytes;if(u>0){const y=8-u,b=s<y?s:y,S=y-b,T=255>>8-b<<S;l=(g[p]&T)>>S,s-=b,u+=b,u===8&&(u=0,p++)}if(s>0){for(;s>=8;)l=l<<8|g[p]&255,p++,s-=8;if(s>0){const y=8-s,b=255>>y<<y;l=l<<s|(g[p]&b)>>y,u+=s}}return this.bitOffset=u,this.byteOffset=p,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tr;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tr||(Tr={}));class ui{static decode(s){const l=new Qc(s),u=new Ae,p=new Ae,g=new Array;let y=Tr.ASCII_ENCODE;do if(y===Tr.ASCII_ENCODE)y=this.decodeAsciiSegment(l,u,p);else{switch(y){case Tr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Tr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Tr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Tr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Tr.BASE256_ENCODE:this.decodeBase256Segment(l,u,g);break;default:throw new V}y=Tr.ASCII_ENCODE}while(y!==Tr.PAD_ENCODE&&l.available()>0);return p.length()>0&&u.append(p.toString()),new ae(s,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(s,l,u){let p=!1;do{let g=s.readBits(8);if(g===0)throw new V;if(g<=128)return p&&(g+=128),l.append(String.fromCharCode(g-1)),Tr.ASCII_ENCODE;if(g===129)return Tr.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&l.append("0"),l.append(""+y)}else switch(g){case 230:return Tr.C40_ENCODE;case 231:return Tr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Tr.ANSIX12_ENCODE;case 239:return Tr.TEXT_ENCODE;case 240:return Tr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||s.available()!==0)throw new V;break}}while(s.available()>0);return Tr.ASCII_ENCODE}static decodeC40Segment(s,l){let u=!1;const p=[];let g=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),p);for(let b=0;b<3;b++){const S=p[b];switch(g){case 0:if(S<3)g=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new V;break;case 1:u?(l.append(String.fromCharCode(S+128)),u=!1):l.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(S){case 27:l.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:u?(l.append(String.fromCharCode(S+224)),u=!1):l.append(String.fromCharCode(S+96)),g=0;break;default:throw new V}}}while(s.available()>0)}static decodeTextSegment(s,l){let u=!1,p=[],g=0;do{if(s.available()===8)return;const y=s.readBits(8);if(y===254)return;this.parseTwoBytes(y,s.readBits(8),p);for(let b=0;b<3;b++){const S=p[b];switch(g){case 0:if(S<3)g=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new V;break;case 1:u?(l.append(String.fromCharCode(S+128)),u=!1):l.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(S){case 27:l.append("");break;case 30:u=!0;break;default:throw new V}g=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T),g=0}else throw new V;break;default:throw new V}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const u=[];do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(y){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(y<14)l.append(String.fromCharCode(y+44));else if(y<40)l.append(String.fromCharCode(y+51));else throw new V;break}}}while(s.available()>0)}static parseTwoBytes(s,l,u){let p=(s<<8)+l-1,g=Math.floor(p/1600);u[0]=g,p-=g*1600,g=Math.floor(p/40),u[1]=g,u[2]=p-g*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let p=s.readBits(6);if(p===31){const g=8-s.getBitOffset();g!==8&&s.readBits(g);return}(p&32)===0&&(p|=64),l.append(String.fromCharCode(p))}}while(s.available()>0)}static decodeBase256Segment(s,l,u){let p=1+s.getByteOffset();const g=this.unrandomize255State(s.readBits(8),p++);let y;if(g===0?y=s.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(s.readBits(8),p++),y<0)throw new V;const b=new Uint8Array(y);for(let S=0;S<y;S++){if(s.available()<8)throw new V;b[S]=this.unrandomize255State(s.readBits(8),p++)}u.push(b);try{l.append(ge.decode(b,de.ISO88591))}catch(S){throw new St("Platform does not support required encoding: "+S.message)}}static unrandomize255State(s,l){const u=149*l%255+1,p=s-u;return p>=0?p:p+256}}ui.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ui.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ui.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ui.TEXT_SHIFT2_SET_CHARS=ui.C40_SHIFT2_SET_CHARS,ui.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Sl{constructor(){this.rsDecoder=new wr(Fe.DATA_MATRIX_FIELD_256)}decode(s){const l=new Bn(s),u=l.getVersion(),p=l.readCodewords(),g=Zc.getDataBlocks(p,u);let y=0;for(let T of g)y+=T.getNumDataCodewords();const b=new Uint8Array(y),S=g.length;for(let T=0;T<S;T++){const M=g[T],F=M.getCodewords(),$=M.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)b[q*S+T]=F[q]}return ui.decode(b)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let p=0;p<l;p++)s[p]=u[p]}}class Ht{constructor(s){this.image=s,this.rectangleDetector=new Ni(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new J;l=this.shiftToModuleCenter(l);const u=l[0],p=l[1],g=l[2],y=l[3];let b=this.transitionsBetween(u,y)+1,S=this.transitionsBetween(g,y)+1;(b&1)===1&&(b+=1),(S&1)===1&&(S+=1),4*b<7*S&&4*S<7*b&&(b=S=Math.max(b,S));let T=Ht.sampleGrid(this.image,u,p,g,y,b,S);return new Es(T,[u,p,g,y])}static shiftPoint(s,l,u){let p=(l.getX()-s.getX())/(u+1),g=(l.getY()-s.getY())/(u+1);return new $e(s.getX()+p,s.getY()+g)}static moveAway(s,l,u){let p=s.getX(),g=s.getY();return p<l?p-=1:p+=1,g<u?g-=1:g+=1,new $e(p,g)}detectSolid1(s){let l=s[0],u=s[1],p=s[3],g=s[2],y=this.transitionsBetween(l,u),b=this.transitionsBetween(u,p),S=this.transitionsBetween(p,g),T=this.transitionsBetween(g,l),M=y,F=[g,l,u,p];return M>b&&(M=b,F[0]=l,F[1]=u,F[2]=p,F[3]=g),M>S&&(M=S,F[0]=u,F[1]=p,F[2]=g,F[3]=l),M>T&&(F[0]=p,F[1]=g,F[2]=l,F[3]=u),F}detectSolid2(s){let l=s[0],u=s[1],p=s[2],g=s[3],y=this.transitionsBetween(l,g),b=Ht.shiftPoint(u,p,(y+1)*4),S=Ht.shiftPoint(p,u,(y+1)*4),T=this.transitionsBetween(b,l),M=this.transitionsBetween(S,g);return T<M?(s[0]=l,s[1]=u,s[2]=p,s[3]=g):(s[0]=u,s[1]=p,s[2]=g,s[3]=l),s}correctTopRight(s){let l=s[0],u=s[1],p=s[2],g=s[3],y=this.transitionsBetween(l,g),b=this.transitionsBetween(u,g),S=Ht.shiftPoint(l,u,(b+1)*4),T=Ht.shiftPoint(p,u,(y+1)*4);y=this.transitionsBetween(S,g),b=this.transitionsBetween(T,g);let M=new $e(g.getX()+(p.getX()-u.getX())/(y+1),g.getY()+(p.getY()-u.getY())/(y+1)),F=new $e(g.getX()+(l.getX()-u.getX())/(b+1),g.getY()+(l.getY()-u.getY())/(b+1));if(!this.isValid(M))return this.isValid(F)?F:null;if(!this.isValid(F))return M;let $=this.transitionsBetween(S,M)+this.transitionsBetween(T,M),q=this.transitionsBetween(S,F)+this.transitionsBetween(T,F);return $>q?M:F}shiftToModuleCenter(s){let l=s[0],u=s[1],p=s[2],g=s[3],y=this.transitionsBetween(l,g)+1,b=this.transitionsBetween(p,g)+1,S=Ht.shiftPoint(l,u,b*4),T=Ht.shiftPoint(p,u,y*4);y=this.transitionsBetween(S,g)+1,b=this.transitionsBetween(T,g)+1,(y&1)===1&&(y+=1),(b&1)===1&&(b+=1);let M=(l.getX()+u.getX()+p.getX()+g.getX())/4,F=(l.getY()+u.getY()+p.getY()+g.getY())/4;l=Ht.moveAway(l,M,F),u=Ht.moveAway(u,M,F),p=Ht.moveAway(p,M,F),g=Ht.moveAway(g,M,F);let $,q;return S=Ht.shiftPoint(l,u,b*4),S=Ht.shiftPoint(S,g,y*4),$=Ht.shiftPoint(u,l,b*4),$=Ht.shiftPoint($,p,y*4),T=Ht.shiftPoint(p,g,b*4),T=Ht.shiftPoint(T,u,y*4),q=Ht.shiftPoint(g,p,b*4),q=Ht.shiftPoint(q,l,y*4),[S,$,T,q]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,u,p,g,y,b){return oi.getInstance().sampleGrid(s,y,b,.5,.5,y-.5,.5,y-.5,b-.5,.5,b-.5,l.getX(),l.getY(),g.getX(),g.getY(),p.getX(),p.getY(),u.getX(),u.getY())}transitionsBetween(s,l){let u=Math.trunc(s.getX()),p=Math.trunc(s.getY()),g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),b=Math.abs(y-p)>Math.abs(g-u);if(b){let ee=u;u=p,p=ee,ee=g,g=y,y=ee}let S=Math.abs(g-u),T=Math.abs(y-p),M=-S/2,F=p<y?1:-1,$=u<g?1:-1,q=0,X=this.image.get(b?p:u,b?u:p);for(let ee=u,ne=p;ee!==g;ee+=$){let he=this.image.get(b?ne:ee,b?ee:ne);if(he!==X&&(q++,X=he),M+=T,M>0){if(ne===y)break;ne+=F,M-=S}}return q}}class di{constructor(){this.decoder=new Sl}decode(s,l=null){let u,p;if(l!=null&&l.has(H.PURE_BARCODE)){const T=di.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(T),p=di.NO_POINTS}else{const T=new Ht(s.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),p=T.getPoints()}const g=u.getRawBytes(),y=new Be(u.getText(),g,8*g.length,p,Te.DATA_MATRIX,I.currentTimeMillis()),b=u.getByteSegments();b!=null&&y.putMetadata(ve.BYTE_SEGMENTS,b);const S=u.getECLevel();return S!=null&&y.putMetadata(ve.ERROR_CORRECTION_LEVEL,S),y}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l==null||u==null)throw new J;const p=this.moduleSize(l,s);let g=l[1];const y=u[1];let b=l[0];const T=(u[0]-b+1)/p,M=(y-g+1)/p;if(T<=0||M<=0)throw new J;const F=p/2;g+=F,b+=F;const $=new ye(T,M);for(let q=0;q<M;q++){const X=g+q*p;for(let ee=0;ee<T;ee++)s.get(b+ee*p,X)&&$.set(ee,q)}return $}static moduleSize(s,l){const u=l.getWidth();let p=s[0];const g=s[1];for(;p<u&&l.get(p,g);)p++;if(p===u)throw new J;const y=p-s[0];if(y===0)throw new J;return y}}di.NO_POINTS=[];class l1 extends De{constructor(s=500){super(new di,s)}}var Cs;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Cs||(Cs={}));class Dt{constructor(s,l,u){this.value=s,this.stringValue=l,this.bits=u,Dt.FOR_BITS.set(u,this),Dt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Dt.L;case"M":return Dt.M;case"Q":return Dt.Q;case"H":return Dt.H;default:throw new v(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Dt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Dt.FOR_BITS.size)throw new w;return Dt.FOR_BITS.get(s)}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.L=new Dt(Cs.L,"L",1),Dt.M=new Dt(Cs.M,"M",0),Dt.Q=new Dt(Cs.Q,"Q",3),Dt.H=new Dt(Cs.H,"H",2);class Vr{constructor(s){this.errorCorrectionLevel=Dt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return j.bitCount(s^l)}static decodeFormatInformation(s,l){const u=Vr.doDecodeFormatInformation(s,l);return u!==null?u:Vr.doDecodeFormatInformation(s^Vr.FORMAT_INFO_MASK_QR,l^Vr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let u=Number.MAX_SAFE_INTEGER,p=0;for(const g of Vr.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===s||y===l)return new Vr(g[1]);let b=Vr.numBitsDiffering(s,y);b<u&&(p=g[1],u=b),s!==l&&(b=Vr.numBitsDiffering(l,y),b<u&&(p=g[1],u=b))}return u<=3?new Vr(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Vr))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}Vr.FORMAT_INFO_MASK_QR=21522,Vr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class se{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const u of l)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class G{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(s,l,...u){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=u;let p=0;const g=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const b of y)p+=b.getCount()*(b.getDataCodewords()+g);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new V;try{return this.getVersionForNumber((s-17)/4)}catch{throw new V}}static getVersionForNumber(s){if(s<1||s>40)throw new w;return et.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,u=0;for(let p=0;p<et.VERSION_DECODE_INFO.length;p++){const g=et.VERSION_DECODE_INFO[p];if(g===s)return et.getVersionForNumber(p+7);const y=Vr.numBitsDiffering(s,g);y<l&&(u=p+7,l=y)}return l<=3?et.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new ye(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let p=0;p<u;p++){const g=this.alignmentPatternCenters[p]-2;for(let y=0;y<u;y++)p===0&&(y===0||y===u-1)||p===u-1&&y===0||l.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),et.VERSIONS=[new et(1,new Int32Array(0),new se(7,new G(1,19)),new se(10,new G(1,16)),new se(13,new G(1,13)),new se(17,new G(1,9))),new et(2,Int32Array.from([6,18]),new se(10,new G(1,34)),new se(16,new G(1,28)),new se(22,new G(1,22)),new se(28,new G(1,16))),new et(3,Int32Array.from([6,22]),new se(15,new G(1,55)),new se(26,new G(1,44)),new se(18,new G(2,17)),new se(22,new G(2,13))),new et(4,Int32Array.from([6,26]),new se(20,new G(1,80)),new se(18,new G(2,32)),new se(26,new G(2,24)),new se(16,new G(4,9))),new et(5,Int32Array.from([6,30]),new se(26,new G(1,108)),new se(24,new G(2,43)),new se(18,new G(2,15),new G(2,16)),new se(22,new G(2,11),new G(2,12))),new et(6,Int32Array.from([6,34]),new se(18,new G(2,68)),new se(16,new G(4,27)),new se(24,new G(4,19)),new se(28,new G(4,15))),new et(7,Int32Array.from([6,22,38]),new se(20,new G(2,78)),new se(18,new G(4,31)),new se(18,new G(2,14),new G(4,15)),new se(26,new G(4,13),new G(1,14))),new et(8,Int32Array.from([6,24,42]),new se(24,new G(2,97)),new se(22,new G(2,38),new G(2,39)),new se(22,new G(4,18),new G(2,19)),new se(26,new G(4,14),new G(2,15))),new et(9,Int32Array.from([6,26,46]),new se(30,new G(2,116)),new se(22,new G(3,36),new G(2,37)),new se(20,new G(4,16),new G(4,17)),new se(24,new G(4,12),new G(4,13))),new et(10,Int32Array.from([6,28,50]),new se(18,new G(2,68),new G(2,69)),new se(26,new G(4,43),new G(1,44)),new se(24,new G(6,19),new G(2,20)),new se(28,new G(6,15),new G(2,16))),new et(11,Int32Array.from([6,30,54]),new se(20,new G(4,81)),new se(30,new G(1,50),new G(4,51)),new se(28,new G(4,22),new G(4,23)),new se(24,new G(3,12),new G(8,13))),new et(12,Int32Array.from([6,32,58]),new se(24,new G(2,92),new G(2,93)),new se(22,new G(6,36),new G(2,37)),new se(26,new G(4,20),new G(6,21)),new se(28,new G(7,14),new G(4,15))),new et(13,Int32Array.from([6,34,62]),new se(26,new G(4,107)),new se(22,new G(8,37),new G(1,38)),new se(24,new G(8,20),new G(4,21)),new se(22,new G(12,11),new G(4,12))),new et(14,Int32Array.from([6,26,46,66]),new se(30,new G(3,115),new G(1,116)),new se(24,new G(4,40),new G(5,41)),new se(20,new G(11,16),new G(5,17)),new se(24,new G(11,12),new G(5,13))),new et(15,Int32Array.from([6,26,48,70]),new se(22,new G(5,87),new G(1,88)),new se(24,new G(5,41),new G(5,42)),new se(30,new G(5,24),new G(7,25)),new se(24,new G(11,12),new G(7,13))),new et(16,Int32Array.from([6,26,50,74]),new se(24,new G(5,98),new G(1,99)),new se(28,new G(7,45),new G(3,46)),new se(24,new G(15,19),new G(2,20)),new se(30,new G(3,15),new G(13,16))),new et(17,Int32Array.from([6,30,54,78]),new se(28,new G(1,107),new G(5,108)),new se(28,new G(10,46),new G(1,47)),new se(28,new G(1,22),new G(15,23)),new se(28,new G(2,14),new G(17,15))),new et(18,Int32Array.from([6,30,56,82]),new se(30,new G(5,120),new G(1,121)),new se(26,new G(9,43),new G(4,44)),new se(28,new G(17,22),new G(1,23)),new se(28,new G(2,14),new G(19,15))),new et(19,Int32Array.from([6,30,58,86]),new se(28,new G(3,113),new G(4,114)),new se(26,new G(3,44),new G(11,45)),new se(26,new G(17,21),new G(4,22)),new se(26,new G(9,13),new G(16,14))),new et(20,Int32Array.from([6,34,62,90]),new se(28,new G(3,107),new G(5,108)),new se(26,new G(3,41),new G(13,42)),new se(30,new G(15,24),new G(5,25)),new se(28,new G(15,15),new G(10,16))),new et(21,Int32Array.from([6,28,50,72,94]),new se(28,new G(4,116),new G(4,117)),new se(26,new G(17,42)),new se(28,new G(17,22),new G(6,23)),new se(30,new G(19,16),new G(6,17))),new et(22,Int32Array.from([6,26,50,74,98]),new se(28,new G(2,111),new G(7,112)),new se(28,new G(17,46)),new se(30,new G(7,24),new G(16,25)),new se(24,new G(34,13))),new et(23,Int32Array.from([6,30,54,78,102]),new se(30,new G(4,121),new G(5,122)),new se(28,new G(4,47),new G(14,48)),new se(30,new G(11,24),new G(14,25)),new se(30,new G(16,15),new G(14,16))),new et(24,Int32Array.from([6,28,54,80,106]),new se(30,new G(6,117),new G(4,118)),new se(28,new G(6,45),new G(14,46)),new se(30,new G(11,24),new G(16,25)),new se(30,new G(30,16),new G(2,17))),new et(25,Int32Array.from([6,32,58,84,110]),new se(26,new G(8,106),new G(4,107)),new se(28,new G(8,47),new G(13,48)),new se(30,new G(7,24),new G(22,25)),new se(30,new G(22,15),new G(13,16))),new et(26,Int32Array.from([6,30,58,86,114]),new se(28,new G(10,114),new G(2,115)),new se(28,new G(19,46),new G(4,47)),new se(28,new G(28,22),new G(6,23)),new se(30,new G(33,16),new G(4,17))),new et(27,Int32Array.from([6,34,62,90,118]),new se(30,new G(8,122),new G(4,123)),new se(28,new G(22,45),new G(3,46)),new se(30,new G(8,23),new G(26,24)),new se(30,new G(12,15),new G(28,16))),new et(28,Int32Array.from([6,26,50,74,98,122]),new se(30,new G(3,117),new G(10,118)),new se(28,new G(3,45),new G(23,46)),new se(30,new G(4,24),new G(31,25)),new se(30,new G(11,15),new G(31,16))),new et(29,Int32Array.from([6,30,54,78,102,126]),new se(30,new G(7,116),new G(7,117)),new se(28,new G(21,45),new G(7,46)),new se(30,new G(1,23),new G(37,24)),new se(30,new G(19,15),new G(26,16))),new et(30,Int32Array.from([6,26,52,78,104,130]),new se(30,new G(5,115),new G(10,116)),new se(28,new G(19,47),new G(10,48)),new se(30,new G(15,24),new G(25,25)),new se(30,new G(23,15),new G(25,16))),new et(31,Int32Array.from([6,30,56,82,108,134]),new se(30,new G(13,115),new G(3,116)),new se(28,new G(2,46),new G(29,47)),new se(30,new G(42,24),new G(1,25)),new se(30,new G(23,15),new G(28,16))),new et(32,Int32Array.from([6,34,60,86,112,138]),new se(30,new G(17,115)),new se(28,new G(10,46),new G(23,47)),new se(30,new G(10,24),new G(35,25)),new se(30,new G(19,15),new G(35,16))),new et(33,Int32Array.from([6,30,58,86,114,142]),new se(30,new G(17,115),new G(1,116)),new se(28,new G(14,46),new G(21,47)),new se(30,new G(29,24),new G(19,25)),new se(30,new G(11,15),new G(46,16))),new et(34,Int32Array.from([6,34,62,90,118,146]),new se(30,new G(13,115),new G(6,116)),new se(28,new G(14,46),new G(23,47)),new se(30,new G(44,24),new G(7,25)),new se(30,new G(59,16),new G(1,17))),new et(35,Int32Array.from([6,30,54,78,102,126,150]),new se(30,new G(12,121),new G(7,122)),new se(28,new G(12,47),new G(26,48)),new se(30,new G(39,24),new G(14,25)),new se(30,new G(22,15),new G(41,16))),new et(36,Int32Array.from([6,24,50,76,102,128,154]),new se(30,new G(6,121),new G(14,122)),new se(28,new G(6,47),new G(34,48)),new se(30,new G(46,24),new G(10,25)),new se(30,new G(2,15),new G(64,16))),new et(37,Int32Array.from([6,28,54,80,106,132,158]),new se(30,new G(17,122),new G(4,123)),new se(28,new G(29,46),new G(14,47)),new se(30,new G(49,24),new G(10,25)),new se(30,new G(24,15),new G(46,16))),new et(38,Int32Array.from([6,32,58,84,110,136,162]),new se(30,new G(4,122),new G(18,123)),new se(28,new G(13,46),new G(32,47)),new se(30,new G(48,24),new G(14,25)),new se(30,new G(42,15),new G(32,16))),new et(39,Int32Array.from([6,26,54,82,110,138,166]),new se(30,new G(20,117),new G(4,118)),new se(28,new G(40,47),new G(7,48)),new se(30,new G(43,24),new G(22,25)),new se(30,new G(10,15),new G(67,16))),new et(40,Int32Array.from([6,30,58,86,114,142,170]),new se(30,new G(19,118),new G(6,119)),new se(28,new G(18,47),new G(31,48)),new se(30,new G(34,24),new G(34,25)),new se(30,new G(20,15),new G(61,16)))];var br;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(br||(br={}));class mt{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let u=0;u<l;u++)for(let p=0;p<l;p++)this.isMasked(u,p)&&s.flip(p,u)}}mt.values=new Map([[br.DATA_MASK_000,new mt(br.DATA_MASK_000,(B,s)=>(B+s&1)===0)],[br.DATA_MASK_001,new mt(br.DATA_MASK_001,(B,s)=>(B&1)===0)],[br.DATA_MASK_010,new mt(br.DATA_MASK_010,(B,s)=>s%3===0)],[br.DATA_MASK_011,new mt(br.DATA_MASK_011,(B,s)=>(B+s)%3===0)],[br.DATA_MASK_100,new mt(br.DATA_MASK_100,(B,s)=>(Math.floor(B/2)+Math.floor(s/3)&1)===0)],[br.DATA_MASK_101,new mt(br.DATA_MASK_101,(B,s)=>B*s%6===0)],[br.DATA_MASK_110,new mt(br.DATA_MASK_110,(B,s)=>B*s%6<3)],[br.DATA_MASK_111,new mt(br.DATA_MASK_111,(B,s)=>(B+s+B*s%3&1)===0)]]);class ef{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new V;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let g=0;g<6;g++)s=this.copyBit(g,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let g=5;g>=0;g--)s=this.copyBit(8,g,s);const l=this.bitMatrix.getHeight();let u=0;const p=l-7;for(let g=l-1;g>=p;g--)u=this.copyBit(8,g,u);for(let g=l-8;g<l;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=Vr.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return et.getVersionForNumber(l);let u=0;const p=s-11;for(let y=5;y>=0;y--)for(let b=s-9;b>=p;b--)u=this.copyBit(b,y,u);let g=et.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;u=0;for(let y=5;y>=0;y--)for(let b=s-9;b>=p;b--)u=this.copyBit(y,b,u);if(g=et.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;throw new V}copyBit(s,l,u){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),u=mt.values.get(s.getDataMask()),p=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,p);const g=l.buildFunctionPattern();let y=!0;const b=new Uint8Array(l.getTotalCodewords());let S=0,T=0,M=0;for(let F=p-1;F>0;F-=2){F===6&&F--;for(let $=0;$<p;$++){const q=y?p-1-$:$;for(let X=0;X<2;X++)g.get(F-X,q)||(M++,T<<=1,this.bitMatrix.get(F-X,q)&&(T|=1),M===8&&(b[S++]=T,M=0,T=0))}y=!y}if(S!==l.getTotalCodewords())throw new V;return b}remask(){if(this.parsedFormatInfo===null)return;const s=mt.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,u=s.getWidth();l<u;l++)for(let p=l+1,g=s.getHeight();p<g;p++)s.get(l,p)!==s.get(p,l)&&(s.flip(p,l),s.flip(l,p))}}class Cl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,u){if(s.length!==l.getTotalCodewords())throw new w;const p=l.getECBlocksForLevel(u);let g=0;const y=p.getECBlocks();for(const X of y)g+=X.getCount();const b=new Array(g);let S=0;for(const X of y)for(let ee=0;ee<X.getCount();ee++){const ne=X.getDataCodewords(),he=p.getECCodewordsPerBlock()+ne;b[S++]=new Cl(ne,new Uint8Array(he))}const T=b[0].codewords.length;let M=b.length-1;for(;M>=0&&b[M].codewords.length!==T;)M--;M++;const F=T-p.getECCodewordsPerBlock();let $=0;for(let X=0;X<F;X++)for(let ee=0;ee<S;ee++)b[ee].codewords[X]=s[$++];for(let X=M;X<S;X++)b[X].codewords[F]=s[$++];const q=b[0].codewords.length;for(let X=F;X<q;X++)for(let ee=0;ee<S;ee++){const ne=ee<M?X:X+1;b[ee].codewords[ne]=s[$++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var In;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(In||(In={}));class tt{constructor(s,l,u,p){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=p,tt.FOR_BITS.set(p,this),tt.FOR_VALUE.set(s,this)}static forBits(s){const l=tt.FOR_BITS.get(s);if(l===void 0)throw new w;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof tt))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.TERMINATOR=new tt(In.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),tt.NUMERIC=new tt(In.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),tt.ALPHANUMERIC=new tt(In.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),tt.STRUCTURED_APPEND=new tt(In.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),tt.BYTE=new tt(In.BYTE,"BYTE",Int32Array.from([8,16,16]),4),tt.ECI=new tt(In.ECI,"ECI",Int32Array.from([0,0,0]),7),tt.KANJI=new tt(In.KANJI,"KANJI",Int32Array.from([8,10,12]),8),tt.FNC1_FIRST_POSITION=new tt(In.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),tt.FNC1_SECOND_POSITION=new tt(In.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),tt.HANZI=new tt(In.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xt{static decode(s,l,u,p){const g=new Qc(s);let y=new Ae;const b=new Array;let S=-1,T=-1;try{let M=null,F=!1,$;do{if(g.available()<4)$=tt.TERMINATOR;else{const q=g.readBits(4);$=tt.forBits(q)}switch($){case tt.TERMINATOR:break;case tt.FNC1_FIRST_POSITION:case tt.FNC1_SECOND_POSITION:F=!0;break;case tt.STRUCTURED_APPEND:if(g.available()<16)throw new V;S=g.readBits(8),T=g.readBits(8);break;case tt.ECI:const q=Xt.parseECIValue(g);if(M=Y.getCharacterSetECIByValue(q),M===null)throw new V;break;case tt.HANZI:const X=g.readBits(4),ee=g.readBits($.getCharacterCountBits(l));X===Xt.GB2312_SUBSET&&Xt.decodeHanziSegment(g,y,ee);break;default:const ne=g.readBits($.getCharacterCountBits(l));switch($){case tt.NUMERIC:Xt.decodeNumericSegment(g,y,ne);break;case tt.ALPHANUMERIC:Xt.decodeAlphanumericSegment(g,y,ne,F);break;case tt.BYTE:Xt.decodeByteSegment(g,y,ne,M,b,p);break;case tt.KANJI:Xt.decodeKanjiSegment(g,y,ne);break;default:throw new V}break}}while($!==tt.TERMINATOR)}catch{throw new V}return new ae(s,y.toString(),b.length===0?null:b,u===null?null:u.toString(),S,T)}static decodeHanziSegment(s,l,u){if(u*13>s.available())throw new V;const p=new Uint8Array(2*u);let g=0;for(;u>0;){const y=s.readBits(13);let b=y/96<<8&4294967295|y%96;b<959?b+=41377:b+=42657,p[g]=b>>8&255,p[g+1]=b&255,g+=2,u--}try{l.append(ge.decode(p,de.GB2312))}catch(y){throw new V(y)}}static decodeKanjiSegment(s,l,u){if(u*13>s.available())throw new V;const p=new Uint8Array(2*u);let g=0;for(;u>0;){const y=s.readBits(13);let b=y/192<<8&4294967295|y%192;b<7936?b+=33088:b+=49472,p[g]=b>>8,p[g+1]=b,g+=2,u--}try{l.append(ge.decode(p,de.SHIFT_JIS))}catch(y){throw new V(y)}}static decodeByteSegment(s,l,u,p,g,y){if(8*u>s.available())throw new V;const b=new Uint8Array(u);for(let T=0;T<u;T++)b[T]=s.readBits(8);let S;p===null?S=de.guessEncoding(b,y):S=p.getName();try{l.append(ge.decode(b,S))}catch(T){throw new V(T)}g.push(b)}static toAlphaNumericChar(s){if(s>=Xt.ALPHANUMERIC_CHARS.length)throw new V;return Xt.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,u,p){const g=l.length();for(;u>1;){if(s.available()<11)throw new V;const y=s.readBits(11);l.append(Xt.toAlphaNumericChar(Math.floor(y/45))),l.append(Xt.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(s.available()<6)throw new V;l.append(Xt.toAlphaNumericChar(s.readBits(6)))}if(p)for(let y=g;y<l.length();y++)l.charAt(y)==="%"&&(y<l.length()-1&&l.charAt(y+1)==="%"?l.deleteCharAt(y+1):l.setCharAt(y,""))}static decodeNumericSegment(s,l,u){for(;u>=3;){if(s.available()<10)throw new V;const p=s.readBits(10);if(p>=1e3)throw new V;l.append(Xt.toAlphaNumericChar(Math.floor(p/100))),l.append(Xt.toAlphaNumericChar(Math.floor(p/10)%10)),l.append(Xt.toAlphaNumericChar(p%10)),u-=3}if(u===2){if(s.available()<7)throw new V;const p=s.readBits(7);if(p>=100)throw new V;l.append(Xt.toAlphaNumericChar(Math.floor(p/10))),l.append(Xt.toAlphaNumericChar(p%10))}else if(u===1){if(s.available()<4)throw new V;const p=s.readBits(4);if(p>=10)throw new V;l.append(Xt.toAlphaNumericChar(p))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=s.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=s.readBits(16);return(l&31)<<16&4294967295|u}throw new V}}Xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xt.GB2312_SUBSET=1;class Jc{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class eu{constructor(){this.rsDecoder=new wr(Fe.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(ye.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const u=new ef(s);let p=null;try{return this.decodeBitMatrixParser(u,l)}catch(g){p=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,l);return g.setOther(new Jc(!0)),g}catch(g){throw p!==null?p:g}}decodeBitMatrixParser(s,l){const u=s.readVersion(),p=s.readFormatInformation().getErrorCorrectionLevel(),g=s.readCodewords(),y=Cl.getDataBlocks(g,u,p);let b=0;for(const M of y)b+=M.getNumDataCodewords();const S=new Uint8Array(b);let T=0;for(const M of y){const F=M.getCodewords(),$=M.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)S[T++]=F[q]}return Xt.decode(S,u,p,l)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let p=0;p<l;p++)s[p]=u[p]}}class Os extends $e{constructor(s,l,u){super(s,l),this.estimatedModuleSize=u}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const p=Math.abs(s-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const p=(this.getX()+l)/2,g=(this.getY()+s)/2,y=(this.estimatedModuleSize+u)/2;return new Os(p,g,y)}}class fi{constructor(s,l,u,p,g,y,b){this.image=s,this.startX=l,this.startY=u,this.width=p,this.height=g,this.moduleSize=y,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,u=this.width,p=s+u,g=this.startY+l/2,y=new Int32Array(3),b=this.image;for(let S=0;S<l;S++){const T=g+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));y[0]=0,y[1]=0,y[2]=0;let M=s;for(;M<p&&!b.get(M,T);)M++;let F=0;for(;M<p;){if(b.get(M,T))if(F===1)y[1]++;else if(F===2){if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,M);if($!==null)return $}y[0]=y[2],y[1]=1,y[2]=0,F=1}else y[++F]++;else F===1&&F++,y[F]++;M++}if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,p);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,u=l/2;for(let p=0;p<3;p++)if(Math.abs(l-s[p])>=u)return!1;return!0}crossCheckVertical(s,l,u,p){const g=this.image,y=g.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let S=s;for(;S>=0&&g.get(l,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&!g.get(l,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&g.get(l,S)&&b[1]<=u;)b[1]++,S++;if(S===y||b[1]>u)return NaN;for(;S<y&&!g.get(l,S)&&b[2]<=u;)b[2]++,S++;if(b[2]>u)return NaN;const T=b[0]+b[1]+b[2];return 5*Math.abs(T-p)>=2*p?NaN:this.foundPatternCross(b)?fi.centerFromEnd(b,S):NaN}handlePossibleCenter(s,l,u){const p=s[0]+s[1]+s[2],g=fi.centerFromEnd(s,u),y=this.crossCheckVertical(l,g,2*s[1],p);if(!isNaN(y)){const b=(s[0]+s[1]+s[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(b,y,g))return T.combineEstimate(y,g,b);const S=new Os(g,y,b);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Ri extends $e{constructor(s,l,u,p){super(s,l),this.estimatedModuleSize=u,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const p=Math.abs(s-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const p=this.count+1,g=(this.count*this.getX()+l)/p,y=(this.count*this.getY()+s)/p,b=(this.count*this.estimatedModuleSize+u)/p;return new Ri(g,y,b,p)}}class wa{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sr{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(H.TRY_HARDER)!==void 0,u=s!=null&&s.get(H.PURE_BARCODE)!==void 0,p=this.image,g=p.getHeight(),y=p.getWidth();let b=Math.floor(3*g/(4*sr.MAX_MODULES));(b<sr.MIN_SKIP||l)&&(b=sr.MIN_SKIP);let S=!1;const T=new Int32Array(5);for(let F=b-1;F<g&&!S;F+=b){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let $=0;for(let q=0;q<y;q++)if(p.get(q,F))($&1)===1&&$++,T[$]++;else if(($&1)===0)if($===4)if(sr.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,q,u)===!0)if(b=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(F+=ee-T[2]-b,q=y-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;continue}$=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;else T[++$]++;else T[$]++;sr.foundPatternCross(T)&&this.handlePossibleCenter(T,F,y,u)===!0&&(b=T[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const M=this.selectBestPatterns();return $e.orderBestPatterns(M),new wa(M)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let g=0;g<5;g++){const y=s[g];if(y===0)return!1;l+=y}if(l<7)return!1;const u=l/7,p=u/2;return Math.abs(u-s[0])<p&&Math.abs(u-s[1])<p&&Math.abs(3*u-s[2])<3*p&&Math.abs(u-s[3])<p&&Math.abs(u-s[4])<p}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,u,p){const g=this.getCrossCheckStateCount();let y=0;const b=this.image;for(;s>=y&&l>=y&&b.get(l-y,s-y);)g[2]++,y++;if(s<y||l<y)return!1;for(;s>=y&&l>=y&&!b.get(l-y,s-y)&&g[1]<=u;)g[1]++,y++;if(s<y||l<y||g[1]>u)return!1;for(;s>=y&&l>=y&&b.get(l-y,s-y)&&g[0]<=u;)g[0]++,y++;if(g[0]>u)return!1;const S=b.getHeight(),T=b.getWidth();for(y=1;s+y<S&&l+y<T&&b.get(l+y,s+y);)g[2]++,y++;if(s+y>=S||l+y>=T)return!1;for(;s+y<S&&l+y<T&&!b.get(l+y,s+y)&&g[3]<u;)g[3]++,y++;if(s+y>=S||l+y>=T||g[3]>=u)return!1;for(;s+y<S&&l+y<T&&b.get(l+y,s+y)&&g[4]<u;)g[4]++,y++;if(g[4]>=u)return!1;const M=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(M-p)<2*p&&sr.foundPatternCross(g)}crossCheckVertical(s,l,u,p){const g=this.image,y=g.getHeight(),b=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(l,S);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(l,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&g.get(l,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&g.get(l,S);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(l,S)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&g.get(l,S)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-p)>=2*p?NaN:sr.foundPatternCross(b)?sr.centerFromEnd(b,S):NaN}crossCheckHorizontal(s,l,u,p){const g=this.image,y=g.getWidth(),b=this.getCrossCheckStateCount();let S=s;for(;S>=0&&g.get(S,l);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(S,l)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&g.get(S,l)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=s+1;S<y&&g.get(S,l);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(S,l)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&g.get(S,l)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-p)>=p?NaN:sr.foundPatternCross(b)?sr.centerFromEnd(b,S):NaN}handlePossibleCenter(s,l,u,p){const g=s[0]+s[1]+s[2]+s[3]+s[4];let y=sr.centerFromEnd(s,u),b=this.crossCheckVertical(l,Math.floor(y),s[2],g);if(!isNaN(b)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(b),s[2],g),!isNaN(y)&&(!p||this.crossCheckDiagonal(Math.floor(b),Math.floor(y),s[2],g)))){const S=g/7;let T=!1;const M=this.possibleCenters;for(let F=0,$=M.length;F<$;F++){const q=M[F];if(q.aboutEquals(S,b,y)){M[F]=q.combineEstimate(b,y,S),T=!0;break}}if(!T){const F=new Ri(y,b,S);M.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=sr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=sr.CENTER_QUORUM&&(s++,l+=y.getEstimatedModuleSize());if(s<3)return!1;const p=l/u;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-p);return g<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new J;const l=this.possibleCenters;let u;if(s>3){let p=0,g=0;for(const S of this.possibleCenters){const T=S.getEstimatedModuleSize();p+=T,g+=T*T}u=p/s;let y=Math.sqrt(g/s-u*u);l.sort((S,T)=>{const M=Math.abs(T.getEstimatedModuleSize()-u),F=Math.abs(S.getEstimatedModuleSize()-u);return M<F?-1:M>F?1:0});const b=Math.max(.2*u,y);for(let S=0;S<l.length&&l.length>3;S++){const T=l[S];Math.abs(T.getEstimatedModuleSize()-u)>b&&(l.splice(S,1),S--)}}if(l.length>3){let p=0;for(const g of l)p+=g.getEstimatedModuleSize();u=p/l.length,l.sort((g,y)=>{if(y.getCount()===g.getCount()){const b=Math.abs(y.getEstimatedModuleSize()-u),S=Math.abs(g.getEstimatedModuleSize()-u);return b<S?1:b>S?-1:0}else return y.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}sr.CENTER_QUORUM=2,sr.MIN_SKIP=3,sr.MAX_MODULES=57;class Qi{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(H.NEED_RESULT_POINT_CALLBACK);const u=new sr(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const l=s.getTopLeft(),u=s.getTopRight(),p=s.getBottomLeft(),g=this.calculateModuleSize(l,u,p);if(g<1)throw new J("No pattern found in proccess finder.");const y=Qi.computeDimension(l,u,p,g),b=et.getProvisionalVersionForDimension(y),S=b.getDimensionForVersion()-7;let T=null;if(b.getAlignmentPatternCenters().length>0){const q=u.getX()-l.getX()+p.getX(),X=u.getY()-l.getY()+p.getY(),ee=1-3/S,ne=Math.floor(l.getX()+ee*(q-l.getX())),he=Math.floor(l.getY()+ee*(X-l.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{T=this.findAlignmentInRegion(g,ne,he,Pe);break}catch(Re){if(!(Re instanceof J))throw Re}}const M=Qi.createTransform(l,u,p,T,y),F=Qi.sampleGrid(this.image,M,y);let $;return T===null?$=[p,l,u]:$=[p,l,u,T],new Es(F,$)}static createTransform(s,l,u,p,g){const y=g-3.5;let b,S,T,M;return p!==null?(b=p.getX(),S=p.getY(),T=y-3,M=T):(b=l.getX()-s.getX()+u.getX(),S=l.getY()-s.getY()+u.getY(),T=y,M=y),Hn.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,T,M,3.5,y,s.getX(),s.getY(),l.getX(),l.getY(),b,S,u.getX(),u.getY())}static sampleGrid(s,l,u){return oi.getInstance().sampleGridWithTransform(s,u,u,l)}static computeDimension(s,l,u,p){const g=xt.round($e.distance(s,l)/p),y=xt.round($e.distance(s,u)/p);let b=Math.floor((g+y)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new J("Dimensions could be not found.")}return b}calculateModuleSize(s,l,u){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?p/7:isNaN(p)?u/7:(u+p)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,u,p){let g=this.sizeOfBlackWhiteBlackRun(s,l,u,p),y=1,b=s-(u-s);b<0?(y=s/(s-b),b=0):b>=this.image.getWidth()&&(y=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let S=Math.floor(l-(p-l)*y);return y=1,S<0?(y=l/(l-S),S=0):S>=this.image.getHeight()&&(y=(this.image.getHeight()-1-l)/(S-l),S=this.image.getHeight()-1),b=Math.floor(s+(b-s)*y),g+=this.sizeOfBlackWhiteBlackRun(s,l,b,S),g-1}sizeOfBlackWhiteBlackRun(s,l,u,p){const g=Math.abs(p-l)>Math.abs(u-s);if(g){let q=s;s=l,l=q,q=u,u=p,p=q}const y=Math.abs(u-s),b=Math.abs(p-l);let S=-y/2;const T=s<u?1:-1,M=l<p?1:-1;let F=0;const $=u+T;for(let q=s,X=l;q!==$;q+=T){const ee=g?X:q,ne=g?q:X;if(F===1===this.image.get(ee,ne)){if(F===2)return xt.distance(q,X,s,l);F++}if(S+=b,S>0){if(X===p)break;X+=M,S-=y}}return F===2?xt.distance(u+T,p,s,l):NaN}findAlignmentInRegion(s,l,u,p){const g=Math.floor(p*s),y=Math.max(0,l-g),b=Math.min(this.image.getWidth()-1,l+g);if(b-y<s*3)throw new J("Alignment top exceeds estimated module size.");const S=Math.max(0,u-g),T=Math.min(this.image.getHeight()-1,u+g);if(T-S<s*3)throw new J("Alignment bottom exceeds estimated module size.");return new fi(this.image,y,S,b-y,T-S,s,this.resultPointCallback).find()}}class gn{constructor(){this.decoder=new eu}getDecoder(){return this.decoder}decode(s,l){let u,p;if(l!=null&&l.get(H.PURE_BARCODE)!==void 0){const S=gn.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(S,l),p=gn.NO_POINTS}else{const S=new Qi(s.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(S.getBits(),l),p=S.getPoints()}u.getOther()instanceof Jc&&u.getOther().applyMirroredCorrection(p);const g=new Be(u.getText(),u.getRawBytes(),void 0,p,Te.QR_CODE,void 0),y=u.getByteSegments();y!==null&&g.putMetadata(ve.BYTE_SEGMENTS,y);const b=u.getECLevel();return b!==null&&g.putMetadata(ve.ERROR_CORRECTION_LEVEL,b),u.hasStructuredAppend()&&(g.putMetadata(ve.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(ve.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l===null||u===null)throw new J;const p=this.moduleSize(l,s);let g=l[1],y=u[1],b=l[0],S=u[0];if(b>=S||g>=y)throw new J;if(y-g!==S-b&&(S=b+(y-g),S>=s.getWidth()))throw new J;const T=Math.round((S-b+1)/p),M=Math.round((y-g+1)/p);if(T<=0||M<=0)throw new J;if(M!==T)throw new J;const F=Math.floor(p/2);g+=F,b+=F;const $=b+Math.floor((T-1)*p)-S;if($>0){if($>F)throw new J;b-=$}const q=g+Math.floor((M-1)*p)-y;if(q>0){if(q>F)throw new J;g-=q}const X=new ye(T,M);for(let ee=0;ee<M;ee++){const ne=g+Math.floor(ee*p);for(let he=0;he<T;he++)s.get(b+Math.floor(he*p),ne)&&X.set(he,ee)}return X}static moduleSize(s,l){const u=l.getHeight(),p=l.getWidth();let g=s[0],y=s[1],b=!0,S=0;for(;g<p&&y<u;){if(b!==l.get(g,y)){if(++S===5)break;b=!b}g++,y++}if(g===p||y===u)throw new J;return(g-s[0])/7}}gn.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(s){return xt.sum(s)}static toIntArray(s){if(s==null||!s.length)return st.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let u=0;for(const p of s)l[u++]=p;return l}static getCodeword(s){const l=L.binarySearch(st.SYMBOL_TABLE,s&262143);return l<0?-1:(st.CODEWORD_TABLE[l]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tf{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class ut{static detectMultiple(s,l,u){let p=s.getBlackMatrix(),g=ut.detect(u,p);return g.length||(p=p.clone(),p.rotate180(),g=ut.detect(u,p)),new tf(p,g)}static detect(s,l){const u=new Array;let p=0,g=0,y=!1;for(;p<l.getHeight();){const b=ut.findVertices(l,p,g);if(b[0]==null&&b[3]==null){if(!y)break;y=!1,g=0;for(const S of u)S[1]!=null&&(p=Math.trunc(Math.max(p,S[1].getY()))),S[3]!=null&&(p=Math.max(p,Math.trunc(S[3].getY())));p+=ut.ROW_STEP;continue}if(y=!0,u.push(b),!s)break;b[2]!=null?(g=Math.trunc(b[2].getX()),p=Math.trunc(b[2].getY())):(g=Math.trunc(b[4].getX()),p=Math.trunc(b[4].getY()))}return u}static findVertices(s,l,u){const p=s.getHeight(),g=s.getWidth(),y=new Array(8);return ut.copyToResult(y,ut.findRowsWithPattern(s,p,g,l,u,ut.START_PATTERN),ut.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),l=Math.trunc(y[4].getY())),ut.copyToResult(y,ut.findRowsWithPattern(s,p,g,l,u,ut.STOP_PATTERN),ut.INDEXES_STOP_PATTERN),y}static copyToResult(s,l,u){for(let p=0;p<u.length;p++)s[u[p]]=l[p]}static findRowsWithPattern(s,l,u,p,g,y){const b=new Array(4);let S=!1;const T=new Int32Array(y.length);for(;p<l;p+=ut.ROW_STEP){let F=ut.findGuardPattern(s,g,p,u,!1,y,T);if(F!=null){for(;p>0;){const $=ut.findGuardPattern(s,g,--p,u,!1,y,T);if($!=null)F=$;else{p++;break}}b[0]=new $e(F[0],p),b[1]=new $e(F[1],p),S=!0;break}}let M=p+1;if(S){let F=0,$=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;M<l;M++){const q=ut.findGuardPattern(s,$[0],M,u,!1,y,T);if(q!=null&&Math.abs($[0]-q[0])<ut.MAX_PATTERN_DRIFT&&Math.abs($[1]-q[1])<ut.MAX_PATTERN_DRIFT)$=q,F=0;else{if(F>ut.SKIPPED_ROW_COUNT_MAX)break;F++}}M-=F+1,b[2]=new $e($[0],M),b[3]=new $e($[1],M)}return M-p<ut.BARCODE_MIN_HEIGHT&&L.fill(b,null),b}static findGuardPattern(s,l,u,p,g,y,b){L.fillWithin(b,0,b.length,0);let S=l,T=0;for(;s.get(S,u)&&S>0&&T++<ut.MAX_PIXEL_DRIFT;)S--;let M=S,F=0,$=y.length;for(let q=g;M<p;M++)if(s.get(M,u)!==q)b[F]++;else{if(F===$-1){if(ut.patternMatchVariance(b,y,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return new Int32Array([S,M]);S+=b[0]+b[1],I.arraycopy(b,2,b,0,F-1),b[F-1]=0,b[F]=0,F--}else F++;b[F]=1,q=!q}return F===$-1&&ut.patternMatchVariance(b,y,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE?new Int32Array([S,M-1]):null}static patternMatchVariance(s,l,u){let p=s.length,g=0,y=0;for(let T=0;T<p;T++)g+=s[T],y+=l[T];if(g<y)return 1/0;let b=g/y;u*=b;let S=0;for(let T=0;T<p;T++){let M=s[T],F=l[T]*b,$=M>F?M-F:F-M;if($>u)return 1/0;S+=$}return S/g}}ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ut.MAX_AVG_VARIANCE=.42,ut.MAX_INDIVIDUAL_VARIANCE=.8,ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ut.MAX_PIXEL_DRIFT=3,ut.MAX_PATTERN_DRIFT=5,ut.SKIPPED_ROW_COUNT_MAX=25,ut.ROW_STEP=5,ut.BARCODE_MIN_HEIGHT=10;class Gr{constructor(s,l){if(l.length===0)throw new w;this.field=s;let u=l.length;if(u>1&&l[0]===0){let p=1;for(;p<u&&l[p]===0;)p++;p===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-p),I.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let p=0;for(let g of this.coefficients)p=this.field.add(p,g);return p}let l=this.coefficients[0],u=this.coefficients.length;for(let p=1;p<u;p++)l=this.field.add(this.field.multiply(s,l),this.coefficients[p]);return l}add(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){let y=l;l=u,u=y}let p=new Int32Array(u.length),g=u.length-l.length;I.arraycopy(u,0,p,0,g);for(let y=g;y<u.length;y++)p[y]=this.field.add(l[y-g],u[y]);return new Gr(this.field,p)}subtract(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Gr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Gr(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,p=s.coefficients,g=p.length,y=new Int32Array(u+g-1);for(let b=0;b<u;b++){let S=l[b];for(let T=0;T<g;T++)y[b+T]=this.field.add(y[b+T],this.field.multiply(S,p[T]))}return new Gr(this.field,y)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new Gr(this.field,l)}multiplyScalar(s){if(s===0)return new Gr(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let p=0;p<l;p++)u[p]=this.field.multiply(this.coefficients[p],s);return new Gr(this.field,u)}multiplyByMonomial(s,l){if(s<0)throw new w;if(l===0)return new Gr(this.field,new Int32Array([0]));let u=this.coefficients.length,p=new Int32Array(u+s);for(let g=0;g<u;g++)p[g]=this.field.multiply(this.coefficients[g],l);return new Gr(this.field,p)}toString(){let s=new Ae;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(l===0||u!==1)&&s.append(u),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class rf{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new w;return this.logTable[s]}inverse(s){if(s===0)throw new xe;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Is extends rf{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let p=0;p<s;p++)this.expTable[p]=u,u=u*l%s;for(let p=0;p<s-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Gr(this,new Int32Array([0])),this.one=new Gr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new w;if(l===0)return this.zero;let u=new Int32Array(s+1);return u[0]=l,new Gr(this,u)}}Is.PDF417_GF=new Is(st.NUMBER_OF_CODEWORDS,3);class tu{constructor(){this.field=Is.PDF417_GF}decode(s,l,u){let p=new Gr(this.field,s),g=new Int32Array(l),y=!1;for(let X=l;X>0;X--){let ee=p.evaluateAt(this.field.exp(X));g[l-X]=ee,ee!==0&&(y=!0)}if(!y)return 0;let b=this.field.getOne();if(u!=null)for(const X of u){let ee=this.field.exp(s.length-1-X),ne=new Gr(this.field,new Int32Array([this.field.subtract(0,ee),1]));b=b.multiply(ne)}let S=new Gr(this.field,g),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),S,l),M=T[0],F=T[1],$=this.findErrorLocations(M),q=this.findErrorMagnitudes(F,M,$);for(let X=0;X<$.length;X++){let ee=s.length-1-this.field.log($[X]);if(ee<0)throw C.getChecksumInstance();s[ee]=this.field.subtract(s[ee],q[X])}return $.length}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){let $=s;s=l,l=$}let p=s,g=l,y=this.field.getZero(),b=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let $=p,q=y;if(p=g,y=b,p.isZero())throw C.getChecksumInstance();g=$;let X=this.field.getZero(),ee=p.getCoefficient(p.getDegree()),ne=this.field.inverse(ee);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){let he=g.getDegree()-p.getDegree(),Pe=this.field.multiply(g.getCoefficient(g.getDegree()),ne);X=X.add(this.field.buildMonomial(he,Pe)),g=g.subtract(p.multiplyByMonomial(he,Pe))}b=X.multiply(y).subtract(q).negative()}let S=b.getCoefficient(0);if(S===0)throw C.getChecksumInstance();let T=this.field.inverse(S),M=b.multiply(T),F=g.multiply(T);return[M,F]}findErrorLocations(s){let l=s.getDegree(),u=new Int32Array(l),p=0;for(let g=1;g<this.field.getSize()&&p<l;g++)s.evaluateAt(g)===0&&(u[p]=this.field.inverse(g),p++);if(p!==l)throw C.getChecksumInstance();return u}findErrorMagnitudes(s,l,u){let p=l.getDegree(),g=new Int32Array(p);for(let T=1;T<=p;T++)g[p-T]=this.field.multiply(T,l.getCoefficient(T));let y=new Gr(this.field,g),b=u.length,S=new Int32Array(b);for(let T=0;T<b;T++){let M=this.field.inverse(u[T]),F=this.field.subtract(0,s.evaluateAt(M)),$=this.field.inverse(y.evaluateAt(M));S[T]=this.field.multiply(F,$)}return S}}class La{constructor(s,l,u,p,g){s instanceof La?this.constructor_2(s):this.constructor_1(s,l,u,p,g)}constructor_1(s,l,u,p,g){const y=l==null||u==null,b=p==null||g==null;if(y&&b)throw new J;y?(l=new $e(0,p.getY()),u=new $e(0,g.getY())):b&&(p=new $e(s.getWidth()-1,l.getY()),g=new $e(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=l,this.bottomLeft=u,this.topRight=p,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(p.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),p.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new La(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,u){let p=this.topLeft,g=this.bottomLeft,y=this.topRight,b=this.bottomRight;if(s>0){let S=u?this.topLeft:this.topRight,T=Math.trunc(S.getY()-s);T<0&&(T=0);let M=new $e(S.getX(),T);u?p=M:y=M}if(l>0){let S=u?this.bottomLeft:this.bottomRight,T=Math.trunc(S.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let M=new $e(S.getX(),T);u?g=M:b=M}return new La(this.image,p,g,y,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class go{constructor(s,l,u,p){this.columnCount=s,this.errorCorrectionLevel=p,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ji{constructor(){this.buffer=""}static form(s,l){let u=-1;function p(y,b,S,T,M,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=M?parseInt(M.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(y);break;case"p":q=parseFloat(l[u]).toPrecision(y);break;case"e":q=parseFloat(l[u]).toExponential(y);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let X=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;q.length<X;)q=b!==void 0?q+ee:ee+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,p)}format(s,...l){this.buffer+=Ji.form(s,l)}toString(){return this.buffer}}class ji{constructor(s){this.boundingBox=new La(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let u=1;u<ji.MAX_NEARBY_DISTANCE;u++){let p=this.imageRowToCodewordIndex(s)-u;if(p>=0&&(l=this.codewords[p],l!=null)||(p=this.imageRowToCodewordIndex(s)+u,p<this.codewords.length&&(l=this.codewords[p],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ji;let l=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return s.toString()}}ji.MAX_NEARBY_DISTANCE=5;class ba{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[u,p]of this.values.entries()){const g={getKey:()=>u,getValue:()=>p};g.getValue()>s?(s=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===s&&l.push(g.getKey())}return st.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class nf extends ji{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let u=this.getBoundingBox(),p=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(p.getY())),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=-1,T=1,M=0;for(let F=y;F<b;F++){if(l[F]==null)continue;let $=l[F],q=$.getRowNumber()-S;if(q===0)M++;else if(q===1)T=Math.max(T,M),M=1,S=$.getRowNumber();else if(q<0||$.getRowNumber()>=s.getRowCount()||q>F)l[F]=null;else{let X;T>2?X=(T-2)*q:X=q;let ee=X>=F;for(let ne=1;ne<=X&&!ee;ne++)ee=l[F-ne]!=null;ee?l[F]=null:(S=$.getRowNumber(),M=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let p=u.getRowNumber();if(p>=l.length)continue;l[p]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),p=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(p.getY())),b=this.getCodewords(),S=-1;for(let T=g;T<y;T++){if(b[T]==null)continue;let M=b[T];M.setRowNumberAsRowIndicatorColumn();let F=M.getRowNumber()-S;F===0||(F===1?S=M.getRowNumber():M.getRowNumber()>=s.getRowCount()?b[T]=null:S=M.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new ba,u=new ba,p=new ba,g=new ba;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let S=b.getValue()%30,T=b.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(S*3+1);break;case 1:g.setValue(S/3),p.setValue(S%3);break;case 2:l.setValue(S+1);break}}if(l.getValue().length===0||u.getValue().length===0||p.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+p.getValue()[0]<st.MIN_ROWS_IN_BARCODE||u.getValue()[0]+p.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let y=new go(l.getValue()[0],u.getValue()[0],p.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(s,y),y}removeIncorrectCodewords(s,l){for(let u=0;u<s.length;u++){let p=s[u];if(s[u]==null)continue;let g=p.getValue()%30,y=p.getRowNumber();if(y>l.getRowCount()){s[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(s[u]=null);break;case 2:g+1!==l.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vo{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=st.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let p=0;p<u.length;p++)u[p]!=null&&(u[p].hasValidRowNumber()||this.adjustRowNumbers(l,p,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&l[u]!=null&&s[u].getRowNumber()===l[u].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let g=this.detectionResultColumns[p].getCodewords()[u];g!=null&&(g.setRowNumber(s[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let p=l[u].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(g=vo.adjustRowNumberIfValid(p,g,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let p=l[u].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(g=vo.adjustRowNumberIfValid(p,g,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,u){if(!this.detectionResultColumns[s-1])return;let p=u[l],g=this.detectionResultColumns[s-1].getCodewords(),y=g;this.detectionResultColumns[s+1]!=null&&(y=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=g[l],b[3]=y[l],l>0&&(b[0]=u[l-1],b[4]=g[l-1],b[5]=y[l-1]),l>1&&(b[8]=u[l-2],b[10]=g[l-2],b[11]=y[l-2]),l<u.length-1&&(b[1]=u[l+1],b[6]=g[l+1],b[7]=y[l+1]),l<u.length-2&&(b[9]=u[l+2],b[12]=g[l+2],b[13]=y[l+2]);for(let S of b)if(vo.adjustRowNumber(p,S))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Ji;for(let u=0;u<s.getCodewords().length;u++){l.format("CW %3d:",u);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[p].getCodewords()[u];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class Ba{constructor(s,l,u,p){this.rowNumber=Ba.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ba.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ba.BARCODE_ROW_UNKNOWN=-1;class qr{static initialize(){for(let s=0;s<st.SYMBOL_TABLE.length;s++){let l=st.SYMBOL_TABLE[s],u=l&1;for(let p=0;p<st.BARS_IN_MODULE;p++){let g=0;for(;(l&1)===u;)g+=1,l>>=1;u=l&1,qr.RATIOS_TABLE[s]||(qr.RATIOS_TABLE[s]=new Array(st.BARS_IN_MODULE)),qr.RATIOS_TABLE[s][st.BARS_IN_MODULE-p-1]=Math.fround(g/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=qr.getDecodedCodewordValue(qr.sampleBitCounts(s));return l!==-1?l:qr.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=xt.sum(s),u=new Int32Array(st.BARS_IN_MODULE),p=0,g=0;for(let y=0;y<st.MODULES_IN_CODEWORD;y++){let b=l/(2*st.MODULES_IN_CODEWORD)+y*l/st.MODULES_IN_CODEWORD;g+s[p]<=b&&(g+=s[p],p++),u[p]++}return u}static getDecodedCodewordValue(s){let l=qr.getBitValue(s);return st.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let u=0;u<s.length;u++)for(let p=0;p<s[u];p++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=xt.sum(s),u=new Array(st.BARS_IN_MODULE);if(l>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(s[y]/l);let p=va.MAX_VALUE,g=-1;this.bSymbolTableReady||qr.initialize();for(let y=0;y<qr.RATIOS_TABLE.length;y++){let b=0,S=qr.RATIOS_TABLE[y];for(let T=0;T<st.BARS_IN_MODULE;T++){let M=Math.fround(S[T]-u[T]);if(b+=Math.fround(M*M),b>=p)break}b<p&&(p=b,g=st.SYMBOL_TABLE[y])}return g}}qr.bSymbolTableReady=!1,qr.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(B=>new Array(st.BARS_IN_MODULE));class Ol{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class ru{static parseLong(s,l=void 0){return parseInt(s,l)}}class ea extends m{}ea.kind="NullPointerException";class nu{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,u){if(s==null)throw new ea;if(l<0||l>s.length||u<0||l+u>s.length||l+u<0)throw new k;if(u===0)return;for(let p=0;p<u;p++)this.write(s[l+p])}flush(){}close(){}}class Il extends m{}class af extends nu{constructor(s=32){if(super(),this.count=0,s<0)throw new w("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new Il;u=j.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,u){if(l<0||l>s.length||u<0||l+u-s.length>0)throw new k;this.ensureCapacity(this.count+u),I.arraycopy(s,l,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ct;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function yo(){if(typeof window<"u")return window.BigInt||null;if(typeof rh<"u")return rh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let xo;function Er(B){if(typeof xo>"u"&&(xo=yo()),xo===null)throw new Error("BigInt is not supported!");return xo(B)}function Ts(){let B=[];B[0]=Er(1);let s=Er(900);B[1]=s;for(let l=2;l<16;l++)B[l]=B[l-1]*s;return B}class pe{static decode(s,l){let u=new Ae(""),p=Y.ISO8859_1;u.enableDecoding(p);let g=1,y=s[g++],b=new Ol;for(;g<s[0];){switch(y){case pe.TEXT_COMPACTION_MODE_LATCH:g=pe.textCompaction(s,g,u);break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:g=pe.byteCompaction(y,s,p,g,u);break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[g++]);break;case pe.NUMERIC_COMPACTION_MODE_LATCH:g=pe.numericCompaction(s,g,u);break;case pe.ECI_CHARSET:Y.getCharacterSetECIByValue(s[g++]);break;case pe.ECI_GENERAL_PURPOSE:g+=2;break;case pe.ECI_USER_DEFINED:g++;break;case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=pe.decodeMacroBlock(s,g,b);break;case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:throw new V;default:g--,g=pe.textCompaction(s,g,u);break}if(g<s.length)y=s[g++];else throw V.getFormatInstance()}if(u.length()===0)throw V.getFormatInstance();let S=new ae(null,u.toString(),null,l);return S.setOther(b),S}static decodeMacroBlock(s,l,u){if(l+pe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw V.getFormatInstance();let p=new Int32Array(pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<pe.NUMBER_OF_SEQUENCE_CODEWORDS;b++,l++)p[b]=s[l];u.setSegmentIndex(j.parseInt(pe.decodeBase900toBase10(p,pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Ae;l=pe.textCompaction(s,l,g),u.setFileId(g.toString());let y=-1;for(s[l]===pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=l+1);l<s[0];)switch(s[l]){case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new Ae;l=pe.textCompaction(s,l+1,b),u.setFileName(b.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Ae;l=pe.textCompaction(s,l+1,S),u.setSender(S.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Ae;l=pe.textCompaction(s,l+1,T),u.setAddressee(T.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let M=new Ae;l=pe.numericCompaction(s,l+1,M),u.setSegmentCount(j.parseInt(M.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Ae;l=pe.numericCompaction(s,l+1,F),u.setTimestamp(ru.parseLong(F.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new Ae;l=pe.numericCompaction(s,l+1,$),u.setChecksum(j.parseInt($.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let q=new Ae;l=pe.numericCompaction(s,l+1,q),u.setFileSize(ru.parseLong(q.toString()));break;default:throw V.getFormatInstance()}break;case pe.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(y!==-1){let b=l-y;u.isLastSegment()&&b--,u.setOptionalData(L.copyOfRange(s,y,y+b))}return l}static textCompaction(s,l,u){let p=new Int32Array((s[0]-l)*2),g=new Int32Array((s[0]-l)*2),y=0,b=!1;for(;l<s[0]&&!b;){let S=s[l++];if(S<pe.TEXT_COMPACTION_MODE_LATCH)p[y]=S/30,p[y+1]=S%30,y+=2;else switch(S){case pe.TEXT_COMPACTION_MODE_LATCH:p[y++]=pe.TEXT_COMPACTION_MODE_LATCH;break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:l--,b=!0;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[y]=pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=s[l++],g[y]=S,y++;break}}return pe.decodeTextCompaction(p,g,y,u),l}static decodeTextCompaction(s,l,u,p){let g=Ct.ALPHA,y=Ct.ALPHA,b=0;for(;b<u;){let S=s[b],T="";switch(g){case Ct.ALPHA:if(S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case pe.LL:g=Ct.LOWER;break;case pe.ML:g=Ct.MIXED;break;case pe.PS:y=g,g=Ct.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break;case Ct.LOWER:if(S<26)T=String.fromCharCode(97+S);else switch(S){case 26:T=" ";break;case pe.AS:y=g,g=Ct.ALPHA_SHIFT;break;case pe.ML:g=Ct.MIXED;break;case pe.PS:y=g,g=Ct.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break;case Ct.MIXED:if(S<pe.PL)T=pe.MIXED_CHARS[S];else switch(S){case pe.PL:g=Ct.PUNCT;break;case 26:T=" ";break;case pe.LL:g=Ct.LOWER;break;case pe.AL:g=Ct.ALPHA;break;case pe.PS:y=g,g=Ct.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break;case Ct.PUNCT:if(S<pe.PAL)T=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:g=Ct.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(g=y,S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(g=y,S<pe.PAL)T=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:g=Ct.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Ct.ALPHA;break}break}T!==""&&p.append(T),b++}}static byteCompaction(s,l,u,p,g){let y=new af,b=0,S=0,T=!1;switch(s){case pe.BYTE_COMPACTION_MODE_LATCH:let M=new Int32Array(6),F=l[p++];for(;p<l[0]&&!T;)switch(M[b++]=F,S=900*S+F,F=l[p++],F){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:p--,T=!0;break;default:if(b%5===0&&b>0){for(let $=0;$<6;++$)y.write(Number(Er(S)>>Er(8*(5-$))));S=0,b=0}break}p===l[0]&&F<pe.TEXT_COMPACTION_MODE_LATCH&&(M[b++]=F);for(let $=0;$<b;$++)y.write(M[$]);break;case pe.BYTE_COMPACTION_MODE_LATCH_6:for(;p<l[0]&&!T;){let $=l[p++];if($<pe.TEXT_COMPACTION_MODE_LATCH)b++,S=900*S+$;else switch($){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:p--,T=!0;break}if(b%5===0&&b>0){for(let q=0;q<6;++q)y.write(Number(Er(S)>>Er(8*(5-q))));S=0,b=0}}break}return g.append(ge.decode(y.toByteArray(),u)),p}static numericCompaction(s,l,u){let p=0,g=!1,y=new Int32Array(pe.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!g;){let b=s[l++];if(l===s[0]&&(g=!0),b<pe.TEXT_COMPACTION_MODE_LATCH)y[p]=b,p++;else switch(b){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(p%pe.MAX_NUMERIC_CODEWORDS===0||b===pe.NUMERIC_COMPACTION_MODE_LATCH||g)&&p>0&&(u.append(pe.decodeBase900toBase10(y,p)),p=0)}return l}static decodeBase900toBase10(s,l){let u=Er(0);for(let g=0;g<l;g++)u+=pe.EXP900[l-g-1]*Er(s[g]);let p=u.toString();if(p.charAt(0)!=="1")throw new V;return p.substring(1)}}pe.TEXT_COMPACTION_MODE_LATCH=900,pe.BYTE_COMPACTION_MODE_LATCH=901,pe.NUMERIC_COMPACTION_MODE_LATCH=902,pe.BYTE_COMPACTION_MODE_LATCH_6=924,pe.ECI_USER_DEFINED=925,pe.ECI_GENERAL_PURPOSE=926,pe.ECI_CHARSET=927,pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,pe.MACRO_PDF417_TERMINATOR=922,pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,pe.MAX_NUMERIC_CODEWORDS=15,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,pe.PL=25,pe.LL=27,pe.AS=27,pe.ML=28,pe.AL=28,pe.PS=29,pe.PAL=29,pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",pe.EXP900=yo()?Ts():[],pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ft{constructor(){}static decode(s,l,u,p,g,y,b){let S=new La(s,l,u,p,g),T=null,M=null,F;for(let X=!0;;X=!1){if(l!=null&&(T=ft.getRowIndicatorColumn(s,S,l,!0,y,b)),p!=null&&(M=ft.getRowIndicatorColumn(s,S,p,!1,y,b)),F=ft.merge(T,M),F==null)throw J.getNotFoundInstance();let ee=F.getBoundingBox();if(X&&ee!=null&&(ee.getMinY()<S.getMinY()||ee.getMaxY()>S.getMaxY()))S=ee;else break}F.setBoundingBox(S);let $=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn($,M);let q=T!=null;for(let X=1;X<=$;X++){let ee=q?X:$-X;if(F.getDetectionResultColumn(ee)!==void 0)continue;let ne;ee===0||ee===$?ne=new nf(S,ee===0):ne=new ji(S),F.setDetectionResultColumn(ee,ne);let he=-1,Pe=he;for(let Re=S.getMinY();Re<=S.getMaxY();Re++){if(he=ft.getStartColumn(F,ee,Re,q),he<0||he>S.getMaxX()){if(Pe===-1)continue;he=Pe}let Ce=ft.detectCodeword(s,S.getMinX(),S.getMaxX(),q,he,Re,y,b);Ce!=null&&(ne.setCodeword(Re,Ce),Pe=he,y=Math.min(y,Ce.getWidth()),b=Math.max(b,Ce.getWidth()))}}return ft.createDecoderResult(F)}static merge(s,l){if(s==null&&l==null)return null;let u=ft.getBarcodeMetadata(s,l);if(u==null)return null;let p=La.merge(ft.adjustBoundingBox(s),ft.adjustBoundingBox(l));return new vo(u,p)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let u=ft.getMax(l),p=0;for(let b of l)if(p+=u-b,b>0)break;let g=s.getCodewords();for(let b=0;p>0&&g[b]==null;b++)p--;let y=0;for(let b=l.length-1;b>=0&&(y+=u-l[b],!(l[b]>0));b--);for(let b=g.length-1;y>0&&g[b]==null;b--)y--;return s.getBoundingBox().addMissingRows(p,y,s.isLeft())}static getMax(s){let l=-1;for(let u of s)l=Math.max(l,u);return l}static getBarcodeMetadata(s,l){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let p;return l==null||(p=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==p.getColumnCount()&&u.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&u.getRowCount()!==p.getRowCount()?null:u}static getRowIndicatorColumn(s,l,u,p,g,y){let b=new nf(l,p);for(let S=0;S<2;S++){let T=S===0?1:-1,M=Math.trunc(Math.trunc(u.getX()));for(let F=Math.trunc(Math.trunc(u.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let $=ft.detectCodeword(s,0,s.getWidth(),p,M,F,g,y);$!=null&&(b.setCodeword(F,$),p?M=$.getStartX():M=$.getEndX())}}return b}static adjustCodewordCount(s,l){let u=l[0][1],p=u.getValue(),g=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-ft.getNumberOfECCodeWords(s.getBarcodeECLevel());if(p.length===0){if(g<1||g>st.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();u.setValue(g)}else p[0]!==g&&u.setValue(g)}static createDecoderResult(s){let l=ft.createBarcodeMatrix(s);ft.adjustCodewordCount(s,l);let u=new Array,p=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),g=[],y=new Array;for(let S=0;S<s.getBarcodeRowCount();S++)for(let T=0;T<s.getBarcodeColumnCount();T++){let M=l[S][T+1].getValue(),F=S*s.getBarcodeColumnCount()+T;M.length===0?u.push(F):M.length===1?p[F]=M[0]:(y.push(F),g.push(M))}let b=new Array(g.length);for(let S=0;S<b.length;S++)b[S]=g[S];return ft.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),p,st.toIntArray(u),st.toIntArray(y),b)}static createDecoderResultFromAmbiguousValues(s,l,u,p,g){let y=new Int32Array(p.length),b=100;for(;b-- >0;){for(let S=0;S<y.length;S++)l[p[S]]=g[S][y[S]];try{return ft.decodeCodewords(l,s,u)}catch(S){if(!(S instanceof C))throw S}if(y.length===0)throw C.getChecksumInstance();for(let S=0;S<y.length;S++)if(y[S]<g[S].length-1){y[S]++;break}else if(y[S]=0,S===y.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let p=0;p<l.length;p++)for(let g=0;g<l[p].length;g++)l[p][g]=new ba;let u=0;for(let p of s.getDetectionResultColumns()){if(p!=null){for(let g of p.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=l.length)continue;l[y][u].setValue(g.getValue())}}}u++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,u,p){let g=p?1:-1,y=null;if(ft.isValidBarcodeColumn(s,l-g)&&(y=s.getDetectionResultColumn(l-g).getCodeword(u)),y!=null)return p?y.getEndX():y.getStartX();if(y=s.getDetectionResultColumn(l).getCodewordNearby(u),y!=null)return p?y.getStartX():y.getEndX();if(ft.isValidBarcodeColumn(s,l-g)&&(y=s.getDetectionResultColumn(l-g).getCodewordNearby(u)),y!=null)return p?y.getEndX():y.getStartX();let b=0;for(;ft.isValidBarcodeColumn(s,l-g);){l-=g;for(let S of s.getDetectionResultColumn(l).getCodewords())if(S!=null)return(p?S.getEndX():S.getStartX())+g*b*(S.getEndX()-S.getStartX());b++}return p?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,u,p,g,y,b,S){g=ft.adjustCodewordStartColumn(s,l,u,p,g,y);let T=ft.getModuleBitCount(s,l,u,p,g,y);if(T==null)return null;let M,F=xt.sum(T);if(p)M=g+F;else{for(let X=0;X<T.length/2;X++){let ee=T[X];T[X]=T[T.length-1-X],T[T.length-1-X]=ee}M=g,g=M-F}if(!ft.checkCodewordSkew(F,b,S))return null;let $=qr.getDecodedValue(T),q=st.getCodeword($);return q===-1?null:new Ba(g,M,ft.getCodewordBucketNumber($),q)}static getModuleBitCount(s,l,u,p,g,y){let b=g,S=new Int32Array(8),T=0,M=p?1:-1,F=p;for(;(p?b<u:b>=l)&&T<S.length;)s.get(b,y)===F?(S[T]++,b+=M):(T++,F=!F);return T===S.length||b===(p?u:l)&&T===S.length-1?S:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,u,p,g,y){let b=g,S=p?-1:1;for(let T=0;T<2;T++){for(;(p?b>=l:b<u)&&p===s.get(b,y);){if(Math.abs(g-b)>ft.CODEWORD_SKEW_SIZE)return g;b+=S}S=-S,p=!p}return b}static checkCodewordSkew(s,l,u){return l-ft.CODEWORD_SKEW_SIZE<=s&&s<=u+ft.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,u){if(s.length===0)throw V.getFormatInstance();let p=1<<l+1,g=ft.correctErrors(s,u,p);ft.verifyCodewordCount(s,p);let y=pe.decode(s,""+l);return y.setErrorsCorrected(g),y.setErasures(u.length),y}static correctErrors(s,l,u){if(l!=null&&l.length>u/2+ft.MAX_ERRORS||u<0||u>ft.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return ft.errorCorrection.decode(s,u,l)}static verifyCodewordCount(s,l){if(s.length<4)throw V.getFormatInstance();let u=s[0];if(u>s.length)throw V.getFormatInstance();if(u===0)if(l<s.length)s[0]=s.length-l;else throw V.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),u=0,p=l.length-1;for(;!((s&1)!==u&&(u=s&1,p--,p<0));)l[p]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return ft.getCodewordBucketNumber(ft.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new Ji;for(let u=0;u<s.length;u++){l.format("Row %2d: ",u);for(let p=0;p<s[u].length;p++){let g=s[u][p];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}ft.CODEWORD_SKEW_SIZE=2,ft.MAX_ERRORS=3,ft.MAX_EC_CODEWORDS=512,ft.errorCorrection=new tu;class Kr{decode(s,l=null){let u=Kr.decode(s,l,!1);if(u==null||u.length===0||u[0]==null)throw J.getNotFoundInstance();return u[0]}decodeMultiple(s,l=null){try{return Kr.decode(s,l,!0)}catch(u){throw u instanceof V||u instanceof C?J.getNotFoundInstance():u}}static decode(s,l,u){const p=new Array,g=ut.detectMultiple(s,l,u);for(const y of g.getPoints()){const b=ft.decode(g.getBits(),y[4],y[5],y[6],y[7],Kr.getMinCodewordWidth(y),Kr.getMaxCodewordWidth(y)),S=new Be(b.getText(),b.getRawBytes(),void 0,y,Te.PDF_417);S.putMetadata(ve.ERROR_CORRECTION_LEVEL,b.getECLevel());const T=b.getOther();T!=null&&S.putMetadata(ve.PDF417_EXTRA_METADATA,T),p.push(S)}return p.map(y=>y)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?j.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Kr.getMaxWidth(s[0],s[4]),Kr.getMaxWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(Kr.getMaxWidth(s[1],s[5]),Kr.getMaxWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Kr.getMinWidth(s[0],s[4]),Kr.getMinWidth(s[6],s[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(Kr.getMinWidth(s[1],s[5]),Kr.getMinWidth(s[7],s[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ns extends m{}Ns.kind="ReaderException";class Tl{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!n(s)&&s.get(H.TRY_HARDER)===!0,u=n(s)?null:s.get(H.POSSIBLE_FORMATS),p=new Array;if(!n(u)){const g=u.some(y=>y===Te.UPC_A||y===Te.UPC_E||y===Te.EAN_13||y===Te.EAN_8||y===Te.CODABAR||y===Te.CODE_39||y===Te.CODE_93||y===Te.CODE_128||y===Te.ITF||y===Te.RSS_14||y===Te.RSS_EXPANDED);g&&!l&&p.push(new Ss(s,this.verbose)),u.includes(Te.QR_CODE)&&p.push(new gn),u.includes(Te.DATA_MATRIX)&&p.push(new di),u.includes(Te.AZTEC)&&p.push(new ya),u.includes(Te.PDF_417)&&p.push(new Kr),g&&l&&p.push(new Ss(s,this.verbose))}p.length===0&&(l||p.push(new Ss(s,this.verbose)),p.push(new gn),p.push(new di),p.push(new ya),p.push(new Kr),l&&p.push(new Ss(s,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new Ns("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(u){if(u instanceof Ns)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class wo extends De{constructor(s=null,l=500){const u=new Tl;u.setHints(s),super(u,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Nl extends De{constructor(s=500){super(new Kr,s)}}class sf extends De{constructor(s=500){super(new gn,s)}}var iu;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(iu||(iu={}));var Nr=iu;class au{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Oe(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let u=l[l.length-1];const p=this.field;for(let g=l.length;g<=s;g++){const y=u.multiply(new Oe(p,Int32Array.from([1,p.exp(g-1+p.getGeneratorBase())])));l.push(y),u=y}}return l[s]}encode(s,l){if(l===0)throw new w("No error correction bytes");const u=s.length-l;if(u<=0)throw new w("No data bytes provided");const p=this.buildGenerator(l),g=new Int32Array(u);I.arraycopy(s,0,g,0,u);let y=new Oe(this.field,g);y=y.multiplyByMonomial(l,1);const S=y.divide(p)[1].getCoefficients(),T=l-S.length;for(let M=0;M<T;M++)s[u+M]=0;I.arraycopy(S,0,s,u+T,S.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(s){return Zt.applyMaskPenaltyRule1Internal(s,!0)+Zt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const u=s.getArray(),p=s.getWidth(),g=s.getHeight();for(let y=0;y<g-1;y++){const b=u[y];for(let S=0;S<p-1;S++){const T=b[S];T===b[S+1]&&T===u[y+1][S]&&T===u[y+1][S+1]&&l++}}return Zt.N2*l}static applyMaskPenaltyRule3(s){let l=0;const u=s.getArray(),p=s.getWidth(),g=s.getHeight();for(let y=0;y<g;y++)for(let b=0;b<p;b++){const S=u[y];b+6<p&&S[b]===1&&S[b+1]===0&&S[b+2]===1&&S[b+3]===1&&S[b+4]===1&&S[b+5]===0&&S[b+6]===1&&(Zt.isWhiteHorizontal(S,b-4,b)||Zt.isWhiteHorizontal(S,b+7,b+11))&&l++,y+6<g&&u[y][b]===1&&u[y+1][b]===0&&u[y+2][b]===1&&u[y+3][b]===1&&u[y+4][b]===1&&u[y+5][b]===0&&u[y+6][b]===1&&(Zt.isWhiteVertical(u,b,y-4,y)||Zt.isWhiteVertical(u,b,y+7,y+11))&&l++}return l*Zt.N3}static isWhiteHorizontal(s,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let p=l;p<u;p++)if(s[p]===1)return!1;return!0}static isWhiteVertical(s,l,u,p){u=Math.max(u,0),p=Math.min(p,s.length);for(let g=u;g<p;g++)if(s[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const u=s.getArray(),p=s.getWidth(),g=s.getHeight();for(let S=0;S<g;S++){const T=u[S];for(let M=0;M<p;M++)T[M]===1&&l++}const y=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-y)*10/y)*Zt.N4}static getDataMaskBit(s,l,u){let p,g;switch(s){case 0:p=u+l&1;break;case 1:p=u&1;break;case 2:p=l%3;break;case 3:p=(u+l)%3;break;case 4:p=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:g=u*l,p=(g&1)+g%3;break;case 6:g=u*l,p=(g&1)+g%3&1;break;case 7:g=u*l,p=g%3+(u+l&1)&1;break;default:throw new w("Invalid mask pattern: "+s)}return p===0}static applyMaskPenaltyRule1Internal(s,l){let u=0;const p=l?s.getHeight():s.getWidth(),g=l?s.getWidth():s.getHeight(),y=s.getArray();for(let b=0;b<p;b++){let S=0,T=-1;for(let M=0;M<g;M++){const F=l?y[b][M]:y[M][b];F===T?S++:(S>=5&&(u+=Zt.N1+(S-5)),S=1,T=F)}S>=5&&(u+=Zt.N1+(S-5))}return u}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class Pl{constructor(s,l){this.width=s,this.height=l;const u=new Array(l);for(let p=0;p!==l;p++)u[p]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,u){this.bytes[l][s]=u}setBoolean(s,l,u){this.bytes[l][s]=u?1:0}clear(s){for(const l of this.bytes)L.fill(l,s)}equals(s){if(!(s instanceof Pl))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,p=this.height;u<p;++u){const g=this.bytes[u],y=l.bytes[u];for(let b=0,S=this.width;b<S;++b)if(g[b]!==y[b])return!1}return!0}toString(){const s=new Ae;for(let l=0,u=this.height;l<u;++l){const p=this.bytes[l];for(let g=0,y=this.width;g<y;++g)switch(p[g]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Fa{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Ae;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Fa.NUM_MASK_PATTERNS}}Fa.NUM_MASK_PATTERNS=8;class Ft extends m{}Ft.kind="WriterException";class nt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,u,p,g){nt.clearMatrix(g),nt.embedBasicPatterns(u,g),nt.embedTypeInfo(l,p,g),nt.maybeEmbedVersionInfo(u,g),nt.embedDataBits(s,p,g)}static embedBasicPatterns(s,l){nt.embedPositionDetectionPatternsAndSeparators(l),nt.embedDarkDotAtLeftBottomCorner(l),nt.maybeEmbedPositionAdjustmentPatterns(s,l),nt.embedTimingPatterns(l)}static embedTypeInfo(s,l,u){const p=new z;nt.makeTypeInfoBits(s,l,p);for(let g=0,y=p.getSize();g<y;++g){const b=p.get(p.getSize()-1-g),S=nt.TYPE_INFO_COORDINATES[g],T=S[0],M=S[1];if(u.setBoolean(T,M,b),g<8){const F=u.getWidth()-g-1;u.setBoolean(F,8,b)}else{const $=u.getHeight()-7+(g-8);u.setBoolean(8,$,b)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const u=new z;nt.makeVersionInfoBits(s,u);let p=17;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const b=u.get(p);p--,l.setBoolean(g,l.getHeight()-11+y,b),l.setBoolean(l.getHeight()-11+y,g,b)}}static embedDataBits(s,l,u){let p=0,g=-1,y=u.getWidth()-1,b=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);b>=0&&b<u.getHeight();){for(let S=0;S<2;++S){const T=y-S;if(!nt.isEmpty(u.get(T,b)))continue;let M;p<s.getSize()?(M=s.get(p),++p):M=!1,l!==255&&Zt.getDataMaskBit(l,T,b)&&(M=!M),u.setBoolean(T,b,M)}b+=g}g=-g,b+=g,y-=2}if(p!==s.getSize())throw new Ft("Not all bits consumed: "+p+"/"+s.getSize())}static findMSBSet(s){return 32-j.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new w("0 polynomial");const u=nt.findMSBSet(l);for(s<<=u-1;nt.findMSBSet(s)>=u;)s^=l<<nt.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,l,u){if(!Fa.isValidMaskPattern(l))throw new Ft("Invalid mask pattern");const p=s.getBits()<<3|l;u.appendBits(p,5);const g=nt.calculateBCHCode(p,nt.TYPE_INFO_POLY);u.appendBits(g,10);const y=new z;if(y.appendBits(nt.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new Ft("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const u=nt.calculateBCHCode(s.getVersionNumber(),nt.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new Ft("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const u=(l+1)%2;nt.isEmpty(s.get(l,6))&&s.setNumber(l,6,u),nt.isEmpty(s.get(6,l))&&s.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Ft;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,u){for(let p=0;p<8;++p){if(!nt.isEmpty(u.get(s+p,l)))throw new Ft;u.setNumber(s+p,l,0)}}static embedVerticalSeparationPattern(s,l,u){for(let p=0;p<7;++p){if(!nt.isEmpty(u.get(s,l+p)))throw new Ft;u.setNumber(s,l+p,0)}}static embedPositionAdjustmentPattern(s,l,u){for(let p=0;p<5;++p){const g=nt.POSITION_ADJUSTMENT_PATTERN[p];for(let y=0;y<5;++y)u.setNumber(s+y,l+p,g[y])}}static embedPositionDetectionPattern(s,l,u){for(let p=0;p<7;++p){const g=nt.POSITION_DETECTION_PATTERN[p];for(let y=0;y<7;++y)u.setNumber(s+y,l+p,g[y])}}static embedPositionDetectionPatternsAndSeparators(s){const l=nt.POSITION_DETECTION_PATTERN[0].length;nt.embedPositionDetectionPattern(0,0,s),nt.embedPositionDetectionPattern(s.getWidth()-l,0,s),nt.embedPositionDetectionPattern(0,s.getWidth()-l,s);const u=8;nt.embedHorizontalSeparationPattern(0,u-1,s),nt.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),nt.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const p=7;nt.embedVerticalSeparationPattern(p,0,s),nt.embedVerticalSeparationPattern(s.getHeight()-p-1,0,s),nt.embedVerticalSeparationPattern(p,s.getHeight()-p,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,p=nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,y=p.length;g!==y;g++){const b=p[g];if(b>=0)for(let S=0;S!==y;S++){const T=p[S];T>=0&&nt.isEmpty(l.get(T,b))&&nt.embedPositionAdjustmentPattern(T-2,b-2,l)}}}}nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),nt.VERSION_INFO_POLY=7973,nt.TYPE_INFO_POLY=1335,nt.TYPE_INFO_MASK_PATTERN=21522;class c1{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class zt{constructor(){}static calculateMaskPenalty(s){return Zt.applyMaskPenaltyRule1(s)+Zt.applyMaskPenaltyRule2(s)+Zt.applyMaskPenaltyRule3(s)+Zt.applyMaskPenaltyRule4(s)}static encode(s,l,u=null){let p=zt.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Nr.CHARACTER_SET)!==void 0;g&&(p=u.get(Nr.CHARACTER_SET).toString());const y=this.chooseMode(s,p),b=new z;if(y===tt.BYTE&&(g||zt.DEFAULT_BYTE_MODE_ENCODING!==p)){const Re=Y.getCharacterSetECIByName(p);Re!==void 0&&this.appendECI(Re,b)}this.appendModeInfo(y,b);const S=new z;this.appendBytes(s,y,S,p);let T;if(u!==null&&u.get(Nr.QR_VERSION)!==void 0){const Re=Number.parseInt(u.get(Nr.QR_VERSION).toString(),10);T=et.getVersionForNumber(Re);const Ce=this.calculateBitsNeeded(y,b,S,T);if(!this.willFit(Ce,T,l))throw new Ft("Data too big for requested version")}else T=this.recommendVersion(l,y,b,S);const M=new z;M.appendBitArray(b);const F=y===tt.BYTE?S.getSizeInBytes():s.length;this.appendLengthInfo(F,T,y,M),M.appendBitArray(S);const $=T.getECBlocksForLevel(l),q=T.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(q,M);const X=this.interleaveWithECBytes(M,T.getTotalCodewords(),q,$.getNumBlocks()),ee=new Fa;ee.setECLevel(l),ee.setMode(y),ee.setVersion(T);const ne=T.getDimensionForVersion(),he=new Pl(ne,ne),Pe=this.chooseMaskPattern(X,l,T,he);return ee.setMaskPattern(Pe),nt.buildMatrix(X,l,T,Pe,he),ee.setMatrix(he),ee}static recommendVersion(s,l,u,p){const g=this.calculateBitsNeeded(l,u,p,et.getVersionForNumber(1)),y=this.chooseVersion(g,s),b=this.calculateBitsNeeded(l,u,p,y);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,l,u,p){return l.getSize()+s.getCharacterCountBits(p)+u.getSize()}static getAlphanumericCode(s){return s<zt.ALPHANUMERIC_TABLE.length?zt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(Y.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return tt.KANJI;let u=!1,p=!1;for(let g=0,y=s.length;g<y;++g){const b=s.charAt(g);if(zt.isDigit(b))u=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)p=!0;else return tt.BYTE}return p?tt.ALPHANUMERIC:u?tt.NUMERIC:tt.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=ge.encode(s,Y.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let p=0;p<u;p+=2){const g=l[p]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(s,l,u,p){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let b=0;b<Fa.NUM_MASK_PATTERNS;b++){nt.buildMatrix(s,l,u,b,p);let S=this.calculateMaskPenalty(p);S<g&&(g=S,y=b)}return y}static chooseVersion(s,l){for(let u=1;u<=40;u++){const p=et.getVersionForNumber(u);if(zt.willFit(s,p,l))return p}throw new Ft("Data too big")}static willFit(s,l,u){const p=l.getTotalCodewords(),y=l.getECBlocksForLevel(u).getTotalECCodewords(),b=p-y,S=(s+7)/8;return b>=S}static terminateBits(s,l){const u=s*8;if(l.getSize()>u)throw new Ft("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let y=0;y<4&&l.getSize()<u;++y)l.appendBit(!1);const p=l.getSize()&7;if(p>0)for(let y=p;y<8;y++)l.appendBit(!1);const g=s-l.getSizeInBytes();for(let y=0;y<g;++y)l.appendBits((y&1)===0?236:17,8);if(l.getSize()!==u)throw new Ft("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,u,p,g,y){if(p>=u)throw new Ft("Block ID too large");const b=s%u,S=u-b,T=Math.floor(s/u),M=T+1,F=Math.floor(l/u),$=F+1,q=T-F,X=M-$;if(q!==X)throw new Ft("EC bytes mismatch");if(u!==S+b)throw new Ft("RS blocks mismatch");if(s!==(F+q)*S+($+X)*b)throw new Ft("Total bytes mismatch");p<S?(g[0]=F,y[0]=q):(g[0]=$,y[0]=X)}static interleaveWithECBytes(s,l,u,p){if(s.getSizeInBytes()!==u)throw new Ft("Number of bits and data bytes does not match");let g=0,y=0,b=0;const S=new Array;for(let M=0;M<p;++M){const F=new Int32Array(1),$=new Int32Array(1);zt.getNumDataBytesAndNumECBytesForBlockID(l,u,p,M,F,$);const q=F[0],X=new Uint8Array(q);s.toBytes(8*g,X,0,q);const ee=zt.generateECBytes(X,$[0]);S.push(new c1(X,ee)),y=Math.max(y,q),b=Math.max(b,ee.length),g+=F[0]}if(u!==g)throw new Ft("Data bytes does not match offset");const T=new z;for(let M=0;M<y;++M)for(const F of S){const $=F.getDataBytes();M<$.length&&T.appendBits($[M],8)}for(let M=0;M<b;++M)for(const F of S){const $=F.getErrorCorrectionBytes();M<$.length&&T.appendBits($[M],8)}if(l!==T.getSizeInBytes())throw new Ft("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(s,l){const u=s.length,p=new Int32Array(u+l);for(let y=0;y<u;y++)p[y]=s[y]&255;new au(Fe.QR_CODE_FIELD_256).encode(p,l);const g=new Uint8Array(l);for(let y=0;y<l;y++)g[y]=p[u+y];return g}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,u,p){const g=u.getCharacterCountBits(l);if(s>=1<<g)throw new Ft(s+" is bigger than "+((1<<g)-1));p.appendBits(s,g)}static appendBytes(s,l,u,p){switch(l){case tt.NUMERIC:zt.appendNumericBytes(s,u);break;case tt.ALPHANUMERIC:zt.appendAlphanumericBytes(s,u);break;case tt.BYTE:zt.append8BitBytes(s,u,p);break;case tt.KANJI:zt.appendKanjiBytes(s,u);break;default:throw new Ft("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=zt.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const u=s.length;let p=0;for(;p<u;){const g=zt.getDigit(s.charAt(p));if(p+2<u){const y=zt.getDigit(s.charAt(p+1)),b=zt.getDigit(s.charAt(p+2));l.appendBits(g*100+y*10+b,10),p+=3}else if(p+1<u){const y=zt.getDigit(s.charAt(p+1));l.appendBits(g*10+y,7),p+=2}else l.appendBits(g,4),p++}}static appendAlphanumericBytes(s,l){const u=s.length;let p=0;for(;p<u;){const g=zt.getAlphanumericCode(s.charCodeAt(p));if(g===-1)throw new Ft;if(p+1<u){const y=zt.getAlphanumericCode(s.charCodeAt(p+1));if(y===-1)throw new Ft;l.appendBits(g*45+y,11),p+=2}else l.appendBits(g,6),p++}}static append8BitBytes(s,l,u){let p;try{p=ge.encode(s,u)}catch(g){throw new Ft(g)}for(let g=0,y=p.length;g!==y;g++){const b=p[g];l.appendBits(b,8)}}static appendKanjiBytes(s,l){let u;try{u=ge.encode(s,Y.SJIS)}catch(g){throw new Ft(g)}const p=u.length;for(let g=0;g<p;g+=2){const y=u[g]&255,b=u[g+1]&255,S=y<<8&4294967295|b;let T=-1;if(S>=33088&&S<=40956?T=S-33088:S>=57408&&S<=60351&&(T=S-49472),T===-1)throw new Ft("Invalid byte sequence");const M=(T>>8)*192+(T&255);l.appendBits(M,13)}}static appendECI(s,l){l.appendBits(tt.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}zt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),zt.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class Ua{write(s,l,u,p=null){if(s.length===0)throw new w("Found empty contents");if(l<0||u<0)throw new w("Requested dimensions are too small: "+l+"x"+u);let g=Dt.L,y=Ua.QUIET_ZONE_SIZE;p!==null&&(p.get(Nr.ERROR_CORRECTION)!==void 0&&(g=Dt.fromString(p.get(Nr.ERROR_CORRECTION).toString())),p.get(Nr.MARGIN)!==void 0&&(y=Number.parseInt(p.get(Nr.MARGIN).toString(),10)));const b=zt.encode(s,g,p);return this.renderResult(b,l,u,y)}writeToDom(s,l,u,p,g=null){typeof s=="string"&&(s=document.querySelector(s));const y=this.write(l,u,p,g);s&&s.appendChild(y)}renderResult(s,l,u,p){const g=s.getMatrix();if(g===null)throw new St;const y=g.getWidth(),b=g.getHeight(),S=y+p*2,T=b+p*2,M=Math.max(l,S),F=Math.max(u,T),$=Math.min(Math.floor(M/S),Math.floor(F/T)),q=Math.floor((M-y*$)/2),X=Math.floor((F-b*$)/2),ee=this.createSVGElement(M,F);for(let ne=0,he=X;ne<b;ne++,he+=$)for(let Pe=0,Re=q;Pe<y;Pe++,Re+=$)if(g.get(Pe,ne)===1){const Ce=this.createSvgRectElement(Re,he,$,$);ee.appendChild(Ce)}return ee}createSVGElement(s,l){const u=document.createElementNS(Ua.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(s,l,u,p){const g=document.createElementNS(Ua.SVG_NS,"rect");return g.setAttributeNS(null,"x",s.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",p.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Ua.QUIET_ZONE_SIZE=4,Ua.SVG_NS="http://www.w3.org/2000/svg";class Ps{encode(s,l,u,p,g){if(s.length===0)throw new w("Found empty contents");if(l!==Te.QR_CODE)throw new w("Can only encode QR_CODE, but got "+l);if(u<0||p<0)throw new w(`Requested dimensions are too small: ${u}x${p}`);let y=Dt.L,b=Ps.QUIET_ZONE_SIZE;g!==null&&(g.get(Nr.ERROR_CORRECTION)!==void 0&&(y=Dt.fromString(g.get(Nr.ERROR_CORRECTION).toString())),g.get(Nr.MARGIN)!==void 0&&(b=Number.parseInt(g.get(Nr.MARGIN).toString(),10)));const S=zt.encode(s,y,g);return Ps.renderResult(S,u,p,b)}static renderResult(s,l,u,p){const g=s.getMatrix();if(g===null)throw new St;const y=g.getWidth(),b=g.getHeight(),S=y+p*2,T=b+p*2,M=Math.max(l,S),F=Math.max(u,T),$=Math.min(Math.floor(M/S),Math.floor(F/T)),q=Math.floor((M-y*$)/2),X=Math.floor((F-b*$)/2),ee=new ye(M,F);for(let ne=0,he=X;ne<b;ne++,he+=$)for(let Pe=0,Re=q;Pe<y;Pe++,Re+=$)g.get(Pe,ne)===1&&ee.setRegion(Re,he,$,$);return ee}}Ps.QUIET_ZONE_SIZE=4;class u1{encode(s,l,u,p,g){let y;switch(l){case Te.QR_CODE:y=new Ps;break;default:throw new w("No encoder available for format "+l)}return y.encode(s,l,u,p,g)}}class Mi extends fe{constructor(s,l,u,p,g,y,b,S){if(super(y,b),this.yuvData=s,this.dataWidth=l,this.dataHeight=u,this.left=p,this.top=g,p+y>l||g+b>u)throw new w("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(y,b)}getRow(s,l){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const p=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,p,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=s*l,p=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,g,p,0,u),p;for(let y=0;y<l;y++){const b=y*s;I.arraycopy(this.yuvData,g,p,b,s),g+=this.dataWidth}return p}isCropSupported(){return!0}crop(s,l,u,p){return new Mi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,u,p,!1)}renderThumbnail(){const s=this.getWidth()/Mi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Mi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*l),p=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<l;y++){const b=y*s;for(let S=0;S<s;S++){const T=p[g+S*Mi.THUMBNAIL_SCALE_FACTOR]&255;u[b+S]=4278190080|T*65793}g+=this.dataWidth*Mi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Mi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const u=this.yuvData;for(let p=0,g=this.top*this.dataWidth+this.left;p<l;p++,g+=this.dataWidth){const y=g+s/2;for(let b=g,S=g+s-1;b<y;b++,S--){const T=u[b];u[b]=u[S],u[S]=T}}}invert(){return new we(this)}}Mi.THUMBNAIL_SCALE_FACTOR=2;class bo extends fe{constructor(s,l,u,p,g,y,b){if(super(l,u),this.dataWidth=p,this.dataHeight=g,this.left=y,this.top=b,s.BYTES_PER_ELEMENT===4){const S=l*u,T=new Uint8ClampedArray(S);for(let M=0;M<S;M++){const F=s[M],$=F>>16&255,q=F>>7&510,X=F&255;T[M]=($+q+X)/4&255}this.luminances=T}else this.luminances=s;if(p===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new w("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const p=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,p,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=s*l,p=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,g,p,0,u),p;for(let y=0;y<l;y++){const b=y*s;I.arraycopy(this.luminances,g,p,b,s),g+=this.dataWidth}return p}isCropSupported(){return!0}crop(s,l,u,p){return new bo(this.luminances,u,p,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new we(this)}}class of extends Y{static forName(s){return this.getCharacterSetECIByName(s)}}class su{}su.ISO_8859_1=Y.ISO8859_1;class lf{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class ou{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class d1{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ks extends d1{constructor(s,l,u){super(s),this.value=l,this.bitCount=u}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new ks(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ks(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+j.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class lu extends ks{constructor(s,l,u){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(s,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(s,l){return new lu(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function f1(B,s,l){return new lu(B,s,l)}function Eo(B,s,l){return new ks(B,s,l)}const h1=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ea=0,Rs=1,sn=2,cf=3,hi=4,uf=new ks(null,0,0),kl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function df(B){for(let s of B)L.fill(s,-1);return B[Ea][hi]=0,B[Rs][hi]=0,B[Rs][Ea]=28,B[cf][hi]=0,B[sn][hi]=0,B[sn][Ea]=15,B}const cu=df(L.createInt32Array(6,6));class vn{constructor(s,l,u,p){this.token=s,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let u=this.bitCount,p=this.token;if(s!==this.mode){let y=kl[this.mode][s];p=Eo(p,y&65535,y>>16),u+=y>>16}let g=s===sn?4:5;return p=Eo(p,l,g),new vn(p,s,0,u+g)}shiftAndAppend(s,l){let u=this.token,p=this.mode===sn?4:5;return u=Eo(u,cu[this.mode][s],p),u=Eo(u,l,5),new vn(u,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(s){let l=this.token,u=this.mode,p=this.bitCount;if(this.mode===hi||this.mode===sn){let b=kl[u][Ea];l=Eo(l,b&65535,b>>16),p+=b>>16,u=Ea}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new vn(l,u,this.binaryShiftByteCount+1,p+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(s+1)),y}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=f1(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new vn(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(kl[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=vn.calculateBinaryShiftCost(s)-vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let p=this.endBinaryShift(s.length).token;p!==null;p=p.getPrevious())l.unshift(p);let u=new z;for(const p of l)p.appendTo(u,s);return u}toString(){return de.format("%s bits=%d bytes=%d",h1[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}vn.INITIAL_STATE=new vn(uf,Ea,0,0);function p1(B){const s=de.getCharCode(" "),l=de.getCharCode("."),u=de.getCharCode(",");B[Ea][s]=1;const p=de.getCharCode("Z"),g=de.getCharCode("A");for(let $=g;$<=p;$++)B[Ea][$]=$-g+2;B[Rs][s]=1;const y=de.getCharCode("z"),b=de.getCharCode("a");for(let $=b;$<=y;$++)B[Rs][$]=$-b+2;B[sn][s]=1;const S=de.getCharCode("9"),T=de.getCharCode("0");for(let $=T;$<=S;$++)B[sn][$]=$-T+2;B[sn][u]=12,B[sn][l]=13;const M=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<M.length;$++)B[cf][de.getCharCode(M[$])]=$;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<F.length;$++)de.getCharCode(F[$])>0&&(B[hi][de.getCharCode(F[$])]=$);return B}const uu=p1(L.createInt32Array(5,256));class _o{constructor(s){this.text=s}encode(){const s=de.getCharCode(" "),l=de.getCharCode(`
`);let u=ou.singletonList(vn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,b=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case de.getCharCode("\r"):y=b===l?2:0;break;case de.getCharCode("."):y=b===s?3:0;break;case de.getCharCode(","):y=b===s?4:0;break;case de.getCharCode(":"):y=b===s?5:0;break;default:y=0}y>0?(u=_o.updateStateListForPair(u,g,y),g++):u=this.updateStateListForChar(u,g)}return ou.min(u,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const u=[];for(let p of s)this.updateStateForChar(p,l,u);return _o.simplifyStates(u)}updateStateForChar(s,l,u){let p=this.text[l]&255,g=uu[s.getMode()][p]>0,y=null;for(let b=0;b<=hi;b++){let S=uu[b][p];if(S>0){if(y==null&&(y=s.endBinaryShift(l)),!g||b===s.getMode()||b===sn){const T=y.latchAndAppend(b,S);u.push(T)}if(!g&&cu[s.getMode()][b]>=0){const T=y.shiftAndAppend(b,S);u.push(T)}}}if(s.getBinaryShiftByteCount()>0||uu[s.getMode()][p]===0){let b=s.addBinaryShiftChar(l);u.push(b)}}static updateStateListForPair(s,l,u){const p=[];for(let g of s)this.updateStateForPair(g,l,u,p);return this.simplifyStates(p)}static updateStateForPair(s,l,u,p){let g=s.endBinaryShift(l);if(p.push(g.latchAndAppend(hi,u)),s.getMode()!==hi&&p.push(g.shiftAndAppend(hi,u)),u===3||u===4){let y=g.latchAndAppend(sn,16-u).latchAndAppend(sn,1);p.push(y)}if(s.getBinaryShiftByteCount()>0){let y=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);p.push(y)}}static simplifyStates(s){let l=[];for(const u of s){let p=!0;for(const g of l){if(g.isBetterThanOrEqualTo(u)){p=!1;break}u.isBetterThanOrEqualTo(g)&&(l=l.filter(y=>y!==g))}p&&l.push(u)}return l}}class Et{constructor(){}static encodeBytes(s){return Et.encode(s,Et.DEFAULT_EC_PERCENT,Et.DEFAULT_AZTEC_LAYERS)}static encode(s,l,u){let p=new _o(s).encode(),g=j.truncDivision(p.getSize()*l,100)+11,y=p.getSize()+g,b,S,T,M,F;if(u!==Et.DEFAULT_AZTEC_LAYERS){if(b=u<0,S=Math.abs(u),S>(b?Et.MAX_NB_BITS_COMPACT:Et.MAX_NB_BITS))throw new w(de.format("Illegal value %s for layers",u));T=Et.totalBitsInLayer(S,b),M=Et.WORD_SIZE[S];let Ce=T-T%M;if(F=Et.stuffBits(p,M),F.getSize()+g>Ce)throw new w("Data to large for user specified layer");if(b&&F.getSize()>M*64)throw new w("Data to large for user specified layer")}else{M=0,F=null;for(let Ce=0;;Ce++){if(Ce>Et.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(b=Ce<=3,S=b?Ce+1:Ce,T=Et.totalBitsInLayer(S,b),y>T)continue;(F==null||M!==Et.WORD_SIZE[S])&&(M=Et.WORD_SIZE[S],F=Et.stuffBits(p,M));let gt=T-T%M;if(!(b&&F.getSize()>M*64)&&F.getSize()+g<=gt)break}}let $=Et.generateCheckWords(F,T,M),q=F.getSize()/M,X=Et.generateModeMessage(b,S,q),ee=(b?11:14)+S*4,ne=new Int32Array(ee),he;if(b){he=ee;for(let Ce=0;Ce<ne.length;Ce++)ne[Ce]=Ce}else{he=ee+1+2*j.truncDivision(j.truncDivision(ee,2)-1,15);let Ce=j.truncDivision(ee,2),gt=j.truncDivision(he,2);for(let dt=0;dt<Ce;dt++){let Tn=dt+j.truncDivision(dt,15);ne[Ce-dt-1]=gt-Tn-1,ne[Ce+dt]=gt+Tn+1}}let Pe=new ye(he);for(let Ce=0,gt=0;Ce<S;Ce++){let dt=(S-Ce)*4+(b?9:12);for(let Tn=0;Tn<dt;Tn++){let pi=Tn*2;for(let Pr=0;Pr<2;Pr++)$.get(gt+pi+Pr)&&Pe.set(ne[Ce*2+Pr],ne[Ce*2+Tn]),$.get(gt+dt*2+pi+Pr)&&Pe.set(ne[Ce*2+Tn],ne[ee-1-Ce*2-Pr]),$.get(gt+dt*4+pi+Pr)&&Pe.set(ne[ee-1-Ce*2-Pr],ne[ee-1-Ce*2-Tn]),$.get(gt+dt*6+pi+Pr)&&Pe.set(ne[ee-1-Ce*2-Tn],ne[Ce*2+Pr])}gt+=dt*8}if(Et.drawModeMessage(Pe,b,he,X),b)Et.drawBullsEye(Pe,j.truncDivision(he,2),5);else{Et.drawBullsEye(Pe,j.truncDivision(he,2),7);for(let Ce=0,gt=0;Ce<j.truncDivision(ee,2)-1;Ce+=15,gt+=16)for(let dt=j.truncDivision(he,2)&1;dt<he;dt+=2)Pe.set(j.truncDivision(he,2)-gt,dt),Pe.set(j.truncDivision(he,2)+gt,dt),Pe.set(dt,j.truncDivision(he,2)-gt),Pe.set(dt,j.truncDivision(he,2)+gt)}let Re=new lf;return Re.setCompact(b),Re.setSize(he),Re.setLayers(S),Re.setCodeWords(q),Re.setMatrix(Pe),Re}static drawBullsEye(s,l,u){for(let p=0;p<u;p+=2)for(let g=l-p;g<=l+p;g++)s.set(g,l-p),s.set(g,l+p),s.set(l-p,g),s.set(l+p,g);s.set(l-u,l-u),s.set(l-u+1,l-u),s.set(l-u,l-u+1),s.set(l+u,l-u),s.set(l+u,l-u+1),s.set(l+u,l+u-1)}static generateModeMessage(s,l,u){let p=new z;return s?(p.appendBits(l-1,2),p.appendBits(u-1,6),p=Et.generateCheckWords(p,28,4)):(p.appendBits(l-1,5),p.appendBits(u-1,11),p=Et.generateCheckWords(p,40,4)),p}static drawModeMessage(s,l,u,p){let g=j.truncDivision(u,2);if(l)for(let y=0;y<7;y++){let b=g-3+y;p.get(y)&&s.set(b,g-5),p.get(y+7)&&s.set(g+5,b),p.get(20-y)&&s.set(b,g+5),p.get(27-y)&&s.set(g-5,b)}else for(let y=0;y<10;y++){let b=g-5+y+j.truncDivision(y,5);p.get(y)&&s.set(b,g-7),p.get(y+10)&&s.set(g+7,b),p.get(29-y)&&s.set(b,g+7),p.get(39-y)&&s.set(g-7,b)}}static generateCheckWords(s,l,u){let p=s.getSize()/u,g=new au(Et.getGF(u)),y=j.truncDivision(l,u),b=Et.bitsToWords(s,u,y);g.encode(b,y-p);let S=l%u,T=new z;T.appendBits(0,S);for(const M of Array.from(b))T.appendBits(M,u);return T}static bitsToWords(s,l,u){let p=new Int32Array(u),g,y;for(g=0,y=s.getSize()/l;g<y;g++){let b=0;for(let S=0;S<l;S++)b|=s.get(g*l+S)?1<<l-S-1:0;p[g]=b}return p}static getGF(s){switch(s){case 4:return Fe.AZTEC_PARAM;case 6:return Fe.AZTEC_DATA_6;case 8:return Fe.AZTEC_DATA_8;case 10:return Fe.AZTEC_DATA_10;case 12:return Fe.AZTEC_DATA_12;default:throw new w("Unsupported word size "+s)}}static stuffBits(s,l){let u=new z,p=s.getSize(),g=(1<<l)-2;for(let y=0;y<p;y+=l){let b=0;for(let S=0;S<l;S++)(y+S>=p||s.get(y+S))&&(b|=1<<l-1-S);(b&g)===g?(u.appendBits(b&g,l),y--):(b&g)===0?(u.appendBits(b|1,l),y--):u.appendBits(b,l)}return u}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Et.DEFAULT_EC_PERCENT=33,Et.DEFAULT_AZTEC_LAYERS=0,Et.MAX_NB_BITS=32,Et.MAX_NB_BITS_COMPACT=4,Et.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ao{encode(s,l,u,p){return this.encodeWithHints(s,l,u,p,null)}encodeWithHints(s,l,u,p,g){let y=su.ISO_8859_1,b=Et.DEFAULT_EC_PERCENT,S=Et.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Nr.CHARACTER_SET)&&(y=of.forName(g.get(Nr.CHARACTER_SET).toString())),g.has(Nr.ERROR_CORRECTION)&&(b=j.parseInt(g.get(Nr.ERROR_CORRECTION).toString())),g.has(Nr.AZTEC_LAYERS)&&(S=j.parseInt(g.get(Nr.AZTEC_LAYERS).toString()))),Ao.encodeLayers(s,l,u,p,y,b,S)}static encodeLayers(s,l,u,p,g,y,b){if(l!==Te.AZTEC)throw new w("Can only encode AZTEC, but got "+l);let S=Et.encode(de.getBytes(s,g),y,b);return Ao.renderResult(S,u,p)}static renderResult(s,l,u){let p=s.getMatrix();if(p==null)throw new St;let g=p.getWidth(),y=p.getHeight(),b=Math.max(l,g),S=Math.max(u,y),T=Math.min(b/g,S/y),M=(b-g*T)/2,F=(S-y*T)/2,$=new ye(b,S);for(let q=0,X=F;q<y;q++,X+=T)for(let ee=0,ne=M;ee<g;ee++,ne+=T)p.get(ee,q)&&$.setRegion(ne,X,T,T);return $}}r.AbstractExpandedDecoder=Yc,r.ArgumentException=v,r.ArithmeticException=xe,r.AztecCode=lf,r.AztecCodeReader=ya,r.AztecCodeWriter=Ao,r.AztecDecoder=It,r.AztecDetector=_s,r.AztecDetectorResult=Hc,r.AztecEncoder=Et,r.AztecHighLevelEncoder=_o,r.AztecPoint=nn,r.BarcodeFormat=Te,r.Binarizer=O,r.BinaryBitmap=E,r.BitArray=z,r.BitMatrix=ye,r.BitSource=Qc,r.BrowserAztecCodeReader=o1,r.BrowserBarcodeReader=Jd,r.BrowserCodeReader=De,r.BrowserDatamatrixCodeReader=l1,r.BrowserMultiFormatReader=wo,r.BrowserPDF417Reader=Nl,r.BrowserQRCodeReader=sf,r.BrowserQRCodeSvgWriter=Ua,r.CharacterSetECI=Y,r.ChecksumException=C,r.Code128Reader=Le,r.Code39Reader=Ir,r.DataMatrixDecodedBitStreamParser=ui,r.DataMatrixReader=di,r.DecodeHintType=H,r.DecoderResult=ae,r.DefaultGridSampler=El,r.DetectorResult=Es,r.EAN13Reader=Vn,r.EncodeHintType=Nr,r.Exception=m,r.FormatException=V,r.GenericGF=Fe,r.GenericGFPoly=Oe,r.GlobalHistogramBinarizer=Me,r.GridSampler=bl,r.GridSamplerInstance=oi,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=ie,r.ITFReader=kt,r.IllegalArgumentException=w,r.IllegalStateException=St,r.InvertedLuminanceSource=we,r.LuminanceSource=fe,r.MathUtils=xt,r.MultiFormatOneDReader=Ss,r.MultiFormatReader=Tl,r.MultiFormatWriter=u1,r.NotFoundException=J,r.OneDReader=pr,r.PDF417DecodedBitStreamParser=pe,r.PDF417DecoderErrorCorrection=tu,r.PDF417Reader=Kr,r.PDF417ResultMetadata=Ol,r.PerspectiveTransform=Hn,r.PlanarYUVLuminanceSource=Mi,r.QRCodeByteMatrix=Pl,r.QRCodeDataMask=mt,r.QRCodeDecodedBitStreamParser=Xt,r.QRCodeDecoderErrorCorrectionLevel=Dt,r.QRCodeDecoderFormatInformation=Vr,r.QRCodeEncoder=zt,r.QRCodeEncoderQRCode=Fa,r.QRCodeMaskUtil=Zt,r.QRCodeMatrixUtil=nt,r.QRCodeMode=tt,r.QRCodeReader=gn,r.QRCodeVersion=et,r.QRCodeWriter=Ps,r.RGBLuminanceSource=bo,r.RSS14Reader=Wt,r.RSSExpandedReader=Ee,r.ReaderException=Ns,r.ReedSolomonDecoder=wr,r.ReedSolomonEncoder=au,r.ReedSolomonException=ot,r.Result=Be,r.ResultMetadataType=ve,r.ResultPoint=$e,r.StringUtils=de,r.UnsupportedOperationException=_e,r.VideoInputDevice=Z,r.WhiteRectangleDetector=Ni,r.WriterException=Ft,r.ZXingArrays=L,r.ZXingCharset=of,r.ZXingInteger=j,r.ZXingStandardCharsets=su,r.ZXingStringBuilder=Ae,r.ZXingStringEncoding=ge,r.ZXingSystem=I,r.createAbstractExpandedDecoder=Zd,Object.defineProperty(r,"__esModule",{value:!0})}))})(Gu,Gu.exports)),Gu.exports}var ir=s9();const o9=Xi(ir),l9=Jy({__proto__:null,default:o9},[ir]);var b_=(function(){function e(t,r,n){if(this.formatMap=new Map([[We.QR_CODE,ir.BarcodeFormat.QR_CODE],[We.AZTEC,ir.BarcodeFormat.AZTEC],[We.CODABAR,ir.BarcodeFormat.CODABAR],[We.CODE_39,ir.BarcodeFormat.CODE_39],[We.CODE_93,ir.BarcodeFormat.CODE_93],[We.CODE_128,ir.BarcodeFormat.CODE_128],[We.DATA_MATRIX,ir.BarcodeFormat.DATA_MATRIX],[We.MAXICODE,ir.BarcodeFormat.MAXICODE],[We.ITF,ir.BarcodeFormat.ITF],[We.EAN_13,ir.BarcodeFormat.EAN_13],[We.EAN_8,ir.BarcodeFormat.EAN_8],[We.PDF_417,ir.BarcodeFormat.PDF_417],[We.RSS_14,ir.BarcodeFormat.RSS_14],[We.RSS_EXPANDED,ir.BarcodeFormat.RSS_EXPANDED],[We.UPC_A,ir.BarcodeFormat.UPC_A],[We.UPC_E,ir.BarcodeFormat.UPC_E],[We.UPC_EAN_EXTENSION,ir.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!l9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(ir.DecodeHintType.POSSIBLE_FORMATS,i),a.set(ir.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new ir.MultiFormatReader(this.verbose,this.hints),n=new ir.HTMLCanvasElementLuminanceSource(t),i=new ir.BinaryBitmap(new ir.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:OT.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),c9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})},u9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},E_=(function(){function e(t,r,n){if(this.formatMap=new Map([[We.QR_CODE,"qr_code"],[We.AZTEC,"aztec"],[We.CODABAR,"codabar"],[We.CODE_39,"code_39"],[We.CODE_93,"code_93"],[We.CODE_128,"code_128"],[We.DATA_MATRIX,"data_matrix"],[We.ITF,"itf"],[We.EAN_13,"ean_13"],[We.EAN_8,"ean_8"],[We.PDF_417,"pdf417"],[We.UPC_A,"upc_a"],[We.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return c9(this,void 0,void 0,function(){var r,n;return u9(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:OT.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var c=a[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),__=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})},A_=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},d9=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&E_.isSupported()?(this.primaryDecoder=new E_(t,n,i),this.secondaryDecoder=new b_(t,n,i)):this.primaryDecoder=new b_(t,n,i)}return e.prototype.decodeAsync=function(t){return __(this,void 0,void 0,function(){var r;return A_(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return __(this,void 0,void 0,function(){var r,n;return A_(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Ex=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),s0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})},o0=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},TT=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),f9=(function(e){Ex(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(TT),h9=(function(e){Ex(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(f9),p9=(function(e){Ex(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(TT),m9=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new h9(this.track)},e.prototype.torchFeature=function(){return new p9(this.track)},e})(),g9=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return s0(this,void 0,void 0,function(){var a,c;return o0(this,function(f){switch(f.label){case 0:return a=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return s0(this,void 0,void 0,function(){return o0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new m9(this.getFirstTrackOrFail())},e})(),v9=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return s0(this,void 0,void 0,function(){return o0(this,function(i){return[2,g9.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return s0(this,void 0,void 0,function(){var r,n;return o0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),S_=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})},C_=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},y9=(function(){function e(){}return e.failIfNotSupported=function(){return S_(this,void 0,void 0,function(){return C_(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return S_(this,void 0,void 0,function(){return C_(this,function(r){return[2,v9.create(t)]})})},e})(),x9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function h(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?a(v.value):i(v.value).then(f,h)}m((n=n.apply(e,t||[])).next())})},w9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return h([m,v])}}function h(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(a=m[0]&2?i.return:m[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,m[1])).done)return a;switch(i=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){r.label=m[1];break}if(m[0]===6&&r.label<a[1]){r.label=a[1],a=m;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(m);break}a[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},b9=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=lc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=lc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return x9(this,void 0,void 0,function(){var t,r,n,i,a,c,f;return w9(this,function(h){switch(h.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),w=0,E=v;w<E.length;w++){var C=E[w];C.enabled=!1,C.stop(),m.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=h.sent(),i=[],a=0,c=n;a<c.length;a++)f=c[a],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var c=[],f=0,h=a;f<h.length;f++){var m=h[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Sr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Sr||(Sr={}));var E9=(function(){function e(){this.state=Sr.NOT_STARTED,this.onGoingTransactionNewState=Sr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Sr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Sr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Sr.UNKNOWN:throw"Transition from unknown is not allowed";case Sr.NOT_STARTED:this.failIfNewStateIs(t,[Sr.PAUSED]);break;case Sr.SCANNING:break;case Sr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),_9=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Sr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Sr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Sr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Sr.PAUSED},e})(),A9=(function(){function e(){}return e.create=function(){return new _9(new E9)},e})(),S9=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),yi=(function(e){S9(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(r9),C9=(function(){function e(t,r){this.logger=r,this.fps=yi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=yi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?IT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ja(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),O9=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new i9(this.verbose),this.qrcode=new d9(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=A9.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=C9.create(r,this.logger);this.clearElement();var h=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=h,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:yi.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,E=this.stateManagerProxy.startTransition(Sr.SCANNING);return new Promise(function(C,O){var I=m?f.videoConstraints:w.createVideoConstraints(t);if(!I){E.cancel(),O("videoConstraints should be defined");return}var k={};(!m||f.aspectRatio)&&(k.aspectRatio=f.aspectRatio);var D={onRenderSurfaceReady:function(L,j){w.setupUi(L,j,f),w.isScanning=!0,w.foreverScan(f,n,c)}};y9.failIfNotSupported().then(function(L){L.create(I).then(function(j){return j.render(a.element,k,D).then(function(z){w.renderedCamera=z,E.execute(),C(null)}).catch(function(z){E.cancel(),O(z)})}).catch(function(j){E.cancel(),O(lc.errorGettingUserMedia(j))})}).catch(function(L){E.cancel(),O(lc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Sr.PAUSED),this.showPausedState(),(Ja(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Sr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(yi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ja(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,h=c.height,m=document.getElementById(n.elementId),v=m.clientWidth?m.clientWidth:yi.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:h,yi.FILE_SCAN_MIN_HEIGHT),E=n.computeCanvasDrawConfig(f,h,v,w);if(r){var C=n.createCanvasElement(v,w,"qr-canvas-visible");C.style.display="inline-block",m.appendChild(C);var O=C.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=v,O.canvas.height=w,O.drawImage(c,0,0,f,h,E.x,E.y,E.width,E.height)}var I=yi.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,E.width),D=Math.max(c.height,E.height),L=k+2*I,j=D+2*I,z=n.createCanvasElement(L,j);m.appendChild(z);var W=z.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=j,W.drawImage(c,0,0,f,h,I,I,k,D);try{n.qrcode.decodeRobustlyAsync(z).then(function(H){i(x_.createFromQrcodeResult(H))}).catch(a)}catch(H){a("QR code parse error, error = ".concat(H))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return b9.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!IT.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[We.QR_CODE,We.AZTEC,We.CODABAR,We.CODE_39,We.CODE_93,We.CODE_128,We.DATA_MATRIX,We.MAXICODE,We.ITF,We.EAN_13,We.EAN_8,We.PDF_417,We.RSS_14,We.RSS_EXPANDED,We.UPC_A,We.UPC_E,We.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var c=a[i];t9(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ja(t))return!0;if(!Ja(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ja(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Ja(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,r,a),f=function(m){if(m<yi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(yi.MIN_QR_BOX_SIZE,"px.")},h=function(m){return m>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};f(c.width),f(c.height),c.width=h(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Ja(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&a.height<=r,f={x:0,y:0,width:t,height:r},h=c?this.getShadedRegionBounds(t,r,a):f,m=this.createCanvasElement(h.width,h.height),v={willReadFrequently:!0},w=m.getContext("2d",v);w.canvas.width=h.width,w.canvas.height=h.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=lc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,x_.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=lc.codeParseError(i);return r(a,n9.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*c,m=this.qrRegion.height*f,v=this.qrRegion.x*c,w=this.qrRegion.y*f;this.context.drawImage(a,v,w,h,m,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(C){!C&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){E()})):E()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",c=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var h=Object.keys(t)[0];if(h!==r&&h!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(h===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(a in m){if(c(m["".concat(a)]))return{facingMode:{exact:m["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof w;throw"Invalid type of 'deviceId' = ".concat(E)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,c=(i-r)/2;return{x:a,y:c,width:t,height:r}}else{var f=t,h=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(h)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?yi.BORDER_SHADER_MATCH_COLOR:yi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Ja(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(yi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var h=5,m=40;this.insertShaderBorders(a,m,h,-h,null,0,!0),this.insertShaderBorders(a,m,h,-h,null,0,!1),this.insertShaderBorders(a,m,h,null,-h,0,!0),this.insertShaderBorders(a,m,h,null,-h,0,!1),this.insertShaderBorders(a,h,m+h,-h,null,-h,!0),this.insertShaderBorders(a,h,m+h,null,-h,-h,!0),this.insertShaderBorders(a,h,m+h,-h,null,-h,!1),this.insertShaderBorders(a,h,m+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,c,f){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=yi.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(r,"px"),h.style.height="".concat(n,"px"),i!==null&&(h.style.top="".concat(i,"px")),a!==null&&(h.style.bottom="".concat(a,"px")),f?h.style.left="".concat(c,"px"):h.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),O_;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(O_||(O_={}));const I9=({perfume:e,onSell:t})=>{const[r,n]=N.useState(null);N.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await At.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},a=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await At.rpc("sell_product",{p_id:e.id,qty:1});f?alert("Error: "+f.message):c.success?(n(c.new_stock),t(e.price10ml,`Venta: ${e.name} (10ml)`),alert("Venta exitosa. Nuevo stock: "+c.new_stock)):alert("Error: "+c.message)};return A.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[A.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),A.jsx("td",{className:"px-3 py-2 text-center",children:A.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),A.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),A.jsx("td",{className:"px-3 py-2 text-right",children:A.jsx("button",{onClick:a,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},T9=({onLogout:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[a,c]=N.useState(!1),[f,h]=N.useState(null),[m,v]=N.useState("loyalty"),[w,E]=N.useState("Corte"),[C,O]=N.useState("7000"),[I,k]=N.useState("0"),[D,L]=N.useState([]),[j,z]=N.useState(null);N.useEffect(()=>{m==="agenda"&&be()},[m]);const[W,H]=N.useState([]),[V,re]=N.useState(""),[Y,_e]=N.useState([]),[ge,de]=N.useState(""),[Ae,ye]=N.useState(""),[J,Me]=N.useState(!1);N.useEffect(()=>{m==="agenda"?be():m==="clients"?Z():m==="expenses"&&ie()},[m]);const ie=async()=>{const{data:ve,error:ae}=await At.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});ae?console.error("Error fetching expenses:",ae):_e(ve||[])},fe=async()=>{if(!ge||!Ae){alert("Ingrese descripcin y monto");return}Me(!0);try{const ve=await FD(ge),{error:ae}=await At.from("expenses").insert({description:ge,amount:parseInt(Ae),category:ve,date:new Date});if(ae)throw ae;alert(`Gasto registrado como: ${ve}`),de(""),ye(""),ie()}catch(ve){alert("Error: "+ve.message)}finally{Me(!1)}},we=async ve=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:ae}=await At.from("expenses").delete().eq("id",ve);ae||ie()},be=async()=>{const ve=new Date().toISOString().split("T")[0],{data:ae,error:ke}=await At.from("bookings").select("*").gte("date",ve).order("date",{ascending:!0}).order("time",{ascending:!0});ke?console.error("Error fetching bookings:",ke):L(ae||[])},Z=async()=>{let ve=At.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);V&&(ve=ve.ilike("phone",`%${V}%`));const{data:ae,error:ke}=await ve;ke?console.error("Error fetching clients:",ke):H(ae||[])};N.useEffect(()=>{if(m==="clients"){const ve=setTimeout(()=>{Z()},500);return()=>clearTimeout(ve)}},[V]);const le=async(ve,ae)=>{if(!window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${ae} y todo su historial. Esta accin no se puede deshacer.`))return;const{error:ke}=await At.from("clients").delete().eq("id",ve);ke?alert("Error al eliminar: "+ke.message):(alert("Cliente eliminado correctamente."),Z())};N.useEffect(()=>{if(a&&!f){const ve=new O9("reader"),ae={fps:10,qrbox:{width:250,height:250}};return ve.start({facingMode:"environment"},ae,Be,Ye).catch(ke=>{console.error("Error starting scanner:",ke),i("Error iniciando cmara: "+ke)}),()=>{ve.stop().then(()=>ve.clear()).catch(console.error)}}},[a,f]);const De=async(ve,ae,ke,Oe)=>{if(ae<=0)return;const{error:xe}=await At.from("transactions").insert({client_id:ve,amount:ae,type:ke,description:Oe});xe&&console.error("Error recording transaction:",xe)},Be=async(ve,ae)=>{if(!f){h(ve),c(!1);try{i("Procesando...");const{data:ke,error:Oe}=await At.rpc("register_visit",{token_input:ve});if(Oe)throw Oe;if(ke.success){if(i("OK: "+ke.message+" Visitas: "+ke.new_visits),m==="hair"){const xe=parseInt(C)||0,{data:Fe}=await At.from("clients").select("id").eq("member_token",ve).single();Fe&&await De(Fe.id,xe,"service",`Servicio: ${w}`)}}else i("Error: "+ke.message);setTimeout(()=>{h(null),i("")},4e3)}catch(ke){console.error(ke),i("Error al procesar el cdigo."),h(null)}}},Ye=ve=>{console.warn(ve)},Te=async()=>{if(!j||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:ve,error:ae}=await At.rpc("redeem_discount_5th",{token_input:j.member_token});if(ae)i("Error: "+ae.message);else if(i(ve.message),ve.success){const{data:ke}=await At.from("clients").select("*").eq("id",j.id).single();z(ke)}},rt=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),m==="hair"){const ve=parseInt(C)||0,{data:ae,error:ke}=await At.rpc("add_hair_service_by_phone",{phone_input:t,service_type:w,service_price:ve,notes_input:"Ingreso Manual desde Admin"});if(ke)throw ke;ae.success?(i(` Servicio registrado. Total: ${ae.new_total_services}. ${ae.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${ae.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r("")):i("Error: "+ae.message)}else{const{data:ve,error:ae}=await At.from("clients").select("*").eq("phone",t).single();let ke=0;ve&&(ke=ve.visits);const Oe=ke+1,{data:xe,error:Fe}=await At.from("clients").upsert({phone:t,visits:Oe,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(Fe)throw Fe;const ot=parseInt(I)||0;await De(xe.id,ot,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+Oe),r("")}}catch(ve){console.error(ve),i("Error: "+(ve.message||"Error desconocido"))}};return A.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12",children:[A.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[A.jsx("span",{children:"Panel de Atencin"}),A.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[A.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[A.jsx(Nj,{className:"text-green-600"}),"Registrar Visita Manual"]}),A.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),A.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[A.jsx("input",{type:"tel",value:t,onChange:ve=>r(ve.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m==="loyalty"&&A.jsx("input",{type:"number",value:I,onChange:ve=>k(ve.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),A.jsxs("button",{onClick:rt,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[A.jsx(kj,{size:18}),"Registrar"]})]}),A.jsx("div",{className:"flex justify-center mb-6",children:A.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[A.jsx("button",{onClick:()=>v("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),A.jsx("button",{onClick:()=>v("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),A.jsx("button",{onClick:()=>v("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),A.jsx("button",{onClick:()=>v("agenda"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="agenda"?"bg-pink-500 text-white":"text-stone-400 hover:text-white"}`,children:"Agenda"}),A.jsx("button",{onClick:()=>v("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),A.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"})]})}),A.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[A.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:m==="loyalty"?"Registrar Visita":m==="hair"?"Registrar Servicio Peluquera":m==="inventory"?"Gestin de Inventario":m==="clients"?"Gestin de Clientes":m==="expenses"?"Control de Inversin y Compras":"Agenda Semanal"}),m==="expenses"&&A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[A.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",value:ge,onChange:ve=>de(ve.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),A.jsx("input",{type:"number",value:Ae,onChange:ve=>ye(ve.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),A.jsx("button",{onClick:fe,disabled:J,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:J?"...":"Guardar"})]}),A.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(ve=>{const ae=Y.filter(ke=>ke.category===ve).reduce((ke,Oe)=>ke+Oe.amount,0);return A.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[A.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:ve}),A.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",ae.toLocaleString()]})]},ve)}),A.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[A.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),A.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",Y.reduce((ve,ae)=>ve+ae.amount,0).toLocaleString()]})]})]}),A.jsx("div",{className:"max-h-60 overflow-y-auto",children:A.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[A.jsx("thead",{className:"sticky top-0 bg-stone-800",children:A.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[A.jsx("th",{className:"pb-2",children:"Desc"}),A.jsx("th",{className:"pb-2",children:"Cat"}),A.jsx("th",{className:"pb-2 text-right",children:"Monto"}),A.jsx("th",{className:"pb-2 w-8"})]})}),A.jsx("tbody",{className:"divide-y divide-stone-700",children:Y.map(ve=>A.jsxs("tr",{children:[A.jsx("td",{className:"py-2",children:ve.description}),A.jsx("td",{className:"py-2",children:A.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:ve.category})}),A.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",ve.amount.toLocaleString()]}),A.jsx("td",{className:"py-2 text-right",children:A.jsx("button",{onClick:()=>we(ve.id),className:"text-red-500 hover:text-red-400",children:A.jsx(Jo,{size:12})})})]},ve.id))})]})})]}),m==="clients"&&A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:V,onChange:ve=>re(ve.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),A.jsxs("div",{className:"overflow-x-auto max-h-96",children:[A.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[A.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2",children:"Telfono"}),A.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),A.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),A.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),A.jsx("tbody",{children:W.map(ve=>A.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[A.jsx("td",{className:"px-3 py-2 text-white font-mono",children:ve.phone}),A.jsx("td",{className:"px-3 py-2 text-center",children:ve.visits}),A.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:ve.hair_service_count||0}),A.jsx("td",{className:"px-3 py-2 text-right",children:A.jsx("button",{onClick:()=>le(ve.id,ve.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:A.jsx(Jo,{size:14})})})]},ve.id))})]}),W.length===0&&A.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]})]}),m==="inventory"&&A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[A.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2",children:"Perfume"}),A.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),A.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),A.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),A.jsx("tbody",{children:ro.map(ve=>A.jsx(I9,{perfume:ve,onSell:(ae,ke)=>De(j?.id||"anon",ae,"product",ke)},ve.id))})]})}),m==="agenda"&&A.jsx("div",{className:"overflow-x-auto",children:D.length===0?A.jsx("p",{className:"text-center text-stone-400 py-8",children:"No hay horas agendadas prximas."}):A.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[A.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-3 py-2",children:"Fecha/Hora"}),A.jsx("th",{className:"px-3 py-2",children:"Cliente"}),A.jsx("th",{className:"px-3 py-2",children:"Servicio"}),A.jsx("th",{className:"px-3 py-2",children:"Contacto"})]})}),A.jsx("tbody",{children:D.map(ve=>A.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[A.jsxs("td",{className:"px-3 py-2",children:[A.jsx("div",{className:"font-bold text-white",children:ve.date}),A.jsx("div",{className:"text-amber-400",children:ve.time})]}),A.jsx("td",{className:"px-3 py-2 font-medium text-white",children:ve.name}),A.jsxs("td",{className:"px-3 py-2",children:[ve.is_home_service?A.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[A.jsx("span",{className:"text-[10px]",children:""})," Domicilio"]}):A.jsx("span",{className:"text-purple-400",children:"Salon"}),ve.address&&A.jsx("div",{className:"text-[10px] text-stone-500 truncate max-w-[100px]",children:ve.address})]}),A.jsx("td",{className:"px-3 py-2",children:A.jsx("a",{href:`https://wa.me/${ve.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-400 hover:underline flex items-center gap-1",children:ve.phone})})]},ve.id))})]})}),m==="hair"&&A.jsxs("div",{className:"mb-4 space-y-3",children:[A.jsxs("select",{value:w,onChange:ve=>E(ve.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[A.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),A.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),A.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),A.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),A.jsx("input",{type:"number",value:C,onChange:ve=>O(ve.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),m!=="inventory"&&m!=="clients"&&m!=="expenses"&&A.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${m==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[A.jsx(W3,{size:24}),m==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&A.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),j&&A.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[A.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",j.phone]}),A.jsx("div",{className:"space-y-3",children:j.discount_5th_visit_available?A.jsx("button",{onClick:Te,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):A.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),a&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[A.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:A.jsx(Jo,{size:32})}),A.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),A.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})};function NT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=NT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=NT(e))&&(n&&(n+=" "),n+=t);return n}var N9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _x(e){if(typeof e!="string")return!1;var t=N9;return t.includes(e)}var P9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],k9=new Set(P9);function PT(e){return typeof e!="string"?!1:k9.has(e)}function kT(e){return typeof e=="string"&&e.startsWith("data-")}function Si(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PT(r)||kT(r))&&(t[r]=e[r]);return t}function xc(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Si(t)}return typeof e=="object"&&!Array.isArray(e)?Si(e):null}function Ci(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(PT(r)||kT(r)||_x(r))&&(t[r]=e[r]);return t}var R9=["children","width","height","viewBox","className","style","title","desc"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function j9(e,t){if(e==null)return{};var r,n,i=M9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ax=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:c,style:f,title:h,desc:m}=e,v=j9(e,R9),w=a||{width:n,height:i,x:0,y:0},E=jt("recharts-surface",c);return N.createElement("svg",Yv({},Ci(v),{className:E,width:n,height:i,style:f,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:t}),N.createElement("title",null,h),N.createElement("desc",null,m),r)}),D9=["children","className"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function L9(e,t){if(e==null)return{};var r,n,i=B9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jr=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=L9(e,D9),a=jt("recharts-layer",n);return N.createElement("g",Xv({className:a},Ci(i),{ref:t}),r)}),RT=N.createContext(null),F9=()=>N.useContext(RT);function er(e){return function(){return e}}const jT=Math.cos,l0=Math.sin,ga=Math.sqrt,c0=Math.PI,up=2*c0,Zv=Math.PI,Qv=2*Zv,$o=1e-6,U9=Qv-$o;function MT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function z9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MT;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MT:z9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+c}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,f=this._y1,h=n-t,m=i-r,v=c-t,w=f-r,E=v*v+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(E>$o)if(!(Math.abs(w*h-m*v)>$o)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let C=n-c,O=i-f,I=h*h+m*m,k=C*C+O*O,D=Math.sqrt(I),L=Math.sqrt(E),j=a*Math.tan((Zv-Math.acos((I+E-k)/(2*D*L)))/2),z=j/L,W=j/D;Math.abs(z-1)>$o&&this._append`L${t+z*v},${r+z*w}`,this._append`A${a},${a},0,0,${+(w*C>v*O)},${this._x1=t+W*h},${this._y1=r+W*m}`}}arc(t,r,n,i,a,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),h=n*Math.sin(i),m=t+f,v=r+h,w=1^c,E=c?i-a:a-i;this._x1===null?this._append`M${m},${v}`:(Math.abs(this._x1-m)>$o||Math.abs(this._y1-v)>$o)&&this._append`L${m},${v}`,n&&(E<0&&(E=E%Qv+Qv),E>U9?this._append`A${n},${n},0,1,${w},${t-f},${r-h}A${n},${n},0,1,${w},${this._x1=m},${this._y1=v}`:E>$o&&this._append`A${n},${n},0,${+(E>=Zv)},${w},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Sx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $9(t)}function Cx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DT(e){this._context=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function dp(e){return new DT(e)}function LT(e){return e[0]}function BT(e){return e[1]}function FT(e,t){var r=er(!0),n=null,i=dp,a=null,c=Sx(f);e=typeof e=="function"?e:e===void 0?LT:er(e),t=typeof t=="function"?t:t===void 0?BT:er(t);function f(h){var m,v=(h=Cx(h)).length,w,E=!1,C;for(n==null&&(a=i(C=c())),m=0;m<=v;++m)!(m<v&&r(w=h[m],m,h))===E&&((E=!E)?a.lineStart():a.lineEnd()),E&&a.point(+e(w,m,h),+t(w,m,h));if(C)return a=null,C+""||null}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:er(+h),f):e},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:er(+h),f):t},f.defined=function(h){return arguments.length?(r=typeof h=="function"?h:er(!!h),f):r},f.curve=function(h){return arguments.length?(i=h,n!=null&&(a=i(n)),f):i},f.context=function(h){return arguments.length?(h==null?n=a=null:a=i(n=h),f):n},f}function ph(e,t,r){var n=null,i=er(!0),a=null,c=dp,f=null,h=Sx(m);e=typeof e=="function"?e:e===void 0?LT:er(+e),t=typeof t=="function"?t:er(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?BT:er(+r);function m(w){var E,C,O,I=(w=Cx(w)).length,k,D=!1,L,j=new Array(I),z=new Array(I);for(a==null&&(f=c(L=h())),E=0;E<=I;++E){if(!(E<I&&i(k=w[E],E,w))===D)if(D=!D)C=E,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),O=E-1;O>=C;--O)f.point(j[O],z[O]);f.lineEnd(),f.areaEnd()}D&&(j[E]=+e(k,E,w),z[E]=+t(k,E,w),f.point(n?+n(k,E,w):j[E],r?+r(k,E,w):z[E]))}if(L)return f=null,L+""||null}function v(){return FT().defined(i).curve(c).context(a)}return m.x=function(w){return arguments.length?(e=typeof w=="function"?w:er(+w),n=null,m):e},m.x0=function(w){return arguments.length?(e=typeof w=="function"?w:er(+w),m):e},m.x1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:er(+w),m):n},m.y=function(w){return arguments.length?(t=typeof w=="function"?w:er(+w),r=null,m):t},m.y0=function(w){return arguments.length?(t=typeof w=="function"?w:er(+w),m):t},m.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:er(+w),m):r},m.lineX0=m.lineY0=function(){return v().x(e).y(t)},m.lineY1=function(){return v().x(e).y(r)},m.lineX1=function(){return v().x(n).y(t)},m.defined=function(w){return arguments.length?(i=typeof w=="function"?w:er(!!w),m):i},m.curve=function(w){return arguments.length?(c=w,a!=null&&(f=c(a)),m):c},m.context=function(w){return arguments.length?(w==null?a=f=null:f=c(a=w),m):a},m}class UT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function W9(e){return new UT(e,!0)}function H9(e){return new UT(e,!1)}const Ox={draw(e,t){const r=ga(t/c0);e.moveTo(r,0),e.arc(0,0,r,0,up)}},V9={draw(e,t){const r=ga(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zT=ga(1/3),G9=zT*2,q9={draw(e,t){const r=ga(t/G9),n=r*zT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},K9={draw(e,t){const r=ga(t),n=-r/2;e.rect(n,n,r,r)}},Y9=.8908130915292852,$T=l0(c0/10)/l0(7*c0/10),X9=l0(up/10)*$T,Z9=-jT(up/10)*$T,Q9={draw(e,t){const r=ga(t*Y9),n=X9*r,i=Z9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const c=up*a/5,f=jT(c),h=l0(c);e.lineTo(h*r,-f*r),e.lineTo(f*n-h*i,h*n+f*i)}e.closePath()}},qm=ga(3),J9={draw(e,t){const r=-ga(t/(qm*3));e.moveTo(0,r*2),e.lineTo(-qm*r,-r),e.lineTo(qm*r,-r),e.closePath()}},$i=-.5,Wi=ga(3)/2,Jv=1/ga(12),e7=(Jv/2+1)*3,t7={draw(e,t){const r=ga(t/e7),n=r/2,i=r*Jv,a=n,c=r*Jv+r,f=-a,h=c;e.moveTo(n,i),e.lineTo(a,c),e.lineTo(f,h),e.lineTo($i*n-Wi*i,Wi*n+$i*i),e.lineTo($i*a-Wi*c,Wi*a+$i*c),e.lineTo($i*f-Wi*h,Wi*f+$i*h),e.lineTo($i*n+Wi*i,$i*i-Wi*n),e.lineTo($i*a+Wi*c,$i*c-Wi*a),e.lineTo($i*f+Wi*h,$i*h-Wi*f),e.closePath()}};function r7(e,t){let r=null,n=Sx(i);e=typeof e=="function"?e:er(e||Ox),t=typeof t=="function"?t:er(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:er(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:er(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function u0(){}function d0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WT(e){this._context=e}WT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n7(e){return new WT(e)}function HT(e){this._context=e}HT.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:d0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i7(e){return new HT(e)}function VT(e){this._context=e}VT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:d0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a7(e){return new VT(e)}function GT(e){this._context=e}GT.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s7(e){return new GT(e)}function I_(e){return e<0?-1:1}function T_(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(a*i+c*n)/(n+i);return(I_(a)+I_(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(f))||0}function N_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Km(e,t,r){var n=e._x0,i=e._y0,a=e._x1,c=e._y1,f=(a-n)/3;e._context.bezierCurveTo(n+f,i+f*t,a-f,c-f*r,a,c)}function f0(e){this._context=e}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Km(this,this._t0,N_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Km(this,N_(this,r=T_(this,e,t)),r);break;default:Km(this,this._t0,r=T_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qT(e){this._context=new KT(e)}(qT.prototype=Object.create(f0.prototype)).point=function(e,t){f0.prototype.point.call(this,t,e)};function KT(e){this._context=e}KT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function o7(e){return new f0(e)}function l7(e){return new qT(e)}function YT(e){this._context=e}YT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=P_(e),i=P_(t),a=0,c=1;c<r;++a,++c)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function P_(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),c=new Array(r);for(i[0]=0,a[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function c7(e){return new YT(e)}function fp(e,t){this._context=e,this._t=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function u7(e){return new fp(e,.5)}function d7(e){return new fp(e,0)}function f7(e){return new fp(e,1)}function al(e,t){if((c=e.length)>1)for(var r=1,n,i,a=e[t[0]],c,f=a.length;r<c;++r)for(i=a,a=e[t[r]],n=0;n<f;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ey(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function h7(e,t){return e[t]}function p7(e){const t=[];return t.key=e,t}function m7(){var e=er([]),t=ey,r=al,n=h7;function i(a){var c=Array.from(e.apply(this,arguments),p7),f,h=c.length,m=-1,v;for(const w of a)for(f=0,++m;f<h;++f)(c[f][m]=[0,+n(w,c[f].key,m,a)]).data=w;for(f=0,v=Cx(t(c));f<h;++f)c[v[f]].index=f;return r(c,v),c}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:er(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:er(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ey:typeof a=="function"?a:er(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??al,i):r},i}function g7(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,c;i<a;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}al(e,t)}}function v7(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}al(e,t)}}function y7(e,t){if(!(!((c=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,c;n<a;++n){for(var f=0,h=0,m=0;f<c;++f){for(var v=e[t[f]],w=v[n][1]||0,E=v[n-1][1]||0,C=(w-E)/2,O=0;O<f;++O){var I=e[t[O]],k=I[n][1]||0,D=I[n-1][1]||0;C+=k-D}h+=w,m+=C*w}i[n-1][1]+=i[n-1][0]=r,h&&(r-=m/h)}i[n-1][1]+=i[n-1][0]=r,al(e,t)}}var Ym={},Xm={},k_;function x7(){return k_||(k_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Xm)),Xm}var Zm={},R_;function XT(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Zm)),Zm}var Qm={},j_;function Ix(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Qm)),Qm}var Jm={},eg={},M_;function w7(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(eg)),eg}var D_;function Tx(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),r=Ix();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],c=i.length;if(c===0)return a;let f=0,h="",m="",v=!1;for(i.charCodeAt(0)===46&&(a.push(""),f++);f<c;){const w=i[f];m?w==="\\"&&f+1<c?(f++,h+=i[f]):w===m?m="":h+=w:v?w==='"'||w==="'"?m=w:w==="]"?(v=!1,a.push(h),h=""):h+=w:w==="["?(v=!0,h&&(a.push(h),h="")):w==="."?h&&(a.push(h),h=""):h+=w,f++}return h&&a.push(h),a}e.toPath=n})(Jm)),Jm}var L_;function Nx(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x7(),r=XT(),n=Ix(),i=Tx();function a(f,h,m){if(f==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const v=f[h];return v===void 0?r.isDeepKey(h)?a(f,i.toPath(h),m):m:v}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const v=f[h];return v===void 0?m:v}default:{if(Array.isArray(h))return c(f,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const v=f[h];return v===void 0?m:v}}}function c(f,h,m){if(h.length===0)return m;let v=f;for(let w=0;w<h.length;w++){if(v==null||t.isUnsafeProperty(h[w]))return m;v=v[h[w]]}return v===void 0?m:v}e.get=a})(Ym)),Ym}var tg,B_;function b7(){return B_||(B_=1,tg=Nx().get),tg}var E7=b7();const sl=Xi(E7);var _7=4;function to(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_7,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Cr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,c)=>{var f=r[c-1];return typeof f=="string"?i+f+a:f!==void 0?i+to(f)+a:i+a},"")}var hn=e=>e===0?0:e>0?1:-1,Oi=e=>typeof e=="number"&&e!=+e,cs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!Oi(e),qi=e=>Ze(e)||typeof e=="string",A7=0,ad=e=>{var t=++A7;return"".concat(e||"").concat(t)},Ln=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var a;if(cs(t)){if(r==null)return n;var c=t.indexOf("%");a=r*parseFloat(t.slice(0,c))/100}else a=+t;return Oi(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},ZT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function yr(e,t,r){return Ze(e)&&Ze(t)?to(e+r*(t-e)):t}function QT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):sl(n,t))===r)}var S7=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,c=1/0,f=-1/0,h=0,m=0,v=0;v<t;v++){var w,E;h=((w=e[v])===null||w===void 0?void 0:w.cx)||0,m=((E=e[v])===null||E===void 0?void 0:E.cy)||0,r+=h,n+=m,i+=h*m,a+=h*h,c=Math.min(c,h),f=Math.max(f,h)}var C=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:c,xmax:f,a:C,b:(n-C*r)/t}},tr=e=>e===null||typeof e>"u",Cd=e=>tr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function C7(e){return e!=null}function Od(){}var O7=["type","size","sizeType"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){I7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I7(e,t,r){return(t=T7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e,t){if(e==null)return{};var r,n,i=k7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JT={symbolCircle:Ox,symbolCross:V9,symbolDiamond:q9,symbolSquare:K9,symbolStar:Q9,symbolTriangle:J9,symbolWye:t7},R7=Math.PI/180,j7=e=>{var t="symbol".concat(Cd(e));return JT[t]||Ox},M7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*R7;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D7=(e,t)=>{JT["symbol".concat(Cd(e))]=t},hp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=P7(e,O7),a=U_(U_({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var E=j7(c),C=r7().type(E).size(M7(r,n,c)),O=C();if(O!==null)return O},{className:h,cx:m,cy:v}=a,w=Ci(a);return Ze(m)&&Ze(v)&&Ze(r)?N.createElement("path",ty({},w,{className:jt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};hp.registerSymbol=D7;var eN=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,L7=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{_x(i)&&(n[i]=(a=>r[i](r,a)))}),n},B7=(e,t,r)=>n=>(e(t,r,n),null),kc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];_x(i)&&typeof a=="function"&&(n||(n={}),n[i]=B7(a,t,r))}),n},F7=e=>Array.isArray(e)&&e.length>0;function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7(e,t,r){return(t=$7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t){var r=U7({},e),n=t,i=Object.keys(t),a=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return a}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){V7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V7(e,t,r){return(t=G7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G7(e){var t=q7(e,"string");return typeof t=="symbol"?t:t+""}function q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vi=32,K7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y7(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Vi/2,a=Vi/6,c=Vi/3,f=t.inactive?n:t.color,h=r??t.type;if(h==="none")return null;if(h==="plainline"){var m;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:Vi,y2:i,className:"recharts-legend-icon"})}if(h==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Vi,"M").concat(2*c,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(h==="rect")return N.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var v=H7({},t);return delete v.legendIcon,N.cloneElement(t.legendIcon,v)}return N.createElement(hp,{fill:f,cx:i,cy:i,size:Vi,sizeType:"diameter",type:h})}function X7(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:c}=e,f={x:0,y:0,width:Vi,height:Vi},h={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,w)=>{var E=v.formatter||i,C=jt({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var O=v.inactive?a:v.color,I=E?E(v.value,v,w):v.value;return N.createElement("li",h0({className:C,style:h,key:"legend-item-".concat(w)},kc(e,v,w)),N.createElement(Ax,{width:r,height:r,viewBox:f,style:m,"aria-label":"".concat(I," legend icon")},N.createElement(Y7,{data:v,iconType:c,inactiveColor:a})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},I))})}var Z7=e=>{var t=Mr(e,K7),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:a},N.createElement(X7,h0({},t,{payload:r})))},rg={},ng={},W_;function Q7(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const c=r[a],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(ng)),ng}var ig={},H_;function tN(){return H_||(H_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ig)),ig}var ag={},sg={},og={},V_;function J7(){return V_||(V_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(og)),og}var G_;function Px(){return G_||(G_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(sg)),sg}var lg={},q_;function eL(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(lg)),lg}var K_;function tL(){return K_||(K_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Px(),r=eL();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ag)),ag}var cg={},ug={},Y_;function rL(){return Y_||(Y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nx();function r(n){return function(i){return t.get(i,n)}}e.property=r})(ug)),ug}var dg={},fg={},hg={},pg={},X_;function rN(){return X_||(X_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pg)),pg}var mg={},Z_;function nN(){return Z_||(Z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(mg)),mg}var gg={},Q_;function iN(){return Q_||(Q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(gg)),gg}var J_;function nL(){return J_||(J_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN(),r=nN(),n=iN();function i(v,w,E){return typeof E!="function"?i(v,w,()=>{}):a(v,w,function C(O,I,k,D,L,j){const z=E(O,I,k,D,L,j);return z!==void 0?!!z:a(O,I,C,j)},new Map)}function a(v,w,E,C){if(w===v)return!0;switch(typeof w){case"object":return c(v,w,E,C);case"function":return Object.keys(w).length>0?a(v,{...w},E,C):n.eq(v,w);default:return t.isObject(v)?typeof w=="string"?w==="":!0:n.eq(v,w)}}function c(v,w,E,C){if(w==null)return!0;if(Array.isArray(w))return h(v,w,E,C);if(w instanceof Map)return f(v,w,E,C);if(w instanceof Set)return m(v,w,E,C);const O=Object.keys(w);if(v==null||r.isPrimitive(v))return O.length===0;if(O.length===0)return!0;if(C?.has(w))return C.get(w)===v;C?.set(w,v);try{for(let I=0;I<O.length;I++){const k=O[I];if(!r.isPrimitive(v)&&!(k in v)||w[k]===void 0&&v[k]!==void 0||w[k]===null&&v[k]!==null||!E(v[k],w[k],k,v,w,C))return!1}return!0}finally{C?.delete(w)}}function f(v,w,E,C){if(w.size===0)return!0;if(!(v instanceof Map))return!1;for(const[O,I]of w.entries()){const k=v.get(O);if(E(k,I,O,v,w,C)===!1)return!1}return!0}function h(v,w,E,C){if(w.length===0)return!0;if(!Array.isArray(v))return!1;const O=new Set;for(let I=0;I<w.length;I++){const k=w[I];let D=!1;for(let L=0;L<v.length;L++){if(O.has(L))continue;const j=v[L];let z=!1;if(E(j,k,I,v,w,C)&&(z=!0),z){O.add(L),D=!0;break}}if(!D)return!1}return!0}function m(v,w,E,C){return w.size===0?!0:v instanceof Set?h([...v],[...w],E,C):!1}e.isMatchWith=i,e.isSetMatch=m})(hg)),hg}var eA;function aN(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nL();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(fg)),fg}var vg={},yg={},xg={},tA;function iL(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xg)),xg}var wg={},rA;function sN(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(wg)),wg}var bg={},nA;function oN(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",c="[object Symbol]",f="[object Date]",h="[object Map]",m="[object Set]",v="[object Array]",w="[object Function]",E="[object ArrayBuffer]",C="[object Object]",O="[object Error]",I="[object DataView]",k="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",z="[object BigUint64Array]",W="[object Int8Array]",H="[object Int16Array]",V="[object Int32Array]",re="[object BigInt64Array]",Y="[object Float32Array]",_e="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=E,e.arrayTag=v,e.bigInt64ArrayTag=re,e.bigUint64ArrayTag=z,e.booleanTag=i,e.dataViewTag=I,e.dateTag=f,e.errorTag=O,e.float32ArrayTag=Y,e.float64ArrayTag=_e,e.functionTag=w,e.int16ArrayTag=H,e.int32ArrayTag=V,e.int8ArrayTag=W,e.mapTag=h,e.numberTag=n,e.objectTag=C,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=L,e.uint32ArrayTag=j,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=D})(bg)),bg}var Eg={},iA;function aL(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Eg)),Eg}var aA;function lN(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iL(),r=sN(),n=oN(),i=nN(),a=aL();function c(v,w){return f(v,void 0,v,new Map,w)}function f(v,w,E,C=new Map,O=void 0){const I=O?.(v,w,E,C);if(I!==void 0)return I;if(i.isPrimitive(v))return v;if(C.has(v))return C.get(v);if(Array.isArray(v)){const k=new Array(v.length);C.set(v,k);for(let D=0;D<v.length;D++)k[D]=f(v[D],D,E,C,O);return Object.hasOwn(v,"index")&&(k.index=v.index),Object.hasOwn(v,"input")&&(k.input=v.input),k}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const k=new RegExp(v.source,v.flags);return k.lastIndex=v.lastIndex,k}if(v instanceof Map){const k=new Map;C.set(v,k);for(const[D,L]of v)k.set(D,f(L,D,E,C,O));return k}if(v instanceof Set){const k=new Set;C.set(v,k);for(const D of v)k.add(f(D,void 0,E,C,O));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(a.isTypedArray(v)){const k=new(Object.getPrototypeOf(v)).constructor(v.length);C.set(v,k);for(let D=0;D<v.length;D++)k[D]=f(v[D],D,E,C,O);return k}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const k=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return C.set(v,k),h(k,v,E,C,O),k}if(typeof File<"u"&&v instanceof File){const k=new File([v],v.name,{type:v.type});return C.set(v,k),h(k,v,E,C,O),k}if(typeof Blob<"u"&&v instanceof Blob){const k=new Blob([v],{type:v.type});return C.set(v,k),h(k,v,E,C,O),k}if(v instanceof Error){const k=new v.constructor;return C.set(v,k),k.message=v.message,k.name=v.name,k.stack=v.stack,k.cause=v.cause,h(k,v,E,C,O),k}if(v instanceof Boolean){const k=new Boolean(v.valueOf());return C.set(v,k),h(k,v,E,C,O),k}if(v instanceof Number){const k=new Number(v.valueOf());return C.set(v,k),h(k,v,E,C,O),k}if(v instanceof String){const k=new String(v.valueOf());return C.set(v,k),h(k,v,E,C,O),k}if(typeof v=="object"&&m(v)){const k=Object.create(Object.getPrototypeOf(v));return C.set(v,k),h(k,v,E,C,O),k}return v}function h(v,w,E=v,C,O){const I=[...Object.keys(w),...t.getSymbols(w)];for(let k=0;k<I.length;k++){const D=I[k],L=Object.getOwnPropertyDescriptor(v,D);(L==null||L.writable)&&(v[D]=f(w[D],D,E,C,O))}}function m(v){switch(r.getTag(v)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=h})(yg)),yg}var sA;function sL(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(vg)),vg}var oA;function oL(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN(),r=sL();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(dg)),dg}var _g={},Ag={},Sg={},lA;function lL(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN(),r=oN();function n(i,a){return t.cloneDeepWith(i,(c,f,h,m)=>{const v=a?.(c,f,h,m);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new i.constructor(i?.valueOf());return t.copyProperties(w,i),w}case r.argumentsTag:{const w={};return t.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}e.cloneDeepWith=n})(Sg)),Sg}var cA;function cL(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ag)),Ag}var Cg={},Og={},uA;function cN(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Og)),Og}var Ig={},dA;function uL(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ig)),Ig}var fA;function dL(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XT(),r=cN(),n=uL(),i=Tx();function a(c,f){let h;if(Array.isArray(f)?h=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?h=i.toPath(f):h=[f],h.length===0)return!1;let m=c;for(let v=0;v<h.length;v++){const w=h[v];if((m==null||!Object.hasOwn(m,w))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(w)&&w<m.length))return!1;m=m[w]}return!0}e.has=a})(Cg)),Cg}var hA;function fL(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aN(),r=Ix(),n=cL(),i=Nx(),a=dL();function c(f,h){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return h=n.cloneDeep(h),function(m){const v=i.get(m,f);return v===void 0?a.has(m,f):h===void 0?v===void 0:t.isMatch(v,h)}}e.matchesProperty=c})(_g)),_g}var pA;function hL(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN(),r=rL(),n=oL(),i=fL();function a(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=a})(cg)),cg}var mA;function pL(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q7(),r=tN(),n=tL(),i=hL();function a(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=a})(rg)),rg}var Tg,gA;function mL(){return gA||(gA=1,Tg=pL().uniqBy),Tg}var gL=mL();const vA=Xi(gL);function uN(e,t,r){return t===!0?vA(e,r):typeof t=="function"?vA(e,t):e}var Ng={exports:{}},Pg={},kg={exports:{}},Rg={};var yA;function vL(){if(yA)return Rg;yA=1;var e=Oc();function t(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function f(w,E){var C=E(),O=n({inst:{value:C,getSnapshot:E}}),I=O[0].inst,k=O[1];return a(function(){I.value=C,I.getSnapshot=E,h(I)&&k({inst:I})},[w,C,E]),i(function(){return h(I)&&k({inst:I}),w(function(){h(I)&&k({inst:I})})},[w]),c(C),C}function h(w){var E=w.getSnapshot;w=w.value;try{var C=E();return!r(w,C)}catch{return!0}}function m(w,E){return E()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Rg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Rg}var xA;function yL(){return xA||(xA=1,kg.exports=vL()),kg.exports}var wA;function xL(){if(wA)return Pg;wA=1;var e=Oc(),t=yL();function r(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,f=e.useMemo,h=e.useDebugValue;return Pg.useSyncExternalStoreWithSelector=function(m,v,w,E,C){var O=a(null);if(O.current===null){var I={hasValue:!1,value:null};O.current=I}else I=O.current;O=f(function(){function D(H){if(!L){if(L=!0,j=H,H=E(H),C!==void 0&&I.hasValue){var V=I.value;if(C(V,H))return z=V}return z=H}if(V=z,n(j,H))return V;var re=E(H);return C!==void 0&&C(V,re)?(j=H,V):(j=H,z=re)}var L=!1,j,z,W=w===void 0?null:w;return[function(){return D(v())},W===null?void 0:function(){return D(W())}]},[v,w,E,C]);var k=i(m,O[0],O[1]);return c(function(){I.hasValue=!0,I.value=k},[k]),h(k),k},Pg}var bA;function wL(){return bA||(bA=1,Ng.exports=xL()),Ng.exports}var bL=wL(),kx=N.createContext(null),EL=e=>e,qt=()=>{var e=N.useContext(kx);return e?e.store.dispatch:EL},zh=()=>{},_L=()=>zh,AL=(e,t)=>e===t;function He(e){var t=N.useContext(kx);return bL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_L,t?t.store.getState:zh,t?t.store.getState:zh,t?e:zh,AL)}function SL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function CL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function OL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var EA=e=>Array.isArray(e)?e:[e];function IL(e){const t=Array.isArray(e[0])?e[0]:e;return OL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TL(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var NL=class{constructor(e){this.value=e}deref(){return this.value}},PL=typeof WeakRef<"u"?WeakRef:NL,kL=0,_A=1;function mh(){return{s:kL,v:void 0,o:null,p:null}}function dN(e,t={}){let r=mh();const{resultEqualityCheck:n}=t;let i,a=0;function c(){let f=r;const{length:h}=arguments;for(let w=0,E=h;w<E;w++){const C=arguments[w];if(typeof C=="function"||typeof C=="object"&&C!==null){let O=f.o;O===null&&(f.o=O=new WeakMap);const I=O.get(C);I===void 0?(f=mh(),O.set(C,f)):f=I}else{let O=f.p;O===null&&(f.p=O=new Map);const I=O.get(C);I===void 0?(f=mh(),O.set(C,f)):f=I}}const m=f;let v;if(f.s===_A)v=f.v;else if(v=e.apply(null,arguments),a++,n){const w=i?.deref?.()??i;w!=null&&n(w,v)&&(v=w,a!==0&&a--),i=typeof v=="object"&&v!==null||typeof v=="function"?new PL(v):v}return m.s=_A,m.v=v,v}return c.clearCache=()=>{r=mh(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function RL(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,c=0,f,h={},m=i.pop();typeof m=="object"&&(h=m,m=i.pop()),SL(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const v={...r,...h},{memoize:w,memoizeOptions:E=[],argsMemoize:C=dN,argsMemoizeOptions:O=[]}=v,I=EA(E),k=EA(O),D=IL(i),L=w(function(){return a++,m.apply(null,arguments)},...I),j=C(function(){c++;const W=TL(D,arguments);return f=L.apply(null,W),f},...k);return Object.assign(j,{resultFunc:m,memoizedResultFunc:L,dependencies:D,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:w,argsMemoize:C})};return Object.assign(n,{withTypes:()=>n}),n}var ue=RL(dN),jL=Object.assign((e,t=ue)=>{CL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((c,f,h)=>(c[r[h]]=f,c),{}))},{withTypes:()=>jL}),jg={},Mg={},Dg={},AA;function ML(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?f-c:c-f}return 0};e.compareValues=r})(Dg)),Dg}var Lg={},Bg={},SA;function fN(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bg)),Bg}var CA;function DL(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,c){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||c!=null&&Object.hasOwn(c,a)}e.isKey=i})(Lg)),Lg}var OA;function LL(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ML(),r=DL(),n=Tx();function i(a,c,f,h){if(a==null)return[];f=h?void 0:f,Array.isArray(a)||(a=Object.values(a)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(C=>String(C));const m=(C,O)=>{let I=C;for(let k=0;k<O.length&&I!=null;++k)I=I[O[k]];return I},v=(C,O)=>O==null||C==null?O:typeof C=="object"&&"key"in C?Object.hasOwn(O,C.key)?O[C.key]:m(O,C.path):typeof C=="function"?C(O):Array.isArray(C)?m(O,C):typeof O=="object"?O[C]:O,w=c.map(C=>(Array.isArray(C)&&C.length===1&&(C=C[0]),C==null||typeof C=="function"||Array.isArray(C)||r.isKey(C)?C:{key:C,path:n.toPath(C)}));return a.map(C=>({original:C,criteria:w.map(O=>v(O,C))})).slice().sort((C,O)=>{for(let I=0;I<w.length;I++){const k=t.compareValues(C.criteria[I],O.criteria[I],f[I]);if(k!==0)return k}return 0}).map(C=>C.original)}e.orderBy=i})(Mg)),Mg}var Fg={},IA;function BL(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),c=(f,h)=>{for(let m=0;m<f.length;m++){const v=f[m];Array.isArray(v)&&h<a?c(v,h+1):i.push(v)}};return c(r,0),i}e.flatten=t})(Fg)),Fg}var Ug={},TA;function hN(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN(),r=Px(),n=rN(),i=iN();function a(c,f,h){return n.isObject(h)&&(typeof f=="number"&&r.isArrayLike(h)&&t.isIndex(f)&&f<h.length||typeof f=="string"&&f in h)?i.eq(h[f],c):!1}e.isIterateeCall=a})(Ug)),Ug}var NA;function FL(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LL(),r=BL(),n=hN();function i(a,...c){const f=c.length;return f>1&&n.isIterateeCall(a,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(a,r.flatten(c),["asc"])}e.sortBy=i})(jg)),jg}var zg,PA;function UL(){return PA||(PA=1,zg=FL().sortBy),zg}var zL=UL();const pp=Xi(zL);var pN=e=>e.legend.settings,$L=e=>e.legend.size,WL=e=>e.legend.payload,HL=ue([WL,pN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?pp(n,r):n});function VL(){return He(HL)}var gh=1;function mN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),c={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(c.height-t.height)>gh||Math.abs(c.left-t.left)>gh||Math.abs(c.top-t.top)>gh||Math.abs(c.width-t.width)>gh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GL=typeof Symbol=="function"&&Symbol.observable||"@@observable",kA=GL,$g=()=>Math.random().toString(36).substring(7).split("").join("."),qL={INIT:`@@redux/INIT${$g()}`,REPLACE:`@@redux/REPLACE${$g()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$g()}`},p0=qL;function Rx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gN(e,t,r){if(typeof e!="function")throw new Error(_n(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(_n(1));return r(gN)(e,t)}let n=e,i=t,a=new Map,c=a,f=0,h=!1;function m(){c===a&&(c=new Map,a.forEach((k,D)=>{c.set(D,k)}))}function v(){if(h)throw new Error(_n(3));return i}function w(k){if(typeof k!="function")throw new Error(_n(4));if(h)throw new Error(_n(5));let D=!0;m();const L=f++;return c.set(L,k),function(){if(D){if(h)throw new Error(_n(6));D=!1,m(),c.delete(L),a=null}}}function E(k){if(!Rx(k))throw new Error(_n(7));if(typeof k.type>"u")throw new Error(_n(8));if(typeof k.type!="string")throw new Error(_n(17));if(h)throw new Error(_n(9));try{h=!0,i=n(i,k)}finally{h=!1}return(a=c).forEach(L=>{L()}),k}function C(k){if(typeof k!="function")throw new Error(_n(10));n=k,E({type:p0.REPLACE})}function O(){const k=w;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(_n(11));function L(){const z=D;z.next&&z.next(v())}return L(),{unsubscribe:k(L)}},[kA](){return this}}}return E({type:p0.INIT}),{dispatch:E,subscribe:w,getState:v,replaceReducer:C,[kA]:O}}function KL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:p0.INIT})>"u")throw new Error(_n(12));if(typeof r(void 0,{type:p0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function vN(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{KL(r)}catch(a){i=a}return function(c={},f){if(i)throw i;let h=!1;const m={};for(let v=0;v<n.length;v++){const w=n[v],E=r[w],C=c[w],O=E(C,f);if(typeof O>"u")throw f&&f.type,new Error(_n(14));m[w]=O,h=h||O!==C}return h=h||n.length!==Object.keys(c).length,h?m:c}}function m0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function YL(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(_n(15))};const c={getState:i.getState,dispatch:(h,...m)=>a(h,...m)},f=e.map(h=>h(c));return a=m0(...f)(i.dispatch),{...i,dispatch:a}}}function yN(e){return Rx(e)&&"type"in e&&typeof e.type=="string"}var xN=Symbol.for("immer-nothing"),RA=Symbol.for("immer-draftable"),Wn=Symbol.for("immer-state");function ua(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ei=Object,wc=Ei.getPrototypeOf,g0="constructor",mp="prototype",ry="configurable",v0="enumerable",$h="writable",sd="value",us=e=>!!e&&!!e[Wn];function pa(e){return e?wN(e)||vp(e)||!!e[RA]||!!e[g0]?.[RA]||yp(e)||xp(e):!1}var XL=Ei[mp][g0].toString(),jA=new WeakMap;function wN(e){if(!e||!jx(e))return!1;const t=wc(e);if(t===null||t===Ei[mp])return!0;const r=Ei.hasOwnProperty.call(t,g0)&&t[g0];if(r===Object)return!0;if(!sc(r))return!1;let n=jA.get(r);return n===void 0&&(n=Function.toString.call(r),jA.set(r,n)),n===XL}function gp(e,t,r=!0){Id(e)===0?(r?Reflect.ownKeys(e):Ei.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Id(e){const t=e[Wn];return t?t.type_:vp(e)?1:yp(e)?2:xp(e)?3:0}var MA=(e,t,r=Id(e))=>r===2?e.has(t):Ei[mp].hasOwnProperty.call(e,t),ny=(e,t,r=Id(e))=>r===2?e.get(t):e[t],y0=(e,t,r,n=Id(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function ZL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vp=Array.isArray,yp=e=>e instanceof Map,xp=e=>e instanceof Set,jx=e=>typeof e=="object",sc=e=>typeof e=="function",Wg=e=>typeof e=="boolean";function QL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var es=e=>e.copy_||e.base_,Mx=e=>e.modified_?e.copy_:e.base_;function iy(e,t){if(yp(e))return new Map(e);if(xp(e))return new Set(e);if(vp(e))return Array[mp].slice.call(e);const r=wN(e);if(t===!0||t==="class_only"&&!r){const n=Ei.getOwnPropertyDescriptors(e);delete n[Wn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f[$h]===!1&&(f[$h]=!0,f[ry]=!0),(f.get||f.set)&&(n[c]={[ry]:!0,[$h]:!0,[v0]:f[v0],[sd]:e[c]})}return Ei.create(wc(e),n)}else{const n=wc(e);if(n!==null&&r)return{...e};const i=Ei.create(n);return Ei.assign(i,e)}}function Dx(e,t=!1){return wp(e)||us(e)||!pa(e)||(Id(e)>1&&Ei.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),Ei.freeze(e),t&&gp(e,(r,n)=>{Dx(n,!0)},!1)),e}function JL(){ua(2)}var vh={[sd]:JL};function wp(e){return e===null||!jx(e)?!0:Ei.isFrozen(e)}var x0="MapSet",ay="Patches",DA="ArrayMethods",bN={};function ol(e){const t=bN[e];return t||ua(0,e),t}var LA=e=>!!bN[e],od,EN=()=>od,eB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:LA(x0)?ol(x0):void 0,arrayMethodsPlugin_:LA(DA)?ol(DA):void 0});function BA(e,t){t&&(e.patchPlugin_=ol(ay),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sy(e){oy(e),e.drafts_.forEach(tB),e.drafts_=null}function oy(e){e===od&&(od=e.parent_)}var FA=e=>od=eB(od,e);function tB(e){const t=e[Wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Wn].modified_&&(sy(t),ua(4)),pa(e)&&(e=zA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Wn].base_,e,t)}else e=zA(t,r);return rB(t,e,!0),sy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xN?e:void 0}function zA(e,t){if(wp(t))return t;const r=t[Wn];if(!r)return w0(t,e.handledSet_,e);if(!bp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);SN(r,e)}return r.copy_}function rB(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dx(t,r)}function _N(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var bp=(e,t)=>e.scope_===t,nB=[];function AN(e,t,r,n){const i=es(e),a=e.type_;if(n!==void 0&&ny(i,n,a)===t){y0(i,n,r,a);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;gp(i,(h,m)=>{if(us(m)){const v=f.get(m)||[];v.push(h),f.set(m,v)}})}const c=e.draftLocations_.get(t)??nB;for(const f of c)y0(i,f,r,a)}function iB(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!bp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const c=Mx(a);AN(e,a.draft_??a,c,r),SN(a,i)})}function SN(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}_N(e)}}function aB(e,t,r){const{scope_:n}=e;if(us(r)){const i=r[Wn];bp(i,n)&&i.callbacks_.push(function(){Wh(e);const c=Mx(i);AN(e,r,c,t)})}else pa(r)&&e.callbacks_.push(function(){const a=es(e);e.type_===3?a.has(r)&&w0(r,n.handledSet_,n):ny(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&w0(ny(e.copy_,t,e.type_),n.handledSet_,n)})}function w0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||us(e)||t.has(e)||!pa(e)||wp(e)||(t.add(e),gp(e,(n,i)=>{if(us(i)){const a=i[Wn];if(bp(a,r)){const c=Mx(a);y0(e,n,c,e.type_),_N(a)}}else pa(i)&&w0(i,t,r)})),e}function sB(e,t){const r=vp(e),n={type_:r?1:0,scope_:t?t.scope_:EN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=b0;r&&(i=[n],a=ld);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,[f,n]}var b0={get(e,t){if(t===Wn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=es(e);if(!MA(i,t,e.type_))return oB(e,i,t);const a=i[t];if(e.finalized_||!pa(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&QL(t))return a;if(a===Hg(e.base_,t)){Wh(e);const c=e.type_===1?+t:t,f=cy(e.scope_,a,e,c);return e.copy_[c]=f}return a},has(e,t){return t in es(e)},ownKeys(e){return Reflect.ownKeys(es(e))},set(e,t,r){const n=CN(es(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Hg(es(e),t),a=i?.[Wn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(ZL(r,i)&&(r!==void 0||MA(e.base_,t,e.type_)))return!0;Wh(e),ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),aB(e,t,r)),!0},deleteProperty(e,t){return Wh(e),Hg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ly(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=es(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[$h]:!0,[ry]:e.type_!==1||t!=="length",[v0]:n[v0],[sd]:r[t]}},defineProperty(){ua(11)},getPrototypeOf(e){return wc(e.base_)},setPrototypeOf(){ua(12)}},ld={};for(let e in b0){let t=b0[e];ld[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ld.deleteProperty=function(e,t){return ld.set.call(this,e,t,void 0)};ld.set=function(e,t,r){return b0.set.call(this,e[0],t,r,e[0])};function Hg(e,t){const r=e[Wn];return(r?es(r):e)[t]}function oB(e,t,r){const n=CN(t,r);return n?sd in n?n[sd]:n.get?.call(e.draft_):void 0}function CN(e,t){if(!(t in e))return;let r=wc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=wc(r)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function Wh(e){e.copy_||(e.assigned_=new Map,e.copy_=iy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(sc(r)&&!sc(n)){const c=n;n=r;const f=this;return function(m=c,...v){return f.produce(m,w=>n.call(this,w,...v))}}sc(n)||ua(6),i!==void 0&&!sc(i)&&ua(7);let a;if(pa(r)){const c=FA(this),f=cy(c,r,void 0);let h=!0;try{a=n(f),h=!1}finally{h?sy(c):oy(c)}return BA(c,i),UA(a,c)}else if(!r||!jx(r)){if(a=n(r),a===void 0&&(a=r),a===xN&&(a=void 0),this.autoFreeze_&&Dx(a,!0),i){const c=[],f=[];ol(ay).generateReplacementPatches_(r,a,{patches_:c,inversePatches_:f}),i(c,f)}return a}else ua(1,r)},this.produceWithPatches=(r,n)=>{if(sc(r))return(f,...h)=>this.produceWithPatches(f,m=>r(m,...h));let i,a;return[this.produce(r,n,(f,h)=>{i=f,a=h}),i,a]},Wg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){pa(t)||ua(8),us(t)&&(t=ha(t));const r=FA(this),n=cy(r,t,void 0);return n[Wn].isManual_=!0,oy(r),n}finishDraft(t,r){const n=t&&t[Wn];(!n||!n.isManual_)&&ua(9);const{scope_:i}=n;return BA(i,r),UA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=ol(ay).applyPatches_;return us(t)?i(t,r):this.produce(t,a=>i(a,r))}};function cy(e,t,r,n){const[i,a]=yp(t)?ol(x0).proxyMap_(t,r):xp(t)?ol(x0).proxySet_(t,r):sB(t,r);return(r?.scope_??EN()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?iB(r,a,n):a.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:m}=h;a.modified_&&m&&m.generatePatches_(a,[],h)}),i}function ha(e){return us(e)||ua(10,e),ON(e)}function ON(e){if(!pa(e)||wp(e))return e;const t=e[Wn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=iy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=iy(e,!0);return gp(r,(i,a)=>{y0(r,i,ON(a))},n),t&&(t.finalized_=!1),r}var cB=new lB,IN=cB.produce;function TN(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var uB=TN(),dB=TN,fB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?m0:m0.apply(null,arguments)};function Ki(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(_i(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>yN(n)&&n.type===e,r}var NN=class qu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qu.prototype)}static get[Symbol.species](){return qu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qu(...t[0].concat(this)):new qu(...t.concat(this))}};function $A(e){return pa(e)?IN(e,()=>{}):e}function yh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function hB(e){return typeof e=="boolean"}var pB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new NN;return r&&(hB(r)?c.push(uB):c.push(dB(r.extraArgument))),c},PN="RTK_autoBatch",ur=()=>e=>({payload:e,meta:{[PN]:!0}}),WA=e=>t=>{setTimeout(t,e)},kN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const f=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WA(10):e.type==="callback"?e.queueNotification:WA(e.timeout),m=()=>{c=!1,a&&(a=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const w=()=>i&&v(),E=n.subscribe(w);return f.add(v),()=>{E(),f.delete(v)}},dispatch(v){try{return i=!v?.meta?.[PN],a=!i,a&&(c||(c=!0,h(m))),n.dispatch(v)}finally{i=!0}}})},mB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NN(e);return n&&i.push(kN(typeof n=="object"?n:void 0)),i};function gB(e){const t=pB(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Rx(r))f=vN(r);else throw new Error(_i(1));let h;typeof n=="function"?h=n(t):h=t();let m=m0;i&&(m=fB({trace:!1,...typeof i=="object"&&i}));const v=YL(...h),w=mB(v);let E=typeof c=="function"?c(w):w();const C=m(...E);return gN(f,a,C)}function RN(e){const t={},r=[];let n;const i={addCase(a,c){const f=typeof a=="string"?a:a.type;if(!f)throw new Error(_i(28));if(f in t)throw new Error(_i(29));return t[f]=c,i},addAsyncThunk(a,c){return c.pending&&(t[a.pending.type]=c.pending),c.rejected&&(t[a.rejected.type]=c.rejected),c.fulfilled&&(t[a.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:a.settled,reducer:c.settled}),i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function vB(e){return typeof e=="function"}function yB(e,t){let[r,n,i]=RN(t),a;if(vB(e))a=()=>$A(e());else{const f=$A(e);a=()=>f}function c(f=a(),h){let m=[r[h.type],...n.filter(({matcher:v})=>v(h)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[i]),m.reduce((v,w)=>{if(w)if(us(v)){const C=w(v,h);return C===void 0?v:C}else{if(pa(v))return IN(v,E=>w(E,h));{const E=w(v,h);if(E===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return v},f)}return c.getInitialState=a,c}var xB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wB=(e=21)=>{let t="",r=e;for(;r--;)t+=xB[Math.random()*64|0];return t},bB=Symbol.for("rtk-slice-createasyncthunk");function EB(e,t){return`${e}/${t}`}function _B({creators:e}={}){const t=e?.asyncThunk?.[bB];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(_i(11));const c=(typeof n.reducers=="function"?n.reducers(SB()):n.reducers)||{},f=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(j,z){const W=typeof j=="string"?j:j.type;if(!W)throw new Error(_i(12));if(W in h.sliceCaseReducersByType)throw new Error(_i(13));return h.sliceCaseReducersByType[W]=z,m},addMatcher(j,z){return h.sliceMatchers.push({matcher:j,reducer:z}),m},exposeAction(j,z){return h.actionCreators[j]=z,m},exposeCaseReducer(j,z){return h.sliceCaseReducersByName[j]=z,m}};f.forEach(j=>{const z=c[j],W={reducerName:j,type:EB(i,j),createNotation:typeof n.reducers=="function"};OB(z)?TB(W,z,m,t):CB(W,z,m)});function v(){const[j={},z=[],W=void 0]=typeof n.extraReducers=="function"?RN(n.extraReducers):[n.extraReducers],H={...j,...h.sliceCaseReducersByType};return yB(n.initialState,V=>{for(let re in H)V.addCase(re,H[re]);for(let re of h.sliceMatchers)V.addMatcher(re.matcher,re.reducer);for(let re of z)V.addMatcher(re.matcher,re.reducer);W&&V.addDefaultCase(W)})}const w=j=>j,E=new Map,C=new WeakMap;let O;function I(j,z){return O||(O=v()),O(j,z)}function k(){return O||(O=v()),O.getInitialState()}function D(j,z=!1){function W(V){let re=V[j];return typeof re>"u"&&z&&(re=yh(C,W,k)),re}function H(V=w){const re=yh(E,z,()=>new WeakMap);return yh(re,V,()=>{const Y={};for(const[_e,ge]of Object.entries(n.selectors??{}))Y[_e]=AB(ge,V,()=>yh(C,V,k),z);return Y})}return{reducerPath:j,getSelectors:H,get selectors(){return H(W)},selectSlice:W}}const L={name:i,reducer:I,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:k,...D(a),injectInto(j,{reducerPath:z,...W}={}){const H=z??a;return j.inject({reducerPath:H,reducer:I},W),{...L,...D(H,!0)}}};return L}}function AB(e,t,r,n){function i(a,...c){let f=t(a);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var ai=_B();function SB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CB({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!IB(n))throw new Error(_i(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Ki(e,c):Ki(e))}function OB(e){return e._reducerDefinitionType==="asyncThunk"}function IB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TB({type:e,reducerName:t},r,n,i){if(!i)throw new Error(_i(18));const{payloadCreator:a,fulfilled:c,pending:f,rejected:h,settled:m,options:v}=r,w=i(e,a,v);n.exposeAction(t,w),c&&n.addCase(w.fulfilled,c),f&&n.addCase(w.pending,f),h&&n.addCase(w.rejected,h),m&&n.addMatcher(w.settled,m),n.exposeCaseReducer(t,{fulfilled:c||xh,pending:f||xh,rejected:h||xh,settled:m||xh})}function xh(){}var NB="task",jN="listener",MN="completed",Lx="cancelled",PB=`task-${Lx}`,kB=`task-${MN}`,uy=`${jN}-${Lx}`,RB=`${jN}-${MN}`,Ep=class{constructor(e){this.code=e,this.message=`${NB} ${Lx} (reason: ${e})`}name="TaskAbortError";message},Bx=(e,t)=>{if(typeof e!="function")throw new TypeError(_i(32))},E0=()=>{},DN=(e,t=E0)=>(e.catch(t),e),LN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),el=e=>{if(e.aborted)throw new Ep(e.reason)};function BN(e,t){let r=E0;return new Promise((n,i)=>{const a=()=>i(new Ep(e.reason));if(e.aborted){a();return}r=LN(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=E0})}var jB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ep?"cancelled":"rejected",error:r}}finally{t?.()}},_0=e=>t=>DN(BN(e,t).then(r=>(el(e),r))),FN=e=>{const t=_0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:pc}=Object,HA={},_p="listenerMiddleware",MB=(e,t)=>{const r=n=>LN(e,()=>n.abort(e.reason));return(n,i)=>{Bx(n);const a=new AbortController;r(a);const c=jB(async()=>{el(e),el(a.signal);const f=await n({pause:_0(a.signal),delay:FN(a.signal),signal:a.signal});return el(a.signal),f},()=>a.abort(kB));return i?.autoJoin&&t.push(c.catch(E0)),{result:_0(e)(c),cancel(){a.abort(PB)}}}},DB=(e,t)=>{const r=async(n,i)=>{el(t);let a=()=>{};const f=[new Promise((h,m)=>{let v=e({predicate:n,effect:(w,E)=>{E.unsubscribe(),h([w,E.getState(),E.getOriginalState()])}});a=()=>{v(),m()}})];i!=null&&f.push(new Promise(h=>setTimeout(h,i,null)));try{const h=await BN(t,Promise.race(f));return el(t),h}finally{a()}};return(n,i)=>DN(r(n,i))},UN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ki(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(_i(21));return Bx(a),{predicate:i,type:t,effect:a}},zN=pc(e=>{const{type:t,predicate:r,effect:n}=UN(e);return{id:wB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_i(22))}}},{withTypes:()=>zN}),VA=(e,t)=>{const{type:r,effect:n,predicate:i}=UN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},dy=e=>{e.pending.forEach(t=>{t.abort(uy)})},LB=(e,t)=>()=>{for(const r of t.keys())dy(r);e.clear()},GA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$N=pc(Ki(`${_p}/add`),{withTypes:()=>$N}),BB=Ki(`${_p}/removeAll`),WN=pc(Ki(`${_p}/remove`),{withTypes:()=>WN}),FB=(...e)=>{console.error(`${_p}/error`,...e)},Td=(e={})=>{const t=new Map,r=new Map,n=C=>{const O=r.get(C)??0;r.set(C,O+1)},i=C=>{const O=r.get(C)??1;O===1?r.delete(C):r.set(C,O-1)},{extra:a,onError:c=FB}=e;Bx(c);const f=C=>(C.unsubscribe=()=>t.delete(C.id),t.set(C.id,C),O=>{C.unsubscribe(),O?.cancelActive&&dy(C)}),h=C=>{const O=VA(t,C)??zN(C);return f(O)};pc(h,{withTypes:()=>h});const m=C=>{const O=VA(t,C);return O&&(O.unsubscribe(),C.cancelActive&&dy(O)),!!O};pc(m,{withTypes:()=>m});const v=async(C,O,I,k)=>{const D=new AbortController,L=DB(h,D.signal),j=[];try{C.pending.add(D),n(C),await Promise.resolve(C.effect(O,pc({},I,{getOriginalState:k,condition:(z,W)=>L(z,W).then(Boolean),take:L,delay:FN(D.signal),pause:_0(D.signal),extra:a,signal:D.signal,fork:MB(D.signal,j),unsubscribe:C.unsubscribe,subscribe:()=>{t.set(C.id,C)},cancelActiveListeners:()=>{C.pending.forEach((z,W,H)=>{z!==D&&(z.abort(uy),H.delete(z))})},cancel:()=>{D.abort(uy),C.pending.delete(D)},throwIfCancelled:()=>{el(D.signal)}})))}catch(z){z instanceof Ep||GA(c,z,{raisedBy:"effect"})}finally{await Promise.all(j),D.abort(RB),i(C),C.pending.delete(D)}},w=LB(t,r);return{middleware:C=>O=>I=>{if(!yN(I))return O(I);if($N.match(I))return h(I.payload);if(BB.match(I)){w();return}if(WN.match(I))return m(I.payload);let k=C.getState();const D=()=>{if(k===HA)throw new Error(_i(23));return k};let L;try{if(L=O(I),t.size>0){const j=C.getState(),z=Array.from(t.values());for(const W of z){let H=!1;try{H=W.predicate(I,j,k)}catch(V){H=!1,GA(c,V,{raisedBy:"predicate"})}H&&v(W,I,C,D)}}}finally{k=HA}return L},startListening:h,stopListening:m,clearListeners:w}};function _i(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var UB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HN=ai({name:"chartLayout",initialState:UB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zB,setLayout:$B,setChartSize:WB,setScale:HB}=HN.actions,VB=HN.reducer;function VN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Vt(e){return Number.isFinite(e)}function Pa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=KB(e,"string");return typeof t=="symbol"?t:t+""}function KB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,r){return tr(e)||tr(t)?r:qi(t)?sl(e,t,r):typeof t=="function"?t(e):r}var YB=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&a!=="center"&&Ze(e[a]))return cc(cc({},e),{},{[a]:e[a]+(n||0)});if((f==="horizontal"||f==="vertical"&&a==="center")&&c!=="middle"&&Ze(e[c]))return cc(cc({},e),{},{[c]:e[c]+(i||0)})}return e},gl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GN=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,a,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(a=!0),f.coordinate));return i||c.push(t),a||c.push(r),c},qN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:c,realScaleType:f,isCategorical:h,categoricalDomain:m,tickCount:v,ticks:w,niceTicks:E,axisType:C}=e;if(!c)return null;var O=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,I=i==="category"&&c.bandwidth?c.bandwidth()/O:0;if(I=C==="angleAxis"&&a&&a.length>=2?hn(a[0]-a[1])*2*I:I,w||E){var k=(w||E||[]).map((D,L)=>{var j=n?n.indexOf(D):D;return{coordinate:c(j)+I,value:D,offset:I,index:L}});return k.filter(D=>!Oi(D.coordinate))}return h&&m?m.map((D,L)=>({coordinate:c(D)+I,value:D,index:L,offset:I})):c.ticks&&v!=null?c.ticks(v).map((D,L)=>({coordinate:c(D)+I,value:D,offset:I,index:L})):c.domain().map((D,L)=>({coordinate:c(D)+I,value:n?n[D]:D,index:L,offset:I}))},KA=1e-4,XB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-KA,a=Math.max(n[0],n[1])+KA,c=e(t[0]),f=e(t[r-1]);(c<i||c>a||f<i||f>a)&&e.domain([t[0],t[r-1]])}},ZB=(e,t)=>{if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(i[0]=r),(!Ze(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},QB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0,f=0;f<r;++f){var h=e[f],m=h?.[i];if(m!=null){var v=m[1],w=m[0],E=Oi(v)?w:v;E>=0?(m[0]=a,m[1]=a+E,a=v):(m[0]=c,m[1]=c+E,c=v)}}}},JB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0;c<r;++c){var f=e[c],h=f?.[i];if(h!=null){var m=Oi(h[1])?h[0]:h[1];m>=0?(h[0]=a,h[1]=a+m,a=h[1]):(h[0]=0,h[1]=0)}}}},eF={sign:QB,expand:g7,none:al,silhouette:v7,wiggle:y7,positive:JB},tF=(e,t,r)=>{var n,i=(n=eF[r])!==null&&n!==void 0?n:al,a=m7().keys(t).value((f,h)=>Number(Lt(f,h,0))).order(ey).offset(i),c=a(e);return c.forEach((f,h)=>{f.forEach((m,v)=>{var w=Lt(e[v],t[h],0);Array.isArray(w)&&w.length===2&&Ze(w[0])&&Ze(w[1])&&(m[0]=w[0],m[1]=w[1])})}),c};function rF(e){return e==null?void 0:String(e)}function YA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!tr(i[t.dataKey])){var f=QT(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var h=Lt(i,tr(c)?t.dataKey:c);return tr(h)?null:t.scale(h)}var XA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=Lt(a,t.dataKey,t.scale.domain()[c]);return tr(f)?null:t.scale(f)-i/2+n},nF=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},iF=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},aF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],sF=(e,t,r)=>{if(e!=null)return aF(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:c}=a,f=c.reduce((h,m)=>{var v=VN(m,t,r),w=iF(v);return!Vt(w[0])||!Vt(w[1])?h:[Math.min(h[0],w[0]),Math.max(h[1],w[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},ZA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=pp(t,v=>v.coordinate),a=1/0,c=1,f=i.length;c<f;c++){var h=i[c],m=i[c-1];a=Math.min((h?.coordinate||0)-(m?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function JA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return cc(cc({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Rc(e,t){if(e)return String(e);if(typeof t=="string")return t}var oF=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},lF=(e,t)=>t==="centric"?e.angle:e.radius,vs=e=>e.layout.width,ys=e=>e.layout.height,cF=e=>e.layout.scale,KN=e=>e.layout.margin,Ap=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Sp=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Fx="data-recharts-item-index",Ux="data-recharts-item-id",Nd=60;function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF=e=>e.brush.height;function pF(e){var t=Sp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nd;return r+i}return r},0)}function mF(e){var t=Sp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nd;return r+i}return r},0)}function gF(e){var t=Ap(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function vF(e){var t=Ap(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Jr=ue([vs,ys,KN,hF,pF,mF,gF,vF,pN,$L],(e,t,r,n,i,a,c,f,h,m)=>{var v={left:(r.left||0)+i,right:(r.right||0)+a},w={top:(r.top||0)+c,bottom:(r.bottom||0)+f},E=wh(wh({},w),v),C=E.bottom;E.bottom+=n,E=YB(E,h,m);var O=e-E.left-E.right,I=t-E.top-E.bottom;return wh(wh({brushBottom:C},E),{},{width:Math.max(O,0),height:Math.max(I,0)})}),yF=ue(Jr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),zx=ue(vs,ys,(e,t)=>({x:0,y:0,width:e,height:t})),xF=N.createContext(null),Sn=()=>N.useContext(xF)!=null,Cp=e=>e.brush,Op=ue([Cp,Jr,KN],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ze(e.width)?e.width:t.width})),Vg={},Gg={},qg={},tS;function wF(){return tS||(tS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let c,f=null;const h=a!=null&&a.includes("leading"),m=a==null||a.includes("trailing"),v=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},w=()=>{m&&v(),I()};let E=null;const C=()=>{E!=null&&clearTimeout(E),E=setTimeout(()=>{E=null,w()},n)},O=()=>{E!==null&&(clearTimeout(E),E=null)},I=()=>{O(),c=void 0,f=null},k=()=>{v()},D=function(...L){if(i?.aborted)return;c=this,f=L;const j=E==null;C(),h&&j&&v()};return D.schedule=C,D.cancel=I,D.flush=k,i?.addEventListener("abort",I,{once:!0}),D}e.debounce=t})(qg)),qg}var rS;function bF(){return rS||(rS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wF();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:c=!1,trailing:f=!0,maxWait:h}=a,m=Array(2);c&&(m[0]="leading"),f&&(m[1]="trailing");let v,w=null;const E=t.debounce(function(...I){v=n.apply(this,I),w=null},i,{edges:m}),C=function(...I){return h!=null&&(w===null&&(w=Date.now()),Date.now()-w>=h)?(v=n.apply(this,I),w=Date.now(),E.cancel(),E.schedule(),v):(E.apply(this,I),v)},O=()=>(E.flush(),v);return C.cancel=E.cancel,C.flush=O,C}e.debounce=r})(Gg)),Gg}var nS;function EF(){return nS||(nS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bF();function r(n,i=0,a={}){const{leading:c=!0,trailing:f=!0}=a;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(Vg)),Vg}var Kg,iS;function _F(){return iS||(iS=1,Kg=EF().throttle),Kg}var AF=_F();const SF=Xi(AF);var S0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},YN=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:c}=r,f=cs(n)?e:Number(n),h=cs(i)?t:Number(i);return a&&a>0&&(f?h=f/a:h&&(f=h*a),c&&h!=null&&h>c&&(h=c)),{calculatedWidth:f,calculatedHeight:h}},CF={width:0,height:0,overflow:"visible"},OF={width:0,overflowX:"visible"},IF={height:0,overflowY:"visible"},TF={},NF=e=>{var{width:t,height:r}=e,n=cs(t),i=cs(r);return n&&i?CF:n?OF:i?IF:TF};function PF(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){kF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t,r){return(t=RF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XN=N.createContext({width:-1,height:-1});function MF(e){return Pa(e.width)&&Pa(e.height)}function ZN(e){var{children:t,width:r,height:n}=e,i=N.useMemo(()=>({width:r,height:n}),[r,n]);return MF(i)?N.createElement(XN.Provider,{value:i},t):null}var $x=()=>N.useContext(XN),DF=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:c=0,minHeight:f,maxHeight:h,children:m,debounce:v=0,id:w,className:E,onResize:C,style:O={}}=e,I=N.useRef(null),k=N.useRef();k.current=C,N.useImperativeHandle(t,()=>I.current);var[D,L]=N.useState({containerWidth:n.width,containerHeight:n.height}),j=N.useCallback((re,Y)=>{L(_e=>{var ge=Math.round(re),de=Math.round(Y);return _e.containerWidth===ge&&_e.containerHeight===de?_e:{containerWidth:ge,containerHeight:de}})},[]);N.useEffect(()=>{if(I.current==null||typeof ResizeObserver>"u")return Od;var re=de=>{var Ae,{width:ye,height:J}=de[0].contentRect;j(ye,J),(Ae=k.current)===null||Ae===void 0||Ae.call(k,ye,J)};v>0&&(re=SF(re,v,{trailing:!0,leading:!1}));var Y=new ResizeObserver(re),{width:_e,height:ge}=I.current.getBoundingClientRect();return j(_e,ge),Y.observe(I.current),()=>{Y.disconnect()}},[j,v]);var{containerWidth:z,containerHeight:W}=D;S0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:H,calculatedHeight:V}=YN(z,W,{width:i,height:a,aspect:r,maxHeight:h});return S0(H!=null&&H>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,i,a,c,f,r),N.createElement("div",{id:w?"".concat(w):void 0,className:jt("recharts-responsive-container",E),style:sS(sS({},O),{},{width:i,height:a,minWidth:c,minHeight:f,maxHeight:h}),ref:I},N.createElement("div",{style:NF({width:i,height:a})},N.createElement(ZN,{width:H,height:V},m)))}),Yg=N.forwardRef((e,t)=>{var r=$x();if(Pa(r.width)&&Pa(r.height))return e.children;var{width:n,height:i}=PF({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:c}=YN(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ze(a)&&Ze(c)?N.createElement(ZN,{width:a,height:c},e.children):N.createElement(DF,fy({},e,{width:n,height:i,ref:t}))});function QN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var jc=()=>{var e,t=Sn(),r=He(yF),n=He(Op),i=(e=He(Cp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},LF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JN=()=>{var e;return(e=He(Jr))!==null&&e!==void 0?e:LF},Wx=()=>He(vs),Hx=()=>He(ys),BF=()=>He(e=>e.layout.margin),Pt=e=>e.layout.layoutType,Pd=()=>He(Pt),FF=()=>{var e=Pd();return e!==void 0},Ip=e=>{var t=qt(),r=Sn(),{width:n,height:i}=e,a=$x(),c=n,f=i;return a&&(c=a.width>0?a.width:n,f=a.height>0?a.height:i),N.useEffect(()=>{!r&&Pa(c)&&Pa(f)&&t(WB({width:c,height:f}))},[t,r,c,f]),null},eP=Symbol.for("immer-nothing"),oS=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function bc(e){return!!e&&!!e[Ii]}function ll(e){return e?tP(e)||Array.isArray(e)||!!e[oS]||!!e.constructor?.[oS]||kd(e)||Np(e):!1}var UF=Object.prototype.constructor.toString(),lS=new WeakMap;function tP(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=lS.get(r);return n===void 0&&(n=Function.toString.call(r),lS.set(r,n)),n===UF}function C0(e,t,r=!0){Tp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Tp(e){const t=e[Ii];return t?t.type_:Array.isArray(e)?1:kd(e)?2:Np(e)?3:0}function hy(e,t){return Tp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rP(e,t,r){const n=Tp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kd(e){return e instanceof Map}function Np(e){return e instanceof Set}function Wo(e){return e.copy_||e.base_}function py(e,t){if(kd(e))return new Map(e);if(Np(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ii];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(cd(e),n)}else{const n=cd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Vx(e,t=!1){return Pp(e)||bc(e)||!ll(e)||(Tp(e)>1&&Object.defineProperties(e,{set:bh,add:bh,clear:bh,delete:bh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Vx(r,!0))),e}function $F(){da(2)}var bh={value:$F};function Pp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WF={};function cl(e){const t=WF[e];return t||da(0,e),t}var ud;function nP(){return ud}function HF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cS(e,t){t&&(cl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function my(e){gy(e),e.drafts_.forEach(VF),e.drafts_=null}function gy(e){e===ud&&(ud=e.parent_)}function uS(e){return ud=HF(ud,e)}function VF(e){const t=e[Ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ii].modified_&&(my(t),da(4)),ll(e)&&(e=O0(t,e),t.parent_||I0(t,e)),t.patches_&&cl("Patches").generateReplacementPatches_(r[Ii].base_,e,t.patches_,t.inversePatches_)):e=O0(t,r,[]),my(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eP?e:void 0}function O0(e,t,r){if(Pp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ii];if(!i)return C0(t,(a,c)=>fS(e,i,t,a,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return I0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let c=a,f=!1;i.type_===3&&(c=new Set(a),a.clear(),f=!0),C0(c,(h,m)=>fS(e,i,a,h,m,r,f),n),I0(e,a,!1),r&&e.patches_&&cl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function fS(e,t,r,n,i,a,c){if(i==null||typeof i!="object"&&!c)return;const f=Pp(i);if(!(f&&!c)){if(bc(i)){const h=a&&t&&t.type_!==3&&!hy(t.assigned_,n)?a.concat(n):void 0,m=O0(e,i,h);if(rP(r,n,m),bc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ll(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;O0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&I0(e,i)}}}function I0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vx(t,r)}function GF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:nP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Gx;r&&(i=[n],a=dd);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,f}var Gx={get(e,t){if(t===Ii)return e;const r=Wo(e);if(!hy(r,t))return qF(e,r,t);const n=r[t];return e.finalized_||!ll(n)?n:n===Xg(e.base_,t)?(Zg(e),e.copy_[t]=yy(n,e)):n},has(e,t){return t in Wo(e)},ownKeys(e){return Reflect.ownKeys(Wo(e))},set(e,t,r){const n=iP(Wo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Xg(Wo(e),t),a=i?.[Ii];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zF(r,i)&&(r!==void 0||hy(e.base_,t)))return!0;Zg(e),vy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zg(e),vy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){da(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){da(12)}},dd={};C0(Gx,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return Gx.set.call(this,e[0],t,r,e[0])};function Xg(e,t){const r=e[Ii];return(r?Wo(r):e)[t]}function qF(e,t,r){const n=iP(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function iP(e,t){if(!(t in e))return;let r=cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cd(r)}}function vy(e){e.modified_||(e.modified_=!0,e.parent_&&vy(e.parent_))}function Zg(e){e.copy_||(e.copy_=py(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(h=a,...m){return c.produce(h,v=>r.call(this,v,...m))}}typeof r!="function"&&da(6),n!==void 0&&typeof n!="function"&&da(7);let i;if(ll(t)){const a=uS(this),c=yy(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?my(a):gy(a)}return cS(a,n),dS(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===eP&&(i=void 0),this.autoFreeze_&&Vx(i,!0),n){const a=[],c=[];cl("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else da(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,h=>t(h,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ll(e)||da(8),bc(e)&&(e=YF(e));const t=uS(this),r=yy(e,void 0);return r[Ii].isManual_=!0,gy(t),r}finishDraft(e,t){const r=e&&e[Ii];(!r||!r.isManual_)&&da(9);const{scope_:n}=r;return cS(n,t),dS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=cl("Patches").applyPatches_;return bc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function yy(e,t){const r=kd(e)?cl("MapSet").proxyMap_(e,t):Np(e)?cl("MapSet").proxySet_(e,t):GF(e,t);return(t?t.scope_:nP()).drafts_.push(r),r}function YF(e){return bc(e)||da(10,e),aP(e)}function aP(e){if(!ll(e)||Pp(e))return e;const t=e[Ii];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=py(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=py(e,!0);return C0(r,(i,a)=>{rP(r,i,aP(a))},n),t&&(t.finalized_=!1),r}var XF=new KF;XF.produce;var ZF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sP=ai({name:"legend",initialState:ZF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ur()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ha(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:ur()},removeLegendPayload:{reducer(e,t){var r=ha(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ur()}}}),{setLegendSize:hS,setLegendSettings:QF,addLegendPayload:oP,replaceLegendPayload:lP,removeLegendPayload:cP}=sP.actions,JF=sP.reducer,eU=["contextPayload"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){tU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tU(e,t,r){return(t=rU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=nU(e,"string");return typeof t=="symbol"?t:t+""}function nU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iU(e,t){if(e==null)return{};var r,n,i=aU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sU(e){return e.value}function oU(e){var{contextPayload:t}=e,r=iU(e,eU),n=uN(t,e.payloadUniqBy,sU),i=Ec(Ec({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(Z7,i)}function lU(e,t,r,n,i,a){var{layout:c,align:f,verticalAlign:h}=t,m,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?m={left:((n||0)-a.width)/2}:m=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?v={top:((i||0)-a.height)/2}:v=h==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ec(Ec({},m),v)}function cU(e){var t=qt();return N.useEffect(()=>{t(QF(e))},[t,e]),null}function uU(e){var t=qt();return N.useEffect(()=>(t(hS(e)),()=>{t(hS({width:0,height:0}))}),[t,e]),null}function dU(e,t,r,n){return e==="vertical"&&Ze(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var fU={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function uP(e){var t=Mr(e,fU),r=VL(),n=F9(),i=BF(),{width:a,height:c,wrapperStyle:f,portal:h}=t,[m,v]=mN([r]),w=Wx(),E=Hx();if(w==null||E==null)return null;var C=w-(i?.left||0)-(i?.right||0),O=dU(t.layout,c,a,C),I=h?f:Ec(Ec({position:"absolute",width:O?.width||a||"auto",height:O?.height||c||"auto"},lU(f,t,i,w,E,m)),f),k=h??n;if(k==null||r==null)return null;var D=N.createElement("div",{className:"recharts-legend-wrapper",style:I,ref:v},N.createElement(cU,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&N.createElement(uU,{width:m.width,height:m.height}),N.createElement(oU,xy({},t,O,{margin:i,chartWidth:w,chartHeight:E,contextPayload:r})));return ox.createPortal(D,k)}uP.displayName="Legend";function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function mS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gU(e){return Array.isArray(e)&&qi(e[0])&&qi(e[1])?e.join(" ~ "):e}var vU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:c,itemSorter:f,wrapperClassName:h,labelClassName:m,label:v,labelFormatter:w,accessibilityLayer:E=!1}=e,C=()=>{if(a&&a.length){var W={padding:0,margin:0},H=(f?pp(a,f):a).map((V,re)=>{if(V.type==="none")return null;var Y=V.formatter||c||gU,{value:_e,name:ge}=V,de=_e,Ae=ge;if(Y){var ye=Y(_e,ge,V,re,a);if(Array.isArray(ye))[de,Ae]=ye;else if(ye!=null)de=ye;else return null}var J=Qg({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:J},qi(Ae)?N.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,qi(Ae)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},de),N.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:W},H)}return null},O=Qg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),I=Qg({margin:0},i),k=!tr(v),D=k?v:"",L=jt("recharts-default-tooltip",h),j=jt("recharts-tooltip-label",m);k&&w&&a!==void 0&&a!==null&&(D=w(v,a));var z=E?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",wy({className:L,style:O},z),N.createElement("p",{className:j,style:I},N.isValidElement(D)?D:"".concat(D)),C())},Mu="recharts-tooltip-wrapper",yU={visibility:"hidden"};function xU(e){var{coordinate:t,translateX:r,translateY:n}=e;return jt(Mu,{["".concat(Mu,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(Mu,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(Mu,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(Mu,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function gS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:c,tooltipDimension:f,viewBox:h,viewBoxDimension:m}=e;if(a&&Ze(a[n]))return a[n];var v=r[n]-f-(i>0?i:0),w=r[n]+i;if(t[n])return c[n]?v:w;var E=h[n];if(E==null)return 0;if(c[n]){var C=v,O=E;return C<O?Math.max(w,E):Math.max(v,E)}if(m==null)return 0;var I=w+f,k=E+m;return I>k?Math.max(v,E):Math.max(w,E)}function wU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:c,useTranslate3d:f,viewBox:h}=e,m,v,w;return c.height>0&&c.width>0&&r?(v=gS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),w=gS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),m=wU({translateX:v,translateY:w,useTranslate3d:f})):m=yU,{cssProperties:m,cssClasses:xU({translateX:v,translateY:w,coordinate:r})}}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){by(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function by(e,t,r){return(t=EU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EU(e){var t=_U(e,"string");return typeof t=="symbol"?t:t+""}function _U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AU extends N.PureComponent{constructor(){super(...arguments),by(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),by(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:c,hasPayload:f,isAnimationActive:h,offset:m,position:v,reverseDirection:w,useTranslate3d:E,viewBox:C,wrapperStyle:O,lastBoundingBox:I,innerRef:k,hasPortalFromProps:D}=this.props,{cssClasses:L,cssProperties:j}=bU({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:w,tooltipBox:{height:I.height,width:I.width},useTranslate3d:E,viewBox:C}),z=D?{}:Eh(Eh({transition:h&&t?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=Eh(Eh({},z),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},O);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:W,ref:k},a)}}var dP=()=>{var e;return(e=He(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){SU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SU(e,t,r){return(t=CU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=OU(e,"string");return typeof t=="symbol"?t:t+""}function OU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wS={curveBasisClosed:i7,curveBasisOpen:a7,curveBasis:n7,curveBumpX:W9,curveBumpY:H9,curveLinearClosed:s7,curveLinear:dp,curveMonotoneX:o7,curveMonotoneY:l7,curveNatural:c7,curveStep:u7,curveStepAfter:f7,curveStepBefore:d7},T0=e=>Vt(e.x)&&Vt(e.y),bS=e=>e.base!=null&&T0(e.base)&&T0(e),Du=e=>e.x,Lu=e=>e.y,IU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Cd(e));return(r==="curveMonotone"||r==="curveBump")&&t?wS["".concat(r).concat(t==="vertical"?"Y":"X")]:wS[r]||dp},TU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,c=IU(t,i),f=a?r.filter(T0):r,h;if(Array.isArray(n)){var m=r.map((C,O)=>xS(xS({},C),{},{base:n[O]}));i==="vertical"?h=ph().y(Lu).x1(Du).x0(C=>C.base.x):h=ph().x(Du).y1(Lu).y0(C=>C.base.y);var v=h.defined(bS).curve(c),w=a?m.filter(bS):m;return v(w)}i==="vertical"&&Ze(n)?h=ph().y(Lu).x1(Du).x0(n):Ze(n)?h=ph().x(Du).y1(Lu).y0(n):h=FT().x(Du).y(Lu);var E=h.defined(T0).curve(c);return E(f)},kp=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Pd();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},f=r&&r.length?TU(c):n;return N.createElement("path",Ey({},Si(e),L7(e),{className:jt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},NU=["x","y","top","left","width","height","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){kU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MU(e,t){if(e==null)return{};var r,n,i=DU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LU=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),BU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:c=0,className:f}=e,h=MU(e,NU),m=PU({x:t,y:r,top:n,left:i,width:a,height:c},h);return!Ze(t)||!Ze(r)||!Ze(a)||!Ze(c)||!Ze(n)||!Ze(i)?null:N.createElement("path",_y({},Ci(m),{className:jt("recharts-cross",f),d:LU(t,r,a,c,n,i)}))};function FU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fP=(e,t,r)=>e.map(n=>"".concat(WU(n)," ").concat(t,"ms ").concat(r)).join(","),HU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fd=(e,t)=>Object.keys(t).reduce((r,n)=>AS(AS({},r),{},{[n]:e(n,t[n])}),{});function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){VU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=qU(e,"string");return typeof t=="symbol"?t:t+""}function qU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=(e,t,r)=>e+(t-e)*r,Ay=e=>{var{from:t,to:r}=e;return t!==r},hP=(e,t,r)=>{var n=fd((i,a)=>{if(Ay(a)){var[c,f]=e(a.from,a.to,a.velocity);return Qr(Qr({},a),{},{from:c,velocity:f})}return a},t);return r<1?fd((i,a)=>Ay(a)&&n[i]!=null?Qr(Qr({},a),{},{velocity:N0(a.velocity,n[i].velocity,r),from:N0(a.from,n[i].from,r)}):a,t):hP(e,n,r-1)};function KU(e,t,r,n,i,a){var c,f=n.reduce((E,C)=>Qr(Qr({},E),{},{[C]:{from:e[C],velocity:0,to:t[C]}}),{}),h=()=>fd((E,C)=>C.from,f),m=()=>!Object.values(f).filter(Ay).length,v=null,w=E=>{c||(c=E);var C=E-c,O=C/r.dt;f=hP(r,f,O),i(Qr(Qr(Qr({},e),t),h())),c=E,m()||(v=a.setTimeout(w))};return()=>(v=a.setTimeout(w),()=>{var E;(E=v)===null||E===void 0||E()})}function YU(e,t,r,n,i,a,c){var f=null,h=i.reduce((w,E)=>{var C=e[E],O=t[E];return C==null||O==null?w:Qr(Qr({},w),{},{[E]:[C,O]})},{}),m,v=w=>{m||(m=w);var E=(w-m)/n,C=fd((I,k)=>N0(...k,r(E)),h);if(a(Qr(Qr(Qr({},e),t),C)),E<1)f=c.setTimeout(v);else{var O=fd((I,k)=>N0(...k,r(1)),h);a(Qr(Qr(Qr({},e),t),O))}};return()=>(f=c.setTimeout(v),()=>{var w;(w=f)===null||w===void 0||w()})}const XU=(e,t,r,n,i,a)=>{var c=HU(e,t);return r==null?()=>(i(Qr(Qr({},e),t)),()=>{}):r.isStepper===!0?KU(e,t,r,c,i,a):YU(e,t,r,n,c,i,a)};var P0=1e-4,pP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],mP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),CS=(e,t)=>r=>{var n=pP(e,t);return mP(n,r)},ZU=(e,t)=>r=>{var n=pP(e,t),i=[...n.map((a,c)=>a*c).slice(1),0];return mP(i,r)},QU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},JU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=QU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},ez=(e,t,r,n)=>{var i=CS(e,r),a=CS(t,n),c=ZU(e,r),f=m=>m>1?1:m<0?0:m,h=m=>{for(var v=m>1?1:m,w=v,E=0;E<8;++E){var C=i(w)-v,O=c(w);if(Math.abs(C-v)<P0||O<P0)return a(w);w=f(w-C/O)}return a(w)};return h.isStepper=!1,h},OS=function(){return ez(...JU(...arguments))},tz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(c,f,h)=>{var m=-(c-f)*r,v=h*n,w=h+(m-v)*i/1e3,E=h*i/1e3+c;return Math.abs(E-f)<P0&&Math.abs(w)<P0?[f,0]:[E,w]};return a.isStepper=!0,a.dt=i,a},rz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OS(e);case"spring":return tz();default:if(e.split("(")[0]==="cubic-bezier")return OS(e)}return typeof e=="function"?e:null};function nz(e){var t,r=()=>null,n=!1,i=null,a=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[h,...m]=f;if(typeof h=="number"){i=e.setTimeout(a.bind(null,m),h);return}a(h),i=e.setTimeout(a.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),a(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class iz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function az(){return nz(new iz)}var sz=N.createContext(az);function oz(e,t){var r=N.useContext(sz);return N.useMemo(()=>t??r(e),[e,t,r])}var lz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rp={isSsr:lz()},cz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IS={t:0},Jg={t:1};function Rd(e){var t=Mr(e,cz),{isActive:r,canBegin:n,duration:i,easing:a,begin:c,onAnimationEnd:f,onAnimationStart:h,children:m}=t,v=r==="auto"?!Rp.isSsr:r,w=oz(t.animationId,t.animationManager),[E,C]=N.useState(v?IS:Jg),O=N.useRef(null);return N.useEffect(()=>{v||C(Jg)},[v]),N.useEffect(()=>{if(!v||!n)return Od;var I=XU(IS,Jg,rz(a),i,C,w.getTimeoutController()),k=()=>{O.current=I()};return w.start([h,c,k,i,f]),()=>{w.stop(),O.current&&O.current(),f()}},[v,n,i,a,c,h,f,w]),m(E.t)}function jd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(ad(t)),n=N.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var uz=["radius"],dz=["radius"],TS,NS,PS,kS,RS,jS,MS,DS,LS,BS;function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=pz(e,"string");return typeof t=="symbol"?t:t+""}function pz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function zS(e,t){if(e==null)return{};var r,n,i=mz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $S=(e,t,r,n,i)=>{var a=to(r),c=to(n),f=Math.min(Math.abs(a)/2,Math.abs(c)/2),h=c>=0?1:-1,m=a>=0?1:-1,v=c>=0&&a>=0||c<0&&a<0?1:0,w;if(f>0&&i instanceof Array){for(var E=[0,0,0,0],C=0,O=4;C<O;C++)E[C]=i[C]>f?f:i[C];w=Cr(TS||(TS=Oa(["M",",",""])),e,t+h*E[0]),E[0]>0&&(w+=Cr(NS||(NS=Oa(["A ",",",",0,0,",",",",",""])),E[0],E[0],v,e+m*E[0],t)),w+=Cr(PS||(PS=Oa(["L ",",",""])),e+r-m*E[1],t),E[1]>0&&(w+=Cr(kS||(kS=Oa(["A ",",",",0,0,",`,
        `,",",""])),E[1],E[1],v,e+r,t+h*E[1])),w+=Cr(RS||(RS=Oa(["L ",",",""])),e+r,t+n-h*E[2]),E[2]>0&&(w+=Cr(jS||(jS=Oa(["A ",",",",0,0,",`,
        `,",",""])),E[2],E[2],v,e+r-m*E[2],t+n)),w+=Cr(MS||(MS=Oa(["L ",",",""])),e+m*E[3],t+n),E[3]>0&&(w+=Cr(DS||(DS=Oa(["A ",",",",0,0,",`,
        `,",",""])),E[3],E[3],v,e,t+n-h*E[3])),w+="Z"}else if(f>0&&i===+i&&i>0){var I=Math.min(f,i);w=Cr(LS||(LS=Oa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+h*I,I,I,v,e+m*I,t,e+r-m*I,t,I,I,v,e+r,t+h*I,e+r,t+n-h*I,I,I,v,e+r-m*I,t+n,e+m*I,t+n,I,I,v,e,t+n-h*I)}else w=Cr(BS||(BS=Oa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return w},WS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gP=e=>{var t=Mr(e,WS),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:a,y:c,width:f,height:h,radius:m,className:v}=t,{animationEasing:w,animationDuration:E,animationBegin:C,isAnimationActive:O,isUpdateAnimationActive:I}=t,k=N.useRef(f),D=N.useRef(h),L=N.useRef(a),j=N.useRef(c),z=N.useMemo(()=>({x:a,y:c,width:f,height:h,radius:m}),[a,c,f,h,m]),W=jd(z,"rectangle-");if(a!==+a||c!==+c||f!==+f||h!==+h||f===0||h===0)return null;var H=jt("recharts-rectangle",v);if(!I){var V=Ci(t),{radius:re}=V,Y=zS(V,uz);return N.createElement("path",k0({},Y,{x:to(a),y:to(c),width:to(f),height:to(h),radius:typeof m=="number"?m:void 0,className:H,d:$S(a,c,f,h,m)}))}var _e=k.current,ge=D.current,de=L.current,Ae=j.current,ye="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),Me=fP(["strokeDasharray"],E,typeof w=="string"?w:WS.animationEasing);return N.createElement(Rd,{animationId:W,key:W,canBegin:n>0,duration:E,easing:w,isActive:I,begin:C},ie=>{var fe=yr(_e,f,ie),we=yr(ge,h,ie),be=yr(de,a,ie),Z=yr(Ae,c,ie);r.current&&(k.current=fe,D.current=we,L.current=be,j.current=Z);var le;O?ie>0?le={transition:Me,strokeDasharray:J}:le={strokeDasharray:ye}:le={strokeDasharray:J};var De=Ci(t),{radius:Be}=De,Ye=zS(De,dz);return N.createElement("path",k0({},Ye,{radius:typeof m=="number"?m:void 0,className:H,d:$S(be,Z,fe,we,m),ref:r,style:US(US({},le),t.style)}))})};function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){gz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R0=Math.PI/180,xz=e=>e*180/Math.PI,zr=(e,t,r,n)=>({x:e+Math.cos(-R0*n)*r,y:t+Math.sin(-R0*n)*r}),vP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wz=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},bz=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,c=wz({x:r,y:n},{x:i,y:a});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,h=Math.acos(f);return n>a&&(h=2*Math.PI-h),{radius:c,angle:xz(h),angleInRadian:h}},Ez=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},_z=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),c=Math.min(i,a);return e+c*360},Az=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=bz({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:h,endAngle:m}=Ez(t),v=a,w;if(h<=m){for(;v>m;)v-=360;for(;v<h;)v+=360;w=v>=h&&v<=m}else{for(;v>h;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=h}return w?VS(VS({},t),{},{radius:i,angle:_z(v,t)}):null};function yP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,c=zr(t,r,n,i),f=zr(t,r,n,a);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var GS,qS,KS,YS,XS,ZS,QS;function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function Yo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Sz=(e,t)=>{var r=hn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},_h=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:c,cornerRadius:f,cornerIsExternal:h}=e,m=f*(c?1:-1)+n,v=Math.asin(f/m)/R0,w=h?i:i+a*v,E=zr(t,r,m,w),C=zr(t,r,n,w),O=h?i-a*v:i,I=zr(t,r,m*Math.cos(v*R0),O);return{center:E,circleTangency:C,lineTangency:I,theta:v}},xP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:c}=e,f=Sz(a,c),h=a+f,m=zr(t,r,i,a),v=zr(t,r,i,h),w=Cr(GS||(GS=Yo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(f)>180),+(a>h),v.x,v.y);if(n>0){var E=zr(t,r,n,a),C=zr(t,r,n,h);w+=Cr(qS||(qS=Yo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),C.x,C.y,n,n,+(Math.abs(f)>180),+(a<=h),E.x,E.y)}else w+=Cr(KS||(KS=Yo(["L ",","," Z"])),t,r);return w},Cz=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}=e,v=hn(m-h),{circleTangency:w,lineTangency:E,theta:C}=_h({cx:t,cy:r,radius:i,angle:h,sign:v,cornerRadius:a,cornerIsExternal:f}),{circleTangency:O,lineTangency:I,theta:k}=_h({cx:t,cy:r,radius:i,angle:m,sign:-v,cornerRadius:a,cornerIsExternal:f}),D=f?Math.abs(h-m):Math.abs(h-m)-C-k;if(D<0)return c?Cr(YS||(YS=Yo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),E.x,E.y,a,a,a*2,a,a,-a*2):xP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:h,endAngle:m});var L=Cr(XS||(XS=Yo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),E.x,E.y,a,a,+(v<0),w.x,w.y,i,i,+(D>180),+(v<0),O.x,O.y,a,a,+(v<0),I.x,I.y);if(n>0){var{circleTangency:j,lineTangency:z,theta:W}=_h({cx:t,cy:r,radius:n,angle:h,sign:v,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),{circleTangency:H,lineTangency:V,theta:re}=_h({cx:t,cy:r,radius:n,angle:m,sign:-v,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),Y=f?Math.abs(h-m):Math.abs(h-m)-W-re;if(Y<0&&a===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=Cr(ZS||(ZS=Yo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,a,a,+(v<0),H.x,H.y,n,n,+(Y>180),+(v>0),j.x,j.y,a,a,+(v<0),z.x,z.y)}else L+=Cr(QS||(QS=Yo(["L",",","Z"])),t,r);return L},Oz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=e=>{var t=Mr(e,Oz),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:v,className:w}=t;if(a<i||m===v)return null;var E=jt("recharts-sector",w),C=a-i,O=Ln(c,C,0,!0),I;return O>0&&Math.abs(m-v)<360?I=Cz({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(O,C/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:m,endAngle:v}):I=xP({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:m,endAngle:v}),N.createElement("path",Sy({},Ci(t),{className:E,d:I}))};function Iz(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(eN(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:c,angle:f}=t,h=zr(n,i,a,f),m=zr(n,i,c,f);return[{x:h.x,y:h.y},{x:m.x,y:m.y}]}return yP(t)}}var ev={},tv={},rv={},JS;function Tz(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rv)),rv}var eC;function Nz(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tz();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tv)),tv}var tC;function Pz(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN(),r=Nz();function n(i,a,c){c&&typeof c!="number"&&t.isIterateeCall(i,a,c)&&(a=c=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),c=c===void 0?i<a?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((a-i)/(c||1)),0),h=new Array(f);for(let m=0;m<f;m++)h[m]=i,i+=c;return h}e.range=n})(ev)),ev}var nv,rC;function kz(){return rC||(rC=1,nv=Pz().range),nv}var Rz=kz();const bP=Xi(Rz);function no(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qx(e){let t,r,n;e.length!==2?(t=no,r=(f,h)=>no(e(f),h),n=(f,h)=>e(f)-h):(t=e===no||e===jz?e:Mz,r=e,n=e);function i(f,h,m=0,v=f.length){if(m<v){if(t(h,h)!==0)return v;do{const w=m+v>>>1;r(f[w],h)<0?m=w+1:v=w}while(m<v)}return m}function a(f,h,m=0,v=f.length){if(m<v){if(t(h,h)!==0)return v;do{const w=m+v>>>1;r(f[w],h)<=0?m=w+1:v=w}while(m<v)}return m}function c(f,h,m=0,v=f.length){const w=i(f,h,m,v-1);return w>m&&n(f[w-1],h)>-n(f[w],h)?w-1:w}return{left:i,center:c,right:a}}function Mz(){return 0}function EP(e){return e===null?NaN:+e}function*Dz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Lz=qx(no),Md=Lz.right;qx(EP).center;class nC extends Map{constructor(t,r=Uz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(iC(this,t))}has(t){return super.has(iC(this,t))}set(t,r){return super.set(Bz(this,t),r)}delete(t){return super.delete(Fz(this,t))}}function iC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Bz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Fz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Uz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zz(e=no){if(e===no)return _P;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _P(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $z=Math.sqrt(50),Wz=Math.sqrt(10),Hz=Math.sqrt(2);function j0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),c=a>=$z?10:a>=Wz?5:a>=Hz?2:1;let f,h,m;return i<0?(m=Math.pow(10,-i)/c,f=Math.round(e*m),h=Math.round(t*m),f/m<e&&++f,h/m>t&&--h,m=-m):(m=Math.pow(10,i)*c,f=Math.round(e/m),h=Math.round(t/m),f*m<e&&++f,h*m>t&&--h),h<f&&.5<=r&&r<2?j0(e,t,r*2):[f,h,m]}function Cy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,c]=n?j0(t,e,r):j0(e,t,r);if(!(a>=i))return[];const f=a-i+1,h=new Array(f);if(n)if(c<0)for(let m=0;m<f;++m)h[m]=(a-m)/-c;else for(let m=0;m<f;++m)h[m]=(a-m)*c;else if(c<0)for(let m=0;m<f;++m)h[m]=(i+m)/-c;else for(let m=0;m<f;++m)h[m]=(i+m)*c;return h}function Oy(e,t,r){return t=+t,e=+e,r=+r,j0(e,t,r)[2]}function Iy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Oy(t,e,r):Oy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function aC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?_P:zz(i);n>r;){if(n-r>600){const h=n-r+1,m=t-r+1,v=Math.log(h),w=.5*Math.exp(2*v/3),E=.5*Math.sqrt(v*w*(h-w)/h)*(m-h/2<0?-1:1),C=Math.max(r,Math.floor(t-m*w/h+E)),O=Math.min(n,Math.floor(t+(h-m)*w/h+E));AP(e,t,C,O,i)}const a=e[t];let c=r,f=n;for(Bu(e,r,t),i(e[n],a)>0&&Bu(e,r,n);c<f;){for(Bu(e,c,f),++c,--f;i(e[c],a)<0;)++c;for(;i(e[f],a)>0;)--f}i(e[r],a)===0?Bu(e,r,f):(++f,Bu(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Bu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Vz(e,t,r){if(e=Float64Array.from(Dz(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sC(e);if(t>=1)return aC(e);var n,i=(n-1)*t,a=Math.floor(i),c=aC(AP(e,a).subarray(0,a+1)),f=sC(e.subarray(a+1));return c+(f-c)*(i-a)}}function Gz(e,t,r=EP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),c=+r(e[a],a,e),f=+r(e[a+1],a+1,e);return c+(f-c)*(i-a)}}function qz(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Zi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ty=Symbol("implicit");function Kx(){var e=new nC,t=[],r=[],n=Ty;function i(a){let c=e.get(a);if(c===void 0){if(n!==Ty)return n;e.set(a,c=t.push(a)-1)}return r[c%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new nC;for(const c of a)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Kx(t,r).unknown(n)},Zi.apply(i,arguments),i}function Yx(){var e=Kx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,c,f=!1,h=0,m=0,v=.5;delete e.unknown;function w(){var E=t().length,C=i<n,O=C?i:n,I=C?n:i;a=(I-O)/Math.max(1,E-h+m*2),f&&(a=Math.floor(a)),O+=(I-O-a*(E-h))*v,c=a*(1-h),f&&(O=Math.round(O),c=Math.round(c));var k=qz(E).map(function(D){return O+a*D});return r(C?k.reverse():k)}return e.domain=function(E){return arguments.length?(t(E),w()):t()},e.range=function(E){return arguments.length?([n,i]=E,n=+n,i=+i,w()):[n,i]},e.rangeRound=function(E){return[n,i]=E,n=+n,i=+i,f=!0,w()},e.bandwidth=function(){return c},e.step=function(){return a},e.round=function(E){return arguments.length?(f=!!E,w()):f},e.padding=function(E){return arguments.length?(h=Math.min(1,m=+E),w()):h},e.paddingInner=function(E){return arguments.length?(h=Math.min(1,E),w()):h},e.paddingOuter=function(E){return arguments.length?(m=+E,w()):m},e.align=function(E){return arguments.length?(v=Math.max(0,Math.min(1,E)),w()):v},e.copy=function(){return Yx(t(),[n,i]).round(f).paddingInner(h).paddingOuter(m).align(v)},Zi.apply(w(),arguments)}function SP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SP(t())},e}function Kz(){return SP(Yx.apply(null,arguments).paddingInner(1))}function Xx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dd(){}var hd=.7,M0=1/hd,mc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yz=/^#([0-9a-f]{3,8})$/,Xz=new RegExp(`^rgb\\(${mc},${mc},${mc}\\)$`),Zz=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),Qz=new RegExp(`^rgba\\(${mc},${mc},${mc},${pd}\\)$`),Jz=new RegExp(`^rgba\\(${Na},${Na},${Na},${pd}\\)$`),e$=new RegExp(`^hsl\\(${pd},${Na},${Na}\\)$`),t$=new RegExp(`^hsla\\(${pd},${Na},${Na},${pd}\\)$`),oC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xx(Dd,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lC,formatHex:lC,formatHex8:r$,formatHsl:n$,formatRgb:cC,toString:cC});function lC(){return this.rgb().formatHex()}function r$(){return this.rgb().formatHex8()}function n$(){return OP(this).formatHsl()}function cC(){return this.rgb().formatRgb()}function md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?uC(t):r===3?new ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ah(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ah(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xz.exec(e))?new ni(t[1],t[2],t[3],1):(t=Zz.exec(e))?new ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qz.exec(e))?Ah(t[1],t[2],t[3],t[4]):(t=Jz.exec(e))?Ah(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=e$.exec(e))?hC(t[1],t[2]/100,t[3]/100,1):(t=t$.exec(e))?hC(t[1],t[2]/100,t[3]/100,t[4]):oC.hasOwnProperty(e)?uC(oC[e]):e==="transparent"?new ni(NaN,NaN,NaN,0):null}function uC(e){return new ni(e>>16&255,e>>8&255,e&255,1)}function Ah(e,t,r,n){return n<=0&&(e=t=r=NaN),new ni(e,t,r,n)}function i$(e){return e instanceof Dd||(e=md(e)),e?(e=e.rgb(),new ni(e.r,e.g,e.b,e.opacity)):new ni}function Ny(e,t,r,n){return arguments.length===1?i$(e):new ni(e,t,r,n??1)}function ni(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Xx(ni,Ny,CP(Dd,{brighter(e){return e=e==null?M0:Math.pow(M0,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ni(tl(this.r),tl(this.g),tl(this.b),D0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dC,formatHex:dC,formatHex8:a$,formatRgb:fC,toString:fC}));function dC(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}`}function a$(){return`#${Xo(this.r)}${Xo(this.g)}${Xo(this.b)}${Xo((isNaN(this.opacity)?1:this.opacity)*255)}`}function fC(){const e=D0(this.opacity);return`${e===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${e===1?")":`, ${e})`}`}function D0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xo(e){return e=tl(e),(e<16?"0":"")+e.toString(16)}function hC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fa(e,t,r,n)}function OP(e){if(e instanceof fa)return new fa(e.h,e.s,e.l,e.opacity);if(e instanceof Dd||(e=md(e)),!e)return new fa;if(e instanceof fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),c=NaN,f=a-i,h=(a+i)/2;return f?(t===a?c=(r-n)/f+(r<n)*6:r===a?c=(n-t)/f+2:c=(t-r)/f+4,f/=h<.5?a+i:2-a-i,c*=60):f=h>0&&h<1?0:c,new fa(c,f,h,e.opacity)}function s$(e,t,r,n){return arguments.length===1?OP(e):new fa(e,t,r,n??1)}function fa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Xx(fa,s$,CP(Dd,{brighter(e){return e=e==null?M0:Math.pow(M0,e),new fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ni(iv(e>=240?e-240:e+120,i,n),iv(e,i,n),iv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new fa(pC(this.h),Sh(this.s),Sh(this.l),D0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=D0(this.opacity);return`${e===1?"hsl(":"hsla("}${pC(this.h)}, ${Sh(this.s)*100}%, ${Sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pC(e){return e=(e||0)%360,e<0?e+360:e}function Sh(e){return Math.max(0,Math.min(1,e||0))}function iv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zx=e=>()=>e;function o$(e,t){return function(r){return e+r*t}}function l$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function c$(e){return(e=+e)==1?IP:function(t,r){return r-t?l$(t,r,e):Zx(isNaN(t)?r:t)}}function IP(e,t){var r=t-e;return r?o$(e,r):Zx(isNaN(e)?t:e)}const mC=(function e(t){var r=c$(t);function n(i,a){var c=r((i=Ny(i)).r,(a=Ny(a)).r),f=r(i.g,a.g),h=r(i.b,a.b),m=IP(i.opacity,a.opacity);return function(v){return i.r=c(v),i.g=f(v),i.b=h(v),i.opacity=m(v),i+""}}return n.gamma=e,n})(1);function u$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function d$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function f$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),c;for(c=0;c<n;++c)i[c]=Mc(e[c],t[c]);for(;c<r;++c)a[c]=t[c];return function(f){for(c=0;c<n;++c)a[c]=i[c](f);return a}}function h$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function L0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function p$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Mc(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,av=new RegExp(Py.source,"g");function m$(e){return function(){return e}}function g$(e){return function(t){return e(t)+""}}function v$(e,t){var r=Py.lastIndex=av.lastIndex=0,n,i,a,c=-1,f=[],h=[];for(e=e+"",t=t+"";(n=Py.exec(e))&&(i=av.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),f[c]?f[c]+=a:f[++c]=a),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,h.push({i:c,x:L0(n,i)})),r=av.lastIndex;return r<t.length&&(a=t.slice(r),f[c]?f[c]+=a:f[++c]=a),f.length<2?h[0]?g$(h[0].x):m$(t):(t=h.length,function(m){for(var v=0,w;v<t;++v)f[(w=h[v]).i]=w.x(m);return f.join("")})}function Mc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zx(t):(r==="number"?L0:r==="string"?(n=md(t))?(t=n,mC):v$:t instanceof md?mC:t instanceof Date?h$:d$(t)?u$:Array.isArray(t)?f$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?p$:L0)(e,t)}function Qx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function y$(e,t){t===void 0&&(t=e,e=Mc);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return a[f](c-f)}}function x$(e){return function(){return e}}function B0(e){return+e}var gC=[0,1];function $n(e){return e}function ky(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:x$(isNaN(t)?NaN:.5)}function w$(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function b$(e,t,r){var n=e[0],i=e[1],a=t[0],c=t[1];return i<n?(n=ky(i,n),a=r(c,a)):(n=ky(n,i),a=r(a,c)),function(f){return a(n(f))}}function E$(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=ky(e[c],e[c+1]),a[c]=r(t[c],t[c+1]);return function(f){var h=Md(e,f,1,n)-1;return a[h](i[h](f))}}function Ld(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jp(){var e=gC,t=gC,r=Mc,n,i,a,c=$n,f,h,m;function v(){var E=Math.min(e.length,t.length);return c!==$n&&(c=w$(e[0],e[E-1])),f=E>2?E$:b$,h=m=null,w}function w(E){return E==null||isNaN(E=+E)?a:(h||(h=f(e.map(n),t,r)))(n(c(E)))}return w.invert=function(E){return c(i((m||(m=f(t,e.map(n),L0)))(E)))},w.domain=function(E){return arguments.length?(e=Array.from(E,B0),v()):e.slice()},w.range=function(E){return arguments.length?(t=Array.from(E),v()):t.slice()},w.rangeRound=function(E){return t=Array.from(E),r=Qx,v()},w.clamp=function(E){return arguments.length?(c=E?!0:$n,v()):c!==$n},w.interpolate=function(E){return arguments.length?(r=E,v()):r},w.unknown=function(E){return arguments.length?(a=E,w):a},function(E,C){return n=E,i=C,v()}}function Jx(){return jp()($n,$n)}function _$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function F0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _c(e){return e=F0(Math.abs(e)),e?e[1]:NaN}function A$(e,t){return function(r,n){for(var i=r.length,a=[],c=0,f=e[0],h=0;i>0&&f>0&&(h+f+1>n&&(f=Math.max(1,n-h)),a.push(r.substring(i-=f,i+f)),!((h+=f+1)>n));)f=e[c=(c+1)%e.length];return a.reverse().join(t)}}function S$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var C$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(e){if(!(t=C$.exec(e)))throw new Error("invalid format: "+e);var t;return new ew({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gd.prototype=ew.prototype;function ew(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ew.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O$(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var TP;function I$(e,t){var r=F0(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(TP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return a===c?n:a>c?n+new Array(a-c+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+F0(e,Math.max(0,t+a-1))[0]}function vC(e,t){var r=F0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vC(e*100,t),r:vC,s:I$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xC(e){return e}var wC=Array.prototype.map,bC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T$(e){var t=e.grouping===void 0||e.thousands===void 0?xC:A$(wC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?xC:S$(wC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(w){w=gd(w);var E=w.fill,C=w.align,O=w.sign,I=w.symbol,k=w.zero,D=w.width,L=w.comma,j=w.precision,z=w.trim,W=w.type;W==="n"?(L=!0,W="g"):yC[W]||(j===void 0&&(j=12),z=!0,W="g"),(k||E==="0"&&C==="=")&&(k=!0,E="0",C="=");var H=I==="$"?r:I==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",V=I==="$"?n:/[%p]/.test(W)?c:"",re=yC[W],Y=/[defgprs%]/.test(W);j=j===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function _e(ge){var de=H,Ae=V,ye,J,Me;if(W==="c")Ae=re(ge)+Ae,ge="";else{ge=+ge;var ie=ge<0||1/ge<0;if(ge=isNaN(ge)?h:re(Math.abs(ge),j),z&&(ge=O$(ge)),ie&&+ge==0&&O!=="+"&&(ie=!1),de=(ie?O==="("?O:f:O==="-"||O==="("?"":O)+de,Ae=(W==="s"?bC[8+TP/3]:"")+Ae+(ie&&O==="("?")":""),Y){for(ye=-1,J=ge.length;++ye<J;)if(Me=ge.charCodeAt(ye),48>Me||Me>57){Ae=(Me===46?i+ge.slice(ye+1):ge.slice(ye))+Ae,ge=ge.slice(0,ye);break}}}L&&!k&&(ge=t(ge,1/0));var fe=de.length+ge.length+Ae.length,we=fe<D?new Array(D-fe+1).join(E):"";switch(L&&k&&(ge=t(we+ge,we.length?D-Ae.length:1/0),we=""),C){case"<":ge=de+ge+Ae+we;break;case"=":ge=de+we+ge+Ae;break;case"^":ge=we.slice(0,fe=we.length>>1)+de+ge+Ae+we.slice(fe);break;default:ge=we+de+ge+Ae;break}return a(ge)}return _e.toString=function(){return w+""},_e}function v(w,E){var C=m((w=gd(w),w.type="f",w)),O=Math.max(-8,Math.min(8,Math.floor(_c(E)/3)))*3,I=Math.pow(10,-O),k=bC[8+O/3];return function(D){return C(I*D)+k}}return{format:m,formatPrefix:v}}var Ch,tw,NP;N$({thousands:",",grouping:[3],currency:["$",""]});function N$(e){return Ch=T$(e),tw=Ch.format,NP=Ch.formatPrefix,Ch}function P$(e){return Math.max(0,-_c(Math.abs(e)))}function k$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_c(t)/3)))*3-_c(Math.abs(e)))}function R$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_c(t)-_c(e))+1}function PP(e,t,r,n){var i=Iy(e,t,r),a;switch(n=gd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=k$(i,c))&&(n.precision=a),NP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=R$(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=P$(i))&&(n.precision=a-(n.type==="%")*2);break}}return tw(n)}function co(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return PP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,c=n[i],f=n[a],h,m,v=10;for(f<c&&(m=c,c=f,f=m,m=i,i=a,a=m);v-- >0;){if(m=Oy(c,f,r),m===h)return n[i]=c,n[a]=f,t(n);if(m>0)c=Math.floor(c/m)*m,f=Math.ceil(f/m)*m;else if(m<0)c=Math.ceil(c*m)/m,f=Math.floor(f*m)/m;else break;h=m}return e},e}function kP(){var e=Jx();return e.copy=function(){return Ld(e,kP())},Zi.apply(e,arguments),co(e)}function RP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,B0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return RP(e).unknown(t)},e=arguments.length?Array.from(e,B0):[0,1],co(r)}function jP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],c;return a<i&&(c=r,r=n,n=c,c=i,i=a,a=c),e[r]=t.floor(i),e[n]=t.ceil(a),e}function EC(e){return Math.log(e)}function _C(e){return Math.exp(e)}function j$(e){return-Math.log(-e)}function M$(e){return-Math.exp(-e)}function D$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function L$(e){return e===10?D$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function B$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function AC(e){return(t,r)=>-e(-t,r)}function rw(e){const t=e(EC,_C),r=t.domain;let n=10,i,a;function c(){return i=B$(n),a=L$(n),r()[0]<0?(i=AC(i),a=AC(a),e(j$,M$)):e(EC,_C),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const h=r();let m=h[0],v=h[h.length-1];const w=v<m;w&&([m,v]=[v,m]);let E=i(m),C=i(v),O,I;const k=f==null?10:+f;let D=[];if(!(n%1)&&C-E<k){if(E=Math.floor(E),C=Math.ceil(C),m>0){for(;E<=C;++E)for(O=1;O<n;++O)if(I=E<0?O/a(-E):O*a(E),!(I<m)){if(I>v)break;D.push(I)}}else for(;E<=C;++E)for(O=n-1;O>=1;--O)if(I=E>0?O/a(-E):O*a(E),!(I<m)){if(I>v)break;D.push(I)}D.length*2<k&&(D=Cy(m,v,k))}else D=Cy(E,C,Math.min(C-E,k)).map(a);return w?D.reverse():D},t.tickFormat=(f,h)=>{if(f==null&&(f=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=gd(h)).precision==null&&(h.trim=!0),h=tw(h)),f===1/0)return h;const m=Math.max(1,n*f/t.ticks().length);return v=>{let w=v/a(Math.round(i(v)));return w*n<n-.5&&(w*=n),w<=m?h(v):""}},t.nice=()=>r(jP(r(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function MP(){const e=rw(jp()).domain([1,10]);return e.copy=()=>Ld(e,MP()).base(e.base()),Zi.apply(e,arguments),e}function SC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function CC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nw(e){var t=1,r=e(SC(t),CC(t));return r.constant=function(n){return arguments.length?e(SC(t=+n),CC(t)):t},co(r)}function DP(){var e=nw(jp());return e.copy=function(){return Ld(e,DP()).constant(e.constant())},Zi.apply(e,arguments)}function OC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function F$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U$(e){return e<0?-e*e:e*e}function iw(e){var t=e($n,$n),r=1;function n(){return r===1?e($n,$n):r===.5?e(F$,U$):e(OC(r),OC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},co(t)}function aw(){var e=iw(jp());return e.copy=function(){return Ld(e,aw()).exponent(e.exponent())},Zi.apply(e,arguments),e}function z$(){return aw.apply(null,arguments).exponent(.5)}function IC(e){return Math.sign(e)*e*e}function $$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LP(){var e=Jx(),t=[0,1],r=!1,n;function i(a){var c=$$(e(a));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(a){return e.invert(IC(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,B0)).map(IC)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zi.apply(i,arguments),co(i)}function BP(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=Gz(e,c/f);return a}function a(c){return c==null||isNaN(c=+c)?n:t[Md(r,c)]}return a.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},a.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(no),i()},a.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},a.unknown=function(c){return arguments.length?(n=c,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return BP().domain(e).range(t).unknown(n)},Zi.apply(a,arguments)}function FP(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function c(h){return h!=null&&h<=h?i[Md(n,h,0,r)]:a}function f(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return c}return c.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,f()):[e,t]},c.range=function(h){return arguments.length?(r=(i=Array.from(h)).length-1,f()):i.slice()},c.invertExtent=function(h){var m=i.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(h){return arguments.length&&(a=h),c},c.thresholds=function(){return n.slice()},c.copy=function(){return FP().domain([e,t]).range(i).unknown(a)},Zi.apply(co(c),arguments)}function UP(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Md(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var c=t.indexOf(a);return[e[c-1],e[c]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UP().domain(e).range(t).unknown(r)},Zi.apply(i,arguments)}const sv=new Date,ov=new Date;function en(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const c=i(a),f=i.ceil(a);return a-c<f-a?c:f},i.offset=(a,c)=>(t(a=new Date(+a),c==null?1:Math.floor(c)),a),i.range=(a,c,f)=>{const h=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<c)||!(f>0))return h;let m;do h.push(m=new Date(+a)),t(a,f),e(a);while(m<a&&a<c);return h},i.filter=a=>en(c=>{if(c>=c)for(;e(c),!a(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!a(c););else for(;--f>=0;)for(;t(c,1),!a(c););}),r&&(i.count=(a,c)=>(sv.setTime(+a),ov.setTime(+c),e(sv),e(ov),Math.floor(r(sv,ov))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?c=>n(c)%a===0:c=>i.count(0,c)%a===0):i)),i}const U0=en(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);U0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?en(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):U0);U0.range;const ns=1e3,Gi=ns*60,is=Gi*60,ds=is*24,sw=ds*7,TC=ds*30,lv=ds*365,Zo=en(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCSeconds());Zo.range;const ow=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getMinutes());ow.range;const lw=en(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCMinutes());lw.range;const cw=en(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns-e.getMinutes()*Gi)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getHours());cw.range;const uw=en(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCHours());uw.range;const Bd=en(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gi)/ds,e=>e.getDate()-1);Bd.range;const Mp=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ds,e=>e.getUTCDate()-1);Mp.range;const zP=en(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ds,e=>Math.floor(e/ds));zP.range;function vl(e){return en(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gi)/sw)}const Dp=vl(0),z0=vl(1),W$=vl(2),H$=vl(3),Ac=vl(4),V$=vl(5),G$=vl(6);Dp.range;z0.range;W$.range;H$.range;Ac.range;V$.range;G$.range;function yl(e){return en(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/sw)}const Lp=yl(0),$0=yl(1),q$=yl(2),K$=yl(3),Sc=yl(4),Y$=yl(5),X$=yl(6);Lp.range;$0.range;q$.range;K$.range;Sc.range;Y$.range;X$.range;const dw=en(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dw.range;const fw=en(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fw.range;const fs=en(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fs.range;const hs=en(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:en(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hs.range;function $P(e,t,r,n,i,a){const c=[[Zo,1,ns],[Zo,5,5*ns],[Zo,15,15*ns],[Zo,30,30*ns],[a,1,Gi],[a,5,5*Gi],[a,15,15*Gi],[a,30,30*Gi],[i,1,is],[i,3,3*is],[i,6,6*is],[i,12,12*is],[n,1,ds],[n,2,2*ds],[r,1,sw],[t,1,TC],[t,3,3*TC],[e,1,lv]];function f(m,v,w){const E=v<m;E&&([m,v]=[v,m]);const C=w&&typeof w.range=="function"?w:h(m,v,w),O=C?C.range(m,+v+1):[];return E?O.reverse():O}function h(m,v,w){const E=Math.abs(v-m)/w,C=qx(([,,k])=>k).right(c,E);if(C===c.length)return e.every(Iy(m/lv,v/lv,w));if(C===0)return U0.every(Math.max(Iy(m,v,w),1));const[O,I]=c[E/c[C-1][2]<c[C][2]/E?C-1:C];return O.every(I)}return[f,h]}const[Z$,Q$]=$P(hs,fw,Lp,zP,uw,lw),[J$,eW]=$P(fs,dw,Dp,Bd,cw,ow);function cv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function tW(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,c=e.shortDays,f=e.months,h=e.shortMonths,m=Uu(i),v=zu(i),w=Uu(a),E=zu(a),C=Uu(c),O=zu(c),I=Uu(f),k=zu(f),D=Uu(h),L=zu(h),j={a:ie,A:fe,b:we,B:be,c:null,d:MC,e:MC,f:AW,g:jW,G:DW,H:bW,I:EW,j:_W,L:WP,m:SW,M:CW,p:Z,q:le,Q:BC,s:FC,S:OW,u:IW,U:TW,V:NW,w:PW,W:kW,x:null,X:null,y:RW,Y:MW,Z:LW,"%":LC},z={a:De,A:Be,b:Ye,B:Te,c:null,d:DC,e:DC,f:zW,g:ZW,G:JW,H:BW,I:FW,j:UW,L:VP,m:$W,M:WW,p:rt,q:ve,Q:BC,s:FC,S:HW,u:VW,U:GW,V:qW,w:KW,W:YW,x:null,X:null,y:XW,Y:QW,Z:eH,"%":LC},W={a:_e,A:ge,b:de,B:Ae,c:ye,d:RC,e:RC,f:vW,g:kC,G:PC,H:jC,I:jC,j:hW,L:gW,m:fW,M:pW,p:Y,q:dW,Q:xW,s:wW,S:mW,u:sW,U:oW,V:lW,w:aW,W:cW,x:J,X:Me,y:kC,Y:PC,Z:uW,"%":yW};j.x=H(r,j),j.X=H(n,j),j.c=H(t,j),z.x=H(r,z),z.X=H(n,z),z.c=H(t,z);function H(ae,ke){return function(Oe){var xe=[],Fe=-1,ot=0,St=ae.length,wr,Bt,It;for(Oe instanceof Date||(Oe=new Date(+Oe));++Fe<St;)ae.charCodeAt(Fe)===37&&(xe.push(ae.slice(ot,Fe)),(Bt=NC[wr=ae.charAt(++Fe)])!=null?wr=ae.charAt(++Fe):Bt=wr==="e"?" ":"0",(It=ke[wr])&&(wr=It(Oe,Bt)),xe.push(wr),ot=Fe+1);return xe.push(ae.slice(ot,Fe)),xe.join("")}}function V(ae,ke){return function(Oe){var xe=Fu(1900,void 0,1),Fe=re(xe,ae,Oe+="",0),ot,St;if(Fe!=Oe.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(ke&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(ot=uv(Fu(xe.y,0,1)),St=ot.getUTCDay(),ot=St>4||St===0?$0.ceil(ot):$0(ot),ot=Mp.offset(ot,(xe.V-1)*7),xe.y=ot.getUTCFullYear(),xe.m=ot.getUTCMonth(),xe.d=ot.getUTCDate()+(xe.w+6)%7):(ot=cv(Fu(xe.y,0,1)),St=ot.getDay(),ot=St>4||St===0?z0.ceil(ot):z0(ot),ot=Bd.offset(ot,(xe.V-1)*7),xe.y=ot.getFullYear(),xe.m=ot.getMonth(),xe.d=ot.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),St="Z"in xe?uv(Fu(xe.y,0,1)).getUTCDay():cv(Fu(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(St+5)%7:xe.w+xe.U*7-(St+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,uv(xe)):cv(xe)}}function re(ae,ke,Oe,xe){for(var Fe=0,ot=ke.length,St=Oe.length,wr,Bt;Fe<ot;){if(xe>=St)return-1;if(wr=ke.charCodeAt(Fe++),wr===37){if(wr=ke.charAt(Fe++),Bt=W[wr in NC?ke.charAt(Fe++):wr],!Bt||(xe=Bt(ae,Oe,xe))<0)return-1}else if(wr!=Oe.charCodeAt(xe++))return-1}return xe}function Y(ae,ke,Oe){var xe=m.exec(ke.slice(Oe));return xe?(ae.p=v.get(xe[0].toLowerCase()),Oe+xe[0].length):-1}function _e(ae,ke,Oe){var xe=C.exec(ke.slice(Oe));return xe?(ae.w=O.get(xe[0].toLowerCase()),Oe+xe[0].length):-1}function ge(ae,ke,Oe){var xe=w.exec(ke.slice(Oe));return xe?(ae.w=E.get(xe[0].toLowerCase()),Oe+xe[0].length):-1}function de(ae,ke,Oe){var xe=D.exec(ke.slice(Oe));return xe?(ae.m=L.get(xe[0].toLowerCase()),Oe+xe[0].length):-1}function Ae(ae,ke,Oe){var xe=I.exec(ke.slice(Oe));return xe?(ae.m=k.get(xe[0].toLowerCase()),Oe+xe[0].length):-1}function ye(ae,ke,Oe){return re(ae,t,ke,Oe)}function J(ae,ke,Oe){return re(ae,r,ke,Oe)}function Me(ae,ke,Oe){return re(ae,n,ke,Oe)}function ie(ae){return c[ae.getDay()]}function fe(ae){return a[ae.getDay()]}function we(ae){return h[ae.getMonth()]}function be(ae){return f[ae.getMonth()]}function Z(ae){return i[+(ae.getHours()>=12)]}function le(ae){return 1+~~(ae.getMonth()/3)}function De(ae){return c[ae.getUTCDay()]}function Be(ae){return a[ae.getUTCDay()]}function Ye(ae){return h[ae.getUTCMonth()]}function Te(ae){return f[ae.getUTCMonth()]}function rt(ae){return i[+(ae.getUTCHours()>=12)]}function ve(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ke=H(ae+="",j);return ke.toString=function(){return ae},ke},parse:function(ae){var ke=V(ae+="",!1);return ke.toString=function(){return ae},ke},utcFormat:function(ae){var ke=H(ae+="",z);return ke.toString=function(){return ae},ke},utcParse:function(ae){var ke=V(ae+="",!0);return ke.toString=function(){return ae},ke}}}var NC={"-":"",_:" ",0:"0"},pn=/^\s*\d+/,rW=/^%/,nW=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function iW(e){return e.replace(nW,"\\$&")}function Uu(e){return new RegExp("^(?:"+e.map(iW).join("|")+")","i")}function zu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function aW(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sW(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function oW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function lW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function cW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=pn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function kC(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function uW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function dW(e,t,r){var n=pn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function fW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RC(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hW(e,t,r){var n=pn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jC(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function mW(e,t,r){var n=pn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function gW(e,t,r){var n=pn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function vW(e,t,r){var n=pn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function yW(e,t,r){var n=rW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xW(e,t,r){var n=pn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wW(e,t,r){var n=pn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function MC(e,t){return Nt(e.getDate(),t,2)}function bW(e,t){return Nt(e.getHours(),t,2)}function EW(e,t){return Nt(e.getHours()%12||12,t,2)}function _W(e,t){return Nt(1+Bd.count(fs(e),e),t,3)}function WP(e,t){return Nt(e.getMilliseconds(),t,3)}function AW(e,t){return WP(e,t)+"000"}function SW(e,t){return Nt(e.getMonth()+1,t,2)}function CW(e,t){return Nt(e.getMinutes(),t,2)}function OW(e,t){return Nt(e.getSeconds(),t,2)}function IW(e){var t=e.getDay();return t===0?7:t}function TW(e,t){return Nt(Dp.count(fs(e)-1,e),t,2)}function HP(e){var t=e.getDay();return t>=4||t===0?Ac(e):Ac.ceil(e)}function NW(e,t){return e=HP(e),Nt(Ac.count(fs(e),e)+(fs(e).getDay()===4),t,2)}function PW(e){return e.getDay()}function kW(e,t){return Nt(z0.count(fs(e)-1,e),t,2)}function RW(e,t){return Nt(e.getFullYear()%100,t,2)}function jW(e,t){return e=HP(e),Nt(e.getFullYear()%100,t,2)}function MW(e,t){return Nt(e.getFullYear()%1e4,t,4)}function DW(e,t){var r=e.getDay();return e=r>=4||r===0?Ac(e):Ac.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function LW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function DC(e,t){return Nt(e.getUTCDate(),t,2)}function BW(e,t){return Nt(e.getUTCHours(),t,2)}function FW(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function UW(e,t){return Nt(1+Mp.count(hs(e),e),t,3)}function VP(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function zW(e,t){return VP(e,t)+"000"}function $W(e,t){return Nt(e.getUTCMonth()+1,t,2)}function WW(e,t){return Nt(e.getUTCMinutes(),t,2)}function HW(e,t){return Nt(e.getUTCSeconds(),t,2)}function VW(e){var t=e.getUTCDay();return t===0?7:t}function GW(e,t){return Nt(Lp.count(hs(e)-1,e),t,2)}function GP(e){var t=e.getUTCDay();return t>=4||t===0?Sc(e):Sc.ceil(e)}function qW(e,t){return e=GP(e),Nt(Sc.count(hs(e),e)+(hs(e).getUTCDay()===4),t,2)}function KW(e){return e.getUTCDay()}function YW(e,t){return Nt($0.count(hs(e)-1,e),t,2)}function XW(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function ZW(e,t){return e=GP(e),Nt(e.getUTCFullYear()%100,t,2)}function QW(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function JW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sc(e):Sc.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function eH(){return"+0000"}function LC(){return"%"}function BC(e){return+e}function FC(e){return Math.floor(+e/1e3)}var tc,qP,KP;tH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tH(e){return tc=tW(e),qP=tc.format,tc.parse,KP=tc.utcFormat,tc.utcParse,tc}function rH(e){return new Date(e)}function nH(e){return e instanceof Date?+e:+new Date(+e)}function hw(e,t,r,n,i,a,c,f,h,m){var v=Jx(),w=v.invert,E=v.domain,C=m(".%L"),O=m(":%S"),I=m("%I:%M"),k=m("%I %p"),D=m("%a %d"),L=m("%b %d"),j=m("%B"),z=m("%Y");function W(H){return(h(H)<H?C:f(H)<H?O:c(H)<H?I:a(H)<H?k:n(H)<H?i(H)<H?D:L:r(H)<H?j:z)(H)}return v.invert=function(H){return new Date(w(H))},v.domain=function(H){return arguments.length?E(Array.from(H,nH)):E().map(rH)},v.ticks=function(H){var V=E();return e(V[0],V[V.length-1],H??10)},v.tickFormat=function(H,V){return V==null?W:m(V)},v.nice=function(H){var V=E();return(!H||typeof H.range!="function")&&(H=t(V[0],V[V.length-1],H??10)),H?E(jP(V,H)):v},v.copy=function(){return Ld(v,hw(e,t,r,n,i,a,c,f,h,m))},v}function iH(){return Zi.apply(hw(J$,eW,fs,dw,Dp,Bd,cw,ow,Zo,qP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aH(){return Zi.apply(hw(Z$,Q$,hs,fw,Lp,Mp,uw,lw,Zo,KP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bp(){var e=0,t=1,r,n,i,a,c=$n,f=!1,h;function m(w){return w==null||isNaN(w=+w)?h:c(i===0?.5:(w=(a(w)-r)*i,f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t]=w,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(c=w,m):c};function v(w){return function(E){var C,O;return arguments.length?([C,O]=E,c=w(C,O),m):[c(0),c(1)]}}return m.range=v(Mc),m.rangeRound=v(Qx),m.unknown=function(w){return arguments.length?(h=w,m):h},function(w){return a=w,r=w(e),n=w(t),i=r===n?0:1/(n-r),m}}function uo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YP(){var e=co(Bp()($n));return e.copy=function(){return uo(e,YP())},xs.apply(e,arguments)}function XP(){var e=rw(Bp()).domain([1,10]);return e.copy=function(){return uo(e,XP()).base(e.base())},xs.apply(e,arguments)}function ZP(){var e=nw(Bp());return e.copy=function(){return uo(e,ZP()).constant(e.constant())},xs.apply(e,arguments)}function pw(){var e=iw(Bp());return e.copy=function(){return uo(e,pw()).exponent(e.exponent())},xs.apply(e,arguments)}function sH(){return pw.apply(null,arguments).exponent(.5)}function QP(){var e=[],t=$n;function r(n){if(n!=null&&!isNaN(n=+n))return t((Md(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(no),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Vz(e,a/n))},r.copy=function(){return QP(t).domain(e)},xs.apply(r,arguments)}function Fp(){var e=0,t=.5,r=1,n=1,i,a,c,f,h,m=$n,v,w=!1,E;function C(I){return isNaN(I=+I)?E:(I=.5+((I=+v(I))-a)*(n*I<n*a?f:h),m(w?Math.max(0,Math.min(1,I)):I))}C.domain=function(I){return arguments.length?([e,t,r]=I,i=v(e=+e),a=v(t=+t),c=v(r=+r),f=i===a?0:.5/(a-i),h=a===c?0:.5/(c-a),n=a<i?-1:1,C):[e,t,r]},C.clamp=function(I){return arguments.length?(w=!!I,C):w},C.interpolator=function(I){return arguments.length?(m=I,C):m};function O(I){return function(k){var D,L,j;return arguments.length?([D,L,j]=k,m=y$(I,[D,L,j]),C):[m(0),m(.5),m(1)]}}return C.range=O(Mc),C.rangeRound=O(Qx),C.unknown=function(I){return arguments.length?(E=I,C):E},function(I){return v=I,i=I(e),a=I(t),c=I(r),f=i===a?0:.5/(a-i),h=a===c?0:.5/(c-a),n=a<i?-1:1,C}}function JP(){var e=co(Fp()($n));return e.copy=function(){return uo(e,JP())},xs.apply(e,arguments)}function e4(){var e=rw(Fp()).domain([.1,1,10]);return e.copy=function(){return uo(e,e4()).base(e.base())},xs.apply(e,arguments)}function t4(){var e=nw(Fp());return e.copy=function(){return uo(e,t4()).constant(e.constant())},xs.apply(e,arguments)}function mw(){var e=iw(Fp());return e.copy=function(){return uo(e,mw()).exponent(e.exponent())},xs.apply(e,arguments)}function oH(){return mw.apply(null,arguments).exponent(.5)}const Ku=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yx,scaleDiverging:JP,scaleDivergingLog:e4,scaleDivergingPow:mw,scaleDivergingSqrt:oH,scaleDivergingSymlog:t4,scaleIdentity:RP,scaleImplicit:Ty,scaleLinear:kP,scaleLog:MP,scaleOrdinal:Kx,scalePoint:Kz,scalePow:aw,scaleQuantile:BP,scaleQuantize:FP,scaleRadial:LP,scaleSequential:YP,scaleSequentialLog:XP,scaleSequentialPow:pw,scaleSequentialQuantile:QP,scaleSequentialSqrt:sH,scaleSequentialSymlog:ZP,scaleSqrt:z$,scaleSymlog:DP,scaleThreshold:UP,scaleTime:iH,scaleUtc:aH,tickFormat:PP},Symbol.toStringTag,{value:"Module"}));var ws=e=>e.chartData,Up=ue([ws],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gw=(e,t,r,n)=>n?Up(e):ws(e),lH=(e,t,r)=>r?Up(e):ws(e);function io(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Vt(t)&&Vt(r))return!0}return!1}function UC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function r4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Vt(r))i=r;else if(typeof r=="function")return;if(Vt(n))a=n;else if(typeof n=="function")return;var c=[i,a];if(io(c))return c}}function cH(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(io(n))return UC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Ze(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&ZA.test(i)){var h=ZA.exec(i);if(h==null||h[1]==null||t==null)c=void 0;else{var m=+h[1];c=t[0]-m}}else c=t?.[0];if(a==="auto")t!=null&&(f=Math.max(...t));else if(Ze(a))f=a;else if(typeof a=="function")try{t!=null&&(f=a(t?.[1]))}catch{}else if(typeof a=="string"&&QA.test(a)){var v=QA.exec(a);if(v==null||v[1]==null||t==null)f=void 0;else{var w=+v[1];f=t[1]+w}}else f=t?.[1];var E=[c,f];if(io(E))return t==null?E:UC(E,t,r)}}}var Dc=1e9,uH={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yw,dr=!0,Yi="[DecimalError] ",rl=Yi+"Invalid argument: ",vw=Yi+"Exponent out of range: ",Lc=Math.floor,Ho=Math.pow,dH=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bi,fn=1e7,ar=7,n4=9007199254740991,W0=Lc(n4/ar),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};qe.dividedBy=qe.div=function(e){return ss(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,r=t.constructor;return Gt(ss(t,new r(e),0,1),r.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return Wr(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(bi))throw Error(Yi+"NaN");if(r.s<1)throw Error(Yi+(r.s?"NaN":"-Infinity"));return r.eq(bi)?new n(0):(dr=!1,t=ss(vd(r,a),vd(e,a),a),dr=!0,Gt(t,i))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s4(t,e):i4(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Yi+"NaN");return r.s?(dr=!1,t=ss(r,e,0,1).times(e),dr=!0,r.minus(t)):Gt(new n(r),i)};qe.naturalExponential=qe.exp=function(){return a4(this)};qe.naturalLogarithm=qe.ln=function(){return vd(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i4(t,e):s4(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rl+e);if(t=Wr(i)+1,n=i.d.length-1,r=n*ar+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};qe.squareRoot=qe.sqrt=function(){var e,t,r,n,i,a,c,f=this,h=f.constructor;if(f.s<1){if(!f.s)return new h(0);throw Error(Yi+"NaN")}for(e=Wr(f),dr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Ta(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Lc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(i.toString()),r=h.precision,i=c=r+3;;)if(a=n,n=a.plus(ss(f,a,c+2)).times(.5),Ta(a.d).slice(0,c)===(t=Ta(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Gt(a,r+1,0),a.times(a).eq(f)){n=a;break}}else if(t!="9999")break;c+=4}return dr=!0,Gt(n,r)};qe.times=qe.mul=function(e){var t,r,n,i,a,c,f,h,m,v=this,w=v.constructor,E=v.d,C=(e=new w(e)).d;if(!v.s||!e.s)return new w(0);for(e.s*=v.s,r=v.e+e.e,h=E.length,m=C.length,h<m&&(a=E,E=C,C=a,c=h,h=m,m=c),a=[],c=h+m,n=c;n--;)a.push(0);for(n=m;--n>=0;){for(t=0,i=h+n;i>n;)f=a[i]+C[n]*E[i-n-1]+t,a[i--]=f%fn|0,t=f/fn|0;a[i]=(a[i]+t)%fn|0}for(;!a[--c];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,dr?Gt(e,w.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ka(e,0,Dc),t===void 0?t=n.rounding:ka(t,0,8),Gt(r,e+Wr(r)+1,t))};qe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ul(n,!0):(ka(e,0,Dc),t===void 0?t=i.rounding:ka(t,0,8),n=Gt(new i(n),e+1,t),r=ul(n,!0,e+1)),r};qe.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ul(i):(ka(e,0,Dc),t===void 0?t=a.rounding:ka(t,0,8),n=Gt(new a(i),e+Wr(i)+1,t),r=ul(n.abs(),!1,e+Wr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return Gt(new t(e),Wr(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,r,n,i,a,c,f=this,h=f.constructor,m=12,v=+(e=new h(e));if(!e.s)return new h(bi);if(f=new h(f),!f.s){if(e.s<1)throw Error(Yi+"Infinity");return f}if(f.eq(bi))return f;if(n=h.precision,e.eq(bi))return Gt(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,a=f.s,c){if((r=v<0?-v:v)<=n4){for(i=new h(bi),t=Math.ceil(n/ar+4),dr=!1;r%2&&(i=i.times(f),$C(i.d,t)),r=Lc(r/2),r!==0;)f=f.times(f),$C(f.d,t);return dr=!0,e.s<0?new h(bi).div(i):Gt(i,n)}}else if(a<0)throw Error(Yi+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,dr=!1,i=e.times(vd(f,n+m)),dr=!0,i=a4(i),i.s=a,i};qe.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Wr(i),n=ul(i,r<=a.toExpNeg||r>=a.toExpPos)):(ka(e,1,Dc),t===void 0?t=a.rounding:ka(t,0,8),i=Gt(new a(i),e,t),r=Wr(i),n=ul(i,e<=r||r<=a.toExpNeg,e)),n};qe.toSignificantDigits=qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ka(e,1,Dc),t===void 0?t=n.rounding:ka(t,0,8)),Gt(new n(r),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wr(e),r=e.constructor;return ul(e,t<=r.toExpNeg||t>=r.toExpPos)};function i4(e,t){var r,n,i,a,c,f,h,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),dr?Gt(t,w):t;if(h=e.d,m=t.d,c=e.e,i=t.e,h=h.slice(),a=c-i,a){for(a<0?(n=h,a=-a,f=m.length):(n=m,i=c,f=h.length),c=Math.ceil(w/ar),f=c>f?c+1:f+1,a>f&&(a=f,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(f=h.length,a=m.length,f-a<0&&(a=f,n=m,m=h,h=n),r=0;a;)r=(h[--a]=h[a]+m[a]+r)/fn|0,h[a]%=fn;for(r&&(h.unshift(r),++i),f=h.length;h[--f]==0;)h.pop();return t.d=h,t.e=i,dr?Gt(t,w):t}function ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rl+e)}function Ta(e){var t,r,n,i=e.length-1,a="",c=e[0];if(i>0){for(a+=c,t=1;t<i;t++)n=e[t]+"",r=ar-n.length,r&&(a+=Xs(r)),a+=n;c=e[t],n=c+"",r=ar-n.length,r&&(a+=Xs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var ss=(function(){function e(n,i){var a,c=0,f=n.length;for(n=n.slice();f--;)a=n[f]*i+c,n[f]=a%fn|0,c=a/fn|0;return c&&n.unshift(c),n}function t(n,i,a,c){var f,h;if(a!=c)h=a>c?1:-1;else for(f=h=0;f<a;f++)if(n[f]!=i[f]){h=n[f]>i[f]?1:-1;break}return h}function r(n,i,a){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*fn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,c){var f,h,m,v,w,E,C,O,I,k,D,L,j,z,W,H,V,re,Y=n.constructor,_e=n.s==i.s?1:-1,ge=n.d,de=i.d;if(!n.s)return new Y(n);if(!i.s)throw Error(Yi+"Division by zero");for(h=n.e-i.e,V=de.length,W=ge.length,C=new Y(_e),O=C.d=[],m=0;de[m]==(ge[m]||0);)++m;if(de[m]>(ge[m]||0)&&--h,a==null?L=a=Y.precision:c?L=a+(Wr(n)-Wr(i))+1:L=a,L<0)return new Y(0);if(L=L/ar+2|0,m=0,V==1)for(v=0,de=de[0],L++;(m<W||v)&&L--;m++)j=v*fn+(ge[m]||0),O[m]=j/de|0,v=j%de|0;else{for(v=fn/(de[0]+1)|0,v>1&&(de=e(de,v),ge=e(ge,v),V=de.length,W=ge.length),z=V,I=ge.slice(0,V),k=I.length;k<V;)I[k++]=0;re=de.slice(),re.unshift(0),H=de[0],de[1]>=fn/2&&++H;do v=0,f=t(de,I,V,k),f<0?(D=I[0],V!=k&&(D=D*fn+(I[1]||0)),v=D/H|0,v>1?(v>=fn&&(v=fn-1),w=e(de,v),E=w.length,k=I.length,f=t(w,I,E,k),f==1&&(v--,r(w,V<E?re:de,E))):(v==0&&(f=v=1),w=de.slice()),E=w.length,E<k&&w.unshift(0),r(I,w,k),f==-1&&(k=I.length,f=t(de,I,V,k),f<1&&(v++,r(I,V<k?re:de,k))),k=I.length):f===0&&(v++,I=[0]),O[m++]=v,f&&I[0]?I[k++]=ge[z]||0:(I=[ge[z]],k=1);while((z++<W||I[0]!==void 0)&&L--)}return O[0]||O.shift(),C.e=h,Gt(C,c?a+Wr(C)+1:a)}})();function a4(e,t){var r,n,i,a,c,f,h=0,m=0,v=e.constructor,w=v.precision;if(Wr(e)>16)throw Error(vw+Wr(e));if(!e.s)return new v(bi);for(dr=!1,f=w,c=new v(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(Ho(2,m))/Math.LN10*2+5|0,f+=n,r=i=a=new v(bi),v.precision=f;;){if(i=Gt(i.times(e),f),r=r.times(++h),c=a.plus(ss(i,r,f)),Ta(c.d).slice(0,f)===Ta(a.d).slice(0,f)){for(;m--;)a=Gt(a.times(a),f);return v.precision=w,t==null?(dr=!0,Gt(a,w)):a}a=c}}function Wr(e){for(var t=e.e*ar,r=e.d[0];r>=10;r/=10)t++;return t}function dv(e,t,r){if(t>e.LN10.sd())throw dr=!0,r&&(e.precision=r),Error(Yi+"LN10 precision limit exceeded");return Gt(new e(e.LN10),t)}function Xs(e){for(var t="";e--;)t+="0";return t}function vd(e,t){var r,n,i,a,c,f,h,m,v,w=1,E=10,C=e,O=C.d,I=C.constructor,k=I.precision;if(C.s<1)throw Error(Yi+(C.s?"NaN":"-Infinity"));if(C.eq(bi))return new I(0);if(t==null?(dr=!1,m=k):m=t,C.eq(10))return t==null&&(dr=!0),dv(I,m);if(m+=E,I.precision=m,r=Ta(O),n=r.charAt(0),a=Wr(C),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=Ta(C.d),n=r.charAt(0),w++;a=Wr(C),n>1?(C=new I("0."+r),a++):C=new I(n+"."+r.slice(1))}else return h=dv(I,m+2,k).times(a+""),C=vd(new I(n+"."+r.slice(1)),m-E).plus(h),I.precision=k,t==null?(dr=!0,Gt(C,k)):C;for(f=c=C=ss(C.minus(bi),C.plus(bi),m),v=Gt(C.times(C),m),i=3;;){if(c=Gt(c.times(v),m),h=f.plus(ss(c,new I(i),m)),Ta(h.d).slice(0,m)===Ta(f.d).slice(0,m))return f=f.times(2),a!==0&&(f=f.plus(dv(I,m+2,k).times(a+""))),f=ss(f,new I(w),m),I.precision=k,t==null?(dr=!0,Gt(f,k)):f;f=h,i+=2}}function zC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Lc(r/ar),e.d=[],n=(r+1)%ar,r<0&&(n+=ar),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ar;n<i;)e.d.push(+t.slice(n,n+=ar));t=t.slice(n),n=ar-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),dr&&(e.e>W0||e.e<-W0))throw Error(vw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Gt(e,t,r){var n,i,a,c,f,h,m,v,w=e.d;for(c=1,a=w[0];a>=10;a/=10)c++;if(n=t-c,n<0)n+=ar,i=t,m=w[v=0];else{if(v=Math.ceil((n+1)/ar),a=w.length,v>=a)return e;for(m=a=w[v],c=1;a>=10;a/=10)c++;n%=ar,i=n-ar+c}if(r!==void 0&&(a=Ho(10,c-i-1),f=m/a%10|0,h=t<0||w[v+1]!==void 0||m%a,h=r<4?(f||h)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||h||r==6&&(n>0?i>0?m/Ho(10,c-i):0:w[v-1])%10&1||r==(e.s<0?8:7))),t<1||!w[0])return h?(a=Wr(e),w.length=1,t=t-a-1,w[0]=Ho(10,(ar-t%ar)%ar),e.e=Lc(-t/ar)||0):(w.length=1,w[0]=e.e=e.s=0),e;if(n==0?(w.length=v,a=1,v--):(w.length=v+1,a=Ho(10,ar-n),w[v]=i>0?(m/Ho(10,c-i)%Ho(10,i)|0)*a:0),h)for(;;)if(v==0){(w[0]+=a)==fn&&(w[0]=1,++e.e);break}else{if(w[v]+=a,w[v]!=fn)break;w[v--]=0,a=1}for(n=w.length;w[--n]===0;)w.pop();if(dr&&(e.e>W0||e.e<-W0))throw Error(vw+Wr(e));return e}function s4(e,t){var r,n,i,a,c,f,h,m,v,w,E=e.constructor,C=E.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new E(e),dr?Gt(t,C):t;if(h=e.d,w=t.d,n=t.e,m=e.e,h=h.slice(),c=m-n,c){for(v=c<0,v?(r=h,c=-c,f=w.length):(r=w,n=m,f=h.length),i=Math.max(Math.ceil(C/ar),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=h.length,f=w.length,v=i<f,v&&(f=i),i=0;i<f;i++)if(h[i]!=w[i]){v=h[i]<w[i];break}c=0}for(v&&(r=h,h=w,w=r,t.s=-t.s),f=h.length,i=w.length-f;i>0;--i)h[f++]=0;for(i=w.length;i>c;){if(h[--i]<w[i]){for(a=i;a&&h[--a]===0;)h[a]=fn-1;--h[a],h[i]+=fn}h[i]-=w[i]}for(;h[--f]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,dr?Gt(t,C):t):new E(0)}function ul(e,t,r){var n,i=Wr(e),a=Ta(e.d),c=a.length;return t?(r&&(n=r-c)>0?a=a.charAt(0)+"."+a.slice(1)+Xs(n):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Xs(-i-1)+a,r&&(n=r-c)>0&&(a+=Xs(n))):i>=c?(a+=Xs(i+1-c),r&&(n=r-i-1)>0&&(a=a+"."+Xs(n))):((n=i+1)<c&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(a+="."),a+=Xs(n))),e.s<0?"-"+a:a}function $C(e,t){if(e.length>t)return e.length=t,!0}function o4(e){var t,r,n;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(rl+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return zC(c,a.toString())}else if(typeof a!="string")throw Error(rl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,dH.test(a))zC(c,a);else throw Error(rl+a)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=o4,i.config=i.set=fH,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fH(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,r,n,i=["precision",1,Dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Lc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(rl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rl+r+": "+n);return this}var yw=o4(uH);bi=new yw(1);const Ut=yw;var hH=e=>e,l4={},c4=e=>e===l4,WC=e=>function t(){return arguments.length===0||arguments.length===1&&c4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},u4=(e,t)=>e===1?t:WC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(c=>c!==l4).length;return a>=e?t(...n):u4(e-a,WC(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var m=n.map(v=>c4(v)?f.shift():v);return t(...m,...f)}))}),pH=e=>u4(e.length,e),Ry=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},mH=pH((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),gH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hH;var i=r.reverse(),a=i[0],c=i.slice(1);return function(){return c.reduce((f,h)=>h(f),a(...arguments))}};function d4(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function f4(e,t,r){for(var n=new Ut(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var h4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},p4=(e,t,r)=>{if(e.lte(0))return new Ut(0);var n=d4(e.toNumber()),i=new Ut(10).pow(n),a=e.div(i),c=n!==1?.05:.1,f=new Ut(Math.ceil(a.div(c).toNumber())).add(r).mul(c),h=f.mul(i);return t?new Ut(h.toNumber()):new Ut(Math.ceil(h.toNumber()))},vH=(e,t,r)=>{var n=new Ut(1),i=new Ut(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ut(10).pow(d4(e)-1),i=new Ut(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ut(Math.floor(e)))}else e===0?i=new Ut(Math.floor((t-1)/2)):r||(i=new Ut(Math.floor(e)));var c=Math.floor((t-1)/2),f=gH(mH(h=>i.add(new Ut(h-c).mul(n)).toNumber()),Ry);return f(0,t)},m4=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var c=p4(new Ut(r).sub(t).div(n-1),i,a),f;t<=0&&r>=0?f=new Ut(0):(f=new Ut(t).add(r).div(2),f=f.sub(new Ut(f).mod(c)));var h=Math.ceil(f.sub(t).div(c).toNumber()),m=Math.ceil(new Ut(r).sub(f).div(c).toNumber()),v=h+m+1;return v>n?m4(t,r,n,i,a+1):(v<n&&(m=r>0?m+(n-v):m,h=r>0?h:h+(n-v)),{step:c,tickMin:f.sub(new Ut(h).mul(c)),tickMax:f.add(new Ut(m).mul(c))})},yH=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,h]=h4([r,n]);if(f===-1/0||h===1/0){var m=h===1/0?[f,...Ry(0,i-1).map(()=>1/0)]:[...Ry(0,i-1).map(()=>-1/0),h];return r>n?m.reverse():m}if(f===h)return vH(f,i,a);var{step:v,tickMin:w,tickMax:E}=m4(f,h,c,a,0),C=f4(w,E.add(new Ut(.1).mul(v)),v);return r>n?C.reverse():C},xH=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=h4([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(r,2),m=p4(new Ut(f).sub(c).div(h-1),a,0),v=[...f4(new Ut(c),new Ut(f),m),f];return a===!1&&(v=v.map(w=>Math.round(w))),n>i?v.reverse():v},g4=e=>e.rootProps.maxBarSize,wH=e=>e.rootProps.barGap,v4=e=>e.rootProps.barCategoryGap,bH=e=>e.rootProps.barSize,Fd=e=>e.rootProps.stackOffset,y4=e=>e.rootProps.reverseStackOrder,xw=e=>e.options.chartName,ww=e=>e.rootProps.syncId,x4=e=>e.rootProps.syncMethod,bw=e=>e.options.eventEmitter,$r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ts={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},EH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ts.angleAxisId,includeHidden:!1,name:void 0,reversed:ts.reversed,scale:ts.scale,tick:ts.tick,tickCount:void 0,ticks:void 0,type:ts.type,unit:void 0},_H={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:xi.type,unit:void 0},AH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SH={allowDataOverflow:xi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:xi.tickCount,ticks:void 0,type:"category",unit:void 0},Ew=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?AH:EH,_w=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SH:_H,$p=e=>e.polarOptions,Aw=ue([vs,ys,Jr],vP),w4=ue([$p,Aw],(e,t)=>{if(e!=null)return Ln(e.innerRadius,t,0)}),b4=ue([$p,Aw],(e,t)=>{if(e!=null)return Ln(e.outerRadius,t,t*.8)}),CH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},E4=ue([$p],CH);ue([Ew,E4],zp);var _4=ue([Aw,w4,b4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([_w,_4],zp);var A4=ue([Pt,$p,w4,b4,vs,ys],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:h,endAngle:m}=t;return{cx:Ln(c,i,i/2),cy:Ln(f,a,a/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:m,clockWise:!1}}}),hr=(e,t)=>t,Ud=(e,t,r)=>r;function Sw(e){return e?.id}function S4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,c=new Map;return e.forEach(f=>{var h,m=(h=f.data)!==null&&h!==void 0?h:n;if(!(m==null||m.length===0)){var v=Sw(f);m.forEach((w,E)=>{var C=a==null||i?E:String(Lt(w,a,null)),O=Lt(w,f.dataKey,0),I;c.has(C)?I=c.get(C):I={},Object.assign(I,{[v]:O}),c.set(C,I)})}}),Array.from(c.values())}function Wp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Hp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function OH(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var tn=e=>{var t=Pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bc=e=>e.tooltip.settings.axisId;function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=[0,"auto"],un={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},C4=(e,t)=>e.cartesianAxis.xAxis[t],ja=(e,t)=>{var r=C4(e,t);return r??un},dn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nd},O4=(e,t)=>e.cartesianAxis.yAxis[t],Ma=(e,t)=>{var r=O4(e,t);return r??dn},I4={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Cw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??I4},xr=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Ma(e,r);case"zAxis":return Cw(e,r);case"angleAxis":return Ew(e,r);case"radiusAxis":return _w(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},PH=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Ma(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zd=(e,t,r)=>{switch(t){case"xAxis":return ja(e,r);case"yAxis":return Ma(e,r);case"angleAxis":return Ew(e,r);case"radiusAxis":return _w(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},T4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ow(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Gp=e=>e.graphicalItems.cartesianItems,kH=ue([hr,Ud],Ow),Iw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),$d=ue([Gp,xr,kH],Iw,{memoizeOptions:{resultEqualityCheck:Vp}}),N4=ue([$d],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Wp)),P4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),RH=ue([$d],P4),Tw=e=>e.map(t=>t.data).filter(Boolean).flat(1),jH=ue([$d],Tw,{memoizeOptions:{resultEqualityCheck:Vp}}),Nw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Pw=ue([jH,gw],Nw),kw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Lt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Lt(i,n)}))):e.map(n=>({value:n})),qp=ue([Pw,xr,$d],kw);function k4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hh(e){if(qi(e)||e instanceof Date){var t=Number(e);if(Vt(t))return t}}function VC(e){if(Array.isArray(e)){var t=[Hh(e[0]),Hh(e[1])];return io(t)?t:void 0}var r=Hh(e);if(r!=null)return[r,r]}function ps(e){return e.map(Hh).filter(C7)}function MH(e,t,r){return!r||typeof t!="number"||Oi(t)?[]:r.length?ps(r.flatMap(n=>{var i=Lt(e,n.dataKey),a,c;if(Array.isArray(i)?[a,c]=i:a=c=i,!(!Vt(a)||!Vt(c)))return[t-a,t+c]})):[]}var rn=e=>{var t=tn(e),r=Bc(e);return zd(e,t,r)},Wd=ue([rn],e=>e?.dataKey),DH=ue([N4,gw,rn],S4),R4=(e,t,r,n)=>{var i={},a=t.reduce((c,f)=>{if(f.stackId==null)return c;var h=c[f.stackId];return h==null&&(h=[]),h.push(f),c[f.stackId]=h,c},i);return Object.fromEntries(Object.entries(a).map(c=>{var[f,h]=c,m=n?[...h].reverse():h,v=m.map(Sw);return[f,{stackedData:tF(e,v,r),graphicalItems:m}]}))},My=ue([DH,N4,Fd,y4],R4),j4=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var c=sF(e,i,a);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},LH=ue([xr],e=>e.allowDataOverflow),Rw=e=>{var t;if(e==null||!("domain"in e))return jy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ps(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:jy},jw=ue([xr],Rw),Mw=ue([jw,LH],r4),BH=ue([My,ws,hr,Mw],j4,{memoizeOptions:{resultEqualityCheck:Hp}}),Kp=e=>e.errorBars,FH=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>k4(r,n)),V0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),c=Math.min(...a),f=Math.max(...a);return[c,f]}},Dw=(e,t,r,n,i)=>{var a,c;if(r.length>0&&e.forEach(f=>{r.forEach(h=>{var m,v,w=(m=n[h.id])===null||m===void 0?void 0:m.filter(D=>k4(i,D)),E=Lt(f,(v=t.dataKey)!==null&&v!==void 0?v:h.dataKey),C=MH(f,E,w);if(C.length>=2){var O=Math.min(...C),I=Math.max(...C);(a==null||O<a)&&(a=O),(c==null||I>c)&&(c=I)}var k=VC(E);k!=null&&(a=a==null?k[0]:Math.min(a,k[0]),c=c==null?k[1]:Math.max(c,k[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var h=VC(Lt(f,t.dataKey));h!=null&&(a=a==null?h[0]:Math.min(a,h[0]),c=c==null?h[1]:Math.max(c,h[1]))}),Vt(a)&&Vt(c))return[a,c]},UH=ue([Pw,xr,RH,Kp,hr],Dw,{memoizeOptions:{resultEqualityCheck:Hp}});function zH(e){var{value:t}=e;if(qi(t)||t instanceof Date)return t}var $H=(e,t,r)=>{var n=e.map(zH).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&ZT(n))?bP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},M4=e=>e.referenceElements.dots,Fc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),WH=ue([M4,hr,Ud],Fc),D4=e=>e.referenceElements.areas,HH=ue([D4,hr,Ud],Fc),L4=e=>e.referenceElements.lines,VH=ue([L4,hr,Ud],Fc),B4=(e,t)=>{if(e!=null){var r=ps(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},GH=ue(WH,hr,B4),F4=(e,t)=>{if(e!=null){var r=ps(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qH=ue([HH,hr],F4);function KH(e){var t;if(e.x!=null)return ps([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ps(r)}function YH(e){var t;if(e.y!=null)return ps([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ps(r)}var U4=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?KH(n):YH(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},XH=ue([VH,hr],U4),ZH=ue(GH,XH,qH,(e,t,r)=>V0(e,r,t)),Lw=(e,t,r,n,i,a,c,f)=>{if(r!=null)return r;var h=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",m=h?V0(n,a,i):V0(a,i);return cH(t,m,e.allowDataOverflow)},QH=ue([xr,jw,Mw,BH,UH,ZH,Pt,hr],Lw,{memoizeOptions:{resultEqualityCheck:Hp}}),JH=[0,1],Bw=(e,t,r,n,i,a,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:h}=e,m=gl(t,a);if(m&&f==null){var v;return bP(0,(v=r?.length)!==null&&v!==void 0?v:0)}return h==="category"?$H(n,e,m):i==="expand"?JH:c}},Fw=ue([xr,Pt,Pw,qp,Fd,hr,QH],Bw),z4=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:c}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof a=="string"){var f="scale".concat(Cd(a));return f in Ku?f:"point"}}},Uc=ue([xr,Pt,T4,xw,hr],z4);function eV(e){if(e!=null){if(e in Ku)return Ku[e]();var t="scale".concat(Cd(e));if(t in Ku)return Ku[t]()}}function Uw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=eV(t);if(i!=null){var a=i.domain(r).range(n);return XB(a),a}}}var zw=(e,t,r)=>{var n=Rw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&io(e))return yH(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&io(e))return xH(e,t.tickCount,t.allowDecimals)}},$w=ue([Fw,zd,Uc],zw),Ww=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&io(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,a),Math.max(c,f)]}return t},tV=ue([xr,Fw,$w,hr],Ww),rV=ue(qp,xr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ps(e.map(w=>w.value))).sort((w,E)=>w-E),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var c=a-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var h=n[f],m=n[f+1];if(!(h==null||m==null)){var v=m-h;r=Math.min(r,v)}}return r/c}}),$4=ue(rV,Pt,v4,Jr,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Vt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var c=Ln(r,e*a),f=e*a/2;return f-c-(f-c)/a*c}return 0}),nV=(e,t,r)=>{var n=ja(e,t);return n==null||typeof n.padding!="string"?0:$4(e,"xAxis",t,r,n.padding)},iV=(e,t,r)=>{var n=Ma(e,t);return n==null||typeof n.padding!="string"?0:$4(e,"yAxis",t,r,n.padding)},aV=ue(ja,nV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),sV=ue(Ma,iV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),oV=ue([Jr,aV,Op,Cp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),lV=ue([Jr,Pt,sV,Op,Cp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:c}=i;return a?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return oV(e,r,n);case"yAxis":return lV(e,r,n);case"zAxis":return(i=Cw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return E4(e);case"radiusAxis":return _4(e,r);default:return}},W4=ue([xr,Hd],zp),Cc=ue([xr,Uc,tV,W4],Uw);ue([$d,Kp,hr],FH);function H4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yp=(e,t)=>t,Xp=(e,t,r)=>r,cV=ue(Ap,Yp,Xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(H4)),uV=ue(Sp,Yp,Xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(H4)),V4=(e,t)=>({width:e.width,height:t.height}),dV=(e,t)=>{var r=typeof t.width=="number"?t.width:Nd;return{width:r,height:e.height}},G4=ue(Jr,ja,V4),fV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},hV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},pV=ue(ys,Jr,cV,Yp,Xp,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var h=V4(t,f);c==null&&(c=fV(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;a[f.id]=c-Number(m)*h.height,c+=(m?-1:1)*h.height}),a}),mV=ue(vs,Jr,uV,Yp,Xp,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var h=dV(t,f);c==null&&(c=hV(t,n,e));var m=n==="left"&&!i||n==="right"&&i;a[f.id]=c-Number(m)*h.width,c+=(m?-1:1)*h.width}),a}),gV=(e,t)=>{var r=ja(e,t);if(r!=null)return pV(e,r.orientation,r.mirror)},vV=ue([Jr,ja,gV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yV=(e,t)=>{var r=Ma(e,t);if(r!=null)return mV(e,r.orientation,r.mirror)},xV=ue([Jr,Ma,yV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),q4=ue(Jr,Ma,(e,t)=>{var r=typeof t.width=="number"?t.width:Nd;return{width:r,height:e.height}}),GC=(e,t,r)=>{switch(t){case"xAxis":return G4(e,r).width;case"yAxis":return q4(e,r).height;default:return}},K4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:c}=r,f=gl(e,n),h=t.map(m=>m.value);if(c&&f&&a==="category"&&i&&ZT(h))return h}},Hw=ue([Pt,qp,xr,hr],K4),Y4=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,c=gl(e,n);if(c&&(i==="number"||a!=="auto"))return t.map(f=>f.value)}},Vw=ue([Pt,qp,zd,hr],Y4),qC=ue([Pt,PH,Uc,Cc,Hw,Vw,Hd,$w,hr],(e,t,r,n,i,a,c,f,h)=>{if(t!=null){var m=gl(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:a,duplicateDomain:i,isCategorical:m,niceTicks:f,range:c,realScaleType:r,scale:n}}}),wV=(e,t,r,n,i,a,c,f,h)=>{if(!(t==null||n==null)){var m=gl(e,h),{type:v,ticks:w,tickCount:E}=t,C=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,O=v==="category"&&n.bandwidth?n.bandwidth()/C:0;O=h==="angleAxis"&&a!=null&&a.length>=2?hn(a[0]-a[1])*2*O:O;var I=w||i;if(I){var k=I.map((D,L)=>{var j=c?c.indexOf(D):D;return{index:L,coordinate:n(j)+O,value:D,offset:O}});return k.filter(D=>Vt(D.coordinate))}return m&&f?f.map((D,L)=>({coordinate:n(D)+O,value:D,index:L,offset:O})).filter(D=>Vt(D.coordinate)):n.ticks?n.ticks(E).map(D=>({coordinate:n(D)+O,value:D,offset:O})):n.domain().map((D,L)=>({coordinate:n(D)+O,value:c?c[D]:D,index:L,offset:O}))}},X4=ue([Pt,zd,Uc,Cc,$w,Hd,Hw,Vw,hr],wV),bV=(e,t,r,n,i,a,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=gl(e,c),{tickCount:h}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?hn(n[0]-n[1])*2*m:m,f&&a?a.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:i?i[v]:v,index:w,offset:m}))}},ao=ue([Pt,zd,Cc,Hd,Hw,Vw,hr],bV),so=ue(xr,Cc,(e,t)=>{if(!(e==null||t==null))return H0(H0({},e),{},{scale:t})}),EV=ue([xr,Uc,Fw,W4],Uw),_V=ue((e,t,r)=>Cw(e,r),EV,(e,t)=>{if(!(e==null||t==null))return H0(H0({},e),{},{scale:t})}),AV=ue([Pt,Ap,Sp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Z4=e=>e.options.defaultTooltipEventType,Q4=e=>e.options.validateTooltipEventTypes;function J4(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Gw(e,t){var r=Z4(e),n=Q4(e);return J4(t,r,n)}function SV(e){return He(t=>Gw(t,e))}var e8=(e,t)=>{var r,n=Number(t);if(!(Oi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},CV=e=>e.tooltip.settings,eo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},OV={itemInteraction:{click:eo,hover:eo},axisInteraction:{click:eo,hover:eo},keyboardInteraction:eo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},t8=ai({name:"tooltip",initialState:OV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ur()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ha(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:ur()},removeTooltipEntrySettings:{reducer(e,t){var r=ha(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ur()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:IV,replaceTooltipEntrySettings:TV,removeTooltipEntrySettings:NV,setTooltipSettingsState:PV,setActiveMouseOverItemIndex:r8,mouseLeaveItem:kV,mouseLeaveChart:n8,setActiveClickItemIndex:RV,setMouseOverAxisIndex:i8,setMouseClickAxisIndex:jV,setSyncInteraction:Dy,setKeyboardInteraction:Ly}=t8.actions,MV=t8.reducer;function KC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=LV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UV(e){return e.index!=null}var a8=(e,t,r,n)=>{if(t==null)return eo;var i=FV(e,t,r);if(i==null)return eo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(UV(i)){if(a)return Oh(Oh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Oh(Oh({},eo),{},{coordinate:i.coordinate})};function zV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $V(e,t){var r=zV(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),c=Math.max(n,i);return r>=a&&r<=c}function WV(e,t,r){if(r==null||t==null)return!0;var n=Lt(e,t);return n==null||!io(r)?!0:$V(n,r)}var qw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Vt(a))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var h=Math.max(c,Math.min(a,f)),m=t[h];return m==null||WV(m,r,n)?String(h):null},s8=(e,t,r,n,i,a,c,f)=>{if(!(a==null||f==null)){var h=c[0],m=h==null?void 0:f(h.positions,a);if(m!=null)return m;var v=i?.[Number(a)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},o8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},Vd=e=>e.options.tooltipPayloadSearcher,zc=e=>e.tooltip;function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e,t){return e??t}var l8=(e,t,r,n,i,a,c)=>{if(!(t==null||a==null)){var{chartData:f,computedData:h,dataStartIndex:m,dataEndIndex:v}=r,w=[];return e.reduce((E,C)=>{var O,{dataDefinedOnItem:I,settings:k}=C,D=qV(I,f),L=Array.isArray(D)?VN(D,m,v):D,j=(O=k?.dataKey)!==null&&O!==void 0?O:n,z=k?.nameKey,W;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?W=QT(L,n,i):W=a(L,t,h,z),Array.isArray(W))W.forEach(V=>{var re=XC(XC({},k),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});E.push(JA({tooltipEntrySettings:re,dataKey:V.dataKey,payload:V.payload,value:Lt(V.payload,V.dataKey),name:V.name}))});else{var H;E.push(JA({tooltipEntrySettings:k,dataKey:j,payload:W,value:Lt(W,j),name:(H=Lt(W,z))!==null&&H!==void 0?H:k?.name}))}return E},w)}},Kw=ue([rn,Pt,T4,xw,tn],z4),KV=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YV=ue([tn,Bc],Ow),$c=ue([KV,rn,YV],Iw,{memoizeOptions:{resultEqualityCheck:Vp}}),XV=ue([$c],e=>e.filter(Wp)),ZV=ue([$c],Tw,{memoizeOptions:{resultEqualityCheck:Vp}}),Wc=ue([ZV,ws],Nw),QV=ue([XV,ws,rn],S4),Yw=ue([Wc,rn,$c],kw),c8=ue([rn],Rw),JV=ue([rn],e=>e.allowDataOverflow),u8=ue([c8,JV],r4),eG=ue([$c],e=>e.filter(Wp)),tG=ue([QV,eG,Fd,y4],R4),rG=ue([tG,ws,tn,u8],j4),nG=ue([$c],P4),iG=ue([Wc,rn,nG,Kp,tn],Dw,{memoizeOptions:{resultEqualityCheck:Hp}}),aG=ue([M4,tn,Bc],Fc),sG=ue([aG,tn],B4),oG=ue([D4,tn,Bc],Fc),lG=ue([oG,tn],F4),cG=ue([L4,tn,Bc],Fc),uG=ue([cG,tn],U4),dG=ue([sG,uG,lG],V0),fG=ue([rn,c8,u8,rG,iG,dG,Pt,tn],Lw),Gd=ue([rn,Pt,Wc,Yw,Fd,tn,fG],Bw),hG=ue([Gd,rn,Kw],zw),pG=ue([rn,Gd,hG,tn],Ww),d8=e=>{var t=tn(e),r=Bc(e),n=!1;return Hd(e,t,r,n)},f8=ue([rn,d8],zp),h8=ue([rn,Kw,pG,f8],Uw),mG=ue([Pt,Yw,rn,tn],K4),gG=ue([Pt,Yw,rn,tn],Y4),vG=(e,t,r,n,i,a,c,f)=>{if(t){var{type:h}=t,m=gl(e,f);if(n){var v=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,w=h==="category"&&n.bandwidth?n.bandwidth()/v:0;return w=f==="angleAxis"&&i!=null&&i?.length>=2?hn(i[0]-i[1])*2*w:w,m&&c?c.map((E,C)=>({coordinate:n(E)+w,value:E,index:C,offset:w})):n.domain().map((E,C)=>({coordinate:n(E)+w,value:a?a[E]:E,index:C,offset:w}))}}},bs=ue([Pt,rn,Kw,h8,d8,mG,gG,tn],vG),Xw=ue([Z4,Q4,CV],(e,t,r)=>J4(r.shared,e,t)),p8=e=>e.tooltip.settings.trigger,Zw=e=>e.tooltip.settings.defaultIndex,qd=ue([zc,Xw,p8,Zw],a8),oo=ue([qd,Wc,Wd,Gd],qw),m8=ue([bs,oo],e8),Qw=ue([qd],e=>{if(e)return e.dataKey}),yG=ue([qd],e=>{if(e)return e.graphicalItemId}),g8=ue([zc,Xw,p8,Zw],o8),xG=ue([vs,ys,Pt,Jr,bs,Zw,g8,Vd],s8),wG=ue([qd,xG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bG=ue([qd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),EG=ue([g8,oo,ws,Wd,m8,Vd,Xw],l8);ue([EG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return(t=AG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CG=()=>He(rn),OG=()=>{var e=CG(),t=He(bs),r=He(h8);return A0(!e||!r?void 0:QC(QC({},e),{},{scale:r}),t)};function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return(t=TG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PG=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},kG=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:c}=n;return rc(rc(rc({},n),zr(n.cx,n.cy,c,a)),{},{angle:a,radius:c})}var f=i.coordinate,{angle:h}=n;return rc(rc(rc({},n),zr(n.cx,n.cy,f,h)),{},{angle:h,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function RG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var v8=(e,t,r,n,i)=>{var a,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var h,m,v,w,E,C=f>0?(h=r[f-1])===null||h===void 0?void 0:h.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,O=(v=r[f])===null||v===void 0?void 0:v.coordinate,I=f>=c-1?(w=r[0])===null||w===void 0?void 0:w.coordinate:(E=r[f+1])===null||E===void 0?void 0:E.coordinate,k=void 0;if(!(C==null||O==null||I==null))if(hn(O-C)!==hn(I-O)){var D=[];if(hn(I-O)===hn(i[1]-i[0])){k=I;var L=O+i[1]-i[0];D[0]=Math.min(L,(L+C)/2),D[1]=Math.max(L,(L+C)/2)}else{k=C;var j=I+i[1]-i[0];D[0]=Math.min(O,(j+O)/2),D[1]=Math.max(O,(j+O)/2)}var z=[Math.min(O,(k+O)/2),Math.max(O,(k+O)/2)];if(e>z[0]&&e<=z[1]||e>=D[0]&&e<=D[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var H=Math.min(C,I),V=Math.max(C,I);if(e>(H+O)/2&&e<=(V+O)/2){var re;return(re=r[f])===null||re===void 0?void 0:re.index}}}else if(t)for(var Y=0;Y<c;Y++){var _e=t[Y];if(_e!=null){var ge=t[Y+1],de=t[Y-1];if(Y===0&&ge!=null&&e<=(_e.coordinate+ge.coordinate)/2||Y===c-1&&de!=null&&e>(_e.coordinate+de.coordinate)/2||Y>0&&Y<c-1&&de!=null&&ge!=null&&e>(_e.coordinate+de.coordinate)/2&&e<=(_e.coordinate+ge.coordinate)/2)return _e.index}}return-1},jG=()=>He(xw),Jw=(e,t)=>t,y8=(e,t,r)=>r,eb=(e,t,r,n)=>n,MG=ue(bs,e=>pp(e,t=>t.coordinate)),tb=ue([zc,Jw,y8,eb],a8),rb=ue([tb,Wc,Wd,Gd],qw),DG=(e,t,r)=>{if(t!=null){var n=zc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},x8=ue([zc,Jw,y8,eb],o8),G0=ue([vs,ys,Pt,Jr,bs,eb,x8,Vd],s8),LG=ue([tb,G0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),w8=ue([bs,rb],e8),BG=ue([x8,rb,ws,Wd,w8,Vd,Jw],l8),FG=ue([tb,rb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),UG=(e,t,r,n,i,a,c)=>{if(!(!e||!r||!n||!i)&&RG(e,c)){var f=oF(e,t),h=v8(f,a,i,r,n),m=PG(t,i,h,e);return{activeIndex:String(h),activeCoordinate:m}}},zG=(e,t,r,n,i,a,c)=>{if(!(!e||!n||!i||!a||!r)){var f=Az(e,r);if(f){var h=lF(f,t),m=v8(h,c,a,n,i),v=kG(t,a,m,f);return{activeIndex:String(m),activeCoordinate:v}}}},$G=(e,t,r,n,i,a,c,f)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?UG(e,t,n,i,a,c,f):zG(e,t,r,n,i,a,c)},WG=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),HG=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values($r)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:OH}});function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){VG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KG={},YG={zIndexMap:Object.values($r).reduce((e,t)=>tO(tO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KG)},XG=new Set(Object.values($r));function ZG(e){return XG.has(e)}var b8=ai({name:"zIndex",initialState:YG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ur()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ZG(r)&&delete e.zIndexMap[r])},prepare:ur()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:ur()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ur()}}}),{registerZIndexPortal:QG,unregisterZIndexPortal:JG,registerZIndexPortalElement:eq,unregisterZIndexPortalElement:tq}=b8.actions,rq=b8.reducer;function si(e){var{zIndex:t,children:r}=e,n=FF(),i=n&&t!==void 0&&t!==0,a=Sn(),c=qt();N.useLayoutEffect(()=>i?(c(QG({zIndex:t})),()=>{c(JG({zIndex:t}))}):Od,[c,t,i]);var f=He(h=>WG(h,t,a));return i?f?ox.createPortal(r,f):null:r}function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function oq(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:c,layout:f,cursor:h,tooltipEventType:m,chartName:v}=e,w=r,E=n,C=i;if(!h||!w||v!=="ScatterChart"&&m!=="axis")return null;var O,I,k;if(v==="ScatterChart")O=w,I=BU,k=$r.cursorLine;else if(v==="BarChart")O=FU(f,w,a,c),I=gP,k=$r.cursorRectangle;else if(f==="radial"&&eN(w)){var{cx:D,cy:L,radius:j,startAngle:z,endAngle:W}=yP(w);O={cx:D,cy:L,startAngle:z,endAngle:W,innerRadius:j,outerRadius:j},I=wP,k=$r.cursorLine}else O={points:Iz(f,w,a)},I=kp,k=$r.cursorLine;var H=typeof h=="object"&&"className"in h?h.className:void 0,V=Ih(Ih(Ih(Ih({stroke:"#ccc",pointerEvents:"none"},a),O),xc(h)),{},{payload:E,payloadIndex:C,className:jt("recharts-tooltip-cursor",H)});return N.createElement(si,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},N.createElement(sq,{cursor:h,cursorComp:I,cursorProps:V}))}function lq(e){var t=OG(),r=JN(),n=Pd(),i=jG();return t==null||r==null||n==null||i==null?null:N.createElement(oq,By({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var E8=N.createContext(null),cq=()=>N.useContext(E8),fv={exports:{}},nO;function uq(){return nO||(nO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,m,v){this.fn=h,this.context=m,this.once=v||!1}function a(h,m,v,w,E){if(typeof v!="function")throw new TypeError("The listener must be a function");var C=new i(v,w||h,E),O=r?r+m:m;return h._events[O]?h._events[O].fn?h._events[O]=[h._events[O],C]:h._events[O].push(C):(h._events[O]=C,h._eventsCount++),h}function c(h,m){--h._eventsCount===0?h._events=new n:delete h._events[m]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],v,w;if(this._eventsCount===0)return m;for(w in v=this._events)t.call(v,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},f.prototype.listeners=function(m){var v=r?r+m:m,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var E=0,C=w.length,O=new Array(C);E<C;E++)O[E]=w[E].fn;return O},f.prototype.listenerCount=function(m){var v=r?r+m:m,w=this._events[v];return w?w.fn?1:w.length:0},f.prototype.emit=function(m,v,w,E,C,O){var I=r?r+m:m;if(!this._events[I])return!1;var k=this._events[I],D=arguments.length,L,j;if(k.fn){switch(k.once&&this.removeListener(m,k.fn,void 0,!0),D){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,v),!0;case 3:return k.fn.call(k.context,v,w),!0;case 4:return k.fn.call(k.context,v,w,E),!0;case 5:return k.fn.call(k.context,v,w,E,C),!0;case 6:return k.fn.call(k.context,v,w,E,C,O),!0}for(j=1,L=new Array(D-1);j<D;j++)L[j-1]=arguments[j];k.fn.apply(k.context,L)}else{var z=k.length,W;for(j=0;j<z;j++)switch(k[j].once&&this.removeListener(m,k[j].fn,void 0,!0),D){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,v);break;case 3:k[j].fn.call(k[j].context,v,w);break;case 4:k[j].fn.call(k[j].context,v,w,E);break;default:if(!L)for(W=1,L=new Array(D-1);W<D;W++)L[W-1]=arguments[W];k[j].fn.apply(k[j].context,L)}}return!0},f.prototype.on=function(m,v,w){return a(this,m,v,w,!1)},f.prototype.once=function(m,v,w){return a(this,m,v,w,!0)},f.prototype.removeListener=function(m,v,w,E){var C=r?r+m:m;if(!this._events[C])return this;if(!v)return c(this,C),this;var O=this._events[C];if(O.fn)O.fn===v&&(!E||O.once)&&(!w||O.context===w)&&c(this,C);else{for(var I=0,k=[],D=O.length;I<D;I++)(O[I].fn!==v||E&&!O[I].once||w&&O[I].context!==w)&&k.push(O[I]);k.length?this._events[C]=k.length===1?k[0]:k:c(this,C)}return this},f.prototype.removeAllListeners=function(m){var v;return m?(v=r?r+m:m,this._events[v]&&c(this,v)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(fv)),fv.exports}var dq=uq();const fq=Xi(dq);var yd=new fq,Fy="recharts.syncEvent.tooltip",iO="recharts.syncEvent.brush";function nb(e,t){if(t){var r=Number.parseInt(t,10);if(!Oi(r))return e?.[r]}}var hq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_8=ai({name:"options",initialState:hq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pq=_8.reducer,{createEventEmitter:mq}=_8.actions;function gq(e){return e.tooltip.syncInteraction}var vq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},A8=ai({name:"chartData",initialState:vq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:aO,setDataStartEndIndexes:yq,setComputedData:Ore}=A8.actions,xq=A8.reducer,wq=["x","y"];function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e,t){if(e==null)return{};var r,n,i=Sq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cq(){var e=He(ww),t=He(bw),r=qt(),n=He(x4),i=He(bs),a=Pd(),c=jc(),f=He(h=>h.rootProps.className);N.useEffect(()=>{if(e==null)return Od;var h=(m,v,w)=>{if(t!==w&&e===m){if(n==="index"){var E;if(c&&v!==null&&v!==void 0&&(E=v.payload)!==null&&E!==void 0&&E.coordinate&&v.payload.sourceViewBox){var C=v.payload.coordinate,{x:O,y:I}=C,k=Aq(C,wq),{x:D,y:L,width:j,height:z}=v.payload.sourceViewBox,W=nc(nc({},k),{},{x:c.x+(j?(O-D)/j:0)*c.width,y:c.y+(z?(I-L)/z:0)*c.height});r(nc(nc({},v),{},{payload:nc(nc({},v.payload),{},{coordinate:W})}))}else r(v);return}if(i!=null){var H;if(typeof n=="function"){var V={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},re=n(i,V);H=i[re]}else n==="value"&&(H=i.find(Me=>String(Me.value)===v.payload.label));var{coordinate:Y}=v.payload;if(H==null||v.payload.active===!1||Y==null||c==null){r(Dy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:_e,y:ge}=Y,de=Math.min(_e,c.x+c.width),Ae=Math.min(ge,c.y+c.height),ye={x:a==="horizontal"?H.coordinate:de,y:a==="horizontal"?Ae:H.coordinate},J=Dy({active:v.payload.active,coordinate:ye,dataKey:v.payload.dataKey,index:String(H.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox,graphicalItemId:v.payload.graphicalItemId});r(J)}}};return yd.on(Fy,h),()=>{yd.off(Fy,h)}},[f,r,t,e,n,i,a,c])}function Oq(){var e=He(ww),t=He(bw),r=qt();N.useEffect(()=>{if(e==null)return Od;var n=(i,a,c)=>{t!==c&&e===i&&r(yq(a))};return yd.on(iO,n),()=>{yd.off(iO,n)}},[r,t,e])}function Iq(){var e=qt();N.useEffect(()=>{e(mq())},[e]),Cq(),Oq()}function Tq(e,t,r,n,i,a){var c=He(C=>DG(C,e,t)),f=He(bw),h=He(ww),m=He(x4),v=He(gq),w=v?.active,E=jc();N.useEffect(()=>{if(!w&&h!=null&&f!=null){var C=Dy({active:a,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:E,graphicalItemId:void 0});yd.emit(Fy,h,C,f)}},[w,r,c,i,n,f,h,m,a,E])}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){return e.dataKey}function jq(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(vU,t)}var cO=[],Mq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hv(e){var t,r,n=Mr(e,Mq),{active:i,allowEscapeViewBox:a,animationDuration:c,animationEasing:f,content:h,filterNull:m,isAnimationActive:v,offset:w,payloadUniqBy:E,position:C,reverseDirection:O,useTranslate3d:I,wrapperStyle:k,cursor:D,shared:L,trigger:j,defaultIndex:z,portal:W,axisId:H}=n,V=qt(),re=typeof z=="number"?String(z):z;N.useEffect(()=>{V(PV({shared:L,trigger:j,axisId:H,active:i,defaultIndex:re}))},[V,L,j,H,i,re]);var Y=jc(),_e=dP(),ge=SV(L),{activeIndex:de,isActive:Ae}=(t=He(rt=>FG(rt,ge,j,re)))!==null&&t!==void 0?t:{},ye=He(rt=>BG(rt,ge,j,re)),J=He(rt=>w8(rt,ge,j,re)),Me=He(rt=>LG(rt,ge,j,re)),ie=ye,fe=cq(),we=(r=i??Ae)!==null&&r!==void 0?r:!1,[be,Z]=mN([ie,we]),le=ge==="axis"?J:void 0;Tq(ge,j,Me,le,de,we);var De=W??fe;if(De==null||Y==null||ge==null)return null;var Be=ie??cO;we||(Be=cO),m&&Be.length&&(Be=uN(Be.filter(rt=>rt.value!=null&&(rt.hide!==!0||n.includeHidden)),E,Rq));var Ye=Be.length>0,Te=N.createElement(AU,{allowEscapeViewBox:a,animationDuration:c,animationEasing:f,isAnimationActive:v,active:we,coordinate:Me,hasPayload:Ye,offset:w,position:C,reverseDirection:O,useTranslate3d:I,viewBox:Y,wrapperStyle:k,lastBoundingBox:be,innerRef:Z,hasPortalFromProps:!!W},jq(h,lO(lO({},n),{},{payload:Be,label:le,active:we,activeIndex:de,coordinate:Me,accessibilityLayer:_e})));return N.createElement(N.Fragment,null,ox.createPortal(Te,De),we&&N.createElement(lq,{cursor:D,tooltipEventType:ge,coordinate:Me,payload:Be,index:de}))}var dl=e=>null;dl.displayName="Cell";function Dq(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fq{constructor(t){Dq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hq={cacheSize:2e3,enableCache:!0},S8=Uq({},Hq),dO=new Fq(S8.cacheSize),Vq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fO="recharts_measurement_span";function Gq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(c,"|").concat(f)}var hO=(e,t)=>{try{var r=document.getElementById(fO);r||(r=document.createElement("span"),r.setAttribute("id",fO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Vq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rp.isSsr)return{width:0,height:0};if(!S8.enableCache)return hO(t,r);var n=Gq(t,r),i=dO.get(n);if(i)return i;var a=hO(t,r);return dO.set(n,a),a},C8;function qq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jq=["cm","mm","pt","pc","in","Q","px"];function eK(e){return Jq.includes(e)}var uc="NaN";function tK(e,t){return e*Qq[t]}class An{static parse(t){var r,[,n,i]=(r=Zq.exec(t))!==null&&r!==void 0?r:[];return n==null?An.NaN:new An(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Oi(t)&&(this.unit=""),r!==""&&!Xq.test(r)&&(this.num=NaN,this.unit=""),eK(r)&&(this.num=tK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new An(NaN,""):new An(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new An(NaN,""):new An(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new An(NaN,""):new An(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new An(NaN,""):new An(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Oi(this.num)}}C8=An;qq(An,"NaN",new C8(NaN,""));function O8(e){if(e==null||e.includes(uc))return uc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=pO.exec(t))!==null&&r!==void 0?r:[],c=An.parse(n??""),f=An.parse(a??""),h=i==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return uc;t=t.replace(pO,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,v,w,E]=(m=mO.exec(t))!==null&&m!==void 0?m:[],C=An.parse(v??""),O=An.parse(E??""),I=w==="+"?C.add(O):C.subtract(O);if(I.isNaN())return uc;t=t.replace(mO,I.toString())}return t}var gO=/\(([^()]*)\)/;function rK(e){for(var t=e,r;(r=gO.exec(t))!=null;){var[,n]=r;t=t.replace(gO,O8(n))}return t}function nK(e){var t=e.replace(/\s+/g,"");return t=rK(t),t=O8(t),t}function iK(e){try{return nK(e)}catch{return uc}}function pv(e){var t=iK(e.slice(5,-1));return t===uc?"":t}var aK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sK=["dx","dy","angle","className","breakAll"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function vO(e,t){if(e==null)return{};var r,n,i=oK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I8=/[ \f\n\r\t\v\u2028\u2029]+/,T8=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];tr(t)||(r?i=t.toString().split(""):i=t.toString().split(I8));var a=i.map(f=>({word:f,width:Xu(f,n).width})),c=r?0:Xu("",n).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}};function lK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var N8=(e,t,r,n)=>e.reduce((i,a)=>{var{word:c,width:f}=a,h=i[i.length-1];if(h&&f!=null&&(t==null||n||h.width+f+r<Number(t)))h.words.push(c),h.width+=f+r;else{var m={words:[c],width:f};i.push(m)}return i},[]),P8=e=>e.reduce((t,r)=>t.width>r.width?t:r),cK="",yO=(e,t,r,n,i,a,c,f)=>{var h=e.slice(0,t),m=T8({breakAll:r,style:n,children:h+cK});if(!m)return[!1,[]];var v=N8(m.wordsWithComputedWidth,a,c,f),w=v.length>i||P8(v).width>Number(a);return[w,v]},uK=(e,t,r,n,i)=>{var{maxLines:a,children:c,style:f,breakAll:h}=e,m=Ze(a),v=String(c),w=N8(t,n,r,i);if(!m||i)return w;var E=w.length>a||P8(w).width>Number(n);if(!E)return w;for(var C=0,O=v.length-1,I=0,k;C<=O&&I<=v.length-1;){var D=Math.floor((C+O)/2),L=D-1,[j,z]=yO(v,L,h,f,a,n,r,i),[W]=yO(v,D,h,f,a,n,r,i);if(!j&&!W&&(C=D+1),j&&W&&(O=D-1),!j&&W){k=z;break}I++}return k||w},xO=e=>{var t=tr(e)?[]:e.toString().split(I8);return[{words:t,width:void 0}]},dK=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:c}=e;if((t||r)&&!Rp.isSsr){var f,h,m=T8({breakAll:a,children:n,style:i});if(m){var{wordsWithComputedWidth:v,spaceWidth:w}=m;f=v,h=w}else return xO(n);return uK({breakAll:a,children:n,maxLines:c,style:i},f,h,t,!!r)}return xO(n)},k8="#808080",fK={angle:0,breakAll:!1,capHeight:"0.71em",fill:k8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zp=N.forwardRef((e,t)=>{var r=Mr(e,fK),{x:n,y:i,lineHeight:a,capHeight:c,fill:f,scaleToFit:h,textAnchor:m,verticalAnchor:v}=r,w=vO(r,aK),E=N.useMemo(()=>dK({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width}),[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),{dx:C,dy:O,angle:I,className:k,breakAll:D}=w,L=vO(w,sK);if(!qi(n)||!qi(i)||E.length===0)return null;var j=Number(n)+(Ze(C)?C:0),z=Number(i)+(Ze(O)?O:0);if(!Vt(j)||!Vt(z))return null;var W;switch(v){case"start":W=pv("calc(".concat(c,")"));break;case"middle":W=pv("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:W=pv("calc(".concat(E.length-1," * -").concat(a,")"));break}var H=[];if(h){var V=E[0].width,{width:re}=w;H.push("scale(".concat(Ze(re)&&Ze(V)?re/V:1,")"))}return I&&H.push("rotate(".concat(I,", ").concat(j,", ").concat(z,")")),H.length&&(L.transform=H.join(" ")),N.createElement("text",Uy({},Ci(L),{ref:t,x:j,y:z,className:jt("recharts-text",k),textAnchor:m,fill:f.includes("url")?k8:f}),E.map((Y,_e)=>{var ge=Y.words.join(D?"":" ");return N.createElement("tspan",{x:j,dy:_e===0?W:a,key:"".concat(ge,"-").concat(_e)},ge)}))});Zp.displayName="Text";var hK=["labelRef"],pK=["content"];function wO(e,t){if(e==null)return{};var r,n,i=mK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bO(Object(r),!0).forEach(function(n){gK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(null,arguments)}var R8=N.createContext(null),j8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c,children:f}=e,h=N.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c}),[t,r,n,i,a,c]);return N.createElement(R8.Provider,{value:h},f)},M8=()=>{var e=N.useContext(R8),t=jc();return e||QN(t)},xK=N.createContext(null),wK=()=>{var e=N.useContext(xK),t=He(A4);return e||t},bK=e=>{var{value:t,formatter:r}=e,n=tr(e.children)?t:e.children;return typeof r=="function"?r(n):n},ib=e=>e!=null&&typeof e=="function",EK=(e,t)=>{var r=hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_K=(e,t,r,n,i)=>{var{offset:a,className:c}=e,{cx:f,cy:h,innerRadius:m,outerRadius:v,startAngle:w,endAngle:E,clockWise:C}=i,O=(m+v)/2,I=EK(w,E),k=I>=0?1:-1,D,L;switch(t){case"insideStart":D=w+k*a,L=C;break;case"insideEnd":D=E-k*a,L=!C;break;case"end":D=E+k*a,L=C;break;default:throw new Error("Unsupported position ".concat(t))}L=I<=0?L:!L;var j=zr(f,h,O,D),z=zr(f,h,O,D+(L?1:-1)*359),W="M".concat(j.x,",").concat(j.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),H=tr(e.id)?ad("recharts-radial-line-"):e.id;return N.createElement("text",rs({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:H,d:W})),N.createElement("textPath",{xlinkHref:"#".concat(H)},r))},AK=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:c,startAngle:f,endAngle:h}=e,m=(f+h)/2;if(r==="outside"){var{x:v,y:w}=zr(n,i,c+t,m);return{x:v,y:w,textAnchor:v>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var E=(a+c)/2,{x:C,y:O}=zr(n,i,E,m);return{x:C,y:O,textAnchor:"middle",verticalAnchor:"middle"}},zy=e=>"cx"in e&&Ze(e.cx),SK=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!zy(r)&&(a=r);var{x:c,y:f,upperWidth:h,lowerWidth:m,height:v}=t,w=c,E=c+(h-m)/2,C=(w+E)/2,O=(h+m)/2,I=w+h/2,k=v>=0?1:-1,D=k*n,L=k>0?"end":"start",j=k>0?"start":"end",z=h>=0?1:-1,W=z*n,H=z>0?"end":"start",V=z>0?"start":"end";if(i==="top"){var re={x:w+h/2,y:f-D,textAnchor:"middle",verticalAnchor:L};return Rr(Rr({},re),a?{height:Math.max(f-a.y,0),width:h}:{})}if(i==="bottom"){var Y={x:E+m/2,y:f+v+D,textAnchor:"middle",verticalAnchor:j};return Rr(Rr({},Y),a?{height:Math.max(a.y+a.height-(f+v),0),width:m}:{})}if(i==="left"){var _e={x:C-W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"};return Rr(Rr({},_e),a?{width:Math.max(_e.x-a.x,0),height:v}:{})}if(i==="right"){var ge={x:C+O+W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"};return Rr(Rr({},ge),a?{width:Math.max(a.x+a.width-ge.x,0),height:v}:{})}var de=a?{width:O,height:v}:{};return i==="insideLeft"?Rr({x:C+W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"},de):i==="insideRight"?Rr({x:C+O-W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"},de):i==="insideTop"?Rr({x:w+h/2,y:f+D,textAnchor:"middle",verticalAnchor:j},de):i==="insideBottom"?Rr({x:E+m/2,y:f+v-D,textAnchor:"middle",verticalAnchor:L},de):i==="insideTopLeft"?Rr({x:w+W,y:f+D,textAnchor:V,verticalAnchor:j},de):i==="insideTopRight"?Rr({x:w+h-W,y:f+D,textAnchor:H,verticalAnchor:j},de):i==="insideBottomLeft"?Rr({x:E+W,y:f+v-D,textAnchor:V,verticalAnchor:L},de):i==="insideBottomRight"?Rr({x:E+m-W,y:f+v-D,textAnchor:H,verticalAnchor:L},de):i&&typeof i=="object"&&(Ze(i.x)||cs(i.x))&&(Ze(i.y)||cs(i.y))?Rr({x:c+Ln(i.x,O),y:f+Ln(i.y,v),textAnchor:"end",verticalAnchor:"end"},de):Rr({x:I,y:f+v/2,textAnchor:"middle",verticalAnchor:"middle"},de)},CK={angle:0,offset:5,zIndex:$r.label,position:"middle",textBreakAll:!1};function Zs(e){var t=Mr(e,CK),{viewBox:r,position:n,value:i,children:a,content:c,className:f="",textBreakAll:h,labelRef:m}=t,v=wK(),w=M8(),E=n==="center"?w:v??w,C,O,I;if(r==null?C=E:zy(r)?C=r:C=QN(r),!C||tr(i)&&tr(a)&&!N.isValidElement(c)&&typeof c!="function")return null;var k=Rr(Rr({},t),{},{viewBox:C});if(N.isValidElement(c)){var{labelRef:D}=k,L=wO(k,hK);return N.cloneElement(c,L)}if(typeof c=="function"){var{content:j}=k,z=wO(k,pK);if(O=N.createElement(c,z),N.isValidElement(O))return O}else O=bK(t);var W=Ci(t);if(zy(C)){if(n==="insideStart"||n==="insideEnd"||n==="end")return _K(t,n,O,W,C);I=AK(C,t.offset,t.position)}else I=SK(t,C);return N.createElement(si,{zIndex:t.zIndex},N.createElement(Zp,rs({ref:m,className:jt("recharts-label",f)},W,I,{textAnchor:lK(W.textAnchor)?W.textAnchor:I.textAnchor,breakAll:h}),O))}Zs.displayName="Label";var OK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(Zs,rs({key:"label-implicit"},n)):qi(e)?N.createElement(Zs,rs({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===Zs?N.cloneElement(e,Rr({key:"label-implicit"},n)):N.createElement(Zs,rs({key:"label-implicit",content:e},n)):ib(e)?N.createElement(Zs,rs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(Zs,rs({},e,{key:"label-implicit"},n)):null};function D8(e){var{label:t,labelRef:r}=e,n=M8();return OK(t,n,r)||null}var mv={},gv={},EO;function IK(){return EO||(EO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(gv)),gv}var vv={},_O;function TK(){return _O||(_O=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vv)),vv}var AO;function NK(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK(),r=TK(),n=Px();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(mv)),mv}var yv,SO;function PK(){return SO||(SO=1,yv=NK().last),yv}var kK=PK();const RK=Xi(kK);var jK=["valueAccessor"],MK=["dataKey","clockWise","id","textBreakAll","zIndex"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}function CO(e,t){if(e==null)return{};var r,n,i=DK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LK=e=>Array.isArray(e.value)?RK(e.value):e.value,L8=N.createContext(void 0),B8=L8.Provider,F8=N.createContext(void 0),BK=F8.Provider;function FK(){return N.useContext(L8)}function UK(){return N.useContext(F8)}function Vh(e){var{valueAccessor:t=LK}=e,r=CO(e,jK),{dataKey:n,clockWise:i,id:a,textBreakAll:c,zIndex:f}=r,h=CO(r,MK),m=FK(),v=UK(),w=m||v;return!w||!w.length?null:N.createElement(si,{zIndex:f??$r.label},N.createElement(jr,{className:"recharts-label-list"},w.map((E,C)=>{var O,I=tr(n)?t(E,C):Lt(E&&E.payload,n),k=tr(a)?{}:{id:"".concat(a,"-").concat(C)};return N.createElement(Zs,q0({key:"label-".concat(C)},Ci(E),h,k,{fill:(O=r.fill)!==null&&O!==void 0?O:E.fill,parentViewBox:E.parentViewBox,value:I,textBreakAll:c,viewBox:E.viewBox,index:C,zIndex:0}))})))}Vh.displayName="LabelList";function ab(e){var{label:t}=e;return t?t===!0?N.createElement(Vh,{key:"labelList-implicit"}):N.isValidElement(t)||ib(t)?N.createElement(Vh,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(Vh,q0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var U8=e=>e.graphicalItems.polarItems,zK=ue([hr,Ud],Ow),Qp=ue([U8,xr,zK],Iw),$K=ue([Qp],Tw),Jp=ue([$K,Up],Nw),WK=ue([Jp,xr,Qp],kw);ue([Jp,xr,Qp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,c=Lt(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Lt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var OO=()=>{},HK=ue([Jp,xr,Qp,Kp,hr],Dw),VK=ue([xr,jw,Mw,OO,HK,OO,Pt,hr],Lw),z8=ue([xr,Pt,Jp,WK,Fd,hr,VK],Bw),GK=ue([z8,xr,Uc],zw);ue([xr,z8,GK,hr],Ww);var qK={radiusAxis:{},angleAxis:{}},$8=ai({name:"polarAxis",initialState:qK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ire,removeRadiusAxis:Tre,addAngleAxis:Nre,removeAngleAxis:Pre}=$8.actions,KK=$8.reducer;function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QK=(e,t)=>t,sb=ue([U8,QK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),JK=[],ob=(e,t,r)=>r?.length===0?JK:r,W8=ue([Up,sb,ob],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>TO(TO({},t.presentationProps),a.props))),i!=null)return i}}),eY=ue([W8,sb,ob],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,c=Lt(n,t.nameKey,t.name),f;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:Rc(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),tY=ue([W8,sb,ob,Jr],(e,t,r,n)=>{if(!(t==null||e==null))return nX({offset:n,pieSettings:t,displayedData:e,cells:r})}),xv={exports:{}},$t={};var NO;function rY(){if(NO)return $t;NO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function O(I){if(typeof I=="object"&&I!==null){var k=I.$$typeof;switch(k){case e:switch(I=I.type,I){case r:case i:case n:case h:case m:case E:return I;default:switch(I=I&&I.$$typeof,I){case c:case f:case w:case v:return I;case a:return I;default:return k}}case t:return k}}}return $t.ContextConsumer=a,$t.ContextProvider=c,$t.Element=e,$t.ForwardRef=f,$t.Fragment=r,$t.Lazy=w,$t.Memo=v,$t.Portal=t,$t.Profiler=i,$t.StrictMode=n,$t.Suspense=h,$t.SuspenseList=m,$t.isContextConsumer=function(I){return O(I)===a},$t.isContextProvider=function(I){return O(I)===c},$t.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},$t.isForwardRef=function(I){return O(I)===f},$t.isFragment=function(I){return O(I)===r},$t.isLazy=function(I){return O(I)===w},$t.isMemo=function(I){return O(I)===v},$t.isPortal=function(I){return O(I)===t},$t.isProfiler=function(I){return O(I)===i},$t.isStrictMode=function(I){return O(I)===n},$t.isSuspense=function(I){return O(I)===h},$t.isSuspenseList=function(I){return O(I)===m},$t.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===i||I===n||I===h||I===m||typeof I=="object"&&I!==null&&(I.$$typeof===w||I.$$typeof===v||I.$$typeof===c||I.$$typeof===a||I.$$typeof===f||I.$$typeof===C||I.getModuleId!==void 0)},$t.typeOf=O,$t}var PO;function nY(){return PO||(PO=1,xv.exports=rY()),xv.exports}var iY=nY(),kO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",RO=null,wv=null,H8=e=>{if(e===RO&&Array.isArray(wv))return wv;var t=[];return N.Children.forEach(e,r=>{tr(r)||(iY.isFragment(r)?t=t.concat(H8(r.props.children)):t.push(r))}),wv=t,RO=e,t};function e1(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>kO(i)):n=[kO(t)],H8(e).forEach(i=>{var a=sl(i,"type.displayName")||sl(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var bv={},jO;function aY(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bv)),bv}var Ev,MO;function sY(){return MO||(MO=1,Ev=aY().isPlainObject),Ev}var oY=sY();const lY=Xi(oY);var DO,LO,BO,FO,UO;function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(null,arguments)}function $u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WO=(e,t,r,n,i)=>{var a=r-n,c;return c=Cr(DO||(DO=$u(["M ",",",""])),e,t),c+=Cr(LO||(LO=$u(["L ",",",""])),e+r,t),c+=Cr(BO||(BO=$u(["L ",",",""])),e+r-a/2,t+i),c+=Cr(FO||(FO=$u(["L ",",",""])),e+r-a/2-n,t+i),c+=Cr(UO||(UO=$u(["L ",","," Z"])),e,t),c},fY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hY=e=>{var t=Mr(e,fY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:c,className:f}=t,{animationEasing:h,animationDuration:m,animationBegin:v,isUpdateAnimationActive:w}=t,E=N.useRef(null),[C,O]=N.useState(-1),I=N.useRef(i),k=N.useRef(a),D=N.useRef(c),L=N.useRef(r),j=N.useRef(n),z=jd(e,"trapezoid-");if(N.useEffect(()=>{if(E.current&&E.current.getTotalLength)try{var ye=E.current.getTotalLength();ye&&O(ye)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||c!==+c||i===0&&a===0||c===0)return null;var W=jt("recharts-trapezoid",f);if(!w)return N.createElement("g",null,N.createElement("path",K0({},Ci(t),{className:W,d:WO(r,n,i,a,c)})));var H=I.current,V=k.current,re=D.current,Y=L.current,_e=j.current,ge="0px ".concat(C===-1?1:C,"px"),de="".concat(C,"px 0px"),Ae=fP(["strokeDasharray"],m,h);return N.createElement(Rd,{animationId:z,key:z,canBegin:C>0,duration:m,easing:h,isActive:w,begin:v},ye=>{var J=yr(H,i,ye),Me=yr(V,a,ye),ie=yr(re,c,ye),fe=yr(Y,r,ye),we=yr(_e,n,ye);E.current&&(I.current=J,k.current=Me,D.current=ie,L.current=fe,j.current=we);var be=ye>0?{transition:Ae,strokeDasharray:de}:{strokeDasharray:ge};return N.createElement("path",K0({},Ci(t),{className:W,d:WO(fe,we,J,Me,ie),ref:E,style:$O($O({},be),t.style)}))})},pY=["option","shapeType","activeClassName"];function mY(e,t){if(e==null)return{};var r,n,i=gY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=yY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wY(e,t){return Y0(Y0({},t),e)}function bY(e,t){return e==="symbols"}function VO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(gP,r);case"trapezoid":return N.createElement(hY,r);case"sector":return N.createElement(wP,r);case"symbols":if(bY(t))return N.createElement(hp,r);break;case"curve":return N.createElement(kp,r);default:return null}}function EY(e){return N.isValidElement(e)?e.props:e}function X0(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=mY(e,pY),a;if(N.isValidElement(t))a=N.cloneElement(t,Y0(Y0({},i),EY(t)));else if(typeof t=="function")a=t(i,i.index);else if(lY(t)&&typeof t!="boolean"){var c=wY(t,i);a=N.createElement(VO,{shapeType:r,elementProps:c})}else{var f=i;a=N.createElement(VO,{shapeType:r,elementProps:f})}return i.isActive?N.createElement(jr,{className:n},a):a}var t1=(e,t,r)=>{var n=qt();return(i,a)=>c=>{e?.(i,a,c),n(r8({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},r1=e=>{var t=qt();return(r,n)=>i=>{e?.(r,n,i),t(kV())}},n1=(e,t,r)=>{var n=qt();return(i,a)=>c=>{e?.(i,a,c),n(RV({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function lb(e){var{tooltipEntrySettings:t}=e,r=qt(),n=Sn(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(IV(t)):i.current!==t&&r(TV({prev:i.current,next:t})),i.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{i.current&&(r(NV(i.current)),i.current=null)},[r]),null}function V8(e){var{legendPayload:t}=e,r=qt(),n=Sn(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(oP(t)):i.current!==t&&r(lP({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(cP(i.current)),i.current=null)},[r]),null}function _Y(e){var{legendPayload:t}=e,r=qt(),n=He(Pt),i=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(oP(t)):i.current!==t&&r(lP({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(cP(i.current)),i.current=null)},[r]),null}var _v,AY=()=>{var[e]=N.useState(()=>ad("uid-"));return e},SY=(_v=OR.useId)!==null&&_v!==void 0?_v:AY;function CY(e,t){var r=SY();return t||(e?"".concat(e,"-").concat(r):r)}var OY=N.createContext(void 0),cb=e=>{var{id:t,type:r,children:n}=e,i=CY("recharts-".concat(r),t);return N.createElement(OY.Provider,{value:i},n(i))},IY={cartesianItems:[],polarItems:[]},G8=ai({name:"graphicalItems",initialState:IY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ur()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ha(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:ur()},removeCartesianGraphicalItem:{reducer(e,t){var r=ha(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ur()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ur()},removePolarGraphicalItem:{reducer(e,t){var r=ha(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ur()}}}),{addCartesianGraphicalItem:TY,replaceCartesianGraphicalItem:NY,removeCartesianGraphicalItem:PY,addPolarGraphicalItem:kY,removePolarGraphicalItem:RY}=G8.actions,jY=G8.reducer,MY=e=>{var t=qt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(TY(e)):r.current!==e&&t(NY({prev:r.current,next:e})),r.current=e},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(t(PY(r.current)),r.current=null)},[t]),null},q8=N.memo(MY);function DY(e){var t=qt();return N.useLayoutEffect(()=>(t(kY(e)),()=>{t(RY(e))}),[t,e]),null}var LY=["key"],BY=["onMouseEnter","onClick","onMouseLeave"],FY=["id"],UY=["id"];function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){zY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}function i1(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VY(e){var t=N.useMemo(()=>e1(e.children,dl),[e.children]),r=He(n=>eY(n,e.id,t));return r==null?null:N.createElement(_Y,{legendPayload:r})}var GY=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:c,name:f,hide:h,tooltipType:m,id:v}=e,w={dataDefinedOnItem:n.map(E=>E.tooltipPayload),positions:n.map(E=>E.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:c,dataKey:t,nameKey:r,name:Rc(f,t),hide:h,type:m,color:c,unit:"",graphicalItemId:v}};return N.createElement(lb,{tooltipEntrySettings:w})}),qY=(e,t)=>e>t?"start":e<t?"end":"middle",KY=(e,t,r)=>Ln(typeof t=="function"?t(e):t,r,r*.8),YY=(e,t,r)=>{var{top:n,left:i,width:a,height:c}=t,f=vP(a,c),h=i+Ln(e.cx,a,a/2),m=n+Ln(e.cy,c,c/2),v=Ln(e.innerRadius,f,0),w=KY(r,e.outerRadius,f),E=e.maxRadius||Math.sqrt(a*a+c*c)/2;return{cx:h,cy:m,innerRadius:v,outerRadius:w,maxRadius:E}},XY=(e,t)=>{var r=hn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function ZY(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var QY=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=jt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=i1(t,LY);return N.createElement(kp,lo({},i,{type:"linear",className:r}))},JY=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=jt("recharts-pie-label-text",ZY(e));return N.createElement(Zp,lo({},t,{alignmentBaseline:"middle",className:i}),n)};function eX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:c}=r;if(!n||!i||!t)return null;var f=Si(r),h=xc(i),m=xc(a),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=t.map((E,C)=>{var O=(E.startAngle+E.endAngle)/2,I=zr(E.cx,E.cy,E.outerRadius+v,O),k=Or(Or(Or(Or({},f),E),{},{stroke:"none"},h),{},{index:C,textAnchor:qY(I.x,E.cx)},I),D=Or(Or(Or(Or({},f),E),{},{fill:"none",stroke:E.fill},m),{},{index:C,points:[zr(E.cx,E.cy,E.outerRadius,O),I],key:"line"});return N.createElement(si,{zIndex:$r.label,key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(C)},N.createElement(jr,null,a&&QY(a,D),JY(i,k,Lt(E,c))))});return N.createElement(jr,{className:"recharts-pie-labels"},w)}function tX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(ab,{label:i}):N.createElement(eX,{sectors:t,props:r,showLabels:n})}function rX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:c}=e,f=He(oo),h=He(Qw),m=He(yG),{onMouseEnter:v,onClick:w,onMouseLeave:E}=i,C=i1(i,BY),O=t1(v,i.dataKey,c),I=r1(E),k=n1(w,i.dataKey,c);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((D,L)=>{if(D?.startAngle===0&&D?.endAngle===0&&t.length!==1)return null;var j=m==null||m===c,z=String(L)===f&&(h==null||i.dataKey===h)&&j,W=f?n:null,H=r&&z?r:W,V=Or(Or({},D),{},{stroke:D.stroke,tabIndex:-1,[Fx]:L,[Ux]:c});return N.createElement(jr,lo({key:"sector-".concat(D?.startAngle,"-").concat(D?.endAngle,"-").concat(D.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},kc(C,D,L),{onMouseEnter:O(D,L),onMouseLeave:I(D,L),onClick:k(D,L)}),N.createElement(X0,lo({option:a??H,index:L,shapeType:"sector",isActive:z},V)))}))}function nX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:c,startAngle:f,endAngle:h,dataKey:m,nameKey:v,tooltipType:w}=r,E=Math.abs(r.minAngle),C=XY(f,h),O=Math.abs(C),I=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(H=>Lt(H,m,0)!==0).length,D=(O>=360?k:k-1)*I,L=O-k*E-D,j=n.reduce((H,V)=>{var re=Lt(V,m,0);return H+(Ze(re)?re:0)},0),z;if(j>0){var W;z=n.map((H,V)=>{var re=Lt(H,m,0),Y=Lt(H,v,V),_e=YY(r,a,H),ge=(Ze(re)?re:0)/j,de,Ae=Or(Or({},H),i&&i[V]&&i[V].props);V?de=W.endAngle+hn(C)*I*(re!==0?1:0):de=f;var ye=de+hn(C)*((re!==0?E:0)+ge*L),J=(de+ye)/2,Me=(_e.innerRadius+_e.outerRadius)/2,ie=[{name:Y,value:re,payload:Ae,dataKey:m,type:w,graphicalItemId:r.id}],fe=zr(_e.cx,_e.cy,Me,J);return W=Or(Or(Or(Or({},r.presentationProps),{},{percent:ge,cornerRadius:typeof c=="string"?parseFloat(c):c,name:Y,tooltipPayload:ie,midAngle:J,middleRadius:Me,tooltipPosition:fe},Ae),_e),{},{value:re,dataKey:m,startAngle:de,endAngle:ye,payload:Ae,paddingAngle:hn(C)*I}),W})}return z}function iX(e){var{showLabels:t,sectors:r,children:n}=e,i=N.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return N.createElement(BK,{value:t?i:void 0},n)}function aX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:h,activeShape:m,inactiveShape:v,onAnimationStart:w,onAnimationEnd:E}=t,C=jd(t,"recharts-pie-"),O=r.current,[I,k]=N.useState(!1),D=N.useCallback(()=>{typeof E=="function"&&E(),k(!1)},[E]),L=N.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]);return N.createElement(iX,{showLabels:!I,sectors:i},N.createElement(Rd,{animationId:C,begin:c,duration:f,isActive:a,easing:h,onAnimationStart:L,onAnimationEnd:D,key:C},j=>{var z=[],W=i&&i[0],H=W?.startAngle;return i?.forEach((V,re)=>{var Y=O&&O[re],_e=re>0?sl(V,"paddingAngle",0):0;if(Y){var ge=yr(Y.endAngle-Y.startAngle,V.endAngle-V.startAngle,j),de=Or(Or({},V),{},{startAngle:H+_e,endAngle:H+ge+_e});z.push(de),H=de.endAngle}else{var{endAngle:Ae,startAngle:ye}=V,J=yr(0,Ae-ye,j),Me=Or(Or({},V),{},{startAngle:H+_e,endAngle:H+J+_e});z.push(Me),H=Me.endAngle}}),r.current=z,N.createElement(jr,null,N.createElement(rX,{sectors:z,activeShape:m,inactiveShape:v,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(tX,{showLabels:!I,sectors:i,props:t}),t.children)}var sX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:$r.area};function oX(e){var{id:t}=e,r=i1(e,FY),{hide:n,className:i,rootTabIndex:a}=e,c=N.useMemo(()=>e1(e.children,dl),[e.children]),f=He(v=>tY(v,t,c)),h=N.useRef(null),m=jt("recharts-pie",i);return n||f==null?(h.current=null,N.createElement(jr,{tabIndex:a,className:m})):N.createElement(si,{zIndex:e.zIndex},N.createElement(GY,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(jr,{tabIndex:a,className:m},N.createElement(aX,{props:Or(Or({},r),{},{sectors:f}),previousSectorsRef:h,id:t})))}function K8(e){var t=Mr(e,sX),{id:r}=t,n=i1(t,UY),i=Si(n);return N.createElement(cb,{id:r,type:"pie"},a=>N.createElement(N.Fragment,null,N.createElement(DY,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(VY,lo({},n,{id:a})),N.createElement(oX,lo({},n,{id:a}))))}K8.displayName="Pie";function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=cX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y8=0,dX={xAxis:{},yAxis:{},zAxis:{}},X8=ai({name:"cartesianAxis",initialState:dX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ur()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ur()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ur()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ur()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ur()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ur()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ur()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ur()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ur()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var c=[...a,n].slice(-3);e.yAxis[r]=KO(KO({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:fX,replaceXAxis:hX,removeXAxis:pX,addYAxis:mX,replaceYAxis:gX,removeYAxis:vX,addZAxis:kre,replaceZAxis:Rre,removeZAxis:jre,updateYAxisWidth:yX}=X8.actions,xX=X8.reducer,wX=ue([Jr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bX=ue([wX,vs,ys],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Z8=()=>He(bX),YO=(e,t,r)=>{var n=r??e;if(!tr(n))return Ln(n,t,0)},EX=(e,t,r)=>{var n={},i=e.filter(Wp),a=e.filter(m=>m.stackId==null),c=i.reduce((m,v)=>(m[v.stackId]||(m[v.stackId]=[]),m[v.stackId].push(v),m),n),f=Object.entries(c).map(m=>{var[v,w]=m,E=w.map(O=>O.dataKey),C=YO(t,r,w[0].barSize);return{stackId:v,dataKeys:E,barSize:C}}),h=a.map(m=>{var v=[m.dataKey].filter(E=>E!=null),w=YO(t,r,m.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...f,...h]};function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=AX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e,t,r,n,i){var a=n.length;if(!(a<1)){var c=Ln(e,r,0,!0),f,h=[];if(Vt(n[0].barSize)){var m=!1,v=r/a,w=n.reduce((D,L)=>D+(L.barSize||0),0);w+=(a-1)*c,w>=r&&(w-=(a-1)*c,c=0),w>=r&&v>0&&(m=!0,v*=.9,w=a*v);var E=(r-w)/2>>0,C={offset:E-c,size:0};f=n.reduce((D,L)=>{var j,z={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:C.offset+C.size+c,size:m?v:(j=L.barSize)!==null&&j!==void 0?j:0}},W=[...D,z];return C=W[W.length-1].position,W},h)}else{var O=Ln(t,r,0,!0);r-2*O-(a-1)*c<=0&&(c=0);var I=(r-2*O-(a-1)*c)/a;I>1&&(I>>=0);var k=Vt(i)?Math.min(I,i):I;f=n.reduce((D,L,j)=>[...D,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:O+(I+c)*j+(I-k)/2,size:k}}],h)}return f}}var OX=(e,t,r,n,i,a,c)=>{var f=tr(c)?t:c,h=CX(r,n,i!==a?i:a,e,f);return i!==a&&h!=null&&(h=h.map(m=>Th(Th({},m),{},{position:Th(Th({},m.position),{},{offset:m.position.offset-i/2})}))),h},IX=(e,t)=>{var r=Sw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(c=>c.key===r)}}}};function TX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Vt(e.zIndex)?e.zIndex:t}var Q8=e=>{var{chartData:t}=e,r=qt(),n=Sn();return N.useEffect(()=>n?()=>{}:(r(aO(t)),()=>{r(aO(void 0))}),[t,r,n]),null},ZO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},J8=ai({name:"brush",initialState:ZO,reducers:{setBrushSettings(e,t){return t.payload==null?ZO:t.payload}}}),{setBrushSettings:Mre}=J8.actions,NX=J8.reducer;function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},jX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return RX({x:t,y:r},{x:n,y:i})};class a1{static create(t){return new a1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}ek(a1,"EPS",1e-4);var MX=e=>{var t=Object.keys(e).reduce((r,n)=>Nh(Nh({},r),{},{[n]:a1.create(e[n])}),{});return Nh(Nh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(a=>{var[c,f]=a;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function DX(e){return(e%180+180)%180}var LX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=DX(i),c=a*Math.PI/180,f=Math.atan(n/r),h=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(h)},BX={dots:[],areas:[],lines:[]},tk=ai({name:"referenceElements",initialState:BX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ha(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ha(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ha(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Dre,removeDot:Lre,addArea:Bre,removeArea:Fre,addLine:FX,removeLine:UX}=tk.actions,zX=tk.reducer,rk=N.createContext(void 0),$X=e=>{var{children:t}=e,[r]=N.useState("".concat(ad("recharts"),"-clip")),n=Z8();if(n==null)return null;var{x:i,y:a,width:c,height:f}=n;return N.createElement(rk.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:a,height:f,width:c}))),t)},WX=()=>N.useContext(rk);function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){HX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z0.apply(null,arguments)}var qX=(e,t)=>{var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Vt(t.x1)||!Vt(t.y1)||!Vt(t.x2)||!Vt(t.y2))return null;r=N.createElement("line",Z0({},t,{className:"recharts-reference-line-line"}))}return r},KX=(e,t,r,n,i,a)=>{var{x:c,width:f}=a,h=i.y.apply(e,{position:r});if(Oi(h)||t==="discard"&&!i.y.isInRange(h))return null;var m=[{x:c+f,y:h},{x:c,y:h}];return n==="left"?m.reverse():m},YX=(e,t,r,n,i,a)=>{var{y:c,height:f}=a,h=i.x.apply(e,{position:r});if(Oi(h)||t==="discard"&&!i.x.isInRange(h))return null;var m=[{x:h,y:c+f},{x:h,y:c}];return n==="top"?m.reverse():m},XX=(e,t,r,n)=>{var i=e.map(a=>n.apply(a,{position:r}));return t==="discard"&&i.some(a=>!n.isInRange(a))?null:i},ZX=(e,t,r,n,i,a)=>{var{x:c,y:f,segment:h,ifOverflow:m}=a,v=qi(c),w=qi(f);return w?KX(f,m,r,i,e,t):v?YX(c,m,r,n,e,t):h!=null&&h.length===2?XX(h,m,r,e):null};function QX(e){var t=qt();return N.useEffect(()=>(t(FX(e)),()=>{t(UX(e))})),null}function JX(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:a}=e,c=Sn(),f=WX(),h=He(H=>ja(H,t)),m=He(H=>Ma(H,r)),v=He(H=>Cc(H,"xAxis",t,c)),w=He(H=>Cc(H,"yAxis",r,c)),E=jc();if(!f||!E||h==null||m==null||v==null||w==null)return null;var C=MX({x:v,y:w}),O=ZX(C,E,e.position,h.orientation,m.orientation,e);if(!O)return null;var[{x:I,y:k},{x:D,y:L}]=O,j=a==="hidden"?"url(#".concat(f,")"):void 0,z=e3(e3({clipPath:j},Ci(e)),{},{x1:I,y1:k,x2:D,y2:L}),W=jX({x1:I,y1:k,x2:D,y2:L});return N.createElement(si,{zIndex:e.zIndex},N.createElement(jr,{className:jt("recharts-reference-line",i)},qX(n,z),N.createElement(j8,Z0({},W,{lowerWidth:W.width,upperWidth:W.width}),N.createElement(D8,{label:e.label}),e.children)))}var eZ={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:$r.line};function nk(e){var t=Mr(e,eZ);return N.createElement(N.Fragment,null,N.createElement(QX,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),N.createElement(JX,t))}nk.displayName="ReferenceLine";function ik(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function tZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return LX(n,r)}function rZ(e,t,r){var n=r==="width",{x:i,y:a,width:c,height:f}=e;return t===1?{start:n?i:a,end:n?i+c:a+f}:{start:n?i+c:a+f,end:n?i:a}}function xd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function nZ(e,t){return ik(e,t+1)}function iZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:c,end:f}=t,h=0,m=1,v=c,w=function(){var O=n?.[h];if(O===void 0)return{v:ik(n,m)};var I=h,k,D=()=>(k===void 0&&(k=r(O,I)),k),L=O.coordinate,j=h===0||xd(e,L,D,v,f);j||(h=0,v=c,m+=1),j&&(v=L+e*(D()/2+i),h+=m)},E;m<=a.length;)if(E=w(),E)return E.v;return[]}function aZ(e,t,r,n,i){var a=(n||[]).slice(),c=a.length;if(c===0)return[];for(var{start:f,end:h}=t,m=1;m<=c;m++){for(var v=(c-1)%m,w=f,E=!0,C=function(){var L=n[O],j=O,z,W=()=>(z===void 0&&(z=r(L,j)),z),H=L.coordinate,V=O===v||xd(e,H,W,w,h);if(!V)return E=!1,1;V&&(w=H+e*(W()/2+i))},O=v;O<c&&!C();O+=m);if(E){for(var I=[],k=v;k<c;k+=m)I.push(n[k]);return I}}return[]}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){sZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cZ(e,t,r,n,i){for(var a=(n||[]).slice(),c=a.length,{start:f}=t,{end:h}=t,m=function(E){var C=a[E],O,I=()=>(O===void 0&&(O=r(C,E)),O);if(E===c-1){var k=e*(C.coordinate+e*I()/2-h);a[E]=C=Mn(Mn({},C),{},{tickCoord:k>0?C.coordinate-k*e:C.coordinate})}else a[E]=C=Mn(Mn({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=xd(e,C.tickCoord,I,f,h);D&&(h=C.tickCoord-e*(I()/2+i),a[E]=Mn(Mn({},C),{},{isShow:!0}))}},v=c-1;v>=0;v--)m(v);return a}function uZ(e,t,r,n,i,a){var c=(n||[]).slice(),f=c.length,{start:h,end:m}=t;if(a){var v=n[f-1],w=r(v,f-1),E=e*(v.coordinate+e*w/2-m);if(c[f-1]=v=Mn(Mn({},v),{},{tickCoord:E>0?v.coordinate-E*e:v.coordinate}),v.tickCoord!=null){var C=xd(e,v.tickCoord,()=>w,h,m);C&&(m=v.tickCoord-e*(w/2+i),c[f-1]=Mn(Mn({},v),{},{isShow:!0}))}}for(var O=a?f-1:f,I=function(L){var j=c[L],z,W=()=>(z===void 0&&(z=r(j,L)),z);if(L===0){var H=e*(j.coordinate-e*W()/2-h);c[L]=j=Mn(Mn({},j),{},{tickCoord:H<0?j.coordinate-H*e:j.coordinate})}else c[L]=j=Mn(Mn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var V=xd(e,j.tickCoord,W,h,m);V&&(h=j.tickCoord+e*(W()/2+i),c[L]=Mn(Mn({},j),{},{isShow:!0}))}},k=0;k<O;k++)I(k);return c}function ub(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:c,orientation:f,interval:h,tickFormatter:m,unit:v,angle:w}=e;if(!i||!i.length||!n)return[];if(Ze(h)||Rp.isSsr){var E;return(E=nZ(i,Ze(h)?h:0))!==null&&E!==void 0?E:[]}var C=[],O=f==="top"||f==="bottom"?"width":"height",I=v&&O==="width"?Xu(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(j,z)=>{var W=typeof m=="function"?m(j.value,z):j.value;return O==="width"?tZ(Xu(W,{fontSize:t,letterSpacing:r}),I,w):Xu(W,{fontSize:t,letterSpacing:r})[O]},D=i.length>=2?hn(i[1].coordinate-i[0].coordinate):1,L=rZ(a,D,O);return h==="equidistantPreserveStart"?iZ(D,L,k,i,c):h==="equidistantPreserveEnd"?aZ(D,L,k,i,c):(h==="preserveStart"||h==="preserveStartEnd"?C=uZ(D,L,k,i,c,h==="preserveStartEnd"):C=cZ(D,L,k,i,c),C.filter(j=>j.isShow))}var dZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,c=0;if(t){Array.from(t).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>c&&(c=w.width)}});var f=r?r.getBoundingClientRect().width:0,h=i+a,m=c+h+f+(r?n:0);return Math.round(m)}return 0},fZ=["axisLine","width","height","className","hide","ticks","axisType"];function hZ(e,t){if(e==null)return{};var r,n,i=pZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(null,arguments)}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){mZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mZ(e,t,r){return(t=gZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=vZ(e,"string");return typeof t=="symbol"?t:t+""}function vZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var os={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:$r.axis};function yZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:c,axisLine:f,otherSvgProps:h}=e;if(!f)return null;var m=Ur(Ur(Ur({},h),Si(f)),{},{fill:"none"});if(a==="top"||a==="bottom"){var v=+(a==="top"&&!c||a==="bottom"&&c);m=Ur(Ur({},m),{},{x1:t,y1:r+v*i,x2:t+n,y2:r+v*i})}else{var w=+(a==="left"&&!c||a==="right"&&c);m=Ur(Ur({},m),{},{x1:t+w*n,y1:r,x2:t+w*n,y2:r+i})}return N.createElement("line",fl({},m,{className:jt("recharts-cartesian-axis-line",sl(f,"className"))}))}function xZ(e,t,r,n,i,a,c,f,h){var m,v,w,E,C,O,I=f?-1:1,k=e.tickSize||c,D=Ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":m=v=e.coordinate,E=r+ +!f*i,w=E-I*k,O=w-I*h,C=D;break;case"left":w=E=e.coordinate,v=t+ +!f*n,m=v-I*k,C=m-I*h,O=D;break;case"right":w=E=e.coordinate,v=t+ +f*n,m=v+I*k,C=m+I*h,O=D;break;default:m=v=e.coordinate,E=r+ +f*i,w=E+I*k,O=w+I*h,C=D;break}return{line:{x1:m,y1:w,x2:v,y2:E},tick:{x:C,y:O}}}function wZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function EZ(e){var{option:t,tickProps:r,value:n}=e,i,a=jt(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,Ur(Ur({},r),{},{className:a}));else if(typeof t=="function")i=t(Ur(Ur({},r),{},{className:a}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=jt(c,t?.className)),i=N.createElement(Zp,fl({},r,{className:c}),n)}return i}var _Z=N.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:c,unit:f,padding:h,tickTextProps:m,orientation:v,mirror:w,x:E,y:C,width:O,height:I,tickSize:k,tickMargin:D,fontSize:L,letterSpacing:j,getTicksConfig:z,events:W,axisType:H}=e,V=ub(Ur(Ur({},z),{},{ticks:r}),L,j),re=wZ(v,w),Y=bZ(v,w),_e=Si(z),ge=xc(n),de={};typeof i=="object"&&(de=i);var Ae=Ur(Ur({},_e),{},{fill:"none"},de),ye=V.map(ie=>Ur({entry:ie},xZ(ie,E,C,O,I,v,k,w,D))),J=ye.map(ie=>{var{entry:fe,line:we}=ie;return N.createElement(jr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&N.createElement("line",fl({},Ae,we,{className:jt("recharts-cartesian-axis-tick-line",sl(i,"className"))})))}),Me=ye.map((ie,fe)=>{var{entry:we,tick:be}=ie,Z=Ur(Ur(Ur(Ur({textAnchor:re,verticalAnchor:Y},_e),{},{stroke:"none",fill:a},ge),be),{},{index:fe,payload:we,visibleTicksCount:V.length,tickFormatter:c,padding:h},m);return N.createElement(jr,fl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},kc(W,we,fe)),n&&N.createElement(EZ,{option:n,tickProps:Z,value:"".concat(typeof c=="function"?c(we.value,fe):we.value).concat(f||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(H,"-ticks")},Me.length>0&&N.createElement(si,{zIndex:$r.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(H,"-tick-labels"),ref:t},Me)),J.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(H,"-tick-lines")},J))}),AZ=N.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:c,ticks:f,axisType:h}=e,m=hZ(e,fZ),[v,w]=N.useState(""),[E,C]=N.useState(""),O=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return dZ({ticks:O.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var I=N.useCallback(k=>{if(k){var D=k.getElementsByClassName("recharts-cartesian-axis-tick-value");O.current=D;var L=D[0];if(L){var j=window.getComputedStyle(L),z=j.fontSize,W=j.letterSpacing;(z!==v||W!==E)&&(w(z),C(W))}}},[v,E]);return c||n!=null&&n<=0||i!=null&&i<=0?null:N.createElement(si,{zIndex:e.zIndex},N.createElement(jr,{className:jt("recharts-cartesian-axis",a)},N.createElement(yZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Si(e)}),N.createElement(_Z,{ref:I,axisType:h,events:m,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:E,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(j8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(D8,{label:e.label,labelRef:e.labelRef}),e.children)))}),db=N.forwardRef((e,t)=>{var r=Mr(e,os);return N.createElement(AZ,fl({},r,{ref:t}))});db.displayName="CartesianAxis";var SZ=["x1","y1","x2","y2","key"],CZ=["offset"],OZ=["xAxisId","yAxisId"],IZ=["xAxisId","yAxisId"];function n3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}function Q0(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:c,ry:f}=e;return N.createElement("rect",{x:n,y:i,ry:f,width:a,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ak(e){var{option:t,lineItemProps:r}=e,n;if(N.isValidElement(t))n=N.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:c,x2:f,y2:h,key:m}=r,v=Q0(r,SZ),w=(i=Si(v))!==null&&i!==void 0?i:{},{offset:E}=w,C=Q0(w,CZ);n=N.createElement("line",Qo({},C,{x1:a,y1:c,x2:f,y2:h,fill:"none",key:m}))}return n}function jZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=Q0(e,OZ),h=i.map((m,v)=>{var w=Dn(Dn({},f),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(v),index:v});return N.createElement(ak,{key:"line-".concat(v),option:n,lineItemProps:w})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function MZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=Q0(e,IZ),h=i.map((m,v)=>{var w=Dn(Dn({},f),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(v),index:v});return N.createElement(ak,{option:n,lineItemProps:w,key:"line-".concat(v)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function DZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:c,horizontalPoints:f,horizontal:h=!0}=e;if(!h||!t||!t.length||f==null)return null;var m=f.map(w=>Math.round(w+i-i)).sort((w,E)=>w-E);i!==m[0]&&m.unshift(0);var v=m.map((w,E)=>{var C=!m[E+1],O=C?i+c-w:m[E+1]-w;if(O<=0)return null;var I=E%t.length;return N.createElement("rect",{key:"react-".concat(E),y:w,x:n,height:O,width:a,stroke:"none",fill:t[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function LZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:c,height:f,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var m=h.map(w=>Math.round(w+i-i)).sort((w,E)=>w-E);i!==m[0]&&m.unshift(0);var v=m.map((w,E)=>{var C=!m[E+1],O=C?i+c-w:m[E+1]-w;if(O<=0)return null;var I=E%r.length;return N.createElement("rect",{key:"react-".concat(E),x:w,y:a,width:O,height:f,stroke:"none",fill:r[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var BZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return GN(ub(Dn(Dn(Dn({},os),r),{},{ticks:qN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},FZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return GN(ub(Dn(Dn(Dn({},os),r),{},{ticks:qN(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},UZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:$r.grid};function $y(e){var t=Wx(),r=Hx(),n=JN(),i=Dn(Dn({},Mr(e,UZ)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:c,x:f,y:h,width:m,height:v,syncWithTicks:w,horizontalValues:E,verticalValues:C}=i,O=Sn(),I=He(Y=>qC(Y,"xAxis",a,O)),k=He(Y=>qC(Y,"yAxis",c,O));if(!Pa(m)||!Pa(v)||!Ze(f)||!Ze(h))return null;var D=i.verticalCoordinatesGenerator||BZ,L=i.horizontalCoordinatesGenerator||FZ,{horizontalPoints:j,verticalPoints:z}=i;if((!j||!j.length)&&typeof L=="function"){var W=E&&E.length,H=L({yAxis:k?Dn(Dn({},k),{},{ticks:W?E:k.ticks}):void 0,width:t??m,height:r??v,offset:n},W?!0:w);S0(Array.isArray(H),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(j=H)}if((!z||!z.length)&&typeof D=="function"){var V=C&&C.length,re=D({xAxis:I?Dn(Dn({},I),{},{ticks:V?C:I.ticks}):void 0,width:t??m,height:r??v,offset:n},V?!0:w);S0(Array.isArray(re),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof re,"]")),Array.isArray(re)&&(z=re)}return N.createElement(si,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(RZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(DZ,Qo({},i,{horizontalPoints:j})),N.createElement(LZ,Qo({},i,{verticalPoints:z})),N.createElement(jZ,Qo({},i,{offset:n,horizontalPoints:j,xAxis:I,yAxis:k})),N.createElement(MZ,Qo({},i,{offset:n,verticalPoints:z,xAxis:I,yAxis:k}))))}$y.displayName="CartesianGrid";var zZ={},sk=ai({name:"errorBars",initialState:zZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Ure,replaceErrorBar:zre,removeErrorBar:$re}=sk.actions,$Z=sk.reducer,WZ=["children"];function HZ(e,t){if(e==null)return{};var r,n,i=VZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qZ=N.createContext(GZ);function ok(e){var{children:t}=e,r=HZ(e,WZ);return N.createElement(qZ.Provider,{value:r},t)}function fb(e,t){var r,n,i=He(m=>ja(m,e)),a=He(m=>Ma(m,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:un.allowDataOverflow,f=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:dn.allowDataOverflow,h=c||f;return{needClip:h,needClipX:c,needClipY:f}}function lk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Z8(),{needClipX:a,needClipY:c,needClip:f}=fb(t,r);if(!f||!i)return null;var{x:h,y:m,width:v,height:w}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:a?h:h-v/2,y:c?m:m-w/2,width:a?v:v*2,height:c?w:w*2}))}var Av={exports:{}},Sv={};var i3;function KZ(){if(i3)return Sv;i3=1;var e=Oc();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Sv.useSyncExternalStoreWithSelector=function(h,m,v,w,E){var C=i(null);if(C.current===null){var O={hasValue:!1,value:null};C.current=O}else O=C.current;C=c(function(){function k(W){if(!D){if(D=!0,L=W,W=w(W),E!==void 0&&O.hasValue){var H=O.value;if(E(H,W))return j=H}return j=W}if(H=j,r(L,W))return H;var V=w(W);return E!==void 0&&E(H,V)?(L=W,H):(L=W,j=V)}var D=!1,L,j,z=v===void 0?null:v;return[function(){return k(m())},z===null?void 0:function(){return k(z())}]},[m,v,w,E]);var I=n(h,C[0],C[1]);return a(function(){O.hasValue=!0,O.value=I},[I]),f(I),I},Sv}var a3;function YZ(){return a3||(a3=1,Av.exports=KZ()),Av.exports}YZ();function XZ(e){e()}function ZZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){XZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var s3={notify(){},get:()=>[]};function QZ(e,t){let r,n=s3,i=0,a=!1;function c(I){v();const k=n.subscribe(I);let D=!1;return()=>{D||(D=!0,k(),w())}}function f(){n.notify()}function h(){O.onStateChange&&O.onStateChange()}function m(){return a}function v(){i++,r||(r=e.subscribe(h),n=ZZ())}function w(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=s3)}function E(){a||(a=!0,v())}function C(){a&&(a=!1,w())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:h,isSubscribed:m,trySubscribe:E,tryUnsubscribe:C,getListeners:()=>n};return O}var JZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eQ=JZ(),tQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rQ=tQ(),nQ=()=>eQ||rQ?N.useLayoutEffect:N.useEffect,iQ=nQ();function o3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function aQ(e,t){if(o3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!o3(e[r[i]],t[r[i]]))return!1;return!0}var sQ=Symbol.for("react-redux-context"),oQ=typeof globalThis<"u"?globalThis:{};function lQ(){if(!N.createContext)return{};const e=oQ[sQ]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var cQ=lQ();function uQ(e){const{children:t,context:r,serverState:n,store:i}=e,a=N.useMemo(()=>{const h=QZ(i);return{store:i,subscription:h,getServerState:n?()=>n:void 0}},[i,n]),c=N.useMemo(()=>i.getState(),[i]);iQ(()=>{const{subscription:h}=a;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[a,c]);const f=r||cQ;return N.createElement(f.Provider,{value:a},t)}var dQ=uQ,fQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function s1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fQ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!aQ(e[n],t[n]))return!1}else if(!hQ(e[n],t[n]))return!1;return!0}function xl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Y8}function wl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Y8}var pQ="Invariant failed";function mQ(e,t){throw new Error(pQ)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function J0(e){return N.createElement(X0,Wy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var gQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ze(t))return t;var a=Ze(n)||tr(n);return a?t(n,i):(a||mQ(),r)}},vQ=(e,t,r)=>r,yQ=(e,t)=>t,Kd=ue([Gp,yQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),xQ=ue([Kd],e=>e?.maxBarSize),wQ=(e,t,r,n)=>n,bQ=ue([Pt,Gp,xl,wl,vQ],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),EQ=(e,t,r)=>{var n=Pt(e),i=xl(e,t),a=wl(e,t);if(!(i==null||a==null))return n==="horizontal"?My(e,"yAxis",a,r):My(e,"xAxis",i,r)},_Q=(e,t)=>{var r=Pt(e),n=xl(e,t),i=wl(e,t);if(!(n==null||i==null))return r==="horizontal"?GC(e,"xAxis",n):GC(e,"yAxis",i)},AQ=ue([bQ,bH,_Q],EX),SQ=(e,t,r)=>{var n,i,a=Kd(e,t);if(a!=null){var c=xl(e,t),f=wl(e,t);if(!(c==null||f==null)){var h=Pt(e),m=g4(e),{maxBarSize:v}=a,w=tr(v)?m:v,E,C;return h==="horizontal"?(E=so(e,"xAxis",c,r),C=ao(e,"xAxis",c,r)):(E=so(e,"yAxis",f,r),C=ao(e,"yAxis",f,r)),(n=(i=A0(E,C,!0))!==null&&i!==void 0?i:w)!==null&&n!==void 0?n:0}}},ck=(e,t,r)=>{var n=Pt(e),i=xl(e,t),a=wl(e,t);if(!(i==null||a==null)){var c,f;return n==="horizontal"?(c=so(e,"xAxis",i,r),f=ao(e,"xAxis",i,r)):(c=so(e,"yAxis",a,r),f=ao(e,"yAxis",a,r)),A0(c,f)}},CQ=ue([AQ,g4,wH,v4,SQ,ck,xQ],OX),OQ=(e,t,r)=>{var n=xl(e,t);if(n!=null)return so(e,"xAxis",n,r)},IQ=(e,t,r)=>{var n=wl(e,t);if(n!=null)return so(e,"yAxis",n,r)},TQ=(e,t,r)=>{var n=xl(e,t);if(n!=null)return ao(e,"xAxis",n,r)},NQ=(e,t,r)=>{var n=wl(e,t);if(n!=null)return ao(e,"yAxis",n,r)},PQ=ue([CQ,Kd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),kQ=ue([EQ,Kd],IX),RQ=ue([Jr,zx,OQ,IQ,TQ,NQ,PQ,Pt,lH,ck,kQ,Kd,wQ],(e,t,r,n,i,a,c,f,h,m,v,w,E)=>{var{chartData:C,dataStartIndex:O,dataEndIndex:I}=h;if(!(w==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||a==null||m==null)){var{data:k}=w,D;if(k!=null&&k.length>0?D=k:D=C?.slice(O,I+1),D!=null)return lJ({layout:f,barSettings:w,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:v,displayedData:D,offset:e,cells:E,dataStartIndex:O})}}),jQ=["index"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function MQ(e,t){if(e==null)return{};var r,n,i=DQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uk=N.createContext(void 0),LQ=e=>{var t=N.useContext(uk);if(t!=null)return t.stackId;if(e!=null)return rF(e)},BQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),FQ=e=>{var t=N.useContext(uk);if(t!=null){var{stackId:r}=t;return"url(#".concat(BQ(r,e),")")}},UQ=e=>{var{index:t}=e,r=MQ(e,jQ),n=FQ(t);return N.createElement(jr,Hy({className:"recharts-bar-stack-layer",clipPath:n},r))},zQ=["onMouseEnter","onMouseLeave","onClick"],$Q=["value","background","tooltipPosition"],WQ=["id"],HQ=["onMouseEnter","onClick","onMouseLeave"];function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(null,arguments)}function l3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l3(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(e,t){if(e==null)return{};var r,n,i=KQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Rc(r,t),payload:e}]},XQ=N.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:c,unit:f,tooltipType:h,id:m}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Rc(a,t),hide:c,type:h,color:i,unit:f,graphicalItemId:m}};return N.createElement(lb,{tooltipEntrySettings:v})});function ZQ(e){var t=He(oo),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:c,onMouseLeave:f,onClick:h}=a,m=ep(a,zQ),v=t1(c,n,a.id),w=r1(f),E=n1(h,n,a.id);if(!i||r==null)return null;var C=xc(i);return N.createElement(si,{zIndex:TX(i,$r.barBackground)},r.map((O,I)=>{var{value:k,background:D,tooltipPosition:L}=O,j=ep(O,$Q);if(!D)return null;var z=v(O,I),W=w(O,I),H=E(O,I),V=zn(zn(zn(zn(zn({option:i,isActive:String(I)===t},j),{},{fill:"#eee"},D),C),kc(m,O,I)),{},{onMouseEnter:z,onMouseLeave:W,onClick:H,dataKey:n,index:I,className:"recharts-bar-background-rectangle"});return N.createElement(J0,ms({key:"background-bar-".concat(I)},V))}))}function QQ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var c={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return zn(zn({},c),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:c,fill:a.fill})});return N.createElement(B8,{value:t?i:void 0},r)}function JQ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:c}=e,f=He(oo),h=He(Qw),m=r&&String(a)===f&&(h==null||c===h),v=m?r:t;return m?N.createElement(si,{zIndex:$r.activeBar},N.createElement(J0,ms({},n,{name:String(n.name)},i,{isActive:m,option:v,index:a,dataKey:c}))):N.createElement(J0,ms({},n,{name:String(n.name)},i,{isActive:m,option:v,index:a,dataKey:c}))}function eJ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return N.createElement(J0,ms({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function tJ(e){var t,{data:r,props:n}=e,i=(t=Si(n))!==null&&t!==void 0?t:{},{id:a}=i,c=ep(i,WQ),{shape:f,dataKey:h,activeBar:m}=n,{onMouseEnter:v,onClick:w,onMouseLeave:E}=n,C=ep(n,HQ),O=t1(v,h,a),I=r1(E),k=n1(w,h,a);return r?N.createElement(N.Fragment,null,r.map((D,L)=>N.createElement(UQ,ms({index:L,key:"rectangle-".concat(D?.x,"-").concat(D?.y,"-").concat(D?.value,"-").concat(L),className:"recharts-bar-rectangle"},kc(C,D,L),{onMouseEnter:O(D,L),onMouseLeave:I(D,L),onClick:k(D,L)}),m?N.createElement(JQ,{shape:f,activeBar:m,baseProps:c,entry:D,index:L,dataKey:h}):N.createElement(eJ,{shape:f,baseProps:c,entry:D,index:L,dataKey:h})))):null}function rJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationEnd:m,onAnimationStart:v}=t,w=r.current,E=jd(t,"recharts-bar-"),[C,O]=N.useState(!1),I=!C,k=N.useCallback(()=>{typeof m=="function"&&m(),O(!1)},[m]),D=N.useCallback(()=>{typeof v=="function"&&v(),O(!0)},[v]);return N.createElement(QQ,{showLabels:I,rects:n},N.createElement(Rd,{animationId:E,begin:c,duration:f,isActive:a,easing:h,onAnimationEnd:k,onAnimationStart:D,key:E},L=>{var j=L===1?n:n?.map((z,W)=>{var H=w&&w[W];if(H)return zn(zn({},z),{},{x:yr(H.x,z.x,L),y:yr(H.y,z.y,L),width:yr(H.width,z.width,L),height:yr(H.height,z.height,L)});if(i==="horizontal"){var V=yr(0,z.height,L),re=yr(z.stackedBarStart,z.y,L);return zn(zn({},z),{},{y:re,height:V})}var Y=yr(0,z.width,L),_e=yr(z.stackedBarStart,z.x,L);return zn(zn({},z),{},{width:Y,x:_e})});return L>0&&(r.current=j??null),j==null?null:N.createElement(jr,null,N.createElement(tJ,{props:t,data:j}))}),N.createElement(ab,{label:t.label}),t.children)}function nJ(e){var t=N.useRef(null);return N.createElement(rJ,{previousRectanglesRef:t,props:e})}var dk=0,iJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lt(e,t)}};class aJ extends N.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:c,needClip:f,background:h,id:m}=this.props;if(t||r==null)return null;var v=jt("recharts-bar",i),w=m;return N.createElement(jr,{className:v,id:m},f&&N.createElement("defs",null,N.createElement(lk,{clipPathId:w,xAxisId:a,yAxisId:c})),N.createElement(jr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(w,")"):void 0},N.createElement(ZQ,{data:r,dataKey:n,background:h,allOtherBarProps:this.props}),N.createElement(nJ,this.props)))}}var sJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:dk,xAxisId:0,yAxisId:0,zIndex:$r.bar};function oJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:v}=e,{needClip:w}=fb(t,r),E=Pd(),C=Sn(),O=e1(e.children,dl),I=He(L=>RQ(L,e.id,C,O));if(E!=="vertical"&&E!=="horizontal")return null;var k,D=I?.[0];return D==null||D.height==null||D.width==null?k=0:k=E==="vertical"?D.height/2:D.width/2,N.createElement(ok,{xAxisId:t,yAxisId:r,data:I,dataPointFormatter:iJ,errorBarOffset:k},N.createElement(aJ,ms({},e,{layout:E,needClip:w,data:I,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:h,animationEasing:m,isAnimationActive:v})))}function lJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:c,yAxis:f,xAxisTicks:h,yAxisTicks:m,stackedData:v,displayedData:w,offset:E,cells:C,parentViewBox:O,dataStartIndex:I}=e,k=t==="horizontal"?f:c,D=v?k.scale.domain():null,L=nF({numericAxis:k}),j=k.scale(L);return w.map((z,W)=>{var H,V,re,Y,_e,ge;if(v){var de=v[W+I];if(de==null)return null;H=ZB(de,D)}else H=Lt(z,r),Array.isArray(H)||(H=[L,H]);var Ae=gQ(n,dk)(H[1],W);if(t==="horizontal"){var ye,[J,Me]=[f.scale(H[0]),f.scale(H[1])];V=XA({axis:c,ticks:h,bandSize:a,offset:i.offset,entry:z,index:W}),re=(ye=Me??J)!==null&&ye!==void 0?ye:void 0,Y=i.size;var ie=J-Me;if(_e=Oi(ie)?0:ie,ge={x:V,y:E.top,width:Y,height:E.height},Math.abs(Ae)>0&&Math.abs(_e)<Math.abs(Ae)){var fe=hn(_e||Ae)*(Math.abs(Ae)-Math.abs(_e));re-=fe,_e+=fe}}else{var[we,be]=[c.scale(H[0]),c.scale(H[1])];if(V=we,re=XA({axis:f,ticks:m,bandSize:a,offset:i.offset,entry:z,index:W}),Y=be-we,_e=i.size,ge={x:E.left,y:re,width:E.width,height:_e},Math.abs(Ae)>0&&Math.abs(Y)<Math.abs(Ae)){var Z=hn(Y||Ae)*(Math.abs(Ae)-Math.abs(Y));Y+=Z}}if(V==null||re==null||Y==null||_e==null)return null;var le=zn(zn({},z),{},{stackedBarStart:j,x:V,y:re,width:Y,height:_e,value:v?H:H[1],payload:z,background:ge,tooltipPosition:{x:V+Y/2,y:re+_e/2},parentViewBox:O},C&&C[W]&&C[W].props);return le}).filter(Boolean)}function cJ(e){var t=Mr(e,sJ),r=LQ(t.stackId),n=Sn();return N.createElement(cb,{id:t.id,type:"bar"},i=>N.createElement(N.Fragment,null,N.createElement(V8,{legendPayload:YQ(t)}),N.createElement(XQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),N.createElement(q8,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),N.createElement(si,{zIndex:t.zIndex},N.createElement(oJ,ms({},t,{id:i})))))}var fk=N.memo(cJ,s1);fk.displayName="Bar";var uJ=["option","isActive"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function dJ(e,t){if(e==null)return{};var r,n,i=fJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hJ(e){var{option:t,isActive:r}=e,n=dJ(e,uJ);return typeof t=="string"?N.createElement(X0,Zu({option:N.createElement(hp,Zu({type:t},n)),isActive:r,shapeType:"symbols"},n)):N.createElement(X0,Zu({option:t,isActive:r,shapeType:"symbols"},n))}var pJ=(e,t,r,n,i,a,c)=>so(e,"xAxis",t,c),mJ=(e,t,r,n,i,a,c)=>ao(e,"xAxis",t,c),gJ=(e,t,r,n,i,a,c)=>so(e,"yAxis",r,c),vJ=(e,t,r,n,i,a,c)=>ao(e,"yAxis",r,c),yJ=(e,t,r,n)=>_V(e,"zAxis",n,!1),xJ=(e,t,r,n,i)=>i,wJ=(e,t,r,n,i,a)=>a,bJ=(e,t,r,n,i,a,c)=>gw(e,void 0,void 0,c),EJ=ue([Gp,xJ],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),_J=ue([bJ,pJ,mJ,gJ,vJ,yJ,EJ,wJ],(e,t,r,n,i,a,c,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:v}=e;if(c!=null){var w;if(c?.data!=null&&c.data.length>0?w=c.data:w=h?.slice(m,v+1),!(w==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return LJ({displayedData:w,xAxis:t,yAxis:n,zAxis:a,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),AJ=["id"],SJ=["onMouseEnter","onClick","onMouseLeave"],CJ=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Vy(e,t){if(e==null)return{};var r,n,i=OJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(null,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){IJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IJ(e,t,r){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PJ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Rc(r,t),payload:e}]},kJ=N.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,tooltipType:h,id:m}=e,v={dataDefinedOnItem:r?.map(w=>w.tooltipPayload),positions:r?.map(w=>w.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:Rc(c,t),hide:f,type:h,color:a,unit:"",graphicalItemId:m}};return N.createElement(lb,{tooltipEntrySettings:v})});function RJ(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var c=Si(r),f=xc(n),h,m;if(i==="joint")h=t.map(k=>{var D,L;return{x:(D=k.cx)!==null&&D!==void 0?D:null,y:(L=k.cy)!==null&&L!==void 0?L:null}});else if(i==="fitting"){var{xmin:v,xmax:w,a:E,b:C}=S7(t),O=k=>E*k+C;h=[{x:v,y:O(v)},{x:w,y:O(w)}]}var I=ii(ii(ii({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:h});return N.isValidElement(n)?m=N.cloneElement(n,I):typeof n=="function"?m=n(I):m=N.createElement(kp,hl({},I,{type:a})),N.createElement(jr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function jJ(e){var{showLabels:t,points:r,children:n}=e,i=jc(),a=N.useMemo(()=>r?.map(c=>{var f,h,m={x:(f=c.x)!==null&&f!==void 0?f:0,y:(h=c.y)!==null&&h!==void 0?h:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return ii(ii({},m),{},{value:void 0,payload:c.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,r]);return N.createElement(B8,{value:t?a:void 0},n)}function MJ(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:c}=r,f=Vy(r,AJ),h=He(oo),{onMouseEnter:m,onClick:v,onMouseLeave:w}=r,E=Vy(r,SJ),C=t1(m,a,c),O=r1(w),I=n1(v,a,c);if(!F7(t))return null;var k=Si(f);return N.createElement(N.Fragment,null,N.createElement(RJ,{points:t,props:f}),t.map((D,L)=>{var j=i!=null&&i!==!1,z=j&&h===String(L),W=j&&z?i:n,H=ii(ii(ii({},k),D),{},{[Fx]:L,[Ux]:String(c)});return N.createElement(si,{key:"symbol-".concat(D?.cx,"-").concat(D?.cy,"-").concat(D?.size,"-").concat(L),zIndex:z?$r.activeDot:void 0},N.createElement(jr,hl({className:"recharts-scatter-symbol"},kc(E,D,L),{onMouseEnter:C(D,L),onMouseLeave:O(D,L),onClick:I(D,L)}),N.createElement(hJ,hl({option:W,isActive:z},H))))}))}function DJ(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:c,animationEasing:f}=r,h=t.current,m=jd(r,"recharts-scatter-"),[v,w]=N.useState(!1),E=N.useCallback(()=>{w(!1)},[]),C=N.useCallback(()=>{w(!0)},[]),O=!v;return N.createElement(jJ,{showLabels:O,points:n},r.children,N.createElement(Rd,{animationId:m,begin:a,duration:c,isActive:i,easing:f,onAnimationEnd:E,onAnimationStart:C,key:m},I=>{var k=I===1?n:n?.map((D,L)=>{var j=h&&h[L];return j?ii(ii({},D),{},{cx:D.cx==null?void 0:yr(j.cx,D.cx,I),cy:D.cy==null?void 0:yr(j.cy,D.cy,I),size:yr(j.size,D.size,I)}):ii(ii({},D),{},{size:yr(0,D.size,I)})});return I>0&&(t.current=k),N.createElement(jr,null,N.createElement(MJ,{points:k,allOtherScatterProps:r,showLabels:O}))}),N.createElement(ab,{label:r.label}))}function LJ(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:c,yAxisTicks:f,cells:h}=e,m=tr(r.dataKey)?a.dataKey:r.dataKey,v=tr(n.dataKey)?a.dataKey:n.dataKey,w=i&&i.dataKey,E=i?i.range:I4.range,C=E&&E[0],O=r.scale.bandwidth?r.scale.bandwidth():0,I=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((k,D)=>{var L=Lt(k,m),j=Lt(k,v),z=!tr(w)&&Lt(k,w)||"-",W=[{name:tr(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:L,payload:k,dataKey:m,type:a.tooltipType},{name:tr(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:j,payload:k,dataKey:v,type:a.tooltipType}];z!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:z,payload:k,dataKey:w,type:a.tooltipType});var H=YA({axis:r,ticks:c,bandSize:O,entry:k,index:D,dataKey:m}),V=YA({axis:n,ticks:f,bandSize:I,entry:k,index:D,dataKey:v}),re=z!=="-"?i.scale(z):C,Y=Math.sqrt(Math.max(re,0)/Math.PI);return ii(ii({},k),{},{cx:H,cy:V,x:H==null?void 0:H-Y,y:V==null?void 0:V-Y,width:2*Y,height:2*Y,size:re,node:{x:L,y:j,z},tooltipPayload:W,tooltipPosition:{x:H,y:V},payload:k},h&&h[D]&&h[D].props)})}var BJ=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Lt(e,t)});function FJ(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:c,id:f}=e,h=N.useRef(null);if(t)return null;var m=jt("recharts-scatter",n),v=f;return N.createElement(si,{zIndex:e.zIndex},N.createElement(jr,{className:m,clipPath:i?"url(#clipPath-".concat(v,")"):void 0,id:f},i&&N.createElement("defs",null,N.createElement(lk,{clipPathId:v,xAxisId:a,yAxisId:c})),N.createElement(ok,{xAxisId:a,yAxisId:c,data:r,dataPointFormatter:BJ,errorBarOffset:0},N.createElement(jr,{key:"recharts-scatter-symbols"},N.createElement(DJ,{props:e,previousPointsRef:h})))))}var hk={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:$r.scatter};function UJ(e){var t=Mr(e,hk),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:c,legendType:f,lineJointType:h,lineType:m,shape:v,xAxisId:w,yAxisId:E,zAxisId:C}=t,O=Vy(t,CJ),{needClip:I}=fb(w,E),k=N.useMemo(()=>e1(e.children,dl),[e.children]),D=Sn(),L=He(j=>_J(j,w,E,C,e.id,k,D));return I==null||L==null?null:N.createElement(N.Fragment,null,N.createElement(kJ,{dataKey:e.dataKey,points:L,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),N.createElement(FJ,hl({},O,{xAxisId:w,yAxisId:E,zAxisId:C,lineType:m,lineJointType:h,legendType:f,shape:v,hide:a,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:L,needClip:I})))}function zJ(e){var t=Mr(e,hk),r=Sn();return N.createElement(cb,{id:t.id,type:"scatter"},n=>N.createElement(N.Fragment,null,N.createElement(V8,{legendPayload:PJ(t)}),N.createElement(q8,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),N.createElement(UJ,hl({},t,{id:n}))))}var pk=N.memo(zJ,s1);pk.displayName="Scatter";var $J=["domain","range"],WJ=["domain","range"];function u3(e,t){if(e==null)return{};var r,n,i=HJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mk(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=u3(e,$J),{domain:a,range:c}=t,f=u3(t,WJ);return!d3(r,a)||!d3(n,c)?!1:s1(i,f)}var VJ=["dangerouslySetInnerHTML","ticks","scale"],GJ=["id","scale"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gy.apply(null,arguments)}function f3(e,t){if(e==null)return{};var r,n,i=qJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KJ(e){var t=qt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(fX(e)):r.current!==e&&t(hX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(pX(r.current)),r.current=null)},[t]),null}var YJ=e=>{var{xAxisId:t,className:r}=e,n=He(zx),i=Sn(),a="xAxis",c=He(D=>X4(D,a,t,i)),f=He(D=>G4(D,t)),h=He(D=>vV(D,t)),m=He(D=>C4(D,t));if(f==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:w,scale:E}=e,C=f3(e,VJ),{id:O,scale:I}=m,k=f3(m,GJ);return N.createElement(db,Gy({},C,k,{x:h.x,y:h.y,width:f.width,height:f.height,className:jt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c,axisType:a}))},XJ={allowDataOverflow:un.allowDataOverflow,allowDecimals:un.allowDecimals,allowDuplicatedCategory:un.allowDuplicatedCategory,angle:un.angle,axisLine:os.axisLine,height:un.height,hide:!1,includeHidden:un.includeHidden,interval:un.interval,minTickGap:un.minTickGap,mirror:un.mirror,orientation:un.orientation,padding:un.padding,reversed:un.reversed,scale:un.scale,tick:un.tick,tickCount:un.tickCount,tickLine:os.tickLine,tickSize:os.tickSize,type:un.type,xAxisId:0},ZJ=e=>{var t=Mr(e,XJ);return N.createElement(N.Fragment,null,N.createElement(KJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(YJ,t))},qy=N.memo(ZJ,mk);qy.displayName="XAxis";var QJ=["dangerouslySetInnerHTML","ticks","scale"],JJ=["id","scale"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function h3(e,t){if(e==null)return{};var r,n,i=eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tee(e){var t=qt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(vX(r.current)),r.current=null)},[t]),null}var ree=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=N.useRef(null),c=N.useRef(null),f=He(zx),h=Sn(),m=qt(),v="yAxis",w=He(H=>q4(H,t)),E=He(H=>xV(H,t)),C=He(H=>X4(H,v,t,h)),O=He(H=>O4(H,t));if(N.useLayoutEffect(()=>{if(!(n!=="auto"||!w||ib(i)||N.isValidElement(i)||O==null)){var H=a.current;if(H){var V=H.getCalculatedWidth();Math.round(w.width)!==Math.round(V)&&m(yX({id:t,width:V}))}}},[C,w,m,i,t,n,O]),w==null||E==null||O==null)return null;var{dangerouslySetInnerHTML:I,ticks:k,scale:D}=e,L=h3(e,QJ),{id:j,scale:z}=O,W=h3(O,JJ);return N.createElement(db,Ky({},L,W,{ref:a,labelRef:c,x:E.x,y:E.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:w.width,height:w.height,className:jt("recharts-".concat(v," ").concat(v),r),viewBox:f,ticks:C,axisType:v}))},nee={allowDataOverflow:dn.allowDataOverflow,allowDecimals:dn.allowDecimals,allowDuplicatedCategory:dn.allowDuplicatedCategory,angle:dn.angle,axisLine:os.axisLine,hide:!1,includeHidden:dn.includeHidden,interval:dn.interval,minTickGap:dn.minTickGap,mirror:dn.mirror,orientation:dn.orientation,padding:dn.padding,reversed:dn.reversed,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,tickLine:os.tickLine,tickSize:os.tickSize,type:dn.type,width:dn.width,yAxisId:0},iee=e=>{var t=Mr(e,nee);return N.createElement(N.Fragment,null,N.createElement(tee,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(ree,t))},Yy=N.memo(iee,mk);Yy.displayName="YAxis";var aee=(e,t)=>t,hb=ue([aee,Pt,A4,tn,f8,bs,MG,Jr],$G),pb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},gk=Ki("mouseClick"),vk=Td();vk.startListening({actionCreator:gk,effect:(e,t)=>{var r=e.payload,n=hb(t.getState(),pb(r));n?.activeIndex!=null&&t.dispatch(jV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Xy=Ki("mouseMove"),yk=Td(),Ph=null;yk.startListening({actionCreator:Xy,effect:(e,t)=>{var r=e.payload;Ph!==null&&cancelAnimationFrame(Ph);var n=pb(r);Ph=requestAnimationFrame(()=>{var i=t.getState(),a=Gw(i,i.tooltip.settings.shared);if(a==="axis"){var c=hb(i,n);c?.activeIndex!=null?t.dispatch(i8({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(n8())}Ph=null})}});function see(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var p3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xk=ai({name:"rootProps",initialState:p3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:p3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),oee=xk.reducer,{updateOptions:lee}=xk.actions,wk=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cee}=wk.actions,uee=wk.reducer,bk=Ki("keyDown"),Ek=Ki("focus"),mb=Td();mb.startListening({actionCreator:bk,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var c=qw(i,Wc(r),Wd(r),Gd(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var h=bs(r);if(a==="Enter"){var m=G0(r,"axis","hover",String(i.index));t.dispatch(Ly({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var v=AV(r),w=v==="left-to-right"?1:-1,E=a==="ArrowRight"?1:-1,C=f+E*w;if(!(h==null||C>=h.length||C<0)){var O=G0(r,"axis","hover",String(C));t.dispatch(Ly({active:!0,activeIndex:C.toString(),activeCoordinate:O}))}}}}}});mb.startListening({actionCreator:Ek,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",c=G0(r,"axis","hover",String(a));t.dispatch(Ly({active:!0,activeIndex:a,activeCoordinate:c}))}}}});var Hi=Ki("externalEvent"),_k=Td(),Cv=new Map;_k.startListening({actionCreator:Hi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Cv.get(i);a!==void 0&&cancelAnimationFrame(a);var c=requestAnimationFrame(()=>{try{var f=t.getState(),h={activeCoordinate:wG(f),activeDataKey:Qw(f),activeIndex:oo(f),activeLabel:m8(f),activeTooltipIndex:oo(f),isTooltipActive:bG(f)};r(h,n)}finally{Cv.delete(i)}});Cv.set(i,c)}}});var dee=ue([zc],e=>e.tooltipItemPayloads),fee=ue([dee,Vd,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var c=t(a,r);return c}}}),Ak=Ki("touchMove"),Sk=Td();Sk.startListening({actionCreator:Ak,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Gw(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var c=hb(n,pb({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(i8({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,h=r.touches[0];if(document.elementFromPoint==null||h==null)return;var m=document.elementFromPoint(h.clientX,h.clientY);if(!m||!m.getAttribute)return;var v=m.getAttribute(Fx),w=(f=m.getAttribute(Ux))!==null&&f!==void 0?f:void 0,E=$c(n).find(I=>I.id===w);if(v==null||E==null||w==null)return;var{dataKey:C}=E,O=fee(n,v,w);t.dispatch(r8({activeDataKey:C,activeIndex:v,activeCoordinate:O,activeGraphicalItemId:w}))}}}});var hee=vN({brush:NX,cartesianAxis:xX,chartData:xq,errorBars:$Z,graphicalItems:jY,layout:VB,legend:JF,options:pq,polarAxis:KK,polarOptions:uee,referenceElements:zX,rootProps:oee,tooltip:MV,zIndex:rq}),pee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gB({reducer:hee,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([vk.middleware,yk.middleware,mb.middleware,_k.middleware,Sk.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(kN({type:"raf"}))},devTools:{serialize:{replacer:see},name:"recharts-".concat(r)}})};function Ck(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Sn(),a=N.useRef(null);if(i)return r;a.current==null&&(a.current=pee(t,n));var c=kx;return N.createElement(dQ,{context:c,store:a.current},r)}function mee(e){var{layout:t,margin:r}=e,n=qt(),i=Sn();return N.useEffect(()=>{i||(n($B(t)),n(zB(r)))},[n,i,t,r]),null}var Ok=N.memo(mee,s1);function Ik(e){var t=qt();return N.useEffect(()=>{t(lee(e))},[t,e]),null}function m3(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),i=qt();return N.useLayoutEffect(()=>(n.current&&i(eq({zIndex:t,element:n.current,isPanorama:r})),()=>{i(tq({zIndex:t,isPanorama:r}))}),[i,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function g3(e){var{children:t,isPanorama:r}=e,n=He(HG);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),a=n.filter(c=>c>0);return N.createElement(N.Fragment,null,i.map(c=>N.createElement(m3,{key:c,zIndex:c,isPanorama:r})),t,a.map(c=>N.createElement(m3,{key:c,zIndex:c,isPanorama:r})))}var gee=["children"];function vee(e,t){if(e==null)return{};var r,n,i=yee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}var xee={width:"100%",height:"100%",display:"block"},wee=N.forwardRef((e,t)=>{var r=Wx(),n=Hx(),i=dP();if(!Pa(r)||!Pa(n))return null;var{children:a,otherAttributes:c,title:f,desc:h}=e,m,v;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0),N.createElement(Ax,tp({},c,{title:f,desc:h,role:v,tabIndex:m,width:r,height:n,style:xee,ref:t}),a)}),bee=e=>{var{children:t}=e,r=He(Op);if(!r)return null;var{width:n,height:i,y:a,x:c}=r;return N.createElement(Ax,{width:n,height:i,x:c,y:a},t)},v3=N.forwardRef((e,t)=>{var{children:r}=e,n=vee(e,gee),i=Sn();return i?N.createElement(bee,null,N.createElement(g3,{isPanorama:!0},r)):N.createElement(wee,tp({ref:t},n),N.createElement(g3,{isPanorama:!1},r))});function Eee(){var e=qt(),[t,r]=N.useState(null),n=He(cF);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Vt(a)&&a!==n&&e(HB(a))}},[t,e,n]),r}function y3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y3(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return(t=See(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function See(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(null,arguments)}var Oee=()=>(Iq(),null);function rp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Iee=N.forwardRef((e,t)=>{var r,n,i=N.useRef(null),[a,c]=N.useState({containerWidth:rp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:rp((n=e.style)===null||n===void 0?void 0:n.height)}),f=N.useCallback((m,v)=>{c(w=>{var E=Math.round(m),C=Math.round(v);return w.containerWidth===E&&w.containerHeight===C?w:{containerWidth:E,containerHeight:C}})},[]),h=N.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:v,height:w}=m.getBoundingClientRect();f(v,w);var E=O=>{var{width:I,height:k}=O[0].contentRect;f(I,k)},C=new ResizeObserver(E);C.observe(m),i.current=C}},[t,f]);return N.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[f]),N.createElement(N.Fragment,null,N.createElement(Ip,{width:a.containerWidth,height:a.containerHeight}),N.createElement("div",pl({ref:h},e)))}),Tee=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=N.useState({containerWidth:rp(r),containerHeight:rp(n)}),c=N.useCallback((h,m)=>{a(v=>{var w=Math.round(h),E=Math.round(m);return v.containerWidth===w&&v.containerHeight===E?v:{containerWidth:w,containerHeight:E}})},[]),f=N.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:m,height:v}=h.getBoundingClientRect();c(m,v)}},[t,c]);return N.createElement(N.Fragment,null,N.createElement(Ip,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",pl({ref:f},e)))}),Nee=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(Ip,{width:r,height:n}),N.createElement("div",pl({ref:t},e)))}),Pee=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return cs(r)||cs(n)?N.createElement(Tee,pl({},e,{ref:t})):N.createElement(Nee,pl({},e,{ref:t}))});function kee(e){return e===!0?Iee:Pee}var Ree=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:c,onDoubleClick:f,onMouseDown:h,onMouseEnter:m,onMouseLeave:v,onMouseMove:w,onMouseUp:E,onTouchEnd:C,onTouchMove:O,onTouchStart:I,style:k,width:D,responsive:L,dispatchTouchEvents:j=!0}=e,z=N.useRef(null),W=qt(),[H,V]=N.useState(null),[re,Y]=N.useState(null),_e=Eee(),ge=$x(),de=ge?.width>0?ge.width:D,Ae=ge?.height>0?ge.height:i,ye=N.useCallback(ae=>{_e(ae),typeof t=="function"&&t(ae),V(ae),Y(ae),ae!=null&&(z.current=ae)},[_e,t,V,Y]),J=N.useCallback(ae=>{W(gk(ae)),W(Hi({handler:a,reactEvent:ae}))},[W,a]),Me=N.useCallback(ae=>{W(Xy(ae)),W(Hi({handler:m,reactEvent:ae}))},[W,m]),ie=N.useCallback(ae=>{W(n8()),W(Hi({handler:v,reactEvent:ae}))},[W,v]),fe=N.useCallback(ae=>{W(Xy(ae)),W(Hi({handler:w,reactEvent:ae}))},[W,w]),we=N.useCallback(()=>{W(Ek())},[W]),be=N.useCallback(ae=>{W(bk(ae.key))},[W]),Z=N.useCallback(ae=>{W(Hi({handler:c,reactEvent:ae}))},[W,c]),le=N.useCallback(ae=>{W(Hi({handler:f,reactEvent:ae}))},[W,f]),De=N.useCallback(ae=>{W(Hi({handler:h,reactEvent:ae}))},[W,h]),Be=N.useCallback(ae=>{W(Hi({handler:E,reactEvent:ae}))},[W,E]),Ye=N.useCallback(ae=>{W(Hi({handler:I,reactEvent:ae}))},[W,I]),Te=N.useCallback(ae=>{j&&W(Ak(ae)),W(Hi({handler:O,reactEvent:ae}))},[W,j,O]),rt=N.useCallback(ae=>{W(Hi({handler:C,reactEvent:ae}))},[W,C]),ve=kee(L);return N.createElement(E8.Provider,{value:H},N.createElement(RT.Provider,{value:re},N.createElement(ve,{width:de??k?.width,height:Ae??k?.height,className:jt("recharts-wrapper",n),style:_ee({position:"relative",cursor:"default",width:de,height:Ae},k),onClick:J,onContextMenu:Z,onDoubleClick:le,onFocus:we,onKeyDown:be,onMouseDown:De,onMouseEnter:Me,onMouseLeave:ie,onMouseMove:fe,onMouseUp:Be,onTouchEnd:rt,onTouchMove:Te,onTouchStart:Ye,ref:ye},N.createElement(Oee,null),r)))}),jee=["width","height","responsive","children","className","style","compact","title","desc"];function Mee(e,t){if(e==null)return{};var r,n,i=Dee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tk=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:c,style:f,compact:h,title:m,desc:v}=e,w=Mee(e,jee),E=Si(w);return h?N.createElement(N.Fragment,null,N.createElement(Ip,{width:r,height:n}),N.createElement(v3,{otherAttributes:E,title:m,desc:v},a)):N.createElement(Ree,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(v3,{otherAttributes:E,title:m,desc:v,ref:t},N.createElement($X,null,a)))});function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}var Lee={top:5,right:5,bottom:5,left:5},Bee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Nk=N.forwardRef(function(t,r){var n,i=Mr(t.categoricalChartProps,Bee),{chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,categoricalChartProps:m}=t,v={chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return N.createElement(Ck,{preloadedState:{options:v},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:a},N.createElement(Q8,{chartData:m.data}),N.createElement(Ok,{layout:i.layout,margin:i.margin}),N.createElement(Ik,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(Tk,Zy({},i,{ref:r})))}),Fee=["axis","item"],Uee=N.forwardRef((e,t)=>N.createElement(Nk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fee,tooltipPayloadSearcher:nb,categoricalChartProps:e,ref:t}));function zee(e){var t=qt();return N.useEffect(()=>{t(cee(e))},[t,e]),null}var $ee=["layout"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function Wee(e,t){if(e==null)return{};var r,n,i=Hee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vee={top:5,right:5,bottom:5,left:5},Pk={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Gee=N.forwardRef(function(t,r){var n,i=Mr(t.categoricalChartProps,Pk),{layout:a}=i,c=Wee(i,$ee),{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:v}=t,w={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement(Ck,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},N.createElement(Q8,{chartData:i.data}),N.createElement(Ok,{layout:a,margin:i.margin}),N.createElement(Ik,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(zee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(Tk,Qy({},c,{ref:r})))});function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qee(e,t,r){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xee=["item"],Zee=w3(w3({},Pk),{},{layout:"centric",startAngle:0,endAngle:360}),Qee=N.forwardRef((e,t)=>{var r=Mr(e,Zee);return N.createElement(Gee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xee,tooltipPayloadSearcher:nb,categoricalChartProps:r,ref:t})}),Jee=["item"],ete=N.forwardRef((e,t)=>N.createElement(Nk,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jee,tooltipPayloadSearcher:nb,categoricalChartProps:e,ref:t}));const b3=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],tte=({perfume:e})=>{const[t,r]=N.useState(null),[n,i]=N.useState(!1);N.useEffect(()=>{a()},[]);const a=async()=>{const{data:f}=await At.from("inventory").select("quantity").eq("product_id",e.id).single();r(f?f.quantity:0)},c=async f=>{if(f<0)return;i(!0);const{error:h}=await At.from("inventory").upsert({product_id:e.id,quantity:f,updated_at:new Date().toISOString()},{onConflict:"product_id"});h?alert("Error: "+h.message):r(f),i(!1)};return A.jsxs("tr",{className:"border-b border-stone-100",children:[A.jsx("td",{className:"px-4 py-2",children:e.name}),A.jsx("td",{className:"px-4 py-2 text-center",children:A.jsx("span",{className:`font-bold ${t!==null&&t>2?"text-green-600":"text-red-500"}`,children:t!==null?t:"..."})}),A.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[A.jsx("button",{onClick:()=>c((t||0)+1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),A.jsx("button",{onClick:()=>c((t||0)-1),disabled:n||(t||0)<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},rte=({onLogout:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(!0),[a,c]=N.useState("month"),[f,h]=N.useState(0),[m,v]=N.useState(0),[w,E]=N.useState([]),[C,O]=N.useState([]),[I,k]=N.useState([]),[D,L]=N.useState([]),[j,z]=N.useState("dashboard"),[W,H]=N.useState([]),[V,re]=N.useState(null);N.useEffect(()=>{j==="dashboard"?Y():j==="clients"&&_e()},[j,a]);const Y=async()=>{i(!0);try{const ye=new Date;a==="week"?ye.setDate(ye.getDate()-7):ye.setDate(ye.getDate()-30);const{data:J,error:Me}=await At.from("transactions").select("*").gte("created_at",ye.toISOString());if(Me)throw Me;const ie=J||[],fe=new Date(ye);a==="week"?fe.setDate(fe.getDate()-7):fe.setDate(fe.getDate()-30);const{data:we}=await At.from("transactions").select("*").gte("created_at",fe.toISOString()).lt("created_at",ye.toISOString()),be=we||[];r(ie);const Z=ie.reduce((Oe,xe)=>Oe+xe.amount,0);h(Z),v(ie.length?Math.round(Z/ie.length):0);const le=new Map;ie.forEach(Oe=>{const xe=Oe.type==="product"?"Productos":"Servicios";le.set(xe,(le.get(xe)||0)+Oe.amount)}),O(Array.from(le).map(([Oe,xe])=>({name:Oe,value:xe})));const De=new Map,Be=(Oe,xe)=>{if(xe==="product"){const Fe=ro.find(ot=>ot.price5ml===Oe||ot.price10ml===Oe||ot.priceFullBottle===Oe);return Fe?Fe.name:"Producto Genrico"}else{const Fe=qo.find(ot=>ot.price===Oe);return Fe?Fe.name:"Servicio General"}};ie.forEach(Oe=>{const xe=Be(Oe.amount,Oe.type);De.has(xe)||De.set(xe,{current:0,previous:0}),De.get(xe).current++}),be.forEach(Oe=>{const xe=Be(Oe.amount,Oe.type);De.has(xe)||De.set(xe,{current:0,previous:0}),De.get(xe).previous++});const Ye=Array.from(De.entries()).map(([Oe,xe])=>({name:Oe,count:xe.current})).sort((Oe,xe)=>xe.count-Oe.count).slice(0,5);k(Ye);const Te=ie.length||1,rt=ie.length/De.size/Te,ve=[];De.forEach((Oe,xe)=>{if(Oe.current===0)return;const Fe=Oe.current/Te,ot=Oe.previous===0?1:(Oe.current-Oe.previous)/Oe.previous;let St="question";Fe>=rt&&ot>=0?St="star":Fe>=rt&&ot<0?St="cow":Fe<rt&&ot>=0?St="question":St="dog",ve.push({name:xe,volume:Fe,growth:ot,type:St})}),L(ve);const ae=new Map;ie.forEach(Oe=>{if(!Oe.client_id)return;const xe=ae.get(Oe.client_id)||{id:Oe.client_id,phone:"Cargando...",total_spent:0,visit_count:0};xe.total_spent+=Oe.amount,xe.visit_count+=1,ae.set(Oe.client_id,xe)});const ke=Array.from(ae.keys());if(ke.length>0){const{data:Oe}=await At.from("clients").select("id, phone").in("id",ke);Oe?.forEach(xe=>{const Fe=ae.get(xe.id);Fe&&(Fe.phone=xe.phone)})}E(Array.from(ae.values()).sort((Oe,xe)=>xe.total_spent-Oe.total_spent).slice(0,10))}catch(ye){console.error("Error fetching dashboard data:",ye)}finally{i(!1)}},_e=async()=>{i(!0);const{data:ye,error:J}=await At.from("clients").select("*").order("last_visit",{ascending:!1});J?console.error("Error fetching clients",J):H(ye||[]),i(!1)},ge=async ye=>{if(ye.preventDefault(),!V)return;const{error:J}=await At.from("clients").update({phone:V.phone,visits:V.visits}).eq("id",V.id);J?alert("Error al actualizar: "+J.message):(re(null),_e())},de=async ye=>{if(!window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))return;const{error:J}=await At.from("clients").delete().eq("id",ye);J?alert("Error al eliminar: "+J.message):_e()},Ae=()=>{const ye=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],J=t.map(we=>[we.id,we.created_at,we.amount,we.type,we.client_id||"Annimo"]),Me="data:text/csv;charset=utf-8,"+ye.join(",")+`
`+J.map(we=>we.join(",")).join(`
`),ie=encodeURI(Me),fe=document.createElement("a");fe.setAttribute("href",ie),fe.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(fe),fe.click(),document.body.removeChild(fe)};return A.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),A.jsxs("div",{className:"flex gap-4",children:[j==="dashboard"&&A.jsxs("select",{value:a,onChange:ye=>c(ye.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[A.jsx("option",{value:"week",children:"ltima Semana"}),A.jsx("option",{value:"month",children:"ltimo Mes"})]}),A.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),A.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[A.jsx("button",{onClick:()=>z("dashboard"),className:`px-4 py-2 font-bold transition ${j==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),A.jsx("button",{onClick:()=>z("clients"),className:`px-4 py-2 font-bold transition ${j==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"})]}),j==="dashboard"?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),A.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),A.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:A.jsx(yj,{className:"text-green-600"})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),A.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",m.toLocaleString()]})]}),A.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:A.jsx(_E,{className:"text-blue-600"})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),A.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),A.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:A.jsx(_E,{className:"text-purple-600"})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[A.jsx(Tj,{size:18})," Origen de Ingresos"]}),A.jsx("div",{className:"h-[250px] w-full",children:A.jsx(Yg,{width:"100%",height:"100%",children:A.jsxs(Qee,{children:[A.jsx(K8,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:C.map((ye,J)=>A.jsx(dl,{fill:b3[J%b3.length]},`cell-${J}`))}),A.jsx(hv,{formatter:ye=>`$${ye.toLocaleString()}`}),A.jsx(uP,{})]})})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[A.jsx(pj,{size:18})," Top Productos/Servicios"]}),A.jsx("div",{className:"h-[250px] w-full",children:A.jsx(Yg,{width:"100%",height:"100%",children:A.jsxs(Uee,{data:I,layout:"vertical",children:[A.jsx($y,{strokeDasharray:"3 3",horizontal:!1}),A.jsx(qy,{type:"number",hide:!0}),A.jsx(Yy,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),A.jsx(hv,{}),A.jsx(fk,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),A.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[A.jsx(Rj,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),A.jsxs("div",{className:"h-[300px] w-full relative",children:[A.jsx(Yg,{width:"100%",height:"100%",children:A.jsxs(ete,{margin:{top:20,right:20,bottom:20,left:20},children:[A.jsx($y,{}),A.jsx(qy,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:ye=>Math.round(ye*100)+"%"}),A.jsx(Yy,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:ye=>Math.round(ye*100)+"%"}),A.jsx(hv,{cursor:{strokeDasharray:"3 3"},formatter:(ye,J)=>[Math.round(ye*100)+"%",J==="volume"?"Cuota":"Crecimiento"]}),A.jsx(nk,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),A.jsx(pk,{name:"Productos",data:D,fill:"#8884d8",children:D.map((ye,J)=>{let Me="#8884d8";return ye.type==="star"?Me="#FFBB28":ye.type==="cow"?Me="#00C49F":ye.type==="dog"?Me="#FF8042":Me="#999",A.jsx(dl,{fill:Me},`cell-${J}`)})})]})}),A.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),A.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[A.jsx(Bj,{size:20})," Top 10 Clientes (Gasto)"]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2",children:"Cliente"}),A.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),A.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"})]})}),A.jsxs("tbody",{children:[w.map((ye,J)=>A.jsxs("tr",{className:"border-b border-stone-100",children:[A.jsxs("td",{className:"px-4 py-3 font-medium",children:[J+1,". ",ye.phone]}),A.jsx("td",{className:"px-4 py-3 text-right",children:ye.visit_count}),A.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",ye.total_spent.toLocaleString()]})]},ye.id)),w.length===0&&A.jsx("tr",{children:A.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[A.jsx(Ij,{size:20})," Inventario Perfumes"]}),A.jsxs("button",{onClick:Ae,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[A.jsx(xj,{size:14})," Exportar CSV"]})]}),A.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:A.jsxs("table",{className:"w-full text-xs text-left",children:[A.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2",children:"Producto"}),A.jsx("th",{className:"px-4 py-2 text-center",children:"Stock Real"}),A.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),A.jsx("tbody",{children:ro.map(ye=>A.jsx(tte,{perfume:ye},ye.id))})]})})]})]})]}):A.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[A.jsx("h3",{className:"text-xl font-bold mb-6",children:"Gestin de Clientes"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm text-left",children:[A.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3",children:"Telfono / Cliente"}),A.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),A.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),A.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),A.jsx("tbody",{children:W.map(ye=>A.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[A.jsx("td",{className:"px-6 py-4 font-medium",children:ye.phone}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:ye.visits})}),A.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(ye.last_visit).toLocaleDateString()}),A.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[A.jsx("button",{onClick:()=>re(ye),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),A.jsx("button",{onClick:()=>de(ye.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},ye.id))})]})})]}),V&&A.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),A.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),A.jsx("input",{type:"text",value:V.phone,onChange:ye=>re({...V,phone:ye.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),A.jsx("input",{type:"number",value:V.visits,onChange:ye=>re({...V,visits:parseInt(ye.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),A.jsxs("div",{className:"flex gap-2 mt-6",children:[A.jsx("button",{type:"button",onClick:()=>re(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),A.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})})]})},nte=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(""),i=(c,f)=>{t(c),f&&n(f)},a=async()=>{await At.auth.signOut(),t(null),n("")};return e?e==="management"?A.jsx(rte,{onLogout:a}):A.jsx(T9,{onLogout:a}):A.jsx(e9,{onLogin:i})},ite=()=>{const[e,t]=N.useState("Todos"),[r,n]=N.useState(null),i=["Todos","Cortes","Color","Peinados"],a=e==="Todos"?AE:AE.filter(c=>c.category===e);return A.jsxs("div",{className:"animate-in fade-in duration-700",children:[A.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>A.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),A.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:a.map((c,f)=>A.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[A.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),A.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:A.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[A.jsx(Uj,{className:"mx-auto mb-2 opacity-80"}),A.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&A.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[A.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:A.jsx(Jo,{size:32})}),A.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},ate=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${dc}?text=${r}`,"_blank")};return A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),A.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),A.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Kj.map(t=>A.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[A.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[A.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),A.jsx(lx,{size:64,className:"text-amber-500 relative z-10"})]}),A.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[A.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),A.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),A.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>A.jsxs("div",{className:"flex items-start text-stone-600",children:[A.jsx(Ej,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),A.jsx("span",{className:"text-sm",children:r})]},n))}),A.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},ste=()=>A.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[A.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),A.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),A.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[A.jsxs("div",{className:"text-center space-y-2 mb-4",children:[A.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",A.jsx("span",{className:"text-amber-500",children:"Hub"})]}),A.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),A.jsxs("div",{className:"w-full space-y-4",children:[A.jsxs(Zr,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),A.jsxs("div",{className:"p-6 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:A.jsx(ux,{size:24})}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),A.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),A.jsx(Yu,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),A.jsx(Zr,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:A.jsxs("div",{className:"p-6 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:A.jsx(ed,{size:24})}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),A.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),A.jsx(Yu,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),A.jsx(Zr,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:A.jsxs("div",{className:"p-6 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:A.jsx(lx,{size:24})}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),A.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),A.jsx(Yu,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),A.jsx("div",{className:"w-full mt-4",children:A.jsxs(Zr,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[A.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),A.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:A.jsx(W3,{size:20})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),A.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),A.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),A.jsx("div",{className:"w-full pt-4",children:A.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),A.jsx("div",{className:"text-center py-6 z-10",children:A.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),ote=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:A.jsx(wj,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:A.jsx(Lj,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:A.jsx(ux,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:A.jsx(gc,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:A.jsx(Fj,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],lte=()=>{const[e,t]=N.useState(null);return A.jsx("section",{className:"py-20 bg-stone-50",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),A.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),A.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ote.map(r=>A.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&A.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),A.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?A.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[A.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),A.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[A.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),A.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",A.jsx(Yu,{size:14})]})]})]}):A.jsxs("div",{children:[A.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),A.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",A.jsx(Yu,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),A.jsx("div",{className:"mt-12 text-center",children:A.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[A.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),A.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',A.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},cte=()=>{const{pathname:e}=ma();return cr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},ute=()=>{const[e,t]=N.useState(null),r=()=>A.jsxs(A.Fragment,{children:[A.jsx($j,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),A.jsx("section",{className:"py-20 bg-white",children:A.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[A.jsxs("div",{className:"text-center mb-12",children:[A.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),A.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:qo.filter(n=>!n.homeServiceOnly).map(n=>A.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),A.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),A.jsxs("div",{className:"text-right ml-4",children:[A.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),A.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),A.jsx("div",{className:"mt-8 text-center",children:A.jsx(Zr,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),A.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),A.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),A.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),A.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),A.jsx("div",{className:"flex items-center space-x-4 pt-4",children:A.jsx(Zr,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),A.jsx(lte,{}),A.jsx($D,{}),A.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),A.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),A.jsx(aD,{onSuccess:n=>{t(n)}})]}),A.jsx("div",{className:"bg-white py-4 text-center",children:A.jsxs(Zr,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[A.jsx(jj,{size:10})," Admin"]})})]});return A.jsx(tj,{children:A.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[A.jsx(cte,{}),A.jsx(zj,{}),A.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:A.jsxs(P6,{children:[A.jsx(Qa,{path:"/",element:A.jsx(ste,{})}),A.jsx(Qa,{path:"/style",element:A.jsx(r,{})}),A.jsx(Qa,{path:"/perfum",element:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),A.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),A.jsx(oD,{})]})}),A.jsx(Qa,{path:"/regalos",element:A.jsx(ate,{})}),A.jsx(Qa,{path:"/gallery",element:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[A.jsxs("div",{className:"text-center mb-16",children:[A.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),A.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),A.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),A.jsx(ite,{})]})}),A.jsx(Qa,{path:"/loyalty",element:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:A.jsx(JD,{})})}),A.jsx(Qa,{path:"/admin",element:A.jsx(nte,{})}),A.jsx(Qa,{path:"/confirmation",element:A.jsx(dte,{})})]})}),A.jsx(lD,{}),A.jsx(UD,{})]})})},dte=()=>{const t=ma().state;return t?A.jsx(zD,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):A.jsx(T6,{to:"/"})};console.log("Iniciando aplicacin React...");const kk=document.getElementById("root");if(!kk)throw new Error("Could not find root element to mount to");try{RR.createRoot(kk).render(A.jsx(cr.StrictMode,{children:A.jsx(ute,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}
