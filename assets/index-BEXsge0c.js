function Iy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var i1={exports:{}},ed={},a1={exports:{}},Pt={};var LE;function xR(){if(LE)return Pt;LE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function S(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,O={};function T(J,ce,$e){this.props=J,this.context=ce,this.refs=O,this.updater=$e||C}T.prototype.isReactComponent={},T.prototype.setState=function(J,ce){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ce,"setState")},T.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function M(){}M.prototype=T.prototype;function D(J,ce,$e){this.props=J,this.context=ce,this.refs=O,this.updater=$e||C}var R=D.prototype=new M;R.constructor=D,I(R,T.prototype),R.isPureReactComponent=!0;var B=Array.isArray,U=Object.prototype.hasOwnProperty,$={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function Z(J,ce,$e){var ze,Xe={},X=null,Ce=null;if(ce!=null)for(ze in ce.ref!==void 0&&(Ce=ce.ref),ce.key!==void 0&&(X=""+ce.key),ce)U.call(ce,ze)&&!V.hasOwnProperty(ze)&&(Xe[ze]=ce[ze]);var Ue=arguments.length-2;if(Ue===1)Xe.children=$e;else if(1<Ue){for(var Q=Array(Ue),Te=0;Te<Ue;Te++)Q[Te]=arguments[Te+2];Xe.children=Q}if(J&&J.defaultProps)for(ze in Ue=J.defaultProps,Ue)Xe[ze]===void 0&&(Xe[ze]=Ue[ze]);return{$$typeof:e,type:J,key:X,ref:Ce,props:Xe,_owner:$.current}}function K(J,ce){return{$$typeof:e,type:J.type,key:ce,ref:J.ref,props:J.props,_owner:J._owner}}function ge(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function se(J){var ce={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function($e){return ce[$e]})}var ae=/\/+/g;function Se(J,ce){return typeof J=="object"&&J!==null&&J.key!=null?se(""+J.key):ce.toString(36)}function _e(J,ce,$e,ze,Xe){var X=typeof J;(X==="undefined"||X==="boolean")&&(J=null);var Ce=!1;if(J===null)Ce=!0;else switch(X){case"string":case"number":Ce=!0;break;case"object":switch(J.$$typeof){case e:case t:Ce=!0}}if(Ce)return Ce=J,Xe=Xe(Ce),J=ze===""?"."+Se(Ce,0):ze,B(Xe)?($e="",J!=null&&($e=J.replace(ae,"$&/")+"/"),_e(Xe,ce,$e,"",function(Te){return Te})):Xe!=null&&(ge(Xe)&&(Xe=K(Xe,$e+(!Xe.key||Ce&&Ce.key===Xe.key?"":(""+Xe.key).replace(ae,"$&/")+"/")+J)),ce.push(Xe)),1;if(Ce=0,ze=ze===""?".":ze+":",B(J))for(var Ue=0;Ue<J.length;Ue++){X=J[Ue];var Q=ze+Se(X,Ue);Ce+=_e(X,ce,$e,Q,Xe)}else if(Q=S(J),typeof Q=="function")for(J=Q.call(J),Ue=0;!(X=J.next()).done;)X=X.value,Q=ze+Se(X,Ue++),Ce+=_e(X,ce,$e,Q,Xe);else if(X==="object")throw ce=String(J),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return Ce}function re(J,ce,$e){if(J==null)return J;var ze=[],Xe=0;return _e(J,ze,"","",function(X){return ce.call($e,X,Xe++)}),ze}function Fe(J){if(J._status===-1){var ce=J._result;ce=ce(),ce.then(function($e){(J._status===0||J._status===-1)&&(J._status=1,J._result=$e)},function($e){(J._status===0||J._status===-1)&&(J._status=2,J._result=$e)}),J._status===-1&&(J._status=0,J._result=ce)}if(J._status===1)return J._result.default;throw J._result}var le={current:null},pe={transition:null},xe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:pe,ReactCurrentOwner:$};function Ae(){throw Error("act(...) is not supported in production builds of React.")}return Pt.Children={map:re,forEach:function(J,ce,$e){re(J,function(){ce.apply(this,arguments)},$e)},count:function(J){var ce=0;return re(J,function(){ce++}),ce},toArray:function(J){return re(J,function(ce){return ce})||[]},only:function(J){if(!ge(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Pt.Component=T,Pt.Fragment=r,Pt.Profiler=i,Pt.PureComponent=D,Pt.StrictMode=n,Pt.Suspense=p,Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,Pt.act=Ae,Pt.cloneElement=function(J,ce,$e){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var ze=I({},J.props),Xe=J.key,X=J.ref,Ce=J._owner;if(ce!=null){if(ce.ref!==void 0&&(X=ce.ref,Ce=$.current),ce.key!==void 0&&(Xe=""+ce.key),J.type&&J.type.defaultProps)var Ue=J.type.defaultProps;for(Q in ce)U.call(ce,Q)&&!V.hasOwnProperty(Q)&&(ze[Q]=ce[Q]===void 0&&Ue!==void 0?Ue[Q]:ce[Q])}var Q=arguments.length-2;if(Q===1)ze.children=$e;else if(1<Q){Ue=Array(Q);for(var Te=0;Te<Q;Te++)Ue[Te]=arguments[Te+2];ze.children=Ue}return{$$typeof:e,type:J.type,key:Xe,ref:X,props:ze,_owner:Ce}},Pt.createContext=function(J){return J={$$typeof:c,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:a,_context:J},J.Consumer=J},Pt.createElement=Z,Pt.createFactory=function(J){var ce=Z.bind(null,J);return ce.type=J,ce},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(J){return{$$typeof:f,render:J}},Pt.isValidElement=ge,Pt.lazy=function(J){return{$$typeof:x,_payload:{_status:-1,_result:J},_init:Fe}},Pt.memo=function(J,ce){return{$$typeof:h,type:J,compare:ce===void 0?null:ce}},Pt.startTransition=function(J){var ce=pe.transition;pe.transition={};try{J()}finally{pe.transition=ce}},Pt.unstable_act=Ae,Pt.useCallback=function(J,ce){return le.current.useCallback(J,ce)},Pt.useContext=function(J){return le.current.useContext(J)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(J){return le.current.useDeferredValue(J)},Pt.useEffect=function(J,ce){return le.current.useEffect(J,ce)},Pt.useId=function(){return le.current.useId()},Pt.useImperativeHandle=function(J,ce,$e){return le.current.useImperativeHandle(J,ce,$e)},Pt.useInsertionEffect=function(J,ce){return le.current.useInsertionEffect(J,ce)},Pt.useLayoutEffect=function(J,ce){return le.current.useLayoutEffect(J,ce)},Pt.useMemo=function(J,ce){return le.current.useMemo(J,ce)},Pt.useReducer=function(J,ce,$e){return le.current.useReducer(J,ce,$e)},Pt.useRef=function(J){return le.current.useRef(J)},Pt.useState=function(J){return le.current.useState(J)},Pt.useSyncExternalStore=function(J,ce,$e){return le.current.useSyncExternalStore(J,ce,$e)},Pt.useTransition=function(){return le.current.useTransition()},Pt.version="18.3.1",Pt}var BE;function tu(){return BE||(BE=1,a1.exports=xR()),a1.exports}var FE;function vR(){if(FE)return ed;FE=1;var e=tu(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,h){var x,y={},S=null,C=null;h!==void 0&&(S=""+h),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)n.call(p,x)&&!a.hasOwnProperty(x)&&(y[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:t,type:f,key:S,ref:C,props:y,_owner:i.current}}return ed.Fragment=r,ed.jsx=c,ed.jsxs=c,ed}var zE;function yR(){return zE||(zE=1,i1.exports=vR()),i1.exports}var g=yR(),_=tu();const sr=ma(_),bR=Iy({__proto__:null,default:sr},[_]);var Th={},s1={exports:{}},yi={},o1={exports:{}},l1={};var UE;function wR(){return UE||(UE=1,(function(e){function t(pe,xe){var Ae=pe.length;pe.push(xe);e:for(;0<Ae;){var J=Ae-1>>>1,ce=pe[J];if(0<i(ce,xe))pe[J]=xe,pe[Ae]=ce,Ae=J;else break e}}function r(pe){return pe.length===0?null:pe[0]}function n(pe){if(pe.length===0)return null;var xe=pe[0],Ae=pe.pop();if(Ae!==xe){pe[0]=Ae;e:for(var J=0,ce=pe.length,$e=ce>>>1;J<$e;){var ze=2*(J+1)-1,Xe=pe[ze],X=ze+1,Ce=pe[X];if(0>i(Xe,Ae))X<ce&&0>i(Ce,Xe)?(pe[J]=Ce,pe[X]=Ae,J=X):(pe[J]=Xe,pe[ze]=Ae,J=ze);else if(X<ce&&0>i(Ce,Ae))pe[J]=Ce,pe[X]=Ae,J=X;else break e}}return xe}function i(pe,xe){var Ae=pe.sortIndex-xe.sortIndex;return Ae!==0?Ae:pe.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],h=[],x=1,y=null,S=3,C=!1,I=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(pe){for(var xe=r(h);xe!==null;){if(xe.callback===null)n(h);else if(xe.startTime<=pe)n(h),xe.sortIndex=xe.expirationTime,t(p,xe);else break;xe=r(h)}}function B(pe){if(O=!1,R(pe),!I)if(r(p)!==null)I=!0,Fe(U);else{var xe=r(h);xe!==null&&le(B,xe.startTime-pe)}}function U(pe,xe){I=!1,O&&(O=!1,M(Z),Z=-1),C=!0;var Ae=S;try{for(R(xe),y=r(p);y!==null&&(!(y.expirationTime>xe)||pe&&!se());){var J=y.callback;if(typeof J=="function"){y.callback=null,S=y.priorityLevel;var ce=J(y.expirationTime<=xe);xe=e.unstable_now(),typeof ce=="function"?y.callback=ce:y===r(p)&&n(p),R(xe)}else n(p);y=r(p)}if(y!==null)var $e=!0;else{var ze=r(h);ze!==null&&le(B,ze.startTime-xe),$e=!1}return $e}finally{y=null,S=Ae,C=!1}}var $=!1,V=null,Z=-1,K=5,ge=-1;function se(){return!(e.unstable_now()-ge<K)}function ae(){if(V!==null){var pe=e.unstable_now();ge=pe;var xe=!0;try{xe=V(!0,pe)}finally{xe?Se():($=!1,V=null)}}else $=!1}var Se;if(typeof D=="function")Se=function(){D(ae)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,re=_e.port2;_e.port1.onmessage=ae,Se=function(){re.postMessage(null)}}else Se=function(){T(ae,0)};function Fe(pe){V=pe,$||($=!0,Se())}function le(pe,xe){Z=T(function(){pe(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(pe){pe.callback=null},e.unstable_continueExecution=function(){I||C||(I=!0,Fe(U))},e.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<pe?Math.floor(1e3/pe):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(pe){switch(S){case 1:case 2:case 3:var xe=3;break;default:xe=S}var Ae=S;S=xe;try{return pe()}finally{S=Ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(pe,xe){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var Ae=S;S=pe;try{return xe()}finally{S=Ae}},e.unstable_scheduleCallback=function(pe,xe,Ae){var J=e.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?J+Ae:J):Ae=J,pe){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ae+ce,pe={id:x++,callback:xe,priorityLevel:pe,startTime:Ae,expirationTime:ce,sortIndex:-1},Ae>J?(pe.sortIndex=Ae,t(h,pe),r(p)===null&&pe===r(h)&&(O?(M(Z),Z=-1):O=!0,le(B,Ae-J))):(pe.sortIndex=ce,t(p,pe),I||C||(I=!0,Fe(U))),pe},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(pe){var xe=S;return function(){var Ae=S;S=xe;try{return pe.apply(this,arguments)}finally{S=Ae}}}})(l1)),l1}var $E;function ER(){return $E||($E=1,o1.exports=wR()),o1.exports}var HE;function SR(){if(HE)return yi;HE=1;var e=tu(),t=ER();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,w=1;w<arguments.length;w++)d+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function S(o){return p.call(y,o)?!0:p.call(x,o)?!1:h.test(o)?y[o]=!0:(x[o]=!0,!1)}function C(o,d,w,A){if(w!==null&&w.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:w!==null?!w.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,d,w,A){if(d===null||typeof d>"u"||C(o,d,w,A))return!0;if(A)return!1;if(w!==null)switch(w.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function O(o,d,w,A,P,k,H){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=P,this.mustUseProperty=w,this.propertyName=o,this.type=d,this.sanitizeURL=k,this.removeEmptyString=H}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new O(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];T[d]=new O(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new O(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new O(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new O(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new O(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new O(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new O(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new O(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(M,D);T[d]=new O(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(M,D);T[d]=new O(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(M,D);T[d]=new O(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new O(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new O(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,d,w,A){var P=T.hasOwnProperty(d)?T[d]:null;(P!==null?P.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(I(d,w,P,A)&&(w=null),A||P===null?S(d)&&(w===null?o.removeAttribute(d):o.setAttribute(d,""+w)):P.mustUseProperty?o[P.propertyName]=w===null?P.type===3?!1:"":w:(d=P.attributeName,A=P.attributeNamespace,w===null?o.removeAttribute(d):(P=P.type,w=P===3||P===4&&w===!0?"":""+w,A?o.setAttributeNS(A,d,w):o.setAttribute(d,w))))}var B=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),$=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),se=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),pe=Symbol.iterator;function xe(o){return o===null||typeof o!="object"?null:(o=pe&&o[pe]||o["@@iterator"],typeof o=="function"?o:null)}var Ae=Object.assign,J;function ce(o){if(J===void 0)try{throw Error()}catch(w){var d=w.stack.trim().match(/\n( *(at )?)/);J=d&&d[1]||""}return`
`+J+o}var $e=!1;function ze(o,d){if(!o||$e)return"";$e=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(be){var A=be}Reflect.construct(o,[],d)}else{try{d.call()}catch(be){A=be}o.call(d.prototype)}else{try{throw Error()}catch(be){A=be}o()}}catch(be){if(be&&A&&typeof be.stack=="string"){for(var P=be.stack.split(`
`),k=A.stack.split(`
`),H=P.length-1,Y=k.length-1;1<=H&&0<=Y&&P[H]!==k[Y];)Y--;for(;1<=H&&0<=Y;H--,Y--)if(P[H]!==k[Y]){if(H!==1||Y!==1)do if(H--,Y--,0>Y||P[H]!==k[Y]){var te=`
`+P[H].replace(" at new "," at ");return o.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",o.displayName)),te}while(1<=H&&0<=Y);break}}}finally{$e=!1,Error.prepareStackTrace=w}return(o=o?o.displayName||o.name:"")?ce(o):""}function Xe(o){switch(o.tag){case 5:return ce(o.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return o=ze(o.type,!1),o;case 11:return o=ze(o.type.render,!1),o;case 1:return o=ze(o.type,!0),o;default:return""}}function X(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case V:return"Fragment";case $:return"Portal";case K:return"Profiler";case Z:return"StrictMode";case Se:return"Suspense";case _e:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case se:return(o.displayName||"Context")+".Consumer";case ge:return(o._context.displayName||"Context")+".Provider";case ae:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return d=o.displayName||null,d!==null?d:X(o.type)||"Memo";case Fe:d=o._payload,o=o._init;try{return X(o(d))}catch{}}return null}function Ce(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(d);case 8:return d===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Ue(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Q(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Te(o){var d=Q(o)?"checked":"value",w=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var P=w.get,k=w.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(H){A=""+H,k.call(this,H)}}),Object.defineProperty(o,d,{enumerable:w.enumerable}),{getValue:function(){return A},setValue:function(H){A=""+H},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Le(o){o._valueTracker||(o._valueTracker=Te(o))}function we(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var w=d.getValue(),A="";return o&&(A=Q(o)?o.checked?"true":"false":o.value),o=A,o!==w?(d.setValue(o),!0):!1}function Oe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ut(o,d){var w=d.checked;return Ae({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??o._wrapperState.initialChecked})}function ht(o,d){var w=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;w=Ue(d.value!=null?d.value:w),o._wrapperState={initialChecked:A,initialValue:w,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Lt(o,d){d=d.checked,d!=null&&R(o,"checked",d,!1)}function Ot(o,d){Lt(o,d);var w=Ue(d.value),A=d.type;if(w!=null)A==="number"?(w===0&&o.value===""||o.value!=w)&&(o.value=""+w):o.value!==""+w&&(o.value=""+w);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?At(o,d.type,w):d.hasOwnProperty("defaultValue")&&At(o,d.type,Ue(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function Tt(o,d,w){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,w||d===o.value||(o.value=d),o.defaultValue=d}w=o.name,w!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,w!==""&&(o.name=w)}function At(o,d,w){(d!=="number"||Oe(o.ownerDocument)!==o)&&(w==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+w&&(o.defaultValue=""+w))}var Ni=Array.isArray;function Ve(o,d,w,A){if(o=o.options,d){d={};for(var P=0;P<w.length;P++)d["$"+w[P]]=!0;for(w=0;w<o.length;w++)P=d.hasOwnProperty("$"+o[w].value),o[w].selected!==P&&(o[w].selected=P),P&&A&&(o[w].defaultSelected=!0)}else{for(w=""+Ue(w),d=null,P=0;P<o.length;P++){if(o[P].value===w){o[P].selected=!0,A&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function xa(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ae({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Js(o,d){var w=d.value;if(w==null){if(w=d.children,d=d.defaultValue,w!=null){if(d!=null)throw Error(r(92));if(Ni(w)){if(1<w.length)throw Error(r(93));w=w[0]}d=w}d==null&&(d=""),w=d}o._wrapperState={initialValue:Ue(w)}}function Gn(o,d){var w=Ue(d.value),A=Ue(d.defaultValue);w!=null&&(w=""+w,w!==o.value&&(o.value=w),d.defaultValue==null&&o.defaultValue!==w&&(o.defaultValue=w)),A!=null&&(o.defaultValue=""+A)}function cs(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Mn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function us(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Mn(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Kn,me=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,w,A,P){MSApp.execUnsafeLocalFunction(function(){return o(d,w,A,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Kn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function Ze(o,d){if(d){var w=o.firstChild;if(w&&w===o.lastChild&&w.nodeType===3){w.nodeValue=d;return}}o.textContent=d}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nr=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(o){nr.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),pt[d]=pt[o]})});function dt(o,d,w){return d==null||typeof d=="boolean"||d===""?"":w||typeof d!="number"||d===0||pt.hasOwnProperty(o)&&pt[o]?(""+d).trim():d+"px"}function Ne(o,d){o=o.style;for(var w in d)if(d.hasOwnProperty(w)){var A=w.indexOf("--")===0,P=dt(w,d[w],A);w==="float"&&(w="cssFloat"),A?o.setProperty(w,P):o[w]=P}}var _r=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bt(o,d){if(d){if(_r[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Gt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tn=null;function va(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ds=null,_t=null,dn=null;function fs(o){if(o=Fu(o)){if(typeof ds!="function")throw Error(r(280));var d=o.stateNode;d&&(d=Wf(d),ds(o.stateNode,o.type,d))}}function Ki(o){_t?dn?dn.push(o):dn=[o]:_t=o}function An(){if(_t){var o=_t,d=dn;if(dn=_t=null,fs(o),d)for(o=0;o<d.length;o++)fs(d[o])}}function wt(o,d){return o(d)}function mt(){}var Jt=!1;function rn(o,d,w){if(Jt)return o(d,w);Jt=!0;try{return wt(o,d,w)}finally{Jt=!1,(_t!==null||dn!==null)&&(mt(),An())}}function Nr(o,d){var w=o.stateNode;if(w===null)return null;var A=Wf(w);if(A===null)return null;w=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(w&&typeof w!="function")throw Error(r(231,d,typeof w));return w}var Uo=!1;if(f)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{Uo=!1}function $o(o,d,w,A,P,k,H,Y,te){var be=Array.prototype.slice.call(arguments,3);try{d.apply(w,be)}catch(ke){this.onError(ke)}}var vr=!1,hi=null,fn=!1,We=null,Fa={onError:function(o){vr=!0,hi=o}};function Ee(o,d,w,A,P,k,H,Y,te){vr=!1,hi=null,$o.apply(Fa,arguments)}function Ke(o,d,w,A,P,k,H,Y,te){if(Ee.apply(this,arguments),vr){if(vr){var be=hi;vr=!1,hi=null}else throw Error(r(198));fn||(fn=!0,We=be)}}function at(o){var d=o,w=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(w=d.return),o=d.return;while(o)}return d.tag===3?w:null}function yr(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function Dr(o){if(at(o)!==o)throw Error(r(188))}function br(o){var d=o.alternate;if(!d){if(d=at(o),d===null)throw Error(r(188));return d!==o?null:o}for(var w=o,A=d;;){var P=w.return;if(P===null)break;var k=P.alternate;if(k===null){if(A=P.return,A!==null){w=A;continue}break}if(P.child===k.child){for(k=P.child;k;){if(k===w)return Dr(P),o;if(k===A)return Dr(P),d;k=k.sibling}throw Error(r(188))}if(w.return!==A.return)w=P,A=k;else{for(var H=!1,Y=P.child;Y;){if(Y===w){H=!0,w=P,A=k;break}if(Y===A){H=!0,A=P,w=k;break}Y=Y.sibling}if(!H){for(Y=k.child;Y;){if(Y===w){H=!0,w=k,A=P;break}if(Y===A){H=!0,A=k,w=P;break}Y=Y.sibling}if(!H)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?o:d}function Yi(o){return o=br(o),o!==null?Ho(o):null}function Ho(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Ho(o);if(d!==null)return d;o=o.sibling}return null}var Xn=t.unstable_scheduleCallback,Lr=t.unstable_cancelCallback,fr=t.unstable_shouldYield,Cf=t.unstable_requestPaint,Xt=t.unstable_now,yu=t.unstable_getCurrentPriorityLevel,Ie=t.unstable_ImmediatePriority,_f=t.unstable_UserBlockingPriority,lr=t.unstable_NormalPriority,eo=t.unstable_LowPriority,Nf=t.unstable_IdlePriority,Ft=null,Nt=null;function kt(o){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ft,o,void 0,(o.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:Yr,bu=Math.log,wu=Math.LN2;function Yr(o){return o>>>=0,o===0?32:31-(bu(o)/wu|0)|0}var Ii=64,Yl=4194304;function cr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Oi(o,d){var w=o.pendingLanes;if(w===0)return 0;var A=0,P=o.suspendedLanes,k=o.pingedLanes,H=w&268435455;if(H!==0){var Y=H&~P;Y!==0?A=cr(Y):(k&=H,k!==0&&(A=cr(k)))}else H=w&~P,H!==0?A=cr(H):k!==0&&(A=cr(k));if(A===0)return 0;if(d!==0&&d!==A&&(d&P)===0&&(P=A&-A,k=d&-d,P>=k||P===16&&(k&4194240)!==0))return d;if((A&4)!==0&&(A|=w&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)w=31-oi(d),P=1<<w,A|=o[w],d&=~P;return A}function Bm(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(o,d){for(var w=o.suspendedLanes,A=o.pingedLanes,P=o.expirationTimes,k=o.pendingLanes;0<k;){var H=31-oi(k),Y=1<<H,te=P[H];te===-1?((Y&w)===0||(Y&A)!==0)&&(P[H]=Bm(Y,d)):te<=d&&(o.expiredLanes|=Y),k&=~Y}}function Qt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function hn(){var o=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),o}function ue(o){for(var d=[],w=0;31>w;w++)d.push(o);return d}function q(o,d,w){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-oi(d),o[d]=w}function lt(o,d){var w=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<w;){var P=31-oi(w),k=1<<P;d[P]=0,A[P]=-1,o[P]=-1,w&=~k}}function $r(o,d){var w=o.entangledLanes|=d;for(o=o.entanglements;w;){var A=31-oi(w),P=1<<A;P&d|o[A]&d&&(o[A]|=d),w&=~P}}var It=0;function If(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Xl,Qn,ct,hr,Eu,Su=!1,ro=[],Ti=null,Xi=null,za=null,Ir=new Map,ya=new Map,Dn=[],vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Of(o,d){switch(o){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Ir.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(d.pointerId)}}function Et(o,d,w,A,P,k){return o===null||o.nativeEvent!==k?(o={blockedOn:d,domEventName:w,eventSystemFlags:A,nativeEvent:k,targetContainers:[P]},d!==null&&(d=Fu(d),d!==null&&Qn(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function pn(o,d,w,A,P){switch(d){case"focusin":return Ti=Et(Ti,o,d,w,A,P),!0;case"dragenter":return Xi=Et(Xi,o,d,w,A,P),!0;case"mouseover":return za=Et(za,o,d,w,A,P),!0;case"pointerover":var k=P.pointerId;return Ir.set(k,Et(Ir.get(k)||null,o,d,w,A,P)),!0;case"gotpointercapture":return k=P.pointerId,ya.set(k,Et(ya.get(k)||null,o,d,w,A,P)),!0}return!1}function Tf(o){var d=Jo(o.target);if(d!==null){var w=at(d);if(w!==null){if(d=w.tag,d===13){if(d=yr(w),d!==null){o.blockedOn=d,Eu(o.priority,function(){ct(w)});return}}else if(d===3&&w.stateNode.current.memoizedState.isDehydrated){o.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}o.blockedOn=null}function no(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var w=Ql(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(w===null){w=o.nativeEvent;var A=new w.constructor(w.type,w);tn=A,w.target.dispatchEvent(A),tn=null}else return d=Fu(w),d!==null&&Qn(d),o.blockedOn=w,!1;d.shift()}return!0}function Au(o,d,w){no(o)&&w.delete(d)}function hs(){Su=!1,Ti!==null&&no(Ti)&&(Ti=null),Xi!==null&&no(Xi)&&(Xi=null),za!==null&&no(za)&&(za=null),Ir.forEach(Au),ya.forEach(Au)}function Wo(o,d){o.blockedOn===d&&(o.blockedOn=null,Su||(Su=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hs)))}function ba(o){function d(P){return Wo(P,o)}if(0<ro.length){Wo(ro[0],o);for(var w=1;w<ro.length;w++){var A=ro[w];A.blockedOn===o&&(A.blockedOn=null)}}for(Ti!==null&&Wo(Ti,o),Xi!==null&&Wo(Xi,o),za!==null&&Wo(za,o),Ir.forEach(d),ya.forEach(d),w=0;w<Dn.length;w++)A=Dn[w],A.blockedOn===o&&(A.blockedOn=null);for(;0<Dn.length&&(w=Dn[0],w.blockedOn===null);)Tf(w),w.blockedOn===null&&Dn.shift()}var Qi=B.ReactCurrentBatchConfig,Ua=!0;function jf(o,d,w,A){var P=It,k=Qi.transition;Qi.transition=null;try{It=1,ps(o,d,w,A)}finally{It=P,Qi.transition=k}}function Vo(o,d,w,A){var P=It,k=Qi.transition;Qi.transition=null;try{It=4,ps(o,d,w,A)}finally{It=P,Qi.transition=k}}function ps(o,d,w,A){if(Ua){var P=Ql(o,d,w,A);if(P===null)Km(o,d,A,mn,w),Of(o,A);else if(pn(P,o,d,w,A))A.stopPropagation();else if(Of(o,A),d&4&&-1<vt.indexOf(o)){for(;P!==null;){var k=Fu(P);if(k!==null&&Xl(k),k=Ql(o,d,w,A),k===null&&Km(o,d,A,mn,w),k===P)break;P=k}P!==null&&A.stopPropagation()}else Km(o,d,A,null,w)}}var mn=null;function Ql(o,d,w,A){if(mn=null,o=va(A),o=Jo(o),o!==null)if(d=at(o),d===null)o=null;else if(w=d.tag,w===13){if(o=yr(d),o!==null)return o;o=null}else if(w===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return mn=o,null}function Cu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case Ie:return 1;case _f:return 4;case lr:case eo:return 16;case Nf:return 536870912;default:return 16}default:return 16}}var wa=null,_u=null,Zl=null;function Pf(){if(Zl)return Zl;var o,d=_u,w=d.length,A,P="value"in wa?wa.value:wa.textContent,k=P.length;for(o=0;o<w&&d[o]===P[o];o++);var H=w-o;for(A=1;A<=H&&d[w-A]===P[k-A];A++);return Zl=P.slice(o,1<A?1-A:void 0)}function Ht(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function qo(){return!0}function Go(){return!1}function Hr(o){function d(w,A,P,k,H){this._reactName=w,this._targetInst=P,this.type=A,this.nativeEvent=k,this.target=H,this.currentTarget=null;for(var Y in o)o.hasOwnProperty(Y)&&(w=o[Y],this[Y]=w?w(k):k[Y]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?qo:Go,this.isPropagationStopped=Go,this}return Ae(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),d}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ye=Hr(io),Ct=Ae({},io,{view:0,detail:0}),gn=Hr(Ct),ao,Jl,Ko,ec=Ae({},Ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ko&&(Ko&&o.type==="mousemove"?(ao=o.screenX-Ko.screenX,Jl=o.screenY-Ko.screenY):Jl=ao=0,Ko=o),ao)},movementY:function(o){return"movementY"in o?o.movementY:Jl}}),kf=Hr(ec),Nu=Ae({},ec,{dataTransfer:0}),Xr=Hr(Nu),Iu=Ae({},Ct,{relatedTarget:0}),pr=Hr(Iu),tc=Ae({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),ms=Hr(tc),er=Ae({},io,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ft=Hr(er),Fm=Ae({},io,{data:0}),ir=Hr(Fm),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},so={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zi(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=zm[o])?!!d[o]:!1}function Yo(){return Zi}var Rf=Ae({},Ct,{key:function(o){if(o.key){var d=gs[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Ht(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?so[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(o){return o.type==="keypress"?Ht(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ht(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ou=Hr(Rf),Mf=Ae({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=Hr(Mf),Um=Ae({},Ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),oo=Hr(Um),ju=Ae({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),$m=Hr(ju),Xo=Ae({},ec,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Hm=Hr(Xo),$a=[9,13,27,32],lo=f&&"CompositionEvent"in window,Cn=null;f&&"documentMode"in document&&(Cn=document.documentMode);var Df=f&&"TextEvent"in window&&!Cn,ji=f&&(!lo||Cn&&8<Cn&&11>=Cn),Lf=" ",rc=!1;function Bf(o,d){switch(o){case"keyup":return $a.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ln=!1;function Wm(o,d){switch(o){case"compositionend":return Pu(d);case"keypress":return d.which!==32?null:(rc=!0,Lf);case"textInput":return o=d.data,o===Lf&&rc?null:o;default:return null}}function ku(o,d){if(Ln)return o==="compositionend"||!lo&&Bf(o,d)?(o=Pf(),Zl=_u=wa=null,Ln=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ji&&d.locale!=="ko"?null:d.data;default:return null}}var Qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!Qo[o.type]:d==="textarea"}function Zo(o,d,w,A){Ki(A),d=Uf(d,"onChange"),0<d.length&&(w=new ye("onChange","change",null,w,A),o.push({event:w,listeners:d}))}var F=null,s=null;function l(o){Jw(o,0)}function u(o){var d=ac(o);if(we(d))return o}function m(o,d){if(o==="change")return d}var v=!1;if(f){var b;if(f){var E="oninput"in document;if(!E){var N=document.createElement("div");N.setAttribute("oninput","return;"),E=typeof N.oninput=="function"}b=E}else b=!1;v=b&&(!document.documentMode||9<document.documentMode)}function j(){F&&(F.detachEvent("onpropertychange",L),s=F=null)}function L(o){if(o.propertyName==="value"&&u(s)){var d=[];Zo(d,s,o,va(o)),rn(l,d)}}function z(o,d,w){o==="focusin"?(j(),F=d,s=w,F.attachEvent("onpropertychange",L)):o==="focusout"&&j()}function W(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(s)}function G(o,d){if(o==="click")return u(d)}function ee(o,d){if(o==="input"||o==="change")return u(d)}function ne(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var oe=typeof Object.is=="function"?Object.is:ne;function ve(o,d){if(oe(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var w=Object.keys(o),A=Object.keys(d);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var P=w[A];if(!p.call(d,P)||!oe(o[P],d[P]))return!1}return!0}function Me(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function De(o,d){var w=Me(o);o=0;for(var A;w;){if(w.nodeType===3){if(A=o+w.textContent.length,o<=d&&A>=d)return{node:w,offset:d-o};o=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Me(w)}}function Pe(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Pe(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function jt(){for(var o=window,d=Oe();d instanceof o.HTMLIFrameElement;){try{var w=typeof d.contentWindow.location.href=="string"}catch{w=!1}if(w)o=d.contentWindow;else break;d=Oe(o.document)}return d}function St(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Zn(o){var d=jt(),w=o.focusedElem,A=o.selectionRange;if(d!==w&&w&&w.ownerDocument&&Pe(w.ownerDocument.documentElement,w)){if(A!==null&&St(w)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in w)w.selectionStart=d,w.selectionEnd=Math.min(o,w.value.length);else if(o=(d=w.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=w.textContent.length,k=Math.min(A.start,P);A=A.end===void 0?k:Math.min(A.end,P),!o.extend&&k>A&&(P=A,A=k,k=P),P=De(w,k);var H=De(w,A);P&&H&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==H.node||o.focusOffset!==H.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),k>A?(o.addRange(d),o.extend(H.node,H.offset)):(d.setEnd(H.node,H.offset),o.addRange(d)))}}for(d=[],o=w;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<d.length;w++)o=d[w],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pi=f&&"documentMode"in document&&11>=document.documentMode,Qr=null,Kt=null,Br=null,Bn=!1;function xs(o,d,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Bn||Qr==null||Qr!==Oe(A)||(A=Qr,"selectionStart"in A&&St(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Br&&ve(Br,A)||(Br=A,A=Uf(Kt,"onSelect"),0<A.length&&(d=new ye("onSelect","select",null,d,w),o.push({event:d,listeners:A}),d.target=Qr)))}function Ea(o,d){var w={};return w[o.toLowerCase()]=d.toLowerCase(),w["Webkit"+o]="webkit"+d,w["Moz"+o]="moz"+d,w}var co={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},Ru={},Vw={};f&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Ff(o){if(Ru[o])return Ru[o];if(!co[o])return o;var d=co[o],w;for(w in d)if(d.hasOwnProperty(w)&&w in Vw)return Ru[o]=d[w];return o}var qw=Ff("animationend"),Gw=Ff("animationiteration"),Kw=Ff("animationstart"),Yw=Ff("transitionend"),Xw=new Map,Qw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(o,d){Xw.set(o,d),a(d,[o])}for(var Vm=0;Vm<Qw.length;Vm++){var qm=Qw[Vm],_8=qm.toLowerCase(),N8=qm[0].toUpperCase()+qm.slice(1);uo(_8,"on"+N8)}uo(qw,"onAnimationEnd"),uo(Gw,"onAnimationIteration"),uo(Kw,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(Yw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function Zw(o,d,w){var A=o.type||"unknown-event";o.currentTarget=w,Ke(A,d,void 0,o),o.currentTarget=null}function Jw(o,d){d=(d&4)!==0;for(var w=0;w<o.length;w++){var A=o[w],P=A.event;A=A.listeners;e:{var k=void 0;if(d)for(var H=A.length-1;0<=H;H--){var Y=A[H],te=Y.instance,be=Y.currentTarget;if(Y=Y.listener,te!==k&&P.isPropagationStopped())break e;Zw(P,Y,be),k=te}else for(H=0;H<A.length;H++){if(Y=A[H],te=Y.instance,be=Y.currentTarget,Y=Y.listener,te!==k&&P.isPropagationStopped())break e;Zw(P,Y,be),k=te}}}if(fn)throw o=We,fn=!1,We=null,o}function wr(o,d){var w=d[eg];w===void 0&&(w=d[eg]=new Set);var A=o+"__bubble";w.has(A)||(e2(d,o,2,!1),w.add(A))}function Gm(o,d,w){var A=0;d&&(A|=4),e2(w,o,A,d)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Du(o){if(!o[zf]){o[zf]=!0,n.forEach(function(w){w!=="selectionchange"&&(I8.has(w)||Gm(w,!1,o),Gm(w,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[zf]||(d[zf]=!0,Gm("selectionchange",!1,d))}}function e2(o,d,w,A){switch(Cu(d)){case 1:var P=jf;break;case 4:P=Vo;break;default:P=ps}w=P.bind(null,d,w,o),P=void 0,!Uo||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),A?P!==void 0?o.addEventListener(d,w,{capture:!0,passive:P}):o.addEventListener(d,w,!0):P!==void 0?o.addEventListener(d,w,{passive:P}):o.addEventListener(d,w,!1)}function Km(o,d,w,A,P){var k=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var H=A.tag;if(H===3||H===4){var Y=A.stateNode.containerInfo;if(Y===P||Y.nodeType===8&&Y.parentNode===P)break;if(H===4)for(H=A.return;H!==null;){var te=H.tag;if((te===3||te===4)&&(te=H.stateNode.containerInfo,te===P||te.nodeType===8&&te.parentNode===P))return;H=H.return}for(;Y!==null;){if(H=Jo(Y),H===null)return;if(te=H.tag,te===5||te===6){A=k=H;continue e}Y=Y.parentNode}}A=A.return}rn(function(){var be=k,ke=va(w),Re=[];e:{var je=Xw.get(o);if(je!==void 0){var Ye=ye,rt=o;switch(o){case"keypress":if(Ht(w)===0)break e;case"keydown":case"keyup":Ye=Ou;break;case"focusin":rt="focus",Ye=pr;break;case"focusout":rt="blur",Ye=pr;break;case"beforeblur":case"afterblur":Ye=pr;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=Xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=oo;break;case qw:case Gw:case Kw:Ye=ms;break;case Yw:Ye=$m;break;case"scroll":Ye=gn;break;case"wheel":Ye=Hm;break;case"copy":case"cut":case"paste":Ye=ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=Tu}var it=(d&4)!==0,Zr=!it&&o==="scroll",de=it?je!==null?je+"Capture":null:je;it=[];for(var ie=be,he;ie!==null;){he=ie;var Be=he.stateNode;if(he.tag===5&&Be!==null&&(he=Be,de!==null&&(Be=Nr(ie,de),Be!=null&&it.push(Lu(ie,Be,he)))),Zr)break;ie=ie.return}0<it.length&&(je=new Ye(je,rt,null,w,ke),Re.push({event:je,listeners:it}))}}if((d&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Ye=o==="mouseout"||o==="pointerout",je&&w!==tn&&(rt=w.relatedTarget||w.fromElement)&&(Jo(rt)||rt[vs]))break e;if((Ye||je)&&(je=ke.window===ke?ke:(je=ke.ownerDocument)?je.defaultView||je.parentWindow:window,Ye?(rt=w.relatedTarget||w.toElement,Ye=be,rt=rt?Jo(rt):null,rt!==null&&(Zr=at(rt),rt!==Zr||rt.tag!==5&&rt.tag!==6)&&(rt=null)):(Ye=null,rt=be),Ye!==rt)){if(it=kf,Be="onMouseLeave",de="onMouseEnter",ie="mouse",(o==="pointerout"||o==="pointerover")&&(it=Tu,Be="onPointerLeave",de="onPointerEnter",ie="pointer"),Zr=Ye==null?je:ac(Ye),he=rt==null?je:ac(rt),je=new it(Be,ie+"leave",Ye,w,ke),je.target=Zr,je.relatedTarget=he,Be=null,Jo(ke)===be&&(it=new it(de,ie+"enter",rt,w,ke),it.target=he,it.relatedTarget=Zr,Be=it),Zr=Be,Ye&&rt)t:{for(it=Ye,de=rt,ie=0,he=it;he;he=nc(he))ie++;for(he=0,Be=de;Be;Be=nc(Be))he++;for(;0<ie-he;)it=nc(it),ie--;for(;0<he-ie;)de=nc(de),he--;for(;ie--;){if(it===de||de!==null&&it===de.alternate)break t;it=nc(it),de=nc(de)}it=null}else it=null;Ye!==null&&t2(Re,je,Ye,it,!1),rt!==null&&Zr!==null&&t2(Re,Zr,rt,it,!0)}}e:{if(je=be?ac(be):window,Ye=je.nodeName&&je.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&je.type==="file")var st=m;else if(Dt(je))if(v)st=ee;else{st=W;var gt=z}else(Ye=je.nodeName)&&Ye.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(st=G);if(st&&(st=st(o,be))){Zo(Re,st,w,ke);break e}gt&&gt(o,je,be),o==="focusout"&&(gt=je._wrapperState)&&gt.controlled&&je.type==="number"&&At(je,"number",je.value)}switch(gt=be?ac(be):window,o){case"focusin":(Dt(gt)||gt.contentEditable==="true")&&(Qr=gt,Kt=be,Br=null);break;case"focusout":Br=Kt=Qr=null;break;case"mousedown":Bn=!0;break;case"contextmenu":case"mouseup":case"dragend":Bn=!1,xs(Re,w,ke);break;case"selectionchange":if(Pi)break;case"keydown":case"keyup":xs(Re,w,ke)}var xt;if(lo)e:{switch(o){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else Ln?Bf(o,w)&&(bt="onCompositionEnd"):o==="keydown"&&w.keyCode===229&&(bt="onCompositionStart");bt&&(ji&&w.locale!=="ko"&&(Ln||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Ln&&(xt=Pf()):(wa=ke,_u="value"in wa?wa.value:wa.textContent,Ln=!0)),gt=Uf(be,bt),0<gt.length&&(bt=new ir(bt,o,null,w,ke),Re.push({event:bt,listeners:gt}),xt?bt.data=xt:(xt=Pu(w),xt!==null&&(bt.data=xt)))),(xt=Df?Wm(o,w):ku(o,w))&&(be=Uf(be,"onBeforeInput"),0<be.length&&(ke=new ir("onBeforeInput","beforeinput",null,w,ke),Re.push({event:ke,listeners:be}),ke.data=xt))}Jw(Re,d)})}function Lu(o,d,w){return{instance:o,listener:d,currentTarget:w}}function Uf(o,d){for(var w=d+"Capture",A=[];o!==null;){var P=o,k=P.stateNode;P.tag===5&&k!==null&&(P=k,k=Nr(o,w),k!=null&&A.unshift(Lu(o,k,P)),k=Nr(o,d),k!=null&&A.push(Lu(o,k,P))),o=o.return}return A}function nc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function t2(o,d,w,A,P){for(var k=d._reactName,H=[];w!==null&&w!==A;){var Y=w,te=Y.alternate,be=Y.stateNode;if(te!==null&&te===A)break;Y.tag===5&&be!==null&&(Y=be,P?(te=Nr(w,k),te!=null&&H.unshift(Lu(w,te,Y))):P||(te=Nr(w,k),te!=null&&H.push(Lu(w,te,Y)))),w=w.return}H.length!==0&&o.push({event:d,listeners:H})}var O8=/\r\n?/g,T8=/\u0000|\uFFFD/g;function r2(o){return(typeof o=="string"?o:""+o).replace(O8,`
`).replace(T8,"")}function $f(o,d,w){if(d=r2(d),r2(o)!==d&&w)throw Error(r(425))}function Hf(){}var Ym=null,Xm=null;function Qm(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Zm=typeof setTimeout=="function"?setTimeout:void 0,j8=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,P8=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(o){return n2.resolve(null).then(o).catch(k8)}:Zm;function k8(o){setTimeout(function(){throw o})}function Jm(o,d){var w=d,A=0;do{var P=w.nextSibling;if(o.removeChild(w),P&&P.nodeType===8)if(w=P.data,w==="/$"){if(A===0){o.removeChild(P),ba(d);return}A--}else w!=="$"&&w!=="$?"&&w!=="$!"||A++;w=P}while(w);ba(d)}function fo(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function i2(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="$"||w==="$!"||w==="$?"){if(d===0)return o;d--}else w==="/$"&&d++}o=o.previousSibling}return null}var ic=Math.random().toString(36).slice(2),Ha="__reactFiber$"+ic,Bu="__reactProps$"+ic,vs="__reactContainer$"+ic,eg="__reactEvents$"+ic,R8="__reactListeners$"+ic,M8="__reactHandles$"+ic;function Jo(o){var d=o[Ha];if(d)return d;for(var w=o.parentNode;w;){if(d=w[vs]||w[Ha]){if(w=d.alternate,d.child!==null||w!==null&&w.child!==null)for(o=i2(o);o!==null;){if(w=o[Ha])return w;o=i2(o)}return d}o=w,w=o.parentNode}return null}function Fu(o){return o=o[Ha]||o[vs],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ac(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Wf(o){return o[Bu]||null}var tg=[],sc=-1;function ho(o){return{current:o}}function Er(o){0>sc||(o.current=tg[sc],tg[sc]=null,sc--)}function mr(o,d){sc++,tg[sc]=o.current,o.current=d}var po={},Jn=ho(po),pi=ho(!1),el=po;function oc(o,d){var w=o.type.contextTypes;if(!w)return po;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var P={},k;for(k in w)P[k]=d[k];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function mi(o){return o=o.childContextTypes,o!=null}function Vf(){Er(pi),Er(Jn)}function a2(o,d,w){if(Jn.current!==po)throw Error(r(168));mr(Jn,d),mr(pi,w)}function s2(o,d,w){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var P in A)if(!(P in d))throw Error(r(108,Ce(o)||"Unknown",P));return Ae({},w,A)}function qf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||po,el=Jn.current,mr(Jn,o),mr(pi,pi.current),!0}function o2(o,d,w){var A=o.stateNode;if(!A)throw Error(r(169));w?(o=s2(o,d,el),A.__reactInternalMemoizedMergedChildContext=o,Er(pi),Er(Jn),mr(Jn,o)):Er(pi),mr(pi,w)}var ys=null,Gf=!1,rg=!1;function l2(o){ys===null?ys=[o]:ys.push(o)}function D8(o){Gf=!0,l2(o)}function mo(){if(!rg&&ys!==null){rg=!0;var o=0,d=It;try{var w=ys;for(It=1;o<w.length;o++){var A=w[o];do A=A(!0);while(A!==null)}ys=null,Gf=!1}catch(P){throw ys!==null&&(ys=ys.slice(o+1)),Xn(Ie,mo),P}finally{It=d,rg=!1}}return null}var lc=[],cc=0,Kf=null,Yf=0,Ji=[],ea=0,tl=null,bs=1,ws="";function rl(o,d){lc[cc++]=Yf,lc[cc++]=Kf,Kf=o,Yf=d}function c2(o,d,w){Ji[ea++]=bs,Ji[ea++]=ws,Ji[ea++]=tl,tl=o;var A=bs;o=ws;var P=32-oi(A)-1;A&=~(1<<P),w+=1;var k=32-oi(d)+P;if(30<k){var H=P-P%5;k=(A&(1<<H)-1).toString(32),A>>=H,P-=H,bs=1<<32-oi(d)+P|w<<P|A,ws=k+o}else bs=1<<k|w<<P|A,ws=o}function ng(o){o.return!==null&&(rl(o,1),c2(o,1,0))}function ig(o){for(;o===Kf;)Kf=lc[--cc],lc[cc]=null,Yf=lc[--cc],lc[cc]=null;for(;o===tl;)tl=Ji[--ea],Ji[ea]=null,ws=Ji[--ea],Ji[ea]=null,bs=Ji[--ea],Ji[ea]=null}var ki=null,Ri=null,Or=!1,Sa=null;function u2(o,d){var w=ia(5,null,null,0);w.elementType="DELETED",w.stateNode=d,w.return=o,d=o.deletions,d===null?(o.deletions=[w],o.flags|=16):d.push(w)}function d2(o,d){switch(o.tag){case 5:var w=o.type;return d=d.nodeType!==1||w.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,ki=o,Ri=fo(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,ki=o,Ri=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(w=tl!==null?{id:bs,overflow:ws}:null,o.memoizedState={dehydrated:d,treeContext:w,retryLane:1073741824},w=ia(18,null,null,0),w.stateNode=d,w.return=o,o.child=w,ki=o,Ri=null,!0):!1;default:return!1}}function ag(o){return(o.mode&1)!==0&&(o.flags&128)===0}function sg(o){if(Or){var d=Ri;if(d){var w=d;if(!d2(o,d)){if(ag(o))throw Error(r(418));d=fo(w.nextSibling);var A=ki;d&&d2(o,d)?u2(A,w):(o.flags=o.flags&-4097|2,Or=!1,ki=o)}}else{if(ag(o))throw Error(r(418));o.flags=o.flags&-4097|2,Or=!1,ki=o}}}function f2(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ki=o}function Xf(o){if(o!==ki)return!1;if(!Or)return f2(o),Or=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Qm(o.type,o.memoizedProps)),d&&(d=Ri)){if(ag(o))throw h2(),Error(r(418));for(;d;)u2(o,d),d=fo(d.nextSibling)}if(f2(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="/$"){if(d===0){Ri=fo(o.nextSibling);break e}d--}else w!=="$"&&w!=="$!"&&w!=="$?"||d++}o=o.nextSibling}Ri=null}}else Ri=ki?fo(o.stateNode.nextSibling):null;return!0}function h2(){for(var o=Ri;o;)o=fo(o.nextSibling)}function uc(){Ri=ki=null,Or=!1}function og(o){Sa===null?Sa=[o]:Sa.push(o)}var L8=B.ReactCurrentBatchConfig;function zu(o,d,w){if(o=w.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var A=w.stateNode}if(!A)throw Error(r(147,o));var P=A,k=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===k?d.ref:(d=function(H){var Y=P.refs;H===null?delete Y[k]:Y[k]=H},d._stringRef=k,d)}if(typeof o!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,o))}return o}function Qf(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function p2(o){var d=o._init;return d(o._payload)}function m2(o){function d(de,ie){if(o){var he=de.deletions;he===null?(de.deletions=[ie],de.flags|=16):he.push(ie)}}function w(de,ie){if(!o)return null;for(;ie!==null;)d(de,ie),ie=ie.sibling;return null}function A(de,ie){for(de=new Map;ie!==null;)ie.key!==null?de.set(ie.key,ie):de.set(ie.index,ie),ie=ie.sibling;return de}function P(de,ie){return de=So(de,ie),de.index=0,de.sibling=null,de}function k(de,ie,he){return de.index=he,o?(he=de.alternate,he!==null?(he=he.index,he<ie?(de.flags|=2,ie):he):(de.flags|=2,ie)):(de.flags|=1048576,ie)}function H(de){return o&&de.alternate===null&&(de.flags|=2),de}function Y(de,ie,he,Be){return ie===null||ie.tag!==6?(ie=Zg(he,de.mode,Be),ie.return=de,ie):(ie=P(ie,he),ie.return=de,ie)}function te(de,ie,he,Be){var st=he.type;return st===V?ke(de,ie,he.props.children,Be,he.key):ie!==null&&(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Fe&&p2(st)===ie.type)?(Be=P(ie,he.props),Be.ref=zu(de,ie,he),Be.return=de,Be):(Be=wh(he.type,he.key,he.props,null,de.mode,Be),Be.ref=zu(de,ie,he),Be.return=de,Be)}function be(de,ie,he,Be){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Jg(he,de.mode,Be),ie.return=de,ie):(ie=P(ie,he.children||[]),ie.return=de,ie)}function ke(de,ie,he,Be,st){return ie===null||ie.tag!==7?(ie=ul(he,de.mode,Be,st),ie.return=de,ie):(ie=P(ie,he),ie.return=de,ie)}function Re(de,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Zg(""+ie,de.mode,he),ie.return=de,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return he=wh(ie.type,ie.key,ie.props,null,de.mode,he),he.ref=zu(de,null,ie),he.return=de,he;case $:return ie=Jg(ie,de.mode,he),ie.return=de,ie;case Fe:var Be=ie._init;return Re(de,Be(ie._payload),he)}if(Ni(ie)||xe(ie))return ie=ul(ie,de.mode,he,null),ie.return=de,ie;Qf(de,ie)}return null}function je(de,ie,he,Be){var st=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return st!==null?null:Y(de,ie,""+he,Be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case U:return he.key===st?te(de,ie,he,Be):null;case $:return he.key===st?be(de,ie,he,Be):null;case Fe:return st=he._init,je(de,ie,st(he._payload),Be)}if(Ni(he)||xe(he))return st!==null?null:ke(de,ie,he,Be,null);Qf(de,he)}return null}function Ye(de,ie,he,Be,st){if(typeof Be=="string"&&Be!==""||typeof Be=="number")return de=de.get(he)||null,Y(ie,de,""+Be,st);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case U:return de=de.get(Be.key===null?he:Be.key)||null,te(ie,de,Be,st);case $:return de=de.get(Be.key===null?he:Be.key)||null,be(ie,de,Be,st);case Fe:var gt=Be._init;return Ye(de,ie,he,gt(Be._payload),st)}if(Ni(Be)||xe(Be))return de=de.get(he)||null,ke(ie,de,Be,st,null);Qf(ie,Be)}return null}function rt(de,ie,he,Be){for(var st=null,gt=null,xt=ie,bt=ie=0,In=null;xt!==null&&bt<he.length;bt++){xt.index>bt?(In=xt,xt=null):In=xt.sibling;var Vt=je(de,xt,he[bt],Be);if(Vt===null){xt===null&&(xt=In);break}o&&xt&&Vt.alternate===null&&d(de,xt),ie=k(Vt,ie,bt),gt===null?st=Vt:gt.sibling=Vt,gt=Vt,xt=In}if(bt===he.length)return w(de,xt),Or&&rl(de,bt),st;if(xt===null){for(;bt<he.length;bt++)xt=Re(de,he[bt],Be),xt!==null&&(ie=k(xt,ie,bt),gt===null?st=xt:gt.sibling=xt,gt=xt);return Or&&rl(de,bt),st}for(xt=A(de,xt);bt<he.length;bt++)In=Ye(xt,de,bt,he[bt],Be),In!==null&&(o&&In.alternate!==null&&xt.delete(In.key===null?bt:In.key),ie=k(In,ie,bt),gt===null?st=In:gt.sibling=In,gt=In);return o&&xt.forEach(function(Ao){return d(de,Ao)}),Or&&rl(de,bt),st}function it(de,ie,he,Be){var st=xe(he);if(typeof st!="function")throw Error(r(150));if(he=st.call(he),he==null)throw Error(r(151));for(var gt=st=null,xt=ie,bt=ie=0,In=null,Vt=he.next();xt!==null&&!Vt.done;bt++,Vt=he.next()){xt.index>bt?(In=xt,xt=null):In=xt.sibling;var Ao=je(de,xt,Vt.value,Be);if(Ao===null){xt===null&&(xt=In);break}o&&xt&&Ao.alternate===null&&d(de,xt),ie=k(Ao,ie,bt),gt===null?st=Ao:gt.sibling=Ao,gt=Ao,xt=In}if(Vt.done)return w(de,xt),Or&&rl(de,bt),st;if(xt===null){for(;!Vt.done;bt++,Vt=he.next())Vt=Re(de,Vt.value,Be),Vt!==null&&(ie=k(Vt,ie,bt),gt===null?st=Vt:gt.sibling=Vt,gt=Vt);return Or&&rl(de,bt),st}for(xt=A(de,xt);!Vt.done;bt++,Vt=he.next())Vt=Ye(xt,de,bt,Vt.value,Be),Vt!==null&&(o&&Vt.alternate!==null&&xt.delete(Vt.key===null?bt:Vt.key),ie=k(Vt,ie,bt),gt===null?st=Vt:gt.sibling=Vt,gt=Vt);return o&&xt.forEach(function(gR){return d(de,gR)}),Or&&rl(de,bt),st}function Zr(de,ie,he,Be){if(typeof he=="object"&&he!==null&&he.type===V&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case U:e:{for(var st=he.key,gt=ie;gt!==null;){if(gt.key===st){if(st=he.type,st===V){if(gt.tag===7){w(de,gt.sibling),ie=P(gt,he.props.children),ie.return=de,de=ie;break e}}else if(gt.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===Fe&&p2(st)===gt.type){w(de,gt.sibling),ie=P(gt,he.props),ie.ref=zu(de,gt,he),ie.return=de,de=ie;break e}w(de,gt);break}else d(de,gt);gt=gt.sibling}he.type===V?(ie=ul(he.props.children,de.mode,Be,he.key),ie.return=de,de=ie):(Be=wh(he.type,he.key,he.props,null,de.mode,Be),Be.ref=zu(de,ie,he),Be.return=de,de=Be)}return H(de);case $:e:{for(gt=he.key;ie!==null;){if(ie.key===gt)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){w(de,ie.sibling),ie=P(ie,he.children||[]),ie.return=de,de=ie;break e}else{w(de,ie);break}else d(de,ie);ie=ie.sibling}ie=Jg(he,de.mode,Be),ie.return=de,de=ie}return H(de);case Fe:return gt=he._init,Zr(de,ie,gt(he._payload),Be)}if(Ni(he))return rt(de,ie,he,Be);if(xe(he))return it(de,ie,he,Be);Qf(de,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ie!==null&&ie.tag===6?(w(de,ie.sibling),ie=P(ie,he),ie.return=de,de=ie):(w(de,ie),ie=Zg(he,de.mode,Be),ie.return=de,de=ie),H(de)):w(de,ie)}return Zr}var dc=m2(!0),g2=m2(!1),Zf=ho(null),Jf=null,fc=null,lg=null;function cg(){lg=fc=Jf=null}function ug(o){var d=Zf.current;Er(Zf),o._currentValue=d}function dg(o,d,w){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===w)break;o=o.return}}function hc(o,d){Jf=o,lg=fc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(gi=!0),o.firstContext=null)}function ta(o){var d=o._currentValue;if(lg!==o)if(o={context:o,memoizedValue:d,next:null},fc===null){if(Jf===null)throw Error(r(308));fc=o,Jf.dependencies={lanes:0,firstContext:o}}else fc=fc.next=o;return d}var nl=null;function fg(o){nl===null?nl=[o]:nl.push(o)}function x2(o,d,w,A){var P=d.interleaved;return P===null?(w.next=w,fg(d)):(w.next=P.next,P.next=w),d.interleaved=w,Es(o,A)}function Es(o,d){o.lanes|=d;var w=o.alternate;for(w!==null&&(w.lanes|=d),w=o,o=o.return;o!==null;)o.childLanes|=d,w=o.alternate,w!==null&&(w.childLanes|=d),w=o,o=o.return;return w.tag===3?w.stateNode:null}var go=!1;function hg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v2(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ss(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function xo(o,d,w){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Wt&2)!==0){var P=A.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),A.pending=d,Es(o,w)}return P=A.interleaved,P===null?(d.next=d,fg(A)):(d.next=P.next,P.next=d),A.interleaved=d,Es(o,w)}function eh(o,d,w){if(d=d.updateQueue,d!==null&&(d=d.shared,(w&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,$r(o,w)}}function y2(o,d){var w=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var P=null,k=null;if(w=w.firstBaseUpdate,w!==null){do{var H={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};k===null?P=k=H:k=k.next=H,w=w.next}while(w!==null);k===null?P=k=d:k=k.next=d}else P=k=d;w={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:k,shared:A.shared,effects:A.effects},o.updateQueue=w;return}o=w.lastBaseUpdate,o===null?w.firstBaseUpdate=d:o.next=d,w.lastBaseUpdate=d}function th(o,d,w,A){var P=o.updateQueue;go=!1;var k=P.firstBaseUpdate,H=P.lastBaseUpdate,Y=P.shared.pending;if(Y!==null){P.shared.pending=null;var te=Y,be=te.next;te.next=null,H===null?k=be:H.next=be,H=te;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,Y=ke.lastBaseUpdate,Y!==H&&(Y===null?ke.firstBaseUpdate=be:Y.next=be,ke.lastBaseUpdate=te))}if(k!==null){var Re=P.baseState;H=0,ke=be=te=null,Y=k;do{var je=Y.lane,Ye=Y.eventTime;if((A&je)===je){ke!==null&&(ke=ke.next={eventTime:Ye,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var rt=o,it=Y;switch(je=d,Ye=w,it.tag){case 1:if(rt=it.payload,typeof rt=="function"){Re=rt.call(Ye,Re,je);break e}Re=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=it.payload,je=typeof rt=="function"?rt.call(Ye,Re,je):rt,je==null)break e;Re=Ae({},Re,je);break e;case 2:go=!0}}Y.callback!==null&&Y.lane!==0&&(o.flags|=64,je=P.effects,je===null?P.effects=[Y]:je.push(Y))}else Ye={eventTime:Ye,lane:je,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ke===null?(be=ke=Ye,te=Re):ke=ke.next=Ye,H|=je;if(Y=Y.next,Y===null){if(Y=P.shared.pending,Y===null)break;je=Y,Y=je.next,je.next=null,P.lastBaseUpdate=je,P.shared.pending=null}}while(!0);if(ke===null&&(te=Re),P.baseState=te,P.firstBaseUpdate=be,P.lastBaseUpdate=ke,d=P.shared.interleaved,d!==null){P=d;do H|=P.lane,P=P.next;while(P!==d)}else k===null&&(P.shared.lanes=0);sl|=H,o.lanes=H,o.memoizedState=Re}}function b2(o,d,w){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],P=A.callback;if(P!==null){if(A.callback=null,A=w,typeof P!="function")throw Error(r(191,P));P.call(A)}}}var Uu={},Wa=ho(Uu),$u=ho(Uu),Hu=ho(Uu);function il(o){if(o===Uu)throw Error(r(174));return o}function pg(o,d){switch(mr(Hu,d),mr($u,o),mr(Wa,Uu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:us(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=us(d,o)}Er(Wa),mr(Wa,d)}function pc(){Er(Wa),Er($u),Er(Hu)}function w2(o){il(Hu.current);var d=il(Wa.current),w=us(d,o.type);d!==w&&(mr($u,o),mr(Wa,w))}function mg(o){$u.current===o&&(Er(Wa),Er($u))}var Fr=ho(0);function rh(o){for(var d=o;d!==null;){if(d.tag===13){var w=d.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var gg=[];function xg(){for(var o=0;o<gg.length;o++)gg[o]._workInProgressVersionPrimary=null;gg.length=0}var nh=B.ReactCurrentDispatcher,vg=B.ReactCurrentBatchConfig,al=0,zr=null,xn=null,_n=null,ih=!1,Wu=!1,Vu=0,B8=0;function ei(){throw Error(r(321))}function yg(o,d){if(d===null)return!1;for(var w=0;w<d.length&&w<o.length;w++)if(!oe(o[w],d[w]))return!1;return!0}function bg(o,d,w,A,P,k){if(al=k,zr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,nh.current=o===null||o.memoizedState===null?$8:H8,o=w(A,P),Wu){k=0;do{if(Wu=!1,Vu=0,25<=k)throw Error(r(301));k+=1,_n=xn=null,d.updateQueue=null,nh.current=W8,o=w(A,P)}while(Wu)}if(nh.current=oh,d=xn!==null&&xn.next!==null,al=0,_n=xn=zr=null,ih=!1,d)throw Error(r(300));return o}function wg(){var o=Vu!==0;return Vu=0,o}function Va(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?zr.memoizedState=_n=o:_n=_n.next=o,_n}function ra(){if(xn===null){var o=zr.alternate;o=o!==null?o.memoizedState:null}else o=xn.next;var d=_n===null?zr.memoizedState:_n.next;if(d!==null)_n=d,xn=o;else{if(o===null)throw Error(r(310));xn=o,o={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},_n===null?zr.memoizedState=_n=o:_n=_n.next=o}return _n}function qu(o,d){return typeof d=="function"?d(o):d}function Eg(o){var d=ra(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=xn,P=A.baseQueue,k=w.pending;if(k!==null){if(P!==null){var H=P.next;P.next=k.next,k.next=H}A.baseQueue=P=k,w.pending=null}if(P!==null){k=P.next,A=A.baseState;var Y=H=null,te=null,be=k;do{var ke=be.lane;if((al&ke)===ke)te!==null&&(te=te.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),A=be.hasEagerState?be.eagerState:o(A,be.action);else{var Re={lane:ke,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};te===null?(Y=te=Re,H=A):te=te.next=Re,zr.lanes|=ke,sl|=ke}be=be.next}while(be!==null&&be!==k);te===null?H=A:te.next=Y,oe(A,d.memoizedState)||(gi=!0),d.memoizedState=A,d.baseState=H,d.baseQueue=te,w.lastRenderedState=A}if(o=w.interleaved,o!==null){P=o;do k=P.lane,zr.lanes|=k,sl|=k,P=P.next;while(P!==o)}else P===null&&(w.lanes=0);return[d.memoizedState,w.dispatch]}function Sg(o){var d=ra(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=w.dispatch,P=w.pending,k=d.memoizedState;if(P!==null){w.pending=null;var H=P=P.next;do k=o(k,H.action),H=H.next;while(H!==P);oe(k,d.memoizedState)||(gi=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),w.lastRenderedState=k}return[k,A]}function E2(){}function S2(o,d){var w=zr,A=ra(),P=d(),k=!oe(A.memoizedState,P);if(k&&(A.memoizedState=P,gi=!0),A=A.queue,Ag(_2.bind(null,w,A,o),[o]),A.getSnapshot!==d||k||_n!==null&&_n.memoizedState.tag&1){if(w.flags|=2048,Gu(9,C2.bind(null,w,A,P,d),void 0,null),Nn===null)throw Error(r(349));(al&30)!==0||A2(w,d,P)}return P}function A2(o,d,w){o.flags|=16384,o={getSnapshot:d,value:w},d=zr.updateQueue,d===null?(d={lastEffect:null,stores:null},zr.updateQueue=d,d.stores=[o]):(w=d.stores,w===null?d.stores=[o]:w.push(o))}function C2(o,d,w,A){d.value=w,d.getSnapshot=A,N2(d)&&I2(o)}function _2(o,d,w){return w(function(){N2(d)&&I2(o)})}function N2(o){var d=o.getSnapshot;o=o.value;try{var w=d();return!oe(o,w)}catch{return!0}}function I2(o){var d=Es(o,1);d!==null&&Na(d,o,1,-1)}function O2(o){var d=Va();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:o},d.queue=o,o=o.dispatch=U8.bind(null,zr,o),[d.memoizedState,o]}function Gu(o,d,w,A){return o={tag:o,create:d,destroy:w,deps:A,next:null},d=zr.updateQueue,d===null?(d={lastEffect:null,stores:null},zr.updateQueue=d,d.lastEffect=o.next=o):(w=d.lastEffect,w===null?d.lastEffect=o.next=o:(A=w.next,w.next=o,o.next=A,d.lastEffect=o)),o}function T2(){return ra().memoizedState}function ah(o,d,w,A){var P=Va();zr.flags|=o,P.memoizedState=Gu(1|d,w,void 0,A===void 0?null:A)}function sh(o,d,w,A){var P=ra();A=A===void 0?null:A;var k=void 0;if(xn!==null){var H=xn.memoizedState;if(k=H.destroy,A!==null&&yg(A,H.deps)){P.memoizedState=Gu(d,w,k,A);return}}zr.flags|=o,P.memoizedState=Gu(1|d,w,k,A)}function j2(o,d){return ah(8390656,8,o,d)}function Ag(o,d){return sh(2048,8,o,d)}function P2(o,d){return sh(4,2,o,d)}function k2(o,d){return sh(4,4,o,d)}function R2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function M2(o,d,w){return w=w!=null?w.concat([o]):null,sh(4,4,R2.bind(null,d,o),w)}function Cg(){}function D2(o,d){var w=ra();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&yg(d,A[1])?A[0]:(w.memoizedState=[o,d],o)}function L2(o,d){var w=ra();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&yg(d,A[1])?A[0]:(o=o(),w.memoizedState=[o,d],o)}function B2(o,d,w){return(al&21)===0?(o.baseState&&(o.baseState=!1,gi=!0),o.memoizedState=w):(oe(w,d)||(w=hn(),zr.lanes|=w,sl|=w,o.baseState=!0),d)}function F8(o,d){var w=It;It=w!==0&&4>w?w:4,o(!0);var A=vg.transition;vg.transition={};try{o(!1),d()}finally{It=w,vg.transition=A}}function F2(){return ra().memoizedState}function z8(o,d,w){var A=wo(o);if(w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},z2(o))U2(d,w);else if(w=x2(o,d,w,A),w!==null){var P=ci();Na(w,o,A,P),$2(w,d,A)}}function U8(o,d,w){var A=wo(o),P={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(z2(o))U2(d,P);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var H=d.lastRenderedState,Y=k(H,w);if(P.hasEagerState=!0,P.eagerState=Y,oe(Y,H)){var te=d.interleaved;te===null?(P.next=P,fg(d)):(P.next=te.next,te.next=P),d.interleaved=P;return}}catch{}finally{}w=x2(o,d,P,A),w!==null&&(P=ci(),Na(w,o,A,P),$2(w,d,A))}}function z2(o){var d=o.alternate;return o===zr||d!==null&&d===zr}function U2(o,d){Wu=ih=!0;var w=o.pending;w===null?d.next=d:(d.next=w.next,w.next=d),o.pending=d}function $2(o,d,w){if((w&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,$r(o,w)}}var oh={readContext:ta,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},$8={readContext:ta,useCallback:function(o,d){return Va().memoizedState=[o,d===void 0?null:d],o},useContext:ta,useEffect:j2,useImperativeHandle:function(o,d,w){return w=w!=null?w.concat([o]):null,ah(4194308,4,R2.bind(null,d,o),w)},useLayoutEffect:function(o,d){return ah(4194308,4,o,d)},useInsertionEffect:function(o,d){return ah(4,2,o,d)},useMemo:function(o,d){var w=Va();return d=d===void 0?null:d,o=o(),w.memoizedState=[o,d],o},useReducer:function(o,d,w){var A=Va();return d=w!==void 0?w(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=z8.bind(null,zr,o),[A.memoizedState,o]},useRef:function(o){var d=Va();return o={current:o},d.memoizedState=o},useState:O2,useDebugValue:Cg,useDeferredValue:function(o){return Va().memoizedState=o},useTransition:function(){var o=O2(!1),d=o[0];return o=F8.bind(null,o[1]),Va().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,w){var A=zr,P=Va();if(Or){if(w===void 0)throw Error(r(407));w=w()}else{if(w=d(),Nn===null)throw Error(r(349));(al&30)!==0||A2(A,d,w)}P.memoizedState=w;var k={value:w,getSnapshot:d};return P.queue=k,j2(_2.bind(null,A,k,o),[o]),A.flags|=2048,Gu(9,C2.bind(null,A,k,w,d),void 0,null),w},useId:function(){var o=Va(),d=Nn.identifierPrefix;if(Or){var w=ws,A=bs;w=(A&~(1<<32-oi(A)-1)).toString(32)+w,d=":"+d+"R"+w,w=Vu++,0<w&&(d+="H"+w.toString(32)),d+=":"}else w=B8++,d=":"+d+"r"+w.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},H8={readContext:ta,useCallback:D2,useContext:ta,useEffect:Ag,useImperativeHandle:M2,useInsertionEffect:P2,useLayoutEffect:k2,useMemo:L2,useReducer:Eg,useRef:T2,useState:function(){return Eg(qu)},useDebugValue:Cg,useDeferredValue:function(o){var d=ra();return B2(d,xn.memoizedState,o)},useTransition:function(){var o=Eg(qu)[0],d=ra().memoizedState;return[o,d]},useMutableSource:E2,useSyncExternalStore:S2,useId:F2,unstable_isNewReconciler:!1},W8={readContext:ta,useCallback:D2,useContext:ta,useEffect:Ag,useImperativeHandle:M2,useInsertionEffect:P2,useLayoutEffect:k2,useMemo:L2,useReducer:Sg,useRef:T2,useState:function(){return Sg(qu)},useDebugValue:Cg,useDeferredValue:function(o){var d=ra();return xn===null?d.memoizedState=o:B2(d,xn.memoizedState,o)},useTransition:function(){var o=Sg(qu)[0],d=ra().memoizedState;return[o,d]},useMutableSource:E2,useSyncExternalStore:S2,useId:F2,unstable_isNewReconciler:!1};function Aa(o,d){if(o&&o.defaultProps){d=Ae({},d),o=o.defaultProps;for(var w in o)d[w]===void 0&&(d[w]=o[w]);return d}return d}function _g(o,d,w,A){d=o.memoizedState,w=w(A,d),w=w==null?d:Ae({},d,w),o.memoizedState=w,o.lanes===0&&(o.updateQueue.baseState=w)}var lh={isMounted:function(o){return(o=o._reactInternals)?at(o)===o:!1},enqueueSetState:function(o,d,w){o=o._reactInternals;var A=ci(),P=wo(o),k=Ss(A,P);k.payload=d,w!=null&&(k.callback=w),d=xo(o,k,P),d!==null&&(Na(d,o,P,A),eh(d,o,P))},enqueueReplaceState:function(o,d,w){o=o._reactInternals;var A=ci(),P=wo(o),k=Ss(A,P);k.tag=1,k.payload=d,w!=null&&(k.callback=w),d=xo(o,k,P),d!==null&&(Na(d,o,P,A),eh(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var w=ci(),A=wo(o),P=Ss(w,A);P.tag=2,d!=null&&(P.callback=d),d=xo(o,P,A),d!==null&&(Na(d,o,A,w),eh(d,o,A))}};function H2(o,d,w,A,P,k,H){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,k,H):d.prototype&&d.prototype.isPureReactComponent?!ve(w,A)||!ve(P,k):!0}function W2(o,d,w){var A=!1,P=po,k=d.contextType;return typeof k=="object"&&k!==null?k=ta(k):(P=mi(d)?el:Jn.current,A=d.contextTypes,k=(A=A!=null)?oc(o,P):po),d=new d(w,k),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lh,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=k),d}function V2(o,d,w,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(w,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(w,A),d.state!==o&&lh.enqueueReplaceState(d,d.state,null)}function Ng(o,d,w,A){var P=o.stateNode;P.props=w,P.state=o.memoizedState,P.refs={},hg(o);var k=d.contextType;typeof k=="object"&&k!==null?P.context=ta(k):(k=mi(d)?el:Jn.current,P.context=oc(o,k)),P.state=o.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(_g(o,d,k,w),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&lh.enqueueReplaceState(P,P.state,null),th(o,w,P,A),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function mc(o,d){try{var w="",A=d;do w+=Xe(A),A=A.return;while(A);var P=w}catch(k){P=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:d,stack:P,digest:null}}function Ig(o,d,w){return{value:o,source:null,stack:w??null,digest:d??null}}function Og(o,d){try{console.error(d.value)}catch(w){setTimeout(function(){throw w})}}var V8=typeof WeakMap=="function"?WeakMap:Map;function q2(o,d,w){w=Ss(-1,w),w.tag=3,w.payload={element:null};var A=d.value;return w.callback=function(){mh||(mh=!0,Wg=A),Og(o,d)},w}function G2(o,d,w){w=Ss(-1,w),w.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var P=d.value;w.payload=function(){return A(P)},w.callback=function(){Og(o,d)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(w.callback=function(){Og(o,d),typeof A!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})}),w}function K2(o,d,w){var A=o.pingCache;if(A===null){A=o.pingCache=new V8;var P=new Set;A.set(d,P)}else P=A.get(d),P===void 0&&(P=new Set,A.set(d,P));P.has(w)||(P.add(w),o=aR.bind(null,o,d,w),d.then(o,o))}function Y2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function X2(o,d,w,A,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(d=Ss(-1,1),d.tag=2,xo(w,d,1))),w.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var q8=B.ReactCurrentOwner,gi=!1;function li(o,d,w,A){d.child=o===null?g2(d,null,w,A):dc(d,o.child,w,A)}function Q2(o,d,w,A,P){w=w.render;var k=d.ref;return hc(d,P),A=bg(o,d,w,A,k,P),w=wg(),o!==null&&!gi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,As(o,d,P)):(Or&&w&&ng(d),d.flags|=1,li(o,d,A,P),d.child)}function Z2(o,d,w,A,P){if(o===null){var k=w.type;return typeof k=="function"&&!Qg(k)&&k.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(d.tag=15,d.type=k,J2(o,d,k,A,P)):(o=wh(w.type,null,A,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(k=o.child,(o.lanes&P)===0){var H=k.memoizedProps;if(w=w.compare,w=w!==null?w:ve,w(H,A)&&o.ref===d.ref)return As(o,d,P)}return d.flags|=1,o=So(k,A),o.ref=d.ref,o.return=d,d.child=o}function J2(o,d,w,A,P){if(o!==null){var k=o.memoizedProps;if(ve(k,A)&&o.ref===d.ref)if(gi=!1,d.pendingProps=A=k,(o.lanes&P)!==0)(o.flags&131072)!==0&&(gi=!0);else return d.lanes=o.lanes,As(o,d,P)}return Tg(o,d,w,A,P)}function eE(o,d,w){var A=d.pendingProps,P=A.children,k=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},mr(xc,Mi),Mi|=w;else{if((w&1073741824)===0)return o=k!==null?k.baseLanes|w:w,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,mr(xc,Mi),Mi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=k!==null?k.baseLanes:w,mr(xc,Mi),Mi|=A}else k!==null?(A=k.baseLanes|w,d.memoizedState=null):A=w,mr(xc,Mi),Mi|=A;return li(o,d,P,w),d.child}function tE(o,d){var w=d.ref;(o===null&&w!==null||o!==null&&o.ref!==w)&&(d.flags|=512,d.flags|=2097152)}function Tg(o,d,w,A,P){var k=mi(w)?el:Jn.current;return k=oc(d,k),hc(d,P),w=bg(o,d,w,A,k,P),A=wg(),o!==null&&!gi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,As(o,d,P)):(Or&&A&&ng(d),d.flags|=1,li(o,d,w,P),d.child)}function rE(o,d,w,A,P){if(mi(w)){var k=!0;qf(d)}else k=!1;if(hc(d,P),d.stateNode===null)uh(o,d),W2(d,w,A),Ng(d,w,A,P),A=!0;else if(o===null){var H=d.stateNode,Y=d.memoizedProps;H.props=Y;var te=H.context,be=w.contextType;typeof be=="object"&&be!==null?be=ta(be):(be=mi(w)?el:Jn.current,be=oc(d,be));var ke=w.getDerivedStateFromProps,Re=typeof ke=="function"||typeof H.getSnapshotBeforeUpdate=="function";Re||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Y!==A||te!==be)&&V2(d,H,A,be),go=!1;var je=d.memoizedState;H.state=je,th(d,A,H,P),te=d.memoizedState,Y!==A||je!==te||pi.current||go?(typeof ke=="function"&&(_g(d,w,ke,A),te=d.memoizedState),(Y=go||H2(d,w,Y,A,je,te,be))?(Re||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(d.flags|=4194308)):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=te),H.props=A,H.state=te,H.context=be,A=Y):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{H=d.stateNode,v2(o,d),Y=d.memoizedProps,be=d.type===d.elementType?Y:Aa(d.type,Y),H.props=be,Re=d.pendingProps,je=H.context,te=w.contextType,typeof te=="object"&&te!==null?te=ta(te):(te=mi(w)?el:Jn.current,te=oc(d,te));var Ye=w.getDerivedStateFromProps;(ke=typeof Ye=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(Y!==Re||je!==te)&&V2(d,H,A,te),go=!1,je=d.memoizedState,H.state=je,th(d,A,H,P);var rt=d.memoizedState;Y!==Re||je!==rt||pi.current||go?(typeof Ye=="function"&&(_g(d,w,Ye,A),rt=d.memoizedState),(be=go||H2(d,w,be,A,je,rt,te)||!1)?(ke||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(A,rt,te),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(A,rt,te)),typeof H.componentDidUpdate=="function"&&(d.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof H.componentDidUpdate!="function"||Y===o.memoizedProps&&je===o.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&je===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=rt),H.props=A,H.state=rt,H.context=te,A=be):(typeof H.componentDidUpdate!="function"||Y===o.memoizedProps&&je===o.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||Y===o.memoizedProps&&je===o.memoizedState||(d.flags|=1024),A=!1)}return jg(o,d,w,A,k,P)}function jg(o,d,w,A,P,k){tE(o,d);var H=(d.flags&128)!==0;if(!A&&!H)return P&&o2(d,w,!1),As(o,d,k);A=d.stateNode,q8.current=d;var Y=H&&typeof w.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&H?(d.child=dc(d,o.child,null,k),d.child=dc(d,null,Y,k)):li(o,d,Y,k),d.memoizedState=A.state,P&&o2(d,w,!0),d.child}function nE(o){var d=o.stateNode;d.pendingContext?a2(o,d.pendingContext,d.pendingContext!==d.context):d.context&&a2(o,d.context,!1),pg(o,d.containerInfo)}function iE(o,d,w,A,P){return uc(),og(P),d.flags|=256,li(o,d,w,A),d.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function kg(o){return{baseLanes:o,cachePool:null,transitions:null}}function aE(o,d,w){var A=d.pendingProps,P=Fr.current,k=!1,H=(d.flags&128)!==0,Y;if((Y=H)||(Y=o!==null&&o.memoizedState===null?!1:(P&2)!==0),Y?(k=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),mr(Fr,P&1),o===null)return sg(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(H=A.children,o=A.fallback,k?(A=d.mode,k=d.child,H={mode:"hidden",children:H},(A&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=H):k=Eh(H,A,0,null),o=ul(o,A,w,null),k.return=d,o.return=d,k.sibling=o,d.child=k,d.child.memoizedState=kg(w),d.memoizedState=Pg,o):Rg(d,H));if(P=o.memoizedState,P!==null&&(Y=P.dehydrated,Y!==null))return G8(o,d,H,A,Y,P,w);if(k){k=A.fallback,H=d.mode,P=o.child,Y=P.sibling;var te={mode:"hidden",children:A.children};return(H&1)===0&&d.child!==P?(A=d.child,A.childLanes=0,A.pendingProps=te,d.deletions=null):(A=So(P,te),A.subtreeFlags=P.subtreeFlags&14680064),Y!==null?k=So(Y,k):(k=ul(k,H,w,null),k.flags|=2),k.return=d,A.return=d,A.sibling=k,d.child=A,A=k,k=d.child,H=o.child.memoizedState,H=H===null?kg(w):{baseLanes:H.baseLanes|w,cachePool:null,transitions:H.transitions},k.memoizedState=H,k.childLanes=o.childLanes&~w,d.memoizedState=Pg,A}return k=o.child,o=k.sibling,A=So(k,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=w),A.return=d,A.sibling=null,o!==null&&(w=d.deletions,w===null?(d.deletions=[o],d.flags|=16):w.push(o)),d.child=A,d.memoizedState=null,A}function Rg(o,d){return d=Eh({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function ch(o,d,w,A){return A!==null&&og(A),dc(d,o.child,null,w),o=Rg(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function G8(o,d,w,A,P,k,H){if(w)return d.flags&256?(d.flags&=-257,A=Ig(Error(r(422))),ch(o,d,H,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(k=A.fallback,P=d.mode,A=Eh({mode:"visible",children:A.children},P,0,null),k=ul(k,P,H,null),k.flags|=2,A.return=d,k.return=d,A.sibling=k,d.child=A,(d.mode&1)!==0&&dc(d,o.child,null,H),d.child.memoizedState=kg(H),d.memoizedState=Pg,k);if((d.mode&1)===0)return ch(o,d,H,null);if(P.data==="$!"){if(A=P.nextSibling&&P.nextSibling.dataset,A)var Y=A.dgst;return A=Y,k=Error(r(419)),A=Ig(k,A,void 0),ch(o,d,H,A)}if(Y=(H&o.childLanes)!==0,gi||Y){if(A=Nn,A!==null){switch(H&-H){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(A.suspendedLanes|H))!==0?0:P,P!==0&&P!==k.retryLane&&(k.retryLane=P,Es(o,P),Na(A,o,P,-1))}return Xg(),A=Ig(Error(r(421))),ch(o,d,H,A)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=sR.bind(null,o),P._reactRetry=d,null):(o=k.treeContext,Ri=fo(P.nextSibling),ki=d,Or=!0,Sa=null,o!==null&&(Ji[ea++]=bs,Ji[ea++]=ws,Ji[ea++]=tl,bs=o.id,ws=o.overflow,tl=d),d=Rg(d,A.children),d.flags|=4096,d)}function sE(o,d,w){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),dg(o.return,d,w)}function Mg(o,d,w,A,P){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:P}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=A,k.tail=w,k.tailMode=P)}function oE(o,d,w){var A=d.pendingProps,P=A.revealOrder,k=A.tail;if(li(o,d,A.children,w),A=Fr.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sE(o,w,d);else if(o.tag===19)sE(o,w,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(mr(Fr,A),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(w=d.child,P=null;w!==null;)o=w.alternate,o!==null&&rh(o)===null&&(P=w),w=w.sibling;w=P,w===null?(P=d.child,d.child=null):(P=w.sibling,w.sibling=null),Mg(d,!1,P,w,k);break;case"backwards":for(w=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&rh(o)===null){d.child=P;break}o=P.sibling,P.sibling=w,w=P,P=o}Mg(d,!0,w,null,k);break;case"together":Mg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function uh(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function As(o,d,w){if(o!==null&&(d.dependencies=o.dependencies),sl|=d.lanes,(w&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,w=So(o,o.pendingProps),d.child=w,w.return=d;o.sibling!==null;)o=o.sibling,w=w.sibling=So(o,o.pendingProps),w.return=d;w.sibling=null}return d.child}function K8(o,d,w){switch(d.tag){case 3:nE(d),uc();break;case 5:w2(d);break;case 1:mi(d.type)&&qf(d);break;case 4:pg(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,P=d.memoizedProps.value;mr(Zf,A._currentValue),A._currentValue=P;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(mr(Fr,Fr.current&1),d.flags|=128,null):(w&d.child.childLanes)!==0?aE(o,d,w):(mr(Fr,Fr.current&1),o=As(o,d,w),o!==null?o.sibling:null);mr(Fr,Fr.current&1);break;case 19:if(A=(w&d.childLanes)!==0,(o.flags&128)!==0){if(A)return oE(o,d,w);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),mr(Fr,Fr.current),A)break;return null;case 22:case 23:return d.lanes=0,eE(o,d,w)}return As(o,d,w)}var lE,Dg,cE,uE;lE=function(o,d){for(var w=d.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Dg=function(){},cE=function(o,d,w,A){var P=o.memoizedProps;if(P!==A){o=d.stateNode,il(Wa.current);var k=null;switch(w){case"input":P=ut(o,P),A=ut(o,A),k=[];break;case"select":P=Ae({},P,{value:void 0}),A=Ae({},A,{value:void 0}),k=[];break;case"textarea":P=xa(o,P),A=xa(o,A),k=[];break;default:typeof P.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=Hf)}Bt(w,A);var H;w=null;for(be in P)if(!A.hasOwnProperty(be)&&P.hasOwnProperty(be)&&P[be]!=null)if(be==="style"){var Y=P[be];for(H in Y)Y.hasOwnProperty(H)&&(w||(w={}),w[H]="")}else be!=="dangerouslySetInnerHTML"&&be!=="children"&&be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&be!=="autoFocus"&&(i.hasOwnProperty(be)?k||(k=[]):(k=k||[]).push(be,null));for(be in A){var te=A[be];if(Y=P?.[be],A.hasOwnProperty(be)&&te!==Y&&(te!=null||Y!=null))if(be==="style")if(Y){for(H in Y)!Y.hasOwnProperty(H)||te&&te.hasOwnProperty(H)||(w||(w={}),w[H]="");for(H in te)te.hasOwnProperty(H)&&Y[H]!==te[H]&&(w||(w={}),w[H]=te[H])}else w||(k||(k=[]),k.push(be,w)),w=te;else be==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,Y=Y?Y.__html:void 0,te!=null&&Y!==te&&(k=k||[]).push(be,te)):be==="children"?typeof te!="string"&&typeof te!="number"||(k=k||[]).push(be,""+te):be!=="suppressContentEditableWarning"&&be!=="suppressHydrationWarning"&&(i.hasOwnProperty(be)?(te!=null&&be==="onScroll"&&wr("scroll",o),k||Y===te||(k=[])):(k=k||[]).push(be,te))}w&&(k=k||[]).push("style",w);var be=k;(d.updateQueue=be)&&(d.flags|=4)}},uE=function(o,d,w,A){w!==A&&(d.flags|=4)};function Ku(o,d){if(!Or)switch(o.tailMode){case"hidden":d=o.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?o.tail=null:w.sibling=null;break;case"collapsed":w=o.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function ti(o){var d=o.alternate!==null&&o.alternate.child===o.child,w=0,A=0;if(d)for(var P=o.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags&14680064,A|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=A,o.childLanes=w,d}function Y8(o,d,w){var A=d.pendingProps;switch(ig(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(d),null;case 1:return mi(d.type)&&Vf(),ti(d),null;case 3:return A=d.stateNode,pc(),Er(pi),Er(Jn),xg(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(Xf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Sa!==null&&(Gg(Sa),Sa=null))),Dg(o,d),ti(d),null;case 5:mg(d);var P=il(Hu.current);if(w=d.type,o!==null&&d.stateNode!=null)cE(o,d,w,A,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return ti(d),null}if(o=il(Wa.current),Xf(d)){A=d.stateNode,w=d.type;var k=d.memoizedProps;switch(A[Ha]=d,A[Bu]=k,o=(d.mode&1)!==0,w){case"dialog":wr("cancel",A),wr("close",A);break;case"iframe":case"object":case"embed":wr("load",A);break;case"video":case"audio":for(P=0;P<Mu.length;P++)wr(Mu[P],A);break;case"source":wr("error",A);break;case"img":case"image":case"link":wr("error",A),wr("load",A);break;case"details":wr("toggle",A);break;case"input":ht(A,k),wr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!k.multiple},wr("invalid",A);break;case"textarea":Js(A,k),wr("invalid",A)}Bt(w,k),P=null;for(var H in k)if(k.hasOwnProperty(H)){var Y=k[H];H==="children"?typeof Y=="string"?A.textContent!==Y&&(k.suppressHydrationWarning!==!0&&$f(A.textContent,Y,o),P=["children",Y]):typeof Y=="number"&&A.textContent!==""+Y&&(k.suppressHydrationWarning!==!0&&$f(A.textContent,Y,o),P=["children",""+Y]):i.hasOwnProperty(H)&&Y!=null&&H==="onScroll"&&wr("scroll",A)}switch(w){case"input":Le(A),Tt(A,k,!0);break;case"textarea":Le(A),cs(A);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(A.onclick=Hf)}A=P,d.updateQueue=A,A!==null&&(d.flags|=4)}else{H=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Mn(w)),o==="http://www.w3.org/1999/xhtml"?w==="script"?(o=H.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=H.createElement(w,{is:A.is}):(o=H.createElement(w),w==="select"&&(H=o,A.multiple?H.multiple=!0:A.size&&(H.size=A.size))):o=H.createElementNS(o,w),o[Ha]=d,o[Bu]=A,lE(o,d,!1,!1),d.stateNode=o;e:{switch(H=Gt(w,A),w){case"dialog":wr("cancel",o),wr("close",o),P=A;break;case"iframe":case"object":case"embed":wr("load",o),P=A;break;case"video":case"audio":for(P=0;P<Mu.length;P++)wr(Mu[P],o);P=A;break;case"source":wr("error",o),P=A;break;case"img":case"image":case"link":wr("error",o),wr("load",o),P=A;break;case"details":wr("toggle",o),P=A;break;case"input":ht(o,A),P=ut(o,A),wr("invalid",o);break;case"option":P=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},P=Ae({},A,{value:void 0}),wr("invalid",o);break;case"textarea":Js(o,A),P=xa(o,A),wr("invalid",o);break;default:P=A}Bt(w,P),Y=P;for(k in Y)if(Y.hasOwnProperty(k)){var te=Y[k];k==="style"?Ne(o,te):k==="dangerouslySetInnerHTML"?(te=te?te.__html:void 0,te!=null&&me(o,te)):k==="children"?typeof te=="string"?(w!=="textarea"||te!=="")&&Ze(o,te):typeof te=="number"&&Ze(o,""+te):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?te!=null&&k==="onScroll"&&wr("scroll",o):te!=null&&R(o,k,te,H))}switch(w){case"input":Le(o),Tt(o,A,!1);break;case"textarea":Le(o),cs(o);break;case"option":A.value!=null&&o.setAttribute("value",""+Ue(A.value));break;case"select":o.multiple=!!A.multiple,k=A.value,k!=null?Ve(o,!!A.multiple,k,!1):A.defaultValue!=null&&Ve(o,!!A.multiple,A.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=Hf)}switch(w){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ti(d),null;case 6:if(o&&d.stateNode!=null)uE(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(w=il(Hu.current),il(Wa.current),Xf(d)){if(A=d.stateNode,w=d.memoizedProps,A[Ha]=d,(k=A.nodeValue!==w)&&(o=ki,o!==null))switch(o.tag){case 3:$f(A.nodeValue,w,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&$f(A.nodeValue,w,(o.mode&1)!==0)}k&&(d.flags|=4)}else A=(w.nodeType===9?w:w.ownerDocument).createTextNode(A),A[Ha]=d,d.stateNode=A}return ti(d),null;case 13:if(Er(Fr),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Or&&Ri!==null&&(d.mode&1)!==0&&(d.flags&128)===0)h2(),uc(),d.flags|=98560,k=!1;else if(k=Xf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!k)throw Error(r(318));if(k=d.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Ha]=d}else uc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ti(d),k=!1}else Sa!==null&&(Gg(Sa),Sa=null),k=!0;if(!k)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=w,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Fr.current&1)!==0?vn===0&&(vn=3):Xg())),d.updateQueue!==null&&(d.flags|=4),ti(d),null);case 4:return pc(),Dg(o,d),o===null&&Du(d.stateNode.containerInfo),ti(d),null;case 10:return ug(d.type._context),ti(d),null;case 17:return mi(d.type)&&Vf(),ti(d),null;case 19:if(Er(Fr),k=d.memoizedState,k===null)return ti(d),null;if(A=(d.flags&128)!==0,H=k.rendering,H===null)if(A)Ku(k,!1);else{if(vn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(H=rh(o),H!==null){for(d.flags|=128,Ku(k,!1),A=H.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=w,w=d.child;w!==null;)k=w,o=A,k.flags&=14680066,H=k.alternate,H===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=H.childLanes,k.lanes=H.lanes,k.child=H.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=H.memoizedProps,k.memoizedState=H.memoizedState,k.updateQueue=H.updateQueue,k.type=H.type,o=H.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),w=w.sibling;return mr(Fr,Fr.current&1|2),d.child}o=o.sibling}k.tail!==null&&Xt()>vc&&(d.flags|=128,A=!0,Ku(k,!1),d.lanes=4194304)}else{if(!A)if(o=rh(H),o!==null){if(d.flags|=128,A=!0,w=o.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),Ku(k,!0),k.tail===null&&k.tailMode==="hidden"&&!H.alternate&&!Or)return ti(d),null}else 2*Xt()-k.renderingStartTime>vc&&w!==1073741824&&(d.flags|=128,A=!0,Ku(k,!1),d.lanes=4194304);k.isBackwards?(H.sibling=d.child,d.child=H):(w=k.last,w!==null?w.sibling=H:d.child=H,k.last=H)}return k.tail!==null?(d=k.tail,k.rendering=d,k.tail=d.sibling,k.renderingStartTime=Xt(),d.sibling=null,w=Fr.current,mr(Fr,A?w&1|2:w&1),d):(ti(d),null);case 22:case 23:return Yg(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(Mi&1073741824)!==0&&(ti(d),d.subtreeFlags&6&&(d.flags|=8192)):ti(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function X8(o,d){switch(ig(d),d.tag){case 1:return mi(d.type)&&Vf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return pc(),Er(pi),Er(Jn),xg(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return mg(d),null;case 13:if(Er(Fr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));uc()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return Er(Fr),null;case 4:return pc(),null;case 10:return ug(d.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var dh=!1,ri=!1,Q8=typeof WeakSet=="function"?WeakSet:Set,Je=null;function gc(o,d){var w=o.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Wr(o,d,A)}else w.current=null}function Lg(o,d,w){try{w()}catch(A){Wr(o,d,A)}}var dE=!1;function Z8(o,d){if(Ym=Ua,o=jt(),St(o)){if("selectionStart"in o)var w={start:o.selectionStart,end:o.selectionEnd};else e:{w=(w=o.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var P=A.anchorOffset,k=A.focusNode;A=A.focusOffset;try{w.nodeType,k.nodeType}catch{w=null;break e}var H=0,Y=-1,te=-1,be=0,ke=0,Re=o,je=null;t:for(;;){for(var Ye;Re!==w||P!==0&&Re.nodeType!==3||(Y=H+P),Re!==k||A!==0&&Re.nodeType!==3||(te=H+A),Re.nodeType===3&&(H+=Re.nodeValue.length),(Ye=Re.firstChild)!==null;)je=Re,Re=Ye;for(;;){if(Re===o)break t;if(je===w&&++be===P&&(Y=H),je===k&&++ke===A&&(te=H),(Ye=Re.nextSibling)!==null)break;Re=je,je=Re.parentNode}Re=Ye}w=Y===-1||te===-1?null:{start:Y,end:te}}else w=null}w=w||{start:0,end:0}}else w=null;for(Xm={focusedElem:o,selectionRange:w},Ua=!1,Je=d;Je!==null;)if(d=Je,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Je=o;else for(;Je!==null;){d=Je;try{var rt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(rt!==null){var it=rt.memoizedProps,Zr=rt.memoizedState,de=d.stateNode,ie=de.getSnapshotBeforeUpdate(d.elementType===d.type?it:Aa(d.type,it),Zr);de.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var he=d.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Be){Wr(d,d.return,Be)}if(o=d.sibling,o!==null){o.return=d.return,Je=o;break}Je=d.return}return rt=dE,dE=!1,rt}function Yu(o,d,w){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var P=A=A.next;do{if((P.tag&o)===o){var k=P.destroy;P.destroy=void 0,k!==void 0&&Lg(d,w,k)}P=P.next}while(P!==A)}}function fh(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var w=d=d.next;do{if((w.tag&o)===o){var A=w.create;w.destroy=A()}w=w.next}while(w!==d)}}function Bg(o){var d=o.ref;if(d!==null){var w=o.stateNode;switch(o.tag){case 5:o=w;break;default:o=w}typeof d=="function"?d(o):d.current=o}}function fE(o){var d=o.alternate;d!==null&&(o.alternate=null,fE(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Ha],delete d[Bu],delete d[eg],delete d[R8],delete d[M8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hE(o){return o.tag===5||o.tag===3||o.tag===4}function pE(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fg(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.nodeType===8?w.parentNode.insertBefore(o,d):w.insertBefore(o,d):(w.nodeType===8?(d=w.parentNode,d.insertBefore(o,w)):(d=w,d.appendChild(o)),w=w._reactRootContainer,w!=null||d.onclick!==null||(d.onclick=Hf));else if(A!==4&&(o=o.child,o!==null))for(Fg(o,d,w),o=o.sibling;o!==null;)Fg(o,d,w),o=o.sibling}function zg(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.insertBefore(o,d):w.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(zg(o,d,w),o=o.sibling;o!==null;)zg(o,d,w),o=o.sibling}var Fn=null,Ca=!1;function vo(o,d,w){for(w=w.child;w!==null;)mE(o,d,w),w=w.sibling}function mE(o,d,w){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ft,w)}catch{}switch(w.tag){case 5:ri||gc(w,d);case 6:var A=Fn,P=Ca;Fn=null,vo(o,d,w),Fn=A,Ca=P,Fn!==null&&(Ca?(o=Fn,w=w.stateNode,o.nodeType===8?o.parentNode.removeChild(w):o.removeChild(w)):Fn.removeChild(w.stateNode));break;case 18:Fn!==null&&(Ca?(o=Fn,w=w.stateNode,o.nodeType===8?Jm(o.parentNode,w):o.nodeType===1&&Jm(o,w),ba(o)):Jm(Fn,w.stateNode));break;case 4:A=Fn,P=Ca,Fn=w.stateNode.containerInfo,Ca=!0,vo(o,d,w),Fn=A,Ca=P;break;case 0:case 11:case 14:case 15:if(!ri&&(A=w.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){P=A=A.next;do{var k=P,H=k.destroy;k=k.tag,H!==void 0&&((k&2)!==0||(k&4)!==0)&&Lg(w,d,H),P=P.next}while(P!==A)}vo(o,d,w);break;case 1:if(!ri&&(gc(w,d),A=w.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=w.memoizedProps,A.state=w.memoizedState,A.componentWillUnmount()}catch(Y){Wr(w,d,Y)}vo(o,d,w);break;case 21:vo(o,d,w);break;case 22:w.mode&1?(ri=(A=ri)||w.memoizedState!==null,vo(o,d,w),ri=A):vo(o,d,w);break;default:vo(o,d,w)}}function gE(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var w=o.stateNode;w===null&&(w=o.stateNode=new Q8),d.forEach(function(A){var P=oR.bind(null,o,A);w.has(A)||(w.add(A),A.then(P,P))})}}function _a(o,d){var w=d.deletions;if(w!==null)for(var A=0;A<w.length;A++){var P=w[A];try{var k=o,H=d,Y=H;e:for(;Y!==null;){switch(Y.tag){case 5:Fn=Y.stateNode,Ca=!1;break e;case 3:Fn=Y.stateNode.containerInfo,Ca=!0;break e;case 4:Fn=Y.stateNode.containerInfo,Ca=!0;break e}Y=Y.return}if(Fn===null)throw Error(r(160));mE(k,H,P),Fn=null,Ca=!1;var te=P.alternate;te!==null&&(te.return=null),P.return=null}catch(be){Wr(P,d,be)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)xE(d,o),d=d.sibling}function xE(o,d){var w=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(_a(d,o),qa(o),A&4){try{Yu(3,o,o.return),fh(3,o)}catch(it){Wr(o,o.return,it)}try{Yu(5,o,o.return)}catch(it){Wr(o,o.return,it)}}break;case 1:_a(d,o),qa(o),A&512&&w!==null&&gc(w,w.return);break;case 5:if(_a(d,o),qa(o),A&512&&w!==null&&gc(w,w.return),o.flags&32){var P=o.stateNode;try{Ze(P,"")}catch(it){Wr(o,o.return,it)}}if(A&4&&(P=o.stateNode,P!=null)){var k=o.memoizedProps,H=w!==null?w.memoizedProps:k,Y=o.type,te=o.updateQueue;if(o.updateQueue=null,te!==null)try{Y==="input"&&k.type==="radio"&&k.name!=null&&Lt(P,k),Gt(Y,H);var be=Gt(Y,k);for(H=0;H<te.length;H+=2){var ke=te[H],Re=te[H+1];ke==="style"?Ne(P,Re):ke==="dangerouslySetInnerHTML"?me(P,Re):ke==="children"?Ze(P,Re):R(P,ke,Re,be)}switch(Y){case"input":Ot(P,k);break;case"textarea":Gn(P,k);break;case"select":var je=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!k.multiple;var Ye=k.value;Ye!=null?Ve(P,!!k.multiple,Ye,!1):je!==!!k.multiple&&(k.defaultValue!=null?Ve(P,!!k.multiple,k.defaultValue,!0):Ve(P,!!k.multiple,k.multiple?[]:"",!1))}P[Bu]=k}catch(it){Wr(o,o.return,it)}}break;case 6:if(_a(d,o),qa(o),A&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,k=o.memoizedProps;try{P.nodeValue=k}catch(it){Wr(o,o.return,it)}}break;case 3:if(_a(d,o),qa(o),A&4&&w!==null&&w.memoizedState.isDehydrated)try{ba(d.containerInfo)}catch(it){Wr(o,o.return,it)}break;case 4:_a(d,o),qa(o);break;case 13:_a(d,o),qa(o),P=o.child,P.flags&8192&&(k=P.memoizedState!==null,P.stateNode.isHidden=k,!k||P.alternate!==null&&P.alternate.memoizedState!==null||(Hg=Xt())),A&4&&gE(o);break;case 22:if(ke=w!==null&&w.memoizedState!==null,o.mode&1?(ri=(be=ri)||ke,_a(d,o),ri=be):_a(d,o),qa(o),A&8192){if(be=o.memoizedState!==null,(o.stateNode.isHidden=be)&&!ke&&(o.mode&1)!==0)for(Je=o,ke=o.child;ke!==null;){for(Re=Je=ke;Je!==null;){switch(je=Je,Ye=je.child,je.tag){case 0:case 11:case 14:case 15:Yu(4,je,je.return);break;case 1:gc(je,je.return);var rt=je.stateNode;if(typeof rt.componentWillUnmount=="function"){A=je,w=je.return;try{d=A,rt.props=d.memoizedProps,rt.state=d.memoizedState,rt.componentWillUnmount()}catch(it){Wr(A,w,it)}}break;case 5:gc(je,je.return);break;case 22:if(je.memoizedState!==null){bE(Re);continue}}Ye!==null?(Ye.return=je,Je=Ye):bE(Re)}ke=ke.sibling}e:for(ke=null,Re=o;;){if(Re.tag===5){if(ke===null){ke=Re;try{P=Re.stateNode,be?(k=P.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(Y=Re.stateNode,te=Re.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null,Y.style.display=dt("display",H))}catch(it){Wr(o,o.return,it)}}}else if(Re.tag===6){if(ke===null)try{Re.stateNode.nodeValue=be?"":Re.memoizedProps}catch(it){Wr(o,o.return,it)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===o)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===o)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===o)break e;ke===Re&&(ke=null),Re=Re.return}ke===Re&&(ke=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:_a(d,o),qa(o),A&4&&gE(o);break;case 21:break;default:_a(d,o),qa(o)}}function qa(o){var d=o.flags;if(d&2){try{e:{for(var w=o.return;w!==null;){if(hE(w)){var A=w;break e}w=w.return}throw Error(r(160))}switch(A.tag){case 5:var P=A.stateNode;A.flags&32&&(Ze(P,""),A.flags&=-33);var k=pE(o);zg(o,k,P);break;case 3:case 4:var H=A.stateNode.containerInfo,Y=pE(o);Fg(o,Y,H);break;default:throw Error(r(161))}}catch(te){Wr(o,o.return,te)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function J8(o,d,w){Je=o,vE(o)}function vE(o,d,w){for(var A=(o.mode&1)!==0;Je!==null;){var P=Je,k=P.child;if(P.tag===22&&A){var H=P.memoizedState!==null||dh;if(!H){var Y=P.alternate,te=Y!==null&&Y.memoizedState!==null||ri;Y=dh;var be=ri;if(dh=H,(ri=te)&&!be)for(Je=P;Je!==null;)H=Je,te=H.child,H.tag===22&&H.memoizedState!==null?wE(P):te!==null?(te.return=H,Je=te):wE(P);for(;k!==null;)Je=k,vE(k),k=k.sibling;Je=P,dh=Y,ri=be}yE(o)}else(P.subtreeFlags&8772)!==0&&k!==null?(k.return=P,Je=k):yE(o)}}function yE(o){for(;Je!==null;){var d=Je;if((d.flags&8772)!==0){var w=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:ri||fh(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!ri)if(w===null)A.componentDidMount();else{var P=d.elementType===d.type?w.memoizedProps:Aa(d.type,w.memoizedProps);A.componentDidUpdate(P,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var k=d.updateQueue;k!==null&&b2(d,k,A);break;case 3:var H=d.updateQueue;if(H!==null){if(w=null,d.child!==null)switch(d.child.tag){case 5:w=d.child.stateNode;break;case 1:w=d.child.stateNode}b2(d,H,w)}break;case 5:var Y=d.stateNode;if(w===null&&d.flags&4){w=Y;var te=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":te.autoFocus&&w.focus();break;case"img":te.src&&(w.src=te.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var be=d.alternate;if(be!==null){var ke=be.memoizedState;if(ke!==null){var Re=ke.dehydrated;Re!==null&&ba(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ri||d.flags&512&&Bg(d)}catch(je){Wr(d,d.return,je)}}if(d===o){Je=null;break}if(w=d.sibling,w!==null){w.return=d.return,Je=w;break}Je=d.return}}function bE(o){for(;Je!==null;){var d=Je;if(d===o){Je=null;break}var w=d.sibling;if(w!==null){w.return=d.return,Je=w;break}Je=d.return}}function wE(o){for(;Je!==null;){var d=Je;try{switch(d.tag){case 0:case 11:case 15:var w=d.return;try{fh(4,d)}catch(te){Wr(d,w,te)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var P=d.return;try{A.componentDidMount()}catch(te){Wr(d,P,te)}}var k=d.return;try{Bg(d)}catch(te){Wr(d,k,te)}break;case 5:var H=d.return;try{Bg(d)}catch(te){Wr(d,H,te)}}}catch(te){Wr(d,d.return,te)}if(d===o){Je=null;break}var Y=d.sibling;if(Y!==null){Y.return=d.return,Je=Y;break}Je=d.return}}var eR=Math.ceil,hh=B.ReactCurrentDispatcher,Ug=B.ReactCurrentOwner,na=B.ReactCurrentBatchConfig,Wt=0,Nn=null,nn=null,zn=0,Mi=0,xc=ho(0),vn=0,Xu=null,sl=0,ph=0,$g=0,Qu=null,xi=null,Hg=0,vc=1/0,Cs=null,mh=!1,Wg=null,yo=null,gh=!1,bo=null,xh=0,Zu=0,Vg=null,vh=-1,yh=0;function ci(){return(Wt&6)!==0?Xt():vh!==-1?vh:vh=Xt()}function wo(o){return(o.mode&1)===0?1:(Wt&2)!==0&&zn!==0?zn&-zn:L8.transition!==null?(yh===0&&(yh=hn()),yh):(o=It,o!==0||(o=window.event,o=o===void 0?16:Cu(o.type)),o)}function Na(o,d,w,A){if(50<Zu)throw Zu=0,Vg=null,Error(r(185));q(o,w,A),((Wt&2)===0||o!==Nn)&&(o===Nn&&((Wt&2)===0&&(ph|=w),vn===4&&Eo(o,zn)),vi(o,A),w===1&&Wt===0&&(d.mode&1)===0&&(vc=Xt()+500,Gf&&mo()))}function vi(o,d){var w=o.callbackNode;to(o,d);var A=Oi(o,o===Nn?zn:0);if(A===0)w!==null&&Lr(w),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(w!=null&&Lr(w),d===1)o.tag===0?D8(SE.bind(null,o)):l2(SE.bind(null,o)),P8(function(){(Wt&6)===0&&mo()}),w=null;else{switch(If(A)){case 1:w=Ie;break;case 4:w=_f;break;case 16:w=lr;break;case 536870912:w=Nf;break;default:w=lr}w=jE(w,EE.bind(null,o))}o.callbackPriority=d,o.callbackNode=w}}function EE(o,d){if(vh=-1,yh=0,(Wt&6)!==0)throw Error(r(327));var w=o.callbackNode;if(yc()&&o.callbackNode!==w)return null;var A=Oi(o,o===Nn?zn:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=bh(o,A);else{d=A;var P=Wt;Wt|=2;var k=CE();(Nn!==o||zn!==d)&&(Cs=null,vc=Xt()+500,ll(o,d));do try{nR();break}catch(Y){AE(o,Y)}while(!0);cg(),hh.current=k,Wt=P,nn!==null?d=0:(Nn=null,zn=0,d=vn)}if(d!==0){if(d===2&&(P=Qt(o),P!==0&&(A=P,d=qg(o,P))),d===1)throw w=Xu,ll(o,0),Eo(o,A),vi(o,Xt()),w;if(d===6)Eo(o,A);else{if(P=o.current.alternate,(A&30)===0&&!tR(P)&&(d=bh(o,A),d===2&&(k=Qt(o),k!==0&&(A=k,d=qg(o,k))),d===1))throw w=Xu,ll(o,0),Eo(o,A),vi(o,Xt()),w;switch(o.finishedWork=P,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:cl(o,xi,Cs);break;case 3:if(Eo(o,A),(A&130023424)===A&&(d=Hg+500-Xt(),10<d)){if(Oi(o,0)!==0)break;if(P=o.suspendedLanes,(P&A)!==A){ci(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=Zm(cl.bind(null,o,xi,Cs),d);break}cl(o,xi,Cs);break;case 4:if(Eo(o,A),(A&4194240)===A)break;for(d=o.eventTimes,P=-1;0<A;){var H=31-oi(A);k=1<<H,H=d[H],H>P&&(P=H),A&=~k}if(A=P,A=Xt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*eR(A/1960))-A,10<A){o.timeoutHandle=Zm(cl.bind(null,o,xi,Cs),A);break}cl(o,xi,Cs);break;case 5:cl(o,xi,Cs);break;default:throw Error(r(329))}}}return vi(o,Xt()),o.callbackNode===w?EE.bind(null,o):null}function qg(o,d){var w=Qu;return o.current.memoizedState.isDehydrated&&(ll(o,d).flags|=256),o=bh(o,d),o!==2&&(d=xi,xi=w,d!==null&&Gg(d)),o}function Gg(o){xi===null?xi=o:xi.push.apply(xi,o)}function tR(o){for(var d=o;;){if(d.flags&16384){var w=d.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var P=w[A],k=P.getSnapshot;P=P.value;try{if(!oe(k(),P))return!1}catch{return!1}}}if(w=d.child,d.subtreeFlags&16384&&w!==null)w.return=d,d=w;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Eo(o,d){for(d&=~$g,d&=~ph,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var w=31-oi(d),A=1<<w;o[w]=-1,d&=~A}}function SE(o){if((Wt&6)!==0)throw Error(r(327));yc();var d=Oi(o,0);if((d&1)===0)return vi(o,Xt()),null;var w=bh(o,d);if(o.tag!==0&&w===2){var A=Qt(o);A!==0&&(d=A,w=qg(o,A))}if(w===1)throw w=Xu,ll(o,0),Eo(o,d),vi(o,Xt()),w;if(w===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,cl(o,xi,Cs),vi(o,Xt()),null}function Kg(o,d){var w=Wt;Wt|=1;try{return o(d)}finally{Wt=w,Wt===0&&(vc=Xt()+500,Gf&&mo())}}function ol(o){bo!==null&&bo.tag===0&&(Wt&6)===0&&yc();var d=Wt;Wt|=1;var w=na.transition,A=It;try{if(na.transition=null,It=1,o)return o()}finally{It=A,na.transition=w,Wt=d,(Wt&6)===0&&mo()}}function Yg(){Mi=xc.current,Er(xc)}function ll(o,d){o.finishedWork=null,o.finishedLanes=0;var w=o.timeoutHandle;if(w!==-1&&(o.timeoutHandle=-1,j8(w)),nn!==null)for(w=nn.return;w!==null;){var A=w;switch(ig(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&Vf();break;case 3:pc(),Er(pi),Er(Jn),xg();break;case 5:mg(A);break;case 4:pc();break;case 13:Er(Fr);break;case 19:Er(Fr);break;case 10:ug(A.type._context);break;case 22:case 23:Yg()}w=w.return}if(Nn=o,nn=o=So(o.current,null),zn=Mi=d,vn=0,Xu=null,$g=ph=sl=0,xi=Qu=null,nl!==null){for(d=0;d<nl.length;d++)if(w=nl[d],A=w.interleaved,A!==null){w.interleaved=null;var P=A.next,k=w.pending;if(k!==null){var H=k.next;k.next=P,A.next=H}w.pending=A}nl=null}return o}function AE(o,d){do{var w=nn;try{if(cg(),nh.current=oh,ih){for(var A=zr.memoizedState;A!==null;){var P=A.queue;P!==null&&(P.pending=null),A=A.next}ih=!1}if(al=0,_n=xn=zr=null,Wu=!1,Vu=0,Ug.current=null,w===null||w.return===null){vn=1,Xu=d,nn=null;break}e:{var k=o,H=w.return,Y=w,te=d;if(d=zn,Y.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var be=te,ke=Y,Re=ke.tag;if((ke.mode&1)===0&&(Re===0||Re===11||Re===15)){var je=ke.alternate;je?(ke.updateQueue=je.updateQueue,ke.memoizedState=je.memoizedState,ke.lanes=je.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Ye=Y2(H);if(Ye!==null){Ye.flags&=-257,X2(Ye,H,Y,k,d),Ye.mode&1&&K2(k,be,d),d=Ye,te=be;var rt=d.updateQueue;if(rt===null){var it=new Set;it.add(te),d.updateQueue=it}else rt.add(te);break e}else{if((d&1)===0){K2(k,be,d),Xg();break e}te=Error(r(426))}}else if(Or&&Y.mode&1){var Zr=Y2(H);if(Zr!==null){(Zr.flags&65536)===0&&(Zr.flags|=256),X2(Zr,H,Y,k,d),og(mc(te,Y));break e}}k=te=mc(te,Y),vn!==4&&(vn=2),Qu===null?Qu=[k]:Qu.push(k),k=H;do{switch(k.tag){case 3:k.flags|=65536,d&=-d,k.lanes|=d;var de=q2(k,te,d);y2(k,de);break e;case 1:Y=te;var ie=k.type,he=k.stateNode;if((k.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(yo===null||!yo.has(he)))){k.flags|=65536,d&=-d,k.lanes|=d;var Be=G2(k,Y,d);y2(k,Be);break e}}k=k.return}while(k!==null)}NE(w)}catch(st){d=st,nn===w&&w!==null&&(nn=w=w.return);continue}break}while(!0)}function CE(){var o=hh.current;return hh.current=oh,o===null?oh:o}function Xg(){(vn===0||vn===3||vn===2)&&(vn=4),Nn===null||(sl&268435455)===0&&(ph&268435455)===0||Eo(Nn,zn)}function bh(o,d){var w=Wt;Wt|=2;var A=CE();(Nn!==o||zn!==d)&&(Cs=null,ll(o,d));do try{rR();break}catch(P){AE(o,P)}while(!0);if(cg(),Wt=w,hh.current=A,nn!==null)throw Error(r(261));return Nn=null,zn=0,vn}function rR(){for(;nn!==null;)_E(nn)}function nR(){for(;nn!==null&&!fr();)_E(nn)}function _E(o){var d=TE(o.alternate,o,Mi);o.memoizedProps=o.pendingProps,d===null?NE(o):nn=d,Ug.current=null}function NE(o){var d=o;do{var w=d.alternate;if(o=d.return,(d.flags&32768)===0){if(w=Y8(w,d,Mi),w!==null){nn=w;return}}else{if(w=X8(w,d),w!==null){w.flags&=32767,nn=w;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vn=6,nn=null;return}}if(d=d.sibling,d!==null){nn=d;return}nn=d=o}while(d!==null);vn===0&&(vn=5)}function cl(o,d,w){var A=It,P=na.transition;try{na.transition=null,It=1,iR(o,d,w,A)}finally{na.transition=P,It=A}return null}function iR(o,d,w,A){do yc();while(bo!==null);if((Wt&6)!==0)throw Error(r(327));w=o.finishedWork;var P=o.finishedLanes;if(w===null)return null;if(o.finishedWork=null,o.finishedLanes=0,w===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var k=w.lanes|w.childLanes;if(lt(o,k),o===Nn&&(nn=Nn=null,zn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||gh||(gh=!0,jE(lr,function(){return yc(),null})),k=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||k){k=na.transition,na.transition=null;var H=It;It=1;var Y=Wt;Wt|=4,Ug.current=null,Z8(o,w),xE(w,o),Zn(Xm),Ua=!!Ym,Xm=Ym=null,o.current=w,J8(w),Cf(),Wt=Y,It=H,na.transition=k}else o.current=w;if(gh&&(gh=!1,bo=o,xh=P),k=o.pendingLanes,k===0&&(yo=null),kt(w.stateNode),vi(o,Xt()),d!==null)for(A=o.onRecoverableError,w=0;w<d.length;w++)P=d[w],A(P.value,{componentStack:P.stack,digest:P.digest});if(mh)throw mh=!1,o=Wg,Wg=null,o;return(xh&1)!==0&&o.tag!==0&&yc(),k=o.pendingLanes,(k&1)!==0?o===Vg?Zu++:(Zu=0,Vg=o):Zu=0,mo(),null}function yc(){if(bo!==null){var o=If(xh),d=na.transition,w=It;try{if(na.transition=null,It=16>o?16:o,bo===null)var A=!1;else{if(o=bo,bo=null,xh=0,(Wt&6)!==0)throw Error(r(331));var P=Wt;for(Wt|=4,Je=o.current;Je!==null;){var k=Je,H=k.child;if((Je.flags&16)!==0){var Y=k.deletions;if(Y!==null){for(var te=0;te<Y.length;te++){var be=Y[te];for(Je=be;Je!==null;){var ke=Je;switch(ke.tag){case 0:case 11:case 15:Yu(8,ke,k)}var Re=ke.child;if(Re!==null)Re.return=ke,Je=Re;else for(;Je!==null;){ke=Je;var je=ke.sibling,Ye=ke.return;if(fE(ke),ke===be){Je=null;break}if(je!==null){je.return=Ye,Je=je;break}Je=Ye}}}var rt=k.alternate;if(rt!==null){var it=rt.child;if(it!==null){rt.child=null;do{var Zr=it.sibling;it.sibling=null,it=Zr}while(it!==null)}}Je=k}}if((k.subtreeFlags&2064)!==0&&H!==null)H.return=k,Je=H;else e:for(;Je!==null;){if(k=Je,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Yu(9,k,k.return)}var de=k.sibling;if(de!==null){de.return=k.return,Je=de;break e}Je=k.return}}var ie=o.current;for(Je=ie;Je!==null;){H=Je;var he=H.child;if((H.subtreeFlags&2064)!==0&&he!==null)he.return=H,Je=he;else e:for(H=ie;Je!==null;){if(Y=Je,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:fh(9,Y)}}catch(st){Wr(Y,Y.return,st)}if(Y===H){Je=null;break e}var Be=Y.sibling;if(Be!==null){Be.return=Y.return,Je=Be;break e}Je=Y.return}}if(Wt=P,mo(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ft,o)}catch{}A=!0}return A}finally{It=w,na.transition=d}}return!1}function IE(o,d,w){d=mc(w,d),d=q2(o,d,1),o=xo(o,d,1),d=ci(),o!==null&&(q(o,1,d),vi(o,d))}function Wr(o,d,w){if(o.tag===3)IE(o,o,w);else for(;d!==null;){if(d.tag===3){IE(d,o,w);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(yo===null||!yo.has(A))){o=mc(w,o),o=G2(d,o,1),d=xo(d,o,1),o=ci(),d!==null&&(q(d,1,o),vi(d,o));break}}d=d.return}}function aR(o,d,w){var A=o.pingCache;A!==null&&A.delete(d),d=ci(),o.pingedLanes|=o.suspendedLanes&w,Nn===o&&(zn&w)===w&&(vn===4||vn===3&&(zn&130023424)===zn&&500>Xt()-Hg?ll(o,0):$g|=w),vi(o,d)}function OE(o,d){d===0&&((o.mode&1)===0?d=1:(d=Yl,Yl<<=1,(Yl&130023424)===0&&(Yl=4194304)));var w=ci();o=Es(o,d),o!==null&&(q(o,d,w),vi(o,w))}function sR(o){var d=o.memoizedState,w=0;d!==null&&(w=d.retryLane),OE(o,w)}function oR(o,d){var w=0;switch(o.tag){case 13:var A=o.stateNode,P=o.memoizedState;P!==null&&(w=P.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),OE(o,w)}var TE;TE=function(o,d,w){if(o!==null)if(o.memoizedProps!==d.pendingProps||pi.current)gi=!0;else{if((o.lanes&w)===0&&(d.flags&128)===0)return gi=!1,K8(o,d,w);gi=(o.flags&131072)!==0}else gi=!1,Or&&(d.flags&1048576)!==0&&c2(d,Yf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;uh(o,d),o=d.pendingProps;var P=oc(d,Jn.current);hc(d,w),P=bg(null,d,A,o,P,w);var k=wg();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,mi(A)?(k=!0,qf(d)):k=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,hg(d),P.updater=lh,d.stateNode=P,P._reactInternals=d,Ng(d,A,o,w),d=jg(null,d,A,!0,k,w)):(d.tag=0,Or&&k&&ng(d),li(null,d,P,w),d=d.child),d;case 16:A=d.elementType;e:{switch(uh(o,d),o=d.pendingProps,P=A._init,A=P(A._payload),d.type=A,P=d.tag=cR(A),o=Aa(A,o),P){case 0:d=Tg(null,d,A,o,w);break e;case 1:d=rE(null,d,A,o,w);break e;case 11:d=Q2(null,d,A,o,w);break e;case 14:d=Z2(null,d,A,Aa(A.type,o),w);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:Aa(A,P),Tg(o,d,A,P,w);case 1:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:Aa(A,P),rE(o,d,A,P,w);case 3:e:{if(nE(d),o===null)throw Error(r(387));A=d.pendingProps,k=d.memoizedState,P=k.element,v2(o,d),th(d,A,null,w);var H=d.memoizedState;if(A=H.element,k.isDehydrated)if(k={element:A,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){P=mc(Error(r(423)),d),d=iE(o,d,A,w,P);break e}else if(A!==P){P=mc(Error(r(424)),d),d=iE(o,d,A,w,P);break e}else for(Ri=fo(d.stateNode.containerInfo.firstChild),ki=d,Or=!0,Sa=null,w=g2(d,null,A,w),d.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(uc(),A===P){d=As(o,d,w);break e}li(o,d,A,w)}d=d.child}return d;case 5:return w2(d),o===null&&sg(d),A=d.type,P=d.pendingProps,k=o!==null?o.memoizedProps:null,H=P.children,Qm(A,P)?H=null:k!==null&&Qm(A,k)&&(d.flags|=32),tE(o,d),li(o,d,H,w),d.child;case 6:return o===null&&sg(d),null;case 13:return aE(o,d,w);case 4:return pg(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=dc(d,null,A,w):li(o,d,A,w),d.child;case 11:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:Aa(A,P),Q2(o,d,A,P,w);case 7:return li(o,d,d.pendingProps,w),d.child;case 8:return li(o,d,d.pendingProps.children,w),d.child;case 12:return li(o,d,d.pendingProps.children,w),d.child;case 10:e:{if(A=d.type._context,P=d.pendingProps,k=d.memoizedProps,H=P.value,mr(Zf,A._currentValue),A._currentValue=H,k!==null)if(oe(k.value,H)){if(k.children===P.children&&!pi.current){d=As(o,d,w);break e}}else for(k=d.child,k!==null&&(k.return=d);k!==null;){var Y=k.dependencies;if(Y!==null){H=k.child;for(var te=Y.firstContext;te!==null;){if(te.context===A){if(k.tag===1){te=Ss(-1,w&-w),te.tag=2;var be=k.updateQueue;if(be!==null){be=be.shared;var ke=be.pending;ke===null?te.next=te:(te.next=ke.next,ke.next=te),be.pending=te}}k.lanes|=w,te=k.alternate,te!==null&&(te.lanes|=w),dg(k.return,w,d),Y.lanes|=w;break}te=te.next}}else if(k.tag===10)H=k.type===d.type?null:k.child;else if(k.tag===18){if(H=k.return,H===null)throw Error(r(341));H.lanes|=w,Y=H.alternate,Y!==null&&(Y.lanes|=w),dg(H,w,d),H=k.sibling}else H=k.child;if(H!==null)H.return=k;else for(H=k;H!==null;){if(H===d){H=null;break}if(k=H.sibling,k!==null){k.return=H.return,H=k;break}H=H.return}k=H}li(o,d,P.children,w),d=d.child}return d;case 9:return P=d.type,A=d.pendingProps.children,hc(d,w),P=ta(P),A=A(P),d.flags|=1,li(o,d,A,w),d.child;case 14:return A=d.type,P=Aa(A,d.pendingProps),P=Aa(A.type,P),Z2(o,d,A,P,w);case 15:return J2(o,d,d.type,d.pendingProps,w);case 17:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:Aa(A,P),uh(o,d),d.tag=1,mi(A)?(o=!0,qf(d)):o=!1,hc(d,w),W2(d,A,P),Ng(d,A,P,w),jg(null,d,A,!0,o,w);case 19:return oE(o,d,w);case 22:return eE(o,d,w)}throw Error(r(156,d.tag))};function jE(o,d){return Xn(o,d)}function lR(o,d,w,A){this.tag=o,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(o,d,w,A){return new lR(o,d,w,A)}function Qg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function cR(o){if(typeof o=="function")return Qg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ae)return 11;if(o===re)return 14}return 2}function So(o,d){var w=o.alternate;return w===null?(w=ia(o.tag,d,o.key,o.mode),w.elementType=o.elementType,w.type=o.type,w.stateNode=o.stateNode,w.alternate=o,o.alternate=w):(w.pendingProps=d,w.type=o.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=o.flags&14680064,w.childLanes=o.childLanes,w.lanes=o.lanes,w.child=o.child,w.memoizedProps=o.memoizedProps,w.memoizedState=o.memoizedState,w.updateQueue=o.updateQueue,d=o.dependencies,w.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},w.sibling=o.sibling,w.index=o.index,w.ref=o.ref,w}function wh(o,d,w,A,P,k){var H=2;if(A=o,typeof o=="function")Qg(o)&&(H=1);else if(typeof o=="string")H=5;else e:switch(o){case V:return ul(w.children,P,k,d);case Z:H=8,P|=8;break;case K:return o=ia(12,w,d,P|2),o.elementType=K,o.lanes=k,o;case Se:return o=ia(13,w,d,P),o.elementType=Se,o.lanes=k,o;case _e:return o=ia(19,w,d,P),o.elementType=_e,o.lanes=k,o;case le:return Eh(w,P,k,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ge:H=10;break e;case se:H=9;break e;case ae:H=11;break e;case re:H=14;break e;case Fe:H=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=ia(H,w,d,P),d.elementType=o,d.type=A,d.lanes=k,d}function ul(o,d,w,A){return o=ia(7,o,A,d),o.lanes=w,o}function Eh(o,d,w,A){return o=ia(22,o,A,d),o.elementType=le,o.lanes=w,o.stateNode={isHidden:!1},o}function Zg(o,d,w){return o=ia(6,o,null,d),o.lanes=w,o}function Jg(o,d,w){return d=ia(4,o.children!==null?o.children:[],o.key,d),d.lanes=w,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function uR(o,d,w,A,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ue(0),this.expirationTimes=ue(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ue(0),this.identifierPrefix=A,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function e1(o,d,w,A,P,k,H,Y,te){return o=new uR(o,d,w,Y,te),d===1?(d=1,k===!0&&(d|=8)):d=0,k=ia(3,null,null,d),o.current=k,k.stateNode=o,k.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(k),o}function dR(o,d,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:A==null?null:""+A,children:o,containerInfo:d,implementation:w}}function PE(o){if(!o)return po;o=o._reactInternals;e:{if(at(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(mi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var w=o.type;if(mi(w))return s2(o,w,d)}return d}function kE(o,d,w,A,P,k,H,Y,te){return o=e1(w,A,!0,o,P,k,H,Y,te),o.context=PE(null),w=o.current,A=ci(),P=wo(w),k=Ss(A,P),k.callback=d??null,xo(w,k,P),o.current.lanes=P,q(o,P,A),vi(o,A),o}function Sh(o,d,w,A){var P=d.current,k=ci(),H=wo(P);return w=PE(w),d.context===null?d.context=w:d.pendingContext=w,d=Ss(k,H),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=xo(P,d,H),o!==null&&(Na(o,P,H,k),eh(o,P,H)),H}function Ah(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function RE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var w=o.retryLane;o.retryLane=w!==0&&w<d?w:d}}function t1(o,d){RE(o,d),(o=o.alternate)&&RE(o,d)}function fR(){return null}var ME=typeof reportError=="function"?reportError:function(o){console.error(o)};function r1(o){this._internalRoot=o}Ch.prototype.render=r1.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));Sh(o,d,null,null)},Ch.prototype.unmount=r1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;ol(function(){Sh(null,o,null,null)}),d[vs]=null}};function Ch(o){this._internalRoot=o}Ch.prototype.unstable_scheduleHydration=function(o){if(o){var d=hr();o={blockedOn:null,target:o,priority:d};for(var w=0;w<Dn.length&&d!==0&&d<Dn[w].priority;w++);Dn.splice(w,0,o),w===0&&Tf(o)}};function n1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function _h(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function DE(){}function hR(o,d,w,A,P){if(P){if(typeof A=="function"){var k=A;A=function(){var be=Ah(H);k.call(be)}}var H=kE(d,A,o,0,null,!1,!1,"",DE);return o._reactRootContainer=H,o[vs]=H.current,Du(o.nodeType===8?o.parentNode:o),ol(),H}for(;P=o.lastChild;)o.removeChild(P);if(typeof A=="function"){var Y=A;A=function(){var be=Ah(te);Y.call(be)}}var te=e1(o,0,!1,null,null,!1,!1,"",DE);return o._reactRootContainer=te,o[vs]=te.current,Du(o.nodeType===8?o.parentNode:o),ol(function(){Sh(d,te,w,A)}),te}function Nh(o,d,w,A,P){var k=w._reactRootContainer;if(k){var H=k;if(typeof P=="function"){var Y=P;P=function(){var te=Ah(H);Y.call(te)}}Sh(d,H,o,P)}else H=hR(w,d,o,P,A);return Ah(H)}Xl=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var w=cr(d.pendingLanes);w!==0&&($r(d,w|1),vi(d,Xt()),(Wt&6)===0&&(vc=Xt()+500,mo()))}break;case 13:ol(function(){var A=Es(o,1);if(A!==null){var P=ci();Na(A,o,1,P)}}),t1(o,1)}},Qn=function(o){if(o.tag===13){var d=Es(o,134217728);if(d!==null){var w=ci();Na(d,o,134217728,w)}t1(o,134217728)}},ct=function(o){if(o.tag===13){var d=wo(o),w=Es(o,d);if(w!==null){var A=ci();Na(w,o,d,A)}t1(o,d)}},hr=function(){return It},Eu=function(o,d){var w=It;try{return It=o,d()}finally{It=w}},ds=function(o,d,w){switch(d){case"input":if(Ot(o,w),d=w.name,w.type==="radio"&&d!=null){for(w=o;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<w.length;d++){var A=w[d];if(A!==o&&A.form===o.form){var P=Wf(A);if(!P)throw Error(r(90));we(A),Ot(A,P)}}}break;case"textarea":Gn(o,w);break;case"select":d=w.value,d!=null&&Ve(o,!!w.multiple,d,!1)}},wt=Kg,mt=ol;var pR={usingClientEntryPoint:!1,Events:[Fu,ac,Wf,Ki,An,Kg]},Ju={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mR={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Yi(o),o===null?null:o.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||fR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{Ft=Ih.inject(mR),Nt=Ih}catch{}}return yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pR,yi.createPortal=function(o,d){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(d))throw Error(r(200));return dR(o,d,null,w)},yi.createRoot=function(o,d){if(!n1(o))throw Error(r(299));var w=!1,A="",P=ME;return d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=e1(o,1,!1,null,null,w,!1,A,P),o[vs]=d.current,Du(o.nodeType===8?o.parentNode:o),new r1(d)},yi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Yi(d),o=o===null?null:o.stateNode,o},yi.flushSync=function(o){return ol(o)},yi.hydrate=function(o,d,w){if(!_h(d))throw Error(r(200));return Nh(null,o,d,!0,w)},yi.hydrateRoot=function(o,d,w){if(!n1(o))throw Error(r(405));var A=w!=null&&w.hydratedSources||null,P=!1,k="",H=ME;if(w!=null&&(w.unstable_strictMode===!0&&(P=!0),w.identifierPrefix!==void 0&&(k=w.identifierPrefix),w.onRecoverableError!==void 0&&(H=w.onRecoverableError)),d=kE(d,null,o,1,w??null,P,!1,k,H),o[vs]=d.current,Du(o),A)for(o=0;o<A.length;o++)w=A[o],P=w._getVersion,P=P(w._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[w,P]:d.mutableSourceEagerHydrationData.push(w,P);return new Ch(d)},yi.render=function(o,d,w){if(!_h(d))throw Error(r(200));return Nh(null,o,d,!1,w)},yi.unmountComponentAtNode=function(o){if(!_h(o))throw Error(r(40));return o._reactRootContainer?(ol(function(){Nh(null,null,o,!1,function(){o._reactRootContainer=null,o[vs]=null})}),!0):!1},yi.unstable_batchedUpdates=Kg,yi.unstable_renderSubtreeIntoContainer=function(o,d,w,A){if(!_h(w))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Nh(o,d,w,!1,A)},yi.version="18.3.1-next-f1338f8080-20240426",yi}var WE;function X3(){if(WE)return s1.exports;WE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),s1.exports=SR(),s1.exports}var VE;function AR(){if(VE)return Th;VE=1;var e=X3();return Th.createRoot=e.createRoot,Th.hydrateRoot=e.hydrateRoot,Th}var CR=AR();const _R=ma(CR);var qE="popstate";function NR(e={}){function t(i,a){let{pathname:c="/",search:f="",hash:p=""}=Wl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),nv("",{pathname:c,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=i.location.href,h=p.indexOf("#");f=h===-1?p:p.slice(0,h)}return f+"#"+(typeof a=="string"?a:Cd(a))}function n(i,a){Vi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return OR(t,r,n,e)}function Rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IR(){return Math.random().toString(36).substring(2,10)}function GE(e,t){return{usr:e.state,key:e.key,idx:t}}function nv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wl(t):t,state:r,key:t&&t.key||n||IR()}}function Cd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function OR(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,c=i.history,f="POP",p=null,h=x();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function x(){return(c.state||{idx:null}).idx}function y(){f="POP";let T=x(),M=T==null?null:T-h;h=T,p&&p({action:f,location:O.location,delta:M})}function S(T,M){f="PUSH";let D=nv(O.location,T,M);r&&r(D,T),h=x()+1;let R=GE(D,h),B=O.createHref(D);try{c.pushState(R,"",B)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(B)}a&&p&&p({action:f,location:O.location,delta:1})}function C(T,M){f="REPLACE";let D=nv(O.location,T,M);r&&r(D,T),h=x();let R=GE(D,h),B=O.createHref(D);c.replaceState(R,"",B),a&&p&&p({action:f,location:O.location,delta:0})}function I(T){return TR(T)}let O={get action(){return f},get location(){return e(i,c)},listen(T){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(qE,y),p=T,()=>{i.removeEventListener(qE,y),p=null}},createHref(T){return t(i,T)},createURL:I,encodeLocation(T){let M=I(T);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:C,go(T){return c.go(T)}};return O}function TR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Cd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Q3(e,t,r="/"){return jR(e,t,r,!1)}function jR(e,t,r,n){let i=typeof t=="string"?Wl(t):t,a=Bs(i.pathname||"/",r);if(a==null)return null;let c=Z3(e);PR(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let h=HR(a);f=UR(c[p],h,n)}return f}function Z3(e,t=[],r=[],n="",i=!1){let a=(c,f,p=i,h)=>{let x={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(n)&&p)return;Rr(x.relativePath.startsWith(n),`Absolute route path "${x.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(n.length)}let y=Rs([n,x.relativePath]),S=r.concat(x);c.children&&c.children.length>0&&(Rr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Z3(c.children,t,S,y,p)),!(c.path==null&&!c.index)&&t.push({path:y,score:FR(y,c.index),routesMeta:S})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))a(c,f);else for(let p of J3(c.path))a(c,f,!0,p)}),t}function J3(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let c=J3(n.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),i&&f.push(...c),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function PR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kR=/^:[\w-]+$/,RR=3,MR=2,DR=1,LR=10,BR=-2,KE=e=>e==="*";function FR(e,t){let r=e.split("/"),n=r.length;return r.some(KE)&&(n+=BR),t&&(n+=MR),r.filter(i=>!KE(i)).reduce((i,a)=>i+(kR.test(a)?RR:a===""?DR:LR),n)}function zR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function UR(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],h=f===n.length-1,x=a==="/"?t:t.slice(a.length)||"/",y=x0({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},x),S=p.route;if(!y&&h&&r&&!n[n.length-1].route.index&&(y=x0({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Rs([a,y.pathname]),pathnameBase:GR(Rs([a,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(a=Rs([a,y.pathnameBase]))}return c}function x0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$R(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((h,{paramName:x,isOptional:y},S)=>{if(x==="*"){let I=f[S]||"";c=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const C=f[S];return y&&!C?h[x]=void 0:h[x]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:e}}function $R(e,t=!1,r=!0){Vi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function HR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WR=e=>eI.test(e);function VR(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Wl(e):e,a;if(r)if(WR(r))a=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?a=YE(r.substring(1),"/"):a=YE(r,t)}else a=t;return{pathname:a,search:KR(n),hash:YR(i)}}function YE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function c1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Oy(e){let t=qR(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ty(e,t,r,n=!1){let i;typeof e=="string"?i=Wl(e):(i={...e},Rr(!i.pathname||!i.pathname.includes("?"),c1("?","pathname","search",i)),Rr(!i.pathname||!i.pathname.includes("#"),c1("#","pathname","hash",i)),Rr(!i.search||!i.search.includes("#"),c1("#","search","hash",i)));let a=e===""||i.pathname==="",c=a?"/":i.pathname,f;if(c==null)f=r;else{let y=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),y-=1;i.pathname=S.join("/")}f=y>=0?t[y]:"/"}let p=VR(i,f),h=c&&c!=="/"&&c.endsWith("/"),x=(a||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||x)&&(p.pathname+="/"),p}var Rs=e=>e.join("/").replace(/\/\/+/g,"/"),GR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),KR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,YR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,XR=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function QR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function ZR(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rI(e,t){let r=e;if(typeof r!="string"||!eI.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(tI)try{let a=new URL(window.location.href),c=r.startsWith("//")?new URL(a.protocol+r):new URL(r),f=Bs(c.pathname,t);c.origin===a.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Vi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nI=["POST","PUT","PATCH","DELETE"];new Set(nI);var JR=["GET",...nI];new Set(JR);var ru=_.createContext(null);ru.displayName="DataRouter";var Np=_.createContext(null);Np.displayName="DataRouterState";var eM=_.createContext(!1),iI=_.createContext({isTransitioning:!1});iI.displayName="ViewTransition";var tM=_.createContext(new Map);tM.displayName="Fetchers";var rM=_.createContext(null);rM.displayName="Await";var Gi=_.createContext(null);Gi.displayName="Navigation";var Yd=_.createContext(null);Yd.displayName="Location";var rs=_.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var jy=_.createContext(null);jy.displayName="RouteError";var aI="REACT_ROUTER_ERROR",nM="REDIRECT",iM="ROUTE_ERROR_RESPONSE";function aM(e){if(e.startsWith(`${aI}:${nM}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function sM(e){if(e.startsWith(`${aI}:${iM}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new XR(t.status,t.statusText,t.data)}catch{}}function oM(e,{relative:t}={}){Rr(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(Gi),{hash:i,pathname:a,search:c}=Xd(e,{relative:t}),f=a;return r!=="/"&&(f=a==="/"?r:Rs([r,a])),n.createHref({pathname:f,search:c,hash:i})}function nu(){return _.useContext(Yd)!=null}function La(){return Rr(nu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Yd).location}var sI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oI(e){_.useContext(Gi).static||_.useLayoutEffect(e)}function Ip(){let{isDataRoute:e}=_.useContext(rs);return e?bM():lM()}function lM(){Rr(nu(),"useNavigate() may be used only in the context of a <Router> component.");let e=_.useContext(ru),{basename:t,navigator:r}=_.useContext(Gi),{matches:n}=_.useContext(rs),{pathname:i}=La(),a=JSON.stringify(Oy(n)),c=_.useRef(!1);return oI(()=>{c.current=!0}),_.useCallback((p,h={})=>{if(Vi(c.current,sI),!c.current)return;if(typeof p=="number"){r.go(p);return}let x=Ty(p,JSON.parse(a),i,h.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Rs([t,x.pathname])),(h.replace?r.replace:r.push)(x,h.state,h)},[t,r,a,i,e])}_.createContext(null);function Xd(e,{relative:t}={}){let{matches:r}=_.useContext(rs),{pathname:n}=La(),i=JSON.stringify(Oy(r));return _.useMemo(()=>Ty(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function cM(e,t){return lI(e,t)}function lI(e,t,r,n,i){Rr(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(Gi),{matches:c}=_.useContext(rs),f=c[c.length-1],p=f?f.params:{},h=f?f.pathname:"/",x=f?f.pathnameBase:"/",y=f&&f.route;{let D=y&&y.path||"";uI(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=La(),C;if(t){let D=typeof t=="string"?Wl(t):t;Rr(x==="/"||D.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${D.pathname}" was given in the \`location\` prop.`),C=D}else C=S;let I=C.pathname||"/",O=I;if(x!=="/"){let D=x.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=Q3(e,{pathname:O});Vi(y||T!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Vi(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=pM(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:Rs([x,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:Rs([x,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),c,r,n,i);return t&&M?_.createElement(Yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},M):M}function uM(){let e=yM(),t=QR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,c)}var dM=_.createElement(uM,null),cI=class extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=sM(e.digest);r&&(e=r)}let t=e!==void 0?_.createElement(rs.Provider,{value:this.props.routeContext},_.createElement(jy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?_.createElement(fM,{error:e},t):t}};cI.contextType=eM;var u1=new WeakMap;function fM({children:e,error:t}){let{basename:r}=_.useContext(Gi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=aM(t.digest);if(n){let i=u1.get(t);if(i)throw i;let a=rI(n.location,r);if(tI&&!u1.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw u1.set(t,c),c}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function hM({routeContext:e,match:t,children:r}){let n=_.useContext(ru);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(rs.Provider,{value:e},r)}function pM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,c=r?.errors;if(c!=null){let x=a.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Rr(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,x+1))}let f=!1,p=-1;if(r)for(let x=0;x<a.length;x++){let y=a[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:S,errors:C}=r,I=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||I){f=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}}let h=r&&n?(x,y)=>{n(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:ZR(r.matches),errorInfo:y})}:void 0;return a.reduceRight((x,y,S)=>{let C,I=!1,O=null,T=null;r&&(C=c&&y.route.id?c[y.route.id]:void 0,O=y.route.errorElement||dM,f&&(p<0&&S===0?(uI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,T=null):p===S&&(I=!0,T=y.route.hydrateFallbackElement||null)));let M=t.concat(a.slice(0,S+1)),D=()=>{let R;return C?R=O:I?R=T:y.route.Component?R=_.createElement(y.route.Component,null):y.route.element?R=y.route.element:R=x,_.createElement(hM,{match:y,routeContext:{outlet:x,matches:M,isDataRoute:r!=null},children:R})};return r&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?_.createElement(cI,{location:r.location,revalidation:r.revalidation,component:O,error:C,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:h}):D()},null)}function Py(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mM(e){let t=_.useContext(ru);return Rr(t,Py(e)),t}function gM(e){let t=_.useContext(Np);return Rr(t,Py(e)),t}function xM(e){let t=_.useContext(rs);return Rr(t,Py(e)),t}function ky(e){let t=xM(e),r=t.matches[t.matches.length-1];return Rr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function vM(){return ky("useRouteId")}function yM(){let e=_.useContext(jy),t=gM("useRouteError"),r=ky("useRouteError");return e!==void 0?e:t.errors?.[r]}function bM(){let{router:e}=mM("useNavigate"),t=ky("useNavigate"),r=_.useRef(!1);return oI(()=>{r.current=!0}),_.useCallback(async(i,a={})=>{Vi(r.current,sI),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var XE={};function uI(e,t,r){!t&&!XE[e]&&(XE[e]=!0,Vi(!1,r))}_.memo(wM);function wM({routes:e,future:t,state:r,onError:n}){return lI(e,void 0,r,n,t)}function EM({to:e,replace:t,state:r,relative:n}){Rr(nu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(Gi);Vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(rs),{pathname:c}=La(),f=Ip(),p=Ty(e,Oy(a),c,n==="path"),h=JSON.stringify(p);return _.useEffect(()=>{f(JSON.parse(h),{replace:t,state:r,relative:n})},[f,h,n,t,r]),null}function Ka(e){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SM({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:c}){Rr(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:f,navigator:i,static:a,unstable_useTransitions:c,future:{}}),[f,i,a,c]);typeof r=="string"&&(r=Wl(r));let{pathname:h="/",search:x="",hash:y="",state:S=null,key:C="default"}=r,I=_.useMemo(()=>{let O=Bs(h,f);return O==null?null:{location:{pathname:O,search:x,hash:y,state:S,key:C},navigationType:n}},[f,h,x,y,S,C,n]);return Vi(I!=null,`<Router basename="${f}"> is not able to match the URL "${h}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:_.createElement(Gi.Provider,{value:p},_.createElement(Yd.Provider,{children:t,value:I}))}function AM({children:e,location:t}){return cM(iv(e),t)}function iv(e,t=[]){let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let a=[...t,i];if(n.type===_.Fragment){r.push.apply(r,iv(n.props.children,a));return}Rr(n.type===Ka,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=iv(n.props.children,a)),r.push(c)}),r}var a0="get",s0="application/x-www-form-urlencoded";function Op(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function CM(e){return Op(e)&&e.tagName.toLowerCase()==="button"}function _M(e){return Op(e)&&e.tagName.toLowerCase()==="form"}function NM(e){return Op(e)&&e.tagName.toLowerCase()==="input"}function IM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OM(e,t){return e.button===0&&(!t||t==="_self")&&!IM(e)}var jh=null;function TM(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var jM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d1(e){return e!=null&&!jM.has(e)?(Vi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${s0}"`),null):e}function PM(e,t){let r,n,i,a,c;if(_M(e)){let f=e.getAttribute("action");n=f?Bs(f,t):null,r=e.getAttribute("method")||a0,i=d1(e.getAttribute("enctype"))||s0,a=new FormData(e)}else if(CM(e)||NM(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(n=p?Bs(p,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||a0,i=d1(e.getAttribute("formenctype"))||d1(f.getAttribute("enctype"))||s0,a=new FormData(f,e),!TM()){let{name:h,type:x,value:y}=e;if(x==="image"){let S=h?`${h}.`:"";a.append(`${S}x`,"0"),a.append(`${S}y`,"0")}else h&&a.append(h,y)}}else{if(Op(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=a0,n=null,i=s0,c=e}return a&&i==="text/plain"&&(c=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ry(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kM(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Bs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function RM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DM(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let c=await RM(a,r);return c.links?c.links():[]}return[]}));return zM(n.flat(1).filter(MM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function QE(e,t,r,n,i,a){let c=(p,h)=>r[h]?p.route.id!==r[h].route.id:!0,f=(p,h)=>r[h].pathname!==p.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==p.params["*"];return a==="assets"?t.filter((p,h)=>c(p,h)||f(p,h)):a==="data"?t.filter((p,h)=>{let x=n.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(c(p,h)||f(p,h))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function LM(e,t,{includeHydrateFallback:r}={}){return BM(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function BM(e){return[...new Set(e)]}function FM(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function zM(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(FM(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function dI(){let e=_.useContext(ru);return Ry(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function UM(){let e=_.useContext(Np);return Ry(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var My=_.createContext(void 0);My.displayName="FrameworkContext";function fI(){let e=_.useContext(My);return Ry(e,"You must render this element inside a <HydratedRouter> element"),e}function $M(e,t){let r=_.useContext(My),[n,i]=_.useState(!1),[a,c]=_.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:h,onMouseLeave:x,onTouchStart:y}=t,S=_.useRef(null);_.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let O=M=>{M.forEach(D=>{c(D.isIntersecting)})},T=new IntersectionObserver(O,{threshold:.5});return S.current&&T.observe(S.current),()=>{T.disconnect()}}},[e]),_.useEffect(()=>{if(n){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[n]);let C=()=>{i(!0)},I=()=>{i(!1),c(!1)};return r?e!=="intent"?[a,S,{}]:[a,S,{onFocus:td(f,C),onBlur:td(p,I),onMouseEnter:td(h,C),onMouseLeave:td(x,I),onTouchStart:td(y,C)}]:[!1,S,{}]}function td(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function HM({page:e,...t}){let{router:r}=dI(),n=_.useMemo(()=>Q3(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?_.createElement(VM,{page:e,matches:n,...t}):null}function WM(e){let{manifest:t,routeModules:r}=fI(),[n,i]=_.useState([]);return _.useEffect(()=>{let a=!1;return DM(e,t,r).then(c=>{a||i(c)}),()=>{a=!0}},[e,t,r]),n}function VM({page:e,matches:t,...r}){let n=La(),{future:i,manifest:a,routeModules:c}=fI(),{basename:f}=dI(),{loaderData:p,matches:h}=UM(),x=_.useMemo(()=>QE(e,t,h,a,n,"data"),[e,t,h,a,n]),y=_.useMemo(()=>QE(e,t,h,a,n,"assets"),[e,t,h,a,n]),S=_.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let O=new Set,T=!1;if(t.forEach(D=>{let R=a.routes[D.route.id];!R||!R.hasLoader||(!x.some(B=>B.route.id===D.route.id)&&D.route.id in p&&c[D.route.id]?.shouldRevalidate||R.hasClientLoader?T=!0:O.add(D.route.id))}),O.size===0)return[];let M=kM(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return T&&O.size>0&&M.searchParams.set("_routes",t.filter(D=>O.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[f,i.unstable_trailingSlashAwareDataRequests,p,n,a,x,t,e,c]),C=_.useMemo(()=>LM(y,a),[y,a]),I=WM(y);return _.createElement(_.Fragment,null,S.map(O=>_.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),C.map(O=>_.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),I.map(({key:O,link:T})=>_.createElement("link",{key:O,nonce:r.nonce,...T})))}function qM(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var GM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GM&&(window.__reactRouterVersion="7.12.0")}catch{}function KM({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=_.useRef();i.current==null&&(i.current=NR({window:n,v5Compat:!0}));let a=i.current,[c,f]=_.useState({action:a.action,location:a.location}),p=_.useCallback(h=>{r===!1?f(h):_.startTransition(()=>f(h))},[r]);return _.useLayoutEffect(()=>a.listen(p),[a,p]),_.createElement(SM,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:a,unstable_useTransitions:r})}var hI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=_.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:c,state:f,target:p,to:h,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S,...C},I){let{basename:O,unstable_useTransitions:T}=_.useContext(Gi),M=typeof h=="string"&&hI.test(h),D=rI(h,O);h=D.to;let R=oM(h,{relative:i}),[B,U,$]=$M(n,C),V=ZM(h,{replace:c,state:f,target:p,preventScrollReset:x,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:S,unstable_useTransitions:T});function Z(ge){t&&t(ge),ge.defaultPrevented||V(ge)}let K=_.createElement("a",{...C,...$,href:D.absoluteURL||R,onClick:D.isExternal||a?t:Z,ref:qM(I,U),target:p,"data-discover":!M&&r==="render"?"true":void 0});return B&&!M?_.createElement(_.Fragment,null,K,_.createElement(HM,{page:R})):K});on.displayName="Link";var YM=_.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:c,viewTransition:f,children:p,...h},x){let y=Xd(c,{relative:h.relative}),S=La(),C=_.useContext(Np),{navigator:I,basename:O}=_.useContext(Gi),T=C!=null&&n5(y)&&f===!0,M=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,D=S.pathname,R=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(D=D.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&O&&(R=Bs(R,O)||R);const B=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let U=D===M||!i&&D.startsWith(M)&&D.charAt(B)==="/",$=R!=null&&(R===M||!i&&R.startsWith(M)&&R.charAt(M.length)==="/"),V={isActive:U,isPending:$,isTransitioning:T},Z=U?t:void 0,K;typeof n=="function"?K=n(V):K=[n,U?"active":null,$?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ge=typeof a=="function"?a(V):a;return _.createElement(on,{...h,"aria-current":Z,className:K,ref:x,style:ge,to:c,viewTransition:f},typeof p=="function"?p(V):p)});YM.displayName="NavLink";var XM=_.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:c=a0,action:f,onSubmit:p,relative:h,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S,...C},I)=>{let{unstable_useTransitions:O}=_.useContext(Gi),T=t5(),M=r5(f,{relative:h}),D=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&hI.test(f),B=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,V=$?.getAttribute("formmethod")||c,Z=()=>T($||U.currentTarget,{fetcherKey:t,method:V,navigate:r,replace:i,state:a,relative:h,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S});O&&r!==!1?_.startTransition(()=>Z()):Z()};return _.createElement("form",{ref:I,method:D,action:M,onSubmit:n?p:B,...C,"data-discover":!R&&e==="render"?"true":void 0})});XM.displayName="Form";function QM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pI(e){let t=_.useContext(ru);return Rr(t,QM(e)),t}function ZM(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let h=Ip(),x=La(),y=Xd(e,{relative:a});return _.useCallback(S=>{if(OM(S,t)){S.preventDefault();let C=r!==void 0?r:Cd(x)===Cd(y),I=()=>h(e,{replace:C,state:n,preventScrollReset:i,relative:a,viewTransition:c,unstable_defaultShouldRevalidate:f});p?_.startTransition(()=>I()):I()}},[x,h,y,r,n,t,e,i,a,c,f,p])}var JM=0,e5=()=>`__${String(++JM)}__`;function t5(){let{router:e}=pI("useSubmit"),{basename:t}=_.useContext(Gi),r=vM(),n=e.fetch,i=e.navigate;return _.useCallback(async(a,c={})=>{let{action:f,method:p,encType:h,formData:x,body:y}=PM(a,t);if(c.navigate===!1){let S=c.fetcherKey||e5();await n(S,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:y,formMethod:c.method||p,formEncType:c.encType||h,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:y,formMethod:c.method||p,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function r5(e,{relative:t}={}){let{basename:r}=_.useContext(Gi),n=_.useContext(rs);Rr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Xd(e||".",{relative:t})},c=La();if(e==null){a.search=c.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let x=f.toString();a.search=x?`?${x}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Rs([r,a.pathname])),Cd(a)}function n5(e,{relative:t}={}){let r=_.useContext(iI);Rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pI("useViewTransitionState"),i=Xd(e,{relative:t});if(!r.isTransitioning)return!1;let a=Bs(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Bs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return x0(i.pathname,c)!=null||x0(i.pathname,a)!=null}var Dy=X3(),i5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const a5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nt=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:c,children:f,...p},h)=>_.createElement("svg",{ref:h,...i5,width:i,height:i,stroke:n,strokeWidth:c?Number(a)*24/Number(i):a,className:`lucide lucide-${a5(e)}`,...p},[...t.map(([x,y])=>_.createElement(x,y)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},s5=nt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ly=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),bd=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o5=nt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),mI=nt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Tp=nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Lc=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),l5=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c5=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u5=nt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),gI=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),d5=nt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),f5=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),h5=nt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),xI=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),f1=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),p5=nt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),m5=nt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),vI=nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),By=nt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),g5=nt("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),x5=nt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),yI=nt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),v5=nt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),y5=nt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),b5=nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),_d=nt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ZE=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bI=nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),w5=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Fy=nt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),E5=nt("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),wI=nt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),zy=nt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),EI=nt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),JE=nt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),eS=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jp=nt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),S5=nt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),A5=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),C5=nt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Uy=nt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),_5=nt("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),Pp=nt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Hc=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),SI=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),N5=nt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),I5=nt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Pl=nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),tS=nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),AI=nt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Wc=nt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),CI=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),O5=nt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Nd=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),o0=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Id=nt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),T5=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_I=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),j5=nt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),P5=nt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),Ei=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k5=nt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),R5=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),i=La(),a=Ip();_.useEffect(()=>{const x=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=x=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===x?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,p=x=>{a(x),n(!1)},h=()=>{const x=i.pathname;return x==="/"?g.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[g.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:g.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),g.jsx(on,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:g.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),g.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),g.jsx(on,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:g.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),g.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),g.jsx(on,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:g.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):x.startsWith("/perfum")?g.jsxs(on,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[g.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),g.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):x.startsWith("/regalos")?g.jsxs(on,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[g.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),g.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):g.jsxs(on,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[g.jsx("span",{className:"serif text-xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),g.jsx("span",{className:"text-stone-500 text-[8px] md:text-xs font-medium tracking-[0.15em] md:tracking-[0.2em] uppercase",children:"by tus3b"})]})};return g.jsxs("nav",{className:c,children:[g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex justify-between items-center h-16",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&g.jsx(on,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),g.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),g.jsx("div",{className:"flex items-center",children:h()})]}),g.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&g.jsxs(g.Fragment,{children:[g.jsx(on,{to:"/style",className:f("/style"),children:"Style"}),g.jsx(on,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),g.jsx(on,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),g.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):a("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),g.jsx("div",{className:"md:hidden flex items-center",children:g.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?g.jsx(Ei,{size:28}):g.jsx(w5,{size:28})})})]})}),r&&g.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[g.jsxs("button",{onClick:()=>p("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[g.jsx(Pp,{size:24}),g.jsx("span",{children:"Style (Inicio)"})]}),g.jsxs("button",{onClick:()=>p("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[g.jsx(Pl,{size:24}),g.jsx("span",{children:"Perfumes"})]}),g.jsxs("button",{onClick:()=>p("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[g.jsx(By,{size:24}),g.jsx("span",{children:"Regalos"})]}),g.jsx("div",{className:"mt-auto pb-8",children:g.jsx("button",{onClick:()=>p("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},M5=({onCtaClick:e})=>g.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[g.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),g.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[g.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),g.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",g.jsx("br",{})," ",g.jsx("span",{className:"italic",children:"Tu Esencia"})]}),g.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",g.jsx("br",{className:"hidden md:block"}),g.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:g.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),g.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[g.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[g.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),g.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[g.jsx("span",{className:"mr-1",children:"Desde"}),g.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),Bc="56984524774",D5="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",Fi=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],L5=3e3,B5=30,F5=["Santiago Centro","uoa"],Ms=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous-spray.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],rS=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],z5=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],U5=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var _s={},Ph={},av=function(e,t){return av=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},av(e,t)};function NI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");av(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var v0=function(){return v0=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},v0.apply(this,arguments)};function iu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function II(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(a=(i<3?c(a):i>3?c(t,r,a):c(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function OI(e,t){return function(r,n){t(r,n,e)}}function TI(e,t,r,n,i,a){function c(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var f=n.kind,p=f==="getter"?"get":f==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,x=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),y,S=!1,C=r.length-1;C>=0;C--){var I={};for(var O in n)I[O]=O==="access"?{}:n[O];for(var O in n.access)I.access[O]=n.access[O];I.addInitializer=function(M){if(S)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(M||null))};var T=(0,r[C])(f==="accessor"?{get:x.get,set:x.set}:x[p],I);if(f==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(y=c(T.get))&&(x.get=y),(y=c(T.set))&&(x.set=y),(y=c(T.init))&&i.unshift(y)}else(y=c(T))&&(f==="field"?i.unshift(y):x[p]=y)}h&&Object.defineProperty(h,n.name,x),S=!0}function jI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function PI(e){return typeof e=="symbol"?e:"".concat(e)}function kI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function RI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function et(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})}function MI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var kp=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function DI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kp(t,e,r)}function y0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $y(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return a}function LI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($y(arguments[t]));return e}function BI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],c=0,f=a.length;c<f;c++,i++)n[i]=a[c];return n}function FI(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Vc(e){return this instanceof Vc?(this.v=e,this):new Vc(e)}function zI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(C){return function(I){return Promise.resolve(I).then(C,y)}}function f(C,I){n[C]&&(i[C]=function(O){return new Promise(function(T,M){a.push([C,O,T,M])>1||p(C,O)})},I&&(i[C]=I(i[C])))}function p(C,I){try{h(n[C](I))}catch(O){S(a[0][3],O)}}function h(C){C.value instanceof Vc?Promise.resolve(C.value.v).then(x,y):S(a[0][2],C)}function x(C){p("next",C)}function y(C){p("throw",C)}function S(C,I){C(I),a.shift(),a.length&&p(a[0][0],a[0][1])}}function UI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(c){return(r=!r)?{value:Vc(e[i](c)),done:!1}:a?a(c):c}:a}}function $I(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof y0=="function"?y0(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(c){return new Promise(function(f,p){c=e[a](c),i(f,p,c.done,c.value)})}}function i(a,c,f,p){Promise.resolve(p).then(function(h){a({value:h,done:f})},c)}}function HI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $5=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},sv=function(e){return sv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},sv(e)};function WI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=sv(e),n=0;n<r.length;n++)r[n]!=="default"&&kp(t,e,r[n]);return $5(t,e),t}function VI(e){return e&&e.__esModule?e:{default:e}}function qI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function GI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function KI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function YI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var H5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function XI(e){function t(a){e.error=e.hasError?new H5(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function QI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,c){return n?t?".jsx":".js":i&&(!a||!c)?r:i+a+"."+c.toLowerCase()+"js"}):e}const W5={__extends:NI,__assign:v0,__rest:iu,__decorate:II,__param:OI,__esDecorate:TI,__runInitializers:jI,__propKey:PI,__setFunctionName:kI,__metadata:RI,__awaiter:et,__generator:MI,__createBinding:kp,__exportStar:DI,__values:y0,__read:$y,__spread:LI,__spreadArrays:BI,__spreadArray:FI,__await:Vc,__asyncGenerator:zI,__asyncDelegator:UI,__asyncValues:$I,__makeTemplateObject:HI,__importStar:WI,__importDefault:VI,__classPrivateFieldGet:qI,__classPrivateFieldSet:GI,__classPrivateFieldIn:KI,__addDisposableResource:YI,__disposeResources:XI,__rewriteRelativeImportExtension:QI},V5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:YI,get __assign(){return v0},__asyncDelegator:UI,__asyncGenerator:zI,__asyncValues:$I,__await:Vc,__awaiter:et,__classPrivateFieldGet:qI,__classPrivateFieldIn:KI,__classPrivateFieldSet:GI,__createBinding:kp,__decorate:II,__disposeResources:XI,__esDecorate:TI,__exportStar:DI,__extends:NI,__generator:MI,__importDefault:VI,__importStar:WI,__makeTemplateObject:HI,__metadata:RI,__param:OI,__propKey:PI,__read:$y,__rest:iu,__rewriteRelativeImportExtension:QI,__runInitializers:jI,__setFunctionName:kI,__spread:LI,__spreadArray:FI,__spreadArrays:BI,__values:y0,default:W5},Symbol.toStringTag,{value:"Module"})),q5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Rp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},ZI=class extends Rp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},ov=class extends Rp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},lv=class extends Rp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var b0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(b0||(b0={}));class G5{constructor(t,{headers:r={},customFetch:n,region:i=b0.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=q5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return et(this,arguments,void 0,function*(r,n={}){var i;let a,c;try{const{headers:f,method:p,body:h,signal:x,timeout:y}=n;let S={},{region:C}=n;C||(C=this.region);const I=new URL(`${this.url}/${r}`);C&&C!=="any"&&(S["x-region"]=C,I.searchParams.set("forceFunctionRegion",C));let O;h&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",O=h):typeof h=="string"?(S["Content-Type"]="text/plain",O=h):typeof FormData<"u"&&h instanceof FormData?O=h:(S["Content-Type"]="application/json",O=JSON.stringify(h)):O=h;let T=x;y&&(c=new AbortController,a=setTimeout(()=>c.abort(),y),x?(T=c.signal,x.addEventListener("abort",()=>c.abort())):T=c.signal);const M=yield this.fetch(I.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:O,signal:T}).catch(U=>{throw new ZI(U)}),D=M.headers.get("x-relay-error");if(D&&D==="true")throw new ov(M);if(!M.ok)throw new lv(M);let R=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),B;return R==="application/json"?B=yield M.json():R==="application/octet-stream"||R==="application/pdf"?B=yield M.blob():R==="text/event-stream"?B=M:R==="multipart/form-data"?B=yield M.formData():B=yield M.text(),{data:B,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof lv||f instanceof ov?f.context:void 0}}finally{a&&clearTimeout(a)}})}}const K5=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return b0},FunctionsClient:G5,FunctionsError:Rp,FunctionsFetchError:ZI,FunctionsHttpError:lv,FunctionsRelayError:ov},Symbol.toStringTag,{value:"Module"})),JI=Kd(K5);var ni={};const au=Kd(V5);var kh={},Rh={},Mh={},Dh={},Lh={},Bh={},nS;function eO(){if(nS)return Bh;nS=1,Object.defineProperty(Bh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Bh.default=e,Bh}var iS;function tO(){if(iS)return Lh;iS=1,Object.defineProperty(Lh,"__esModule",{value:!0});const t=au.__importDefault(eO());let r=class{constructor(i){var a,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var h,x,y,S;let C=null,I=null,O=null,T=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const U=await p.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?I=U:I=JSON.parse(U))}const R=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");R&&B&&B.length>1&&(O=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(I)&&(I.length>1?(C={code:"PGRST116",details:`Results contain ${I.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},I=null,O=null,T=406,M="Not Acceptable"):I.length===1?I=I[0]:I=null)}else{const R=await p.text();try{C=JSON.parse(R),Array.isArray(C)&&p.status===404&&(I=[],C=null,T=200,M="OK")}catch{p.status===404&&R===""?(T=204,M="No Content"):C={message:R}}if(C&&this.isMaybeSingle&&(!((S=C?.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,T=200,M="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:I,count:O,status:T,statusText:M}});return this.shouldThrowOnError||(f=f.catch(p=>{var h,x,y,S,C,I;let O="";const T=p?.cause;if(T){const M=(h=T?.message)!==null&&h!==void 0?h:"",D=(x=T?.code)!==null&&x!==void 0?x:"";O=`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,O+=`

Caused by: ${(S=T?.name)!==null&&S!==void 0?S:"Error"}: ${M}`,D&&(O+=` (${D})`),T?.stack&&(O+=`
${T.stack}`)}else O=(C=p?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(I=p?.name)!==null&&I!==void 0?I:"FetchError"}: ${p?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,a)}returns(){return this}overrideTypes(){return this}};return Lh.default=r,Lh}var aS;function rO(){if(aS)return Dh;aS=1,Object.defineProperty(Dh,"__esModule",{value:!0});const t=au.__importDefault(tO());let r=class extends t.default{select(i){let a=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const h=p?`${p}.order`:"order",x=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${x?`${x},`:""}${i}.${a?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:c=a}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,a,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(h,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:h="text"}={}){var x;const y=[i?"analyze":null,a?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${S}"; options=${y};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Dh.default=r,Dh}var sS;function Hy(){if(sS)return Mh;sS=1,Object.defineProperty(Mh,"__esModule",{value:!0});const t=au.__importDefault(rO()),r=new RegExp("[,()]");let n=class extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}regexMatch(a,c){return this.url.searchParams.append(a,`match.${c}`),this}regexIMatch(a,c){return this.url.searchParams.append(a,`imatch.${c}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}isDistinct(a,c){return this.url.searchParams.append(a,`isdistinct.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:p}={}){let h="";p==="plain"?h="pl":p==="phrase"?h="ph":p==="websearch"&&(h="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${h}fts${x}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}};return Mh.default=n,Mh}var oS;function nO(){if(oS)return Rh;oS=1,Object.defineProperty(Rh,"__esModule",{value:!0});const t=au.__importDefault(Hy());let r=class{constructor(i,{headers:a={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(a),this.schema=c,this.fetch=f}select(i,a){const{head:c=!1,count:f}=a??{},p=c?"HEAD":"GET";let h=!1;const x=(i??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",x),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:c=!0}={}){var f;const p="POST";if(a&&this.headers.append("Prefer",`count=${a}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(h.length>0){const x=[...new Set(h)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var h;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(y.length>0){const S=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:a}={}){var c;const f="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var a;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};return Rh.default=r,Rh}var lS;function Y5(){if(lS)return kh;lS=1,Object.defineProperty(kh,"__esModule",{value:!0});const e=au,t=e.__importDefault(nO()),r=e.__importDefault(Hy());let n=class iO{constructor(a,{headers:c={},schema:f,fetch:p}={}){this.url=a,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${a}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new iO(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,c={},{head:f=!1,get:p=!1,count:h}={}){var x;let y;const S=new URL(`${this.url}/rpc/${a}`);let C;f||p?(y=f?"HEAD":"GET",Object.entries(c).filter(([O,T])=>T!==void 0).map(([O,T])=>[O,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([O,T])=>{S.searchParams.append(O,T)})):(y="POST",C=c);const I=new Headers(this.headers);return h&&I.set("Prefer",`count=${h}`),new r.default({method:y,url:S,headers:I,schema:this.schemaName,body:C,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return kh.default=n,kh}var cS;function aO(){if(cS)return ni;cS=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.PostgrestError=ni.PostgrestBuilder=ni.PostgrestTransformBuilder=ni.PostgrestFilterBuilder=ni.PostgrestQueryBuilder=ni.PostgrestClient=void 0;const e=au,t=e.__importDefault(Y5());ni.PostgrestClient=t.default;const r=e.__importDefault(nO());ni.PostgrestQueryBuilder=r.default;const n=e.__importDefault(Hy());ni.PostgrestFilterBuilder=n.default;const i=e.__importDefault(rO());ni.PostgrestTransformBuilder=i.default;const a=e.__importDefault(tO());ni.PostgrestBuilder=a.default;const c=e.__importDefault(eO());return ni.PostgrestError=c.default,ni.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:c.default},ni}class sO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const X5="2.87.1",Q5=`realtime-js/${X5}`,oO="1.0.0",Z5="2.0.0",uS=oO,cv=1e4,J5=1e3,e6=100;var yl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yl||(yl={}));var an;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(an||(an={}));var Ta;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ta||(Ta={}));var uv;(function(e){e.websocket="websocket"})(uv||(uv={}));var bl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bl||(bl={}));class t6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,a;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",p=(a=t.join_ref)!==null&&a!==void 0?a:"",h=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+h.length+y.length,C=new ArrayBuffer(this.HEADER_LENGTH+S);let I=new DataView(C),O=0;I.setUint8(O++,this.KINDS.userBroadcastPush),I.setUint8(O++,p.length),I.setUint8(O++,f.length),I.setUint8(O++,c.length),I.setUint8(O++,h.length),I.setUint8(O++,y.length),I.setUint8(O++,r),Array.from(p,M=>I.setUint8(O++,M.charCodeAt(0))),Array.from(f,M=>I.setUint8(O++,M.charCodeAt(0))),Array.from(c,M=>I.setUint8(O++,M.charCodeAt(0))),Array.from(h,M=>I.setUint8(O++,M.charCodeAt(0))),Array.from(y,M=>I.setUint8(O++,M.charCodeAt(0)));var T=new Uint8Array(C.byteLength+n.byteLength);return T.set(new Uint8Array(C),0),T.set(new Uint8Array(n),C.byteLength),T.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,c,f,p]=n;return r({join_ref:i,ref:a,topic:c,event:f,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const h=n.decode(t.slice(p,p+i));p=p+i;const x=n.decode(t.slice(p,p+a));p=p+a;const y=n.decode(t.slice(p,p+c));p=p+c;const S=t.slice(p,t.byteLength),C=f===this.JSON_ENCODING?JSON.parse(n.decode(S)):S,I={type:this.BROADCAST_EVENT,event:x,payload:C};return c>0&&(I.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:I}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class lO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gr||(gr={}));const dS=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=r6(c,e,t,i),a),{}):{}},r6=(e,t,r,n)=>{const i=t.find(f=>f.name===e),a=i?.type,c=r[e];return a&&!n.includes(a)?cO(a,c):dv(c)},cO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return s6(t,r)}switch(e){case gr.bool:return n6(t);case gr.float4:case gr.float8:case gr.int2:case gr.int4:case gr.int8:case gr.numeric:case gr.oid:return i6(t);case gr.json:case gr.jsonb:return a6(t);case gr.timestamp:return o6(t);case gr.abstime:case gr.date:case gr.daterange:case gr.int4range:case gr.int8range:case gr.money:case gr.reltime:case gr.text:case gr.time:case gr.timestamptz:case gr.timetz:case gr.tsrange:case gr.tstzrange:return dv(t);default:return dv(t)}},dv=e=>e,n6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},i6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},a6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},s6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>cO(t,f))}return e},o6=e=>typeof e=="string"?e.replace(" ","T"):e,uO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class h1{constructor(t,r,n={},i=cv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fv||(fv={}));let dO=class l0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=l0.syncState(this.state,i,a,c),this.pendingDiffs.forEach(p=>{this.state=l0.syncDiff(this.state,p,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=l0.syncDiff(this.state,i,a,c),f())}),this.onJoin((i,a,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:c})}),this.onLeave((i,a,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),c=this.transformState(r),f={},p={};return this.map(a,(h,x)=>{c[h]||(p[h]=x)}),this.map(c,(h,x)=>{const y=a[h];if(y){const S=x.map(T=>T.presence_ref),C=y.map(T=>T.presence_ref),I=x.filter(T=>C.indexOf(T.presence_ref)<0),O=y.filter(T=>S.indexOf(T.presence_ref)<0);I.length>0&&(f[h]=I),O.length>0&&(p[h]=O)}else f[h]=x}),this.syncDiff(a,{joins:f,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(f,p)=>{var h;const x=(h=t[f])!==null&&h!==void 0?h:[];if(t[f]=this.cloneDeep(p),x.length>0){const y=t[f].map(C=>C.presence_ref),S=x.filter(C=>y.indexOf(C.presence_ref)<0);t[f].unshift(...S)}n(f,x,p)}),this.map(c,(f,p)=>{let h=t[f];if(!h)return;const x=p.map(y=>y.presence_ref);h=h.filter(y=>x.indexOf(y.presence_ref)<0),t[f]=h,i(f,h,p),h.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var hv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hv||(hv={}));var Fc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Fc||(Fc={}));var Xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xa||(Xa={}));const l6=an;let fO=class fd{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new h1(this,Ta.join,this.params,this.timeout),this.rejoinTimer=new lO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=an.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ta.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new dO(this),this.broadcastEndpointURL=uO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==an.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&i!==void 0?i:[],x=!!this.bindings[Fc.PRESENCE]&&this.bindings[Fc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},S={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(C=>t?.(Xa.CHANNEL_ERROR,C)),this._onClose(()=>t?.(Xa.CLOSED)),this.updateJoinPayload(Object.assign({config:S},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var I;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){t?.(Xa.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,T=(I=O?.length)!==null&&I!==void 0?I:0,M=[];for(let D=0;D<T;D++){const R=O[D],{filter:{event:B,schema:U,table:$,filter:V}}=R,Z=C&&C[D];if(Z&&Z.event===B&&fd.isFilterValueEqual(Z.schema,U)&&fd.isFilterValueEqual(Z.table,$)&&fd.isFilterValueEqual(Z.filter,V))M.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),this.state=an.errored,t?.(Xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(Xa.SUBSCRIBED);return}}).receive("error",C=>{this.state=an.errored,t?.(Xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{t?.(Xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===an.joined&&t===Fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const h=await f.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,p;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=an.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ta.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new h1(this,Ta.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=an.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new h1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>e6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:h,join:x}=Ta;if(n&&[f,p,h,x].indexOf(c)>=0&&n!==this._joinRef())return;let S=this._onMessage(c,r,n);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var I,O,T;return((I=C.filter)===null||I===void 0?void 0:I.event)==="*"||((T=(O=C.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(C=>C.callback(S,n)):(a=this.bindings[c])===null||a===void 0||a.filter(C=>{var I,O,T,M,D,R;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const B=C.id,U=(I=C.filter)===null||I===void 0?void 0:I.event;return B&&((O=r.ids)===null||O===void 0?void 0:O.includes(B))&&(U==="*"||U?.toLocaleLowerCase()===((T=r.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const B=(D=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return B==="*"||B===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof S=="object"&&"ids"in S){const I=S.data,{schema:O,table:T,commit_timestamp:M,type:D,errors:R}=I;S=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:M,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(I))}C.callback(S,n)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&fd.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ta.close,{},t)}_onError(t){this._on(Ta.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=dS(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=dS(t.columns,t.old_record)),r}};const p1=()=>{},Fh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},c6=[1e3,2e3,5e3,1e4],u6=1e4,d6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let f6=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cv,this.transport=null,this.heartbeatIntervalMs=Fh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=p1,this.ref=0,this.reconnectTimer=null,this.vsn=uS,this.logger=p1,this.conn=null,this.sendBuffer=[],this.serializer=new t6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${uv.websocket}`,this.httpEndpoint=uO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yl.connecting:return bl.Connecting;case yl.open:return bl.Open;case yl.closing:return bl.Closing;default:return bl.Closed}}isConnected(){return this.connectionState()===bl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new fO(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(J5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:c}=r,f=c?`(${c})`:"",p=a.status||"";this.log("receive",`${p} ${n} ${i} ${f}`.trim(),a),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===yl.open||this.conn.readyState===yl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ta.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([d6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:Q5};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Ta.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new lO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,c,f,p,h,x,y,S,C;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:cv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Fh.HEARTBEAT_INTERVAL,this.worker=(a=t?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:p1,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:uS,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(I=>c6[I-1]||u6),this.vsn){case oO:this.encode=(x=t?.encode)!==null&&x!==void 0?x:((I,O)=>O(JSON.stringify(I))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((I,O)=>O(JSON.parse(I)));break;case Z5:this.encode=(S=t?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(C=t?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const h6=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:l6,get REALTIME_LISTEN_TYPES(){return Fc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return hv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return fv},get REALTIME_SUBSCRIBE_STATES(){return Xa},RealtimeChannel:fO,RealtimeClient:f6,RealtimePresence:dO,WebSocketFactory:sO},Symbol.toStringTag,{value:"Module"})),hO=Kd(h6);class Qd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pO extends Qd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class w0 extends Qd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Wy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p6=()=>Response,pv=e=>{if(Array.isArray(e))return e.map(r=>pv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=pv(n)}),t},m6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),m1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},x6=(e,t,r)=>et(void 0,void 0,void 0,function*(){const n=yield p6();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const a=e.status||500,c=i?.statusCode||a+"";t(new pO(m1(i),a,c))}).catch(i=>{t(new w0(m1(i),i))}):t(new w0(m1(e),e))}),v6=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(m6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Zd(e,t,r,n,i,a){return et(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,v6(t,n,i,a)).then(p=>{if(!p.ok)throw p;return n?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>x6(p,f,n))})})}function Od(e,t,r,n){return et(this,void 0,void 0,function*(){return Zd(e,"GET",t,r,n)})}function Oa(e,t,r,n,i){return et(this,void 0,void 0,function*(){return Zd(e,"POST",t,n,i,r)})}function mv(e,t,r,n,i){return et(this,void 0,void 0,function*(){return Zd(e,"PUT",t,n,i,r)})}function y6(e,t,r,n){return et(this,void 0,void 0,function*(){return Zd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vy(e,t,r,n,i){return et(this,void 0,void 0,function*(){return Zd(e,"DELETE",t,n,i,r)})}class b6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return et(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tr(t))return{data:null,error:t};throw t}})}}var mO;class w6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[mO]="BlobDownloadBuilder",this.promise=null}asStream(){return new b6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return et(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Tr(t))return{data:null,error:t};throw t}})}}mO=Symbol.toStringTag;const E6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S6{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Wy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return et(this,void 0,void 0,function*(){try{let a;const c=Object.assign(Object.assign({},fS),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),p&&a.append("metadata",this.encodeMetadata(p)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),p&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(p))):(a=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const h=this._removeEmptyFolders(r),x=this._getFinalPath(h),y=yield(t=="PUT"?mv:Oa)(this.fetch,`${this.url}/object/${x}`,a,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:y.Id,fullPath:y.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Tr(a))return{data:null,error:a};throw a}})}upload(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return et(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),c=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let p;const h=Object.assign({upsert:fS.upsert},i),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",h.cacheControl)):(p=n,x["cache-control"]=`max-age=${h.cacheControl}`,x["content-type"]=h.contentType);const y=yield mv(this.fetch,f.toString(),p,{headers:x});return{data:{path:a,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Tr(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Oa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+a.url),f=c.searchParams.get("token");if(!f)throw new Qd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}update(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Oa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return et(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Oa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return et(this,void 0,void 0,function*(){try{const i=yield Oa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),c=a?`?${a}`:"",f=this._getFinalPath(t),p=()=>Od(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new w6(p,this.shouldThrowOnError)}info(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Od(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:pv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}exists(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield y6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n)&&n instanceof w0){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${h}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}list(t,r,n){return et(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},E6),r),{prefix:t||""});return{data:yield Oa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}listV2(t,r){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Oa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gO="2.87.1",xO={"X-Client-Info":`storage-js/${gO}`};class A6{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xO),r),this.fetch=Wy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return et(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Od(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}getBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}createBucket(t){return et(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return et(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Td=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function C6(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function _6(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N6(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:c}){const f=C6(e.baseUrl,n,i),p=await _6(e.auth),h=await t(f,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...p,...c},body:a?JSON.stringify(a):void 0}),x=await h.text(),y=(h.headers.get("content-type")||"").includes("application/json"),S=y&&x?JSON.parse(x):x;if(!h.ok){const C=y?S:void 0,I=C?.error;throw new Td(I?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:I?.type,icebergCode:I?.code,details:C})}return{status:h.status,headers:h.headers,data:S}}}}function zh(e){return e.join("")}var I6=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:zh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zh(e.namespace)}`}),!0}catch(t){if(t instanceof Td&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Td&&r.status===409)return;throw r}}};function bc(e){return e.join("")}var O6=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Td&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Td&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},T6=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N6({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new I6(this.client,t),this.tableOps=new O6(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class vO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xO),r),this.fetch=Wy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}listBuckets(t){return et(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Od(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Tr(r))return{data:null,error:r};throw r}})}from(t){if(!g6(t))throw new Qd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new T6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>et(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,c){const f=a[c];return typeof f!="function"?f:(...p)=>et(this,void 0,void 0,function*(){try{return{data:yield f.apply(a,p),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}})}})}}const qy={"X-Client-Info":`storage-js/${gO}`,"Content-Type":"application/json"};class Gy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function wi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class c0 extends Gy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yO extends Gy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var gv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(gv||(gv={}));const Mp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j6=()=>Response,bO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},P6=e=>Array.from(new Float32Array(e)),k6=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},hS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R6=(e,t,r)=>et(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new c0(hS(c),i,f))}).catch(()=>{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new c0(f,i,c))});else{const c=i+"",f=a.statusText||`HTTP ${i} error`;t(new c0(f,i,c))}}else t(new yO(hS(e),e))}),M6=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(bO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function D6(e,t,r,n,i,a){return et(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,M6(t,n,i,a)).then(p=>{if(!p.ok)throw p;if(n?.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>R6(p,f,n))})})}function zi(e,t,r,n,i){return et(this,void 0,void 0,function*(){return D6(e,"POST",t,n,i,r)})}class wO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qy),r),this.fetch=Mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return et(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}getIndex(t,r){return et(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wi(n))return{data:null,error:n};throw n}})}listIndexes(t){return et(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return et(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wi(n))return{data:null,error:n};throw n}})}}class EO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qy),r),this.fetch=Mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return et(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zi(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}getVectors(t){return et(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}listVectors(t){return et(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield zi(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}queryVectors(t){return et(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}deleteVectors(t){return et(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zi(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}}class SO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},qy),r),this.fetch=Mp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return et(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}getBucket(t){return et(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}listBuckets(){return et(this,arguments,void 0,function*(t={}){try{return{data:yield zi(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return et(this,void 0,void 0,function*(){try{return{data:(yield zi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wi(r))return{data:null,error:r};throw r}})}}class AO extends SO{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new CO(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return et(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return et(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return et(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return et(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class CO extends wO{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return et(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return et(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return et(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return et(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _O(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _O extends EO{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return et(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return et(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return et(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return et(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return et(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class L6 extends A6{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new S6(this.url,this.headers,t,this.fetch)}get vectors(){return new AO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vO(this.url+"/iceberg",this.headers,this.fetch)}}const B6=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vO,StorageApiError:pO,StorageClient:L6,StorageError:Qd,StorageUnknownError:w0,StorageVectorsApiError:c0,StorageVectorsClient:AO,StorageVectorsError:Gy,get StorageVectorsErrorCode(){return gv},StorageVectorsUnknownError:yO,VectorBucketApi:SO,VectorBucketScope:CO,VectorDataApi:EO,VectorIndexApi:wO,VectorIndexScope:_O,isPlainObject:bO,isStorageError:Tr,isStorageVectorsError:wi,normalizeToFloat32:P6,resolveFetch:Mp,resolveResponse:j6,validateVectorDimension:k6},Symbol.toStringTag,{value:"Module"})),F6=Kd(B6);var g1={},rd={},pS;function z6(){return pS||(pS=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.version=void 0,rd.version="2.87.1"),rd}var mS;function U6(){return mS||(mS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=z6();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(g1)),g1}var x1={},gS;function $6(){return gS||(gS=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...a)=>i(...a):(...a)=>fetch(...a);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,a,c)=>{const f=(0,e.resolveFetch)(c),p=(0,e.resolveHeadersConstructor)();return async(h,x)=>{var y;const S=(y=await a())!==null&&y!==void 0?y:i;let C=new p(x?.headers);return C.has("apikey")||C.set("apikey",i),C.has("Authorization")||C.set("Authorization",`Bearer ${S}`),f(h,Object.assign(Object.assign({},x),{headers:C}))}};e.fetchWithAuth=n})(x1)),x1}var Ns={},xS;function H6(){if(xS)return Ns;xS=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.isBrowser=void 0,Ns.uuid=e,Ns.ensureTrailingSlash=t,Ns.applySettingDefaults=n,Ns.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=Math.random()*16|0,f=a=="x"?c:c&3|8;return f.toString(16)})}function t(a){return a.endsWith("/")?a:a+"/"}const r=()=>typeof window<"u";Ns.isBrowser=r;function n(a,c){var f,p;const{db:h,auth:x,realtime:y,global:S}=a,{db:C,auth:I,realtime:O,global:T}=c,M={db:Object.assign(Object.assign({},C),h),auth:Object.assign(Object.assign({},I),x),realtime:Object.assign(Object.assign({},O),y),storage:{},global:Object.assign(Object.assign(Object.assign({},T),S),{headers:Object.assign(Object.assign({},(f=T?.headers)!==null&&f!==void 0?f:{}),(p=S?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return a.accessToken?M.accessToken=a.accessToken:delete M.accessToken,M}function i(a){const c=a?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ns}var nd={};const NO="2.87.1",Ic=30*1e3,xv=3,v1=xv*Ic,W6="http://localhost:9999",V6="supabase.auth.token",q6={"X-Client-Info":`gotrue-js/${NO}`},vv="X-Supabase-Api-Version",IO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,K6=600*1e3;let qc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ot(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let OO=class extends qc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function TO(e){return ot(e)&&e.name==="AuthApiError"}let Io=class extends qc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Gs=class extends qc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},bi=class extends Gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jO(e){return ot(e)&&e.name==="AuthSessionMissingError"}let hl=class extends Gs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},hd=class extends Gs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},pd=class extends Gs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function PO(e){return ot(e)&&e.name==="AuthImplicitGrantRedirectError"}let yv=class extends Gs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},E0=class extends Gs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function u0(e){return ot(e)&&e.name==="AuthRetryableFetchError"}let bv=class extends Gs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Y6(e){return ot(e)&&e.name==="AuthWeakPasswordError"}let S0=class extends Gs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const A0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vS=` 	
\r=`.split(""),X6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vS.length;t+=1)e[vS[t].charCodeAt(0)]=-2;for(let t=0;t<A0.length;t+=1)e[A0[t].charCodeAt(0)]=t;return e})();function yS(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(A0[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(A0[n]),t.queuedBits-=6}}function kO(e,t,r){const n=X6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bS(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=c=>{J6(c,n,r)};for(let c=0;c<e.length;c+=1)kO(e.charCodeAt(c),i,a);return t.join("")}function Q6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Z6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Q6(n,t)}}function J6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)kO(e.charCodeAt(i),r,n);return new Uint8Array(t)}function eD(e){const t=[];return Z6(e,r=>t.push(r)),new Uint8Array(t)}function wl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>yS(i,r,n)),yS(null,r,n),t.join("")}function tD(e){return Math.round(Date.now()/1e3)+e}function rD(){return Symbol("auth-callback")}const $n=()=>typeof window<"u"&&typeof document<"u",dl={tested:!1,writable:!1},RO=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dl.tested)return dl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dl.tested=!0,dl.writable=!0}catch{dl.tested=!0,dl.writable=!1}return dl.writable};function nD(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const MO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Oc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Un=async(e,t)=>{await e.removeItem(t)};class Dp{constructor(){this.promise=new Dp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dp.promiseConstructor=Promise;function y1(e){const t=e.split(".");if(t.length!==3)throw new S0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!G6.test(t[n]))throw new S0("JWT not in base64url format");return{header:JSON.parse(bS(t[0])),payload:JSON.parse(bS(t[1])),signature:zc(t[2]),raw:{header:t[0],payload:t[1]}}}async function aD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function sD(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){i(c);return}}})()})}function oD(e){return("0"+e.toString(16)).substr(-2)}function lD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,oD).join("")}async function cD(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function uD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cD(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wc(e,t,r=!1){const n=lD();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Oc(e,`${t}-code-verifier`,i);const a=await uD(n);return[a,n===a?"plain":"s256"]}const dD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fD(e){const t=e.headers.get(vv);if(!t||!t.match(dD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ec(e){if(!mD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function b1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gD(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function wS(e){return JSON.parse(JSON.stringify(e))}const pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xD=[502,503,504];async function ES(e){var t;if(!iD(e))throw new E0(pl(e),0);if(xD.includes(e.status))throw new E0(pl(e),e.status);let r;try{r=await e.json()}catch(a){throw new Io(pl(a),a)}let n;const i=fD(e);if(i&&i.getTime()>=IO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bv(pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new bi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new bv(pl(r),e.status,r.weak_password.reasons);throw new OO(pl(r),e.status||500,n)}const vD=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function yt(e,t,r,n){var i;const a=Object.assign({},n?.headers);a[vv]||(a[vv]=IO["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await yD(e,t,r+f,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(p):{data:Object.assign({},p),error:null}}async function yD(e,t,r,n,i,a){const c=vD(t,n,i,a);let f;try{f=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new E0(pl(p),0)}if(f.ok||await ES(f),n?.noResolveJson)return f;try{return await f.json()}catch(p){await ES(p)}}function Ia(e){var t;let r=null;ED(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=tD(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function SS(e){const t=Ia(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Oo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bD(e){return{data:e,error:null}}function wD(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,c=iu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function AS(e){return e}function ED(e){return e.access_token&&e.refresh_token&&e.expires_in}const d0=["global","local","others"];let Ky=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=d0[0]){if(d0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${d0.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ot(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oo})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=iu(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wD,redirectTo:r?.redirectTo})}catch(r){if(ot(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oo})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},x=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:AS});if(x.error)throw x.error;const y=await x.json(),S=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(I=>{const O=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(I.split(";")[1].split("=")[1]);h[`${T}Page`]=O}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ot(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ec(t);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oo})}catch(r){if(ot(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ec(t);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Oo})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ec(t);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oo})}catch(n){if(ot(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ec(t.userId);try{const{data:r,error:n}=await yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ec(t.userId),Ec(t.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,c,f,p;try{const h={nextPage:null,lastPage:0,total:0},x=await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:AS});if(x.error)throw x.error;const y=await x.json(),S=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(I=>{const O=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(I.split(";")[1].split("=")[1]);h[`${T}Page`]=O}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},y),h),error:null}}catch(h){if(ot(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ot(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ot(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ot(r))return{data:null,error:r};throw r}}};function CS(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ml={debug:!!(globalThis&&RO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let DO=class extends Yy{};class SD extends Yy{}async function LO(e,t,r){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ml.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ml.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const _S={};async function AD(e,t,r){var n;const i=(n=_S[e])!==null&&n!==void 0?n:Promise.resolve(),a=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new SD(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return _S[e]=a.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await a}function CD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function _D(e){return parseInt(e,16)}function ND(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ID(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:c,notBefore:f,requestId:p,resources:h,scheme:x,uri:y,version:S}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const C=BO(e.address),I=x?`${x}://${n}`:n,O=e.statement?`${e.statement}
`:"",T=`${I} wants you to sign in with your Ethereum account:
${C}

${O}`;let M=`URI: ${y}
Version: ${S}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),h){let D=`
Resources:`;for(const R of h){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);D+=`
- ${R}`}M+=D}return`${T}
${M}`}class sn extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class C0 extends sn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function OD({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(FO(c)){if(a.rp.id!==c)return new sn({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function TD({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(FO(n)){if(r.rpId!==n)return new sn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class jD{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const PD=new jD;function kD(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=iu(e,["challenge","user","excludeCredentials"]),a=zc(t).buffer,c=Object.assign(Object.assign({},r),{id:zc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:a,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const h=n[p];f.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:zc(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return f}function RD(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=iu(e,["challenge","allowCredentials"]),i=zc(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];a.allowCredentials[c]=Object.assign(Object.assign({},f),{id:zc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return a}function MD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:wl(new Uint8Array(e.response.attestationObject)),clientDataJSON:wl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DD(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wl(new Uint8Array(i.authenticatorData)),clientDataJSON:wl(new Uint8Array(i.clientDataJSON)),signature:wl(new Uint8Array(i.signature)),userHandle:i.userHandle?wl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function NS(){var e,t;return!!($n()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function LD(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new C0("Browser returned unexpected credential type",t)}:{data:null,error:new C0("Empty credential response",t)}}catch(t){return{data:null,error:OD({error:t,options:e})}}}async function BD(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new C0("Browser returned unexpected credential type",t)}:{data:null,error:new C0("Empty credential response",t)}}catch(t){return{data:null,error:TD({error:t,options:e})}}}const FD={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zD={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _0(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const c=i[a];if(c!==void 0)if(Array.isArray(c))n[a]=c;else if(r(c))n[a]=c;else if(t(c)){const f=n[a];t(f)?n[a]=_0(f,c):n[a]=_0(c)}else n[a]=c}return n}function UD(e,t){return _0(FD,e,t||{})}function $D(e,t){return _0(zD,e,t||{})}class HD{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const p=i??PD.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=UD(c.webauthn.credential_options.publicKey,a?.create),{data:x,error:y}=await LD({publicKey:h,signal:p});return x?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}case"request":{const h=$D(c.webauthn.credential_options.publicKey,a?.request),{data:x,error:y}=await BD(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:p}));return x?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}}}catch(c){return ot(c)?{data:null,error:c}:{data:null,error:new Io("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new qc("rpId is required for WebAuthn authentication")};try{if(!NS())return{data:null,error:new Io("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(c){return ot(c)?{data:null,error:c}:{data:null,error:new Io("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new qc("rpId is required for WebAuthn registration")};try{if(!NS())return{data:null,error:new Io("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:f};const{data:p,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(c){return ot(c)?{data:null,error:c}:{data:null,error:new Io("Unexpected error in register",c)}}}}CD();const WD={url:W6,storageKey:V6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function IS(e,t,r){return await r()}const Sc={};let Xy=class wv{get jwks(){var t,r;return(r=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},WD),t);if(this.storageKey=a.storageKey,this.instanceID=(r=wv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,wv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&$n()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ky({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MO(a.fetch),this.lock=a.lock||IS,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:this.persistSession&&$n()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LO:this.lock=IS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HD(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:RO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=CS(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=CS(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${NO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if($n()&&(r=nD(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),$n()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),PO(a)){const p=(t=a.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ot(r)?this._returnResult({error:r}):this._returnResult({error:new Io("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ia}),{data:c,error:f}=a;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(a){if(ot(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:x,password:y,options:S}=t;let C=null,I=null;this.flowType==="pkce"&&([C,I]=await wc(this.storage,this.storageKey)),a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:y,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:I},xform:Ia})}else if("phone"in t){const{phone:x,password:y,options:S}=t;a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(n=S?.data)!==null&&n!==void 0?n:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Ia})}else throw new hd("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return await Un(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:f}=t;r=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:SS})}else if("phone"in t){const{phone:a,password:c,options:f}=t;r=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:SS})}else throw new hd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new hl;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ot(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,c,f,p,h,x,y,S;let C,I;if("message"in t)C=t.message,I=t.signature;else{const{chain:O,wallet:T,statement:M,options:D}=t;let R;if($n())if(typeof T=="object")R=T;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")R=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const B=new URL((r=D?.url)!==null&&r!==void 0?r:window.location.href),U=await R.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=BO(U[0]);let V=(n=D?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const K=await R.request({method:"eth_chainId"});V=_D(K)}const Z={domain:B.host,address:$,statement:M,uri:B.href,version:"1",chainId:V,nonce:(i=D?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(x=D?.signInWithEthereum)===null||x===void 0?void 0:x.resources};C=ID(Z),I=await R.request({method:"personal_sign",params:[ND(C),$]})}try{const{data:O,error:T}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:I},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ia});if(T)throw T;if(!O||!O.session||!O.user){const M=new hl;return this._returnResult({data:{user:null,session:null},error:M})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:T})}catch(O){if(ot(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var r,n,i,a,c,f,p,h,x,y,S,C;let I,O;if("message"in t)I=t.message,O=t.signature;else{const{chain:T,wallet:M,statement:D,options:R}=t;let B;if($n())if(typeof M=="object")B=M;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))B=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=M}const U=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const $=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),D?{statement:D}:null));let V;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")V=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)V=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)I=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),O=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${U.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(i=(n=R?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(x=R?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const $=await B.signMessage(new TextEncoder().encode(I),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=$}}try{const{data:T,error:M}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:wl(O)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Ia});if(M)throw M;if(!T||!T.session||!T.user){const D=new hl;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:M})}catch(T){if(ot(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const r=await fl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:c}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ia});if(await Un(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const f=new hl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:c})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:c}=t,f=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ia}),{data:p,error:h}=f;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p||!p.session||!p.user){const x=new hl;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:h})}catch(r){if(ot(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,c;try{if("email"in t){const{email:f,options:p}=t;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await wc(this.storage,this.storageKey));const{error:y}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(n=p?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:h,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:p}=t,{data:h,error:x}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(a=p?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:x})}throw new hd("You must provide either an email or phone number.")}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ia});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,h=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(i){if(ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await wc(this.storage,this.storageKey));const h=await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:bD});return!((a=h.data)===null||a===void 0)&&a.url&&$n()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(f){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new bi;const{error:i}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(ot(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:c}=await yt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:c,error:f}=await yt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new hd("You must provide either an email or phone number and a type")}catch(r){if(ot(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<v1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await fl(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=b1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=gD(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oo}):await this._useSession(async r=>{var n,i,a;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Oo})})}catch(r){if(ot(r))return jO(r)&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new bi;const c=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await wc(this.storage,this.storageKey));const{data:h,error:x}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:Oo});if(x)throw x;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:c}=y1(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(ot(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new bi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ot(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!$n())throw new pd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yv("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:c,expires_in:f,expires_at:p,token_type:h}=t;if(!a||!f||!c||!h)throw new pd("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(f);let S=x+y;p&&(S=parseInt(p));const C=S-x;C*1e3<=Ic&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const I=S-y;x-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,S,x):x-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,S,x);const{data:O,error:T}=await this._getUser(a);if(T)throw T;const M={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:y,expires_at:S,refresh_token:c,token_type:h,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(n){if(ot(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(TO(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Un(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=rD(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await wc(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var c,f,p,h,x;const{data:y,error:S}=a;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(h=y.session)===null||h===void 0?void 0:h.access_token)!==null&&x!==void 0?x:void 0})});if(i)throw i;return $n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ot(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:c,provider:f,token:p,access_token:h,nonce:x}=t,y=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:p,access_token:h,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ia}),{data:S,error:C}=y;return C?this._returnResult({data:{user:null,session:null},error:C}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new hl}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:C}))}catch(i){if(await Un(this.storage,`${this.storageKey}-code-verifier`),ot(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)throw c;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await sD(async i=>(i>0&&await aD(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ia})),(i,a)=>{const c=200*Math.pow(2,i);return a&&u0(a)&&Date.now()+c-n<Ic})}catch(n){if(this._debug(r,"error",n),ot(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),$n()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await fl(this.storage,this.storageKey);if(i&&this.userStorage){let c=await fl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Oc(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:b1()}else if(i&&!i.user&&!i.user){const c=await fl(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Un(this.storage,this.storageKey+"-user"),await Oc(this.storage,this.storageKey,i)):i.user=b1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<v1;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${v1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),u0(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dp;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new bi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={data:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(i,"error",a),ot(a)){const c={data:null,error:a};return u0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){a.push(p)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Un(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Oc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=wS(i);await Oc(this.storage,this.storageKey,a)}else{const i=wS(r);await Oc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Un(this.storage,this.storageKey),await Un(this.storage,this.storageKey+"-code-verifier"),await Un(this.storage,this.storageKey+"-user"),this.userStorage&&await Un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ic);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ic);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ic}ms, refresh threshold is ${xv} ticks`),i<=xv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await wc(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:h}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?MD(t.webauthn.credential_response):DD(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:kD(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:RD(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=y1(n.access_token);let c=null;a.aal&&(c=a.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=a.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new bi})})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new bi});const c=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$n()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new bi});const c=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&$n()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await yt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new bi})})}catch(t){if(ot(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await yt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new bi})})}catch(r){if(ot(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+K6>i)return n;const{data:a,error:c}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:C,error:I}=await this.getSession();if(I||!C.session)return this._returnResult({data:null,error:I});n=C.session.access_token}const{header:i,payload:a,signature:c,raw:{header:f,payload:p}}=y1(n);r?.allowExpired||hD(a.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:a,header:i,signature:c},error:null}}const x=pD(i.alg),y=await crypto.subtle.importKey("jwk",h,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,c,eD(`${f}.${p}`)))throw new S0("Invalid JWT signature");return{data:{claims:a,header:i,signature:c},error:null}}catch(n){if(ot(n))return this._returnResult({data:null,error:n});throw n}}};Xy.nextInstanceID={};const VD=Ky,qD=Xy,GD=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:VD,AuthApiError:OO,AuthClient:qD,AuthError:qc,AuthImplicitGrantRedirectError:pd,AuthInvalidCredentialsError:hd,AuthInvalidJwtError:S0,AuthInvalidTokenResponseError:hl,AuthPKCEGrantCodeExchangeError:yv,AuthRetryableFetchError:E0,AuthSessionMissingError:bi,AuthUnknownError:Io,AuthWeakPasswordError:bv,CustomAuthError:Gs,GoTrueAdminApi:Ky,GoTrueClient:Xy,NavigatorLockAcquireTimeoutError:DO,SIGN_OUT_SCOPES:d0,isAuthApiError:TO,isAuthError:ot,isAuthImplicitGrantRedirectError:PO,isAuthRetryableFetchError:u0,isAuthSessionMissingError:jO,isAuthWeakPasswordError:Y6,lockInternals:ml,navigatorLock:LO,processLock:AD},Symbol.toStringTag,{value:"Module"})),zO=Kd(GD);var OS;function KD(){if(OS)return nd;OS=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.SupabaseAuthClient=void 0;const e=zO;let t=class extends e.AuthClient{constructor(n){super(n)}};return nd.SupabaseAuthClient=t,nd}var TS;function jS(){if(TS)return Ph;TS=1,Object.defineProperty(Ph,"__esModule",{value:!0});const e=JI,t=aO(),r=hO,n=F6,i=U6(),a=$6(),c=H6(),f=KD();class p{constructor(x,y,S){var C,I,O;this.supabaseUrl=x,this.supabaseKey=y;const T=(0,c.validateSupabaseUrl)(x);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const M=`sb-${T.hostname.split(".")[0]}-auth-token`,D={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:i.DEFAULT_GLOBAL_OPTIONS},R=(0,c.applySettingDefaults)(S??{},D);this.storageKey=(C=R.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(I=R.global.headers)!==null&&I!==void 0?I:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(B,U)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(U)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((O=R.auth)!==null&&O!==void 0?O:{},this.headers,R.global.fetch),this.fetch=(0,a.fetchWithAuth)(y,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(B=>this.realtime.setAuth(B)).catch(B=>console.warn("Failed to set initial Realtime auth token:",B)),this.rest=new t.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,S?.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,y={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,y,S)}channel(x,y={config:{}}){return this.realtime.channel(x,y)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,y;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(y=(x=S.session)===null||x===void 0?void 0:x.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:y,detectSessionInUrl:S,storage:C,userStorage:I,storageKey:O,flowType:T,lock:M,debug:D,throwOnError:R},B,U){const $={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},$),B),storageKey:O,autoRefreshToken:x,persistSession:y,detectSessionInUrl:S,storage:C,userStorage:I,flowType:T,lock:M,debug:D,throwOnError:R,fetch:U,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,S)=>{this._handleTokenChanged(y,"CLIENT",S?.access_token)})}_handleTokenChanged(x,y,S){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Ph.default=p,Ph}var PS;function YD(){return PS||(PS=1,(function(e){var t=_s&&_s.__createBinding||(Object.create?(function(x,y,S,C){C===void 0&&(C=S);var I=Object.getOwnPropertyDescriptor(y,S);(!I||("get"in I?!y.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return y[S]}}),Object.defineProperty(x,C,I)}):(function(x,y,S,C){C===void 0&&(C=S),x[C]=y[S]})),r=_s&&_s.__exportStar||function(x,y){for(var S in x)S!=="default"&&!Object.prototype.hasOwnProperty.call(y,S)&&t(y,x,S)},n=_s&&_s.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(jS());r(zO,e);var a=aO();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return a.PostgrestError}});var c=JI;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(hO,e);var f=jS();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const p=(x,y,S)=>new i.default(x,y,S);e.createClient=p;function h(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const y=x.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}h()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(_s)),_s}var UO=YD();const $O=ma(UO),XD=Iy({__proto__:null,default:$O},[UO]),{PostgrestError:zne,FunctionsHttpError:Une,FunctionsFetchError:$ne,FunctionsRelayError:Hne,FunctionsError:Wne,FunctionRegion:Vne,SupabaseClient:qne,createClient:QD,GoTrueAdminApi:Gne,GoTrueClient:Kne,AuthAdminApi:Yne,AuthClient:Xne,navigatorLock:Qne,NavigatorLockAcquireTimeoutError:Zne,lockInternals:Jne,processLock:eie,SIGN_OUT_SCOPES:tie,AuthError:rie,AuthApiError:nie,AuthUnknownError:iie,CustomAuthError:aie,AuthSessionMissingError:sie,AuthInvalidTokenResponseError:oie,AuthInvalidCredentialsError:lie,AuthImplicitGrantRedirectError:cie,AuthPKCEGrantCodeExchangeError:uie,AuthRetryableFetchError:die,AuthWeakPasswordError:fie,AuthInvalidJwtError:hie,isAuthError:pie,isAuthApiError:mie,isAuthSessionMissingError:gie,isAuthImplicitGrantRedirectError:xie,isAuthRetryableFetchError:vie,isAuthWeakPasswordError:yie,RealtimePresence:bie,RealtimeChannel:wie,RealtimeClient:Eie,REALTIME_LISTEN_TYPES:Sie,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Aie,REALTIME_PRESENCE_LISTEN_EVENTS:Cie,REALTIME_SUBSCRIBE_STATES:_ie,REALTIME_CHANNEL_STATES:Nie}=$O||XD,w1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},HO=e=>w1&&w1[e]?w1[e]:"",E1=HO("VITE_SUPABASE_URL"),kS=HO("VITE_SUPABASE_KEY");let WO=null;if(E1&&kS&&E1!=="https://placeholder.supabase.co")try{WO=QD(E1,kS)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const He=WO,ZD=({onSuccess:e})=>{const[t,r]=_.useState(Fi[0].id),n=Fi.find(le=>le.id===t)||Fi[0],[i,a]=_.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=_.useState(!1),[p,h]=_.useState(!1),[x,y]=_.useState([]),[S,C]=_.useState([]),[I,O]=_.useState({}),[T,M]=_.useState(null),[D,R]=_.useState(!1);_.useEffect(()=>{a(le=>({...le,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:le.isHomeService}))},[n]);const B=n.durationMin+(i.isHomeService?B5:0),U=n.price+(i.isHomeService?L5:0);_.useEffect(()=>{i.date&&$(i.date)},[i.date]),_.useEffect(()=>{i.date&&V()},[i.date,S,B]),_.useEffect(()=>{const pe=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const Ae=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(J=>J.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&J.name.toLowerCase()===i.name.toLowerCase());Ae&&(M(Ae),R(!0))}},1e3);return()=>clearTimeout(pe)},[i.name,i.phone]);const $=async le=>{h(!0);try{let pe=[];if(He){const{data:ce,error:$e}=await He.from("bookings").select("time, duration_minutes").eq("date",le);!$e&&ce&&(pe=ce.map(ze=>{const[Xe,X]=ze.time.split(":").map(Number),Ce=Xe*60+X;return{start:Ce,end:Ce+ze.duration_minutes}}))}const J=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(ce=>ce.date===le).map(ce=>{const[$e,ze]=ce.time.split(":").map(Number),Xe=$e*60+ze,X=ce.duration_minutes||60;return{start:Xe,end:Xe+X}});C([...pe,...J])}catch(pe){console.warn("Error fetching slots",pe),C([])}finally{h(!1)}},V=()=>{const xe=[];for(let Ae=9;Ae<20;Ae++)for(let J=0;J<60;J+=30){const ce=Ae*60+J,$e=ce+B;if($e>1200)continue;if(!S.some(Xe=>ce>=Xe.start&&ce<Xe.end||$e>Xe.start&&$e<=Xe.end||ce<=Xe.start&&$e>=Xe.end)){const Xe=`${Ae.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`;xe.push(Xe)}}y(xe),i.time&&!xe.includes(i.time)&&a(Ae=>({...Ae,time:""}))},Z=()=>{const le={};return i.name||(le.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(le.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(le.email="El formato del email no es vlido"):le.email="El email es obligatorio",i.date||(le.date="Selecciona una fecha"),i.time||(le.time="Selecciona una hora"),i.isHomeService&&!i.address&&(le.address="La direccin es obligatoria para servicio a domicilio"),O(le),Object.keys(le).length===0},K=le=>{const{name:pe,value:xe,type:Ae}=le.target,J=le.target.checked;a(ce=>({...ce,[pe]:Ae==="checkbox"?J:xe})),I[pe]&&O(ce=>{const $e={...ce};return delete $e[pe],$e})},ge=le=>{a(pe=>({...pe,time:le})),I.time&&O(pe=>{const xe={...pe};return delete xe.time,xe})},se=async()=>{const le=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),pe={id:Date.now(),...i,duration_minutes:B,created_at:new Date().toISOString()};if(le.push(pe),localStorage.setItem("mock_bookings",JSON.stringify(le)),He)try{const{error:xe}=await He.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});xe&&console.warn("Error saving lead:",xe),await He.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:B}])}catch(xe){console.warn("Supabase save failed, relying on local:",xe)}},ae=le=>{const xe=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(Ae=>Ae.id!==le);localStorage.setItem("mock_bookings",JSON.stringify(xe))},Se=()=>{T&&(ae(T.id),M(null),R(!1))},_e=()=>{R(!1),a(le=>({...le,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${T.date} a las ${T.time}) se mantiene. Gracias!`)},re=Ip(),Fe=async le=>{if(!Z())return;f(!0),await se();const pe=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,xe=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(U),Ae=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${pe}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${B} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${xe}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(J=>setTimeout(J,800)),f(!1),e&&e(i),re("/confirmation",{state:{booking:i,totalPrice:U,duration:B}});{const J=`https://wa.me/${Bc}?text=${encodeURIComponent(Ae)}`;window.open(J,"_blank")}};return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[D&&T&&g.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:g.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[g.jsx(Ly,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),g.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),g.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",g.jsx("strong",{children:T.name})," el da ",g.jsx("strong",{children:T.date})," a las ",g.jsx("strong",{children:T.time}),"."]}),g.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:Se,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),g.jsx("button",{onClick:_e,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!He&&g.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[g.jsx(y5,{size:12})," MODO DEMO"]}),g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),g.jsxs("div",{className:"relative mb-6",children:[g.jsx("select",{value:t,onChange:le=>r(le.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:Fi.map(le=>g.jsxs("option",{value:le.id,children:[le.name," - $",le.price.toLocaleString("es-CL")]},le.id))}),g.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:g.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),g.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),g.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[g.jsxs("div",{children:[g.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(U)}),g.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[B," min"]}),g.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),g.jsx("div",{className:"mb-4",children:g.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[g.jsx("div",{className:"flex items-center h-5 mt-0.5",children:g.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:K,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),g.jsxs("div",{className:"ml-3",children:[g.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),g.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",F5.join(", "),". ",g.jsx("br",{}),g.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),g.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),g.jsx("ul",{className:"space-y-2",children:n.includes.map((le,pe)=>g.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[g.jsx(Tp,{size:14,className:"text-stone-900 mr-2"}),le]},pe))})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),g.jsx("input",{type:"text",name:"name",value:i.name,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),I.name&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.name})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),g.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),I.phone&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.phone})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),g.jsx("input",{type:"email",name:"email",value:i.email,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),I.email&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.email})]})]}),g.jsxs("div",{className:"animate-in fade-in pt-2",children:[g.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[g.jsx(Id,{size:12})," Quin te recomend? (Opcional)"]}),g.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:K,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&g.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"address",value:i.address,onChange:K,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${I.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),g.jsx(bI,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),I.address&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.address})]})]})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[g.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:K,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${I.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),g.jsx(mI,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),I.date&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.date})]}),i.date&&g.jsxs("div",{className:"animate-in fade-in",children:[g.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[g.jsx("span",{children:"Horas Disponibles"}),p&&g.jsxs("span",{className:"flex items-center text-stone-400",children:[g.jsx(_d,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),x.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:x.map(le=>g.jsx("button",{onClick:()=>ge(le),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===le?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:le},le))}),I.time&&g.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:I.time})]}):g.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:p?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&g.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[g.jsx(gI,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),g.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[g.jsxs("button",{onClick:()=>Fe(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?g.jsx(_d,{className:"animate-spin"}):g.jsx(AI,{size:22}),g.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),g.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},JD=({onSelectPerfume:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(""),[a,c]=_.useState([]),[f,p]=_.useState(!1),h=y=>{if(y.preventDefault(),!n.trim())return;const S=n.toLowerCase().split(/[\s,]+/).filter(O=>O.length>2),I=Ms.map(O=>{let T=0;const M=[],D=(R,B)=>{S.forEach(U=>{R.toLowerCase().includes(U)&&(T+=B,M.includes(U)||M.push(U))})};return D(O.name,3),D(O.description,1),D(O.brand,2),O.notes.forEach(R=>D(R,2)),D(O.category==="arab"?"arabe":"clasico",2),{perfume:O,score:T,matches:M}}).filter(O=>O.score>0).sort((O,T)=>T.score-O.score).slice(0,3);c(I),p(!0)},x=()=>{i(""),c([]),p(!1)};return g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[g.jsx(Wc,{size:24,className:"animate-pulse"}),g.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&g.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[g.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:g.jsx(Ei,{size:24})}),g.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[g.jsx(Wc,{className:"text-yellow-300"})," Asesor de Aromas"]}),g.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),g.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?g.jsx("div",{className:"space-y-4",children:a.length>0?g.jsxs(g.Fragment,{children:[g.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),a.map(({perfume:y,matches:S},C)=>g.jsxs("div",{onClick:()=>{e(y.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[g.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[C===0&&g.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),g.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:y.name}),g.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:y.brand}),g.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(I=>g.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",I]},I))})]})]},y.id)),g.jsx("button",{onClick:x,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):g.jsxs("div",{className:"text-center py-8",children:[g.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),g.jsx("button",{onClick:x,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:g.jsx(Fy,{size:48,className:"text-purple-400"})}),g.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),g.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",g.jsx("br",{}),'"Algo dulce con vainilla"',g.jsx("br",{}),'"Fresco y ctrico para el da"',g.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),g.jsx("form",{onSubmit:h,className:"p-4 border-t border-stone-100 bg-stone-50",children:g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),g.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?g.jsx(Hc,{size:20}):g.jsx(SI,{size:20})})]})})]})})]})},eL=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(null),[i,a]=_.useState("all"),[c,f]=_.useState({});_.useEffect(()=>{p()},[]);const p=async()=>{const{data:D}=await He.from("inventory").select("product_id, quantity");if(D){const R={};D.forEach(B=>{R[B.product_id]=B.quantity}),f(R)}},h=D=>{t("");const R=Ms.find(B=>B.id===D);R&&(a(R.category),setTimeout(()=>{const B=document.getElementById(`perfume-${D}`);B&&B.scrollIntoView({behavior:"smooth",block:"center"}),B?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>B?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},x=_.useMemo(()=>{const D=new Set;return Ms.forEach(R=>R.notes.forEach(B=>D.add(B))),Array.from(D).sort()},[]),y=_.useMemo(()=>Ms.filter(D=>{const R=D.name.toLowerCase().includes(e.toLowerCase())||D.brand.toLowerCase().includes(e.toLowerCase()),B=r?D.notes.includes(r):!0,U=i==="all"||D.category===i;return R&&B&&U}).sort((D,R)=>{const B=c[D.id]!==void 0?c[D.id]>0:D.stock,U=c[R.id]!==void 0?c[R.id]>0:R.stock;return B===U?0:B?-1:1}),[e,r,i,c]),S=y.filter(D=>D.category==="classic"),C=y.filter(D=>D.category==="arab"),I=(D,R)=>{const B=R==="5ml"?D.price5ml:D.price10ml,U=`Hola Tus3B Style, quiero comprar el decant de *${D.brand} - ${D.name}* en formato *${R}* por $${B}. Tienen disponibilidad?`,$=`https://wa.me/${Bc}?text=${encodeURIComponent(U)}`;window.open($,"_blank")},O=D=>{if(!D.priceFullBottle)return;const R=`Hola Tus3B Style, quiero comprar la botella completa de *${D.brand} - ${D.name}* por $${D.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,B=`https://wa.me/${Bc}?text=${encodeURIComponent(R)}`;window.open(B,"_blank")},T=()=>{window.open(`https://wa.me/${Bc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},M=D=>g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:D.map((R,B)=>g.jsxs("div",{className:"group flex flex-col h-full",children:[g.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&g.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:B+1}),g.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[g.jsx("img",{src:R.image,alt:R.name,className:`w-full h-full object-contain ${R.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),R.secondaryImage&&g.jsx("img",{src:R.secondaryImage,alt:`${R.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),g.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!R.stock&&g.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:g.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),g.jsxs("div",{className:"flex-1 flex flex-col",children:[g.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:R.brand}),g.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:R.name}),g.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:R.description}),g.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.notes.slice(0,3).map(U=>g.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:U},U))}),g.jsxs("div",{className:"mt-auto space-y-3",children:[!R.isSpray&&g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{onClick:()=>I(R,"5ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[g.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),g.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price5ml.toLocaleString("es-CL")]})]}),g.jsxs("button",{onClick:()=>I(R,"10ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[g.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),g.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price10ml.toLocaleString("es-CL")]})]})]}),R.priceFullBottle&&g.jsxs("button",{onClick:()=>O(R),disabled:!(c[R.id]!==void 0?c[R.id]>0:R.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[R.id]!==void 0?c[R.id]>0:R.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[g.jsx(Pl,{size:14}),g.jsxs("span",{children:["Botella ",R.isSpray?"200ml":"100ml"," - $",R.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},R.id))});return g.jsxs("div",{className:"space-y-16 fade-in",children:[g.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),g.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),g.jsxs("div",{className:"relative w-full md:w-72",children:[g.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:D=>t(D.target.value)}),g.jsx(Hc,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),g.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:g.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[g.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),x.map(D=>g.jsx("button",{onClick:()=>n(r===D?null:D),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===D?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:D},D))]})})]}),g.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),g.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),g.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",g.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),g.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),g.jsxs("ul",{className:"space-y-4 pt-2",children:[g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:g.jsx(Lc,{size:14,className:"text-green-500"})}),g.jsxs("span",{className:"text-stone-700 text-sm",children:[g.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:g.jsx(Lc,{size:14,className:"text-green-500"})}),g.jsxs("span",{className:"text-stone-700 text-sm",children:[g.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:g.jsx(Lc,{size:14,className:"text-green-500"})}),g.jsxs("span",{className:"text-stone-700 text-sm",children:[g.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:D=>D.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),g.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(CI,{fill:"#fbbf24",className:"text-amber-400",size:16}),g.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),g.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const D=U=>U.some($=>c[$.id]!==void 0?c[$.id]>0:$.stock),B=[{id:"arab",hasStock:D(C),items:C,render:()=>g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:g.jsx(Wc,{size:24,className:"text-purple-600"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),g.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),M(C)]},"arab")},{id:"classic",hasStock:D(S),items:S,render:()=>g.jsxs("section",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:g.jsx(h5,{size:24,className:"text-stone-800"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),g.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),M(S)]},"classic")}].sort((U,$)=>U.hasStock===$.hasStock?U.id==="arab"?-1:1:U.hasStock?-1:1);return B.map((U,$)=>g.jsxs(sr.Fragment,{children:[U.items.length>0&&U.render(),$===0&&B.length>1&&B[1].items.length>0&&B[0].items.length>0&&g.jsx("div",{className:"border-t border-stone-100 my-16"})]},U.id))})(),y.length===0&&g.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[g.jsx(Pl,{size:48,className:"mx-auto text-stone-300 mb-4"}),g.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),g.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),g.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[g.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[g.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:g.jsx(E5,{size:32,className:"text-yellow-200"})}),g.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),g.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),g.jsxs("button",{onClick:T,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[g.jsx(Fy,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),g.jsx(JD,{onSelectPerfume:h})]})},tL=()=>g.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[g.jsxs("div",{children:[g.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",g.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),g.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),g.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[g.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),g.jsxs("a",{href:`https://wa.me/${Bc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[g.jsx(Fy,{size:16})," WhatsApp: +56 9 8452 4774"]}),g.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),g.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),g.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[g.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),g.jsx("div",{className:"flex space-x-4",children:g.jsx("a",{href:D5,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:g.jsx(b5,{size:20})})})]})]}),g.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),rL=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],Ac={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},nL=e=>{const t=e.toLowerCase();return rL.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},iL=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return Ac.concepts;if(r.includes("oud")||r.includes("arabe"))return Ac.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return Ac.greeting;if(r.includes("precio")||r.includes("valor"))return Ac.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return Ac.shipping;const n=nL(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const a=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${a}

Quieres detalles de alguno?`}return Ac.default},aL=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},sL=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[i,a]=_.useState(""),[c,f]=_.useState(!1),p=_.useRef(null),h=()=>{p.current?.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{h()},[r,e]);const x=async()=>{if(!i.trim()||c)return;const S=i;n(I=>[...I,{role:"user",text:S}]),a(""),f(!0);const C=r.map(I=>`${I.role==="user"?"Usuario":"Bot"}: ${I.text}`);try{const I=await iL(S,C);n(O=>[...O,{role:"bot",text:I}])}catch{n(O=>[...O,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}f(!1)},y=S=>{S.key==="Enter"&&x()};return g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?g.jsx(Ei,{color:"white"}):g.jsx(Wc,{color:"white"})}),e&&g.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[g.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[g.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:g.jsx(Wc,{size:16,className:"text-yellow-400"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),g.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((S,C)=>g.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${S.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:S.text})},C)),c&&g.jsx("div",{className:"flex justify-start",children:g.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[g.jsx(_d,{size:16,className:"animate-spin text-stone-400"}),g.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),g.jsx("div",{ref:p})]}),g.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[g.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),onKeyDown:y,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),g.jsx("button",{onClick:x,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:g.jsx(SI,{size:16})})]})]})]})},oL=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(_.useEffect(()=>{window.scrollTo(0,0)},[]),g.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:g.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),g.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:g.jsx(Tp,{size:40,strokeWidth:2.5})}),g.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),g.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&g.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[g.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[g.jsx(bI,{size:14})," Direccin del Servicio"]}),g.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),g.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[g.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[g.jsx(v5,{size:20}),"Regresar al Inicio"]}),g.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[g.jsx(Pl,{size:20}),g.jsxs("span",{children:["Venta de Perfumes ",g.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),lL=()=>g.jsx("section",{className:"py-24 bg-white",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),g.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:z5.map(e=>g.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[g.jsx(S5,{className:"absolute top-6 right-6 text-stone-200",size:40}),g.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>g.jsx(CI,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),g.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),g.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),g.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),g.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var cL=Object.defineProperty,N0=Object.getOwnPropertySymbols,VO=Object.prototype.hasOwnProperty,qO=Object.prototype.propertyIsEnumerable,RS=(e,t,r)=>t in e?cL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ev=(e,t)=>{for(var r in t||(t={}))VO.call(t,r)&&RS(e,r,t[r]);if(N0)for(var r of N0(t))qO.call(t,r)&&RS(e,r,t[r]);return e},Sv=(e,t)=>{var r={};for(var n in e)VO.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&N0)for(var n of N0(e))t.indexOf(n)<0&&qO.call(e,n)&&(r[n]=e[n]);return r};var kl;(e=>{const t=class Rt{constructor(p,h,x,y){if(this.version=p,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],p<Rt.MIN_VERSION||p>Rt.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let I=0;I<this.size;I++)S.push(!1);for(let I=0;I<this.size;I++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(x);if(this.drawCodewords(C),y==-1){let I=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const T=this.getPenaltyScore();T<I&&(y=O,I=T),this.applyMask(O)}}i(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}static encodeText(p,h){const x=e.QrSegment.makeSegments(p);return Rt.encodeSegments(x,h)}static encodeBinary(p,h){const x=e.QrSegment.makeBytes(p);return Rt.encodeSegments([x],h)}static encodeSegments(p,h,x=1,y=40,S=-1,C=!0){if(!(Rt.MIN_VERSION<=x&&x<=y&&y<=Rt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let I,O;for(I=x;;I++){const R=Rt.getNumDataCodewords(I,h)*8,B=c.getTotalBits(p,I);if(B<=R){O=B;break}if(I>=y)throw new RangeError("Data too long")}for(const R of[Rt.Ecc.MEDIUM,Rt.Ecc.QUARTILE,Rt.Ecc.HIGH])C&&O<=Rt.getNumDataCodewords(I,R)*8&&(h=R);let T=[];for(const R of p){r(R.mode.modeBits,4,T),r(R.numChars,R.mode.numCharCountBits(I),T);for(const B of R.getData())T.push(B)}i(T.length==O);const M=Rt.getNumDataCodewords(I,h)*8;i(T.length<=M),r(0,Math.min(4,M-T.length),T),r(0,(8-T.length%8)%8,T),i(T.length%8==0);for(let R=236;T.length<M;R^=253)r(R,8,T);let D=[];for(;D.length*8<T.length;)D.push(0);return T.forEach((R,B)=>D[B>>>3]|=R<<7-(B&7)),new Rt(I,h,D,S)}getModule(p,h){return 0<=p&&p<this.size&&0<=h&&h<this.size&&this.modules[h][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),h=p.length;for(let x=0;x<h;x++)for(let y=0;y<h;y++)x==0&&y==0||x==0&&y==h-1||x==h-1&&y==0||this.drawAlignmentPattern(p[x],p[y]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const h=this.errorCorrectionLevel.formatBits<<3|p;let x=h;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const y=(h<<10|x)^21522;i(y>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,n(y,S));this.setFunctionModule(8,7,n(y,6)),this.setFunctionModule(8,8,n(y,7)),this.setFunctionModule(7,8,n(y,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,n(y,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,n(y,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,n(y,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const h=this.version<<12|p;i(h>>>18==0);for(let x=0;x<18;x++){const y=n(h,x),S=this.size-11+x%3,C=Math.floor(x/3);this.setFunctionModule(S,C,y),this.setFunctionModule(C,S,y)}}drawFinderPattern(p,h){for(let x=-4;x<=4;x++)for(let y=-4;y<=4;y++){const S=Math.max(Math.abs(y),Math.abs(x)),C=p+y,I=h+x;0<=C&&C<this.size&&0<=I&&I<this.size&&this.setFunctionModule(C,I,S!=2&&S!=4)}}drawAlignmentPattern(p,h){for(let x=-2;x<=2;x++)for(let y=-2;y<=2;y++)this.setFunctionModule(p+y,h+x,Math.max(Math.abs(y),Math.abs(x))!=1)}setFunctionModule(p,h,x){this.modules[h][p]=x,this.isFunction[h][p]=!0}addEccAndInterleave(p){const h=this.version,x=this.errorCorrectionLevel;if(p.length!=Rt.getNumDataCodewords(h,x))throw new RangeError("Invalid argument");const y=Rt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][h],S=Rt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][h],C=Math.floor(Rt.getNumRawDataModules(h)/8),I=y-C%y,O=Math.floor(C/y);let T=[];const M=Rt.reedSolomonComputeDivisor(S);for(let R=0,B=0;R<y;R++){let U=p.slice(B,B+O-S+(R<I?0:1));B+=U.length;const $=Rt.reedSolomonComputeRemainder(U,M);R<I&&U.push(0),T.push(U.concat($))}let D=[];for(let R=0;R<T[0].length;R++)T.forEach((B,U)=>{(R!=O-S||U>=I)&&D.push(B[R])});return i(D.length==C),D}drawCodewords(p){if(p.length!=Math.floor(Rt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let y=0;y<this.size;y++)for(let S=0;S<2;S++){const C=x-S,O=(x+1&2)==0?this.size-1-y:y;!this.isFunction[O][C]&&h<p.length*8&&(this.modules[O][C]=n(p[h>>>3],7-(h&7)),h++)}}i(h==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let x=0;x<this.size;x++){let y;switch(p){case 0:y=(x+h)%2==0;break;case 1:y=h%2==0;break;case 2:y=x%3==0;break;case 3:y=(x+h)%3==0;break;case 4:y=(Math.floor(x/3)+Math.floor(h/2))%2==0;break;case 5:y=x*h%2+x*h%3==0;break;case 6:y=(x*h%2+x*h%3)%2==0;break;case 7:y=((x+h)%2+x*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][x]&&y&&(this.modules[h][x]=!this.modules[h][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let C=!1,I=0,O=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[S][T]==C?(I++,I==5?p+=Rt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,O),C||(p+=this.finderPenaltyCountPatterns(O)*Rt.PENALTY_N3),C=this.modules[S][T],I=1);p+=this.finderPenaltyTerminateAndCount(C,I,O)*Rt.PENALTY_N3}for(let S=0;S<this.size;S++){let C=!1,I=0,O=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][S]==C?(I++,I==5?p+=Rt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,O),C||(p+=this.finderPenaltyCountPatterns(O)*Rt.PENALTY_N3),C=this.modules[T][S],I=1);p+=this.finderPenaltyTerminateAndCount(C,I,O)*Rt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let C=0;C<this.size-1;C++){const I=this.modules[S][C];I==this.modules[S][C+1]&&I==this.modules[S+1][C]&&I==this.modules[S+1][C+1]&&(p+=Rt.PENALTY_N2)}let h=0;for(const S of this.modules)h=S.reduce((C,I)=>C+(I?1:0),h);const x=this.size*this.size,y=Math.ceil(Math.abs(h*20-x*10)/x)-1;return i(0<=y&&y<=9),p+=y*Rt.PENALTY_N4,i(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let y=this.size-7;x.length<p;y-=h)x.splice(1,0,y);return x}}static getNumRawDataModules(p){if(p<Rt.MIN_VERSION||p>Rt.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;h-=(25*x-10)*x-55,p>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(p,h){return Math.floor(Rt.getNumRawDataModules(p)/8)-Rt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][p]*Rt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let h=[];for(let y=0;y<p-1;y++)h.push(0);h.push(1);let x=1;for(let y=0;y<p;y++){for(let S=0;S<h.length;S++)h[S]=Rt.reedSolomonMultiply(h[S],x),S+1<h.length&&(h[S]^=h[S+1]);x=Rt.reedSolomonMultiply(x,2)}return h}static reedSolomonComputeRemainder(p,h){let x=h.map(y=>0);for(const y of p){const S=y^x.shift();x.push(0),h.forEach((C,I)=>x[I]^=Rt.reedSolomonMultiply(C,S))}return x}static reedSolomonMultiply(p,h){if(p>>>8||h>>>8)throw new RangeError("Byte out of range");let x=0;for(let y=7;y>=0;y--)x=x<<1^(x>>>7)*285,x^=(h>>>y&1)*p;return i(x>>>8==0),x}finderPenaltyCountPatterns(p){const h=p[1];i(h<=this.size*3);const x=h>0&&p[2]==h&&p[3]==h*3&&p[4]==h&&p[5]==h;return(x&&p[0]>=h*4&&p[6]>=h?1:0)+(x&&p[6]>=h*4&&p[0]>=h?1:0)}finderPenaltyTerminateAndCount(p,h,x){return p&&(this.finderPenaltyAddHistory(h,x),h=0),h+=this.size,this.finderPenaltyAddHistory(h,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,h){h[0]==0&&(p+=this.size),h.pop(),h.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,p,h){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)h.push(f>>>x&1)}function n(f,p){return(f>>>p&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const a=class Vr{constructor(p,h,x){if(this.mode=p,this.numChars=h,this.bitData=x,h<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let h=[];for(const x of p)r(x,8,h);return new Vr(Vr.Mode.BYTE,p.length,h)}static makeNumeric(p){if(!Vr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let h=[];for(let x=0;x<p.length;){const y=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+y),10),y*3+1,h),x+=y}return new Vr(Vr.Mode.NUMERIC,p.length,h)}static makeAlphanumeric(p){if(!Vr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],x;for(x=0;x+2<=p.length;x+=2){let y=Vr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;y+=Vr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(y,11,h)}return x<p.length&&r(Vr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,h),new Vr(Vr.Mode.ALPHANUMERIC,p.length,h)}static makeSegments(p){return p==""?[]:Vr.isNumeric(p)?[Vr.makeNumeric(p)]:Vr.isAlphanumeric(p)?[Vr.makeAlphanumeric(p)]:[Vr.makeBytes(Vr.toUtf8ByteArray(p))]}static makeEci(p){let h=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,h);else if(p<16384)r(2,2,h),r(p,14,h);else if(p<1e6)r(6,3,h),r(p,21,h);else throw new RangeError("ECI assignment value out of range");return new Vr(Vr.Mode.ECI,0,h)}static isNumeric(p){return Vr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Vr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,h){let x=0;for(const y of p){const S=y.mode.numCharCountBits(h);if(y.numChars>=1<<S)return 1/0;x+=4+S+y.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let h=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?h.push(p.charCodeAt(x)):(h.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;e.QrSegment=a})(kl||(kl={}));(e=>{(t=>{const r=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(kl||(kl={}));(e=>{(t=>{const r=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(kl||(kl={}));var jc=kl;var uL={L:jc.QrCode.Ecc.LOW,M:jc.QrCode.Ecc.MEDIUM,Q:jc.QrCode.Ecc.QUARTILE,H:jc.QrCode.Ecc.HIGH},GO=128,KO="L",YO="#FFFFFF",XO="#000000",QO=!1,ZO=1,dL=4,fL=0,hL=.1;function JO(e,t=0){const r=[];return e.forEach(function(n,i){let a=null;n.forEach(function(c,f){if(!c&&a!==null){r.push(`M${a+t} ${i+t}h${f-a}v1H${a+t}z`),a=null;return}if(f===n.length-1){if(!c)return;a===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${a+t},${i+t} h${f+1-a}v1H${a+t}z`);return}c&&a===null&&(a=f)})}),r.join("")}function eT(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,a)=>a<t.x||a>=t.x+t.w?i:!1))}function pL(e,t,r,n){if(n==null)return null;const i=e.length+r*2,a=Math.floor(t*hL),c=i/t,f=(n.width||a)*c,p=(n.height||a)*c,h=n.x==null?e.length/2-f/2:n.x*c,x=n.y==null?e.length/2-p/2:n.y*c,y=n.opacity==null?1:n.opacity;let S=null;if(n.excavate){let I=Math.floor(h),O=Math.floor(x),T=Math.ceil(f+h-I),M=Math.ceil(p+x-O);S={x:I,y:O,w:T,h:M}}const C=n.crossOrigin;return{x:h,y:x,h:p,w:f,excavation:S,opacity:y,crossOrigin:C}}function mL(e,t){return t!=null?Math.max(Math.floor(t),0):e?dL:fL}function tT({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:c,boostLevel:f}){let p=sr.useMemo(()=>{const I=(Array.isArray(e)?e:[e]).reduce((O,T)=>(O.push(...jc.QrSegment.makeSegments(T)),O),[]);return jc.QrCode.encodeSegments(I,uL[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:h,margin:x,numCells:y,calculatedImageSettings:S}=sr.useMemo(()=>{let C=p.getModules();const I=mL(n,i),O=C.length+I*2,T=pL(C,c,I,a);return{cells:C,margin:I,numCells:O,calculatedImageSettings:T}},[p,c,a,n,i]);return{qrcode:p,margin:x,cells:h,numCells:y,calculatedImageSettings:S}}var gL=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),xL=sr.forwardRef(function(t,r){const n=t,{value:i,size:a=GO,level:c=KO,bgColor:f=YO,fgColor:p=XO,includeMargin:h=QO,minVersion:x=ZO,boostLevel:y,marginSize:S,imageSettings:C}=n,O=Sv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=O,M=Sv(O,["style"]),D=C?.src,R=sr.useRef(null),B=sr.useRef(null),U=sr.useCallback(_e=>{R.current=_e,typeof r=="function"?r(_e):r&&(r.current=_e)},[r]),[$,V]=sr.useState(!1),{margin:Z,cells:K,numCells:ge,calculatedImageSettings:se}=tT({value:i,level:c,minVersion:x,boostLevel:y,includeMargin:h,marginSize:S,imageSettings:C,size:a});sr.useEffect(()=>{if(R.current!=null){const _e=R.current,re=_e.getContext("2d");if(!re)return;let Fe=K;const le=B.current,pe=se!=null&&le!==null&&le.complete&&le.naturalHeight!==0&&le.naturalWidth!==0;pe&&se.excavation!=null&&(Fe=eT(K,se.excavation));const xe=window.devicePixelRatio||1;_e.height=_e.width=a*xe;const Ae=a/ge*xe;re.scale(Ae,Ae),re.fillStyle=f,re.fillRect(0,0,ge,ge),re.fillStyle=p,gL?re.fill(new Path2D(JO(Fe,Z))):K.forEach(function(J,ce){J.forEach(function($e,ze){$e&&re.fillRect(ze+Z,ce+Z,1,1)})}),se&&(re.globalAlpha=se.opacity),pe&&re.drawImage(le,se.x+Z,se.y+Z,se.w,se.h)}}),sr.useEffect(()=>{V(!1)},[D]);const ae=Ev({height:a,width:a},T);let Se=null;return D!=null&&(Se=sr.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{V(!0)},ref:B,crossOrigin:se?.crossOrigin})),sr.createElement(sr.Fragment,null,sr.createElement("canvas",Ev({style:ae,height:a,width:a,ref:U,role:"img"},M)),Se)});xL.displayName="QRCodeCanvas";var Qy=sr.forwardRef(function(t,r){const n=t,{value:i,size:a=GO,level:c=KO,bgColor:f=YO,fgColor:p=XO,includeMargin:h=QO,minVersion:x=ZO,boostLevel:y,title:S,marginSize:C,imageSettings:I}=n,O=Sv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:M,numCells:D,calculatedImageSettings:R}=tT({value:i,level:c,minVersion:x,boostLevel:y,includeMargin:h,marginSize:C,imageSettings:I,size:a});let B=M,U=null;I!=null&&R!=null&&(R.excavation!=null&&(B=eT(M,R.excavation)),U=sr.createElement("image",{href:I.src,height:R.h,width:R.w,x:R.x+T,y:R.y+T,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const $=JO(B,T);return sr.createElement("svg",Ev({height:a,width:a,viewBox:`0 0 ${D} ${D}`,ref:r,role:"img"},O),!!S&&sr.createElement("title",null,S),sr.createElement("path",{fill:f,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),sr.createElement("path",{fill:p,d:$,shapeRendering:"crispEdges"}),U)});Qy.displayName="QRCodeSVG";const vL=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":/android/i.test(e)?"android":"other"},yL=e=>{const t={Bronce:"",Plata:"",Gold:""};return{formatVersion:1,passTypeIdentifier:"pass.cl.tus3b.loyalty",serialNumber:e.token,teamIdentifier:"TUS3BSTYLE",organizationName:"Tus3B Style",description:"Tarjeta de Fidelidad Tus3B Style",logoText:"Tus3B Style",foregroundColor:"rgb(255, 255, 255)",backgroundColor:e.tier==="Gold"?"rgb(245, 158, 11)":e.tier==="Plata"?"rgb(148, 163, 184)":"rgb(28, 25, 23)",storeCard:{headerFields:[{key:"tier",label:"NIVEL",value:`${t[e.tier]} ${e.tier}`}],primaryFields:[{key:"name",label:"CLIENTE",value:e.clientName}],secondaryFields:[{key:"visits",label:"VISITAS",value:e.visits.toString()},{key:"next",label:"PRXIMO NIVEL",value:e.tier==="Bronce"?"5 visitas":e.tier==="Plata"?"10 visitas":"Eres VIP!"}],auxiliaryFields:[{key:"id",label:"ID MIEMBRO",value:e.token.substring(0,8).toUpperCase()}],backFields:[{key:"website",label:"Sitio Web",value:"https://tus3b.cl"},{key:"benefits",label:"Beneficios",value:e.tier==="Gold"?"30% OFF en servicios + Trato VIP":e.tier==="Plata"?"15% OFF en servicios":"5% OFF en productos"},{key:"howto",label:"Cmo usar",value:"Muestra este cdigo QR en cada visita para acumular puntos."}]},barcode:{message:e.token,format:"PKBarcodeFormatQR",messageEncoding:"iso-8859-1"}}},bL=e=>{const t=yL(e);sessionStorage.setItem("tus3b_wallet_pass",JSON.stringify({...t,_instructions:`
Para agregar tu tarjeta a Apple Wallet:

1. Visita: https://walletwallet.alen.ro/
2. Selecciona "Store Card" como tipo
3. Completa los campos:
   - Organization: Tus3B Style
   - Header: Nivel ${e.tier}
   - Primary: ${e.clientName}
   - Secondary: ${e.visits} Visitas
   - Barcode: QR con valor "${e.token}"
4. Descarga el pass y brelo en tu iPhone
        `.trim()})),window.open("https://walletwallet.alen.ro/","_blank")},wL=({clientName:e,token:t,visits:r,tier:n})=>{const[i,a]=_.useState(!1),[c,f]=_.useState("apple"),[p,h]=_.useState(!1),x=vL(),y=()=>{f("apple"),a(!0)},S=()=>{f("google"),a(!0)},C=async()=>{try{await navigator.clipboard.writeText(t),h(!0),setTimeout(()=>h(!1),2e3)}catch(D){console.error("Error copying:",D)}},I=()=>{c==="apple"?bL({clientName:e,token:t,visits:r,tier:n}):window.open("https://99minds.io/wallet-pass-creator","_blank")},O={Bronce:"",Plata:"",Gold:""},T=x==="ios"||x==="other",M=x==="android"||x==="other";return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[T&&g.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 bg-black hover:bg-gray-900 text-white py-3 px-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl group w-full",children:[g.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:g.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),g.jsx("span",{className:"font-medium",children:"Agregar a Apple Wallet"})]}),M&&g.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 py-3 px-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl group w-full border border-gray-200",children:[g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),g.jsx("span",{className:"font-medium",children:"Agregar a Google Wallet"})]}),g.jsx("p",{className:"text-[10px] text-stone-500 text-center",children:x==="ios"?"Disponible para iPhone  Gratis":x==="android"?"Disponible para Android  Gratis":"Disponible para iPhone y Android  Gratis"})]}),i&&g.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-stone-900 border border-stone-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-800",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${c==="apple"?"bg-gradient-to-br from-amber-500 to-amber-600":"bg-gradient-to-br from-blue-500 to-green-500"}`,children:g.jsx(j5,{className:"w-5 h-5 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-white",children:c==="apple"?"Apple Wallet":"Google Wallet"}),g.jsx("p",{className:"text-xs text-stone-400",children:"Agregar tarjeta"})]})]}),g.jsx("button",{onClick:()=>a(!1),className:"w-8 h-8 rounded-full bg-stone-800 hover:bg-stone-700 flex items-center justify-center text-stone-400 hover:text-white transition-colors",children:g.jsx(Ei,{size:18})})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:`rounded-xl p-4 ${n==="Gold"?"bg-gradient-to-br from-amber-500 to-amber-600":n==="Plata"?"bg-gradient-to-br from-slate-400 to-slate-500":"bg-gradient-to-br from-stone-700 to-stone-800"}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase tracking-wider opacity-70",children:"Tus3B Style"}),g.jsx("p",{className:"font-bold text-lg",children:e.split(" ")[0]})]}),g.jsx("span",{className:"text-2xl",children:O[n]})]}),g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Visitas"}),g.jsx("p",{className:"text-2xl font-bold",children:r})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Nivel"}),g.jsx("p",{className:"font-bold",children:n})]})]})]})}),g.jsxs("div",{className:"p-4 pt-0 space-y-3",children:[g.jsxs("div",{className:"bg-stone-950 rounded-xl p-4 border border-stone-800",children:[g.jsxs("h4",{className:`font-bold text-sm mb-3 flex items-center gap-2 ${c==="apple"?"text-amber-400":"text-blue-400"}`,children:[g.jsx(AI,{size:16}),c==="apple"?"Pasos para agregar a Apple Wallet":"Pasos para agregar a Google Wallet"]}),g.jsxs("ol",{className:"space-y-2 text-sm text-stone-300",children:[g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"1"}),g.jsx("span",{children:'Haz clic en "Crear Pass" abajo'})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"2"}),g.jsx("span",{children:c==="apple"?'Selecciona "Store Card" como tipo':'Selecciona "Loyalty Card"'})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"3"}),g.jsx("span",{children:"Copia los datos mostrados abajo"})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"4"}),g.jsx("span",{children:'En "Barcode", pega tu cdigo QR'})]}),g.jsxs("li",{className:"flex gap-2",children:[g.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"5"}),g.jsx("span",{children:c==="apple"?"Descarga y abre en tu iPhone":"Guarda en tu Google Wallet"})]})]})]}),g.jsxs("div",{className:"bg-stone-950 rounded-xl p-4 border border-stone-800",children:[g.jsx("h4",{className:"text-xs font-bold text-stone-400 uppercase mb-2",children:"Tus Datos"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-stone-500",children:"Organizacin:"}),g.jsx("span",{className:"text-white font-mono",children:"Tus3B Style"})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-stone-500",children:"Nombre:"}),g.jsx("span",{className:"text-white font-mono",children:e})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-stone-500",children:"Nivel:"}),g.jsx("span",{className:"text-white font-mono",children:n})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-stone-500",children:"Visitas:"}),g.jsx("span",{className:"text-white font-mono",children:r})]}),g.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-stone-800",children:[g.jsx("span",{className:"text-stone-500",children:"Cdigo QR:"}),g.jsxs("button",{onClick:C,className:"flex items-center gap-1 bg-stone-800 hover:bg-stone-700 px-2 py-1 rounded text-xs font-mono text-amber-400 transition-colors",children:[p?g.jsx(Lc,{size:12,className:"text-green-400"}):g.jsx(d5,{size:12}),t.substring(0,12),"..."]})]})]})]})]}),g.jsxs("div",{className:"p-4 pt-0 space-y-2",children:[g.jsxs("button",{onClick:I,className:`w-full font-bold py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg ${c==="apple"?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-black shadow-amber-500/20":"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-400 hover:to-green-400 text-white shadow-blue-500/20"}`,children:[g.jsx(m5,{size:18}),"Crear Pass Gratis"]}),g.jsx("button",{onClick:()=>a(!1),className:"w-full bg-stone-800 hover:bg-stone-700 text-stone-300 py-3 px-4 rounded-xl transition-colors",children:"Cerrar"})]})]})})]})},EL=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[a,c]=_.useState(!1),p=(x=>{switch(x==="Silver"&&(x="Bronce"),x){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return g.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!a),children:[g.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${a?"rotate-y-180":""}`,children:[g.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[680px] border border-stone-800",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",g.jsx("span",{className:"text-amber-500",children:"Style"})]}),g.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:p.name})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),g.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),g.jsxs("div",{className:"px-6 py-4 z-10",children:[g.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((x,y)=>g.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${y<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:y<r&&g.jsx(Lc,{size:20,className:"text-stone-950 stroke-[4]"})},y))}),g.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[g.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),g.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),g.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),g.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),g.jsx("div",{className:"w-px h-10 bg-stone-800"}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),g.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),g.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[g.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),g.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),g.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[g.jsx(Qy,{value:t,size:160,level:"M"}),g.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]}),g.jsx("div",{className:"mt-4 w-full",onClick:x=>x.stopPropagation(),children:g.jsx(wL,{clientName:e,token:t,visits:r,tier:i||"Bronce"})})]}),g.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${p.bgGradient} z-0`})]}),g.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[680px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[g.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),g.jsx(g5,{className:"text-stone-500"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),g.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),g.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),g.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),g.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),g.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),g.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),g.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),g.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),g.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},SL=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(null),[c,f]=_.useState(null),[p,h]=_.useState(!1),[x,y]=_.useState(""),[S,C]=_.useState(""),[I,O]=_.useState(""),T=B=>{let U=B.replace(/[^0-9kK]/g,"").toUpperCase();return U=U.replace("K","0"),U},M=B=>{const U=B.target.value.replace(/[^0-9]/g,"");U.length<=8&&t(U)},D=async B=>{B&&B.preventDefault();const $=new URLSearchParams(window.location.search).get("token");if(!(!$&&e.length<8)){n(!0);try{let V=He.from("clients").select("*");$?V=V.eq("member_token",$):V=V.eq("phone","+569"+e);const{data:Z,error:K}=await V.single();if(Z){const ge=Z.visits||0;let se="Bronce";ge>=10?se="Gold":ge>=5&&(se="Plata"),f({name:Z.name,visits:ge,referrals:Z.referrals,nextReward:ge<5?5:ge<10?10:15,token:Z.member_token,tier:se,hair_service_count:Z.hair_service_count||0}),h(!1)}else $||h(!0)}catch(V){console.error("Error checking loyalty:",V)}finally{n(!1)}}},R=async B=>{B.preventDefault(),n(!0);try{if(!He)throw new Error("Sistema no disponible. Contacta al administrador.");if(!x.trim()||!S.trim())throw new Error("Por favor completa nombre y apellido");const U=T(I),$="+569"+e,Z="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){const ae=Math.random()*16|0;return(se==="x"?ae:ae&3|8).toString(16)});console.log("Registrando cliente:",{fullPhone:$,name:`${x} ${S}`,token:Z});const{data:K,error:ge}=await He.from("clients").insert([{name:`${x} ${S}`,phone:$,rut:U,visits:0,referrals:0,hair_service_count:0,member_token:Z}]).select();if(console.log("Resultado insert:",{data:K,error:ge}),ge)throw console.error("Error de Supabase:",ge),new Error(ge.message||"Error al registrar");if(K&&K[0]){const se=K[0];console.log("Cliente creado:",se),f({name:se.name,visits:0,referrals:0,nextReward:5,token:se.member_token||Z,tier:"Bronce",hair_service_count:0}),h(!1)}else throw new Error("No se recibieron datos del servidor")}catch(U){console.error("Error registering:",U),a(U.message||"No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return sr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&D()},[]),g.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),g.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),g.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!c&&!p&&g.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[g.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),g.jsxs("form",{onSubmit:D,className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 group",children:[g.jsx("span",{className:"bg-stone-800/50 text-stone-400 font-mono text-sm px-3 py-4 rounded-xl border border-stone-700 whitespace-nowrap",children:"+569"}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx("input",{type:"tel",value:e,onChange:M,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 px-4 pr-10 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono text-lg tracking-wider"}),g.jsx(Hc,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]})]}),g.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?g.jsx(_d,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!c&&p&&g.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:g.jsx(Id,{size:24})}),g.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),g.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",g.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),g.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i&&g.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex items-center gap-3",children:[g.jsx(Ly,{className:"text-red-400 shrink-0",size:20}),g.jsx("p",{className:"text-red-300 text-sm",children:i})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:x,onChange:B=>{y(B.target.value),a(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),g.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:S,onChange:B=>{C(B.target.value),a(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),g.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:I,onChange:B=>{O(B.target.value),a(null)},className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),g.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?g.jsx(_d,{className:"animate-spin"}):"Registrarme"}),g.jsx("button",{type:"button",onClick:()=>h(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),c&&g.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[g.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:g.jsx(EL,{clientName:c.name||"Miembro Exclusivo",token:c.token||"pending-token",visits:c.visits,nextReward:5,tier:c.tier})}),g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("p",{className:"text-sm text-stone-400",children:c.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),g.jsx("button",{onClick:()=>{f(null),t(""),h(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},AL="modulepreload",CL=function(e){return"/"+e},MS={},_L=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let p=function(h){return Promise.all(h.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");i=p(r.map(h=>{if(h=CL(h),h in MS)return;MS[h]=!0;const x=h.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":AL,x||(S.as="script"),S.crossOrigin="",S.href=h,f&&S.setAttribute("nonce",f),document.head.appendChild(S),x)return new Promise((C,I)=>{S.addEventListener("load",C),S.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})},NL=({onLogin:e})=>{const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,c]=_.useState(""),[f,p]=_.useState(!1),h=async x=>{x.preventDefault(),c(""),p(!0);try{if(await new Promise(y=>setTimeout(y,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else if(n==="inventario@tus3b.cl"&&t==="Stock2026!")console.log("ACCESO INVENTARIO: Credenciales vlidas"),e("inventory",n);else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(y){console.error(y),c("Error local simulado")}finally{p(!1)}};return g.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:g.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[g.jsx(I5,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),g.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),g.jsxs("form",{onSubmit:h,className:"space-y-4",children:[g.jsx("input",{type:"email",value:n,onChange:x=>i(x.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),g.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),a&&g.jsx("p",{className:"text-red-500 text-sm",children:a}),g.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),g.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var Qe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Qe||(Qe={}));var DS=new Map([[Qe.QR_CODE,"QR_CODE"],[Qe.AZTEC,"AZTEC"],[Qe.CODABAR,"CODABAR"],[Qe.CODE_39,"CODE_39"],[Qe.CODE_93,"CODE_93"],[Qe.CODE_128,"CODE_128"],[Qe.DATA_MATRIX,"DATA_MATRIX"],[Qe.MAXICODE,"MAXICODE"],[Qe.ITF,"ITF"],[Qe.EAN_13,"EAN_13"],[Qe.EAN_8,"EAN_8"],[Qe.PDF_417,"PDF_417"],[Qe.RSS_14,"RSS_14"],[Qe.RSS_EXPANDED,"RSS_EXPANDED"],[Qe.UPC_A,"UPC_A"],[Qe.UPC_E,"UPC_E"],[Qe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),LS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(LS||(LS={}));function IL(e){return Object.values(Qe).includes(e)}var ko;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ko||(ko={}));var ja=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ko.SCAN_TYPE_CAMERA,ko.SCAN_TYPE_FILE],e})(),rT=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!DS.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,DS.get(t))},e})(),BS=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Av;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Av||(Av={}));var nT=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Av.UNKWOWN_ERROR}},e})(),iT=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function Ya(e){return typeof e>"u"||e===null}function OL(e,t,r){return e>r?r:e<t?t:e}var Pc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),tr=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),FS=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),aT=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(t),f=0,p=c;f<p.length;f++){var h=p[f];if(a.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e})(),md={exports:{}},TL=md.exports,zS;function jL(){return zS||(zS=1,(function(e,t){(function(r,n){n(t)})(TL,(function(r){function n(F){return F==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,s){F.__proto__=s}||function(F,s){for(var l in s)s.hasOwnProperty(l)&&(F[l]=s[l])};function a(F,s){i(F,s);function l(){this.constructor=F}F.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(F,s){var l=Object.setPrototypeOf;l?l(F,s):F.__proto__=s}function f(F,s){s===void 0&&(s=F.constructor);var l=Error.captureStackTrace;l&&l(F,s)}var p=(function(F){a(s,F);function s(l){var u=this.constructor,m=F.call(this,l)||this;return Object.defineProperty(m,"name",{value:u.name,enumerable:!1}),c(m,u.prototype),f(m),m}return s})(Error);class h extends p{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}h.kind="Exception";class x extends h{}x.kind="ArgumentException";class y extends h{}y.kind="IllegalArgumentException";class S{constructor(s){if(this.binarizer=s,s===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,u,m){const v=this.binarizer.getLuminanceSource().crop(s,l,u,m);return new S(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends h{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class I{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(s,l,u,m,v){for(;v--;)u[m++]=s[l++]}static currentTimeMillis(){return Date.now()}}class T extends h{}T.kind="IndexOutOfBoundsException";class M extends T{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}M.kind="ArrayIndexOutOfBoundsException";class D{static fill(s,l){for(let u=0,m=s.length;u<m;u++)s[u]=l}static fillWithin(s,l,u,m){D.rangeCheck(s.length,l,u);for(let v=l;v<u;v++)s[v]=m}static rangeCheck(s,l,u){if(l>u)throw new y("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new M(l);if(u>s)throw new M(u)}static asList(...s){return s}static create(s,l,u){return Array.from({length:s}).map(v=>Array.from({length:l}).fill(u))}static createInt32Array(s,l,u){return Array.from({length:s}).map(v=>Int32Array.from({length:l}).fill(u))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let u=0,m=s.length;u<m;u++)if(s[u]!==l[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const u of s)l=31*l+u;return l}static fillUint8Array(s,l){for(let u=0;u!==s.length;u++)s[u]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const u=new Uint8Array(l);return u.set(s),u}return s.slice(0,l)}static copyOfRange(s,l,u){const m=u-l,v=new Int32Array(m);return O.arraycopy(s,l,v,0,m),v}static binarySearch(s,l,u){u===void 0&&(u=D.numberComparator);let m=0,v=s.length-1;for(;m<=v;){const b=v+m>>1,E=u(l,s[b]);if(E>0)m=b+1;else if(E<0)v=b-1;else return b}return-m-1}static numberComparator(s,l){return s-l}}class R{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let u=31;return l=s<<16,l!==0&&(u-=16,s=l),l=s<<8,l!==0&&(u-=8,s=l),l=s<<4,l!==0&&(u-=4,s=l),l=s<<2,l!==0&&(u-=2,s=l),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=B.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=B.makeArray(s);O.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const u=this.bits;let m=Math.floor(s/32),v=u[m];v&=~((1<<(s&31))-1);const b=u.length;for(;v===0;){if(++m===b)return l;v=u[m]}const E=m*32+R.numberOfTrailingZeros(v);return E>l?l:E}getNextUnset(s){const l=this.size;if(s>=l)return l;const u=this.bits;let m=Math.floor(s/32),v=~u[m];v&=~((1<<(s&31))-1);const b=u.length;for(;v===0;){if(++m===b)return l;v=~u[m]}const E=m*32+R.numberOfTrailingZeros(v);return E>l?l:E}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new y;if(l===s)return;l--;const u=Math.floor(s/32),m=Math.floor(l/32),v=this.bits;for(let b=u;b<=m;b++){const E=b>u?0:s&31,j=(2<<(b<m?31:l&31))-(1<<E);v[b]|=j}}clear(){const s=this.bits.length,l=this.bits;for(let u=0;u<s;u++)l[u]=0}isRange(s,l,u){if(l<s||s<0||l>this.size)throw new y;if(l===s)return!0;l--;const m=Math.floor(s/32),v=Math.floor(l/32),b=this.bits;for(let E=m;E<=v;E++){const N=E>m?0:s&31,L=(2<<(E<v?31:l&31))-(1<<N)&4294967295;if((b[E]&L)!==(u?L:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new y("Sizes don't match");const l=this.bits;for(let u=0,m=l.length;u<m;u++)l[u]^=s.bits[u]}toBytes(s,l,u,m){for(let v=0;v<m;v++){let b=0;for(let E=0;E<8;E++)this.get(s)&&(b|=1<<7-E),s++;l[u+v]=b}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,m=this.bits;for(let v=0;v<u;v++){let b=m[v];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,s[l-v]=b}if(this.size!==u*32){const v=u*32-this.size;let b=s[0]>>>v;for(let E=1;E<u;E++){const N=s[E];b|=N<<32-v,s[E-1]=b,b=N>>>v}s[u-1]=b}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof B))return!1;const l=s;return this.size===l.size&&D.equals(this.bits,l.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let s="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new B(this.size,this.bits.slice())}}var U;(function(F){F[F.OTHER=0]="OTHER",F[F.PURE_BARCODE=1]="PURE_BARCODE",F[F.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",F[F.TRY_HARDER=3]="TRY_HARDER",F[F.CHARACTER_SET=4]="CHARACTER_SET",F[F.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",F[F.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",F[F.ASSUME_GS1=7]="ASSUME_GS1",F[F.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",F[F.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",F[F.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var $=U;class V extends h{static getFormatInstance(){return new V}}V.kind="FormatException";var Z;(function(F){F[F.Cp437=0]="Cp437",F[F.ISO8859_1=1]="ISO8859_1",F[F.ISO8859_2=2]="ISO8859_2",F[F.ISO8859_3=3]="ISO8859_3",F[F.ISO8859_4=4]="ISO8859_4",F[F.ISO8859_5=5]="ISO8859_5",F[F.ISO8859_6=6]="ISO8859_6",F[F.ISO8859_7=7]="ISO8859_7",F[F.ISO8859_8=8]="ISO8859_8",F[F.ISO8859_9=9]="ISO8859_9",F[F.ISO8859_10=10]="ISO8859_10",F[F.ISO8859_11=11]="ISO8859_11",F[F.ISO8859_13=12]="ISO8859_13",F[F.ISO8859_14=13]="ISO8859_14",F[F.ISO8859_15=14]="ISO8859_15",F[F.ISO8859_16=15]="ISO8859_16",F[F.SJIS=16]="SJIS",F[F.Cp1250=17]="Cp1250",F[F.Cp1251=18]="Cp1251",F[F.Cp1252=19]="Cp1252",F[F.Cp1256=20]="Cp1256",F[F.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",F[F.UTF8=22]="UTF8",F[F.ASCII=23]="ASCII",F[F.Big5=24]="Big5",F[F.GB18030=25]="GB18030",F[F.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class K{constructor(s,l,u,...m){this.valueIdentifier=s,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=m,K.VALUE_IDENTIFIER_TO_ECI.set(s,this),K.NAME_TO_ECI.set(u,this);const v=this.values;for(let b=0,E=v.length;b!==E;b++){const N=v[b];K.VALUES_TO_ECI.set(N,this)}for(const b of m)K.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new V("incorect value");const l=K.VALUES_TO_ECI.get(s);if(l===void 0)throw new V("incorect value");return l}static getCharacterSetECIByName(s){const l=K.NAME_TO_ECI.get(s);if(l===void 0)throw new V("incorect value");return l}equals(s){if(!(s instanceof K))return!1;const l=s;return this.getName()===l.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(Z.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(Z.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(Z.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(Z.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(Z.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(Z.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(Z.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(Z.Big5,28,"Big5"),K.GB18030=new K(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(Z.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends h{}ge.kind="UnsupportedOperationException";class se{static decode(s,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!se.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof K?s:K.getCharacterSetECIByName(s)}static decodeFallback(s,l){const u=this.encodingCharacterSet(l);if(se.isDecodeFallbackSupported(u)){let m="";for(let v=0,b=s.length;v<b;v++){let E=s[v].toString(16);E.length<2&&(E="0"+E),m+="%"+E}return decodeURIComponent(m)}if(u.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new ge(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(K.UTF8)||s.equals(K.ISO8859_1)||s.equals(K.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),m=[];for(let v=0;v<u.length;v++)m.push(u[v].charCodeAt(0));return new Uint8Array(m)}}class ae{static castAsNonUtf8Char(s,l=null){const u=l?l.getName():this.ISO88591;return se.decode(new Uint8Array([s]),u)}static guessEncoding(s,l){if(l!=null&&l.get($.CHARACTER_SET)!==void 0)return l.get($.CHARACTER_SET).toString();const u=s.length;let m=!0,v=!0,b=!0,E=0,N=0,j=0,L=0,z=0,W=0,G=0,ee=0,ne=0,oe=0,ve=0;const Me=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let De=0;De<u&&(m||v||b);De++){const Pe=s[De]&255;b&&(E>0?(Pe&128)===0?b=!1:E--:(Pe&128)!==0&&((Pe&64)===0?b=!1:(E++,(Pe&32)===0?N++:(E++,(Pe&16)===0?j++:(E++,(Pe&8)===0?L++:b=!1))))),m&&(Pe>127&&Pe<160?m=!1:Pe>159&&(Pe<192||Pe===215||Pe===247)&&ve++),v&&(z>0?Pe<64||Pe===127||Pe>252?v=!1:z--:Pe===128||Pe===160||Pe>239?v=!1:Pe>160&&Pe<224?(W++,ee=0,G++,G>ne&&(ne=G)):Pe>127?(z++,G=0,ee++,ee>oe&&(oe=ee)):(G=0,ee=0))}return b&&E>0&&(b=!1),v&&z>0&&(v=!1),b&&(Me||N+j+L>0)?ae.UTF8:v&&(ae.ASSUME_SHIFT_JIS||ne>=3||oe>=3)?ae.SHIFT_JIS:m&&v?ne===2&&W===2||ve*10>=u?ae.SHIFT_JIS:ae.ISO88591:m?ae.ISO88591:v?ae.SHIFT_JIS:b?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let u=-1;function m(b,E,N,j,L,z){if(b==="%%")return"%";if(l[++u]===void 0)return;b=j?parseInt(j.substr(1)):void 0;let W=L?parseInt(L.substr(1)):void 0,G;switch(z){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(b);break;case"p":G=parseFloat(l[u]).toPrecision(b);break;case"e":G=parseFloat(l[u]).toExponential(b);break;case"x":G=parseInt(l[u]).toString(W||16);break;case"d":G=parseFloat(parseInt(l[u],W||10).toPrecision(b)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(W);let ee=parseInt(N),ne=N&&N[0]+""=="0"?"0":" ";for(;G.length<ee;)G=E!==void 0?G+ne:ne+G;return G}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(v,m)}static getBytes(s,l){return se.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}ae.SHIFT_JIS=K.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=K.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=K.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class Se{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,u){for(let m=l;l<l+u;m++)this.append(s[m]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class _e{constructor(s,l,u,m){if(this.width=s,this.height=l,this.rowSize=u,this.bits=m,l==null&&(l=s),this.height=l,s<1||l<1)throw new y("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,m==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,u=s[0].length,m=new _e(u,l);for(let v=0;v<l;v++){const b=s[v];for(let E=0;E<u;E++)b[E]&&m.set(E,v)}return m}static parseFromString(s,l,u){if(s===null)throw new y("stringRepresentation cannot be null");const m=new Array(s.length);let v=0,b=0,E=-1,N=0,j=0;for(;j<s.length;)if(s.charAt(j)===`
`||s.charAt(j)==="\r"){if(v>b){if(E===-1)E=v-b;else if(v-b!==E)throw new y("row lengths do not match");b=v,N++}j++}else if(s.substring(j,j+l.length)===l)j+=l.length,m[v]=!0,v++;else if(s.substring(j,j+u.length)===u)j+=u.length,m[v]=!1,v++;else throw new y("illegal character encountered: "+s.substring(j));if(v>b){if(E===-1)E=v-b;else if(v-b!==E)throw new y("row lengths do not match");N++}const L=new _e(E,N);for(let z=0;z<v;z++)m[z]&&L.set(Math.floor(z%E),Math.floor(z/E));return L}get(s,l){const u=l*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,l){const u=l*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new y("input matrix dimensions do not match");const l=new B(Math.floor(this.width/32)+1),u=this.rowSize,m=this.bits;for(let v=0,b=this.height;v<b;v++){const E=v*u,N=s.getRow(v,l).getBitArray();for(let j=0;j<u;j++)m[E+j]^=N[j]}}clear(){const s=this.bits,l=s.length;for(let u=0;u<l;u++)s[u]=0}setRegion(s,l,u,m){if(l<0||s<0)throw new y("Left and top must be nonnegative");if(m<1||u<1)throw new y("Height and width must be at least 1");const v=s+u,b=l+m;if(b>this.height||v>this.width)throw new y("The region must fit inside the matrix");const E=this.rowSize,N=this.bits;for(let j=l;j<b;j++){const L=j*E;for(let z=s;z<v;z++)N[L+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new B(this.width):l.clear();const u=this.rowSize,m=this.bits,v=s*u;for(let b=0;b<u;b++)l.setBulk(b*32,m[v+b]);return l}setRow(s,l){O.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let u=new B(s),m=new B(s);for(let v=0,b=Math.floor((l+1)/2);v<b;v++)u=this.getRow(v,u),m=this.getRow(l-1-v,m),u.reverse(),m.reverse(),this.setRow(v,m),this.setRow(l-1-v,u)}getEnclosingRectangle(){const s=this.width,l=this.height,u=this.rowSize,m=this.bits;let v=s,b=l,E=-1,N=-1;for(let j=0;j<l;j++)for(let L=0;L<u;L++){const z=m[j*u+L];if(z!==0){if(j<b&&(b=j),j>N&&(N=j),L*32<v){let W=0;for(;(z<<31-W&4294967295)===0;)W++;L*32+W<v&&(v=L*32+W)}if(L*32+31>E){let W=31;for(;!(z>>>W);)W--;L*32+W>E&&(E=L*32+W)}}}return E<v||N<b?null:Int32Array.from([v,b,E-v+1,N-b+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const m=u/s;let v=u%s*32;const b=l[u];let E=0;for(;(b<<31-E&4294967295)===0;)E++;return v+=E,Int32Array.from([v,m])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const m=Math.floor(u/s);let v=Math.floor(u%s)*32;const b=l[u];let E=31;for(;!(b>>>E);)E--;return v+=E,Int32Array.from([v,m])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof _e))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&D.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+D.hashCode(this.bits),s}toString(s="X ",l="  ",u=`
`){return this.buildToString(s,l,u)}buildToString(s,l,u){let m=new Se;for(let v=0,b=this.height;v<b;v++){for(let E=0,N=this.width;E<N;E++)m.append(this.get(E,v)?s:l);m.append(u)}return m.toString()}clone(){return new _e(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends h{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Fe extends I{constructor(s){super(s),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(s,l){const u=this.getLuminanceSource(),m=u.getWidth();l==null||l.getSize()<m?l=new B(m):l.clear(),this.initArrays(m);const v=u.getRow(s,this.luminances),b=this.buckets;for(let N=0;N<m;N++)b[(v[N]&255)>>Fe.LUMINANCE_SHIFT]++;const E=Fe.estimateBlackPoint(b);if(m<3)for(let N=0;N<m;N++)(v[N]&255)<E&&l.set(N);else{let N=v[0]&255,j=v[1]&255;for(let L=1;L<m-1;L++){const z=v[L+1]&255;(j*4-N-z)/2<E&&l.set(L),N=j,j=z}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight(),m=new _e(l,u);this.initArrays(l);const v=this.buckets;for(let N=1;N<5;N++){const j=Math.floor(u*N/5),L=s.getRow(j,this.luminances),z=Math.floor(l*4/5);for(let W=Math.floor(l/5);W<z;W++){const G=L[W]&255;v[G>>Fe.LUMINANCE_SHIFT]++}}const b=Fe.estimateBlackPoint(v),E=s.getMatrix();for(let N=0;N<u;N++){const j=N*l;for(let L=0;L<l;L++)(E[j+L]&255)<b&&m.set(L,N)}return m}createBinarizer(s){return new Fe(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let u=0;u<Fe.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(s){const l=s.length;let u=0,m=0,v=0;for(let L=0;L<l;L++)s[L]>v&&(m=L,v=s[L]),s[L]>u&&(u=s[L]);let b=0,E=0;for(let L=0;L<l;L++){const z=L-m,W=s[L]*z*z;W>E&&(b=L,E=W)}if(m>b){const L=m;m=b,b=L}if(b-m<=l/16)throw new re;let N=b-1,j=-1;for(let L=b-1;L>m;L--){const z=L-m,W=z*z*(b-L)*(u-s[L]);W>j&&(N=L,j=W)}return N<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class le extends Fe{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),u=s.getHeight();if(l>=le.MINIMUM_DIMENSION&&u>=le.MINIMUM_DIMENSION){const m=s.getMatrix();let v=l>>le.BLOCK_SIZE_POWER;(l&le.BLOCK_SIZE_MASK)!==0&&v++;let b=u>>le.BLOCK_SIZE_POWER;(u&le.BLOCK_SIZE_MASK)!==0&&b++;const E=le.calculateBlackPoints(m,v,b,l,u),N=new _e(l,u);le.calculateThresholdForBlock(m,v,b,l,u,E,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new le(s)}static calculateThresholdForBlock(s,l,u,m,v,b,E){const N=v-le.BLOCK_SIZE,j=m-le.BLOCK_SIZE;for(let L=0;L<u;L++){let z=L<<le.BLOCK_SIZE_POWER;z>N&&(z=N);const W=le.cap(L,2,u-3);for(let G=0;G<l;G++){let ee=G<<le.BLOCK_SIZE_POWER;ee>j&&(ee=j);const ne=le.cap(G,2,l-3);let oe=0;for(let Me=-2;Me<=2;Me++){const De=b[W+Me];oe+=De[ne-2]+De[ne-1]+De[ne]+De[ne+1]+De[ne+2]}const ve=oe/25;le.thresholdBlock(s,ee,z,ve,m,E)}}}static cap(s,l,u){return s<l?l:s>u?u:s}static thresholdBlock(s,l,u,m,v,b){for(let E=0,N=u*v+l;E<le.BLOCK_SIZE;E++,N+=v)for(let j=0;j<le.BLOCK_SIZE;j++)(s[N+j]&255)<=m&&b.set(l+j,u+E)}static calculateBlackPoints(s,l,u,m,v){const b=v-le.BLOCK_SIZE,E=m-le.BLOCK_SIZE,N=new Array(u);for(let j=0;j<u;j++){N[j]=new Int32Array(l);let L=j<<le.BLOCK_SIZE_POWER;L>b&&(L=b);for(let z=0;z<l;z++){let W=z<<le.BLOCK_SIZE_POWER;W>E&&(W=E);let G=0,ee=255,ne=0;for(let ve=0,Me=L*m+W;ve<le.BLOCK_SIZE;ve++,Me+=m){for(let De=0;De<le.BLOCK_SIZE;De++){const Pe=s[Me+De]&255;G+=Pe,Pe<ee&&(ee=Pe),Pe>ne&&(ne=Pe)}if(ne-ee>le.MIN_DYNAMIC_RANGE)for(ve++,Me+=m;ve<le.BLOCK_SIZE;ve++,Me+=m)for(let De=0;De<le.BLOCK_SIZE;De++)G+=s[Me+De]&255}let oe=G>>le.BLOCK_SIZE_POWER*2;if(ne-ee<=le.MIN_DYNAMIC_RANGE&&(oe=ee/2,j>0&&z>0)){const ve=(N[j-1][z]+2*N[j][z-1]+N[j-1][z-1])/4;ee<ve&&(oe=ve)}N[j][z]=oe}}return N}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class pe{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,u,m){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new Se;for(let u=0;u<this.height;u++){const m=this.getRow(u,s);for(let v=0;v<this.width;v++){const b=m[v]&255;let E;b<64?E="#":b<128?E="+":b<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class xe extends pe{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const u=this.delegate.getRow(s,l),m=this.getWidth();for(let v=0;v<m;v++)u[v]=255-(u[v]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let m=0;m<l;m++)u[m]=255-(s[m]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,u,m){return new xe(this.delegate.crop(s,l,u,m))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Ae extends pe{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ae.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ae.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,u){const m=new Uint8ClampedArray(l*u);for(let v=0,b=0,E=s.length;v<E;v+=4,b++){let N;if(s[v+3]===0)N=255;else{const L=s[v],z=s[v+1],W=s[v+2];N=306*L+601*z+117*W+512>>10}m[b]=N}return m}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const u=this.getWidth(),m=s*u;return l===null?l=this.buffer.slice(m,m+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(m,m+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,u,m){return super.crop(s,l,u,m),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),u=l.getContext("2d"),m=s*Ae.DEGREE_TO_RADIANS,v=this.canvas.width,b=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(m))*v+Math.abs(Math.sin(m))*b),N=Math.ceil(Math.abs(Math.sin(m))*v+Math.abs(Math.cos(m))*b);return l.width=E,l.height=N,u.translate(E/2,N/2),u.rotate(m),u.drawImage(this.canvas,v/-2,b/-2),this.buffer=Ae.makeBufferFromCanvasImageData(l),this}invert(){return new xe(this)}}Ae.DEGREE_TO_RADIANS=Math.PI/180;class J{constructor(s,l,u){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ce=(globalThis||Oh||self||window||void 0)&&(globalThis||Oh||self||window||void 0).__awaiter||function(F,s,l,u){function m(v){return v instanceof l?v:new l(function(b){b(v)})}return new(l||(l=Promise))(function(v,b){function E(L){try{j(u.next(L))}catch(z){b(z)}}function N(L){try{j(u.throw(L))}catch(z){b(z)}}function j(L){L.done?v(L.value):m(L.value).then(E,N)}j((u=u.apply(F,s||[])).next())})};class $e{constructor(s,l=500,u){this.reader=s,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ce(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of s){const m=u.kind==="video"?"videoinput":u.kind;if(m!=="videoinput")continue;const v=u.deviceId||u.id,b=u.label||`Video device ${l.length+1}`,E=u.groupId,N={deviceId:v,label:b,kind:m,groupId:E};l.push(N)}return l})}getVideoInputDevices(){return ce(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new J(l.deviceId,l.label))})}findDeviceById(s){return ce(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return ce(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return ce(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const m={video:u};return yield this.decodeOnceFromConstraints(m,l)})}decodeOnceFromConstraints(s,l){return ce(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(s,l){return ce(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,l,u){return ce(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,u)})}decodeFromVideoDevice(s,l,u){return ce(this,void 0,void 0,function*(){let m;s?m={deviceId:{exact:s}}:m={facingMode:"environment"};const v={video:m};return yield this.decodeFromConstraints(v,l,u)})}decodeFromConstraints(s,l,u){return ce(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(m,l,u)})}decodeFromStream(s,l,u){return ce(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(m,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return ce(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((l,u)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ce(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const u=document.getElementById(s);if(!u)throw new x(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new x(`element with id '${s}' must be an ${l} element`);return u}decodeFromImage(s,l){if(!s&&!l)throw new x("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new x("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,u){if(s===void 0&&l===void 0)throw new x("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new x("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(s){if(!s)throw new x("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=s,u}decodeFromVideoUrl(s){if(!s)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=s,u}decodeFromVideoUrlContinuously(s,l){if(!s)throw new x("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),m=this.decodeFromVideoElementContinuously(u,l);return u.src=s,m}_decodeOnLoadImage(s){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ce(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return ce(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,u=!0){this._stopAsyncDecode=!1;const m=(v,b)=>{if(this._stopAsyncDecode){b(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(s);v(E)}catch(E){const N=l&&E instanceof re,L=(E instanceof C||E instanceof V)&&u;if(N||L)return setTimeout(m,this._timeBetweenDecodingAttempts,v,b);b(E)}};return new Promise((v,b)=>m(v,b))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const m=this.decode(s);l(m,null),setTimeout(u,this.timeBetweenScansMillis)}catch(m){l(null,m);const v=m instanceof C||m instanceof V,b=m instanceof re;(v||b)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,u){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new Ae(l),m=new le(u);return new S(m)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,m;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,m=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,m=s.naturalHeight||s.height)),l.style.width=u+"px",l.style.height=m+"px",l.width=u,l.height=m,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ze{constructor(s,l,u=l==null?0:8*l.length,m,v,b=O.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=u,this.resultPoints=m,this.format=v,this.timestamp=b,this.text=s,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=m,this.format=v,this.resultMetadata=null,b==null?this.timestamp=O.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(l.length+s.length);O.arraycopy(l,0,u,0,l.length),O.arraycopy(s,0,u,l.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xe;(function(F){F[F.AZTEC=0]="AZTEC",F[F.CODABAR=1]="CODABAR",F[F.CODE_39=2]="CODE_39",F[F.CODE_93=3]="CODE_93",F[F.CODE_128=4]="CODE_128",F[F.DATA_MATRIX=5]="DATA_MATRIX",F[F.EAN_8=6]="EAN_8",F[F.EAN_13=7]="EAN_13",F[F.ITF=8]="ITF",F[F.MAXICODE=9]="MAXICODE",F[F.PDF_417=10]="PDF_417",F[F.QR_CODE=11]="QR_CODE",F[F.RSS_14=12]="RSS_14",F[F.RSS_EXPANDED=13]="RSS_EXPANDED",F[F.UPC_A=14]="UPC_A",F[F.UPC_E=15]="UPC_E",F[F.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var X=Xe,Ce;(function(F){F[F.OTHER=0]="OTHER",F[F.ORIENTATION=1]="ORIENTATION",F[F.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",F[F.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",F[F.ISSUE_NUMBER=4]="ISSUE_NUMBER",F[F.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",F[F.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",F[F.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",F[F.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",F[F.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",F[F.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ce||(Ce={}));var Ue=Ce;class Q{constructor(s,l,u,m,v=-1,b=-1){this.rawBytes=s,this.text=l,this.byteSegments=u,this.ecLevel=m,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=b,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class Le{constructor(s,l){if(l.length===0)throw new y;this.field=s;const u=l.length;if(u>1&&l[0]===0){let m=1;for(;m<u&&l[m]===0;)m++;m===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-m),O.arraycopy(l,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(s===1){u=0;for(let b=0,E=l.length;b!==E;b++){const N=l[b];u=Te.addOrSubtract(u,N)}return u}u=l[0];const m=l.length,v=this.field;for(let b=1;b<m;b++)u=Te.addOrSubtract(v.multiply(s,u),l[b]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){const b=l;l=u,u=b}let m=new Int32Array(u.length);const v=u.length-l.length;O.arraycopy(u,0,m,0,v);for(let b=v;b<u.length;b++)m[b]=Te.addOrSubtract(l[b-v],u[b]);return new Le(this.field,m)}multiply(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,m=s.coefficients,v=m.length,b=new Int32Array(u+v-1),E=this.field;for(let N=0;N<u;N++){const j=l[N];for(let L=0;L<v;L++)b[N+L]=Te.addOrSubtract(b[N+L],E.multiply(j,m[L]))}return new Le(E,b)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,u=this.field,m=new Int32Array(l),v=this.coefficients;for(let b=0;b<l;b++)m[b]=u.multiply(v[b],s);return new Le(u,m)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return this.field.getZero();const u=this.coefficients,m=u.length,v=new Int32Array(m+s),b=this.field;for(let E=0;E<m;E++)v[E]=b.multiply(u[E],l);return new Le(b,v)}divide(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new y("Divide by 0");const l=this.field;let u=l.getZero(),m=this;const v=s.getCoefficient(s.getDegree()),b=l.inverse(v);for(;m.getDegree()>=s.getDegree()&&!m.isZero();){const E=m.getDegree()-s.getDegree(),N=l.multiply(m.getCoefficient(m.getDegree()),b),j=s.multiplyByMonomial(E,N),L=l.buildMonomial(E,N);u=u.addOrSubtract(L),m=m.addOrSubtract(j)}return[u,m]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),l===0||u!==1){const m=this.field.log(u);m===0?s+="1":m===1?s+="a":(s+="a^",s+=m)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class we extends h{}we.kind="ArithmeticException";class Oe extends Te{constructor(s,l,u){super(),this.primitive=s,this.size=l,this.generatorBase=u;const m=new Int32Array(l);let v=1;for(let E=0;E<l;E++)m[E]=v,v*=2,v>=l&&(v^=s,v&=l-1);this.expTable=m;const b=new Int32Array(l);for(let E=0;E<l-1;E++)b[m[E]]=E;this.logTable=b,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;const u=new Int32Array(s+1);return u[0]=l,new Le(this,u)}inverse(s){if(s===0)throw new we;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class ut extends h{}ut.kind="ReedSolomonException";class ht extends h{}ht.kind="IllegalStateException";class Lt{constructor(s){this.field=s}decode(s,l){const u=this.field,m=new Le(u,s),v=new Int32Array(l);let b=!0;for(let G=0;G<l;G++){const ee=m.evaluateAt(u.exp(G+u.getGeneratorBase()));v[v.length-1-G]=ee,ee!==0&&(b=!1)}if(b)return;const E=new Le(u,v),N=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),j=N[0],L=N[1],z=this.findErrorLocations(j),W=this.findErrorMagnitudes(L,z);for(let G=0;G<z.length;G++){const ee=s.length-1-u.log(z[G]);if(ee<0)throw new ut("Bad error location");s[ee]=Oe.addOrSubtract(s[ee],W[G])}}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){const G=s;s=l,l=G}const m=this.field;let v=s,b=l,E=m.getZero(),N=m.getOne();for(;b.getDegree()>=(u/2|0);){let G=v,ee=E;if(v=b,E=N,v.isZero())throw new ut("r_{i-1} was zero");b=G;let ne=m.getZero();const oe=v.getCoefficient(v.getDegree()),ve=m.inverse(oe);for(;b.getDegree()>=v.getDegree()&&!b.isZero();){const Me=b.getDegree()-v.getDegree(),De=m.multiply(b.getCoefficient(b.getDegree()),ve);ne=ne.addOrSubtract(m.buildMonomial(Me,De)),b=b.addOrSubtract(v.multiplyByMonomial(Me,De))}if(N=ne.multiply(E).addOrSubtract(ee),b.getDegree()>=v.getDegree())throw new ht("Division algorithm failed to reduce polynomial?")}const j=N.getCoefficient(0);if(j===0)throw new ut("sigmaTilde(0) was zero");const L=m.inverse(j),z=N.multiplyScalar(L),W=b.multiplyScalar(L);return[z,W]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(l);let m=0;const v=this.field;for(let b=1;b<v.getSize()&&m<l;b++)s.evaluateAt(b)===0&&(u[m]=v.inverse(b),m++);if(m!==l)throw new ut("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,l){const u=l.length,m=new Int32Array(u),v=this.field;for(let b=0;b<u;b++){const E=v.inverse(l[b]);let N=1;for(let j=0;j<u;j++)if(b!==j){const L=v.multiply(l[j],E),z=(L&1)===0?L|1:L&-2;N=v.multiply(N,z)}m[b]=v.multiply(s.evaluateAt(E),v.inverse(N)),v.getGeneratorBase()!==0&&(m[b]=v.multiply(m[b],E))}return m}}var Ot;(function(F){F[F.UPPER=0]="UPPER",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.DIGIT=3]="DIGIT",F[F.PUNCT=4]="PUNCT",F[F.BINARY=5]="BINARY"})(Ot||(Ot={}));class Tt{decode(s){this.ddata=s;let l=s.getBits(),u=this.extractBits(l),m=this.correctBits(u),v=Tt.convertBoolArrayToByteArray(m),b=Tt.getEncodedData(m),E=new Q(v,b,null,null);return E.setNumBits(m.length),E}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,u=Ot.UPPER,m=Ot.UPPER,v="",b=0;for(;b<l;)if(m===Ot.BINARY){if(l-b<5)break;let E=Tt.readCode(s,b,5);if(b+=5,E===0){if(l-b<11)break;E=Tt.readCode(s,b,11)+31,b+=11}for(let N=0;N<E;N++){if(l-b<8){b=l;break}const j=Tt.readCode(s,b,8);v+=ae.castAsNonUtf8Char(j),b+=8}m=u}else{let E=m===Ot.DIGIT?4:5;if(l-b<E)break;let N=Tt.readCode(s,b,E);b+=E;let j=Tt.getCharacter(m,N);j.startsWith("CTRL_")?(u=m,m=Tt.getTable(j.charAt(5)),j.charAt(6)==="L"&&(u=m)):(v+=j,m=u)}return v}static getTable(s){switch(s){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}}static getCharacter(s,l){switch(s){case Ot.UPPER:return Tt.UPPER_TABLE[l];case Ot.LOWER:return Tt.LOWER_TABLE[l];case Ot.MIXED:return Tt.MIXED_TABLE[l];case Ot.PUNCT:return Tt.PUNCT_TABLE[l];case Ot.DIGIT:return Tt.DIGIT_TABLE[l];default:throw new ht("Bad table")}}correctBits(s){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=Oe.AZTEC_DATA_10):(u=12,l=Oe.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),v=s.length/u;if(v<m)throw new V;let b=s.length%u,E=new Int32Array(v);for(let W=0;W<v;W++,b+=u)E[W]=Tt.readCode(s,b,u);try{new Lt(l).decode(E,v-m)}catch(W){throw new V(W)}let N=(1<<u)-1,j=0;for(let W=0;W<m;W++){let G=E[W];if(G===0||G===N)throw new V;(G===1||G===N-1)&&j++}let L=new Array(m*u-j),z=0;for(let W=0;W<m;W++){let G=E[W];if(G===1||G===N-1)L.fill(G>1,z,z+u-1),z+=u-1;else for(let ee=u-1;ee>=0;--ee)L[z++]=(G&1<<ee)!==0}return L}extractBits(s){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),m=(l?11:14)+u*4,v=new Int32Array(m),b=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<v.length;E++)v[E]=E;else{let E=m+1+2*R.truncDivision(R.truncDivision(m,2)-1,15),N=m/2,j=R.truncDivision(E,2);for(let L=0;L<N;L++){let z=L+R.truncDivision(L,15);v[N-L-1]=j-z-1,v[N+L]=j+z+1}}for(let E=0,N=0;E<u;E++){let j=(u-E)*4+(l?9:12),L=E*2,z=m-1-L;for(let W=0;W<j;W++){let G=W*2;for(let ee=0;ee<2;ee++)b[N+G+ee]=s.get(v[L+ee],v[L+W]),b[N+2*j+G+ee]=s.get(v[L+W],v[z-ee]),b[N+4*j+G+ee]=s.get(v[z-ee],v[z-W]),b[N+6*j+G+ee]=s.get(v[z-W],v[L+ee])}N+=j*8}return b}static readCode(s,l,u){let m=0;for(let v=l;v<l+u;v++)m<<=1,s[v]&&(m|=1);return m}static readByte(s,l){let u=s.length-l;return u>=8?Tt.readCode(s,l,8):Tt.readCode(s,l,u)<<8-u}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let u=0;u<l.length;u++)l[u]=Tt.readByte(s,8*u);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class At{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,u,m){const v=s-u,b=l-m;return Math.sqrt(v*v+b*b)}static sum(s){let l=0;for(let u=0,m=s.length;u!==m;u++){const v=s[u];l+=v}return l}}class Ni{static floatToIntBits(s){return s}}Ni.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ve{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ve){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Ni.floatToIntBits(this.x)+Ni.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),m=this.distance(s[0],s[2]);let v,b,E;if(u>=l&&u>=m?(b=s[0],v=s[1],E=s[2]):m>=u&&m>=l?(b=s[1],v=s[0],E=s[2]):(b=s[2],v=s[0],E=s[1]),this.crossProductZ(v,b,E)<0){const N=v;v=E,E=N}s[0]=v,s[1]=b,s[2]=E}static distance(s,l){return At.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,u){const m=l.x,v=l.y;return(u.x-m)*(s.y-v)-(u.y-v)*(s.x-m)}}class xa{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Js extends xa{constructor(s,l,u,m,v){super(s,l),this.compact=u,this.nbDatablocks=m,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Gn{constructor(s,l,u,m){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=Gn.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),m==null&&(m=s.getHeight()/2|0);const v=l/2|0;if(this.leftInit=u-v,this.rightInit=u+v,this.upInit=m-v,this.downInit=m+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let s=this.leftInit,l=this.rightInit,u=this.upInit,m=this.downInit,v=!1,b=!0,E=!1,N=!1,j=!1,L=!1,z=!1;const W=this.width,G=this.height;for(;b;){b=!1;let ee=!0;for(;(ee||!N)&&l<W;)ee=this.containsBlackPoint(u,m,l,!1),ee?(l++,b=!0,N=!0):N||l++;if(l>=W){v=!0;break}let ne=!0;for(;(ne||!j)&&m<G;)ne=this.containsBlackPoint(s,l,m,!0),ne?(m++,b=!0,j=!0):j||m++;if(m>=G){v=!0;break}let oe=!0;for(;(oe||!L)&&s>=0;)oe=this.containsBlackPoint(u,m,s,!1),oe?(s--,b=!0,L=!0):L||s--;if(s<0){v=!0;break}let ve=!0;for(;(ve||!z)&&u>=0;)ve=this.containsBlackPoint(s,l,u,!0),ve?(u--,b=!0,z=!0):z||u--;if(u<0){v=!0;break}b&&(E=!0)}if(!v&&E){const ee=l-s;let ne=null;for(let De=1;ne===null&&De<ee;De++)ne=this.getBlackPointOnSegment(s,m-De,s+De,m);if(ne==null)throw new re;let oe=null;for(let De=1;oe===null&&De<ee;De++)oe=this.getBlackPointOnSegment(s,u+De,s+De,u);if(oe==null)throw new re;let ve=null;for(let De=1;ve===null&&De<ee;De++)ve=this.getBlackPointOnSegment(l,u+De,l-De,u);if(ve==null)throw new re;let Me=null;for(let De=1;Me===null&&De<ee;De++)Me=this.getBlackPointOnSegment(l,m-De,l-De,m);if(Me==null)throw new re;return this.centerEdges(Me,ne,ve,oe)}else throw new re}getBlackPointOnSegment(s,l,u,m){const v=At.round(At.distance(s,l,u,m)),b=(u-s)/v,E=(m-l)/v,N=this.image;for(let j=0;j<v;j++){const L=At.round(s+j*b),z=At.round(l+j*E);if(N.get(L,z))return new Ve(L,z)}return null}centerEdges(s,l,u,m){const v=s.getX(),b=s.getY(),E=l.getX(),N=l.getY(),j=u.getX(),L=u.getY(),z=m.getX(),W=m.getY(),G=Gn.CORR;return v<this.width/2?[new Ve(z-G,W+G),new Ve(E+G,N+G),new Ve(j-G,L-G),new Ve(v+G,b-G)]:[new Ve(z+G,W+G),new Ve(E+G,N-G),new Ve(j-G,L+G),new Ve(v-G,b-G)]}containsBlackPoint(s,l,u,m){const v=this.image;if(m){for(let b=s;b<=l;b++)if(v.get(b,u))return!0}else for(let b=s;b<=l;b++)if(v.get(u,b))return!0;return!1}}Gn.INIT_SIZE=10,Gn.CORR=1;class cs{static checkAndNudgePoints(s,l){const u=s.getWidth(),m=s.getHeight();let v=!0;for(let b=0;b<l.length&&v;b+=2){const E=Math.floor(l[b]),N=Math.floor(l[b+1]);if(E<-1||E>u||N<-1||N>m)throw new re;v=!1,E===-1?(l[b]=0,v=!0):E===u&&(l[b]=u-1,v=!0),N===-1?(l[b+1]=0,v=!0):N===m&&(l[b+1]=m-1,v=!0)}v=!0;for(let b=l.length-2;b>=0&&v;b-=2){const E=Math.floor(l[b]),N=Math.floor(l[b+1]);if(E<-1||E>u||N<-1||N>m)throw new re;v=!1,E===-1?(l[b]=0,v=!0):E===u&&(l[b]=u-1,v=!0),N===-1?(l[b+1]=0,v=!0):N===m&&(l[b+1]=m-1,v=!0)}}}class Mn{constructor(s,l,u,m,v,b,E,N,j){this.a11=s,this.a21=l,this.a31=u,this.a12=m,this.a22=v,this.a32=b,this.a13=E,this.a23=N,this.a33=j}static quadrilateralToQuadrilateral(s,l,u,m,v,b,E,N,j,L,z,W,G,ee,ne,oe){const ve=Mn.quadrilateralToSquare(s,l,u,m,v,b,E,N);return Mn.squareToQuadrilateral(j,L,z,W,G,ee,ne,oe).times(ve)}transformPoints(s){const l=s.length,u=this.a11,m=this.a12,v=this.a13,b=this.a21,E=this.a22,N=this.a23,j=this.a31,L=this.a32,z=this.a33;for(let W=0;W<l;W+=2){const G=s[W],ee=s[W+1],ne=v*G+N*ee+z;s[W]=(u*G+b*ee+j)/ne,s[W+1]=(m*G+E*ee+L)/ne}}transformPointsWithValues(s,l){const u=this.a11,m=this.a12,v=this.a13,b=this.a21,E=this.a22,N=this.a23,j=this.a31,L=this.a32,z=this.a33,W=s.length;for(let G=0;G<W;G++){const ee=s[G],ne=l[G],oe=v*ee+N*ne+z;s[G]=(u*ee+b*ne+j)/oe,l[G]=(m*ee+E*ne+L)/oe}}static squareToQuadrilateral(s,l,u,m,v,b,E,N){const j=s-u+v-E,L=l-m+b-N;if(j===0&&L===0)return new Mn(u-s,v-u,s,m-l,b-m,l,0,0,1);{const z=u-v,W=E-v,G=m-b,ee=N-b,ne=z*ee-W*G,oe=(j*ee-W*L)/ne,ve=(z*L-j*G)/ne;return new Mn(u-s+oe*u,E-s+ve*E,s,m-l+oe*m,N-l+ve*N,l,oe,ve,1)}}static quadrilateralToSquare(s,l,u,m,v,b,E,N){return Mn.squareToQuadrilateral(s,l,u,m,v,b,E,N).buildAdjoint()}buildAdjoint(){return new Mn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Mn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class us extends cs{sampleGrid(s,l,u,m,v,b,E,N,j,L,z,W,G,ee,ne,oe,ve,Me,De){const Pe=Mn.quadrilateralToQuadrilateral(m,v,b,E,N,j,L,z,W,G,ee,ne,oe,ve,Me,De);return this.sampleGridWithTransform(s,l,u,Pe)}sampleGridWithTransform(s,l,u,m){if(l<=0||u<=0)throw new re;const v=new _e(l,u),b=new Float32Array(2*l);for(let E=0;E<u;E++){const N=b.length,j=E+.5;for(let L=0;L<N;L+=2)b[L]=L/2+.5,b[L+1]=j;m.transformPoints(b),cs.checkAndNudgePoints(s,b);try{for(let L=0;L<N;L+=2)s.get(Math.floor(b[L]),Math.floor(b[L+1]))&&v.set(L/2,E)}catch{throw new re}}return v}}class Kn{static setGridSampler(s){Kn.gridSampler=s}static getInstance(){return Kn.gridSampler}}Kn.gridSampler=new us;class me{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new Ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ze{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(s){let b=u[0];u[0]=u[2],u[2]=b}this.extractParameters(u);let m=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),v=this.getMatrixCornerPoints(u);return new Js(m,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new re;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(u,l);let m=0;for(let b=0;b<4;b++){let E=u[(this.shift+b)%4];this.compact?(m<<=7,m+=E>>1&127):(m<<=10,m+=(E>>2&992)+(E>>1&31))}let v=this.getCorrectedParameterData(m,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(s,l){let u=0;s.forEach((m,v,b)=>{let E=(m>>l-2<<1)+(m&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let m=0;m<4;m++)if(R.bitCount(u^this.EXPECTED_CORNER_BITS[m])<=2)return m;throw new re}getCorrectedParameterData(s,l){let u,m;l?(u=7,m=2):(u=10,m=4);let v=u-m,b=new Int32Array(u);for(let N=u-1;N>=0;--N)b[N]=s&15,s>>=4;try{new Lt(Oe.AZTEC_PARAM).decode(b,v)}catch{throw new re}let E=0;for(let N=0;N<m;N++)E=(E<<4)+b[N];return E}getBullsEyeCorners(s){let l=s,u=s,m=s,v=s,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(l,b,1,-1),W=this.getFirstDifferent(u,b,1,1),G=this.getFirstDifferent(m,b,-1,1),ee=this.getFirstDifferent(v,b,-1,-1);if(this.nbCenterLayers>2){let ne=this.distancePoint(ee,z)*this.nbCenterLayers/(this.distancePoint(v,l)*(this.nbCenterLayers+2));if(ne<.75||ne>1.25||!this.isWhiteOrBlackRectangle(z,W,G,ee))break}l=z,u=W,m=G,v=ee,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let E=new Ve(l.getX()+.5,l.getY()-.5),N=new Ve(u.getX()+.5,u.getY()+.5),j=new Ve(m.getX()-.5,m.getY()+.5),L=new Ve(v.getX()-.5,v.getY()-.5);return this.expandSquare([E,N,j,L],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,u,m;try{let E=new Gn(this.image).detect();s=E[0],l=E[1],u=E[2],m=E[3]}catch{let N=this.image.getWidth()/2,j=this.image.getHeight()/2;s=this.getFirstDifferent(new me(N+7,j-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new me(N+7,j+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new me(N-7,j+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new me(N-7,j-7),!1,-1,-1).toResultPoint()}let v=At.round((s.getX()+m.getX()+l.getX()+u.getX())/4),b=At.round((s.getY()+m.getY()+l.getY()+u.getY())/4);try{let E=new Gn(this.image,15,v,b).detect();s=E[0],l=E[1],u=E[2],m=E[3]}catch{s=this.getFirstDifferent(new me(v+7,b-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new me(v+7,b+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new me(v-7,b+7),!1,-1,1).toResultPoint(),m=this.getFirstDifferent(new me(v-7,b-7),!1,-1,-1).toResultPoint()}return v=At.round((s.getX()+m.getX()+l.getX()+u.getX())/4),b=At.round((s.getY()+m.getY()+l.getY()+u.getY())/4),new me(v,b)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,u,m,v){let b=Kn.getInstance(),E=this.getDimension(),N=E/2-this.nbCenterLayers,j=E/2+this.nbCenterLayers;return b.sampleGrid(s,E,E,N,N,j,N,j,j,N,j,l.getX(),l.getY(),u.getX(),u.getY(),m.getX(),m.getY(),v.getX(),v.getY())}sampleLine(s,l,u){let m=0,v=this.distanceResultPoint(s,l),b=v/u,E=s.getX(),N=s.getY(),j=b*(l.getX()-s.getX())/v,L=b*(l.getY()-s.getY())/v;for(let z=0;z<u;z++)this.image.get(At.round(E+z*j),At.round(N+z*L))&&(m|=1<<u-z-1);return m}isWhiteOrBlackRectangle(s,l,u,m){let v=3;s=new me(s.getX()-v,s.getY()+v),l=new me(l.getX()-v,l.getY()-v),u=new me(u.getX()+v,u.getY()-v),m=new me(m.getX()+v,m.getY()+v);let b=this.getColor(m,s);if(b===0)return!1;let E=this.getColor(s,l);return E!==b||(E=this.getColor(l,u),E!==b)?!1:(E=this.getColor(u,m),E===b)}getColor(s,l){let u=this.distancePoint(s,l),m=(l.getX()-s.getX())/u,v=(l.getY()-s.getY())/u,b=0,E=s.getX(),N=s.getY(),j=this.image.get(s.getX(),s.getY()),L=Math.ceil(u);for(let W=0;W<L;W++)E+=m,N+=v,this.image.get(At.round(E),At.round(N))!==j&&b++;let z=b/u;return z>.1&&z<.9?0:z<=.1===j?1:-1}getFirstDifferent(s,l,u,m){let v=s.getX()+u,b=s.getY()+m;for(;this.isValid(v,b)&&this.image.get(v,b)===l;)v+=u,b+=m;for(v-=u,b-=m;this.isValid(v,b)&&this.image.get(v,b)===l;)v+=u;for(v-=u;this.isValid(v,b)&&this.image.get(v,b)===l;)b+=m;return b-=m,new me(v,b)}expandSquare(s,l,u){let m=u/(2*l),v=s[0].getX()-s[2].getX(),b=s[0].getY()-s[2].getY(),E=(s[0].getX()+s[2].getX())/2,N=(s[0].getY()+s[2].getY())/2,j=new Ve(E+m*v,N+m*b),L=new Ve(E-m*v,N-m*b);v=s[1].getX()-s[3].getX(),b=s[1].getY()-s[3].getY(),E=(s[1].getX()+s[3].getX())/2,N=(s[1].getY()+s[3].getY())/2;let z=new Ve(E+m*v,N+m*b),W=new Ve(E-m*v,N-m*b);return[j,z,L,W]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=At.round(s.getX()),u=At.round(s.getY());return this.isValid(l,u)}distancePoint(s,l){return At.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return At.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class pt{decode(s,l=null){let u=null,m=new Ze(s.getBlackMatrix()),v=null,b=null;try{let L=m.detectMirror(!1);v=L.getPoints(),this.reportFoundResultPoints(l,v),b=new Tt().decode(L)}catch(L){u=L}if(b==null)try{let L=m.detectMirror(!0);v=L.getPoints(),this.reportFoundResultPoints(l,v),b=new Tt().decode(L)}catch(L){throw u??L}let E=new ze(b.getText(),b.getRawBytes(),b.getNumBits(),v,X.AZTEC,O.currentTimeMillis()),N=b.getByteSegments();N!=null&&E.putMetadata(Ue.BYTE_SEGMENTS,N);let j=b.getECLevel();return j!=null&&E.putMetadata(Ue.ERROR_CORRECTION_LEVEL,j),E}reportFoundResultPoints(s,l){if(s!=null){let u=s.get($.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((m,v,b)=>{u.foundPossibleResultPoint(m)})}}reset(){}}class nr extends $e{constructor(s=500){super(new pt,s)}}class dt{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get($.TRY_HARDER)===!0&&s.isRotateSupported()){const v=s.rotateCounterClockwise(),b=this.doDecode(v,l),E=b.getResultMetadata();let N=270;E!==null&&E.get(Ue.ORIENTATION)===!0&&(N=N+E.get(Ue.ORIENTATION)%360),b.putMetadata(Ue.ORIENTATION,N);const j=b.getResultPoints();if(j!==null){const L=v.getHeight();for(let z=0;z<j.length;z++)j[z]=new Ve(L-j[z].getY()-1,j[z].getX())}return b}else throw new re}}reset(){}doDecode(s,l){const u=s.getWidth(),m=s.getHeight();let v=new B(u);const b=l&&l.get($.TRY_HARDER)===!0,E=Math.max(1,m>>(b?8:5));let N;b?N=m:N=15;const j=Math.trunc(m/2);for(let L=0;L<N;L++){const z=Math.trunc((L+1)/2),W=(L&1)===0,G=j+E*(W?z:-z);if(G<0||G>=m)break;try{v=s.getBlackRow(G,v)}catch{continue}for(let ee=0;ee<2;ee++){if(ee===1&&(v.reverse(),l&&l.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const ne=new Map;l.forEach((oe,ve)=>ne.set(ve,oe)),ne.delete($.NEED_RESULT_POINT_CALLBACK),l=ne}try{const ne=this.decodeRow(G,v,l);if(ee===1){ne.putMetadata(Ue.ORIENTATION,180);const oe=ne.getResultPoints();oe!==null&&(oe[0]=new Ve(u-oe[0].getX()-1,oe[0].getY()),oe[1]=new Ve(u-oe[1].getX()-1,oe[1].getY()))}return ne}catch{}}}throw new re}static recordPattern(s,l,u){const m=u.length;for(let j=0;j<m;j++)u[j]=0;const v=s.getSize();if(l>=v)throw new re;let b=!s.get(l),E=0,N=l;for(;N<v;){if(s.get(N)!==b)u[E]++;else{if(++E===m)break;u[E]=1,b=!b}N++}if(!(E===m||E===m-1&&N===v))throw new re}static recordPatternInReverse(s,l,u){let m=u.length,v=s.get(l);for(;l>0&&m>=0;)s.get(--l)!==v&&(m--,v=!v);if(m>=0)throw new re;dt.recordPattern(s,l+1,u)}static patternMatchVariance(s,l,u){const m=s.length;let v=0,b=0;for(let j=0;j<m;j++)v+=s[j],b+=l[j];if(v<b)return Number.POSITIVE_INFINITY;const E=v/b;u*=E;let N=0;for(let j=0;j<m;j++){const L=s[j],z=l[j]*E,W=L>z?L-z:z-L;if(W>u)return Number.POSITIVE_INFINITY;N+=W}return N/v}}class Ne extends dt{static findStartPattern(s){const l=s.getSize(),u=s.getNextSet(0);let m=0,v=Int32Array.from([0,0,0,0,0,0]),b=u,E=!1;const N=6;for(let j=u;j<l;j++)if(s.get(j)!==E)v[m]++;else{if(m===N-1){let L=Ne.MAX_AVG_VARIANCE,z=-1;for(let W=Ne.CODE_START_A;W<=Ne.CODE_START_C;W++){const G=dt.patternMatchVariance(v,Ne.CODE_PATTERNS[W],Ne.MAX_INDIVIDUAL_VARIANCE);G<L&&(L=G,z=W)}if(z>=0&&s.isRange(Math.max(0,b-(j-b)/2),b,!1))return Int32Array.from([b,j,z]);b+=v[0]+v[1],v=v.slice(2,v.length-1),v[m-1]=0,v[m]=0,m--}else m++;v[m]=1,E=!E}throw new re}static decodeCode(s,l,u){dt.recordPattern(s,u,l);let m=Ne.MAX_AVG_VARIANCE,v=-1;for(let b=0;b<Ne.CODE_PATTERNS.length;b++){const E=Ne.CODE_PATTERNS[b],N=this.patternMatchVariance(l,E,Ne.MAX_INDIVIDUAL_VARIANCE);N<m&&(m=N,v=b)}if(v>=0)return v;throw new re}decodeRow(s,l,u){const m=u&&u.get($.ASSUME_GS1)===!0,v=Ne.findStartPattern(l),b=v[2];let E=0;const N=new Uint8Array(20);N[E++]=b;let j;switch(b){case Ne.CODE_START_A:j=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:j=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:j=Ne.CODE_CODE_C;break;default:throw new V}let L=!1,z=!1,W="",G=v[0],ee=v[1];const ne=Int32Array.from([0,0,0,0,0,0]);let oe=0,ve=0,Me=b,De=0,Pe=!0,jt=!1,St=!1;for(;!L;){const Ea=z;switch(z=!1,oe=ve,ve=Ne.decodeCode(l,ne,ee),N[E++]=ve,ve!==Ne.CODE_STOP&&(Pe=!0),ve!==Ne.CODE_STOP&&(De++,Me+=De*ve),G=ee,ee+=ne.reduce((co,Ru)=>co+Ru,0),ve){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new V}switch(j){case Ne.CODE_CODE_A:if(ve<64)St===jt?W+=String.fromCharCode(32+ve):W+=String.fromCharCode(32+ve+128),St=!1;else if(ve<96)St===jt?W+=String.fromCharCode(ve-64):W+=String.fromCharCode(ve+64),St=!1;else switch(ve!==Ne.CODE_STOP&&(Pe=!1),ve){case Ne.CODE_FNC_1:m&&(W.length===0?W+="]C1":W+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!jt&&St?(jt=!0,St=!1):jt&&St?(jt=!1,St=!1):St=!0;break;case Ne.CODE_SHIFT:z=!0,j=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:j=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:j=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:L=!0;break}break;case Ne.CODE_CODE_B:if(ve<96)St===jt?W+=String.fromCharCode(32+ve):W+=String.fromCharCode(32+ve+128),St=!1;else switch(ve!==Ne.CODE_STOP&&(Pe=!1),ve){case Ne.CODE_FNC_1:m&&(W.length===0?W+="]C1":W+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!jt&&St?(jt=!0,St=!1):jt&&St?(jt=!1,St=!1):St=!0;break;case Ne.CODE_SHIFT:z=!0,j=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:j=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:j=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:L=!0;break}break;case Ne.CODE_CODE_C:if(ve<100)ve<10&&(W+="0"),W+=ve;else switch(ve!==Ne.CODE_STOP&&(Pe=!1),ve){case Ne.CODE_FNC_1:m&&(W.length===0?W+="]C1":W+="");break;case Ne.CODE_CODE_A:j=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:j=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:L=!0;break}break}Ea&&(j=j===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const Zn=ee-G;if(ee=l.getNextUnset(ee),!l.isRange(ee,Math.min(l.getSize(),ee+(ee-G)/2),!1))throw new re;if(Me-=De*oe,Me%103!==oe)throw new C;const Pi=W.length;if(Pi===0)throw new re;Pi>0&&Pe&&(j===Ne.CODE_CODE_C?W=W.substring(0,Pi-2):W=W.substring(0,Pi-1));const Qr=(v[1]+v[0])/2,Kt=G+Zn/2,Br=N.length,Bn=new Uint8Array(Br);for(let Ea=0;Ea<Br;Ea++)Bn[Ea]=N[Ea];const xs=[new Ve(Qr,s),new Ve(Kt,s)];return new ze(W,Bn,0,xs,X.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class _r extends dt{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,u){let m=this.counters;m.fill(0),this.decodeRowResult="";let v=_r.findAsteriskPattern(l,m),b=l.getNextSet(v[1]),E=l.getSize(),N,j;do{_r.recordPattern(l,b,m);let ne=_r.toNarrowWidePattern(m);if(ne<0)throw new re;N=_r.patternToChar(ne),this.decodeRowResult+=N,j=b;for(let oe of m)b+=oe;b=l.getNextSet(b)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L=0;for(let ne of m)L+=ne;let z=b-j-L;if(b!==E&&z*2<L)throw new re;if(this.usingCheckDigit){let ne=this.decodeRowResult.length-1,oe=0;for(let ve=0;ve<ne;ve++)oe+=_r.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ve));if(this.decodeRowResult.charAt(ne)!==_r.ALPHABET_STRING.charAt(oe%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ne)}if(this.decodeRowResult.length===0)throw new re;let W;this.extendedMode?W=_r.decodeExtended(this.decodeRowResult):W=this.decodeRowResult;let G=(v[1]+v[0])/2,ee=j+L/2;return new ze(W,null,0,[new Ve(G,s),new Ve(ee,s)],X.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let u=s.getSize(),m=s.getNextSet(0),v=0,b=m,E=!1,N=l.length;for(let j=m;j<u;j++)if(s.get(j)!==E)l[v]++;else{if(v===N-1){if(this.toNarrowWidePattern(l)===_r.ASTERISK_ENCODING&&s.isRange(Math.max(0,b-Math.floor((j-b)/2)),b,!1))return[b,j];b+=l[0]+l[1],l.copyWithin(0,2,2+v-1),l[v-1]=0,l[v]=0,v--}else v++;l[v]=1,E=!E}throw new re}static toNarrowWidePattern(s){let l=s.length,u=0,m;do{let v=2147483647;for(let N of s)N<v&&N>u&&(v=N);u=v,m=0;let b=0,E=0;for(let N=0;N<l;N++){let j=s[N];j>u&&(E|=1<<l-1-N,m++,b+=j)}if(m===3){for(let N=0;N<l&&m>0;N++){let j=s[N];if(j>u&&(m--,j*2>=b))return-1}return E}}while(m>3);return-1}static patternToChar(s){for(let l=0;l<_r.CHARACTER_ENCODINGS.length;l++)if(_r.CHARACTER_ENCODINGS[l]===s)return _r.ALPHABET_STRING.charAt(l);if(s===_r.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(s){let l=s.length,u="";for(let m=0;m<l;m++){let v=s.charAt(m);if(v==="+"||v==="$"||v==="%"||v==="/"){let b=s.charAt(m+1),E="\0";switch(v){case"+":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)+32);else throw new V;break;case"$":if(b>="A"&&b<="Z")E=String.fromCharCode(b.charCodeAt(0)-64);else throw new V;break;case"%":if(b>="A"&&b<="E")E=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")E=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")E=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")E="\0";else if(b==="V")E="@";else if(b==="W")E="`";else if(b==="X"||b==="Y"||b==="Z")E="";else throw new V;break;case"/":if(b>="A"&&b<="O")E=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")E=":";else throw new V;break}u+=E,m++}else u+=v}return u}}_r.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_r.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_r.ASTERISK_ENCODING=148;class Bt extends dt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,u){let m=this.decodeStart(l),v=this.decodeEnd(l),b=new Se;Bt.decodeMiddle(l,m[1],v[0],b);let E=b.toString(),N=null;u!=null&&(N=u.get($.ALLOWED_LENGTHS)),N==null&&(N=Bt.DEFAULT_ALLOWED_LENGTHS);let j=E.length,L=!1,z=0;for(let ee of N){if(j===ee){L=!0;break}ee>z&&(z=ee)}if(!L&&j>z&&(L=!0),!L)throw new V;const W=[new Ve(m[1],s),new Ve(v[0],s)];return new ze(E,null,0,W,X.ITF,new Date().getTime())}static decodeMiddle(s,l,u,m){let v=new Int32Array(10),b=new Int32Array(5),E=new Int32Array(5);for(v.fill(0),b.fill(0),E.fill(0);l<u;){dt.recordPattern(s,l,v);for(let j=0;j<5;j++){let L=2*j;b[j]=v[L],E[j]=v[L+1]}let N=Bt.decodeDigit(b);m.append(N.toString()),N=this.decodeDigit(E),m.append(N.toString()),v.forEach(function(j){l+=j})}}decodeStart(s){let l=Bt.skipWhiteSpace(s),u=Bt.findGuardPattern(s,l,Bt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let m=l-1;u>0&&m>=0&&!s.get(m);m--)u--;if(u!==0)throw new re}static skipWhiteSpace(s){const l=s.getSize(),u=s.getNextSet(0);if(u===l)throw new re;return u}decodeEnd(s){s.reverse();try{let l=Bt.skipWhiteSpace(s),u;try{u=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[0])}catch(v){v instanceof re&&(u=Bt.findGuardPattern(s,l,Bt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let m=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-m,u}finally{s.reverse()}}static findGuardPattern(s,l,u){let m=u.length,v=new Int32Array(m),b=s.getSize(),E=!1,N=0,j=l;v.fill(0);for(let L=l;L<b;L++)if(s.get(L)!==E)v[N]++;else{if(N===m-1){if(dt.patternMatchVariance(v,u,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return[j,L];j+=v[0]+v[1],O.arraycopy(v,2,v,0,N-1),v[N-1]=0,v[N]=0,N--}else N++;v[N]=1,E=!E}throw new re}static decodeDigit(s){let l=Bt.MAX_AVG_VARIANCE,u=-1,m=Bt.PATTERNS.length;for(let v=0;v<m;v++){let b=Bt.PATTERNS[v],E=dt.patternMatchVariance(s,b,Bt.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=v):E===l&&(u=-1)}if(u>=0)return u%10;throw new re}}Bt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Bt.MAX_AVG_VARIANCE=.38,Bt.MAX_INDIVIDUAL_VARIANCE=.5,Bt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Bt.START_PATTERN=Int32Array.from([1,1,1,1]),Bt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Gt extends dt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,u,m=0,v=Int32Array.from([0,0,0]);for(;!l;){v=Int32Array.from([0,0,0]),u=Gt.findGuardPattern(s,m,!1,this.START_END_PATTERN,v);let b=u[0];m=u[1];let E=b-(m-b);E>=0&&(l=s.isRange(E,b,!1))}return u}static checkChecksum(s){return Gt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return Gt.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let m=l-1;m>=0;m-=2){let v=s.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;u+=v}u*=3;for(let m=l-2;m>=0;m-=2){let v=s.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;u+=v}return(1e3-u)%10}static decodeEnd(s,l){return Gt.findGuardPattern(s,l,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,u,m){return this.findGuardPattern(s,l,u,m,new Int32Array(m.length))}static findGuardPattern(s,l,u,m,v){let b=s.getSize();l=u?s.getNextUnset(l):s.getNextSet(l);let E=0,N=l,j=m.length,L=u;for(let z=l;z<b;z++)if(s.get(z)!==L)v[E]++;else{if(E===j-1){if(dt.patternMatchVariance(v,m,Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return Int32Array.from([N,z]);N+=v[0]+v[1];let W=v.slice(2,v.length-1);for(let G=0;G<E-1;G++)v[G]=W[G];v[E-1]=0,v[E]=0,E--}else E++;v[E]=1,L=!L}throw new re}static decodeDigit(s,l,u,m){this.recordPattern(s,u,l);let v=this.MAX_AVG_VARIANCE,b=-1,E=m.length;for(let N=0;N<E;N++){let j=m[N],L=dt.patternMatchVariance(l,j,Gt.MAX_INDIVIDUAL_VARIANCE);L<v&&(v=L,b=N)}if(b>=0)return b;throw new re}}Gt.MAX_AVG_VARIANCE=.48,Gt.MAX_INDIVIDUAL_VARIANCE=.7,Gt.START_END_PATTERN=Int32Array.from([1,1,1]),Gt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Gt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Gt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class tn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let m=this.decodeRowStringBuffer,v=this.decodeMiddle(l,u,m),b=m.toString(),E=tn.parseExtensionString(b),N=[new Ve((u[0]+u[1])/2,s),new Ve(v,s)],j=new ze(b,null,0,N,X.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&j.putAllMetadata(E),j}decodeMiddle(s,l,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=s.getSize(),b=l[1],E=0;for(let j=0;j<5&&b<v;j++){let L=Gt.decodeDigit(s,m,b,Gt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of m)b+=z;L>=10&&(E|=1<<4-j),j!==4&&(b=s.getNextSet(b),b=s.getNextUnset(b))}if(u.length!==5)throw new re;let N=this.determineCheckDigit(E);if(tn.extensionChecksum(u.toString())!==N)throw new re;return b}static extensionChecksum(s){let l=s.length,u=0;for(let m=l-2;m>=0;m-=2)u+=s.charAt(m).charCodeAt(0)-48;u*=3;for(let m=l-1;m>=0;m-=2)u+=s.charAt(m).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new re}static parseExtensionString(s){if(s.length!==5)return null;let l=tn.parseExtension5String(s);return l==null?null:new Map([[Ue.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(s.substring(1)),m=(u/100).toString(),v=u%100,b=v<10?"0"+v:v.toString();return l+m+"."+b}}class va{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,u){let m=this.decodeRowStringBuffer,v=this.decodeMiddle(l,u,m),b=m.toString(),E=va.parseExtensionString(b),N=[new Ve((u[0]+u[1])/2,s),new Ve(v,s)],j=new ze(b,null,0,N,X.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&j.putAllMetadata(E),j}decodeMiddle(s,l,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=s.getSize(),b=l[1],E=0;for(let N=0;N<2&&b<v;N++){let j=Gt.decodeDigit(s,m,b,Gt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+j%10);for(let L of m)b+=L;j>=10&&(E|=1<<1-N),N!==1&&(b=s.getNextSet(b),b=s.getNextUnset(b))}if(u.length!==2)throw new re;if(parseInt(u.toString())%4!==E)throw new re;return b}static parseExtensionString(s){return s.length!==2?null:new Map([[Ue.ISSUE_NUMBER,parseInt(s)]])}}class ds{static decodeRow(s,l,u){let m=Gt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new tn().decodeRow(s,l,m)}catch{return new va().decodeRow(s,l,m)}}}ds.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _t extends Gt{constructor(){super(),this.decodeRowStringBuffer="",_t.L_AND_G_PATTERNS=_t.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=_t.L_PATTERNS[s-10],u=new Int32Array(l.length);for(let m=0;m<l.length;m++)u[m]=l[l.length-m-1];_t.L_AND_G_PATTERNS[s]=u}}decodeRow(s,l,u){let m=_t.findStartGuardPattern(l),v=u==null?null:u.get($.NEED_RESULT_POINT_CALLBACK);if(v!=null){const Pe=new Ve((m[0]+m[1])/2,s);v.foundPossibleResultPoint(Pe)}let b=this.decodeMiddle(l,m,this.decodeRowStringBuffer),E=b.rowOffset,N=b.resultString;if(v!=null){const Pe=new Ve(E,s);v.foundPossibleResultPoint(Pe)}let j=this.decodeEnd(l,E);if(v!=null){const Pe=new Ve((j[0]+j[1])/2,s);v.foundPossibleResultPoint(Pe)}let L=j[1],z=L+(L-j[0]);if(z>=l.getSize()||!l.isRange(L,z,!1))throw new re;let W=N.toString();if(W.length<8)throw new V;if(!_t.checkChecksum(W))throw new C;let G=(m[1]+m[0])/2,ee=(j[1]+j[0])/2,ne=this.getBarcodeFormat(),oe=[new Ve(G,s),new Ve(ee,s)],ve=new ze(W,null,0,oe,ne,new Date().getTime()),Me=0;try{let Pe=ds.decodeRow(s,l,j[1]);ve.putMetadata(Ue.UPC_EAN_EXTENSION,Pe.getText()),ve.putAllMetadata(Pe.getResultMetadata()),ve.addResultPoints(Pe.getResultPoints()),Me=Pe.getText().length}catch{}let De=u==null?null:u.get($.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Pe=!1;for(let jt in De)if(Me.toString()===jt){Pe=!0;break}if(!Pe)throw new re}return ve}decodeEnd(s,l){return _t.findGuardPattern(s,l,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return _t.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let u=parseInt(s.charAt(l-1),10);return _t.getStandardUPCEANChecksum(s.substring(0,l-1))===u}static getStandardUPCEANChecksum(s){let l=s.length,u=0;for(let m=l-1;m>=0;m-=2){let v=s.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;u+=v}u*=3;for(let m=l-2;m>=0;m-=2){let v=s.charAt(m).charCodeAt(0)-48;if(v<0||v>9)throw new V;u+=v}return(1e3-u)%10}}class dn extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=s.getSize(),b=l[1],E=0;for(let j=0;j<6&&b<v;j++){let L=_t.decodeDigit(s,m,b,_t.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of m)b+=z;L>=10&&(E|=1<<5-j)}u=dn.determineFirstDigit(u,E),b=_t.findGuardPattern(s,b,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<6&&b<v;j++){let L=_t.decodeDigit(s,m,b,_t.L_PATTERNS);u+=String.fromCharCode(48+L);for(let z of m)b+=z}return{rowOffset:b,resultString:u}}getBarcodeFormat(){return X.EAN_13}static determineFirstDigit(s,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new re}}dn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class fs extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,u){const m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=s.getSize(),b=l[1];for(let N=0;N<4&&b<v;N++){let j=_t.decodeDigit(s,m,b,_t.L_PATTERNS);u+=String.fromCharCode(48+j);for(let L of m)b+=L}b=_t.findGuardPattern(s,b,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&b<v;N++){let j=_t.decodeDigit(s,m,b,_t.L_PATTERNS);u+=String.fromCharCode(48+j);for(let L of m)b+=L}return{rowOffset:b,resultString:u}}getBarcodeFormat(){return X.EAN_8}}class Ki extends _t{constructor(){super(...arguments),this.ean13Reader=new dn}getBarcodeFormat(){return X.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,u))}decodeMiddle(s,l,u){return this.ean13Reader.decodeMiddle(s,l,u)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let u=new ze(l.substring(1),null,null,s.getResultPoints(),X.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new re}reset(){this.ean13Reader.reset()}}class An extends _t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,u){const m=this.decodeMiddleCounters.map(j=>j);m[0]=0,m[1]=0,m[2]=0,m[3]=0;const v=s.getSize();let b=l[1],E=0;for(let j=0;j<6&&b<v;j++){const L=An.decodeDigit(s,m,b,An.L_AND_G_PATTERNS);u+=String.fromCharCode(48+L%10);for(let z of m)b+=z;L>=10&&(E|=1<<5-j)}let N=An.determineNumSysAndCheckDigit(u,E);return{rowOffset:b,resultString:N}}decodeEnd(s,l){return An.findGuardPatternWithoutCounters(s,l,!0,An.MIDDLE_END_PATTERN)}checkChecksum(s){return _t.checkChecksum(An.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let u=0;u<=1;u++)for(let m=0;m<10;m++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][m]){let v=String.fromCharCode(48+u),b=String.fromCharCode(48+m);return v+s+b}throw re.getNotFoundInstance()}getBarcodeFormat(){return X.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(v=>v.charCodeAt(0)),u=new Se;u.append(s.charAt(0));let m=l[5];switch(m){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(m),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(m);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}An.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),An.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class wt extends dt{constructor(s){super();let l=s==null?null:s.get($.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new dn),u.push(new Ki),u.push(new fs),u.push(new An)):(l.indexOf(X.EAN_13)>-1&&u.push(new dn),l.indexOf(X.UPC_A)>-1&&u.push(new Ki),l.indexOf(X.EAN_8)>-1&&u.push(new fs),l.indexOf(X.UPC_E)>-1&&u.push(new An)),this.readers=u}decodeRow(s,l,u){for(let m of this.readers)try{const v=m.decodeRow(s,l,u),b=v.getBarcodeFormat()===X.EAN_13&&v.getText().charAt(0)==="0",E=u==null?null:u.get($.POSSIBLE_FORMATS),N=E==null||E.includes(X.UPC_A);if(b&&N){const j=v.getRawBytes(),L=new ze(v.getText().substring(1),j,j?j.length:null,v.getResultPoints(),X.UPC_A);return L.putAllMetadata(v.getResultMetadata()),L}return v}catch{}throw new re}reset(){for(let s of this.readers)s.reset()}}class mt extends dt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let u=0;u<l.length;u++)if(dt.patternMatchVariance(s,l[u],mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return u;throw new re}static count(s){return At.sum(new Int32Array(s))}static increment(s,l){let u=0,m=l[0];for(let v=1;v<s.length;v++)l[v]>m&&(m=l[v],u=v);s[u]++}static decrement(s,l){let u=0,m=l[0];for(let v=1;v<s.length;v++)l[v]<m&&(m=l[v],u=v);s[u]--}static isFinderPattern(s){let l=s[0]+s[1],u=l+s[2]+s[3],m=l/u;if(m>=mt.MIN_FINDER_PATTERN_RATIO&&m<=mt.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let E of s)E>b&&(b=E),E<v&&(v=E);return b<10*v}return!1}}mt.MAX_AVG_VARIANCE=.2,mt.MAX_INDIVIDUAL_VARIANCE=.45,mt.MIN_FINDER_PATTERN_RATIO=9.5/12,mt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Jt{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Jt))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class rn{constructor(s,l,u,m,v){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ve(u,v)),this.resultPoints.push(new Ve(m,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof rn))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class Nr{constructor(){}static getRSSvalue(s,l,u){let m=0;for(let N of s)m+=N;let v=0,b=0,E=s.length;for(let N=0;N<E-1;N++){let j;for(j=1,b|=1<<N;j<s[N];j++,b&=~(1<<N)){let L=Nr.combins(m-j-1,E-N-2);if(u&&b===0&&m-j-(E-N-1)>=E-N-1&&(L-=Nr.combins(m-j-(E-N),E-N-2)),E-N-1>1){let z=0;for(let W=m-j-(E-N-2);W>l;W--)z+=Nr.combins(m-j-W-1,E-N-3);L-=z*(E-1-N)}else m-j>l&&L--;v+=L}m-=j}return v}static combins(s,l){let u,m;s-l>l?(m=l,u=s-l):(m=s-l,u=l);let v=1,b=1;for(let E=s;E>u;E--)v*=E,b<=m&&(v/=b,b++);for(;b<=m;)v/=b,b++;return v}}class Uo{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let u=12*l,m=new B(u),v=0,E=s[0].getRightChar().getValue();for(let N=11;N>=0;--N)(E&1<<N)!=0&&m.set(v),v++;for(let N=1;N<s.length;++N){let j=s[N],L=j.getLeftChar().getValue();for(let z=11;z>=0;--z)(L&1<<z)!=0&&m.set(v),v++;if(j.getRightChar()!=null){let z=j.getRightChar().getValue();for(let W=11;W>=0;--W)(z&1<<W)!=0&&m.set(v),v++}}return m}}class Yn{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $o{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class vr extends $o{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===vr.FNC1}}vr.FNC1="$";class hi extends $o{constructor(s,l,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class fn extends $o{constructor(s,l,u){if(super(s),l<0||l>10||u<0||u>10)throw new V;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===fn.FNC1}isAnyFNC1(){return this.firstDigit===fn.FNC1||this.secondDigit===fn.FNC1}}fn.FNC1=10;class We{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new re;let l=s.substring(0,2);for(let v of We.TWO_DIGIT_DATA_LENGTH)if(v[0]===l)return v[1]===We.VARIABLE_LENGTH?We.processVariableAI(2,v[2],s):We.processFixedAI(2,v[1],s);if(s.length<3)throw new re;let u=s.substring(0,3);for(let v of We.THREE_DIGIT_DATA_LENGTH)if(v[0]===u)return v[1]===We.VARIABLE_LENGTH?We.processVariableAI(3,v[2],s):We.processFixedAI(3,v[1],s);for(let v of We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===u)return v[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,v[2],s):We.processFixedAI(4,v[1],s);if(s.length<4)throw new re;let m=s.substring(0,4);for(let v of We.FOUR_DIGIT_DATA_LENGTH)if(v[0]===m)return v[1]===We.VARIABLE_LENGTH?We.processVariableAI(4,v[2],s):We.processFixedAI(4,v[1],s);throw new re}static processFixedAI(s,l,u){if(u.length<s)throw new re;let m=u.substring(0,s);if(u.length<s+l)throw new re;let v=u.substring(s,s+l),b=u.substring(s+l),E="("+m+")"+v,N=We.parseFieldsInGeneralPurpose(b);return N==null?E:E+N}static processVariableAI(s,l,u){let m=u.substring(0,s),v;u.length<s+l?v=u.length:v=s+l;let b=u.substring(s,v),E=u.substring(v),N="("+m+")"+b,j=We.parseFieldsInGeneralPurpose(E);return j==null?N:N+j}}We.VARIABLE_LENGTH=[],We.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",We.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",We.VARIABLE_LENGTH,20],["22",We.VARIABLE_LENGTH,29],["30",We.VARIABLE_LENGTH,8],["37",We.VARIABLE_LENGTH,8],["90",We.VARIABLE_LENGTH,30],["91",We.VARIABLE_LENGTH,30],["92",We.VARIABLE_LENGTH,30],["93",We.VARIABLE_LENGTH,30],["94",We.VARIABLE_LENGTH,30],["95",We.VARIABLE_LENGTH,30],["96",We.VARIABLE_LENGTH,30],["97",We.VARIABLE_LENGTH,3],["98",We.VARIABLE_LENGTH,30],["99",We.VARIABLE_LENGTH,30]],We.THREE_DIGIT_DATA_LENGTH=[["240",We.VARIABLE_LENGTH,30],["241",We.VARIABLE_LENGTH,30],["242",We.VARIABLE_LENGTH,6],["250",We.VARIABLE_LENGTH,30],["251",We.VARIABLE_LENGTH,30],["253",We.VARIABLE_LENGTH,17],["254",We.VARIABLE_LENGTH,20],["400",We.VARIABLE_LENGTH,30],["401",We.VARIABLE_LENGTH,30],["402",17],["403",We.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",We.VARIABLE_LENGTH,20],["421",We.VARIABLE_LENGTH,15],["422",3],["423",We.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],We.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",We.VARIABLE_LENGTH,15],["391",We.VARIABLE_LENGTH,18],["392",We.VARIABLE_LENGTH,15],["393",We.VARIABLE_LENGTH,18],["703",We.VARIABLE_LENGTH,30]],We.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",We.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",We.VARIABLE_LENGTH,20],["8003",We.VARIABLE_LENGTH,30],["8004",We.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",We.VARIABLE_LENGTH,30],["8008",We.VARIABLE_LENGTH,12],["8018",18],["8020",We.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",We.VARIABLE_LENGTH,70],["8200",We.VARIABLE_LENGTH,70]];class Fa{constructor(s){this.buffer=new Se,this.information=s}decodeAllCodes(s,l){let u=l,m=null;do{let v=this.decodeGeneralPurposeField(u,m),b=We.parseFieldsInGeneralPurpose(v.getNewString());if(b!=null&&s.append(b),v.isRemaining()?m=""+v.getRemainingValue():m=null,u===v.getNewPosition())break;u=v.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(s,4);return v===0?new fn(this.information.getSize(),fn.FNC1,fn.FNC1):new fn(this.information.getSize(),v-1,fn.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),u=(l-8)/11,m=(l-8)%11;return new fn(s+7,u,m)}extractNumericValueFromBitArray(s,l){return Fa.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,u){let m=0;for(let v=0;v<u;++v)s.get(l+v)&&(m|=1<<u-v-1);return m}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new hi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new hi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new hi(this.current.getPosition(),this.buffer.toString()):l=new hi(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new Yn(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new hi(this.current.getPosition(),this.buffer.toString());return new Yn(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new hi(this.current.getPosition(),this.buffer.toString());return new Yn(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new hi(this.current.getPosition(),this.buffer.toString());return new Yn(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(s,8);return m>=232&&m<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new vr(s+5,vr.FNC1);if(l>=5&&l<15)return new vr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new vr(s+7,""+(u+1));if(u>=90&&u<116)return new vr(s+7,""+(u+7));let m=this.extractNumericValueFromBitArray(s,8),v;switch(m){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new V}return new vr(s+8,v)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new vr(s+5,vr.FNC1);if(l>=5&&l<15)return new vr(s+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new vr(s+6,""+(u+33));let m;switch(u){case 58:m="*";break;case 59:m=",";break;case 60:m="-";break;case 61:m=".";break;case 62:m="/";break;default:throw new ht("Decoding invalid alphanumeric value: "+u)}return new vr(s+6,m)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class Ee{constructor(s){this.information=s,this.generalDecoder=new Fa(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ke extends Ee{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,u)}encodeCompressedGtinWithoutAI(s,l,u){for(let m=0;m<4;++m){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*m,10);v/100===0&&s.append("0"),v/10===0&&s.append("0"),s.append(v)}Ke.appendCheckDigit(s,u)}static appendCheckDigit(s,l){let u=0;for(let m=0;m<13;m++){let v=s.charAt(m+l).charCodeAt(0)-48;u+=(m&1)===0?3*v:v}u=10-u%10,u===10&&(u=0),s.append(u)}}Ke.GTIN_SIZE=40;class at extends Ke{constructor(s){super(s)}parseInformation(){let s=new Se;s.append("(01)");let l=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(at.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,at.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,at.HEADER_SIZE+44)}}at.HEADER_SIZE=4;class yr extends Ee{constructor(s){super(s)}parseInformation(){let s=new Se;return this.getGeneralDecoder().decodeAllCodes(s,yr.HEADER_SIZE)}}yr.HEADER_SIZE=5;class Dr extends Ke{constructor(s){super(s)}encodeCompressedWeight(s,l,u){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(s,m);let v=this.checkWeight(m),b=1e5;for(let E=0;E<5;++E)v/b===0&&s.append("0"),b/=10;s.append(v)}}class br extends Dr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=br.HEADER_SIZE+Dr.GTIN_SIZE+br.WEIGHT_SIZE)throw new re;let s=new Se;return this.encodeCompressedGtin(s,br.HEADER_SIZE),this.encodeCompressedWeight(s,br.HEADER_SIZE+Dr.GTIN_SIZE,br.WEIGHT_SIZE),s.toString()}}br.HEADER_SIZE=5,br.WEIGHT_SIZE=15;class Yi extends br{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class Ho extends br{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Xn extends Ke{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Xn.HEADER_SIZE+Ke.GTIN_SIZE)throw new re;let s=new Se;this.encodeCompressedGtin(s,Xn.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Xn.HEADER_SIZE+Ke.GTIN_SIZE,Xn.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Xn.HEADER_SIZE+Ke.GTIN_SIZE+Xn.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}Xn.HEADER_SIZE=8,Xn.LAST_DIGIT_SIZE=2;class Lr extends Ke{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Lr.HEADER_SIZE+Ke.GTIN_SIZE)throw new re;let s=new Se;this.encodeCompressedGtin(s,Lr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Ke.GTIN_SIZE,Lr.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Ke.GTIN_SIZE+Lr.LAST_DIGIT_SIZE,Lr.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let m=this.getGeneralDecoder().decodeGeneralPurposeField(Lr.HEADER_SIZE+Ke.GTIN_SIZE+Lr.LAST_DIGIT_SIZE+Lr.FIRST_THREE_DIGITS_SIZE,null);return s.append(m.getNewString()),s.toString()}}Lr.HEADER_SIZE=8,Lr.LAST_DIGIT_SIZE=2,Lr.FIRST_THREE_DIGITS_SIZE=10;class fr extends Dr{constructor(s,l,u){super(s),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=fr.HEADER_SIZE+fr.GTIN_SIZE+fr.WEIGHT_SIZE+fr.DATE_SIZE)throw new re;let s=new Se;return this.encodeCompressedGtin(s,fr.HEADER_SIZE),this.encodeCompressedWeight(s,fr.HEADER_SIZE+fr.GTIN_SIZE,fr.WEIGHT_SIZE),this.encodeCompressedDate(s,fr.HEADER_SIZE+fr.GTIN_SIZE+fr.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,fr.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let m=u%32;u/=32;let v=u%12+1;u/=12;let b=u;b/10==0&&s.append("0"),s.append(b),v/10==0&&s.append("0"),s.append(v),m/10==0&&s.append("0"),s.append(m)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}fr.HEADER_SIZE=8,fr.WEIGHT_SIZE=20,fr.DATE_SIZE=16;function Cf(F){try{if(F.get(1))return new at(F);if(!F.get(2))return new yr(F);switch(Fa.extractNumericValueFromBitArray(F,1,4)){case 4:return new Yi(F);case 5:return new Ho(F)}switch(Fa.extractNumericValueFromBitArray(F,1,5)){case 12:return new Xn(F);case 13:return new Lr(F)}switch(Fa.extractNumericValueFromBitArray(F,1,7)){case 56:return new fr(F,"310","11");case 57:return new fr(F,"320","11");case 58:return new fr(F,"310","13");case 59:return new fr(F,"320","13");case 60:return new fr(F,"310","15");case 61:return new fr(F,"320","15");case 62:return new fr(F,"310","17");case 63:return new fr(F,"320","17")}}catch(s){throw console.log(s),new ht("unknown decoder: "+F)}}class Xt{constructor(s,l,u,m){this.leftchar=s,this.rightchar=l,this.finderpattern=u,this.maybeLast=m}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof Xt?Xt.equalsOrNull(s.leftchar,l.leftchar)&&Xt.equalsOrNull(s.rightchar,l.rightchar)&&Xt.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:Xt.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class yu{constructor(s,l,u){this.pairs=s,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof yu?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let u;return s.forEach((m,v)=>{l.forEach(b=>{m.getLeftChar().getValue()===b.getLeftChar().getValue()&&m.getRightChar().getValue()===b.getRightChar().getValue()&&m.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ie extends mt{constructor(s){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(s,l))}catch(m){this.verbose&&console.log(m)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(v){if(v instanceof re){if(!this.pairs.length)throw new re;u=!0}}if(this.checkChecksum())return this.pairs;let m;if(this.rows.length?m=!0:m=!1,this.storeRow(s,!1),m){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new re}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let u=l;u<this.rows.length;u++){let m=this.rows[u];this.pairs.length=0;for(let b of s)this.pairs.push(b.getPairs());if(this.pairs.push(m.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(s);v.push(m);try{return this.checkRows(v,u+1)}catch(b){this.verbose&&console.log(b)}}throw new re}static isValidSequence(s){for(let l of Ie.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let u=!0;for(let m=0;m<s.length;m++)if(s[m].getFinderPattern().getValue()!=l[m]){u=!1;break}if(u)return!0}return!1}storeRow(s,l){let u=0,m=!1,v=!1;for(;u<this.rows.length;){let b=this.rows[u];if(b.getRowNumber()>s){v=b.isEquivalent(this.pairs);break}m=b.isEquivalent(this.pairs),u++}v||m||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new yu(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let u of l)if(u.getPairs().length!==s.length){for(let m of u.getPairs())for(let v of s)if(Xt.equals(m,v))break}}static isPartialRow(s,l){for(let u of l){let m=!0;for(let v of s){let b=!1;for(let E of u.getPairs())if(v.equals(E)){b=!0;break}if(!b){m=!1;break}}if(m)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=Uo.buildBitArray(s),m=Cf(l).parseInformation(),v=s[0].getFinderPattern().getResultPoints(),b=s[s.length-1].getFinderPattern().getResultPoints(),E=[v[0],v[1],b[0],b[1]];return new ze(m,null,null,E,X.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let m=u.getChecksumPortion(),v=2;for(let E=1;E<this.pairs.size();++E){let N=this.pairs.get(E);m+=N.getLeftChar().getChecksumPortion(),v++;let j=N.getRightChar();j!=null&&(m+=j.getChecksumPortion(),v++)}return m%=211,211*(v-4)+m==l.getValue()}static getNextSecondBar(s,l){let u;return s.get(l)?(u=s.getNextUnset(l),u=s.getNextSet(u)):(u=s.getNextSet(l),u=s.getNextUnset(u)),u}retrieveNextPair(s,l,u){let m=l.length%2==0;this.startFromEven&&(m=!m);let v,b=!0,E=-1;do this.findNextPair(s,l,E),v=this.parseFoundFinderPattern(s,u,m),v==null?E=Ie.getNextSecondBar(s,this.startEnd[0]):b=!1;while(b);let N=this.decodeDataCharacter(s,v,m,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new re;let j;try{j=this.decodeDataCharacter(s,v,m,!1)}catch(L){j=null,this.verbose&&console.log(L)}return new Xt(N,j,v,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,u){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=s.getSize(),b;u>=0?b=u:this.isEmptyPair(l)?b=0:b=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let N=!1;for(;b<v&&(N=!s.get(b),!!N);)b++;let j=0,L=b;for(let z=b;z<v;z++)if(s.get(z)!=N)m[j]++;else{if(j==3){if(E&&Ie.reverseCounters(m),Ie.isFinderPattern(m)){this.startEnd[0]=L,this.startEnd[1]=z;return}E&&Ie.reverseCounters(m),L+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,j--}else j++;m[j]=1,N=!N}throw new re}static reverseCounters(s){let l=s.length;for(let u=0;u<l/2;++u){let m=s[u];s[u]=s[l-u-1],s[l-u-1]=m}}parseFoundFinderPattern(s,l,u){let m,v,b;if(u){let j=this.startEnd[0]-1;for(;j>=0&&!s.get(j);)j--;j++,m=this.startEnd[0]-j,v=j,b=this.startEnd[1]}else v=this.startEnd[0],b=s.getNextUnset(this.startEnd[1]+1),m=b-this.startEnd[1];let E=this.getDecodeFinderCounters();O.arraycopy(E,0,E,1,E.length-1),E[0]=m;let N;try{N=this.parseFinderValue(E,Ie.FINDER_PATTERNS)}catch{return null}return new rn(N,[v,b],v,b,l)}decodeDataCharacter(s,l,u,m){let v=this.getDataCharacterCounters();for(let Kt=0;Kt<v.length;Kt++)v[Kt]=0;if(m)Ie.recordPatternInReverse(s,l.getStartEnd()[0],v);else{Ie.recordPattern(s,l.getStartEnd()[1],v);for(let Kt=0,Br=v.length-1;Kt<Br;Kt++,Br--){let Bn=v[Kt];v[Kt]=v[Br],v[Br]=Bn}}let b=17,E=At.sum(new Int32Array(v))/b,N=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-N)/N>.3)throw new re;let j=this.getOddCounts(),L=this.getEvenCounts(),z=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Kt=0;Kt<v.length;Kt++){let Br=1*v[Kt]/E,Bn=Br+.5;if(Bn<1){if(Br<.3)throw new re;Bn=1}else if(Bn>8){if(Br>8.7)throw new re;Bn=8}let xs=Kt/2;(Kt&1)==0?(j[xs]=Bn,z[xs]=Br-Bn):(L[xs]=Bn,W[xs]=Br-Bn)}this.adjustOddEvenCounts(b);let G=4*l.getValue()+(u?0:2)+(m?0:1)-1,ee=0,ne=0;for(let Kt=j.length-1;Kt>=0;Kt--){if(Ie.isNotA1left(l,u,m)){let Br=Ie.WEIGHTS[G][2*Kt];ne+=j[Kt]*Br}ee+=j[Kt]}let oe=0;for(let Kt=L.length-1;Kt>=0;Kt--)if(Ie.isNotA1left(l,u,m)){let Br=Ie.WEIGHTS[G][2*Kt+1];oe+=L[Kt]*Br}let ve=ne+oe;if((ee&1)!=0||ee>13||ee<4)throw new re;let Me=(13-ee)/2,De=Ie.SYMBOL_WIDEST[Me],Pe=9-De,jt=Nr.getRSSvalue(j,De,!0),St=Nr.getRSSvalue(L,Pe,!1),Zn=Ie.EVEN_TOTAL_SUBSET[Me],Pi=Ie.GSUM[Me],Qr=jt*Zn+St+Pi;return new Jt(Qr,ve)}static isNotA1left(s,l,u){return!(s.getValue()==0&&l&&u)}adjustOddEvenCounts(s){let l=At.sum(new Int32Array(this.getOddCounts())),u=At.sum(new Int32Array(this.getEvenCounts())),m=!1,v=!1;l>13?v=!0:l<4&&(m=!0);let b=!1,E=!1;u>13?E=!0:u<4&&(b=!0);let N=l+u-s,j=(l&1)==1,L=(u&1)==0;if(N==1)if(j){if(L)throw new re;v=!0}else{if(!L)throw new re;E=!0}else if(N==-1)if(j){if(L)throw new re;m=!0}else{if(!L)throw new re;b=!0}else if(N==0){if(j){if(!L)throw new re;l<u?(m=!0,E=!0):(v=!0,b=!0)}else if(L)throw new re}else throw new re;if(m){if(v)throw new re;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(E)throw new re;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class _f extends Jt{constructor(s,l,u){super(s,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class lr extends mt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,u){const m=this.decodePair(l,!1,s,u);lr.addOrTally(this.possibleLeftPairs,m),l.reverse();let v=this.decodePair(l,!0,s,u);lr.addOrTally(this.possibleRightPairs,v),l.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&lr.checkChecksum(b,E))return lr.constructResult(b,E)}throw new re}static addOrTally(s,l){if(l==null)return;let u=!1;for(let m of s)if(m.getValue()===l.getValue()){m.incrementCount(),u=!0;break}u||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let u=4537077*s.getValue()+l.getValue(),m=new String(u).toString(),v=new Se;for(let j=13-m.length;j>0;j--)v.append("0");v.append(m);let b=0;for(let j=0;j<13;j++){let L=v.charAt(j).charCodeAt(0)-48;b+=(j&1)===0?3*L:L}b=10-b%10,b===10&&(b=0),v.append(b.toString());let E=s.getFinderPattern().getResultPoints(),N=l.getFinderPattern().getResultPoints();return new ze(v.toString(),null,0,[E[0],E[1],N[0],N[1]],X.RSS_14,new Date().getTime())}static checkChecksum(s,l){let u=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,m=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return m>72&&m--,m>8&&m--,u===m}decodePair(s,l,u,m){try{let v=this.findFinderPattern(s,l),b=this.parseFoundFinderPattern(s,u,l,v),E=m==null?null:m.get($.NEED_RESULT_POINT_CALLBACK);if(E!=null){let L=(v[0]+v[1])/2;l&&(L=s.getSize()-1-L),E.foundPossibleResultPoint(new Ve(L,u))}let N=this.decodeDataCharacter(s,b,!0),j=this.decodeDataCharacter(s,b,!1);return new _f(1597*N.getValue()+j.getValue(),N.getChecksumPortion()+4*j.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(s,l,u){let m=this.getDataCharacterCounters();for(let oe=0;oe<m.length;oe++)m[oe]=0;if(u)dt.recordPatternInReverse(s,l.getStartEnd()[0],m);else{dt.recordPattern(s,l.getStartEnd()[1]+1,m);for(let oe=0,ve=m.length-1;oe<ve;oe++,ve--){let Me=m[oe];m[oe]=m[ve],m[ve]=Me}}let v=u?16:15,b=At.sum(new Int32Array(m))/v,E=this.getOddCounts(),N=this.getEvenCounts(),j=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let oe=0;oe<m.length;oe++){let ve=m[oe]/b,Me=Math.floor(ve+.5);Me<1?Me=1:Me>8&&(Me=8);let De=Math.floor(oe/2);(oe&1)===0?(E[De]=Me,j[De]=ve-Me):(N[De]=Me,L[De]=ve-Me)}this.adjustOddEvenCounts(u,v);let z=0,W=0;for(let oe=E.length-1;oe>=0;oe--)W*=9,W+=E[oe],z+=E[oe];let G=0,ee=0;for(let oe=N.length-1;oe>=0;oe--)G*=9,G+=N[oe],ee+=N[oe];let ne=W+3*G;if(u){if((z&1)!==0||z>12||z<4)throw new re;let oe=(12-z)/2,ve=lr.OUTSIDE_ODD_WIDEST[oe],Me=9-ve,De=Nr.getRSSvalue(E,ve,!1),Pe=Nr.getRSSvalue(N,Me,!0),jt=lr.OUTSIDE_EVEN_TOTAL_SUBSET[oe],St=lr.OUTSIDE_GSUM[oe];return new Jt(De*jt+Pe+St,ne)}else{if((ee&1)!==0||ee>10||ee<4)throw new re;let oe=(10-ee)/2,ve=lr.INSIDE_ODD_WIDEST[oe],Me=9-ve,De=Nr.getRSSvalue(E,ve,!0),Pe=Nr.getRSSvalue(N,Me,!1),jt=lr.INSIDE_ODD_TOTAL_SUBSET[oe],St=lr.INSIDE_GSUM[oe];return new Jt(Pe*jt+De+St,ne)}}findFinderPattern(s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let m=s.getSize(),v=!1,b=0;for(;b<m&&(v=!s.get(b),l!==v);)b++;let E=0,N=b;for(let j=b;j<m;j++)if(s.get(j)!==v)u[E]++;else{if(E===3){if(mt.isFinderPattern(u))return[N,j];N+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,v=!v}throw new re}parseFoundFinderPattern(s,l,u,m){let v=s.get(m[0]),b=m[0]-1;for(;b>=0&&v!==s.get(b);)b--;b++;const E=m[0]-b,N=this.getDecodeFinderCounters(),j=new Int32Array(N.length);O.arraycopy(N,0,j,1,N.length-1),j[0]=E;const L=this.parseFinderValue(j,lr.FINDER_PATTERNS);let z=b,W=m[1];return u&&(z=s.getSize()-1-z,W=s.getSize()-1-W),new rn(L,[b,m[1]],z,W,l)}adjustOddEvenCounts(s,l){let u=At.sum(new Int32Array(this.getOddCounts())),m=At.sum(new Int32Array(this.getEvenCounts())),v=!1,b=!1,E=!1,N=!1;s?(u>12?b=!0:u<4&&(v=!0),m>12?N=!0:m<4&&(E=!0)):(u>11?b=!0:u<5&&(v=!0),m>10?N=!0:m<4&&(E=!0));let j=u+m-l,L=(u&1)===(s?1:0),z=(m&1)===1;if(j===1)if(L){if(z)throw new re;b=!0}else{if(!z)throw new re;N=!0}else if(j===-1)if(L){if(z)throw new re;v=!0}else{if(!z)throw new re;E=!0}else if(j===0){if(L){if(!z)throw new re;u<m?(v=!0,N=!0):(b=!0,E=!0)}else if(z)throw new re}else throw new re;if(v){if(b)throw new re;mt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&mt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(N)throw new re;mt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&mt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}lr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],lr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],lr.OUTSIDE_GSUM=[0,161,961,2015,2715],lr.INSIDE_GSUM=[0,336,1036,1516],lr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],lr.INSIDE_ODD_WIDEST=[2,4,6,8],lr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class eo extends dt{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const u=s?s.get($.POSSIBLE_FORMATS):null,m=s&&s.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(X.EAN_13)||u.includes(X.UPC_A)||u.includes(X.EAN_8)||u.includes(X.UPC_E))&&this.readers.push(new wt(s)),u.includes(X.CODE_39)&&this.readers.push(new _r(m)),u.includes(X.CODE_128)&&this.readers.push(new Ne),u.includes(X.ITF)&&this.readers.push(new Bt),u.includes(X.RSS_14)&&this.readers.push(new lr),u.includes(X.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new wt(s)),this.readers.push(new _r),this.readers.push(new wt(s)),this.readers.push(new Ne),this.readers.push(new Bt),this.readers.push(new lr),this.readers.push(new Ie(this.verbose)))}decodeRow(s,l,u){for(let m=0;m<this.readers.length;m++)try{return this.readers[m].decodeRow(s,l,u)}catch{}throw new re}reset(){this.readers.forEach(s=>s.reset())}}class Nf extends $e{constructor(s=500,l){super(new eo(l),s,l)}}class Ft{constructor(s,l,u){this.ecCodewords=s,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Nt{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class kt{constructor(s,l,u,m,v,b){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=m,this.dataRegionSizeColumns=v,this.ecBlocks=b;let E=0;const N=b.getECCodewords(),j=b.getECBlocks();for(let L of j)E+=L.getCount()*(L.getDataCodewords()+N);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new V;for(let u of kt.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===l)return u;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new kt(1,10,10,8,8,new Ft(5,new Nt(1,3))),new kt(2,12,12,10,10,new Ft(7,new Nt(1,5))),new kt(3,14,14,12,12,new Ft(10,new Nt(1,8))),new kt(4,16,16,14,14,new Ft(12,new Nt(1,12))),new kt(5,18,18,16,16,new Ft(14,new Nt(1,18))),new kt(6,20,20,18,18,new Ft(18,new Nt(1,22))),new kt(7,22,22,20,20,new Ft(20,new Nt(1,30))),new kt(8,24,24,22,22,new Ft(24,new Nt(1,36))),new kt(9,26,26,24,24,new Ft(28,new Nt(1,44))),new kt(10,32,32,14,14,new Ft(36,new Nt(1,62))),new kt(11,36,36,16,16,new Ft(42,new Nt(1,86))),new kt(12,40,40,18,18,new Ft(48,new Nt(1,114))),new kt(13,44,44,20,20,new Ft(56,new Nt(1,144))),new kt(14,48,48,22,22,new Ft(68,new Nt(1,174))),new kt(15,52,52,24,24,new Ft(42,new Nt(2,102))),new kt(16,64,64,14,14,new Ft(56,new Nt(2,140))),new kt(17,72,72,16,16,new Ft(36,new Nt(4,92))),new kt(18,80,80,18,18,new Ft(48,new Nt(4,114))),new kt(19,88,88,20,20,new Ft(56,new Nt(4,144))),new kt(20,96,96,22,22,new Ft(68,new Nt(4,174))),new kt(21,104,104,24,24,new Ft(56,new Nt(6,136))),new kt(22,120,120,18,18,new Ft(68,new Nt(6,175))),new kt(23,132,132,20,20,new Ft(62,new Nt(8,163))),new kt(24,144,144,22,22,new Ft(62,new Nt(8,156),new Nt(2,155))),new kt(25,8,18,6,16,new Ft(7,new Nt(1,5))),new kt(26,8,32,6,14,new Ft(11,new Nt(1,10))),new kt(27,12,26,10,24,new Ft(14,new Nt(1,16))),new kt(28,12,36,10,16,new Ft(18,new Nt(1,22))),new kt(29,16,36,14,16,new Ft(24,new Nt(1,32))),new kt(30,16,48,14,22,new Ft(28,new Nt(1,49)))]}}kt.VERSIONS=kt.buildVersions();class oi{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new V;this.version=oi.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new _e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),u=s.getWidth();return kt.getVersionForDimensions(l,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,m=0;const v=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let E=!1,N=!1,j=!1,L=!1;do if(u===v&&m===0&&!E)s[l++]=this.readCorner1(v,b)&255,u-=2,m+=2,E=!0;else if(u===v-2&&m===0&&(b&3)!==0&&!N)s[l++]=this.readCorner2(v,b)&255,u-=2,m+=2,N=!0;else if(u===v+4&&m===2&&(b&7)===0&&!j)s[l++]=this.readCorner3(v,b)&255,u-=2,m+=2,j=!0;else if(u===v-2&&m===0&&(b&7)===4&&!L)s[l++]=this.readCorner4(v,b)&255,u-=2,m+=2,L=!0;else{do u<v&&m>=0&&!this.readMappingMatrix.get(m,u)&&(s[l++]=this.readUtah(u,m,v,b)&255),u-=2,m+=2;while(u>=0&&m<b);u+=1,m+=3;do u>=0&&m<b&&!this.readMappingMatrix.get(m,u)&&(s[l++]=this.readUtah(u,m,v,b)&255),u+=2,m-=2;while(u<v&&m>=0);u+=3,m+=1}while(u<v||m<b);if(l!==this.version.getTotalCodewords())throw new V;return s}readModule(s,l,u,m){return s<0&&(s+=u,l+=4-(u+4&7)),l<0&&(l+=m,s+=4-(m+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,u,m){let v=0;return this.readModule(s-2,l-2,u,m)&&(v|=1),v<<=1,this.readModule(s-2,l-1,u,m)&&(v|=1),v<<=1,this.readModule(s-1,l-2,u,m)&&(v|=1),v<<=1,this.readModule(s-1,l-1,u,m)&&(v|=1),v<<=1,this.readModule(s-1,l,u,m)&&(v|=1),v<<=1,this.readModule(s,l-2,u,m)&&(v|=1),v<<=1,this.readModule(s,l-1,u,m)&&(v|=1),v<<=1,this.readModule(s,l,u,m)&&(v|=1),v}readCorner1(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,1,s,l)&&(u|=1),u<<=1,this.readModule(s-1,2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}readCorner2(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-4,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner3(s,l){let u=0;return this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(0,l-3,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-3,s,l)&&(u|=1),u<<=1,this.readModule(1,l-2,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u}readCorner4(s,l){let u=0;return this.readModule(s-3,0,s,l)&&(u|=1),u<<=1,this.readModule(s-2,0,s,l)&&(u|=1),u<<=1,this.readModule(s-1,0,s,l)&&(u|=1),u<<=1,this.readModule(0,l-2,s,l)&&(u|=1),u<<=1,this.readModule(0,l-1,s,l)&&(u|=1),u<<=1,this.readModule(1,l-1,s,l)&&(u|=1),u<<=1,this.readModule(2,l-1,s,l)&&(u|=1),u<<=1,this.readModule(3,l-1,s,l)&&(u|=1),u}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const m=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),b=l/m|0,E=u/v|0,N=b*m,j=E*v,L=new _e(j,N);for(let z=0;z<b;++z){const W=z*m;for(let G=0;G<E;++G){const ee=G*v;for(let ne=0;ne<m;++ne){const oe=z*(m+2)+1+ne,ve=W+ne;for(let Me=0;Me<v;++Me){const De=G*(v+2)+1+Me;if(s.get(De,oe)){const Pe=ee+Me;L.set(Pe,ve)}}}}}return L}}class bu{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const u=l.getECBlocks();let m=0;const v=u.getECBlocks();for(let ne of v)m+=ne.getCount();const b=new Array(m);let E=0;for(let ne of v)for(let oe=0;oe<ne.getCount();oe++){const ve=ne.getDataCodewords(),Me=u.getECCodewords()+ve;b[E++]=new bu(ve,new Uint8Array(Me))}const j=b[0].codewords.length-u.getECCodewords(),L=j-1;let z=0;for(let ne=0;ne<L;ne++)for(let oe=0;oe<E;oe++)b[oe].codewords[ne]=s[z++];const W=l.getVersionNumber()===24,G=W?8:E;for(let ne=0;ne<G;ne++)b[ne].codewords[j-1]=s[z++];const ee=b[0].codewords.length;for(let ne=j;ne<ee;ne++)for(let oe=0;oe<E;oe++){const ve=W?(oe+8)%E:oe,Me=W&&ve>7?ne-1:ne;b[ve].codewords[Me]=s[z++]}if(z!==s.length)throw new y;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class wu{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new y(""+s);let l=0,u=this.bitOffset,m=this.byteOffset;const v=this.bytes;if(u>0){const b=8-u,E=s<b?s:b,N=b-E,j=255>>8-E<<N;l=(v[m]&j)>>N,s-=E,u+=E,u===8&&(u=0,m++)}if(s>0){for(;s>=8;)l=l<<8|v[m]&255,m++,s-=8;if(s>0){const b=8-s,E=255>>b<<b;l=l<<s|(v[m]&E)>>b,u+=s}}return this.bitOffset=u,this.byteOffset=m,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Yr;(function(F){F[F.PAD_ENCODE=0]="PAD_ENCODE",F[F.ASCII_ENCODE=1]="ASCII_ENCODE",F[F.C40_ENCODE=2]="C40_ENCODE",F[F.TEXT_ENCODE=3]="TEXT_ENCODE",F[F.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",F[F.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",F[F.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yr||(Yr={}));class Ii{static decode(s){const l=new wu(s),u=new Se,m=new Se,v=new Array;let b=Yr.ASCII_ENCODE;do if(b===Yr.ASCII_ENCODE)b=this.decodeAsciiSegment(l,u,m);else{switch(b){case Yr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Yr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Yr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Yr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Yr.BASE256_ENCODE:this.decodeBase256Segment(l,u,v);break;default:throw new V}b=Yr.ASCII_ENCODE}while(b!==Yr.PAD_ENCODE&&l.available()>0);return m.length()>0&&u.append(m.toString()),new Q(s,u.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(s,l,u){let m=!1;do{let v=s.readBits(8);if(v===0)throw new V;if(v<=128)return m&&(v+=128),l.append(String.fromCharCode(v-1)),Yr.ASCII_ENCODE;if(v===129)return Yr.PAD_ENCODE;if(v<=229){const b=v-130;b<10&&l.append("0"),l.append(""+b)}else switch(v){case 230:return Yr.C40_ENCODE;case 231:return Yr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:m=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Yr.ANSIX12_ENCODE;case 239:return Yr.TEXT_ENCODE;case 240:return Yr.EDIFACT_ENCODE;case 241:break;default:if(v!==254||s.available()!==0)throw new V;break}}while(s.available()>0);return Yr.ASCII_ENCODE}static decodeC40Segment(s,l){let u=!1;const m=[];let v=0;do{if(s.available()===8)return;const b=s.readBits(8);if(b===254)return;this.parseTwoBytes(b,s.readBits(8),m);for(let E=0;E<3;E++){const N=m[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const j=this.C40_BASIC_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else throw new V;break;case 1:u?(l.append(String.fromCharCode(N+128)),u=!1):l.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const j=this.C40_SHIFT2_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else switch(N){case 27:l.append("");break;case 30:u=!0;break;default:throw new V}v=0;break;case 3:u?(l.append(String.fromCharCode(N+224)),u=!1):l.append(String.fromCharCode(N+96)),v=0;break;default:throw new V}}}while(s.available()>0)}static decodeTextSegment(s,l){let u=!1,m=[],v=0;do{if(s.available()===8)return;const b=s.readBits(8);if(b===254)return;this.parseTwoBytes(b,s.readBits(8),m);for(let E=0;E<3;E++){const N=m[E];switch(v){case 0:if(N<3)v=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const j=this.TEXT_BASIC_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else throw new V;break;case 1:u?(l.append(String.fromCharCode(N+128)),u=!1):l.append(String.fromCharCode(N)),v=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const j=this.TEXT_SHIFT2_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j)}else switch(N){case 27:l.append("");break;case 30:u=!0;break;default:throw new V}v=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const j=this.TEXT_SHIFT3_SET_CHARS[N];u?(l.append(String.fromCharCode(j.charCodeAt(0)+128)),u=!1):l.append(j),v=0}else throw new V;break;default:throw new V}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const u=[];do{if(s.available()===8)return;const m=s.readBits(8);if(m===254)return;this.parseTwoBytes(m,s.readBits(8),u);for(let v=0;v<3;v++){const b=u[v];switch(b){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(b<14)l.append(String.fromCharCode(b+44));else if(b<40)l.append(String.fromCharCode(b+51));else throw new V;break}}}while(s.available()>0)}static parseTwoBytes(s,l,u){let m=(s<<8)+l-1,v=Math.floor(m/1600);u[0]=v,m-=v*1600,v=Math.floor(m/40),u[1]=v,u[2]=m-v*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let m=s.readBits(6);if(m===31){const v=8-s.getBitOffset();v!==8&&s.readBits(v);return}(m&32)===0&&(m|=64),l.append(String.fromCharCode(m))}}while(s.available()>0)}static decodeBase256Segment(s,l,u){let m=1+s.getByteOffset();const v=this.unrandomize255State(s.readBits(8),m++);let b;if(v===0?b=s.available()/8|0:v<250?b=v:b=250*(v-249)+this.unrandomize255State(s.readBits(8),m++),b<0)throw new V;const E=new Uint8Array(b);for(let N=0;N<b;N++){if(s.available()<8)throw new V;E[N]=this.unrandomize255State(s.readBits(8),m++)}u.push(E);try{l.append(se.decode(E,ae.ISO88591))}catch(N){throw new ht("Platform does not support required encoding: "+N.message)}}static unrandomize255State(s,l){const u=149*l%255+1,m=s-u;return m>=0?m:m+256}}Ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ii.TEXT_SHIFT2_SET_CHARS=Ii.C40_SHIFT2_SET_CHARS,Ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Yl{constructor(){this.rsDecoder=new Lt(Oe.DATA_MATRIX_FIELD_256)}decode(s){const l=new oi(s),u=l.getVersion(),m=l.readCodewords(),v=bu.getDataBlocks(m,u);let b=0;for(let j of v)b+=j.getNumDataCodewords();const E=new Uint8Array(b),N=v.length;for(let j=0;j<N;j++){const L=v[j],z=L.getCodewords(),W=L.getNumDataCodewords();this.correctErrors(z,W);for(let G=0;G<W;G++)E[G*N+j]=z[G]}return Ii.decode(E)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let m=0;m<l;m++)s[m]=u[m]}}class cr{constructor(s){this.image=s,this.rectangleDetector=new Gn(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new re;l=this.shiftToModuleCenter(l);const u=l[0],m=l[1],v=l[2],b=l[3];let E=this.transitionsBetween(u,b)+1,N=this.transitionsBetween(v,b)+1;(E&1)===1&&(E+=1),(N&1)===1&&(N+=1),4*E<7*N&&4*N<7*E&&(E=N=Math.max(E,N));let j=cr.sampleGrid(this.image,u,m,v,b,E,N);return new xa(j,[u,m,v,b])}static shiftPoint(s,l,u){let m=(l.getX()-s.getX())/(u+1),v=(l.getY()-s.getY())/(u+1);return new Ve(s.getX()+m,s.getY()+v)}static moveAway(s,l,u){let m=s.getX(),v=s.getY();return m<l?m-=1:m+=1,v<u?v-=1:v+=1,new Ve(m,v)}detectSolid1(s){let l=s[0],u=s[1],m=s[3],v=s[2],b=this.transitionsBetween(l,u),E=this.transitionsBetween(u,m),N=this.transitionsBetween(m,v),j=this.transitionsBetween(v,l),L=b,z=[v,l,u,m];return L>E&&(L=E,z[0]=l,z[1]=u,z[2]=m,z[3]=v),L>N&&(L=N,z[0]=u,z[1]=m,z[2]=v,z[3]=l),L>j&&(z[0]=m,z[1]=v,z[2]=l,z[3]=u),z}detectSolid2(s){let l=s[0],u=s[1],m=s[2],v=s[3],b=this.transitionsBetween(l,v),E=cr.shiftPoint(u,m,(b+1)*4),N=cr.shiftPoint(m,u,(b+1)*4),j=this.transitionsBetween(E,l),L=this.transitionsBetween(N,v);return j<L?(s[0]=l,s[1]=u,s[2]=m,s[3]=v):(s[0]=u,s[1]=m,s[2]=v,s[3]=l),s}correctTopRight(s){let l=s[0],u=s[1],m=s[2],v=s[3],b=this.transitionsBetween(l,v),E=this.transitionsBetween(u,v),N=cr.shiftPoint(l,u,(E+1)*4),j=cr.shiftPoint(m,u,(b+1)*4);b=this.transitionsBetween(N,v),E=this.transitionsBetween(j,v);let L=new Ve(v.getX()+(m.getX()-u.getX())/(b+1),v.getY()+(m.getY()-u.getY())/(b+1)),z=new Ve(v.getX()+(l.getX()-u.getX())/(E+1),v.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(L))return this.isValid(z)?z:null;if(!this.isValid(z))return L;let W=this.transitionsBetween(N,L)+this.transitionsBetween(j,L),G=this.transitionsBetween(N,z)+this.transitionsBetween(j,z);return W>G?L:z}shiftToModuleCenter(s){let l=s[0],u=s[1],m=s[2],v=s[3],b=this.transitionsBetween(l,v)+1,E=this.transitionsBetween(m,v)+1,N=cr.shiftPoint(l,u,E*4),j=cr.shiftPoint(m,u,b*4);b=this.transitionsBetween(N,v)+1,E=this.transitionsBetween(j,v)+1,(b&1)===1&&(b+=1),(E&1)===1&&(E+=1);let L=(l.getX()+u.getX()+m.getX()+v.getX())/4,z=(l.getY()+u.getY()+m.getY()+v.getY())/4;l=cr.moveAway(l,L,z),u=cr.moveAway(u,L,z),m=cr.moveAway(m,L,z),v=cr.moveAway(v,L,z);let W,G;return N=cr.shiftPoint(l,u,E*4),N=cr.shiftPoint(N,v,b*4),W=cr.shiftPoint(u,l,E*4),W=cr.shiftPoint(W,m,b*4),j=cr.shiftPoint(m,v,E*4),j=cr.shiftPoint(j,u,b*4),G=cr.shiftPoint(v,m,E*4),G=cr.shiftPoint(G,l,b*4),[N,W,j,G]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,u,m,v,b,E){return Kn.getInstance().sampleGrid(s,b,E,.5,.5,b-.5,.5,b-.5,E-.5,.5,E-.5,l.getX(),l.getY(),v.getX(),v.getY(),m.getX(),m.getY(),u.getX(),u.getY())}transitionsBetween(s,l){let u=Math.trunc(s.getX()),m=Math.trunc(s.getY()),v=Math.trunc(l.getX()),b=Math.trunc(l.getY()),E=Math.abs(b-m)>Math.abs(v-u);if(E){let ne=u;u=m,m=ne,ne=v,v=b,b=ne}let N=Math.abs(v-u),j=Math.abs(b-m),L=-N/2,z=m<b?1:-1,W=u<v?1:-1,G=0,ee=this.image.get(E?m:u,E?u:m);for(let ne=u,oe=m;ne!==v;ne+=W){let ve=this.image.get(E?oe:ne,E?ne:oe);if(ve!==ee&&(G++,ee=ve),L+=j,L>0){if(oe===b)break;oe+=z,L-=N}}return G}}class Oi{constructor(){this.decoder=new Yl}decode(s,l=null){let u,m;if(l!=null&&l.has($.PURE_BARCODE)){const j=Oi.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(j),m=Oi.NO_POINTS}else{const j=new cr(s.getBlackMatrix()).detect();u=this.decoder.decode(j.getBits()),m=j.getPoints()}const v=u.getRawBytes(),b=new ze(u.getText(),v,8*v.length,m,X.DATA_MATRIX,O.currentTimeMillis()),E=u.getByteSegments();E!=null&&b.putMetadata(Ue.BYTE_SEGMENTS,E);const N=u.getECLevel();return N!=null&&b.putMetadata(Ue.ERROR_CORRECTION_LEVEL,N),b}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l==null||u==null)throw new re;const m=this.moduleSize(l,s);let v=l[1];const b=u[1];let E=l[0];const j=(u[0]-E+1)/m,L=(b-v+1)/m;if(j<=0||L<=0)throw new re;const z=m/2;v+=z,E+=z;const W=new _e(j,L);for(let G=0;G<L;G++){const ee=v+G*m;for(let ne=0;ne<j;ne++)s.get(E+ne*m,ee)&&W.set(ne,G)}return W}static moduleSize(s,l){const u=l.getWidth();let m=s[0];const v=s[1];for(;m<u&&l.get(m,v);)m++;if(m===u)throw new re;const b=m-s[0];if(b===0)throw new re;return b}}Oi.NO_POINTS=[];class Bm extends $e{constructor(s=500){super(new Oi,s)}}var to;(function(F){F[F.L=0]="L",F[F.M=1]="M",F[F.Q=2]="Q",F[F.H=3]="H"})(to||(to={}));class Qt{constructor(s,l,u){this.value=s,this.stringValue=l,this.bits=u,Qt.FOR_BITS.set(u,this),Qt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Qt.L;case"M":return Qt.M;case"Q":return Qt.Q;case"H":return Qt.H;default:throw new x(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Qt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Qt.FOR_BITS.size)throw new y;return Qt.FOR_BITS.get(s)}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.L=new Qt(to.L,"L",1),Qt.M=new Qt(to.M,"M",0),Qt.Q=new Qt(to.Q,"Q",3),Qt.H=new Qt(to.H,"H",2);class hn{constructor(s){this.errorCorrectionLevel=Qt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return R.bitCount(s^l)}static decodeFormatInformation(s,l){const u=hn.doDecodeFormatInformation(s,l);return u!==null?u:hn.doDecodeFormatInformation(s^hn.FORMAT_INFO_MASK_QR,l^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let u=Number.MAX_SAFE_INTEGER,m=0;for(const v of hn.FORMAT_INFO_DECODE_LOOKUP){const b=v[0];if(b===s||b===l)return new hn(v[1]);let E=hn.numBitsDiffering(s,b);E<u&&(m=v[1],u=E),s!==l&&(E=hn.numBitsDiffering(l,b),E<u&&(m=v[1],u=E))}return u<=3?new hn(m):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof hn))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ue{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const u of l)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class q{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class lt{constructor(s,l,...u){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=u;let m=0;const v=u[0].getECCodewordsPerBlock(),b=u[0].getECBlocks();for(const E of b)m+=E.getCount()*(E.getDataCodewords()+v);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new V;try{return this.getVersionForNumber((s-17)/4)}catch{throw new V}}static getVersionForNumber(s){if(s<1||s>40)throw new y;return lt.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,u=0;for(let m=0;m<lt.VERSION_DECODE_INFO.length;m++){const v=lt.VERSION_DECODE_INFO[m];if(v===s)return lt.getVersionForNumber(m+7);const b=hn.numBitsDiffering(s,v);b<l&&(u=m+7,l=b)}return l<=3?lt.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new _e(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let m=0;m<u;m++){const v=this.alignmentPatternCenters[m]-2;for(let b=0;b<u;b++)m===0&&(b===0||b===u-1)||m===u-1&&b===0||l.setRegion(this.alignmentPatternCenters[b]-2,v,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),lt.VERSIONS=[new lt(1,new Int32Array(0),new ue(7,new q(1,19)),new ue(10,new q(1,16)),new ue(13,new q(1,13)),new ue(17,new q(1,9))),new lt(2,Int32Array.from([6,18]),new ue(10,new q(1,34)),new ue(16,new q(1,28)),new ue(22,new q(1,22)),new ue(28,new q(1,16))),new lt(3,Int32Array.from([6,22]),new ue(15,new q(1,55)),new ue(26,new q(1,44)),new ue(18,new q(2,17)),new ue(22,new q(2,13))),new lt(4,Int32Array.from([6,26]),new ue(20,new q(1,80)),new ue(18,new q(2,32)),new ue(26,new q(2,24)),new ue(16,new q(4,9))),new lt(5,Int32Array.from([6,30]),new ue(26,new q(1,108)),new ue(24,new q(2,43)),new ue(18,new q(2,15),new q(2,16)),new ue(22,new q(2,11),new q(2,12))),new lt(6,Int32Array.from([6,34]),new ue(18,new q(2,68)),new ue(16,new q(4,27)),new ue(24,new q(4,19)),new ue(28,new q(4,15))),new lt(7,Int32Array.from([6,22,38]),new ue(20,new q(2,78)),new ue(18,new q(4,31)),new ue(18,new q(2,14),new q(4,15)),new ue(26,new q(4,13),new q(1,14))),new lt(8,Int32Array.from([6,24,42]),new ue(24,new q(2,97)),new ue(22,new q(2,38),new q(2,39)),new ue(22,new q(4,18),new q(2,19)),new ue(26,new q(4,14),new q(2,15))),new lt(9,Int32Array.from([6,26,46]),new ue(30,new q(2,116)),new ue(22,new q(3,36),new q(2,37)),new ue(20,new q(4,16),new q(4,17)),new ue(24,new q(4,12),new q(4,13))),new lt(10,Int32Array.from([6,28,50]),new ue(18,new q(2,68),new q(2,69)),new ue(26,new q(4,43),new q(1,44)),new ue(24,new q(6,19),new q(2,20)),new ue(28,new q(6,15),new q(2,16))),new lt(11,Int32Array.from([6,30,54]),new ue(20,new q(4,81)),new ue(30,new q(1,50),new q(4,51)),new ue(28,new q(4,22),new q(4,23)),new ue(24,new q(3,12),new q(8,13))),new lt(12,Int32Array.from([6,32,58]),new ue(24,new q(2,92),new q(2,93)),new ue(22,new q(6,36),new q(2,37)),new ue(26,new q(4,20),new q(6,21)),new ue(28,new q(7,14),new q(4,15))),new lt(13,Int32Array.from([6,34,62]),new ue(26,new q(4,107)),new ue(22,new q(8,37),new q(1,38)),new ue(24,new q(8,20),new q(4,21)),new ue(22,new q(12,11),new q(4,12))),new lt(14,Int32Array.from([6,26,46,66]),new ue(30,new q(3,115),new q(1,116)),new ue(24,new q(4,40),new q(5,41)),new ue(20,new q(11,16),new q(5,17)),new ue(24,new q(11,12),new q(5,13))),new lt(15,Int32Array.from([6,26,48,70]),new ue(22,new q(5,87),new q(1,88)),new ue(24,new q(5,41),new q(5,42)),new ue(30,new q(5,24),new q(7,25)),new ue(24,new q(11,12),new q(7,13))),new lt(16,Int32Array.from([6,26,50,74]),new ue(24,new q(5,98),new q(1,99)),new ue(28,new q(7,45),new q(3,46)),new ue(24,new q(15,19),new q(2,20)),new ue(30,new q(3,15),new q(13,16))),new lt(17,Int32Array.from([6,30,54,78]),new ue(28,new q(1,107),new q(5,108)),new ue(28,new q(10,46),new q(1,47)),new ue(28,new q(1,22),new q(15,23)),new ue(28,new q(2,14),new q(17,15))),new lt(18,Int32Array.from([6,30,56,82]),new ue(30,new q(5,120),new q(1,121)),new ue(26,new q(9,43),new q(4,44)),new ue(28,new q(17,22),new q(1,23)),new ue(28,new q(2,14),new q(19,15))),new lt(19,Int32Array.from([6,30,58,86]),new ue(28,new q(3,113),new q(4,114)),new ue(26,new q(3,44),new q(11,45)),new ue(26,new q(17,21),new q(4,22)),new ue(26,new q(9,13),new q(16,14))),new lt(20,Int32Array.from([6,34,62,90]),new ue(28,new q(3,107),new q(5,108)),new ue(26,new q(3,41),new q(13,42)),new ue(30,new q(15,24),new q(5,25)),new ue(28,new q(15,15),new q(10,16))),new lt(21,Int32Array.from([6,28,50,72,94]),new ue(28,new q(4,116),new q(4,117)),new ue(26,new q(17,42)),new ue(28,new q(17,22),new q(6,23)),new ue(30,new q(19,16),new q(6,17))),new lt(22,Int32Array.from([6,26,50,74,98]),new ue(28,new q(2,111),new q(7,112)),new ue(28,new q(17,46)),new ue(30,new q(7,24),new q(16,25)),new ue(24,new q(34,13))),new lt(23,Int32Array.from([6,30,54,78,102]),new ue(30,new q(4,121),new q(5,122)),new ue(28,new q(4,47),new q(14,48)),new ue(30,new q(11,24),new q(14,25)),new ue(30,new q(16,15),new q(14,16))),new lt(24,Int32Array.from([6,28,54,80,106]),new ue(30,new q(6,117),new q(4,118)),new ue(28,new q(6,45),new q(14,46)),new ue(30,new q(11,24),new q(16,25)),new ue(30,new q(30,16),new q(2,17))),new lt(25,Int32Array.from([6,32,58,84,110]),new ue(26,new q(8,106),new q(4,107)),new ue(28,new q(8,47),new q(13,48)),new ue(30,new q(7,24),new q(22,25)),new ue(30,new q(22,15),new q(13,16))),new lt(26,Int32Array.from([6,30,58,86,114]),new ue(28,new q(10,114),new q(2,115)),new ue(28,new q(19,46),new q(4,47)),new ue(28,new q(28,22),new q(6,23)),new ue(30,new q(33,16),new q(4,17))),new lt(27,Int32Array.from([6,34,62,90,118]),new ue(30,new q(8,122),new q(4,123)),new ue(28,new q(22,45),new q(3,46)),new ue(30,new q(8,23),new q(26,24)),new ue(30,new q(12,15),new q(28,16))),new lt(28,Int32Array.from([6,26,50,74,98,122]),new ue(30,new q(3,117),new q(10,118)),new ue(28,new q(3,45),new q(23,46)),new ue(30,new q(4,24),new q(31,25)),new ue(30,new q(11,15),new q(31,16))),new lt(29,Int32Array.from([6,30,54,78,102,126]),new ue(30,new q(7,116),new q(7,117)),new ue(28,new q(21,45),new q(7,46)),new ue(30,new q(1,23),new q(37,24)),new ue(30,new q(19,15),new q(26,16))),new lt(30,Int32Array.from([6,26,52,78,104,130]),new ue(30,new q(5,115),new q(10,116)),new ue(28,new q(19,47),new q(10,48)),new ue(30,new q(15,24),new q(25,25)),new ue(30,new q(23,15),new q(25,16))),new lt(31,Int32Array.from([6,30,56,82,108,134]),new ue(30,new q(13,115),new q(3,116)),new ue(28,new q(2,46),new q(29,47)),new ue(30,new q(42,24),new q(1,25)),new ue(30,new q(23,15),new q(28,16))),new lt(32,Int32Array.from([6,34,60,86,112,138]),new ue(30,new q(17,115)),new ue(28,new q(10,46),new q(23,47)),new ue(30,new q(10,24),new q(35,25)),new ue(30,new q(19,15),new q(35,16))),new lt(33,Int32Array.from([6,30,58,86,114,142]),new ue(30,new q(17,115),new q(1,116)),new ue(28,new q(14,46),new q(21,47)),new ue(30,new q(29,24),new q(19,25)),new ue(30,new q(11,15),new q(46,16))),new lt(34,Int32Array.from([6,34,62,90,118,146]),new ue(30,new q(13,115),new q(6,116)),new ue(28,new q(14,46),new q(23,47)),new ue(30,new q(44,24),new q(7,25)),new ue(30,new q(59,16),new q(1,17))),new lt(35,Int32Array.from([6,30,54,78,102,126,150]),new ue(30,new q(12,121),new q(7,122)),new ue(28,new q(12,47),new q(26,48)),new ue(30,new q(39,24),new q(14,25)),new ue(30,new q(22,15),new q(41,16))),new lt(36,Int32Array.from([6,24,50,76,102,128,154]),new ue(30,new q(6,121),new q(14,122)),new ue(28,new q(6,47),new q(34,48)),new ue(30,new q(46,24),new q(10,25)),new ue(30,new q(2,15),new q(64,16))),new lt(37,Int32Array.from([6,28,54,80,106,132,158]),new ue(30,new q(17,122),new q(4,123)),new ue(28,new q(29,46),new q(14,47)),new ue(30,new q(49,24),new q(10,25)),new ue(30,new q(24,15),new q(46,16))),new lt(38,Int32Array.from([6,32,58,84,110,136,162]),new ue(30,new q(4,122),new q(18,123)),new ue(28,new q(13,46),new q(32,47)),new ue(30,new q(48,24),new q(14,25)),new ue(30,new q(42,15),new q(32,16))),new lt(39,Int32Array.from([6,26,54,82,110,138,166]),new ue(30,new q(20,117),new q(4,118)),new ue(28,new q(40,47),new q(7,48)),new ue(30,new q(43,24),new q(22,25)),new ue(30,new q(10,15),new q(67,16))),new lt(40,Int32Array.from([6,30,58,86,114,142,170]),new ue(30,new q(19,118),new q(6,119)),new ue(28,new q(18,47),new q(31,48)),new ue(30,new q(34,24),new q(34,25)),new ue(30,new q(20,15),new q(61,16)))];var $r;(function(F){F[F.DATA_MASK_000=0]="DATA_MASK_000",F[F.DATA_MASK_001=1]="DATA_MASK_001",F[F.DATA_MASK_010=2]="DATA_MASK_010",F[F.DATA_MASK_011=3]="DATA_MASK_011",F[F.DATA_MASK_100=4]="DATA_MASK_100",F[F.DATA_MASK_101=5]="DATA_MASK_101",F[F.DATA_MASK_110=6]="DATA_MASK_110",F[F.DATA_MASK_111=7]="DATA_MASK_111"})($r||($r={}));class It{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let u=0;u<l;u++)for(let m=0;m<l;m++)this.isMasked(u,m)&&s.flip(m,u)}}It.values=new Map([[$r.DATA_MASK_000,new It($r.DATA_MASK_000,(F,s)=>(F+s&1)===0)],[$r.DATA_MASK_001,new It($r.DATA_MASK_001,(F,s)=>(F&1)===0)],[$r.DATA_MASK_010,new It($r.DATA_MASK_010,(F,s)=>s%3===0)],[$r.DATA_MASK_011,new It($r.DATA_MASK_011,(F,s)=>(F+s)%3===0)],[$r.DATA_MASK_100,new It($r.DATA_MASK_100,(F,s)=>(Math.floor(F/2)+Math.floor(s/3)&1)===0)],[$r.DATA_MASK_101,new It($r.DATA_MASK_101,(F,s)=>F*s%6===0)],[$r.DATA_MASK_110,new It($r.DATA_MASK_110,(F,s)=>F*s%6<3)],[$r.DATA_MASK_111,new It($r.DATA_MASK_111,(F,s)=>(F+s+F*s%3&1)===0)]]);class If{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new V;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let v=0;v<6;v++)s=this.copyBit(v,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let v=5;v>=0;v--)s=this.copyBit(8,v,s);const l=this.bitMatrix.getHeight();let u=0;const m=l-7;for(let v=l-1;v>=m;v--)u=this.copyBit(8,v,u);for(let v=l-8;v<l;v++)u=this.copyBit(v,8,u);if(this.parsedFormatInfo=hn.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return lt.getVersionForNumber(l);let u=0;const m=s-11;for(let b=5;b>=0;b--)for(let E=s-9;E>=m;E--)u=this.copyBit(E,b,u);let v=lt.decodeVersionInformation(u);if(v!==null&&v.getDimensionForVersion()===s)return this.parsedVersion=v,v;u=0;for(let b=5;b>=0;b--)for(let E=s-9;E>=m;E--)u=this.copyBit(b,E,u);if(v=lt.decodeVersionInformation(u),v!==null&&v.getDimensionForVersion()===s)return this.parsedVersion=v,v;throw new V}copyBit(s,l,u){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),u=It.values.get(s.getDataMask()),m=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,m);const v=l.buildFunctionPattern();let b=!0;const E=new Uint8Array(l.getTotalCodewords());let N=0,j=0,L=0;for(let z=m-1;z>0;z-=2){z===6&&z--;for(let W=0;W<m;W++){const G=b?m-1-W:W;for(let ee=0;ee<2;ee++)v.get(z-ee,G)||(L++,j<<=1,this.bitMatrix.get(z-ee,G)&&(j|=1),L===8&&(E[N++]=j,L=0,j=0))}b=!b}if(N!==l.getTotalCodewords())throw new V;return E}remask(){if(this.parsedFormatInfo===null)return;const s=It.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,u=s.getWidth();l<u;l++)for(let m=l+1,v=s.getHeight();m<v;m++)s.get(l,m)!==s.get(m,l)&&(s.flip(m,l),s.flip(l,m))}}class Xl{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,u){if(s.length!==l.getTotalCodewords())throw new y;const m=l.getECBlocksForLevel(u);let v=0;const b=m.getECBlocks();for(const ee of b)v+=ee.getCount();const E=new Array(v);let N=0;for(const ee of b)for(let ne=0;ne<ee.getCount();ne++){const oe=ee.getDataCodewords(),ve=m.getECCodewordsPerBlock()+oe;E[N++]=new Xl(oe,new Uint8Array(ve))}const j=E[0].codewords.length;let L=E.length-1;for(;L>=0&&E[L].codewords.length!==j;)L--;L++;const z=j-m.getECCodewordsPerBlock();let W=0;for(let ee=0;ee<z;ee++)for(let ne=0;ne<N;ne++)E[ne].codewords[ee]=s[W++];for(let ee=L;ee<N;ee++)E[ee].codewords[z]=s[W++];const G=E[0].codewords.length;for(let ee=z;ee<G;ee++)for(let ne=0;ne<N;ne++){const oe=ne<L?ee:ee+1;E[ne].codewords[oe]=s[W++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qn;(function(F){F[F.TERMINATOR=0]="TERMINATOR",F[F.NUMERIC=1]="NUMERIC",F[F.ALPHANUMERIC=2]="ALPHANUMERIC",F[F.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",F[F.BYTE=4]="BYTE",F[F.ECI=5]="ECI",F[F.KANJI=6]="KANJI",F[F.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",F[F.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",F[F.HANZI=9]="HANZI"})(Qn||(Qn={}));class ct{constructor(s,l,u,m){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=m,ct.FOR_BITS.set(m,this),ct.FOR_VALUE.set(s,this)}static forBits(s){const l=ct.FOR_BITS.get(s);if(l===void 0)throw new y;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof ct))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.TERMINATOR=new ct(Qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ct.NUMERIC=new ct(Qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ct.ALPHANUMERIC=new ct(Qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ct.STRUCTURED_APPEND=new ct(Qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ct.BYTE=new ct(Qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ct.ECI=new ct(Qn.ECI,"ECI",Int32Array.from([0,0,0]),7),ct.KANJI=new ct(Qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ct.FNC1_FIRST_POSITION=new ct(Qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ct.FNC1_SECOND_POSITION=new ct(Qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ct.HANZI=new ct(Qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class hr{static decode(s,l,u,m){const v=new wu(s);let b=new Se;const E=new Array;let N=-1,j=-1;try{let L=null,z=!1,W;do{if(v.available()<4)W=ct.TERMINATOR;else{const G=v.readBits(4);W=ct.forBits(G)}switch(W){case ct.TERMINATOR:break;case ct.FNC1_FIRST_POSITION:case ct.FNC1_SECOND_POSITION:z=!0;break;case ct.STRUCTURED_APPEND:if(v.available()<16)throw new V;N=v.readBits(8),j=v.readBits(8);break;case ct.ECI:const G=hr.parseECIValue(v);if(L=K.getCharacterSetECIByValue(G),L===null)throw new V;break;case ct.HANZI:const ee=v.readBits(4),ne=v.readBits(W.getCharacterCountBits(l));ee===hr.GB2312_SUBSET&&hr.decodeHanziSegment(v,b,ne);break;default:const oe=v.readBits(W.getCharacterCountBits(l));switch(W){case ct.NUMERIC:hr.decodeNumericSegment(v,b,oe);break;case ct.ALPHANUMERIC:hr.decodeAlphanumericSegment(v,b,oe,z);break;case ct.BYTE:hr.decodeByteSegment(v,b,oe,L,E,m);break;case ct.KANJI:hr.decodeKanjiSegment(v,b,oe);break;default:throw new V}break}}while(W!==ct.TERMINATOR)}catch{throw new V}return new Q(s,b.toString(),E.length===0?null:E,u===null?null:u.toString(),N,j)}static decodeHanziSegment(s,l,u){if(u*13>s.available())throw new V;const m=new Uint8Array(2*u);let v=0;for(;u>0;){const b=s.readBits(13);let E=b/96<<8&4294967295|b%96;E<959?E+=41377:E+=42657,m[v]=E>>8&255,m[v+1]=E&255,v+=2,u--}try{l.append(se.decode(m,ae.GB2312))}catch(b){throw new V(b)}}static decodeKanjiSegment(s,l,u){if(u*13>s.available())throw new V;const m=new Uint8Array(2*u);let v=0;for(;u>0;){const b=s.readBits(13);let E=b/192<<8&4294967295|b%192;E<7936?E+=33088:E+=49472,m[v]=E>>8,m[v+1]=E,v+=2,u--}try{l.append(se.decode(m,ae.SHIFT_JIS))}catch(b){throw new V(b)}}static decodeByteSegment(s,l,u,m,v,b){if(8*u>s.available())throw new V;const E=new Uint8Array(u);for(let j=0;j<u;j++)E[j]=s.readBits(8);let N;m===null?N=ae.guessEncoding(E,b):N=m.getName();try{l.append(se.decode(E,N))}catch(j){throw new V(j)}v.push(E)}static toAlphaNumericChar(s){if(s>=hr.ALPHANUMERIC_CHARS.length)throw new V;return hr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,u,m){const v=l.length();for(;u>1;){if(s.available()<11)throw new V;const b=s.readBits(11);l.append(hr.toAlphaNumericChar(Math.floor(b/45))),l.append(hr.toAlphaNumericChar(b%45)),u-=2}if(u===1){if(s.available()<6)throw new V;l.append(hr.toAlphaNumericChar(s.readBits(6)))}if(m)for(let b=v;b<l.length();b++)l.charAt(b)==="%"&&(b<l.length()-1&&l.charAt(b+1)==="%"?l.deleteCharAt(b+1):l.setCharAt(b,""))}static decodeNumericSegment(s,l,u){for(;u>=3;){if(s.available()<10)throw new V;const m=s.readBits(10);if(m>=1e3)throw new V;l.append(hr.toAlphaNumericChar(Math.floor(m/100))),l.append(hr.toAlphaNumericChar(Math.floor(m/10)%10)),l.append(hr.toAlphaNumericChar(m%10)),u-=3}if(u===2){if(s.available()<7)throw new V;const m=s.readBits(7);if(m>=100)throw new V;l.append(hr.toAlphaNumericChar(Math.floor(m/10))),l.append(hr.toAlphaNumericChar(m%10))}else if(u===1){if(s.available()<4)throw new V;const m=s.readBits(4);if(m>=10)throw new V;l.append(hr.toAlphaNumericChar(m))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=s.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=s.readBits(16);return(l&31)<<16&4294967295|u}throw new V}}hr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",hr.GB2312_SUBSET=1;class Eu{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class Su{constructor(){this.rsDecoder=new Lt(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(_e.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const u=new If(s);let m=null;try{return this.decodeBitMatrixParser(u,l)}catch(v){m=v}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const v=this.decodeBitMatrixParser(u,l);return v.setOther(new Eu(!0)),v}catch(v){throw m!==null?m:v}}decodeBitMatrixParser(s,l){const u=s.readVersion(),m=s.readFormatInformation().getErrorCorrectionLevel(),v=s.readCodewords(),b=Xl.getDataBlocks(v,u,m);let E=0;for(const L of b)E+=L.getNumDataCodewords();const N=new Uint8Array(E);let j=0;for(const L of b){const z=L.getCodewords(),W=L.getNumDataCodewords();this.correctErrors(z,W);for(let G=0;G<W;G++)N[j++]=z[G]}return hr.decode(N,u,m,l)}correctErrors(s,l){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-l)}catch{throw new C}for(let m=0;m<l;m++)s[m]=u[m]}}class ro extends Ve{constructor(s,l,u){super(s,l),this.estimatedModuleSize=u}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const m=Math.abs(s-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const m=(this.getX()+l)/2,v=(this.getY()+s)/2,b=(this.estimatedModuleSize+u)/2;return new ro(m,v,b)}}class Ti{constructor(s,l,u,m,v,b,E){this.image=s,this.startX=l,this.startY=u,this.width=m,this.height=v,this.moduleSize=b,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,u=this.width,m=s+u,v=this.startY+l/2,b=new Int32Array(3),E=this.image;for(let N=0;N<l;N++){const j=v+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));b[0]=0,b[1]=0,b[2]=0;let L=s;for(;L<m&&!E.get(L,j);)L++;let z=0;for(;L<m;){if(E.get(L,j))if(z===1)b[1]++;else if(z===2){if(this.foundPatternCross(b)){const W=this.handlePossibleCenter(b,j,L);if(W!==null)return W}b[0]=b[2],b[1]=1,b[2]=0,z=1}else b[++z]++;else z===1&&z++,b[z]++;L++}if(this.foundPatternCross(b)){const W=this.handlePossibleCenter(b,j,m);if(W!==null)return W}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,u=l/2;for(let m=0;m<3;m++)if(Math.abs(l-s[m])>=u)return!1;return!0}crossCheckVertical(s,l,u,m){const v=this.image,b=v.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let N=s;for(;N>=0&&v.get(l,N)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&!v.get(l,N)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<b&&v.get(l,N)&&E[1]<=u;)E[1]++,N++;if(N===b||E[1]>u)return NaN;for(;N<b&&!v.get(l,N)&&E[2]<=u;)E[2]++,N++;if(E[2]>u)return NaN;const j=E[0]+E[1]+E[2];return 5*Math.abs(j-m)>=2*m?NaN:this.foundPatternCross(E)?Ti.centerFromEnd(E,N):NaN}handlePossibleCenter(s,l,u){const m=s[0]+s[1]+s[2],v=Ti.centerFromEnd(s,u),b=this.crossCheckVertical(l,v,2*s[1],m);if(!isNaN(b)){const E=(s[0]+s[1]+s[2])/3;for(const j of this.possibleCenters)if(j.aboutEquals(E,b,v))return j.combineEstimate(b,v,E);const N=new ro(v,b,E);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class Xi extends Ve{constructor(s,l,u,m){super(s,l),this.estimatedModuleSize=u,this.count=m,m===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,u){if(Math.abs(l-this.getY())<=s&&Math.abs(u-this.getX())<=s){const m=Math.abs(s-this.estimatedModuleSize);return m<=1||m<=this.estimatedModuleSize}return!1}combineEstimate(s,l,u){const m=this.count+1,v=(this.count*this.getX()+l)/m,b=(this.count*this.getY()+s)/m,E=(this.count*this.estimatedModuleSize+u)/m;return new Xi(v,b,E,m)}}class za{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ir{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get($.TRY_HARDER)!==void 0,u=s!=null&&s.get($.PURE_BARCODE)!==void 0,m=this.image,v=m.getHeight(),b=m.getWidth();let E=Math.floor(3*v/(4*Ir.MAX_MODULES));(E<Ir.MIN_SKIP||l)&&(E=Ir.MIN_SKIP);let N=!1;const j=new Int32Array(5);for(let z=E-1;z<v&&!N;z+=E){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;let W=0;for(let G=0;G<b;G++)if(m.get(G,z))(W&1)===1&&W++,j[W]++;else if((W&1)===0)if(W===4)if(Ir.foundPatternCross(j)){if(this.handlePossibleCenter(j,z,G,u)===!0)if(E=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const ne=this.findRowSkip();ne>j[2]&&(z+=ne-j[2]-E,G=b-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,W=3;continue}W=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,W=3;else j[++W]++;else j[W]++;Ir.foundPatternCross(j)&&this.handlePossibleCenter(j,z,b,u)===!0&&(E=j[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const L=this.selectBestPatterns();return Ve.orderBestPatterns(L),new za(L)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let v=0;v<5;v++){const b=s[v];if(b===0)return!1;l+=b}if(l<7)return!1;const u=l/7,m=u/2;return Math.abs(u-s[0])<m&&Math.abs(u-s[1])<m&&Math.abs(3*u-s[2])<3*m&&Math.abs(u-s[3])<m&&Math.abs(u-s[4])<m}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,u,m){const v=this.getCrossCheckStateCount();let b=0;const E=this.image;for(;s>=b&&l>=b&&E.get(l-b,s-b);)v[2]++,b++;if(s<b||l<b)return!1;for(;s>=b&&l>=b&&!E.get(l-b,s-b)&&v[1]<=u;)v[1]++,b++;if(s<b||l<b||v[1]>u)return!1;for(;s>=b&&l>=b&&E.get(l-b,s-b)&&v[0]<=u;)v[0]++,b++;if(v[0]>u)return!1;const N=E.getHeight(),j=E.getWidth();for(b=1;s+b<N&&l+b<j&&E.get(l+b,s+b);)v[2]++,b++;if(s+b>=N||l+b>=j)return!1;for(;s+b<N&&l+b<j&&!E.get(l+b,s+b)&&v[3]<u;)v[3]++,b++;if(s+b>=N||l+b>=j||v[3]>=u)return!1;for(;s+b<N&&l+b<j&&E.get(l+b,s+b)&&v[4]<u;)v[4]++,b++;if(v[4]>=u)return!1;const L=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(L-m)<2*m&&Ir.foundPatternCross(v)}crossCheckVertical(s,l,u,m){const v=this.image,b=v.getHeight(),E=this.getCrossCheckStateCount();let N=s;for(;N>=0&&v.get(l,N);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(l,N)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&v.get(l,N)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<b&&v.get(l,N);)E[2]++,N++;if(N===b)return NaN;for(;N<b&&!v.get(l,N)&&E[3]<u;)E[3]++,N++;if(N===b||E[3]>=u)return NaN;for(;N<b&&v.get(l,N)&&E[4]<u;)E[4]++,N++;if(E[4]>=u)return NaN;const j=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(j-m)>=2*m?NaN:Ir.foundPatternCross(E)?Ir.centerFromEnd(E,N):NaN}crossCheckHorizontal(s,l,u,m){const v=this.image,b=v.getWidth(),E=this.getCrossCheckStateCount();let N=s;for(;N>=0&&v.get(N,l);)E[2]++,N--;if(N<0)return NaN;for(;N>=0&&!v.get(N,l)&&E[1]<=u;)E[1]++,N--;if(N<0||E[1]>u)return NaN;for(;N>=0&&v.get(N,l)&&E[0]<=u;)E[0]++,N--;if(E[0]>u)return NaN;for(N=s+1;N<b&&v.get(N,l);)E[2]++,N++;if(N===b)return NaN;for(;N<b&&!v.get(N,l)&&E[3]<u;)E[3]++,N++;if(N===b||E[3]>=u)return NaN;for(;N<b&&v.get(N,l)&&E[4]<u;)E[4]++,N++;if(E[4]>=u)return NaN;const j=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(j-m)>=m?NaN:Ir.foundPatternCross(E)?Ir.centerFromEnd(E,N):NaN}handlePossibleCenter(s,l,u,m){const v=s[0]+s[1]+s[2]+s[3]+s[4];let b=Ir.centerFromEnd(s,u),E=this.crossCheckVertical(l,Math.floor(b),s[2],v);if(!isNaN(E)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(E),s[2],v),!isNaN(b)&&(!m||this.crossCheckDiagonal(Math.floor(E),Math.floor(b),s[2],v)))){const N=v/7;let j=!1;const L=this.possibleCenters;for(let z=0,W=L.length;z<W;z++){const G=L[z];if(G.aboutEquals(N,E,b)){L[z]=G.combineEstimate(E,b,N),j=!0;break}}if(!j){const z=new Xi(b,E,N);L.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=Ir.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const u=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=Ir.CENTER_QUORUM&&(s++,l+=b.getEstimatedModuleSize());if(s<3)return!1;const m=l/u;let v=0;for(const b of this.possibleCenters)v+=Math.abs(b.getEstimatedModuleSize()-m);return v<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new re;const l=this.possibleCenters;let u;if(s>3){let m=0,v=0;for(const N of this.possibleCenters){const j=N.getEstimatedModuleSize();m+=j,v+=j*j}u=m/s;let b=Math.sqrt(v/s-u*u);l.sort((N,j)=>{const L=Math.abs(j.getEstimatedModuleSize()-u),z=Math.abs(N.getEstimatedModuleSize()-u);return L<z?-1:L>z?1:0});const E=Math.max(.2*u,b);for(let N=0;N<l.length&&l.length>3;N++){const j=l[N];Math.abs(j.getEstimatedModuleSize()-u)>E&&(l.splice(N,1),N--)}}if(l.length>3){let m=0;for(const v of l)m+=v.getEstimatedModuleSize();u=m/l.length,l.sort((v,b)=>{if(b.getCount()===v.getCount()){const E=Math.abs(b.getEstimatedModuleSize()-u),N=Math.abs(v.getEstimatedModuleSize()-u);return E<N?1:E>N?-1:0}else return b.getCount()-v.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Ir.CENTER_QUORUM=2,Ir.MIN_SKIP=3,Ir.MAX_MODULES=57;class ya{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get($.NEED_RESULT_POINT_CALLBACK);const u=new Ir(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const l=s.getTopLeft(),u=s.getTopRight(),m=s.getBottomLeft(),v=this.calculateModuleSize(l,u,m);if(v<1)throw new re("No pattern found in proccess finder.");const b=ya.computeDimension(l,u,m,v),E=lt.getProvisionalVersionForDimension(b),N=E.getDimensionForVersion()-7;let j=null;if(E.getAlignmentPatternCenters().length>0){const G=u.getX()-l.getX()+m.getX(),ee=u.getY()-l.getY()+m.getY(),ne=1-3/N,oe=Math.floor(l.getX()+ne*(G-l.getX())),ve=Math.floor(l.getY()+ne*(ee-l.getY()));for(let Me=4;Me<=16;Me<<=1)try{j=this.findAlignmentInRegion(v,oe,ve,Me);break}catch(De){if(!(De instanceof re))throw De}}const L=ya.createTransform(l,u,m,j,b),z=ya.sampleGrid(this.image,L,b);let W;return j===null?W=[m,l,u]:W=[m,l,u,j],new xa(z,W)}static createTransform(s,l,u,m,v){const b=v-3.5;let E,N,j,L;return m!==null?(E=m.getX(),N=m.getY(),j=b-3,L=j):(E=l.getX()-s.getX()+u.getX(),N=l.getY()-s.getY()+u.getY(),j=b,L=b),Mn.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,j,L,3.5,b,s.getX(),s.getY(),l.getX(),l.getY(),E,N,u.getX(),u.getY())}static sampleGrid(s,l,u){return Kn.getInstance().sampleGridWithTransform(s,u,u,l)}static computeDimension(s,l,u,m){const v=At.round(Ve.distance(s,l)/m),b=At.round(Ve.distance(s,u)/m);let E=Math.floor((v+b)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new re("Dimensions could be not found.")}return E}calculateModuleSize(s,l,u){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?m/7:isNaN(m)?u/7:(u+m)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,u,m){let v=this.sizeOfBlackWhiteBlackRun(s,l,u,m),b=1,E=s-(u-s);E<0?(b=s/(s-E),E=0):E>=this.image.getWidth()&&(b=(this.image.getWidth()-1-s)/(E-s),E=this.image.getWidth()-1);let N=Math.floor(l-(m-l)*b);return b=1,N<0?(b=l/(l-N),N=0):N>=this.image.getHeight()&&(b=(this.image.getHeight()-1-l)/(N-l),N=this.image.getHeight()-1),E=Math.floor(s+(E-s)*b),v+=this.sizeOfBlackWhiteBlackRun(s,l,E,N),v-1}sizeOfBlackWhiteBlackRun(s,l,u,m){const v=Math.abs(m-l)>Math.abs(u-s);if(v){let G=s;s=l,l=G,G=u,u=m,m=G}const b=Math.abs(u-s),E=Math.abs(m-l);let N=-b/2;const j=s<u?1:-1,L=l<m?1:-1;let z=0;const W=u+j;for(let G=s,ee=l;G!==W;G+=j){const ne=v?ee:G,oe=v?G:ee;if(z===1===this.image.get(ne,oe)){if(z===2)return At.distance(G,ee,s,l);z++}if(N+=E,N>0){if(ee===m)break;ee+=L,N-=b}}return z===2?At.distance(u+j,m,s,l):NaN}findAlignmentInRegion(s,l,u,m){const v=Math.floor(m*s),b=Math.max(0,l-v),E=Math.min(this.image.getWidth()-1,l+v);if(E-b<s*3)throw new re("Alignment top exceeds estimated module size.");const N=Math.max(0,u-v),j=Math.min(this.image.getHeight()-1,u+v);if(j-N<s*3)throw new re("Alignment bottom exceeds estimated module size.");return new Ti(this.image,b,N,E-b,j-N,s,this.resultPointCallback).find()}}class Dn{constructor(){this.decoder=new Su}getDecoder(){return this.decoder}decode(s,l){let u,m;if(l!=null&&l.get($.PURE_BARCODE)!==void 0){const N=Dn.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(N,l),m=Dn.NO_POINTS}else{const N=new ya(s.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(N.getBits(),l),m=N.getPoints()}u.getOther()instanceof Eu&&u.getOther().applyMirroredCorrection(m);const v=new ze(u.getText(),u.getRawBytes(),void 0,m,X.QR_CODE,void 0),b=u.getByteSegments();b!==null&&v.putMetadata(Ue.BYTE_SEGMENTS,b);const E=u.getECLevel();return E!==null&&v.putMetadata(Ue.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(v.putMetadata(Ue.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),v.putMetadata(Ue.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),v}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(l===null||u===null)throw new re;const m=this.moduleSize(l,s);let v=l[1],b=u[1],E=l[0],N=u[0];if(E>=N||v>=b)throw new re;if(b-v!==N-E&&(N=E+(b-v),N>=s.getWidth()))throw new re;const j=Math.round((N-E+1)/m),L=Math.round((b-v+1)/m);if(j<=0||L<=0)throw new re;if(L!==j)throw new re;const z=Math.floor(m/2);v+=z,E+=z;const W=E+Math.floor((j-1)*m)-N;if(W>0){if(W>z)throw new re;E-=W}const G=v+Math.floor((L-1)*m)-b;if(G>0){if(G>z)throw new re;v-=G}const ee=new _e(j,L);for(let ne=0;ne<L;ne++){const oe=v+Math.floor(ne*m);for(let ve=0;ve<j;ve++)s.get(E+Math.floor(ve*m),oe)&&ee.set(ve,ne)}return ee}static moduleSize(s,l){const u=l.getHeight(),m=l.getWidth();let v=s[0],b=s[1],E=!0,N=0;for(;v<m&&b<u;){if(E!==l.get(v,b)){if(++N===5)break;E=!E}v++,b++}if(v===m||b===u)throw new re;return(v-s[0])/7}}Dn.NO_POINTS=new Array;class vt{PDF417Common(){}static getBitCountSum(s){return At.sum(s)}static toIntArray(s){if(s==null||!s.length)return vt.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let u=0;for(const m of s)l[u++]=m;return l}static getCodeword(s){const l=D.binarySearch(vt.SYMBOL_TABLE,s&262143);return l<0?-1:(vt.CODEWORD_TABLE[l]-1)%vt.NUMBER_OF_CODEWORDS}}vt.NUMBER_OF_CODEWORDS=929,vt.MAX_CODEWORDS_IN_BARCODE=vt.NUMBER_OF_CODEWORDS-1,vt.MIN_ROWS_IN_BARCODE=3,vt.MAX_ROWS_IN_BARCODE=90,vt.MODULES_IN_CODEWORD=17,vt.MODULES_IN_STOP_PATTERN=18,vt.BARS_IN_MODULE=8,vt.EMPTY_INT_ARRAY=new Int32Array([]),vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Of{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Et{static detectMultiple(s,l,u){let m=s.getBlackMatrix(),v=Et.detect(u,m);return v.length||(m=m.clone(),m.rotate180(),v=Et.detect(u,m)),new Of(m,v)}static detect(s,l){const u=new Array;let m=0,v=0,b=!1;for(;m<l.getHeight();){const E=Et.findVertices(l,m,v);if(E[0]==null&&E[3]==null){if(!b)break;b=!1,v=0;for(const N of u)N[1]!=null&&(m=Math.trunc(Math.max(m,N[1].getY()))),N[3]!=null&&(m=Math.max(m,Math.trunc(N[3].getY())));m+=Et.ROW_STEP;continue}if(b=!0,u.push(E),!s)break;E[2]!=null?(v=Math.trunc(E[2].getX()),m=Math.trunc(E[2].getY())):(v=Math.trunc(E[4].getX()),m=Math.trunc(E[4].getY()))}return u}static findVertices(s,l,u){const m=s.getHeight(),v=s.getWidth(),b=new Array(8);return Et.copyToResult(b,Et.findRowsWithPattern(s,m,v,l,u,Et.START_PATTERN),Et.INDEXES_START_PATTERN),b[4]!=null&&(u=Math.trunc(b[4].getX()),l=Math.trunc(b[4].getY())),Et.copyToResult(b,Et.findRowsWithPattern(s,m,v,l,u,Et.STOP_PATTERN),Et.INDEXES_STOP_PATTERN),b}static copyToResult(s,l,u){for(let m=0;m<u.length;m++)s[u[m]]=l[m]}static findRowsWithPattern(s,l,u,m,v,b){const E=new Array(4);let N=!1;const j=new Int32Array(b.length);for(;m<l;m+=Et.ROW_STEP){let z=Et.findGuardPattern(s,v,m,u,!1,b,j);if(z!=null){for(;m>0;){const W=Et.findGuardPattern(s,v,--m,u,!1,b,j);if(W!=null)z=W;else{m++;break}}E[0]=new Ve(z[0],m),E[1]=new Ve(z[1],m),N=!0;break}}let L=m+1;if(N){let z=0,W=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;L<l;L++){const G=Et.findGuardPattern(s,W[0],L,u,!1,b,j);if(G!=null&&Math.abs(W[0]-G[0])<Et.MAX_PATTERN_DRIFT&&Math.abs(W[1]-G[1])<Et.MAX_PATTERN_DRIFT)W=G,z=0;else{if(z>Et.SKIPPED_ROW_COUNT_MAX)break;z++}}L-=z+1,E[2]=new Ve(W[0],L),E[3]=new Ve(W[1],L)}return L-m<Et.BARCODE_MIN_HEIGHT&&D.fill(E,null),E}static findGuardPattern(s,l,u,m,v,b,E){D.fillWithin(E,0,E.length,0);let N=l,j=0;for(;s.get(N,u)&&N>0&&j++<Et.MAX_PIXEL_DRIFT;)N--;let L=N,z=0,W=b.length;for(let G=v;L<m;L++)if(s.get(L,u)!==G)E[z]++;else{if(z===W-1){if(Et.patternMatchVariance(E,b,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return new Int32Array([N,L]);N+=E[0]+E[1],O.arraycopy(E,2,E,0,z-1),E[z-1]=0,E[z]=0,z--}else z++;E[z]=1,G=!G}return z===W-1&&Et.patternMatchVariance(E,b,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE?new Int32Array([N,L-1]):null}static patternMatchVariance(s,l,u){let m=s.length,v=0,b=0;for(let j=0;j<m;j++)v+=s[j],b+=l[j];if(v<b)return 1/0;let E=v/b;u*=E;let N=0;for(let j=0;j<m;j++){let L=s[j],z=l[j]*E,W=L>z?L-z:z-L;if(W>u)return 1/0;N+=W}return N/v}}Et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Et.MAX_AVG_VARIANCE=.42,Et.MAX_INDIVIDUAL_VARIANCE=.8,Et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Et.MAX_PIXEL_DRIFT=3,Et.MAX_PATTERN_DRIFT=5,Et.SKIPPED_ROW_COUNT_MAX=25,Et.ROW_STEP=5,Et.BARCODE_MIN_HEIGHT=10;class pn{constructor(s,l){if(l.length===0)throw new y;this.field=s;let u=l.length;if(u>1&&l[0]===0){let m=1;for(;m<u&&l[m]===0;)m++;m===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-m),O.arraycopy(l,m,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let m=0;for(let v of this.coefficients)m=this.field.add(m,v);return m}let l=this.coefficients[0],u=this.coefficients.length;for(let m=1;m<u;m++)l=this.field.add(this.field.multiply(s,l),this.coefficients[m]);return l}add(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,u=s.coefficients;if(l.length>u.length){let b=l;l=u,u=b}let m=new Int32Array(u.length),v=u.length-l.length;O.arraycopy(u,0,m,0,v);for(let b=v;b<u.length;b++)m[b]=this.field.add(l[b-v],u[b]);return new pn(this.field,m)}subtract(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof pn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new pn(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,m=s.coefficients,v=m.length,b=new Int32Array(u+v-1);for(let E=0;E<u;E++){let N=l[E];for(let j=0;j<v;j++)b[E+j]=this.field.add(b[E+j],this.field.multiply(N,m[j]))}return new pn(this.field,b)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new pn(this.field,l)}multiplyScalar(s){if(s===0)return new pn(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let m=0;m<l;m++)u[m]=this.field.multiply(this.coefficients[m],s);return new pn(this.field,u)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return new pn(this.field,new Int32Array([0]));let u=this.coefficients.length,m=new Int32Array(u+s);for(let v=0;v<u;v++)m[v]=this.field.multiply(this.coefficients[v],l);return new pn(this.field,m)}toString(){let s=new Se;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(l===0||u!==1)&&s.append(u),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class Tf{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}inverse(s){if(s===0)throw new we;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class no extends Tf{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let m=0;m<s;m++)this.expTable[m]=u,u=u*l%s;for(let m=0;m<s-1;m++)this.logTable[this.expTable[m]]=m;this.zero=new pn(this,new Int32Array([0])),this.one=new pn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;let u=new Int32Array(s+1);return u[0]=l,new pn(this,u)}}no.PDF417_GF=new no(vt.NUMBER_OF_CODEWORDS,3);class Au{constructor(){this.field=no.PDF417_GF}decode(s,l,u){let m=new pn(this.field,s),v=new Int32Array(l),b=!1;for(let ee=l;ee>0;ee--){let ne=m.evaluateAt(this.field.exp(ee));v[l-ee]=ne,ne!==0&&(b=!0)}if(!b)return 0;let E=this.field.getOne();if(u!=null)for(const ee of u){let ne=this.field.exp(s.length-1-ee),oe=new pn(this.field,new Int32Array([this.field.subtract(0,ne),1]));E=E.multiply(oe)}let N=new pn(this.field,v),j=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),N,l),L=j[0],z=j[1],W=this.findErrorLocations(L),G=this.findErrorMagnitudes(z,L,W);for(let ee=0;ee<W.length;ee++){let ne=s.length-1-this.field.log(W[ee]);if(ne<0)throw C.getChecksumInstance();s[ne]=this.field.subtract(s[ne],G[ee])}return W.length}runEuclideanAlgorithm(s,l,u){if(s.getDegree()<l.getDegree()){let W=s;s=l,l=W}let m=s,v=l,b=this.field.getZero(),E=this.field.getOne();for(;v.getDegree()>=Math.round(u/2);){let W=m,G=b;if(m=v,b=E,m.isZero())throw C.getChecksumInstance();v=W;let ee=this.field.getZero(),ne=m.getCoefficient(m.getDegree()),oe=this.field.inverse(ne);for(;v.getDegree()>=m.getDegree()&&!v.isZero();){let ve=v.getDegree()-m.getDegree(),Me=this.field.multiply(v.getCoefficient(v.getDegree()),oe);ee=ee.add(this.field.buildMonomial(ve,Me)),v=v.subtract(m.multiplyByMonomial(ve,Me))}E=ee.multiply(b).subtract(G).negative()}let N=E.getCoefficient(0);if(N===0)throw C.getChecksumInstance();let j=this.field.inverse(N),L=E.multiply(j),z=v.multiply(j);return[L,z]}findErrorLocations(s){let l=s.getDegree(),u=new Int32Array(l),m=0;for(let v=1;v<this.field.getSize()&&m<l;v++)s.evaluateAt(v)===0&&(u[m]=this.field.inverse(v),m++);if(m!==l)throw C.getChecksumInstance();return u}findErrorMagnitudes(s,l,u){let m=l.getDegree(),v=new Int32Array(m);for(let j=1;j<=m;j++)v[m-j]=this.field.multiply(j,l.getCoefficient(j));let b=new pn(this.field,v),E=u.length,N=new Int32Array(E);for(let j=0;j<E;j++){let L=this.field.inverse(u[j]),z=this.field.subtract(0,s.evaluateAt(L)),W=this.field.inverse(b.evaluateAt(L));N[j]=this.field.multiply(z,W)}return N}}class hs{constructor(s,l,u,m,v){s instanceof hs?this.constructor_2(s):this.constructor_1(s,l,u,m,v)}constructor_1(s,l,u,m,v){const b=l==null||u==null,E=m==null||v==null;if(b&&E)throw new re;b?(l=new Ve(0,m.getY()),u=new Ve(0,v.getY())):E&&(m=new Ve(s.getWidth()-1,l.getY()),v=new Ve(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=l,this.bottomLeft=u,this.topRight=m,this.bottomRight=v,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(m.getX(),v.getX())),this.minY=Math.trunc(Math.min(l.getY(),m.getY())),this.maxY=Math.trunc(Math.max(u.getY(),v.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new hs(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,u){let m=this.topLeft,v=this.bottomLeft,b=this.topRight,E=this.bottomRight;if(s>0){let N=u?this.topLeft:this.topRight,j=Math.trunc(N.getY()-s);j<0&&(j=0);let L=new Ve(N.getX(),j);u?m=L:b=L}if(l>0){let N=u?this.bottomLeft:this.bottomRight,j=Math.trunc(N.getY()+l);j>=this.image.getHeight()&&(j=this.image.getHeight()-1);let L=new Ve(N.getX(),j);u?v=L:E=L}return new hs(this.image,m,v,b,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Wo{constructor(s,l,u,m){this.columnCount=s,this.errorCorrectionLevel=m,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ba{constructor(){this.buffer=""}static form(s,l){let u=-1;function m(b,E,N,j,L,z){if(b==="%%")return"%";if(l[++u]===void 0)return;b=j?parseInt(j.substr(1)):void 0;let W=L?parseInt(L.substr(1)):void 0,G;switch(z){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(b);break;case"p":G=parseFloat(l[u]).toPrecision(b);break;case"e":G=parseFloat(l[u]).toExponential(b);break;case"x":G=parseInt(l[u]).toString(W||16);break;case"d":G=parseFloat(parseInt(l[u],W||10).toPrecision(b)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString(W);let ee=parseInt(N),ne=N&&N[0]+""=="0"?"0":" ";for(;G.length<ee;)G=E!==void 0?G+ne:ne+G;return G}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(v,m)}format(s,...l){this.buffer+=ba.form(s,l)}toString(){return this.buffer}}class Qi{constructor(s){this.boundingBox=new hs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let u=1;u<Qi.MAX_NEARBY_DISTANCE;u++){let m=this.imageRowToCodewordIndex(s)-u;if(m>=0&&(l=this.codewords[m],l!=null)||(m=this.imageRowToCodewordIndex(s)+u,m<this.codewords.length&&(l=this.codewords[m],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new ba;let l=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return s.toString()}}Qi.MAX_NEARBY_DISTANCE=5;class Ua{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[u,m]of this.values.entries()){const v={getKey:()=>u,getValue:()=>m};v.getValue()>s?(s=v.getValue(),l=[],l.push(v.getKey())):v.getValue()===s&&l.push(v.getKey())}return vt.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class jf extends Qi{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let u=this.getBoundingBox(),m=this._isLeft?u.getTopLeft():u.getTopRight(),v=this._isLeft?u.getBottomLeft():u.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),E=this.imageRowToCodewordIndex(Math.trunc(v.getY())),N=-1,j=1,L=0;for(let z=b;z<E;z++){if(l[z]==null)continue;let W=l[z],G=W.getRowNumber()-N;if(G===0)L++;else if(G===1)j=Math.max(j,L),L=1,N=W.getRowNumber();else if(G<0||W.getRowNumber()>=s.getRowCount()||G>z)l[z]=null;else{let ee;j>2?ee=(j-2)*G:ee=G;let ne=ee>=z;for(let oe=1;oe<=ee&&!ne;oe++)ne=l[z-oe]!=null;ne?l[z]=null:(N=W.getRowNumber(),L=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let m=u.getRowNumber();if(m>=l.length)continue;l[m]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),m=this._isLeft?l.getBottomLeft():l.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(u.getY())),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),E=this.getCodewords(),N=-1;for(let j=v;j<b;j++){if(E[j]==null)continue;let L=E[j];L.setRowNumberAsRowIndicatorColumn();let z=L.getRowNumber()-N;z===0||(z===1?N=L.getRowNumber():L.getRowNumber()>=s.getRowCount()?E[j]=null:N=L.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new Ua,u=new Ua,m=new Ua,v=new Ua;for(let E of s){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let N=E.getValue()%30,j=E.getRowNumber();switch(this._isLeft||(j+=2),j%3){case 0:u.setValue(N*3+1);break;case 1:v.setValue(N/3),m.setValue(N%3);break;case 2:l.setValue(N+1);break}}if(l.getValue().length===0||u.getValue().length===0||m.getValue().length===0||v.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+m.getValue()[0]<vt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+m.getValue()[0]>vt.MAX_ROWS_IN_BARCODE)return null;let b=new Wo(l.getValue()[0],u.getValue()[0],m.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(s,b),b}removeIncorrectCodewords(s,l){for(let u=0;u<s.length;u++){let m=s[u];if(s[u]==null)continue;let v=m.getValue()%30,b=m.getRowNumber();if(b>l.getRowCount()){s[u]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:v*3+1!==l.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(v/3)!==l.getErrorCorrectionLevel()||v%3!==l.getRowCountLowerPart())&&(s[u]=null);break;case 2:v+1!==l.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Vo{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=vt.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let m=0;m<u.length;m++)u[m]!=null&&(u[m].hasValidRowNumber()||this.adjustRowNumbers(l,m,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&l[u]!=null&&s[u].getRowNumber()===l[u].getRowNumber())for(let m=1;m<=this.barcodeColumnCount;m++){let v=this.detectionResultColumns[m].getCodewords()[u];v!=null&&(v.setRowNumber(s[u].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[m].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let m=l[u].getRowNumber(),v=0;for(let b=this.barcodeColumnCount+1;b>0&&v<this.ADJUST_ROW_NUMBER_SKIP;b--){let E=this.detectionResultColumns[b].getCodewords()[u];E!=null&&(v=Vo.adjustRowNumberIfValid(m,v,E),E.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let m=l[u].getRowNumber(),v=0;for(let b=1;b<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;b++){let E=this.detectionResultColumns[b].getCodewords()[u];E!=null&&(v=Vo.adjustRowNumberIfValid(m,v,E),E.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,u){if(!this.detectionResultColumns[s-1])return;let m=u[l],v=this.detectionResultColumns[s-1].getCodewords(),b=v;this.detectionResultColumns[s+1]!=null&&(b=this.detectionResultColumns[s+1].getCodewords());let E=new Array(14);E[2]=v[l],E[3]=b[l],l>0&&(E[0]=u[l-1],E[4]=v[l-1],E[5]=b[l-1]),l>1&&(E[8]=u[l-2],E[10]=v[l-2],E[11]=b[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=v[l+1],E[7]=b[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=v[l+2],E[13]=b[l+2]);for(let N of E)if(Vo.adjustRowNumber(m,N))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ba;for(let u=0;u<s.getCodewords().length;u++){l.format("CW %3d:",u);for(let m=0;m<this.barcodeColumnCount+2;m++){if(this.detectionResultColumns[m]==null){l.format("    |   ");continue}let v=this.detectionResultColumns[m].getCodewords()[u];if(v==null){l.format("    |   ");continue}l.format(" %3d|%3d",v.getRowNumber(),v.getValue())}l.format("%n")}return l.toString()}}class ps{constructor(s,l,u,m){this.rowNumber=ps.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ps.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ps.BARCODE_ROW_UNKNOWN=-1;class mn{static initialize(){for(let s=0;s<vt.SYMBOL_TABLE.length;s++){let l=vt.SYMBOL_TABLE[s],u=l&1;for(let m=0;m<vt.BARS_IN_MODULE;m++){let v=0;for(;(l&1)===u;)v+=1,l>>=1;u=l&1,mn.RATIOS_TABLE[s]||(mn.RATIOS_TABLE[s]=new Array(vt.BARS_IN_MODULE)),mn.RATIOS_TABLE[s][vt.BARS_IN_MODULE-m-1]=Math.fround(v/vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=mn.getDecodedCodewordValue(mn.sampleBitCounts(s));return l!==-1?l:mn.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=At.sum(s),u=new Int32Array(vt.BARS_IN_MODULE),m=0,v=0;for(let b=0;b<vt.MODULES_IN_CODEWORD;b++){let E=l/(2*vt.MODULES_IN_CODEWORD)+b*l/vt.MODULES_IN_CODEWORD;v+s[m]<=E&&(v+=s[m],m++),u[m]++}return u}static getDecodedCodewordValue(s){let l=mn.getBitValue(s);return vt.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let u=0;u<s.length;u++)for(let m=0;m<s[u];m++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=At.sum(s),u=new Array(vt.BARS_IN_MODULE);if(l>1)for(let b=0;b<u.length;b++)u[b]=Math.fround(s[b]/l);let m=Ni.MAX_VALUE,v=-1;this.bSymbolTableReady||mn.initialize();for(let b=0;b<mn.RATIOS_TABLE.length;b++){let E=0,N=mn.RATIOS_TABLE[b];for(let j=0;j<vt.BARS_IN_MODULE;j++){let L=Math.fround(N[j]-u[j]);if(E+=Math.fround(L*L),E>=m)break}E<m&&(m=E,v=vt.SYMBOL_TABLE[b])}return v}}mn.bSymbolTableReady=!1,mn.RATIOS_TABLE=new Array(vt.SYMBOL_TABLE.length).map(F=>new Array(vt.BARS_IN_MODULE));class Ql{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Cu{static parseLong(s,l=void 0){return parseInt(s,l)}}class wa extends h{}wa.kind="NullPointerException";class _u{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,u){if(s==null)throw new wa;if(l<0||l>s.length||u<0||l+u>s.length||l+u<0)throw new T;if(u===0)return;for(let m=0;m<u;m++)this.write(s[l+m])}flush(){}close(){}}class Zl extends h{}class Pf extends _u{constructor(s=32){if(super(),this.count=0,s<0)throw new y("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new Zl;u=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,u){if(l<0||l>s.length||u<0||l+u-s.length>0)throw new T;this.ensureCapacity(this.count+u),O.arraycopy(s,l,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var Ht;(function(F){F[F.ALPHA=0]="ALPHA",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.PUNCT=3]="PUNCT",F[F.ALPHA_SHIFT=4]="ALPHA_SHIFT",F[F.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ht||(Ht={}));function qo(){if(typeof window<"u")return window.BigInt||null;if(typeof Oh<"u")return Oh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Go;function Hr(F){if(typeof Go>"u"&&(Go=qo()),Go===null)throw new Error("BigInt is not supported!");return Go(F)}function io(){let F=[];F[0]=Hr(1);let s=Hr(900);F[1]=s;for(let l=2;l<16;l++)F[l]=F[l-1]*s;return F}class ye{static decode(s,l){let u=new Se(""),m=K.ISO8859_1;u.enableDecoding(m);let v=1,b=s[v++],E=new Ql;for(;v<s[0];){switch(b){case ye.TEXT_COMPACTION_MODE_LATCH:v=ye.textCompaction(s,v,u);break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:v=ye.byteCompaction(b,s,m,v,u);break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[v++]);break;case ye.NUMERIC_COMPACTION_MODE_LATCH:v=ye.numericCompaction(s,v,u);break;case ye.ECI_CHARSET:K.getCharacterSetECIByValue(s[v++]);break;case ye.ECI_GENERAL_PURPOSE:v+=2;break;case ye.ECI_USER_DEFINED:v++;break;case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=ye.decodeMacroBlock(s,v,E);break;case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:throw new V;default:v--,v=ye.textCompaction(s,v,u);break}if(v<s.length)b=s[v++];else throw V.getFormatInstance()}if(u.length()===0)throw V.getFormatInstance();let N=new Q(null,u.toString(),null,l);return N.setOther(E),N}static decodeMacroBlock(s,l,u){if(l+ye.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw V.getFormatInstance();let m=new Int32Array(ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<ye.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)m[E]=s[l];u.setSegmentIndex(R.parseInt(ye.decodeBase900toBase10(m,ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new Se;l=ye.textCompaction(s,l,v),u.setFileId(v.toString());let b=-1;for(s[l]===ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=l+1);l<s[0];)switch(s[l]){case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Se;l=ye.textCompaction(s,l+1,E),u.setFileName(E.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new Se;l=ye.textCompaction(s,l+1,N),u.setSender(N.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let j=new Se;l=ye.textCompaction(s,l+1,j),u.setAddressee(j.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let L=new Se;l=ye.numericCompaction(s,l+1,L),u.setSegmentCount(R.parseInt(L.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new Se;l=ye.numericCompaction(s,l+1,z),u.setTimestamp(Cu.parseLong(z.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let W=new Se;l=ye.numericCompaction(s,l+1,W),u.setChecksum(R.parseInt(W.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Se;l=ye.numericCompaction(s,l+1,G),u.setFileSize(Cu.parseLong(G.toString()));break;default:throw V.getFormatInstance()}break;case ye.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(b!==-1){let E=l-b;u.isLastSegment()&&E--,u.setOptionalData(D.copyOfRange(s,b,b+E))}return l}static textCompaction(s,l,u){let m=new Int32Array((s[0]-l)*2),v=new Int32Array((s[0]-l)*2),b=0,E=!1;for(;l<s[0]&&!E;){let N=s[l++];if(N<ye.TEXT_COMPACTION_MODE_LATCH)m[b]=N/30,m[b+1]=N%30,b+=2;else switch(N){case ye.TEXT_COMPACTION_MODE_LATCH:m[b++]=ye.TEXT_COMPACTION_MODE_LATCH;break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m[b]=ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=s[l++],v[b]=N,b++;break}}return ye.decodeTextCompaction(m,v,b,u),l}static decodeTextCompaction(s,l,u,m){let v=Ht.ALPHA,b=Ht.ALPHA,E=0;for(;E<u;){let N=s[E],j="";switch(v){case Ht.ALPHA:if(N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case ye.LL:v=Ht.LOWER;break;case ye.ML:v=Ht.MIXED;break;case ye.PS:b=v,v=Ht.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[E]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break;case Ht.LOWER:if(N<26)j=String.fromCharCode(97+N);else switch(N){case 26:j=" ";break;case ye.AS:b=v,v=Ht.ALPHA_SHIFT;break;case ye.ML:v=Ht.MIXED;break;case ye.PS:b=v,v=Ht.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[E]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break;case Ht.MIXED:if(N<ye.PL)j=ye.MIXED_CHARS[N];else switch(N){case ye.PL:v=Ht.PUNCT;break;case 26:j=" ";break;case ye.LL:v=Ht.LOWER;break;case ye.AL:v=Ht.ALPHA;break;case ye.PS:b=v,v=Ht.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[E]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break;case Ht.PUNCT:if(N<ye.PAL)j=ye.PUNCT_CHARS[N];else switch(N){case ye.PAL:v=Ht.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[E]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break;case Ht.ALPHA_SHIFT:if(v=b,N<26)j=String.fromCharCode(65+N);else switch(N){case 26:j=" ";break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break;case Ht.PUNCT_SHIFT:if(v=b,N<ye.PAL)j=ye.PUNCT_CHARS[N];else switch(N){case ye.PAL:v=Ht.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(l[E]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=Ht.ALPHA;break}break}j!==""&&m.append(j),E++}}static byteCompaction(s,l,u,m,v){let b=new Pf,E=0,N=0,j=!1;switch(s){case ye.BYTE_COMPACTION_MODE_LATCH:let L=new Int32Array(6),z=l[m++];for(;m<l[0]&&!j;)switch(L[E++]=z,N=900*N+z,z=l[m++],z){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:m--,j=!0;break;default:if(E%5===0&&E>0){for(let W=0;W<6;++W)b.write(Number(Hr(N)>>Hr(8*(5-W))));N=0,E=0}break}m===l[0]&&z<ye.TEXT_COMPACTION_MODE_LATCH&&(L[E++]=z);for(let W=0;W<E;W++)b.write(L[W]);break;case ye.BYTE_COMPACTION_MODE_LATCH_6:for(;m<l[0]&&!j;){let W=l[m++];if(W<ye.TEXT_COMPACTION_MODE_LATCH)E++,N=900*N+W;else switch(W){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:m--,j=!0;break}if(E%5===0&&E>0){for(let G=0;G<6;++G)b.write(Number(Hr(N)>>Hr(8*(5-G))));N=0,E=0}}break}return v.append(se.decode(b.toByteArray(),u)),m}static numericCompaction(s,l,u){let m=0,v=!1,b=new Int32Array(ye.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!v;){let E=s[l++];if(l===s[0]&&(v=!0),E<ye.TEXT_COMPACTION_MODE_LATCH)b[m]=E,m++;else switch(E){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:l--,v=!0;break}(m%ye.MAX_NUMERIC_CODEWORDS===0||E===ye.NUMERIC_COMPACTION_MODE_LATCH||v)&&m>0&&(u.append(ye.decodeBase900toBase10(b,m)),m=0)}return l}static decodeBase900toBase10(s,l){let u=Hr(0);for(let v=0;v<l;v++)u+=ye.EXP900[l-v-1]*Hr(s[v]);let m=u.toString();if(m.charAt(0)!=="1")throw new V;return m.substring(1)}}ye.TEXT_COMPACTION_MODE_LATCH=900,ye.BYTE_COMPACTION_MODE_LATCH=901,ye.NUMERIC_COMPACTION_MODE_LATCH=902,ye.BYTE_COMPACTION_MODE_LATCH_6=924,ye.ECI_USER_DEFINED=925,ye.ECI_GENERAL_PURPOSE=926,ye.ECI_CHARSET=927,ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ye.MACRO_PDF417_TERMINATOR=922,ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ye.MAX_NUMERIC_CODEWORDS=15,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ye.PL=25,ye.LL=27,ye.AS=27,ye.ML=28,ye.AL=28,ye.PS=29,ye.PAL=29,ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ye.EXP900=qo()?io():[],ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ct{constructor(){}static decode(s,l,u,m,v,b,E){let N=new hs(s,l,u,m,v),j=null,L=null,z;for(let ee=!0;;ee=!1){if(l!=null&&(j=Ct.getRowIndicatorColumn(s,N,l,!0,b,E)),m!=null&&(L=Ct.getRowIndicatorColumn(s,N,m,!1,b,E)),z=Ct.merge(j,L),z==null)throw re.getNotFoundInstance();let ne=z.getBoundingBox();if(ee&&ne!=null&&(ne.getMinY()<N.getMinY()||ne.getMaxY()>N.getMaxY()))N=ne;else break}z.setBoundingBox(N);let W=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,j),z.setDetectionResultColumn(W,L);let G=j!=null;for(let ee=1;ee<=W;ee++){let ne=G?ee:W-ee;if(z.getDetectionResultColumn(ne)!==void 0)continue;let oe;ne===0||ne===W?oe=new jf(N,ne===0):oe=new Qi(N),z.setDetectionResultColumn(ne,oe);let ve=-1,Me=ve;for(let De=N.getMinY();De<=N.getMaxY();De++){if(ve=Ct.getStartColumn(z,ne,De,G),ve<0||ve>N.getMaxX()){if(Me===-1)continue;ve=Me}let Pe=Ct.detectCodeword(s,N.getMinX(),N.getMaxX(),G,ve,De,b,E);Pe!=null&&(oe.setCodeword(De,Pe),Me=ve,b=Math.min(b,Pe.getWidth()),E=Math.max(E,Pe.getWidth()))}}return Ct.createDecoderResult(z)}static merge(s,l){if(s==null&&l==null)return null;let u=Ct.getBarcodeMetadata(s,l);if(u==null)return null;let m=hs.merge(Ct.adjustBoundingBox(s),Ct.adjustBoundingBox(l));return new Vo(u,m)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let u=Ct.getMax(l),m=0;for(let E of l)if(m+=u-E,E>0)break;let v=s.getCodewords();for(let E=0;m>0&&v[E]==null;E++)m--;let b=0;for(let E=l.length-1;E>=0&&(b+=u-l[E],!(l[E]>0));E--);for(let E=v.length-1;b>0&&v[E]==null;E--)b--;return s.getBoundingBox().addMissingRows(m,b,s.isLeft())}static getMax(s){let l=-1;for(let u of s)l=Math.max(l,u);return l}static getBarcodeMetadata(s,l){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let m;return l==null||(m=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==m.getColumnCount()&&u.getErrorCorrectionLevel()!==m.getErrorCorrectionLevel()&&u.getRowCount()!==m.getRowCount()?null:u}static getRowIndicatorColumn(s,l,u,m,v,b){let E=new jf(l,m);for(let N=0;N<2;N++){let j=N===0?1:-1,L=Math.trunc(Math.trunc(u.getX()));for(let z=Math.trunc(Math.trunc(u.getY()));z<=l.getMaxY()&&z>=l.getMinY();z+=j){let W=Ct.detectCodeword(s,0,s.getWidth(),m,L,z,v,b);W!=null&&(E.setCodeword(z,W),m?L=W.getStartX():L=W.getEndX())}}return E}static adjustCodewordCount(s,l){let u=l[0][1],m=u.getValue(),v=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Ct.getNumberOfECCodeWords(s.getBarcodeECLevel());if(m.length===0){if(v<1||v>vt.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();u.setValue(v)}else m[0]!==v&&u.setValue(v)}static createDecoderResult(s){let l=Ct.createBarcodeMatrix(s);Ct.adjustCodewordCount(s,l);let u=new Array,m=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),v=[],b=new Array;for(let N=0;N<s.getBarcodeRowCount();N++)for(let j=0;j<s.getBarcodeColumnCount();j++){let L=l[N][j+1].getValue(),z=N*s.getBarcodeColumnCount()+j;L.length===0?u.push(z):L.length===1?m[z]=L[0]:(b.push(z),v.push(L))}let E=new Array(v.length);for(let N=0;N<E.length;N++)E[N]=v[N];return Ct.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),m,vt.toIntArray(u),vt.toIntArray(b),E)}static createDecoderResultFromAmbiguousValues(s,l,u,m,v){let b=new Int32Array(m.length),E=100;for(;E-- >0;){for(let N=0;N<b.length;N++)l[m[N]]=v[N][b[N]];try{return Ct.decodeCodewords(l,s,u)}catch(N){if(!(N instanceof C))throw N}if(b.length===0)throw C.getChecksumInstance();for(let N=0;N<b.length;N++)if(b[N]<v[N].length-1){b[N]++;break}else if(b[N]=0,N===b.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let m=0;m<l.length;m++)for(let v=0;v<l[m].length;v++)l[m][v]=new Ua;let u=0;for(let m of s.getDetectionResultColumns()){if(m!=null){for(let v of m.getCodewords())if(v!=null){let b=v.getRowNumber();if(b>=0){if(b>=l.length)continue;l[b][u].setValue(v.getValue())}}}u++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,u,m){let v=m?1:-1,b=null;if(Ct.isValidBarcodeColumn(s,l-v)&&(b=s.getDetectionResultColumn(l-v).getCodeword(u)),b!=null)return m?b.getEndX():b.getStartX();if(b=s.getDetectionResultColumn(l).getCodewordNearby(u),b!=null)return m?b.getStartX():b.getEndX();if(Ct.isValidBarcodeColumn(s,l-v)&&(b=s.getDetectionResultColumn(l-v).getCodewordNearby(u)),b!=null)return m?b.getEndX():b.getStartX();let E=0;for(;Ct.isValidBarcodeColumn(s,l-v);){l-=v;for(let N of s.getDetectionResultColumn(l).getCodewords())if(N!=null)return(m?N.getEndX():N.getStartX())+v*E*(N.getEndX()-N.getStartX());E++}return m?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,u,m,v,b,E,N){v=Ct.adjustCodewordStartColumn(s,l,u,m,v,b);let j=Ct.getModuleBitCount(s,l,u,m,v,b);if(j==null)return null;let L,z=At.sum(j);if(m)L=v+z;else{for(let ee=0;ee<j.length/2;ee++){let ne=j[ee];j[ee]=j[j.length-1-ee],j[j.length-1-ee]=ne}L=v,v=L-z}if(!Ct.checkCodewordSkew(z,E,N))return null;let W=mn.getDecodedValue(j),G=vt.getCodeword(W);return G===-1?null:new ps(v,L,Ct.getCodewordBucketNumber(W),G)}static getModuleBitCount(s,l,u,m,v,b){let E=v,N=new Int32Array(8),j=0,L=m?1:-1,z=m;for(;(m?E<u:E>=l)&&j<N.length;)s.get(E,b)===z?(N[j]++,E+=L):(j++,z=!z);return j===N.length||E===(m?u:l)&&j===N.length-1?N:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,u,m,v,b){let E=v,N=m?-1:1;for(let j=0;j<2;j++){for(;(m?E>=l:E<u)&&m===s.get(E,b);){if(Math.abs(v-E)>Ct.CODEWORD_SKEW_SIZE)return v;E+=N}N=-N,m=!m}return E}static checkCodewordSkew(s,l,u){return l-Ct.CODEWORD_SKEW_SIZE<=s&&s<=u+Ct.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,u){if(s.length===0)throw V.getFormatInstance();let m=1<<l+1,v=Ct.correctErrors(s,u,m);Ct.verifyCodewordCount(s,m);let b=ye.decode(s,""+l);return b.setErrorsCorrected(v),b.setErasures(u.length),b}static correctErrors(s,l,u){if(l!=null&&l.length>u/2+Ct.MAX_ERRORS||u<0||u>Ct.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Ct.errorCorrection.decode(s,u,l)}static verifyCodewordCount(s,l){if(s.length<4)throw V.getFormatInstance();let u=s[0];if(u>s.length)throw V.getFormatInstance();if(u===0)if(l<s.length)s[0]=s.length-l;else throw V.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),u=0,m=l.length-1;for(;!((s&1)!==u&&(u=s&1,m--,m<0));)l[m]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Ct.getCodewordBucketNumber(Ct.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new ba;for(let u=0;u<s.length;u++){l.format("Row %2d: ",u);for(let m=0;m<s[u].length;m++){let v=s[u][m];v.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}l.format("%n")}return l.toString()}}Ct.CODEWORD_SKEW_SIZE=2,Ct.MAX_ERRORS=3,Ct.MAX_EC_CODEWORDS=512,Ct.errorCorrection=new Au;class gn{decode(s,l=null){let u=gn.decode(s,l,!1);if(u==null||u.length===0||u[0]==null)throw re.getNotFoundInstance();return u[0]}decodeMultiple(s,l=null){try{return gn.decode(s,l,!0)}catch(u){throw u instanceof V||u instanceof C?re.getNotFoundInstance():u}}static decode(s,l,u){const m=new Array,v=Et.detectMultiple(s,l,u);for(const b of v.getPoints()){const E=Ct.decode(v.getBits(),b[4],b[5],b[6],b[7],gn.getMinCodewordWidth(b),gn.getMaxCodewordWidth(b)),N=new ze(E.getText(),E.getRawBytes(),void 0,b,X.PDF_417);N.putMetadata(Ue.ERROR_CORRECTION_LEVEL,E.getECLevel());const j=E.getOther();j!=null&&N.putMetadata(Ue.PDF417_EXTRA_METADATA,j),m.push(N)}return m.map(b=>b)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?R.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(gn.getMaxWidth(s[0],s[4]),gn.getMaxWidth(s[6],s[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.max(gn.getMaxWidth(s[1],s[5]),gn.getMaxWidth(s[7],s[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(gn.getMinWidth(s[0],s[4]),gn.getMinWidth(s[6],s[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.min(gn.getMinWidth(s[1],s[5]),gn.getMinWidth(s[7],s[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ao extends h{}ao.kind="ReaderException";class Jl{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!n(s)&&s.get($.TRY_HARDER)===!0,u=n(s)?null:s.get($.POSSIBLE_FORMATS),m=new Array;if(!n(u)){const v=u.some(b=>b===X.UPC_A||b===X.UPC_E||b===X.EAN_13||b===X.EAN_8||b===X.CODABAR||b===X.CODE_39||b===X.CODE_93||b===X.CODE_128||b===X.ITF||b===X.RSS_14||b===X.RSS_EXPANDED);v&&!l&&m.push(new eo(s,this.verbose)),u.includes(X.QR_CODE)&&m.push(new Dn),u.includes(X.DATA_MATRIX)&&m.push(new Oi),u.includes(X.AZTEC)&&m.push(new pt),u.includes(X.PDF_417)&&m.push(new gn),v&&l&&m.push(new eo(s,this.verbose))}m.length===0&&(l||m.push(new eo(s,this.verbose)),m.push(new Dn),m.push(new Oi),m.push(new pt),m.push(new gn),l&&m.push(new eo(s,this.verbose))),this.readers=m}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new ao("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(u){if(u instanceof ao)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class Ko extends $e{constructor(s=null,l=500){const u=new Jl;u.setHints(s),super(u,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class ec extends $e{constructor(s=500){super(new gn,s)}}class kf extends $e{constructor(s=500){super(new Dn,s)}}var Nu;(function(F){F[F.ERROR_CORRECTION=0]="ERROR_CORRECTION",F[F.CHARACTER_SET=1]="CHARACTER_SET",F[F.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",F[F.MIN_SIZE=3]="MIN_SIZE",F[F.MAX_SIZE=4]="MAX_SIZE",F[F.MARGIN=5]="MARGIN",F[F.PDF417_COMPACT=6]="PDF417_COMPACT",F[F.PDF417_COMPACTION=7]="PDF417_COMPACTION",F[F.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",F[F.AZTEC_LAYERS=9]="AZTEC_LAYERS",F[F.QR_VERSION=10]="QR_VERSION"})(Nu||(Nu={}));var Xr=Nu;class Iu{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Le(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let u=l[l.length-1];const m=this.field;for(let v=l.length;v<=s;v++){const b=u.multiply(new Le(m,Int32Array.from([1,m.exp(v-1+m.getGeneratorBase())])));l.push(b),u=b}}return l[s]}encode(s,l){if(l===0)throw new y("No error correction bytes");const u=s.length-l;if(u<=0)throw new y("No data bytes provided");const m=this.buildGenerator(l),v=new Int32Array(u);O.arraycopy(s,0,v,0,u);let b=new Le(this.field,v);b=b.multiplyByMonomial(l,1);const N=b.divide(m)[1].getCoefficients(),j=l-N.length;for(let L=0;L<j;L++)s[u+L]=0;O.arraycopy(N,0,s,u+j,N.length)}}class pr{constructor(){}static applyMaskPenaltyRule1(s){return pr.applyMaskPenaltyRule1Internal(s,!0)+pr.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const u=s.getArray(),m=s.getWidth(),v=s.getHeight();for(let b=0;b<v-1;b++){const E=u[b];for(let N=0;N<m-1;N++){const j=E[N];j===E[N+1]&&j===u[b+1][N]&&j===u[b+1][N+1]&&l++}}return pr.N2*l}static applyMaskPenaltyRule3(s){let l=0;const u=s.getArray(),m=s.getWidth(),v=s.getHeight();for(let b=0;b<v;b++)for(let E=0;E<m;E++){const N=u[b];E+6<m&&N[E]===1&&N[E+1]===0&&N[E+2]===1&&N[E+3]===1&&N[E+4]===1&&N[E+5]===0&&N[E+6]===1&&(pr.isWhiteHorizontal(N,E-4,E)||pr.isWhiteHorizontal(N,E+7,E+11))&&l++,b+6<v&&u[b][E]===1&&u[b+1][E]===0&&u[b+2][E]===1&&u[b+3][E]===1&&u[b+4][E]===1&&u[b+5][E]===0&&u[b+6][E]===1&&(pr.isWhiteVertical(u,E,b-4,b)||pr.isWhiteVertical(u,E,b+7,b+11))&&l++}return l*pr.N3}static isWhiteHorizontal(s,l,u){l=Math.max(l,0),u=Math.min(u,s.length);for(let m=l;m<u;m++)if(s[m]===1)return!1;return!0}static isWhiteVertical(s,l,u,m){u=Math.max(u,0),m=Math.min(m,s.length);for(let v=u;v<m;v++)if(s[v][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const u=s.getArray(),m=s.getWidth(),v=s.getHeight();for(let N=0;N<v;N++){const j=u[N];for(let L=0;L<m;L++)j[L]===1&&l++}const b=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-b)*10/b)*pr.N4}static getDataMaskBit(s,l,u){let m,v;switch(s){case 0:m=u+l&1;break;case 1:m=u&1;break;case 2:m=l%3;break;case 3:m=(u+l)%3;break;case 4:m=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:v=u*l,m=(v&1)+v%3;break;case 6:v=u*l,m=(v&1)+v%3&1;break;case 7:v=u*l,m=v%3+(u+l&1)&1;break;default:throw new y("Invalid mask pattern: "+s)}return m===0}static applyMaskPenaltyRule1Internal(s,l){let u=0;const m=l?s.getHeight():s.getWidth(),v=l?s.getWidth():s.getHeight(),b=s.getArray();for(let E=0;E<m;E++){let N=0,j=-1;for(let L=0;L<v;L++){const z=l?b[E][L]:b[L][E];z===j?N++:(N>=5&&(u+=pr.N1+(N-5)),N=1,j=z)}N>=5&&(u+=pr.N1+(N-5))}return u}}pr.N1=3,pr.N2=3,pr.N3=40,pr.N4=10;class tc{constructor(s,l){this.width=s,this.height=l;const u=new Array(l);for(let m=0;m!==l;m++)u[m]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,u){this.bytes[l][s]=u}setBoolean(s,l,u){this.bytes[l][s]=u?1:0}clear(s){for(const l of this.bytes)D.fill(l,s)}equals(s){if(!(s instanceof tc))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,m=this.height;u<m;++u){const v=this.bytes[u],b=l.bytes[u];for(let E=0,N=this.width;E<N;++E)if(v[E]!==b[E])return!1}return!0}toString(){const s=new Se;for(let l=0,u=this.height;l<u;++l){const m=this.bytes[l];for(let v=0,b=this.width;v<b;++v)switch(m[v]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ms{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new Se;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ms.NUM_MASK_PATTERNS}}ms.NUM_MASK_PATTERNS=8;class er extends h{}er.kind="WriterException";class ft{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,u,m,v){ft.clearMatrix(v),ft.embedBasicPatterns(u,v),ft.embedTypeInfo(l,m,v),ft.maybeEmbedVersionInfo(u,v),ft.embedDataBits(s,m,v)}static embedBasicPatterns(s,l){ft.embedPositionDetectionPatternsAndSeparators(l),ft.embedDarkDotAtLeftBottomCorner(l),ft.maybeEmbedPositionAdjustmentPatterns(s,l),ft.embedTimingPatterns(l)}static embedTypeInfo(s,l,u){const m=new B;ft.makeTypeInfoBits(s,l,m);for(let v=0,b=m.getSize();v<b;++v){const E=m.get(m.getSize()-1-v),N=ft.TYPE_INFO_COORDINATES[v],j=N[0],L=N[1];if(u.setBoolean(j,L,E),v<8){const z=u.getWidth()-v-1;u.setBoolean(z,8,E)}else{const W=u.getHeight()-7+(v-8);u.setBoolean(8,W,E)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const u=new B;ft.makeVersionInfoBits(s,u);let m=17;for(let v=0;v<6;++v)for(let b=0;b<3;++b){const E=u.get(m);m--,l.setBoolean(v,l.getHeight()-11+b,E),l.setBoolean(l.getHeight()-11+b,v,E)}}static embedDataBits(s,l,u){let m=0,v=-1,b=u.getWidth()-1,E=u.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);E>=0&&E<u.getHeight();){for(let N=0;N<2;++N){const j=b-N;if(!ft.isEmpty(u.get(j,E)))continue;let L;m<s.getSize()?(L=s.get(m),++m):L=!1,l!==255&&pr.getDataMaskBit(l,j,E)&&(L=!L),u.setBoolean(j,E,L)}E+=v}v=-v,E+=v,b-=2}if(m!==s.getSize())throw new er("Not all bits consumed: "+m+"/"+s.getSize())}static findMSBSet(s){return 32-R.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new y("0 polynomial");const u=ft.findMSBSet(l);for(s<<=u-1;ft.findMSBSet(s)>=u;)s^=l<<ft.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,l,u){if(!ms.isValidMaskPattern(l))throw new er("Invalid mask pattern");const m=s.getBits()<<3|l;u.appendBits(m,5);const v=ft.calculateBCHCode(m,ft.TYPE_INFO_POLY);u.appendBits(v,10);const b=new B;if(b.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),u.xor(b),u.getSize()!==15)throw new er("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const u=ft.calculateBCHCode(s.getVersionNumber(),ft.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new er("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const u=(l+1)%2;ft.isEmpty(s.get(l,6))&&s.setNumber(l,6,u),ft.isEmpty(s.get(6,l))&&s.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new er;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,u){for(let m=0;m<8;++m){if(!ft.isEmpty(u.get(s+m,l)))throw new er;u.setNumber(s+m,l,0)}}static embedVerticalSeparationPattern(s,l,u){for(let m=0;m<7;++m){if(!ft.isEmpty(u.get(s,l+m)))throw new er;u.setNumber(s,l+m,0)}}static embedPositionAdjustmentPattern(s,l,u){for(let m=0;m<5;++m){const v=ft.POSITION_ADJUSTMENT_PATTERN[m];for(let b=0;b<5;++b)u.setNumber(s+b,l+m,v[b])}}static embedPositionDetectionPattern(s,l,u){for(let m=0;m<7;++m){const v=ft.POSITION_DETECTION_PATTERN[m];for(let b=0;b<7;++b)u.setNumber(s+b,l+m,v[b])}}static embedPositionDetectionPatternsAndSeparators(s){const l=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,s),ft.embedPositionDetectionPattern(s.getWidth()-l,0,s),ft.embedPositionDetectionPattern(0,s.getWidth()-l,s);const u=8;ft.embedHorizontalSeparationPattern(0,u-1,s),ft.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),ft.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const m=7;ft.embedVerticalSeparationPattern(m,0,s),ft.embedVerticalSeparationPattern(s.getHeight()-m-1,0,s),ft.embedVerticalSeparationPattern(m,s.getHeight()-m,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,m=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let v=0,b=m.length;v!==b;v++){const E=m[v];if(E>=0)for(let N=0;N!==b;N++){const j=m[N];j>=0&&ft.isEmpty(l.get(j,E))&&ft.embedPositionAdjustmentPattern(j-2,E-2,l)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class Fm{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ir{constructor(){}static calculateMaskPenalty(s){return pr.applyMaskPenaltyRule1(s)+pr.applyMaskPenaltyRule2(s)+pr.applyMaskPenaltyRule3(s)+pr.applyMaskPenaltyRule4(s)}static encode(s,l,u=null){let m=ir.DEFAULT_BYTE_MODE_ENCODING;const v=u!==null&&u.get(Xr.CHARACTER_SET)!==void 0;v&&(m=u.get(Xr.CHARACTER_SET).toString());const b=this.chooseMode(s,m),E=new B;if(b===ct.BYTE&&(v||ir.DEFAULT_BYTE_MODE_ENCODING!==m)){const De=K.getCharacterSetECIByName(m);De!==void 0&&this.appendECI(De,E)}this.appendModeInfo(b,E);const N=new B;this.appendBytes(s,b,N,m);let j;if(u!==null&&u.get(Xr.QR_VERSION)!==void 0){const De=Number.parseInt(u.get(Xr.QR_VERSION).toString(),10);j=lt.getVersionForNumber(De);const Pe=this.calculateBitsNeeded(b,E,N,j);if(!this.willFit(Pe,j,l))throw new er("Data too big for requested version")}else j=this.recommendVersion(l,b,E,N);const L=new B;L.appendBitArray(E);const z=b===ct.BYTE?N.getSizeInBytes():s.length;this.appendLengthInfo(z,j,b,L),L.appendBitArray(N);const W=j.getECBlocksForLevel(l),G=j.getTotalCodewords()-W.getTotalECCodewords();this.terminateBits(G,L);const ee=this.interleaveWithECBytes(L,j.getTotalCodewords(),G,W.getNumBlocks()),ne=new ms;ne.setECLevel(l),ne.setMode(b),ne.setVersion(j);const oe=j.getDimensionForVersion(),ve=new tc(oe,oe),Me=this.chooseMaskPattern(ee,l,j,ve);return ne.setMaskPattern(Me),ft.buildMatrix(ee,l,j,Me,ve),ne.setMatrix(ve),ne}static recommendVersion(s,l,u,m){const v=this.calculateBitsNeeded(l,u,m,lt.getVersionForNumber(1)),b=this.chooseVersion(v,s),E=this.calculateBitsNeeded(l,u,m,b);return this.chooseVersion(E,s)}static calculateBitsNeeded(s,l,u,m){return l.getSize()+s.getCharacterCountBits(m)+u.getSize()}static getAlphanumericCode(s){return s<ir.ALPHANUMERIC_TABLE.length?ir.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(K.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return ct.KANJI;let u=!1,m=!1;for(let v=0,b=s.length;v<b;++v){const E=s.charAt(v);if(ir.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)m=!0;else return ct.BYTE}return m?ct.ALPHANUMERIC:u?ct.NUMERIC:ct.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=se.encode(s,K.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let m=0;m<u;m+=2){const v=l[m]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(s,l,u,m){let v=Number.MAX_SAFE_INTEGER,b=-1;for(let E=0;E<ms.NUM_MASK_PATTERNS;E++){ft.buildMatrix(s,l,u,E,m);let N=this.calculateMaskPenalty(m);N<v&&(v=N,b=E)}return b}static chooseVersion(s,l){for(let u=1;u<=40;u++){const m=lt.getVersionForNumber(u);if(ir.willFit(s,m,l))return m}throw new er("Data too big")}static willFit(s,l,u){const m=l.getTotalCodewords(),b=l.getECBlocksForLevel(u).getTotalECCodewords(),E=m-b,N=(s+7)/8;return E>=N}static terminateBits(s,l){const u=s*8;if(l.getSize()>u)throw new er("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let b=0;b<4&&l.getSize()<u;++b)l.appendBit(!1);const m=l.getSize()&7;if(m>0)for(let b=m;b<8;b++)l.appendBit(!1);const v=s-l.getSizeInBytes();for(let b=0;b<v;++b)l.appendBits((b&1)===0?236:17,8);if(l.getSize()!==u)throw new er("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,u,m,v,b){if(m>=u)throw new er("Block ID too large");const E=s%u,N=u-E,j=Math.floor(s/u),L=j+1,z=Math.floor(l/u),W=z+1,G=j-z,ee=L-W;if(G!==ee)throw new er("EC bytes mismatch");if(u!==N+E)throw new er("RS blocks mismatch");if(s!==(z+G)*N+(W+ee)*E)throw new er("Total bytes mismatch");m<N?(v[0]=z,b[0]=G):(v[0]=W,b[0]=ee)}static interleaveWithECBytes(s,l,u,m){if(s.getSizeInBytes()!==u)throw new er("Number of bits and data bytes does not match");let v=0,b=0,E=0;const N=new Array;for(let L=0;L<m;++L){const z=new Int32Array(1),W=new Int32Array(1);ir.getNumDataBytesAndNumECBytesForBlockID(l,u,m,L,z,W);const G=z[0],ee=new Uint8Array(G);s.toBytes(8*v,ee,0,G);const ne=ir.generateECBytes(ee,W[0]);N.push(new Fm(ee,ne)),b=Math.max(b,G),E=Math.max(E,ne.length),v+=z[0]}if(u!==v)throw new er("Data bytes does not match offset");const j=new B;for(let L=0;L<b;++L)for(const z of N){const W=z.getDataBytes();L<W.length&&j.appendBits(W[L],8)}for(let L=0;L<E;++L)for(const z of N){const W=z.getErrorCorrectionBytes();L<W.length&&j.appendBits(W[L],8)}if(l!==j.getSizeInBytes())throw new er("Interleaving error: "+l+" and "+j.getSizeInBytes()+" differ.");return j}static generateECBytes(s,l){const u=s.length,m=new Int32Array(u+l);for(let b=0;b<u;b++)m[b]=s[b]&255;new Iu(Oe.QR_CODE_FIELD_256).encode(m,l);const v=new Uint8Array(l);for(let b=0;b<l;b++)v[b]=m[u+b];return v}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,u,m){const v=u.getCharacterCountBits(l);if(s>=1<<v)throw new er(s+" is bigger than "+((1<<v)-1));m.appendBits(s,v)}static appendBytes(s,l,u,m){switch(l){case ct.NUMERIC:ir.appendNumericBytes(s,u);break;case ct.ALPHANUMERIC:ir.appendAlphanumericBytes(s,u);break;case ct.BYTE:ir.append8BitBytes(s,u,m);break;case ct.KANJI:ir.appendKanjiBytes(s,u);break;default:throw new er("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=ir.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const u=s.length;let m=0;for(;m<u;){const v=ir.getDigit(s.charAt(m));if(m+2<u){const b=ir.getDigit(s.charAt(m+1)),E=ir.getDigit(s.charAt(m+2));l.appendBits(v*100+b*10+E,10),m+=3}else if(m+1<u){const b=ir.getDigit(s.charAt(m+1));l.appendBits(v*10+b,7),m+=2}else l.appendBits(v,4),m++}}static appendAlphanumericBytes(s,l){const u=s.length;let m=0;for(;m<u;){const v=ir.getAlphanumericCode(s.charCodeAt(m));if(v===-1)throw new er;if(m+1<u){const b=ir.getAlphanumericCode(s.charCodeAt(m+1));if(b===-1)throw new er;l.appendBits(v*45+b,11),m+=2}else l.appendBits(v,6),m++}}static append8BitBytes(s,l,u){let m;try{m=se.encode(s,u)}catch(v){throw new er(v)}for(let v=0,b=m.length;v!==b;v++){const E=m[v];l.appendBits(E,8)}}static appendKanjiBytes(s,l){let u;try{u=se.encode(s,K.SJIS)}catch(v){throw new er(v)}const m=u.length;for(let v=0;v<m;v+=2){const b=u[v]&255,E=u[v+1]&255,N=b<<8&4294967295|E;let j=-1;if(N>=33088&&N<=40956?j=N-33088:N>=57408&&N<=60351&&(j=N-49472),j===-1)throw new er("Invalid byte sequence");const L=(j>>8)*192+(j&255);l.appendBits(L,13)}}static appendECI(s,l){l.appendBits(ct.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}ir.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ir.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class gs{write(s,l,u,m=null){if(s.length===0)throw new y("Found empty contents");if(l<0||u<0)throw new y("Requested dimensions are too small: "+l+"x"+u);let v=Qt.L,b=gs.QUIET_ZONE_SIZE;m!==null&&(m.get(Xr.ERROR_CORRECTION)!==void 0&&(v=Qt.fromString(m.get(Xr.ERROR_CORRECTION).toString())),m.get(Xr.MARGIN)!==void 0&&(b=Number.parseInt(m.get(Xr.MARGIN).toString(),10)));const E=ir.encode(s,v,m);return this.renderResult(E,l,u,b)}writeToDom(s,l,u,m,v=null){typeof s=="string"&&(s=document.querySelector(s));const b=this.write(l,u,m,v);s&&s.appendChild(b)}renderResult(s,l,u,m){const v=s.getMatrix();if(v===null)throw new ht;const b=v.getWidth(),E=v.getHeight(),N=b+m*2,j=E+m*2,L=Math.max(l,N),z=Math.max(u,j),W=Math.min(Math.floor(L/N),Math.floor(z/j)),G=Math.floor((L-b*W)/2),ee=Math.floor((z-E*W)/2),ne=this.createSVGElement(L,z);for(let oe=0,ve=ee;oe<E;oe++,ve+=W)for(let Me=0,De=G;Me<b;Me++,De+=W)if(v.get(Me,oe)===1){const Pe=this.createSvgRectElement(De,ve,W,W);ne.appendChild(Pe)}return ne}createSVGElement(s,l){const u=document.createElementNS(gs.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(s,l,u,m){const v=document.createElementNS(gs.SVG_NS,"rect");return v.setAttributeNS(null,"x",s.toString()),v.setAttributeNS(null,"y",l.toString()),v.setAttributeNS(null,"height",u.toString()),v.setAttributeNS(null,"width",m.toString()),v.setAttributeNS(null,"fill","#000000"),v}}gs.QUIET_ZONE_SIZE=4,gs.SVG_NS="http://www.w3.org/2000/svg";class so{encode(s,l,u,m,v){if(s.length===0)throw new y("Found empty contents");if(l!==X.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(u<0||m<0)throw new y(`Requested dimensions are too small: ${u}x${m}`);let b=Qt.L,E=so.QUIET_ZONE_SIZE;v!==null&&(v.get(Xr.ERROR_CORRECTION)!==void 0&&(b=Qt.fromString(v.get(Xr.ERROR_CORRECTION).toString())),v.get(Xr.MARGIN)!==void 0&&(E=Number.parseInt(v.get(Xr.MARGIN).toString(),10)));const N=ir.encode(s,b,v);return so.renderResult(N,u,m,E)}static renderResult(s,l,u,m){const v=s.getMatrix();if(v===null)throw new ht;const b=v.getWidth(),E=v.getHeight(),N=b+m*2,j=E+m*2,L=Math.max(l,N),z=Math.max(u,j),W=Math.min(Math.floor(L/N),Math.floor(z/j)),G=Math.floor((L-b*W)/2),ee=Math.floor((z-E*W)/2),ne=new _e(L,z);for(let oe=0,ve=ee;oe<E;oe++,ve+=W)for(let Me=0,De=G;Me<b;Me++,De+=W)v.get(Me,oe)===1&&ne.setRegion(De,ve,W,W);return ne}}so.QUIET_ZONE_SIZE=4;class zm{encode(s,l,u,m,v){let b;switch(l){case X.QR_CODE:b=new so;break;default:throw new y("No encoder available for format "+l)}return b.encode(s,l,u,m,v)}}class Zi extends pe{constructor(s,l,u,m,v,b,E,N){if(super(b,E),this.yuvData=s,this.dataWidth=l,this.dataHeight=u,this.left=m,this.top=v,m+b>l||v+E>u)throw new y("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(b,E)}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const m=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,m,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=s*l,m=new Uint8ClampedArray(u);let v=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.yuvData,v,m,0,u),m;for(let b=0;b<l;b++){const E=b*s;O.arraycopy(this.yuvData,v,m,E,s),v+=this.dataWidth}return m}isCropSupported(){return!0}crop(s,l,u,m){return new Zi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,u,m,!1)}renderThumbnail(){const s=this.getWidth()/Zi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Zi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*l),m=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let b=0;b<l;b++){const E=b*s;for(let N=0;N<s;N++){const j=m[v+N*Zi.THUMBNAIL_SCALE_FACTOR]&255;u[E+N]=4278190080|j*65793}v+=this.dataWidth*Zi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Zi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const u=this.yuvData;for(let m=0,v=this.top*this.dataWidth+this.left;m<l;m++,v+=this.dataWidth){const b=v+s/2;for(let E=v,N=v+s-1;E<b;E++,N--){const j=u[E];u[E]=u[N],u[N]=j}}}invert(){return new xe(this)}}Zi.THUMBNAIL_SCALE_FACTOR=2;class Yo extends pe{constructor(s,l,u,m,v,b,E){if(super(l,u),this.dataWidth=m,this.dataHeight=v,this.left=b,this.top=E,s.BYTES_PER_ELEMENT===4){const N=l*u,j=new Uint8ClampedArray(N);for(let L=0;L<N;L++){const z=s[L],W=z>>16&255,G=z>>7&510,ee=z&255;j[L]=(W+G+ee)/4&255}this.luminances=j}else this.luminances=s;if(m===void 0&&(this.dataWidth=l),v===void 0&&(this.dataHeight=u),b===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const m=(s+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,m,l,0,u),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=s*l,m=new Uint8ClampedArray(u);let v=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return O.arraycopy(this.luminances,v,m,0,u),m;for(let b=0;b<l;b++){const E=b*s;O.arraycopy(this.luminances,v,m,E,s),v+=this.dataWidth}return m}isCropSupported(){return!0}crop(s,l,u,m){return new Yo(this.luminances,u,m,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new xe(this)}}class Rf extends K{static forName(s){return this.getCharacterSetECIByName(s)}}class Ou{}Ou.ISO_8859_1=K.ISO8859_1;class Mf{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class Tu{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Um{constructor(s){this.previous=s}getPrevious(){return this.previous}}class oo extends Um{constructor(s,l,u){super(s),this.value=l,this.bitCount=u}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new oo(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new oo(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+R.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class ju extends oo{constructor(s,l,u){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(s,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(s,l){return new ju(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $m(F,s,l){return new ju(F,s,l)}function Xo(F,s,l){return new oo(F,s,l)}const Hm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],$a=0,lo=1,Cn=2,Df=3,ji=4,Lf=new oo(null,0,0),rc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Bf(F){for(let s of F)D.fill(s,-1);return F[$a][ji]=0,F[lo][ji]=0,F[lo][$a]=28,F[Df][ji]=0,F[Cn][ji]=0,F[Cn][$a]=15,F}const Pu=Bf(D.createInt32Array(6,6));class Ln{constructor(s,l,u,m){this.token=s,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=m}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let u=this.bitCount,m=this.token;if(s!==this.mode){let b=rc[this.mode][s];m=Xo(m,b&65535,b>>16),u+=b>>16}let v=s===Cn?4:5;return m=Xo(m,l,v),new Ln(m,s,0,u+v)}shiftAndAppend(s,l){let u=this.token,m=this.mode===Cn?4:5;return u=Xo(u,Pu[this.mode][s],m),u=Xo(u,l,5),new Ln(u,this.mode,0,this.bitCount+m+5)}addBinaryShiftChar(s){let l=this.token,u=this.mode,m=this.bitCount;if(this.mode===ji||this.mode===Cn){let E=rc[u][$a];l=Xo(l,E&65535,E>>16),m+=E>>16,u=$a}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new Ln(l,u,this.binaryShiftByteCount+1,m+v);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(s+1)),b}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=$m(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(rc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=Ln.calculateBinaryShiftCost(s)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let m=this.endBinaryShift(s.length).token;m!==null;m=m.getPrevious())l.unshift(m);let u=new B;for(const m of l)m.appendTo(u,s);return u}toString(){return ae.format("%s bits=%d bytes=%d",Hm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(Lf,$a,0,0);function Wm(F){const s=ae.getCharCode(" "),l=ae.getCharCode("."),u=ae.getCharCode(",");F[$a][s]=1;const m=ae.getCharCode("Z"),v=ae.getCharCode("A");for(let W=v;W<=m;W++)F[$a][W]=W-v+2;F[lo][s]=1;const b=ae.getCharCode("z"),E=ae.getCharCode("a");for(let W=E;W<=b;W++)F[lo][W]=W-E+2;F[Cn][s]=1;const N=ae.getCharCode("9"),j=ae.getCharCode("0");for(let W=j;W<=N;W++)F[Cn][W]=W-j+2;F[Cn][u]=12,F[Cn][l]=13;const L=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let W=0;W<L.length;W++)F[Df][ae.getCharCode(L[W])]=W;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let W=0;W<z.length;W++)ae.getCharCode(z[W])>0&&(F[ji][ae.getCharCode(z[W])]=W);return F}const ku=Wm(D.createInt32Array(5,256));class Qo{constructor(s){this.text=s}encode(){const s=ae.getCharCode(" "),l=ae.getCharCode(`
`);let u=Tu.singletonList(Ln.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let b,E=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case ae.getCharCode("\r"):b=E===l?2:0;break;case ae.getCharCode("."):b=E===s?3:0;break;case ae.getCharCode(","):b=E===s?4:0;break;case ae.getCharCode(":"):b=E===s?5:0;break;default:b=0}b>0?(u=Qo.updateStateListForPair(u,v,b),v++):u=this.updateStateListForChar(u,v)}return Tu.min(u,(v,b)=>v.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const u=[];for(let m of s)this.updateStateForChar(m,l,u);return Qo.simplifyStates(u)}updateStateForChar(s,l,u){let m=this.text[l]&255,v=ku[s.getMode()][m]>0,b=null;for(let E=0;E<=ji;E++){let N=ku[E][m];if(N>0){if(b==null&&(b=s.endBinaryShift(l)),!v||E===s.getMode()||E===Cn){const j=b.latchAndAppend(E,N);u.push(j)}if(!v&&Pu[s.getMode()][E]>=0){const j=b.shiftAndAppend(E,N);u.push(j)}}}if(s.getBinaryShiftByteCount()>0||ku[s.getMode()][m]===0){let E=s.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(s,l,u){const m=[];for(let v of s)this.updateStateForPair(v,l,u,m);return this.simplifyStates(m)}static updateStateForPair(s,l,u,m){let v=s.endBinaryShift(l);if(m.push(v.latchAndAppend(ji,u)),s.getMode()!==ji&&m.push(v.shiftAndAppend(ji,u)),u===3||u===4){let b=v.latchAndAppend(Cn,16-u).latchAndAppend(Cn,1);m.push(b)}if(s.getBinaryShiftByteCount()>0){let b=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);m.push(b)}}static simplifyStates(s){let l=[];for(const u of s){let m=!0;for(const v of l){if(v.isBetterThanOrEqualTo(u)){m=!1;break}u.isBetterThanOrEqualTo(v)&&(l=l.filter(b=>b!==v))}m&&l.push(u)}return l}}class Dt{constructor(){}static encodeBytes(s){return Dt.encode(s,Dt.DEFAULT_EC_PERCENT,Dt.DEFAULT_AZTEC_LAYERS)}static encode(s,l,u){let m=new Qo(s).encode(),v=R.truncDivision(m.getSize()*l,100)+11,b=m.getSize()+v,E,N,j,L,z;if(u!==Dt.DEFAULT_AZTEC_LAYERS){if(E=u<0,N=Math.abs(u),N>(E?Dt.MAX_NB_BITS_COMPACT:Dt.MAX_NB_BITS))throw new y(ae.format("Illegal value %s for layers",u));j=Dt.totalBitsInLayer(N,E),L=Dt.WORD_SIZE[N];let Pe=j-j%L;if(z=Dt.stuffBits(m,L),z.getSize()+v>Pe)throw new y("Data to large for user specified layer");if(E&&z.getSize()>L*64)throw new y("Data to large for user specified layer")}else{L=0,z=null;for(let Pe=0;;Pe++){if(Pe>Dt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(E=Pe<=3,N=E?Pe+1:Pe,j=Dt.totalBitsInLayer(N,E),b>j)continue;(z==null||L!==Dt.WORD_SIZE[N])&&(L=Dt.WORD_SIZE[N],z=Dt.stuffBits(m,L));let jt=j-j%L;if(!(E&&z.getSize()>L*64)&&z.getSize()+v<=jt)break}}let W=Dt.generateCheckWords(z,j,L),G=z.getSize()/L,ee=Dt.generateModeMessage(E,N,G),ne=(E?11:14)+N*4,oe=new Int32Array(ne),ve;if(E){ve=ne;for(let Pe=0;Pe<oe.length;Pe++)oe[Pe]=Pe}else{ve=ne+1+2*R.truncDivision(R.truncDivision(ne,2)-1,15);let Pe=R.truncDivision(ne,2),jt=R.truncDivision(ve,2);for(let St=0;St<Pe;St++){let Zn=St+R.truncDivision(St,15);oe[Pe-St-1]=jt-Zn-1,oe[Pe+St]=jt+Zn+1}}let Me=new _e(ve);for(let Pe=0,jt=0;Pe<N;Pe++){let St=(N-Pe)*4+(E?9:12);for(let Zn=0;Zn<St;Zn++){let Pi=Zn*2;for(let Qr=0;Qr<2;Qr++)W.get(jt+Pi+Qr)&&Me.set(oe[Pe*2+Qr],oe[Pe*2+Zn]),W.get(jt+St*2+Pi+Qr)&&Me.set(oe[Pe*2+Zn],oe[ne-1-Pe*2-Qr]),W.get(jt+St*4+Pi+Qr)&&Me.set(oe[ne-1-Pe*2-Qr],oe[ne-1-Pe*2-Zn]),W.get(jt+St*6+Pi+Qr)&&Me.set(oe[ne-1-Pe*2-Zn],oe[Pe*2+Qr])}jt+=St*8}if(Dt.drawModeMessage(Me,E,ve,ee),E)Dt.drawBullsEye(Me,R.truncDivision(ve,2),5);else{Dt.drawBullsEye(Me,R.truncDivision(ve,2),7);for(let Pe=0,jt=0;Pe<R.truncDivision(ne,2)-1;Pe+=15,jt+=16)for(let St=R.truncDivision(ve,2)&1;St<ve;St+=2)Me.set(R.truncDivision(ve,2)-jt,St),Me.set(R.truncDivision(ve,2)+jt,St),Me.set(St,R.truncDivision(ve,2)-jt),Me.set(St,R.truncDivision(ve,2)+jt)}let De=new Mf;return De.setCompact(E),De.setSize(ve),De.setLayers(N),De.setCodeWords(G),De.setMatrix(Me),De}static drawBullsEye(s,l,u){for(let m=0;m<u;m+=2)for(let v=l-m;v<=l+m;v++)s.set(v,l-m),s.set(v,l+m),s.set(l-m,v),s.set(l+m,v);s.set(l-u,l-u),s.set(l-u+1,l-u),s.set(l-u,l-u+1),s.set(l+u,l-u),s.set(l+u,l-u+1),s.set(l+u,l+u-1)}static generateModeMessage(s,l,u){let m=new B;return s?(m.appendBits(l-1,2),m.appendBits(u-1,6),m=Dt.generateCheckWords(m,28,4)):(m.appendBits(l-1,5),m.appendBits(u-1,11),m=Dt.generateCheckWords(m,40,4)),m}static drawModeMessage(s,l,u,m){let v=R.truncDivision(u,2);if(l)for(let b=0;b<7;b++){let E=v-3+b;m.get(b)&&s.set(E,v-5),m.get(b+7)&&s.set(v+5,E),m.get(20-b)&&s.set(E,v+5),m.get(27-b)&&s.set(v-5,E)}else for(let b=0;b<10;b++){let E=v-5+b+R.truncDivision(b,5);m.get(b)&&s.set(E,v-7),m.get(b+10)&&s.set(v+7,E),m.get(29-b)&&s.set(E,v+7),m.get(39-b)&&s.set(v-7,E)}}static generateCheckWords(s,l,u){let m=s.getSize()/u,v=new Iu(Dt.getGF(u)),b=R.truncDivision(l,u),E=Dt.bitsToWords(s,u,b);v.encode(E,b-m);let N=l%u,j=new B;j.appendBits(0,N);for(const L of Array.from(E))j.appendBits(L,u);return j}static bitsToWords(s,l,u){let m=new Int32Array(u),v,b;for(v=0,b=s.getSize()/l;v<b;v++){let E=0;for(let N=0;N<l;N++)E|=s.get(v*l+N)?1<<l-N-1:0;m[v]=E}return m}static getGF(s){switch(s){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new y("Unsupported word size "+s)}}static stuffBits(s,l){let u=new B,m=s.getSize(),v=(1<<l)-2;for(let b=0;b<m;b+=l){let E=0;for(let N=0;N<l;N++)(b+N>=m||s.get(b+N))&&(E|=1<<l-1-N);(E&v)===v?(u.appendBits(E&v,l),b--):(E&v)===0?(u.appendBits(E|1,l),b--):u.appendBits(E,l)}return u}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Dt.DEFAULT_EC_PERCENT=33,Dt.DEFAULT_AZTEC_LAYERS=0,Dt.MAX_NB_BITS=32,Dt.MAX_NB_BITS_COMPACT=4,Dt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Zo{encode(s,l,u,m){return this.encodeWithHints(s,l,u,m,null)}encodeWithHints(s,l,u,m,v){let b=Ou.ISO_8859_1,E=Dt.DEFAULT_EC_PERCENT,N=Dt.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(Xr.CHARACTER_SET)&&(b=Rf.forName(v.get(Xr.CHARACTER_SET).toString())),v.has(Xr.ERROR_CORRECTION)&&(E=R.parseInt(v.get(Xr.ERROR_CORRECTION).toString())),v.has(Xr.AZTEC_LAYERS)&&(N=R.parseInt(v.get(Xr.AZTEC_LAYERS).toString()))),Zo.encodeLayers(s,l,u,m,b,E,N)}static encodeLayers(s,l,u,m,v,b,E){if(l!==X.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let N=Dt.encode(ae.getBytes(s,v),b,E);return Zo.renderResult(N,u,m)}static renderResult(s,l,u){let m=s.getMatrix();if(m==null)throw new ht;let v=m.getWidth(),b=m.getHeight(),E=Math.max(l,v),N=Math.max(u,b),j=Math.min(E/v,N/b),L=(E-v*j)/2,z=(N-b*j)/2,W=new _e(E,N);for(let G=0,ee=z;G<b;G++,ee+=j)for(let ne=0,oe=L;ne<v;ne++,oe+=j)m.get(ne,G)&&W.setRegion(oe,ee,j,j);return W}}r.AbstractExpandedDecoder=Ee,r.ArgumentException=x,r.ArithmeticException=we,r.AztecCode=Mf,r.AztecCodeReader=pt,r.AztecCodeWriter=Zo,r.AztecDecoder=Tt,r.AztecDetector=Ze,r.AztecDetectorResult=Js,r.AztecEncoder=Dt,r.AztecHighLevelEncoder=Qo,r.AztecPoint=me,r.BarcodeFormat=X,r.Binarizer=I,r.BinaryBitmap=S,r.BitArray=B,r.BitMatrix=_e,r.BitSource=wu,r.BrowserAztecCodeReader=nr,r.BrowserBarcodeReader=Nf,r.BrowserCodeReader=$e,r.BrowserDatamatrixCodeReader=Bm,r.BrowserMultiFormatReader=Ko,r.BrowserPDF417Reader=ec,r.BrowserQRCodeReader=kf,r.BrowserQRCodeSvgWriter=gs,r.CharacterSetECI=K,r.ChecksumException=C,r.Code128Reader=Ne,r.Code39Reader=_r,r.DataMatrixDecodedBitStreamParser=Ii,r.DataMatrixReader=Oi,r.DecodeHintType=$,r.DecoderResult=Q,r.DefaultGridSampler=us,r.DetectorResult=xa,r.EAN13Reader=dn,r.EncodeHintType=Xr,r.Exception=h,r.FormatException=V,r.GenericGF=Oe,r.GenericGFPoly=Le,r.GlobalHistogramBinarizer=Fe,r.GridSampler=cs,r.GridSamplerInstance=Kn,r.HTMLCanvasElementLuminanceSource=Ae,r.HybridBinarizer=le,r.ITFReader=Bt,r.IllegalArgumentException=y,r.IllegalStateException=ht,r.InvertedLuminanceSource=xe,r.LuminanceSource=pe,r.MathUtils=At,r.MultiFormatOneDReader=eo,r.MultiFormatReader=Jl,r.MultiFormatWriter=zm,r.NotFoundException=re,r.OneDReader=dt,r.PDF417DecodedBitStreamParser=ye,r.PDF417DecoderErrorCorrection=Au,r.PDF417Reader=gn,r.PDF417ResultMetadata=Ql,r.PerspectiveTransform=Mn,r.PlanarYUVLuminanceSource=Zi,r.QRCodeByteMatrix=tc,r.QRCodeDataMask=It,r.QRCodeDecodedBitStreamParser=hr,r.QRCodeDecoderErrorCorrectionLevel=Qt,r.QRCodeDecoderFormatInformation=hn,r.QRCodeEncoder=ir,r.QRCodeEncoderQRCode=ms,r.QRCodeMaskUtil=pr,r.QRCodeMatrixUtil=ft,r.QRCodeMode=ct,r.QRCodeReader=Dn,r.QRCodeVersion=lt,r.QRCodeWriter=so,r.RGBLuminanceSource=Yo,r.RSS14Reader=lr,r.RSSExpandedReader=Ie,r.ReaderException=ao,r.ReedSolomonDecoder=Lt,r.ReedSolomonEncoder=Iu,r.ReedSolomonException=ut,r.Result=ze,r.ResultMetadataType=Ue,r.ResultPoint=Ve,r.StringUtils=ae,r.UnsupportedOperationException=ge,r.VideoInputDevice=J,r.WhiteRectangleDetector=Gn,r.WriterException=er,r.ZXingArrays=D,r.ZXingCharset=Rf,r.ZXingInteger=R,r.ZXingStandardCharsets=Ou,r.ZXingStringBuilder=Se,r.ZXingStringEncoding=se,r.ZXingSystem=O,r.createAbstractExpandedDecoder=Cf,Object.defineProperty(r,"__esModule",{value:!0})}))})(md,md.exports)),md.exports}var Sr=jL();const PL=ma(Sr),kL=Iy({__proto__:null,default:PL},[Sr]);var US=(function(){function e(t,r,n){if(this.formatMap=new Map([[Qe.QR_CODE,Sr.BarcodeFormat.QR_CODE],[Qe.AZTEC,Sr.BarcodeFormat.AZTEC],[Qe.CODABAR,Sr.BarcodeFormat.CODABAR],[Qe.CODE_39,Sr.BarcodeFormat.CODE_39],[Qe.CODE_93,Sr.BarcodeFormat.CODE_93],[Qe.CODE_128,Sr.BarcodeFormat.CODE_128],[Qe.DATA_MATRIX,Sr.BarcodeFormat.DATA_MATRIX],[Qe.MAXICODE,Sr.BarcodeFormat.MAXICODE],[Qe.ITF,Sr.BarcodeFormat.ITF],[Qe.EAN_13,Sr.BarcodeFormat.EAN_13],[Qe.EAN_8,Sr.BarcodeFormat.EAN_8],[Qe.PDF_417,Sr.BarcodeFormat.PDF_417],[Qe.RSS_14,Sr.BarcodeFormat.RSS_14],[Qe.RSS_EXPANDED,Sr.BarcodeFormat.RSS_EXPANDED],[Qe.UPC_A,Sr.BarcodeFormat.UPC_A],[Qe.UPC_E,Sr.BarcodeFormat.UPC_E],[Qe.UPC_EAN_EXTENSION,Sr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!kL)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Sr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Sr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Sr.MultiFormatReader(this.verbose,this.hints),n=new Sr.HTMLCanvasElementLuminanceSource(t),i=new Sr.BinaryBitmap(new Sr.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:rT.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),RL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},ML=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},$S=(function(){function e(t,r,n){if(this.formatMap=new Map([[Qe.QR_CODE,"qr_code"],[Qe.AZTEC,"aztec"],[Qe.CODABAR,"codabar"],[Qe.CODE_39,"code_39"],[Qe.CODE_93,"code_93"],[Qe.CODE_128,"code_128"],[Qe.DATA_MATRIX,"data_matrix"],[Qe.ITF,"itf"],[Qe.EAN_13,"ean_13"],[Qe.EAN_8,"ean_8"],[Qe.PDF_417,"pdf417"],[Qe.UPC_A,"upc_a"],[Qe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return RL(this,void 0,void 0,function(){var r,n;return ML(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:rT.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var c=a[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),HS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},WS=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},DL=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&$S.isSupported()?(this.primaryDecoder=new $S(t,n,i),this.secondaryDecoder=new US(t,n,i)):this.primaryDecoder=new US(t,n,i)}return e.prototype.decodeAsync=function(t){return HS(this,void 0,void 0,function(){var r;return WS(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return HS(this,void 0,void 0,function(){var r,n;return WS(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Zy=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),I0=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},O0=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},sT=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),LL=(function(e){Zy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(sT),BL=(function(e){Zy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(LL),FL=(function(e){Zy(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(sT),zL=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new BL(this.track)},e.prototype.torchFeature=function(){return new FL(this.track)},e})(),UL=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return I0(this,void 0,void 0,function(){var a,c;return O0(this,function(f){switch(f.label){case 0:return a=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return I0(this,void 0,void 0,function(){return O0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new zL(this.getFirstTrackOrFail())},e})(),$L=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return I0(this,void 0,void 0,function(){return O0(this,function(i){return[2,UL.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return I0(this,void 0,void 0,function(){var r,n;return O0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),VS=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},qS=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},HL=(function(){function e(){}return e.failIfNotSupported=function(){return VS(this,void 0,void 0,function(){return qS(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return VS(this,void 0,void 0,function(){return qS(this,function(r){return[2,$L.create(t)]})})},e})(),WL=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},VL=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},qL=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Pc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Pc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return WL(this,void 0,void 0,function(){var t,r,n,i,a,c,f;return VL(this,function(p){switch(p.label){case 0:return t=function(h){for(var x=h.getVideoTracks(),y=0,S=x;y<S.length;y++){var C=S[y];C.enabled=!1,C.stop(),h.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],a=0,c=n;a<c.length;a++)f=c[a],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var c=[],f=0,p=a;f<p.length;f++){var h=p[f];h.kind==="video"&&c.push({id:h.id,label:h.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),qr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(qr||(qr={}));var GL=(function(){function e(){this.state=qr.NOT_STARTED,this.onGoingTransactionNewState=qr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===qr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===qr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case qr.UNKNOWN:throw"Transition from unknown is not allowed";case qr.NOT_STARTED:this.failIfNewStateIs(t,[qr.PAUSED]);break;case qr.SCANNING:break;case qr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),KL=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===qr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==qr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===qr.PAUSED},e})(),YL=(function(){function e(){}return e.create=function(){return new KL(new GL)},e})(),XL=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Di=(function(e){XL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(ja),QL=(function(){function e(t,r){this.logger=r,this.fps=Di.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Di.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?aT.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ya(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),Cv=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new iT(this.verbose),this.qrcode=new DL(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=YL.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=QL.create(r,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=p,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Di.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var y=this,S=this.stateManagerProxy.startTransition(qr.SCANNING);return new Promise(function(C,I){var O=h?f.videoConstraints:y.createVideoConstraints(t);if(!O){S.cancel(),I("videoConstraints should be defined");return}var T={};(!h||f.aspectRatio)&&(T.aspectRatio=f.aspectRatio);var M={onRenderSurfaceReady:function(D,R){y.setupUi(D,R,f),y.isScanning=!0,y.foreverScan(f,n,c)}};HL.failIfNotSupported().then(function(D){D.create(O).then(function(R){return R.render(a.element,T,M).then(function(B){y.renderedCamera=B,S.execute(),C(null)}).catch(function(B){S.cancel(),I(B)})}).catch(function(R){S.cancel(),I(Pc.errorGettingUserMedia(R))})}).catch(function(D){S.cancel(),I(Pc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qr.PAUSED),this.showPausedState(),(Ya(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(qr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(qr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Di.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ya(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,p=c.height,h=document.getElementById(n.elementId),x=h.clientWidth?h.clientWidth:Di.DEFAULT_WIDTH,y=Math.max(h.clientHeight?h.clientHeight:p,Di.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,p,x,y);if(r){var C=n.createCanvasElement(x,y,"qr-canvas-visible");C.style.display="inline-block",h.appendChild(C);var I=C.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=y,I.drawImage(c,0,0,f,p,S.x,S.y,S.width,S.height)}var O=Di.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(c.width,S.width),M=Math.max(c.height,S.height),D=T+2*O,R=M+2*O,B=n.createCanvasElement(D,R);h.appendChild(B);var U=B.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=D,U.canvas.height=R,U.drawImage(c,0,0,f,p,O,O,T,M);try{n.qrcode.decodeRobustlyAsync(B).then(function($){i(BS.createFromQrcodeResult($))}).catch(a)}catch($){a("QR code parse error, error = ".concat($))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return qL.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!aT.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Qe.QR_CODE,Qe.AZTEC,Qe.CODABAR,Qe.CODE_39,Qe.CODE_93,Qe.CODE_128,Qe.DATA_MATRIX,Qe.MAXICODE,Qe.ITF,Qe.EAN_13,Qe.EAN_8,Qe.PDF_417,Qe.RSS_14,Qe.RSS_EXPANDED,Qe.UPC_A,Qe.UPC_E,Qe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var c=a[i];IL(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ya(t))return!0;if(!Ya(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ya(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Ya(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,r,a),f=function(h){if(h<Di.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Di.MIN_QR_BOX_SIZE,"px.")},p=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};f(c.width),f(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Ya(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&a.height<=r,f={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,a):f,h=this.createCanvasElement(p.width,p.height),x={willReadFrequently:!0},y=h.getContext("2d",x);y.canvas.width=p.width,y.canvas.height=p.height,this.element.append(h),c&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=y,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Pc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,BS.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=Pc.codeParseError(i);return r(a,nT.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,h=this.qrRegion.height*f,x=this.qrRegion.x*c,y=this.qrRegion.y*f;this.context.drawImage(a,x,y,p,h,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(C){!C&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){S()})):S()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",c=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var h=t.facingMode;if(typeof h=="string"){if(c(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(c(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var x=typeof h;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var S=typeof y;throw"Invalid type of 'deviceId' = ".concat(S)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,c=(i-r)/2;return{x:a,y:c,width:t,height:r}}else{var f=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Di.BORDER_SHADER_MATCH_COLOR:Di.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Ya(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Di.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,h=40;this.insertShaderBorders(a,h,p,-p,null,0,!0),this.insertShaderBorders(a,h,p,-p,null,0,!1),this.insertShaderBorders(a,h,p,null,-p,0,!0),this.insertShaderBorders(a,h,p,null,-p,0,!1),this.insertShaderBorders(a,p,h+p,-p,null,-p,!0),this.insertShaderBorders(a,p,h+p,null,-p,-p,!0),this.insertShaderBorders(a,p,h+p,-p,null,-p,!1),this.insertShaderBorders(a,p,h+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Di.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),Jy="data:image/svg+xml;base64,",ZL=Jy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",JL=Jy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",GS=Jy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",e9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",KS=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),t9=(function(){function e(){this.data=KS.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=KS.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),r9=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=FS.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=FS.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),n9=(function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=GS,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=e9,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=GS,this.infoIcon.style.opacity="0.6")},e})(),i9=(function(){function e(){var t=this;this.infoDiv=new r9,this.infoIcon=new n9(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),a9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},s9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},YS=(function(){function e(){}return e.hasPermissions=function(){return a9(this,void 0,void 0,function(){var t,r,n,i;return s9(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),r=0,n=t;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),Co=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===ko.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===ko.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ja.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ja.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=t;n<i.length;n++){var a=i[n];if(!ja.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),Ui=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),js=(function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Ui.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e})(),oT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(x){try{h(n.next(x))}catch(y){c(y)}}function p(x){try{h(n.throw(x))}catch(y){c(y)}}function h(x){x.done?a(x.value):i(x.value).then(f,p)}h((n=n.apply(e,t||[])).next())})},lT=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){r.label=h[1];break}if(h[0]===6&&r.label<a[1]){r.label=a[1],a=h;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(h);break}a[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(x){h=[6,x],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},XS=(function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return oT(this,void 0,void 0,function(){var t,r;return lT(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?tr.torchOffButton():tr.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?tr.torchOnFailedMessage():tr.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),o9=(function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=js.createElement("button",Ui.TORCH_BUTTON_ID),this.torchController=new XS(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=tr.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return oT(n,void 0,void 0,function(){return lT(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ui.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ui.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ui.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ui.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new XS(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=tr.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,i){var a=new e(r,i);return a.render(t,n),a},e})(),l9=(function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=js.createElement("button",Ui.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=js.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var p=f.target;if(!(p.files&&p.files.length===0)){var h=p.files,x=h[0],y=x.name;a.setImageNameToButton(y),n(x)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var p=f.dataTransfer;if(p){var h=p.files;if(!h||h.length===0)return;for(var x=!1,y=0;y<h.length;++y){var S=h.item(y);if(S){var C=/image.*/;if(S.type.match(C)){x=!0;var I=S.name;a.setImageNameToButton(I),n(S),c.innerText=tr.dragAndDropMessage();break}}}x||(c.innerText=tr.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=tr.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(n,"....").concat(a)}var c=tr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=tr.fileSelectionChooseImage()+" - "+tr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var i=new e(t,r,n);return i},e})(),c9=(function(){function e(t){this.selectElement=js.createElement("select",Ui.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=tr.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,f=this.cameras;c<f.length;c++){var p=f[c],h=p.id,x=p.label==null?h:p.label;(!x||x==="")&&(x=[tr.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=h,y.innerText=x,this.options.push(y),this.selectElement.appendChild(y)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e})(),u9=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=js.createElement("input",Ui.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=tr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=tr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,i){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e})(),Li;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Li||(Li={}));function d9(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function f9(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Tie=(function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Co(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new iT(this.verbose),this.persistedDataManager=new t9,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(tr.lastMatch(a),Li.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){r&&r(a,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Cv(this.getScanRegionId(),f9(this.config,this.verbose))},e.prototype.pause=function(t){(Ya(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ja.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ja.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ja.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ja.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ja.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ja.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ja.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Co.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new i9;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(tr.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(t,r)};Cv.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(t.removeChild(r),i.renderCameraSelection(c)):(i.setHeaderMessage(tr.noCameraFound(),Li.STATUS_WARNING),a())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(c,Li.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,i=js.createElement("button",this.getCameraPermissionButtonId());i.innerText=tr.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(t,r,i)}),r.appendChild(i)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(Co.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){YS.hasPermissions().then(function(i){i?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Co.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Co.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";Co.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(tr.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(c){n.resetHeaderMessage(),n.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){n.setHeaderMessage(c,Li.STATUS_WARNING),n.qrCodeErrorCallback(c,nT.createFrom(c))}))};this.fileSelectionUi=l9.create(t,r,i)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=u9.create(i,!1),c=function(O){var T=O.zoomFeature();if(T.isSupported()){a.setOnCameraZoomValueChangeCallback(function(D){T.apply(D)});var M=1;r.config.defaultZoomValueIfSupported&&(M=r.config.defaultZoomValueIfSupported),M=OL(M,T.min(),T.max()),a.setValues(T.min(),T.max(),M,T.step()),a.show()}},f=c9.create(i,t),p=document.createElement("span"),h=js.createElement("button",Ui.CAMERA_START_BUTTON_ID);h.innerText=tr.scanButtonStartScanningText(),p.appendChild(h);var x=js.createElement("button",Ui.CAMERA_STOP_BUTTON_ID);x.innerText=tr.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,p.appendChild(x);var y,S=function(O){if(!O.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(O.torchFeature()):y=o9.create(p,O.torchFeature(),{display:"none",marginLeft:"5px"},function(T){n.setHeaderMessage(T,Li.STATUS_WARNING)}),y.show()};i.appendChild(p);var C=function(O){O||(h.style.display="none"),h.innerText=tr.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,O&&(h.style.display="inline-block")};if(h.addEventListener("click",function(O){h.innerText=tr.scanButtonScanningStarting(),f.disable(),h.disabled=!0,h.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var T=f.getValue();n.persistedDataManager.setLastUsedCameraId(T),n.html5Qrcode.start(T,d9(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(M){x.disabled=!1,x.style.display="inline-block",C(!1);var D=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&S(D),r.config.showZoomSliderIfSupported===!0&&c(D)}).catch(function(M){n.showHideScanTypeSwapLink(!0),f.enable(),C(!0),n.setHeaderMessage(M,Li.STATUS_WARNING)})}),f.hasSingleItem()&&h.click(),x.addEventListener("click",function(O){if(!n.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,n.html5Qrcode.stop().then(function(T){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),h.disabled=!1,x.style.display="none",h.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(T){x.disabled=!1,n.setHeaderMessage(T,Li.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var I=n.persistedDataManager.getLastUsedCameraId();f.hasValue(I)?(f.setValue(I),h.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=tr.textIfCameraScanSelected(),n=tr.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=js.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Co.isCameraScanType(this.currentScanType)?r:n,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Co.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=n,t.currentScanType=ko.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=r,t.currentScanType=ko.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){YS.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Li.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Li.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Li.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Li.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ZL,this.cameraScanImage.alt=tr.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=JL,this.fileScanImage.alt=tr.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ui.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ui.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const h9=({perfume:e,onSell:t})=>{const[r,n]=_.useState(null);_.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await He.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},a=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await He.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return g.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[g.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),g.jsx("td",{className:"px-3 py-2 text-center",children:g.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),g.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),g.jsx("td",{className:"px-3 py-2 text-right",children:g.jsx("button",{onClick:a,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},p9=({onLogout:e})=>{const[t,r]=_.useState(""),[n,i]=_.useState(""),[a,c]=_.useState(!1),[f,p]=_.useState(null),[h,x]=_.useState("loyalty"),[y,S]=_.useState("Corte"),[C,I]=_.useState("7000"),[O,T]=_.useState(""),[M,D]=_.useState(""),[R,B]=_.useState("0"),[U,$]=_.useState([]),[V,Z]=_.useState(null);_.useEffect(()=>{h==="agenda"&&nr()},[h]);const[K,ge]=_.useState([]),[se,ae]=_.useState(""),[Se,_e]=_.useState(!1),[re,Fe]=_.useState(""),[le,pe]=_.useState(""),[xe,Ae]=_.useState(null),[J,ce]=_.useState([]),[$e,ze]=_.useState(null),[Xe,X]=_.useState(!1),[Ce,Ue]=_.useState([]),[Q,Te]=_.useState(""),[Le,we]=_.useState(""),[Oe,ut]=_.useState(!1),[ht,Lt]=_.useState([]),[Ot,Tt]=_.useState(null),[At,Ni]=_.useState(""),[Ve,xa]=_.useState(""),[Js,Gn]=_.useState(!1),[cs,Mn]=_.useState(""),[us,Kn]=_.useState("");_.useEffect(()=>{h==="agenda"?nr():h==="clients"?Jt():h==="expenses"&&me()},[h]);const me=async()=>{const{data:Ee,error:Ke}=await He.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});Ke?console.error("Error fetching expenses:",Ke):Ue(Ee||[])},Ze=async()=>{if(!Q||!Le){alert("Ingrese descripcin y monto");return}ut(!0);try{const Ee=aL(Q),{error:Ke}=await He.from("expenses").insert({description:Q,amount:parseInt(Le),category:Ee,date:new Date});if(Ke)throw Ke;alert(`Gasto registrado como: ${Ee}`),Te(""),we(""),me()}catch(Ee){alert("Error: "+Ee.message)}finally{ut(!1)}},pt=async Ee=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:Ke}=await He.from("expenses").delete().eq("id",Ee);Ke||me()},nr=async()=>{const{data:Ee,error:Ke}=await He.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});Ke?console.error("Error fetching bookings:",Ke):$(Ee||[])},[dt,Ne]=_.useState(new Date),[_r,Bt]=_.useState(null),[Gt,tn]=_.useState(!1),[va,ds]=_.useState(""),[_t,dn]=_.useState(""),[fs,Ki]=_.useState("Corte"),[An,wt]=_.useState("salon");(Ee=>{const Ke=[],at=Ee.getDay(),yr=Ee.getDate()-at+(at===0?-6:1),Dr=new Date(Ee);Dr.setDate(yr);for(let br=0;br<7;br++){const Yi=new Date(Dr);Yi.setDate(Dr.getDate()+br),Ke.push(Yi)}return Ke})(dt),Array.from({length:13},(Ee,Ke)=>`${Ke+9}:00`);const Jt=async()=>{let Ee=He.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);se&&(Ee=Ee.ilike("phone",`%${se}%`));const{data:Ke,error:at}=await Ee;at?console.error("Error fetching clients:",at):ge(Ke||[])};_.useEffect(()=>{if(h==="clients"){const Ee=setTimeout(()=>{Jt()},500);return()=>clearTimeout(Ee)}},[se]);const rn=async(Ee,Ke)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${Ke} y todo su historial. Esta accin no se puede deshacer.`))try{await He.from("hair_service_log").delete().eq("client_id",Ee),await He.from("transactions").delete().eq("client_id",Ee),await He.from("visit_registrations").delete().eq("client_id",Ee);const{error:at}=await He.from("clients").delete().eq("id",Ee);if(at)throw at;alert("Cliente eliminado correctamente."),Jt()}catch(at){alert("Error al eliminar: "+at.message)}},Nr=async Ee=>{X(!0),ze(Ee);const{data:Ke,error:at}=await He.from("transactions").select("*").eq("client_id",Ee.id).order("created_at",{ascending:!1});at?console.error("Error fetching history:",at):ce(Ke||[]),X(!1)},Uo=async Ee=>{if(!window.confirm("Eliminar esta transaccin?"))return;const{error:Ke}=await He.from("transactions").delete().eq("id",Ee);Ke?alert("Error: "+Ke.message):ce(at=>at.filter(yr=>yr.id!==Ee))},Yn=(Ee=null)=>{Ee?(Ae(Ee),Fe(Ee.name||""),pe(Ee.phone||"")):(Ae(null),Fe(""),pe("")),_e(!0)},$o=async()=>{if(!le)return alert("El telfono es obligatorio");const Ee=le.trim();try{if(xe){const{error:Ke}=await He.from("clients").update({name:re,phone:Ee}).eq("id",xe.id);if(Ke)throw Ke;alert("Cliente actualizado")}else{const{error:Ke}=await He.from("clients").insert({name:re,phone:Ee,member_token:"manual-"+Date.now(),visits:0});if(Ke)throw Ke;alert("Cliente creado")}_e(!1),Jt()}catch(Ke){alert("Error al guardar cliente: "+Ke.message)}};_.useEffect(()=>{if(a&&!f){const Ee=new Cv("reader"),Ke={fps:10,qrbox:{width:250,height:250}};return Ee.start({facingMode:"environment"},Ke,hi,fn).catch(at=>{console.error("Error starting scanner:",at),i("Error iniciando cmara: "+at)}),()=>{Ee.stop().then(()=>Ee.clear()).catch(console.error)}}},[a,f]);const vr=async(Ee,Ke,at,yr,Dr=0,br="")=>{if(Ke<=0)return;let Yi=0;if(at==="service"){const Xn=Fi.find(Lr=>yr.includes(Lr.name));if(Xn){const{data:Lr}=await He.from("service_costs").select("cost").eq("service_id",Xn.id).single();Lr&&(Yi=Lr.cost)}}const{error:Ho}=await He.from("transactions").insert({client_id:Ee,amount:Ke,type:at,description:yr,additional_cost:Dr,additional_cost_detail:br,cost:Yi});Ho&&console.error("Error recording transaction:",Ho)},hi=async(Ee,Ke)=>{if(!f){p(Ee),c(!1);try{i("Procesando...");const{data:at,error:yr}=await He.rpc("register_visit",{token_input:Ee});if(yr)throw yr;if(at.success){if(i("OK: "+at.message+" Visitas: "+at.new_visits),h==="hair"){const Dr=parseInt(C)||0,{data:br}=await He.from("clients").select("id").eq("member_token",Ee).single();br&&br&&await vr(br.id,Dr,"service",`Servicio: ${y}`,0,"")}else if(h==="ventas"){const{data:Dr}=await He.from("clients").select("*").eq("member_token",Ee).single();Dr&&Tt(Dr)}}else i("Error: "+at.message);setTimeout(()=>{p(null),i("")},4e3)}catch(at){console.error(at),i("Error al procesar el cdigo."),p(null)}}},fn=Ee=>{console.warn(Ee)},We=async()=>{if(!V||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:Ee,error:Ke}=await He.rpc("redeem_discount_5th",{token_input:V.member_token});if(Ke)i("Error: "+Ke.message);else if(i(Ee.message),Ee.success){const{data:at}=await He.from("clients").select("*").eq("id",V.id).single();Z(at)}},Fa=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),h==="hair"){const Ee=parseInt(C)||0,Ke=parseInt(O)||0,{data:at,error:yr}=await He.rpc("add_hair_service_by_phone",{phone_input:t,service_type:y,service_price:Ee,notes_input:`Ingreso Manual. Extras: ${M} ($${Ke})`});if(yr)throw yr;if(at.success){const{data:Dr}=await He.from("clients").select("id").eq("phone",t).single();Dr&&await vr(Dr.id,Ee,"service",`Servicio: ${y}`,Ke,M),i(` Servicio registrado. Total: ${at.new_total_services}. ${at.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${at.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r(""),T(""),D("")}else i("Error: "+at.message)}else{const{data:Ee,error:Ke}=await He.from("clients").select("*").eq("phone",t).single();let at=0;Ee&&(at=Ee.visits);const yr=at+1,{data:Dr,error:br}=await He.from("clients").upsert({phone:t,visits:yr,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(br)throw br;const Yi=parseInt(R)||0;await vr(Dr.id,Yi,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+yr),r("")}}catch(Ee){console.error(Ee),i("Error: "+(Ee.message||"Error desconocido"))}};return g.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[g.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[g.jsx("span",{children:"Panel de Atencin"}),g.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[g.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[g.jsx(JE,{className:"text-green-600"}),"Registrar Visita Manual"]}),g.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),g.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[g.jsx("input",{type:"tel",value:t,onChange:Ee=>r(Ee.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),h==="loyalty"&&g.jsx("input",{type:"number",value:R,onChange:Ee=>B(Ee.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),g.jsxs("button",{onClick:Fa,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[g.jsx(Uy,{size:18}),"Registrar"]})]}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[g.jsx("button",{onClick:()=>x("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${h==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),g.jsx("button",{onClick:()=>x("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${h==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),g.jsx("button",{onClick:()=>x("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${h==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),g.jsx("button",{onClick:()=>x("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${h==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),g.jsx("button",{onClick:()=>x("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${h==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"})]})}),g.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[g.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:h==="loyalty"?"Registrar Visita":h==="hair"?"Registrar Servicio Peluquera":h==="inventory"?"Gestin de Inventario":h==="clients"?"Gestin de Clientes":"Control de Inversin y Compras"}),h==="expenses"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[g.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",value:Q,onChange:Ee=>Te(Ee.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),g.jsx("input",{type:"number",value:Le,onChange:Ee=>we(Ee.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),g.jsx("button",{onClick:Ze,disabled:Oe,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:Oe?"...":"Guardar"})]}),g.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(Ee=>{const Ke=Ce.filter(at=>at.category===Ee).reduce((at,yr)=>at+yr.amount,0);return g.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[g.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:Ee}),g.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",Ke.toLocaleString()]})]},Ee)}),g.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[g.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),g.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",Ce.reduce((Ee,Ke)=>Ee+Ke.amount,0).toLocaleString()]})]})]}),g.jsx("div",{className:"max-h-60 overflow-y-auto",children:g.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[g.jsx("thead",{className:"sticky top-0 bg-stone-800",children:g.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[g.jsx("th",{className:"pb-2",children:"Desc"}),g.jsx("th",{className:"pb-2",children:"Cat"}),g.jsx("th",{className:"pb-2 text-right",children:"Monto"}),g.jsx("th",{className:"pb-2 w-8"})]})}),g.jsx("tbody",{className:"divide-y divide-stone-700",children:Ce.map(Ee=>g.jsxs("tr",{children:[g.jsx("td",{className:"py-2",children:Ee.description}),g.jsx("td",{className:"py-2",children:g.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:Ee.category})}),g.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",Ee.amount.toLocaleString()]}),g.jsx("td",{className:"py-2 text-right",children:g.jsx("button",{onClick:()=>pt(Ee.id),className:"text-red-500 hover:text-red-400",children:g.jsx(Ei,{size:12})})})]},Ee.id))})]})})]}),h==="clients"&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:se,onChange:Ee=>ae(Ee.target.value),className:"flex-1 bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),g.jsxs("button",{onClick:()=>Yn(),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[g.jsx(JE,{size:16})," Nuevo"]})]}),g.jsxs("div",{className:"overflow-x-auto max-h-96",children:[g.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[g.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 py-2",children:"Nombre"}),g.jsx("th",{className:"px-3 py-2",children:"Telfono"}),g.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),g.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),g.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),g.jsx("tbody",{children:K.map(Ee=>g.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[g.jsx("td",{className:"px-3 py-2 text-white font-medium",children:Ee.name||"Sin nombre"}),g.jsx("td",{className:"px-3 py-2 text-stone-300 font-mono",children:Ee.phone}),g.jsx("td",{className:"px-3 py-2 text-center",children:Ee.visits}),g.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:Ee.hair_service_count||0}),g.jsxs("td",{className:"px-3 py-2 text-right flex justify-end gap-1",children:[g.jsx("button",{onClick:()=>Nr(Ee),className:"bg-purple-600/20 hover:bg-purple-600 hover:text-white text-purple-400 p-1.5 rounded transition",title:"Ver Historial",children:g.jsx(vI,{size:14})}),g.jsx("button",{onClick:()=>Yn(Ee),className:"bg-blue-600/20 hover:bg-blue-600 hover:text-white text-blue-500 p-1.5 rounded transition",title:"Editar Cliente",children:g.jsx(Pp,{size:14,className:"rotate-90"})}),g.jsx("button",{onClick:()=>rn(Ee.id,Ee.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:g.jsx(Ei,{size:14})})]})]},Ee.id))})]}),K.length===0&&g.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]}),Se&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-sm border border-stone-600 shadow-2xl",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:xe?"Editar Cliente":"Nuevo Cliente"}),g.jsxs("div",{className:"space-y-3 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Telfono (ID nico)"}),g.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm disabled:opacity-50",placeholder:"+569...",value:le,onChange:Ee=>pe(Ee.target.value),disabled:!!xe}),xe&&g.jsx("p",{className:"text-[10px] text-stone-500 mt-1",children:"El telfono no se puede cambiar."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Nombre"}),g.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Nombre Cliente",value:re,onChange:Ee=>Fe(Ee.target.value)})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>_e(!1),className:"flex-1 py-2 rounded bg-stone-700 text-white text-sm hover:bg-stone-600",children:"Cancelar"}),g.jsx("button",{onClick:$o,className:"flex-1 py-2 rounded bg-green-600 text-white font-bold text-sm hover:bg-green-500",children:"Guardar"})]})]})}),$e&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col border border-stone-600 shadow-2xl",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Historial de Servicios"}),g.jsxs("p",{className:"text-sm text-stone-400",children:[$e.name||"Cliente"," - ",$e.phone]})]}),g.jsx("button",{onClick:()=>{ze(null),ce([])},className:"p-2 hover:bg-stone-700 rounded-full text-stone-400",children:g.jsx(Ei,{size:20})})]}),Xe?g.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):J.length===0?g.jsx("div",{className:"py-12 text-center text-stone-500 bg-stone-900 rounded-lg border border-stone-700",children:g.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):g.jsx("div",{className:"overflow-y-auto flex-1",children:g.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[g.jsx("thead",{className:"text-xs uppercase bg-stone-700 text-stone-400 sticky top-0",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 py-2",children:"Fecha"}),g.jsx("th",{className:"px-3 py-2",children:"Descripcin"}),g.jsx("th",{className:"px-3 py-2 text-right",children:"Monto"}),g.jsx("th",{className:"px-3 py-2 w-8"})]})}),g.jsx("tbody",{children:J.map(Ee=>g.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/30",children:[g.jsx("td",{className:"px-3 py-2 text-stone-500 text-[10px]",children:new Date(Ee.created_at).toLocaleDateString("es-CL")}),g.jsx("td",{className:"px-3 py-2 text-white",children:Ee.description||(Ee.type==="service"?"Servicio":"Producto")}),g.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400 font-bold",children:["$",Ee.amount.toLocaleString()]}),g.jsx("td",{className:"px-3 py-2 text-right",children:g.jsx("button",{onClick:()=>Uo(Ee.id),className:"text-red-500 hover:text-red-400 p-1",title:"Eliminar",children:g.jsx(Nd,{size:12})})})]},Ee.id))}),g.jsx("tfoot",{className:"bg-stone-900 font-bold text-white",children:g.jsxs("tr",{children:[g.jsx("td",{colSpan:2,className:"px-3 py-2",children:"Total"}),g.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400",children:["$",J.reduce((Ee,Ke)=>Ee+Ke.amount,0).toLocaleString()]}),g.jsx("td",{})]})})]})}),g.jsx("div",{className:"mt-4 pt-4 border-t border-stone-700",children:g.jsx("button",{onClick:()=>{ze(null),ce([])},className:"w-full py-2 bg-stone-700 hover:bg-stone-600 text-white rounded font-bold text-sm",children:"Cerrar"})})]})})]}),h==="inventory"&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[g.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-3 py-2",children:"Perfume"}),g.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),g.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),g.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),g.jsx("tbody",{children:Ms.map(Ee=>g.jsx(h9,{perfume:Ee,onSell:(Ke,at)=>vr(V?.id||"anon",Ke,"product",at)},Ee.id))})]})}),h==="hair"&&g.jsxs("div",{className:"mb-4 space-y-3",children:[g.jsxs("select",{value:y,onChange:Ee=>S(Ee.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[g.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),g.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),g.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),g.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),g.jsx("input",{type:"number",value:C,onChange:Ee=>I(Ee.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",value:O,onChange:Ee=>T(Ee.target.value),placeholder:"Costo Extra ($)",className:"w-1/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"}),g.jsx("input",{type:"text",value:M,onChange:Ee=>D(Ee.target.value),placeholder:"Detalle (ej: Luz, Caf)",className:"w-2/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"})]})]}),h!=="inventory"&&h!=="clients"&&h!=="expenses"&&g.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${h==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[g.jsx(jp,{size:24}),h==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&g.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),V&&g.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[g.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",V.phone]}),g.jsx("div",{className:"space-y-3",children:V.discount_5th_visit_available?g.jsx("button",{onClick:We,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):g.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),a&&g.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[g.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:g.jsx(Ei,{size:32})}),g.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),g.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},m9=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=_.useState(!1),[a,c]=_.useState(""),[f,p]=_.useState(!0),[h,x]=_.useState(""),y=async()=>{if(!a.trim()){x("Debes ingresar qu servicio o producto se realiz.");return}i(!0),x("");try{const{data:C,error:I}=await He.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:a,count_as_loyalty:f});if(I)throw I;if(!C.success)throw new Error(C.message);r(),t()}catch(C){x(C.message||"Error al validar visita")}finally{i(!1)}},S=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:C}=await He.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(C)throw C;r(),t()}catch(C){alert(C.message)}finally{i(!1)}}};return g.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[g.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[g.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),g.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:g.jsx(Ei,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[g.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),g.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),g.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),h&&g.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[g.jsx(Ly,{className:"w-4 h-4"}),h]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),g.jsx("textarea",{value:a,onChange:C=>c(C.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:C=>p(C.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),g.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),g.jsxs("div",{className:"mt-8 flex gap-3",children:[g.jsx("button",{onClick:S,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),g.jsx("button",{onClick:y,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?g.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(Lc,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function cT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=cT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=cT(e))&&(n&&(n+=" "),n+=t);return n}var g9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function eb(e){if(typeof e!="string")return!1;var t=g9;return t.includes(e)}var x9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v9=new Set(x9);function uT(e){return typeof e!="string"?!1:v9.has(e)}function dT(e){return typeof e=="string"&&e.startsWith("data-")}function Vn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(uT(r)||dT(r))&&(t[r]=e[r]);return t}function Ro(e){if(e==null)return null;if(_.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vn(t)}return typeof e=="object"&&!Array.isArray(e)?Vn(e):null}function qn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(uT(r)||dT(r)||eb(r))&&(t[r]=e[r]);return t}function y9(e){return e==null?null:_.isValidElement(e)?qn(e.props):typeof e=="object"&&!Array.isArray(e)?qn(e):null}var b9=["children","width","height","viewBox","className","style","title","desc"];function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(null,arguments)}function w9(e,t){if(e==null)return{};var r,n,i=E9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tb=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:c,style:f,title:p,desc:h}=e,x=w9(e,b9),y=a||{width:n,height:i,x:0,y:0},S=zt("recharts-surface",c);return _.createElement("svg",_v({},qn(x),{className:S,width:n,height:i,style:f,viewBox:"".concat(y.x," ").concat(y.y," ").concat(y.width," ").concat(y.height),ref:t}),_.createElement("title",null,p),_.createElement("desc",null,h),r)}),S9=["children","className"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(null,arguments)}function A9(e,t){if(e==null)return{};var r,n,i=C9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var or=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=A9(e,S9),a=zt("recharts-layer",n);return _.createElement("g",Nv({className:a},qn(i),{ref:t}),r)}),fT=_.createContext(null),_9=()=>_.useContext(fT);function xr(e){return function(){return e}}const hT=Math.cos,T0=Math.sin,Ba=Math.sqrt,j0=Math.PI,Lp=2*j0,Iv=Math.PI,Ov=2*Iv,gl=1e-6,N9=Ov-gl;function pT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function I9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pT;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class O9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pT:I9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+c}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let c=this._x1,f=this._y1,p=n-t,h=i-r,x=c-t,y=f-r,S=x*x+y*y;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>gl)if(!(Math.abs(y*p-h*x)>gl)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let C=n-c,I=i-f,O=p*p+h*h,T=C*C+I*I,M=Math.sqrt(O),D=Math.sqrt(S),R=a*Math.tan((Iv-Math.acos((O+S-T)/(2*M*D)))/2),B=R/D,U=R/M;Math.abs(B-1)>gl&&this._append`L${t+B*x},${r+B*y}`,this._append`A${a},${a},0,0,${+(y*C>x*I)},${this._x1=t+U*p},${this._y1=r+U*h}`}}arc(t,r,n,i,a,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),p=n*Math.sin(i),h=t+f,x=r+p,y=1^c,S=c?i-a:a-i;this._x1===null?this._append`M${h},${x}`:(Math.abs(this._x1-h)>gl||Math.abs(this._y1-x)>gl)&&this._append`L${h},${x}`,n&&(S<0&&(S=S%Ov+Ov),S>N9?this._append`A${n},${n},0,1,${y},${t-f},${r-p}A${n},${n},0,1,${y},${this._x1=h},${this._y1=x}`:S>gl&&this._append`A${n},${n},0,${+(S>=Iv)},${y},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new O9(t)}function nb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mT(e){this._context=e}mT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bp(e){return new mT(e)}function gT(e){return e[0]}function xT(e){return e[1]}function vT(e,t){var r=xr(!0),n=null,i=Bp,a=null,c=rb(f);e=typeof e=="function"?e:e===void 0?gT:xr(e),t=typeof t=="function"?t:t===void 0?xT:xr(t);function f(p){var h,x=(p=nb(p)).length,y,S=!1,C;for(n==null&&(a=i(C=c())),h=0;h<=x;++h)!(h<x&&r(y=p[h],h,p))===S&&((S=!S)?a.lineStart():a.lineEnd()),S&&a.point(+e(y,h,p),+t(y,h,p));if(C)return a=null,C+""||null}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:xr(+p),f):e},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:xr(+p),f):t},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:xr(!!p),f):r},f.curve=function(p){return arguments.length?(i=p,n!=null&&(a=i(n)),f):i},f.context=function(p){return arguments.length?(p==null?n=a=null:a=i(n=p),f):n},f}function Uh(e,t,r){var n=null,i=xr(!0),a=null,c=Bp,f=null,p=rb(h);e=typeof e=="function"?e:e===void 0?gT:xr(+e),t=typeof t=="function"?t:xr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xT:xr(+r);function h(y){var S,C,I,O=(y=nb(y)).length,T,M=!1,D,R=new Array(O),B=new Array(O);for(a==null&&(f=c(D=p())),S=0;S<=O;++S){if(!(S<O&&i(T=y[S],S,y))===M)if(M=!M)C=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),I=S-1;I>=C;--I)f.point(R[I],B[I]);f.lineEnd(),f.areaEnd()}M&&(R[S]=+e(T,S,y),B[S]=+t(T,S,y),f.point(n?+n(T,S,y):R[S],r?+r(T,S,y):B[S]))}if(D)return f=null,D+""||null}function x(){return vT().defined(i).curve(c).context(a)}return h.x=function(y){return arguments.length?(e=typeof y=="function"?y:xr(+y),n=null,h):e},h.x0=function(y){return arguments.length?(e=typeof y=="function"?y:xr(+y),h):e},h.x1=function(y){return arguments.length?(n=y==null?null:typeof y=="function"?y:xr(+y),h):n},h.y=function(y){return arguments.length?(t=typeof y=="function"?y:xr(+y),r=null,h):t},h.y0=function(y){return arguments.length?(t=typeof y=="function"?y:xr(+y),h):t},h.y1=function(y){return arguments.length?(r=y==null?null:typeof y=="function"?y:xr(+y),h):r},h.lineX0=h.lineY0=function(){return x().x(e).y(t)},h.lineY1=function(){return x().x(e).y(r)},h.lineX1=function(){return x().x(n).y(t)},h.defined=function(y){return arguments.length?(i=typeof y=="function"?y:xr(!!y),h):i},h.curve=function(y){return arguments.length?(c=y,a!=null&&(f=c(a)),h):c},h.context=function(y){return arguments.length?(y==null?a=f=null:f=c(a=y),h):a},h}class yT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function T9(e){return new yT(e,!0)}function j9(e){return new yT(e,!1)}const ib={draw(e,t){const r=Ba(t/j0);e.moveTo(r,0),e.arc(0,0,r,0,Lp)}},P9={draw(e,t){const r=Ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bT=Ba(1/3),k9=bT*2,R9={draw(e,t){const r=Ba(t/k9),n=r*bT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},M9={draw(e,t){const r=Ba(t),n=-r/2;e.rect(n,n,r,r)}},D9=.8908130915292852,wT=T0(j0/10)/T0(7*j0/10),L9=T0(Lp/10)*wT,B9=-hT(Lp/10)*wT,F9={draw(e,t){const r=Ba(t*D9),n=L9*r,i=B9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const c=Lp*a/5,f=hT(c),p=T0(c);e.lineTo(p*r,-f*r),e.lineTo(f*n-p*i,p*n+f*i)}e.closePath()}},S1=Ba(3),z9={draw(e,t){const r=-Ba(t/(S1*3));e.moveTo(0,r*2),e.lineTo(-S1*r,-r),e.lineTo(S1*r,-r),e.closePath()}},aa=-.5,sa=Ba(3)/2,Tv=1/Ba(12),U9=(Tv/2+1)*3,$9={draw(e,t){const r=Ba(t/U9),n=r/2,i=r*Tv,a=n,c=r*Tv+r,f=-a,p=c;e.moveTo(n,i),e.lineTo(a,c),e.lineTo(f,p),e.lineTo(aa*n-sa*i,sa*n+aa*i),e.lineTo(aa*a-sa*c,sa*a+aa*c),e.lineTo(aa*f-sa*p,sa*f+aa*p),e.lineTo(aa*n+sa*i,aa*i-sa*n),e.lineTo(aa*a+sa*c,aa*c-sa*a),e.lineTo(aa*f+sa*p,aa*p-sa*f),e.closePath()}};function H9(e,t){let r=null,n=rb(i);e=typeof e=="function"?e:xr(e||ib),t=typeof t=="function"?t:xr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:xr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:xr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function P0(){}function k0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ET(e){this._context=e}ET.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:k0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:k0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W9(e){return new ET(e)}function ST(e){this._context=e}ST.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:k0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V9(e){return new ST(e)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:k0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q9(e){return new AT(e)}function CT(e){this._context=e}CT.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G9(e){return new CT(e)}function QS(e){return e<0?-1:1}function ZS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(a*i+c*n)/(n+i);return(QS(a)+QS(c))*Math.min(Math.abs(a),Math.abs(c),.5*Math.abs(f))||0}function JS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function A1(e,t,r){var n=e._x0,i=e._y0,a=e._x1,c=e._y1,f=(a-n)/3;e._context.bezierCurveTo(n+f,i+f*t,a-f,c-f*r,a,c)}function R0(e){this._context=e}R0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A1(this,this._t0,JS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,A1(this,JS(this,r=ZS(this,e,t)),r);break;default:A1(this,this._t0,r=ZS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _T(e){this._context=new NT(e)}(_T.prototype=Object.create(R0.prototype)).point=function(e,t){R0.prototype.point.call(this,t,e)};function NT(e){this._context=e}NT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function K9(e){return new R0(e)}function Y9(e){return new _T(e)}function IT(e){this._context=e}IT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=eA(e),i=eA(t),a=0,c=1;c<r;++a,++c)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eA(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),c=new Array(r);for(i[0]=0,a[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function X9(e){return new IT(e)}function Fp(e,t){this._context=e,this._t=t}Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Q9(e){return new Fp(e,.5)}function Z9(e){return new Fp(e,0)}function J9(e){return new Fp(e,1)}function Rl(e,t){if((c=e.length)>1)for(var r=1,n,i,a=e[t[0]],c,f=a.length;r<c;++r)for(i=a,a=e[t[r]],n=0;n<f;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function jv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function e7(e,t){return e[t]}function t7(e){const t=[];return t.key=e,t}function r7(){var e=xr([]),t=jv,r=Rl,n=e7;function i(a){var c=Array.from(e.apply(this,arguments),t7),f,p=c.length,h=-1,x;for(const y of a)for(f=0,++h;f<p;++f)(c[f][h]=[0,+n(y,c[f].key,h,a)]).data=y;for(f=0,x=nb(t(c));f<p;++f)c[x[f]].index=f;return r(c,x),c}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:xr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:xr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?jv:typeof a=="function"?a:xr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Rl,i):r},i}function n7(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,c;i<a;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}Rl(e,t)}}function i7(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}Rl(e,t)}}function a7(e,t){if(!(!((c=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,c;n<a;++n){for(var f=0,p=0,h=0;f<c;++f){for(var x=e[t[f]],y=x[n][1]||0,S=x[n-1][1]||0,C=(y-S)/2,I=0;I<f;++I){var O=e[t[I]],T=O[n][1]||0,M=O[n-1][1]||0;C+=T-M}p+=y,h+=C*y}i[n-1][1]+=i[n-1][0]=r,p&&(r-=h/p)}i[n-1][1]+=i[n-1][0]=r,Rl(e,t)}}var C1={},_1={},tA;function s7(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(_1)),_1}var N1={},rA;function OT(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(N1)),N1}var I1={},nA;function ab(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(I1)),I1}var O1={},T1={},iA;function o7(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(T1)),T1}var aA;function sb(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7(),r=ab();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],c=i.length;if(c===0)return a;let f=0,p="",h="",x=!1;for(i.charCodeAt(0)===46&&(a.push(""),f++);f<c;){const y=i[f];h?y==="\\"&&f+1<c?(f++,p+=i[f]):y===h?h="":p+=y:x?y==='"'||y==="'"?h=y:y==="]"?(x=!1,a.push(p),p=""):p+=y:y==="["?(x=!0,p&&(a.push(p),p="")):y==="."?p&&(a.push(p),p=""):p+=y,f++}return p&&a.push(p),a}e.toPath=n})(O1)),O1}var sA;function ob(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s7(),r=OT(),n=ab(),i=sb();function a(f,p,h){if(f==null)return h;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return h;const x=f[p];return x===void 0?r.isDeepKey(p)?a(f,i.toPath(p),h):h:x}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const x=f[p];return x===void 0?h:x}default:{if(Array.isArray(p))return c(f,p,h);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return h;const x=f[p];return x===void 0?h:x}}}function c(f,p,h){if(p.length===0)return h;let x=f;for(let y=0;y<p.length;y++){if(x==null||t.isUnsafeProperty(p[y]))return h;x=x[p[y]]}return x===void 0?h:x}e.get=a})(C1)),C1}var j1,oA;function l7(){return oA||(oA=1,j1=ob().get),j1}var c7=l7();const Ml=ma(c7);var u7=4;function jo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u7,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Gr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,c)=>{var f=r[c-1];return typeof f=="string"?i+f+a:f!==void 0?i+jo(f)+a:i+a},"")}var Pn=e=>e===0?0:e>0?1:-1,Ci=e=>typeof e=="number"&&e!=+e,Fs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,qe=e=>(typeof e=="number"||e instanceof Number)&&!Ci(e),ua=e=>qe(e)||typeof e=="string",d7=0,jd=e=>{var t=++d7;return"".concat(e||"").concat(t)},si=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!qe(t)&&typeof t!="string")return n;var a;if(Fs(t)){if(r==null)return n;var c=t.indexOf("%");a=r*parseFloat(t.slice(0,c))/100}else a=+t;return Ci(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},TT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ut(e,t,r){return qe(e)&&qe(t)?jo(e+r*(t-e)):t}function jT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ml(n,t))===r)}var f7=e=>{for(var t=e.length,r=0,n=0,i=0,a=0,c=1/0,f=-1/0,p=0,h=0,x=0;x<t;x++){var y,S;p=((y=e[x])===null||y===void 0?void 0:y.cx)||0,h=((S=e[x])===null||S===void 0?void 0:S.cy)||0,r+=p,n+=h,i+=p*h,a+=p*p,c=Math.min(c,p),f=Math.max(f,p)}var C=t*a!==r*r?(t*i-r*n)/(t*a-r*r):0;return{xmin:c,xmax:f,a:C,b:(n-C*r)/t}},Zt=e=>e===null||typeof e>"u",Jd=e=>Zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function h7(e){return e!=null}function ef(){}var p7=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pv.apply(null,arguments)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=g7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v7(e,t){if(e==null)return{};var r,n,i=y7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PT={symbolCircle:ib,symbolCross:P9,symbolDiamond:R9,symbolSquare:M9,symbolStar:F9,symbolTriangle:z9,symbolWye:$9},b7=Math.PI/180,w7=e=>{var t="symbol".concat(Jd(e));return PT[t]||ib},E7=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*b7;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S7=(e,t)=>{PT["symbol".concat(Jd(e))]=t},zp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=v7(e,p7),a=cA(cA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=w7(c),C=H9().type(S).size(E7(r,n,c)),I=C();if(I!==null)return I},{className:p,cx:h,cy:x}=a,y=qn(a);return qe(h)&&qe(x)&&qe(r)?_.createElement("path",Pv({},y,{className:zt("recharts-symbols",p),transform:"translate(".concat(h,", ").concat(x,")"),d:f()})):null};zp.registerSymbol=S7;var kT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,lb=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{eb(i)&&(n[i]=(a=>r[i](r,a)))}),n},A7=(e,t,r)=>n=>(e(t,r,n),null),su=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];eb(i)&&typeof a=="function"&&(n||(n={}),n[i]=A7(a,t,r))}),n},C7=e=>Array.isArray(e)&&e.length>0;function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){N7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7(e,t,r){return(t=I7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t){var r=_7({},e),n=t,i=Object.keys(t),a=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return a}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=P7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var la=32,R7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function M7(e){var{data:t,iconType:r,inactiveColor:n}=e,i=la/2,a=la/6,c=la/3,f=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var h;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:la,y2:i,className:"recharts-legend-icon"})}if(p==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(la,"M").concat(2*c,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return _.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(la/8,"h").concat(la,"v").concat(la*3/4,"h").concat(-la,"z"),className:"recharts-legend-icon"});if(_.isValidElement(t.legendIcon)){var x=T7({},t);return delete x.legendIcon,_.cloneElement(t.legendIcon,x)}return _.createElement(zp,{fill:f,cx:i,cy:i,size:la,sizeType:"diameter",type:p})}function D7(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:c}=e,f={x:0,y:0,width:la,height:la},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((x,y)=>{var S=x.formatter||i,C=zt({"recharts-legend-item":!0,["legend-item-".concat(y)]:!0,inactive:x.inactive});if(x.type==="none")return null;var I=x.inactive?a:x.color,O=S?S(x.value,x,y):x.value;return _.createElement("li",M0({className:C,style:p,key:"legend-item-".concat(y)},su(e,x,y)),_.createElement(tb,{width:r,height:r,viewBox:f,style:h,"aria-label":"".concat(O," legend icon")},_.createElement(M7,{data:x,iconType:c,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},O))})}var L7=e=>{var t=Cr(e,R7),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(D7,M0({},t,{payload:r})))},P1={},k1={},fA;function B7(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const c=r[a],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(k1)),k1}var R1={},hA;function RT(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(R1)),R1}var M1={},D1={},L1={},pA;function F7(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(L1)),L1}var mA;function cb(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(D1)),D1}var B1={},gA;function z7(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(B1)),B1}var xA;function U7(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cb(),r=z7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(M1)),M1}var F1={},z1={},vA;function $7(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ob();function r(n){return function(i){return t.get(i,n)}}e.property=r})(z1)),z1}var U1={},$1={},H1={},W1={},yA;function MT(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(W1)),W1}var V1={},bA;function DT(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(V1)),V1}var q1={},wA;function LT(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(q1)),q1}var EA;function H7(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT(),r=DT(),n=LT();function i(x,y,S){return typeof S!="function"?i(x,y,()=>{}):a(x,y,function C(I,O,T,M,D,R){const B=S(I,O,T,M,D,R);return B!==void 0?!!B:a(I,O,C,R)},new Map)}function a(x,y,S,C){if(y===x)return!0;switch(typeof y){case"object":return c(x,y,S,C);case"function":return Object.keys(y).length>0?a(x,{...y},S,C):n.eq(x,y);default:return t.isObject(x)?typeof y=="string"?y==="":!0:n.eq(x,y)}}function c(x,y,S,C){if(y==null)return!0;if(Array.isArray(y))return p(x,y,S,C);if(y instanceof Map)return f(x,y,S,C);if(y instanceof Set)return h(x,y,S,C);const I=Object.keys(y);if(x==null||r.isPrimitive(x))return I.length===0;if(I.length===0)return!0;if(C?.has(y))return C.get(y)===x;C?.set(y,x);try{for(let O=0;O<I.length;O++){const T=I[O];if(!r.isPrimitive(x)&&!(T in x)||y[T]===void 0&&x[T]!==void 0||y[T]===null&&x[T]!==null||!S(x[T],y[T],T,x,y,C))return!1}return!0}finally{C?.delete(y)}}function f(x,y,S,C){if(y.size===0)return!0;if(!(x instanceof Map))return!1;for(const[I,O]of y.entries()){const T=x.get(I);if(S(T,O,I,x,y,C)===!1)return!1}return!0}function p(x,y,S,C){if(y.length===0)return!0;if(!Array.isArray(x))return!1;const I=new Set;for(let O=0;O<y.length;O++){const T=y[O];let M=!1;for(let D=0;D<x.length;D++){if(I.has(D))continue;const R=x[D];let B=!1;if(S(R,T,O,x,y,C)&&(B=!0),B){I.add(D),M=!0;break}}if(!M)return!1}return!0}function h(x,y,S,C){return y.size===0?!0:x instanceof Set?p([...x],[...y],S,C):!1}e.isMatchWith=i,e.isSetMatch=h})(H1)),H1}var SA;function BT(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})($1)),$1}var G1={},K1={},Y1={},AA;function W7(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Y1)),Y1}var X1={},CA;function FT(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(X1)),X1}var Q1={},_A;function zT(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",c="[object Symbol]",f="[object Date]",p="[object Map]",h="[object Set]",x="[object Array]",y="[object Function]",S="[object ArrayBuffer]",C="[object Object]",I="[object Error]",O="[object DataView]",T="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",B="[object BigUint64Array]",U="[object Int8Array]",$="[object Int16Array]",V="[object Int32Array]",Z="[object BigInt64Array]",K="[object Float32Array]",ge="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=S,e.arrayTag=x,e.bigInt64ArrayTag=Z,e.bigUint64ArrayTag=B,e.booleanTag=i,e.dataViewTag=O,e.dateTag=f,e.errorTag=I,e.float32ArrayTag=K,e.float64ArrayTag=ge,e.functionTag=y,e.int16ArrayTag=$,e.int32ArrayTag=V,e.int8ArrayTag=U,e.mapTag=p,e.numberTag=n,e.objectTag=C,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=D,e.uint32ArrayTag=R,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=M})(Q1)),Q1}var Z1={},NA;function V7(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Z1)),Z1}var IA;function UT(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7(),r=FT(),n=zT(),i=DT(),a=V7();function c(x,y){return f(x,void 0,x,new Map,y)}function f(x,y,S,C=new Map,I=void 0){const O=I?.(x,y,S,C);if(O!==void 0)return O;if(i.isPrimitive(x))return x;if(C.has(x))return C.get(x);if(Array.isArray(x)){const T=new Array(x.length);C.set(x,T);for(let M=0;M<x.length;M++)T[M]=f(x[M],M,S,C,I);return Object.hasOwn(x,"index")&&(T.index=x.index),Object.hasOwn(x,"input")&&(T.input=x.input),T}if(x instanceof Date)return new Date(x.getTime());if(x instanceof RegExp){const T=new RegExp(x.source,x.flags);return T.lastIndex=x.lastIndex,T}if(x instanceof Map){const T=new Map;C.set(x,T);for(const[M,D]of x)T.set(M,f(D,M,S,C,I));return T}if(x instanceof Set){const T=new Set;C.set(x,T);for(const M of x)T.add(f(M,void 0,S,C,I));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(x))return x.subarray();if(a.isTypedArray(x)){const T=new(Object.getPrototypeOf(x)).constructor(x.length);C.set(x,T);for(let M=0;M<x.length;M++)T[M]=f(x[M],M,S,C,I);return T}if(x instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&x instanceof SharedArrayBuffer)return x.slice(0);if(x instanceof DataView){const T=new DataView(x.buffer.slice(0),x.byteOffset,x.byteLength);return C.set(x,T),p(T,x,S,C,I),T}if(typeof File<"u"&&x instanceof File){const T=new File([x],x.name,{type:x.type});return C.set(x,T),p(T,x,S,C,I),T}if(typeof Blob<"u"&&x instanceof Blob){const T=new Blob([x],{type:x.type});return C.set(x,T),p(T,x,S,C,I),T}if(x instanceof Error){const T=new x.constructor;return C.set(x,T),T.message=x.message,T.name=x.name,T.stack=x.stack,T.cause=x.cause,p(T,x,S,C,I),T}if(x instanceof Boolean){const T=new Boolean(x.valueOf());return C.set(x,T),p(T,x,S,C,I),T}if(x instanceof Number){const T=new Number(x.valueOf());return C.set(x,T),p(T,x,S,C,I),T}if(x instanceof String){const T=new String(x.valueOf());return C.set(x,T),p(T,x,S,C,I),T}if(typeof x=="object"&&h(x)){const T=Object.create(Object.getPrototypeOf(x));return C.set(x,T),p(T,x,S,C,I),T}return x}function p(x,y,S=x,C,I){const O=[...Object.keys(y),...t.getSymbols(y)];for(let T=0;T<O.length;T++){const M=O[T],D=Object.getOwnPropertyDescriptor(x,M);(D==null||D.writable)&&(x[M]=f(y[M],M,S,C,I))}}function h(x){switch(r.getTag(x)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=p})(K1)),K1}var OA;function q7(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(G1)),G1}var TA;function G7(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),r=q7();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(U1)),U1}var J1={},ex={},tx={},jA;function K7(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UT(),r=zT();function n(i,a){return t.cloneDeepWith(i,(c,f,p,h)=>{const x=a?.(c,f,p,h);if(x!==void 0)return x;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new i.constructor(i?.valueOf());return t.copyProperties(y,i),y}case r.argumentsTag:{const y={};return t.copyProperties(y,i),y.length=i.length,y[Symbol.iterator]=i[Symbol.iterator],y}default:return}})}e.cloneDeepWith=n})(tx)),tx}var PA;function Y7(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(ex)),ex}var rx={},nx={},kA;function $T(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(nx)),nx}var ix={},RA;function X7(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ix)),ix}var MA;function Q7(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OT(),r=$T(),n=X7(),i=sb();function a(c,f){let p;if(Array.isArray(f)?p=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?p=i.toPath(f):p=[f],p.length===0)return!1;let h=c;for(let x=0;x<p.length;x++){const y=p[x];if((h==null||!Object.hasOwn(h,y))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(y)&&y<h.length))return!1;h=h[y]}return!0}e.has=a})(rx)),rx}var DA;function Z7(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BT(),r=ab(),n=Y7(),i=ob(),a=Q7();function c(f,p){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return p=n.cloneDeep(p),function(h){const x=i.get(h,f);return x===void 0?a.has(h,f):p===void 0?x===void 0:t.isMatch(x,p)}}e.matchesProperty=c})(J1)),J1}var LA;function J7(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RT(),r=$7(),n=G7(),i=Z7();function a(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=a})(F1)),F1}var BA;function eB(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B7(),r=RT(),n=U7(),i=J7();function a(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=a})(P1)),P1}var ax,FA;function tB(){return FA||(FA=1,ax=eB().uniqBy),ax}var rB=tB();const zA=ma(rB);function HT(e,t,r){return t===!0?zA(e,r):typeof t=="function"?zA(e,t):e}var sx={exports:{}},ox={},lx={exports:{}},cx={};var UA;function nB(){if(UA)return cx;UA=1;var e=tu();function t(y,S){return y===S&&(y!==0||1/y===1/S)||y!==y&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,c=e.useDebugValue;function f(y,S){var C=S(),I=n({inst:{value:C,getSnapshot:S}}),O=I[0].inst,T=I[1];return a(function(){O.value=C,O.getSnapshot=S,p(O)&&T({inst:O})},[y,C,S]),i(function(){return p(O)&&T({inst:O}),y(function(){p(O)&&T({inst:O})})},[y]),c(C),C}function p(y){var S=y.getSnapshot;y=y.value;try{var C=S();return!r(y,C)}catch{return!0}}function h(y,S){return S()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return cx.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,cx}var $A;function iB(){return $A||($A=1,lx.exports=nB()),lx.exports}var HA;function aB(){if(HA)return ox;HA=1;var e=tu(),t=iB();function r(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return ox.useSyncExternalStoreWithSelector=function(h,x,y,S,C){var I=a(null);if(I.current===null){var O={hasValue:!1,value:null};I.current=O}else O=I.current;I=f(function(){function M($){if(!D){if(D=!0,R=$,$=S($),C!==void 0&&O.hasValue){var V=O.value;if(C(V,$))return B=V}return B=$}if(V=B,n(R,$))return V;var Z=S($);return C!==void 0&&C(V,Z)?(R=$,V):(R=$,B=Z)}var D=!1,R,B,U=y===void 0?null:y;return[function(){return M(x())},U===null?void 0:function(){return M(U())}]},[x,y,S,C]);var T=i(h,I[0],I[1]);return c(function(){O.hasValue=!0,O.value=T},[T]),p(T),T},ox}var WA;function sB(){return WA||(WA=1,sx.exports=aB()),sx.exports}var oB=sB(),ub=_.createContext(null),lB=e=>e,dr=()=>{var e=_.useContext(ub);return e?e.store.dispatch:lB},f0=()=>{},cB=()=>f0,uB=(e,t)=>e===t;function Ge(e){var t=_.useContext(ub);return oB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cB,t?t.store.getState:f0,t?t.store.getState:f0,t?e:f0,uB)}function dB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fB(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var VA=e=>Array.isArray(e)?e:[e];function pB(e){const t=Array.isArray(e[0])?e[0]:e;return hB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function mB(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var gB=class{constructor(e){this.value=e}deref(){return this.value}},xB=typeof WeakRef<"u"?WeakRef:gB,vB=0,qA=1;function $h(){return{s:vB,v:void 0,o:null,p:null}}function WT(e,t={}){let r=$h();const{resultEqualityCheck:n}=t;let i,a=0;function c(){let f=r;const{length:p}=arguments;for(let y=0,S=p;y<S;y++){const C=arguments[y];if(typeof C=="function"||typeof C=="object"&&C!==null){let I=f.o;I===null&&(f.o=I=new WeakMap);const O=I.get(C);O===void 0?(f=$h(),I.set(C,f)):f=O}else{let I=f.p;I===null&&(f.p=I=new Map);const O=I.get(C);O===void 0?(f=$h(),I.set(C,f)):f=O}}const h=f;let x;if(f.s===qA)x=f.v;else if(x=e.apply(null,arguments),a++,n){const y=i?.deref?.()??i;y!=null&&n(y,x)&&(x=y,a!==0&&a--),i=typeof x=="object"&&x!==null||typeof x=="function"?new xB(x):x}return h.s=qA,h.v=x,x}return c.clearCache=()=>{r=$h(),c.resetResultsCount()},c.resultsCount=()=>a,c.resetResultsCount=()=>{a=0},c}function yB(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,c=0,f,p={},h=i.pop();typeof h=="object"&&(p=h,h=i.pop()),dB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const x={...r,...p},{memoize:y,memoizeOptions:S=[],argsMemoize:C=WT,argsMemoizeOptions:I=[]}=x,O=VA(S),T=VA(I),M=pB(i),D=y(function(){return a++,h.apply(null,arguments)},...O),R=C(function(){c++;const U=mB(M,arguments);return f=D.apply(null,U),f},...T);return Object.assign(R,{resultFunc:h,memoizedResultFunc:D,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:y,argsMemoize:C})};return Object.assign(n,{withTypes:()=>n}),n}var fe=yB(WT),bB=Object.assign((e,t=fe)=>{fB(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((c,f,p)=>(c[r[p]]=f,c),{}))},{withTypes:()=>bB}),ux={},dx={},fx={},GA;function wB(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?f-c:c-f}return 0};e.compareValues=r})(fx)),fx}var hx={},px={},KA;function VT(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(px)),px}var YA;function EB(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,c){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||c!=null&&Object.hasOwn(c,a)}e.isKey=i})(hx)),hx}var XA;function SB(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wB(),r=EB(),n=sb();function i(a,c,f,p){if(a==null)return[];f=p?void 0:f,Array.isArray(a)||(a=Object.values(a)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(C=>String(C));const h=(C,I)=>{let O=C;for(let T=0;T<I.length&&O!=null;++T)O=O[I[T]];return O},x=(C,I)=>I==null||C==null?I:typeof C=="object"&&"key"in C?Object.hasOwn(I,C.key)?I[C.key]:h(I,C.path):typeof C=="function"?C(I):Array.isArray(C)?h(I,C):typeof I=="object"?I[C]:I,y=c.map(C=>(Array.isArray(C)&&C.length===1&&(C=C[0]),C==null||typeof C=="function"||Array.isArray(C)||r.isKey(C)?C:{key:C,path:n.toPath(C)}));return a.map(C=>({original:C,criteria:y.map(I=>x(I,C))})).slice().sort((C,I)=>{for(let O=0;O<y.length;O++){const T=t.compareValues(C.criteria[O],I.criteria[O],f[O]);if(T!==0)return T}return 0}).map(C=>C.original)}e.orderBy=i})(dx)),dx}var mx={},QA;function AB(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),c=(f,p)=>{for(let h=0;h<f.length;h++){const x=f[h];Array.isArray(x)&&p<a?c(x,p+1):i.push(x)}};return c(r,0),i}e.flatten=t})(mx)),mx}var gx={},ZA;function qT(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T(),r=cb(),n=MT(),i=LT();function a(c,f,p){return n.isObject(p)&&(typeof f=="number"&&r.isArrayLike(p)&&t.isIndex(f)&&f<p.length||typeof f=="string"&&f in p)?i.eq(p[f],c):!1}e.isIterateeCall=a})(gx)),gx}var JA;function CB(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SB(),r=AB(),n=qT();function i(a,...c){const f=c.length;return f>1&&n.isIterateeCall(a,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(a,r.flatten(c),["asc"])}e.sortBy=i})(ux)),ux}var xx,eC;function _B(){return eC||(eC=1,xx=CB().sortBy),xx}var NB=_B();const Up=ma(NB);var GT=e=>e.legend.settings,IB=e=>e.legend.size,OB=e=>e.legend.payload,TB=fe([OB,GT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Up(n,r):n});function jB(){return Ge(TB)}var Hh=1;function KT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),c={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(c.height-t.height)>Hh||Math.abs(c.left-t.left)>Hh||Math.abs(c.top-t.top)>Hh||Math.abs(c.width-t.width)>Hh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Hn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PB=typeof Symbol=="function"&&Symbol.observable||"@@observable",tC=PB,vx=()=>Math.random().toString(36).substring(7).split("").join("."),kB={INIT:`@@redux/INIT${vx()}`,REPLACE:`@@redux/REPLACE${vx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vx()}`},D0=kB;function db(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function YT(e,t,r){if(typeof e!="function")throw new Error(Hn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hn(1));return r(YT)(e,t)}let n=e,i=t,a=new Map,c=a,f=0,p=!1;function h(){c===a&&(c=new Map,a.forEach((T,M)=>{c.set(M,T)}))}function x(){if(p)throw new Error(Hn(3));return i}function y(T){if(typeof T!="function")throw new Error(Hn(4));if(p)throw new Error(Hn(5));let M=!0;h();const D=f++;return c.set(D,T),function(){if(M){if(p)throw new Error(Hn(6));M=!1,h(),c.delete(D),a=null}}}function S(T){if(!db(T))throw new Error(Hn(7));if(typeof T.type>"u")throw new Error(Hn(8));if(typeof T.type!="string")throw new Error(Hn(17));if(p)throw new Error(Hn(9));try{p=!0,i=n(i,T)}finally{p=!1}return(a=c).forEach(D=>{D()}),T}function C(T){if(typeof T!="function")throw new Error(Hn(10));n=T,S({type:D0.REPLACE})}function I(){const T=y;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Hn(11));function D(){const B=M;B.next&&B.next(x())}return D(),{unsubscribe:T(D)}},[tC](){return this}}}return S({type:D0.INIT}),{dispatch:S,subscribe:y,getState:x,replaceReducer:C,[tC]:I}}function RB(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:D0.INIT})>"u")throw new Error(Hn(12));if(typeof r(void 0,{type:D0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hn(13))})}function XT(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{RB(r)}catch(a){i=a}return function(c={},f){if(i)throw i;let p=!1;const h={};for(let x=0;x<n.length;x++){const y=n[x],S=r[y],C=c[y],I=S(C,f);if(typeof I>"u")throw f&&f.type,new Error(Hn(14));h[y]=I,p=p||I!==C}return p=p||n.length!==Object.keys(c).length,p?h:c}}function L0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function MB(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Hn(15))};const c={getState:i.getState,dispatch:(p,...h)=>a(p,...h)},f=e.map(p=>p(c));return a=L0(...f)(i.dispatch),{...i,dispatch:a}}}function QT(e){return db(e)&&"type"in e&&typeof e.type=="string"}var ZT=Symbol.for("immer-nothing"),rC=Symbol.for("immer-draftable"),fi=Symbol.for("immer-state");function Pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hi=Object,Gc=Hi.getPrototypeOf,B0="constructor",$p="prototype",kv="configurable",F0="enumerable",h0="writable",Pd="value",zs=e=>!!e&&!!e[fi];function Da(e){return e?JT(e)||Wp(e)||!!e[rC]||!!e[B0]?.[rC]||Vp(e)||qp(e):!1}var DB=Hi[$p][B0].toString(),nC=new WeakMap;function JT(e){if(!e||!fb(e))return!1;const t=Gc(e);if(t===null||t===Hi[$p])return!0;const r=Hi.hasOwnProperty.call(t,B0)&&t[B0];if(r===Object)return!0;if(!Tc(r))return!1;let n=nC.get(r);return n===void 0&&(n=Function.toString.call(r),nC.set(r,n)),n===DB}function Hp(e,t,r=!0){tf(e)===0?(r?Reflect.ownKeys(e):Hi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function tf(e){const t=e[fi];return t?t.type_:Wp(e)?1:Vp(e)?2:qp(e)?3:0}var iC=(e,t,r=tf(e))=>r===2?e.has(t):Hi[$p].hasOwnProperty.call(e,t),Rv=(e,t,r=tf(e))=>r===2?e.get(t):e[t],z0=(e,t,r,n=tf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function LB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Wp=Array.isArray,Vp=e=>e instanceof Map,qp=e=>e instanceof Set,fb=e=>typeof e=="object",Tc=e=>typeof e=="function",yx=e=>typeof e=="boolean";function BB(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Is=e=>e.copy_||e.base_,hb=e=>e.modified_?e.copy_:e.base_;function Mv(e,t){if(Vp(e))return new Map(e);if(qp(e))return new Set(e);if(Wp(e))return Array[$p].slice.call(e);const r=JT(e);if(t===!0||t==="class_only"&&!r){const n=Hi.getOwnPropertyDescriptors(e);delete n[fi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f[h0]===!1&&(f[h0]=!0,f[kv]=!0),(f.get||f.set)&&(n[c]={[kv]:!0,[h0]:!0,[F0]:f[F0],[Pd]:e[c]})}return Hi.create(Gc(e),n)}else{const n=Gc(e);if(n!==null&&r)return{...e};const i=Hi.create(n);return Hi.assign(i,e)}}function pb(e,t=!1){return Gp(e)||zs(e)||!Da(e)||(tf(e)>1&&Hi.defineProperties(e,{set:Wh,add:Wh,clear:Wh,delete:Wh}),Hi.freeze(e),t&&Hp(e,(r,n)=>{pb(n,!0)},!1)),e}function FB(){Pa(2)}var Wh={[Pd]:FB};function Gp(e){return e===null||!fb(e)?!0:Hi.isFrozen(e)}var U0="MapSet",Dv="Patches",aC="ArrayMethods",e4={};function Dl(e){const t=e4[e];return t||Pa(0,e),t}var sC=e=>!!e4[e],kd,t4=()=>kd,zB=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sC(U0)?Dl(U0):void 0,arrayMethodsPlugin_:sC(aC)?Dl(aC):void 0});function oC(e,t){t&&(e.patchPlugin_=Dl(Dv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lv(e){Bv(e),e.drafts_.forEach(UB),e.drafts_=null}function Bv(e){e===kd&&(kd=e.parent_)}var lC=e=>kd=zB(kd,e);function UB(e){const t=e[fi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[fi].modified_&&(Lv(t),Pa(4)),Da(e)&&(e=uC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[fi].base_,e,t)}else e=uC(t,r);return $B(t,e,!0),Lv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ZT?e:void 0}function uC(e,t){if(Gp(t))return t;const r=t[fi];if(!r)return $0(t,e.handledSet_,e);if(!Kp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);i4(r,e)}return r.copy_}function $B(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pb(t,r)}function r4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Kp=(e,t)=>e.scope_===t,HB=[];function n4(e,t,r,n){const i=Is(e),a=e.type_;if(n!==void 0&&Rv(i,n,a)===t){z0(i,n,r,a);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;Hp(i,(p,h)=>{if(zs(h)){const x=f.get(h)||[];x.push(p),f.set(h,x)}})}const c=e.draftLocations_.get(t)??HB;for(const f of c)z0(i,f,r,a)}function WB(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!Kp(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const c=hb(a);n4(e,a.draft_??a,c,r),i4(a,i)})}function i4(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}r4(e)}}function VB(e,t,r){const{scope_:n}=e;if(zs(r)){const i=r[fi];Kp(i,n)&&i.callbacks_.push(function(){p0(e);const c=hb(i);n4(e,r,c,t)})}else Da(r)&&e.callbacks_.push(function(){const a=Is(e);e.type_===3?a.has(r)&&$0(r,n.handledSet_,n):Rv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$0(Rv(e.copy_,t,e.type_),n.handledSet_,n)})}function $0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||zs(e)||t.has(e)||!Da(e)||Gp(e)||(t.add(e),Hp(e,(n,i)=>{if(zs(i)){const a=i[fi];if(Kp(a,r)){const c=hb(a);z0(e,n,c,e.type_),r4(a)}}else Da(i)&&$0(i,t,r)})),e}function qB(e,t){const r=Wp(e),n={type_:r?1:0,scope_:t?t.scope_:t4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=H0;r&&(i=[n],a=Rd);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,[f,n]}var H0={get(e,t){if(t===fi)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Is(e);if(!iC(i,t,e.type_))return GB(e,i,t);const a=i[t];if(e.finalized_||!Da(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&BB(t))return a;if(a===bx(e.base_,t)){p0(e);const c=e.type_===1?+t:t,f=zv(e.scope_,a,e,c);return e.copy_[c]=f}return a},has(e,t){return t in Is(e)},ownKeys(e){return Reflect.ownKeys(Is(e))},set(e,t,r){const n=a4(Is(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=bx(Is(e),t),a=i?.[fi];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(LB(r,i)&&(r!==void 0||iC(e.base_,t,e.type_)))return!0;p0(e),Fv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),VB(e,t,r)),!0},deleteProperty(e,t){return p0(e),bx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Fv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Is(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[h0]:!0,[kv]:e.type_!==1||t!=="length",[F0]:n[F0],[Pd]:r[t]}},defineProperty(){Pa(11)},getPrototypeOf(e){return Gc(e.base_)},setPrototypeOf(){Pa(12)}},Rd={};for(let e in H0){let t=H0[e];Rd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Rd.deleteProperty=function(e,t){return Rd.set.call(this,e,t,void 0)};Rd.set=function(e,t,r){return H0.set.call(this,e[0],t,r,e[0])};function bx(e,t){const r=e[fi];return(r?Is(r):e)[t]}function GB(e,t,r){const n=a4(t,r);return n?Pd in n?n[Pd]:n.get?.call(e.draft_):void 0}function a4(e,t){if(!(t in e))return;let r=Gc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Gc(r)}}function Fv(e){e.modified_||(e.modified_=!0,e.parent_&&Fv(e.parent_))}function p0(e){e.copy_||(e.assigned_=new Map,e.copy_=Mv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Tc(r)&&!Tc(n)){const c=n;n=r;const f=this;return function(h=c,...x){return f.produce(h,y=>n.call(this,y,...x))}}Tc(n)||Pa(6),i!==void 0&&!Tc(i)&&Pa(7);let a;if(Da(r)){const c=lC(this),f=zv(c,r,void 0);let p=!0;try{a=n(f),p=!1}finally{p?Lv(c):Bv(c)}return oC(c,i),cC(a,c)}else if(!r||!fb(r)){if(a=n(r),a===void 0&&(a=r),a===ZT&&(a=void 0),this.autoFreeze_&&pb(a,!0),i){const c=[],f=[];Dl(Dv).generateReplacementPatches_(r,a,{patches_:c,inversePatches_:f}),i(c,f)}return a}else Pa(1,r)},this.produceWithPatches=(r,n)=>{if(Tc(r))return(f,...p)=>this.produceWithPatches(f,h=>r(h,...p));let i,a;return[this.produce(r,n,(f,p)=>{i=f,a=p}),i,a]},yx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),yx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),yx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Da(t)||Pa(8),zs(t)&&(t=Ma(t));const r=lC(this),n=zv(r,t,void 0);return n[fi].isManual_=!0,Bv(r),n}finishDraft(t,r){const n=t&&t[fi];(!n||!n.isManual_)&&Pa(9);const{scope_:i}=n;return oC(i,r),cC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Dl(Dv).applyPatches_;return zs(t)?i(t,r):this.produce(t,a=>i(a,r))}};function zv(e,t,r,n){const[i,a]=Vp(t)?Dl(U0).proxyMap_(t,r):qp(t)?Dl(U0).proxySet_(t,r):qB(t,r);return(r?.scope_??t4()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?WB(r,a,n):a.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=p;a.modified_&&h&&h.generatePatches_(a,[],p)}),i}function Ma(e){return zs(e)||Pa(10,e),s4(e)}function s4(e){if(!Da(e)||Gp(e))return e;const t=e[fi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mv(e,!0);return Hp(r,(i,a)=>{z0(r,i,s4(a))},n),t&&(t.finalized_=!1),r}var YB=new KB,o4=YB.produce;function l4(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var XB=l4(),QB=l4,ZB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?L0:L0.apply(null,arguments)};function da(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Wi(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>QT(n)&&n.type===e,r}var c4=class gd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gd.prototype)}static get[Symbol.species](){return gd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gd(...t[0].concat(this)):new gd(...t.concat(this))}};function dC(e){return Da(e)?o4(e,()=>{}):e}function Vh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function JB(e){return typeof e=="boolean"}var eF=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let c=new c4;return r&&(JB(r)?c.push(XB):c.push(QB(r.extraArgument))),c},u4="RTK_autoBatch",jr=()=>e=>({payload:e,meta:{[u4]:!0}}),fC=e=>t=>{setTimeout(t,e)},d4=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,c=!1;const f=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fC(10):e.type==="callback"?e.queueNotification:fC(e.timeout),h=()=>{c=!1,a&&(a=!1,f.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const y=()=>i&&x(),S=n.subscribe(y);return f.add(x),()=>{S(),f.delete(x)}},dispatch(x){try{return i=!x?.meta?.[u4],a=!i,a&&(c||(c=!0,p(h))),n.dispatch(x)}finally{i=!0}}})},tF=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new c4(e);return n&&i.push(d4(typeof n=="object"?n:void 0)),i};function rF(e){const t=eF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(db(r))f=XT(r);else throw new Error(Wi(1));let p;typeof n=="function"?p=n(t):p=t();let h=L0;i&&(h=ZB({trace:!1,...typeof i=="object"&&i}));const x=MB(...p),y=tF(x);let S=typeof c=="function"?c(y):y();const C=h(...S);return YT(f,a,C)}function f4(e){const t={},r=[];let n;const i={addCase(a,c){const f=typeof a=="string"?a:a.type;if(!f)throw new Error(Wi(28));if(f in t)throw new Error(Wi(29));return t[f]=c,i},addAsyncThunk(a,c){return c.pending&&(t[a.pending.type]=c.pending),c.rejected&&(t[a.rejected.type]=c.rejected),c.fulfilled&&(t[a.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:a.settled,reducer:c.settled}),i},addMatcher(a,c){return r.push({matcher:a,reducer:c}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function nF(e){return typeof e=="function"}function iF(e,t){let[r,n,i]=f4(t),a;if(nF(e))a=()=>dC(e());else{const f=dC(e);a=()=>f}function c(f=a(),p){let h=[r[p.type],...n.filter(({matcher:x})=>x(p)).map(({reducer:x})=>x)];return h.filter(x=>!!x).length===0&&(h=[i]),h.reduce((x,y)=>{if(y)if(zs(x)){const C=y(x,p);return C===void 0?x:C}else{if(Da(x))return o4(x,S=>y(S,p));{const S=y(x,p);if(S===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return x},f)}return c.getInitialState=a,c}var aF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sF=(e=21)=>{let t="",r=e;for(;r--;)t+=aF[Math.random()*64|0];return t},oF=Symbol.for("rtk-slice-createasyncthunk");function lF(e,t){return`${e}/${t}`}function cF({creators:e}={}){const t=e?.asyncThunk?.[oF];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Wi(11));const c=(typeof n.reducers=="function"?n.reducers(dF()):n.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,B){const U=typeof R=="string"?R:R.type;if(!U)throw new Error(Wi(12));if(U in p.sliceCaseReducersByType)throw new Error(Wi(13));return p.sliceCaseReducersByType[U]=B,h},addMatcher(R,B){return p.sliceMatchers.push({matcher:R,reducer:B}),h},exposeAction(R,B){return p.actionCreators[R]=B,h},exposeCaseReducer(R,B){return p.sliceCaseReducersByName[R]=B,h}};f.forEach(R=>{const B=c[R],U={reducerName:R,type:lF(i,R),createNotation:typeof n.reducers=="function"};hF(B)?mF(U,B,h,t):fF(U,B,h)});function x(){const[R={},B=[],U=void 0]=typeof n.extraReducers=="function"?f4(n.extraReducers):[n.extraReducers],$={...R,...p.sliceCaseReducersByType};return iF(n.initialState,V=>{for(let Z in $)V.addCase(Z,$[Z]);for(let Z of p.sliceMatchers)V.addMatcher(Z.matcher,Z.reducer);for(let Z of B)V.addMatcher(Z.matcher,Z.reducer);U&&V.addDefaultCase(U)})}const y=R=>R,S=new Map,C=new WeakMap;let I;function O(R,B){return I||(I=x()),I(R,B)}function T(){return I||(I=x()),I.getInitialState()}function M(R,B=!1){function U(V){let Z=V[R];return typeof Z>"u"&&B&&(Z=Vh(C,U,T)),Z}function $(V=y){const Z=Vh(S,B,()=>new WeakMap);return Vh(Z,V,()=>{const K={};for(const[ge,se]of Object.entries(n.selectors??{}))K[ge]=uF(se,V,()=>Vh(C,V,T),B);return K})}return{reducerPath:R,getSelectors:$,get selectors(){return $(U)},selectSlice:U}}const D={name:i,reducer:O,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:T,...M(a),injectInto(R,{reducerPath:B,...U}={}){const $=B??a;return R.inject({reducerPath:$,reducer:O},U),{...D,...M($,!0)}}};return D}}function uF(e,t,r,n){function i(a,...c){let f=t(a);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var _i=cF();function dF(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fF({type:e,reducerName:t,createNotation:r},n,i){let a,c;if("reducer"in n){if(r&&!pF(n))throw new Error(Wi(17));a=n.reducer,c=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?da(e,c):da(e))}function hF(e){return e._reducerDefinitionType==="asyncThunk"}function pF(e){return e._reducerDefinitionType==="reducerWithPrepare"}function mF({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Wi(18));const{payloadCreator:a,fulfilled:c,pending:f,rejected:p,settled:h,options:x}=r,y=i(e,a,x);n.exposeAction(t,y),c&&n.addCase(y.fulfilled,c),f&&n.addCase(y.pending,f),p&&n.addCase(y.rejected,p),h&&n.addMatcher(y.settled,h),n.exposeCaseReducer(t,{fulfilled:c||qh,pending:f||qh,rejected:p||qh,settled:h||qh})}function qh(){}var gF="task",h4="listener",p4="completed",mb="cancelled",xF=`task-${mb}`,vF=`task-${p4}`,Uv=`${h4}-${mb}`,yF=`${h4}-${p4}`,Yp=class{constructor(e){this.code=e,this.message=`${gF} ${mb} (reason: ${e})`}name="TaskAbortError";message},gb=(e,t)=>{if(typeof e!="function")throw new TypeError(Wi(32))},W0=()=>{},m4=(e,t=W0)=>(e.catch(t),e),g4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_l=e=>{if(e.aborted)throw new Yp(e.reason)};function x4(e,t){let r=W0;return new Promise((n,i)=>{const a=()=>i(new Yp(e.reason));if(e.aborted){a();return}r=g4(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=W0})}var bF=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yp?"cancelled":"rejected",error:r}}finally{t?.()}},V0=e=>t=>m4(x4(e,t).then(r=>(_l(e),r))),v4=e=>{const t=V0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Uc}=Object,hC={},Xp="listenerMiddleware",wF=(e,t)=>{const r=n=>g4(e,()=>n.abort(e.reason));return(n,i)=>{gb(n);const a=new AbortController;r(a);const c=bF(async()=>{_l(e),_l(a.signal);const f=await n({pause:V0(a.signal),delay:v4(a.signal),signal:a.signal});return _l(a.signal),f},()=>a.abort(vF));return i?.autoJoin&&t.push(c.catch(W0)),{result:V0(e)(c),cancel(){a.abort(xF)}}}},EF=(e,t)=>{const r=async(n,i)=>{_l(t);let a=()=>{};const f=[new Promise((p,h)=>{let x=e({predicate:n,effect:(y,S)=>{S.unsubscribe(),p([y,S.getState(),S.getOriginalState()])}});a=()=>{x(),h()}})];i!=null&&f.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await x4(t,Promise.race(f));return _l(t),p}finally{a()}};return(n,i)=>m4(r(n,i))},y4=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=da(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Wi(21));return gb(a),{predicate:i,type:t,effect:a}},b4=Uc(e=>{const{type:t,predicate:r,effect:n}=y4(e);return{id:sF(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wi(22))}}},{withTypes:()=>b4}),pC=(e,t)=>{const{type:r,effect:n,predicate:i}=y4(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},$v=e=>{e.pending.forEach(t=>{t.abort(Uv)})},SF=(e,t)=>()=>{for(const r of t.keys())$v(r);e.clear()},mC=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},w4=Uc(da(`${Xp}/add`),{withTypes:()=>w4}),AF=da(`${Xp}/removeAll`),E4=Uc(da(`${Xp}/remove`),{withTypes:()=>E4}),CF=(...e)=>{console.error(`${Xp}/error`,...e)},rf=(e={})=>{const t=new Map,r=new Map,n=C=>{const I=r.get(C)??0;r.set(C,I+1)},i=C=>{const I=r.get(C)??1;I===1?r.delete(C):r.set(C,I-1)},{extra:a,onError:c=CF}=e;gb(c);const f=C=>(C.unsubscribe=()=>t.delete(C.id),t.set(C.id,C),I=>{C.unsubscribe(),I?.cancelActive&&$v(C)}),p=C=>{const I=pC(t,C)??b4(C);return f(I)};Uc(p,{withTypes:()=>p});const h=C=>{const I=pC(t,C);return I&&(I.unsubscribe(),C.cancelActive&&$v(I)),!!I};Uc(h,{withTypes:()=>h});const x=async(C,I,O,T)=>{const M=new AbortController,D=EF(p,M.signal),R=[];try{C.pending.add(M),n(C),await Promise.resolve(C.effect(I,Uc({},O,{getOriginalState:T,condition:(B,U)=>D(B,U).then(Boolean),take:D,delay:v4(M.signal),pause:V0(M.signal),extra:a,signal:M.signal,fork:wF(M.signal,R),unsubscribe:C.unsubscribe,subscribe:()=>{t.set(C.id,C)},cancelActiveListeners:()=>{C.pending.forEach((B,U,$)=>{B!==M&&(B.abort(Uv),$.delete(B))})},cancel:()=>{M.abort(Uv),C.pending.delete(M)},throwIfCancelled:()=>{_l(M.signal)}})))}catch(B){B instanceof Yp||mC(c,B,{raisedBy:"effect"})}finally{await Promise.all(R),M.abort(yF),i(C),C.pending.delete(M)}},y=SF(t,r);return{middleware:C=>I=>O=>{if(!QT(O))return I(O);if(w4.match(O))return p(O.payload);if(AF.match(O)){y();return}if(E4.match(O))return h(O.payload);let T=C.getState();const M=()=>{if(T===hC)throw new Error(Wi(23));return T};let D;try{if(D=I(O),t.size>0){const R=C.getState(),B=Array.from(t.values());for(const U of B){let $=!1;try{$=U.predicate(O,R,T)}catch(V){$=!1,mC(c,V,{raisedBy:"predicate"})}$&&x(U,O,C,M)}}}finally{T=hC}return D},startListening:p,stopListening:h,clearListeners:y}};function Wi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _F={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S4=_i({name:"chartLayout",initialState:_F,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:NF,setLayout:IF,setChartSize:OF,setScale:TF}=S4.actions,jF=S4.reducer;function A4(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Yt(e){return Number.isFinite(e)}function es(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=RF(e,"string");return typeof t=="symbol"?t:t+""}function RF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return Zt(e)||Zt(t)?r:ua(t)?Ml(e,t,r):typeof t=="function"?t(e):r}var MF=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&a!=="center"&&qe(e[a]))return kc(kc({},e),{},{[a]:e[a]+(n||0)});if((f==="horizontal"||f==="vertical"&&a==="center")&&c!=="middle"&&qe(e[c]))return kc(kc({},e),{},{[c]:e[c]+(i||0)})}return e},ns=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",C4=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,a,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(a=!0),f.coordinate));return i||c.push(t),a||c.push(r),c},_4=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:c,realScaleType:f,isCategorical:p,categoricalDomain:h,tickCount:x,ticks:y,niceTicks:S,axisType:C}=e;if(!c)return null;var I=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,O=i==="category"&&c.bandwidth?c.bandwidth()/I:0;if(O=C==="angleAxis"&&a&&a.length>=2?Pn(a[0]-a[1])*2*O:O,y||S){var T=(y||S||[]).map((M,D)=>{var R=n?n.indexOf(M):M;return{coordinate:c(R)+O,value:M,offset:O,index:D}});return T.filter(M=>!Ci(M.coordinate))}return p&&h?h.map((M,D)=>({coordinate:c(M)+O,value:M,index:D,offset:O})):c.ticks&&x!=null?c.ticks(x).map((M,D)=>({coordinate:c(M)+O,value:M,offset:O,index:D})):c.domain().map((M,D)=>({coordinate:c(M)+O,value:n?n[M]:M,index:D,offset:O}))},xC=1e-4,DF=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-xC,a=Math.max(n[0],n[1])+xC,c=e(t[0]),f=e(t[r-1]);(c<i||c>a||f<i||f>a)&&e.domain([t[0],t[r-1]])}},LF=(e,t)=>{if(!t||t.length!==2||!qe(t[0])||!qe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!qe(e[0])||e[0]<r)&&(i[0]=r),(!qe(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},BF=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0,f=0;f<r;++f){var p=e[f],h=p?.[i];if(h!=null){var x=h[1],y=h[0],S=Ci(x)?y:x;S>=0?(h[0]=a,h[1]=a+S,a=x):(h[0]=c,h[1]=c+S,c=x)}}}},FF=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,c=0;c<r;++c){var f=e[c],p=f?.[i];if(p!=null){var h=Ci(p[1])?p[0]:p[1];h>=0?(p[0]=a,p[1]=a+h,a=p[1]):(p[0]=0,p[1]=0)}}}},zF={sign:BF,expand:n7,none:Rl,silhouette:i7,wiggle:a7,positive:FF},UF=(e,t,r)=>{var n,i=(n=zF[r])!==null&&n!==void 0?n:Rl,a=r7().keys(t).value((f,p)=>Number($t(f,p,0))).order(jv).offset(i),c=a(e);return c.forEach((f,p)=>{f.forEach((h,x)=>{var y=$t(e[x],t[p],0);Array.isArray(y)&&y.length===2&&qe(y[0])&&qe(y[1])&&(h[0]=y[0],h[1]=y[1])})}),c};function N4(e){return e==null?void 0:String(e)}function Kc(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zt(i[t.dataKey])){var f=jT(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var p=$t(i,Zt(c)?t.dataKey:c);return Zt(p)?null:t.scale(p)}var vC=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=$t(a,t.dataKey,t.scale.domain()[c]);return Zt(f)?null:t.scale(f)-i/2+n},$F=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},HF=e=>{var t=e.flat(2).filter(qe);return[Math.min(...t),Math.max(...t)]},WF=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VF=(e,t,r)=>{if(e!=null)return WF(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:c}=a,f=c.reduce((p,h)=>{var x=A4(h,t,r),y=HF(x);return!Yt(y[0])||!Yt(y[1])?p:[Math.min(p[0],y[0]),Math.max(p[1],y[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},yC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Up(t,x=>x.coordinate),a=1/0,c=1,f=i.length;c<f;c++){var p=i[c],h=i[c-1];a=Math.min((p?.coordinate||0)-(h?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function wC(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return kc(kc({},t),{},{dataKey:r,payload:n,value:i,name:a})}function is(e,t){if(e)return String(e);if(typeof t=="string")return t}var qF=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},GF=(e,t)=>t==="centric"?e.angle:e.radius,Ks=e=>e.layout.width,Ys=e=>e.layout.height,KF=e=>e.layout.scale,I4=e=>e.layout.margin,Qp=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Zp=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xb="data-recharts-item-index",vb="data-recharts-item-id",nf=60;function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZF=e=>e.brush.height;function JF(e){var t=Zp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:nf;return r+i}return r},0)}function ez(e){var t=Zp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:nf;return r+i}return r},0)}function tz(e){var t=Qp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function rz(e){var t=Qp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var bn=fe([Ks,Ys,I4,ZF,JF,ez,tz,rz,GT,IB],(e,t,r,n,i,a,c,f,p,h)=>{var x={left:(r.left||0)+i,right:(r.right||0)+a},y={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=Gh(Gh({},y),x),C=S.bottom;S.bottom+=n,S=MF(S,p,h);var I=e-S.left-S.right,O=t-S.top-S.bottom;return Gh(Gh({brushBottom:C},S),{},{width:Math.max(I,0),height:Math.max(O,0)})}),nz=fe(bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yb=fe(Ks,Ys,(e,t)=>({x:0,y:0,width:e,height:t})),iz=_.createContext(null),en=()=>_.useContext(iz)!=null,Jp=e=>e.brush,em=fe([Jp,bn,I4],(e,t,r)=>({height:e.height,x:qe(e.x)?e.x:t.left,y:qe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:qe(e.width)?e.width:t.width})),wx={},Ex={},Sx={},SC;function az(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let c,f=null;const p=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),x=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},y=()=>{h&&x(),O()};let S=null;const C=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,y()},n)},I=()=>{S!==null&&(clearTimeout(S),S=null)},O=()=>{I(),c=void 0,f=null},T=()=>{x()},M=function(...D){if(i?.aborted)return;c=this,f=D;const R=S==null;C(),p&&R&&x()};return M.schedule=C,M.cancel=O,M.flush=T,i?.addEventListener("abort",O,{once:!0}),M}e.debounce=t})(Sx)),Sx}var AC;function sz(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=az();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:c=!1,trailing:f=!0,maxWait:p}=a,h=Array(2);c&&(h[0]="leading"),f&&(h[1]="trailing");let x,y=null;const S=t.debounce(function(...O){x=n.apply(this,O),y=null},i,{edges:h}),C=function(...O){return p!=null&&(y===null&&(y=Date.now()),Date.now()-y>=p)?(x=n.apply(this,O),y=Date.now(),S.cancel(),S.schedule(),x):(S.apply(this,O),x)},I=()=>(S.flush(),x);return C.cancel=S.cancel,C.flush=I,C}e.debounce=r})(Ex)),Ex}var CC;function oz(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sz();function r(n,i=0,a={}){const{leading:c=!0,trailing:f=!0}=a;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(wx)),wx}var Ax,_C;function lz(){return _C||(_C=1,Ax=oz().throttle),Ax}var cz=lz();const uz=ma(cz);var q0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},O4=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:c}=r,f=Fs(n)?e:Number(n),p=Fs(i)?t:Number(i);return a&&a>0&&(f?p=f/a:p&&(f=p*a),c&&p!=null&&p>c&&(p=c)),{calculatedWidth:f,calculatedHeight:p}},dz={width:0,height:0,overflow:"visible"},fz={width:0,overflowX:"visible"},hz={height:0,overflowY:"visible"},pz={},mz=e=>{var{width:t,height:r}=e,n=Fs(t),i=Fs(r);return n&&i?dz:n?fz:i?hz:pz};function gz(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xz(e,t,r){return(t=vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vz(e){var t=yz(e,"string");return typeof t=="symbol"?t:t+""}function yz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T4=_.createContext({width:-1,height:-1});function bz(e){return es(e.width)&&es(e.height)}function j4(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return bz(i)?_.createElement(T4.Provider,{value:i},t):null}var bb=()=>_.useContext(T4),wz=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:c=0,minHeight:f,maxHeight:p,children:h,debounce:x=0,id:y,className:S,onResize:C,style:I={}}=e,O=_.useRef(null),T=_.useRef();T.current=C,_.useImperativeHandle(t,()=>O.current);var[M,D]=_.useState({containerWidth:n.width,containerHeight:n.height}),R=_.useCallback((Z,K)=>{D(ge=>{var se=Math.round(Z),ae=Math.round(K);return ge.containerWidth===se&&ge.containerHeight===ae?ge:{containerWidth:se,containerHeight:ae}})},[]);_.useEffect(()=>{if(O.current==null||typeof ResizeObserver>"u")return ef;var Z=ae=>{var Se,{width:_e,height:re}=ae[0].contentRect;R(_e,re),(Se=T.current)===null||Se===void 0||Se.call(T,_e,re)};x>0&&(Z=uz(Z,x,{trailing:!0,leading:!1}));var K=new ResizeObserver(Z),{width:ge,height:se}=O.current.getBoundingClientRect();return R(ge,se),K.observe(O.current),()=>{K.disconnect()}},[R,x]);var{containerWidth:B,containerHeight:U}=M;q0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:$,calculatedHeight:V}=O4(B,U,{width:i,height:a,aspect:r,maxHeight:p});return q0($!=null&&$>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,V,i,a,c,f,r),_.createElement("div",{id:y?"".concat(y):void 0,className:zt("recharts-responsive-container",S),style:IC(IC({},I),{},{width:i,height:a,minWidth:c,minHeight:f,maxHeight:p}),ref:O},_.createElement("div",{style:mz({width:i,height:a})},_.createElement(j4,{width:$,height:V},h)))}),xd=_.forwardRef((e,t)=>{var r=bb();if(es(r.width)&&es(r.height))return e.children;var{width:n,height:i}=gz({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:c}=O4(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return qe(a)&&qe(c)?_.createElement(j4,{width:a,height:c},e.children):_.createElement(wz,Hv({},e,{width:n,height:i,ref:t}))});function P4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ou=()=>{var e,t=en(),r=Ge(nz),n=Ge(em),i=(e=Ge(Jp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Ez={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},k4=()=>{var e;return(e=Ge(bn))!==null&&e!==void 0?e:Ez},wb=()=>Ge(Ks),Eb=()=>Ge(Ys),Sz=()=>Ge(e=>e.layout.margin),Mt=e=>e.layout.layoutType,Bo=()=>Ge(Mt),Az=()=>{var e=Bo();if(e==="horizontal"||e==="vertical")return e},Cz=()=>{var e=Bo();return e!==void 0},tm=e=>{var t=dr(),r=en(),{width:n,height:i}=e,a=bb(),c=n,f=i;return a&&(c=a.width>0?a.width:n,f=a.height>0?a.height:i),_.useEffect(()=>{!r&&es(c)&&es(f)&&t(OF({width:c,height:f}))},[t,r,c,f]),null},R4=Symbol.for("immer-nothing"),OC=Symbol.for("immer-draftable"),qi=Symbol.for("immer-state");function ka(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Md=Object.getPrototypeOf;function Yc(e){return!!e&&!!e[qi]}function Ll(e){return e?M4(e)||Array.isArray(e)||!!e[OC]||!!e.constructor?.[OC]||af(e)||nm(e):!1}var _z=Object.prototype.constructor.toString(),TC=new WeakMap;function M4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=TC.get(r);return n===void 0&&(n=Function.toString.call(r),TC.set(r,n)),n===_z}function G0(e,t,r=!0){rm(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rm(e){const t=e[qi];return t?t.type_:Array.isArray(e)?1:af(e)?2:nm(e)?3:0}function Wv(e,t){return rm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function D4(e,t,r){const n=rm(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Nz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function af(e){return e instanceof Map}function nm(e){return e instanceof Set}function xl(e){return e.copy_||e.base_}function Vv(e,t){if(af(e))return new Map(e);if(nm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=M4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[qi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const c=i[a],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(Md(e),n)}else{const n=Md(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Sb(e,t=!1){return im(e)||Yc(e)||!Ll(e)||(rm(e)>1&&Object.defineProperties(e,{set:Kh,add:Kh,clear:Kh,delete:Kh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Sb(r,!0))),e}function Iz(){ka(2)}var Kh={value:Iz};function im(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Oz={};function Bl(e){const t=Oz[e];return t||ka(0,e),t}var Dd;function L4(){return Dd}function Tz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jC(e,t){t&&(Bl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qv(e){Gv(e),e.drafts_.forEach(jz),e.drafts_=null}function Gv(e){e===Dd&&(Dd=e.parent_)}function PC(e){return Dd=Tz(Dd,e)}function jz(e){const t=e[qi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[qi].modified_&&(qv(t),ka(4)),Ll(e)&&(e=K0(t,e),t.parent_||Y0(t,e)),t.patches_&&Bl("Patches").generateReplacementPatches_(r[qi].base_,e,t.patches_,t.inversePatches_)):e=K0(t,r,[]),qv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==R4?e:void 0}function K0(e,t,r){if(im(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[qi];if(!i)return G0(t,(a,c)=>RC(e,i,t,a,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Y0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let c=a,f=!1;i.type_===3&&(c=new Set(a),a.clear(),f=!0),G0(c,(p,h)=>RC(e,i,a,p,h,r,f),n),Y0(e,a,!1),r&&e.patches_&&Bl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function RC(e,t,r,n,i,a,c){if(i==null||typeof i!="object"&&!c)return;const f=im(i);if(!(f&&!c)){if(Yc(i)){const p=a&&t&&t.type_!==3&&!Wv(t.assigned_,n)?a.concat(n):void 0,h=K0(e,i,p);if(D4(r,n,h),Yc(h))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(Ll(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;K0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(af(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Y0(e,i)}}}function Y0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sb(t,r)}function Pz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:L4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Ab;r&&(i=[n],a=Ld);const{revoke:c,proxy:f}=Proxy.revocable(i,a);return n.draft_=f,n.revoke_=c,f}var Ab={get(e,t){if(t===qi)return e;const r=xl(e);if(!Wv(r,t))return kz(e,r,t);const n=r[t];return e.finalized_||!Ll(n)?n:n===Cx(e.base_,t)?(_x(e),e.copy_[t]=Yv(n,e)):n},has(e,t){return t in xl(e)},ownKeys(e){return Reflect.ownKeys(xl(e))},set(e,t,r){const n=B4(xl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Cx(xl(e),t),a=i?.[qi];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Nz(r,i)&&(r!==void 0||Wv(e.base_,t)))return!0;_x(e),Kv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_x(e),Kv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ka(11)},getPrototypeOf(e){return Md(e.base_)},setPrototypeOf(){ka(12)}},Ld={};G0(Ab,(e,t)=>{Ld[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ld.deleteProperty=function(e,t){return Ld.set.call(this,e,t,void 0)};Ld.set=function(e,t,r){return Ab.set.call(this,e[0],t,r,e[0])};function Cx(e,t){const r=e[qi];return(r?xl(r):e)[t]}function kz(e,t,r){const n=B4(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function B4(e,t){if(!(t in e))return;let r=Md(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Md(r)}}function Kv(e){e.modified_||(e.modified_=!0,e.parent_&&Kv(e.parent_))}function _x(e){e.copy_||(e.copy_=Vv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Rz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const c=this;return function(p=a,...h){return c.produce(p,x=>r.call(this,x,...h))}}typeof r!="function"&&ka(6),n!==void 0&&typeof n!="function"&&ka(7);let i;if(Ll(t)){const a=PC(this),c=Yv(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?qv(a):Gv(a)}return jC(a,n),kC(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===R4&&(i=void 0),this.autoFreeze_&&Sb(i,!0),n){const a=[],c=[];Bl("Patches").generateReplacementPatches_(t,i,a,c),n(a,c)}return i}else ka(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,p=>t(p,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ll(e)||ka(8),Yc(e)&&(e=Mz(e));const t=PC(this),r=Yv(e,void 0);return r[qi].isManual_=!0,Gv(t),r}finishDraft(e,t){const r=e&&e[qi];(!r||!r.isManual_)&&ka(9);const{scope_:n}=r;return jC(n,t),kC(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Bl("Patches").applyPatches_;return Yc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Yv(e,t){const r=af(e)?Bl("MapSet").proxyMap_(e,t):nm(e)?Bl("MapSet").proxySet_(e,t):Pz(e,t);return(t?t.scope_:L4()).drafts_.push(r),r}function Mz(e){return Yc(e)||ka(10,e),F4(e)}function F4(e){if(!Ll(e)||im(e))return e;const t=e[qi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Vv(e,!0);return G0(r,(i,a)=>{D4(r,i,F4(a))},n),t&&(t.finalized_=!1),r}var Dz=new Rz;Dz.produce;var Lz={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},z4=_i({name:"legend",initialState:Lz,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:jr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ma(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:jr()},removeLegendPayload:{reducer(e,t){var r=Ma(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:jr()}}}),{setLegendSize:MC,setLegendSettings:Bz,addLegendPayload:U4,replaceLegendPayload:$4,removeLegendPayload:H4}=z4.actions,Fz=z4.reducer,zz=["contextPayload"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uz(e,t,r){return(t=$z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $z(e){var t=Hz(e,"string");return typeof t=="symbol"?t:t+""}function Hz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wz(e,t){if(e==null)return{};var r,n,i=Vz(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qz(e){return e.value}function Gz(e){var{contextPayload:t}=e,r=Wz(e,zz),n=HT(t,e.payloadUniqBy,qz),i=Xc(Xc({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):typeof e.content=="function"?_.createElement(e.content,i):_.createElement(L7,i)}function Kz(e,t,r,n,i,a){var{layout:c,align:f,verticalAlign:p}=t,h,x;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?h={left:((n||0)-a.width)/2}:h=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?x={top:((i||0)-a.height)/2}:x=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xc(Xc({},h),x)}function Yz(e){var t=dr();return _.useEffect(()=>{t(Bz(e))},[t,e]),null}function Xz(e){var t=dr();return _.useEffect(()=>(t(MC(e)),()=>{t(MC({width:0,height:0}))}),[t,e]),null}function Qz(e,t,r,n){return e==="vertical"&&qe(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var Zz={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function X0(e){var t=Cr(e,Zz),r=jB(),n=_9(),i=Sz(),{width:a,height:c,wrapperStyle:f,portal:p}=t,[h,x]=KT([r]),y=wb(),S=Eb();if(y==null||S==null)return null;var C=y-(i?.left||0)-(i?.right||0),I=Qz(t.layout,c,a,C),O=p?f:Xc(Xc({position:"absolute",width:I?.width||a||"auto",height:I?.height||c||"auto"},Kz(f,t,i,y,S,h)),f),T=p??n;if(T==null||r==null)return null;var M=_.createElement("div",{className:"recharts-legend-wrapper",style:O,ref:x},_.createElement(Yz,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&_.createElement(Xz,{width:h.width,height:h.height}),_.createElement(Gz,Xv({},t,I,{margin:i,chartWidth:y,chartHeight:S,contextPayload:r})));return Dy.createPortal(M,T)}X0.displayName="Legend";function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){Jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jz(e,t,r){return(t=eU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){return Array.isArray(e)&&ua(e[0])&&ua(e[1])?e.join(" ~ "):e}var nU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:c,itemSorter:f,wrapperClassName:p,labelClassName:h,label:x,labelFormatter:y,accessibilityLayer:S=!1}=e,C=()=>{if(a&&a.length){var U={padding:0,margin:0},$=(f?Up(a,f):a).map((V,Z)=>{if(V.type==="none")return null;var K=V.formatter||c||rU,{value:ge,name:se}=V,ae=ge,Se=se;if(K){var _e=K(ge,se,V,Z,a);if(Array.isArray(_e))[ae,Se]=_e;else if(_e!=null)ae=_e;else return null}var re=Nx({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:re},ua(Se)?_.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,ua(Se)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},ae),_.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:U},$)}return null},I=Nx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),O=Nx({margin:0},i),T=!Zt(x),M=T?x:"",D=zt("recharts-default-tooltip",p),R=zt("recharts-tooltip-label",h);T&&y&&a!==void 0&&a!==null&&(M=y(x,a));var B=S?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",Qv({className:D,style:I},B),_.createElement("p",{className:R,style:O},_.isValidElement(M)?M:"".concat(M)),C())},id="recharts-tooltip-wrapper",iU={visibility:"hidden"};function aU(e){var{coordinate:t,translateX:r,translateY:n}=e;return zt(id,{["".concat(id,"-right")]:qe(r)&&t&&qe(t.x)&&r>=t.x,["".concat(id,"-left")]:qe(r)&&t&&qe(t.x)&&r<t.x,["".concat(id,"-bottom")]:qe(n)&&t&&qe(t.y)&&n>=t.y,["".concat(id,"-top")]:qe(n)&&t&&qe(t.y)&&n<t.y})}function BC(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:c,tooltipDimension:f,viewBox:p,viewBoxDimension:h}=e;if(a&&qe(a[n]))return a[n];var x=r[n]-f-(i>0?i:0),y=r[n]+i;if(t[n])return c[n]?x:y;var S=p[n];if(S==null)return 0;if(c[n]){var C=x,I=S;return C<I?Math.max(y,S):Math.max(x,S)}if(h==null)return 0;var O=y+f,T=S+h;return O>T?Math.max(x,S):Math.max(y,S)}function sU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oU(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:c,useTranslate3d:f,viewBox:p}=e,h,x,y;return c.height>0&&c.width>0&&r?(x=BC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.width,viewBox:p,viewBoxDimension:p.width}),y=BC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:c.height,viewBox:p,viewBoxDimension:p.height}),h=sU({translateX:x,translateY:y,useTranslate3d:f})):h=iU,{cssProperties:h,cssClasses:aU({translateX:x,translateY:y,coordinate:r})}}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zv(e,t,r){return(t=lU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lU(e){var t=cU(e,"string");return typeof t=="symbol"?t:t+""}function cU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uU extends _.PureComponent{constructor(){super(...arguments),Zv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Zv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:c,hasPayload:f,isAnimationActive:p,offset:h,position:x,reverseDirection:y,useTranslate3d:S,viewBox:C,wrapperStyle:I,lastBoundingBox:O,innerRef:T,hasPortalFromProps:M}=this.props,{cssClasses:D,cssProperties:R}=oU({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:h,position:x,reverseDirection:y,tooltipBox:{height:O.height,width:O.width},useTranslate3d:S,viewBox:C}),B=M?{}:Yh(Yh({transition:p&&t?"transform ".concat(n,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),U=Yh(Yh({},B),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},I);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:U,ref:T},a)}}var W4=()=>{var e;return(e=Ge(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=fU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=hU(e,"string");return typeof t=="symbol"?t:t+""}function hU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $C={curveBasisClosed:V9,curveBasisOpen:q9,curveBasis:W9,curveBumpX:T9,curveBumpY:j9,curveLinearClosed:G9,curveLinear:Bp,curveMonotoneX:K9,curveMonotoneY:Y9,curveNatural:X9,curveStep:Q9,curveStepAfter:J9,curveStepBefore:Z9},Q0=e=>Yt(e.x)&&Yt(e.y),HC=e=>e.base!=null&&Q0(e.base)&&Q0(e),ad=e=>e.x,sd=e=>e.y,pU=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Jd(e));return(r==="curveMonotone"||r==="curveBump")&&t?$C["".concat(r).concat(t==="vertical"?"Y":"X")]:$C[r]||Bp},mU=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,c=pU(t,i),f=a?r.filter(Q0):r,p;if(Array.isArray(n)){var h=r.map((C,I)=>UC(UC({},C),{},{base:n[I]}));i==="vertical"?p=Uh().y(sd).x1(ad).x0(C=>C.base.x):p=Uh().x(ad).y1(sd).y0(C=>C.base.y);var x=p.defined(HC).curve(c),y=a?h.filter(HC):h;return x(y)}i==="vertical"&&qe(n)?p=Uh().y(sd).x1(ad).x0(n):qe(n)?p=Uh().x(ad).y1(sd).y0(n):p=vT().x(ad).y(sd);var S=p.defined(Q0).curve(c);return S(f)},Nl=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Bo();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},f=r&&r.length?mU(c):n;return _.createElement("path",Jv({},Vn(e),lb(e),{className:zt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},gU=["x","y","top","left","width","height","className"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){vU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=bU(e,"string");return typeof t=="symbol"?t:t+""}function bU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wU(e,t){if(e==null)return{};var r,n,i=EU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SU=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),AU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:c=0,className:f}=e,p=wU(e,gU),h=xU({x:t,y:r,top:n,left:i,width:a,height:c},p);return!qe(t)||!qe(r)||!qe(a)||!qe(c)||!qe(n)||!qe(i)?null:_.createElement("path",ey({},qn(h),{className:zt("recharts-cross",f),d:SU(t,r,a,c,n,i)}))};function CU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){_U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=IU(e,"string");return typeof t=="symbol"?t:t+""}function IU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V4=(e,t,r)=>e.map(n=>"".concat(OU(n)," ").concat(t,"ms ").concat(r)).join(","),TU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Bd=(e,t)=>Object.keys(t).reduce((r,n)=>qC(qC({},r),{},{[n]:e(n,t[n])}),{});function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=PU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z0=(e,t,r)=>e+(t-e)*r,ty=e=>{var{from:t,to:r}=e;return t!==r},q4=(e,t,r)=>{var n=Bd((i,a)=>{if(ty(a)){var[c,f]=e(a.from,a.to,a.velocity);return yn(yn({},a),{},{from:c,velocity:f})}return a},t);return r<1?Bd((i,a)=>ty(a)&&n[i]!=null?yn(yn({},a),{},{velocity:Z0(a.velocity,n[i].velocity,r),from:Z0(a.from,n[i].from,r)}):a,t):q4(e,n,r-1)};function RU(e,t,r,n,i,a){var c,f=n.reduce((S,C)=>yn(yn({},S),{},{[C]:{from:e[C],velocity:0,to:t[C]}}),{}),p=()=>Bd((S,C)=>C.from,f),h=()=>!Object.values(f).filter(ty).length,x=null,y=S=>{c||(c=S);var C=S-c,I=C/r.dt;f=q4(r,f,I),i(yn(yn(yn({},e),t),p())),c=S,h()||(x=a.setTimeout(y))};return()=>(x=a.setTimeout(y),()=>{var S;(S=x)===null||S===void 0||S()})}function MU(e,t,r,n,i,a,c){var f=null,p=i.reduce((y,S)=>{var C=e[S],I=t[S];return C==null||I==null?y:yn(yn({},y),{},{[S]:[C,I]})},{}),h,x=y=>{h||(h=y);var S=(y-h)/n,C=Bd((O,T)=>Z0(...T,r(S)),p);if(a(yn(yn(yn({},e),t),C)),S<1)f=c.setTimeout(x);else{var I=Bd((O,T)=>Z0(...T,r(1)),p);a(yn(yn(yn({},e),t),I))}};return()=>(f=c.setTimeout(x),()=>{var y;(y=f)===null||y===void 0||y()})}const DU=(e,t,r,n,i,a)=>{var c=TU(e,t);return r==null?()=>(i(yn(yn({},e),t)),()=>{}):r.isStepper===!0?RU(e,t,r,c,i,a):MU(e,t,r,n,c,i,a)};var J0=1e-4,G4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],K4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),KC=(e,t)=>r=>{var n=G4(e,t);return K4(n,r)},LU=(e,t)=>r=>{var n=G4(e,t),i=[...n.map((a,c)=>a*c).slice(1),0];return K4(i,r)},BU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},FU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=BU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},zU=(e,t,r,n)=>{var i=KC(e,r),a=KC(t,n),c=LU(e,r),f=h=>h>1?1:h<0?0:h,p=h=>{for(var x=h>1?1:h,y=x,S=0;S<8;++S){var C=i(y)-x,I=c(y);if(Math.abs(C-x)<J0||I<J0)return a(y);y=f(y-C/I)}return a(y)};return p.isStepper=!1,p},YC=function(){return zU(...FU(...arguments))},UU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(c,f,p)=>{var h=-(c-f)*r,x=p*n,y=p+(h-x)*i/1e3,S=p*i/1e3+c;return Math.abs(S-f)<J0&&Math.abs(y)<J0?[f,0]:[S,y]};return a.isStepper=!0,a.dt=i,a},$U=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YC(e);case"spring":return UU();default:if(e.split("(")[0]==="cubic-bezier")return YC(e)}return typeof e=="function"?e:null};function HU(e){var t,r=()=>null,n=!1,i=null,a=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[p,...h]=f;if(typeof p=="number"){i=e.setTimeout(a.bind(null,h),p);return}a(p),i=e.setTimeout(a.bind(null,h));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),a(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class WU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function VU(){return HU(new WU)}var qU=_.createContext(VU);function GU(e,t){var r=_.useContext(qU);return _.useMemo(()=>t??r(e),[e,t,r])}var KU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sf={isSsr:KU()},YU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XC={t:0},Ix={t:1};function Vl(e){var t=Cr(e,YU),{isActive:r,canBegin:n,duration:i,easing:a,begin:c,onAnimationEnd:f,onAnimationStart:p,children:h}=t,x=r==="auto"?!sf.isSsr:r,y=GU(t.animationId,t.animationManager),[S,C]=_.useState(x?XC:Ix),I=_.useRef(null);return _.useEffect(()=>{x||C(Ix)},[x]),_.useEffect(()=>{if(!x||!n)return ef;var O=DU(XC,Ix,$U(a),i,C,y.getTimeoutController()),T=()=>{I.current=O()};return y.start([p,c,T,i,f]),()=>{y.stop(),I.current&&I.current(),f()}},[x,n,i,a,c,p,f,y]),h(S.t)}function ql(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=_.useRef(jd(t)),n=_.useRef(e);return n.current!==e&&(r.current=jd(t),n.current=e),r.current}var XU=["radius"],QU=["radius"],QC,ZC,JC,e_,t_,r_,n_,i_,a_,s_;function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){ZU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZU(e,t,r){return(t=JU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=e$(e,"string");return typeof t=="symbol"?t:t+""}function e$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function c_(e,t){if(e==null)return{};var r,n,i=t$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ga(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u_=(e,t,r,n,i)=>{var a=jo(r),c=jo(n),f=Math.min(Math.abs(a)/2,Math.abs(c)/2),p=c>=0?1:-1,h=a>=0?1:-1,x=c>=0&&a>=0||c<0&&a<0?1:0,y;if(f>0&&i instanceof Array){for(var S=[0,0,0,0],C=0,I=4;C<I;C++)S[C]=i[C]>f?f:i[C];y=Gr(QC||(QC=Ga(["M",",",""])),e,t+p*S[0]),S[0]>0&&(y+=Gr(ZC||(ZC=Ga(["A ",",",",0,0,",",",",",""])),S[0],S[0],x,e+h*S[0],t)),y+=Gr(JC||(JC=Ga(["L ",",",""])),e+r-h*S[1],t),S[1]>0&&(y+=Gr(e_||(e_=Ga(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],x,e+r,t+p*S[1])),y+=Gr(t_||(t_=Ga(["L ",",",""])),e+r,t+n-p*S[2]),S[2]>0&&(y+=Gr(r_||(r_=Ga(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],x,e+r-h*S[2],t+n)),y+=Gr(n_||(n_=Ga(["L ",",",""])),e+h*S[3],t+n),S[3]>0&&(y+=Gr(i_||(i_=Ga(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],x,e,t+n-p*S[3])),y+="Z"}else if(f>0&&i===+i&&i>0){var O=Math.min(f,i);y=Gr(a_||(a_=Ga(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*O,O,O,x,e+h*O,t,e+r-h*O,t,O,O,x,e+r,t+p*O,e+r,t+n-p*O,O,O,x,e+r-h*O,t+n,e+h*O,t+n,O,O,x,e,t+n-p*O)}else y=Gr(s_||(s_=Ga(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return y},d_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y4=e=>{var t=Cr(e,d_),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:a,y:c,width:f,height:p,radius:h,className:x}=t,{animationEasing:y,animationDuration:S,animationBegin:C,isAnimationActive:I,isUpdateAnimationActive:O}=t,T=_.useRef(f),M=_.useRef(p),D=_.useRef(a),R=_.useRef(c),B=_.useMemo(()=>({x:a,y:c,width:f,height:p,radius:h}),[a,c,f,p,h]),U=ql(B,"rectangle-");if(a!==+a||c!==+c||f!==+f||p!==+p||f===0||p===0)return null;var $=zt("recharts-rectangle",x);if(!O){var V=qn(t),{radius:Z}=V,K=c_(V,XU);return _.createElement("path",ep({},K,{x:jo(a),y:jo(c),width:jo(f),height:jo(p),radius:typeof h=="number"?h:void 0,className:$,d:u_(a,c,f,p,h)}))}var ge=T.current,se=M.current,ae=D.current,Se=R.current,_e="0px ".concat(n===-1?1:n,"px"),re="".concat(n,"px 0px"),Fe=V4(["strokeDasharray"],S,typeof y=="string"?y:d_.animationEasing);return _.createElement(Vl,{animationId:U,key:U,canBegin:n>0,duration:S,easing:y,isActive:O,begin:C},le=>{var pe=Ut(ge,f,le),xe=Ut(se,p,le),Ae=Ut(ae,a,le),J=Ut(Se,c,le);r.current&&(T.current=pe,M.current=xe,D.current=Ae,R.current=J);var ce;I?le>0?ce={transition:Fe,strokeDasharray:re}:ce={strokeDasharray:_e}:ce={strokeDasharray:re};var $e=qn(t),{radius:ze}=$e,Xe=c_($e,QU);return _.createElement("path",ep({},Xe,{radius:typeof h=="number"?h:void 0,className:$,d:u_(Ae,J,pe,xe,h),ref:r,style:l_(l_({},ce),t.style)}))})};function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){r$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r$(e,t,r){return(t=n$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n$(e){var t=i$(e,"string");return typeof t=="symbol"?t:t+""}function i$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=Math.PI/180,a$=e=>e*180/Math.PI,cn=(e,t,r,n)=>({x:e+Math.cos(-tp*n)*r,y:t+Math.sin(-tp*n)*r}),X4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},s$=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},o$=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,c=s$({x:r,y:n},{x:i,y:a});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,p=Math.acos(f);return n>a&&(p=2*Math.PI-p),{radius:c,angle:a$(p),angleInRadian:p}},l$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},c$=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),c=Math.min(i,a);return e+c*360},u$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=o$({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:p,endAngle:h}=l$(t),x=a,y;if(p<=h){for(;x>h;)x-=360;for(;x<p;)x+=360;y=x>=p&&x<=h}else{for(;x>p;)x-=360;for(;x<h;)x+=360;y=x>=h&&x<=p}return y?h_(h_({},t),{},{radius:i,angle:c$(x,t)}):null};function Q4(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,c=cn(t,r,n,i),f=cn(t,r,n,a);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var p_,m_,g_,x_,v_,y_,b_;function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function El(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d$=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Xh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:c,cornerRadius:f,cornerIsExternal:p}=e,h=f*(c?1:-1)+n,x=Math.asin(f/h)/tp,y=p?i:i+a*x,S=cn(t,r,h,y),C=cn(t,r,n,y),I=p?i-a*x:i,O=cn(t,r,h*Math.cos(x*tp),I);return{center:S,circleTangency:C,lineTangency:O,theta:x}},Z4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:c}=e,f=d$(a,c),p=a+f,h=cn(t,r,i,a),x=cn(t,r,i,p),y=Gr(p_||(p_=El(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,i,i,+(Math.abs(f)>180),+(a>p),x.x,x.y);if(n>0){var S=cn(t,r,n,a),C=cn(t,r,n,p);y+=Gr(m_||(m_=El(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),C.x,C.y,n,n,+(Math.abs(f)>180),+(a<=p),S.x,S.y)}else y+=Gr(g_||(g_=El(["L ",","," Z"])),t,r);return y},f$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:h}=e,x=Pn(h-p),{circleTangency:y,lineTangency:S,theta:C}=Xh({cx:t,cy:r,radius:i,angle:p,sign:x,cornerRadius:a,cornerIsExternal:f}),{circleTangency:I,lineTangency:O,theta:T}=Xh({cx:t,cy:r,radius:i,angle:h,sign:-x,cornerRadius:a,cornerIsExternal:f}),M=f?Math.abs(p-h):Math.abs(p-h)-C-T;if(M<0)return c?Gr(x_||(x_=El(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,a,a,a*2,a,a,-a*2):Z4({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:p,endAngle:h});var D=Gr(v_||(v_=El(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,a,a,+(x<0),y.x,y.y,i,i,+(M>180),+(x<0),I.x,I.y,a,a,+(x<0),O.x,O.y);if(n>0){var{circleTangency:R,lineTangency:B,theta:U}=Xh({cx:t,cy:r,radius:n,angle:p,sign:x,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),{circleTangency:$,lineTangency:V,theta:Z}=Xh({cx:t,cy:r,radius:n,angle:h,sign:-x,isExternal:!0,cornerRadius:a,cornerIsExternal:f}),K=f?Math.abs(p-h):Math.abs(p-h)-U-Z;if(K<0&&a===0)return"".concat(D,"L").concat(t,",").concat(r,"Z");D+=Gr(y_||(y_=El(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,a,a,+(x<0),$.x,$.y,n,n,+(K>180),+(x>0),R.x,R.y,a,a,+(x<0),B.x,B.y)}else D+=Gr(b_||(b_=El(["L",",","Z"])),t,r);return D},h$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J4=e=>{var t=Cr(e,h$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:h,endAngle:x,className:y}=t;if(a<i||h===x)return null;var S=zt("recharts-sector",y),C=a-i,I=si(c,C,0,!0),O;return I>0&&Math.abs(h-x)<360?O=f$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(I,C/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:h,endAngle:x}):O=Z4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:x}),_.createElement("path",ry({},qn(t),{className:S,d:O}))};function p$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(kT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:c,angle:f}=t,p=cn(n,i,a,f),h=cn(n,i,c,f);return[{x:p.x,y:p.y},{x:h.x,y:h.y}]}return Q4(t)}}var Ox={},Tx={},jx={},w_;function m$(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(jx)),jx}var E_;function g$(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m$();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Tx)),Tx}var S_;function x$(){return S_||(S_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),r=g$();function n(i,a,c){c&&typeof c!="number"&&t.isIterateeCall(i,a,c)&&(a=c=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),c=c===void 0?i<a?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((a-i)/(c||1)),0),p=new Array(f);for(let h=0;h<f;h++)p[h]=i,i+=c;return p}e.range=n})(Ox)),Ox}var Px,A_;function v$(){return A_||(A_=1,Px=x$().range),Px}var y$=v$();const ej=ma(y$);function Po(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function b$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cb(e){let t,r,n;e.length!==2?(t=Po,r=(f,p)=>Po(e(f),p),n=(f,p)=>e(f)-p):(t=e===Po||e===b$?e:w$,r=e,n=e);function i(f,p,h=0,x=f.length){if(h<x){if(t(p,p)!==0)return x;do{const y=h+x>>>1;r(f[y],p)<0?h=y+1:x=y}while(h<x)}return h}function a(f,p,h=0,x=f.length){if(h<x){if(t(p,p)!==0)return x;do{const y=h+x>>>1;r(f[y],p)<=0?h=y+1:x=y}while(h<x)}return h}function c(f,p,h=0,x=f.length){const y=i(f,p,h,x-1);return y>h&&n(f[y-1],p)>-n(f[y],p)?y-1:y}return{left:i,center:c,right:a}}function w$(){return 0}function tj(e){return e===null?NaN:+e}function*E$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const S$=Cb(Po),of=S$.right;Cb(tj).center;class C_ extends Map{constructor(t,r=_$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(__(this,t))}has(t){return super.has(__(this,t))}set(t,r){return super.set(A$(this,t),r)}delete(t){return super.delete(C$(this,t))}}function __({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function A$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function C$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function N$(e=Po){if(e===Po)return rj;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rj(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const I$=Math.sqrt(50),O$=Math.sqrt(10),T$=Math.sqrt(2);function rp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),c=a>=I$?10:a>=O$?5:a>=T$?2:1;let f,p,h;return i<0?(h=Math.pow(10,-i)/c,f=Math.round(e*h),p=Math.round(t*h),f/h<e&&++f,p/h>t&&--p,h=-h):(h=Math.pow(10,i)*c,f=Math.round(e/h),p=Math.round(t/h),f*h<e&&++f,p*h>t&&--p),p<f&&.5<=r&&r<2?rp(e,t,r*2):[f,p,h]}function ny(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,c]=n?rp(t,e,r):rp(e,t,r);if(!(a>=i))return[];const f=a-i+1,p=new Array(f);if(n)if(c<0)for(let h=0;h<f;++h)p[h]=(a-h)/-c;else for(let h=0;h<f;++h)p[h]=(a-h)*c;else if(c<0)for(let h=0;h<f;++h)p[h]=(i+h)/-c;else for(let h=0;h<f;++h)p[h]=(i+h)*c;return p}function iy(e,t,r){return t=+t,e=+e,r=+r,rp(e,t,r)[2]}function ay(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?iy(t,e,r):iy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function N_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function I_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nj(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?rj:N$(i);n>r;){if(n-r>600){const p=n-r+1,h=t-r+1,x=Math.log(p),y=.5*Math.exp(2*x/3),S=.5*Math.sqrt(x*y*(p-y)/p)*(h-p/2<0?-1:1),C=Math.max(r,Math.floor(t-h*y/p+S)),I=Math.min(n,Math.floor(t+(p-h)*y/p+S));nj(e,t,C,I,i)}const a=e[t];let c=r,f=n;for(od(e,r,t),i(e[n],a)>0&&od(e,r,n);c<f;){for(od(e,c,f),++c,--f;i(e[c],a)<0;)++c;for(;i(e[f],a)>0;)--f}i(e[r],a)===0?od(e,r,f):(++f,od(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function od(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function j$(e,t,r){if(e=Float64Array.from(E$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return I_(e);if(t>=1)return N_(e);var n,i=(n-1)*t,a=Math.floor(i),c=N_(nj(e,a).subarray(0,a+1)),f=I_(e.subarray(a+1));return c+(f-c)*(i-a)}}function P$(e,t,r=tj){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),c=+r(e[a],a,e),f=+r(e[a+1],a+1,e);return c+(f-c)*(i-a)}}function k$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function ga(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sy=Symbol("implicit");function _b(){var e=new C_,t=[],r=[],n=sy;function i(a){let c=e.get(a);if(c===void 0){if(n!==sy)return n;e.set(a,c=t.push(a)-1)}return r[c%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new C_;for(const c of a)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _b(t,r).unknown(n)},ga.apply(i,arguments),i}function Nb(){var e=_b().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,c,f=!1,p=0,h=0,x=.5;delete e.unknown;function y(){var S=t().length,C=i<n,I=C?i:n,O=C?n:i;a=(O-I)/Math.max(1,S-p+h*2),f&&(a=Math.floor(a)),I+=(O-I-a*(S-p))*x,c=a*(1-p),f&&(I=Math.round(I),c=Math.round(c));var T=k$(S).map(function(M){return I+a*M});return r(C?T.reverse():T)}return e.domain=function(S){return arguments.length?(t(S),y()):t()},e.range=function(S){return arguments.length?([n,i]=S,n=+n,i=+i,y()):[n,i]},e.rangeRound=function(S){return[n,i]=S,n=+n,i=+i,f=!0,y()},e.bandwidth=function(){return c},e.step=function(){return a},e.round=function(S){return arguments.length?(f=!!S,y()):f},e.padding=function(S){return arguments.length?(p=Math.min(1,h=+S),y()):p},e.paddingInner=function(S){return arguments.length?(p=Math.min(1,S),y()):p},e.paddingOuter=function(S){return arguments.length?(h=+S,y()):h},e.align=function(S){return arguments.length?(x=Math.max(0,Math.min(1,S)),y()):x},e.copy=function(){return Nb(t(),[n,i]).round(f).paddingInner(p).paddingOuter(h).align(x)},ga.apply(y(),arguments)}function ij(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ij(t())},e}function R$(){return ij(Nb.apply(null,arguments).paddingInner(1))}function Ib(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aj(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lf(){}var Fd=.7,np=1/Fd,$c="\\s*([+-]?\\d+)\\s*",zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M$=/^#([0-9a-f]{3,8})$/,D$=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),L$=new RegExp(`^rgb\\(${Ja},${Ja},${Ja}\\)$`),B$=new RegExp(`^rgba\\(${$c},${$c},${$c},${zd}\\)$`),F$=new RegExp(`^rgba\\(${Ja},${Ja},${Ja},${zd}\\)$`),z$=new RegExp(`^hsl\\(${zd},${Ja},${Ja}\\)$`),U$=new RegExp(`^hsla\\(${zd},${Ja},${Ja},${zd}\\)$`),O_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ib(lf,Ud,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:T_,formatHex:T_,formatHex8:$$,formatHsl:H$,formatRgb:j_,toString:j_});function T_(){return this.rgb().formatHex()}function $$(){return this.rgb().formatHex8()}function H$(){return sj(this).formatHsl()}function j_(){return this.rgb().formatRgb()}function Ud(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=M$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P_(t):r===3?new Si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Qh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Qh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D$.exec(e))?new Si(t[1],t[2],t[3],1):(t=L$.exec(e))?new Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=B$.exec(e))?Qh(t[1],t[2],t[3],t[4]):(t=F$.exec(e))?Qh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z$.exec(e))?M_(t[1],t[2]/100,t[3]/100,1):(t=U$.exec(e))?M_(t[1],t[2]/100,t[3]/100,t[4]):O_.hasOwnProperty(e)?P_(O_[e]):e==="transparent"?new Si(NaN,NaN,NaN,0):null}function P_(e){return new Si(e>>16&255,e>>8&255,e&255,1)}function Qh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Si(e,t,r,n)}function W$(e){return e instanceof lf||(e=Ud(e)),e?(e=e.rgb(),new Si(e.r,e.g,e.b,e.opacity)):new Si}function oy(e,t,r,n){return arguments.length===1?W$(e):new Si(e,t,r,n??1)}function Si(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ib(Si,oy,aj(lf,{brighter(e){return e=e==null?np:Math.pow(np,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fd:Math.pow(Fd,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Si(Il(this.r),Il(this.g),Il(this.b),ip(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k_,formatHex:k_,formatHex8:V$,formatRgb:R_,toString:R_}));function k_(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function V$(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function R_(){const e=ip(this.opacity);return`${e===1?"rgb(":"rgba("}${Il(this.r)}, ${Il(this.g)}, ${Il(this.b)}${e===1?")":`, ${e})`}`}function ip(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Il(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sl(e){return e=Il(e),(e<16?"0":"")+e.toString(16)}function M_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ra(e,t,r,n)}function sj(e){if(e instanceof Ra)return new Ra(e.h,e.s,e.l,e.opacity);if(e instanceof lf||(e=Ud(e)),!e)return new Ra;if(e instanceof Ra)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),c=NaN,f=a-i,p=(a+i)/2;return f?(t===a?c=(r-n)/f+(r<n)*6:r===a?c=(n-t)/f+2:c=(t-r)/f+4,f/=p<.5?a+i:2-a-i,c*=60):f=p>0&&p<1?0:c,new Ra(c,f,p,e.opacity)}function q$(e,t,r,n){return arguments.length===1?sj(e):new Ra(e,t,r,n??1)}function Ra(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ib(Ra,q$,aj(lf,{brighter(e){return e=e==null?np:Math.pow(np,e),new Ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fd:Math.pow(Fd,e),new Ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Si(kx(e>=240?e-240:e+120,i,n),kx(e,i,n),kx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ra(D_(this.h),Zh(this.s),Zh(this.l),ip(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ip(this.opacity);return`${e===1?"hsl(":"hsla("}${D_(this.h)}, ${Zh(this.s)*100}%, ${Zh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function D_(e){return e=(e||0)%360,e<0?e+360:e}function Zh(e){return Math.max(0,Math.min(1,e||0))}function kx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ob=e=>()=>e;function G$(e,t){return function(r){return e+r*t}}function K$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Y$(e){return(e=+e)==1?oj:function(t,r){return r-t?K$(t,r,e):Ob(isNaN(t)?r:t)}}function oj(e,t){var r=t-e;return r?G$(e,r):Ob(isNaN(e)?t:e)}const L_=(function e(t){var r=Y$(t);function n(i,a){var c=r((i=oy(i)).r,(a=oy(a)).r),f=r(i.g,a.g),p=r(i.b,a.b),h=oj(i.opacity,a.opacity);return function(x){return i.r=c(x),i.g=f(x),i.b=p(x),i.opacity=h(x),i+""}}return n.gamma=e,n})(1);function X$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Q$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Z$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),c;for(c=0;c<n;++c)i[c]=lu(e[c],t[c]);for(;c<r;++c)a[c]=t[c];return function(f){for(c=0;c<n;++c)a[c]=i[c](f);return a}}function J$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ap(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function eH(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=lu(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ly=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rx=new RegExp(ly.source,"g");function tH(e){return function(){return e}}function rH(e){return function(t){return e(t)+""}}function nH(e,t){var r=ly.lastIndex=Rx.lastIndex=0,n,i,a,c=-1,f=[],p=[];for(e=e+"",t=t+"";(n=ly.exec(e))&&(i=Rx.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),f[c]?f[c]+=a:f[++c]=a),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,p.push({i:c,x:ap(n,i)})),r=Rx.lastIndex;return r<t.length&&(a=t.slice(r),f[c]?f[c]+=a:f[++c]=a),f.length<2?p[0]?rH(p[0].x):tH(t):(t=p.length,function(h){for(var x=0,y;x<t;++x)f[(y=p[x]).i]=y.x(h);return f.join("")})}function lu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ob(t):(r==="number"?ap:r==="string"?(n=Ud(t))?(t=n,L_):nH:t instanceof Ud?L_:t instanceof Date?J$:Q$(t)?X$:Array.isArray(t)?Z$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eH:ap)(e,t)}function Tb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iH(e,t){t===void 0&&(t=e,e=lu);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return a[f](c-f)}}function aH(e){return function(){return e}}function sp(e){return+e}var B_=[0,1];function di(e){return e}function cy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aH(isNaN(t)?NaN:.5)}function sH(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function oH(e,t,r){var n=e[0],i=e[1],a=t[0],c=t[1];return i<n?(n=cy(i,n),a=r(c,a)):(n=cy(n,i),a=r(a,c)),function(f){return a(n(f))}}function lH(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=cy(e[c],e[c+1]),a[c]=r(t[c],t[c+1]);return function(f){var p=of(e,f,1,n)-1;return a[p](i[p](f))}}function cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function am(){var e=B_,t=B_,r=lu,n,i,a,c=di,f,p,h;function x(){var S=Math.min(e.length,t.length);return c!==di&&(c=sH(e[0],e[S-1])),f=S>2?lH:oH,p=h=null,y}function y(S){return S==null||isNaN(S=+S)?a:(p||(p=f(e.map(n),t,r)))(n(c(S)))}return y.invert=function(S){return c(i((h||(h=f(t,e.map(n),ap)))(S)))},y.domain=function(S){return arguments.length?(e=Array.from(S,sp),x()):e.slice()},y.range=function(S){return arguments.length?(t=Array.from(S),x()):t.slice()},y.rangeRound=function(S){return t=Array.from(S),r=Tb,x()},y.clamp=function(S){return arguments.length?(c=S?!0:di,x()):c!==di},y.interpolate=function(S){return arguments.length?(r=S,x()):r},y.unknown=function(S){return arguments.length?(a=S,y):a},function(S,C){return n=S,i=C,x()}}function jb(){return am()(di,di)}function cH(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function op(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Qc(e){return e=op(Math.abs(e)),e?e[1]:NaN}function uH(e,t){return function(r,n){for(var i=r.length,a=[],c=0,f=e[0],p=0;i>0&&f>0&&(p+f+1>n&&(f=Math.max(1,n-p)),a.push(r.substring(i-=f,i+f)),!((p+=f+1)>n));)f=e[c=(c+1)%e.length];return a.reverse().join(t)}}function dH(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var fH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $d(e){if(!(t=fH.exec(e)))throw new Error("invalid format: "+e);var t;return new Pb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$d.prototype=Pb.prototype;function Pb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hH(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var lj;function pH(e,t){var r=op(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(lj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return a===c?n:a>c?n+new Array(a-c+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+op(e,Math.max(0,t+a-1))[0]}function F_(e,t){var r=op(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const z_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cH,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F_(e*100,t),r:F_,s:pH,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function U_(e){return e}var $_=Array.prototype.map,H_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mH(e){var t=e.grouping===void 0||e.thousands===void 0?U_:uH($_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?U_:dH($_.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function h(y){y=$d(y);var S=y.fill,C=y.align,I=y.sign,O=y.symbol,T=y.zero,M=y.width,D=y.comma,R=y.precision,B=y.trim,U=y.type;U==="n"?(D=!0,U="g"):z_[U]||(R===void 0&&(R=12),B=!0,U="g"),(T||S==="0"&&C==="=")&&(T=!0,S="0",C="=");var $=O==="$"?r:O==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",V=O==="$"?n:/[%p]/.test(U)?c:"",Z=z_[U],K=/[defgprs%]/.test(U);R=R===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function ge(se){var ae=$,Se=V,_e,re,Fe;if(U==="c")Se=Z(se)+Se,se="";else{se=+se;var le=se<0||1/se<0;if(se=isNaN(se)?p:Z(Math.abs(se),R),B&&(se=hH(se)),le&&+se==0&&I!=="+"&&(le=!1),ae=(le?I==="("?I:f:I==="-"||I==="("?"":I)+ae,Se=(U==="s"?H_[8+lj/3]:"")+Se+(le&&I==="("?")":""),K){for(_e=-1,re=se.length;++_e<re;)if(Fe=se.charCodeAt(_e),48>Fe||Fe>57){Se=(Fe===46?i+se.slice(_e+1):se.slice(_e))+Se,se=se.slice(0,_e);break}}}D&&!T&&(se=t(se,1/0));var pe=ae.length+se.length+Se.length,xe=pe<M?new Array(M-pe+1).join(S):"";switch(D&&T&&(se=t(xe+se,xe.length?M-Se.length:1/0),xe=""),C){case"<":se=ae+se+Se+xe;break;case"=":se=ae+xe+se+Se;break;case"^":se=xe.slice(0,pe=xe.length>>1)+ae+se+Se+xe.slice(pe);break;default:se=xe+ae+se+Se;break}return a(se)}return ge.toString=function(){return y+""},ge}function x(y,S){var C=h((y=$d(y),y.type="f",y)),I=Math.max(-8,Math.min(8,Math.floor(Qc(S)/3)))*3,O=Math.pow(10,-I),T=H_[8+I/3];return function(M){return C(O*M)+T}}return{format:h,formatPrefix:x}}var Jh,kb,cj;gH({thousands:",",grouping:[3],currency:["$",""]});function gH(e){return Jh=mH(e),kb=Jh.format,cj=Jh.formatPrefix,Jh}function xH(e){return Math.max(0,-Qc(Math.abs(e)))}function vH(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qc(t)/3)))*3-Qc(Math.abs(e)))}function yH(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qc(t)-Qc(e))+1}function uj(e,t,r,n){var i=ay(e,t,r),a;switch(n=$d(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=vH(i,c))&&(n.precision=a),cj(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yH(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=xH(i))&&(n.precision=a-(n.type==="%")*2);break}}return kb(n)}function Fo(e){var t=e.domain;return e.ticks=function(r){var n=t();return ny(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return uj(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,c=n[i],f=n[a],p,h,x=10;for(f<c&&(h=c,c=f,f=h,h=i,i=a,a=h);x-- >0;){if(h=iy(c,f,r),h===p)return n[i]=c,n[a]=f,t(n);if(h>0)c=Math.floor(c/h)*h,f=Math.ceil(f/h)*h;else if(h<0)c=Math.ceil(c*h)/h,f=Math.floor(f*h)/h;else break;p=h}return e},e}function dj(){var e=jb();return e.copy=function(){return cf(e,dj())},ga.apply(e,arguments),Fo(e)}function fj(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return fj(e).unknown(t)},e=arguments.length?Array.from(e,sp):[0,1],Fo(r)}function hj(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],c;return a<i&&(c=r,r=n,n=c,c=i,i=a,a=c),e[r]=t.floor(i),e[n]=t.ceil(a),e}function W_(e){return Math.log(e)}function V_(e){return Math.exp(e)}function bH(e){return-Math.log(-e)}function wH(e){return-Math.exp(-e)}function EH(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SH(e){return e===10?EH:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AH(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q_(e){return(t,r)=>-e(-t,r)}function Rb(e){const t=e(W_,V_),r=t.domain;let n=10,i,a;function c(){return i=AH(n),a=SH(n),r()[0]<0?(i=q_(i),a=q_(a),e(bH,wH)):e(W_,V_),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const p=r();let h=p[0],x=p[p.length-1];const y=x<h;y&&([h,x]=[x,h]);let S=i(h),C=i(x),I,O;const T=f==null?10:+f;let M=[];if(!(n%1)&&C-S<T){if(S=Math.floor(S),C=Math.ceil(C),h>0){for(;S<=C;++S)for(I=1;I<n;++I)if(O=S<0?I/a(-S):I*a(S),!(O<h)){if(O>x)break;M.push(O)}}else for(;S<=C;++S)for(I=n-1;I>=1;--I)if(O=S>0?I/a(-S):I*a(S),!(O<h)){if(O>x)break;M.push(O)}M.length*2<T&&(M=ny(h,x,T))}else M=ny(S,C,Math.min(C-S,T)).map(a);return y?M.reverse():M},t.tickFormat=(f,p)=>{if(f==null&&(f=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=$d(p)).precision==null&&(p.trim=!0),p=kb(p)),f===1/0)return p;const h=Math.max(1,n*f/t.ticks().length);return x=>{let y=x/a(Math.round(i(x)));return y*n<n-.5&&(y*=n),y<=h?p(x):""}},t.nice=()=>r(hj(r(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function pj(){const e=Rb(am()).domain([1,10]);return e.copy=()=>cf(e,pj()).base(e.base()),ga.apply(e,arguments),e}function G_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function K_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Mb(e){var t=1,r=e(G_(t),K_(t));return r.constant=function(n){return arguments.length?e(G_(t=+n),K_(t)):t},Fo(r)}function mj(){var e=Mb(am());return e.copy=function(){return cf(e,mj()).constant(e.constant())},ga.apply(e,arguments)}function Y_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CH(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _H(e){return e<0?-e*e:e*e}function Db(e){var t=e(di,di),r=1;function n(){return r===1?e(di,di):r===.5?e(CH,_H):e(Y_(r),Y_(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Fo(t)}function Lb(){var e=Db(am());return e.copy=function(){return cf(e,Lb()).exponent(e.exponent())},ga.apply(e,arguments),e}function NH(){return Lb.apply(null,arguments).exponent(.5)}function X_(e){return Math.sign(e)*e*e}function IH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gj(){var e=jb(),t=[0,1],r=!1,n;function i(a){var c=IH(e(a));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(a){return e.invert(X_(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,sp)).map(X_)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gj(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ga.apply(i,arguments),Fo(i)}function xj(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=P$(e,c/f);return a}function a(c){return c==null||isNaN(c=+c)?n:t[of(r,c)]}return a.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},a.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Po),i()},a.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},a.unknown=function(c){return arguments.length?(n=c,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return xj().domain(e).range(t).unknown(n)},ga.apply(a,arguments)}function vj(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function c(p){return p!=null&&p<=p?i[of(n,p,0,r)]:a}function f(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,f()):[e,t]},c.range=function(p){return arguments.length?(r=(i=Array.from(p)).length-1,f()):i.slice()},c.invertExtent=function(p){var h=i.indexOf(p);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},c.unknown=function(p){return arguments.length&&(a=p),c},c.thresholds=function(){return n.slice()},c.copy=function(){return vj().domain([e,t]).range(i).unknown(a)},ga.apply(Fo(c),arguments)}function yj(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[of(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var c=t.indexOf(a);return[e[c-1],e[c]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yj().domain(e).range(t).unknown(r)},ga.apply(i,arguments)}const Mx=new Date,Dx=new Date;function wn(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const c=i(a),f=i.ceil(a);return a-c<f-a?c:f},i.offset=(a,c)=>(t(a=new Date(+a),c==null?1:Math.floor(c)),a),i.range=(a,c,f)=>{const p=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<c)||!(f>0))return p;let h;do p.push(h=new Date(+a)),t(a,f),e(a);while(h<a&&a<c);return p},i.filter=a=>wn(c=>{if(c>=c)for(;e(c),!a(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!a(c););else for(;--f>=0;)for(;t(c,1),!a(c););}),r&&(i.count=(a,c)=>(Mx.setTime(+a),Dx.setTime(+c),e(Mx),e(Dx),Math.floor(r(Mx,Dx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?c=>n(c)%a===0:c=>i.count(0,c)%a===0):i)),i}const lp=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lp);lp.range;const Ps=1e3,ca=Ps*60,ks=ca*60,Us=ks*24,Bb=Us*7,Q_=Us*30,Lx=Us*365,Al=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ps)},(e,t)=>(t-e)/Ps,e=>e.getUTCSeconds());Al.range;const Fb=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getMinutes());Fb.range;const zb=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCMinutes());zb.range;const Ub=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ps-e.getMinutes()*ca)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getHours());Ub.range;const $b=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCHours());$b.range;const uf=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ca)/Us,e=>e.getDate()-1);uf.range;const sm=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>e.getUTCDate()-1);sm.range;const bj=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Us,e=>Math.floor(e/Us));bj.range;function Gl(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ca)/Bb)}const om=Gl(0),cp=Gl(1),OH=Gl(2),TH=Gl(3),Zc=Gl(4),jH=Gl(5),PH=Gl(6);om.range;cp.range;OH.range;TH.range;Zc.range;jH.range;PH.range;function Kl(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Bb)}const lm=Kl(0),up=Kl(1),kH=Kl(2),RH=Kl(3),Jc=Kl(4),MH=Kl(5),DH=Kl(6);lm.range;up.range;kH.range;RH.range;Jc.range;MH.range;DH.range;const Hb=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hb.range;const Wb=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Wb.range;const $s=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$s.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$s.range;const Hs=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hs.range;function wj(e,t,r,n,i,a){const c=[[Al,1,Ps],[Al,5,5*Ps],[Al,15,15*Ps],[Al,30,30*Ps],[a,1,ca],[a,5,5*ca],[a,15,15*ca],[a,30,30*ca],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,Us],[n,2,2*Us],[r,1,Bb],[t,1,Q_],[t,3,3*Q_],[e,1,Lx]];function f(h,x,y){const S=x<h;S&&([h,x]=[x,h]);const C=y&&typeof y.range=="function"?y:p(h,x,y),I=C?C.range(h,+x+1):[];return S?I.reverse():I}function p(h,x,y){const S=Math.abs(x-h)/y,C=Cb(([,,T])=>T).right(c,S);if(C===c.length)return e.every(ay(h/Lx,x/Lx,y));if(C===0)return lp.every(Math.max(ay(h,x,y),1));const[I,O]=c[S/c[C-1][2]<c[C][2]/S?C-1:C];return I.every(O)}return[f,p]}const[LH,BH]=wj(Hs,Wb,lm,bj,$b,zb),[FH,zH]=wj($s,Hb,om,uf,Ub,Fb);function Bx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ld(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function UH(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,c=e.shortDays,f=e.months,p=e.shortMonths,h=cd(i),x=ud(i),y=cd(a),S=ud(a),C=cd(c),I=ud(c),O=cd(f),T=ud(f),M=cd(p),D=ud(p),R={a:le,A:pe,b:xe,B:Ae,c:null,d:nN,e:nN,f:uW,g:bW,G:EW,H:oW,I:lW,j:cW,L:Ej,m:dW,M:fW,p:J,q:ce,Q:sN,s:oN,S:hW,u:pW,U:mW,V:gW,w:xW,W:vW,x:null,X:null,y:yW,Y:wW,Z:SW,"%":aN},B={a:$e,A:ze,b:Xe,B:X,c:null,d:iN,e:iN,f:NW,g:LW,G:FW,H:AW,I:CW,j:_W,L:Aj,m:IW,M:OW,p:Ce,q:Ue,Q:sN,s:oN,S:TW,u:jW,U:PW,V:kW,w:RW,W:MW,x:null,X:null,y:DW,Y:BW,Z:zW,"%":aN},U={a:ge,A:se,b:ae,B:Se,c:_e,d:tN,e:tN,f:nW,g:eN,G:J_,H:rN,I:rN,j:JH,L:rW,m:ZH,M:eW,p:K,q:QH,Q:aW,s:sW,S:tW,u:qH,U:GH,V:KH,w:VH,W:YH,x:re,X:Fe,y:eN,Y:J_,Z:XH,"%":iW};R.x=$(r,R),R.X=$(n,R),R.c=$(t,R),B.x=$(r,B),B.X=$(n,B),B.c=$(t,B);function $(Q,Te){return function(Le){var we=[],Oe=-1,ut=0,ht=Q.length,Lt,Ot,Tt;for(Le instanceof Date||(Le=new Date(+Le));++Oe<ht;)Q.charCodeAt(Oe)===37&&(we.push(Q.slice(ut,Oe)),(Ot=Z_[Lt=Q.charAt(++Oe)])!=null?Lt=Q.charAt(++Oe):Ot=Lt==="e"?" ":"0",(Tt=Te[Lt])&&(Lt=Tt(Le,Ot)),we.push(Lt),ut=Oe+1);return we.push(Q.slice(ut,Oe)),we.join("")}}function V(Q,Te){return function(Le){var we=ld(1900,void 0,1),Oe=Z(we,Q,Le+="",0),ut,ht;if(Oe!=Le.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Te&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(ut=Fx(ld(we.y,0,1)),ht=ut.getUTCDay(),ut=ht>4||ht===0?up.ceil(ut):up(ut),ut=sm.offset(ut,(we.V-1)*7),we.y=ut.getUTCFullYear(),we.m=ut.getUTCMonth(),we.d=ut.getUTCDate()+(we.w+6)%7):(ut=Bx(ld(we.y,0,1)),ht=ut.getDay(),ut=ht>4||ht===0?cp.ceil(ut):cp(ut),ut=uf.offset(ut,(we.V-1)*7),we.y=ut.getFullYear(),we.m=ut.getMonth(),we.d=ut.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),ht="Z"in we?Fx(ld(we.y,0,1)).getUTCDay():Bx(ld(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(ht+5)%7:we.w+we.U*7-(ht+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,Fx(we)):Bx(we)}}function Z(Q,Te,Le,we){for(var Oe=0,ut=Te.length,ht=Le.length,Lt,Ot;Oe<ut;){if(we>=ht)return-1;if(Lt=Te.charCodeAt(Oe++),Lt===37){if(Lt=Te.charAt(Oe++),Ot=U[Lt in Z_?Te.charAt(Oe++):Lt],!Ot||(we=Ot(Q,Le,we))<0)return-1}else if(Lt!=Le.charCodeAt(we++))return-1}return we}function K(Q,Te,Le){var we=h.exec(Te.slice(Le));return we?(Q.p=x.get(we[0].toLowerCase()),Le+we[0].length):-1}function ge(Q,Te,Le){var we=C.exec(Te.slice(Le));return we?(Q.w=I.get(we[0].toLowerCase()),Le+we[0].length):-1}function se(Q,Te,Le){var we=y.exec(Te.slice(Le));return we?(Q.w=S.get(we[0].toLowerCase()),Le+we[0].length):-1}function ae(Q,Te,Le){var we=M.exec(Te.slice(Le));return we?(Q.m=D.get(we[0].toLowerCase()),Le+we[0].length):-1}function Se(Q,Te,Le){var we=O.exec(Te.slice(Le));return we?(Q.m=T.get(we[0].toLowerCase()),Le+we[0].length):-1}function _e(Q,Te,Le){return Z(Q,t,Te,Le)}function re(Q,Te,Le){return Z(Q,r,Te,Le)}function Fe(Q,Te,Le){return Z(Q,n,Te,Le)}function le(Q){return c[Q.getDay()]}function pe(Q){return a[Q.getDay()]}function xe(Q){return p[Q.getMonth()]}function Ae(Q){return f[Q.getMonth()]}function J(Q){return i[+(Q.getHours()>=12)]}function ce(Q){return 1+~~(Q.getMonth()/3)}function $e(Q){return c[Q.getUTCDay()]}function ze(Q){return a[Q.getUTCDay()]}function Xe(Q){return p[Q.getUTCMonth()]}function X(Q){return f[Q.getUTCMonth()]}function Ce(Q){return i[+(Q.getUTCHours()>=12)]}function Ue(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Te=$(Q+="",R);return Te.toString=function(){return Q},Te},parse:function(Q){var Te=V(Q+="",!1);return Te.toString=function(){return Q},Te},utcFormat:function(Q){var Te=$(Q+="",B);return Te.toString=function(){return Q},Te},utcParse:function(Q){var Te=V(Q+="",!0);return Te.toString=function(){return Q},Te}}}var Z_={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,$H=/^%/,HH=/[\\^$*+?|[\]().{}]/g;function qt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function WH(e){return e.replace(HH,"\\$&")}function cd(e){return new RegExp("^(?:"+e.map(WH).join("|")+")","i")}function ud(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function VH(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qH(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function GH(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function KH(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function YH(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function J_(e,t,r){var n=kn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function eN(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QH(e,t,r){var n=kn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ZH(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function tN(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function JH(e,t,r){var n=kn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rN(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function eW(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function tW(e,t,r){var n=kn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function rW(e,t,r){var n=kn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function nW(e,t,r){var n=kn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function iW(e,t,r){var n=$H.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function aW(e,t,r){var n=kn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function sW(e,t,r){var n=kn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function nN(e,t){return qt(e.getDate(),t,2)}function oW(e,t){return qt(e.getHours(),t,2)}function lW(e,t){return qt(e.getHours()%12||12,t,2)}function cW(e,t){return qt(1+uf.count($s(e),e),t,3)}function Ej(e,t){return qt(e.getMilliseconds(),t,3)}function uW(e,t){return Ej(e,t)+"000"}function dW(e,t){return qt(e.getMonth()+1,t,2)}function fW(e,t){return qt(e.getMinutes(),t,2)}function hW(e,t){return qt(e.getSeconds(),t,2)}function pW(e){var t=e.getDay();return t===0?7:t}function mW(e,t){return qt(om.count($s(e)-1,e),t,2)}function Sj(e){var t=e.getDay();return t>=4||t===0?Zc(e):Zc.ceil(e)}function gW(e,t){return e=Sj(e),qt(Zc.count($s(e),e)+($s(e).getDay()===4),t,2)}function xW(e){return e.getDay()}function vW(e,t){return qt(cp.count($s(e)-1,e),t,2)}function yW(e,t){return qt(e.getFullYear()%100,t,2)}function bW(e,t){return e=Sj(e),qt(e.getFullYear()%100,t,2)}function wW(e,t){return qt(e.getFullYear()%1e4,t,4)}function EW(e,t){var r=e.getDay();return e=r>=4||r===0?Zc(e):Zc.ceil(e),qt(e.getFullYear()%1e4,t,4)}function SW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qt(t/60|0,"0",2)+qt(t%60,"0",2)}function iN(e,t){return qt(e.getUTCDate(),t,2)}function AW(e,t){return qt(e.getUTCHours(),t,2)}function CW(e,t){return qt(e.getUTCHours()%12||12,t,2)}function _W(e,t){return qt(1+sm.count(Hs(e),e),t,3)}function Aj(e,t){return qt(e.getUTCMilliseconds(),t,3)}function NW(e,t){return Aj(e,t)+"000"}function IW(e,t){return qt(e.getUTCMonth()+1,t,2)}function OW(e,t){return qt(e.getUTCMinutes(),t,2)}function TW(e,t){return qt(e.getUTCSeconds(),t,2)}function jW(e){var t=e.getUTCDay();return t===0?7:t}function PW(e,t){return qt(lm.count(Hs(e)-1,e),t,2)}function Cj(e){var t=e.getUTCDay();return t>=4||t===0?Jc(e):Jc.ceil(e)}function kW(e,t){return e=Cj(e),qt(Jc.count(Hs(e),e)+(Hs(e).getUTCDay()===4),t,2)}function RW(e){return e.getUTCDay()}function MW(e,t){return qt(up.count(Hs(e)-1,e),t,2)}function DW(e,t){return qt(e.getUTCFullYear()%100,t,2)}function LW(e,t){return e=Cj(e),qt(e.getUTCFullYear()%100,t,2)}function BW(e,t){return qt(e.getUTCFullYear()%1e4,t,4)}function FW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jc(e):Jc.ceil(e),qt(e.getUTCFullYear()%1e4,t,4)}function zW(){return"+0000"}function aN(){return"%"}function sN(e){return+e}function oN(e){return Math.floor(+e/1e3)}var Cc,_j,Nj;UW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UW(e){return Cc=UH(e),_j=Cc.format,Cc.parse,Nj=Cc.utcFormat,Cc.utcParse,Cc}function $W(e){return new Date(e)}function HW(e){return e instanceof Date?+e:+new Date(+e)}function Vb(e,t,r,n,i,a,c,f,p,h){var x=jb(),y=x.invert,S=x.domain,C=h(".%L"),I=h(":%S"),O=h("%I:%M"),T=h("%I %p"),M=h("%a %d"),D=h("%b %d"),R=h("%B"),B=h("%Y");function U($){return(p($)<$?C:f($)<$?I:c($)<$?O:a($)<$?T:n($)<$?i($)<$?M:D:r($)<$?R:B)($)}return x.invert=function($){return new Date(y($))},x.domain=function($){return arguments.length?S(Array.from($,HW)):S().map($W)},x.ticks=function($){var V=S();return e(V[0],V[V.length-1],$??10)},x.tickFormat=function($,V){return V==null?U:h(V)},x.nice=function($){var V=S();return(!$||typeof $.range!="function")&&($=t(V[0],V[V.length-1],$??10)),$?S(hj(V,$)):x},x.copy=function(){return cf(x,Vb(e,t,r,n,i,a,c,f,p,h))},x}function WW(){return ga.apply(Vb(FH,zH,$s,Hb,om,uf,Ub,Fb,Al,_j).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VW(){return ga.apply(Vb(LH,BH,Hs,Wb,lm,sm,$b,zb,Al,Nj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cm(){var e=0,t=1,r,n,i,a,c=di,f=!1,p;function h(y){return y==null||isNaN(y=+y)?p:c(i===0?.5:(y=(a(y)-r)*i,f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t]=y,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(c=y,h):c};function x(y){return function(S){var C,I;return arguments.length?([C,I]=S,c=y(C,I),h):[c(0),c(1)]}}return h.range=x(lu),h.rangeRound=x(Tb),h.unknown=function(y){return arguments.length?(p=y,h):p},function(y){return a=y,r=y(e),n=y(t),i=r===n?0:1/(n-r),h}}function zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ij(){var e=Fo(cm()(di));return e.copy=function(){return zo(e,Ij())},Xs.apply(e,arguments)}function Oj(){var e=Rb(cm()).domain([1,10]);return e.copy=function(){return zo(e,Oj()).base(e.base())},Xs.apply(e,arguments)}function Tj(){var e=Mb(cm());return e.copy=function(){return zo(e,Tj()).constant(e.constant())},Xs.apply(e,arguments)}function qb(){var e=Db(cm());return e.copy=function(){return zo(e,qb()).exponent(e.exponent())},Xs.apply(e,arguments)}function qW(){return qb.apply(null,arguments).exponent(.5)}function jj(){var e=[],t=di;function r(n){if(n!=null&&!isNaN(n=+n))return t((of(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Po),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>j$(e,a/n))},r.copy=function(){return jj(t).domain(e)},Xs.apply(r,arguments)}function um(){var e=0,t=.5,r=1,n=1,i,a,c,f,p,h=di,x,y=!1,S;function C(O){return isNaN(O=+O)?S:(O=.5+((O=+x(O))-a)*(n*O<n*a?f:p),h(y?Math.max(0,Math.min(1,O)):O))}C.domain=function(O){return arguments.length?([e,t,r]=O,i=x(e=+e),a=x(t=+t),c=x(r=+r),f=i===a?0:.5/(a-i),p=a===c?0:.5/(c-a),n=a<i?-1:1,C):[e,t,r]},C.clamp=function(O){return arguments.length?(y=!!O,C):y},C.interpolator=function(O){return arguments.length?(h=O,C):h};function I(O){return function(T){var M,D,R;return arguments.length?([M,D,R]=T,h=iH(O,[M,D,R]),C):[h(0),h(.5),h(1)]}}return C.range=I(lu),C.rangeRound=I(Tb),C.unknown=function(O){return arguments.length?(S=O,C):S},function(O){return x=O,i=O(e),a=O(t),c=O(r),f=i===a?0:.5/(a-i),p=a===c?0:.5/(c-a),n=a<i?-1:1,C}}function Pj(){var e=Fo(um()(di));return e.copy=function(){return zo(e,Pj())},Xs.apply(e,arguments)}function kj(){var e=Rb(um()).domain([.1,1,10]);return e.copy=function(){return zo(e,kj()).base(e.base())},Xs.apply(e,arguments)}function Rj(){var e=Mb(um());return e.copy=function(){return zo(e,Rj()).constant(e.constant())},Xs.apply(e,arguments)}function Gb(){var e=Db(um());return e.copy=function(){return zo(e,Gb()).exponent(e.exponent())},Xs.apply(e,arguments)}function GW(){return Gb.apply(null,arguments).exponent(.5)}const vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nb,scaleDiverging:Pj,scaleDivergingLog:kj,scaleDivergingPow:Gb,scaleDivergingSqrt:GW,scaleDivergingSymlog:Rj,scaleIdentity:fj,scaleImplicit:sy,scaleLinear:dj,scaleLog:pj,scaleOrdinal:_b,scalePoint:R$,scalePow:Lb,scaleQuantile:xj,scaleQuantize:vj,scaleRadial:gj,scaleSequential:Ij,scaleSequentialLog:Oj,scaleSequentialPow:qb,scaleSequentialQuantile:jj,scaleSequentialSqrt:qW,scaleSequentialSymlog:Tj,scaleSqrt:NH,scaleSymlog:mj,scaleThreshold:yj,scaleTime:WW,scaleUtc:VW,tickFormat:uj},Symbol.toStringTag,{value:"Module"}));var Qs=e=>e.chartData,dm=fe([Qs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fm=(e,t,r,n)=>n?dm(e):Qs(e),Mj=(e,t,r)=>r?dm(e):Qs(e);function Do(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Yt(t)&&Yt(r))return!0}return!1}function lN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Dj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Yt(r))i=r;else if(typeof r=="function")return;if(Yt(n))a=n;else if(typeof n=="function")return;var c=[i,a];if(Do(c))return c}}function KW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Do(n))return lN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(qe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&yC.test(i)){var p=yC.exec(i);if(p==null||p[1]==null||t==null)c=void 0;else{var h=+p[1];c=t[0]-h}}else c=t?.[0];if(a==="auto")t!=null&&(f=Math.max(...t));else if(qe(a))f=a;else if(typeof a=="function")try{t!=null&&(f=a(t?.[1]))}catch{}else if(typeof a=="string"&&bC.test(a)){var x=bC.exec(a);if(x==null||x[1]==null||t==null)f=void 0;else{var y=+x[1];f=t[1]+y}}else f=t?.[1];var S=[c,f];if(Do(S))return t==null?S:lN(S,t,r)}}}var cu=1e9,YW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yb,Pr=!0,fa="[DecimalError] ",Ol=fa+"Invalid argument: ",Kb=fa+"Exponent out of range: ",uu=Math.floor,vl=Math.pow,XW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$i,jn=1e7,Ar=7,Lj=9007199254740991,dp=uu(Lj/Ar),tt={};tt.absoluteValue=tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tt.comparedTo=tt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};tt.dividedBy=tt.div=function(e){return Ds(this,new this.constructor(e))};tt.dividedToIntegerBy=tt.idiv=function(e){var t=this,r=t.constructor;return ur(Ds(t,new r(e),0,1),r.precision)};tt.equals=tt.eq=function(e){return!this.cmp(e)};tt.exponent=function(){return un(this)};tt.greaterThan=tt.gt=function(e){return this.cmp(e)>0};tt.greaterThanOrEqualTo=tt.gte=function(e){return this.cmp(e)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(e){return this.cmp(e)<0};tt.lessThanOrEqualTo=tt.lte=function(e){return this.cmp(e)<1};tt.logarithm=tt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq($i))throw Error(fa+"NaN");if(r.s<1)throw Error(fa+(r.s?"NaN":"-Infinity"));return r.eq($i)?new n(0):(Pr=!1,t=Ds(Hd(r,a),Hd(e,a),a),Pr=!0,ur(t,i))};tt.minus=tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zj(t,e):Bj(t,(e.s=-e.s,e))};tt.modulo=tt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(fa+"NaN");return r.s?(Pr=!1,t=Ds(r,e,0,1).times(e),Pr=!0,r.minus(t)):ur(new n(r),i)};tt.naturalExponential=tt.exp=function(){return Fj(this)};tt.naturalLogarithm=tt.ln=function(){return Hd(this)};tt.negated=tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tt.plus=tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bj(t,e):zj(t,(e.s=-e.s,e))};tt.precision=tt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ol+e);if(t=un(i)+1,n=i.d.length-1,r=n*Ar+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};tt.squareRoot=tt.sqrt=function(){var e,t,r,n,i,a,c,f=this,p=f.constructor;if(f.s<1){if(!f.s)return new p(0);throw Error(fa+"NaN")}for(e=un(f),Pr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Za(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=uu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(i.toString()),r=p.precision,i=c=r+3;;)if(a=n,n=a.plus(Ds(f,a,c+2)).times(.5),Za(a.d).slice(0,c)===(t=Za(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(ur(a,r+1,0),a.times(a).eq(f)){n=a;break}}else if(t!="9999")break;c+=4}return Pr=!0,ur(n,r)};tt.times=tt.mul=function(e){var t,r,n,i,a,c,f,p,h,x=this,y=x.constructor,S=x.d,C=(e=new y(e)).d;if(!x.s||!e.s)return new y(0);for(e.s*=x.s,r=x.e+e.e,p=S.length,h=C.length,p<h&&(a=S,S=C,C=a,c=p,p=h,h=c),a=[],c=p+h,n=c;n--;)a.push(0);for(n=h;--n>=0;){for(t=0,i=p+n;i>n;)f=a[i]+C[n]*S[i-n-1]+t,a[i--]=f%jn|0,t=f/jn|0;a[i]=(a[i]+t)%jn|0}for(;!a[--c];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Pr?ur(e,y.precision):e};tt.toDecimalPlaces=tt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ts(e,0,cu),t===void 0?t=n.rounding:ts(t,0,8),ur(r,e+un(r)+1,t))};tt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Fl(n,!0):(ts(e,0,cu),t===void 0?t=i.rounding:ts(t,0,8),n=ur(new i(n),e+1,t),r=Fl(n,!0,e+1)),r};tt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Fl(i):(ts(e,0,cu),t===void 0?t=a.rounding:ts(t,0,8),n=ur(new a(i),e+un(i)+1,t),r=Fl(n.abs(),!1,e+un(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};tt.toInteger=tt.toint=function(){var e=this,t=e.constructor;return ur(new t(e),un(e)+1,t.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(e){var t,r,n,i,a,c,f=this,p=f.constructor,h=12,x=+(e=new p(e));if(!e.s)return new p($i);if(f=new p(f),!f.s){if(e.s<1)throw Error(fa+"Infinity");return f}if(f.eq($i))return f;if(n=p.precision,e.eq($i))return ur(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,a=f.s,c){if((r=x<0?-x:x)<=Lj){for(i=new p($i),t=Math.ceil(n/Ar+4),Pr=!1;r%2&&(i=i.times(f),uN(i.d,t)),r=uu(r/2),r!==0;)f=f.times(f),uN(f.d,t);return Pr=!0,e.s<0?new p($i).div(i):ur(i,n)}}else if(a<0)throw Error(fa+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Pr=!1,i=e.times(Hd(f,n+h)),Pr=!0,i=Fj(i),i.s=a,i};tt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=un(i),n=Fl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ts(e,1,cu),t===void 0?t=a.rounding:ts(t,0,8),i=ur(new a(i),e,t),r=un(i),n=Fl(i,e<=r||r<=a.toExpNeg,e)),n};tt.toSignificantDigits=tt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ts(e,1,cu),t===void 0?t=n.rounding:ts(t,0,8)),ur(new n(r),e,t)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=un(e),r=e.constructor;return Fl(e,t<=r.toExpNeg||t>=r.toExpPos)};function Bj(e,t){var r,n,i,a,c,f,p,h,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s||(t=new x(e)),Pr?ur(t,y):t;if(p=e.d,h=t.d,c=e.e,i=t.e,p=p.slice(),a=c-i,a){for(a<0?(n=p,a=-a,f=h.length):(n=h,i=c,f=p.length),c=Math.ceil(y/Ar),f=c>f?c+1:f+1,a>f&&(a=f,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(f=p.length,a=h.length,f-a<0&&(a=f,n=h,h=p,p=n),r=0;a;)r=(p[--a]=p[a]+h[a]+r)/jn|0,p[a]%=jn;for(r&&(p.unshift(r),++i),f=p.length;p[--f]==0;)p.pop();return t.d=p,t.e=i,Pr?ur(t,y):t}function ts(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ol+e)}function Za(e){var t,r,n,i=e.length-1,a="",c=e[0];if(i>0){for(a+=c,t=1;t<i;t++)n=e[t]+"",r=Ar-n.length,r&&(a+=_o(r)),a+=n;c=e[t],n=c+"",r=Ar-n.length,r&&(a+=_o(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return a+c}var Ds=(function(){function e(n,i){var a,c=0,f=n.length;for(n=n.slice();f--;)a=n[f]*i+c,n[f]=a%jn|0,c=a/jn|0;return c&&n.unshift(c),n}function t(n,i,a,c){var f,p;if(a!=c)p=a>c?1:-1;else for(f=p=0;f<a;f++)if(n[f]!=i[f]){p=n[f]>i[f]?1:-1;break}return p}function r(n,i,a){for(var c=0;a--;)n[a]-=c,c=n[a]<i[a]?1:0,n[a]=c*jn+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,c){var f,p,h,x,y,S,C,I,O,T,M,D,R,B,U,$,V,Z,K=n.constructor,ge=n.s==i.s?1:-1,se=n.d,ae=i.d;if(!n.s)return new K(n);if(!i.s)throw Error(fa+"Division by zero");for(p=n.e-i.e,V=ae.length,U=se.length,C=new K(ge),I=C.d=[],h=0;ae[h]==(se[h]||0);)++h;if(ae[h]>(se[h]||0)&&--p,a==null?D=a=K.precision:c?D=a+(un(n)-un(i))+1:D=a,D<0)return new K(0);if(D=D/Ar+2|0,h=0,V==1)for(x=0,ae=ae[0],D++;(h<U||x)&&D--;h++)R=x*jn+(se[h]||0),I[h]=R/ae|0,x=R%ae|0;else{for(x=jn/(ae[0]+1)|0,x>1&&(ae=e(ae,x),se=e(se,x),V=ae.length,U=se.length),B=V,O=se.slice(0,V),T=O.length;T<V;)O[T++]=0;Z=ae.slice(),Z.unshift(0),$=ae[0],ae[1]>=jn/2&&++$;do x=0,f=t(ae,O,V,T),f<0?(M=O[0],V!=T&&(M=M*jn+(O[1]||0)),x=M/$|0,x>1?(x>=jn&&(x=jn-1),y=e(ae,x),S=y.length,T=O.length,f=t(y,O,S,T),f==1&&(x--,r(y,V<S?Z:ae,S))):(x==0&&(f=x=1),y=ae.slice()),S=y.length,S<T&&y.unshift(0),r(O,y,T),f==-1&&(T=O.length,f=t(ae,O,V,T),f<1&&(x++,r(O,V<T?Z:ae,T))),T=O.length):f===0&&(x++,O=[0]),I[h++]=x,f&&O[0]?O[T++]=se[B]||0:(O=[se[B]],T=1);while((B++<U||O[0]!==void 0)&&D--)}return I[0]||I.shift(),C.e=p,ur(C,c?a+un(C)+1:a)}})();function Fj(e,t){var r,n,i,a,c,f,p=0,h=0,x=e.constructor,y=x.precision;if(un(e)>16)throw Error(Kb+un(e));if(!e.s)return new x($i);for(Pr=!1,f=y,c=new x(.03125);e.abs().gte(.1);)e=e.times(c),h+=5;for(n=Math.log(vl(2,h))/Math.LN10*2+5|0,f+=n,r=i=a=new x($i),x.precision=f;;){if(i=ur(i.times(e),f),r=r.times(++p),c=a.plus(Ds(i,r,f)),Za(c.d).slice(0,f)===Za(a.d).slice(0,f)){for(;h--;)a=ur(a.times(a),f);return x.precision=y,t==null?(Pr=!0,ur(a,y)):a}a=c}}function un(e){for(var t=e.e*Ar,r=e.d[0];r>=10;r/=10)t++;return t}function zx(e,t,r){if(t>e.LN10.sd())throw Pr=!0,r&&(e.precision=r),Error(fa+"LN10 precision limit exceeded");return ur(new e(e.LN10),t)}function _o(e){for(var t="";e--;)t+="0";return t}function Hd(e,t){var r,n,i,a,c,f,p,h,x,y=1,S=10,C=e,I=C.d,O=C.constructor,T=O.precision;if(C.s<1)throw Error(fa+(C.s?"NaN":"-Infinity"));if(C.eq($i))return new O(0);if(t==null?(Pr=!1,h=T):h=t,C.eq(10))return t==null&&(Pr=!0),zx(O,h);if(h+=S,O.precision=h,r=Za(I),n=r.charAt(0),a=un(C),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=Za(C.d),n=r.charAt(0),y++;a=un(C),n>1?(C=new O("0."+r),a++):C=new O(n+"."+r.slice(1))}else return p=zx(O,h+2,T).times(a+""),C=Hd(new O(n+"."+r.slice(1)),h-S).plus(p),O.precision=T,t==null?(Pr=!0,ur(C,T)):C;for(f=c=C=Ds(C.minus($i),C.plus($i),h),x=ur(C.times(C),h),i=3;;){if(c=ur(c.times(x),h),p=f.plus(Ds(c,new O(i),h)),Za(p.d).slice(0,h)===Za(f.d).slice(0,h))return f=f.times(2),a!==0&&(f=f.plus(zx(O,h+2,T).times(a+""))),f=Ds(f,new O(y),h),O.precision=T,t==null?(Pr=!0,ur(f,T)):f;f=p,i+=2}}function cN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=uu(r/Ar),e.d=[],n=(r+1)%Ar,r<0&&(n+=Ar),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ar;n<i;)e.d.push(+t.slice(n,n+=Ar));t=t.slice(n),n=Ar-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Pr&&(e.e>dp||e.e<-dp))throw Error(Kb+r)}else e.s=0,e.e=0,e.d=[0];return e}function ur(e,t,r){var n,i,a,c,f,p,h,x,y=e.d;for(c=1,a=y[0];a>=10;a/=10)c++;if(n=t-c,n<0)n+=Ar,i=t,h=y[x=0];else{if(x=Math.ceil((n+1)/Ar),a=y.length,x>=a)return e;for(h=a=y[x],c=1;a>=10;a/=10)c++;n%=Ar,i=n-Ar+c}if(r!==void 0&&(a=vl(10,c-i-1),f=h/a%10|0,p=t<0||y[x+1]!==void 0||h%a,p=r<4?(f||p)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||p||r==6&&(n>0?i>0?h/vl(10,c-i):0:y[x-1])%10&1||r==(e.s<0?8:7))),t<1||!y[0])return p?(a=un(e),y.length=1,t=t-a-1,y[0]=vl(10,(Ar-t%Ar)%Ar),e.e=uu(-t/Ar)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(n==0?(y.length=x,a=1,x--):(y.length=x+1,a=vl(10,Ar-n),y[x]=i>0?(h/vl(10,c-i)%vl(10,i)|0)*a:0),p)for(;;)if(x==0){(y[0]+=a)==jn&&(y[0]=1,++e.e);break}else{if(y[x]+=a,y[x]!=jn)break;y[x--]=0,a=1}for(n=y.length;y[--n]===0;)y.pop();if(Pr&&(e.e>dp||e.e<-dp))throw Error(Kb+un(e));return e}function zj(e,t){var r,n,i,a,c,f,p,h,x,y,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),Pr?ur(t,C):t;if(p=e.d,y=t.d,n=t.e,h=e.e,p=p.slice(),c=h-n,c){for(x=c<0,x?(r=p,c=-c,f=y.length):(r=y,n=h,f=p.length),i=Math.max(Math.ceil(C/Ar),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=p.length,f=y.length,x=i<f,x&&(f=i),i=0;i<f;i++)if(p[i]!=y[i]){x=p[i]<y[i];break}c=0}for(x&&(r=p,p=y,y=r,t.s=-t.s),f=p.length,i=y.length-f;i>0;--i)p[f++]=0;for(i=y.length;i>c;){if(p[--i]<y[i]){for(a=i;a&&p[--a]===0;)p[a]=jn-1;--p[a],p[i]+=jn}p[i]-=y[i]}for(;p[--f]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,Pr?ur(t,C):t):new S(0)}function Fl(e,t,r){var n,i=un(e),a=Za(e.d),c=a.length;return t?(r&&(n=r-c)>0?a=a.charAt(0)+"."+a.slice(1)+_o(n):c>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_o(-i-1)+a,r&&(n=r-c)>0&&(a+=_o(n))):i>=c?(a+=_o(i+1-c),r&&(n=r-i-1)>0&&(a=a+"."+_o(n))):((n=i+1)<c&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(a+="."),a+=_o(n))),e.s<0?"-"+a:a}function uN(e,t){if(e.length>t)return e.length=t,!0}function Uj(e){var t,r,n;function i(a){var c=this;if(!(c instanceof i))return new i(a);if(c.constructor=i,a instanceof i){c.s=a.s,c.e=a.e,c.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ol+a);if(a>0)c.s=1;else if(a<0)a=-a,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(a===~~a&&a<1e7){c.e=0,c.d=[a];return}return cN(c,a.toString())}else if(typeof a!="string")throw Error(Ol+a);if(a.charCodeAt(0)===45?(a=a.slice(1),c.s=-1):c.s=1,XW.test(a))cN(c,a);else throw Error(Ol+a)}if(i.prototype=tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Uj,i.config=i.set=QW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function QW(e){if(!e||typeof e!="object")throw Error(fa+"Object expected");var t,r,n,i=["precision",1,cu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(uu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ol+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ol+r+": "+n);return this}var Yb=Uj(YW);$i=new Yb(1);const rr=Yb;var ZW=e=>e,$j={},Hj=e=>e===$j,dN=e=>function t(){return arguments.length===0||arguments.length===1&&Hj(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Wj=(e,t)=>e===1?t:dN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(c=>c!==$j).length;return a>=e?t(...n):Wj(e-a,dN(function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];var h=n.map(x=>Hj(x)?f.shift():x);return t(...h,...f)}))}),JW=e=>Wj(e.length,e),uy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},eV=JW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),tV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ZW;var i=r.reverse(),a=i[0],c=i.slice(1);return function(){return c.reduce((f,p)=>p(f),a(...arguments))}};function Vj(e){var t;return e===0?t=1:t=Math.floor(new rr(e).abs().log(10).toNumber())+1,t}function qj(e,t,r){for(var n=new rr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Gj=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Kj=(e,t,r)=>{if(e.lte(0))return new rr(0);var n=Vj(e.toNumber()),i=new rr(10).pow(n),a=e.div(i),c=n!==1?.05:.1,f=new rr(Math.ceil(a.div(c).toNumber())).add(r).mul(c),p=f.mul(i);return t?new rr(p.toNumber()):new rr(Math.ceil(p.toNumber()))},rV=(e,t,r)=>{var n=new rr(1),i=new rr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new rr(10).pow(Vj(e)-1),i=new rr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new rr(Math.floor(e)))}else e===0?i=new rr(Math.floor((t-1)/2)):r||(i=new rr(Math.floor(e)));var c=Math.floor((t-1)/2),f=tV(eV(p=>i.add(new rr(p-c).mul(n)).toNumber()),uy);return f(0,t)},Yj=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var c=Kj(new rr(r).sub(t).div(n-1),i,a),f;t<=0&&r>=0?f=new rr(0):(f=new rr(t).add(r).div(2),f=f.sub(new rr(f).mod(c)));var p=Math.ceil(f.sub(t).div(c).toNumber()),h=Math.ceil(new rr(r).sub(f).div(c).toNumber()),x=p+h+1;return x>n?Yj(t,r,n,i,a+1):(x<n&&(h=r>0?h+(n-x):h,p=r>0?p:p+(n-x)),{step:c,tickMin:f.sub(new rr(p).mul(c)),tickMax:f.add(new rr(h).mul(c))})},nV=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,p]=Gj([r,n]);if(f===-1/0||p===1/0){var h=p===1/0?[f,...uy(0,i-1).map(()=>1/0)]:[...uy(0,i-1).map(()=>-1/0),p];return r>n?h.reverse():h}if(f===p)return rV(f,i,a);var{step:x,tickMin:y,tickMax:S}=Yj(f,p,c,a,0),C=qj(y,S.add(new rr(.1).mul(x)),x);return r>n?C.reverse():C},iV=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=Gj([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var p=Math.max(r,2),h=Kj(new rr(f).sub(c).div(p-1),a,0),x=[...qj(new rr(c),new rr(f),h),f];return a===!1&&(x=x.map(y=>Math.round(y))),n>i?x.reverse():x},Xj=e=>e.rootProps.maxBarSize,aV=e=>e.rootProps.barGap,Qj=e=>e.rootProps.barCategoryGap,sV=e=>e.rootProps.barSize,df=e=>e.rootProps.stackOffset,Zj=e=>e.rootProps.reverseStackOrder,Xb=e=>e.options.chartName,Qb=e=>e.rootProps.syncId,Jj=e=>e.rootProps.syncMethod,Zb=e=>e.options.eventEmitter,oV=e=>e.rootProps.baseValue,kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Os={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},hm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:Os.reversed,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:Os.type,unit:void 0},cV={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:Bi.type,unit:void 0},uV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Os.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dV={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bi.scale,tick:Bi.tick,tickCount:Bi.tickCount,ticks:void 0,type:"category",unit:void 0},Jb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uV:lV,ew=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dV:cV,pm=e=>e.polarOptions,tw=fe([Ks,Ys,bn],X4),eP=fe([pm,tw],(e,t)=>{if(e!=null)return si(e.innerRadius,t,0)}),tP=fe([pm,tw],(e,t)=>{if(e!=null)return si(e.outerRadius,t,t*.8)}),fV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rP=fe([pm],fV);fe([Jb,rP],hm);var nP=fe([tw,eP,tP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});fe([ew,nP],hm);var iP=fe([Mt,pm,eP,tP,Ks,Ys],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:p,endAngle:h}=t;return{cx:si(c,i,i/2),cy:si(f,a,a/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:h,clockWise:!1}}}),Mr=(e,t)=>t,ff=(e,t,r)=>r;function mm(e){return e?.id}function aP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,c=new Map;return e.forEach(f=>{var p,h=(p=f.data)!==null&&p!==void 0?p:n;if(!(h==null||h.length===0)){var x=mm(f);h.forEach((y,S)=>{var C=a==null||i?S:String($t(y,a,null)),I=$t(y,f.dataKey,0),O;c.has(C)?O=c.get(C):O={},Object.assign(O,{[x]:I}),c.set(C,O)})}}),Array.from(c.values())}function gm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var xm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function vm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hV(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var En=e=>{var t=Mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},du=e=>e.tooltip.settings.axisId;function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){pV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pV(e,t,r){return(t=mV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dy=[0,"auto"],On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sP=(e,t)=>e.cartesianAxis.xAxis[t],as=(e,t)=>{var r=sP(e,t);return r??On},Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nf},oP=(e,t)=>e.cartesianAxis.yAxis[t],ss=(e,t)=>{var r=oP(e,t);return r??Tn},lP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??lP},Ur=(e,t,r)=>{switch(t){case"xAxis":return as(e,r);case"yAxis":return ss(e,r);case"zAxis":return rw(e,r);case"angleAxis":return Jb(e,r);case"radiusAxis":return ew(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xV=(e,t,r)=>{switch(t){case"xAxis":return as(e,r);case"yAxis":return ss(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hf=(e,t,r)=>{switch(t){case"xAxis":return as(e,r);case"yAxis":return ss(e,r);case"angleAxis":return Jb(e,r);case"radiusAxis":return ew(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function nw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var fu=e=>e.graphicalItems.cartesianItems,vV=fe([Mr,ff],nw),iw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),pf=fe([fu,Ur,vV],iw,{memoizeOptions:{resultEqualityCheck:vm}}),uP=fe([pf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gm)),dP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),yV=fe([pf],dP),aw=e=>e.map(t=>t.data).filter(Boolean).flat(1),bV=fe([pf],aw,{memoizeOptions:{resultEqualityCheck:vm}}),sw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},ow=fe([bV,fm],sw),lw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$t(i,n)}))):e.map(n=>({value:n})),ym=fe([ow,Ur,pf],lw);function fP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function m0(e){if(ua(e)||e instanceof Date){var t=Number(e);if(Yt(t))return t}}function hN(e){if(Array.isArray(e)){var t=[m0(e[0]),m0(e[1])];return Do(t)?t:void 0}var r=m0(e);if(r!=null)return[r,r]}function Ws(e){return e.map(m0).filter(h7)}function wV(e,t,r){return!r||typeof t!="number"||Ci(t)?[]:r.length?Ws(r.flatMap(n=>{var i=$t(e,n.dataKey),a,c;if(Array.isArray(i)?[a,c]=i:a=c=i,!(!Yt(a)||!Yt(c)))return[t-a,t+c]})):[]}var Sn=e=>{var t=En(e),r=du(e);return hf(e,t,r)},mf=fe([Sn],e=>e?.dataKey),EV=fe([uP,fm,Sn],aP),hP=(e,t,r,n)=>{var i={},a=t.reduce((c,f)=>{if(f.stackId==null)return c;var p=c[f.stackId];return p==null&&(p=[]),p.push(f),c[f.stackId]=p,c},i);return Object.fromEntries(Object.entries(a).map(c=>{var[f,p]=c,h=n?[...p].reverse():p,x=h.map(mm);return[f,{stackedData:UF(e,x,r),graphicalItems:h}]}))},hp=fe([EV,uP,df,Zj],hP),pP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var c=VF(e,i,a);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},SV=fe([Ur],e=>e.allowDataOverflow),cw=e=>{var t;if(e==null||!("domain"in e))return dy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ws(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:dy},uw=fe([Ur],cw),dw=fe([uw,SV],Dj),AV=fe([hp,Qs,Mr,dw],pP,{memoizeOptions:{resultEqualityCheck:xm}}),bm=e=>e.errorBars,CV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>fP(r,n)),pp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),c=Math.min(...a),f=Math.max(...a);return[c,f]}},fw=(e,t,r,n,i)=>{var a,c;if(r.length>0&&e.forEach(f=>{r.forEach(p=>{var h,x,y=(h=n[p.id])===null||h===void 0?void 0:h.filter(M=>fP(i,M)),S=$t(f,(x=t.dataKey)!==null&&x!==void 0?x:p.dataKey),C=wV(f,S,y);if(C.length>=2){var I=Math.min(...C),O=Math.max(...C);(a==null||I<a)&&(a=I),(c==null||O>c)&&(c=O)}var T=hN(S);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),c=c==null?T[1]:Math.max(c,T[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var p=hN($t(f,t.dataKey));p!=null&&(a=a==null?p[0]:Math.min(a,p[0]),c=c==null?p[1]:Math.max(c,p[1]))}),Yt(a)&&Yt(c))return[a,c]},_V=fe([ow,Ur,yV,bm,Mr],fw,{memoizeOptions:{resultEqualityCheck:xm}});function NV(e){var{value:t}=e;if(ua(t)||t instanceof Date)return t}var IV=(e,t,r)=>{var n=e.map(NV).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&TT(n))?ej(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},mP=e=>e.referenceElements.dots,hu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),OV=fe([mP,Mr,ff],hu),gP=e=>e.referenceElements.areas,TV=fe([gP,Mr,ff],hu),xP=e=>e.referenceElements.lines,jV=fe([xP,Mr,ff],hu),vP=(e,t)=>{if(e!=null){var r=Ws(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},PV=fe(OV,Mr,vP),yP=(e,t)=>{if(e!=null){var r=Ws(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kV=fe([TV,Mr],yP);function RV(e){var t;if(e.x!=null)return Ws([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ws(r)}function MV(e){var t;if(e.y!=null)return Ws([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ws(r)}var bP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?RV(n):MV(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DV=fe([jV,Mr],bP),LV=fe(PV,DV,kV,(e,t,r)=>pp(e,r,t)),hw=(e,t,r,n,i,a,c,f)=>{if(r!=null)return r;var p=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",h=p?pp(n,a,i):pp(a,i);return KW(t,h,e.allowDataOverflow)},BV=fe([Ur,uw,dw,AV,_V,LV,Mt,Mr],hw,{memoizeOptions:{resultEqualityCheck:xm}}),FV=[0,1],pw=(e,t,r,n,i,a,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:p}=e,h=ns(t,a);if(h&&f==null){var x;return ej(0,(x=r?.length)!==null&&x!==void 0?x:0)}return p==="category"?IV(n,e,h):i==="expand"?FV:c}},mw=fe([Ur,Mt,ow,ym,df,Mr,BV],pw),wP=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:c}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof a=="string"){var f="scale".concat(Jd(a));return f in vd?f:"point"}}},pu=fe([Ur,Mt,cP,Xb,Mr],wP);function zV(e){if(e!=null){if(e in vd)return vd[e]();var t="scale".concat(Jd(e));if(t in vd)return vd[t]()}}function gw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=zV(t);if(i!=null){var a=i.domain(r).range(n);return DF(a),a}}}var xw=(e,t,r)=>{var n=cw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Do(e))return nV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Do(e))return iV(e,t.tickCount,t.allowDecimals)}},vw=fe([mw,hf,pu],xw),yw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Do(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,a),Math.max(c,f)]}return t},UV=fe([Ur,mw,vw,Mr],yw),$V=fe(ym,Ur,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ws(e.map(y=>y.value))).sort((y,S)=>y-S),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var c=a-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var p=n[f],h=n[f+1];if(!(p==null||h==null)){var x=h-p;r=Math.min(r,x)}}return r/c}}),EP=fe($V,Mt,Qj,bn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Yt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var c=si(r,e*a),f=e*a/2;return f-c-(f-c)/a*c}return 0}),HV=(e,t,r)=>{var n=as(e,t);return n==null||typeof n.padding!="string"?0:EP(e,"xAxis",t,r,n.padding)},WV=(e,t,r)=>{var n=ss(e,t);return n==null||typeof n.padding!="string"?0:EP(e,"yAxis",t,r,n.padding)},VV=fe(as,HV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),qV=fe(ss,WV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),GV=fe([bn,VV,em,Jp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),KV=fe([bn,Mt,qV,em,Jp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:c}=i;return a?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),gf=(e,t,r,n)=>{var i;switch(t){case"xAxis":return GV(e,r,n);case"yAxis":return KV(e,r,n);case"zAxis":return(i=rw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return rP(e);case"radiusAxis":return nP(e,r);default:return}},SP=fe([Ur,gf],hm),eu=fe([Ur,pu,UV,SP],gw);fe([pf,bm,Mr],CV);function AP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wm=(e,t)=>t,Em=(e,t,r)=>r,YV=fe(Qp,wm,Em,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),XV=fe(Zp,wm,Em,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),CP=(e,t)=>({width:e.width,height:t.height}),QV=(e,t)=>{var r=typeof t.width=="number"?t.width:nf;return{width:r,height:e.height}},_P=fe(bn,as,CP),ZV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},JV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},eq=fe(Ys,bn,YV,wm,Em,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var p=CP(t,f);c==null&&(c=ZV(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;a[f.id]=c-Number(h)*p.height,c+=(h?-1:1)*p.height}),a}),tq=fe(Ks,bn,XV,wm,Em,(e,t,r,n,i)=>{var a={},c;return r.forEach(f=>{var p=QV(t,f);c==null&&(c=JV(t,n,e));var h=n==="left"&&!i||n==="right"&&i;a[f.id]=c-Number(h)*p.width,c+=(h?-1:1)*p.width}),a}),rq=(e,t)=>{var r=as(e,t);if(r!=null)return eq(e,r.orientation,r.mirror)},nq=fe([bn,as,rq,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),iq=(e,t)=>{var r=ss(e,t);if(r!=null)return tq(e,r.orientation,r.mirror)},aq=fe([bn,ss,iq,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),NP=fe(bn,ss,(e,t)=>{var r=typeof t.width=="number"?t.width:nf;return{width:r,height:e.height}}),pN=(e,t,r)=>{switch(t){case"xAxis":return _P(e,r).width;case"yAxis":return NP(e,r).height;default:return}},IP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:c}=r,f=ns(e,n),p=t.map(h=>h.value);if(c&&f&&a==="category"&&i&&TT(p))return p}},bw=fe([Mt,ym,Ur,Mr],IP),OP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,c=ns(e,n);if(c&&(i==="number"||a!=="auto"))return t.map(f=>f.value)}},ww=fe([Mt,ym,hf,Mr],OP),mN=fe([Mt,xV,pu,eu,bw,ww,gf,vw,Mr],(e,t,r,n,i,a,c,f,p)=>{if(t!=null){var h=ns(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:f,range:c,realScaleType:r,scale:n}}}),sq=(e,t,r,n,i,a,c,f,p)=>{if(!(t==null||n==null)){var h=ns(e,p),{type:x,ticks:y,tickCount:S}=t,C=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,I=x==="category"&&n.bandwidth?n.bandwidth()/C:0;I=p==="angleAxis"&&a!=null&&a.length>=2?Pn(a[0]-a[1])*2*I:I;var O=y||i;if(O){var T=O.map((M,D)=>{var R=c?c.indexOf(M):M;return{index:D,coordinate:n(R)+I,value:M,offset:I}});return T.filter(M=>Yt(M.coordinate))}return h&&f?f.map((M,D)=>({coordinate:n(M)+I,value:M,index:D,offset:I})).filter(M=>Yt(M.coordinate)):n.ticks?n.ticks(S).map(M=>({coordinate:n(M)+I,value:M,offset:I})):n.domain().map((M,D)=>({coordinate:n(M)+I,value:c?c[M]:M,index:D,offset:I}))}},TP=fe([Mt,hf,pu,eu,vw,gf,bw,ww,Mr],sq),oq=(e,t,r,n,i,a,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=ns(e,c),{tickCount:p}=t,h=0;return h=c==="angleAxis"&&n?.length>=2?Pn(n[0]-n[1])*2*h:h,f&&a?a.map((x,y)=>({coordinate:r(x)+h,value:x,index:y,offset:h})):r.ticks?r.ticks(p).map(x=>({coordinate:r(x)+h,value:x,offset:h})):r.domain().map((x,y)=>({coordinate:r(x)+h,value:i?i[x]:x,index:y,offset:h}))}},ha=fe([Mt,hf,eu,gf,bw,ww,Mr],oq),pa=fe(Ur,eu,(e,t)=>{if(!(e==null||t==null))return fp(fp({},e),{},{scale:t})}),lq=fe([Ur,pu,mw,SP],gw),cq=fe((e,t,r)=>rw(e,r),lq,(e,t)=>{if(!(e==null||t==null))return fp(fp({},e),{},{scale:t})}),uq=fe([Mt,Qp,Zp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),jP=e=>e.options.defaultTooltipEventType,PP=e=>e.options.validateTooltipEventTypes;function kP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ew(e,t){var r=jP(e),n=PP(e);return kP(t,r,n)}function dq(e){return Ge(t=>Ew(t,e))}var RP=(e,t)=>{var r,n=Number(t);if(!(Ci(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},fq=e=>e.tooltip.settings,To={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},hq={itemInteraction:{click:To,hover:To},axisInteraction:{click:To,hover:To},keyboardInteraction:To,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MP=_i({name:"tooltip",initialState:hq,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:jr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ma(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:jr()},removeTooltipEntrySettings:{reducer(e,t){var r=Ma(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:jr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:pq,replaceTooltipEntrySettings:mq,removeTooltipEntrySettings:gq,setTooltipSettingsState:xq,setActiveMouseOverItemIndex:DP,mouseLeaveItem:vq,mouseLeaveChart:LP,setActiveClickItemIndex:yq,setMouseOverAxisIndex:BP,setMouseClickAxisIndex:bq,setSyncInteraction:fy,setKeyboardInteraction:hy}=MP.actions,wq=MP.reducer;function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eq(e,t,r){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _q(e){return e.index!=null}var FP=(e,t,r,n)=>{if(t==null)return To;var i=Cq(e,t,r);if(i==null)return To;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(_q(i)){if(a)return e0(e0({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return e0(e0({},To),{},{coordinate:i.coordinate})};function Nq(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Iq(e,t){var r=Nq(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),c=Math.max(n,i);return r>=a&&r<=c}function Oq(e,t,r){if(r==null||t==null)return!0;var n=$t(e,t);return n==null||!Do(r)?!0:Iq(n,r)}var Sw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Yt(a))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var p=Math.max(c,Math.min(a,f)),h=t[p];return h==null||Oq(h,r,n)?String(p):null},zP=(e,t,r,n,i,a,c,f)=>{if(!(a==null||f==null)){var p=c[0],h=p==null?void 0:f(p.positions,a);if(h!=null)return h;var x=i?.[Number(a)];if(x)switch(r){case"horizontal":return{x:x.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:x.coordinate}}}},UP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},xf=e=>e.options.tooltipPayloadSearcher,mu=e=>e.tooltip;function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){Tq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kq(e,t){return e??t}var $P=(e,t,r,n,i,a,c)=>{if(!(t==null||a==null)){var{chartData:f,computedData:p,dataStartIndex:h,dataEndIndex:x}=r,y=[];return e.reduce((S,C)=>{var I,{dataDefinedOnItem:O,settings:T}=C,M=kq(O,f),D=Array.isArray(M)?A4(M,h,x):M,R=(I=T?.dataKey)!==null&&I!==void 0?I:n,B=T?.nameKey,U;if(n&&Array.isArray(D)&&!Array.isArray(D[0])&&c==="axis"?U=jT(D,n,i):U=a(D,t,p,B),Array.isArray(U))U.forEach(V=>{var Z=vN(vN({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});S.push(wC({tooltipEntrySettings:Z,dataKey:V.dataKey,payload:V.payload,value:$t(V.payload,V.dataKey),name:V.name}))});else{var $;S.push(wC({tooltipEntrySettings:T,dataKey:R,payload:U,value:$t(U,R),name:($=$t(U,B))!==null&&$!==void 0?$:T?.name}))}return S},y)}},Aw=fe([Sn,Mt,cP,Xb,En],wP),Rq=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Mq=fe([En,du],nw),gu=fe([Rq,Sn,Mq],iw,{memoizeOptions:{resultEqualityCheck:vm}}),Dq=fe([gu],e=>e.filter(gm)),Lq=fe([gu],aw,{memoizeOptions:{resultEqualityCheck:vm}}),xu=fe([Lq,Qs],sw),Bq=fe([Dq,Qs,Sn],aP),Cw=fe([xu,Sn,gu],lw),HP=fe([Sn],cw),Fq=fe([Sn],e=>e.allowDataOverflow),WP=fe([HP,Fq],Dj),zq=fe([gu],e=>e.filter(gm)),Uq=fe([Bq,zq,df,Zj],hP),$q=fe([Uq,Qs,En,WP],pP),Hq=fe([gu],dP),Wq=fe([xu,Sn,Hq,bm,En],fw,{memoizeOptions:{resultEqualityCheck:xm}}),Vq=fe([mP,En,du],hu),qq=fe([Vq,En],vP),Gq=fe([gP,En,du],hu),Kq=fe([Gq,En],yP),Yq=fe([xP,En,du],hu),Xq=fe([Yq,En],bP),Qq=fe([qq,Xq,Kq],pp),Zq=fe([Sn,HP,WP,$q,Wq,Qq,Mt,En],hw),vf=fe([Sn,Mt,xu,Cw,df,En,Zq],pw),Jq=fe([vf,Sn,Aw],xw),eG=fe([Sn,vf,Jq,En],yw),VP=e=>{var t=En(e),r=du(e),n=!1;return gf(e,t,r,n)},qP=fe([Sn,VP],hm),GP=fe([Sn,Aw,eG,qP],gw),tG=fe([Mt,Cw,Sn,En],IP),rG=fe([Mt,Cw,Sn,En],OP),nG=(e,t,r,n,i,a,c,f)=>{if(t){var{type:p}=t,h=ns(e,f);if(n){var x=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,y=p==="category"&&n.bandwidth?n.bandwidth()/x:0;return y=f==="angleAxis"&&i!=null&&i?.length>=2?Pn(i[0]-i[1])*2*y:y,h&&c?c.map((S,C)=>({coordinate:n(S)+y,value:S,index:C,offset:y})):n.domain().map((S,C)=>({coordinate:n(S)+y,value:a?a[S]:S,index:C,offset:y}))}}},Zs=fe([Mt,Sn,Aw,GP,VP,tG,rG,En],nG),_w=fe([jP,PP,fq],(e,t,r)=>kP(r.shared,e,t)),KP=e=>e.tooltip.settings.trigger,Nw=e=>e.tooltip.settings.defaultIndex,yf=fe([mu,_w,KP,Nw],FP),Vs=fe([yf,xu,mf,vf],Sw),YP=fe([Zs,Vs],RP),Iw=fe([yf],e=>{if(e)return e.dataKey}),iG=fe([yf],e=>{if(e)return e.graphicalItemId}),XP=fe([mu,_w,KP,Nw],UP),aG=fe([Ks,Ys,Mt,bn,Zs,Nw,XP,xf],zP),sG=fe([yf,aG],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),oG=fe([yf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),lG=fe([XP,Vs,Qs,mf,YP,xf,_w],$P),cG=fe([lG],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hG=()=>Ge(Sn),pG=()=>{var e=hG(),t=Ge(Zs),r=Ge(GP);return Mo(!e||!r?void 0:bN(bN({},e),{},{scale:r}),t)};function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return(t=gG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},yG=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:c}=n;return _c(_c(_c({},n),cn(n.cx,n.cy,c,a)),{},{angle:a,radius:c})}var f=i.coordinate,{angle:p}=n;return _c(_c(_c({},n),cn(n.cx,n.cy,f,p)),{},{angle:p,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function bG(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var QP=(e,t,r,n,i)=>{var a,c=(a=t?.length)!==null&&a!==void 0?a:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var p,h,x,y,S,C=f>0?(p=r[f-1])===null||p===void 0?void 0:p.coordinate:(h=r[c-1])===null||h===void 0?void 0:h.coordinate,I=(x=r[f])===null||x===void 0?void 0:x.coordinate,O=f>=c-1?(y=r[0])===null||y===void 0?void 0:y.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,T=void 0;if(!(C==null||I==null||O==null))if(Pn(I-C)!==Pn(O-I)){var M=[];if(Pn(O-I)===Pn(i[1]-i[0])){T=O;var D=I+i[1]-i[0];M[0]=Math.min(D,(D+C)/2),M[1]=Math.max(D,(D+C)/2)}else{T=C;var R=O+i[1]-i[0];M[0]=Math.min(I,(R+I)/2),M[1]=Math.max(I,(R+I)/2)}var B=[Math.min(I,(T+I)/2),Math.max(I,(T+I)/2)];if(e>B[0]&&e<=B[1]||e>=M[0]&&e<=M[1]){var U;return(U=r[f])===null||U===void 0?void 0:U.index}}else{var $=Math.min(C,O),V=Math.max(C,O);if(e>($+I)/2&&e<=(V+I)/2){var Z;return(Z=r[f])===null||Z===void 0?void 0:Z.index}}}else if(t)for(var K=0;K<c;K++){var ge=t[K];if(ge!=null){var se=t[K+1],ae=t[K-1];if(K===0&&se!=null&&e<=(ge.coordinate+se.coordinate)/2||K===c-1&&ae!=null&&e>(ge.coordinate+ae.coordinate)/2||K>0&&K<c-1&&ae!=null&&se!=null&&e>(ge.coordinate+ae.coordinate)/2&&e<=(ge.coordinate+se.coordinate)/2)return ge.index}}return-1},ZP=()=>Ge(Xb),Ow=(e,t)=>t,JP=(e,t,r)=>r,Tw=(e,t,r,n)=>n,wG=fe(Zs,e=>Up(e,t=>t.coordinate)),jw=fe([mu,Ow,JP,Tw],FP),Pw=fe([jw,xu,mf,vf],Sw),EG=(e,t,r)=>{if(t!=null){var n=mu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ek=fe([mu,Ow,JP,Tw],UP),mp=fe([Ks,Ys,Mt,bn,Zs,Tw,ek,xf],zP),SG=fe([jw,mp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tk=fe([Zs,Pw],RP),AG=fe([ek,Pw,Qs,mf,tk,xf,Ow],$P),CG=fe([jw,Pw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_G=(e,t,r,n,i,a,c)=>{if(!(!e||!r||!n||!i)&&bG(e,c)){var f=qF(e,t),p=QP(f,a,i,r,n),h=vG(t,i,p,e);return{activeIndex:String(p),activeCoordinate:h}}},NG=(e,t,r,n,i,a,c)=>{if(!(!e||!n||!i||!a||!r)){var f=u$(e,r);if(f){var p=GF(f,t),h=QP(p,c,a,n,i),x=yG(t,a,h,f);return{activeIndex:String(h),activeCoordinate:x}}}},IG=(e,t,r,n,i,a,c,f)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?_G(e,t,n,i,a,c,f):NG(e,t,r,n,i,a,c)},OG=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),TG=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(kr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:hV}});function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RG={},MG={zIndexMap:Object.values(kr).reduce((e,t)=>SN(SN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),RG)},DG=new Set(Object.values(kr));function LG(e){return DG.has(e)}var rk=_i({name:"zIndex",initialState:MG,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!LG(r)&&delete e.zIndexMap[r])},prepare:jr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:jr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:jr()}}}),{registerZIndexPortal:BG,unregisterZIndexPortal:FG,registerZIndexPortalElement:zG,unregisterZIndexPortalElement:UG}=rk.actions,$G=rk.reducer;function Rn(e){var{zIndex:t,children:r}=e,n=Cz(),i=n&&t!==void 0&&t!==0,a=en(),c=dr();_.useLayoutEffect(()=>i?(c(BG({zIndex:t})),()=>{c(FG({zIndex:t}))}):ef,[c,t,i]);var f=Ge(p=>OG(p,t,a));return i?f?Dy.createPortal(r,f):null:r}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){HG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function GG(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:c,layout:f,cursor:p,tooltipEventType:h,chartName:x}=e,y=r,S=n,C=i;if(!p||!y||x!=="ScatterChart"&&h!=="axis")return null;var I,O,T;if(x==="ScatterChart")I=y,O=AU,T=kr.cursorLine;else if(x==="BarChart")I=CU(f,y,a,c),O=Y4,T=kr.cursorRectangle;else if(f==="radial"&&kT(y)){var{cx:M,cy:D,radius:R,startAngle:B,endAngle:U}=Q4(y);I={cx:M,cy:D,startAngle:B,endAngle:U,innerRadius:R,outerRadius:R},O=J4,T=kr.cursorLine}else I={points:p$(f,y,a)},O=Nl,T=kr.cursorLine;var $=typeof p=="object"&&"className"in p?p.className:void 0,V=t0(t0(t0(t0({stroke:"#ccc",pointerEvents:"none"},a),I),Ro(p)),{},{payload:S,payloadIndex:C,className:zt("recharts-tooltip-cursor",$)});return _.createElement(Rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},_.createElement(qG,{cursor:p,cursorComp:O,cursorProps:V}))}function KG(e){var t=pG(),r=k4(),n=Bo(),i=ZP();return t==null||r==null||n==null||i==null?null:_.createElement(GG,py({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var nk=_.createContext(null),YG=()=>_.useContext(nk),Ux={exports:{}},CN;function XG(){return CN||(CN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,h,x){this.fn=p,this.context=h,this.once=x||!1}function a(p,h,x,y,S){if(typeof x!="function")throw new TypeError("The listener must be a function");var C=new i(x,y||p,S),I=r?r+h:h;return p._events[I]?p._events[I].fn?p._events[I]=[p._events[I],C]:p._events[I].push(C):(p._events[I]=C,p._eventsCount++),p}function c(p,h){--p._eventsCount===0?p._events=new n:delete p._events[h]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],x,y;if(this._eventsCount===0)return h;for(y in x=this._events)t.call(x,y)&&h.push(r?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(x)):h},f.prototype.listeners=function(h){var x=r?r+h:h,y=this._events[x];if(!y)return[];if(y.fn)return[y.fn];for(var S=0,C=y.length,I=new Array(C);S<C;S++)I[S]=y[S].fn;return I},f.prototype.listenerCount=function(h){var x=r?r+h:h,y=this._events[x];return y?y.fn?1:y.length:0},f.prototype.emit=function(h,x,y,S,C,I){var O=r?r+h:h;if(!this._events[O])return!1;var T=this._events[O],M=arguments.length,D,R;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),M){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,x),!0;case 3:return T.fn.call(T.context,x,y),!0;case 4:return T.fn.call(T.context,x,y,S),!0;case 5:return T.fn.call(T.context,x,y,S,C),!0;case 6:return T.fn.call(T.context,x,y,S,C,I),!0}for(R=1,D=new Array(M-1);R<M;R++)D[R-1]=arguments[R];T.fn.apply(T.context,D)}else{var B=T.length,U;for(R=0;R<B;R++)switch(T[R].once&&this.removeListener(h,T[R].fn,void 0,!0),M){case 1:T[R].fn.call(T[R].context);break;case 2:T[R].fn.call(T[R].context,x);break;case 3:T[R].fn.call(T[R].context,x,y);break;case 4:T[R].fn.call(T[R].context,x,y,S);break;default:if(!D)for(U=1,D=new Array(M-1);U<M;U++)D[U-1]=arguments[U];T[R].fn.apply(T[R].context,D)}}return!0},f.prototype.on=function(h,x,y){return a(this,h,x,y,!1)},f.prototype.once=function(h,x,y){return a(this,h,x,y,!0)},f.prototype.removeListener=function(h,x,y,S){var C=r?r+h:h;if(!this._events[C])return this;if(!x)return c(this,C),this;var I=this._events[C];if(I.fn)I.fn===x&&(!S||I.once)&&(!y||I.context===y)&&c(this,C);else{for(var O=0,T=[],M=I.length;O<M;O++)(I[O].fn!==x||S&&!I[O].once||y&&I[O].context!==y)&&T.push(I[O]);T.length?this._events[C]=T.length===1?T[0]:T:c(this,C)}return this},f.prototype.removeAllListeners=function(h){var x;return h?(x=r?r+h:h,this._events[x]&&c(this,x)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(Ux)),Ux.exports}var QG=XG();const ZG=ma(QG);var Wd=new ZG,my="recharts.syncEvent.tooltip",_N="recharts.syncEvent.brush";function Sm(e,t){if(t){var r=Number.parseInt(t,10);if(!Ci(r))return e?.[r]}}var JG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ik=_i({name:"options",initialState:JG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),eK=ik.reducer,{createEventEmitter:tK}=ik.actions;function rK(e){return e.tooltip.syncInteraction}var nK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ak=_i({name:"chartData",initialState:nK,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:NN,setDataStartEndIndexes:iK,setComputedData:Pie}=ak.actions,aK=ak.reducer,sK=["x","y"];function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){oK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uK(e,t){if(e==null)return{};var r,n,i=dK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fK(){var e=Ge(Qb),t=Ge(Zb),r=dr(),n=Ge(Jj),i=Ge(Zs),a=Bo(),c=ou(),f=Ge(p=>p.rootProps.className);_.useEffect(()=>{if(e==null)return ef;var p=(h,x,y)=>{if(t!==y&&e===h){if(n==="index"){var S;if(c&&x!==null&&x!==void 0&&(S=x.payload)!==null&&S!==void 0&&S.coordinate&&x.payload.sourceViewBox){var C=x.payload.coordinate,{x:I,y:O}=C,T=uK(C,sK),{x:M,y:D,width:R,height:B}=x.payload.sourceViewBox,U=Nc(Nc({},T),{},{x:c.x+(R?(I-M)/R:0)*c.width,y:c.y+(B?(O-D)/B:0)*c.height});r(Nc(Nc({},x),{},{payload:Nc(Nc({},x.payload),{},{coordinate:U})}))}else r(x);return}if(i!=null){var $;if(typeof n=="function"){var V={activeTooltipIndex:x.payload.index==null?void 0:Number(x.payload.index),isTooltipActive:x.payload.active,activeIndex:x.payload.index==null?void 0:Number(x.payload.index),activeLabel:x.payload.label,activeDataKey:x.payload.dataKey,activeCoordinate:x.payload.coordinate},Z=n(i,V);$=i[Z]}else n==="value"&&($=i.find(Fe=>String(Fe.value)===x.payload.label));var{coordinate:K}=x.payload;if($==null||x.payload.active===!1||K==null||c==null){r(fy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ge,y:se}=K,ae=Math.min(ge,c.x+c.width),Se=Math.min(se,c.y+c.height),_e={x:a==="horizontal"?$.coordinate:ae,y:a==="horizontal"?Se:$.coordinate},re=fy({active:x.payload.active,coordinate:_e,dataKey:x.payload.dataKey,index:String($.index),label:x.payload.label,sourceViewBox:x.payload.sourceViewBox,graphicalItemId:x.payload.graphicalItemId});r(re)}}};return Wd.on(my,p),()=>{Wd.off(my,p)}},[f,r,t,e,n,i,a,c])}function hK(){var e=Ge(Qb),t=Ge(Zb),r=dr();_.useEffect(()=>{if(e==null)return ef;var n=(i,a,c)=>{t!==c&&e===i&&r(iK(a))};return Wd.on(_N,n),()=>{Wd.off(_N,n)}},[r,t,e])}function pK(){var e=dr();_.useEffect(()=>{e(tK())},[e]),fK(),hK()}function mK(e,t,r,n,i,a){var c=Ge(C=>EG(C,e,t)),f=Ge(Zb),p=Ge(Qb),h=Ge(Jj),x=Ge(rK),y=x?.active,S=ou();_.useEffect(()=>{if(!y&&p!=null&&f!=null){var C=fy({active:a,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});Wd.emit(my,p,C,f)}},[y,r,c,i,n,f,p,h,a,S])}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){gK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gK(e,t,r){return(t=xK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e){return e.dataKey}function bK(e,t){return _.isValidElement(e)?_.cloneElement(e,t):typeof e=="function"?_.createElement(e,t):_.createElement(nU,t)}var jN=[],wK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yd(e){var t,r,n=Cr(e,wK),{active:i,allowEscapeViewBox:a,animationDuration:c,animationEasing:f,content:p,filterNull:h,isAnimationActive:x,offset:y,payloadUniqBy:S,position:C,reverseDirection:I,useTranslate3d:O,wrapperStyle:T,cursor:M,shared:D,trigger:R,defaultIndex:B,portal:U,axisId:$}=n,V=dr(),Z=typeof B=="number"?String(B):B;_.useEffect(()=>{V(xq({shared:D,trigger:R,axisId:$,active:i,defaultIndex:Z}))},[V,D,R,$,i,Z]);var K=ou(),ge=W4(),se=dq(D),{activeIndex:ae,isActive:Se}=(t=Ge(Ce=>CG(Ce,se,R,Z)))!==null&&t!==void 0?t:{},_e=Ge(Ce=>AG(Ce,se,R,Z)),re=Ge(Ce=>tk(Ce,se,R,Z)),Fe=Ge(Ce=>SG(Ce,se,R,Z)),le=_e,pe=YG(),xe=(r=i??Se)!==null&&r!==void 0?r:!1,[Ae,J]=KT([le,xe]),ce=se==="axis"?re:void 0;mK(se,R,Fe,ce,ae,xe);var $e=U??pe;if($e==null||K==null||se==null)return null;var ze=le??jN;xe||(ze=jN),h&&ze.length&&(ze=HT(ze.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||n.includeHidden)),S,yK));var Xe=ze.length>0,X=_.createElement(uU,{allowEscapeViewBox:a,animationDuration:c,animationEasing:f,isAnimationActive:x,active:xe,coordinate:Fe,hasPayload:Xe,offset:y,position:C,reverseDirection:I,useTranslate3d:O,viewBox:K,wrapperStyle:T,lastBoundingBox:Ae,innerRef:J,hasPortalFromProps:!!U},bK(p,TN(TN({},n),{},{payload:ze,label:ce,active:xe,activeIndex:ae,coordinate:Fe,accessibilityLayer:ge})));return _.createElement(_.Fragment,null,Dy.createPortal(X,$e),xe&&_.createElement(KG,{cursor:M,tooltipEventType:se,coordinate:Fe,payload:ze,index:ae}))}var zl=e=>null;zl.displayName="Cell";function EK(e,t,r){return(t=SK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CK{constructor(t){EK(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _K(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){NK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NK(e,t,r){return(t=IK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK={cacheSize:2e3,enableCache:!0},sk=_K({},TK),kN=new CK(sk.cacheSize),jK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RN="recharts_measurement_span";function PK(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(c,"|").concat(f)}var MN=(e,t)=>{try{var r=document.getElementById(RN);r||(r=document.createElement("span"),r.setAttribute("id",RN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,jK,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},wd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sf.isSsr)return{width:0,height:0};if(!sk.enableCache)return MN(t,r);var n=PK(t,r),i=kN.get(n);if(i)return i;var a=MN(t,r);return kN.set(n,a),a},ok;function kK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FK=["cm","mm","pt","pc","in","Q","px"];function zK(e){return FK.includes(e)}var Rc="NaN";function UK(e,t){return e*BK[t]}class Wn{static parse(t){var r,[,n,i]=(r=LK.exec(t))!==null&&r!==void 0?r:[];return n==null?Wn.NaN:new Wn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ci(t)&&(this.unit=""),r!==""&&!DK.test(r)&&(this.num=NaN,this.unit=""),zK(r)&&(this.num=UK(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ci(this.num)}}ok=Wn;kK(Wn,"NaN",new ok(NaN,""));function lk(e){if(e==null||e.includes(Rc))return Rc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=DN.exec(t))!==null&&r!==void 0?r:[],c=Wn.parse(n??""),f=Wn.parse(a??""),p=i==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return Rc;t=t.replace(DN,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,x,y,S]=(h=LN.exec(t))!==null&&h!==void 0?h:[],C=Wn.parse(x??""),I=Wn.parse(S??""),O=y==="+"?C.add(I):C.subtract(I);if(O.isNaN())return Rc;t=t.replace(LN,O.toString())}return t}var BN=/\(([^()]*)\)/;function $K(e){for(var t=e,r;(r=BN.exec(t))!=null;){var[,n]=r;t=t.replace(BN,lk(n))}return t}function HK(e){var t=e.replace(/\s+/g,"");return t=$K(t),t=lk(t),t}function WK(e){try{return HK(e)}catch{return Rc}}function $x(e){var t=WK(e.slice(5,-1));return t===Rc?"":t}var VK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],qK=["dx","dy","angle","className","breakAll"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function FN(e,t){if(e==null)return{};var r,n,i=GK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ck=/[ \f\n\r\t\v\u2028\u2029]+/,uk=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Zt(t)||(r?i=t.toString().split(""):i=t.toString().split(ck));var a=i.map(f=>({word:f,width:wd(f,n).width})),c=r?0:wd("",n).width;return{wordsWithComputedWidth:a,spaceWidth:c}}catch{return null}};function KK(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var dk=(e,t,r,n)=>e.reduce((i,a)=>{var{word:c,width:f}=a,p=i[i.length-1];if(p&&f!=null&&(t==null||n||p.width+f+r<Number(t)))p.words.push(c),p.width+=f+r;else{var h={words:[c],width:f};i.push(h)}return i},[]),fk=e=>e.reduce((t,r)=>t.width>r.width?t:r),YK="",zN=(e,t,r,n,i,a,c,f)=>{var p=e.slice(0,t),h=uk({breakAll:r,style:n,children:p+YK});if(!h)return[!1,[]];var x=dk(h.wordsWithComputedWidth,a,c,f),y=x.length>i||fk(x).width>Number(a);return[y,x]},XK=(e,t,r,n,i)=>{var{maxLines:a,children:c,style:f,breakAll:p}=e,h=qe(a),x=String(c),y=dk(t,n,r,i);if(!h||i)return y;var S=y.length>a||fk(y).width>Number(n);if(!S)return y;for(var C=0,I=x.length-1,O=0,T;C<=I&&O<=x.length-1;){var M=Math.floor((C+I)/2),D=M-1,[R,B]=zN(x,D,p,f,a,n,r,i),[U]=zN(x,M,p,f,a,n,r,i);if(!R&&!U&&(C=M+1),R&&U&&(I=M-1),!R&&U){T=B;break}O++}return T||y},UN=e=>{var t=Zt(e)?[]:e.toString().split(ck);return[{words:t,width:void 0}]},QK=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:c}=e;if((t||r)&&!sf.isSsr){var f,p,h=uk({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:x,spaceWidth:y}=h;f=x,p=y}else return UN(n);return XK({breakAll:a,children:n,maxLines:c,style:i},f,p,t,!!r)}return UN(n)},hk="#808080",ZK={angle:0,breakAll:!1,capHeight:"0.71em",fill:hk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Am=_.forwardRef((e,t)=>{var r=Cr(e,ZK),{x:n,y:i,lineHeight:a,capHeight:c,fill:f,scaleToFit:p,textAnchor:h,verticalAnchor:x}=r,y=FN(r,VK),S=_.useMemo(()=>QK({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:p,style:y.style,width:y.width}),[y.breakAll,y.children,y.maxLines,p,y.style,y.width]),{dx:C,dy:I,angle:O,className:T,breakAll:M}=y,D=FN(y,qK);if(!ua(n)||!ua(i)||S.length===0)return null;var R=Number(n)+(qe(C)?C:0),B=Number(i)+(qe(I)?I:0);if(!Yt(R)||!Yt(B))return null;var U;switch(x){case"start":U=$x("calc(".concat(c,")"));break;case"middle":U=$x("calc(".concat((S.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:U=$x("calc(".concat(S.length-1," * -").concat(a,")"));break}var $=[];if(p){var V=S[0].width,{width:Z}=y;$.push("scale(".concat(qe(Z)&&qe(V)?Z/V:1,")"))}return O&&$.push("rotate(".concat(O,", ").concat(R,", ").concat(B,")")),$.length&&(D.transform=$.join(" ")),_.createElement("text",gy({},qn(D),{ref:t,x:R,y:B,className:zt("recharts-text",T),textAnchor:h,fill:f.includes("url")?hk:f}),S.map((K,ge)=>{var se=K.words.join(M?"":" ");return _.createElement("tspan",{x:R,dy:ge===0?U:a,key:"".concat(se,"-").concat(ge)},se)}))});Am.displayName="Text";var JK=["labelRef"],eY=["content"];function $N(e,t){if(e==null)return{};var r,n,i=tY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){rY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=iY(e,"string");return typeof t=="symbol"?t:t+""}function iY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}var pk=_.createContext(null),mk=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c,children:f}=e,p=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:c}),[t,r,n,i,a,c]);return _.createElement(pk.Provider,{value:p},f)},gk=()=>{var e=_.useContext(pk),t=ou();return e||P4(t)},aY=_.createContext(null),sY=()=>{var e=_.useContext(aY),t=Ge(iP);return e||t},oY=e=>{var{value:t,formatter:r}=e,n=Zt(e.children)?t:e.children;return typeof r=="function"?r(n):n},kw=e=>e!=null&&typeof e=="function",lY=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},cY=(e,t,r,n,i)=>{var{offset:a,className:c}=e,{cx:f,cy:p,innerRadius:h,outerRadius:x,startAngle:y,endAngle:S,clockWise:C}=i,I=(h+x)/2,O=lY(y,S),T=O>=0?1:-1,M,D;switch(t){case"insideStart":M=y+T*a,D=C;break;case"insideEnd":M=S-T*a,D=!C;break;case"end":M=S+T*a,D=C;break;default:throw new Error("Unsupported position ".concat(t))}D=O<=0?D:!D;var R=cn(f,p,I,M),B=cn(f,p,I,M+(D?1:-1)*359),U="M".concat(R.x,",").concat(R.y,`
    A`).concat(I,",").concat(I,",0,1,").concat(D?0:1,`,
    `).concat(B.x,",").concat(B.y),$=Zt(e.id)?jd("recharts-radial-line-"):e.id;return _.createElement("text",Ts({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",c)}),_.createElement("defs",null,_.createElement("path",{id:$,d:U})),_.createElement("textPath",{xlinkHref:"#".concat($)},r))},uY=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:c,startAngle:f,endAngle:p}=e,h=(f+p)/2;if(r==="outside"){var{x,y}=cn(n,i,c+t,h);return{x,y,textAnchor:x>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(a+c)/2,{x:C,y:I}=cn(n,i,S,h);return{x:C,y:I,textAnchor:"middle",verticalAnchor:"middle"}},xy=e=>"cx"in e&&qe(e.cx),dY=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!xy(r)&&(a=r);var{x:c,y:f,upperWidth:p,lowerWidth:h,height:x}=t,y=c,S=c+(p-h)/2,C=(y+S)/2,I=(p+h)/2,O=y+p/2,T=x>=0?1:-1,M=T*n,D=T>0?"end":"start",R=T>0?"start":"end",B=p>=0?1:-1,U=B*n,$=B>0?"end":"start",V=B>0?"start":"end";if(i==="top"){var Z={x:y+p/2,y:f-M,textAnchor:"middle",verticalAnchor:D};return Jr(Jr({},Z),a?{height:Math.max(f-a.y,0),width:p}:{})}if(i==="bottom"){var K={x:S+h/2,y:f+x+M,textAnchor:"middle",verticalAnchor:R};return Jr(Jr({},K),a?{height:Math.max(a.y+a.height-(f+x),0),width:h}:{})}if(i==="left"){var ge={x:C-U,y:f+x/2,textAnchor:$,verticalAnchor:"middle"};return Jr(Jr({},ge),a?{width:Math.max(ge.x-a.x,0),height:x}:{})}if(i==="right"){var se={x:C+I+U,y:f+x/2,textAnchor:V,verticalAnchor:"middle"};return Jr(Jr({},se),a?{width:Math.max(a.x+a.width-se.x,0),height:x}:{})}var ae=a?{width:I,height:x}:{};return i==="insideLeft"?Jr({x:C+U,y:f+x/2,textAnchor:V,verticalAnchor:"middle"},ae):i==="insideRight"?Jr({x:C+I-U,y:f+x/2,textAnchor:$,verticalAnchor:"middle"},ae):i==="insideTop"?Jr({x:y+p/2,y:f+M,textAnchor:"middle",verticalAnchor:R},ae):i==="insideBottom"?Jr({x:S+h/2,y:f+x-M,textAnchor:"middle",verticalAnchor:D},ae):i==="insideTopLeft"?Jr({x:y+U,y:f+M,textAnchor:V,verticalAnchor:R},ae):i==="insideTopRight"?Jr({x:y+p-U,y:f+M,textAnchor:$,verticalAnchor:R},ae):i==="insideBottomLeft"?Jr({x:S+U,y:f+x-M,textAnchor:V,verticalAnchor:D},ae):i==="insideBottomRight"?Jr({x:S+h-U,y:f+x-M,textAnchor:$,verticalAnchor:D},ae):i&&typeof i=="object"&&(qe(i.x)||Fs(i.x))&&(qe(i.y)||Fs(i.y))?Jr({x:c+si(i.x,I),y:f+si(i.y,x),textAnchor:"end",verticalAnchor:"end"},ae):Jr({x:O,y:f+x/2,textAnchor:"middle",verticalAnchor:"middle"},ae)},fY={angle:0,offset:5,zIndex:kr.label,position:"middle",textBreakAll:!1};function No(e){var t=Cr(e,fY),{viewBox:r,position:n,value:i,children:a,content:c,className:f="",textBreakAll:p,labelRef:h}=t,x=sY(),y=gk(),S=n==="center"?y:x??y,C,I,O;if(r==null?C=S:xy(r)?C=r:C=P4(r),!C||Zt(i)&&Zt(a)&&!_.isValidElement(c)&&typeof c!="function")return null;var T=Jr(Jr({},t),{},{viewBox:C});if(_.isValidElement(c)){var{labelRef:M}=T,D=$N(T,JK);return _.cloneElement(c,D)}if(typeof c=="function"){var{content:R}=T,B=$N(T,eY);if(I=_.createElement(c,B),_.isValidElement(I))return I}else I=oY(t);var U=qn(t);if(xy(C)){if(n==="insideStart"||n==="insideEnd"||n==="end")return cY(t,n,I,U,C);O=uY(C,t.offset,t.position)}else O=dY(t,C);return _.createElement(Rn,{zIndex:t.zIndex},_.createElement(Am,Ts({ref:h,className:zt("recharts-label",f)},U,O,{textAnchor:KK(U.textAnchor)?U.textAnchor:O.textAnchor,breakAll:p}),I))}No.displayName="Label";var hY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?_.createElement(No,Ts({key:"label-implicit"},n)):ua(e)?_.createElement(No,Ts({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===No?_.cloneElement(e,Jr({key:"label-implicit"},n)):_.createElement(No,Ts({key:"label-implicit",content:e},n)):kw(e)?_.createElement(No,Ts({key:"label-implicit",content:e},n)):e&&typeof e=="object"?_.createElement(No,Ts({},e,{key:"label-implicit"},n)):null};function xk(e){var{label:t,labelRef:r}=e,n=gk();return hY(t,n,r)||null}var Hx={},Wx={},WN;function pY(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Wx)),Wx}var Vx={},VN;function mY(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Vx)),Vx}var qN;function gY(){return qN||(qN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pY(),r=mY(),n=cb();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(Hx)),Hx}var qx,GN;function xY(){return GN||(GN=1,qx=gY().last),qx}var vY=xY();const yY=ma(vY);var bY=["valueAccessor"],wY=["dataKey","clockWise","id","textBreakAll","zIndex"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function KN(e,t){if(e==null)return{};var r,n,i=EY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SY=e=>Array.isArray(e.value)?yY(e.value):e.value,vk=_.createContext(void 0),Cm=vk.Provider,yk=_.createContext(void 0),AY=yk.Provider;function CY(){return _.useContext(vk)}function _Y(){return _.useContext(yk)}function g0(e){var{valueAccessor:t=SY}=e,r=KN(e,bY),{dataKey:n,clockWise:i,id:a,textBreakAll:c,zIndex:f}=r,p=KN(r,wY),h=CY(),x=_Y(),y=h||x;return!y||!y.length?null:_.createElement(Rn,{zIndex:f??kr.label},_.createElement(or,{className:"recharts-label-list"},y.map((S,C)=>{var I,O=Zt(n)?t(S,C):$t(S&&S.payload,n),T=Zt(a)?{}:{id:"".concat(a,"-").concat(C)};return _.createElement(No,gp({key:"label-".concat(C)},qn(S),p,T,{fill:(I=r.fill)!==null&&I!==void 0?I:S.fill,parentViewBox:S.parentViewBox,value:O,textBreakAll:c,viewBox:S.viewBox,index:C,zIndex:0}))})))}g0.displayName="LabelList";function bf(e){var{label:t}=e;return t?t===!0?_.createElement(g0,{key:"labelList-implicit"}):_.isValidElement(t)||kw(t)?_.createElement(g0,{key:"labelList-implicit",content:t}):typeof t=="object"?_.createElement(g0,gp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}var bk=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=zt("recharts-dot",i);return qe(t)&&qe(r)&&qe(n)?_.createElement("circle",vy({},Vn(e),lb(e),{className:a,cx:t,cy:r,r:n})):null},wk=e=>e.graphicalItems.polarItems,NY=fe([Mr,ff],nw),_m=fe([wk,Ur,NY],iw),IY=fe([_m],aw),Nm=fe([IY,dm],sw),OY=fe([Nm,Ur,_m],lw);fe([Nm,Ur,_m],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,c=$t(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:$t(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var YN=()=>{},TY=fe([Nm,Ur,_m,bm,Mr],fw),jY=fe([Ur,uw,dw,YN,TY,YN,Mt,Mr],hw),Ek=fe([Ur,Mt,Nm,OY,df,Mr,jY],pw),PY=fe([Ek,Ur,pu],xw);fe([Ur,Ek,PY,Mr],yw);var kY={radiusAxis:{},angleAxis:{}},Sk=_i({name:"polarAxis",initialState:kY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kie,removeRadiusAxis:Rie,addAngleAxis:Mie,removeAngleAxis:Die}=Sk.actions,RY=Sk.reducer;function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BY=(e,t)=>t,Rw=fe([wk,BY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),FY=[],Mw=(e,t,r)=>r?.length===0?FY:r,Ak=fe([dm,Rw,Mw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>QN(QN({},t.presentationProps),a.props))),i!=null)return i}}),zY=fe([Ak,Rw,Mw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,c=$t(n,t.nameKey,t.name),f;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:is(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),UY=fe([Ak,Rw,Mw,bn],(e,t,r,n)=>{if(!(t==null||e==null))return HX({offset:n,pieSettings:t,displayedData:e,cells:r})}),Gx={exports:{}},ar={};var ZN;function $Y(){if(ZN)return ar;ZN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function I(O){if(typeof O=="object"&&O!==null){var T=O.$$typeof;switch(T){case e:switch(O=O.type,O){case r:case i:case n:case p:case h:case S:return O;default:switch(O=O&&O.$$typeof,O){case c:case f:case y:case x:return O;case a:return O;default:return T}}case t:return T}}}return ar.ContextConsumer=a,ar.ContextProvider=c,ar.Element=e,ar.ForwardRef=f,ar.Fragment=r,ar.Lazy=y,ar.Memo=x,ar.Portal=t,ar.Profiler=i,ar.StrictMode=n,ar.Suspense=p,ar.SuspenseList=h,ar.isContextConsumer=function(O){return I(O)===a},ar.isContextProvider=function(O){return I(O)===c},ar.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},ar.isForwardRef=function(O){return I(O)===f},ar.isFragment=function(O){return I(O)===r},ar.isLazy=function(O){return I(O)===y},ar.isMemo=function(O){return I(O)===x},ar.isPortal=function(O){return I(O)===t},ar.isProfiler=function(O){return I(O)===i},ar.isStrictMode=function(O){return I(O)===n},ar.isSuspense=function(O){return I(O)===p},ar.isSuspenseList=function(O){return I(O)===h},ar.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===i||O===n||O===p||O===h||typeof O=="object"&&O!==null&&(O.$$typeof===y||O.$$typeof===x||O.$$typeof===c||O.$$typeof===a||O.$$typeof===f||O.$$typeof===C||O.getModuleId!==void 0)},ar.typeOf=I,ar}var JN;function HY(){return JN||(JN=1,Gx.exports=$Y()),Gx.exports}var WY=HY(),e3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",t3=null,Kx=null,Ck=e=>{if(e===t3&&Array.isArray(Kx))return Kx;var t=[];return _.Children.forEach(e,r=>{Zt(r)||(WY.isFragment(r)?t=t.concat(Ck(r.props.children)):t.push(r))}),Kx=t,t3=e,t};function Im(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>e3(i)):n=[e3(t)],Ck(e).forEach(i=>{var a=Ml(i,"type.displayName")||Ml(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var Dw=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Yx={},r3;function VY(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Yx)),Yx}var Xx,n3;function qY(){return n3||(n3=1,Xx=VY().isPlainObject),Xx}var GY=qY();const KY=ma(GY);var i3,a3,s3,o3,l3;function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function dd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d3=(e,t,r,n,i)=>{var a=r-n,c;return c=Gr(i3||(i3=dd(["M ",",",""])),e,t),c+=Gr(a3||(a3=dd(["L ",",",""])),e+r,t),c+=Gr(s3||(s3=dd(["L ",",",""])),e+r-a/2,t+i),c+=Gr(o3||(o3=dd(["L ",",",""])),e+r-a/2-n,t+i),c+=Gr(l3||(l3=dd(["L ",","," Z"])),e,t),c},ZY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JY=e=>{var t=Cr(e,ZY),{x:r,y:n,upperWidth:i,lowerWidth:a,height:c,className:f}=t,{animationEasing:p,animationDuration:h,animationBegin:x,isUpdateAnimationActive:y}=t,S=_.useRef(null),[C,I]=_.useState(-1),O=_.useRef(i),T=_.useRef(a),M=_.useRef(c),D=_.useRef(r),R=_.useRef(n),B=ql(e,"trapezoid-");if(_.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var _e=S.current.getTotalLength();_e&&I(_e)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||c!==+c||i===0&&a===0||c===0)return null;var U=zt("recharts-trapezoid",f);if(!y)return _.createElement("g",null,_.createElement("path",xp({},qn(t),{className:U,d:d3(r,n,i,a,c)})));var $=O.current,V=T.current,Z=M.current,K=D.current,ge=R.current,se="0px ".concat(C===-1?1:C,"px"),ae="".concat(C,"px 0px"),Se=V4(["strokeDasharray"],h,p);return _.createElement(Vl,{animationId:B,key:B,canBegin:C>0,duration:h,easing:p,isActive:y,begin:x},_e=>{var re=Ut($,i,_e),Fe=Ut(V,a,_e),le=Ut(Z,c,_e),pe=Ut(K,r,_e),xe=Ut(ge,n,_e);S.current&&(O.current=re,T.current=Fe,M.current=le,D.current=pe,R.current=xe);var Ae=_e>0?{transition:Se,strokeDasharray:ae}:{strokeDasharray:se};return _.createElement("path",xp({},qn(t),{className:U,d:d3(pe,xe,re,Fe,le),ref:S,style:u3(u3({},Ae),t.style)}))})},eX=["option","shapeType","activeClassName"];function tX(e,t){if(e==null)return{};var r,n,i=rX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function f3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f3(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sX(e,t){return vp(vp({},t),e)}function oX(e,t){return e==="symbols"}function h3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(Y4,r);case"trapezoid":return _.createElement(JY,r);case"sector":return _.createElement(J4,r);case"symbols":if(oX(t))return _.createElement(zp,r);break;case"curve":return _.createElement(Nl,r);default:return null}}function lX(e){return _.isValidElement(e)?e.props:e}function Vd(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=tX(e,eX),a;if(_.isValidElement(t))a=_.cloneElement(t,vp(vp({},i),lX(t)));else if(typeof t=="function")a=t(i,i.index);else if(KY(t)&&typeof t!="boolean"){var c=sX(t,i);a=_.createElement(h3,{shapeType:r,elementProps:c})}else{var f=i;a=_.createElement(h3,{shapeType:r,elementProps:f})}return i.isActive?_.createElement(or,{className:n},a):a}var Om=(e,t,r)=>{var n=dr();return(i,a)=>c=>{e?.(i,a,c),n(DP({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Tm=e=>{var t=dr();return(r,n)=>i=>{e?.(r,n,i),t(vq())}},jm=(e,t,r)=>{var n=dr();return(i,a)=>c=>{e?.(i,a,c),n(yq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function wf(e){var{tooltipEntrySettings:t}=e,r=dr(),n=en(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(pq(t)):i.current!==t&&r(mq({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(gq(i.current)),i.current=null)},[r]),null}function Pm(e){var{legendPayload:t}=e,r=dr(),n=en(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(i.current===null?r(U4(t)):i.current!==t&&r($4({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(H4(i.current)),i.current=null)},[r]),null}function cX(e){var{legendPayload:t}=e,r=dr(),n=Ge(Mt),i=_.useRef(null);return _.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(U4(t)):i.current!==t&&r($4({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(H4(i.current)),i.current=null)},[r]),null}var Qx,uX=()=>{var[e]=_.useState(()=>jd("uid-"));return e},dX=(Qx=bR.useId)!==null&&Qx!==void 0?Qx:uX;function fX(e,t){var r=dX();return t||(e?"".concat(e,"-").concat(r):r)}var hX=_.createContext(void 0),Ef=e=>{var{id:t,type:r,children:n}=e,i=fX("recharts-".concat(r),t);return _.createElement(hX.Provider,{value:i},n(i))},pX={cartesianItems:[],polarItems:[]},_k=_i({name:"graphicalItems",initialState:pX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:jr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ma(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:jr()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ma(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:jr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:jr()},removePolarGraphicalItem:{reducer(e,t){var r=Ma(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:jr()}}}),{addCartesianGraphicalItem:mX,replaceCartesianGraphicalItem:gX,removeCartesianGraphicalItem:xX,addPolarGraphicalItem:vX,removePolarGraphicalItem:yX}=_k.actions,bX=_k.reducer,wX=e=>{var t=dr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(xX(r.current)),r.current=null)},[t]),null},km=_.memo(wX);function EX(e){var t=dr();return _.useLayoutEffect(()=>(t(vX(e)),()=>{t(yX(e))}),[t,e]),null}var SX=["key"],AX=["onMouseEnter","onClick","onMouseLeave"],CX=["id"],_X=["id"];function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=IX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lo.apply(null,arguments)}function Rm(e,t){if(e==null)return{};var r,n,i=TX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jX(e){var t=_.useMemo(()=>Im(e.children,zl),[e.children]),r=Ge(n=>zY(n,e.id,t));return r==null?null:_.createElement(cX,{legendPayload:r})}var PX=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:c,name:f,hide:p,tooltipType:h,id:x}=e,y={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:c,dataKey:t,nameKey:r,name:is(f,t),hide:p,type:h,color:c,unit:"",graphicalItemId:x}};return _.createElement(wf,{tooltipEntrySettings:y})}),kX=(e,t)=>e>t?"start":e<t?"end":"middle",RX=(e,t,r)=>si(typeof t=="function"?t(e):t,r,r*.8),MX=(e,t,r)=>{var{top:n,left:i,width:a,height:c}=t,f=X4(a,c),p=i+si(e.cx,a,a/2),h=n+si(e.cy,c,c/2),x=si(e.innerRadius,f,0),y=RX(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(a*a+c*c)/2;return{cx:p,cy:h,innerRadius:x,outerRadius:y,maxRadius:S}},DX=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function LX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var BX=(e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if(typeof e=="function")return e(t);var r=zt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Rm(t,SX);return _.createElement(Nl,Lo({},i,{type:"linear",className:r}))},FX=(e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),_.isValidElement(n)))return n;var i=zt("recharts-pie-label-text",LX(e));return _.createElement(Am,Lo({},t,{alignmentBaseline:"middle",className:i}),n)};function zX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:c}=r;if(!n||!i||!t)return null;var f=Vn(r),p=Ro(i),h=Ro(a),x=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,y=t.map((S,C)=>{var I=(S.startAngle+S.endAngle)/2,O=cn(S.cx,S.cy,S.outerRadius+x,I),T=Kr(Kr(Kr(Kr({},f),S),{},{stroke:"none"},p),{},{index:C,textAnchor:kX(O.x,S.cx)},O),M=Kr(Kr(Kr(Kr({},f),S),{},{fill:"none",stroke:S.fill},h),{},{index:C,points:[cn(S.cx,S.cy,S.outerRadius,I),O],key:"line"});return _.createElement(Rn,{zIndex:kr.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(C)},_.createElement(or,null,a&&BX(a,M),FX(i,T,$t(S,c))))});return _.createElement(or,{className:"recharts-pie-labels"},y)}function UX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(bf,{label:i}):_.createElement(zX,{sectors:t,props:r,showLabels:n})}function $X(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:c}=e,f=Ge(Vs),p=Ge(Iw),h=Ge(iG),{onMouseEnter:x,onClick:y,onMouseLeave:S}=i,C=Rm(i,AX),I=Om(x,i.dataKey,c),O=Tm(S),T=jm(y,i.dataKey,c);return t==null||t.length===0?null:_.createElement(_.Fragment,null,t.map((M,D)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var R=h==null||h===c,B=String(D)===f&&(p==null||i.dataKey===p)&&R,U=f?n:null,$=r&&B?r:U,V=Kr(Kr({},M),{},{stroke:M.stroke,tabIndex:-1,[xb]:D,[vb]:c});return _.createElement(or,Lo({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(D),tabIndex:-1,className:"recharts-pie-sector"},su(C,M,D),{onMouseEnter:I(M,D),onMouseLeave:O(M,D),onClick:T(M,D)}),_.createElement(Vd,Lo({option:a??$,index:D,shapeType:"sector",isActive:B},V)))}))}function HX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:c,startAngle:f,endAngle:p,dataKey:h,nameKey:x,tooltipType:y}=r,S=Math.abs(r.minAngle),C=DX(f,p),I=Math.abs(C),O=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter($=>$t($,h,0)!==0).length,M=(I>=360?T:T-1)*O,D=I-T*S-M,R=n.reduce(($,V)=>{var Z=$t(V,h,0);return $+(qe(Z)?Z:0)},0),B;if(R>0){var U;B=n.map(($,V)=>{var Z=$t($,h,0),K=$t($,x,V),ge=MX(r,a,$),se=(qe(Z)?Z:0)/R,ae,Se=Kr(Kr({},$),i&&i[V]&&i[V].props);V?ae=U.endAngle+Pn(C)*O*(Z!==0?1:0):ae=f;var _e=ae+Pn(C)*((Z!==0?S:0)+se*D),re=(ae+_e)/2,Fe=(ge.innerRadius+ge.outerRadius)/2,le=[{name:K,value:Z,payload:Se,dataKey:h,type:y,graphicalItemId:r.id}],pe=cn(ge.cx,ge.cy,Fe,re);return U=Kr(Kr(Kr(Kr({},r.presentationProps),{},{percent:se,cornerRadius:typeof c=="string"?parseFloat(c):c,name:K,tooltipPayload:le,midAngle:re,middleRadius:Fe,tooltipPosition:pe},Se),ge),{},{value:Z,dataKey:h,startAngle:ae,endAngle:_e,payload:Se,paddingAngle:Pn(C)*O}),U})}return B}function WX(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return _.createElement(AY,{value:t?i:void 0},n)}function VX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:p,activeShape:h,inactiveShape:x,onAnimationStart:y,onAnimationEnd:S}=t,C=ql(t,"recharts-pie-"),I=r.current,[O,T]=_.useState(!1),M=_.useCallback(()=>{typeof S=="function"&&S(),T(!1)},[S]),D=_.useCallback(()=>{typeof y=="function"&&y(),T(!0)},[y]);return _.createElement(WX,{showLabels:!O,sectors:i},_.createElement(Vl,{animationId:C,begin:c,duration:f,isActive:a,easing:p,onAnimationStart:D,onAnimationEnd:M,key:C},R=>{var B=[],U=i&&i[0],$=U?.startAngle;return i?.forEach((V,Z)=>{var K=I&&I[Z],ge=Z>0?Ml(V,"paddingAngle",0):0;if(K){var se=Ut(K.endAngle-K.startAngle,V.endAngle-V.startAngle,R),ae=Kr(Kr({},V),{},{startAngle:$+ge,endAngle:$+se+ge});B.push(ae),$=ae.endAngle}else{var{endAngle:Se,startAngle:_e}=V,re=Ut(0,Se-_e,R),Fe=Kr(Kr({},V),{},{startAngle:$+ge,endAngle:$+re+ge});B.push(Fe),$=Fe.endAngle}}),r.current=B,_.createElement(or,null,_.createElement($X,{sectors:B,activeShape:h,inactiveShape:x,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(UX,{showLabels:!O,sectors:i,props:t}),t.children)}var qX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:kr.area};function GX(e){var{id:t}=e,r=Rm(e,CX),{hide:n,className:i,rootTabIndex:a}=e,c=_.useMemo(()=>Im(e.children,zl),[e.children]),f=Ge(x=>UY(x,t,c)),p=_.useRef(null),h=zt("recharts-pie",i);return n||f==null?(p.current=null,_.createElement(or,{tabIndex:a,className:h})):_.createElement(Rn,{zIndex:e.zIndex},_.createElement(PX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(or,{tabIndex:a,className:h},_.createElement(VX,{props:Kr(Kr({},r),{},{sectors:f}),previousSectorsRef:p,id:t})))}function Nk(e){var t=Cr(e,qX),{id:r}=t,n=Rm(t,_X),i=Vn(n);return _.createElement(Ef,{id:r,type:"pie"},a=>_.createElement(_.Fragment,null,_.createElement(EX,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(jX,Lo({},n,{id:a})),_.createElement(GX,Lo({},n,{id:a}))))}Nk.displayName="Pie";var KX=["points"];function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){YX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YX(e,t,r){return(t=XX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}function ZX(e,t){if(e==null)return{};var r,n,i=JX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eQ(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if(typeof t=="function")return t(r);var i=zt(n,typeof t!="boolean"?t.className:""),a=r??{},{points:c}=a,f=ZX(a,KX);return _.createElement(bk,yp({},f,{className:i}))}function tQ(e,t){return e==null?!1:t?!0:e.length===1}function Ik(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:c,needClip:f,clipPathId:p,zIndex:h=kr.scatter}=e;if(!tQ(t,r))return null;var x=Dw(r),y=y9(r),S=t.map((I,O)=>{var T,M,D=Zx(Zx(Zx({r:3},c),y),{},{index:O,cx:(T=I.x)!==null&&T!==void 0?T:void 0,cy:(M=I.y)!==null&&M!==void 0?M:void 0,dataKey:a,value:I.value,payload:I.payload,points:t});return _.createElement(eQ,{key:"dot-".concat(O),option:r,dotProps:D,className:i})}),C={};return f&&p!=null&&(C.clipPath="url(#clipPath-".concat(x?"":"dots-").concat(p,")")),_.createElement(Rn,{zIndex:h},_.createElement(or,yp({className:n},C),S))}function g3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ok=0,aQ={xAxis:{},yAxis:{},zAxis:{}},Tk=_i({name:"cartesianAxis",initialState:aQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:jr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:jr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:jr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:jr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:jr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:jr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:jr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:jr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:jr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var c=[...a,n].slice(-3);e.yAxis[r]=x3(x3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:sQ,replaceXAxis:oQ,removeXAxis:lQ,addYAxis:cQ,replaceYAxis:uQ,removeYAxis:dQ,addZAxis:Lie,replaceZAxis:Bie,removeZAxis:Fie,updateYAxisWidth:fQ}=Tk.actions,hQ=Tk.reducer,pQ=fe([bn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),mQ=fe([pQ,Ks,Ys],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Mm=()=>Ge(mQ),gQ=()=>Ge(cG);function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){xQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bQ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:c}=e;if(i===!1||t.x==null||t.y==null)return null;var f={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},p=Jx(Jx(Jx({},f),Ro(i)),lb(i)),h;return _.isValidElement(i)?h=_.cloneElement(i,p):typeof i=="function"?h=i(p):h=_.createElement(bk,p),_.createElement(or,{className:"recharts-active-dot",clipPath:c},h)};function yy(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:c=kr.activeDot}=e,f=Ge(Vs),p=gQ();if(t==null||p==null)return null;var h=t.find(x=>p.includes(x.payload));return Zt(h)?null:_.createElement(Rn,{zIndex:c},_.createElement(bQ,{point:h,childIndex:Number(f),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var y3=(e,t,r)=>{var n=r??e;if(!Zt(n))return si(n,t,0)},wQ=(e,t,r)=>{var n={},i=e.filter(gm),a=e.filter(h=>h.stackId==null),c=i.reduce((h,x)=>(h[x.stackId]||(h[x.stackId]=[]),h[x.stackId].push(x),h),n),f=Object.entries(c).map(h=>{var[x,y]=h,S=y.map(I=>I.dataKey),C=y3(t,r,y[0].barSize);return{stackId:x,dataKeys:S,barSize:C}}),p=a.map(h=>{var x=[h.dataKey].filter(S=>S!=null),y=y3(t,r,h.barSize);return{stackId:void 0,dataKeys:x,barSize:y}});return[...f,...p]};function b3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b3(Object(r),!0).forEach(function(n){EQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CQ(e,t,r,n,i){var a=n.length;if(!(a<1)){var c=si(e,r,0,!0),f,p=[];if(Yt(n[0].barSize)){var h=!1,x=r/a,y=n.reduce((M,D)=>M+(D.barSize||0),0);y+=(a-1)*c,y>=r&&(y-=(a-1)*c,c=0),y>=r&&x>0&&(h=!0,x*=.9,y=a*x);var S=(r-y)/2>>0,C={offset:S-c,size:0};f=n.reduce((M,D)=>{var R,B={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:C.offset+C.size+c,size:h?x:(R=D.barSize)!==null&&R!==void 0?R:0}},U=[...M,B];return C=U[U.length-1].position,U},p)}else{var I=si(t,r,0,!0);r-2*I-(a-1)*c<=0&&(c=0);var O=(r-2*I-(a-1)*c)/a;O>1&&(O>>=0);var T=Yt(i)?Math.min(O,i):O;f=n.reduce((M,D,R)=>[...M,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:I+(O+c)*R+(O-T)/2,size:T}}],p)}return f}}var _Q=(e,t,r,n,i,a,c)=>{var f=Zt(c)?t:c,p=CQ(r,n,i!==a?i:a,e,f);return i!==a&&p!=null&&(p=p.map(h=>r0(r0({},h),{},{position:r0(r0({},h.position),{},{offset:h.position.offset-i/2})}))),p},NQ=(e,t)=>{var r=mm(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(c=>c.key===r)}}}};function IQ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Yt(e.zIndex)?e.zIndex:t}var jk=e=>{var{chartData:t}=e,r=dr(),n=en();return _.useEffect(()=>n?()=>{}:(r(NN(t)),()=>{r(NN(void 0))}),[t,r,n]),null},w3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Pk=_i({name:"brush",initialState:w3,reducers:{setBrushSettings(e,t){return t.payload==null?w3:t.payload}}}),{setBrushSettings:zie}=Pk.actions,OQ=Pk.reducer;function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kk(e,t,r){return(t=TQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return{x:Math.min(r,i),y:Math.min(n,a),width:Math.abs(i-r),height:Math.abs(a-n)}},kQ=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return PQ({x:t,y:r},{x:n,y:i})};class Dm{static create(t){return new Dm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}kk(Dm,"EPS",1e-4);var RQ=e=>{var t=Object.keys(e).reduce((r,n)=>n0(n0({},r),{},{[n]:Dm.create(e[n])}),{});return n0(n0({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(a=>{var[c,f]=a;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function MQ(e){return(e%180+180)%180}var DQ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=MQ(i),c=a*Math.PI/180,f=Math.atan(n/r),p=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(p)},LQ={dots:[],areas:[],lines:[]},Rk=_i({name:"referenceElements",initialState:LQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ma(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ma(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ma(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Uie,removeDot:$ie,addArea:Hie,removeArea:Wie,addLine:BQ,removeLine:FQ}=Rk.actions,zQ=Rk.reducer,Mk=_.createContext(void 0),UQ=e=>{var{children:t}=e,[r]=_.useState("".concat(jd("recharts"),"-clip")),n=Mm();if(n==null)return null;var{x:i,y:a,width:c,height:f}=n;return _.createElement(Mk.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:f,width:c}))),t)},$Q=()=>_.useContext(Mk);function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}var qQ=(e,t)=>{var r;if(_.isValidElement(e))r=_.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Yt(t.x1)||!Yt(t.y1)||!Yt(t.x2)||!Yt(t.y2))return null;r=_.createElement("line",bp({},t,{className:"recharts-reference-line-line"}))}return r},GQ=(e,t,r,n,i,a)=>{var{x:c,width:f}=a,p=i.y.apply(e,{position:r});if(Ci(p)||t==="discard"&&!i.y.isInRange(p))return null;var h=[{x:c+f,y:p},{x:c,y:p}];return n==="left"?h.reverse():h},KQ=(e,t,r,n,i,a)=>{var{y:c,height:f}=a,p=i.x.apply(e,{position:r});if(Ci(p)||t==="discard"&&!i.x.isInRange(p))return null;var h=[{x:p,y:c+f},{x:p,y:c}];return n==="top"?h.reverse():h},YQ=(e,t,r,n)=>{var i=e.map(a=>n.apply(a,{position:r}));return t==="discard"&&i.some(a=>!n.isInRange(a))?null:i},XQ=(e,t,r,n,i,a)=>{var{x:c,y:f,segment:p,ifOverflow:h}=a,x=ua(c),y=ua(f);return y?GQ(f,h,r,i,e,t):x?KQ(c,h,r,n,e,t):p!=null&&p.length===2?YQ(p,h,r,e):null};function QQ(e){var t=dr();return _.useEffect(()=>(t(BQ(e)),()=>{t(FQ(e))})),null}function ZQ(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:a}=e,c=en(),f=$Q(),p=Ge($=>as($,t)),h=Ge($=>ss($,r)),x=Ge($=>eu($,"xAxis",t,c)),y=Ge($=>eu($,"yAxis",r,c)),S=ou();if(!f||!S||p==null||h==null||x==null||y==null)return null;var C=RQ({x,y}),I=XQ(C,S,e.position,p.orientation,h.orientation,e);if(!I)return null;var[{x:O,y:T},{x:M,y:D}]=I,R=a==="hidden"?"url(#".concat(f,")"):void 0,B=A3(A3({clipPath:R},qn(e)),{},{x1:O,y1:T,x2:M,y2:D}),U=kQ({x1:O,y1:T,x2:M,y2:D});return _.createElement(Rn,{zIndex:e.zIndex},_.createElement(or,{className:zt("recharts-reference-line",i)},qQ(n,B),_.createElement(mk,bp({},U,{lowerWidth:U.width,upperWidth:U.width}),_.createElement(xk,{label:e.label}),e.children)))}var JQ={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:kr.line};function Dk(e){var t=Cr(e,JQ);return _.createElement(_.Fragment,null,_.createElement(QQ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),_.createElement(ZQ,t))}Dk.displayName="ReferenceLine";function Lk(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function eZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return DQ(n,r)}function tZ(e,t,r){var n=r==="width",{x:i,y:a,width:c,height:f}=e;return t===1?{start:n?i:a,end:n?i+c:a+f}:{start:n?i+c:a+f,end:n?i:a}}function qd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function rZ(e,t){return Lk(e,t+1)}function nZ(e,t,r,n,i){for(var a=(n||[]).slice(),{start:c,end:f}=t,p=0,h=1,x=c,y=function(){var I=n?.[p];if(I===void 0)return{v:Lk(n,h)};var O=p,T,M=()=>(T===void 0&&(T=r(I,O)),T),D=I.coordinate,R=p===0||qd(e,D,M,x,f);R||(p=0,x=c,h+=1),R&&(x=D+e*(M()/2+i),p+=h)},S;h<=a.length;)if(S=y(),S)return S.v;return[]}function iZ(e,t,r,n,i){var a=(n||[]).slice(),c=a.length;if(c===0)return[];for(var{start:f,end:p}=t,h=1;h<=c;h++){for(var x=(c-1)%h,y=f,S=!0,C=function(){var D=n[I],R=I,B,U=()=>(B===void 0&&(B=r(D,R)),B),$=D.coordinate,V=I===x||qd(e,$,U,y,p);if(!V)return S=!1,1;V&&(y=$+e*(U()/2+i))},I=x;I<c&&!C();I+=h);if(S){for(var O=[],T=x;T<c;T+=h)O.push(n[T]);return O}}return[]}function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lZ(e,t,r,n,i){for(var a=(n||[]).slice(),c=a.length,{start:f}=t,{end:p}=t,h=function(S){var C=a[S],I,O=()=>(I===void 0&&(I=r(C,S)),I);if(S===c-1){var T=e*(C.coordinate+e*O()/2-p);a[S]=C=ii(ii({},C),{},{tickCoord:T>0?C.coordinate-T*e:C.coordinate})}else a[S]=C=ii(ii({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var M=qd(e,C.tickCoord,O,f,p);M&&(p=C.tickCoord-e*(O()/2+i),a[S]=ii(ii({},C),{},{isShow:!0}))}},x=c-1;x>=0;x--)h(x);return a}function cZ(e,t,r,n,i,a){var c=(n||[]).slice(),f=c.length,{start:p,end:h}=t;if(a){var x=n[f-1],y=r(x,f-1),S=e*(x.coordinate+e*y/2-h);if(c[f-1]=x=ii(ii({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate}),x.tickCoord!=null){var C=qd(e,x.tickCoord,()=>y,p,h);C&&(h=x.tickCoord-e*(y/2+i),c[f-1]=ii(ii({},x),{},{isShow:!0}))}}for(var I=a?f-1:f,O=function(D){var R=c[D],B,U=()=>(B===void 0&&(B=r(R,D)),B);if(D===0){var $=e*(R.coordinate-e*U()/2-p);c[D]=R=ii(ii({},R),{},{tickCoord:$<0?R.coordinate-$*e:R.coordinate})}else c[D]=R=ii(ii({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var V=qd(e,R.tickCoord,U,p,h);V&&(p=R.tickCoord+e*(U()/2+i),c[D]=ii(ii({},R),{},{isShow:!0}))}},T=0;T<I;T++)O(T);return c}function Lw(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:c,orientation:f,interval:p,tickFormatter:h,unit:x,angle:y}=e;if(!i||!i.length||!n)return[];if(qe(p)||sf.isSsr){var S;return(S=rZ(i,qe(p)?p:0))!==null&&S!==void 0?S:[]}var C=[],I=f==="top"||f==="bottom"?"width":"height",O=x&&I==="width"?wd(x,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(R,B)=>{var U=typeof h=="function"?h(R.value,B):R.value;return I==="width"?eZ(wd(U,{fontSize:t,letterSpacing:r}),O,y):wd(U,{fontSize:t,letterSpacing:r})[I]},M=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,D=tZ(a,M,I);return p==="equidistantPreserveStart"?nZ(M,D,T,i,c):p==="equidistantPreserveEnd"?iZ(M,D,T,i,c):(p==="preserveStart"||p==="preserveStartEnd"?C=cZ(M,D,T,i,c,p==="preserveStartEnd"):C=lZ(M,D,T,i,c),C.filter(R=>R.isShow))}var uZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,c=0;if(t){Array.from(t).forEach(x=>{if(x){var y=x.getBoundingClientRect();y.width>c&&(c=y.width)}});var f=r?r.getBoundingClientRect().width:0,p=i+a,h=c+p+f+(r?n:0);return Math.round(h)}return 0},dZ=["axisLine","width","height","className","hide","ticks","axisType"];function fZ(e,t){if(e==null)return{};var r,n,i=hZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(null,arguments)}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ls={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:kr.axis};function xZ(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:c,axisLine:f,otherSvgProps:p}=e;if(!f)return null;var h=ln(ln(ln({},p),Vn(f)),{},{fill:"none"});if(a==="top"||a==="bottom"){var x=+(a==="top"&&!c||a==="bottom"&&c);h=ln(ln({},h),{},{x1:t,y1:r+x*i,x2:t+n,y2:r+x*i})}else{var y=+(a==="left"&&!c||a==="right"&&c);h=ln(ln({},h),{},{x1:t+y*n,y1:r,x2:t+y*n,y2:r+i})}return _.createElement("line",Ul({},h,{className:zt("recharts-cartesian-axis-line",Ml(f,"className"))}))}function vZ(e,t,r,n,i,a,c,f,p){var h,x,y,S,C,I,O=f?-1:1,T=e.tickSize||c,M=qe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":h=x=e.coordinate,S=r+ +!f*i,y=S-O*T,I=y-O*p,C=M;break;case"left":y=S=e.coordinate,x=t+ +!f*n,h=x-O*T,C=h-O*p,I=M;break;case"right":y=S=e.coordinate,x=t+ +f*n,h=x+O*T,C=h+O*p,I=M;break;default:h=x=e.coordinate,S=r+ +f*i,y=S+O*T,I=y+O*p,C=M;break}return{line:{x1:h,y1:y,x2:x,y2:S},tick:{x:C,y:I}}}function yZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wZ(e){var{option:t,tickProps:r,value:n}=e,i,a=zt(r.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(t))i=_.cloneElement(t,ln(ln({},r),{},{className:a}));else if(typeof t=="function")i=t(ln(ln({},r),{},{className:a}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=zt(c,t?.className)),i=_.createElement(Am,Ul({},r,{className:c}),n)}return i}var EZ=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:c,unit:f,padding:p,tickTextProps:h,orientation:x,mirror:y,x:S,y:C,width:I,height:O,tickSize:T,tickMargin:M,fontSize:D,letterSpacing:R,getTicksConfig:B,events:U,axisType:$}=e,V=Lw(ln(ln({},B),{},{ticks:r}),D,R),Z=yZ(x,y),K=bZ(x,y),ge=Vn(B),se=Ro(n),ae={};typeof i=="object"&&(ae=i);var Se=ln(ln({},ge),{},{fill:"none"},ae),_e=V.map(le=>ln({entry:le},vZ(le,S,C,I,O,x,T,y,M))),re=_e.map(le=>{var{entry:pe,line:xe}=le;return _.createElement(or,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(pe.value,"-").concat(pe.coordinate,"-").concat(pe.tickCoord)},i&&_.createElement("line",Ul({},Se,xe,{className:zt("recharts-cartesian-axis-tick-line",Ml(i,"className"))})))}),Fe=_e.map((le,pe)=>{var{entry:xe,tick:Ae}=le,J=ln(ln(ln(ln({textAnchor:Z,verticalAnchor:K},ge),{},{stroke:"none",fill:a},se),Ae),{},{index:pe,payload:xe,visibleTicksCount:V.length,tickFormatter:c,padding:p},h);return _.createElement(or,Ul({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},su(U,xe,pe)),n&&_.createElement(wZ,{option:n,tickProps:J,value:"".concat(typeof c=="function"?c(xe.value,pe):xe.value).concat(f||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat($,"-ticks")},Fe.length>0&&_.createElement(Rn,{zIndex:kr.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat($,"-tick-labels"),ref:t},Fe)),re.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat($,"-tick-lines")},re))}),SZ=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:c,ticks:f,axisType:p}=e,h=fZ(e,dZ),[x,y]=_.useState(""),[S,C]=_.useState(""),I=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return uZ({ticks:I.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var O=_.useCallback(T=>{if(T){var M=T.getElementsByClassName("recharts-cartesian-axis-tick-value");I.current=M;var D=M[0];if(D){var R=window.getComputedStyle(D),B=R.fontSize,U=R.letterSpacing;(B!==x||U!==S)&&(y(B),C(U))}}},[x,S]);return c||n!=null&&n<=0||i!=null&&i<=0?null:_.createElement(Rn,{zIndex:e.zIndex},_.createElement(or,{className:zt("recharts-cartesian-axis",a)},_.createElement(xZ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Vn(e)}),_.createElement(EZ,{ref:O,axisType:p,events:h,fontSize:x,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(mk,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(xk,{label:e.label,labelRef:e.labelRef}),e.children)))}),Bw=_.forwardRef((e,t)=>{var r=Cr(e,Ls);return _.createElement(SZ,Ul({},r,{ref:t}))});Bw.displayName="CartesianAxis";var AZ=["x1","y1","x2","y2","key"],CZ=["offset"],_Z=["xAxisId","yAxisId"],NZ=["xAxisId","yAxisId"];function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(null,arguments)}function wp(e,t){if(e==null)return{};var r,n,i=jZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:c,ry:f}=e;return _.createElement("rect",{x:n,y:i,ry:f,width:a,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Bk(e){var{option:t,lineItemProps:r}=e,n;if(_.isValidElement(t))n=_.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:c,x2:f,y2:p,key:h}=r,x=wp(r,AZ),y=(i=Vn(x))!==null&&i!==void 0?i:{},{offset:S}=y,C=wp(y,CZ);n=_.createElement("line",Cl({},C,{x1:a,y1:c,x2:f,y2:p,fill:"none",key:h}))}return n}function kZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=wp(e,_Z),p=i.map((h,x)=>{var y=ai(ai({},f),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(x),index:x});return _.createElement(Bk,{key:"line-".concat(x),option:n,lineItemProps:y})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function RZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:c}=e,f=wp(e,NZ),p=i.map((h,x)=>{var y=ai(ai({},f),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(x),index:x});return _.createElement(Bk,{option:n,lineItemProps:y,key:"line-".concat(x)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function MZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:c,horizontalPoints:f,horizontal:p=!0}=e;if(!p||!t||!t.length||f==null)return null;var h=f.map(y=>Math.round(y+i-i)).sort((y,S)=>y-S);i!==h[0]&&h.unshift(0);var x=h.map((y,S)=>{var C=!h[S+1],I=C?i+c-y:h[S+1]-y;if(I<=0)return null;var O=S%t.length;return _.createElement("rect",{key:"react-".concat(S),y,x:n,height:I,width:a,stroke:"none",fill:t[O],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function DZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:c,height:f,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var h=p.map(y=>Math.round(y+i-i)).sort((y,S)=>y-S);i!==h[0]&&h.unshift(0);var x=h.map((y,S)=>{var C=!h[S+1],I=C?i+c-y:h[S+1]-y;if(I<=0)return null;var O=S%r.length;return _.createElement("rect",{key:"react-".concat(S),x:y,y:a,width:I,height:f,stroke:"none",fill:r[O],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var LZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return C4(Lw(ai(ai(ai({},Ls),r),{},{ticks:_4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},BZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return C4(Lw(ai(ai(ai({},Ls),r),{},{ticks:_4(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},FZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:kr.grid};function Ed(e){var t=wb(),r=Eb(),n=k4(),i=ai(ai({},Cr(e,FZ)),{},{x:qe(e.x)?e.x:n.left,y:qe(e.y)?e.y:n.top,width:qe(e.width)?e.width:n.width,height:qe(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:c,x:f,y:p,width:h,height:x,syncWithTicks:y,horizontalValues:S,verticalValues:C}=i,I=en(),O=Ge(K=>mN(K,"xAxis",a,I)),T=Ge(K=>mN(K,"yAxis",c,I));if(!es(h)||!es(x)||!qe(f)||!qe(p))return null;var M=i.verticalCoordinatesGenerator||LZ,D=i.horizontalCoordinatesGenerator||BZ,{horizontalPoints:R,verticalPoints:B}=i;if((!R||!R.length)&&typeof D=="function"){var U=S&&S.length,$=D({yAxis:T?ai(ai({},T),{},{ticks:U?S:T.ticks}):void 0,width:t??h,height:r??x,offset:n},U?!0:y);q0(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(R=$)}if((!B||!B.length)&&typeof M=="function"){var V=C&&C.length,Z=M({xAxis:O?ai(ai({},O),{},{ticks:V?C:O.ticks}):void 0,width:t??h,height:r??x,offset:n},V?!0:y);q0(Array.isArray(Z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof Z,"]")),Array.isArray(Z)&&(B=Z)}return _.createElement(Rn,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(PZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(MZ,Cl({},i,{horizontalPoints:R})),_.createElement(DZ,Cl({},i,{verticalPoints:B})),_.createElement(kZ,Cl({},i,{offset:n,horizontalPoints:R,xAxis:O,yAxis:T})),_.createElement(RZ,Cl({},i,{offset:n,verticalPoints:B,xAxis:O,yAxis:T}))))}Ed.displayName="CartesianGrid";var zZ={},Fk=_i({name:"errorBars",initialState:zZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Vie,replaceErrorBar:qie,removeErrorBar:Gie}=Fk.actions,UZ=Fk.reducer,$Z=["children"];function HZ(e,t){if(e==null)return{};var r,n,i=WZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qZ=_.createContext(VZ);function Fw(e){var{children:t}=e,r=HZ(e,$Z);return _.createElement(qZ.Provider,{value:r},t)}function Sf(e,t){var r,n,i=Ge(h=>as(h,e)),a=Ge(h=>ss(h,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,f=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Tn.allowDataOverflow,p=c||f;return{needClip:p,needClipX:c,needClipY:f}}function Lm(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Mm(),{needClipX:a,needClipY:c,needClip:f}=Sf(t,r);if(!f||!i)return null;var{x:p,y:h,width:x,height:y}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?p:p-x/2,y:c?h:h-y/2,width:a?x:x*2,height:c?y:y*2}))}var zk=(e,t,r,n)=>pa(e,"xAxis",t,n),Uk=(e,t,r,n)=>ha(e,"xAxis",t,n),$k=(e,t,r,n)=>pa(e,"yAxis",r,n),Hk=(e,t,r,n)=>ha(e,"yAxis",r,n),GZ=fe([Mt,zk,$k,Uk,Hk],(e,t,r,n,i)=>ns(e,"xAxis")?Mo(t,n,!1):Mo(r,i,!1)),KZ=(e,t,r,n,i)=>i;function YZ(e){return e.type==="line"}var XZ=fe([fu,KZ],(e,t)=>e.filter(YZ).find(r=>r.id===t)),QZ=fe([Mt,zk,$k,Uk,Hk,XZ,GZ,fm],(e,t,r,n,i,a,c,f)=>{var{chartData:p,dataStartIndex:h,dataEndIndex:x}=f;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:y,data:S}=a,C;if(S!=null&&S.length>0?C=S:C=p?.slice(h,x+1),C!=null)return LJ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:y,bandSize:c,displayedData:C})}});function Wk(e){var t=Ro(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,c=Number(i),f=Number(a);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(f)||f<0)&&(f=n),{r:c,strokeWidth:f}}return{r,strokeWidth:n}}var ev={exports:{}},tv={};var I3;function ZZ(){if(I3)return tv;I3=1;var e=tu();function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,c=e.useMemo,f=e.useDebugValue;return tv.useSyncExternalStoreWithSelector=function(p,h,x,y,S){var C=i(null);if(C.current===null){var I={hasValue:!1,value:null};C.current=I}else I=C.current;C=c(function(){function T(U){if(!M){if(M=!0,D=U,U=y(U),S!==void 0&&I.hasValue){var $=I.value;if(S($,U))return R=$}return R=U}if($=R,r(D,U))return $;var V=y(U);return S!==void 0&&S($,V)?(D=U,$):(D=U,R=V)}var M=!1,D,R,B=x===void 0?null:x;return[function(){return T(h())},B===null?void 0:function(){return T(B())}]},[h,x,y,S]);var O=n(p,C[0],C[1]);return a(function(){I.hasValue=!0,I.value=O},[O]),f(O),O},tv}var O3;function JZ(){return O3||(O3=1,ev.exports=ZZ()),ev.exports}JZ();function eJ(e){e()}function tJ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eJ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var T3={notify(){},get:()=>[]};function rJ(e,t){let r,n=T3,i=0,a=!1;function c(O){x();const T=n.subscribe(O);let M=!1;return()=>{M||(M=!0,T(),y())}}function f(){n.notify()}function p(){I.onStateChange&&I.onStateChange()}function h(){return a}function x(){i++,r||(r=e.subscribe(p),n=tJ())}function y(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=T3)}function S(){a||(a=!0,x())}function C(){a&&(a=!1,y())}const I={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:h,trySubscribe:S,tryUnsubscribe:C,getListeners:()=>n};return I}var nJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iJ=nJ(),aJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sJ=aJ(),oJ=()=>iJ||sJ?_.useLayoutEffect:_.useEffect,lJ=oJ();function j3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cJ(e,t){if(j3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!j3(e[r[i]],t[r[i]]))return!1;return!0}var uJ=Symbol.for("react-redux-context"),dJ=typeof globalThis<"u"?globalThis:{};function fJ(){if(!_.createContext)return{};const e=dJ[uJ]??=new Map;let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var hJ=fJ();function pJ(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const p=rJ(i);return{store:i,subscription:p,getServerState:n?()=>n:void 0}},[i,n]),c=_.useMemo(()=>i.getState(),[i]);lJ(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,c]);const f=r||hJ;return _.createElement(f.Provider,{value:a},t)}var mJ=pJ,gJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function vu(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(gJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cJ(e[n],t[n]))return!1}else if(!xJ(e[n],t[n]))return!1;return!0}var vJ=["id"],yJ=["type","layout","connectNulls","needClip","shape"],bJ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Gd(){return Gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gd.apply(null,arguments)}function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zw(e,t){if(e==null)return{};var r,n,i=AJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CJ=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:is(r,t),payload:e}]},_J=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,unit:p,tooltipType:h,id:x}=e,y={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:is(c,t),hide:f,type:h,color:n,unit:p,graphicalItemId:x}};return _.createElement(wf,{tooltipEntrySettings:y})}),Vk=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function NJ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var IJ=(e,t,r)=>{var n=r.reduce((y,S)=>y+S);if(!n)return Vk(t,e);for(var i=Math.floor(e/n),a=e%n,c=t-e,f=[],p=0,h=0;p<r.length;h+=r[p],++p)if(h+r[p]>a){f=[...r.slice(0,p),a-h];break}var x=f.length%2===0?[0,c]:[c];return[...NJ(r,i),...f,...x].map(y=>"".concat(y,"px")).join(", ")};function OJ(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:c}=n,{id:f}=n,p=zw(n,vJ),h=Vn(p);return _.createElement(Ik,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:h,needClip:c,clipPathId:t})}function TJ(e){var{showLabels:t,children:r,points:n}=e,i=_.useMemo(()=>n?.map(a=>{var c,f,p={x:(c=a.x)!==null&&c!==void 0?c:0,y:(f=a.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Qa(Qa({},p),{},{value:a.value,payload:a.payload,viewBox:p,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(Cm,{value:t?i:void 0},r)}function k3(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:c,layout:f,connectNulls:p,needClip:h,shape:x}=a,y=zw(a,yJ),S=Qa(Qa({},qn(y)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:c,layout:f,connectNulls:p,strokeDasharray:i??a.strokeDasharray});return _.createElement(_.Fragment,null,n?.length>1&&_.createElement(Vd,Gd({shapeType:"curve",option:x},S,{pathRef:r})),_.createElement(OJ,{points:n,clipPathId:t,props:a}))}function jJ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function PJ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:c,strokeDasharray:f,isAnimationActive:p,animationBegin:h,animationDuration:x,animationEasing:y,animateNewValues:S,width:C,height:I,onAnimationEnd:O,onAnimationStart:T}=r,M=i.current,D=ql(c,"recharts-line-"),R=_.useRef(D),[B,U]=_.useState(!1),$=!B,V=_.useCallback(()=>{typeof O=="function"&&O(),U(!1)},[O]),Z=_.useCallback(()=>{typeof T=="function"&&T(),U(!0)},[T]),K=jJ(n.current),ge=_.useRef(0);R.current!==D&&(ge.current=a.current,R.current=D);var se=ge.current;return _.createElement(TJ,{points:c,showLabels:$},r.children,_.createElement(Vl,{animationId:D,begin:h,duration:x,isActive:p,easing:y,onAnimationEnd:V,onAnimationStart:Z,key:D},ae=>{var Se=Ut(se,K+se,ae),_e=Math.min(Se,K),re;if(p)if(f){var Fe="".concat(f).split(/[,\s]+/gim).map(xe=>parseFloat(xe));re=IJ(_e,K,Fe)}else re=Vk(K,_e);else re=f==null?void 0:String(f);if(ae>0&&K>0&&(i.current=c,a.current=Math.max(a.current,_e)),M){var le=M.length/c.length,pe=ae===1?c:c.map((xe,Ae)=>{var J=Math.floor(Ae*le);if(M[J]){var ce=M[J];return Qa(Qa({},xe),{},{x:Ut(ce.x,xe.x,ae),y:Ut(ce.y,xe.y,ae)})}return S?Qa(Qa({},xe),{},{x:Ut(C*2,xe.x,ae),y:Ut(I/2,xe.y,ae)}):Qa(Qa({},xe),{},{x:xe.x,y:xe.y})});return i.current=pe,_.createElement(k3,{props:r,points:pe,clipPathId:t,pathRef:n,strokeDasharray:re})}return _.createElement(k3,{props:r,points:c,clipPathId:t,pathRef:n,strokeDasharray:re})}),_.createElement(bf,{label:r.label}))}function kJ(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(PJ,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var RJ=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:$t(e.payload,t)}};class MJ extends _.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:a,yAxisId:c,top:f,left:p,width:h,height:x,id:y,needClip:S,zIndex:C}=this.props;if(t)return null;var I=zt("recharts-line",i),O=y,{r:T,strokeWidth:M}=Wk(r),D=Dw(r),R=T*2+M,B=S?"url(#clipPath-".concat(D?"":"dots-").concat(O,")"):void 0;return _.createElement(Rn,{zIndex:C},_.createElement(or,{className:I},S&&_.createElement("defs",null,_.createElement(Lm,{clipPathId:O,xAxisId:a,yAxisId:c}),!D&&_.createElement("clipPath",{id:"clipPath-dots-".concat(O)},_.createElement("rect",{x:p-R/2,y:f-R/2,width:h+R,height:x+R}))),_.createElement(Fw,{xAxisId:a,yAxisId:c,data:n,dataPointFormatter:RJ,errorBarOffset:0},_.createElement(kJ,{props:this.props,clipPathId:O}))),_.createElement(yy,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:B}))}}var qk={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:kr.line,type:"linear"};function DJ(e){var t=Cr(e,qk),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:f,dot:p,hide:h,isAnimationActive:x,label:y,legendType:S,xAxisId:C,yAxisId:I,id:O}=t,T=zw(t,bJ),{needClip:M}=Sf(C,I),D=Mm(),R=Bo(),B=en(),U=Ge(ge=>QZ(ge,C,I,B,O));if(R!=="horizontal"&&R!=="vertical"||U==null||D==null)return null;var{height:$,width:V,x:Z,y:K}=D;return _.createElement(MJ,Gd({},T,{id:O,connectNulls:f,dot:p,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:c,isAnimationActive:x,hide:h,label:y,legendType:S,xAxisId:C,yAxisId:I,points:U,layout:R,height:$,width:V,left:Z,top:K,needClip:M}))}function LJ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:c,bandSize:f,displayedData:p}=e;return p.map((h,x)=>{var y=$t(h,c);if(t==="horizontal"){var S=Kc({axis:r,ticks:i,bandSize:f,entry:h,index:x}),C=Zt(y)?null:n.scale(y);return{x:S,y:C,value:y,payload:h}}var I=Zt(y)?null:r.scale(y),O=Kc({axis:n,ticks:a,bandSize:f,entry:h,index:x});return I==null||O==null?null:{x:I,y:O,value:y,payload:h}}).filter(Boolean)}function BJ(e){var t=Cr(e,qk),r=en();return _.createElement(Ef,{id:t.id,type:"line"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:CJ(t)}),_.createElement(_J,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(km,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(DJ,Gd({},t,{id:n}))))}var Gk=_.memo(BJ,vu);Gk.displayName="Line";function os(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Ok}function ls(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Ok}var Kk=(e,t,r)=>pa(e,"xAxis",os(e,t),r),Yk=(e,t,r)=>ha(e,"xAxis",os(e,t),r),Xk=(e,t,r)=>pa(e,"yAxis",ls(e,t),r),Qk=(e,t,r)=>ha(e,"yAxis",ls(e,t),r),FJ=fe([Mt,Kk,Xk,Yk,Qk],(e,t,r,n,i)=>ns(e,"xAxis")?Mo(t,n,!1):Mo(r,i,!1)),zJ=(e,t)=>t,Zk=fe([fu,zJ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Jk=e=>{var t=Mt(e),r=ns(t,"xAxis");return r?"yAxis":"xAxis"},UJ=(e,t)=>{var r=Jk(e);return r==="yAxis"?ls(e,t):os(e,t)},$J=(e,t,r)=>hp(e,Jk(e),UJ(e,t),r),HJ=fe([Zk,$J],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=mm(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,c=a?.find(f=>f.key===i);if(c!=null)return c.map(f=>[f[0],f[1]])}}}),WJ=fe([Mt,Kk,Xk,Yk,Qk,HJ,Mj,FJ,Zk,oV],(e,t,r,n,i,a,c,f,p,h)=>{var{chartData:x,dataStartIndex:y,dataEndIndex:S}=c;if(!(p==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||f==null)){var{data:C}=p,I;if(C&&C.length>0?I=C:I=x?.slice(y,S+1),I!=null)return cee({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:y,areaSettings:p,stackedData:a,displayedData:I,chartBaseValue:h,bandSize:f})}}),VJ=["id"],qJ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(null,arguments)}function e8(e,t){if(e==null)return{};var r,n,i=GJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ep(e,t){return e&&e!=="none"?e:t}var QJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:c}=e;return[{inactive:c,dataKey:t,type:a,color:Ep(n,i),value:is(r,t),payload:e}]},ZJ=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,unit:p,tooltipType:h,id:x}=e,y={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:is(c,t),hide:f,type:h,color:Ep(n,a),unit:p,graphicalItemId:x}};return _.createElement(wf,{tooltipEntrySettings:y})});function JJ(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:c}=n,f=Vn(n);return _.createElement(Ik,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:f,needClip:i,clipPathId:t})}function eee(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var c,f,p={x:(c=a.x)!==null&&c!==void 0?c:0,y:(f=a.y)!==null&&f!==void 0?f:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Mc(Mc({},p),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return _.createElement(Cm,{value:t?i:void 0},r)}function M3(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:c,type:f,stroke:p,connectNulls:h,isRange:x}=a,{id:y}=a,S=e8(a,VJ),C=Vn(S),I=qn(S);return _.createElement(_.Fragment,null,t?.length>1&&_.createElement(or,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Nl,Tl({},I,{id:y,points:t,connectNulls:h,type:f,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&_.createElement(Nl,Tl({},C,{className:"recharts-area-curve",layout:c,type:f,connectNulls:h,fill:"none",points:t})),p!=="none"&&x&&_.createElement(Nl,Tl({},C,{className:"recharts-area-curve",layout:c,type:f,connectNulls:h,fill:"none",points:r}))),_.createElement(JJ,{points:t,props:S,clipPathId:i}))}function tee(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:c}=e,f=(t=a[0])===null||t===void 0?void 0:t.y,p=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!Yt(f)||!Yt(p))return null;var h=n*Math.abs(f-p),x=Math.max(...a.map(y=>y.x||0));return qe(i)?x=Math.max(i,x):i&&Array.isArray(i)&&i.length&&(x=Math.max(...i.map(y=>y.x||0),x)),qe(x)?_.createElement("rect",{x:0,y:f<p?f:f-h,width:x+(c?parseInt("".concat(c),10):1),height:Math.floor(h)}):null}function ree(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:c}=e,f=(t=a[0])===null||t===void 0?void 0:t.x,p=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!Yt(f)||!Yt(p))return null;var h=n*Math.abs(f-p),x=Math.max(...a.map(y=>y.y||0));return qe(i)?x=Math.max(i,x):i&&Array.isArray(i)&&i.length&&(x=Math.max(...i.map(y=>y.y||0),x)),qe(x)?_.createElement("rect",{x:f<p?f:f-h,y:0,width:h,height:Math.floor(x+(c?parseInt("".concat(c),10):1))}):null}function nee(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?_.createElement(tee,{alpha:t,points:n,baseLine:i,strokeWidth:a}):_.createElement(ree,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function iee(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:c,baseLine:f,isAnimationActive:p,animationBegin:h,animationDuration:x,animationEasing:y,onAnimationStart:S,onAnimationEnd:C}=n,I=_.useMemo(()=>({points:c,baseLine:f}),[c,f]),O=ql(I,"recharts-area-"),T=Az(),[M,D]=_.useState(!1),R=!M,B=_.useCallback(()=>{typeof C=="function"&&C(),D(!1)},[C]),U=_.useCallback(()=>{typeof S=="function"&&S(),D(!0)},[S]);if(T==null)return null;var $=i.current,V=a.current;return _.createElement(eee,{showLabels:R,points:c},n.children,_.createElement(Vl,{animationId:O,begin:h,duration:x,isActive:p,easing:y,onAnimationEnd:B,onAnimationStart:U,key:O},Z=>{if($){var K=$.length/c.length,ge=Z===1?c:c.map((ae,Se)=>{var _e=Math.floor(Se*K);if($[_e]){var re=$[_e];return Mc(Mc({},ae),{},{x:Ut(re.x,ae.x,Z),y:Ut(re.y,ae.y,Z)})}return ae}),se;return qe(f)?se=Ut(V,f,Z):Zt(f)||Ci(f)?se=Ut(V,0,Z):se=f.map((ae,Se)=>{var _e=Math.floor(Se*K);if(Array.isArray(V)&&V[_e]){var re=V[_e];return Mc(Mc({},ae),{},{x:Ut(re.x,ae.x,Z),y:Ut(re.y,ae.y,Z)})}return ae}),Z>0&&(i.current=ge,a.current=se),_.createElement(M3,{points:ge,baseLine:se,needClip:t,clipPathId:r,props:n})}return Z>0&&(i.current=c,a.current=f),_.createElement(or,null,p&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(r)},_.createElement(nee,{alpha:Z,points:c,baseLine:f,layout:T,strokeWidth:n.strokeWidth}))),_.createElement(or,{clipPath:"url(#animationClipPath-".concat(r,")")},_.createElement(M3,{points:c,baseLine:f,needClip:t,clipPathId:r,props:n})))}),_.createElement(bf,{label:n.label}))}function aee(e){var{needClip:t,clipPathId:r,props:n}=e,i=_.useRef(null),a=_.useRef();return _.createElement(iee,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class see extends _.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:c,needClip:f,xAxisId:p,yAxisId:h,width:x,height:y,id:S,baseLine:C,zIndex:I}=this.props;if(t)return null;var O=zt("recharts-area",i),T=S,{r:M,strokeWidth:D}=Wk(r),R=Dw(r),B=M*2+D,U=f?"url(#clipPath-".concat(R?"":"dots-").concat(T,")"):void 0;return _.createElement(Rn,{zIndex:I},_.createElement(or,{className:O},f&&_.createElement("defs",null,_.createElement(Lm,{clipPathId:T,xAxisId:p,yAxisId:h}),!R&&_.createElement("clipPath",{id:"clipPath-dots-".concat(T)},_.createElement("rect",{x:c-B/2,y:a-B/2,width:x+B,height:y+B}))),_.createElement(aee,{needClip:f,clipPathId:T,props:this.props})),_.createElement(yy,{points:n,mainColor:Ep(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}),this.props.isRange&&Array.isArray(C)&&_.createElement(yy,{points:C,mainColor:Ep(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:U}))}}var t8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:kr.area};function oee(e){var t,r=Cr(e,t8),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:c,connectNulls:f,dot:p,fill:h,fillOpacity:x,hide:y,isAnimationActive:S,legendType:C,stroke:I,xAxisId:O,yAxisId:T}=r,M=e8(r,qJ),D=Bo(),R=ZP(),{needClip:B}=Sf(O,T),U=en(),{points:$,isRange:V,baseLine:Z}=(t=Ge(_e=>WJ(_e,e.id,U)))!==null&&t!==void 0?t:{},K=Mm();if(D!=="horizontal"&&D!=="vertical"||K==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:ge,width:se,x:ae,y:Se}=K;return!$||!$.length?null:_.createElement(see,Tl({},M,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:c,baseLine:Z,connectNulls:f,dot:p,fill:h,fillOpacity:x,height:ge,hide:y,layout:D,isAnimationActive:S==="auto"?!sf.isSsr:S,isRange:V,legendType:C,needClip:B,points:$,stroke:I,width:se,left:ae,top:Se,xAxisId:O,yAxisId:T}))}var lee=(e,t,r,n,i)=>{var a=r??t;if(qe(a))return a;var c=e==="horizontal"?i:n,f=c.scale.domain();if(c.type==="number"){var p=Math.max(f[0],f[1]),h=Math.min(f[0],f[1]);return a==="dataMin"?h:a==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return a==="dataMin"?f[0]:a==="dataMax"?f[1]:f[0]};function cee(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:c,xAxis:f,yAxis:p,displayedData:h,dataStartIndex:x,xAxisTicks:y,yAxisTicks:S,bandSize:C}=e,I=i&&i.length,O=lee(a,c,r,f,p),T=a==="horizontal",M=!1,D=h.map((B,U)=>{var $,V,Z;if(I)Z=i[x+U];else{var K=$t(B,n);Array.isArray(K)?(Z=K,M=!0):Z=[O,K]}var ge=($=(V=Z)===null||V===void 0?void 0:V[1])!==null&&$!==void 0?$:null,se=ge==null||I&&!t&&$t(B,n)==null;return T?{x:Kc({axis:f,ticks:y,bandSize:C,entry:B,index:U}),y:se?null:p.scale(ge),value:Z,payload:B}:{x:se?null:f.scale(ge),y:Kc({axis:p,ticks:S,bandSize:C,entry:B,index:U}),value:Z,payload:B}}),R;return I||M?R=D.map(B=>{var U=Array.isArray(B.value)?B.value[0]:null;return T?{x:B.x,y:U!=null&&B.y!=null?p.scale(U):null,payload:B.payload}:{x:U!=null?f.scale(U):null,y:B.y,payload:B.payload}}):R=T?p.scale(O):f.scale(O),{points:D,baseLine:R,isRange:M}}function uee(e){var t=Cr(e,t8),r=en();return _.createElement(Ef,{id:t.id,type:"area"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:QJ(t)}),_.createElement(ZJ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),_.createElement(km,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:N4(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),_.createElement(oee,Tl({},t,{id:n}))))}var r8=_.memo(uee,vu);r8.displayName="Area";var dee="Invariant failed";function fee(e,t){throw new Error(dee)}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function Sp(e){return _.createElement(Vd,by({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var hee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(qe(t))return t;var a=qe(n)||Zt(n);return a?t(n,i):(a||fee(),r)}},pee=(e,t,r)=>r,mee=(e,t)=>t,Af=fe([fu,mee],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),gee=fe([Af],e=>e?.maxBarSize),xee=(e,t,r,n)=>n,vee=fe([Mt,fu,os,ls,pee],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),yee=(e,t,r)=>{var n=Mt(e),i=os(e,t),a=ls(e,t);if(!(i==null||a==null))return n==="horizontal"?hp(e,"yAxis",a,r):hp(e,"xAxis",i,r)},bee=(e,t)=>{var r=Mt(e),n=os(e,t),i=ls(e,t);if(!(n==null||i==null))return r==="horizontal"?pN(e,"xAxis",n):pN(e,"yAxis",i)},wee=fe([vee,sV,bee],wQ),Eee=(e,t,r)=>{var n,i,a=Af(e,t);if(a!=null){var c=os(e,t),f=ls(e,t);if(!(c==null||f==null)){var p=Mt(e),h=Xj(e),{maxBarSize:x}=a,y=Zt(x)?h:x,S,C;return p==="horizontal"?(S=pa(e,"xAxis",c,r),C=ha(e,"xAxis",c,r)):(S=pa(e,"yAxis",f,r),C=ha(e,"yAxis",f,r)),(n=(i=Mo(S,C,!0))!==null&&i!==void 0?i:y)!==null&&n!==void 0?n:0}}},n8=(e,t,r)=>{var n=Mt(e),i=os(e,t),a=ls(e,t);if(!(i==null||a==null)){var c,f;return n==="horizontal"?(c=pa(e,"xAxis",i,r),f=ha(e,"xAxis",i,r)):(c=pa(e,"yAxis",a,r),f=ha(e,"yAxis",a,r)),Mo(c,f)}},See=fe([wee,Xj,aV,Qj,Eee,n8,gee],_Q),Aee=(e,t,r)=>{var n=os(e,t);if(n!=null)return pa(e,"xAxis",n,r)},Cee=(e,t,r)=>{var n=ls(e,t);if(n!=null)return pa(e,"yAxis",n,r)},_ee=(e,t,r)=>{var n=os(e,t);if(n!=null)return ha(e,"xAxis",n,r)},Nee=(e,t,r)=>{var n=ls(e,t);if(n!=null)return ha(e,"yAxis",n,r)},Iee=fe([See,Af],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Oee=fe([yee,Af],NQ),Tee=fe([bn,yb,Aee,Cee,_ee,Nee,Iee,Mt,Mj,n8,Oee,Af,xee],(e,t,r,n,i,a,c,f,p,h,x,y,S)=>{var{chartData:C,dataStartIndex:I,dataEndIndex:O}=p;if(!(y==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||a==null||h==null)){var{data:T}=y,M;if(T!=null&&T.length>0?M=T:M=C?.slice(I,O+1),M!=null)return ate({layout:f,barSettings:y,pos:c,parentViewBox:t,bandSize:h,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:x,displayedData:M,offset:e,cells:S,dataStartIndex:I})}}),jee=["index"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function Pee(e,t){if(e==null)return{};var r,n,i=kee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i8=_.createContext(void 0),Ree=e=>{var t=_.useContext(i8);if(t!=null)return t.stackId;if(e!=null)return N4(e)},Mee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Dee=e=>{var t=_.useContext(i8);if(t!=null){var{stackId:r}=t;return"url(#".concat(Mee(r,e),")")}},Lee=e=>{var{index:t}=e,r=Pee(e,jee),n=Dee(t);return _.createElement(or,wy({className:"recharts-bar-stack-layer",clipPath:n},r))},Bee=["onMouseEnter","onMouseLeave","onClick"],Fee=["value","background","tooltipPosition"],zee=["id"],Uee=["onMouseEnter","onClick","onMouseLeave"];function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ap(e,t){if(e==null)return{};var r,n,i=Vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qee=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:is(r,t),payload:e}]},Gee=_.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:c,unit:f,tooltipType:p,id:h}=e,x={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:is(a,t),hide:c,type:p,color:i,unit:f,graphicalItemId:h}};return _.createElement(wf,{tooltipEntrySettings:x})});function Kee(e){var t=Ge(Vs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:c,onMouseLeave:f,onClick:p}=a,h=Ap(a,Bee),x=Om(c,n,a.id),y=Tm(f),S=jm(p,n,a.id);if(!i||r==null)return null;var C=Ro(i);return _.createElement(Rn,{zIndex:IQ(i,kr.barBackground)},r.map((I,O)=>{var{value:T,background:M,tooltipPosition:D}=I,R=Ap(I,Fee);if(!M)return null;var B=x(I,O),U=y(I,O),$=S(I,O),V=ui(ui(ui(ui(ui({option:i,isActive:String(O)===t},R),{},{fill:"#eee"},M),C),su(h,I,O)),{},{onMouseEnter:B,onMouseLeave:U,onClick:$,dataKey:n,index:O,className:"recharts-bar-background-rectangle"});return _.createElement(Sp,qs({key:"background-bar-".concat(O)},V))}))}function Yee(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var c={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return ui(ui({},c),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:c,fill:a.fill})});return _.createElement(Cm,{value:t?i:void 0},r)}function Xee(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:c}=e,f=Ge(Vs),p=Ge(Iw),h=r&&String(a)===f&&(p==null||c===p),x=h?r:t;return h?_.createElement(Rn,{zIndex:kr.activeBar},_.createElement(Sp,qs({},n,{name:String(n.name)},i,{isActive:h,option:x,index:a,dataKey:c}))):_.createElement(Sp,qs({},n,{name:String(n.name)},i,{isActive:h,option:x,index:a,dataKey:c}))}function Qee(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return _.createElement(Sp,qs({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Zee(e){var t,{data:r,props:n}=e,i=(t=Vn(n))!==null&&t!==void 0?t:{},{id:a}=i,c=Ap(i,zee),{shape:f,dataKey:p,activeBar:h}=n,{onMouseEnter:x,onClick:y,onMouseLeave:S}=n,C=Ap(n,Uee),I=Om(x,p,a),O=Tm(S),T=jm(y,p,a);return r?_.createElement(_.Fragment,null,r.map((M,D)=>_.createElement(Lee,qs({index:D,key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(D),className:"recharts-bar-rectangle"},su(C,M,D),{onMouseEnter:I(M,D),onMouseLeave:O(M,D),onClick:T(M,D)}),h?_.createElement(Xee,{shape:f,activeBar:h,baseProps:c,entry:M,index:D,dataKey:p}):_.createElement(Qee,{shape:f,baseProps:c,entry:M,index:D,dataKey:p})))):null}function Jee(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:c,animationDuration:f,animationEasing:p,onAnimationEnd:h,onAnimationStart:x}=t,y=r.current,S=ql(t,"recharts-bar-"),[C,I]=_.useState(!1),O=!C,T=_.useCallback(()=>{typeof h=="function"&&h(),I(!1)},[h]),M=_.useCallback(()=>{typeof x=="function"&&x(),I(!0)},[x]);return _.createElement(Yee,{showLabels:O,rects:n},_.createElement(Vl,{animationId:S,begin:c,duration:f,isActive:a,easing:p,onAnimationEnd:T,onAnimationStart:M,key:S},D=>{var R=D===1?n:n?.map((B,U)=>{var $=y&&y[U];if($)return ui(ui({},B),{},{x:Ut($.x,B.x,D),y:Ut($.y,B.y,D),width:Ut($.width,B.width,D),height:Ut($.height,B.height,D)});if(i==="horizontal"){var V=Ut(0,B.height,D),Z=Ut(B.stackedBarStart,B.y,D);return ui(ui({},B),{},{y:Z,height:V})}var K=Ut(0,B.width,D),ge=Ut(B.stackedBarStart,B.x,D);return ui(ui({},B),{},{width:K,x:ge})});return D>0&&(r.current=R??null),R==null?null:_.createElement(or,null,_.createElement(Zee,{props:t,data:R}))}),_.createElement(bf,{label:t.label}),t.children)}function ete(e){var t=_.useRef(null);return _.createElement(Jee,{previousRectanglesRef:t,props:e})}var a8=0,tte=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$t(e,t)}};class rte extends _.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:c,needClip:f,background:p,id:h}=this.props;if(t||r==null)return null;var x=zt("recharts-bar",i),y=h;return _.createElement(or,{className:x,id:h},f&&_.createElement("defs",null,_.createElement(Lm,{clipPathId:y,xAxisId:a,yAxisId:c})),_.createElement(or,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(y,")"):void 0},_.createElement(Kee,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),_.createElement(ete,this.props)))}}var nte={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:a8,xAxisId:0,yAxisId:0,zIndex:kr.bar};function ite(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:h,isAnimationActive:x}=e,{needClip:y}=Sf(t,r),S=Bo(),C=en(),I=Im(e.children,zl),O=Ge(D=>Tee(D,e.id,C,I));if(S!=="vertical"&&S!=="horizontal")return null;var T,M=O?.[0];return M==null||M.height==null||M.width==null?T=0:T=S==="vertical"?M.height/2:M.width/2,_.createElement(Fw,{xAxisId:t,yAxisId:r,data:O,dataPointFormatter:tte,errorBarOffset:T},_.createElement(rte,qs({},e,{layout:S,needClip:y,data:O,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:h,isAnimationActive:x})))}function ate(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:c,yAxis:f,xAxisTicks:p,yAxisTicks:h,stackedData:x,displayedData:y,offset:S,cells:C,parentViewBox:I,dataStartIndex:O}=e,T=t==="horizontal"?f:c,M=x?T.scale.domain():null,D=$F({numericAxis:T}),R=T.scale(D);return y.map((B,U)=>{var $,V,Z,K,ge,se;if(x){var ae=x[U+O];if(ae==null)return null;$=LF(ae,M)}else $=$t(B,r),Array.isArray($)||($=[D,$]);var Se=hee(n,a8)($[1],U);if(t==="horizontal"){var _e,[re,Fe]=[f.scale($[0]),f.scale($[1])];V=vC({axis:c,ticks:p,bandSize:a,offset:i.offset,entry:B,index:U}),Z=(_e=Fe??re)!==null&&_e!==void 0?_e:void 0,K=i.size;var le=re-Fe;if(ge=Ci(le)?0:le,se={x:V,y:S.top,width:K,height:S.height},Math.abs(Se)>0&&Math.abs(ge)<Math.abs(Se)){var pe=Pn(ge||Se)*(Math.abs(Se)-Math.abs(ge));Z-=pe,ge+=pe}}else{var[xe,Ae]=[c.scale($[0]),c.scale($[1])];if(V=xe,Z=vC({axis:f,ticks:h,bandSize:a,offset:i.offset,entry:B,index:U}),K=Ae-xe,ge=i.size,se={x:S.left,y:Z,width:S.width,height:ge},Math.abs(Se)>0&&Math.abs(K)<Math.abs(Se)){var J=Pn(K||Se)*(Math.abs(Se)-Math.abs(K));K+=J}}if(V==null||Z==null||K==null||ge==null)return null;var ce=ui(ui({},B),{},{stackedBarStart:R,x:V,y:Z,width:K,height:ge,value:x?$:$[1],payload:B,background:se,tooltipPosition:{x:V+K/2,y:Z+ge/2},parentViewBox:I},C&&C[U]&&C[U].props);return ce}).filter(Boolean)}function ste(e){var t=Cr(e,nte),r=Ree(t.stackId),n=en();return _.createElement(Ef,{id:t.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:qee(t)}),_.createElement(Gee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),_.createElement(km,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),_.createElement(Rn,{zIndex:t.zIndex},_.createElement(ite,qs({},t,{id:i})))))}var jl=_.memo(ste,vu);jl.displayName="Bar";var ote=["option","isActive"];function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(null,arguments)}function lte(e,t){if(e==null)return{};var r,n,i=cte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ute(e){var{option:t,isActive:r}=e,n=lte(e,ote);return typeof t=="string"?_.createElement(Vd,Sd({option:_.createElement(zp,Sd({type:t},n)),isActive:r,shapeType:"symbols"},n)):_.createElement(Vd,Sd({option:t,isActive:r,shapeType:"symbols"},n))}var dte=(e,t,r,n,i,a,c)=>pa(e,"xAxis",t,c),fte=(e,t,r,n,i,a,c)=>ha(e,"xAxis",t,c),hte=(e,t,r,n,i,a,c)=>pa(e,"yAxis",r,c),pte=(e,t,r,n,i,a,c)=>ha(e,"yAxis",r,c),mte=(e,t,r,n)=>cq(e,"zAxis",n,!1),gte=(e,t,r,n,i)=>i,xte=(e,t,r,n,i,a)=>a,vte=(e,t,r,n,i,a,c)=>fm(e,void 0,void 0,c),yte=fe([fu,gte],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),bte=fe([vte,dte,fte,hte,pte,mte,yte,xte],(e,t,r,n,i,a,c,f)=>{var{chartData:p,dataStartIndex:h,dataEndIndex:x}=e;if(c!=null){var y;if(c?.data!=null&&c.data.length>0?y=c.data:y=p?.slice(h,x+1),!(y==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return Rte({displayedData:y,xAxis:t,yAxis:n,zAxis:a,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),wte=["id"],Ete=["onMouseEnter","onClick","onMouseLeave"],Ste=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Ey(e,t){if(e==null)return{};var r,n,i=Ate(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(null,arguments)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){Cte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ite=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:is(r,t),payload:e}]},Ote=_.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:a,name:c,hide:f,tooltipType:p,id:h}=e,x={dataDefinedOnItem:r?.map(y=>y.tooltipPayload),positions:r?.map(y=>y.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:a,nameKey:void 0,dataKey:t,name:is(c,t),hide:f,type:p,color:a,unit:"",graphicalItemId:h}};return _.createElement(wf,{tooltipEntrySettings:x})});function Tte(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:a}=r;if(!n)return null;var c=Vn(r),f=Ro(n),p,h;if(i==="joint")p=t.map(T=>{var M,D;return{x:(M=T.cx)!==null&&M!==void 0?M:null,y:(D=T.cy)!==null&&D!==void 0?D:null}});else if(i==="fitting"){var{xmin:x,xmax:y,a:S,b:C}=f7(t),I=T=>S*T+C;p=[{x,y:I(x)},{x:y,y:I(y)}]}var O=Ai(Ai(Ai({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:p});return _.isValidElement(n)?h=_.cloneElement(n,O):typeof n=="function"?h=n(O):h=_.createElement(Nl,$l({},O,{type:a})),_.createElement(or,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}function jte(e){var{showLabels:t,points:r,children:n}=e,i=ou(),a=_.useMemo(()=>r?.map(c=>{var f,p,h={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return Ai(Ai({},h),{},{value:void 0,payload:c.payload,viewBox:h,parentViewBox:i,fill:void 0})}),[i,r]);return _.createElement(Cm,{value:t?a:void 0},n)}function Pte(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:a}=r,{id:c}=r,f=Ey(r,wte),p=Ge(Vs),{onMouseEnter:h,onClick:x,onMouseLeave:y}=r,S=Ey(r,Ete),C=Om(h,a,c),I=Tm(y),O=jm(x,a,c);if(!C7(t))return null;var T=Vn(f);return _.createElement(_.Fragment,null,_.createElement(Tte,{points:t,props:f}),t.map((M,D)=>{var R=i!=null&&i!==!1,B=R&&p===String(D),U=R&&B?i:n,$=Ai(Ai(Ai({},T),M),{},{[xb]:D,[vb]:String(c)});return _.createElement(Rn,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(D),zIndex:B?kr.activeDot:void 0},_.createElement(or,$l({className:"recharts-scatter-symbol"},su(S,M,D),{onMouseEnter:C(M,D),onMouseLeave:I(M,D),onClick:O(M,D)}),_.createElement(ute,$l({option:U,isActive:B},$))))}))}function kte(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:a,animationDuration:c,animationEasing:f}=r,p=t.current,h=ql(r,"recharts-scatter-"),[x,y]=_.useState(!1),S=_.useCallback(()=>{y(!1)},[]),C=_.useCallback(()=>{y(!0)},[]),I=!x;return _.createElement(jte,{showLabels:I,points:n},r.children,_.createElement(Vl,{animationId:h,begin:a,duration:c,isActive:i,easing:f,onAnimationEnd:S,onAnimationStart:C,key:h},O=>{var T=O===1?n:n?.map((M,D)=>{var R=p&&p[D];return R?Ai(Ai({},M),{},{cx:M.cx==null?void 0:Ut(R.cx,M.cx,O),cy:M.cy==null?void 0:Ut(R.cy,M.cy,O),size:Ut(R.size,M.size,O)}):Ai(Ai({},M),{},{size:Ut(0,M.size,O)})});return O>0&&(t.current=T),_.createElement(or,null,_.createElement(Pte,{points:T,allOtherScatterProps:r,showLabels:I}))}),_.createElement(bf,{label:r.label}))}function Rte(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:a,xAxisTicks:c,yAxisTicks:f,cells:p}=e,h=Zt(r.dataKey)?a.dataKey:r.dataKey,x=Zt(n.dataKey)?a.dataKey:n.dataKey,y=i&&i.dataKey,S=i?i.range:lP.range,C=S&&S[0],I=r.scale.bandwidth?r.scale.bandwidth():0,O=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((T,M)=>{var D=$t(T,h),R=$t(T,x),B=!Zt(y)&&$t(T,y)||"-",U=[{name:Zt(r.dataKey)?a.name:r.name||String(r.dataKey),unit:r.unit||"",value:D,payload:T,dataKey:h,type:a.tooltipType},{name:Zt(n.dataKey)?a.name:n.name||String(n.dataKey),unit:n.unit||"",value:R,payload:T,dataKey:x,type:a.tooltipType}];B!=="-"&&U.push({name:i.name||i.dataKey,unit:i.unit||"",value:B,payload:T,dataKey:y,type:a.tooltipType});var $=Kc({axis:r,ticks:c,bandSize:I,entry:T,index:M,dataKey:h}),V=Kc({axis:n,ticks:f,bandSize:O,entry:T,index:M,dataKey:x}),Z=B!=="-"?i.scale(B):C,K=Math.sqrt(Math.max(Z,0)/Math.PI);return Ai(Ai({},T),{},{cx:$,cy:V,x:$==null?void 0:$-K,y:V==null?void 0:V-K,width:2*K,height:2*K,size:Z,node:{x:D,y:R,z:B},tooltipPayload:U,tooltipPosition:{x:$,y:V},payload:T},p&&p[M]&&p[M].props)})}var Mte=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:$t(e,t)});function Dte(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:a,yAxisId:c,id:f}=e,p=_.useRef(null);if(t)return null;var h=zt("recharts-scatter",n),x=f;return _.createElement(Rn,{zIndex:e.zIndex},_.createElement(or,{className:h,clipPath:i?"url(#clipPath-".concat(x,")"):void 0,id:f},i&&_.createElement("defs",null,_.createElement(Lm,{clipPathId:x,xAxisId:a,yAxisId:c})),_.createElement(Fw,{xAxisId:a,yAxisId:c,data:r,dataPointFormatter:Mte,errorBarOffset:0},_.createElement(or,{key:"recharts-scatter-symbols"},_.createElement(kte,{props:e,previousPointsRef:p})))))}var s8={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:kr.scatter};function Lte(e){var t=Cr(e,s8),{animationBegin:r,animationDuration:n,animationEasing:i,hide:a,isAnimationActive:c,legendType:f,lineJointType:p,lineType:h,shape:x,xAxisId:y,yAxisId:S,zAxisId:C}=t,I=Ey(t,Ste),{needClip:O}=Sf(y,S),T=_.useMemo(()=>Im(e.children,zl),[e.children]),M=en(),D=Ge(R=>bte(R,y,S,C,e.id,T,M));return O==null||D==null?null:_.createElement(_.Fragment,null,_.createElement(Ote,{dataKey:e.dataKey,points:D,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),_.createElement(Dte,$l({},I,{xAxisId:y,yAxisId:S,zAxisId:C,lineType:h,lineJointType:p,legendType:f,shape:x,hide:a,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:D,needClip:O})))}function Bte(e){var t=Cr(e,s8),r=en();return _.createElement(Ef,{id:t.id,type:"scatter"},n=>_.createElement(_.Fragment,null,_.createElement(Pm,{legendPayload:Ite(t)}),_.createElement(km,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),_.createElement(Lte,$l({},t,{id:n}))))}var o8=_.memo(Bte,vu);o8.displayName="Scatter";var Fte=["domain","range"],zte=["domain","range"];function B3(e,t){if(e==null)return{};var r,n,i=Ute(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function l8(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=B3(e,Fte),{domain:a,range:c}=t,f=B3(t,zte);return!F3(r,a)||!F3(n,c)?!1:vu(i,f)}var $te=["dangerouslySetInnerHTML","ticks","scale"],Hte=["id","scale"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sy.apply(null,arguments)}function z3(e,t){if(e==null)return{};var r,n,i=Wte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vte(e){var t=dr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(sQ(e)):r.current!==e&&t(oQ({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(lQ(r.current)),r.current=null)},[t]),null}var qte=e=>{var{xAxisId:t,className:r}=e,n=Ge(yb),i=en(),a="xAxis",c=Ge(M=>TP(M,a,t,i)),f=Ge(M=>_P(M,t)),p=Ge(M=>nq(M,t)),h=Ge(M=>sP(M,t));if(f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:S}=e,C=z3(e,$te),{id:I,scale:O}=h,T=z3(h,Hte);return _.createElement(Bw,Sy({},C,T,{x:p.x,y:p.y,width:f.width,height:f.height,className:zt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c,axisType:a}))},Gte={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,angle:On.angle,axisLine:Ls.axisLine,height:On.height,hide:!1,includeHidden:On.includeHidden,interval:On.interval,minTickGap:On.minTickGap,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tick:On.tick,tickCount:On.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:On.type,xAxisId:0},Kte=e=>{var t=Cr(e,Gte);return _.createElement(_.Fragment,null,_.createElement(Vte,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(qte,t))},Ad=_.memo(Kte,l8);Ad.displayName="XAxis";var Yte=["dangerouslySetInnerHTML","ticks","scale"],Xte=["id","scale"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(null,arguments)}function U3(e,t){if(e==null)return{};var r,n,i=Qte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zte(e){var t=dr(),r=_.useRef(null);return _.useLayoutEffect(()=>{r.current===null?t(cQ(e)):r.current!==e&&t(uQ({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(dQ(r.current)),r.current=null)},[t]),null}var Jte=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),c=_.useRef(null),f=Ge(yb),p=en(),h=dr(),x="yAxis",y=Ge($=>NP($,t)),S=Ge($=>aq($,t)),C=Ge($=>TP($,x,t,p)),I=Ge($=>oP($,t));if(_.useLayoutEffect(()=>{if(!(n!=="auto"||!y||kw(i)||_.isValidElement(i)||I==null)){var $=a.current;if($){var V=$.getCalculatedWidth();Math.round(y.width)!==Math.round(V)&&h(fQ({id:t,width:V}))}}},[C,y,h,i,t,n,I]),y==null||S==null||I==null)return null;var{dangerouslySetInnerHTML:O,ticks:T,scale:M}=e,D=U3(e,Yte),{id:R,scale:B}=I,U=U3(I,Xte);return _.createElement(Bw,Ay({},D,U,{ref:a,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:zt("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:C,axisType:x}))},ere={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,angle:Tn.angle,axisLine:Ls.axisLine,hide:!1,includeHidden:Tn.includeHidden,interval:Tn.interval,minTickGap:Tn.minTickGap,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,tickLine:Ls.tickLine,tickSize:Ls.tickSize,type:Tn.type,width:Tn.width,yAxisId:0},tre=e=>{var t=Cr(e,ere);return _.createElement(_.Fragment,null,_.createElement(Zte,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(Jte,t))},Dc=_.memo(tre,l8);Dc.displayName="YAxis";var rre=(e,t)=>t,Uw=fe([rre,Mt,iP,En,qP,Zs,wG,bn],IG),$w=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},c8=da("mouseClick"),u8=rf();u8.startListening({actionCreator:c8,effect:(e,t)=>{var r=e.payload,n=Uw(t.getState(),$w(r));n?.activeIndex!=null&&t.dispatch(bq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Cy=da("mouseMove"),d8=rf(),i0=null;d8.startListening({actionCreator:Cy,effect:(e,t)=>{var r=e.payload;i0!==null&&cancelAnimationFrame(i0);var n=$w(r);i0=requestAnimationFrame(()=>{var i=t.getState(),a=Ew(i,i.tooltip.settings.shared);if(a==="axis"){var c=Uw(i,n);c?.activeIndex!=null?t.dispatch(BP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(LP())}i0=null})}});function nre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var $3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},f8=_i({name:"rootProps",initialState:$3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ire=f8.reducer,{updateOptions:are}=f8.actions,h8=_i({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:sre}=h8.actions,ore=h8.reducer,p8=da("keyDown"),m8=da("focus"),Hw=rf();Hw.startListening({actionCreator:p8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var c=Sw(i,xu(r),mf(r),vf(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var p=Zs(r);if(a==="Enter"){var h=mp(r,"axis","hover",String(i.index));t.dispatch(hy({active:!i.active,activeIndex:i.index,activeCoordinate:h}));return}var x=uq(r),y=x==="left-to-right"?1:-1,S=a==="ArrowRight"?1:-1,C=f+S*y;if(!(p==null||C>=p.length||C<0)){var I=mp(r,"axis","hover",String(C));t.dispatch(hy({active:!0,activeIndex:C.toString(),activeCoordinate:I}))}}}}}});Hw.startListening({actionCreator:m8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",c=mp(r,"axis","hover",String(a));t.dispatch(hy({active:!0,activeIndex:a,activeCoordinate:c}))}}}});var oa=da("externalEvent"),g8=rf(),rv=new Map;g8.startListening({actionCreator:oa,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=rv.get(i);a!==void 0&&cancelAnimationFrame(a);var c=requestAnimationFrame(()=>{try{var f=t.getState(),p={activeCoordinate:sG(f),activeDataKey:Iw(f),activeIndex:Vs(f),activeLabel:YP(f),activeTooltipIndex:Vs(f),isTooltipActive:oG(f)};r(p,n)}finally{rv.delete(i)}});rv.set(i,c)}}});var lre=fe([mu],e=>e.tooltipItemPayloads),cre=fe([lre,xf,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var c=t(a,r);return c}}}),x8=da("touchMove"),v8=rf();v8.startListening({actionCreator:x8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Ew(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var c=Uw(n,$w({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(BP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var h=document.elementFromPoint(p.clientX,p.clientY);if(!h||!h.getAttribute)return;var x=h.getAttribute(xb),y=(f=h.getAttribute(vb))!==null&&f!==void 0?f:void 0,S=gu(n).find(O=>O.id===y);if(x==null||S==null||y==null)return;var{dataKey:C}=S,I=cre(n,x,y);t.dispatch(DP({activeDataKey:C,activeIndex:x,activeCoordinate:I,activeGraphicalItemId:y}))}}}});var ure=XT({brush:OQ,cartesianAxis:hQ,chartData:aK,errorBars:UZ,graphicalItems:bX,layout:jF,legend:Fz,options:eK,polarAxis:RY,polarOptions:ore,referenceElements:zQ,rootProps:ire,tooltip:wq,zIndex:$G}),dre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return rF({reducer:ure,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([u8.middleware,d8.middleware,Hw.middleware,g8.middleware,v8.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(d4({type:"raf"}))},devTools:{serialize:{replacer:nre},name:"recharts-".concat(r)}})};function y8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=en(),a=_.useRef(null);if(i)return r;a.current==null&&(a.current=dre(t,n));var c=ub;return _.createElement(mJ,{context:c,store:a.current},r)}function fre(e){var{layout:t,margin:r}=e,n=dr(),i=en();return _.useEffect(()=>{i||(n(IF(t)),n(NF(r)))},[n,i,t,r]),null}var b8=_.memo(fre,vu);function w8(e){var t=dr();return _.useEffect(()=>{t(are(e))},[t,e]),null}function H3(e){var{zIndex:t,isPanorama:r}=e,n=_.useRef(null),i=dr();return _.useLayoutEffect(()=>(n.current&&i(zG({zIndex:t,element:n.current,isPanorama:r})),()=>{i(UG({zIndex:t,isPanorama:r}))}),[i,t,r]),_.createElement("g",{tabIndex:-1,ref:n})}function W3(e){var{children:t,isPanorama:r}=e,n=Ge(TG);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),a=n.filter(c=>c>0);return _.createElement(_.Fragment,null,i.map(c=>_.createElement(H3,{key:c,zIndex:c,isPanorama:r})),t,a.map(c=>_.createElement(H3,{key:c,zIndex:c,isPanorama:r})))}var hre=["children"];function pre(e,t){if(e==null)return{};var r,n,i=mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}var gre={width:"100%",height:"100%",display:"block"},xre=_.forwardRef((e,t)=>{var r=wb(),n=Eb(),i=W4();if(!es(r)||!es(n))return null;var{children:a,otherAttributes:c,title:f,desc:p}=e,h,x;return c!=null&&(typeof c.tabIndex=="number"?h=c.tabIndex:h=i?0:void 0,typeof c.role=="string"?x=c.role:x=i?"application":void 0),_.createElement(tb,Cp({},c,{title:f,desc:p,role:x,tabIndex:h,width:r,height:n,style:gre,ref:t}),a)}),vre=e=>{var{children:t}=e,r=Ge(em);if(!r)return null;var{width:n,height:i,y:a,x:c}=r;return _.createElement(tb,{width:n,height:i,x:c,y:a},t)},V3=_.forwardRef((e,t)=>{var{children:r}=e,n=pre(e,hre),i=en();return i?_.createElement(vre,null,_.createElement(W3,{isPanorama:!0},r)):_.createElement(xre,Cp({ref:t},n),_.createElement(W3,{isPanorama:!1},r))});function yre(){var e=dr(),[t,r]=_.useState(null),n=Ge(KF);return _.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Yt(a)&&a!==n&&e(TF(a))}},[t,e,n]),r}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(null,arguments)}var Are=()=>(pK(),null);function _p(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Cre=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,c]=_.useState({containerWidth:_p((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_p((n=e.style)===null||n===void 0?void 0:n.height)}),f=_.useCallback((h,x)=>{c(y=>{var S=Math.round(h),C=Math.round(x);return y.containerWidth===S&&y.containerHeight===C?y:{containerWidth:S,containerHeight:C}})},[]),p=_.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:x,height:y}=h.getBoundingClientRect();f(x,y);var S=I=>{var{width:O,height:T}=I[0].contentRect;f(O,T)},C=new ResizeObserver(S);C.observe(h),i.current=C}},[t,f]);return _.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[f]),_.createElement(_.Fragment,null,_.createElement(tm,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",Hl({ref:p},e)))}),_re=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:_p(r),containerHeight:_p(n)}),c=_.useCallback((p,h)=>{a(x=>{var y=Math.round(p),S=Math.round(h);return x.containerWidth===y&&x.containerHeight===S?x:{containerWidth:y,containerHeight:S}})},[]),f=_.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:h,height:x}=p.getBoundingClientRect();c(h,x)}},[t,c]);return _.createElement(_.Fragment,null,_.createElement(tm,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",Hl({ref:f},e)))}),Nre=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(tm,{width:r,height:n}),_.createElement("div",Hl({ref:t},e)))}),Ire=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return Fs(r)||Fs(n)?_.createElement(_re,Hl({},e,{ref:t})):_.createElement(Nre,Hl({},e,{ref:t}))});function Ore(e){return e===!0?Cre:Ire}var Tre=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:c,onDoubleClick:f,onMouseDown:p,onMouseEnter:h,onMouseLeave:x,onMouseMove:y,onMouseUp:S,onTouchEnd:C,onTouchMove:I,onTouchStart:O,style:T,width:M,responsive:D,dispatchTouchEvents:R=!0}=e,B=_.useRef(null),U=dr(),[$,V]=_.useState(null),[Z,K]=_.useState(null),ge=yre(),se=bb(),ae=se?.width>0?se.width:M,Se=se?.height>0?se.height:i,_e=_.useCallback(Q=>{ge(Q),typeof t=="function"&&t(Q),V(Q),K(Q),Q!=null&&(B.current=Q)},[ge,t,V,K]),re=_.useCallback(Q=>{U(c8(Q)),U(oa({handler:a,reactEvent:Q}))},[U,a]),Fe=_.useCallback(Q=>{U(Cy(Q)),U(oa({handler:h,reactEvent:Q}))},[U,h]),le=_.useCallback(Q=>{U(LP()),U(oa({handler:x,reactEvent:Q}))},[U,x]),pe=_.useCallback(Q=>{U(Cy(Q)),U(oa({handler:y,reactEvent:Q}))},[U,y]),xe=_.useCallback(()=>{U(m8())},[U]),Ae=_.useCallback(Q=>{U(p8(Q.key))},[U]),J=_.useCallback(Q=>{U(oa({handler:c,reactEvent:Q}))},[U,c]),ce=_.useCallback(Q=>{U(oa({handler:f,reactEvent:Q}))},[U,f]),$e=_.useCallback(Q=>{U(oa({handler:p,reactEvent:Q}))},[U,p]),ze=_.useCallback(Q=>{U(oa({handler:S,reactEvent:Q}))},[U,S]),Xe=_.useCallback(Q=>{U(oa({handler:O,reactEvent:Q}))},[U,O]),X=_.useCallback(Q=>{R&&U(x8(Q)),U(oa({handler:I,reactEvent:Q}))},[U,R,I]),Ce=_.useCallback(Q=>{U(oa({handler:C,reactEvent:Q}))},[U,C]),Ue=Ore(D);return _.createElement(nk.Provider,{value:$},_.createElement(fT.Provider,{value:Z},_.createElement(Ue,{width:ae??T?.width,height:Se??T?.height,className:zt("recharts-wrapper",n),style:bre({position:"relative",cursor:"default",width:ae,height:Se},T),onClick:re,onContextMenu:J,onDoubleClick:ce,onFocus:xe,onKeyDown:Ae,onMouseDown:$e,onMouseEnter:Fe,onMouseLeave:le,onMouseMove:pe,onMouseUp:ze,onTouchEnd:Ce,onTouchMove:X,onTouchStart:Xe,ref:_e},_.createElement(Are,null),r)))}),jre=["width","height","responsive","children","className","style","compact","title","desc"];function Pre(e,t){if(e==null)return{};var r,n,i=kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E8=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:c,style:f,compact:p,title:h,desc:x}=e,y=Pre(e,jre),S=Vn(y);return p?_.createElement(_.Fragment,null,_.createElement(tm,{width:r,height:n}),_.createElement(V3,{otherAttributes:S,title:h,desc:x},a)):_.createElement(Tre,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(V3,{otherAttributes:S,title:h,desc:x,ref:t},_.createElement(UQ,null,a)))});function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(null,arguments)}var Rre={top:5,right:5,bottom:5,left:5},Mre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Rre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ww=_.forwardRef(function(t,r){var n,i=Cr(t.categoricalChartProps,Mre),{chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:h}=t,x={chartName:a,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(y8,{preloadedState:{options:x},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:a},_.createElement(jk,{chartData:h.data}),_.createElement(b8,{layout:i.layout,margin:i.margin}),_.createElement(w8,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(E8,_y({},i,{ref:r})))}),Dre=["axis","item"],S8=_.forwardRef((e,t)=>_.createElement(Ww,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dre,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t}));function Lre(e){var t=dr();return _.useEffect(()=>{t(sre(e))},[t,e]),null}var Bre=["layout"];function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function Fre(e,t){if(e==null)return{};var r,n,i=zre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ure={top:5,right:5,bottom:5,left:5},A8={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},$re=_.forwardRef(function(t,r){var n,i=Cr(t.categoricalChartProps,A8),{layout:a}=i,c=Fre(i,Bre),{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:x}=t,y={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return _.createElement(y8,{preloadedState:{options:y},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},_.createElement(jk,{chartData:i.data}),_.createElement(b8,{layout:a,margin:i.margin}),_.createElement(w8,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Lre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(E8,Ny({},c,{ref:r})))});function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){Hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qre=["item"],Gre=K3(K3({},A8),{},{layout:"centric",startAngle:0,endAngle:360}),Kre=_.forwardRef((e,t)=>{var r=Cr(e,Gre);return _.createElement($re,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:qre,tooltipPayloadSearcher:Sm,categoricalChartProps:r,ref:t})}),Yre=["item"],Xre=_.forwardRef((e,t)=>_.createElement(Ww,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t})),Qre=["axis"],Zre=_.forwardRef((e,t)=>_.createElement(Ww,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qre,tooltipPayloadSearcher:Sm,categoricalChartProps:e,ref:t}));const Jre=({transactions:e,expenses:t,timeRange:r,onTimeRangeChange:n,onRefresh:i})=>{const[a,c]=_.useState([]),[f,p]=_.useState({invested:0,recovered:0}),[h,x]=_.useState({}),[y,S]=_.useState(null),[C,I]=_.useState(""),O=async(B,U)=>{try{const{error:$}=await He.from("transactions").update({cost:U}).eq("id",B);if($)throw $;i&&i()}catch($){alert("Error actualizando costo: "+$.message)}};_.useEffect(()=>{D(),T()},[e,t]);const T=async()=>{try{const{data:B,error:U}=await He.from("service_costs").select("*");if(B){const $={};Fi.forEach(V=>{$[V.id]=0}),B.forEach(V=>{$[V.service_id]=V.cost}),x($)}U&&console.error("Error loading service costs:",U)}catch(B){console.error("Failed to load costs:",B)}},M=async(B,U)=>{try{const{error:$}=await He.from("service_costs").upsert({service_id:B,cost:U},{onConflict:"service_id"});if($)throw $;const V={...h,[B]:U};x(V),S(null)}catch($){alert("Error guardando costo: "+$.message)}},D=()=>{const B={Style:{sales:0,cost:0,extras:0,count:0},Perfum:{sales:0,cost:0,extras:0,count:0},"Amor Amor":{sales:0,cost:0,extras:0,count:0}};e.forEach(Z=>{let K="Style";if(Z.type==="product"?Z.description?.includes("Regalito")||Z.description?.includes("Amor")?K="Amor Amor":K="Perfum":K="Style",B[K]){const ge=B[K];ge.sales+=Z.amount,ge.extras+=Z.additional_cost||0,ge.count+=1,ge.cost+=Z.cost||0}});const U=Object.keys(B).map(Z=>{const K=B[Z],ge=K.sales-K.cost-K.extras,se=K.sales>0?ge/K.sales*100:0;return{name:Z,Ventas:K.sales,"Costo Extra":K.extras,Margen:ge,"Margen %":Math.round(se)}});c(U);const $=t.reduce((Z,K)=>Z+K.amount,0),V=e.reduce((Z,K)=>Z+K.amount,0);p({invested:$,recovered:V})},R=sr.useMemo(()=>{new Set(Fi.map($=>$.id));const B=new Set(Fi.map($=>$.name)),U=[];return e.forEach($=>{if($.type==="service"&&$.description){const V=$.description;B.has(V)||U.find(Z=>Z.name===V)||U.push({id:V,name:V,price:0,isDynamic:!0})}}),[...Fi,...U]},[e]);return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-stone-100 shadow-sm",children:[g.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[g.jsx(s5,{className:"text-emerald-600"}),"Resumen Financiero"]}),g.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(B=>g.jsx("button",{onClick:()=>n(B),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition ${r===B?"bg-stone-900 text-white":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:B==="day"?"Hoy":B==="week"?"Semana":"Mes"},B))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-stone-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-stone-400 text-sm font-bold uppercase tracking-wider mb-2",children:"Inversin Total (Gastos)"}),g.jsxs("h3",{className:"text-4xl font-mono font-bold text-red-400 mb-1",children:["$",f.invested.toLocaleString()]}),g.jsx("p",{className:"text-xs text-stone-500",children:"Acumulado histrico de compras/gastos"})]}),g.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10",children:g.jsx(xI,{size:120})})]}),g.jsx("div",{className:"bg-emerald-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-emerald-200 text-sm font-bold uppercase tracking-wider mb-2",children:"Recuperado (Ventas)"}),g.jsxs("h3",{className:"text-4xl font-mono font-bold text-emerald-400 mb-1",children:["$",f.recovered.toLocaleString()]}),g.jsx("p",{className:"text-xs text-emerald-200/50",children:f.invested>0?`${(f.recovered/f.invested*100).toFixed(1)}% de la inversin recuperada`:"Calculando retorno..."})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[g.jsx(o0,{size:20})," Rendimiento por rea"]}),g.jsx("div",{className:"h-[300px] w-full text-xs",children:g.jsx(xd,{width:"100%",height:"100%",children:g.jsxs(S8,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[g.jsx(Ed,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),g.jsx(Ad,{dataKey:"name",axisLine:!1,tickLine:!1}),g.jsx(Dc,{axisLine:!1,tickLine:!1,tickFormatter:B=>`$${B/1e3}k`}),g.jsx(yd,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),g.jsx(X0,{}),g.jsx(jl,{dataKey:"Ventas",fill:"#3b82f6",radius:[4,4,0,0]}),g.jsx(jl,{dataKey:"Margen",fill:"#10b981",radius:[4,4,0,0]}),g.jsx(jl,{dataKey:"Costo Extra",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[g.jsx(EI,{size:20})," Detalle de Mrgenes"]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-2 py-2 text-left",children:"rea"}),g.jsx("th",{className:"px-2 py-2 text-right",children:"Margen $"}),g.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),g.jsx("tbody",{className:"divide-y divide-stone-100",children:a.map(B=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-2 py-3 font-medium",children:B.name}),g.jsxs("td",{className:`px-2 py-3 text-right font-bold ${B.Margen>0?"text-emerald-600":"text-stone-500"}`,children:["$",B.Margen.toLocaleString()]}),g.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[B["Margen %"],"%"]})]},B.name))})]})}),g.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl text-xs text-blue-700",children:[g.jsx("p",{className:"font-bold mb-1",children:" Tip:"}),g.jsx("p",{children:'El "Margen" descuenta los Costos Extra ingresados (luz, caf, etc). Para aumentar el margen en "Style", asegrate de registrar todos los insumos variables.'})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[g.jsx(zy,{size:20,className:"text-purple-600"})," Costos de Servicios"]}),g.jsx("p",{className:"text-xs text-stone-400 mb-4",children:"Ingresa el costo de insumos por servicio para calcular mrgenes reales."}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-2 py-2 text-left",children:"Servicio"}),g.jsx("th",{className:"px-2 py-2 text-right",children:"Precio Prom."}),g.jsx("th",{className:"px-2 py-2 text-right",children:"Costo"}),g.jsx("th",{className:"px-2 py-2 text-right",children:"Margen"}),g.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),g.jsx("tbody",{className:"divide-y divide-stone-100",children:R.map(B=>{const U=h[B.id]||0;let $=B.price||0;if(B.isDynamic||!$){const K=e.filter(ge=>ge.description===B.name&&ge.amount>0);K.length>0&&($=K.reduce((se,ae)=>se+ae.amount,0)/K.length)}const V=$-U,Z=$>0?Math.round(V/$*100):0;return g.jsxs("tr",{className:"hover:bg-stone-50",children:[g.jsxs("td",{className:"px-2 py-3 font-medium text-stone-700",children:[B.name,B.isDynamic&&g.jsx("span",{className:"text-[10px] text-blue-500 ml-1",children:"(Nuevo)"})]}),g.jsxs("td",{className:"px-2 py-3 text-right text-stone-600",children:["$",$.toLocaleString(void 0,{maximumFractionDigits:0})]}),g.jsx("td",{className:"px-2 py-3 text-right",children:y===B.id?g.jsxs("div",{className:"flex items-center justify-end gap-1",children:[g.jsx("input",{type:"number",value:C,onChange:K=>I(K.target.value),className:"w-16 border rounded px-1 py-0.5 text-right text-sm",autoFocus:!0}),g.jsx("button",{onClick:()=>M(B.id,parseInt(C)||0),className:"text-green-600 hover:text-green-700",children:g.jsx(Uy,{size:14})})]}):g.jsxs("button",{onClick:()=>{S(B.id),I(U.toString())},className:"text-red-500 hover:underline",children:["$",U.toLocaleString()]})}),g.jsxs("td",{className:`px-2 py-3 text-right font-bold ${V>0?"text-emerald-600":"text-red-500"}`,children:["$",V.toLocaleString()]}),g.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[Z,"%"]})]},B.id)})})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsx("div",{className:"flex justify-between items-center mb-4",children:g.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[g.jsx(_I,{size:20,className:"text-blue-600"})," Vista de Ingreso, Costo y Margen por Cliente"]})}),g.jsx("p",{className:"text-xs text-stone-400 mb-4",children:"Detalle de visitas. Edita el costo manual si difiere del estndar."}),g.jsx("div",{className:"overflow-x-auto max-h-[600px]",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50 sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left",children:"Fecha"}),g.jsx("th",{className:"px-4 py-3 text-left",children:"Cliente"}),g.jsx("th",{className:"px-4 py-3 text-left",children:"Servicio/Producto"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Venta"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Costo (Edit)"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Margen"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"%"})]})}),g.jsxs("tbody",{className:"divide-y divide-stone-100",children:[e.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:7,className:"text-center py-8 text-stone-400",children:"No hay transacciones en este periodo."})}),e.map(B=>{let U=0;if(!B.cost&&B.type==="service"){const $=Fi.find(V=>B.description?.includes(V.name));$&&(U=h[$.id]||0)}return g.jsx(ene,{transaction:B,serviceCostStd:U,onUpdate:O},B.id)})]})]})})]})]})]})},ene=({transaction:e,serviceCostStd:t,onUpdate:r})=>{const[n,i]=_.useState(!1),[a,c]=_.useState(0),[f,p]=_.useState(!1);_.useEffect(()=>{c(e.cost!==void 0&&e.cost!==null?e.cost:t)},[e.cost,t]);const h=e.amount-a,x=e.amount>0?h/e.amount*100:0,y=async()=>{p(!0),await r(e.id,a),p(!1),i(!1)};return g.jsxs("tr",{className:"hover:bg-stone-50 border-b border-stone-100 last:border-0",children:[g.jsx("td",{className:"px-4 py-3 text-stone-600 whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()}),g.jsxs("td",{className:"px-4 py-3",children:[g.jsx("div",{className:"font-medium text-stone-800",children:e.client?.name||"Cliente Casual"}),g.jsx("div",{className:"text-xs text-stone-400",children:e.client?.phone||""})]}),g.jsx("td",{className:"px-4 py-3 text-stone-600",children:g.jsx("div",{className:"text-sm truncate max-w-[200px]",title:e.description,children:e.description||e.type})}),g.jsxs("td",{className:"px-4 py-3 text-right text-stone-800 font-medium",children:["$",e.amount.toLocaleString()]}),g.jsx("td",{className:"px-4 py-3 text-right",children:n?g.jsxs("div",{className:"flex items-center justify-end gap-1",children:[g.jsx("input",{type:"number",value:a,onChange:S=>c(Number(S.target.value)),className:"w-20 border border-stone-300 rounded px-2 py-1 text-right text-sm focus:outline-none focus:border-blue-500",autoFocus:!0}),g.jsx("button",{onClick:y,disabled:f,className:"text-green-600 hover:text-green-700 bg-green-50 p-1 rounded",children:g.jsx(Uy,{size:16})})]}):g.jsxs("button",{onClick:()=>i(!0),className:"text-stone-500 hover:text-blue-600 hover:bg-blue-50 px-2 py-1 rounded transition-colors text-sm flex items-center justify-end w-full gap-1 group",children:["$",a.toLocaleString(),g.jsx(zy,{size:12,className:"opacity-0 group-hover:opacity-100"})]})}),g.jsxs("td",{className:`px-4 py-3 text-right font-bold ${h>=0?"text-emerald-600":"text-red-500"}`,children:["$",h.toLocaleString()]}),g.jsxs("td",{className:"px-4 py-3 text-right text-xs text-stone-400",children:[x.toFixed(0),"%"]})]})},tne=({initialClient:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(e||null),[a,c]=_.useState(""),[f,p]=_.useState(""),[h,x]=_.useState("todos"),[y,S]=_.useState(!1),[C,I]=_.useState([]),[O,T]=_.useState(""),[M,D]=_.useState([]),[R,B]=_.useState(""),[U,$]=_.useState(""),[V,Z]=_.useState([]),[K,ge]=_.useState(!1);_.useEffect(()=>{e&&i(e),se(),ae()},[e]);const se=async()=>{const{data:X,error:Ce}=await He.from("inventory").select("*").gt("quantity",0).order("name",{ascending:!0});X&&D(X)},ae=async()=>{ge(!0);const X=new Date;X.setDate(X.getDate()-7);const{data:Ce,error:Ue}=await He.from("transactions").select("*, clients(name)").gte("created_at",X.toISOString()).order("created_at",{ascending:!1}).limit(50);!Ue&&Ce&&Z(Ce),ge(!1)},Se=async X=>{if(!X||X.length<2){I([]);return}const{data:Ce,error:Ue}=await He.from("clients").select("*").or(`phone.ilike.%${X}%,name.ilike.%${X}%`).limit(10);Ce&&I(Ce)};_.useEffect(()=>{const X=setTimeout(()=>{Se(a)},500);return()=>clearTimeout(X)},[a]);const _e=(X,Ce,Ue,Q)=>{const Te=Ue||(Ce==="product"?"10ml":"standard"),Le=`${X.id}-${Te}`;if(t.find(Oe=>Oe.cartId===Le))r(t.map(Oe=>Oe.cartId===Le?{...Oe,qty:Oe.qty+1}:Oe));else{let Oe=Q||0;Q||(Ce==="product"&&(Ue==="5ml"?Oe=X.price5ml||X.price||0:Ue==="10ml"?Oe=X.price10ml||0:Ue==="Botella"?Oe=X.priceFullBottle||0:Oe=X.price||0),Ce==="gift"&&(Oe=X.price||0),Ce==="service"&&(Oe=X.price||0)),r([...t,{...X,cartId:Le,type:Ce,qty:1,price:Oe,variant:Te}])}T(`Agregado: ${X.name} (${Te})`),setTimeout(()=>T(""),2e3)},re=()=>{if(!R||!U){alert("Por favor ingrese nombre y precio del item.");return}const X=parseInt(U);if(isNaN(X)){alert("El precio debe ser un nmero vlido.");return}const Ce={id:"manual-"+Date.now(),name:R,price:X,type:"service",qty:1,variant:"manual",stock:!1,cartId:"manual-"+Date.now()};r(Ue=>[...Ue,Ce]),B(""),$(""),T(`Item "${R}" agregado al carrito ($${X})`),setTimeout(()=>T(""),3e3)},Fe=X=>{r(t.filter(Ce=>Ce.cartId!==X))},le=(X,Ce)=>{Ce<1||r(t.map(Ue=>Ue.cartId===X?{...Ue,qty:Ce}:Ue))},pe=(X,Ce)=>{if(Ce===""){r(t.map(Q=>Q.cartId===X?{...Q,price:0}:Q));return}const Ue=parseInt(Ce);isNaN(Ue)||r(t.map(Q=>Q.cartId===X?{...Q,price:Ue}:Q))},xe=async()=>{const X=prompt(`Ingresa el telfono para el nuevo cliente "${a}":`,"+569");if(X)try{const{data:Ce}=await He.from("clients").select("id, name, phone").eq("phone",X).single();if(Ce){alert(`El cliente ya existe: ${Ce.name}`),i(Ce),c("");return}const Ue=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Le=>{const we=Math.random()*16|0;return(Le==="x"?we:we&3|8).toString(16)}),{data:Q,error:Te}=await He.from("clients").insert({name:a,phone:X,visits:1,member_token:Ue()}).select().single();if(Te)throw Te;alert(` Cliente creado: ${Q.name}`),i(Q),c("")}catch(Ce){alert("Error creando cliente: "+Ce.message)}},Ae=async X=>{if(!n||!n.id){alert(` Primero selecciona un cliente en el panel 'Venta Actual' (derecha).

1. Busca y selecciona el cliente arriba a la derecha.
2. Vuelve aqu y presiona este botn para asignarlo a esta venta.`);return}if(confirm(`Asignar cliente "${n.name}" a esta venta?`))try{const{error:Ce}=await He.from("transactions").update({client_id:n.id}).eq("id",X);if(Ce)throw Ce;alert(" Cliente asignado correctamente."),ae(),i(null)}catch(Ce){alert("Error: "+Ce.message)}},J=async()=>{if(t.length===0)return alert("El carrito est vaco");if(window.confirm(`Confirmar venta por $${t.reduce((X,Ce)=>X+Ce.price*Ce.qty,0).toLocaleString()}?`)){S(!0);try{let X=n?.id||null;if(n&&!n.id&&n.phone){const Ce=n.phone.startsWith("+")?n.phone:"+569"+n.phone,{data:Ue}=await He.from("clients").select("id").eq("phone",Ce).single();if(Ue)X=Ue.id;else{const Q=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(we){const Oe=Math.random()*16|0;return(we==="x"?Oe:Oe&3|8).toString(16)}),{data:Te,error:Le}=await He.from("clients").insert({name:n.name||"Cliente",phone:Ce,visits:1,member_token:Q()}).select("id").single();Le?console.error("Error creando cliente:",Le):Te&&(X=Te.id)}}for(const Ce of t){if(Ce.type==="product"&&Ce.stock!==!1){const{error:Q}=await He.rpc("adjust_inventory",{p_product_id:Ce.id,p_delta:-Ce.qty,p_reason:"sale_pos"});Q&&console.error("Inventory error",Q)}const{error:Ue}=await He.from("transactions").insert({client_id:X,amount:Ce.price*Ce.qty,type:Ce.type==="service"?"service":"product",description:`POS: ${Ce.name} (${Ce.variant}) x${Ce.qty}`,additional_cost:0});if(Ue)throw Ue}alert(" Venta registrada con xito!"),r([]),i(null),c(""),ae()}catch(X){alert("Error procesando venta: "+X.message)}finally{S(!1)}}},ce=async X=>{if(confirm(`Eliminar venta de $${X.amount.toLocaleString()}?

Esta accin eliminar el registro financiero.`)){X.type==="product"&&confirm(`Deseas intentar devolver el stock automticamente?
(Solo funciona si el sistema puede identificar el producto)`);try{const{error:Ce}=await He.from("transactions").delete().eq("id",X.id);if(Ce)throw Ce;alert("Venta eliminada correctamente."),ae()}catch(Ce){alert("Error al eliminar: "+Ce.message)}}},$e=Ms.filter(X=>(h==="todos"||h==="perfumes"||h==="arabes"&&X.category==="arab")&&X.name?.toLowerCase().includes(f.toLowerCase())),ze=Fi.filter(X=>(h==="todos"||h==="servicios")&&X.name?.toLowerCase().includes(f.toLowerCase())),Xe=M.filter(X=>(h==="todos"||h==="productos")&&X.name?.toLowerCase().includes(f.toLowerCase()));return g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6 overflow-y-auto pr-2 pb-20",children:[O&&g.jsx("div",{className:"bg-green-600 text-white p-2 rounded text-center text-sm font-bold sticky top-0 z-50 animate-in slide-in-from-top duration-300 shadow-lg",children:O}),g.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-stone-100 z-10 sticky top-0",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Hc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:20}),g.jsx("input",{type:"text",placeholder:"Buscar servicio o producto...",value:f,onChange:X=>p(X.target.value),className:"w-full pl-10 pr-4 py-3 bg-stone-50 rounded-xl focus:outline-none focus:ring-2 focus:ring-black transition-all"})]}),g.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:["todos","servicios","perfumes","arabes","productos"].map(X=>g.jsx("button",{onClick:()=>x(X),className:`px-4 py-2 rounded-full whitespace-nowrap text-sm font-bold transition-all ${h===X?"bg-black text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:X.charAt(0).toUpperCase()+X.slice(1)},X))})]}),g.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[g.jsxs("h4",{className:"font-bold text-stone-700 mb-2 text-sm flex items-center gap-2",children:[g.jsx(zy,{size:14})," Item Manual"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{placeholder:"Nombre Item",className:"flex-1 border p-2 rounded text-sm",value:R,onChange:X=>B(X.target.value)}),g.jsx("input",{placeholder:"Precio",type:"number",className:"w-24 border p-2 rounded text-sm",value:U,onChange:X=>$(X.target.value)}),g.jsxs("button",{onClick:re,className:"bg-stone-800 text-white px-3 rounded-lg font-bold text-sm hover:bg-black transition flex items-center gap-1",children:[g.jsx(eS,{size:16})," Agregar"]})]})]}),g.jsxs("div",{className:"space-y-8",children:[ze.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs",children:"Servicios"}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:ze.map(X=>g.jsxs("button",{onClick:()=>_e(X,"service"),className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md hover:border-purple-200 transition-all text-left group relative overflow-hidden",children:[g.jsx("div",{className:"mb-2",children:g.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:"Servicio"})}),g.jsx("h3",{className:"font-bold text-stone-800 leading-tight mb-1",children:X.name}),g.jsxs("div",{className:"font-mono font-bold text-lg text-emerald-600 mt-2",children:["$",X.price.toLocaleString()]})]},X.id))})]}),Xe.length>0&&g.jsxs("div",{children:[g.jsxs("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs flex items-center gap-2",children:[g.jsx(wI,{size:14})," Inventario"]}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:Xe.map(X=>g.jsxs("div",{className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md hover:border-emerald-200 transition-all text-left relative overflow-hidden",children:[g.jsx("div",{className:"font-bold text-stone-800 text-sm mb-1 truncate",children:X.name}),g.jsxs("div",{className:"text-stone-400 text-[10px] mb-3",children:["Stock: ",X.quantity]}),g.jsxs("button",{onClick:()=>_e({...X,id:X.product_id},"product","unidad",X.sale_price||X.price||0),className:"w-full bg-emerald-600 text-white text-xs py-2 rounded-lg font-bold hover:bg-emerald-700 transition flex items-center justify-center gap-1",children:[g.jsx(eS,{size:14})," $",(X.sale_price||X.price||0).toLocaleString()]})]},X.product_id))})]}),$e.length>0&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-stone-500 mb-3 uppercase text-xs",children:"Catlogo de Perfumes"}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:$e.map(X=>g.jsxs("div",{className:"bg-white p-4 rounded-xl border border-stone-100 hover:shadow-md transition-all",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-stone-800 text-sm",children:X.name}),g.jsx("p",{className:"text-xs text-stone-400",children:X.brand})]}),g.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider px-2 py-1 rounded-full bg-orange-100 text-orange-700",children:X.category})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[g.jsxs("button",{onClick:()=>_e(X,"product","5ml",X.price5ml),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition",children:["5ml",g.jsx("br",{}),g.jsxs("span",{className:"text-emerald-600",children:["$",X.price5ml.toLocaleString()]})]}),g.jsxs("button",{onClick:()=>_e(X,"product","10ml",X.price10ml),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition",children:["10ml",g.jsx("br",{}),g.jsxs("span",{className:"text-emerald-600",children:["$",X.price10ml.toLocaleString()]})]}),X.priceFullBottle&&g.jsxs("button",{onClick:()=>_e(X,"product","Botella",X.priceFullBottle),className:"bg-stone-50 hover:bg-stone-100 text-stone-700 text-xs py-2 rounded-lg font-bold transition border border-amber-200",children:["Botella",g.jsx("br",{}),g.jsxs("span",{className:"text-emerald-600",children:["$",X.priceFullBottle.toLocaleString()]})]})]})]},X.id))})]})]}),g.jsxs("div",{className:"mt-12 pt-8 border-t border-stone-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("h3",{className:"font-bold text-stone-800 flex items-center gap-2",children:[g.jsx(C5,{size:18})," ltimas Ventas (24h)"]}),g.jsx("button",{onClick:ae,className:"text-stone-400 hover:text-black p-2 hover:bg-stone-100 rounded-full transition",children:g.jsx(A5,{size:16,className:K?"animate-spin":""})})]}),g.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{className:"bg-stone-50 text-stone-400 text-xs uppercase",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left",children:"Hora"}),g.jsx("th",{className:"px-4 py-3 text-left",children:"Descripcin"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-stone-100",children:V.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"p-8 text-center text-stone-400",children:"No hay ventas recientes hoy."})}):V.map(X=>g.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[g.jsx("td",{className:"px-4 py-3 text-stone-500 whitespace-nowrap",children:new Date(X.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),g.jsxs("td",{className:"px-4 py-3",children:[g.jsx("div",{className:"font-medium text-stone-800 line-clamp-1",children:X.description}),g.jsx("div",{className:"text-xs text-stone-400",children:X.clients?.name||"Cliente Casual"})]}),g.jsxs("td",{className:"px-4 py-3 text-right font-mono font-medium text-emerald-600",children:["$",X.amount.toLocaleString()]}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsxs("div",{className:"flex justify-end gap-1",children:[!X.clients&&g.jsx("button",{onClick:()=>Ae(X.id),className:"p-2 text-stone-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Asignar cliente seleccionado (en panel derecho)",children:g.jsx(Id,{size:16})}),g.jsx("button",{onClick:()=>ce(X),className:"p-2 text-stone-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-transparent hover:border-red-100",title:"Eliminar venta",children:g.jsx(Nd,{size:16})})]})})]},X.id))})]})})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-xl h-fit border border-stone-100 lg:sticky lg:top-4 flex flex-col max-h-[90vh]",children:[g.jsxs("h3",{className:"font-bold text-xl mb-6 flex items-center gap-2",children:[g.jsx(Pl,{})," Venta Actual"]}),g.jsxs("div",{className:"mb-6 space-y-2",children:[g.jsx("label",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider",children:"Cliente"}),n?g.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-50 text-emerald-700 rounded-xl border border-emerald-100",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-emerald-100 p-2 rounded-full",children:g.jsx(T5,{size:16})}),g.jsx("span",{className:"font-bold",children:n.name})]}),g.jsx("button",{onClick:()=>i(null),className:"p-1 hover:bg-emerald-100 rounded-full text-emerald-600",children:g.jsx(Ei,{size:16})})]}):g.jsxs("div",{className:"relative",children:[g.jsx(Hc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:a,onChange:X=>c(X.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-black transition-all border border-transparent focus:border-stone-200"}),!n&&a.length>2&&C.length===0&&g.jsxs("button",{onClick:xe,className:"absolute top-full left-0 right-0 mt-2 w-full py-2 bg-emerald-600 text-white rounded-xl shadow-lg z-50 text-sm font-bold flex items-center justify-center gap-2 hover:bg-emerald-700 transition animate-in fade-in slide-in-from-top-2",children:[g.jsx(Id,{size:16}),' Crear "',a,'"']}),C.length>0&&g.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-stone-100 shadow-xl rounded-xl mt-2 z-50 max-h-48 overflow-y-auto p-2",children:C.map(X=>g.jsxs("button",{onClick:()=>{i(X),c(""),I([])},className:"w-full text-left px-3 py-2 hover:bg-stone-50 text-sm rounded-lg flex justify-between items-center group",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-stone-800",children:X.name||"Sin Nombre"}),g.jsx("div",{className:"text-xs text-stone-400",children:X.phone})]}),X.visits&&g.jsxs("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full",children:[X.visits," visitas"]})]},X.id))})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-1 mb-6 min-h-[200px]",children:t.length===0?g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-stone-300 space-y-4",children:[g.jsx(Pl,{size:48,strokeWidth:1}),g.jsx("p",{className:"text-sm font-medium",children:"Carrito vaco"})]}):t.map(X=>g.jsxs("div",{className:"flex justify-between items-center group bg-stone-50 p-3 rounded-xl border border-transparent hover:border-stone-200 transition-all",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-stone-800 text-sm",children:X.name}),g.jsx("div",{className:"text-xs text-stone-400 mb-2",children:X.variant}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>le(X.cartId,X.qty-1),className:"w-6 h-6 flex items-center justify-center bg-white border border-stone-200 rounded-lg text-xs hover:bg-stone-100 transition",children:"-"}),g.jsx("span",{className:"text-xs font-bold w-4 text-center",children:X.qty}),g.jsx("button",{onClick:()=>le(X.cartId,X.qty+1),className:"w-6 h-6 flex items-center justify-center bg-white border border-stone-200 rounded-lg text-xs hover:bg-stone-100 transition",children:"+"})]})]}),g.jsxs("div",{className:"text-right flex flex-col items-end gap-1",children:[g.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[g.jsx("span",{className:"text-stone-400 text-xs",children:"$"}),g.jsx("input",{className:"w-20 text-right bg-transparent border-b border-stone-300 font-bold text-stone-800 text-sm focus:outline-none focus:border-black p-0",value:X.price,onChange:Ce=>pe(X.cartId,Ce.target.value),title:"Click para editar precio"})]}),g.jsx("button",{onClick:()=>Fe(X.cartId),className:"text-stone-300 hover:text-red-500 transition-colors p-1",children:g.jsx(Nd,{size:14})})]})]},X.cartId||`${X.id}-${X.variant}`))}),g.jsxs("div",{className:"space-y-4 pt-6 border-t border-stone-100 mt-auto",children:[g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-stone-500 font-medium",children:"Total"}),g.jsxs("span",{className:"text-4xl font-bold font-mono text-stone-900 tracking-tight",children:["$",t.reduce((X,Ce)=>X+Ce.price*Ce.qty,0).toLocaleString()]})]}),g.jsx("button",{onClick:J,disabled:t.length===0||y,className:"w-full py-4 bg-black text-white font-bold rounded-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 disabled:hover:scale-100 flex items-center justify-center gap-2 shadow-xl shadow-stone-200",children:y?g.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):g.jsxs(g.Fragment,{children:[g.jsx(f5,{size:20})," Cobrar"]})})]})]})]})},rne=({onRegisterService:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(()=>{const Q=new Date;return Q.setHours(0,0,0,0),Q}),[a,c]=_.useState(null),[f,p]=_.useState(!1),[h,x]=_.useState(null),[y,S]=_.useState(""),[C,I]=_.useState(""),[O,T]=_.useState("Corte"),[M,D]=_.useState("salon"),[R,B]=_.useState(1),[U,$]=_.useState(!1),[V,Z]=_.useState(!1),[K,ge]=_.useState("9:00"),[se,ae]=_.useState("21:00"),[Se,_e]=_.useState("");_.useEffect(()=>{re()},[n]);const re=async()=>{$(!0);const{data:Q,error:Te}=await He.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});Te?console.error("Error fetching bookings:",Te):r(Q||[]),$(!1)},le=(Q=>{const Te=[],Le=Q.getDay(),we=Q.getDate()-Le+(Le===0?-6:1),Oe=new Date(Q);Oe.setDate(we);for(let ut=0;ut<7;ut++){const ht=new Date(Oe);ht.setDate(Oe.getDate()+ut),Te.push(ht)}return Te})(n),pe=Array.from({length:13},(Q,Te)=>`${Te+9}:00`),xe=(Q,Te)=>{const Le=new Date,we=parseInt(Te.split(":")[0]),Oe=new Date(Q+"T00:00:00");return Oe.toDateString()<Le.toDateString()?!0:Oe.toDateString()===Le.toDateString()?we<=Le.getHours():!1},Ae=()=>{const Q=new Date(n);Q.setDate(n.getDate()-7),i(Q)},J=()=>{const Q=new Date(n);Q.setDate(n.getDate()+7),i(Q)},ce=()=>{const Q=new Date;Q.setHours(0,0,0,0),i(Q)},$e=(Q,Te)=>{const Le=t.find(we=>we.date===Q&&we.time===Te);Le?x(Le):(c({date:Q,time:Te}),D("salon"),S(""),I(""),B(1),p(!0))},ze=async()=>{if(!a)return;const Q=M==="bloqueo",Te=Q?"BLOQUEADO":y;if(!Te&&!Q)return alert("Ingrese nombre");$(!0);try{const Le=parseInt(a.time.split(":")[0]),we=[];for(let ht=0;ht<R;ht++){const Lt=Le+ht;if(Lt>21)break;const Ot=`${Lt}:00`;if(t.find(At=>At.date===a.date&&At.time===Ot)){alert(`El horario ${Ot} ya est ocupado`),$(!1);return}we.push({date:a.date,time:Ot,name:Te,phone:C||"00000000",email:"manual@admin.com",service_name:Q?"Bloqueo":`${O} (${R}h)`,is_home_service:M==="domicilio",created_at:new Date().toISOString()})}const{error:Oe}=await He.from("bookings").insert(we);if(Oe)throw Oe;const ut=R>1?` (${R} horas)`:"";alert(Q?"Bloqueo registrado"+ut:"Reserva creada"+ut),p(!1),re()}catch(Le){alert("Error: "+Le.message)}finally{$(!1)}},Xe=async Q=>{const{error:Te}=await He.from("bookings").delete().eq("id",Q);Te||re()},X=async Q=>{if(!window.confirm(`Bloquear todo el da ${Q}?`))return;$(!0);const Te=pe.map(Oe=>({date:Q,time:Oe,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()})),Le=t.filter(Oe=>Oe.date===Q).map(Oe=>Oe.time),we=Te.filter(Oe=>!Le.includes(Oe.time));if(we.length>0){const{error:Oe}=await He.from("bookings").insert(we);Oe?alert("Error: "+Oe.message):re()}$(!1)},Ce=async()=>{if(!Se)return alert("Selecciona una fecha");const Q=pe.indexOf(K),Te=pe.indexOf(se);if(Q>Te)return alert("Hora inicio debe ser menor que fin");const Le=pe.slice(Q,Te+1),we=t.filter(ht=>ht.date===Se).map(ht=>ht.time),Oe=Le.filter(ht=>!we.includes(ht)).map(ht=>({date:Se,time:ht,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()}));if(Oe.length===0)return alert("Todos esos horarios ya estn ocupados");$(!0);const{error:ut}=await He.from("bookings").insert(Oe);ut?alert("Error: "+ut.message):(alert(`${Oe.length} horarios bloqueados`),Z(!1),re()),$(!1)},Ue=async Q=>{if(!window.confirm(`Desbloquear todo el da ${Q}?`))return;$(!0);const{error:Te}=await He.from("bookings").delete().eq("date",Q).eq("name","BLOQUEADO");Te||re(),$(!1)};return g.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-stone-200 h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[g.jsx(mI,{})," Agenda Semanal"]}),g.jsxs("div",{className:"flex items-center bg-stone-100 rounded-lg p-1",children:[g.jsx("button",{onClick:Ae,className:"p-1 hover:bg-stone-200 rounded",children:g.jsx(l5,{size:20})}),g.jsx("button",{onClick:ce,className:"px-3 py-1 font-bold text-sm text-stone-600 hover:text-stone-900 border-x border-stone-200",children:"Hoy"}),g.jsx("button",{onClick:J,className:"p-1 hover:bg-stone-200 rounded",children:g.jsx(c5,{size:20})})]})]}),g.jsxs("div",{className:"flex gap-2 text-xs items-center flex-wrap",children:[g.jsxs("button",{onClick:()=>Z(!V),className:`px-3 py-1.5 rounded-lg font-bold flex items-center gap-1 transition ${V?"bg-red-600 text-white":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:[g.jsx(ZE,{size:14})," ",V?"Cerrar":"Bloqueo Rpido"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-purple-100 border border-purple-300 rounded"})," Saln"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"})," Domicilio"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-red-100 border border-red-300 rounded"})," Bloqueado"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-stone-200 border border-stone-300 rounded"})," Expirado"]})]})]}),V&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 animate-in slide-in-from-top duration-200",children:g.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Fecha"}),g.jsxs("select",{value:Se,onChange:Q=>_e(Q.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:[g.jsx("option",{value:"",children:"Seleccionar..."}),le.map(Q=>g.jsxs("option",{value:Q.toISOString().split("T")[0],children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][Q.getDay()]," ",Q.getDate(),"/",Q.getMonth()+1]},Q.toISOString()))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Desde"}),g.jsx("select",{value:K,onChange:Q=>ge(Q.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:pe.map(Q=>g.jsx("option",{value:Q,children:Q},Q))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Hasta"}),g.jsx("select",{value:se,onChange:Q=>ae(Q.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:pe.map(Q=>g.jsx("option",{value:Q,children:Q},Q))})]}),g.jsx("button",{onClick:Ce,disabled:U||!Se,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1.5 rounded font-bold text-sm disabled:opacity-50",children:U?"Bloqueando...":"Bloquear Rango"}),g.jsxs("div",{className:"border-l border-red-300 pl-4 ml-2",children:[g.jsx("span",{className:"text-xs text-red-600 mr-2",children:"Da completo:"}),le.map(Q=>{const Te=Q.toISOString().split("T")[0],Le=t.some(we=>we.date===Te&&we.name==="BLOQUEADO");return g.jsxs("button",{onClick:()=>Le?Ue(Te):X(Te),className:`px-2 py-0.5 mx-0.5 rounded text-xs font-bold ${Le?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,title:Le?"Desbloquear da":"Bloquear da",children:[["D","L","M","X","J","V","S"][Q.getDay()],Q.getDate()]},Te)})]})]})}),g.jsx("div",{className:"flex-1 overflow-auto border border-stone-200 rounded-lg",children:g.jsxs("div",{className:"min-w-[800px]",children:[g.jsxs("div",{className:"grid grid-cols-8 bg-stone-50 border-b border-stone-200 sticky top-0 z-10",children:[g.jsx("div",{className:"p-2 text-center text-stone-500 font-bold text-xs border-r border-stone-200",children:"Hora"}),le.map((Q,Te)=>g.jsxs("div",{className:`p-2 text-center border-r border-stone-200 ${Q.toDateString()===new Date().toDateString()?"bg-amber-50":""}`,children:[g.jsx("div",{className:"text-stone-500 text-[10px] uppercase",children:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][Q.getDay()]}),g.jsx("div",{className:"font-bold text-stone-900",children:Q.getDate()})]},Te))]}),pe.map(Q=>g.jsxs("div",{className:"grid grid-cols-8 border-b border-stone-100 hover:bg-stone-50/50",children:[g.jsx("div",{className:"p-2 text-center text-stone-400 text-xs font-mono border-r border-stone-100",children:Q}),le.map((Te,Le)=>{const we=Te.toISOString().split("T")[0],Oe=t.find(Tt=>Tt.date===we&&Tt.time===Q),ut=xe(we,Q);let ht="transition p-1 border-r border-stone-100 min-h-[50px]",Lt=null,Ot=!0;return Oe?Oe.name==="BLOQUEADO"?(ht+=" bg-red-100 hover:bg-red-200 border-red-200 cursor-pointer",Lt=g.jsx("div",{className:"flex justify-center items-center h-full text-red-400",children:g.jsx(ZE,{size:16})})):(ht+=Oe.is_home_service?" bg-blue-100 hover:bg-blue-200 border-blue-200 cursor-pointer":" bg-purple-100 hover:bg-purple-200 border-purple-200 cursor-pointer",Lt=g.jsxs("div",{className:"text-[10px] leading-tight p-1 h-full overflow-hidden",children:[g.jsx("div",{className:"font-bold truncate",children:Oe.name}),g.jsx("div",{className:"text-stone-500 truncate",children:Oe.service_name})]})):ut?(ht+=" bg-stone-200/50 cursor-not-allowed",Lt=g.jsx("div",{className:"flex justify-center items-center h-full text-stone-400",children:g.jsx(gI,{size:14,className:"opacity-50"})}),Ot=!1):ht+=" cursor-pointer hover:bg-stone-100",g.jsx("div",{className:ht,onClick:()=>Ot&&$e(we,Q),children:Lt},`${we}-${Q}`)})]},Q))]})}),f&&a&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold",children:[a.date," - ",a.time]}),g.jsx("button",{onClick:()=>p(!1),children:g.jsx(Ei,{className:"text-stone-400 hover:text-stone-600"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx("button",{onClick:()=>D("salon"),className:`p-2 rounded border text-sm font-bold ${M==="salon"?"bg-purple-600 text-white border-purple-600":"border-stone-200 text-stone-500"}`,children:"Saln"}),g.jsx("button",{onClick:()=>D("domicilio"),className:`p-2 rounded border text-sm font-bold ${M==="domicilio"?"bg-blue-600 text-white border-blue-600":"border-stone-200 text-stone-500"}`,children:"Domicilio"}),g.jsx("button",{onClick:()=>D("bloqueo"),className:`p-2 rounded border text-sm font-bold ${M==="bloqueo"?"bg-red-600 text-white border-red-600":"border-stone-200 text-stone-500"}`,children:"Bloquear"})]}),M!=="bloqueo"&&g.jsxs(g.Fragment,{children:[g.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",placeholder:"Nombre Cliente",value:y,onChange:Q=>S(Q.target.value),autoFocus:!0}),g.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",placeholder:"Telfono (Opcional)",value:C,onChange:Q=>I(Q.target.value)}),g.jsxs("select",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",value:O,onChange:Q=>T(Q.target.value),children:[g.jsx("option",{value:"Corte",children:"Corte"}),g.jsx("option",{value:"Color",children:"Color"}),g.jsx("option",{value:"Efecto",children:"Efecto"}),g.jsx("option",{value:"Alisado",children:"Alisado"}),g.jsx("option",{value:"Masaje",children:"Masaje"})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("label",{className:"text-sm text-stone-600 whitespace-nowrap",children:"Duracin:"}),g.jsxs("select",{className:"flex-1 border border-stone-300 rounded-lg p-2 text-sm",value:R,onChange:Q=>B(parseInt(Q.target.value)),children:[g.jsx("option",{value:1,children:"1 hora"}),g.jsx("option",{value:2,children:"2 horas"}),g.jsx("option",{value:3,children:"3 horas"}),g.jsx("option",{value:4,children:"4 horas"}),g.jsx("option",{value:5,children:"5 horas"})]})]}),g.jsx("button",{onClick:ze,disabled:U,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg mt-2 disabled:opacity-50 ${M==="bloqueo"?"bg-red-600 hover:bg-red-700":"bg-stone-900 hover:bg-stone-800"}`,children:U?"Guardando...":M==="bloqueo"?"Bloquear Horario":"Guardar Reserva"})]})]})}),h&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx("h3",{className:"text-xl font-bold",children:h.name==="BLOQUEADO"?"Horario Bloqueado":"Reserva"}),g.jsx("button",{onClick:()=>x(null),children:g.jsx(Ei,{className:"text-stone-400 hover:text-stone-600"})})]}),h.name!=="BLOQUEADO"&&g.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 mb-4",children:[g.jsx("p",{className:"font-bold text-lg",children:h.name}),g.jsx("p",{className:"text-stone-500 text-sm",children:h.phone}),g.jsx("p",{className:"text-stone-400 text-xs mt-1",children:h.service_name}),g.jsxs("p",{className:"text-stone-400 text-xs",children:[h.date," - ",h.time]})]}),g.jsxs("div",{className:"space-y-3",children:[h.name!=="BLOQUEADO"&&e&&g.jsxs("button",{onClick:()=>{e({name:h.name,phone:h.phone,service:h.service_name}),x(null)},className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[g.jsx(Tp,{size:20})," Registrar Servicio"]}),g.jsxs("button",{onClick:()=>{Xe(h.id),x(null)},className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[g.jsx(Nd,{size:18})," ",h.name==="BLOQUEADO"?"Desbloquear":"Eliminar Reserva"]}),g.jsx("button",{onClick:()=>x(null),className:"w-full py-2 bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold rounded-xl",children:"Cancelar"})]})]})})]})},Y3=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],nne=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=_.useState(!1),a=t?.quantity||0,c=t?.last_purchase_price||0,f=e.priceFullBottle||0,p=f-c,h=c>0?p/c*100:0;let x=null;if(t?.last_purchase_date){const S=new Date().getTime()-new Date(t.last_purchase_date).getTime();x=Math.floor(S/(1e3*60*60*24))}const y=async S=>{i(!0);const{data:C,error:I}=await He.rpc("adjust_inventory",{p_product_id:e.id,p_delta:S,p_reason:"manual_adjustment"});I?alert("Error: "+I.message):C.success?r():alert("Error: "+C.message),i(!1)};return g.jsxs("tr",{className:"border-b border-stone-100",children:[g.jsx("td",{className:"px-4 py-2",children:g.jsx("div",{className:"font-medium text-stone-800",children:e.name})}),g.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",c.toLocaleString()]}),g.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",f.toLocaleString()]}),g.jsxs("td",{className:"px-4 py-2 text-center",children:[g.jsxs("div",{className:`text-xs font-bold ${p>=0?"text-green-600":"text-red-500"}`,children:["$",p.toLocaleString()]}),g.jsxs("div",{className:`text-[10px] ${p>=0?"text-green-500":"text-red-400"}`,children:[h.toFixed(1),"%"]})]}),g.jsx("td",{className:"px-4 py-2 text-center",children:g.jsx("span",{className:`font-bold ${a>2?"text-green-600":"text-red-500"}`,children:a})}),g.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:x!==null?`${x}d`:"-"}),g.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[g.jsx("button",{onClick:()=>y(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),g.jsx("button",{onClick:()=>y(-1),disabled:n||a<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},ine=({onClose:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(!0);_.useEffect(()=>{(async()=>{const{data:f,error:p}=await He.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);p?console.error("Error fetching logs:",p):r(f||[]),i(!1)})()},[]);const a=c=>{const f=Ms.find(p=>p.id===c);return f?f.name:c};return g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[g.jsx(yI,{})," Historial de Movimientos"]}),g.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),g.jsx("div",{className:"overflow-y-auto flex-1",children:n?g.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-2",children:"Fecha"}),g.jsx("th",{className:"px-4 py-2",children:"Producto"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),g.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),g.jsxs("tbody",{children:[t.map(c=>g.jsxs("tr",{className:"border-b border-stone-100",children:[g.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),g.jsx("td",{className:"px-4 py-2 font-medium",children:a(c.product_id)}),g.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),g.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),g.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},ane=({onLogout:e})=>{const[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,c]=_.useState("month"),[f,p]=_.useState(0),[h,x]=_.useState(0),[y,S]=_.useState([]),[C,I]=_.useState([]),[O,T]=_.useState([]),[M,D]=_.useState([]),[R,B]=_.useState("dashboard"),[U,$]=_.useState([]),[V,Z]=_.useState(null),[K,ge]=_.useState(null),[se,ae]=_.useState([]),[Se,_e]=_.useState(null),[re,Fe]=_.useState(!1),[le,pe]=_.useState([]),[xe,Ae]=_.useState([]),[J,ce]=_.useState(null),[$e,ze]=_.useState(new Map),[Xe,X]=_.useState(0),[Ce,Ue]=_.useState(0),[Q,Te]=_.useState([]),[Le,we]=_.useState(!1),Oe=sr.useMemo(()=>{const me=new Map;return[...t].sort((pt,nr)=>new Date(pt.created_at).getTime()-new Date(nr.created_at).getTime()).forEach(pt=>{const dt=new Date(pt.created_at).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit"});me.has(dt)||me.set(dt,{date:dt,sales:0,cost:0,clients:new Set});const Ne=me.get(dt);Ne.sales+=pt.amount,Ne.cost+=pt.cost||0,pt.client_id&&Ne.clients.add(pt.client_id)}),Array.from(me.values()).map(pt=>({...pt,margin:pt.sales-pt.cost,uniqueClients:pt.clients.size}))},[t]);_.useEffect(()=>{R==="dashboard"||R==="finanzas"?(ht(),R==="finanzas"&&ut()):R==="clients"?Ot():R==="validaciones"&&(Tt(),At()),Lt()},[R,a]);const ut=async()=>{const{data:me}=await He.from("expenses").select("*");me&&Te(me)},ht=async()=>{i(!0);try{const me=new Date;a==="week"?me.setDate(me.getDate()-7):a==="month"?me.setDate(me.getDate()-30):me.setHours(0,0,0,0);const{data:Ze,error:pt}=await He.from("transactions").select("*, clients(name, phone)").gte("created_at",me.toISOString());if(pt)throw pt;const nr=Ze||[],dt=new Date(me);a==="week"?dt.setDate(dt.getDate()-7):a==="month"?dt.setDate(dt.getDate()-30):dt.setDate(dt.getDate()-1);const{data:Ne}=await He.from("transactions").select("*").gte("created_at",dt.toISOString()).lt("created_at",me.toISOString()),_r=Ne||[];r(nr);const Bt=nr.reduce((wt,mt)=>wt+mt.amount,0);p(Bt),x(nr.length?Math.round(Bt/nr.length):0);const Gt=new Map;nr.forEach(wt=>{const mt=wt.type==="product"?"Productos":"Servicios";Gt.set(mt,(Gt.get(mt)||0)+wt.amount)}),I(Array.from(Gt).map(([wt,mt])=>({name:wt,value:mt})));const tn=new Map,va=(wt,mt)=>{if(mt==="product"){const Jt=Ms.find(rn=>rn.price5ml===wt||rn.price10ml===wt||rn.priceFullBottle===wt);return Jt?Jt.name:"Producto Genrico"}else{const Jt=Fi.find(rn=>rn.price===wt);return Jt?Jt.name:"Servicio General"}};nr.forEach(wt=>{const mt=va(wt.amount,wt.type);tn.has(mt)||tn.set(mt,{current:0,previous:0}),tn.get(mt).current++}),_r.forEach(wt=>{const mt=va(wt.amount,wt.type);tn.has(mt)||tn.set(mt,{current:0,previous:0}),tn.get(mt).previous++});const ds=Array.from(tn.entries()).map(([wt,mt])=>({name:wt,count:mt.current})).sort((wt,mt)=>mt.count-wt.count).slice(0,5);T(ds);const _t=nr.length||1,dn=nr.length/tn.size/_t,fs=[];tn.forEach((wt,mt)=>{if(wt.current===0)return;const Jt=wt.current/_t,rn=wt.previous===0?1:(wt.current-wt.previous)/wt.previous;let Nr="question";Jt>=dn&&rn>=0?Nr="star":Jt>=dn&&rn<0?Nr="cow":Jt<dn&&rn>=0?Nr="question":Nr="dog",fs.push({name:mt,volume:Jt,growth:rn,type:Nr})}),D(fs);const Ki=new Map;nr.forEach(wt=>{if(!wt.client_id)return;const mt=Ki.get(wt.client_id)||{id:wt.client_id,phone:"Cargando...",total_spent:0,visit_count:0};mt.total_spent+=wt.amount,mt.visit_count+=1,Ki.set(wt.client_id,mt)});const An=Array.from(Ki.keys());if(An.length>0){const{data:wt}=await He.from("clients").select("id, phone").in("id",An);wt?.forEach(mt=>{const Jt=Ki.get(mt.id);Jt&&(Jt.phone=mt.phone)})}S(Array.from(Ki.values()).sort((wt,mt)=>mt.total_spent-wt.total_spent).slice(0,10))}catch(me){console.error("Error fetching dashboard data:",me)}finally{i(!1)}},Lt=async()=>{const{data:me,error:Ze}=await He.from("inventory").select("*");if(me){const pt=new Map;let nr=0,dt=0;me.forEach(Ne=>{pt.set(Ne.product_id,Ne),nr+=Ne.quantity*(Ne.last_purchase_price||0),dt+=Ne.quantity}),ze(pt),X(nr),Ue(dt)}Ze&&console.error("Error fetching inventory",Ze)},Ot=async()=>{i(!0);const{data:me,error:Ze}=await He.from("clients").select("*").order("last_visit",{ascending:!1});Ze?console.error("Error fetching clients",Ze):$(me||[]),Ze?console.error("Error fetching clients",Ze):$(me||[]),i(!1)},Tt=async()=>{i(!0);const{data:me,error:Ze}=await He.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});Ze?console.error("Error fetching visits",Ze):pe(me||[]),i(!1)},At=async()=>{i(!0);const{data:me,error:Ze}=await He.from("inventory_requests").select("*, product:products(*)").eq("status","pending").order("created_at",{ascending:!0});Ze?console.error("Error fetching inventory requests",Ze):Ae(me||[]),i(!1)},Ni=async me=>{if(!confirm("Aprobar esta venta/movimiento? Esto descontar el stock."))return;const{data:Ze,error:pt}=await He.rpc("approve_inventory_request",{p_request_id:me});pt||!Ze.success?alert("Error: "+(pt?.message||Ze?.message)):(alert("Aprobado correctamente"),At(),Lt())},Ve=async me=>{if(!confirm("Rechazar esta solicitud?"))return;const{data:Ze,error:pt}=await He.rpc("reject_inventory_request",{p_request_id:me});pt||!Ze.success?alert("Error: "+(pt?.message||Ze?.message)):(alert("Solicitud rechazada"),At())},xa=async me=>{if(me.preventDefault(),!V)return;const{error:Ze}=await He.from("clients").update({name:V.name,phone:V.phone,visits:V.visits}).eq("id",V.id);Ze?alert("Error al actualizar: "+Ze.message):(Z(null),Ot())},Js=async me=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await He.from("hair_service_log").delete().eq("client_id",me),await He.from("transactions").delete().eq("client_id",me),await He.from("visit_registrations").delete().eq("client_id",me);const{error:Ze}=await He.from("clients").delete().eq("id",me);if(Ze)throw Ze;Ot()}catch(Ze){alert("Error al eliminar: "+Ze.message)}},Gn=me=>{ge(me),B("ventas")},cs=async me=>{Fe(!0),_e(me);const{data:Ze,error:pt}=await He.from("transactions").select("*").eq("client_id",me.id).order("created_at",{ascending:!1});pt?console.error("Error fetching history:",pt):ae(Ze||[]),Fe(!1)},Mn=async me=>{if(!window.confirm("Eliminar esta transaccin? Esta accin no se puede deshacer."))return;const{error:Ze}=await He.from("transactions").delete().eq("id",me);Ze?alert("Error al eliminar: "+Ze.message):ae(pt=>pt.filter(nr=>nr.id!==me))},us=()=>{const me=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],Ze=t.map(Ne=>[Ne.id,Ne.created_at,Ne.amount,Ne.type,Ne.client_id||"Annimo"]),pt="data:text/csv;charset=utf-8,"+me.join(",")+`
`+Ze.map(Ne=>Ne.join(",")).join(`
`),nr=encodeURI(pt),dt=document.createElement("a");dt.setAttribute("href",nr),dt.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(dt),dt.click(),document.body.removeChild(dt)},Kn=()=>{const me=["Nombre","Telfono","Visitas","ltima Visita"],Ze=U.map(Ne=>[Ne.name||"Sin Nombre",Ne.phone,Ne.visits,Ne.last_visit?new Date(Ne.last_visit).toLocaleDateString():"N/A"]),pt="data:text/csv;charset=utf-8,"+me.join(",")+`
`+Ze.map(Ne=>Ne.join(",")).join(`
`),nr=encodeURI(pt),dt=document.createElement("a");dt.setAttribute("href",nr),dt.setAttribute("download",`clientes_tus3b_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(dt),dt.click(),document.body.removeChild(dt)};return g.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),g.jsxs("div",{className:"flex gap-4",children:[R==="dashboard"&&g.jsxs("select",{value:a,onChange:me=>c(me.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[g.jsx("option",{value:"week",children:"ltima Semana"}),g.jsx("option",{value:"month",children:"ltimo Mes"})]}),g.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),g.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[g.jsx("button",{onClick:()=>B("dashboard"),className:`px-4 py-2 font-bold transition ${R==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),g.jsx("button",{onClick:()=>B("clients"),className:`px-4 py-2 font-bold transition ${R==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),g.jsxs("button",{onClick:()=>B("validaciones"),className:`px-4 py-2 font-bold transition ${R==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones",le.length+xe.length>0&&g.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:le.length+xe.length})]}),g.jsx("button",{onClick:()=>B("finanzas"),className:`px-4 py-2 font-bold transition ${R==="finanzas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Finanzas"}),g.jsx("button",{onClick:()=>B("ventas"),className:`px-4 py-2 font-bold transition ${R==="ventas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Ventas (POS)"}),g.jsx("button",{onClick:()=>B("agenda"),className:`px-4 py-2 font-bold transition ${R==="agenda"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Agenda"})]}),R==="validaciones"&&g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[g.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[g.jsx(jp,{})," QR de Llegada"]}),g.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),g.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:g.jsx(Qy,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),g.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),g.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[g.jsx(f1,{size:14})," Imprimir QR"]})]}),g.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[g.jsx(u5,{})," Visitas Pendientes"]}),le.length===0?g.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:g.jsx("p",{children:"No hay clientes esperando validacin."})}):g.jsx("div",{className:"space-y-4",children:le.map(me=>g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[g.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:me.client?.name?.charAt(0)||"?"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-stone-900",children:me.client?.name||"Cliente"}),g.jsx("p",{className:"text-sm text-stone-500",children:me.client?.phone}),g.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(me.check_in_time).toLocaleTimeString()]})]})]}),g.jsx("button",{onClick:()=>ce(me),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},me.id))})]}),g.jsxs("div",{className:"md:col-span-3 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mt-6",children:[g.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-amber-700",children:[g.jsx(tS,{})," Ventas / Inventario Pendiente"]}),xe.length===0?g.jsx("div",{className:"py-8 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:g.jsx("p",{children:"No hay solicitudes de inventario pendientes."})}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-stone-50 text-stone-500 text-xs uppercase",children:[g.jsx("th",{className:"p-3",children:"Fecha"}),g.jsx("th",{className:"p-3",children:"Producto"}),g.jsx("th",{className:"p-3 text-center",children:"Cantidad"}),g.jsx("th",{className:"p-3 text-right",children:"Solicitante"}),g.jsx("th",{className:"p-3 text-right",children:"Accin"})]})}),g.jsx("tbody",{className:"divide-y divide-stone-100",children:xe.map(me=>g.jsxs("tr",{className:"hover:bg-amber-50/30 transition",children:[g.jsx("td",{className:"p-3 text-sm text-stone-500",children:new Date(me.created_at).toLocaleString()}),g.jsx("td",{className:"p-3 font-medium text-stone-800",children:me.product?.name||"Producto Desconocido"}),g.jsx("td",{className:`p-3 text-center font-bold ${me.quantity<0?"text-red-500":"text-green-600"}`,children:me.quantity}),g.jsx("td",{className:"p-3 text-right text-xs text-stone-400",children:me.requested_by||"Staff"}),g.jsx("td",{className:"p-3 text-right",children:g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{onClick:()=>Ve(me.id),className:"px-3 py-1 text-xs font-bold text-red-600 hover:bg-red-100 rounded",children:"Rechazar"}),g.jsx("button",{onClick:()=>Ni(me.id),className:"px-3 py-1 text-xs font-bold text-white bg-green-600 hover:bg-green-700 rounded shadow-sm",children:"Aprobar"})]})})]},me.id))})]})})]})]}),R==="finanzas"&&g.jsx(Jre,{transactions:t,expenses:Q,timeRange:a,onTimeRangeChange:me=>c(me),onRefresh:ht}),R==="ventas"&&g.jsx(tne,{initialClient:K},K?K.id:"pos-reset"),R==="agenda"&&g.jsx(rne,{onRegisterService:me=>{const Ze={name:me.name,phone:me.phone,service:me.service};ge(Ze),B("ventas")}}),R==="dashboard"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),g.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),g.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:g.jsx(xI,{className:"text-green-600"})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),g.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",h.toLocaleString()]})]}),g.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:g.jsx(o0,{className:"text-blue-600"})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),g.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),g.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:g.jsx(o0,{className:"text-purple-600"})})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[g.jsx("div",{className:"flex justify-between items-center mb-6",children:g.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[g.jsx(o0,{className:"text-blue-600"})," Evolucin Financiera"]})}),g.jsx("div",{className:"h-[350px] w-full",children:g.jsx(xd,{width:"100%",height:"100%",children:g.jsxs(Zre,{data:Oe,margin:{top:10,right:30,left:0,bottom:0},children:[g.jsx(Ed,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),g.jsx(Ad,{dataKey:"date",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#9ca3af"}),g.jsx(Dc,{yAxisId:"left",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:me=>`$${me/1e3}k`,stroke:"#9ca3af"}),g.jsx(Dc,{yAxisId:"right",orientation:"right",fontSize:12,tickLine:!1,axisLine:!1,stroke:"#9ca3af"}),g.jsx(yd,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:(me,Ze)=>[Ze==="Clientes"?me:`$${me.toLocaleString()}`,Ze]}),g.jsx(X0,{wrapperStyle:{paddingTop:"20px"}}),g.jsx(jl,{yAxisId:"left",dataKey:"sales",name:"Venta Total",fill:"#4f46e5",radius:[4,4,0,0],barSize:20}),g.jsx(jl,{yAxisId:"left",dataKey:"cost",name:"Costo",fill:"#ef4444",radius:[4,4,0,0],barSize:20}),g.jsx(Gk,{yAxisId:"left",type:"monotone",dataKey:"margin",name:"Margen",stroke:"#10b981",strokeWidth:3,dot:!1}),g.jsx(r8,{yAxisId:"right",type:"monotone",dataKey:"uniqueClients",name:"Clientes nicos",fill:"#e0f2fe",stroke:"#3b82f6",fillOpacity:.4})]})})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[g.jsx(EI,{size:18})," Origen de Ingresos"]}),g.jsx("div",{className:"h-[250px] w-full",children:g.jsx(xd,{width:"100%",height:"100%",children:g.jsxs(Kre,{children:[g.jsx(Nk,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:C.map((me,Ze)=>g.jsx(zl,{fill:Y3[Ze%Y3.length]},`cell-${Ze}`))}),g.jsx(yd,{formatter:me=>`$${me.toLocaleString()}`}),g.jsx(X0,{})]})})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[g.jsx(o5,{size:18})," Top Productos/Servicios"]}),g.jsx("div",{className:"h-[250px] w-full",children:g.jsx(xd,{width:"100%",height:"100%",children:g.jsxs(S8,{data:O,layout:"vertical",children:[g.jsx(Ed,{strokeDasharray:"3 3",horizontal:!1}),g.jsx(Ad,{type:"number",hide:!0}),g.jsx(Dc,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),g.jsx(yd,{}),g.jsx(jl,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),g.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[g.jsx(_5,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),g.jsxs("div",{className:"h-[300px] w-full relative",children:[g.jsx(xd,{width:"100%",height:"100%",children:g.jsxs(Xre,{margin:{top:20,right:20,bottom:20,left:20},children:[g.jsx(Ed,{}),g.jsx(Ad,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:me=>Math.round(me*100)+"%"}),g.jsx(Dc,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:me=>Math.round(me*100)+"%"}),g.jsx(yd,{cursor:{strokeDasharray:"3 3"},formatter:(me,Ze)=>[Math.round(me*100)+"%",Ze==="volume"?"Cuota":"Crecimiento"]}),g.jsx(Dk,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),g.jsx(o8,{name:"Productos",data:M,fill:"#8884d8",children:M.map((me,Ze)=>{let pt="#8884d8";return me.type==="star"?pt="#FFBB28":me.type==="cow"?pt="#00C49F":me.type==="dog"?pt="#FF8042":pt="#999",g.jsx(zl,{fill:pt},`cell-${Ze}`)})})]})}),g.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),g.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[g.jsx(_I,{size:20})," Top 10 Clientes (Gasto)"]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-2",children:"Cliente"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),g.jsxs("tbody",{children:[y.map((me,Ze)=>g.jsxs("tr",{className:"border-b border-stone-100",children:[g.jsxs("td",{className:"px-4 py-3 font-medium",children:[Ze+1,". ",me.phone]}),g.jsx("td",{className:"px-4 py-3 text-right",children:me.visit_count}),g.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",me.total_spent.toLocaleString()]}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("button",{onClick:()=>Gn({id:me.id,phone:me.phone,name:"Cliente"}),className:"text-xs bg-stone-900 text-white px-2 py-1 rounded hover:bg-stone-700",children:"Vender"})})]},me.id)),y.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[g.jsx(wI,{size:20})," Inventario Perfumes"]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:()=>we(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[g.jsx(yI,{size:14})," Historial"]}),g.jsxs("button",{onClick:us,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[g.jsx(f1,{size:14})," Exportar CSV"]})]})]}),g.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:g.jsxs("table",{className:"w-full text-xs text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"text-stone-500 border-b border-stone-200",children:[g.jsx("th",{className:"px-4 py-2 text-left",children:"Producto"}),g.jsx("th",{className:"px-4 py-2 text-center",children:"Costo"}),g.jsx("th",{className:"px-4 py-2 text-center",children:"Precio Vta"}),g.jsx("th",{className:"px-4 py-2 text-center",children:"Margen"}),g.jsx("th",{className:"px-4 py-2 text-center",children:"Stock"}),g.jsx("th",{className:"px-4 py-2 text-center",children:"Das"}),g.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),g.jsx("tbody",{children:Ms.map(me=>g.jsx(nne,{perfume:me,inventoryItem:$e.get(me.id),onRefresh:Lt},me.id))}),g.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:g.jsxs("tr",{children:[g.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),g.jsx("td",{className:"px-4 py-3"}),g.jsx("td",{className:"px-4 py-3"}),g.jsx("td",{className:"px-4 py-3"}),g.jsxs("td",{className:"px-4 py-3 text-center",children:[Ce," un."]}),g.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),g.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",Xe.toLocaleString()]})]})})]})})]})]})]}):g.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h3",{className:"text-xl font-bold",children:"Gestin de Clientes"}),g.jsxs("button",{onClick:Kn,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-green-700 flex items-center gap-2",children:[g.jsx(f1,{size:16})," Exportar Excel"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3",children:"Nombre"}),g.jsx("th",{className:"px-6 py-3",children:"Telfono"}),g.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),g.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),g.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),g.jsx("tbody",{children:U.map(me=>g.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[g.jsx("td",{className:"px-6 py-4 font-bold text-stone-800",children:me.name||"Sin nombre"}),g.jsx("td",{className:"px-6 py-4 font-mono text-stone-600",children:me.phone}),g.jsx("td",{className:"px-6 py-4 text-center",children:g.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:me.visits})}),g.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(me.last_visit).toLocaleDateString()}),g.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[g.jsxs("button",{onClick:()=>cs(me),className:"text-purple-600 hover:text-purple-800 font-medium text-xs px-2 py-1 bg-purple-50 rounded inline-flex items-center gap-1",children:[g.jsx(vI,{size:12})," Historial"]}),g.jsx("button",{onClick:()=>Z(me),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),g.jsx("button",{onClick:()=>Js(me.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},me.id))})]})})]}),V&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[g.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),g.jsxs("form",{onSubmit:xa,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Nombre"}),g.jsx("input",{type:"text",value:V.name||"",onChange:me=>Z({...V,name:me.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),g.jsx("input",{type:"text",value:V.phone,onChange:me=>Z({...V,phone:me.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),g.jsx("input",{type:"number",value:V.visits,onChange:me=>Z({...V,visits:parseInt(me.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),g.jsxs("div",{className:"flex gap-2 mt-6",children:[g.jsx("button",{type:"button",onClick:()=>Z(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),g.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),Se&&g.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold",children:"Historial de Servicios"}),g.jsxs("p",{className:"text-sm text-stone-500",children:[Se.name||"Cliente"," - ",Se.phone]})]}),g.jsx("button",{onClick:()=>{_e(null),ae([])},className:"p-2 hover:bg-stone-100 rounded-full",children:g.jsx(Ei,{size:20})})]}),re?g.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):se.length===0?g.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:g.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):g.jsx("div",{className:"overflow-y-auto flex-1",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3",children:"Fecha"}),g.jsx("th",{className:"px-4 py-3",children:"Descripcin"}),g.jsx("th",{className:"px-4 py-3",children:"Tipo"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"Accin"})]})}),g.jsx("tbody",{children:se.map(me=>g.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[g.jsx("td",{className:"px-4 py-3 text-stone-500 text-xs",children:new Date(me.created_at).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),g.jsx("td",{className:"px-4 py-3 font-medium",children:me.description||"Sin descripcin"}),g.jsx("td",{className:"px-4 py-3",children:g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${me.type==="service"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:me.type==="service"?"Servicio":"Producto"})}),g.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",me.amount.toLocaleString()]}),g.jsx("td",{className:"px-4 py-3 text-right",children:g.jsx("button",{onClick:()=>Mn(me.id),className:"text-red-500 hover:text-red-700 p-1",title:"Eliminar transaccin",children:g.jsx(Nd,{size:14})})})]},me.id))}),g.jsx("tfoot",{className:"bg-stone-100 font-bold",children:g.jsxs("tr",{children:[g.jsx("td",{colSpan:3,className:"px-4 py-3",children:"Total General"}),g.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["$",se.reduce((me,Ze)=>me+Ze.amount,0).toLocaleString()]}),g.jsx("td",{})]})})]})}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-200 flex gap-2",children:[g.jsxs("button",{onClick:()=>Gn(Se),className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold flex items-center justify-center gap-2",children:[g.jsx(tS,{size:16})," Registrar Nueva Venta"]}),g.jsx("button",{onClick:()=>{_e(null),ae([])},className:"px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cerrar"})]})]})}),J&&g.jsx(m9,{visit:J,onClose:()=>ce(null),onSuccess:Tt}),Le&&g.jsx(ine,{onClose:()=>we(!1)})]})},sne=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(""),i=(c,f)=>{t(c),f&&n(f)},a=async()=>{await He.auth.signOut(),t(null),n("")};if(!e)return g.jsx(NL,{onLogin:i});if(e==="management")return g.jsx(ane,{onLogout:a});if(e==="inventory"){const c=sr.lazy(()=>_L(()=>import("./InventoryDashboard-CwcuvtbV.js"),[]));return g.jsx(sr.Suspense,{fallback:g.jsx("div",{className:"p-10 text-white",children:"Cargando..."}),children:g.jsx(c,{onLogout:a})})}return g.jsx(p9,{onLogout:a})},one=()=>{const[e,t]=_.useState("Todos"),[r,n]=_.useState(null),i=["Todos","Cortes","Color","Peinados"],a=e==="Todos"?rS:rS.filter(c=>c.category===e);return g.jsxs("div",{className:"animate-in fade-in duration-700",children:[g.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>g.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),g.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:a.map((c,f)=>g.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[g.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:g.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[g.jsx(k5,{className:"mx-auto mb-2 opacity-80"}),g.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&g.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[g.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:g.jsx(Ei,{size:32})}),g.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},lne=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${Bc}?text=${r}`,"_blank")};return g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),g.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),g.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:U5.map(t=>g.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[g.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[g.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),g.jsx(By,{size:64,className:"text-amber-500 relative z-10"})]}),g.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[g.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),g.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),g.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>g.jsxs("div",{className:"flex items-start text-stone-600",children:[g.jsx(x5,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),g.jsx("span",{className:"text-sm",children:r})]},n))}),g.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},cne=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(!1),[c,f]=_.useState("search"),[p,h]=_.useState(null),[x,y]=_.useState(""),S=async O=>{O.preventDefault(),a(!0),y("");try{const T=e.replace(/\D/g,"");if(T.length<8)throw new Error("Ingresa un nmero vlido (ej: 912345678)");const{data:M,error:D}=await He.from("clients").select("*").eq("phone",T).single();if(D&&D.code!=="PGRST116")throw D;M?(h(M),await I(M.id)):f("register")}catch(T){y(T.message||"Error al buscar cliente")}finally{a(!1)}},C=async O=>{O.preventDefault(),a(!0),y("");try{const T=e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");const{data:M,error:D}=await He.from("clients").insert([{name:r,phone:T,visits:0}]).select().single();if(D)throw D;await I(M.id)}catch(T){y(T.message||"Error al registrar")}finally{a(!1)}},I=async O=>{const{error:T}=await He.from("visit_registrations").insert([{client_id:O}]);if(T)throw console.error(T),new Error("Hubo un problema registrando la visita. Intenta de nuevo.");f("success")};return c==="success"?g.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-stone-900 border border-amber-500/30 rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl animate-fade-in-up",children:[g.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:g.jsx(Tp,{className:"w-10 h-10 text-green-400"})}),g.jsx("h2",{className:"text-2xl font-serif text-amber-100 mb-2",children:"Llegada Registrada!"}),g.jsx("p",{className:"text-stone-400 mb-6",children:"Tu visita ha quedado en espera. Tu estilista validar tus servicios al finalizar para sumar tus puntos."}),g.jsx(on,{to:"/",className:"block w-full py-3 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded-lg transition-colors font-medium",children:"Volver al Inicio"})]})}):g.jsxs("div",{className:"min-h-screen bg-stone-950 p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3 pointer-events-none"}),g.jsxs("div",{className:"w-full max-w-md bg-stone-900/80 backdrop-blur-md border border-stone-800 rounded-2xl shadow-xl overflow-hidden relative z-10",children:[g.jsxs("div",{className:"bg-gradient-to-r from-stone-900 to-stone-800 p-6 text-center border-b border-stone-800",children:[g.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:g.jsx(jp,{className:"w-6 h-6 text-amber-400"})}),g.jsx("h1",{className:"text-xl font-serif text-amber-100",children:"Registro de Visita"}),g.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Escanea al llegar para sumar puntos"})]}),g.jsxs("div",{className:"p-6",children:[x&&g.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-200 text-sm text-center",children:x}),c==="search"?g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Nmero de Telfono"}),g.jsx("input",{type:"tel",placeholder:"Ej: 912345678",value:e,onChange:O=>t(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all text-lg tracking-widest text-center",autoFocus:!0})]}),g.jsx("button",{type:"submit",disabled:i||e.length<8,className:"w-full py-3.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?g.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx(Hc,{className:"w-4 h-4"}),"Buscar / Registrar"]})})]}):g.jsxs("form",{onSubmit:C,className:"space-y-4 animate-fade-in-right",children:[g.jsxs("div",{className:"text-center mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-stone-800 rounded-full flex items-center justify-center mx-auto mb-2 text-stone-400",children:g.jsx(Id,{className:"w-6 h-6"})}),g.jsx("h3",{className:"text-amber-100 font-medium",children:"Primera vez por aqu!"}),g.jsx("p",{className:"text-xs text-stone-400",children:"Crea tu perfil para empezar a sumar."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Tu Nombre"}),g.jsx("input",{type:"text",placeholder:"Nombre y Apellido",value:r,onChange:O=>n(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 outline-none",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Telfono"}),g.jsx("input",{type:"tel",value:e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800 rounded-lg px-4 py-3 text-stone-500 cursor-not-allowed"})]}),g.jsxs("div",{className:"pt-2 flex gap-3",children:[g.jsx("button",{type:"button",onClick:()=>f("search"),className:"flex-1 py-3 bg-stone-800 text-stone-300 rounded-lg hover:bg-stone-700 transition",children:"Volver"}),g.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-500 transition shadow-lg shadow-amber-900/20",children:i?"Registrando...":"Confirmar"})]})]})]}),g.jsx("div",{className:"bg-stone-950/50 p-4 text-center border-t border-stone-800",children:g.jsx("p",{className:"text-xs text-stone-600",children:"Tus3B Style  Sistema de Lealtad"})})]})]})},une=()=>g.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),g.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[g.jsxs("div",{className:"text-center space-y-2 mb-4",children:[g.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",g.jsx("span",{className:"text-amber-500",children:"Hub"})]}),g.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),g.jsxs("div",{className:"w-full space-y-4",children:[g.jsxs(on,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),g.jsxs("div",{className:"p-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:g.jsx(Pp,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),g.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),g.jsx(bd,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),g.jsx(on,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:g.jsxs("div",{className:"p-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:g.jsx(Pl,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),g.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),g.jsx(bd,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),g.jsx(on,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:g.jsxs("div",{className:"p-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:g.jsx(By,{size:24})}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),g.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),g.jsx(bd,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),g.jsx("div",{className:"w-full mt-4",children:g.jsxs(on,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),g.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:g.jsx(jp,{size:20})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),g.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),g.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),g.jsx("div",{className:"w-full pt-4",children:g.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),g.jsx("div",{className:"text-center py-6 z-10",children:g.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),dne=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:g.jsx(p5,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:g.jsx(O5,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:g.jsx(Pp,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:g.jsx(Wc,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:g.jsx(P5,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],fne=()=>{const[e,t]=_.useState(null);return g.jsx("section",{className:"py-20 bg-stone-50",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),g.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),g.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:dne.map(r=>g.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-4",children:[g.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&g.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),g.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?g.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[g.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),g.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[g.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),g.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",g.jsx(bd,{size:14})]})]})]}):g.jsxs("div",{children:[g.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),g.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",g.jsx(bd,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),g.jsx("div",{className:"mt-12 text-center",children:g.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[g.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),g.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',g.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},hne=()=>{const{pathname:e}=La();return sr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},pne=()=>{const[e,t]=_.useState(null),r=()=>g.jsxs(g.Fragment,{children:[g.jsx(M5,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),g.jsx("section",{className:"py-20 bg-white",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"text-center mb-12",children:[g.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),g.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Fi.filter(n=>!n.homeServiceOnly).map(n=>g.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),g.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),g.jsxs("div",{className:"text-right ml-4",children:[g.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),g.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),g.jsx("div",{className:"mt-8 text-center",children:g.jsx(on,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),g.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),g.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),g.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),g.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),g.jsx("div",{className:"flex items-center space-x-4 pt-4",children:g.jsx(on,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),g.jsx(fne,{}),g.jsx(lL,{}),g.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),g.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),g.jsx(ZD,{onSuccess:n=>{t(n)}})]}),g.jsx("div",{className:"bg-white py-4 text-center",children:g.jsxs(on,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[g.jsx(N5,{size:10})," Admin"]})})]});return g.jsx(KM,{children:g.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[g.jsx(hne,{}),g.jsx(R5,{}),g.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:g.jsxs(AM,{children:[g.jsx(Ka,{path:"/",element:g.jsx(une,{})}),g.jsx(Ka,{path:"/style",element:g.jsx(r,{})}),g.jsx(Ka,{path:"/perfum",element:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),g.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),g.jsx(eL,{})]})}),g.jsx(Ka,{path:"/regalos",element:g.jsx(lne,{})}),g.jsx(Ka,{path:"/gallery",element:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),g.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),g.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),g.jsx(one,{})]})}),g.jsx(Ka,{path:"/loyalty",element:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:g.jsx(SL,{})})}),g.jsx(Ka,{path:"/admin",element:g.jsx(sne,{})}),g.jsx(Ka,{path:"/checkin",element:g.jsx(cne,{})}),g.jsx(Ka,{path:"/confirmation",element:g.jsx(mne,{})})]})}),g.jsx(tL,{}),g.jsx(sL,{})]})})},mne=()=>{const t=La().state;return t?g.jsx(oL,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):g.jsx(EM,{to:"/"})};console.log("Iniciando aplicacin React...");const C8=document.getElementById("root");if(!C8)throw new Error("Could not find root element to mount to");try{_R.createRoot(C8).render(g.jsx(sr.StrictMode,{children:g.jsx(pne,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}export{Tp as C,Tie as H,Hc as S,Ei as X,nt as c,g as j,_ as r,He as s};
