function Vy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Zf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var w1={exports:{}},Iu={},b1={exports:{}},At={};var eE;function Zk(){if(eE)return At;eE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(Q){return Q===null||typeof Q!="object"?null:(Q=w&&Q[w]||Q["@@iterator"],typeof Q=="function"?Q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function k(Q,de,Me){this.props=Q,this.context=de,this.refs=I,this.updater=Me||C}k.prototype.isReactComponent={},k.prototype.setState=function(Q,de){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,de,"setState")},k.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function M(){}M.prototype=k.prototype;function L(Q,de,Me){this.props=Q,this.context=de,this.refs=I,this.updater=Me||C}var j=L.prototype=new M;j.constructor=L,O(j,k.prototype),j.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ie(Q,de,Me){var De,Xe={},Ie=null,nt=null;if(de!=null)for(De in de.ref!==void 0&&(nt=de.ref),de.key!==void 0&&(Ie=""+de.key),de)W.call(de,De)&&!H.hasOwnProperty(De)&&(Xe[De]=de[De]);var Z=arguments.length-2;if(Z===1)Xe.children=Me;else if(1<Z){for(var te=Array(Z),Ae=0;Ae<Z;Ae++)te[Ae]=arguments[Ae+2];Xe.children=te}if(Q&&Q.defaultProps)for(De in Z=Q.defaultProps,Z)Xe[De]===void 0&&(Xe[De]=Z[De]);return{$$typeof:e,type:Q,key:Ie,ref:nt,props:Xe,_owner:V.current}}function X(Q,de){return{$$typeof:e,type:Q.type,key:de,ref:Q.ref,props:Q.props,_owner:Q._owner}}function _e(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function me(Q){var de={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Me){return de[Me]})}var fe=/\/+/g;function Ee(Q,de){return typeof Q=="object"&&Q!==null&&Q.key!=null?me(""+Q.key):de.toString(36)}function ke(Q,de,Me,De,Xe){var Ie=typeof Q;(Ie==="undefined"||Ie==="boolean")&&(Q=null);var nt=!1;if(Q===null)nt=!0;else switch(Ie){case"string":case"number":nt=!0;break;case"object":switch(Q.$$typeof){case e:case t:nt=!0}}if(nt)return nt=Q,Xe=Xe(nt),Q=De===""?"."+Ee(nt,0):De,z(Xe)?(Me="",Q!=null&&(Me=Q.replace(fe,"$&/")+"/"),ke(Xe,de,Me,"",function(Ae){return Ae})):Xe!=null&&(_e(Xe)&&(Xe=X(Xe,Me+(!Xe.key||nt&&nt.key===Xe.key?"":(""+Xe.key).replace(fe,"$&/")+"/")+Q)),de.push(Xe)),1;if(nt=0,De=De===""?".":De+":",z(Q))for(var Z=0;Z<Q.length;Z++){Ie=Q[Z];var te=De+Ee(Ie,Z);nt+=ke(Ie,de,Me,te,Xe)}else if(te=_(Q),typeof te=="function")for(Q=te.call(Q),Z=0;!(Ie=Q.next()).done;)Ie=Ie.value,te=De+Ee(Ie,Z++),nt+=ke(Ie,de,Me,te,Xe);else if(Ie==="object")throw de=String(Q),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return nt}function ne(Q,de,Me){if(Q==null)return Q;var De=[],Xe=0;return ke(Q,De,"","",function(Ie){return de.call(Me,Ie,Xe++)}),De}function Le(Q){if(Q._status===-1){var de=Q._result;de=de(),de.then(function(Me){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Me)},function(Me){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Me)}),Q._status===-1&&(Q._status=0,Q._result=de)}if(Q._status===1)return Q._result.default;throw Q._result}var le={current:null},ve={transition:null},ye={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:ve,ReactCurrentOwner:V};function we(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:ne,forEach:function(Q,de,Me){ne(Q,function(){de.apply(this,arguments)},Me)},count:function(Q){var de=0;return ne(Q,function(){de++}),de},toArray:function(Q){return ne(Q,function(de){return de})||[]},only:function(Q){if(!_e(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},At.Component=k,At.Fragment=r,At.Profiler=i,At.PureComponent=L,At.StrictMode=n,At.Suspense=p,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,At.act=we,At.cloneElement=function(Q,de,Me){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var De=O({},Q.props),Xe=Q.key,Ie=Q.ref,nt=Q._owner;if(de!=null){if(de.ref!==void 0&&(Ie=de.ref,nt=V.current),de.key!==void 0&&(Xe=""+de.key),Q.type&&Q.type.defaultProps)var Z=Q.type.defaultProps;for(te in de)W.call(de,te)&&!H.hasOwnProperty(te)&&(De[te]=de[te]===void 0&&Z!==void 0?Z[te]:de[te])}var te=arguments.length-2;if(te===1)De.children=Me;else if(1<te){Z=Array(te);for(var Ae=0;Ae<te;Ae++)Z[Ae]=arguments[Ae+2];De.children=Z}return{$$typeof:e,type:Q.type,key:Xe,ref:Ie,props:De,_owner:nt}},At.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:s,_context:Q},Q.Consumer=Q},At.createElement=ie,At.createFactory=function(Q){var de=ie.bind(null,Q);return de.type=Q,de},At.createRef=function(){return{current:null}},At.forwardRef=function(Q){return{$$typeof:f,render:Q}},At.isValidElement=_e,At.lazy=function(Q){return{$$typeof:v,_payload:{_status:-1,_result:Q},_init:Le}},At.memo=function(Q,de){return{$$typeof:m,type:Q,compare:de===void 0?null:de}},At.startTransition=function(Q){var de=ve.transition;ve.transition={};try{Q()}finally{ve.transition=de}},At.unstable_act=we,At.useCallback=function(Q,de){return le.current.useCallback(Q,de)},At.useContext=function(Q){return le.current.useContext(Q)},At.useDebugValue=function(){},At.useDeferredValue=function(Q){return le.current.useDeferredValue(Q)},At.useEffect=function(Q,de){return le.current.useEffect(Q,de)},At.useId=function(){return le.current.useId()},At.useImperativeHandle=function(Q,de,Me){return le.current.useImperativeHandle(Q,de,Me)},At.useInsertionEffect=function(Q,de){return le.current.useInsertionEffect(Q,de)},At.useLayoutEffect=function(Q,de){return le.current.useLayoutEffect(Q,de)},At.useMemo=function(Q,de){return le.current.useMemo(Q,de)},At.useReducer=function(Q,de,Me){return le.current.useReducer(Q,de,Me)},At.useRef=function(Q){return le.current.useRef(Q)},At.useState=function(Q){return le.current.useState(Q)},At.useSyncExternalStore=function(Q,de,Me){return le.current.useSyncExternalStore(Q,de,Me)},At.useTransition=function(){return le.current.useTransition()},At.version="18.3.1",At}var tE;function Sc(){return tE||(tE=1,b1.exports=Zk()),b1.exports}var rE;function Qk(){if(rE)return Iu;rE=1;var e=Sc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},_=null,C=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(C=p.ref);for(v in p)n.call(p,v)&&!s.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:f,key:_,ref:C,props:w,_owner:i.current}}return Iu.Fragment=r,Iu.jsx=c,Iu.jsxs=c,Iu}var nE;function Jk(){return nE||(nE=1,w1.exports=Qk()),w1.exports}var E=Jk(),N=Sc();const pr=Qi(N),eR=Vy({__proto__:null,default:pr},[N]);var Qf={},E1={exports:{}},ni={},A1={exports:{}},_1={};var iE;function tR(){return iE||(iE=1,(function(e){function t(ve,ye){var we=ve.length;ve.push(ye);e:for(;0<we;){var Q=we-1>>>1,de=ve[Q];if(0<i(de,ye))ve[Q]=ye,ve[we]=de,we=Q;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var ye=ve[0],we=ve.pop();if(we!==ye){ve[0]=we;e:for(var Q=0,de=ve.length,Me=de>>>1;Q<Me;){var De=2*(Q+1)-1,Xe=ve[De],Ie=De+1,nt=ve[Ie];if(0>i(Xe,we))Ie<de&&0>i(nt,Xe)?(ve[Q]=nt,ve[Ie]=we,Q=Ie):(ve[Q]=Xe,ve[De]=we,Q=De);else if(Ie<de&&0>i(nt,we))ve[Q]=nt,ve[Ie]=we,Q=Ie;else break e}}return ye}function i(ve,ye){var we=ve.sortIndex-ye.sortIndex;return we!==0?we:ve.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,_=3,C=!1,O=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ve){for(var ye=r(m);ye!==null;){if(ye.callback===null)n(m);else if(ye.startTime<=ve)n(m),ye.sortIndex=ye.expirationTime,t(p,ye);else break;ye=r(m)}}function z(ve){if(I=!1,j(ve),!O)if(r(p)!==null)O=!0,Le(W);else{var ye=r(m);ye!==null&&le(z,ye.startTime-ve)}}function W(ve,ye){O=!1,I&&(I=!1,M(ie),ie=-1),C=!0;var we=_;try{for(j(ye),w=r(p);w!==null&&(!(w.expirationTime>ye)||ve&&!me());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,_=w.priorityLevel;var de=Q(w.expirationTime<=ye);ye=e.unstable_now(),typeof de=="function"?w.callback=de:w===r(p)&&n(p),j(ye)}else n(p);w=r(p)}if(w!==null)var Me=!0;else{var De=r(m);De!==null&&le(z,De.startTime-ye),Me=!1}return Me}finally{w=null,_=we,C=!1}}var V=!1,H=null,ie=-1,X=5,_e=-1;function me(){return!(e.unstable_now()-_e<X)}function fe(){if(H!==null){var ve=e.unstable_now();_e=ve;var ye=!0;try{ye=H(!0,ve)}finally{ye?Ee():(V=!1,H=null)}}else V=!1}var Ee;if(typeof L=="function")Ee=function(){L(fe)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,ne=ke.port2;ke.port1.onmessage=fe,Ee=function(){ne.postMessage(null)}}else Ee=function(){k(fe,0)};function Le(ve){H=ve,V||(V=!0,Ee())}function le(ve,ye){ie=k(function(){ve(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){O||C||(O=!0,Le(W))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(ve){switch(_){case 1:case 2:case 3:var ye=3;break;default:ye=_}var we=_;_=ye;try{return ve()}finally{_=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,ye){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var we=_;_=ve;try{return ye()}finally{_=we}},e.unstable_scheduleCallback=function(ve,ye,we){var Q=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Q+we:Q):we=Q,ve){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=we+de,ve={id:v++,callback:ye,priorityLevel:ve,startTime:we,expirationTime:de,sortIndex:-1},we>Q?(ve.sortIndex=we,t(m,ve),r(p)===null&&ve===r(m)&&(I?(M(ie),ie=-1):I=!0,le(z,we-Q))):(ve.sortIndex=de,t(p,ve),O||C||(O=!0,Le(W))),ve},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(ve){var ye=_;return function(){var we=_;_=ye;try{return ve.apply(this,arguments)}finally{_=we}}}})(_1)),_1}var aE;function rR(){return aE||(aE=1,A1.exports=tR()),A1.exports}var sE;function nR(){if(sE)return ni;sE=1;var e=Sc(),t=rR();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(o){return p.call(w,o)?!0:p.call(v,o)?!1:m.test(o)?w[o]=!0:(v[o]=!0,!1)}function C(o,d,x,A){if(x!==null&&x.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:x!==null?!x.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function O(o,d,x,A){if(d===null||typeof d>"u"||C(o,d,x,A))return!0;if(A)return!1;if(x!==null)switch(x.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function I(o,d,x,A,P,R,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=P,this.mustUseProperty=x,this.propertyName=o,this.type=d,this.sanitizeURL=R,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new I(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new I(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new I(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(M,L);k[d]=new I(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,d,x,A){var P=k.hasOwnProperty(d)?k[d]:null;(P!==null?P.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(O(d,x,P,A)&&(x=null),A||P===null?_(d)&&(x===null?o.removeAttribute(d):o.setAttribute(d,""+x)):P.mustUseProperty?o[P.propertyName]=x===null?P.type===3?!1:"":x:(d=P.attributeName,A=P.attributeNamespace,x===null?o.removeAttribute(d):(P=P.type,x=P===3||P===4&&x===!0?"":""+x,A?o.setAttributeNS(A,d,x):o.setAttribute(d,x))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),me=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),ve=Symbol.iterator;function ye(o){return o===null||typeof o!="object"?null:(o=ve&&o[ve]||o["@@iterator"],typeof o=="function"?o:null)}var we=Object.assign,Q;function de(o){if(Q===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);Q=d&&d[1]||""}return`
`+Q+o}var Me=!1;function De(o,d){if(!o||Me)return"";Me=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ge){var A=ge}Reflect.construct(o,[],d)}else{try{d.call()}catch(ge){A=ge}o.call(d.prototype)}else{try{throw Error()}catch(ge){A=ge}o()}}catch(ge){if(ge&&A&&typeof ge.stack=="string"){for(var P=ge.stack.split(`
`),R=A.stack.split(`
`),U=P.length-1,K=R.length-1;1<=U&&0<=K&&P[U]!==R[K];)K--;for(;1<=U&&0<=K;U--,K--)if(P[U]!==R[K]){if(U!==1||K!==1)do if(U--,K--,0>K||P[U]!==R[K]){var J=`
`+P[U].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=U&&0<=K);break}}}finally{Me=!1,Error.prepareStackTrace=x}return(o=o?o.displayName||o.name:"")?de(o):""}function Xe(o){switch(o.tag){case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return o=De(o.type,!1),o;case 11:return o=De(o.type.render,!1),o;case 1:return o=De(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case V:return"Portal";case X:return"Profiler";case ie:return"StrictMode";case Ee:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case me:return(o.displayName||"Context")+".Consumer";case _e:return(o._context.displayName||"Context")+".Provider";case fe:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ne:return d=o.displayName||null,d!==null?d:Ie(o.type)||"Memo";case Le:d=o._payload,o=o._init;try{return Ie(o(d))}catch{}}return null}function nt(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(d);case 8:return d===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function te(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ae(o){var d=te(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var P=x.get,R=x.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(U){A=""+U,R.call(this,U)}}),Object.defineProperty(o,d,{enumerable:x.enumerable}),{getValue:function(){return A},setValue:function(U){A=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Be(o){o._valueTracker||(o._valueTracker=Ae(o))}function xe(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var x=d.getValue(),A="";return o&&(A=te(o)?o.checked?"true":"false":o.value),o=A,o!==x?(d.setValue(o),!0):!1}function Fe(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function yt(o,d){var x=d.checked;return we({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??o._wrapperState.initialChecked})}function Lt(o,d){var x=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;x=Z(d.value!=null?d.value:x),o._wrapperState={initialChecked:A,initialValue:x,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Yt(o,d){d=d.checked,d!=null&&j(o,"checked",d,!1)}function xt(o,d){Yt(o,d);var x=Z(d.value),A=d.type;if(x!=null)A==="number"?(x===0&&o.value===""||o.value!=x)&&(o.value=""+x):o.value!==""+x&&(o.value=""+x);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?wt(o,d.type,x):d.hasOwnProperty("defaultValue")&&wt(o,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function Ot(o,d,x){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,x||d===o.value||(o.value=d),o.defaultValue=d}x=o.name,x!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,x!==""&&(o.name=x)}function wt(o,d,x){(d!=="number"||Fe(o.ownerDocument)!==o)&&(x==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+x&&(o.defaultValue=""+x))}var ui=Array.isArray;function Ue(o,d,x,A){if(o=o.options,d){d={};for(var P=0;P<x.length;P++)d["$"+x[P]]=!0;for(x=0;x<o.length;x++)P=d.hasOwnProperty("$"+o[x].value),o[x].selected!==P&&(o[x].selected=P),P&&A&&(o[x].defaultSelected=!0)}else{for(x=""+Z(x),d=null,P=0;P<o.length;P++){if(o[P].value===x){o[P].selected=!0,A&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function ea(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return we({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ta(o,d){var x=d.value;if(x==null){if(x=d.children,d=d.defaultValue,x!=null){if(d!=null)throw Error(r(92));if(ui(x)){if(1<x.length)throw Error(r(93));x=x[0]}d=x}d==null&&(d=""),x=d}o._wrapperState={initialValue:Z(x)}}function $n(o,d){var x=Z(d.value),A=Z(d.defaultValue);x!=null&&(x=""+x,x!==o.value&&(o.value=x),d.defaultValue==null&&o.defaultValue!==x&&(o.defaultValue=x)),A!=null&&(o.defaultValue=""+A)}function pt(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ur(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?dt(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var cr,ur=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,x,A,P){MSApp.execUnsafeLocalFunction(function(){return o(d,x,A,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=cr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function Ss(o,d){if(d){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=d;return}}o.textContent=d}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jp=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(o){Jp.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),ba[d]=ba[o]})});function xr(o,d,x){return d==null||typeof d=="boolean"||d===""?"":x||typeof d!="number"||d===0||ba.hasOwnProperty(o)&&ba[o]?(""+d).trim():d+"px"}function je(o,d){o=o.style;for(var x in d)if(d.hasOwnProperty(x)){var A=x.indexOf("--")===0,P=xr(x,d[x],A);x==="float"&&(x="cssFloat"),A?o.setProperty(x,P):o[x]=P}}var kr=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(o,d){if(d){if(kr[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Zt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ua=null;function po(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wl=null,Et=null,Xn=null;function $c(o){if(o=hu(o)){if(typeof wl!="function")throw Error(r(280));var d=o.stateNode;d&&(d=ff(d),wl(o.stateNode,o.type,d))}}function Wc(o){Et?Xn?Xn.push(o):Xn=[o]:Et=o}function Yn(){if(Et){var o=Et,d=Xn;if(Xn=Et=null,$c(o),d)for(o=0;o<d.length;o++)$c(d[o])}}function bl(o,d){return o(d)}function Yr(){}var Ea=!1;function mo(o,d,x){if(Ea)return o(d,x);Ea=!0;try{return bl(o,d,x)}finally{Ea=!1,(Et!==null||Xn!==null)&&(Yr(),Yn())}}function Tn(o,d){var x=o.stateNode;if(x===null)return null;var A=ff(x);if(A===null)return null;x=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(r(231,d,typeof x));return x}var Vc=!1;if(f)try{var di={};Object.defineProperty(di,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Vc=!1}function Hc(o,d,x,A,P,R,U,K,J){var ge=Array.prototype.slice.call(arguments,3);try{d.apply(x,ge)}catch(Oe){this.onError(Oe)}}var zr=!1,Ri=null,xn=!1,ze=null,Cs={onError:function(o){zr=!0,Ri=o}};function Gc(o,d,x,A,P,R,U,K,J){zr=!1,Ri=null,Hc.apply(Cs,arguments)}function Pn(o,d,x,A,P,R,U,K,J){if(Gc.apply(this,arguments),zr){if(zr){var ge=Ri;zr=!1,Ri=null}else throw Error(r(198));xn||(xn=!0,ze=ge)}}function Zn(o){var d=o,x=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(x=d.return),o=d.return;while(o)}return d.tag===3?x:null}function go(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function vo(o){if(Zn(o)!==o)throw Error(r(188))}function ji(o){var d=o.alternate;if(!d){if(d=Zn(o),d===null)throw Error(r(188));return d!==o?null:o}for(var x=o,A=d;;){var P=x.return;if(P===null)break;var R=P.alternate;if(R===null){if(A=P.return,A!==null){x=A;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===x)return vo(P),o;if(R===A)return vo(P),d;R=R.sibling}throw Error(r(188))}if(x.return!==A.return)x=P,A=R;else{for(var U=!1,K=P.child;K;){if(K===x){U=!0,x=P,A=R;break}if(K===A){U=!0,A=P,x=R;break}K=K.sibling}if(!U){for(K=R.child;K;){if(K===x){U=!0,x=R,A=P;break}if(K===A){U=!0,A=R,x=P;break}K=K.sibling}if(!U)throw Error(r(189))}}if(x.alternate!==A)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?o:d}function Vd(o){return o=ji(o),o!==null?Hd(o):null}function Hd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Hd(o);if(d!==null)return d;o=o.sibling}return null}var fi=t.unstable_scheduleCallback,cn=t.unstable_cancelCallback,Qt=t.unstable_shouldYield,Gd=t.unstable_requestPaint,Bt=t.unstable_now,qc=t.unstable_getCurrentPriorityLevel,be=t.unstable_ImmediatePriority,qd=t.unstable_UserBlockingPriority,Ht=t.unstable_NormalPriority,Os=t.unstable_LowPriority,Kd=t.unstable_IdlePriority,It=null,gt=null;function _t(o){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(It,o,void 0,(o.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:Rr,Kc=Math.log,Xc=Math.LN2;function Rr(o){return o>>>=0,o===0?32:31-(Kc(o)/Xc|0)|0}var hi=64,El=4194304;function Gt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function pi(o,d){var x=o.pendingLanes;if(x===0)return 0;var A=0,P=o.suspendedLanes,R=o.pingedLanes,U=x&268435455;if(U!==0){var K=U&~P;K!==0?A=Gt(K):(R&=U,R!==0&&(A=Gt(R)))}else U=x&~P,U!==0?A=Gt(U):R!==0&&(A=Gt(R));if(A===0)return 0;if(d!==0&&d!==A&&(d&P)===0&&(P=A&-A,R=d&-d,P>=R||P===16&&(R&4194240)!==0))return d;if((A&4)!==0&&(A|=x&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)x=31-Wn(d),P=1<<x,A|=o[x],d&=~P;return A}function em(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(o,d){for(var x=o.suspendedLanes,A=o.pingedLanes,P=o.expirationTimes,R=o.pendingLanes;0<R;){var U=31-Wn(R),K=1<<U,J=P[U];J===-1?((K&x)===0||(K&A)!==0)&&(P[U]=em(K,d)):J<=d&&(o.expiredLanes|=K),R&=~K}}function Ft(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Zr(){var o=hi;return hi<<=1,(hi&4194240)===0&&(hi=64),o}function se(o){for(var d=[],x=0;31>x;x++)d.push(o);return d}function G(o,d,x){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-Wn(d),o[d]=x}function et(o,d){var x=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<x;){var P=31-Wn(x),R=1<<P;d[P]=0,A[P]=-1,o[P]=-1,x&=~R}}function Sr(o,d){var x=o.entangledLanes|=d;for(o=o.entanglements;x;){var A=31-Wn(x),P=1<<A;P&d|o[A]&d&&(o[A]|=d),x&=~P}}var vt=0;function Xd(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Al,kn,tt,Jt,Yc,Zc=!1,Ns=[],mi=null,Mi=null,Aa=null,dr=new Map,ra=new Map,wn=[],st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(o,d){switch(o){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":dr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(d.pointerId)}}function ft(o,d,x,A,P,R){return o===null||o.nativeEvent!==R?(o={blockedOn:d,domEventName:x,eventSystemFlags:A,nativeEvent:R,targetContainers:[P]},d!==null&&(d=hu(d),d!==null&&kn(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function Qr(o,d,x,A,P){switch(d){case"focusin":return mi=ft(mi,o,d,x,A,P),!0;case"dragenter":return Mi=ft(Mi,o,d,x,A,P),!0;case"mouseover":return Aa=ft(Aa,o,d,x,A,P),!0;case"pointerover":var R=P.pointerId;return dr.set(R,ft(dr.get(R)||null,o,d,x,A,P)),!0;case"gotpointercapture":return R=P.pointerId,ra.set(R,ft(ra.get(R)||null,o,d,x,A,P)),!0}return!1}function Zd(o){var d=Oo(o.target);if(d!==null){var x=Zn(d);if(x!==null){if(d=x.tag,d===13){if(d=go(x),d!==null){o.blockedOn=d,Yc(o.priority,function(){tt(x)});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ts(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var x=_l(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(x===null){x=o.nativeEvent;var A=new x.constructor(x.type,x);Ua=A,x.target.dispatchEvent(A),Ua=null}else return d=hu(x),d!==null&&kn(d),o.blockedOn=x,!1;d.shift()}return!0}function Qc(o,d,x){Ts(o)&&x.delete(d)}function za(){Zc=!1,mi!==null&&Ts(mi)&&(mi=null),Mi!==null&&Ts(Mi)&&(Mi=null),Aa!==null&&Ts(Aa)&&(Aa=null),dr.forEach(Qc),ra.forEach(Qc)}function yo(o,d){o.blockedOn===d&&(o.blockedOn=null,Zc||(Zc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,za)))}function na(o){function d(P){return yo(P,o)}if(0<Ns.length){yo(Ns[0],o);for(var x=1;x<Ns.length;x++){var A=Ns[x];A.blockedOn===o&&(A.blockedOn=null)}}for(mi!==null&&yo(mi,o),Mi!==null&&yo(Mi,o),Aa!==null&&yo(Aa,o),dr.forEach(d),ra.forEach(d),x=0;x<wn.length;x++)A=wn[x],A.blockedOn===o&&(A.blockedOn=null);for(;0<wn.length&&(x=wn[0],x.blockedOn===null);)Zd(x),x.blockedOn===null&&wn.shift()}var Di=z.ReactCurrentBatchConfig,_a=!0;function Qd(o,d,x,A){var P=vt,R=Di.transition;Di.transition=null;try{vt=1,$a(o,d,x,A)}finally{vt=P,Di.transition=R}}function xo(o,d,x,A){var P=vt,R=Di.transition;Di.transition=null;try{vt=4,$a(o,d,x,A)}finally{vt=P,Di.transition=R}}function $a(o,d,x,A){if(_a){var P=_l(o,d,x,A);if(P===null)um(o,d,A,Jr,x),Yd(o,A);else if(Qr(P,o,d,x,A))A.stopPropagation();else if(Yd(o,A),d&4&&-1<st.indexOf(o)){for(;P!==null;){var R=hu(P);if(R!==null&&Al(R),R=_l(o,d,x,A),R===null&&um(o,d,A,Jr,x),R===P)break;P=R}P!==null&&A.stopPropagation()}else um(o,d,A,null,x)}}var Jr=null;function _l(o,d,x,A){if(Jr=null,o=po(A),o=Oo(o),o!==null)if(d=Zn(o),d===null)o=null;else if(x=d.tag,x===13){if(o=go(d),o!==null)return o;o=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return Jr=o,null}function Jc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qc()){case be:return 1;case qd:return 4;case Ht:case Os:return 16;case Kd:return 536870912;default:return 16}default:return 16}}var ia=null,eu=null,Sl=null;function Jd(){if(Sl)return Sl;var o,d=eu,x=d.length,A,P="value"in ia?ia.value:ia.textContent,R=P.length;for(o=0;o<x&&d[o]===P[o];o++);var U=x-o;for(A=1;A<=U&&d[x-A]===P[R-A];A++);return Sl=P.slice(o,1<A?1-A:void 0)}function Nt(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function wo(){return!0}function bo(){return!1}function Cr(o){function d(x,A,P,R,U){this._reactName=x,this._targetInst=P,this.type=A,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(x=o[K],this[K]=x?x(R):R[K]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?wo:bo,this.isPropagationStopped=bo,this}return we(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),d}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pe=Cr(Ps),mt=we({},Ps,{view:0,detail:0}),en=Cr(mt),ks,Cl,Eo,Ol=we({},mt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Eo&&(Eo&&o.type==="mousemove"?(ks=o.screenX-Eo.screenX,Cl=o.screenY-Eo.screenY):Cl=ks=0,Eo=o),ks)},movementY:function(o){return"movementY"in o?o.movementY:Cl}}),ef=Cr(Ol),tu=we({},Ol,{dataTransfer:0}),jr=Cr(tu),ru=we({},mt,{relatedTarget:0}),er=Cr(ru),Il=we({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Cr(Il),zt=we({},Ps,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),rt=Cr(zt),tm=we({},Ps,{data:0}),Wt=Cr(tm),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Li(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=rm[o])?!!d[o]:!1}function Ao(){return Li}var tf=we({},mt,{key:function(o){if(o.key){var d=Va[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Nt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Rs[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(o){return o.type==="keypress"?Nt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Nt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),nu=Cr(tf),rf=we({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=Cr(rf),nm=we({},mt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),js=Cr(nm),au=we({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),im=Cr(au),_o=we({},Ol,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),am=Cr(_o),Sa=[9,13,27,32],Ms=f&&"CompositionEvent"in window,un=null;f&&"documentMode"in document&&(un=document.documentMode);var nf=f&&"TextEvent"in window&&!un,gi=f&&(!Ms||un&&8<un&&11>=un),af=" ",Nl=!1;function sf(o,d){switch(o){case"keyup":return Sa.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bn=!1;function sm(o,d){switch(o){case"compositionend":return su(d);case"keypress":return d.which!==32?null:(Nl=!0,af);case"textInput":return o=d.data,o===af&&Nl?null:o;default:return null}}function ou(o,d){if(bn)return o==="compositionend"||!Ms&&sf(o,d)?(o=Jd(),Sl=eu=ia=null,bn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return gi&&d.locale!=="ko"?null:d.data;default:return null}}var So={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!So[o.type]:d==="textarea"}function Co(o,d,x,A){Wc(A),d=cf(d,"onChange"),0<d.length&&(x=new pe("onChange","change",null,x,A),o.push({event:x,listeners:d}))}var B=null,a=null;function l(o){gb(o,0)}function u(o){var d=kl(o);if(xe(d))return o}function h(o,d){if(o==="change")return d}var g=!1;if(f){var y;if(f){var b="oninput"in document;if(!b){var S=document.createElement("div");S.setAttribute("oninput","return;"),b=typeof S.oninput=="function"}y=b}else y=!1;g=y&&(!document.documentMode||9<document.documentMode)}function T(){B&&(B.detachEvent("onpropertychange",D),a=B=null)}function D(o){if(o.propertyName==="value"&&u(a)){var d=[];Co(d,a,o,po(o)),mo(l,d)}}function F(o,d,x){o==="focusin"?(T(),B=d,a=x,B.attachEvent("onpropertychange",D)):o==="focusout"&&T()}function $(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(a)}function q(o,d){if(o==="click")return u(d)}function Y(o,d){if(o==="input"||o==="change")return u(d)}function ee(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ae=typeof Object.is=="function"?Object.is:ee;function he(o,d){if(ae(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var x=Object.keys(o),A=Object.keys(d);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var P=x[A];if(!p.call(d,P)||!ae(o[P],d[P]))return!1}return!0}function Te(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Pe(o,d){var x=Te(o);o=0;for(var A;x;){if(x.nodeType===3){if(A=o+x.textContent.length,o<=d&&A>=d)return{node:x,offset:d-o};o=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Te(x)}}function Ce(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Ce(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function bt(){for(var o=window,d=Fe();d instanceof o.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch{x=!1}if(x)o=d.contentWindow;else break;d=Fe(o.document)}return d}function ht(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Rn(o){var d=bt(),x=o.focusedElem,A=o.selectionRange;if(d!==x&&x&&x.ownerDocument&&Ce(x.ownerDocument.documentElement,x)){if(A!==null&&ht(x)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in x)x.selectionStart=d,x.selectionEnd=Math.min(o,x.value.length);else if(o=(d=x.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=x.textContent.length,R=Math.min(A.start,P);A=A.end===void 0?R:Math.min(A.end,P),!o.extend&&R>A&&(P=A,A=R,R=P),P=Pe(x,R);var U=Pe(x,A);P&&U&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),R>A?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=x;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<d.length;x++)o=d[x],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var vi=f&&"documentMode"in document&&11>=document.documentMode,Mr=null,Mt=null,wr=null,En=!1;function Ha(o,d,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;En||Mr==null||Mr!==Fe(A)||(A=Mr,"selectionStart"in A&&ht(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),wr&&he(wr,A)||(wr=A,A=cf(Mt,"onSelect"),0<A.length&&(d=new pe("onSelect","select",null,d,x),o.push({event:d,listeners:A}),d.target=Mr)))}function aa(o,d){var x={};return x[o.toLowerCase()]=d.toLowerCase(),x["Webkit"+o]="webkit"+d,x["Moz"+o]="moz"+d,x}var Ds={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},lu={},lb={};f&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function of(o){if(lu[o])return lu[o];if(!Ds[o])return o;var d=Ds[o],x;for(x in d)if(d.hasOwnProperty(x)&&x in lb)return lu[o]=d[x];return o}var cb=of("animationend"),ub=of("animationiteration"),db=of("animationstart"),fb=of("transitionend"),hb=new Map,pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(o,d){hb.set(o,d),s(d,[o])}for(var om=0;om<pb.length;om++){var lm=pb[om],sk=lm.toLowerCase(),ok=lm[0].toUpperCase()+lm.slice(1);Ls(sk,"on"+ok)}Ls(cb,"onAnimationEnd"),Ls(ub,"onAnimationIteration"),Ls(db,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(fb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function mb(o,d,x){var A=o.type||"unknown-event";o.currentTarget=x,Pn(A,d,void 0,o),o.currentTarget=null}function gb(o,d){d=(d&4)!==0;for(var x=0;x<o.length;x++){var A=o[x],P=A.event;A=A.listeners;e:{var R=void 0;if(d)for(var U=A.length-1;0<=U;U--){var K=A[U],J=K.instance,ge=K.currentTarget;if(K=K.listener,J!==R&&P.isPropagationStopped())break e;mb(P,K,ge),R=J}else for(U=0;U<A.length;U++){if(K=A[U],J=K.instance,ge=K.currentTarget,K=K.listener,J!==R&&P.isPropagationStopped())break e;mb(P,K,ge),R=J}}}if(xn)throw o=ze,xn=!1,ze=null,o}function ar(o,d){var x=d[gm];x===void 0&&(x=d[gm]=new Set);var A=o+"__bubble";x.has(A)||(vb(d,o,2,!1),x.add(A))}function cm(o,d,x){var A=0;d&&(A|=4),vb(x,o,A,d)}var lf="_reactListening"+Math.random().toString(36).slice(2);function uu(o){if(!o[lf]){o[lf]=!0,n.forEach(function(x){x!=="selectionchange"&&(lk.has(x)||cm(x,!1,o),cm(x,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[lf]||(d[lf]=!0,cm("selectionchange",!1,d))}}function vb(o,d,x,A){switch(Jc(d)){case 1:var P=Qd;break;case 4:P=xo;break;default:P=$a}x=P.bind(null,d,x,o),P=void 0,!Vc||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),A?P!==void 0?o.addEventListener(d,x,{capture:!0,passive:P}):o.addEventListener(d,x,!0):P!==void 0?o.addEventListener(d,x,{passive:P}):o.addEventListener(d,x,!1)}function um(o,d,x,A,P){var R=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var U=A.tag;if(U===3||U===4){var K=A.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(U===4)for(U=A.return;U!==null;){var J=U.tag;if((J===3||J===4)&&(J=U.stateNode.containerInfo,J===P||J.nodeType===8&&J.parentNode===P))return;U=U.return}for(;K!==null;){if(U=Oo(K),U===null)return;if(J=U.tag,J===5||J===6){A=R=U;continue e}K=K.parentNode}}A=A.return}mo(function(){var ge=R,Oe=po(x),Ne=[];e:{var Se=hb.get(o);if(Se!==void 0){var $e=pe,Ke=o;switch(o){case"keypress":if(Nt(x)===0)break e;case"keydown":case"keyup":$e=nu;break;case"focusin":Ke="focus",$e=er;break;case"focusout":Ke="blur",$e=er;break;case"beforeblur":case"afterblur":$e=er;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=jr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=js;break;case cb:case ub:case db:$e=Wa;break;case fb:$e=im;break;case"scroll":$e=en;break;case"wheel":$e=am;break;case"copy":case"cut":case"paste":$e=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=iu}var Ye=(d&4)!==0,Dr=!Ye&&o==="scroll",oe=Ye?Se!==null?Se+"Capture":null:Se;Ye=[];for(var re=ge,ce;re!==null;){ce=re;var Re=ce.stateNode;if(ce.tag===5&&Re!==null&&(ce=Re,oe!==null&&(Re=Tn(re,oe),Re!=null&&Ye.push(du(re,Re,ce)))),Dr)break;re=re.return}0<Ye.length&&(Se=new $e(Se,Ke,null,x,Oe),Ne.push({event:Se,listeners:Ye}))}}if((d&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",$e=o==="mouseout"||o==="pointerout",Se&&x!==Ua&&(Ke=x.relatedTarget||x.fromElement)&&(Oo(Ke)||Ke[Ga]))break e;if(($e||Se)&&(Se=Oe.window===Oe?Oe:(Se=Oe.ownerDocument)?Se.defaultView||Se.parentWindow:window,$e?(Ke=x.relatedTarget||x.toElement,$e=ge,Ke=Ke?Oo(Ke):null,Ke!==null&&(Dr=Zn(Ke),Ke!==Dr||Ke.tag!==5&&Ke.tag!==6)&&(Ke=null)):($e=null,Ke=ge),$e!==Ke)){if(Ye=ef,Re="onMouseLeave",oe="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(Ye=iu,Re="onPointerLeave",oe="onPointerEnter",re="pointer"),Dr=$e==null?Se:kl($e),ce=Ke==null?Se:kl(Ke),Se=new Ye(Re,re+"leave",$e,x,Oe),Se.target=Dr,Se.relatedTarget=ce,Re=null,Oo(Oe)===ge&&(Ye=new Ye(oe,re+"enter",Ke,x,Oe),Ye.target=ce,Ye.relatedTarget=Dr,Re=Ye),Dr=Re,$e&&Ke)t:{for(Ye=$e,oe=Ke,re=0,ce=Ye;ce;ce=Tl(ce))re++;for(ce=0,Re=oe;Re;Re=Tl(Re))ce++;for(;0<re-ce;)Ye=Tl(Ye),re--;for(;0<ce-re;)oe=Tl(oe),ce--;for(;re--;){if(Ye===oe||oe!==null&&Ye===oe.alternate)break t;Ye=Tl(Ye),oe=Tl(oe)}Ye=null}else Ye=null;$e!==null&&yb(Ne,Se,$e,Ye,!1),Ke!==null&&Dr!==null&&yb(Ne,Dr,Ke,Ye,!0)}}e:{if(Se=ge?kl(ge):window,$e=Se.nodeName&&Se.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Se.type==="file")var Qe=h;else if(Ct(Se))if(g)Qe=Y;else{Qe=$;var it=F}else($e=Se.nodeName)&&$e.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(Qe=q);if(Qe&&(Qe=Qe(o,ge))){Co(Ne,Qe,x,Oe);break e}it&&it(o,Se,ge),o==="focusout"&&(it=Se._wrapperState)&&it.controlled&&Se.type==="number"&&wt(Se,"number",Se.value)}switch(it=ge?kl(ge):window,o){case"focusin":(Ct(it)||it.contentEditable==="true")&&(Mr=it,Mt=ge,wr=null);break;case"focusout":wr=Mt=Mr=null;break;case"mousedown":En=!0;break;case"contextmenu":case"mouseup":case"dragend":En=!1,Ha(Ne,x,Oe);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":Ha(Ne,x,Oe)}var at;if(Ms)e:{switch(o){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else bn?sf(o,x)&&(lt="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(lt="onCompositionStart");lt&&(gi&&x.locale!=="ko"&&(bn||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&bn&&(at=Jd()):(ia=Oe,eu="value"in ia?ia.value:ia.textContent,bn=!0)),it=cf(ge,lt),0<it.length&&(lt=new Wt(lt,o,null,x,Oe),Ne.push({event:lt,listeners:it}),at?lt.data=at:(at=su(x),at!==null&&(lt.data=at)))),(at=nf?sm(o,x):ou(o,x))&&(ge=cf(ge,"onBeforeInput"),0<ge.length&&(Oe=new Wt("onBeforeInput","beforeinput",null,x,Oe),Ne.push({event:Oe,listeners:ge}),Oe.data=at))}gb(Ne,d)})}function du(o,d,x){return{instance:o,listener:d,currentTarget:x}}function cf(o,d){for(var x=d+"Capture",A=[];o!==null;){var P=o,R=P.stateNode;P.tag===5&&R!==null&&(P=R,R=Tn(o,x),R!=null&&A.unshift(du(o,R,P)),R=Tn(o,d),R!=null&&A.push(du(o,R,P))),o=o.return}return A}function Tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function yb(o,d,x,A,P){for(var R=d._reactName,U=[];x!==null&&x!==A;){var K=x,J=K.alternate,ge=K.stateNode;if(J!==null&&J===A)break;K.tag===5&&ge!==null&&(K=ge,P?(J=Tn(x,R),J!=null&&U.unshift(du(x,J,K))):P||(J=Tn(x,R),J!=null&&U.push(du(x,J,K)))),x=x.return}U.length!==0&&o.push({event:d,listeners:U})}var ck=/\r\n?/g,uk=/\u0000|\uFFFD/g;function xb(o){return(typeof o=="string"?o:""+o).replace(ck,`
`).replace(uk,"")}function uf(o,d,x){if(d=xb(d),xb(o)!==d&&x)throw Error(r(425))}function df(){}var dm=null,fm=null;function hm(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,fk=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(o){return wb.resolve(null).then(o).catch(hk)}:pm;function hk(o){setTimeout(function(){throw o})}function mm(o,d){var x=d,A=0;do{var P=x.nextSibling;if(o.removeChild(x),P&&P.nodeType===8)if(x=P.data,x==="/$"){if(A===0){o.removeChild(P),na(d);return}A--}else x!=="$"&&x!=="$?"&&x!=="$!"||A++;x=P}while(x);na(d)}function Bs(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function bb(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return o;d--}else x==="/$"&&d++}o=o.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Ca="__reactFiber$"+Pl,fu="__reactProps$"+Pl,Ga="__reactContainer$"+Pl,gm="__reactEvents$"+Pl,pk="__reactListeners$"+Pl,mk="__reactHandles$"+Pl;function Oo(o){var d=o[Ca];if(d)return d;for(var x=o.parentNode;x;){if(d=x[Ga]||x[Ca]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(o=bb(o);o!==null;){if(x=o[Ca])return x;o=bb(o)}return d}o=x,x=o.parentNode}return null}function hu(o){return o=o[Ca]||o[Ga],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function kl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function ff(o){return o[fu]||null}var vm=[],Rl=-1;function Fs(o){return{current:o}}function sr(o){0>Rl||(o.current=vm[Rl],vm[Rl]=null,Rl--)}function tr(o,d){Rl++,vm[Rl]=o.current,o.current=d}var Us={},jn=Fs(Us),Qn=Fs(!1),Io=Us;function jl(o,d){var x=o.type.contextTypes;if(!x)return Us;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var P={},R;for(R in x)P[R]=d[R];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function Jn(o){return o=o.childContextTypes,o!=null}function hf(){sr(Qn),sr(jn)}function Eb(o,d,x){if(jn.current!==Us)throw Error(r(168));tr(jn,d),tr(Qn,x)}function Ab(o,d,x){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return x;A=A.getChildContext();for(var P in A)if(!(P in d))throw Error(r(108,nt(o)||"Unknown",P));return we({},x,A)}function pf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Us,Io=jn.current,tr(jn,o),tr(Qn,Qn.current),!0}function _b(o,d,x){var A=o.stateNode;if(!A)throw Error(r(169));x?(o=Ab(o,d,Io),A.__reactInternalMemoizedMergedChildContext=o,sr(Qn),sr(jn),tr(jn,o)):sr(Qn),tr(Qn,x)}var qa=null,mf=!1,ym=!1;function Sb(o){qa===null?qa=[o]:qa.push(o)}function gk(o){mf=!0,Sb(o)}function zs(){if(!ym&&qa!==null){ym=!0;var o=0,d=vt;try{var x=qa;for(vt=1;o<x.length;o++){var A=x[o];do A=A(!0);while(A!==null)}qa=null,mf=!1}catch(P){throw qa!==null&&(qa=qa.slice(o+1)),fi(be,zs),P}finally{vt=d,ym=!1}}return null}var Ml=[],Dl=0,gf=null,vf=0,Bi=[],Fi=0,No=null,Ka=1,Xa="";function To(o,d){Ml[Dl++]=vf,Ml[Dl++]=gf,gf=o,vf=d}function Cb(o,d,x){Bi[Fi++]=Ka,Bi[Fi++]=Xa,Bi[Fi++]=No,No=o;var A=Ka;o=Xa;var P=32-Wn(A)-1;A&=~(1<<P),x+=1;var R=32-Wn(d)+P;if(30<R){var U=P-P%5;R=(A&(1<<U)-1).toString(32),A>>=U,P-=U,Ka=1<<32-Wn(d)+P|x<<P|A,Xa=R+o}else Ka=1<<R|x<<P|A,Xa=o}function xm(o){o.return!==null&&(To(o,1),Cb(o,1,0))}function wm(o){for(;o===gf;)gf=Ml[--Dl],Ml[Dl]=null,vf=Ml[--Dl],Ml[Dl]=null;for(;o===No;)No=Bi[--Fi],Bi[Fi]=null,Xa=Bi[--Fi],Bi[Fi]=null,Ka=Bi[--Fi],Bi[Fi]=null}var yi=null,xi=null,fr=!1,sa=null;function Ob(o,d){var x=Wi(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=o,d=o.deletions,d===null?(o.deletions=[x],o.flags|=16):d.push(x)}function Ib(o,d){switch(o.tag){case 5:var x=o.type;return d=d.nodeType!==1||x.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,yi=o,xi=Bs(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,yi=o,xi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(x=No!==null?{id:Ka,overflow:Xa}:null,o.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=Wi(18,null,null,0),x.stateNode=d,x.return=o,o.child=x,yi=o,xi=null,!0):!1;default:return!1}}function bm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Em(o){if(fr){var d=xi;if(d){var x=d;if(!Ib(o,d)){if(bm(o))throw Error(r(418));d=Bs(x.nextSibling);var A=yi;d&&Ib(o,d)?Ob(A,x):(o.flags=o.flags&-4097|2,fr=!1,yi=o)}}else{if(bm(o))throw Error(r(418));o.flags=o.flags&-4097|2,fr=!1,yi=o}}}function Nb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;yi=o}function yf(o){if(o!==yi)return!1;if(!fr)return Nb(o),fr=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!hm(o.type,o.memoizedProps)),d&&(d=xi)){if(bm(o))throw Tb(),Error(r(418));for(;d;)Ob(o,d),d=Bs(d.nextSibling)}if(Nb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var x=o.data;if(x==="/$"){if(d===0){xi=Bs(o.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++}o=o.nextSibling}xi=null}}else xi=yi?Bs(o.stateNode.nextSibling):null;return!0}function Tb(){for(var o=xi;o;)o=Bs(o.nextSibling)}function Ll(){xi=yi=null,fr=!1}function Am(o){sa===null?sa=[o]:sa.push(o)}var vk=z.ReactCurrentBatchConfig;function pu(o,d,x){if(o=x.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var A=x.stateNode}if(!A)throw Error(r(147,o));var P=A,R=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(U){var K=P.refs;U===null?delete K[R]:K[R]=U},d._stringRef=R,d)}if(typeof o!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,o))}return o}function xf(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Pb(o){var d=o._init;return d(o._payload)}function kb(o){function d(oe,re){if(o){var ce=oe.deletions;ce===null?(oe.deletions=[re],oe.flags|=16):ce.push(re)}}function x(oe,re){if(!o)return null;for(;re!==null;)d(oe,re),re=re.sibling;return null}function A(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function P(oe,re){return oe=Xs(oe,re),oe.index=0,oe.sibling=null,oe}function R(oe,re,ce){return oe.index=ce,o?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<re?(oe.flags|=2,re):ce):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function U(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,re,ce,Re){return re===null||re.tag!==6?(re=p1(ce,oe.mode,Re),re.return=oe,re):(re=P(re,ce),re.return=oe,re)}function J(oe,re,ce,Re){var Qe=ce.type;return Qe===H?Oe(oe,re,ce.props.children,Re,ce.key):re!==null&&(re.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Le&&Pb(Qe)===re.type)?(Re=P(re,ce.props),Re.ref=pu(oe,re,ce),Re.return=oe,Re):(Re=Wf(ce.type,ce.key,ce.props,null,oe.mode,Re),Re.ref=pu(oe,re,ce),Re.return=oe,Re)}function ge(oe,re,ce,Re){return re===null||re.tag!==4||re.stateNode.containerInfo!==ce.containerInfo||re.stateNode.implementation!==ce.implementation?(re=m1(ce,oe.mode,Re),re.return=oe,re):(re=P(re,ce.children||[]),re.return=oe,re)}function Oe(oe,re,ce,Re,Qe){return re===null||re.tag!==7?(re=Bo(ce,oe.mode,Re,Qe),re.return=oe,re):(re=P(re,ce),re.return=oe,re)}function Ne(oe,re,ce){if(typeof re=="string"&&re!==""||typeof re=="number")return re=p1(""+re,oe.mode,ce),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case W:return ce=Wf(re.type,re.key,re.props,null,oe.mode,ce),ce.ref=pu(oe,null,re),ce.return=oe,ce;case V:return re=m1(re,oe.mode,ce),re.return=oe,re;case Le:var Re=re._init;return Ne(oe,Re(re._payload),ce)}if(ui(re)||ye(re))return re=Bo(re,oe.mode,ce,null),re.return=oe,re;xf(oe,re)}return null}function Se(oe,re,ce,Re){var Qe=re!==null?re.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Qe!==null?null:K(oe,re,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:return ce.key===Qe?J(oe,re,ce,Re):null;case V:return ce.key===Qe?ge(oe,re,ce,Re):null;case Le:return Qe=ce._init,Se(oe,re,Qe(ce._payload),Re)}if(ui(ce)||ye(ce))return Qe!==null?null:Oe(oe,re,ce,Re,null);xf(oe,ce)}return null}function $e(oe,re,ce,Re,Qe){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return oe=oe.get(ce)||null,K(re,oe,""+Re,Qe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case W:return oe=oe.get(Re.key===null?ce:Re.key)||null,J(re,oe,Re,Qe);case V:return oe=oe.get(Re.key===null?ce:Re.key)||null,ge(re,oe,Re,Qe);case Le:var it=Re._init;return $e(oe,re,ce,it(Re._payload),Qe)}if(ui(Re)||ye(Re))return oe=oe.get(ce)||null,Oe(re,oe,Re,Qe,null);xf(re,Re)}return null}function Ke(oe,re,ce,Re){for(var Qe=null,it=null,at=re,lt=re=0,hn=null;at!==null&&lt<ce.length;lt++){at.index>lt?(hn=at,at=null):hn=at.sibling;var Pt=Se(oe,at,ce[lt],Re);if(Pt===null){at===null&&(at=hn);break}o&&at&&Pt.alternate===null&&d(oe,at),re=R(Pt,re,lt),it===null?Qe=Pt:it.sibling=Pt,it=Pt,at=hn}if(lt===ce.length)return x(oe,at),fr&&To(oe,lt),Qe;if(at===null){for(;lt<ce.length;lt++)at=Ne(oe,ce[lt],Re),at!==null&&(re=R(at,re,lt),it===null?Qe=at:it.sibling=at,it=at);return fr&&To(oe,lt),Qe}for(at=A(oe,at);lt<ce.length;lt++)hn=$e(at,oe,lt,ce[lt],Re),hn!==null&&(o&&hn.alternate!==null&&at.delete(hn.key===null?lt:hn.key),re=R(hn,re,lt),it===null?Qe=hn:it.sibling=hn,it=hn);return o&&at.forEach(function(Ys){return d(oe,Ys)}),fr&&To(oe,lt),Qe}function Ye(oe,re,ce,Re){var Qe=ye(ce);if(typeof Qe!="function")throw Error(r(150));if(ce=Qe.call(ce),ce==null)throw Error(r(151));for(var it=Qe=null,at=re,lt=re=0,hn=null,Pt=ce.next();at!==null&&!Pt.done;lt++,Pt=ce.next()){at.index>lt?(hn=at,at=null):hn=at.sibling;var Ys=Se(oe,at,Pt.value,Re);if(Ys===null){at===null&&(at=hn);break}o&&at&&Ys.alternate===null&&d(oe,at),re=R(Ys,re,lt),it===null?Qe=Ys:it.sibling=Ys,it=Ys,at=hn}if(Pt.done)return x(oe,at),fr&&To(oe,lt),Qe;if(at===null){for(;!Pt.done;lt++,Pt=ce.next())Pt=Ne(oe,Pt.value,Re),Pt!==null&&(re=R(Pt,re,lt),it===null?Qe=Pt:it.sibling=Pt,it=Pt);return fr&&To(oe,lt),Qe}for(at=A(oe,at);!Pt.done;lt++,Pt=ce.next())Pt=$e(at,oe,lt,Pt.value,Re),Pt!==null&&(o&&Pt.alternate!==null&&at.delete(Pt.key===null?lt:Pt.key),re=R(Pt,re,lt),it===null?Qe=Pt:it.sibling=Pt,it=Pt);return o&&at.forEach(function(Yk){return d(oe,Yk)}),fr&&To(oe,lt),Qe}function Dr(oe,re,ce,Re){if(typeof ce=="object"&&ce!==null&&ce.type===H&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:e:{for(var Qe=ce.key,it=re;it!==null;){if(it.key===Qe){if(Qe=ce.type,Qe===H){if(it.tag===7){x(oe,it.sibling),re=P(it,ce.props.children),re.return=oe,oe=re;break e}}else if(it.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===Le&&Pb(Qe)===it.type){x(oe,it.sibling),re=P(it,ce.props),re.ref=pu(oe,it,ce),re.return=oe,oe=re;break e}x(oe,it);break}else d(oe,it);it=it.sibling}ce.type===H?(re=Bo(ce.props.children,oe.mode,Re,ce.key),re.return=oe,oe=re):(Re=Wf(ce.type,ce.key,ce.props,null,oe.mode,Re),Re.ref=pu(oe,re,ce),Re.return=oe,oe=Re)}return U(oe);case V:e:{for(it=ce.key;re!==null;){if(re.key===it)if(re.tag===4&&re.stateNode.containerInfo===ce.containerInfo&&re.stateNode.implementation===ce.implementation){x(oe,re.sibling),re=P(re,ce.children||[]),re.return=oe,oe=re;break e}else{x(oe,re);break}else d(oe,re);re=re.sibling}re=m1(ce,oe.mode,Re),re.return=oe,oe=re}return U(oe);case Le:return it=ce._init,Dr(oe,re,it(ce._payload),Re)}if(ui(ce))return Ke(oe,re,ce,Re);if(ye(ce))return Ye(oe,re,ce,Re);xf(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,re!==null&&re.tag===6?(x(oe,re.sibling),re=P(re,ce),re.return=oe,oe=re):(x(oe,re),re=p1(ce,oe.mode,Re),re.return=oe,oe=re),U(oe)):x(oe,re)}return Dr}var Bl=kb(!0),Rb=kb(!1),wf=Fs(null),bf=null,Fl=null,_m=null;function Sm(){_m=Fl=bf=null}function Cm(o){var d=wf.current;sr(wf),o._currentValue=d}function Om(o,d,x){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===x)break;o=o.return}}function Ul(o,d){bf=o,_m=Fl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(ei=!0),o.firstContext=null)}function Ui(o){var d=o._currentValue;if(_m!==o)if(o={context:o,memoizedValue:d,next:null},Fl===null){if(bf===null)throw Error(r(308));Fl=o,bf.dependencies={lanes:0,firstContext:o}}else Fl=Fl.next=o;return d}var Po=null;function Im(o){Po===null?Po=[o]:Po.push(o)}function jb(o,d,x,A){var P=d.interleaved;return P===null?(x.next=x,Im(d)):(x.next=P.next,P.next=x),d.interleaved=x,Ya(o,A)}function Ya(o,d){o.lanes|=d;var x=o.alternate;for(x!==null&&(x.lanes|=d),x=o,o=o.return;o!==null;)o.childLanes|=d,x=o.alternate,x!==null&&(x.childLanes|=d),x=o,o=o.return;return x.tag===3?x.stateNode:null}var $s=!1;function Nm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Za(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Ws(o,d,x){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Tt&2)!==0){var P=A.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),A.pending=d,Ya(o,x)}return P=A.interleaved,P===null?(d.next=d,Im(A)):(d.next=P.next,P.next=d),A.interleaved=d,Ya(o,x)}function Ef(o,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,x|=A,d.lanes=x,Sr(o,x)}}function Db(o,d){var x=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var P=null,R=null;if(x=x.firstBaseUpdate,x!==null){do{var U={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};R===null?P=R=U:R=R.next=U,x=x.next}while(x!==null);R===null?P=R=d:R=R.next=d}else P=R=d;x={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:A.shared,effects:A.effects},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=d:o.next=d,x.lastBaseUpdate=d}function Af(o,d,x,A){var P=o.updateQueue;$s=!1;var R=P.firstBaseUpdate,U=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var J=K,ge=J.next;J.next=null,U===null?R=ge:U.next=ge,U=J;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,K=Oe.lastBaseUpdate,K!==U&&(K===null?Oe.firstBaseUpdate=ge:K.next=ge,Oe.lastBaseUpdate=J))}if(R!==null){var Ne=P.baseState;U=0,Oe=ge=J=null,K=R;do{var Se=K.lane,$e=K.eventTime;if((A&Se)===Se){Oe!==null&&(Oe=Oe.next={eventTime:$e,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ke=o,Ye=K;switch(Se=d,$e=x,Ye.tag){case 1:if(Ke=Ye.payload,typeof Ke=="function"){Ne=Ke.call($e,Ne,Se);break e}Ne=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Ye.payload,Se=typeof Ke=="function"?Ke.call($e,Ne,Se):Ke,Se==null)break e;Ne=we({},Ne,Se);break e;case 2:$s=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Se=P.effects,Se===null?P.effects=[K]:Se.push(K))}else $e={eventTime:$e,lane:Se,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Oe===null?(ge=Oe=$e,J=Ne):Oe=Oe.next=$e,U|=Se;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;Se=K,K=Se.next,Se.next=null,P.lastBaseUpdate=Se,P.shared.pending=null}}while(!0);if(Oe===null&&(J=Ne),P.baseState=J,P.firstBaseUpdate=ge,P.lastBaseUpdate=Oe,d=P.shared.interleaved,d!==null){P=d;do U|=P.lane,P=P.next;while(P!==d)}else R===null&&(P.shared.lanes=0);jo|=U,o.lanes=U,o.memoizedState=Ne}}function Lb(o,d,x){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],P=A.callback;if(P!==null){if(A.callback=null,A=x,typeof P!="function")throw Error(r(191,P));P.call(A)}}}var mu={},Oa=Fs(mu),gu=Fs(mu),vu=Fs(mu);function ko(o){if(o===mu)throw Error(r(174));return o}function Tm(o,d){switch(tr(vu,d),tr(gu,o),tr(Oa,mu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Ur(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=Ur(d,o)}sr(Oa),tr(Oa,d)}function zl(){sr(Oa),sr(gu),sr(vu)}function Bb(o){ko(vu.current);var d=ko(Oa.current),x=Ur(d,o.type);d!==x&&(tr(gu,o),tr(Oa,x))}function Pm(o){gu.current===o&&(sr(Oa),sr(gu))}var br=Fs(0);function _f(o){for(var d=o;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var km=[];function Rm(){for(var o=0;o<km.length;o++)km[o]._workInProgressVersionPrimary=null;km.length=0}var Sf=z.ReactCurrentDispatcher,jm=z.ReactCurrentBatchConfig,Ro=0,Er=null,tn=null,dn=null,Cf=!1,yu=!1,xu=0,yk=0;function Mn(){throw Error(r(321))}function Mm(o,d){if(d===null)return!1;for(var x=0;x<d.length&&x<o.length;x++)if(!ae(o[x],d[x]))return!1;return!0}function Dm(o,d,x,A,P,R){if(Ro=R,Er=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Sf.current=o===null||o.memoizedState===null?Ek:Ak,o=x(A,P),yu){R=0;do{if(yu=!1,xu=0,25<=R)throw Error(r(301));R+=1,dn=tn=null,d.updateQueue=null,Sf.current=_k,o=x(A,P)}while(yu)}if(Sf.current=Nf,d=tn!==null&&tn.next!==null,Ro=0,dn=tn=Er=null,Cf=!1,d)throw Error(r(300));return o}function Lm(){var o=xu!==0;return xu=0,o}function Ia(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Er.memoizedState=dn=o:dn=dn.next=o,dn}function zi(){if(tn===null){var o=Er.alternate;o=o!==null?o.memoizedState:null}else o=tn.next;var d=dn===null?Er.memoizedState:dn.next;if(d!==null)dn=d,tn=o;else{if(o===null)throw Error(r(310));tn=o,o={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},dn===null?Er.memoizedState=dn=o:dn=dn.next=o}return dn}function wu(o,d){return typeof d=="function"?d(o):d}function Bm(o){var d=zi(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var A=tn,P=A.baseQueue,R=x.pending;if(R!==null){if(P!==null){var U=P.next;P.next=R.next,R.next=U}A.baseQueue=P=R,x.pending=null}if(P!==null){R=P.next,A=A.baseState;var K=U=null,J=null,ge=R;do{var Oe=ge.lane;if((Ro&Oe)===Oe)J!==null&&(J=J.next={lane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),A=ge.hasEagerState?ge.eagerState:o(A,ge.action);else{var Ne={lane:Oe,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null};J===null?(K=J=Ne,U=A):J=J.next=Ne,Er.lanes|=Oe,jo|=Oe}ge=ge.next}while(ge!==null&&ge!==R);J===null?U=A:J.next=K,ae(A,d.memoizedState)||(ei=!0),d.memoizedState=A,d.baseState=U,d.baseQueue=J,x.lastRenderedState=A}if(o=x.interleaved,o!==null){P=o;do R=P.lane,Er.lanes|=R,jo|=R,P=P.next;while(P!==o)}else P===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function Fm(o){var d=zi(),x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var A=x.dispatch,P=x.pending,R=d.memoizedState;if(P!==null){x.pending=null;var U=P=P.next;do R=o(R,U.action),U=U.next;while(U!==P);ae(R,d.memoizedState)||(ei=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),x.lastRenderedState=R}return[R,A]}function Fb(){}function Ub(o,d){var x=Er,A=zi(),P=d(),R=!ae(A.memoizedState,P);if(R&&(A.memoizedState=P,ei=!0),A=A.queue,Um(Wb.bind(null,x,A,o),[o]),A.getSnapshot!==d||R||dn!==null&&dn.memoizedState.tag&1){if(x.flags|=2048,bu(9,$b.bind(null,x,A,P,d),void 0,null),fn===null)throw Error(r(349));(Ro&30)!==0||zb(x,d,P)}return P}function zb(o,d,x){o.flags|=16384,o={getSnapshot:d,value:x},d=Er.updateQueue,d===null?(d={lastEffect:null,stores:null},Er.updateQueue=d,d.stores=[o]):(x=d.stores,x===null?d.stores=[o]:x.push(o))}function $b(o,d,x,A){d.value=x,d.getSnapshot=A,Vb(d)&&Hb(o)}function Wb(o,d,x){return x(function(){Vb(d)&&Hb(o)})}function Vb(o){var d=o.getSnapshot;o=o.value;try{var x=d();return!ae(o,x)}catch{return!0}}function Hb(o){var d=Ya(o,1);d!==null&&ua(d,o,1,-1)}function Gb(o){var d=Ia();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:o},d.queue=o,o=o.dispatch=bk.bind(null,Er,o),[d.memoizedState,o]}function bu(o,d,x,A){return o={tag:o,create:d,destroy:x,deps:A,next:null},d=Er.updateQueue,d===null?(d={lastEffect:null,stores:null},Er.updateQueue=d,d.lastEffect=o.next=o):(x=d.lastEffect,x===null?d.lastEffect=o.next=o:(A=x.next,x.next=o,o.next=A,d.lastEffect=o)),o}function qb(){return zi().memoizedState}function Of(o,d,x,A){var P=Ia();Er.flags|=o,P.memoizedState=bu(1|d,x,void 0,A===void 0?null:A)}function If(o,d,x,A){var P=zi();A=A===void 0?null:A;var R=void 0;if(tn!==null){var U=tn.memoizedState;if(R=U.destroy,A!==null&&Mm(A,U.deps)){P.memoizedState=bu(d,x,R,A);return}}Er.flags|=o,P.memoizedState=bu(1|d,x,R,A)}function Kb(o,d){return Of(8390656,8,o,d)}function Um(o,d){return If(2048,8,o,d)}function Xb(o,d){return If(4,2,o,d)}function Yb(o,d){return If(4,4,o,d)}function Zb(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function Qb(o,d,x){return x=x!=null?x.concat([o]):null,If(4,4,Zb.bind(null,d,o),x)}function zm(){}function Jb(o,d){var x=zi();d=d===void 0?null:d;var A=x.memoizedState;return A!==null&&d!==null&&Mm(d,A[1])?A[0]:(x.memoizedState=[o,d],o)}function e2(o,d){var x=zi();d=d===void 0?null:d;var A=x.memoizedState;return A!==null&&d!==null&&Mm(d,A[1])?A[0]:(o=o(),x.memoizedState=[o,d],o)}function t2(o,d,x){return(Ro&21)===0?(o.baseState&&(o.baseState=!1,ei=!0),o.memoizedState=x):(ae(x,d)||(x=Zr(),Er.lanes|=x,jo|=x,o.baseState=!0),d)}function xk(o,d){var x=vt;vt=x!==0&&4>x?x:4,o(!0);var A=jm.transition;jm.transition={};try{o(!1),d()}finally{vt=x,jm.transition=A}}function r2(){return zi().memoizedState}function wk(o,d,x){var A=qs(o);if(x={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null},n2(o))i2(d,x);else if(x=jb(o,d,x,A),x!==null){var P=Hn();ua(x,o,A,P),a2(x,d,A)}}function bk(o,d,x){var A=qs(o),P={lane:A,action:x,hasEagerState:!1,eagerState:null,next:null};if(n2(o))i2(d,P);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var U=d.lastRenderedState,K=R(U,x);if(P.hasEagerState=!0,P.eagerState=K,ae(K,U)){var J=d.interleaved;J===null?(P.next=P,Im(d)):(P.next=J.next,J.next=P),d.interleaved=P;return}}catch{}finally{}x=jb(o,d,P,A),x!==null&&(P=Hn(),ua(x,o,A,P),a2(x,d,A))}}function n2(o){var d=o.alternate;return o===Er||d!==null&&d===Er}function i2(o,d){yu=Cf=!0;var x=o.pending;x===null?d.next=d:(d.next=x.next,x.next=d),o.pending=d}function a2(o,d,x){if((x&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,x|=A,d.lanes=x,Sr(o,x)}}var Nf={readContext:Ui,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},Ek={readContext:Ui,useCallback:function(o,d){return Ia().memoizedState=[o,d===void 0?null:d],o},useContext:Ui,useEffect:Kb,useImperativeHandle:function(o,d,x){return x=x!=null?x.concat([o]):null,Of(4194308,4,Zb.bind(null,d,o),x)},useLayoutEffect:function(o,d){return Of(4194308,4,o,d)},useInsertionEffect:function(o,d){return Of(4,2,o,d)},useMemo:function(o,d){var x=Ia();return d=d===void 0?null:d,o=o(),x.memoizedState=[o,d],o},useReducer:function(o,d,x){var A=Ia();return d=x!==void 0?x(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=wk.bind(null,Er,o),[A.memoizedState,o]},useRef:function(o){var d=Ia();return o={current:o},d.memoizedState=o},useState:Gb,useDebugValue:zm,useDeferredValue:function(o){return Ia().memoizedState=o},useTransition:function(){var o=Gb(!1),d=o[0];return o=xk.bind(null,o[1]),Ia().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,x){var A=Er,P=Ia();if(fr){if(x===void 0)throw Error(r(407));x=x()}else{if(x=d(),fn===null)throw Error(r(349));(Ro&30)!==0||zb(A,d,x)}P.memoizedState=x;var R={value:x,getSnapshot:d};return P.queue=R,Kb(Wb.bind(null,A,R,o),[o]),A.flags|=2048,bu(9,$b.bind(null,A,R,x,d),void 0,null),x},useId:function(){var o=Ia(),d=fn.identifierPrefix;if(fr){var x=Xa,A=Ka;x=(A&~(1<<32-Wn(A)-1)).toString(32)+x,d=":"+d+"R"+x,x=xu++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=yk++,d=":"+d+"r"+x.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},Ak={readContext:Ui,useCallback:Jb,useContext:Ui,useEffect:Um,useImperativeHandle:Qb,useInsertionEffect:Xb,useLayoutEffect:Yb,useMemo:e2,useReducer:Bm,useRef:qb,useState:function(){return Bm(wu)},useDebugValue:zm,useDeferredValue:function(o){var d=zi();return t2(d,tn.memoizedState,o)},useTransition:function(){var o=Bm(wu)[0],d=zi().memoizedState;return[o,d]},useMutableSource:Fb,useSyncExternalStore:Ub,useId:r2,unstable_isNewReconciler:!1},_k={readContext:Ui,useCallback:Jb,useContext:Ui,useEffect:Um,useImperativeHandle:Qb,useInsertionEffect:Xb,useLayoutEffect:Yb,useMemo:e2,useReducer:Fm,useRef:qb,useState:function(){return Fm(wu)},useDebugValue:zm,useDeferredValue:function(o){var d=zi();return tn===null?d.memoizedState=o:t2(d,tn.memoizedState,o)},useTransition:function(){var o=Fm(wu)[0],d=zi().memoizedState;return[o,d]},useMutableSource:Fb,useSyncExternalStore:Ub,useId:r2,unstable_isNewReconciler:!1};function oa(o,d){if(o&&o.defaultProps){d=we({},d),o=o.defaultProps;for(var x in o)d[x]===void 0&&(d[x]=o[x]);return d}return d}function $m(o,d,x,A){d=o.memoizedState,x=x(A,d),x=x==null?d:we({},d,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var Tf={isMounted:function(o){return(o=o._reactInternals)?Zn(o)===o:!1},enqueueSetState:function(o,d,x){o=o._reactInternals;var A=Hn(),P=qs(o),R=Za(A,P);R.payload=d,x!=null&&(R.callback=x),d=Ws(o,R,P),d!==null&&(ua(d,o,P,A),Ef(d,o,P))},enqueueReplaceState:function(o,d,x){o=o._reactInternals;var A=Hn(),P=qs(o),R=Za(A,P);R.tag=1,R.payload=d,x!=null&&(R.callback=x),d=Ws(o,R,P),d!==null&&(ua(d,o,P,A),Ef(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var x=Hn(),A=qs(o),P=Za(x,A);P.tag=2,d!=null&&(P.callback=d),d=Ws(o,P,A),d!==null&&(ua(d,o,A,x),Ef(d,o,A))}};function s2(o,d,x,A,P,R,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,R,U):d.prototype&&d.prototype.isPureReactComponent?!he(x,A)||!he(P,R):!0}function o2(o,d,x){var A=!1,P=Us,R=d.contextType;return typeof R=="object"&&R!==null?R=Ui(R):(P=Jn(d)?Io:jn.current,A=d.contextTypes,R=(A=A!=null)?jl(o,P):Us),d=new d(x,R),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tf,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=R),d}function l2(o,d,x,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,A),d.state!==o&&Tf.enqueueReplaceState(d,d.state,null)}function Wm(o,d,x,A){var P=o.stateNode;P.props=x,P.state=o.memoizedState,P.refs={},Nm(o);var R=d.contextType;typeof R=="object"&&R!==null?P.context=Ui(R):(R=Jn(d)?Io:jn.current,P.context=jl(o,R)),P.state=o.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&($m(o,d,R,x),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&Tf.enqueueReplaceState(P,P.state,null),Af(o,x,P,A),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function $l(o,d){try{var x="",A=d;do x+=Xe(A),A=A.return;while(A);var P=x}catch(R){P=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:d,stack:P,digest:null}}function Vm(o,d,x){return{value:o,source:null,stack:x??null,digest:d??null}}function Hm(o,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function c2(o,d,x){x=Za(-1,x),x.tag=3,x.payload={element:null};var A=d.value;return x.callback=function(){Lf||(Lf=!0,s1=A),Hm(o,d)},x}function u2(o,d,x){x=Za(-1,x),x.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var P=d.value;x.payload=function(){return A(P)},x.callback=function(){Hm(o,d)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(x.callback=function(){Hm(o,d),typeof A!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),x}function d2(o,d,x){var A=o.pingCache;if(A===null){A=o.pingCache=new Sk;var P=new Set;A.set(d,P)}else P=A.get(d),P===void 0&&(P=new Set,A.set(d,P));P.has(x)||(P.add(x),o=Fk.bind(null,o,d,x),d.then(o,o))}function f2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function h2(o,d,x,A,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=Za(-1,1),d.tag=2,Ws(x,d,1))),x.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var Ck=z.ReactCurrentOwner,ei=!1;function Vn(o,d,x,A){d.child=o===null?Rb(d,null,x,A):Bl(d,o.child,x,A)}function p2(o,d,x,A,P){x=x.render;var R=d.ref;return Ul(d,P),A=Dm(o,d,x,A,R,P),x=Lm(),o!==null&&!ei?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,Qa(o,d,P)):(fr&&x&&xm(d),d.flags|=1,Vn(o,d,A,P),d.child)}function m2(o,d,x,A,P){if(o===null){var R=x.type;return typeof R=="function"&&!h1(R)&&R.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=R,g2(o,d,R,A,P)):(o=Wf(x.type,null,A,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(R=o.child,(o.lanes&P)===0){var U=R.memoizedProps;if(x=x.compare,x=x!==null?x:he,x(U,A)&&o.ref===d.ref)return Qa(o,d,P)}return d.flags|=1,o=Xs(R,A),o.ref=d.ref,o.return=d,d.child=o}function g2(o,d,x,A,P){if(o!==null){var R=o.memoizedProps;if(he(R,A)&&o.ref===d.ref)if(ei=!1,d.pendingProps=A=R,(o.lanes&P)!==0)(o.flags&131072)!==0&&(ei=!0);else return d.lanes=o.lanes,Qa(o,d,P)}return Gm(o,d,x,A,P)}function v2(o,d,x){var A=d.pendingProps,P=A.children,R=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(Vl,wi),wi|=x;else{if((x&1073741824)===0)return o=R!==null?R.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,tr(Vl,wi),wi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=R!==null?R.baseLanes:x,tr(Vl,wi),wi|=A}else R!==null?(A=R.baseLanes|x,d.memoizedState=null):A=x,tr(Vl,wi),wi|=A;return Vn(o,d,P,x),d.child}function y2(o,d){var x=d.ref;(o===null&&x!==null||o!==null&&o.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function Gm(o,d,x,A,P){var R=Jn(x)?Io:jn.current;return R=jl(d,R),Ul(d,P),x=Dm(o,d,x,A,R,P),A=Lm(),o!==null&&!ei?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,Qa(o,d,P)):(fr&&A&&xm(d),d.flags|=1,Vn(o,d,x,P),d.child)}function x2(o,d,x,A,P){if(Jn(x)){var R=!0;pf(d)}else R=!1;if(Ul(d,P),d.stateNode===null)kf(o,d),o2(d,x,A),Wm(d,x,A,P),A=!0;else if(o===null){var U=d.stateNode,K=d.memoizedProps;U.props=K;var J=U.context,ge=x.contextType;typeof ge=="object"&&ge!==null?ge=Ui(ge):(ge=Jn(x)?Io:jn.current,ge=jl(d,ge));var Oe=x.getDerivedStateFromProps,Ne=typeof Oe=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ne||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==A||J!==ge)&&l2(d,U,A,ge),$s=!1;var Se=d.memoizedState;U.state=Se,Af(d,A,U,P),J=d.memoizedState,K!==A||Se!==J||Qn.current||$s?(typeof Oe=="function"&&($m(d,x,Oe,A),J=d.memoizedState),(K=$s||s2(d,x,K,A,Se,J,ge))?(Ne||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=J),U.props=A,U.state=J,U.context=ge,A=K):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{U=d.stateNode,Mb(o,d),K=d.memoizedProps,ge=d.type===d.elementType?K:oa(d.type,K),U.props=ge,Ne=d.pendingProps,Se=U.context,J=x.contextType,typeof J=="object"&&J!==null?J=Ui(J):(J=Jn(x)?Io:jn.current,J=jl(d,J));var $e=x.getDerivedStateFromProps;(Oe=typeof $e=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==Ne||Se!==J)&&l2(d,U,A,J),$s=!1,Se=d.memoizedState,U.state=Se,Af(d,A,U,P);var Ke=d.memoizedState;K!==Ne||Se!==Ke||Qn.current||$s?(typeof $e=="function"&&($m(d,x,$e,A),Ke=d.memoizedState),(ge=$s||s2(d,x,ge,A,Se,Ke,J)||!1)?(Oe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,Ke,J),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,Ke,J)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=Ke),U.props=A,U.state=Ke,U.context=J,A=ge):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),A=!1)}return qm(o,d,x,A,R,P)}function qm(o,d,x,A,P,R){y2(o,d);var U=(d.flags&128)!==0;if(!A&&!U)return P&&_b(d,x,!1),Qa(o,d,R);A=d.stateNode,Ck.current=d;var K=U&&typeof x.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&U?(d.child=Bl(d,o.child,null,R),d.child=Bl(d,null,K,R)):Vn(o,d,K,R),d.memoizedState=A.state,P&&_b(d,x,!0),d.child}function w2(o){var d=o.stateNode;d.pendingContext?Eb(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Eb(o,d.context,!1),Tm(o,d.containerInfo)}function b2(o,d,x,A,P){return Ll(),Am(P),d.flags|=256,Vn(o,d,x,A),d.child}var Km={dehydrated:null,treeContext:null,retryLane:0};function Xm(o){return{baseLanes:o,cachePool:null,transitions:null}}function E2(o,d,x){var A=d.pendingProps,P=br.current,R=!1,U=(d.flags&128)!==0,K;if((K=U)||(K=o!==null&&o.memoizedState===null?!1:(P&2)!==0),K?(R=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),tr(br,P&1),o===null)return Em(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=A.children,o=A.fallback,R?(A=d.mode,R=d.child,U={mode:"hidden",children:U},(A&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=Vf(U,A,0,null),o=Bo(o,A,x,null),R.return=d,o.return=d,R.sibling=o,d.child=R,d.child.memoizedState=Xm(x),d.memoizedState=Km,o):Ym(d,U));if(P=o.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return Ok(o,d,U,A,K,P,x);if(R){R=A.fallback,U=d.mode,P=o.child,K=P.sibling;var J={mode:"hidden",children:A.children};return(U&1)===0&&d.child!==P?(A=d.child,A.childLanes=0,A.pendingProps=J,d.deletions=null):(A=Xs(P,J),A.subtreeFlags=P.subtreeFlags&14680064),K!==null?R=Xs(K,R):(R=Bo(R,U,x,null),R.flags|=2),R.return=d,A.return=d,A.sibling=R,d.child=A,A=R,R=d.child,U=o.child.memoizedState,U=U===null?Xm(x):{baseLanes:U.baseLanes|x,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=o.childLanes&~x,d.memoizedState=Km,A}return R=o.child,o=R.sibling,A=Xs(R,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=x),A.return=d,A.sibling=null,o!==null&&(x=d.deletions,x===null?(d.deletions=[o],d.flags|=16):x.push(o)),d.child=A,d.memoizedState=null,A}function Ym(o,d){return d=Vf({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Pf(o,d,x,A){return A!==null&&Am(A),Bl(d,o.child,null,x),o=Ym(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function Ok(o,d,x,A,P,R,U){if(x)return d.flags&256?(d.flags&=-257,A=Vm(Error(r(422))),Pf(o,d,U,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(R=A.fallback,P=d.mode,A=Vf({mode:"visible",children:A.children},P,0,null),R=Bo(R,P,U,null),R.flags|=2,A.return=d,R.return=d,A.sibling=R,d.child=A,(d.mode&1)!==0&&Bl(d,o.child,null,U),d.child.memoizedState=Xm(U),d.memoizedState=Km,R);if((d.mode&1)===0)return Pf(o,d,U,null);if(P.data==="$!"){if(A=P.nextSibling&&P.nextSibling.dataset,A)var K=A.dgst;return A=K,R=Error(r(419)),A=Vm(R,A,void 0),Pf(o,d,U,A)}if(K=(U&o.childLanes)!==0,ei||K){if(A=fn,A!==null){switch(U&-U){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(A.suspendedLanes|U))!==0?0:P,P!==0&&P!==R.retryLane&&(R.retryLane=P,Ya(o,P),ua(A,o,P,-1))}return f1(),A=Vm(Error(r(421))),Pf(o,d,U,A)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=Uk.bind(null,o),P._reactRetry=d,null):(o=R.treeContext,xi=Bs(P.nextSibling),yi=d,fr=!0,sa=null,o!==null&&(Bi[Fi++]=Ka,Bi[Fi++]=Xa,Bi[Fi++]=No,Ka=o.id,Xa=o.overflow,No=d),d=Ym(d,A.children),d.flags|=4096,d)}function A2(o,d,x){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),Om(o.return,d,x)}function Zm(o,d,x,A,P){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:P}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=A,R.tail=x,R.tailMode=P)}function _2(o,d,x){var A=d.pendingProps,P=A.revealOrder,R=A.tail;if(Vn(o,d,A.children,x),A=br.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&A2(o,x,d);else if(o.tag===19)A2(o,x,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(tr(br,A),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(x=d.child,P=null;x!==null;)o=x.alternate,o!==null&&_f(o)===null&&(P=x),x=x.sibling;x=P,x===null?(P=d.child,d.child=null):(P=x.sibling,x.sibling=null),Zm(d,!1,P,x,R);break;case"backwards":for(x=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&_f(o)===null){d.child=P;break}o=P.sibling,P.sibling=x,x=P,P=o}Zm(d,!0,x,null,R);break;case"together":Zm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function kf(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function Qa(o,d,x){if(o!==null&&(d.dependencies=o.dependencies),jo|=d.lanes,(x&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,x=Xs(o,o.pendingProps),d.child=x,x.return=d;o.sibling!==null;)o=o.sibling,x=x.sibling=Xs(o,o.pendingProps),x.return=d;x.sibling=null}return d.child}function Ik(o,d,x){switch(d.tag){case 3:w2(d),Ll();break;case 5:Bb(d);break;case 1:Jn(d.type)&&pf(d);break;case 4:Tm(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,P=d.memoizedProps.value;tr(wf,A._currentValue),A._currentValue=P;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(tr(br,br.current&1),d.flags|=128,null):(x&d.child.childLanes)!==0?E2(o,d,x):(tr(br,br.current&1),o=Qa(o,d,x),o!==null?o.sibling:null);tr(br,br.current&1);break;case 19:if(A=(x&d.childLanes)!==0,(o.flags&128)!==0){if(A)return _2(o,d,x);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),tr(br,br.current),A)break;return null;case 22:case 23:return d.lanes=0,v2(o,d,x)}return Qa(o,d,x)}var S2,Qm,C2,O2;S2=function(o,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Qm=function(){},C2=function(o,d,x,A){var P=o.memoizedProps;if(P!==A){o=d.stateNode,ko(Oa.current);var R=null;switch(x){case"input":P=yt(o,P),A=yt(o,A),R=[];break;case"select":P=we({},P,{value:void 0}),A=we({},A,{value:void 0}),R=[];break;case"textarea":P=ea(o,P),A=ea(o,A),R=[];break;default:typeof P.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=df)}jt(x,A);var U;x=null;for(ge in P)if(!A.hasOwnProperty(ge)&&P.hasOwnProperty(ge)&&P[ge]!=null)if(ge==="style"){var K=P[ge];for(U in K)K.hasOwnProperty(U)&&(x||(x={}),x[U]="")}else ge!=="dangerouslySetInnerHTML"&&ge!=="children"&&ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&ge!=="autoFocus"&&(i.hasOwnProperty(ge)?R||(R=[]):(R=R||[]).push(ge,null));for(ge in A){var J=A[ge];if(K=P?.[ge],A.hasOwnProperty(ge)&&J!==K&&(J!=null||K!=null))if(ge==="style")if(K){for(U in K)!K.hasOwnProperty(U)||J&&J.hasOwnProperty(U)||(x||(x={}),x[U]="");for(U in J)J.hasOwnProperty(U)&&K[U]!==J[U]&&(x||(x={}),x[U]=J[U])}else x||(R||(R=[]),R.push(ge,x)),x=J;else ge==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(R=R||[]).push(ge,J)):ge==="children"?typeof J!="string"&&typeof J!="number"||(R=R||[]).push(ge,""+J):ge!=="suppressContentEditableWarning"&&ge!=="suppressHydrationWarning"&&(i.hasOwnProperty(ge)?(J!=null&&ge==="onScroll"&&ar("scroll",o),R||K===J||(R=[])):(R=R||[]).push(ge,J))}x&&(R=R||[]).push("style",x);var ge=R;(d.updateQueue=ge)&&(d.flags|=4)}},O2=function(o,d,x,A){x!==A&&(d.flags|=4)};function Eu(o,d){if(!fr)switch(o.tailMode){case"hidden":d=o.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function Dn(o){var d=o.alternate!==null&&o.alternate.child===o.child,x=0,A=0;if(d)for(var P=o.child;P!==null;)x|=P.lanes|P.childLanes,A|=P.subtreeFlags&14680064,A|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)x|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=A,o.childLanes=x,d}function Nk(o,d,x){var A=d.pendingProps;switch(wm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(d),null;case 1:return Jn(d.type)&&hf(),Dn(d),null;case 3:return A=d.stateNode,zl(),sr(Qn),sr(jn),Rm(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(yf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,sa!==null&&(c1(sa),sa=null))),Qm(o,d),Dn(d),null;case 5:Pm(d);var P=ko(vu.current);if(x=d.type,o!==null&&d.stateNode!=null)C2(o,d,x,A,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return Dn(d),null}if(o=ko(Oa.current),yf(d)){A=d.stateNode,x=d.type;var R=d.memoizedProps;switch(A[Ca]=d,A[fu]=R,o=(d.mode&1)!==0,x){case"dialog":ar("cancel",A),ar("close",A);break;case"iframe":case"object":case"embed":ar("load",A);break;case"video":case"audio":for(P=0;P<cu.length;P++)ar(cu[P],A);break;case"source":ar("error",A);break;case"img":case"image":case"link":ar("error",A),ar("load",A);break;case"details":ar("toggle",A);break;case"input":Lt(A,R),ar("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!R.multiple},ar("invalid",A);break;case"textarea":ta(A,R),ar("invalid",A)}jt(x,R),P=null;for(var U in R)if(R.hasOwnProperty(U)){var K=R[U];U==="children"?typeof K=="string"?A.textContent!==K&&(R.suppressHydrationWarning!==!0&&uf(A.textContent,K,o),P=["children",K]):typeof K=="number"&&A.textContent!==""+K&&(R.suppressHydrationWarning!==!0&&uf(A.textContent,K,o),P=["children",""+K]):i.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&ar("scroll",A)}switch(x){case"input":Be(A),Ot(A,R,!0);break;case"textarea":Be(A),pt(A);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(A.onclick=df)}A=P,d.updateQueue=A,A!==null&&(d.flags|=4)}else{U=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=dt(x)),o==="http://www.w3.org/1999/xhtml"?x==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=U.createElement(x,{is:A.is}):(o=U.createElement(x),x==="select"&&(U=o,A.multiple?U.multiple=!0:A.size&&(U.size=A.size))):o=U.createElementNS(o,x),o[Ca]=d,o[fu]=A,S2(o,d,!1,!1),d.stateNode=o;e:{switch(U=Zt(x,A),x){case"dialog":ar("cancel",o),ar("close",o),P=A;break;case"iframe":case"object":case"embed":ar("load",o),P=A;break;case"video":case"audio":for(P=0;P<cu.length;P++)ar(cu[P],o);P=A;break;case"source":ar("error",o),P=A;break;case"img":case"image":case"link":ar("error",o),ar("load",o),P=A;break;case"details":ar("toggle",o),P=A;break;case"input":Lt(o,A),P=yt(o,A),ar("invalid",o);break;case"option":P=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},P=we({},A,{value:void 0}),ar("invalid",o);break;case"textarea":ta(o,A),P=ea(o,A),ar("invalid",o);break;default:P=A}jt(x,P),K=P;for(R in K)if(K.hasOwnProperty(R)){var J=K[R];R==="style"?je(o,J):R==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&ur(o,J)):R==="children"?typeof J=="string"?(x!=="textarea"||J!=="")&&Ss(o,J):typeof J=="number"&&Ss(o,""+J):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?J!=null&&R==="onScroll"&&ar("scroll",o):J!=null&&j(o,R,J,U))}switch(x){case"input":Be(o),Ot(o,A,!1);break;case"textarea":Be(o),pt(o);break;case"option":A.value!=null&&o.setAttribute("value",""+Z(A.value));break;case"select":o.multiple=!!A.multiple,R=A.value,R!=null?Ue(o,!!A.multiple,R,!1):A.defaultValue!=null&&Ue(o,!!A.multiple,A.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=df)}switch(x){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Dn(d),null;case 6:if(o&&d.stateNode!=null)O2(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(x=ko(vu.current),ko(Oa.current),yf(d)){if(A=d.stateNode,x=d.memoizedProps,A[Ca]=d,(R=A.nodeValue!==x)&&(o=yi,o!==null))switch(o.tag){case 3:uf(A.nodeValue,x,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&uf(A.nodeValue,x,(o.mode&1)!==0)}R&&(d.flags|=4)}else A=(x.nodeType===9?x:x.ownerDocument).createTextNode(A),A[Ca]=d,d.stateNode=A}return Dn(d),null;case 13:if(sr(br),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(fr&&xi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Tb(),Ll(),d.flags|=98560,R=!1;else if(R=yf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Ca]=d}else Ll(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Dn(d),R=!1}else sa!==null&&(c1(sa),sa=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=x,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(br.current&1)!==0?rn===0&&(rn=3):f1())),d.updateQueue!==null&&(d.flags|=4),Dn(d),null);case 4:return zl(),Qm(o,d),o===null&&uu(d.stateNode.containerInfo),Dn(d),null;case 10:return Cm(d.type._context),Dn(d),null;case 17:return Jn(d.type)&&hf(),Dn(d),null;case 19:if(sr(br),R=d.memoizedState,R===null)return Dn(d),null;if(A=(d.flags&128)!==0,U=R.rendering,U===null)if(A)Eu(R,!1);else{if(rn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=_f(o),U!==null){for(d.flags|=128,Eu(R,!1),A=U.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=x,x=d.child;x!==null;)R=x,o=A,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,o=U.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),x=x.sibling;return tr(br,br.current&1|2),d.child}o=o.sibling}R.tail!==null&&Bt()>Hl&&(d.flags|=128,A=!0,Eu(R,!1),d.lanes=4194304)}else{if(!A)if(o=_f(U),o!==null){if(d.flags|=128,A=!0,x=o.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),Eu(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!fr)return Dn(d),null}else 2*Bt()-R.renderingStartTime>Hl&&x!==1073741824&&(d.flags|=128,A=!0,Eu(R,!1),d.lanes=4194304);R.isBackwards?(U.sibling=d.child,d.child=U):(x=R.last,x!==null?x.sibling=U:d.child=U,R.last=U)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=Bt(),d.sibling=null,x=br.current,tr(br,A?x&1|2:x&1),d):(Dn(d),null);case 22:case 23:return d1(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(wi&1073741824)!==0&&(Dn(d),d.subtreeFlags&6&&(d.flags|=8192)):Dn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function Tk(o,d){switch(wm(d),d.tag){case 1:return Jn(d.type)&&hf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return zl(),sr(Qn),sr(jn),Rm(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Pm(d),null;case 13:if(sr(br),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Ll()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return sr(br),null;case 4:return zl(),null;case 10:return Cm(d.type._context),null;case 22:case 23:return d1(),null;case 24:return null;default:return null}}var Rf=!1,Ln=!1,Pk=typeof WeakSet=="function"?WeakSet:Set,He=null;function Wl(o,d){var x=o.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(A){Or(o,d,A)}else x.current=null}function Jm(o,d,x){try{x()}catch(A){Or(o,d,A)}}var I2=!1;function kk(o,d){if(dm=_a,o=bt(),ht(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var P=A.anchorOffset,R=A.focusNode;A=A.focusOffset;try{x.nodeType,R.nodeType}catch{x=null;break e}var U=0,K=-1,J=-1,ge=0,Oe=0,Ne=o,Se=null;t:for(;;){for(var $e;Ne!==x||P!==0&&Ne.nodeType!==3||(K=U+P),Ne!==R||A!==0&&Ne.nodeType!==3||(J=U+A),Ne.nodeType===3&&(U+=Ne.nodeValue.length),($e=Ne.firstChild)!==null;)Se=Ne,Ne=$e;for(;;){if(Ne===o)break t;if(Se===x&&++ge===P&&(K=U),Se===R&&++Oe===A&&(J=U),($e=Ne.nextSibling)!==null)break;Ne=Se,Se=Ne.parentNode}Ne=$e}x=K===-1||J===-1?null:{start:K,end:J}}else x=null}x=x||{start:0,end:0}}else x=null;for(fm={focusedElem:o,selectionRange:x},_a=!1,He=d;He!==null;)if(d=He,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,He=o;else for(;He!==null;){d=He;try{var Ke=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ke!==null){var Ye=Ke.memoizedProps,Dr=Ke.memoizedState,oe=d.stateNode,re=oe.getSnapshotBeforeUpdate(d.elementType===d.type?Ye:oa(d.type,Ye),Dr);oe.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var ce=d.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Re){Or(d,d.return,Re)}if(o=d.sibling,o!==null){o.return=d.return,He=o;break}He=d.return}return Ke=I2,I2=!1,Ke}function Au(o,d,x){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var P=A=A.next;do{if((P.tag&o)===o){var R=P.destroy;P.destroy=void 0,R!==void 0&&Jm(d,x,R)}P=P.next}while(P!==A)}}function jf(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&o)===o){var A=x.create;x.destroy=A()}x=x.next}while(x!==d)}}function e1(o){var d=o.ref;if(d!==null){var x=o.stateNode;switch(o.tag){case 5:o=x;break;default:o=x}typeof d=="function"?d(o):d.current=o}}function N2(o){var d=o.alternate;d!==null&&(o.alternate=null,N2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Ca],delete d[fu],delete d[gm],delete d[pk],delete d[mk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function T2(o){return o.tag===5||o.tag===3||o.tag===4}function P2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||T2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function t1(o,d,x){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?x.nodeType===8?x.parentNode.insertBefore(o,d):x.insertBefore(o,d):(x.nodeType===8?(d=x.parentNode,d.insertBefore(o,x)):(d=x,d.appendChild(o)),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=df));else if(A!==4&&(o=o.child,o!==null))for(t1(o,d,x),o=o.sibling;o!==null;)t1(o,d,x),o=o.sibling}function r1(o,d,x){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?x.insertBefore(o,d):x.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(r1(o,d,x),o=o.sibling;o!==null;)r1(o,d,x),o=o.sibling}var An=null,la=!1;function Vs(o,d,x){for(x=x.child;x!==null;)k2(o,d,x),x=x.sibling}function k2(o,d,x){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(It,x)}catch{}switch(x.tag){case 5:Ln||Wl(x,d);case 6:var A=An,P=la;An=null,Vs(o,d,x),An=A,la=P,An!==null&&(la?(o=An,x=x.stateNode,o.nodeType===8?o.parentNode.removeChild(x):o.removeChild(x)):An.removeChild(x.stateNode));break;case 18:An!==null&&(la?(o=An,x=x.stateNode,o.nodeType===8?mm(o.parentNode,x):o.nodeType===1&&mm(o,x),na(o)):mm(An,x.stateNode));break;case 4:A=An,P=la,An=x.stateNode.containerInfo,la=!0,Vs(o,d,x),An=A,la=P;break;case 0:case 11:case 14:case 15:if(!Ln&&(A=x.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){P=A=A.next;do{var R=P,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&Jm(x,d,U),P=P.next}while(P!==A)}Vs(o,d,x);break;case 1:if(!Ln&&(Wl(x,d),A=x.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=x.memoizedProps,A.state=x.memoizedState,A.componentWillUnmount()}catch(K){Or(x,d,K)}Vs(o,d,x);break;case 21:Vs(o,d,x);break;case 22:x.mode&1?(Ln=(A=Ln)||x.memoizedState!==null,Vs(o,d,x),Ln=A):Vs(o,d,x);break;default:Vs(o,d,x)}}function R2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var x=o.stateNode;x===null&&(x=o.stateNode=new Pk),d.forEach(function(A){var P=zk.bind(null,o,A);x.has(A)||(x.add(A),A.then(P,P))})}}function ca(o,d){var x=d.deletions;if(x!==null)for(var A=0;A<x.length;A++){var P=x[A];try{var R=o,U=d,K=U;e:for(;K!==null;){switch(K.tag){case 5:An=K.stateNode,la=!1;break e;case 3:An=K.stateNode.containerInfo,la=!0;break e;case 4:An=K.stateNode.containerInfo,la=!0;break e}K=K.return}if(An===null)throw Error(r(160));k2(R,U,P),An=null,la=!1;var J=P.alternate;J!==null&&(J.return=null),P.return=null}catch(ge){Or(P,d,ge)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)j2(d,o),d=d.sibling}function j2(o,d){var x=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ca(d,o),Na(o),A&4){try{Au(3,o,o.return),jf(3,o)}catch(Ye){Or(o,o.return,Ye)}try{Au(5,o,o.return)}catch(Ye){Or(o,o.return,Ye)}}break;case 1:ca(d,o),Na(o),A&512&&x!==null&&Wl(x,x.return);break;case 5:if(ca(d,o),Na(o),A&512&&x!==null&&Wl(x,x.return),o.flags&32){var P=o.stateNode;try{Ss(P,"")}catch(Ye){Or(o,o.return,Ye)}}if(A&4&&(P=o.stateNode,P!=null)){var R=o.memoizedProps,U=x!==null?x.memoizedProps:R,K=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{K==="input"&&R.type==="radio"&&R.name!=null&&Yt(P,R),Zt(K,U);var ge=Zt(K,R);for(U=0;U<J.length;U+=2){var Oe=J[U],Ne=J[U+1];Oe==="style"?je(P,Ne):Oe==="dangerouslySetInnerHTML"?ur(P,Ne):Oe==="children"?Ss(P,Ne):j(P,Oe,Ne,ge)}switch(K){case"input":xt(P,R);break;case"textarea":$n(P,R);break;case"select":var Se=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!R.multiple;var $e=R.value;$e!=null?Ue(P,!!R.multiple,$e,!1):Se!==!!R.multiple&&(R.defaultValue!=null?Ue(P,!!R.multiple,R.defaultValue,!0):Ue(P,!!R.multiple,R.multiple?[]:"",!1))}P[fu]=R}catch(Ye){Or(o,o.return,Ye)}}break;case 6:if(ca(d,o),Na(o),A&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,R=o.memoizedProps;try{P.nodeValue=R}catch(Ye){Or(o,o.return,Ye)}}break;case 3:if(ca(d,o),Na(o),A&4&&x!==null&&x.memoizedState.isDehydrated)try{na(d.containerInfo)}catch(Ye){Or(o,o.return,Ye)}break;case 4:ca(d,o),Na(o);break;case 13:ca(d,o),Na(o),P=o.child,P.flags&8192&&(R=P.memoizedState!==null,P.stateNode.isHidden=R,!R||P.alternate!==null&&P.alternate.memoizedState!==null||(a1=Bt())),A&4&&R2(o);break;case 22:if(Oe=x!==null&&x.memoizedState!==null,o.mode&1?(Ln=(ge=Ln)||Oe,ca(d,o),Ln=ge):ca(d,o),Na(o),A&8192){if(ge=o.memoizedState!==null,(o.stateNode.isHidden=ge)&&!Oe&&(o.mode&1)!==0)for(He=o,Oe=o.child;Oe!==null;){for(Ne=He=Oe;He!==null;){switch(Se=He,$e=Se.child,Se.tag){case 0:case 11:case 14:case 15:Au(4,Se,Se.return);break;case 1:Wl(Se,Se.return);var Ke=Se.stateNode;if(typeof Ke.componentWillUnmount=="function"){A=Se,x=Se.return;try{d=A,Ke.props=d.memoizedProps,Ke.state=d.memoizedState,Ke.componentWillUnmount()}catch(Ye){Or(A,x,Ye)}}break;case 5:Wl(Se,Se.return);break;case 22:if(Se.memoizedState!==null){L2(Ne);continue}}$e!==null?($e.return=Se,He=$e):L2(Ne)}Oe=Oe.sibling}e:for(Oe=null,Ne=o;;){if(Ne.tag===5){if(Oe===null){Oe=Ne;try{P=Ne.stateNode,ge?(R=P.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(K=Ne.stateNode,J=Ne.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=xr("display",U))}catch(Ye){Or(o,o.return,Ye)}}}else if(Ne.tag===6){if(Oe===null)try{Ne.stateNode.nodeValue=ge?"":Ne.memoizedProps}catch(Ye){Or(o,o.return,Ye)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===o)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===o)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===o)break e;Oe===Ne&&(Oe=null),Ne=Ne.return}Oe===Ne&&(Oe=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:ca(d,o),Na(o),A&4&&R2(o);break;case 21:break;default:ca(d,o),Na(o)}}function Na(o){var d=o.flags;if(d&2){try{e:{for(var x=o.return;x!==null;){if(T2(x)){var A=x;break e}x=x.return}throw Error(r(160))}switch(A.tag){case 5:var P=A.stateNode;A.flags&32&&(Ss(P,""),A.flags&=-33);var R=P2(o);r1(o,R,P);break;case 3:case 4:var U=A.stateNode.containerInfo,K=P2(o);t1(o,K,U);break;default:throw Error(r(161))}}catch(J){Or(o,o.return,J)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function Rk(o,d,x){He=o,M2(o)}function M2(o,d,x){for(var A=(o.mode&1)!==0;He!==null;){var P=He,R=P.child;if(P.tag===22&&A){var U=P.memoizedState!==null||Rf;if(!U){var K=P.alternate,J=K!==null&&K.memoizedState!==null||Ln;K=Rf;var ge=Ln;if(Rf=U,(Ln=J)&&!ge)for(He=P;He!==null;)U=He,J=U.child,U.tag===22&&U.memoizedState!==null?B2(P):J!==null?(J.return=U,He=J):B2(P);for(;R!==null;)He=R,M2(R),R=R.sibling;He=P,Rf=K,Ln=ge}D2(o)}else(P.subtreeFlags&8772)!==0&&R!==null?(R.return=P,He=R):D2(o)}}function D2(o){for(;He!==null;){var d=He;if((d.flags&8772)!==0){var x=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ln||jf(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!Ln)if(x===null)A.componentDidMount();else{var P=d.elementType===d.type?x.memoizedProps:oa(d.type,x.memoizedProps);A.componentDidUpdate(P,x.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&Lb(d,R,A);break;case 3:var U=d.updateQueue;if(U!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=d.child.stateNode;break;case 1:x=d.child.stateNode}Lb(d,U,x)}break;case 5:var K=d.stateNode;if(x===null&&d.flags&4){x=K;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&x.focus();break;case"img":J.src&&(x.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ge=d.alternate;if(ge!==null){var Oe=ge.memoizedState;if(Oe!==null){var Ne=Oe.dehydrated;Ne!==null&&na(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ln||d.flags&512&&e1(d)}catch(Se){Or(d,d.return,Se)}}if(d===o){He=null;break}if(x=d.sibling,x!==null){x.return=d.return,He=x;break}He=d.return}}function L2(o){for(;He!==null;){var d=He;if(d===o){He=null;break}var x=d.sibling;if(x!==null){x.return=d.return,He=x;break}He=d.return}}function B2(o){for(;He!==null;){var d=He;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{jf(4,d)}catch(J){Or(d,x,J)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var P=d.return;try{A.componentDidMount()}catch(J){Or(d,P,J)}}var R=d.return;try{e1(d)}catch(J){Or(d,R,J)}break;case 5:var U=d.return;try{e1(d)}catch(J){Or(d,U,J)}}}catch(J){Or(d,d.return,J)}if(d===o){He=null;break}var K=d.sibling;if(K!==null){K.return=d.return,He=K;break}He=d.return}}var jk=Math.ceil,Mf=z.ReactCurrentDispatcher,n1=z.ReactCurrentOwner,$i=z.ReactCurrentBatchConfig,Tt=0,fn=null,$r=null,_n=0,wi=0,Vl=Fs(0),rn=0,_u=null,jo=0,Df=0,i1=0,Su=null,ti=null,a1=0,Hl=1/0,Ja=null,Lf=!1,s1=null,Hs=null,Bf=!1,Gs=null,Ff=0,Cu=0,o1=null,Uf=-1,zf=0;function Hn(){return(Tt&6)!==0?Bt():Uf!==-1?Uf:Uf=Bt()}function qs(o){return(o.mode&1)===0?1:(Tt&2)!==0&&_n!==0?_n&-_n:vk.transition!==null?(zf===0&&(zf=Zr()),zf):(o=vt,o!==0||(o=window.event,o=o===void 0?16:Jc(o.type)),o)}function ua(o,d,x,A){if(50<Cu)throw Cu=0,o1=null,Error(r(185));G(o,x,A),((Tt&2)===0||o!==fn)&&(o===fn&&((Tt&2)===0&&(Df|=x),rn===4&&Ks(o,_n)),ri(o,A),x===1&&Tt===0&&(d.mode&1)===0&&(Hl=Bt()+500,mf&&zs()))}function ri(o,d){var x=o.callbackNode;Is(o,d);var A=pi(o,o===fn?_n:0);if(A===0)x!==null&&cn(x),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(x!=null&&cn(x),d===1)o.tag===0?gk(U2.bind(null,o)):Sb(U2.bind(null,o)),fk(function(){(Tt&6)===0&&zs()}),x=null;else{switch(Xd(A)){case 1:x=be;break;case 4:x=qd;break;case 16:x=Ht;break;case 536870912:x=Kd;break;default:x=Ht}x=K2(x,F2.bind(null,o))}o.callbackPriority=d,o.callbackNode=x}}function F2(o,d){if(Uf=-1,zf=0,(Tt&6)!==0)throw Error(r(327));var x=o.callbackNode;if(Gl()&&o.callbackNode!==x)return null;var A=pi(o,o===fn?_n:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=$f(o,A);else{d=A;var P=Tt;Tt|=2;var R=$2();(fn!==o||_n!==d)&&(Ja=null,Hl=Bt()+500,Do(o,d));do try{Lk();break}catch(K){z2(o,K)}while(!0);Sm(),Mf.current=R,Tt=P,$r!==null?d=0:(fn=null,_n=0,d=rn)}if(d!==0){if(d===2&&(P=Ft(o),P!==0&&(A=P,d=l1(o,P))),d===1)throw x=_u,Do(o,0),Ks(o,A),ri(o,Bt()),x;if(d===6)Ks(o,A);else{if(P=o.current.alternate,(A&30)===0&&!Mk(P)&&(d=$f(o,A),d===2&&(R=Ft(o),R!==0&&(A=R,d=l1(o,R))),d===1))throw x=_u,Do(o,0),Ks(o,A),ri(o,Bt()),x;switch(o.finishedWork=P,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:Lo(o,ti,Ja);break;case 3:if(Ks(o,A),(A&130023424)===A&&(d=a1+500-Bt(),10<d)){if(pi(o,0)!==0)break;if(P=o.suspendedLanes,(P&A)!==A){Hn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=pm(Lo.bind(null,o,ti,Ja),d);break}Lo(o,ti,Ja);break;case 4:if(Ks(o,A),(A&4194240)===A)break;for(d=o.eventTimes,P=-1;0<A;){var U=31-Wn(A);R=1<<U,U=d[U],U>P&&(P=U),A&=~R}if(A=P,A=Bt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*jk(A/1960))-A,10<A){o.timeoutHandle=pm(Lo.bind(null,o,ti,Ja),A);break}Lo(o,ti,Ja);break;case 5:Lo(o,ti,Ja);break;default:throw Error(r(329))}}}return ri(o,Bt()),o.callbackNode===x?F2.bind(null,o):null}function l1(o,d){var x=Su;return o.current.memoizedState.isDehydrated&&(Do(o,d).flags|=256),o=$f(o,d),o!==2&&(d=ti,ti=x,d!==null&&c1(d)),o}function c1(o){ti===null?ti=o:ti.push.apply(ti,o)}function Mk(o){for(var d=o;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var A=0;A<x.length;A++){var P=x[A],R=P.getSnapshot;P=P.value;try{if(!ae(R(),P))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ks(o,d){for(d&=~i1,d&=~Df,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var x=31-Wn(d),A=1<<x;o[x]=-1,d&=~A}}function U2(o){if((Tt&6)!==0)throw Error(r(327));Gl();var d=pi(o,0);if((d&1)===0)return ri(o,Bt()),null;var x=$f(o,d);if(o.tag!==0&&x===2){var A=Ft(o);A!==0&&(d=A,x=l1(o,A))}if(x===1)throw x=_u,Do(o,0),Ks(o,d),ri(o,Bt()),x;if(x===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Lo(o,ti,Ja),ri(o,Bt()),null}function u1(o,d){var x=Tt;Tt|=1;try{return o(d)}finally{Tt=x,Tt===0&&(Hl=Bt()+500,mf&&zs())}}function Mo(o){Gs!==null&&Gs.tag===0&&(Tt&6)===0&&Gl();var d=Tt;Tt|=1;var x=$i.transition,A=vt;try{if($i.transition=null,vt=1,o)return o()}finally{vt=A,$i.transition=x,Tt=d,(Tt&6)===0&&zs()}}function d1(){wi=Vl.current,sr(Vl)}function Do(o,d){o.finishedWork=null,o.finishedLanes=0;var x=o.timeoutHandle;if(x!==-1&&(o.timeoutHandle=-1,dk(x)),$r!==null)for(x=$r.return;x!==null;){var A=x;switch(wm(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&hf();break;case 3:zl(),sr(Qn),sr(jn),Rm();break;case 5:Pm(A);break;case 4:zl();break;case 13:sr(br);break;case 19:sr(br);break;case 10:Cm(A.type._context);break;case 22:case 23:d1()}x=x.return}if(fn=o,$r=o=Xs(o.current,null),_n=wi=d,rn=0,_u=null,i1=Df=jo=0,ti=Su=null,Po!==null){for(d=0;d<Po.length;d++)if(x=Po[d],A=x.interleaved,A!==null){x.interleaved=null;var P=A.next,R=x.pending;if(R!==null){var U=R.next;R.next=P,A.next=U}x.pending=A}Po=null}return o}function z2(o,d){do{var x=$r;try{if(Sm(),Sf.current=Nf,Cf){for(var A=Er.memoizedState;A!==null;){var P=A.queue;P!==null&&(P.pending=null),A=A.next}Cf=!1}if(Ro=0,dn=tn=Er=null,yu=!1,xu=0,n1.current=null,x===null||x.return===null){rn=1,_u=d,$r=null;break}e:{var R=o,U=x.return,K=x,J=d;if(d=_n,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ge=J,Oe=K,Ne=Oe.tag;if((Oe.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Se=Oe.alternate;Se?(Oe.updateQueue=Se.updateQueue,Oe.memoizedState=Se.memoizedState,Oe.lanes=Se.lanes):(Oe.updateQueue=null,Oe.memoizedState=null)}var $e=f2(U);if($e!==null){$e.flags&=-257,h2($e,U,K,R,d),$e.mode&1&&d2(R,ge,d),d=$e,J=ge;var Ke=d.updateQueue;if(Ke===null){var Ye=new Set;Ye.add(J),d.updateQueue=Ye}else Ke.add(J);break e}else{if((d&1)===0){d2(R,ge,d),f1();break e}J=Error(r(426))}}else if(fr&&K.mode&1){var Dr=f2(U);if(Dr!==null){(Dr.flags&65536)===0&&(Dr.flags|=256),h2(Dr,U,K,R,d),Am($l(J,K));break e}}R=J=$l(J,K),rn!==4&&(rn=2),Su===null?Su=[R]:Su.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var oe=c2(R,J,d);Db(R,oe);break e;case 1:K=J;var re=R.type,ce=R.stateNode;if((R.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Hs===null||!Hs.has(ce)))){R.flags|=65536,d&=-d,R.lanes|=d;var Re=u2(R,K,d);Db(R,Re);break e}}R=R.return}while(R!==null)}V2(x)}catch(Qe){d=Qe,$r===x&&x!==null&&($r=x=x.return);continue}break}while(!0)}function $2(){var o=Mf.current;return Mf.current=Nf,o===null?Nf:o}function f1(){(rn===0||rn===3||rn===2)&&(rn=4),fn===null||(jo&268435455)===0&&(Df&268435455)===0||Ks(fn,_n)}function $f(o,d){var x=Tt;Tt|=2;var A=$2();(fn!==o||_n!==d)&&(Ja=null,Do(o,d));do try{Dk();break}catch(P){z2(o,P)}while(!0);if(Sm(),Tt=x,Mf.current=A,$r!==null)throw Error(r(261));return fn=null,_n=0,rn}function Dk(){for(;$r!==null;)W2($r)}function Lk(){for(;$r!==null&&!Qt();)W2($r)}function W2(o){var d=q2(o.alternate,o,wi);o.memoizedProps=o.pendingProps,d===null?V2(o):$r=d,n1.current=null}function V2(o){var d=o;do{var x=d.alternate;if(o=d.return,(d.flags&32768)===0){if(x=Nk(x,d,wi),x!==null){$r=x;return}}else{if(x=Tk(x,d),x!==null){x.flags&=32767,$r=x;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{rn=6,$r=null;return}}if(d=d.sibling,d!==null){$r=d;return}$r=d=o}while(d!==null);rn===0&&(rn=5)}function Lo(o,d,x){var A=vt,P=$i.transition;try{$i.transition=null,vt=1,Bk(o,d,x,A)}finally{$i.transition=P,vt=A}return null}function Bk(o,d,x,A){do Gl();while(Gs!==null);if((Tt&6)!==0)throw Error(r(327));x=o.finishedWork;var P=o.finishedLanes;if(x===null)return null;if(o.finishedWork=null,o.finishedLanes=0,x===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=x.lanes|x.childLanes;if(et(o,R),o===fn&&($r=fn=null,_n=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Bf||(Bf=!0,K2(Ht,function(){return Gl(),null})),R=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||R){R=$i.transition,$i.transition=null;var U=vt;vt=1;var K=Tt;Tt|=4,n1.current=null,kk(o,x),j2(x,o),Rn(fm),_a=!!dm,fm=dm=null,o.current=x,Rk(x),Gd(),Tt=K,vt=U,$i.transition=R}else o.current=x;if(Bf&&(Bf=!1,Gs=o,Ff=P),R=o.pendingLanes,R===0&&(Hs=null),_t(x.stateNode),ri(o,Bt()),d!==null)for(A=o.onRecoverableError,x=0;x<d.length;x++)P=d[x],A(P.value,{componentStack:P.stack,digest:P.digest});if(Lf)throw Lf=!1,o=s1,s1=null,o;return(Ff&1)!==0&&o.tag!==0&&Gl(),R=o.pendingLanes,(R&1)!==0?o===o1?Cu++:(Cu=0,o1=o):Cu=0,zs(),null}function Gl(){if(Gs!==null){var o=Xd(Ff),d=$i.transition,x=vt;try{if($i.transition=null,vt=16>o?16:o,Gs===null)var A=!1;else{if(o=Gs,Gs=null,Ff=0,(Tt&6)!==0)throw Error(r(331));var P=Tt;for(Tt|=4,He=o.current;He!==null;){var R=He,U=R.child;if((He.flags&16)!==0){var K=R.deletions;if(K!==null){for(var J=0;J<K.length;J++){var ge=K[J];for(He=ge;He!==null;){var Oe=He;switch(Oe.tag){case 0:case 11:case 15:Au(8,Oe,R)}var Ne=Oe.child;if(Ne!==null)Ne.return=Oe,He=Ne;else for(;He!==null;){Oe=He;var Se=Oe.sibling,$e=Oe.return;if(N2(Oe),Oe===ge){He=null;break}if(Se!==null){Se.return=$e,He=Se;break}He=$e}}}var Ke=R.alternate;if(Ke!==null){var Ye=Ke.child;if(Ye!==null){Ke.child=null;do{var Dr=Ye.sibling;Ye.sibling=null,Ye=Dr}while(Ye!==null)}}He=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,He=U;else e:for(;He!==null;){if(R=He,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:Au(9,R,R.return)}var oe=R.sibling;if(oe!==null){oe.return=R.return,He=oe;break e}He=R.return}}var re=o.current;for(He=re;He!==null;){U=He;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,He=ce;else e:for(U=re;He!==null;){if(K=He,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:jf(9,K)}}catch(Qe){Or(K,K.return,Qe)}if(K===U){He=null;break e}var Re=K.sibling;if(Re!==null){Re.return=K.return,He=Re;break e}He=K.return}}if(Tt=P,zs(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(It,o)}catch{}A=!0}return A}finally{vt=x,$i.transition=d}}return!1}function H2(o,d,x){d=$l(x,d),d=c2(o,d,1),o=Ws(o,d,1),d=Hn(),o!==null&&(G(o,1,d),ri(o,d))}function Or(o,d,x){if(o.tag===3)H2(o,o,x);else for(;d!==null;){if(d.tag===3){H2(d,o,x);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Hs===null||!Hs.has(A))){o=$l(x,o),o=u2(d,o,1),d=Ws(d,o,1),o=Hn(),d!==null&&(G(d,1,o),ri(d,o));break}}d=d.return}}function Fk(o,d,x){var A=o.pingCache;A!==null&&A.delete(d),d=Hn(),o.pingedLanes|=o.suspendedLanes&x,fn===o&&(_n&x)===x&&(rn===4||rn===3&&(_n&130023424)===_n&&500>Bt()-a1?Do(o,0):i1|=x),ri(o,d)}function G2(o,d){d===0&&((o.mode&1)===0?d=1:(d=El,El<<=1,(El&130023424)===0&&(El=4194304)));var x=Hn();o=Ya(o,d),o!==null&&(G(o,d,x),ri(o,x))}function Uk(o){var d=o.memoizedState,x=0;d!==null&&(x=d.retryLane),G2(o,x)}function zk(o,d){var x=0;switch(o.tag){case 13:var A=o.stateNode,P=o.memoizedState;P!==null&&(x=P.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),G2(o,x)}var q2;q2=function(o,d,x){if(o!==null)if(o.memoizedProps!==d.pendingProps||Qn.current)ei=!0;else{if((o.lanes&x)===0&&(d.flags&128)===0)return ei=!1,Ik(o,d,x);ei=(o.flags&131072)!==0}else ei=!1,fr&&(d.flags&1048576)!==0&&Cb(d,vf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;kf(o,d),o=d.pendingProps;var P=jl(d,jn.current);Ul(d,x),P=Dm(null,d,A,o,P,x);var R=Lm();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Jn(A)?(R=!0,pf(d)):R=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Nm(d),P.updater=Tf,d.stateNode=P,P._reactInternals=d,Wm(d,A,o,x),d=qm(null,d,A,!0,R,x)):(d.tag=0,fr&&R&&xm(d),Vn(null,d,P,x),d=d.child),d;case 16:A=d.elementType;e:{switch(kf(o,d),o=d.pendingProps,P=A._init,A=P(A._payload),d.type=A,P=d.tag=Wk(A),o=oa(A,o),P){case 0:d=Gm(null,d,A,o,x);break e;case 1:d=x2(null,d,A,o,x);break e;case 11:d=p2(null,d,A,o,x);break e;case 14:d=m2(null,d,A,oa(A.type,o),x);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:oa(A,P),Gm(o,d,A,P,x);case 1:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:oa(A,P),x2(o,d,A,P,x);case 3:e:{if(w2(d),o===null)throw Error(r(387));A=d.pendingProps,R=d.memoizedState,P=R.element,Mb(o,d),Af(d,A,null,x);var U=d.memoizedState;if(A=U.element,R.isDehydrated)if(R={element:A,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){P=$l(Error(r(423)),d),d=b2(o,d,A,x,P);break e}else if(A!==P){P=$l(Error(r(424)),d),d=b2(o,d,A,x,P);break e}else for(xi=Bs(d.stateNode.containerInfo.firstChild),yi=d,fr=!0,sa=null,x=Rb(d,null,A,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ll(),A===P){d=Qa(o,d,x);break e}Vn(o,d,A,x)}d=d.child}return d;case 5:return Bb(d),o===null&&Em(d),A=d.type,P=d.pendingProps,R=o!==null?o.memoizedProps:null,U=P.children,hm(A,P)?U=null:R!==null&&hm(A,R)&&(d.flags|=32),y2(o,d),Vn(o,d,U,x),d.child;case 6:return o===null&&Em(d),null;case 13:return E2(o,d,x);case 4:return Tm(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=Bl(d,null,A,x):Vn(o,d,A,x),d.child;case 11:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:oa(A,P),p2(o,d,A,P,x);case 7:return Vn(o,d,d.pendingProps,x),d.child;case 8:return Vn(o,d,d.pendingProps.children,x),d.child;case 12:return Vn(o,d,d.pendingProps.children,x),d.child;case 10:e:{if(A=d.type._context,P=d.pendingProps,R=d.memoizedProps,U=P.value,tr(wf,A._currentValue),A._currentValue=U,R!==null)if(ae(R.value,U)){if(R.children===P.children&&!Qn.current){d=Qa(o,d,x);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var K=R.dependencies;if(K!==null){U=R.child;for(var J=K.firstContext;J!==null;){if(J.context===A){if(R.tag===1){J=Za(-1,x&-x),J.tag=2;var ge=R.updateQueue;if(ge!==null){ge=ge.shared;var Oe=ge.pending;Oe===null?J.next=J:(J.next=Oe.next,Oe.next=J),ge.pending=J}}R.lanes|=x,J=R.alternate,J!==null&&(J.lanes|=x),Om(R.return,x,d),K.lanes|=x;break}J=J.next}}else if(R.tag===10)U=R.type===d.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=x,K=U.alternate,K!==null&&(K.lanes|=x),Om(U,x,d),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===d){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}Vn(o,d,P.children,x),d=d.child}return d;case 9:return P=d.type,A=d.pendingProps.children,Ul(d,x),P=Ui(P),A=A(P),d.flags|=1,Vn(o,d,A,x),d.child;case 14:return A=d.type,P=oa(A,d.pendingProps),P=oa(A.type,P),m2(o,d,A,P,x);case 15:return g2(o,d,d.type,d.pendingProps,x);case 17:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:oa(A,P),kf(o,d),d.tag=1,Jn(A)?(o=!0,pf(d)):o=!1,Ul(d,x),o2(d,A,P),Wm(d,A,P,x),qm(null,d,A,!0,o,x);case 19:return _2(o,d,x);case 22:return v2(o,d,x)}throw Error(r(156,d.tag))};function K2(o,d){return fi(o,d)}function $k(o,d,x,A){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(o,d,x,A){return new $k(o,d,x,A)}function h1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Wk(o){if(typeof o=="function")return h1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===fe)return 11;if(o===ne)return 14}return 2}function Xs(o,d){var x=o.alternate;return x===null?(x=Wi(o.tag,d,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=d,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&14680064,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,d=o.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x}function Wf(o,d,x,A,P,R){var U=2;if(A=o,typeof o=="function")h1(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case H:return Bo(x.children,P,R,d);case ie:U=8,P|=8;break;case X:return o=Wi(12,x,d,P|2),o.elementType=X,o.lanes=R,o;case Ee:return o=Wi(13,x,d,P),o.elementType=Ee,o.lanes=R,o;case ke:return o=Wi(19,x,d,P),o.elementType=ke,o.lanes=R,o;case le:return Vf(x,P,R,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case _e:U=10;break e;case me:U=9;break e;case fe:U=11;break e;case ne:U=14;break e;case Le:U=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=Wi(U,x,d,P),d.elementType=o,d.type=A,d.lanes=R,d}function Bo(o,d,x,A){return o=Wi(7,o,A,d),o.lanes=x,o}function Vf(o,d,x,A){return o=Wi(22,o,A,d),o.elementType=le,o.lanes=x,o.stateNode={isHidden:!1},o}function p1(o,d,x){return o=Wi(6,o,null,d),o.lanes=x,o}function m1(o,d,x){return d=Wi(4,o.children!==null?o.children:[],o.key,d),d.lanes=x,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function Vk(o,d,x,A,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=se(0),this.expirationTimes=se(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.identifierPrefix=A,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function g1(o,d,x,A,P,R,U,K,J){return o=new Vk(o,d,x,K,J),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Wi(3,null,null,d),o.current=R,R.stateNode=o,R.memoizedState={element:A,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nm(R),o}function Hk(o,d,x){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:A==null?null:""+A,children:o,containerInfo:d,implementation:x}}function X2(o){if(!o)return Us;o=o._reactInternals;e:{if(Zn(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Jn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var x=o.type;if(Jn(x))return Ab(o,x,d)}return d}function Y2(o,d,x,A,P,R,U,K,J){return o=g1(x,A,!0,o,P,R,U,K,J),o.context=X2(null),x=o.current,A=Hn(),P=qs(x),R=Za(A,P),R.callback=d??null,Ws(x,R,P),o.current.lanes=P,G(o,P,A),ri(o,A),o}function Hf(o,d,x,A){var P=d.current,R=Hn(),U=qs(P);return x=X2(x),d.context===null?d.context=x:d.pendingContext=x,d=Za(R,U),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=Ws(P,d,U),o!==null&&(ua(o,P,U,R),Ef(o,P,U)),U}function Gf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Z2(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<d?x:d}}function v1(o,d){Z2(o,d),(o=o.alternate)&&Z2(o,d)}function Gk(){return null}var Q2=typeof reportError=="function"?reportError:function(o){console.error(o)};function y1(o){this._internalRoot=o}qf.prototype.render=y1.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));Hf(o,d,null,null)},qf.prototype.unmount=y1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Mo(function(){Hf(null,o,null,null)}),d[Ga]=null}};function qf(o){this._internalRoot=o}qf.prototype.unstable_scheduleHydration=function(o){if(o){var d=Jt();o={blockedOn:null,target:o,priority:d};for(var x=0;x<wn.length&&d!==0&&d<wn[x].priority;x++);wn.splice(x,0,o),x===0&&Zd(o)}};function x1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function J2(){}function qk(o,d,x,A,P){if(P){if(typeof A=="function"){var R=A;A=function(){var ge=Gf(U);R.call(ge)}}var U=Y2(d,A,o,0,null,!1,!1,"",J2);return o._reactRootContainer=U,o[Ga]=U.current,uu(o.nodeType===8?o.parentNode:o),Mo(),U}for(;P=o.lastChild;)o.removeChild(P);if(typeof A=="function"){var K=A;A=function(){var ge=Gf(J);K.call(ge)}}var J=g1(o,0,!1,null,null,!1,!1,"",J2);return o._reactRootContainer=J,o[Ga]=J.current,uu(o.nodeType===8?o.parentNode:o),Mo(function(){Hf(d,J,x,A)}),J}function Xf(o,d,x,A,P){var R=x._reactRootContainer;if(R){var U=R;if(typeof P=="function"){var K=P;P=function(){var J=Gf(U);K.call(J)}}Hf(d,U,o,P)}else U=qk(x,d,o,P,A);return Gf(U)}Al=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var x=Gt(d.pendingLanes);x!==0&&(Sr(d,x|1),ri(d,Bt()),(Tt&6)===0&&(Hl=Bt()+500,zs()))}break;case 13:Mo(function(){var A=Ya(o,1);if(A!==null){var P=Hn();ua(A,o,1,P)}}),v1(o,1)}},kn=function(o){if(o.tag===13){var d=Ya(o,134217728);if(d!==null){var x=Hn();ua(d,o,134217728,x)}v1(o,134217728)}},tt=function(o){if(o.tag===13){var d=qs(o),x=Ya(o,d);if(x!==null){var A=Hn();ua(x,o,d,A)}v1(o,d)}},Jt=function(){return vt},Yc=function(o,d){var x=vt;try{return vt=o,d()}finally{vt=x}},wl=function(o,d,x){switch(d){case"input":if(xt(o,x),d=x.name,x.type==="radio"&&d!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<x.length;d++){var A=x[d];if(A!==o&&A.form===o.form){var P=ff(A);if(!P)throw Error(r(90));xe(A),xt(A,P)}}}break;case"textarea":$n(o,x);break;case"select":d=x.value,d!=null&&Ue(o,!!x.multiple,d,!1)}},bl=u1,Yr=Mo;var Kk={usingClientEntryPoint:!1,Events:[hu,kl,ff,Wc,Yn,u1]},Ou={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Vd(o),o===null?null:o.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||Gk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{It=Yf.inject(Xk),gt=Yf}catch{}}return ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kk,ni.createPortal=function(o,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(d))throw Error(r(200));return Hk(o,d,null,x)},ni.createRoot=function(o,d){if(!x1(o))throw Error(r(299));var x=!1,A="",P=Q2;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=g1(o,1,!1,null,null,x,!1,A,P),o[Ga]=d.current,uu(o.nodeType===8?o.parentNode:o),new y1(d)},ni.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Vd(d),o=o===null?null:o.stateNode,o},ni.flushSync=function(o){return Mo(o)},ni.hydrate=function(o,d,x){if(!Kf(d))throw Error(r(200));return Xf(null,o,d,!0,x)},ni.hydrateRoot=function(o,d,x){if(!x1(o))throw Error(r(405));var A=x!=null&&x.hydratedSources||null,P=!1,R="",U=Q2;if(x!=null&&(x.unstable_strictMode===!0&&(P=!0),x.identifierPrefix!==void 0&&(R=x.identifierPrefix),x.onRecoverableError!==void 0&&(U=x.onRecoverableError)),d=Y2(d,null,o,1,x??null,P,!1,R,U),o[Ga]=d.current,uu(o),A)for(o=0;o<A.length;o++)x=A[o],P=x._getVersion,P=P(x._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[x,P]:d.mutableSourceEagerHydrationData.push(x,P);return new qf(d)},ni.render=function(o,d,x){if(!Kf(d))throw Error(r(200));return Xf(null,o,d,!1,x)},ni.unmountComponentAtNode=function(o){if(!Kf(o))throw Error(r(40));return o._reactRootContainer?(Mo(function(){Xf(null,null,o,!1,function(){o._reactRootContainer=null,o[Ga]=null})}),!0):!1},ni.unstable_batchedUpdates=u1,ni.unstable_renderSubtreeIntoContainer=function(o,d,x,A){if(!Kf(x))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Xf(o,d,x,!1,A)},ni.version="18.3.1-next-f1338f8080-20240426",ni}var oE;function tO(){if(oE)return E1.exports;oE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E1.exports=nR(),E1.exports}var lE;function iR(){if(lE)return Qf;lE=1;var e=tO();return Qf.createRoot=e.createRoot,Qf.hydrateRoot=e.hydrateRoot,Qf}var aR=iR();const sR=Qi(aR);var cE="popstate";function oR(e={}){function t(i,s){let{pathname:c="/",search:f="",hash:p=""}=pl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),yv("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=i.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof s=="string"?s:Yu(s))}function n(i,s){Oi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return cR(t,r,n,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Oi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lR(){return Math.random().toString(36).substring(2,10)}function uE(e,t){return{usr:e.state,key:e.key,idx:t}}function yv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?pl(t):t,state:r,key:t&&t.key||n||lR()}}function Yu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function cR(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,f="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function w(){f="POP";let k=v(),M=k==null?null:k-m;m=k,p&&p({action:f,location:I.location,delta:M})}function _(k,M){f="PUSH";let L=yv(I.location,k,M);r&&r(L,k),m=v()+1;let j=uE(L,m),z=I.createHref(L);try{c.pushState(j,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}s&&p&&p({action:f,location:I.location,delta:1})}function C(k,M){f="REPLACE";let L=yv(I.location,k,M);r&&r(L,k),m=v();let j=uE(L,m),z=I.createHref(L);c.replaceState(j,"",z),s&&p&&p({action:f,location:I.location,delta:0})}function O(k){return uR(k)}let I={get action(){return f},get location(){return e(i,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(cE,w),p=k,()=>{i.removeEventListener(cE,w),p=null}},createHref(k){return t(i,k)},createURL:O,encodeLocation(k){let M=O(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:C,go(k){return c.go(k)}};return I}function uR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),vr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Yu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function rO(e,t,r="/"){return dR(e,t,r,!1)}function dR(e,t,r,n){let i=typeof t=="string"?pl(t):t,s=ds(i.pathname||"/",r);if(s==null)return null;let c=nO(e);fR(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=AR(s);f=bR(c[p],m,n)}return f}function nO(e,t=[],r=[],n="",i=!1){let s=(c,f,p=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&p)return;vr(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let w=ls([n,v.relativePath]),_=r.concat(v);c.children&&c.children.length>0&&(vr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),nO(c.children,t,_,w,p)),!(c.path==null&&!c.index)&&t.push({path:w,score:xR(w,c.index),routesMeta:_})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))s(c,f);else for(let p of iO(c.path))s(c,f,!0,p)}),t}function iO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=iO(n.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),i&&f.push(...c),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function fR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:wR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var hR=/^:[\w-]+$/,pR=3,mR=2,gR=1,vR=10,yR=-2,dE=e=>e==="*";function xR(e,t){let r=e.split("/"),n=r.length;return r.some(dE)&&(n+=yR),t&&(n+=mR),r.filter(i=>!dE(i)).reduce((i,s)=>i+(hR.test(s)?pR:s===""?gR:vR),n)}function wR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function bR(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,v=s==="/"?t:t.slice(s.length)||"/",w=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),_=p.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:ls([s,w.pathname]),pathnameBase:OR(ls([s,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(s=ls([s,w.pathnameBase]))}return c}function Bh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ER(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:v,isOptional:w},_)=>{if(v==="*"){let O=f[_]||"";c=s.slice(0,s.length-O.length).replace(/(.)\/+$/,"$1")}const C=f[_];return w&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function ER(e,t=!1,r=!0){Oi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function AR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var aO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_R=e=>aO.test(e);function SR(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?pl(e):e,s;if(r)if(_R(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=fE(r.substring(1),"/"):s=fE(r,t)}else s=t;return{pathname:s,search:IR(n),hash:NR(i)}}function fE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function S1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hy(e){let t=CR(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Gy(e,t,r,n=!1){let i;typeof e=="string"?i=pl(e):(i={...e},vr(!i.pathname||!i.pathname.includes("?"),S1("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),S1("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),S1("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=r;else{let w=t.length-1;if(!n&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}f=w>=0?t[w]:"/"}let p=SR(i,f),m=c&&c!=="/"&&c.endsWith("/"),v=(s||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var ls=e=>e.join("/").replace(/\/\/+/g,"/"),OR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,NR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,TR=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function PR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function kR(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function oO(e,t){let r=e;if(typeof r!="string"||!aO.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(sO)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),f=ds(c.pathname,t);c.origin===s.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Oi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lO=["POST","PUT","PATCH","DELETE"];new Set(lO);var RR=["GET",...lO];new Set(RR);var Cc=N.createContext(null);Cc.displayName="DataRouter";var q0=N.createContext(null);q0.displayName="DataRouterState";var jR=N.createContext(!1),cO=N.createContext({isTransitioning:!1});cO.displayName="ViewTransition";var MR=N.createContext(new Map);MR.displayName="Fetchers";var DR=N.createContext(null);DR.displayName="Await";var ki=N.createContext(null);ki.displayName="Navigation";var vd=N.createContext(null);vd.displayName="Location";var La=N.createContext({outlet:null,matches:[],isDataRoute:!1});La.displayName="Route";var qy=N.createContext(null);qy.displayName="RouteError";var uO="REACT_ROUTER_ERROR",LR="REDIRECT",BR="ROUTE_ERROR_RESPONSE";function FR(e){if(e.startsWith(`${uO}:${LR}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function UR(e){if(e.startsWith(`${uO}:${BR}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new TR(t.status,t.statusText,t.data)}catch{}}function zR(e,{relative:t}={}){vr(Oc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(ki),{hash:i,pathname:s,search:c}=yd(e,{relative:t}),f=s;return r!=="/"&&(f=s==="/"?r:ls([r,s])),n.createHref({pathname:f,search:c,hash:i})}function Oc(){return N.useContext(vd)!=null}function xa(){return vr(Oc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(vd).location}var dO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fO(e){N.useContext(ki).static||N.useLayoutEffect(e)}function K0(){let{isDataRoute:e}=N.useContext(La);return e?e6():$R()}function $R(){vr(Oc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Cc),{basename:t,navigator:r}=N.useContext(ki),{matches:n}=N.useContext(La),{pathname:i}=xa(),s=JSON.stringify(Hy(n)),c=N.useRef(!1);return fO(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(Oi(c.current,dO),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=Gy(p,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:ls([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,s,i,e])}N.createContext(null);function yd(e,{relative:t}={}){let{matches:r}=N.useContext(La),{pathname:n}=xa(),i=JSON.stringify(Hy(r));return N.useMemo(()=>Gy(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function WR(e,t){return hO(e,t)}function hO(e,t,r,n,i){vr(Oc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(ki),{matches:c}=N.useContext(La),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let L=w&&w.path||"";mO(m,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=xa(),C;if(t){let L=typeof t=="string"?pl(t):t;vr(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),C=L}else C=_;let O=C.pathname||"/",I=O;if(v!=="/"){let L=v.replace(/^\//,"").split("/");I="/"+O.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=rO(e,{pathname:I});Oi(w||k!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Oi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=KR(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:ls([v,s.encodeLocation?s.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:ls([v,s.encodeLocation?s.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,i);return t&&M?N.createElement(vd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},M):M}function VR(){let e=JR(),t=PR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,c)}var HR=N.createElement(VR,null),pO=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=UR(e.digest);r&&(e=r)}let t=e!==void 0?N.createElement(La.Provider,{value:this.props.routeContext},N.createElement(qy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(GR,{error:e},t):t}};pO.contextType=jR;var C1=new WeakMap;function GR({children:e,error:t}){let{basename:r}=N.useContext(ki);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=FR(t.digest);if(n){let i=C1.get(t);if(i)throw i;let s=oO(n.location,r);if(sO&&!C1.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw C1.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function qR({routeContext:e,match:t,children:r}){let n=N.useContext(Cc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(La.Provider,{value:e},r)}function KR(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let v=s.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);vr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let f=!1,p=-1;if(r)for(let v=0;v<s.length;v++){let w=s[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:_,errors:C}=r,O=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!C||C[w.route.id]===void 0);if(w.route.lazy||O){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}let m=r&&n?(v,w)=>{n(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:kR(r.matches),errorInfo:w})}:void 0;return s.reduceRight((v,w,_)=>{let C,O=!1,I=null,k=null;r&&(C=c&&w.route.id?c[w.route.id]:void 0,I=w.route.errorElement||HR,f&&(p<0&&_===0?(mO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,k=null):p===_&&(O=!0,k=w.route.hydrateFallbackElement||null)));let M=t.concat(s.slice(0,_+1)),L=()=>{let j;return C?j=I:O?j=k:w.route.Component?j=N.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=v,N.createElement(qR,{match:w,routeContext:{outlet:v,matches:M,isDataRoute:r!=null},children:j})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?N.createElement(pO,{location:r.location,revalidation:r.revalidation,component:I,error:C,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):L()},null)}function Ky(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XR(e){let t=N.useContext(Cc);return vr(t,Ky(e)),t}function YR(e){let t=N.useContext(q0);return vr(t,Ky(e)),t}function ZR(e){let t=N.useContext(La);return vr(t,Ky(e)),t}function Xy(e){let t=ZR(e),r=t.matches[t.matches.length-1];return vr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function QR(){return Xy("useRouteId")}function JR(){let e=N.useContext(qy),t=YR("useRouteError"),r=Xy("useRouteError");return e!==void 0?e:t.errors?.[r]}function e6(){let{router:e}=XR("useNavigate"),t=Xy("useNavigate"),r=N.useRef(!1);return fO(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{Oi(r.current,dO),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var hE={};function mO(e,t,r){!t&&!hE[e]&&(hE[e]=!0,Oi(!1,r))}N.memo(t6);function t6({routes:e,future:t,state:r,onError:n}){return hO(e,void 0,r,n,t)}function r6({to:e,replace:t,state:r,relative:n}){vr(Oc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(ki);Oi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(La),{pathname:c}=xa(),f=K0(),p=Gy(e,Hy(s),c,n==="path"),m=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:n})},[f,m,n,t,r]),null}function Pa(e){vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n6({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){vr(!Oc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:f,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[f,i,s,c]);typeof r=="string"&&(r=pl(r));let{pathname:m="/",search:v="",hash:w="",state:_=null,key:C="default"}=r,O=N.useMemo(()=>{let I=ds(m,f);return I==null?null:{location:{pathname:I,search:v,hash:w,state:_,key:C},navigationType:n}},[f,m,v,w,_,C,n]);return Oi(O!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(ki.Provider,{value:p},N.createElement(vd.Provider,{children:t,value:O}))}function i6({children:e,location:t}){return WR(xv(e),t)}function xv(e,t=[]){let r=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let s=[...t,i];if(n.type===N.Fragment){r.push.apply(r,xv(n.props.children,s));return}vr(n.type===Pa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=xv(n.props.children,s)),r.push(c)}),r}var Oh="get",Ih="application/x-www-form-urlencoded";function X0(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function a6(e){return X0(e)&&e.tagName.toLowerCase()==="button"}function s6(e){return X0(e)&&e.tagName.toLowerCase()==="form"}function o6(e){return X0(e)&&e.tagName.toLowerCase()==="input"}function l6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function c6(e,t){return e.button===0&&(!t||t==="_self")&&!l6(e)}var Jf=null;function u6(){if(Jf===null)try{new FormData(document.createElement("form"),0),Jf=!1}catch{Jf=!0}return Jf}var d6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function O1(e){return e!=null&&!d6.has(e)?(Oi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ih}"`),null):e}function f6(e,t){let r,n,i,s,c;if(s6(e)){let f=e.getAttribute("action");n=f?ds(f,t):null,r=e.getAttribute("method")||Oh,i=O1(e.getAttribute("enctype"))||Ih,s=new FormData(e)}else if(a6(e)||o6(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(n=p?ds(p,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Oh,i=O1(e.getAttribute("formenctype"))||O1(f.getAttribute("enctype"))||Ih,s=new FormData(f,e),!u6()){let{name:m,type:v,value:w}=e;if(v==="image"){let _=m?`${m}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else m&&s.append(m,w)}}else{if(X0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Oh,n=null,i=Ih,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function h6(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ds(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function p6(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m6(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function g6(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await p6(s,r);return c.links?c.links():[]}return[]}));return w6(n.flat(1).filter(m6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pE(e,t,r,n,i,s){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,f=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return s==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):s==="data"?t.filter((p,m)=>{let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function v6(e,t,{includeHydrateFallback:r}={}){return y6(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function y6(e){return[...new Set(e)]}function x6(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function w6(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(x6(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function gO(){let e=N.useContext(Cc);return Yy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b6(){let e=N.useContext(q0);return Yy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zy=N.createContext(void 0);Zy.displayName="FrameworkContext";function vO(){let e=N.useContext(Zy);return Yy(e,"You must render this element inside a <HydratedRouter> element"),e}function E6(e,t){let r=N.useContext(Zy),[n,i]=N.useState(!1),[s,c]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=t,_=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let I=M=>{M.forEach(L=>{c(L.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[e]),N.useEffect(()=>{if(n){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[n]);let C=()=>{i(!0)},O=()=>{i(!1),c(!1)};return r?e!=="intent"?[s,_,{}]:[s,_,{onFocus:Nu(f,C),onBlur:Nu(p,O),onMouseEnter:Nu(m,C),onMouseLeave:Nu(v,O),onTouchStart:Nu(w,C)}]:[!1,_,{}]}function Nu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function A6({page:e,...t}){let{router:r}=gO(),n=N.useMemo(()=>rO(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(S6,{page:e,matches:n,...t}):null}function _6(e){let{manifest:t,routeModules:r}=vO(),[n,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return g6(e,t,r).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,r]),n}function S6({page:e,matches:t,...r}){let n=xa(),{future:i,manifest:s,routeModules:c}=vO(),{basename:f}=gO(),{loaderData:p,matches:m}=b6(),v=N.useMemo(()=>pE(e,t,m,s,n,"data"),[e,t,m,s,n]),w=N.useMemo(()=>pE(e,t,m,s,n,"assets"),[e,t,m,s,n]),_=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let I=new Set,k=!1;if(t.forEach(L=>{let j=s.routes[L.route.id];!j||!j.hasLoader||(!v.some(z=>z.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||j.hasClientLoader?k=!0:I.add(L.route.id))}),I.size===0)return[];let M=h6(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&I.size>0&&M.searchParams.set("_routes",t.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[f,i.unstable_trailingSlashAwareDataRequests,p,n,s,v,t,e,c]),C=N.useMemo(()=>v6(w,s),[w,s]),O=_6(w);return N.createElement(N.Fragment,null,_.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...r})),C.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...r})),O.map(({key:I,link:k})=>N.createElement("link",{key:I,nonce:r.nonce,...k})))}function C6(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var O6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O6&&(window.__reactRouterVersion="7.12.0")}catch{}function I6({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=N.useRef();i.current==null&&(i.current=oR({window:n,v5Compat:!0}));let s=i.current,[c,f]=N.useState({action:s.action,location:s.location}),p=N.useCallback(m=>{r===!1?f(m):N.startTransition(()=>f(m))},[r]);return N.useLayoutEffect(()=>s.listen(p),[s,p]),N.createElement(n6,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var yO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hr=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,state:f,target:p,to:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...C},O){let{basename:I,unstable_useTransitions:k}=N.useContext(ki),M=typeof m=="string"&&yO.test(m),L=oO(m,I);m=L.to;let j=zR(m,{relative:i}),[z,W,V]=E6(n,C),H=k6(m,{replace:c,state:f,target:p,preventScrollReset:v,relative:i,viewTransition:w,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function ie(_e){t&&t(_e),_e.defaultPrevented||H(_e)}let X=N.createElement("a",{...C,...V,href:L.absoluteURL||j,onClick:L.isExternal||s?t:ie,ref:C6(O,W),target:p,"data-discover":!M&&r==="render"?"true":void 0});return z&&!M?N.createElement(N.Fragment,null,X,N.createElement(A6,{page:j})):X});Hr.displayName="Link";var N6=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:f,children:p,...m},v){let w=yd(c,{relative:m.relative}),_=xa(),C=N.useContext(q0),{navigator:O,basename:I}=N.useContext(ki),k=C!=null&&L6(w)&&f===!0,M=O.encodeLocation?O.encodeLocation(w).pathname:w.pathname,L=_.pathname,j=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(L=L.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&I&&(j=ds(j,I)||j);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let W=L===M||!i&&L.startsWith(M)&&L.charAt(z)==="/",V=j!=null&&(j===M||!i&&j.startsWith(M)&&j.charAt(M.length)==="/"),H={isActive:W,isPending:V,isTransitioning:k},ie=W?t:void 0,X;typeof n=="function"?X=n(H):X=[n,W?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let _e=typeof s=="function"?s(H):s;return N.createElement(Hr,{...m,"aria-current":ie,className:X,ref:v,style:_e,to:c,viewTransition:f},typeof p=="function"?p(H):p)});N6.displayName="NavLink";var T6=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Oh,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...C},O)=>{let{unstable_useTransitions:I}=N.useContext(ki),k=M6(),M=D6(f,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&yO.test(f),z=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let V=W.nativeEvent.submitter,H=V?.getAttribute("formmethod")||c,ie=()=>k(V||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:s,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_});I&&r!==!1?N.startTransition(()=>ie()):ie()};return N.createElement("form",{ref:O,method:L,action:M,onSubmit:n?p:z,...C,"data-discover":!j&&e==="render"?"true":void 0})});T6.displayName="Form";function P6(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(e){let t=N.useContext(Cc);return vr(t,P6(e)),t}function k6(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=K0(),v=xa(),w=yd(e,{relative:s});return N.useCallback(_=>{if(c6(_,t)){_.preventDefault();let C=r!==void 0?r:Yu(v)===Yu(w),O=()=>m(e,{replace:C,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f});p?N.startTransition(()=>O()):O()}},[v,m,w,r,n,t,e,i,s,c,f,p])}var R6=0,j6=()=>`__${String(++R6)}__`;function M6(){let{router:e}=xO("useSubmit"),{basename:t}=N.useContext(ki),r=QR(),n=e.fetch,i=e.navigate;return N.useCallback(async(s,c={})=>{let{action:f,method:p,encType:m,formData:v,body:w}=f6(s,t);if(c.navigate===!1){let _=c.fetcherKey||j6();await n(_,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function D6(e,{relative:t}={}){let{basename:r}=N.useContext(ki),n=N.useContext(La);vr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...yd(e||".",{relative:t})},c=xa();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();s.search=v?`?${v}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ls([r,s.pathname])),Yu(s)}function L6(e,{relative:t}={}){let r=N.useContext(cO);vr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xO("useViewTransitionState"),i=yd(e,{relative:t});if(!r.isTransitioning)return!1;let s=ds(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ds(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bh(i.pathname,c)!=null||Bh(i.pathname,s)!=null}var Qy=tO(),B6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const F6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ut=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,children:f,...p},m)=>N.createElement("svg",{ref:m,...B6,width:i,height:i,stroke:n,strokeWidth:c?Number(s)*24/Number(i):s,className:`lucide lucide-${F6(e)}`,...p},[...t.map(([v,w])=>N.createElement(v,w)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},wO=ut("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gu=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),U6=ut("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),z6=ut("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Jy=ut("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qu=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$6=ut("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),W6=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),V6=ut("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),H6=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),mE=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),G6=ut("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),ex=ut("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),q6=ut("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),K6=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),bO=ut("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),X6=ut("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Y6=ut("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Z6=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Zu=ut("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),EO=ut("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Q6=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),tx=ut("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),J6=ut("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),ej=ut("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),tj=ut("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),rj=ut("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Y0=ut("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),nj=ut("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),ij=ut("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),aj=ut("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),rx=ut("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Z0=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),AO=ut("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),sj=ut("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),oj=ut("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Qu=ut("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),lj=ut("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),pc=ut("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),_O=ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),cj=ut("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),gE=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),nx=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),uj=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dj=ut("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),no=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fj=ut("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),hj=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),i=xa(),s=K0();N.useEffect(()=>{const v=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=v=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===v?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,p=v=>{s(v),n(!1)},m=()=>{const v=i.pathname;return v==="/"?E.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[E.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:E.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),E.jsx(Hr,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:E.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),E.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),E.jsx(Hr,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:E.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),E.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),E.jsx(Hr,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:E.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):v.startsWith("/perfum")?E.jsxs(Hr,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[E.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),E.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):v.startsWith("/regalos")?E.jsxs(Hr,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[E.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),E.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):E.jsxs(Hr,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[E.jsx("span",{className:"serif text-2xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),E.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]})};return E.jsxs("nav",{className:c,children:[E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex justify-between items-center h-16",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&E.jsx(Hr,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),E.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),E.jsx("div",{className:"flex items-center",children:m()})]}),E.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&E.jsxs(E.Fragment,{children:[E.jsx(Hr,{to:"/style",className:f("/style"),children:"Style"}),E.jsx(Hr,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),E.jsx(Hr,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),E.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):s("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),E.jsx("div",{className:"md:hidden flex items-center",children:E.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?E.jsx(no,{size:28}):E.jsx(Q6,{size:28})})})]})}),r&&E.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[E.jsxs("button",{onClick:()=>p("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[E.jsx(rx,{size:24}),E.jsx("span",{children:"Style (Inicio)"})]}),E.jsxs("button",{onClick:()=>p("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[E.jsx(Qu,{size:24}),E.jsx("span",{children:"Perfumes"})]}),E.jsxs("button",{onClick:()=>p("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[E.jsx(ex,{size:24}),E.jsx("span",{children:"Regalos"})]}),E.jsx("div",{className:"mt-auto pb-8",children:E.jsx("button",{onClick:()=>p("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},pj=({onCtaClick:e})=>E.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[E.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),E.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[E.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),E.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",E.jsx("br",{})," ",E.jsx("span",{className:"italic",children:"Tu Esencia"})]}),E.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",E.jsx("br",{className:"hidden md:block"}),E.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),E.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:E.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),E.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[E.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[E.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),E.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[E.jsx("span",{className:"mr-1",children:"Desde"}),E.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),cc="56984524774",mj="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",ic=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],gj=3e3,vj=30,yj=["Santiago Centro","uoa"],io=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],vE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],xj=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],wj=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var es={},eh={},wv=function(e,t){return wv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wv(e,t)};function SO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Fh=function(){return Fh=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Fh.apply(this,arguments)};function Ic(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function CO(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(s=(i<3?c(s):i>3?c(t,r,s):c(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function OO(e,t){return function(r,n){t(r,n,e)}}function IO(e,t,r,n,i,s){function c(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var f=n.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,v=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),w,_=!1,C=r.length-1;C>=0;C--){var O={};for(var I in n)O[I]=I==="access"?{}:n[I];for(var I in n.access)O.access[I]=n.access[I];O.addInitializer=function(M){if(_)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(M||null))};var k=(0,r[C])(f==="accessor"?{get:v.get,set:v.set}:v[p],O);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=c(k.get))&&(v.get=w),(w=c(k.set))&&(v.set=w),(w=c(k.init))&&i.unshift(w)}else(w=c(k))&&(f==="field"?i.unshift(w):v[p]=w)}m&&Object.defineProperty(m,n.name,v),_=!0}function NO(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function TO(e){return typeof e=="symbol"?e:"".concat(e)}function PO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function kO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ge(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})}function RO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Q0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function jO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Q0(t,e,r)}function Uh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ix(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function MO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ix(arguments[t]));return e}function DO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],c=0,f=s.length;c<f;c++,i++)n[i]=s[c];return n}function LO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function mc(e){return this instanceof mc?(this.v=e,this):new mc(e)}function BO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(C){return function(O){return Promise.resolve(O).then(C,w)}}function f(C,O){n[C]&&(i[C]=function(I){return new Promise(function(k,M){s.push([C,I,k,M])>1||p(C,I)})},O&&(i[C]=O(i[C])))}function p(C,O){try{m(n[C](O))}catch(I){_(s[0][3],I)}}function m(C){C.value instanceof mc?Promise.resolve(C.value.v).then(v,w):_(s[0][2],C)}function v(C){p("next",C)}function w(C){p("throw",C)}function _(C,O){C(O),s.shift(),s.length&&p(s[0][0],s[0][1])}}function FO(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(c){return(r=!r)?{value:mc(e[i](c)),done:!1}:s?s(c):c}:s}}function UO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Uh=="function"?Uh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(f,p){c=e[s](c),i(f,p,c.done,c.value)})}}function i(s,c,f,p){Promise.resolve(p).then(function(m){s({value:m,done:f})},c)}}function zO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bj=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},bv=function(e){return bv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},bv(e)};function $O(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=bv(e),n=0;n<r.length;n++)r[n]!=="default"&&Q0(t,e,r[n]);return bj(t,e),t}function WO(e){return e&&e.__esModule?e:{default:e}}function VO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function HO(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function GO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function qO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Ej=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function KO(e){function t(s){e.error=e.hasError?new Ej(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function XO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,c){return n?t?".jsx":".js":i&&(!s||!c)?r:i+s+"."+c.toLowerCase()+"js"}):e}const Aj={__extends:SO,__assign:Fh,__rest:Ic,__decorate:CO,__param:OO,__esDecorate:IO,__runInitializers:NO,__propKey:TO,__setFunctionName:PO,__metadata:kO,__awaiter:Ge,__generator:RO,__createBinding:Q0,__exportStar:jO,__values:Uh,__read:ix,__spread:MO,__spreadArrays:DO,__spreadArray:LO,__await:mc,__asyncGenerator:BO,__asyncDelegator:FO,__asyncValues:UO,__makeTemplateObject:zO,__importStar:$O,__importDefault:WO,__classPrivateFieldGet:VO,__classPrivateFieldSet:HO,__classPrivateFieldIn:GO,__addDisposableResource:qO,__disposeResources:KO,__rewriteRelativeImportExtension:XO},_j=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qO,get __assign(){return Fh},__asyncDelegator:FO,__asyncGenerator:BO,__asyncValues:UO,__await:mc,__awaiter:Ge,__classPrivateFieldGet:VO,__classPrivateFieldIn:GO,__classPrivateFieldSet:HO,__createBinding:Q0,__decorate:CO,__disposeResources:KO,__esDecorate:IO,__exportStar:jO,__extends:SO,__generator:RO,__importDefault:WO,__importStar:$O,__makeTemplateObject:zO,__metadata:kO,__param:OO,__propKey:TO,__read:ix,__rest:Ic,__rewriteRelativeImportExtension:XO,__runInitializers:NO,__setFunctionName:PO,__spread:MO,__spreadArray:LO,__spreadArrays:DO,__values:Uh,default:Aj},Symbol.toStringTag,{value:"Module"})),Sj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let J0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},YO=class extends J0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ev=class extends J0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Av=class extends J0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var zh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zh||(zh={}));class Cj{constructor(t,{headers:r={},customFetch:n,region:i=zh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Sj(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ge(this,arguments,void 0,function*(r,n={}){var i;let s,c;try{const{headers:f,method:p,body:m,signal:v,timeout:w}=n;let _={},{region:C}=n;C||(C=this.region);const O=new URL(`${this.url}/${r}`);C&&C!=="any"&&(_["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let I;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",I=m):typeof m=="string"?(_["Content-Type"]="text/plain",I=m):typeof FormData<"u"&&m instanceof FormData?I=m:(_["Content-Type"]="application/json",I=JSON.stringify(m)):I=m;let k=v;w&&(c=new AbortController,s=setTimeout(()=>c.abort(),w),v?(k=c.signal,v.addEventListener("abort",()=>c.abort())):k=c.signal);const M=yield this.fetch(O.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:I,signal:k}).catch(W=>{throw new YO(W)}),L=M.headers.get("x-relay-error");if(L&&L==="true")throw new Ev(M);if(!M.ok)throw new Av(M);let j=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),z;return j==="application/json"?z=yield M.json():j==="application/octet-stream"||j==="application/pdf"?z=yield M.blob():j==="text/event-stream"?z=M:j==="multipart/form-data"?z=yield M.formData():z=yield M.text(),{data:z,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Av||f instanceof Ev?f.context:void 0}}finally{s&&clearTimeout(s)}})}}const Oj=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return zh},FunctionsClient:Cj,FunctionsError:J0,FunctionsFetchError:YO,FunctionsHttpError:Av,FunctionsRelayError:Ev},Symbol.toStringTag,{value:"Module"})),ZO=gd(Oj);var Bn={};const Nc=gd(_j);var th={},rh={},nh={},ih={},ah={},sh={},yE;function QO(){if(yE)return sh;yE=1,Object.defineProperty(sh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return sh.default=e,sh}var xE;function JO(){if(xE)return ah;xE=1,Object.defineProperty(ah,"__esModule",{value:!0});const t=Nc.__importDefault(QO());let r=class{constructor(i){var s,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,v,w,_;let C=null,O=null,I=null,k=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?O=W:O=JSON.parse(W))}const j=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&z&&z.length>1&&(I=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(C={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,I=null,k=406,M="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const j=await p.text();try{C=JSON.parse(j),Array.isArray(C)&&p.status===404&&(O=[],C=null,k=200,M="OK")}catch{p.status===404&&j===""?(k=204,M="No Content"):C={message:j}}if(C&&this.isMaybeSingle&&(!((_=C?.details)===null||_===void 0)&&_.includes("0 rows"))&&(C=null,k=200,M="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:O,count:I,status:k,statusText:M}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,v,w,_,C,O;let I="";const k=p?.cause;if(k){const M=(m=k?.message)!==null&&m!==void 0?m:"",L=(v=k?.code)!==null&&v!==void 0?v:"";I=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,I+=`

Caused by: ${(_=k?.name)!==null&&_!==void 0?_:"Error"}: ${M}`,L&&(I+=` (${L})`),k?.stack&&(I+=`
${k.stack}`)}else I=(C=p?.stack)!==null&&C!==void 0?C:"";return{error:{message:`${(O=p?.name)!==null&&O!==void 0?O:"FetchError"}: ${p?.message}`,details:I,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,s)}returns(){return this}overrideTypes(){return this}};return ah.default=r,ah}var wE;function eI(){if(wE)return ih;wE=1,Object.defineProperty(ih,"__esModule",{value:!0});const t=Nc.__importDefault(JO());let r=class extends t.default{select(i){let s=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,s,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var v;const w=[i?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return ih.default=r,ih}var bE;function ax(){if(bE)return nh;bE=1,Object.defineProperty(nh,"__esModule",{value:!0});const t=Nc.__importDefault(eI()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${m}fts${v}.${c}`),this}match(s){return Object.entries(s).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(s,c,f){return this.url.searchParams.append(s,`not.${c}.${f}`),this}or(s,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${s})`),this}filter(s,c,f){return this.url.searchParams.append(s,`${c}.${f}`),this}};return nh.default=n,nh}var EE;function tI(){if(EE)return rh;EE=1,Object.defineProperty(rh,"__esModule",{value:!0});const t=Nc.__importDefault(ax());let r=class{constructor(i,{headers:s={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(s),this.schema=c,this.fetch=f}select(i,s){const{head:c=!1,count:f}=s??{},p=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:c=!0}={}){var f;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const w=i.reduce((_,C)=>_.concat(Object.keys(C)),[]);if(w.length>0){const _=[...new Set(w)].map(C=>`"${C}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var c;const f="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var s;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return rh.default=r,rh}var AE;function Ij(){if(AE)return th;AE=1,Object.defineProperty(th,"__esModule",{value:!0});const e=Nc,t=e.__importDefault(tI()),r=e.__importDefault(ax());let n=class rI{constructor(s,{headers:c={},schema:f,fetch:p}={}){this.url=s,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new rI(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:f=!1,get:p=!1,count:m}={}){var v;let w;const _=new URL(`${this.url}/rpc/${s}`);let C;f||p?(w=f?"HEAD":"GET",Object.entries(c).filter(([I,k])=>k!==void 0).map(([I,k])=>[I,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([I,k])=>{_.searchParams.append(I,k)})):(w="POST",C=c);const O=new Headers(this.headers);return m&&O.set("Prefer",`count=${m}`),new r.default({method:w,url:_,headers:O,schema:this.schemaName,body:C,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return th.default=n,th}var _E;function nI(){if(_E)return Bn;_E=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.PostgrestError=Bn.PostgrestBuilder=Bn.PostgrestTransformBuilder=Bn.PostgrestFilterBuilder=Bn.PostgrestQueryBuilder=Bn.PostgrestClient=void 0;const e=Nc,t=e.__importDefault(Ij());Bn.PostgrestClient=t.default;const r=e.__importDefault(tI());Bn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ax());Bn.PostgrestFilterBuilder=n.default;const i=e.__importDefault(eI());Bn.PostgrestTransformBuilder=i.default;const s=e.__importDefault(JO());Bn.PostgrestBuilder=s.default;const c=e.__importDefault(QO());return Bn.PostgrestError=c.default,Bn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:c.default},Bn}class iI{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Nj="2.87.1",Tj=`realtime-js/${Nj}`,aI="1.0.0",Pj="2.0.0",SE=aI,_v=1e4,kj=1e3,Rj=100;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var Wr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wr||(Wr={}));var ha;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ha||(ha={}));var Sv;(function(e){e.websocket="websocket"})(Sv||(Sv={}));var Ko;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ko||(Ko={}));class jj{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,s;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",p=(s=t.join_ref)!==null&&s!==void 0?s:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+m.length+w.length,C=new ArrayBuffer(this.HEADER_LENGTH+_);let O=new DataView(C),I=0;O.setUint8(I++,this.KINDS.userBroadcastPush),O.setUint8(I++,p.length),O.setUint8(I++,f.length),O.setUint8(I++,c.length),O.setUint8(I++,m.length),O.setUint8(I++,w.length),O.setUint8(I++,r),Array.from(p,M=>O.setUint8(I++,M.charCodeAt(0))),Array.from(f,M=>O.setUint8(I++,M.charCodeAt(0))),Array.from(c,M=>O.setUint8(I++,M.charCodeAt(0))),Array.from(m,M=>O.setUint8(I++,M.charCodeAt(0))),Array.from(w,M=>O.setUint8(I++,M.charCodeAt(0)));var k=new Uint8Array(C.byteLength+n.byteLength);return k.set(new Uint8Array(C),0),k.set(new Uint8Array(n),C.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,c,f,p]=n;return r({join_ref:i,ref:s,topic:c,event:f,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=n.decode(t.slice(p,p+i));p=p+i;const v=n.decode(t.slice(p,p+s));p=p+s;const w=n.decode(t.slice(p,p+c));p=p+c;const _=t.slice(p,t.byteLength),C=f===this.JSON_ENCODING?JSON.parse(n.decode(_)):_,O={type:this.BROADCAST_EVENT,event:v,payload:C};return c>0&&(O.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class sI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rr||(rr={}));const CE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=Mj(c,e,t,i),s),{}):{}},Mj=(e,t,r,n)=>{const i=t.find(f=>f.name===e),s=i?.type,c=r[e];return s&&!n.includes(s)?oI(s,c):Cv(c)},oI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Fj(t,r)}switch(e){case rr.bool:return Dj(t);case rr.float4:case rr.float8:case rr.int2:case rr.int4:case rr.int8:case rr.numeric:case rr.oid:return Lj(t);case rr.json:case rr.jsonb:return Bj(t);case rr.timestamp:return Uj(t);case rr.abstime:case rr.date:case rr.daterange:case rr.int4range:case rr.int8range:case rr.money:case rr.reltime:case rr.text:case rr.time:case rr.timestamptz:case rr.timetz:case rr.tsrange:case rr.tstzrange:return Cv(t);default:return Cv(t)}},Cv=e=>e,Dj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Bj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Fj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(f=>oI(t,f))}return e},Uj=e=>typeof e=="string"?e.replace(" ","T"):e,lI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class I1{constructor(t,r,n={},i=_v){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ov;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ov||(Ov={}));let cI=class Nh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nh.syncState(this.state,i,s,c),this.pendingDiffs.forEach(p=>{this.state=Nh.syncDiff(this.state,p,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nh.syncDiff(this.state,i,s,c),f())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),c=this.transformState(r),f={},p={};return this.map(s,(m,v)=>{c[m]||(p[m]=v)}),this.map(c,(m,v)=>{const w=s[m];if(w){const _=v.map(k=>k.presence_ref),C=w.map(k=>k.presence_ref),O=v.filter(k=>C.indexOf(k.presence_ref)<0),I=w.filter(k=>_.indexOf(k.presence_ref)<0);O.length>0&&(f[m]=O),I.length>0&&(p[m]=I)}else f[m]=v}),this.syncDiff(s,{joins:f,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(f,p)=>{var m;const v=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),v.length>0){const w=t[f].map(C=>C.presence_ref),_=v.filter(C=>w.indexOf(C.presence_ref)<0);t[f].unshift(..._)}n(f,v,p)}),this.map(c,(f,p)=>{let m=t[f];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[f]=m,i(f,m,p),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Iv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Iv||(Iv={}));var uc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uc||(uc={}));var ka;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ka||(ka={}));const zj=Wr;let uI=class Uu{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new I1(this,ha.join,this.params,this.timeout),this.rejoinTimer=new sI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ha.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new cI(this),this.broadcastEndpointURL=lI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wr.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(C=>C.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[uc.PRESENCE]&&this.bindings[uc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(C=>t?.(ka.CHANNEL_ERROR,C)),this._onClose(()=>t?.(ka.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){t?.(ka.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,k=(O=I?.length)!==null&&O!==void 0?O:0,M=[];for(let L=0;L<k;L++){const j=I[L],{filter:{event:z,schema:W,table:V,filter:H}}=j,ie=C&&C[L];if(ie&&ie.event===z&&Uu.isFilterValueEqual(ie.schema,W)&&Uu.isFilterValueEqual(ie.table,V)&&Uu.isFilterValueEqual(ie.filter,H))M.push(Object.assign(Object.assign({},j),{id:ie.id}));else{this.unsubscribe(),this.state=Wr.errored,t?.(ka.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(ka.SUBSCRIBED);return}}).receive("error",C=>{this.state=Wr.errored,t?.(ka.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{t?.(ka.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Wr.joined&&t===uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,f,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ha.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new I1(this,ha.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new I1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Rj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:v}=ha;if(n&&[f,p,m,v].indexOf(c)>=0&&n!==this._joinRef())return;let _=this._onMessage(c,r,n);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(C=>{var O,I,k;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((k=(I=C.filter)===null||I===void 0?void 0:I.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(C=>C.callback(_,n)):(s=this.bindings[c])===null||s===void 0||s.filter(C=>{var O,I,k,M,L,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in C){const z=C.id,W=(O=C.filter)===null||O===void 0?void 0:O.event;return z&&((I=r.ids)===null||I===void 0?void 0:I.includes(z))&&(W==="*"||W?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(L=(M=C?.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return z==="*"||z===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===c}).map(C=>{if(typeof _=="object"&&"ids"in _){const O=_.data,{schema:I,table:k,commit_timestamp:M,type:L,errors:j}=O;_=Object.assign(Object.assign({},{schema:I,table:k,commit_timestamp:M,eventType:L,new:{},old:{},errors:j}),this._getPayloadRecords(O))}C.callback(_,n)})}_isClosed(){return this.state===Wr.closed}_isJoined(){return this.state===Wr.joined}_isJoining(){return this.state===Wr.joining}_isLeaving(){return this.state===Wr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Uu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ha.close,{},t)}_onError(t){this._on(ha.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=CE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=CE(t.columns,t.old_record)),r}};const N1=()=>{},oh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$j=[1e3,2e3,5e3,1e4],Wj=1e4,Vj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Hj=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_v,this.transport=null,this.heartbeatIntervalMs=oh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=N1,this.ref=0,this.reconnectTimer=null,this.vsn=SE,this.logger=N1,this.conn=null,this.sendBuffer=[],this.serializer=new jj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Sv.websocket}`,this.httpEndpoint=lI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return Ko.Connecting;case qo.open:return Ko.Open;case qo.closing:return Ko.Closing;default:return Ko.Closed}}isConnected(){return this.connectionState()===Ko.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new uI(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},oh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:c}=r,f=c?`(${c})`:"",p=s.status||"";this.log("receive",`${p} ${n} ${i} ${f}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===qo.open||this.conn.readyState===qo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ha.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Vj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:Tj};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(ha.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,c,f,p,m,v,w,_,C;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:_v,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:oh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:N1,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:SE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(O=>$j[O-1]||Wj),this.vsn){case aI:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((O,I)=>I(JSON.stringify(O))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((O,I)=>I(JSON.parse(O)));break;case Pj:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(C=t?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const Gj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:zj,get REALTIME_LISTEN_TYPES(){return uc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Iv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ov},get REALTIME_SUBSCRIBE_STATES(){return ka},RealtimeChannel:uI,RealtimeClient:Hj,RealtimePresence:cI,WebSocketFactory:iI},Symbol.toStringTag,{value:"Module"})),dI=gd(Gj);class xd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class fI extends xd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $h extends xd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const sx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qj=()=>Response,Nv=e=>{if(Array.isArray(e))return e.map(r=>Nv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Nv(n)}),t},Kj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xj=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),T1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Yj=(e,t,r)=>Ge(void 0,void 0,void 0,function*(){const n=yield qj();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,c=i?.statusCode||s+"";t(new fI(T1(i),s,c))}).catch(i=>{t(new $h(T1(i),i))}):t(new $h(T1(e),e))}),Zj=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(Kj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function wd(e,t,r,n,i,s){return Ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,Zj(t,n,i,s)).then(p=>{if(!p.ok)throw p;return n?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Yj(p,f,n))})})}function Ju(e,t,r,n){return Ge(this,void 0,void 0,function*(){return wd(e,"GET",t,r,n)})}function fa(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return wd(e,"POST",t,n,i,r)})}function Tv(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return wd(e,"PUT",t,n,i,r)})}function Qj(e,t,r,n){return Ge(this,void 0,void 0,function*(){return wd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ox(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return wd(e,"DELETE",t,n,i,r)})}class Jj{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(hr(t))return{data:null,error:t};throw t}})}}var hI;class e5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[hI]="BlobDownloadBuilder",this.promise=null}asStream(){return new Jj(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ge(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(hr(t))return{data:null,error:t};throw t}})}}hI=Symbol.toStringTag;const t5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=sx(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ge(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},OE),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),p&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(p))):(s=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),w=yield(t=="PUT"?Tv:fa)(this.fetch,`${this.url}/object/${v}`,s,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:OE.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield Tv(this.fetch,f.toString(),p,{headers:v});return{data:{path:s,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(hr(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield fa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new xd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield fa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield fa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ge(this,void 0,void 0,function*(){try{const i=yield fa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(t),p=()=>Ju(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new e5(p,this.shouldThrowOnError)}info(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ju(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Nv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}exists(t){return Ge(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Qj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n)&&n instanceof $h){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${m}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},t5),r),{prefix:t||""});return{data:yield fa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ge(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield fa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const pI="2.87.1",mI={"X-Client-Info":`storage-js/${pI}`};class n5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mI),r),this.fetch=sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ju(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ju(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ge(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(hr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Tv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(hr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ed=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i5(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function a5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function s5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:c}){const f=i5(e.baseUrl,n,i),p=await a5(e.auth),m=await t(f,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...p,...c},body:s?JSON.stringify(s):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!m.ok){const C=w?_:void 0,O=C?.error;throw new ed(O?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:O?.type,icebergCode:O?.code,details:C})}return{status:m.status,headers:m.headers,data:_}}}}function lh(e){return e.join("")}var o5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:lh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lh(e.namespace)}`}),!0}catch(t){if(t instanceof ed&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ed&&r.status===409)return;throw r}}};function ql(e){return e.join("")}var l5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ed&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ed&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},c5=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=s5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new o5(this.client,t),this.tableOps=new l5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class gI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mI),r),this.fetch=sx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ge(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ju(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield ox(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(hr(r))return{data:null,error:r};throw r}})}from(t){if(!Xj(t))throw new xd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new c5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ge(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,c){const f=s[c];return typeof f!="function"?f:(...p)=>Ge(this,void 0,void 0,function*(){try{return{data:yield f.apply(s,p),error:null}}catch(m){if(n)throw m;return{data:null,error:m}}})}})}}const lx={"X-Client-Info":`storage-js/${pI}`,"Content-Type":"application/json"};class cx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ai(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Th extends cx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vI extends cx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Pv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Pv||(Pv={}));const ep=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),u5=()=>Response,yI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},d5=e=>Array.from(new Float32Array(e)),f5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},IE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),h5=(e,t,r)=>Ge(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new Th(IE(c),i,f))}).catch(()=>{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new Th(f,i,c))});else{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new Th(f,i,c))}}else t(new vI(IE(e),e))}),p5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(yI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function m5(e,t,r,n,i,s){return Ge(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,p5(t,n,i,s)).then(p=>{if(!p.ok)throw p;if(n?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>h5(p,f,n))})})}function Ai(e,t,r,n,i){return Ge(this,void 0,void 0,function*(){return m5(e,"POST",t,n,i,r)})}class xI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lx),r),this.fetch=ep(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Ai(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Ai(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ai(n))return{data:null,error:n};throw n}})}}class wI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lx),r),this.fetch=ep(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ai(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}getVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}listVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ai(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ge(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ai(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}}class bI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},lx),r),this.fetch=ep(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Ai(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}getBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}listBuckets(){return Ge(this,arguments,void 0,function*(t={}){try{return{data:yield Ai(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ge(this,void 0,void 0,function*(){try{return{data:(yield Ai(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ai(r))return{data:null,error:r};throw r}})}}class EI extends bI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new AI(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ge(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ge(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ge(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ge(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class AI extends xI{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ge(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ge(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ge(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ge(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _I(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _I extends wI{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ge(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ge(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ge(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ge(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ge(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class g5 extends n5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new r5(this.url,this.headers,t,this.fetch)}get vectors(){return new EI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gI(this.url+"/iceberg",this.headers,this.fetch)}}const v5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:gI,StorageApiError:fI,StorageClient:g5,StorageError:xd,StorageUnknownError:$h,StorageVectorsApiError:Th,StorageVectorsClient:EI,StorageVectorsError:cx,get StorageVectorsErrorCode(){return Pv},StorageVectorsUnknownError:vI,VectorBucketApi:bI,VectorBucketScope:AI,VectorDataApi:wI,VectorIndexApi:xI,VectorIndexScope:_I,isPlainObject:yI,isStorageError:hr,isStorageVectorsError:ai,normalizeToFloat32:d5,resolveFetch:ep,resolveResponse:u5,validateVectorDimension:f5},Symbol.toStringTag,{value:"Module"})),y5=gd(v5);var P1={},Tu={},NE;function x5(){return NE||(NE=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.version=void 0,Tu.version="2.87.1"),Tu}var TE;function w5(){return TE||(TE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=x5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(P1)),P1}var k1={},PE;function b5(){return PE||(PE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,s,c)=>{const f=(0,e.resolveFetch)(c),p=(0,e.resolveHeadersConstructor)();return async(m,v)=>{var w;const _=(w=await s())!==null&&w!==void 0?w:i;let C=new p(v?.headers);return C.has("apikey")||C.set("apikey",i),C.has("Authorization")||C.set("Authorization",`Bearer ${_}`),f(m,Object.assign(Object.assign({},v),{headers:C}))}};e.fetchWithAuth=n})(k1)),k1}var ts={},kE;function E5(){if(kE)return ts;kE=1,Object.defineProperty(ts,"__esModule",{value:!0}),ts.isBrowser=void 0,ts.uuid=e,ts.ensureTrailingSlash=t,ts.applySettingDefaults=n,ts.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,f=s=="x"?c:c&3|8;return f.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";ts.isBrowser=r;function n(s,c){var f,p;const{db:m,auth:v,realtime:w,global:_}=s,{db:C,auth:O,realtime:I,global:k}=c,M={db:Object.assign(Object.assign({},C),m),auth:Object.assign(Object.assign({},O),v),realtime:Object.assign(Object.assign({},I),w),storage:{},global:Object.assign(Object.assign(Object.assign({},k),_),{headers:Object.assign(Object.assign({},(f=k?.headers)!==null&&f!==void 0?f:{}),(p=_?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return s.accessToken?M.accessToken=s.accessToken:delete M.accessToken,M}function i(s){const c=s?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ts}var Pu={};const SI="2.87.1",tc=30*1e3,kv=3,R1=kv*tc,A5="http://localhost:9999",_5="supabase.auth.token",S5={"X-Client-Info":`gotrue-js/${SI}`},Rv="X-Supabase-Api-Version",CI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},C5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O5=600*1e3;let gc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Je(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let OI=class extends gc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function II(e){return Je(e)&&e.name==="AuthApiError"}let Js=class extends gc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},xs=class extends gc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},ii=class extends xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function NI(e){return Je(e)&&e.name==="AuthSessionMissingError"}let zo=class extends xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zu=class extends xs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},$u=class extends xs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function TI(e){return Je(e)&&e.name==="AuthImplicitGrantRedirectError"}let jv=class extends xs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Wh=class extends xs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Ph(e){return Je(e)&&e.name==="AuthRetryableFetchError"}let Mv=class extends xs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function I5(e){return Je(e)&&e.name==="AuthWeakPasswordError"}let Vh=class extends xs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),RE=` 	
\r=`.split(""),N5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<RE.length;t+=1)e[RE[t].charCodeAt(0)]=-2;for(let t=0;t<Hh.length;t+=1)e[Hh[t].charCodeAt(0)]=t;return e})();function jE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Hh[n]),t.queuedBits-=6}}function PI(e,t,r){const n=N5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ME(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{k5(c,n,r)};for(let c=0;c<e.length;c+=1)PI(e.charCodeAt(c),i,s);return t.join("")}function T5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function P5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}T5(n,t)}}function k5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function dc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)PI(e.charCodeAt(i),r,n);return new Uint8Array(t)}function R5(e){const t=[];return P5(e,r=>t.push(r)),new Uint8Array(t)}function Xo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>jE(i,r,n)),jE(null,r,n),t.join("")}function j5(e){return Math.round(Date.now()/1e3)+e}function M5(){return Symbol("auth-callback")}const Cn=()=>typeof window<"u"&&typeof document<"u",Fo={tested:!1,writable:!1},kI=()=>{if(!Cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fo.tested)return Fo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fo.tested=!0,Fo.writable=!0}catch{Fo.tested=!0,Fo.writable=!1}return Fo.writable};function D5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const RI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),L5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Uo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Sn=async(e,t)=>{await e.removeItem(t)};class tp{constructor(){this.promise=new tp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tp.promiseConstructor=Promise;function j1(e){const t=e.split(".");if(t.length!==3)throw new Vh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!C5.test(t[n]))throw new Vh("JWT not in base64url format");return{header:JSON.parse(ME(t[0])),payload:JSON.parse(ME(t[1])),signature:dc(t[2]),raw:{header:t[0],payload:t[1]}}}async function B5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function F5(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function U5(e){return("0"+e.toString(16)).substr(-2)}function z5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,U5).join("")}async function $5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function W5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kl(e,t,r=!1){const n=z5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await rc(e,`${t}-code-verifier`,i);const s=await W5(n);return[s,n===s?"plain":"s256"]}const V5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H5(e){const t=e.headers.get(Rv);if(!t||!t.match(V5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function G5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xl(e){if(!K5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function M1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X5(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function DE(e){return JSON.parse(JSON.stringify(e))}const $o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Y5=[502,503,504];async function LE(e){var t;if(!L5(e))throw new Wh($o(e),0);if(Y5.includes(e.status))throw new Wh($o(e),e.status);let r;try{r=await e.json()}catch(s){throw new Js($o(s),s)}let n;const i=H5(e);if(i&&i.getTime()>=CI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mv($o(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ii}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new Mv($o(r),e.status,r.weak_password.reasons);throw new OI($o(r),e.status||500,n)}const Z5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ot(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[Rv]||(s[Rv]=CI["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await Q5(e,t,r+f,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(p):{data:Object.assign({},p),error:null}}async function Q5(e,t,r,n,i,s){const c=Z5(t,n,i,s);let f;try{f=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new Wh($o(p),0)}if(f.ok||await LE(f),n?.noResolveJson)return f;try{return await f.json()}catch(p){await LE(p)}}function da(e){var t;let r=null;tM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=j5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BE(e){const t=da(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function eo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function J5(e){return{data:e,error:null}}function eM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,c=Ic(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function FE(e){return e}function tM(e){return e.access_token&&e.refresh_token&&e.expires_in}const kh=["global","local","others"];let ux=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=RI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=kh[0]){if(kh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kh.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:eo})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ic(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:eM,redirectTo:r?.redirectTo})}catch(r){if(Je(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:eo})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FE});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);m[`${k}Page`]=I}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Je(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Xl(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:eo})}catch(r){if(Je(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Xl(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:eo})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Xl(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:eo})}catch(n){if(Je(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Xl(t.userId);try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Xl(t.userId),Xl(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:FE});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,C=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(O=>{const I=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(O.split(";")[1].split("=")[1]);m[`${k}Page`]=I}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(Je(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ot(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ot(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Je(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ot(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Je(r))return{data:null,error:r};throw r}}};function UE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Wo={debug:!!(globalThis&&kI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let jI=class extends dx{};class rM extends dx{}async function MI(e,t,r){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Wo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const zE={};async function nM(e,t,r){var n;const i=(n=zE[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new rM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return zE[e]=s.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await s}function iM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function aM(e){return parseInt(e,16)}function sM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function oM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:f,requestId:p,resources:m,scheme:v,uri:w,version:_}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const C=DI(e.address),O=v?`${v}://${n}`:n,I=e.statement?`${e.statement}
`:"",k=`${O} wants you to sign in with your Ethereum account:
${C}

${I}`;let M=`URI: ${w}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),m){let L=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);L+=`
- ${j}`}M+=L}return`${k}
${M}`}class Vr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Gh extends Vr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function lM({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Vr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Vr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Vr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Vr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(LI(c)){if(s.rp.id!==c)return new Vr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Vr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function cM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LI(n)){if(r.rpId!==n)return new Vr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class uM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dM=new uM;function fM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ic(e,["challenge","user","excludeCredentials"]),s=dc(t).buffer,c=Object.assign(Object.assign({},r),{id:dc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:s,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const m=n[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:dc(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function hM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ic(e,["challenge","allowCredentials"]),i=dc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},f),{id:dc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return s}function pM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xo(new Uint8Array(i.authenticatorData)),clientDataJSON:Xo(new Uint8Array(i.clientDataJSON)),signature:Xo(new Uint8Array(i.signature)),userHandle:i.userHandle?Xo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $E(){var e,t;return!!(Cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",t)}:{data:null,error:new Gh("Empty credential response",t)}}catch(t){return{data:null,error:lM({error:t,options:e})}}}async function vM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",t)}:{data:null,error:new Gh("Empty credential response",t)}}catch(t){return{data:null,error:cM({error:t,options:e})}}}const yM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const f=n[s];t(f)?n[s]=qh(f,c):n[s]=qh(c)}else n[s]=c}return n}function wM(e,t){return qh(yM,e,t||{})}function bM(e,t){return qh(xM,e,t||{})}class EM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const p=i??dM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=wM(c.webauthn.credential_options.publicKey,s?.create),{data:v,error:w}=await gM({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=bM(c.webauthn.credential_options.publicKey,s?.request),{data:v,error:w}=await vM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Js("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new gc("rpId is required for WebAuthn authentication")};try{if(!$E())return{data:null,error:new Js("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Js("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new gc("rpId is required for WebAuthn registration")};try{if(!$E())return{data:null,error:new Js("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return Je(c)?{data:null,error:c}:{data:null,error:new Js("Unexpected error in register",c)}}}}iM();const AM={url:A5,storageKey:_5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function WE(e,t,r){return await r()}const Yl={};let fx=class Dv{get jwks(){var t,r;return(r=(t=Yl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yl[this.storageKey]=Object.assign(Object.assign({},Yl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yl[this.storageKey]=Object.assign(Object.assign({},Yl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},AM),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Dv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Dv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Cn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ux({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=RI(s.fetch),this.lock=s.lock||WE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Cn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=MI:this.lock=WE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:kI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=UE(this.memoryStorage)),Cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${SI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Cn()&&(r=D5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Cn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),TI(s)){const p=(t=s.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Je(r)?this._returnResult({error:r}):this._returnResult({error:new Js("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:da}),{data:c,error:f}=s;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:v,password:w,options:_}=t;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await Kl(this.storage,this.storageKey)),s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:C,code_challenge_method:O},xform:da})}else if("phone"in t){const{phone:v,password:w,options:_}=t;s=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(n=_?.data)!==null&&n!==void 0?n:{},channel:(i=_?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:da})}else throw new zu("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return await Sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:f}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:BE})}else if("phone"in t){const{phone:s,password:c,options:f}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:BE})}else throw new zu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new zo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,c,f,p,m,v,w,_;let C,O;if("message"in t)C=t.message,O=t.signature;else{const{chain:I,wallet:k,statement:M,options:L}=t;let j;if(Cn())if(typeof k=="object")j=k;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")j=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const z=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),W=await j.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=DI(W[0]);let H=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const X=await j.request({method:"eth_chainId"});H=aM(X)}const ie={domain:z.host,address:V,statement:M,uri:z.href,version:"1",chainId:H,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.resources};C=oM(ie),O=await j.request({method:"personal_sign",params:[sM(C),V]})}try{const{data:I,error:k}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:da});if(k)throw k;if(!I||!I.session||!I.user){const M=new zo;return this._returnResult({data:{user:null,session:null},error:M})}return I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),this._returnResult({data:Object.assign({},I),error:k})}catch(I){if(Je(I))return this._returnResult({data:{user:null,session:null},error:I});throw I}}async signInWithSolana(t){var r,n,i,s,c,f,p,m,v,w,_,C;let O,I;if("message"in t)O=t.message,I=t.signature;else{const{chain:k,wallet:M,statement:L,options:j}=t;let z;if(Cn())if(typeof M=="object")z=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))z=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const W=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const V=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),L?{statement:L}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)O=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),I=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${W.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=j?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((p=j?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((w=(v=j?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...j.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await z.signMessage(new TextEncoder().encode(O),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=V}}try{const{data:k,error:M}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Xo(I)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(C=t.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:da});if(M)throw M;if(!k||!k.session||!k.user){const L=new zo;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:M})}catch(k){if(Je(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Uo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:c}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:da});if(await Sn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const f=new zo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=t,f=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:da}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new zo;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,c;try{if("email"in t){const{email:f,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Kl(this.storage,this.storageKey));const{error:w}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(n=p?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:v}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new zu("You must provide either an email or phone number.")}catch(f){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:da});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(i){if(Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Kl(this.storage,this.storageKey));const m=await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:J5});return!((s=m.data)===null||s===void 0)&&s.url&&Cn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ii;const{error:i}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Je(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:c}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:c,error:f}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new zu("You must provide either an email or phone number and a type")}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<R1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Uo(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=M1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=X5(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:eo}):await this._useSession(async r=>{var n,i,s;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:eo})})}catch(r){if(Je(r))return NI(r)&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ii;const c=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Kl(this.storage,this.storageKey));const{data:m,error:v}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:eo});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=j1(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;s={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Je(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ii;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Je(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Cn())throw new $u("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $u(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $u("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jv("No code detected.");const{data:L,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:f,expires_at:p,token_type:m}=t;if(!s||!f||!c||!m)throw new $u("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let _=v+w;p&&(_=parseInt(p));const C=_-v;C*1e3<=tc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${w}s`);const O=_-w;v-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,_,v):v-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,_,v);const{data:I,error:k}=await this._getUser(s);if(k)throw k;const M={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:w,expires_at:_,refresh_token:c,token_type:m,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(n){if(Je(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(II(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=M5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Kl(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var c,f,p,m,v;const{data:w,error:_}=s;if(_)throw _;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Je(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:c,provider:f,token:p,access_token:m,nonce:v}=t,w=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:da}),{data:_,error:C}=w;return C?this._returnResult({data:{user:null,session:null},error:C}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new zo}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:C}))}catch(i){if(await Sn(this.storage,`${this.storageKey}-code-verifier`),Je(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)throw c;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await F5(async i=>(i>0&&await B5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:da})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Ph(s)&&Date.now()+c-n<tc})}catch(n){if(this._debug(r,"error",n),Je(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Uo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await rc(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:M1()}else if(i&&!i.user&&!i.user){const c=await Uo(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Sn(this.storage,this.storageKey+"-user"),await rc(this.storage,this.storageKey,i)):i.user=M1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<R1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${R1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Ph(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new tp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new ii;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={data:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(i,"error",s),Je(s)){const c={data:null,error:s};return Ph(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){s.push(p)}});if(await Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Sn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await rc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=DE(i);await rc(this.storage,this.storageKey,s)}else{const i=DE(r);await rc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Sn(this.storage,this.storageKey),await Sn(this.storage,this.storageKey+"-code-verifier"),await Sn(this.storage,this.storageKey+"-user"),this.userStorage&&await Sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Cn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/tc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${tc}ms, refresh threshold is ${kv} ticks`),i<=kv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await Kl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pM(t.webauthn.credential_response):mM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:fM(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:hM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=j1(n.access_token);let c=null;s.aal&&(c=s.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=s.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ot(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ii})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ii});const c=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Cn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ii});const c=await ot(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Cn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ot(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ii})})}catch(t){if(Je(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await ot(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ii})})}catch(r){if(Je(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+O5>i)return n;const{data:s,error:c}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});n=C.session.access_token}const{header:i,payload:s,signature:c,raw:{header:f,payload:p}}=j1(n);r?.allowExpired||G5(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:C}=await this.getUser(n);if(C)throw C;return{data:{claims:s,header:i,signature:c},error:null}}const v=q5(i.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,R5(`${f}.${p}`)))throw new Vh("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(n){if(Je(n))return this._returnResult({data:null,error:n});throw n}}};fx.nextInstanceID={};const _M=ux,SM=fx,CM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:_M,AuthApiError:OI,AuthClient:SM,AuthError:gc,AuthImplicitGrantRedirectError:$u,AuthInvalidCredentialsError:zu,AuthInvalidJwtError:Vh,AuthInvalidTokenResponseError:zo,AuthPKCEGrantCodeExchangeError:jv,AuthRetryableFetchError:Wh,AuthSessionMissingError:ii,AuthUnknownError:Js,AuthWeakPasswordError:Mv,CustomAuthError:xs,GoTrueAdminApi:ux,GoTrueClient:fx,NavigatorLockAcquireTimeoutError:jI,SIGN_OUT_SCOPES:kh,isAuthApiError:II,isAuthError:Je,isAuthImplicitGrantRedirectError:TI,isAuthRetryableFetchError:Ph,isAuthSessionMissingError:NI,isAuthWeakPasswordError:I5,lockInternals:Wo,navigatorLock:MI,processLock:nM},Symbol.toStringTag,{value:"Module"})),BI=gd(CM);var VE;function OM(){if(VE)return Pu;VE=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.SupabaseAuthClient=void 0;const e=BI;let t=class extends e.AuthClient{constructor(n){super(n)}};return Pu.SupabaseAuthClient=t,Pu}var HE;function GE(){if(HE)return eh;HE=1,Object.defineProperty(eh,"__esModule",{value:!0});const e=ZO,t=nI(),r=dI,n=y5,i=w5(),s=b5(),c=E5(),f=OM();class p{constructor(v,w,_){var C,O,I;this.supabaseUrl=v,this.supabaseKey=w;const k=(0,c.validateSupabaseUrl)(v);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const M=`sb-${k.hostname.split(".")[0]}-auth-token`,L={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,c.applySettingDefaults)(_??{},L);this.storageKey=(C=j.auth.storageKey)!==null&&C!==void 0?C:"",this.headers=(O=j.global.headers)!==null&&O!==void 0?O:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(z,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((I=j.auth)!==null&&I!==void 0?I:{},this.headers,j.global.fetch),this.fetch=(0,s.fetchWithAuth)(w,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,_?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,w={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,w,_)}channel(v,w={config:{}}){return this.realtime.channel(v,w)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,w;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(w=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:C,userStorage:O,storageKey:I,flowType:k,lock:M,debug:L,throwOnError:j},z,W){const V={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},V),z),storageKey:I,autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:C,userStorage:O,flowType:k,lock:M,debug:L,throwOnError:j,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(H=>H.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,_)=>{this._handleTokenChanged(w,"CLIENT",_?.access_token)})}_handleTokenChanged(v,w,_){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return eh.default=p,eh}var qE;function IM(){return qE||(qE=1,(function(e){var t=es&&es.__createBinding||(Object.create?(function(v,w,_,C){C===void 0&&(C=_);var O=Object.getOwnPropertyDescriptor(w,_);(!O||("get"in O?!w.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(v,C,O)}):(function(v,w,_,C){C===void 0&&(C=_),v[C]=w[_]})),r=es&&es.__exportStar||function(v,w){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(w,_)&&t(w,v,_)},n=es&&es.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(GE());r(BI,e);var s=nI();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var c=ZO;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(dI,e);var f=GE();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const p=(v,w,_)=>new i.default(v,w,_);e.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(es)),es}var FI=IM();const UI=Qi(FI),NM=Vy({__proto__:null,default:UI},[FI]),{PostgrestError:Bee,FunctionsHttpError:Fee,FunctionsFetchError:Uee,FunctionsRelayError:zee,FunctionsError:$ee,FunctionRegion:Wee,SupabaseClient:Vee,createClient:TM,GoTrueAdminApi:Hee,GoTrueClient:Gee,AuthAdminApi:qee,AuthClient:Kee,navigatorLock:Xee,NavigatorLockAcquireTimeoutError:Yee,lockInternals:Zee,processLock:Qee,SIGN_OUT_SCOPES:Jee,AuthError:ete,AuthApiError:tte,AuthUnknownError:rte,CustomAuthError:nte,AuthSessionMissingError:ite,AuthInvalidTokenResponseError:ate,AuthInvalidCredentialsError:ste,AuthImplicitGrantRedirectError:ote,AuthPKCEGrantCodeExchangeError:lte,AuthRetryableFetchError:cte,AuthWeakPasswordError:ute,AuthInvalidJwtError:dte,isAuthError:fte,isAuthApiError:hte,isAuthSessionMissingError:pte,isAuthImplicitGrantRedirectError:mte,isAuthRetryableFetchError:gte,isAuthWeakPasswordError:vte,RealtimePresence:yte,RealtimeChannel:xte,RealtimeClient:wte,REALTIME_LISTEN_TYPES:bte,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Ete,REALTIME_PRESENCE_LISTEN_EVENTS:Ate,REALTIME_SUBSCRIBE_STATES:_te,REALTIME_CHANNEL_STATES:Ste}=UI||NM,D1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},zI=e=>D1&&D1[e]?D1[e]:"",L1=zI("VITE_SUPABASE_URL"),KE=zI("VITE_SUPABASE_KEY");let $I=null;if(L1&&KE&&L1!=="https://placeholder.supabase.co")try{$I=TM(L1,KE)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const ct=$I,PM=({onSuccess:e})=>{const[t,r]=N.useState(ic[0].id),n=ic.find(le=>le.id===t)||ic[0],[i,s]=N.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=N.useState(!1),[p,m]=N.useState(!1),[v,w]=N.useState([]),[_,C]=N.useState([]),[O,I]=N.useState({}),[k,M]=N.useState(null),[L,j]=N.useState(!1);N.useEffect(()=>{s(le=>({...le,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:le.isHomeService}))},[n]);const z=n.durationMin+(i.isHomeService?vj:0),W=n.price+(i.isHomeService?gj:0);N.useEffect(()=>{i.date&&V(i.date)},[i.date]),N.useEffect(()=>{i.date&&H()},[i.date,_,z]),N.useEffect(()=>{const ve=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const we=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(Q=>Q.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&Q.name.toLowerCase()===i.name.toLowerCase());we&&(M(we),j(!0))}},1e3);return()=>clearTimeout(ve)},[i.name,i.phone]);const V=async le=>{m(!0);try{let ve=[];if(ct){const{data:de,error:Me}=await ct.from("bookings").select("time, duration_minutes").eq("date",le);!Me&&de&&(ve=de.map(De=>{const[Xe,Ie]=De.time.split(":").map(Number),nt=Xe*60+Ie;return{start:nt,end:nt+De.duration_minutes}}))}const Q=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(de=>de.date===le).map(de=>{const[Me,De]=de.time.split(":").map(Number),Xe=Me*60+De,Ie=de.duration_minutes||60;return{start:Xe,end:Xe+Ie}});C([...ve,...Q])}catch(ve){console.warn("Error fetching slots",ve),C([])}finally{m(!1)}},H=()=>{const ye=[];for(let we=9;we<20;we++)for(let Q=0;Q<60;Q+=30){const de=we*60+Q,Me=de+z;if(Me>1200)continue;if(!_.some(Xe=>de>=Xe.start&&de<Xe.end||Me>Xe.start&&Me<=Xe.end||de<=Xe.start&&Me>=Xe.end)){const Xe=`${we.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`;ye.push(Xe)}}w(ye),i.time&&!ye.includes(i.time)&&s(we=>({...we,time:""}))},ie=()=>{const le={};return i.name||(le.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(le.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(le.email="El formato del email no es vlido"):le.email="El email es obligatorio",i.date||(le.date="Selecciona una fecha"),i.time||(le.time="Selecciona una hora"),i.isHomeService&&!i.address&&(le.address="La direccin es obligatoria para servicio a domicilio"),I(le),Object.keys(le).length===0},X=le=>{const{name:ve,value:ye,type:we}=le.target,Q=le.target.checked;s(de=>({...de,[ve]:we==="checkbox"?Q:ye})),O[ve]&&I(de=>{const Me={...de};return delete Me[ve],Me})},_e=le=>{s(ve=>({...ve,time:le})),O.time&&I(ve=>{const ye={...ve};return delete ye.time,ye})},me=async()=>{const le=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),ve={id:Date.now(),...i,duration_minutes:z,created_at:new Date().toISOString()};if(le.push(ve),localStorage.setItem("mock_bookings",JSON.stringify(le)),ct)try{const{error:ye}=await ct.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});ye&&console.warn("Error saving lead:",ye),await ct.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:z}])}catch(ye){console.warn("Supabase save failed, relying on local:",ye)}},fe=le=>{const ye=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(we=>we.id!==le);localStorage.setItem("mock_bookings",JSON.stringify(ye))},Ee=()=>{k&&(fe(k.id),M(null),j(!1))},ke=()=>{j(!1),s(le=>({...le,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${k.date} a las ${k.time}) se mantiene. Gracias!`)},ne=K0(),Le=async le=>{if(!ie())return;f(!0),await me();const ve=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,ye=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),we=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${ve}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${z} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${ye}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(Q=>setTimeout(Q,800)),f(!1),e&&e(i),ne("/confirmation",{state:{booking:i,totalPrice:W,duration:z}});{const Q=`https://wa.me/${cc}?text=${encodeURIComponent(we)}`;window.open(Q,"_blank")}};return E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[L&&k&&E.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:E.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[E.jsx(wO,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),E.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),E.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",E.jsx("strong",{children:k.name})," el da ",E.jsx("strong",{children:k.date})," a las ",E.jsx("strong",{children:k.time}),"."]}),E.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),E.jsxs("div",{className:"space-y-3",children:[E.jsx("button",{onClick:Ee,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),E.jsx("button",{onClick:ke,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!ct&&E.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[E.jsx(Y6,{size:12})," MODO DEMO"]}),E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),E.jsxs("div",{className:"relative mb-6",children:[E.jsx("select",{value:t,onChange:le=>r(le.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:ic.map(le=>E.jsxs("option",{value:le.id,children:[le.name," - $",le.price.toLocaleString("es-CL")]},le.id))}),E.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:E.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),E.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),E.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[E.jsxs("div",{children:[E.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),E.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[z," min"]}),E.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),E.jsx("div",{className:"mb-4",children:E.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[E.jsx("div",{className:"flex items-center h-5 mt-0.5",children:E.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:X,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),E.jsxs("div",{className:"ml-3",children:[E.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),E.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",yj.join(", "),". ",E.jsx("br",{}),E.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),E.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),E.jsx("ul",{className:"space-y-2",children:n.includes.map((le,ve)=>E.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[E.jsx(Jy,{size:14,className:"text-stone-900 mr-2"}),le]},ve))})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),E.jsx("input",{type:"text",name:"name",value:i.name,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),O.name&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.name})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),E.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),O.phone&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.phone})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),E.jsx("input",{type:"email",name:"email",value:i.email,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${O.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),O.email&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.email})]})]}),E.jsxs("div",{className:"animate-in fade-in pt-2",children:[E.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[E.jsx(nx,{size:12})," Quin te recomend? (Opcional)"]}),E.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:X,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&E.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",name:"address",value:i.address,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${O.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),E.jsx(EO,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),O.address&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.address})]})]})]})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:X,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${O.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),E.jsx(z6,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),O.date&&E.jsx("p",{className:"text-red-500 text-xs mt-1",children:O.date})]}),i.date&&E.jsxs("div",{className:"animate-in fade-in",children:[E.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[E.jsx("span",{children:"Horas Disponibles"}),p&&E.jsxs("span",{className:"flex items-center text-stone-400",children:[E.jsx(Zu,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),v.length>0?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:v.map(le=>E.jsx("button",{onClick:()=>_e(le),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===le?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:le},le))}),O.time&&E.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:O.time})]}):E.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:p?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&E.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[E.jsx(W6,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),E.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[E.jsxs("button",{onClick:()=>Le(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?E.jsx(Zu,{className:"animate-spin"}):E.jsx(lj,{size:22}),E.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),E.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},kM=({onSelectPerfume:e})=>{const[t,r]=N.useState(!1),[n,i]=N.useState(""),[s,c]=N.useState([]),[f,p]=N.useState(!1),m=w=>{if(w.preventDefault(),!n.trim())return;const _=n.toLowerCase().split(/[\s,]+/).filter(I=>I.length>2),O=io.map(I=>{let k=0;const M=[],L=(j,z)=>{_.forEach(W=>{j.toLowerCase().includes(W)&&(k+=z,M.includes(W)||M.push(W))})};return L(I.name,3),L(I.description,1),L(I.brand,2),I.notes.forEach(j=>L(j,2)),L(I.category==="arab"?"arabe":"clasico",2),{perfume:I,score:k,matches:M}}).filter(I=>I.score>0).sort((I,k)=>k.score-I.score).slice(0,3);c(O),p(!0)},v=()=>{i(""),c([]),p(!1)};return E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[E.jsx(pc,{size:24,className:"animate-pulse"}),E.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[E.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:E.jsx(no,{size:24})}),E.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[E.jsx(pc,{className:"text-yellow-300"})," Asesor de Aromas"]}),E.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),E.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?E.jsx("div",{className:"space-y-4",children:s.length>0?E.jsxs(E.Fragment,{children:[E.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),s.map(({perfume:w,matches:_},C)=>E.jsxs("div",{onClick:()=>{e(w.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[E.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[C===0&&E.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),E.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})]}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:w.name}),E.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:w.brand}),E.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(O=>E.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",O]},O))})]})]},w.id)),E.jsx("button",{onClick:v,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),E.jsx("button",{onClick:v,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):E.jsxs("div",{className:"text-center py-8",children:[E.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:E.jsx(tx,{size:48,className:"text-purple-400"})}),E.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),E.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",E.jsx("br",{}),'"Algo dulce con vainilla"',E.jsx("br",{}),'"Fresco y ctrico para el da"',E.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),E.jsx("form",{onSubmit:m,className:"p-4 border-t border-stone-100 bg-stone-50",children:E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),E.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?E.jsx(Z0,{size:20}):E.jsx(AO,{size:20})})]})})]})})]})},RM=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(null),[i,s]=N.useState("all"),[c,f]=N.useState({});N.useEffect(()=>{p()},[]);const p=async()=>{const{data:L}=await ct.from("inventory").select("product_id, quantity");if(L){const j={};L.forEach(z=>{j[z.product_id]=z.quantity}),f(j)}},m=L=>{t("");const j=io.find(z=>z.id===L);j&&(s(j.category),setTimeout(()=>{const z=document.getElementById(`perfume-${L}`);z&&z.scrollIntoView({behavior:"smooth",block:"center"}),z?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>z?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},v=N.useMemo(()=>{const L=new Set;return io.forEach(j=>j.notes.forEach(z=>L.add(z))),Array.from(L).sort()},[]),w=N.useMemo(()=>io.filter(L=>{const j=L.name.toLowerCase().includes(e.toLowerCase())||L.brand.toLowerCase().includes(e.toLowerCase()),z=r?L.notes.includes(r):!0,W=i==="all"||L.category===i;return j&&z&&W}).sort((L,j)=>{const z=c[L.id]!==void 0?c[L.id]>0:L.stock,W=c[j.id]!==void 0?c[j.id]>0:j.stock;return z===W?0:z?-1:1}),[e,r,i,c]),_=w.filter(L=>L.category==="classic"),C=w.filter(L=>L.category==="arab"),O=(L,j)=>{const z=j==="5ml"?L.price5ml:L.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${L.brand} - ${L.name}* en formato *${j}* por $${z}. Tienen disponibilidad?`,V=`https://wa.me/${cc}?text=${encodeURIComponent(W)}`;window.open(V,"_blank")},I=L=>{if(!L.priceFullBottle)return;const j=`Hola Tus3B Style, quiero comprar la botella completa de *${L.brand} - ${L.name}* por $${L.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,z=`https://wa.me/${cc}?text=${encodeURIComponent(j)}`;window.open(z,"_blank")},k=()=>{window.open(`https://wa.me/${cc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},M=L=>E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((j,z)=>E.jsxs("div",{className:"group flex flex-col h-full",children:[E.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&E.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:z+1}),E.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[E.jsx("img",{src:j.image,alt:j.name,className:`w-full h-full object-contain ${j.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),j.secondaryImage&&E.jsx("img",{src:j.secondaryImage,alt:`${j.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),E.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!j.stock&&E.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:E.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),E.jsxs("div",{className:"flex-1 flex flex-col",children:[E.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:j.brand}),E.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:j.name}),E.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:j.description}),E.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:j.notes.slice(0,3).map(W=>E.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),E.jsxs("div",{className:"mt-auto space-y-3",children:[!j.isSpray&&E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("button",{onClick:()=>O(j,"5ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[E.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),E.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price5ml.toLocaleString("es-CL")]})]}),E.jsxs("button",{onClick:()=>O(j,"10ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[E.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),E.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price10ml.toLocaleString("es-CL")]})]})]}),j.priceFullBottle&&E.jsxs("button",{onClick:()=>I(j),disabled:!(c[j.id]!==void 0?c[j.id]>0:j.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[j.id]!==void 0?c[j.id]>0:j.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[E.jsx(Qu,{size:14}),E.jsxs("span",{children:["Botella ",j.isSpray?"200ml":"100ml"," - $",j.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},j.id))});return E.jsxs("div",{className:"space-y-16 fade-in",children:[E.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),E.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),E.jsxs("div",{className:"relative w-full md:w-72",children:[E.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:L=>t(L.target.value)}),E.jsx(Z0,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),E.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:E.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[E.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),v.map(L=>E.jsx("button",{onClick:()=>n(r===L?null:L),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===L?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:L},L))]})})]}),E.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),E.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),E.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),E.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",E.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),E.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),E.jsxs("ul",{className:"space-y-4 pt-2",children:[E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:E.jsx(qu,{size:14,className:"text-green-500"})}),E.jsxs("span",{className:"text-stone-700 text-sm",children:[E.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:E.jsx(qu,{size:14,className:"text-green-500"})}),E.jsxs("span",{className:"text-stone-700 text-sm",children:[E.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:E.jsx(qu,{size:14,className:"text-green-500"})}),E.jsxs("span",{className:"text-stone-700 text-sm",children:[E.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),E.jsxs("div",{className:"relative",children:[E.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:L=>L.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),E.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx(_O,{fill:"#fbbf24",className:"text-amber-400",size:16}),E.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),E.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const L=W=>W.some(V=>c[V.id]!==void 0?c[V.id]>0:V.stock),z=[{id:"arab",hasStock:L(C),items:C,render:()=>E.jsxs("section",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[E.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:E.jsx(pc,{size:24,className:"text-purple-600"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),E.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),M(C)]},"arab")},{id:"classic",hasStock:L(_),items:_,render:()=>E.jsxs("section",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[E.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:E.jsx(V6,{size:24,className:"text-stone-800"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),E.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),M(_)]},"classic")}].sort((W,V)=>W.hasStock===V.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return z.map((W,V)=>E.jsxs(pr.Fragment,{children:[W.items.length>0&&W.render(),V===0&&z.length>1&&z[1].items.length>0&&z[0].items.length>0&&E.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),w.length===0&&E.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[E.jsx(Qu,{size:48,className:"mx-auto text-stone-300 mb-4"}),E.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),E.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),E.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[E.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[E.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:E.jsx(J6,{size:32,className:"text-yellow-200"})}),E.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),E.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),E.jsxs("button",{onClick:k,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[E.jsx(tx,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),E.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),E.jsx(kM,{onSelectPerfume:m})]})},jM=()=>E.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[E.jsxs("div",{children:[E.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",E.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),E.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),E.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[E.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),E.jsxs("a",{href:`https://wa.me/${cc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[E.jsx(tx,{size:16})," WhatsApp: +56 9 8452 4774"]}),E.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),E.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),E.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[E.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),E.jsx("div",{className:"flex space-x-4",children:E.jsx("a",{href:mj,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:E.jsx(Z6,{size:20})})})]})]}),E.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),MM=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],Zl={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},DM=e=>{const t=e.toLowerCase();return MM.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},LM=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return Zl.concepts;if(r.includes("oud")||r.includes("arabe"))return Zl.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return Zl.greeting;if(r.includes("precio")||r.includes("valor"))return Zl.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return Zl.shipping;const n=DM(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const s=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${s}

Quieres detalles de alguno?`}return Zl.default},BM=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},FM=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[i,s]=N.useState(""),[c,f]=N.useState(!1),p=N.useRef(null),m=()=>{p.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{m()},[r,e]);const v=async()=>{if(!i.trim()||c)return;const _=i;n(O=>[...O,{role:"user",text:_}]),s(""),f(!0);const C=r.map(O=>`${O.role==="user"?"Usuario":"Bot"}: ${O.text}`);try{const O=await LM(_,C);n(I=>[...I,{role:"bot",text:O}])}catch{n(I=>[...I,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}f(!1)},w=_=>{_.key==="Enter"&&v()};return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?E.jsx(no,{color:"white"}):E.jsx(pc,{color:"white"})}),e&&E.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[E.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[E.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:E.jsx(pc,{size:16,className:"text-yellow-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),E.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((_,C)=>E.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:E.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${_.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:_.text})},C)),c&&E.jsx("div",{className:"flex justify-start",children:E.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[E.jsx(Zu,{size:16,className:"animate-spin text-stone-400"}),E.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),E.jsx("div",{ref:p})]}),E.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[E.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),onKeyDown:w,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),E.jsx("button",{onClick:v,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:E.jsx(AO,{size:16})})]})]})]})},UM=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(N.useEffect(()=>{window.scrollTo(0,0)},[]),E.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:E.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),E.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:E.jsx(Jy,{size:40,strokeWidth:2.5})}),E.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),E.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&E.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[E.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[E.jsx(EO,{size:14})," Direccin del Servicio"]}),E.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),E.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[E.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[E.jsx(X6,{size:20}),"Regresar al Inicio"]}),E.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[E.jsx(Qu,{size:20}),E.jsxs("span",{children:["Venta de Perfumes ",E.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),zM=()=>E.jsx("section",{className:"py-24 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),E.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:xj.map(e=>E.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[E.jsx(nj,{className:"absolute top-6 right-6 text-stone-200",size:40}),E.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>E.jsx(_O,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),E.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),E.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),E.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),E.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var $M=Object.defineProperty,Kh=Object.getOwnPropertySymbols,WI=Object.prototype.hasOwnProperty,VI=Object.prototype.propertyIsEnumerable,XE=(e,t,r)=>t in e?$M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lv=(e,t)=>{for(var r in t||(t={}))WI.call(t,r)&&XE(e,r,t[r]);if(Kh)for(var r of Kh(t))VI.call(t,r)&&XE(e,r,t[r]);return e},Bv=(e,t)=>{var r={};for(var n in e)WI.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Kh)for(var n of Kh(e))t.indexOf(n)<0&&VI.call(e,n)&&(r[n]=e[n]);return r};var nl;(e=>{const t=class St{constructor(p,m,v,w){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<St.MIN_VERSION||p>St.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let _=[];for(let O=0;O<this.size;O++)_.push(!1);for(let O=0;O<this.size;O++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const C=this.addEccAndInterleave(v);if(this.drawCodewords(C),w==-1){let O=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);const k=this.getPenaltyScore();k<O&&(w=I,O=k),this.applyMask(I)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(p,m){const v=e.QrSegment.makeSegments(p);return St.encodeSegments(v,m)}static encodeBinary(p,m){const v=e.QrSegment.makeBytes(p);return St.encodeSegments([v],m)}static encodeSegments(p,m,v=1,w=40,_=-1,C=!0){if(!(St.MIN_VERSION<=v&&v<=w&&w<=St.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let O,I;for(O=v;;O++){const j=St.getNumDataCodewords(O,m)*8,z=c.getTotalBits(p,O);if(z<=j){I=z;break}if(O>=w)throw new RangeError("Data too long")}for(const j of[St.Ecc.MEDIUM,St.Ecc.QUARTILE,St.Ecc.HIGH])C&&I<=St.getNumDataCodewords(O,j)*8&&(m=j);let k=[];for(const j of p){r(j.mode.modeBits,4,k),r(j.numChars,j.mode.numCharCountBits(O),k);for(const z of j.getData())k.push(z)}i(k.length==I);const M=St.getNumDataCodewords(O,m)*8;i(k.length<=M),r(0,Math.min(4,M-k.length),k),r(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let j=236;k.length<M;j^=253)r(j,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((j,z)=>L[z>>>3]|=j<<7-(z&7)),new St(O,m,L,_)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let v=0;v<m;v++)for(let w=0;w<m;w++)v==0&&w==0||v==0&&w==m-1||v==m-1&&w==0||this.drawAlignmentPattern(p[v],p[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let v=m;for(let _=0;_<10;_++)v=v<<1^(v>>>9)*1335;const w=(m<<10|v)^21522;i(w>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,n(w,_));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,n(w,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,n(w,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,n(w,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let v=0;v<12;v++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;i(m>>>18==0);for(let v=0;v<18;v++){const w=n(m,v),_=this.size-11+v%3,C=Math.floor(v/3);this.setFunctionModule(_,C,w),this.setFunctionModule(C,_,w)}}drawFinderPattern(p,m){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const _=Math.max(Math.abs(w),Math.abs(v)),C=p+w,O=m+v;0<=C&&C<this.size&&0<=O&&O<this.size&&this.setFunctionModule(C,O,_!=2&&_!=4)}}drawAlignmentPattern(p,m){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(p+w,m+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(p,m,v){this.modules[m][p]=v,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,v=this.errorCorrectionLevel;if(p.length!=St.getNumDataCodewords(m,v))throw new RangeError("Invalid argument");const w=St.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m],_=St.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m],C=Math.floor(St.getNumRawDataModules(m)/8),O=w-C%w,I=Math.floor(C/w);let k=[];const M=St.reedSolomonComputeDivisor(_);for(let j=0,z=0;j<w;j++){let W=p.slice(z,z+I-_+(j<O?0:1));z+=W.length;const V=St.reedSolomonComputeRemainder(W,M);j<O&&W.push(0),k.push(W.concat(V))}let L=[];for(let j=0;j<k[0].length;j++)k.forEach((z,W)=>{(j!=I-_||W>=O)&&L.push(z[j])});return i(L.length==C),L}drawCodewords(p){if(p.length!=Math.floor(St.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let _=0;_<2;_++){const C=v-_,I=(v+1&2)==0?this.size-1-w:w;!this.isFunction[I][C]&&m<p.length*8&&(this.modules[I][C]=n(p[m>>>3],7-(m&7)),m++)}}i(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let v=0;v<this.size;v++){let w;switch(p){case 0:w=(v+m)%2==0;break;case 1:w=m%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+m)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(m/2))%2==0;break;case 5:w=v*m%2+v*m%3==0;break;case 6:w=(v*m%2+v*m%3)%2==0;break;case 7:w=((v+m)%2+v*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][v]&&w&&(this.modules[m][v]=!this.modules[m][v])}}getPenaltyScore(){let p=0;for(let _=0;_<this.size;_++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[_][k]==C?(O++,O==5?p+=St.PENALTY_N1:O>5&&p++):(this.finderPenaltyAddHistory(O,I),C||(p+=this.finderPenaltyCountPatterns(I)*St.PENALTY_N3),C=this.modules[_][k],O=1);p+=this.finderPenaltyTerminateAndCount(C,O,I)*St.PENALTY_N3}for(let _=0;_<this.size;_++){let C=!1,O=0,I=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][_]==C?(O++,O==5?p+=St.PENALTY_N1:O>5&&p++):(this.finderPenaltyAddHistory(O,I),C||(p+=this.finderPenaltyCountPatterns(I)*St.PENALTY_N3),C=this.modules[k][_],O=1);p+=this.finderPenaltyTerminateAndCount(C,O,I)*St.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let C=0;C<this.size-1;C++){const O=this.modules[_][C];O==this.modules[_][C+1]&&O==this.modules[_+1][C]&&O==this.modules[_+1][C+1]&&(p+=St.PENALTY_N2)}let m=0;for(const _ of this.modules)m=_.reduce((C,O)=>C+(O?1:0),m);const v=this.size*this.size,w=Math.ceil(Math.abs(m*20-v*10)/v)-1;return i(0<=w&&w<=9),p+=w*St.PENALTY_N4,i(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let v=[6];for(let w=this.size-7;v.length<p;w-=m)v.splice(1,0,w);return v}}static getNumRawDataModules(p){if(p<St.MIN_VERSION||p>St.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const v=Math.floor(p/7)+2;m-=(25*v-10)*v-55,p>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(St.getNumRawDataModules(p)/8)-St.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*St.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let w=0;w<p-1;w++)m.push(0);m.push(1);let v=1;for(let w=0;w<p;w++){for(let _=0;_<m.length;_++)m[_]=St.reedSolomonMultiply(m[_],v),_+1<m.length&&(m[_]^=m[_+1]);v=St.reedSolomonMultiply(v,2)}return m}static reedSolomonComputeRemainder(p,m){let v=m.map(w=>0);for(const w of p){const _=w^v.shift();v.push(0),m.forEach((C,O)=>v[O]^=St.reedSolomonMultiply(C,_))}return v}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(m>>>w&1)*p;return i(v>>>8==0),v}finderPenaltyCountPatterns(p){const m=p[1];i(m<=this.size*3);const v=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(v&&p[0]>=m*4&&p[6]>=m?1:0)+(v&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,v){return p&&(this.finderPenaltyAddHistory(m,v),m=0),m+=this.size,this.finderPenaltyAddHistory(m,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,p,m){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)m.push(f>>>v&1)}function n(f,p){return(f>>>p&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const s=class Ir{constructor(p,m,v){if(this.mode=p,this.numChars=m,this.bitData=v,m<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(p){let m=[];for(const v of p)r(v,8,m);return new Ir(Ir.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!Ir.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let v=0;v<p.length;){const w=Math.min(p.length-v,3);r(parseInt(p.substring(v,v+w),10),w*3+1,m),v+=w}return new Ir(Ir.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!Ir.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],v;for(v=0;v+2<=p.length;v+=2){let w=Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v))*45;w+=Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v+1)),r(w,11,m)}return v<p.length&&r(Ir.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v)),6,m),new Ir(Ir.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:Ir.isNumeric(p)?[Ir.makeNumeric(p)]:Ir.isAlphanumeric(p)?[Ir.makeAlphanumeric(p)]:[Ir.makeBytes(Ir.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,m);else if(p<16384)r(2,2,m),r(p,14,m);else if(p<1e6)r(6,3,m),r(p,21,m);else throw new RangeError("ECI assignment value out of range");return new Ir(Ir.Mode.ECI,0,m)}static isNumeric(p){return Ir.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Ir.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let v=0;for(const w of p){const _=w.mode.numCharCountBits(m);if(w.numChars>=1<<_)return 1/0;v+=4+_+w.bitData.length}return v}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let v=0;v<p.length;v++)p.charAt(v)!="%"?m.push(p.charCodeAt(v)):(m.push(parseInt(p.substring(v+1,v+3),16)),v+=2);return m}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=s;e.QrSegment=s})(nl||(nl={}));(e=>{(t=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(nl||(nl={}));(e=>{(t=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(nl||(nl={}));var ac=nl;var WM={L:ac.QrCode.Ecc.LOW,M:ac.QrCode.Ecc.MEDIUM,Q:ac.QrCode.Ecc.QUARTILE,H:ac.QrCode.Ecc.HIGH},HI=128,GI="L",qI="#FFFFFF",KI="#000000",XI=!1,YI=1,VM=4,HM=0,GM=.1;function ZI(e,t=0){const r=[];return e.forEach(function(n,i){let s=null;n.forEach(function(c,f){if(!c&&s!==null){r.push(`M${s+t} ${i+t}h${f-s}v1H${s+t}z`),s=null;return}if(f===n.length-1){if(!c)return;s===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${s+t},${i+t} h${f+1-s}v1H${s+t}z`);return}c&&s===null&&(s=f)})}),r.join("")}function QI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function qM(e,t,r,n){if(n==null)return null;const i=e.length+r*2,s=Math.floor(t*GM),c=i/t,f=(n.width||s)*c,p=(n.height||s)*c,m=n.x==null?e.length/2-f/2:n.x*c,v=n.y==null?e.length/2-p/2:n.y*c,w=n.opacity==null?1:n.opacity;let _=null;if(n.excavate){let O=Math.floor(m),I=Math.floor(v),k=Math.ceil(f+m-O),M=Math.ceil(p+v-I);_={x:O,y:I,w:k,h:M}}const C=n.crossOrigin;return{x:m,y:v,h:p,w:f,excavation:_,opacity:w,crossOrigin:C}}function KM(e,t){return t!=null?Math.max(Math.floor(t),0):e?VM:HM}function JI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:c,boostLevel:f}){let p=pr.useMemo(()=>{const O=(Array.isArray(e)?e:[e]).reduce((I,k)=>(I.push(...ac.QrSegment.makeSegments(k)),I),[]);return ac.QrCode.encodeSegments(O,WM[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:m,margin:v,numCells:w,calculatedImageSettings:_}=pr.useMemo(()=>{let C=p.getModules();const O=KM(n,i),I=C.length+O*2,k=qM(C,c,O,s);return{cells:C,margin:O,numCells:I,calculatedImageSettings:k}},[p,c,s,n,i]);return{qrcode:p,margin:v,cells:m,numCells:w,calculatedImageSettings:_}}var XM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),YM=pr.forwardRef(function(t,r){const n=t,{value:i,size:s=HI,level:c=GI,bgColor:f=qI,fgColor:p=KI,includeMargin:m=XI,minVersion:v=YI,boostLevel:w,marginSize:_,imageSettings:C}=n,I=Bv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=I,M=Bv(I,["style"]),L=C?.src,j=pr.useRef(null),z=pr.useRef(null),W=pr.useCallback(ke=>{j.current=ke,typeof r=="function"?r(ke):r&&(r.current=ke)},[r]),[V,H]=pr.useState(!1),{margin:ie,cells:X,numCells:_e,calculatedImageSettings:me}=JI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:_,imageSettings:C,size:s});pr.useEffect(()=>{if(j.current!=null){const ke=j.current,ne=ke.getContext("2d");if(!ne)return;let Le=X;const le=z.current,ve=me!=null&&le!==null&&le.complete&&le.naturalHeight!==0&&le.naturalWidth!==0;ve&&me.excavation!=null&&(Le=QI(X,me.excavation));const ye=window.devicePixelRatio||1;ke.height=ke.width=s*ye;const we=s/_e*ye;ne.scale(we,we),ne.fillStyle=f,ne.fillRect(0,0,_e,_e),ne.fillStyle=p,XM?ne.fill(new Path2D(ZI(Le,ie))):X.forEach(function(Q,de){Q.forEach(function(Me,De){Me&&ne.fillRect(De+ie,de+ie,1,1)})}),me&&(ne.globalAlpha=me.opacity),ve&&ne.drawImage(le,me.x+ie,me.y+ie,me.w,me.h)}}),pr.useEffect(()=>{H(!1)},[L]);const fe=Lv({height:s,width:s},k);let Ee=null;return L!=null&&(Ee=pr.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{H(!0)},ref:z,crossOrigin:me?.crossOrigin})),pr.createElement(pr.Fragment,null,pr.createElement("canvas",Lv({style:fe,height:s,width:s,ref:W,role:"img"},M)),Ee)});YM.displayName="QRCodeCanvas";var hx=pr.forwardRef(function(t,r){const n=t,{value:i,size:s=HI,level:c=GI,bgColor:f=qI,fgColor:p=KI,includeMargin:m=XI,minVersion:v=YI,boostLevel:w,title:_,marginSize:C,imageSettings:O}=n,I=Bv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:M,numCells:L,calculatedImageSettings:j}=JI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:C,imageSettings:O,size:s});let z=M,W=null;O!=null&&j!=null&&(j.excavation!=null&&(z=QI(M,j.excavation)),W=pr.createElement("image",{href:O.src,height:j.h,width:j.w,x:j.x+k,y:j.y+k,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const V=ZI(z,k);return pr.createElement("svg",Lv({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},I),!!_&&pr.createElement("title",null,_),pr.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),pr.createElement("path",{fill:p,d:V,shapeRendering:"crispEdges"}),W)});hx.displayName="QRCodeSVG";const ZM=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[s,c]=N.useState(!1),p=(v=>{switch(v==="Silver"&&(v="Bronce"),v){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return E.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!s),children:[E.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${s?"rotate-y-180":""}`,children:[E.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[560px] border border-stone-800",children:[E.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",E.jsx("span",{className:"text-amber-500",children:"Style"})]}),E.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:p.name})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),E.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),E.jsxs("div",{className:"px-6 py-4 z-10",children:[E.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((v,w)=>E.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${w<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:w<r&&E.jsx(qu,{size:20,className:"text-stone-950 stroke-[4]"})},w))}),E.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[E.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),E.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),E.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),E.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),E.jsx("div",{className:"w-px h-10 bg-stone-800"}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),E.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),E.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[E.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[E.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),E.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),E.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),E.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[E.jsx(hx,{value:t,size:160,level:"M"}),E.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]})]}),E.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${p.bgGradient} z-0`})]}),E.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[560px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[E.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),E.jsx(q6,{className:"text-stone-500"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),E.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),E.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),E.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),E.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),E.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),E.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),E.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),E.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),E.jsx("div",{className:"text-center",children:E.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),E.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},QM=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(!1),[i,s]=N.useState(null),[c,f]=N.useState(!1),[p,m]=N.useState(""),[v,w]=N.useState(""),[_,C]=N.useState(""),O=L=>{let j=L.replace(/[^0-9kK]/g,"").toUpperCase();return j=j.replace("K","0"),j},I=L=>{const j=L.target.value.replace(/[^0-9]/g,"");j.length<=8&&t(j)},k=async L=>{L&&L.preventDefault();const z=new URLSearchParams(window.location.search).get("token");if(!(!z&&e.length<8)){n(!0);try{let W=ct.from("clients").select("*");z?W=W.eq("member_token",z):W=W.eq("phone","+569"+e);const{data:V,error:H}=await W.single();if(V){const ie=V.visits||0;let X="Bronce";ie>=10?X="Gold":ie>=5&&(X="Plata"),s({name:V.name,visits:ie,referrals:V.referrals,nextReward:ie<5?5:ie<10?10:15,token:V.member_token,tier:X,hair_service_count:V.hair_service_count||0}),f(!1)}else z||f(!0)}catch(W){console.error("Error checking loyalty:",W)}finally{n(!1)}}},M=async L=>{L.preventDefault(),n(!0);try{const j=O(_),z="+569"+e,{data:W,error:V}=await ct.from("clients").insert([{name:`${p} ${v}`,phone:z,rut:j,visits:0,referrals:0,hair_service_count:0}]).select();if(V)throw V;if(W&&W[0]){const H=W[0];s({name:H.name,visits:0,referrals:0,nextReward:5,token:H.member_token,tier:"Bronce",hair_service_count:0}),f(!1)}}catch(j){console.error("Error registering:",j),alert("No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return pr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&k()},[]),E.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[E.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),E.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),E.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!i&&!c&&E.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[E.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),E.jsxs("form",{onSubmit:k,className:"space-y-4",children:[E.jsxs("div",{className:"relative group",children:[E.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-500 font-mono text-lg z-10 pointer-events-none border-r border-stone-800 pr-3 h-6 flex items-center",children:"+569"}),E.jsx("input",{type:"tel",value:e,onChange:I,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 pl-[5.5rem] pr-12 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono tracking-normal md:tracking-widest text-lg"}),E.jsx(Z0,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]}),E.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?E.jsx(Zu,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!i&&c&&E.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:E.jsx(nx,{size:24})}),E.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),E.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",E.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),E.jsxs("form",{onSubmit:M,className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:p,onChange:L=>m(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),E.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:v,onChange:L=>w(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),E.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:_,onChange:L=>C(L.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),E.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?E.jsx(Zu,{className:"animate-spin"}):"Registrarme"}),E.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),i&&E.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[E.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:E.jsx(ZM,{clientName:i.name||"Miembro Exclusivo",token:i.token||"pending-token",visits:i.visits,nextReward:5,tier:i.tier})}),E.jsxs("div",{className:"text-center space-y-4",children:[E.jsx("p",{className:"text-sm text-stone-400",children:i.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),E.jsx("button",{onClick:()=>{s(null),t(""),f(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},JM=({onLogin:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[s,c]=N.useState(""),[f,p]=N.useState(!1),m=async v=>{v.preventDefault(),c(""),p(!0);try{if(await new Promise(w=>setTimeout(w,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(w){console.error(w),c("Error local simulado")}finally{p(!1)}};return E.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[E.jsx(oj,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),E.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),E.jsxs("form",{onSubmit:m,className:"space-y-4",children:[E.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),E.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),s&&E.jsx("p",{className:"text-red-500 text-sm",children:s}),E.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),E.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var We;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var YE=new Map([[We.QR_CODE,"QR_CODE"],[We.AZTEC,"AZTEC"],[We.CODABAR,"CODABAR"],[We.CODE_39,"CODE_39"],[We.CODE_93,"CODE_93"],[We.CODE_128,"CODE_128"],[We.DATA_MATRIX,"DATA_MATRIX"],[We.MAXICODE,"MAXICODE"],[We.ITF,"ITF"],[We.EAN_13,"EAN_13"],[We.EAN_8,"EAN_8"],[We.PDF_417,"PDF_417"],[We.RSS_14,"RSS_14"],[We.RSS_EXPANDED,"RSS_EXPANDED"],[We.UPC_A,"UPC_A"],[We.UPC_E,"UPC_E"],[We.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ZE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ZE||(ZE={}));function eD(e){return Object.values(We).includes(e)}var Xh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Xh||(Xh={}));var tD=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Xh.SCAN_TYPE_CAMERA,Xh.SCAN_TYPE_FILE],e})(),eN=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!YE.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,YE.get(t))},e})(),QE=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Fv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Fv||(Fv={}));var rD=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Fv.UNKWOWN_ERROR}},e})(),nD=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function rs(e){return typeof e>"u"||e===null}var sc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),tN=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(t),f=0,p=c;f<p.length;f++){var m=p[f];if(s.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Wu={exports:{}},iD=Wu.exports,JE;function aD(){return JE||(JE=1,(function(e,t){(function(r,n){n(t)})(iD,(function(r){function n(B){return B==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,a){B.__proto__=a}||function(B,a){for(var l in a)a.hasOwnProperty(l)&&(B[l]=a[l])};function s(B,a){i(B,a);function l(){this.constructor=B}B.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function c(B,a){var l=Object.setPrototypeOf;l?l(B,a):B.__proto__=a}function f(B,a){a===void 0&&(a=B.constructor);var l=Error.captureStackTrace;l&&l(B,a)}var p=(function(B){s(a,B);function a(l){var u=this.constructor,h=B.call(this,l)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),c(h,u.prototype),f(h),h}return a})(Error);class m extends p{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class _{constructor(a){if(this.binarizer=a,a===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,u,h){const g=this.binarizer.getLuminanceSource().crop(a,l,u,h);return new _(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends m{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class O{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(a,l,u,h,g){for(;g--;)u[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class M extends k{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}M.kind="ArrayIndexOutOfBoundsException";class L{static fill(a,l){for(let u=0,h=a.length;u<h;u++)a[u]=l}static fillWithin(a,l,u,h){L.rangeCheck(a.length,l,u);for(let g=l;g<u;g++)a[g]=h}static rangeCheck(a,l,u){if(l>u)throw new w("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new M(l);if(u>a)throw new M(u)}static asList(...a){return a}static create(a,l,u){return Array.from({length:a}).map(g=>Array.from({length:l}).fill(u))}static createInt32Array(a,l,u){return Array.from({length:a}).map(g=>Int32Array.from({length:l}).fill(u))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==l[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const u of a)l=31*l+u;return l}static fillUint8Array(a,l){for(let u=0;u!==a.length;u++)a[u]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const u=new Uint8Array(l);return u.set(a),u}return a.slice(0,l)}static copyOfRange(a,l,u){const h=u-l,g=new Int32Array(h);return I.arraycopy(a,l,g,0,h),g}static binarySearch(a,l,u){u===void 0&&(u=L.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const y=g+h>>1,b=u(l,a[y]);if(b>0)h=y+1;else if(b<0)g=y-1;else return y}return-h-1}static numberComparator(a,l){return a-l}}class j{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let u=31;return l=a<<16,l!==0&&(u-=16,a=l),l=a<<8,l!==0&&(u-=8,a=l),l=a<<4,l!==0&&(u-=4,a=l),l=a<<2,l!==0&&(u-=2,a=l),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=z.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=z.makeArray(a);I.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const y=u.length;for(;g===0;){if(++h===y)return l;g=u[h]}const b=h*32+j.numberOfTrailingZeros(g);return b>l?l:b}getNextUnset(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const y=u.length;for(;g===0;){if(++h===y)return l;g=~u[h]}const b=h*32+j.numberOfTrailingZeros(g);return b>l?l:b}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new w;if(l===a)return;l--;const u=Math.floor(a/32),h=Math.floor(l/32),g=this.bits;for(let y=u;y<=h;y++){const b=y>u?0:a&31,T=(2<<(y<h?31:l&31))-(1<<b);g[y]|=T}}clear(){const a=this.bits.length,l=this.bits;for(let u=0;u<a;u++)l[u]=0}isRange(a,l,u){if(l<a||a<0||l>this.size)throw new w;if(l===a)return!0;l--;const h=Math.floor(a/32),g=Math.floor(l/32),y=this.bits;for(let b=h;b<=g;b++){const S=b>h?0:a&31,D=(2<<(b<g?31:l&31))-(1<<S)&4294967295;if((y[b]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new w("Sizes don't match");const l=this.bits;for(let u=0,h=l.length;u<h;u++)l[u]^=a.bits[u]}toBytes(a,l,u,h){for(let g=0;g<h;g++){let y=0;for(let b=0;b<8;b++)this.get(a)&&(y|=1<<7-b),a++;l[u+g]=y}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,h=this.bits;for(let g=0;g<u;g++){let y=h[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,a[l-g]=y}if(this.size!==u*32){const g=u*32-this.size;let y=a[0]>>>g;for(let b=1;b<u;b++){const S=a[b];y|=S<<32-g,a[b-1]=y,y=S>>>g}a[u-1]=y}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof z))return!1;const l=a;return this.size===l.size&&L.equals(this.bits,l.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let a="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new z(this.size,this.bits.slice())}}var W;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class H extends m{static getFormatInstance(){return new H}}H.kind="FormatException";var ie;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(ie||(ie={}));class X{constructor(a,l,u,...h){this.valueIdentifier=a,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,X.VALUE_IDENTIFIER_TO_ECI.set(a,this),X.NAME_TO_ECI.set(u,this);const g=this.values;for(let y=0,b=g.length;y!==b;y++){const S=g[y];X.VALUES_TO_ECI.set(S,this)}for(const y of h)X.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new H("incorect value");const l=X.VALUES_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}static getCharacterSetECIByName(a){const l=X.NAME_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}equals(a){if(!(a instanceof X))return!1;const l=a;return this.getName()===l.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(ie.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(ie.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(ie.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(ie.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(ie.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(ie.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(ie.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(ie.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(ie.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(ie.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(ie.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(ie.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(ie.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(ie.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(ie.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(ie.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(ie.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(ie.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(ie.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(ie.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(ie.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(ie.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(ie.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(ie.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(ie.Big5,28,"Big5"),X.GB18030=new X(ie.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(ie.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends m{}_e.kind="UnsupportedOperationException";class me{static decode(a,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!me.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof X?a:X.getCharacterSetECIByName(a)}static decodeFallback(a,l){const u=this.encodingCharacterSet(l);if(me.isDecodeFallbackSupported(u)){let h="";for(let g=0,y=a.length;g<y;g++){let b=a[g].toString(16);b.length<2&&(b="0"+b),h+="%"+b}return decodeURIComponent(h)}if(u.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new _e(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(X.UTF8)||a.equals(X.ISO8859_1)||a.equals(X.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class fe{static castAsNonUtf8Char(a,l=null){const u=l?l.getName():this.ISO88591;return me.decode(new Uint8Array([a]),u)}static guessEncoding(a,l){if(l!=null&&l.get(V.CHARACTER_SET)!==void 0)return l.get(V.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,y=!0,b=0,S=0,T=0,D=0,F=0,$=0,q=0,Y=0,ee=0,ae=0,he=0;const Te=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Pe=0;Pe<u&&(h||g||y);Pe++){const Ce=a[Pe]&255;y&&(b>0?(Ce&128)===0?y=!1:b--:(Ce&128)!==0&&((Ce&64)===0?y=!1:(b++,(Ce&32)===0?S++:(b++,(Ce&16)===0?T++:(b++,(Ce&8)===0?D++:y=!1))))),h&&(Ce>127&&Ce<160?h=!1:Ce>159&&(Ce<192||Ce===215||Ce===247)&&he++),g&&(F>0?Ce<64||Ce===127||Ce>252?g=!1:F--:Ce===128||Ce===160||Ce>239?g=!1:Ce>160&&Ce<224?($++,Y=0,q++,q>ee&&(ee=q)):Ce>127?(F++,q=0,Y++,Y>ae&&(ae=Y)):(q=0,Y=0))}return y&&b>0&&(y=!1),g&&F>0&&(g=!1),y&&(Te||S+T+D>0)?fe.UTF8:g&&(fe.ASSUME_SHIFT_JIS||ee>=3||ae>=3)?fe.SHIFT_JIS:h&&g?ee===2&&$===2||he*10>=u?fe.SHIFT_JIS:fe.ISO88591:h?fe.ISO88591:g?fe.SHIFT_JIS:y?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let u=-1;function h(y,b,S,T,D,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(y);break;case"p":q=parseFloat(l[u]).toPrecision(y);break;case"e":q=parseFloat(l[u]).toExponential(y);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let Y=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;q.length<Y;)q=b!==void 0?q+ee:ee+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,l){return me.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}fe.SHIFT_JIS=X.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=X.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=X.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class Ee{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,u){for(let h=l;l<l+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class ke{constructor(a,l,u,h){if(this.width=a,this.height=l,this.rowSize=u,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new w("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,u=a[0].length,h=new ke(u,l);for(let g=0;g<l;g++){const y=a[g];for(let b=0;b<u;b++)y[b]&&h.set(b,g)}return h}static parseFromString(a,l,u){if(a===null)throw new w("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,y=0,b=-1,S=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(g>y){if(b===-1)b=g-y;else if(g-y!==b)throw new w("row lengths do not match");y=g,S++}T++}else if(a.substring(T,T+l.length)===l)T+=l.length,h[g]=!0,g++;else if(a.substring(T,T+u.length)===u)T+=u.length,h[g]=!1,g++;else throw new w("illegal character encountered: "+a.substring(T));if(g>y){if(b===-1)b=g-y;else if(g-y!==b)throw new w("row lengths do not match");S++}const D=new ke(b,S);for(let F=0;F<g;F++)h[F]&&D.set(Math.floor(F%b),Math.floor(F/b));return D}get(a,l){const u=l*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new w("input matrix dimensions do not match");const l=new z(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,y=this.height;g<y;g++){const b=g*u,S=a.getRow(g,l).getBitArray();for(let T=0;T<u;T++)h[b+T]^=S[T]}}clear(){const a=this.bits,l=a.length;for(let u=0;u<l;u++)a[u]=0}setRegion(a,l,u,h){if(l<0||a<0)throw new w("Left and top must be nonnegative");if(h<1||u<1)throw new w("Height and width must be at least 1");const g=a+u,y=l+h;if(y>this.height||g>this.width)throw new w("The region must fit inside the matrix");const b=this.rowSize,S=this.bits;for(let T=l;T<y;T++){const D=T*b;for(let F=a;F<g;F++)S[D+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new z(this.width):l.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let y=0;y<u;y++)l.setBulk(y*32,h[g+y]);return l}setRow(a,l){I.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let u=new z(a),h=new z(a);for(let g=0,y=Math.floor((l+1)/2);g<y;g++)u=this.getRow(g,u),h=this.getRow(l-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(l-1-g,u)}getEnclosingRectangle(){const a=this.width,l=this.height,u=this.rowSize,h=this.bits;let g=a,y=l,b=-1,S=-1;for(let T=0;T<l;T++)for(let D=0;D<u;D++){const F=h[T*u+D];if(F!==0){if(T<y&&(y=T),T>S&&(S=T),D*32<g){let $=0;for(;(F<<31-$&4294967295)===0;)$++;D*32+$<g&&(g=D*32+$)}if(D*32+31>b){let $=31;for(;!(F>>>$);)$--;D*32+$>b&&(b=D*32+$)}}}return b<g||S<y?null:Int32Array.from([g,y,b-g+1,S-y+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const h=u/a;let g=u%a*32;const y=l[u];let b=0;for(;(y<<31-b&4294967295)===0;)b++;return g+=b,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const y=l[u];let b=31;for(;!(y>>>b);)b--;return g+=b,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ke))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&L.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+L.hashCode(this.bits),a}toString(a="X ",l="  ",u=`
`){return this.buildToString(a,l,u)}buildToString(a,l,u){let h=new Ee;for(let g=0,y=this.height;g<y;g++){for(let b=0,S=this.width;b<S;b++)h.append(this.get(b,g)?a:l);h.append(u)}return h.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class ne extends m{static getNotFoundInstance(){return new ne}}ne.kind="NotFoundException";class Le extends O{constructor(a){super(a),this.luminances=Le.EMPTY,this.buckets=new Int32Array(Le.LUMINANCE_BUCKETS)}getBlackRow(a,l){const u=this.getLuminanceSource(),h=u.getWidth();l==null||l.getSize()<h?l=new z(h):l.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),y=this.buckets;for(let S=0;S<h;S++)y[(g[S]&255)>>Le.LUMINANCE_SHIFT]++;const b=Le.estimateBlackPoint(y);if(h<3)for(let S=0;S<h;S++)(g[S]&255)<b&&l.set(S);else{let S=g[0]&255,T=g[1]&255;for(let D=1;D<h-1;D++){const F=g[D+1]&255;(T*4-S-F)/2<b&&l.set(D),S=T,T=F}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight(),h=new ke(l,u);this.initArrays(l);const g=this.buckets;for(let S=1;S<5;S++){const T=Math.floor(u*S/5),D=a.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<F;$++){const q=D[$]&255;g[q>>Le.LUMINANCE_SHIFT]++}}const y=Le.estimateBlackPoint(g),b=a.getMatrix();for(let S=0;S<u;S++){const T=S*l;for(let D=0;D<l;D++)(b[T+D]&255)<y&&h.set(D,S)}return h}createBinarizer(a){return new Le(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let u=0;u<Le.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(a){const l=a.length;let u=0,h=0,g=0;for(let D=0;D<l;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let y=0,b=0;for(let D=0;D<l;D++){const F=D-h,$=a[D]*F*F;$>b&&(y=D,b=$)}if(h>y){const D=h;h=y,y=D}if(y-h<=l/16)throw new ne;let S=y-1,T=-1;for(let D=y-1;D>h;D--){const F=D-h,$=F*F*(y-D)*(u-a[D]);$>T&&(S=D,T=$)}return S<<Le.LUMINANCE_SHIFT}}Le.LUMINANCE_BITS=5,Le.LUMINANCE_SHIFT=8-Le.LUMINANCE_BITS,Le.LUMINANCE_BUCKETS=1<<Le.LUMINANCE_BITS,Le.EMPTY=Uint8ClampedArray.from([0]);class le extends Le{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight();if(l>=le.MINIMUM_DIMENSION&&u>=le.MINIMUM_DIMENSION){const h=a.getMatrix();let g=l>>le.BLOCK_SIZE_POWER;(l&le.BLOCK_SIZE_MASK)!==0&&g++;let y=u>>le.BLOCK_SIZE_POWER;(u&le.BLOCK_SIZE_MASK)!==0&&y++;const b=le.calculateBlackPoints(h,g,y,l,u),S=new ke(l,u);le.calculateThresholdForBlock(h,g,y,l,u,b,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new le(a)}static calculateThresholdForBlock(a,l,u,h,g,y,b){const S=g-le.BLOCK_SIZE,T=h-le.BLOCK_SIZE;for(let D=0;D<u;D++){let F=D<<le.BLOCK_SIZE_POWER;F>S&&(F=S);const $=le.cap(D,2,u-3);for(let q=0;q<l;q++){let Y=q<<le.BLOCK_SIZE_POWER;Y>T&&(Y=T);const ee=le.cap(q,2,l-3);let ae=0;for(let Te=-2;Te<=2;Te++){const Pe=y[$+Te];ae+=Pe[ee-2]+Pe[ee-1]+Pe[ee]+Pe[ee+1]+Pe[ee+2]}const he=ae/25;le.thresholdBlock(a,Y,F,he,h,b)}}}static cap(a,l,u){return a<l?l:a>u?u:a}static thresholdBlock(a,l,u,h,g,y){for(let b=0,S=u*g+l;b<le.BLOCK_SIZE;b++,S+=g)for(let T=0;T<le.BLOCK_SIZE;T++)(a[S+T]&255)<=h&&y.set(l+T,u+b)}static calculateBlackPoints(a,l,u,h,g){const y=g-le.BLOCK_SIZE,b=h-le.BLOCK_SIZE,S=new Array(u);for(let T=0;T<u;T++){S[T]=new Int32Array(l);let D=T<<le.BLOCK_SIZE_POWER;D>y&&(D=y);for(let F=0;F<l;F++){let $=F<<le.BLOCK_SIZE_POWER;$>b&&($=b);let q=0,Y=255,ee=0;for(let he=0,Te=D*h+$;he<le.BLOCK_SIZE;he++,Te+=h){for(let Pe=0;Pe<le.BLOCK_SIZE;Pe++){const Ce=a[Te+Pe]&255;q+=Ce,Ce<Y&&(Y=Ce),Ce>ee&&(ee=Ce)}if(ee-Y>le.MIN_DYNAMIC_RANGE)for(he++,Te+=h;he<le.BLOCK_SIZE;he++,Te+=h)for(let Pe=0;Pe<le.BLOCK_SIZE;Pe++)q+=a[Te+Pe]&255}let ae=q>>le.BLOCK_SIZE_POWER*2;if(ee-Y<=le.MIN_DYNAMIC_RANGE&&(ae=Y/2,T>0&&F>0)){const he=(S[T-1][F]+2*S[T][F-1]+S[T-1][F-1])/4;Y<he&&(ae=he)}S[T][F]=ae}}return S}}le.BLOCK_SIZE_POWER=3,le.BLOCK_SIZE=1<<le.BLOCK_SIZE_POWER,le.BLOCK_SIZE_MASK=le.BLOCK_SIZE-1,le.MINIMUM_DIMENSION=le.BLOCK_SIZE*5,le.MIN_DYNAMIC_RANGE=24;class ve{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,u,h){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new Ee;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const y=h[g]&255;let b;y<64?b="#":y<128?b="+":y<192?b=".":b=" ",l.append(b)}l.append(`
`)}return l.toString()}}class ye extends ve{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const u=this.delegate.getRow(a,l),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let h=0;h<l;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,u,h){return new ye(this.delegate.crop(a,l,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ye(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ye(this.delegate.rotateCounterClockwise45())}}class we extends ve{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=we.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return we.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,u){const h=new Uint8ClampedArray(l*u);for(let g=0,y=0,b=a.length;g<b;g+=4,y++){let S;if(a[g+3]===0)S=255;else{const D=a[g],F=a[g+1],$=a[g+2];S=306*D+601*F+117*$+512>>10}h[y]=S}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return l===null?l=this.buffer.slice(h,h+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(h,h+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,u,h){return super.crop(a,l,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),u=l.getContext("2d"),h=a*we.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*y),S=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*y);return l.width=b,l.height=S,u.translate(b/2,S/2),u.rotate(h),u.drawImage(this.canvas,g/-2,y/-2),this.buffer=we.makeBufferFromCanvasImageData(l),this}invert(){return new ye(this)}}we.DEGREE_TO_RADIANS=Math.PI/180;class Q{constructor(a,l,u){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Zf||self||window||void 0)&&(globalThis||Zf||self||window||void 0).__awaiter||function(B,a,l,u){function h(g){return g instanceof l?g:new l(function(y){y(g)})}return new(l||(l=Promise))(function(g,y){function b(D){try{T(u.next(D))}catch(F){y(F)}}function S(D){try{T(u.throw(D))}catch(F){y(F)}}function T(D){D.done?g(D.value):h(D.value).then(b,S)}T((u=u.apply(B,a||[])).next())})};class Me{constructor(a,l=500,u){this.reader=a,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,y=u.label||`Video device ${l.length+1}`,b=u.groupId,S={deviceId:g,label:y,kind:h,groupId:b};l.push(S)}return l})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Q(l.deviceId,l.label))})}findDeviceById(a){return de(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return de(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return de(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(a,l){return de(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,l,u){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,u)})}decodeFromVideoDevice(a,l,u){return de(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,l,u)})}decodeFromConstraints(a,l,u){return de(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,u)})}decodeFromStream(a,l,u){return de(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return de(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((l,u)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const u=document.getElementById(a);if(!u)throw new v(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new v(`element with id '${a}' must be an ${l} element`);return u}decodeFromImage(a,l){if(!a&&!l)throw new v("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,u){if(a===void 0&&l===void 0)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new v("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(a){if(!a)throw new v("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=a,u}decodeFromVideoUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=a,u}decodeFromVideoUrlContinuously(a,l){if(!a)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,l);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,y)=>{if(this._stopAsyncDecode){y(new ne("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(a);g(b)}catch(b){const S=l&&b instanceof ne,D=(b instanceof C||b instanceof H)&&u;if(S||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,y);y(b)}};return new Promise((g,y)=>h(g,y))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){l(null,h);const g=h instanceof C||h instanceof H,y=h instanceof ne;(g||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,u){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),u=new we(l),h=new le(u);return new _(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=u+"px",l.style.height=h+"px",l.width=u,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(a,l,u=l==null?0:8*l.length,h,g,y=I.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=y,this.text=a,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,y==null?this.timestamp=I.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(l.length+a.length);I.arraycopy(l,0,u,0,l.length),I.arraycopy(a,0,u,l.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xe;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var Ie=Xe,nt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nt||(nt={}));var Z=nt;class te{constructor(a,l,u,h,g=-1,y=-1){this.rawBytes=a,this.text=l,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ae{exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class Be{constructor(a,l){if(l.length===0)throw new w;this.field=a;const u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),I.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(a===1){u=0;for(let y=0,b=l.length;y!==b;y++){const S=l[y];u=Ae.addOrSubtract(u,S)}return u}u=l[0];const h=l.length,g=this.field;for(let y=1;y<h;y++)u=Ae.addOrSubtract(g.multiply(a,u),l[y]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){const y=l;l=u,u=y}let h=new Int32Array(u.length);const g=u.length-l.length;I.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=Ae.addOrSubtract(l[y-g],u[y]);return new Be(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,y=new Int32Array(u+g-1),b=this.field;for(let S=0;S<u;S++){const T=l[S];for(let D=0;D<g;D++)y[S+D]=Ae.addOrSubtract(y[S+D],b.multiply(T,h[D]))}return new Be(b,y)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,u=this.field,h=new Int32Array(l),g=this.coefficients;for(let y=0;y<l;y++)h[y]=u.multiply(g[y],a);return new Be(u,h)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),y=this.field;for(let b=0;b<h;b++)g[b]=y.multiply(u[b],l);return new Be(y,g)}divide(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new w("Divide by 0");const l=this.field;let u=l.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),y=l.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const b=h.getDegree()-a.getDegree(),S=l.multiply(h.getCoefficient(h.getDegree()),y),T=a.multiplyByMonomial(b,S),D=l.buildMonomial(b,S);u=u.addOrSubtract(D),h=h.addOrSubtract(T)}return[u,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),l===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class xe extends m{}xe.kind="ArithmeticException";class Fe extends Ae{constructor(a,l,u){super(),this.primitive=a,this.size=l,this.generatorBase=u;const h=new Int32Array(l);let g=1;for(let b=0;b<l;b++)h[b]=g,g*=2,g>=l&&(g^=a,g&=l-1);this.expTable=h;const y=new Int32Array(l);for(let b=0;b<l-1;b++)y[h[b]]=b;this.logTable=y,this.zero=new Be(this,Int32Array.from([0])),this.one=new Be(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;const u=new Int32Array(a+1);return u[0]=l,new Be(this,u)}inverse(a){if(a===0)throw new xe;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Fe.AZTEC_DATA_12=new Fe(4201,4096,1),Fe.AZTEC_DATA_10=new Fe(1033,1024,1),Fe.AZTEC_DATA_6=new Fe(67,64,1),Fe.AZTEC_PARAM=new Fe(19,16,1),Fe.QR_CODE_FIELD_256=new Fe(285,256,0),Fe.DATA_MATRIX_FIELD_256=new Fe(301,256,1),Fe.AZTEC_DATA_8=Fe.DATA_MATRIX_FIELD_256,Fe.MAXICODE_FIELD_64=Fe.AZTEC_DATA_6;class yt extends m{}yt.kind="ReedSolomonException";class Lt extends m{}Lt.kind="IllegalStateException";class Yt{constructor(a){this.field=a}decode(a,l){const u=this.field,h=new Be(u,a),g=new Int32Array(l);let y=!0;for(let q=0;q<l;q++){const Y=h.evaluateAt(u.exp(q+u.getGeneratorBase()));g[g.length-1-q]=Y,Y!==0&&(y=!1)}if(y)return;const b=new Be(u,g),S=this.runEuclideanAlgorithm(u.buildMonomial(l,1),b,l),T=S[0],D=S[1],F=this.findErrorLocations(T),$=this.findErrorMagnitudes(D,F);for(let q=0;q<F.length;q++){const Y=a.length-1-u.log(F[q]);if(Y<0)throw new yt("Bad error location");a[Y]=Fe.addOrSubtract(a[Y],$[q])}}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){const q=a;a=l,l=q}const h=this.field;let g=a,y=l,b=h.getZero(),S=h.getOne();for(;y.getDegree()>=(u/2|0);){let q=g,Y=b;if(g=y,b=S,g.isZero())throw new yt("r_{i-1} was zero");y=q;let ee=h.getZero();const ae=g.getCoefficient(g.getDegree()),he=h.inverse(ae);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const Te=y.getDegree()-g.getDegree(),Pe=h.multiply(y.getCoefficient(y.getDegree()),he);ee=ee.addOrSubtract(h.buildMonomial(Te,Pe)),y=y.addOrSubtract(g.multiplyByMonomial(Te,Pe))}if(S=ee.multiply(b).addOrSubtract(Y),y.getDegree()>=g.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const T=S.getCoefficient(0);if(T===0)throw new yt("sigmaTilde(0) was zero");const D=h.inverse(T),F=S.multiplyScalar(D),$=y.multiplyScalar(D);return[F,$]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(l);let h=0;const g=this.field;for(let y=1;y<g.getSize()&&h<l;y++)a.evaluateAt(y)===0&&(u[h]=g.inverse(y),h++);if(h!==l)throw new yt("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,l){const u=l.length,h=new Int32Array(u),g=this.field;for(let y=0;y<u;y++){const b=g.inverse(l[y]);let S=1;for(let T=0;T<u;T++)if(y!==T){const D=g.multiply(l[T],b),F=(D&1)===0?D|1:D&-2;S=g.multiply(S,F)}h[y]=g.multiply(a.evaluateAt(b),g.inverse(S)),g.getGeneratorBase()!==0&&(h[y]=g.multiply(h[y],b))}return h}}var xt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(xt||(xt={}));class Ot{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),h=this.correctBits(u),g=Ot.convertBoolArrayToByteArray(h),y=Ot.getEncodedData(h),b=new te(g,y,null,null);return b.setNumBits(h.length),b}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=xt.UPPER,h=xt.UPPER,g="",y=0;for(;y<l;)if(h===xt.BINARY){if(l-y<5)break;let b=Ot.readCode(a,y,5);if(y+=5,b===0){if(l-y<11)break;b=Ot.readCode(a,y,11)+31,y+=11}for(let S=0;S<b;S++){if(l-y<8){y=l;break}const T=Ot.readCode(a,y,8);g+=fe.castAsNonUtf8Char(T),y+=8}h=u}else{let b=h===xt.DIGIT?4:5;if(l-y<b)break;let S=Ot.readCode(a,y,b);y+=b;let T=Ot.getCharacter(h,S);T.startsWith("CTRL_")?(u=h,h=Ot.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=h)):(g+=T,h=u)}return g}static getTable(a){switch(a){case"L":return xt.LOWER;case"P":return xt.PUNCT;case"M":return xt.MIXED;case"D":return xt.DIGIT;case"B":return xt.BINARY;case"U":default:return xt.UPPER}}static getCharacter(a,l){switch(a){case xt.UPPER:return Ot.UPPER_TABLE[l];case xt.LOWER:return Ot.LOWER_TABLE[l];case xt.MIXED:return Ot.MIXED_TABLE[l];case xt.PUNCT:return Ot.PUNCT_TABLE[l];case xt.DIGIT:return Ot.DIGIT_TABLE[l];default:throw new Lt("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=Fe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=Fe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=Fe.AZTEC_DATA_10):(u=12,l=Fe.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new H;let y=a.length%u,b=new Int32Array(g);for(let $=0;$<g;$++,y+=u)b[$]=Ot.readCode(a,y,u);try{new Yt(l).decode(b,g-h)}catch($){throw new H($)}let S=(1<<u)-1,T=0;for(let $=0;$<h;$++){let q=b[$];if(q===0||q===S)throw new H;(q===1||q===S-1)&&T++}let D=new Array(h*u-T),F=0;for(let $=0;$<h;$++){let q=b[$];if(q===1||q===S-1)D.fill(q>1,F,F+u-1),F+=u-1;else for(let Y=u-1;Y>=0;--Y)D[F++]=(q&1<<Y)!==0}return D}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(l?11:14)+u*4,g=new Int32Array(h),y=new Array(this.totalBitsInLayer(u,l));if(l)for(let b=0;b<g.length;b++)g[b]=b;else{let b=h+1+2*j.truncDivision(j.truncDivision(h,2)-1,15),S=h/2,T=j.truncDivision(b,2);for(let D=0;D<S;D++){let F=D+j.truncDivision(D,15);g[S-D-1]=T-F-1,g[S+D]=T+F+1}}for(let b=0,S=0;b<u;b++){let T=(u-b)*4+(l?9:12),D=b*2,F=h-1-D;for(let $=0;$<T;$++){let q=$*2;for(let Y=0;Y<2;Y++)y[S+q+Y]=a.get(g[D+Y],g[D+$]),y[S+2*T+q+Y]=a.get(g[D+$],g[F-Y]),y[S+4*T+q+Y]=a.get(g[F-Y],g[F-$]),y[S+6*T+q+Y]=a.get(g[F-$],g[D+Y])}S+=T*8}return y}static readCode(a,l,u){let h=0;for(let g=l;g<l+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,l){let u=a.length-l;return u>=8?Ot.readCode(a,l,8):Ot.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=Ot.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class wt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,u,h){const g=a-u,y=l-h;return Math.sqrt(g*g+y*y)}static sum(a){let l=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];l+=g}return l}}class ui{static floatToIntBits(a){return a}}ui.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Ue){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*ui.floatToIntBits(this.x)+ui.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,y,b;if(u>=l&&u>=h?(y=a[0],g=a[1],b=a[2]):h>=u&&h>=l?(y=a[1],g=a[0],b=a[2]):(y=a[2],g=a[0],b=a[1]),this.crossProductZ(g,y,b)<0){const S=g;g=b,b=S}a[0]=g,a[1]=y,a[2]=b}static distance(a,l){return wt.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,u){const h=l.x,g=l.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class ea{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class ta extends ea{constructor(a,l,u,h,g){super(a,l),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class $n{constructor(a,l,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=$n.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=l/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ne}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,h=this.downInit,g=!1,y=!0,b=!1,S=!1,T=!1,D=!1,F=!1;const $=this.width,q=this.height;for(;y;){y=!1;let Y=!0;for(;(Y||!S)&&l<$;)Y=this.containsBlackPoint(u,h,l,!1),Y?(l++,y=!0,S=!0):S||l++;if(l>=$){g=!0;break}let ee=!0;for(;(ee||!T)&&h<q;)ee=this.containsBlackPoint(a,l,h,!0),ee?(h++,y=!0,T=!0):T||h++;if(h>=q){g=!0;break}let ae=!0;for(;(ae||!D)&&a>=0;)ae=this.containsBlackPoint(u,h,a,!1),ae?(a--,y=!0,D=!0):D||a--;if(a<0){g=!0;break}let he=!0;for(;(he||!F)&&u>=0;)he=this.containsBlackPoint(a,l,u,!0),he?(u--,y=!0,F=!0):F||u--;if(u<0){g=!0;break}y&&(b=!0)}if(!g&&b){const Y=l-a;let ee=null;for(let Pe=1;ee===null&&Pe<Y;Pe++)ee=this.getBlackPointOnSegment(a,h-Pe,a+Pe,h);if(ee==null)throw new ne;let ae=null;for(let Pe=1;ae===null&&Pe<Y;Pe++)ae=this.getBlackPointOnSegment(a,u+Pe,a+Pe,u);if(ae==null)throw new ne;let he=null;for(let Pe=1;he===null&&Pe<Y;Pe++)he=this.getBlackPointOnSegment(l,u+Pe,l-Pe,u);if(he==null)throw new ne;let Te=null;for(let Pe=1;Te===null&&Pe<Y;Pe++)Te=this.getBlackPointOnSegment(l,h-Pe,l-Pe,h);if(Te==null)throw new ne;return this.centerEdges(Te,ee,he,ae)}else throw new ne}getBlackPointOnSegment(a,l,u,h){const g=wt.round(wt.distance(a,l,u,h)),y=(u-a)/g,b=(h-l)/g,S=this.image;for(let T=0;T<g;T++){const D=wt.round(a+T*y),F=wt.round(l+T*b);if(S.get(D,F))return new Ue(D,F)}return null}centerEdges(a,l,u,h){const g=a.getX(),y=a.getY(),b=l.getX(),S=l.getY(),T=u.getX(),D=u.getY(),F=h.getX(),$=h.getY(),q=$n.CORR;return g<this.width/2?[new Ue(F-q,$+q),new Ue(b+q,S+q),new Ue(T-q,D-q),new Ue(g+q,y-q)]:[new Ue(F+q,$+q),new Ue(b+q,S-q),new Ue(T-q,D+q),new Ue(g-q,y-q)]}containsBlackPoint(a,l,u,h){const g=this.image;if(h){for(let y=a;y<=l;y++)if(g.get(y,u))return!0}else for(let y=a;y<=l;y++)if(g.get(u,y))return!0;return!1}}$n.INIT_SIZE=10,$n.CORR=1;class pt{static checkAndNudgePoints(a,l){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let y=0;y<l.length&&g;y+=2){const b=Math.floor(l[y]),S=Math.floor(l[y+1]);if(b<-1||b>u||S<-1||S>h)throw new ne;g=!1,b===-1?(l[y]=0,g=!0):b===u&&(l[y]=u-1,g=!0),S===-1?(l[y+1]=0,g=!0):S===h&&(l[y+1]=h-1,g=!0)}g=!0;for(let y=l.length-2;y>=0&&g;y-=2){const b=Math.floor(l[y]),S=Math.floor(l[y+1]);if(b<-1||b>u||S<-1||S>h)throw new ne;g=!1,b===-1?(l[y]=0,g=!0):b===u&&(l[y]=u-1,g=!0),S===-1?(l[y+1]=0,g=!0):S===h&&(l[y+1]=h-1,g=!0)}}}class dt{constructor(a,l,u,h,g,y,b,S,T){this.a11=a,this.a21=l,this.a31=u,this.a12=h,this.a22=g,this.a32=y,this.a13=b,this.a23=S,this.a33=T}static quadrilateralToQuadrilateral(a,l,u,h,g,y,b,S,T,D,F,$,q,Y,ee,ae){const he=dt.quadrilateralToSquare(a,l,u,h,g,y,b,S);return dt.squareToQuadrilateral(T,D,F,$,q,Y,ee,ae).times(he)}transformPoints(a){const l=a.length,u=this.a11,h=this.a12,g=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,D=this.a32,F=this.a33;for(let $=0;$<l;$+=2){const q=a[$],Y=a[$+1],ee=g*q+S*Y+F;a[$]=(u*q+y*Y+T)/ee,a[$+1]=(h*q+b*Y+D)/ee}}transformPointsWithValues(a,l){const u=this.a11,h=this.a12,g=this.a13,y=this.a21,b=this.a22,S=this.a23,T=this.a31,D=this.a32,F=this.a33,$=a.length;for(let q=0;q<$;q++){const Y=a[q],ee=l[q],ae=g*Y+S*ee+F;a[q]=(u*Y+y*ee+T)/ae,l[q]=(h*Y+b*ee+D)/ae}}static squareToQuadrilateral(a,l,u,h,g,y,b,S){const T=a-u+g-b,D=l-h+y-S;if(T===0&&D===0)return new dt(u-a,g-u,a,h-l,y-h,l,0,0,1);{const F=u-g,$=b-g,q=h-y,Y=S-y,ee=F*Y-$*q,ae=(T*Y-$*D)/ee,he=(F*D-T*q)/ee;return new dt(u-a+ae*u,b-a+he*b,a,h-l+ae*h,S-l+he*S,l,ae,he,1)}}static quadrilateralToSquare(a,l,u,h,g,y,b,S){return dt.squareToQuadrilateral(a,l,u,h,g,y,b,S).buildAdjoint()}buildAdjoint(){return new dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new dt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Ur extends pt{sampleGrid(a,l,u,h,g,y,b,S,T,D,F,$,q,Y,ee,ae,he,Te,Pe){const Ce=dt.quadrilateralToQuadrilateral(h,g,y,b,S,T,D,F,$,q,Y,ee,ae,he,Te,Pe);return this.sampleGridWithTransform(a,l,u,Ce)}sampleGridWithTransform(a,l,u,h){if(l<=0||u<=0)throw new ne;const g=new ke(l,u),y=new Float32Array(2*l);for(let b=0;b<u;b++){const S=y.length,T=b+.5;for(let D=0;D<S;D+=2)y[D]=D/2+.5,y[D+1]=T;h.transformPoints(y),pt.checkAndNudgePoints(a,y);try{for(let D=0;D<S;D+=2)a.get(Math.floor(y[D]),Math.floor(y[D+1]))&&g.set(D/2,b)}catch{throw new ne}}return g}}class cr{static setGridSampler(a){cr.gridSampler=a}static getInstance(){return cr.gridSampler}}cr.gridSampler=new Ur;class ur{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ss{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(a){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new ta(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new ne;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(u,l);let h=0;for(let y=0;y<4;y++){let b=u[(this.shift+y)%4];this.compact?(h<<=7,h+=b>>1&127):(h<<=10,h+=(b>>2&992)+(b>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,l){let u=0;a.forEach((h,g,y)=>{let b=(h>>l-2<<1)+(h&1);u=(u<<3)+b}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(j.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new ne}getCorrectedParameterData(a,l){let u,h;l?(u=7,h=2):(u=10,h=4);let g=u-h,y=new Int32Array(u);for(let S=u-1;S>=0;--S)y[S]=a&15,a>>=4;try{new Yt(Fe.AZTEC_PARAM).decode(y,g)}catch{throw new ne}let b=0;for(let S=0;S<h;S++)b=(b<<4)+y[S];return b}getBullsEyeCorners(a){let l=a,u=a,h=a,g=a,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,y,1,-1),$=this.getFirstDifferent(u,y,1,1),q=this.getFirstDifferent(h,y,-1,1),Y=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(Y,F)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(F,$,q,Y))break}l=F,u=$,h=q,g=Y,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ne;this.compact=this.nbCenterLayers===5;let b=new Ue(l.getX()+.5,l.getY()-.5),S=new Ue(u.getX()+.5,u.getY()+.5),T=new Ue(h.getX()-.5,h.getY()+.5),D=new Ue(g.getX()-.5,g.getY()-.5);return this.expandSquare([b,S,T,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,u,h;try{let b=new $n(this.image).detect();a=b[0],l=b[1],u=b[2],h=b[3]}catch{let S=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new ur(S+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ur(S+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ur(S-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ur(S-7,T-7),!1,-1,-1).toResultPoint()}let g=wt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),y=wt.round((a.getY()+h.getY()+l.getY()+u.getY())/4);try{let b=new $n(this.image,15,g,y).detect();a=b[0],l=b[1],u=b[2],h=b[3]}catch{a=this.getFirstDifferent(new ur(g+7,y-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ur(g+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ur(g-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ur(g-7,y-7),!1,-1,-1).toResultPoint()}return g=wt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),y=wt.round((a.getY()+h.getY()+l.getY()+u.getY())/4),new ur(g,y)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,u,h,g){let y=cr.getInstance(),b=this.getDimension(),S=b/2-this.nbCenterLayers,T=b/2+this.nbCenterLayers;return y.sampleGrid(a,b,b,S,S,T,S,T,T,S,T,l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,l,u){let h=0,g=this.distanceResultPoint(a,l),y=g/u,b=a.getX(),S=a.getY(),T=y*(l.getX()-a.getX())/g,D=y*(l.getY()-a.getY())/g;for(let F=0;F<u;F++)this.image.get(wt.round(b+F*T),wt.round(S+F*D))&&(h|=1<<u-F-1);return h}isWhiteOrBlackRectangle(a,l,u,h){let g=3;a=new ur(a.getX()-g,a.getY()+g),l=new ur(l.getX()-g,l.getY()-g),u=new ur(u.getX()+g,u.getY()-g),h=new ur(h.getX()+g,h.getY()+g);let y=this.getColor(h,a);if(y===0)return!1;let b=this.getColor(a,l);return b!==y||(b=this.getColor(l,u),b!==y)?!1:(b=this.getColor(u,h),b===y)}getColor(a,l){let u=this.distancePoint(a,l),h=(l.getX()-a.getX())/u,g=(l.getY()-a.getY())/u,y=0,b=a.getX(),S=a.getY(),T=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let $=0;$<D;$++)b+=h,S+=g,this.image.get(wt.round(b),wt.round(S))!==T&&y++;let F=y/u;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(a,l,u,h){let g=a.getX()+u,y=a.getY()+h;for(;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u,y+=h;for(g-=u,y-=h;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u;for(g-=u;this.isValid(g,y)&&this.image.get(g,y)===l;)y+=h;return y-=h,new ur(g,y)}expandSquare(a,l,u){let h=u/(2*l),g=a[0].getX()-a[2].getX(),y=a[0].getY()-a[2].getY(),b=(a[0].getX()+a[2].getX())/2,S=(a[0].getY()+a[2].getY())/2,T=new Ue(b+h*g,S+h*y),D=new Ue(b-h*g,S-h*y);g=a[1].getX()-a[3].getX(),y=a[1].getY()-a[3].getY(),b=(a[1].getX()+a[3].getX())/2,S=(a[1].getY()+a[3].getY())/2;let F=new Ue(b+h*g,S+h*y),$=new Ue(b-h*g,S-h*y);return[T,F,D,$]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=wt.round(a.getX()),u=wt.round(a.getY());return this.isValid(l,u)}distancePoint(a,l){return wt.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return wt.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class ba{decode(a,l=null){let u=null,h=new Ss(a.getBlackMatrix()),g=null,y=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(l,g),y=new Ot().decode(D)}catch(D){u=D}if(y==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(l,g),y=new Ot().decode(D)}catch(D){throw u??D}let b=new De(y.getText(),y.getRawBytes(),y.getNumBits(),g,Ie.AZTEC,I.currentTimeMillis()),S=y.getByteSegments();S!=null&&b.putMetadata(Z.BYTE_SEGMENTS,S);let T=y.getECLevel();return T!=null&&b.putMetadata(Z.ERROR_CORRECTION_LEVEL,T),b}reportFoundResultPoints(a,l){if(a!=null){let u=a.get(V.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((h,g,y)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class Jp extends Me{constructor(a=500){super(new ba,a)}}class xr{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(V.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),y=this.doDecode(g,l),b=y.getResultMetadata();let S=270;b!==null&&b.get(Z.ORIENTATION)===!0&&(S=S+b.get(Z.ORIENTATION)%360),y.putMetadata(Z.ORIENTATION,S);const T=y.getResultPoints();if(T!==null){const D=g.getHeight();for(let F=0;F<T.length;F++)T[F]=new Ue(D-T[F].getY()-1,T[F].getX())}return y}else throw new ne}}reset(){}doDecode(a,l){const u=a.getWidth(),h=a.getHeight();let g=new z(u);const y=l&&l.get(V.TRY_HARDER)===!0,b=Math.max(1,h>>(y?8:5));let S;y?S=h:S=15;const T=Math.trunc(h/2);for(let D=0;D<S;D++){const F=Math.trunc((D+1)/2),$=(D&1)===0,q=T+b*($?F:-F);if(q<0||q>=h)break;try{g=a.getBlackRow(q,g)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(g.reverse(),l&&l.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;l.forEach((ae,he)=>ee.set(he,ae)),ee.delete(V.NEED_RESULT_POINT_CALLBACK),l=ee}try{const ee=this.decodeRow(q,g,l);if(Y===1){ee.putMetadata(Z.ORIENTATION,180);const ae=ee.getResultPoints();ae!==null&&(ae[0]=new Ue(u-ae[0].getX()-1,ae[0].getY()),ae[1]=new Ue(u-ae[1].getX()-1,ae[1].getY()))}return ee}catch{}}}throw new ne}static recordPattern(a,l,u){const h=u.length;for(let T=0;T<h;T++)u[T]=0;const g=a.getSize();if(l>=g)throw new ne;let y=!a.get(l),b=0,S=l;for(;S<g;){if(a.get(S)!==y)u[b]++;else{if(++b===h)break;u[b]=1,y=!y}S++}if(!(b===h||b===h-1&&S===g))throw new ne}static recordPatternInReverse(a,l,u){let h=u.length,g=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==g&&(h--,g=!g);if(h>=0)throw new ne;xr.recordPattern(a,l+1,u)}static patternMatchVariance(a,l,u){const h=a.length;let g=0,y=0;for(let T=0;T<h;T++)g+=a[T],y+=l[T];if(g<y)return Number.POSITIVE_INFINITY;const b=g/y;u*=b;let S=0;for(let T=0;T<h;T++){const D=a[T],F=l[T]*b,$=D>F?D-F:F-D;if($>u)return Number.POSITIVE_INFINITY;S+=$}return S/g}}class je extends xr{static findStartPattern(a){const l=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),y=u,b=!1;const S=6;for(let T=u;T<l;T++)if(a.get(T)!==b)g[h]++;else{if(h===S-1){let D=je.MAX_AVG_VARIANCE,F=-1;for(let $=je.CODE_START_A;$<=je.CODE_START_C;$++){const q=xr.patternMatchVariance(g,je.CODE_PATTERNS[$],je.MAX_INDIVIDUAL_VARIANCE);q<D&&(D=q,F=$)}if(F>=0&&a.isRange(Math.max(0,y-(T-y)/2),y,!1))return Int32Array.from([y,T,F]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,b=!b}throw new ne}static decodeCode(a,l,u){xr.recordPattern(a,u,l);let h=je.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<je.CODE_PATTERNS.length;y++){const b=je.CODE_PATTERNS[y],S=this.patternMatchVariance(l,b,je.MAX_INDIVIDUAL_VARIANCE);S<h&&(h=S,g=y)}if(g>=0)return g;throw new ne}decodeRow(a,l,u){const h=u&&u.get(V.ASSUME_GS1)===!0,g=je.findStartPattern(l),y=g[2];let b=0;const S=new Uint8Array(20);S[b++]=y;let T;switch(y){case je.CODE_START_A:T=je.CODE_CODE_A;break;case je.CODE_START_B:T=je.CODE_CODE_B;break;case je.CODE_START_C:T=je.CODE_CODE_C;break;default:throw new H}let D=!1,F=!1,$="",q=g[0],Y=g[1];const ee=Int32Array.from([0,0,0,0,0,0]);let ae=0,he=0,Te=y,Pe=0,Ce=!0,bt=!1,ht=!1;for(;!D;){const aa=F;switch(F=!1,ae=he,he=je.decodeCode(l,ee,Y),S[b++]=he,he!==je.CODE_STOP&&(Ce=!0),he!==je.CODE_STOP&&(Pe++,Te+=Pe*he),q=Y,Y+=ee.reduce((Ds,lu)=>Ds+lu,0),he){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new H}switch(T){case je.CODE_CODE_A:if(he<64)ht===bt?$+=String.fromCharCode(32+he):$+=String.fromCharCode(32+he+128),ht=!1;else if(he<96)ht===bt?$+=String.fromCharCode(he-64):$+=String.fromCharCode(he+64),ht=!1;else switch(he!==je.CODE_STOP&&(Ce=!1),he){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!bt&&ht?(bt=!0,ht=!1):bt&&ht?(bt=!1,ht=!1):ht=!0;break;case je.CODE_SHIFT:F=!0,T=je.CODE_CODE_B;break;case je.CODE_CODE_B:T=je.CODE_CODE_B;break;case je.CODE_CODE_C:T=je.CODE_CODE_C;break;case je.CODE_STOP:D=!0;break}break;case je.CODE_CODE_B:if(he<96)ht===bt?$+=String.fromCharCode(32+he):$+=String.fromCharCode(32+he+128),ht=!1;else switch(he!==je.CODE_STOP&&(Ce=!1),he){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!bt&&ht?(bt=!0,ht=!1):bt&&ht?(bt=!1,ht=!1):ht=!0;break;case je.CODE_SHIFT:F=!0,T=je.CODE_CODE_A;break;case je.CODE_CODE_A:T=je.CODE_CODE_A;break;case je.CODE_CODE_C:T=je.CODE_CODE_C;break;case je.CODE_STOP:D=!0;break}break;case je.CODE_CODE_C:if(he<100)he<10&&($+="0"),$+=he;else switch(he!==je.CODE_STOP&&(Ce=!1),he){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_CODE_A:T=je.CODE_CODE_A;break;case je.CODE_CODE_B:T=je.CODE_CODE_B;break;case je.CODE_STOP:D=!0;break}break}aa&&(T=T===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const Rn=Y-q;if(Y=l.getNextUnset(Y),!l.isRange(Y,Math.min(l.getSize(),Y+(Y-q)/2),!1))throw new ne;if(Te-=Pe*ae,Te%103!==ae)throw new C;const vi=$.length;if(vi===0)throw new ne;vi>0&&Ce&&(T===je.CODE_CODE_C?$=$.substring(0,vi-2):$=$.substring(0,vi-1));const Mr=(g[1]+g[0])/2,Mt=q+Rn/2,wr=S.length,En=new Uint8Array(wr);for(let aa=0;aa<wr;aa++)En[aa]=S[aa];const Ha=[new Ue(Mr,a),new Ue(Mt,a)];return new De($,En,0,Ha,Ie.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class kr extends xr{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=kr.findAsteriskPattern(l,h),y=l.getNextSet(g[1]),b=l.getSize(),S,T;do{kr.recordPattern(l,y,h);let ee=kr.toNarrowWidePattern(h);if(ee<0)throw new ne;S=kr.patternToChar(ee),this.decodeRowResult+=S,T=y;for(let ae of h)y+=ae;y=l.getNextSet(y)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ee of h)D+=ee;let F=y-T-D;if(y!==b&&F*2<D)throw new ne;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,ae=0;for(let he=0;he<ee;he++)ae+=kr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(ee)!==kr.ALPHABET_STRING.charAt(ae%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new ne;let $;this.extendedMode?$=kr.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let q=(g[1]+g[0])/2,Y=T+D/2;return new De($,null,0,[new Ue(q,a),new Ue(Y,a)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),h=a.getNextSet(0),g=0,y=h,b=!1,S=l.length;for(let T=h;T<u;T++)if(a.get(T)!==b)l[g]++;else{if(g===S-1){if(this.toNarrowWidePattern(l)===kr.ASTERISK_ENCODING&&a.isRange(Math.max(0,y-Math.floor((T-y)/2)),y,!1))return[y,T];y+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,b=!b}throw new ne}static toNarrowWidePattern(a){let l=a.length,u=0,h;do{let g=2147483647;for(let S of a)S<g&&S>u&&(g=S);u=g,h=0;let y=0,b=0;for(let S=0;S<l;S++){let T=a[S];T>u&&(b|=1<<l-1-S,h++,y+=T)}if(h===3){for(let S=0;S<l&&h>0;S++){let T=a[S];if(T>u&&(h--,T*2>=y))return-1}return b}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<kr.CHARACTER_ENCODINGS.length;l++)if(kr.CHARACTER_ENCODINGS[l]===a)return kr.ALPHABET_STRING.charAt(l);if(a===kr.ASTERISK_ENCODING)return"*";throw new ne}static decodeExtended(a){let l=a.length,u="";for(let h=0;h<l;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=a.charAt(h+1),b="\0";switch(g){case"+":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)+32);else throw new H;break;case"$":if(y>="A"&&y<="Z")b=String.fromCharCode(y.charCodeAt(0)-64);else throw new H;break;case"%":if(y>="A"&&y<="E")b=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")b=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")b=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")b="\0";else if(y==="V")b="@";else if(y==="W")b="`";else if(y==="X"||y==="Y"||y==="Z")b="";else throw new H;break;case"/":if(y>="A"&&y<="O")b=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")b=":";else throw new H;break}u+=b,h++}else u+=g}return u}}kr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kr.ASTERISK_ENCODING=148;class jt extends xr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,u){let h=this.decodeStart(l),g=this.decodeEnd(l),y=new Ee;jt.decodeMiddle(l,h[1],g[0],y);let b=y.toString(),S=null;u!=null&&(S=u.get(V.ALLOWED_LENGTHS)),S==null&&(S=jt.DEFAULT_ALLOWED_LENGTHS);let T=b.length,D=!1,F=0;for(let Y of S){if(T===Y){D=!0;break}Y>F&&(F=Y)}if(!D&&T>F&&(D=!0),!D)throw new H;const $=[new Ue(h[1],a),new Ue(g[0],a)];return new De(b,null,0,$,Ie.ITF,new Date().getTime())}static decodeMiddle(a,l,u,h){let g=new Int32Array(10),y=new Int32Array(5),b=new Int32Array(5);for(g.fill(0),y.fill(0),b.fill(0);l<u;){xr.recordPattern(a,l,g);for(let T=0;T<5;T++){let D=2*T;y[T]=g[D],b[T]=g[D+1]}let S=jt.decodeDigit(y);h.append(S.toString()),S=this.decodeDigit(b),h.append(S.toString()),g.forEach(function(T){l+=T})}}decodeStart(a){let l=jt.skipWhiteSpace(a),u=jt.findGuardPattern(a,l,jt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let h=l-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new ne}static skipWhiteSpace(a){const l=a.getSize(),u=a.getNextSet(0);if(u===l)throw new ne;return u}decodeEnd(a){a.reverse();try{let l=jt.skipWhiteSpace(a),u;try{u=jt.findGuardPattern(a,l,jt.END_PATTERN_REVERSED[0])}catch(g){g instanceof ne&&(u=jt.findGuardPattern(a,l,jt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,l,u){let h=u.length,g=new Int32Array(h),y=a.getSize(),b=!1,S=0,T=l;g.fill(0);for(let D=l;D<y;D++)if(a.get(D)!==b)g[S]++;else{if(S===h-1){if(xr.patternMatchVariance(g,u,jt.MAX_INDIVIDUAL_VARIANCE)<jt.MAX_AVG_VARIANCE)return[T,D];T+=g[0]+g[1],I.arraycopy(g,2,g,0,S-1),g[S-1]=0,g[S]=0,S--}else S++;g[S]=1,b=!b}throw new ne}static decodeDigit(a){let l=jt.MAX_AVG_VARIANCE,u=-1,h=jt.PATTERNS.length;for(let g=0;g<h;g++){let y=jt.PATTERNS[g],b=xr.patternMatchVariance(a,y,jt.MAX_INDIVIDUAL_VARIANCE);b<l?(l=b,u=g):b===l&&(u=-1)}if(u>=0)return u%10;throw new ne}}jt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],jt.MAX_AVG_VARIANCE=.38,jt.MAX_INDIVIDUAL_VARIANCE=.5,jt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],jt.START_PATTERN=Int32Array.from([1,1,1,1]),jt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Zt extends xr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),u=Zt.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let y=u[0];h=u[1];let b=y-(h-y);b>=0&&(l=a.isRange(b,y,!1))}return u}static checkChecksum(a){return Zt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return Zt.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}static decodeEnd(a,l){return Zt.findGuardPattern(a,l,!1,Zt.START_END_PATTERN,new Int32Array(Zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,u,h){return this.findGuardPattern(a,l,u,h,new Int32Array(h.length))}static findGuardPattern(a,l,u,h,g){let y=a.getSize();l=u?a.getNextUnset(l):a.getNextSet(l);let b=0,S=l,T=h.length,D=u;for(let F=l;F<y;F++)if(a.get(F)!==D)g[b]++;else{if(b===T-1){if(xr.patternMatchVariance(g,h,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return Int32Array.from([S,F]);S+=g[0]+g[1];let $=g.slice(2,g.length-1);for(let q=0;q<b-1;q++)g[q]=$[q];g[b-1]=0,g[b]=0,b--}else b++;g[b]=1,D=!D}throw new ne}static decodeDigit(a,l,u,h){this.recordPattern(a,u,l);let g=this.MAX_AVG_VARIANCE,y=-1,b=h.length;for(let S=0;S<b;S++){let T=h[S],D=xr.patternMatchVariance(l,T,Zt.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,y=S)}if(y>=0)return y;throw new ne}}Zt.MAX_AVG_VARIANCE=.48,Zt.MAX_INDIVIDUAL_VARIANCE=.7,Zt.START_END_PATTERN=Int32Array.from([1,1,1]),Zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ua{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),y=h.toString(),b=Ua.parseExtensionString(y),S=[new Ue((u[0]+u[1])/2,a),new Ue(g,a)],T=new De(y,null,0,S,Ie.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],b=0;for(let T=0;T<5&&y<g;T++){let D=Zt.decodeDigit(a,h,y,Zt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(b|=1<<4-T),T!==4&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(u.length!==5)throw new ne;let S=this.determineCheckDigit(b);if(Ua.extensionChecksum(u.toString())!==S)throw new ne;return y}static extensionChecksum(a){let l=a.length,u=0;for(let h=l-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=l-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new ne}static parseExtensionString(a){if(a.length!==5)return null;let l=Ua.parseExtension5String(a);return l==null?null:new Map([[Z.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,y=g<10?"0"+g:g.toString();return l+h+"."+y}}class po{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),y=h.toString(),b=po.parseExtensionString(y),S=[new Ue((u[0]+u[1])/2,a),new Ue(g,a)],T=new De(y,null,0,S,Ie.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&T.putAllMetadata(b),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],b=0;for(let S=0;S<2&&y<g;S++){let T=Zt.decodeDigit(a,h,y,Zt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let D of h)y+=D;T>=10&&(b|=1<<1-S),S!==1&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(u.length!==2)throw new ne;if(parseInt(u.toString())%4!==b)throw new ne;return y}static parseExtensionString(a){return a.length!==2?null:new Map([[Z.ISSUE_NUMBER,parseInt(a)]])}}class wl{static decodeRow(a,l,u){let h=Zt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ua().decodeRow(a,l,h)}catch{return new po().decodeRow(a,l,h)}}}wl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Et extends Zt{constructor(){super(),this.decodeRowStringBuffer="",Et.L_AND_G_PATTERNS=Et.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=Et.L_PATTERNS[a-10],u=new Int32Array(l.length);for(let h=0;h<l.length;h++)u[h]=l[l.length-h-1];Et.L_AND_G_PATTERNS[a]=u}}decodeRow(a,l,u){let h=Et.findStartGuardPattern(l),g=u==null?null:u.get(V.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Ce=new Ue((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Ce)}let y=this.decodeMiddle(l,h,this.decodeRowStringBuffer),b=y.rowOffset,S=y.resultString;if(g!=null){const Ce=new Ue(b,a);g.foundPossibleResultPoint(Ce)}let T=this.decodeEnd(l,b);if(g!=null){const Ce=new Ue((T[0]+T[1])/2,a);g.foundPossibleResultPoint(Ce)}let D=T[1],F=D+(D-T[0]);if(F>=l.getSize()||!l.isRange(D,F,!1))throw new ne;let $=S.toString();if($.length<8)throw new H;if(!Et.checkChecksum($))throw new C;let q=(h[1]+h[0])/2,Y=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),ae=[new Ue(q,a),new Ue(Y,a)],he=new De($,null,0,ae,ee,new Date().getTime()),Te=0;try{let Ce=wl.decodeRow(a,l,T[1]);he.putMetadata(Z.UPC_EAN_EXTENSION,Ce.getText()),he.putAllMetadata(Ce.getResultMetadata()),he.addResultPoints(Ce.getResultPoints()),Te=Ce.getText().length}catch{}let Pe=u==null?null:u.get(V.ALLOWED_EAN_EXTENSIONS);if(Pe!=null){let Ce=!1;for(let bt in Pe)if(Te.toString()===bt){Ce=!0;break}if(!Ce)throw new ne}return he}decodeEnd(a,l){return Et.findGuardPattern(a,l,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Et.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return Et.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}}class Xn extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],b=0;for(let T=0;T<6&&y<g;T++){let D=Et.decodeDigit(a,h,y,Et.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(b|=1<<5-T)}u=Xn.determineFirstDigit(u,b),y=Et.findGuardPattern(a,y,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&y<g;T++){let D=Et.decodeDigit(a,h,y,Et.L_PATTERNS);u+=String.fromCharCode(48+D);for(let F of h)y+=F}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new ne}}Xn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class $c extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1];for(let S=0;S<4&&y<g;S++){let T=Et.decodeDigit(a,h,y,Et.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}y=Et.findGuardPattern(a,y,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&y<g;S++){let T=Et.decodeDigit(a,h,y,Et.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Ie.EAN_8}}class Wc extends Et{constructor(){super(...arguments),this.ean13Reader=new Xn}getBarcodeFormat(){return Ie.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,u))}decodeMiddle(a,l,u){return this.ean13Reader.decodeMiddle(a,l,u)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let u=new De(l.substring(1),null,null,a.getResultPoints(),Ie.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new ne}reset(){this.ean13Reader.reset()}}class Yn extends Et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let y=l[1],b=0;for(let T=0;T<6&&y<g;T++){const D=Yn.decodeDigit(a,h,y,Yn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(b|=1<<5-T)}let S=Yn.determineNumSysAndCheckDigit(u,b);return{rowOffset:y,resultString:S}}decodeEnd(a,l){return Yn.findGuardPatternWithoutCounters(a,l,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(a){return Et.checkChecksum(Yn.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),y=String.fromCharCode(48+h);return g+a+y}throw ne.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Ee;u.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(h),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class bl extends xr{constructor(a){super();let l=a==null?null:a.get(V.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new Xn),u.push(new Wc),u.push(new $c),u.push(new Yn)):(l.indexOf(Ie.EAN_13)>-1&&u.push(new Xn),l.indexOf(Ie.UPC_A)>-1&&u.push(new Wc),l.indexOf(Ie.EAN_8)>-1&&u.push(new $c),l.indexOf(Ie.UPC_E)>-1&&u.push(new Yn)),this.readers=u}decodeRow(a,l,u){for(let h of this.readers)try{const g=h.decodeRow(a,l,u),y=g.getBarcodeFormat()===Ie.EAN_13&&g.getText().charAt(0)==="0",b=u==null?null:u.get(V.POSSIBLE_FORMATS),S=b==null||b.includes(Ie.UPC_A);if(y&&S){const T=g.getRawBytes(),D=new De(g.getText().substring(1),T,T?T.length:null,g.getResultPoints(),Ie.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new ne}reset(){for(let a of this.readers)a.reset()}}class Yr extends xr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(xr.patternMatchVariance(a,l[u],Yr.MAX_INDIVIDUAL_VARIANCE)<Yr.MAX_AVG_VARIANCE)return u;throw new ne}static count(a){return wt.sum(new Int32Array(a))}static increment(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]>h&&(h=l[g],u=g);a[u]++}static decrement(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]<h&&(h=l[g],u=g);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],u=l+a[2]+a[3],h=l/u;if(h>=Yr.MIN_FINDER_PATTERN_RATIO&&h<=Yr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let b of a)b>y&&(y=b),b<g&&(g=b);return y<10*g}return!1}}Yr.MAX_AVG_VARIANCE=.2,Yr.MAX_INDIVIDUAL_VARIANCE=.45,Yr.MIN_FINDER_PATTERN_RATIO=9.5/12,Yr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ea{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof Ea))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class mo{constructor(a,l,u,h,g){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ue(u,g)),this.resultPoints.push(new Ue(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof mo))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class Tn{constructor(){}static getRSSvalue(a,l,u){let h=0;for(let S of a)h+=S;let g=0,y=0,b=a.length;for(let S=0;S<b-1;S++){let T;for(T=1,y|=1<<S;T<a[S];T++,y&=~(1<<S)){let D=Tn.combins(h-T-1,b-S-2);if(u&&y===0&&h-T-(b-S-1)>=b-S-1&&(D-=Tn.combins(h-T-(b-S),b-S-2)),b-S-1>1){let F=0;for(let $=h-T-(b-S-2);$>l;$--)F+=Tn.combins(h-T-$-1,b-S-3);D-=F*(b-1-S)}else h-T>l&&D--;g+=D}h-=T}return g}static combins(a,l){let u,h;a-l>l?(h=l,u=a-l):(h=a-l,u=l);let g=1,y=1;for(let b=a;b>u;b--)g*=b,y<=h&&(g/=y,y++);for(;y<=h;)g/=y,y++;return g}}class Vc{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let u=12*l,h=new z(u),g=0,b=a[0].getRightChar().getValue();for(let S=11;S>=0;--S)(b&1<<S)!=0&&h.set(g),g++;for(let S=1;S<a.length;++S){let T=a[S],D=T.getLeftChar().getValue();for(let F=11;F>=0;--F)(D&1<<F)!=0&&h.set(g),g++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&h.set(g),g++}}return h}}class di{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Hc{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class zr extends Hc{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===zr.FNC1}}zr.FNC1="$";class Ri extends Hc{constructor(a,l,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xn extends Hc{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new H;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===xn.FNC1}isAnyFNC1(){return this.firstDigit===xn.FNC1||this.secondDigit===xn.FNC1}}xn.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new ne;let l=a.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],a):ze.processFixedAI(2,g[1],a);if(a.length<3)throw new ne;let u=a.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],a):ze.processFixedAI(3,g[1],a);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);if(a.length<4)throw new ne;let h=a.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);throw new ne}static processFixedAI(a,l,u){if(u.length<a)throw new ne;let h=u.substring(0,a);if(u.length<a+l)throw new ne;let g=u.substring(a,a+l),y=u.substring(a+l),b="("+h+")"+g,S=ze.parseFieldsInGeneralPurpose(y);return S==null?b:b+S}static processVariableAI(a,l,u){let h=u.substring(0,a),g;u.length<a+l?g=u.length:g=a+l;let y=u.substring(a,g),b=u.substring(g),S="("+h+")"+y,T=ze.parseFieldsInGeneralPurpose(b);return T==null?S:S+T}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Cs{constructor(a){this.buffer=new Ee,this.information=a}decodeAllCodes(a,l){let u=l,h=null;do{let g=this.decodeGeneralPurposeField(u,h),y=ze.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&a.append(y),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new xn(this.information.getSize(),xn.FNC1,xn.FNC1):new xn(this.information.getSize(),g-1,xn.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),u=(l-8)/11,h=(l-8)%11;return new xn(a+7,u,h)}extractNumericValueFromBitArray(a,l){return Cs.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,u){let h=0;for(let g=0;g<u;++g)a.get(l+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Ri(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new Ri(this.current.getPosition(),this.buffer.toString()):l=new Ri(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new di(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new Ri(this.current.getPosition(),this.buffer.toString());return new di(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new di(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new Ri(this.current.getPosition(),this.buffer.toString());return new di(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new di(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new Ri(this.current.getPosition(),this.buffer.toString());return new di(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new di(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new zr(a+5,zr.FNC1);if(l>=5&&l<15)return new zr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new zr(a+7,""+(u+1));if(u>=90&&u<116)return new zr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new H}return new zr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new zr(a+5,zr.FNC1);if(l>=5&&l<15)return new zr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new zr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+u)}return new zr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class Gc{constructor(a){this.information=a,this.generalDecoder=new Cs(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Pn extends Gc{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}Pn.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+l).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}Pn.GTIN_SIZE=40;class Zn extends Pn{constructor(a){super(a)}parseInformation(){let a=new Ee;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Zn.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,Zn.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,Zn.HEADER_SIZE+44)}}Zn.HEADER_SIZE=4;class go extends Gc{constructor(a){super(a)}parseInformation(){let a=new Ee;return this.getGeneralDecoder().decodeAllCodes(a,go.HEADER_SIZE)}}go.HEADER_SIZE=5;class vo extends Pn{constructor(a){super(a)}encodeCompressedWeight(a,l,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(a,h);let g=this.checkWeight(h),y=1e5;for(let b=0;b<5;++b)g/y===0&&a.append("0"),y/=10;a.append(g)}}class ji extends vo{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=ji.HEADER_SIZE+vo.GTIN_SIZE+ji.WEIGHT_SIZE)throw new ne;let a=new Ee;return this.encodeCompressedGtin(a,ji.HEADER_SIZE),this.encodeCompressedWeight(a,ji.HEADER_SIZE+vo.GTIN_SIZE,ji.WEIGHT_SIZE),a.toString()}}ji.HEADER_SIZE=5,ji.WEIGHT_SIZE=15;class Vd extends ji{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class Hd extends ji{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class fi extends Pn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<fi.HEADER_SIZE+Pn.GTIN_SIZE)throw new ne;let a=new Ee;this.encodeCompressedGtin(a,fi.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE+Pn.GTIN_SIZE,fi.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(fi.HEADER_SIZE+Pn.GTIN_SIZE+fi.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}fi.HEADER_SIZE=8,fi.LAST_DIGIT_SIZE=2;class cn extends Pn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<cn.HEADER_SIZE+Pn.GTIN_SIZE)throw new ne;let a=new Ee;this.encodeCompressedGtin(a,cn.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+Pn.GTIN_SIZE,cn.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+Pn.GTIN_SIZE+cn.LAST_DIGIT_SIZE,cn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(cn.HEADER_SIZE+Pn.GTIN_SIZE+cn.LAST_DIGIT_SIZE+cn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}cn.HEADER_SIZE=8,cn.LAST_DIGIT_SIZE=2,cn.FIRST_THREE_DIGITS_SIZE=10;class Qt extends vo{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Qt.HEADER_SIZE+Qt.GTIN_SIZE+Qt.WEIGHT_SIZE+Qt.DATE_SIZE)throw new ne;let a=new Ee;return this.encodeCompressedGtin(a,Qt.HEADER_SIZE),this.encodeCompressedWeight(a,Qt.HEADER_SIZE+Qt.GTIN_SIZE,Qt.WEIGHT_SIZE),this.encodeCompressedDate(a,Qt.HEADER_SIZE+Qt.GTIN_SIZE+Qt.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Qt.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let y=u;y/10==0&&a.append("0"),a.append(y),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}Qt.HEADER_SIZE=8,Qt.WEIGHT_SIZE=20,Qt.DATE_SIZE=16;function Gd(B){try{if(B.get(1))return new Zn(B);if(!B.get(2))return new go(B);switch(Cs.extractNumericValueFromBitArray(B,1,4)){case 4:return new Vd(B);case 5:return new Hd(B)}switch(Cs.extractNumericValueFromBitArray(B,1,5)){case 12:return new fi(B);case 13:return new cn(B)}switch(Cs.extractNumericValueFromBitArray(B,1,7)){case 56:return new Qt(B,"310","11");case 57:return new Qt(B,"320","11");case 58:return new Qt(B,"310","13");case 59:return new Qt(B,"320","13");case 60:return new Qt(B,"310","15");case 61:return new Qt(B,"320","15");case 62:return new Qt(B,"310","17");case 63:return new Qt(B,"320","17")}}catch(a){throw console.log(a),new Lt("unknown decoder: "+B)}}class Bt{constructor(a,l,u,h){this.leftchar=a,this.rightchar=l,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof Bt?Bt.equalsOrNull(a.leftchar,l.leftchar)&&Bt.equalsOrNull(a.rightchar,l.rightchar)&&Bt.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:Bt.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qc{constructor(a,l,u){this.pairs=a,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof qc?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let u;return a.forEach((h,g)=>{l.forEach(y=>{h.getLeftChar().getValue()===y.getLeftChar().getValue()&&h.getRightChar().getValue()===y.getRightChar().getValue()&&h.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class be extends Yr{constructor(a){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,u){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(g){if(g instanceof ne){if(!this.pairs.length)throw new ne;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new ne}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let u=l;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let y of a)this.pairs.push(y.getPairs());if(this.pairs.push(h.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(y){this.verbose&&console.log(y)}}throw new ne}static isValidSequence(a){for(let l of be.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,l){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>a){g=y.isEquivalent(this.pairs);break}h=y.isEquivalent(this.pairs),u++}g||h||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new qc(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let u of l)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(Bt.equals(h,g))break}}static isPartialRow(a,l){for(let u of l){let h=!0;for(let g of a){let y=!1;for(let b of u.getPairs())if(g.equals(b)){y=!0;break}if(!y){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=Vc.buildBitArray(a),h=Gd(l).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),y=a[a.length-1].getFinderPattern().getResultPoints(),b=[g[0],g[1],y[0],y[1]];return new De(h,null,null,b,Ie.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let b=1;b<this.pairs.size();++b){let S=this.pairs.get(b);h+=S.getLeftChar().getChecksumPortion(),g++;let T=S.getRightChar();T!=null&&(h+=T.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==l.getValue()}static getNextSecondBar(a,l){let u;return a.get(l)?(u=a.getNextUnset(l),u=a.getNextSet(u)):(u=a.getNextSet(l),u=a.getNextUnset(u)),u}retrieveNextPair(a,l,u){let h=l.length%2==0;this.startFromEven&&(h=!h);let g,y=!0,b=-1;do this.findNextPair(a,l,b),g=this.parseFoundFinderPattern(a,u,h),g==null?b=be.getNextSecondBar(a,this.startEnd[0]):y=!1;while(y);let S=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new ne;let T;try{T=this.decodeDataCharacter(a,g,h,!1)}catch(D){T=null,this.verbose&&console.log(D)}return new Bt(S,T,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y;u>=0?y=u:this.isEmptyPair(l)?y=0:y=l[l.length-1].getFinderPattern().getStartEnd()[1];let b=l.length%2!=0;this.startFromEven&&(b=!b);let S=!1;for(;y<g&&(S=!a.get(y),!!S);)y++;let T=0,D=y;for(let F=y;F<g;F++)if(a.get(F)!=S)h[T]++;else{if(T==3){if(b&&be.reverseCounters(h),be.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=F;return}b&&be.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,S=!S}throw new ne}static reverseCounters(a){let l=a.length;for(let u=0;u<l/2;++u){let h=a[u];a[u]=a[l-u-1],a[l-u-1]=h}}parseFoundFinderPattern(a,l,u){let h,g,y;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,h=this.startEnd[0]-T,g=T,y=this.startEnd[1]}else g=this.startEnd[0],y=a.getNextUnset(this.startEnd[1]+1),h=y-this.startEnd[1];let b=this.getDecodeFinderCounters();I.arraycopy(b,0,b,1,b.length-1),b[0]=h;let S;try{S=this.parseFinderValue(b,be.FINDER_PATTERNS)}catch{return null}return new mo(S,[g,y],g,y,l)}decodeDataCharacter(a,l,u,h){let g=this.getDataCharacterCounters();for(let Mt=0;Mt<g.length;Mt++)g[Mt]=0;if(h)be.recordPatternInReverse(a,l.getStartEnd()[0],g);else{be.recordPattern(a,l.getStartEnd()[1],g);for(let Mt=0,wr=g.length-1;Mt<wr;Mt++,wr--){let En=g[Mt];g[Mt]=g[wr],g[wr]=En}}let y=17,b=wt.sum(new Int32Array(g))/y,S=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(b-S)/S>.3)throw new ne;let T=this.getOddCounts(),D=this.getEvenCounts(),F=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Mt=0;Mt<g.length;Mt++){let wr=1*g[Mt]/b,En=wr+.5;if(En<1){if(wr<.3)throw new ne;En=1}else if(En>8){if(wr>8.7)throw new ne;En=8}let Ha=Mt/2;(Mt&1)==0?(T[Ha]=En,F[Ha]=wr-En):(D[Ha]=En,$[Ha]=wr-En)}this.adjustOddEvenCounts(y);let q=4*l.getValue()+(u?0:2)+(h?0:1)-1,Y=0,ee=0;for(let Mt=T.length-1;Mt>=0;Mt--){if(be.isNotA1left(l,u,h)){let wr=be.WEIGHTS[q][2*Mt];ee+=T[Mt]*wr}Y+=T[Mt]}let ae=0;for(let Mt=D.length-1;Mt>=0;Mt--)if(be.isNotA1left(l,u,h)){let wr=be.WEIGHTS[q][2*Mt+1];ae+=D[Mt]*wr}let he=ee+ae;if((Y&1)!=0||Y>13||Y<4)throw new ne;let Te=(13-Y)/2,Pe=be.SYMBOL_WIDEST[Te],Ce=9-Pe,bt=Tn.getRSSvalue(T,Pe,!0),ht=Tn.getRSSvalue(D,Ce,!1),Rn=be.EVEN_TOTAL_SUBSET[Te],vi=be.GSUM[Te],Mr=bt*Rn+ht+vi;return new Ea(Mr,he)}static isNotA1left(a,l,u){return!(a.getValue()==0&&l&&u)}adjustOddEvenCounts(a){let l=wt.sum(new Int32Array(this.getOddCounts())),u=wt.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let y=!1,b=!1;u>13?b=!0:u<4&&(y=!0);let S=l+u-a,T=(l&1)==1,D=(u&1)==0;if(S==1)if(T){if(D)throw new ne;g=!0}else{if(!D)throw new ne;b=!0}else if(S==-1)if(T){if(D)throw new ne;h=!0}else{if(!D)throw new ne;y=!0}else if(S==0){if(T){if(!D)throw new ne;l<u?(h=!0,b=!0):(g=!0,y=!0)}else if(D)throw new ne}else throw new ne;if(h){if(g)throw new ne;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(b)throw new ne;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class qd extends Ea{constructor(a,l,u){super(a,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ht extends Yr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,u){const h=this.decodePair(l,!1,a,u);Ht.addOrTally(this.possibleLeftPairs,h),l.reverse();let g=this.decodePair(l,!0,a,u);Ht.addOrTally(this.possibleRightPairs,g),l.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&Ht.checkChecksum(y,b))return Ht.constructResult(y,b)}throw new ne}static addOrTally(a,l){if(l==null)return;let u=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),u=!0;break}u||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let u=4537077*a.getValue()+l.getValue(),h=new String(u).toString(),g=new Ee;for(let T=13-h.length;T>0;T--)g.append("0");g.append(h);let y=0;for(let T=0;T<13;T++){let D=g.charAt(T).charCodeAt(0)-48;y+=(T&1)===0?3*D:D}y=10-y%10,y===10&&(y=0),g.append(y.toString());let b=a.getFinderPattern().getResultPoints(),S=l.getFinderPattern().getResultPoints();return new De(g.toString(),null,0,[b[0],b[1],S[0],S[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(a,l){let u=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,l,u,h){try{let g=this.findFinderPattern(a,l),y=this.parseFoundFinderPattern(a,u,l,g),b=h==null?null:h.get(V.NEED_RESULT_POINT_CALLBACK);if(b!=null){let D=(g[0]+g[1])/2;l&&(D=a.getSize()-1-D),b.foundPossibleResultPoint(new Ue(D,u))}let S=this.decodeDataCharacter(a,y,!0),T=this.decodeDataCharacter(a,y,!1);return new qd(1597*S.getValue()+T.getValue(),S.getChecksumPortion()+4*T.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(a,l,u){let h=this.getDataCharacterCounters();for(let ae=0;ae<h.length;ae++)h[ae]=0;if(u)xr.recordPatternInReverse(a,l.getStartEnd()[0],h);else{xr.recordPattern(a,l.getStartEnd()[1]+1,h);for(let ae=0,he=h.length-1;ae<he;ae++,he--){let Te=h[ae];h[ae]=h[he],h[he]=Te}}let g=u?16:15,y=wt.sum(new Int32Array(h))/g,b=this.getOddCounts(),S=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ae=0;ae<h.length;ae++){let he=h[ae]/y,Te=Math.floor(he+.5);Te<1?Te=1:Te>8&&(Te=8);let Pe=Math.floor(ae/2);(ae&1)===0?(b[Pe]=Te,T[Pe]=he-Te):(S[Pe]=Te,D[Pe]=he-Te)}this.adjustOddEvenCounts(u,g);let F=0,$=0;for(let ae=b.length-1;ae>=0;ae--)$*=9,$+=b[ae],F+=b[ae];let q=0,Y=0;for(let ae=S.length-1;ae>=0;ae--)q*=9,q+=S[ae],Y+=S[ae];let ee=$+3*q;if(u){if((F&1)!==0||F>12||F<4)throw new ne;let ae=(12-F)/2,he=Ht.OUTSIDE_ODD_WIDEST[ae],Te=9-he,Pe=Tn.getRSSvalue(b,he,!1),Ce=Tn.getRSSvalue(S,Te,!0),bt=Ht.OUTSIDE_EVEN_TOTAL_SUBSET[ae],ht=Ht.OUTSIDE_GSUM[ae];return new Ea(Pe*bt+Ce+ht,ee)}else{if((Y&1)!==0||Y>10||Y<4)throw new ne;let ae=(10-Y)/2,he=Ht.INSIDE_ODD_WIDEST[ae],Te=9-he,Pe=Tn.getRSSvalue(b,he,!0),Ce=Tn.getRSSvalue(S,Te,!1),bt=Ht.INSIDE_ODD_TOTAL_SUBSET[ae],ht=Ht.INSIDE_GSUM[ae];return new Ea(Ce*bt+Pe+ht,ee)}}findFinderPattern(a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,y=0;for(;y<h&&(g=!a.get(y),l!==g);)y++;let b=0,S=y;for(let T=y;T<h;T++)if(a.get(T)!==g)u[b]++;else{if(b===3){if(Yr.isFinderPattern(u))return[S,T];S+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,b--}else b++;u[b]=1,g=!g}throw new ne}parseFoundFinderPattern(a,l,u,h){let g=a.get(h[0]),y=h[0]-1;for(;y>=0&&g!==a.get(y);)y--;y++;const b=h[0]-y,S=this.getDecodeFinderCounters(),T=new Int32Array(S.length);I.arraycopy(S,0,T,1,S.length-1),T[0]=b;const D=this.parseFinderValue(T,Ht.FINDER_PATTERNS);let F=y,$=h[1];return u&&(F=a.getSize()-1-F,$=a.getSize()-1-$),new mo(D,[y,h[1]],F,$,l)}adjustOddEvenCounts(a,l){let u=wt.sum(new Int32Array(this.getOddCounts())),h=wt.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,b=!1,S=!1;a?(u>12?y=!0:u<4&&(g=!0),h>12?S=!0:h<4&&(b=!0)):(u>11?y=!0:u<5&&(g=!0),h>10?S=!0:h<4&&(b=!0));let T=u+h-l,D=(u&1)===(a?1:0),F=(h&1)===1;if(T===1)if(D){if(F)throw new ne;y=!0}else{if(!F)throw new ne;S=!0}else if(T===-1)if(D){if(F)throw new ne;g=!0}else{if(!F)throw new ne;b=!0}else if(T===0){if(D){if(!F)throw new ne;u<h?(g=!0,S=!0):(y=!0,b=!0)}else if(F)throw new ne}else throw new ne;if(g){if(y)throw new ne;Yr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&Yr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(S)throw new ne;Yr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Yr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ht.OUTSIDE_GSUM=[0,161,961,2015,2715],Ht.INSIDE_GSUM=[0,336,1036,1516],Ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ht.INSIDE_ODD_WIDEST=[2,4,6,8],Ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Os extends xr{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const u=a?a.get(V.POSSIBLE_FORMATS):null,h=a&&a.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ie.EAN_13)||u.includes(Ie.UPC_A)||u.includes(Ie.EAN_8)||u.includes(Ie.UPC_E))&&this.readers.push(new bl(a)),u.includes(Ie.CODE_39)&&this.readers.push(new kr(h)),u.includes(Ie.CODE_128)&&this.readers.push(new je),u.includes(Ie.ITF)&&this.readers.push(new jt),u.includes(Ie.RSS_14)&&this.readers.push(new Ht),u.includes(Ie.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new bl(a)),this.readers.push(new kr),this.readers.push(new bl(a)),this.readers.push(new je),this.readers.push(new jt),this.readers.push(new Ht),this.readers.push(new be(this.verbose)))}decodeRow(a,l,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,u)}catch{}throw new ne}reset(){this.readers.forEach(a=>a.reset())}}class Kd extends Me{constructor(a=500,l){super(new Os(l),a,l)}}class It{constructor(a,l,u){this.ecCodewords=a,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class gt{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(a,l,u,h,g,y){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=y;let b=0;const S=y.getECCodewords(),T=y.getECBlocks();for(let D of T)b+=D.getCount()*(D.getDataCodewords()+S);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if((a&1)!==0||(l&1)!==0)throw new H;for(let u of _t.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===l)return u;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new It(5,new gt(1,3))),new _t(2,12,12,10,10,new It(7,new gt(1,5))),new _t(3,14,14,12,12,new It(10,new gt(1,8))),new _t(4,16,16,14,14,new It(12,new gt(1,12))),new _t(5,18,18,16,16,new It(14,new gt(1,18))),new _t(6,20,20,18,18,new It(18,new gt(1,22))),new _t(7,22,22,20,20,new It(20,new gt(1,30))),new _t(8,24,24,22,22,new It(24,new gt(1,36))),new _t(9,26,26,24,24,new It(28,new gt(1,44))),new _t(10,32,32,14,14,new It(36,new gt(1,62))),new _t(11,36,36,16,16,new It(42,new gt(1,86))),new _t(12,40,40,18,18,new It(48,new gt(1,114))),new _t(13,44,44,20,20,new It(56,new gt(1,144))),new _t(14,48,48,22,22,new It(68,new gt(1,174))),new _t(15,52,52,24,24,new It(42,new gt(2,102))),new _t(16,64,64,14,14,new It(56,new gt(2,140))),new _t(17,72,72,16,16,new It(36,new gt(4,92))),new _t(18,80,80,18,18,new It(48,new gt(4,114))),new _t(19,88,88,20,20,new It(56,new gt(4,144))),new _t(20,96,96,22,22,new It(68,new gt(4,174))),new _t(21,104,104,24,24,new It(56,new gt(6,136))),new _t(22,120,120,18,18,new It(68,new gt(6,175))),new _t(23,132,132,20,20,new It(62,new gt(8,163))),new _t(24,144,144,22,22,new It(62,new gt(8,156),new gt(2,155))),new _t(25,8,18,6,16,new It(7,new gt(1,5))),new _t(26,8,32,6,14,new It(11,new gt(1,10))),new _t(27,12,26,10,24,new It(14,new gt(1,16))),new _t(28,12,36,10,16,new It(18,new gt(1,22))),new _t(29,16,36,14,16,new It(24,new gt(1,32))),new _t(30,16,48,14,22,new It(28,new gt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class Wn{constructor(a){const l=a.getHeight();if(l<8||l>144||(l&1)!==0)throw new H;this.version=Wn.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),u=a.getWidth();return _t.getVersionForDimensions(l,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let b=!1,S=!1,T=!1,D=!1;do if(u===g&&h===0&&!b)a[l++]=this.readCorner1(g,y)&255,u-=2,h+=2,b=!0;else if(u===g-2&&h===0&&(y&3)!==0&&!S)a[l++]=this.readCorner2(g,y)&255,u-=2,h+=2,S=!0;else if(u===g+4&&h===2&&(y&7)===0&&!T)a[l++]=this.readCorner3(g,y)&255,u-=2,h+=2,T=!0;else if(u===g-2&&h===0&&(y&7)===4&&!D)a[l++]=this.readCorner4(g,y)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,y)&255),u-=2,h+=2;while(u>=0&&h<y);u+=1,h+=3;do u>=0&&h<y&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,y)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<y);if(l!==this.version.getTotalCodewords())throw new H;return a}readModule(a,l,u,h){return a<0&&(a+=u,l+=4-(u+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,u,h){let g=0;return this.readModule(a-2,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l,u,h)&&(g|=1),g<<=1,this.readModule(a,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a,l,u,h)&&(g|=1),g}readCorner1(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,1,a,l)&&(u|=1),u<<=1,this.readModule(a-1,2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}readCorner2(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-4,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner3(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-3,a,l)&&(u|=1),u<<=1,this.readModule(1,l-2,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner4(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new w("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=l/h|0,b=u/g|0,S=y*h,T=b*g,D=new ke(T,S);for(let F=0;F<y;++F){const $=F*h;for(let q=0;q<b;++q){const Y=q*g;for(let ee=0;ee<h;++ee){const ae=F*(h+2)+1+ee,he=$+ee;for(let Te=0;Te<g;++Te){const Pe=q*(g+2)+1+Te;if(a.get(Pe,ae)){const Ce=Y+Te;D.set(Ce,he)}}}}}return D}}class Kc{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const u=l.getECBlocks();let h=0;const g=u.getECBlocks();for(let ee of g)h+=ee.getCount();const y=new Array(h);let b=0;for(let ee of g)for(let ae=0;ae<ee.getCount();ae++){const he=ee.getDataCodewords(),Te=u.getECCodewords()+he;y[b++]=new Kc(he,new Uint8Array(Te))}const T=y[0].codewords.length-u.getECCodewords(),D=T-1;let F=0;for(let ee=0;ee<D;ee++)for(let ae=0;ae<b;ae++)y[ae].codewords[ee]=a[F++];const $=l.getVersionNumber()===24,q=$?8:b;for(let ee=0;ee<q;ee++)y[ee].codewords[T-1]=a[F++];const Y=y[0].codewords.length;for(let ee=T;ee<Y;ee++)for(let ae=0;ae<b;ae++){const he=$?(ae+8)%b:ae,Te=$&&he>7?ee-1:ee;y[he].codewords[Te]=a[F++]}if(F!==a.length)throw new w;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xc{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new w(""+a);let l=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const y=8-u,b=a<y?a:y,S=y-b,T=255>>8-b<<S;l=(g[h]&T)>>S,a-=b,u+=b,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)l=l<<8|g[h]&255,h++,a-=8;if(a>0){const y=8-a,b=255>>y<<y;l=l<<a|(g[h]&b)>>y,u+=a}}return this.bitOffset=u,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rr;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Rr||(Rr={}));class hi{static decode(a){const l=new Xc(a),u=new Ee,h=new Ee,g=new Array;let y=Rr.ASCII_ENCODE;do if(y===Rr.ASCII_ENCODE)y=this.decodeAsciiSegment(l,u,h);else{switch(y){case Rr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Rr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Rr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Rr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Rr.BASE256_ENCODE:this.decodeBase256Segment(l,u,g);break;default:throw new H}y=Rr.ASCII_ENCODE}while(y!==Rr.PAD_ENCODE&&l.available()>0);return h.length()>0&&u.append(h.toString()),new te(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,l,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new H;if(g<=128)return h&&(g+=128),l.append(String.fromCharCode(g-1)),Rr.ASCII_ENCODE;if(g===129)return Rr.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&l.append("0"),l.append(""+y)}else switch(g){case 230:return Rr.C40_ENCODE;case 231:return Rr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Rr.ANSIX12_ENCODE;case 239:return Rr.TEXT_ENCODE;case 240:return Rr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new H;break}}while(a.available()>0);return Rr.ASCII_ENCODE}static decodeC40Segment(a,l){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let b=0;b<3;b++){const S=h[b];switch(g){case 0:if(S<3)g=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(S+128)),u=!1):l.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(S){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:u?(l.append(String.fromCharCode(S+224)),u=!1):l.append(String.fromCharCode(S+96)),g=0;break;default:throw new H}}}while(a.available()>0)}static decodeTextSegment(a,l){let u=!1,h=[],g=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let b=0;b<3;b++){const S=h[b];switch(g){case 0:if(S<3)g=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(S+128)),u=!1):l.append(String.fromCharCode(S)),g=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(S){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[S];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T),g=0}else throw new H;break;default:throw new H}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(y){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(y<14)l.append(String.fromCharCode(y+44));else if(y<40)l.append(String.fromCharCode(y+51));else throw new H;break}}}while(a.available()>0)}static parseTwoBytes(a,l,u){let h=(a<<8)+l-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let y;if(g===0?y=a.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),y<0)throw new H;const b=new Uint8Array(y);for(let S=0;S<y;S++){if(a.available()<8)throw new H;b[S]=this.unrandomize255State(a.readBits(8),h++)}u.push(b);try{l.append(me.decode(b,fe.ISO88591))}catch(S){throw new Lt("Platform does not support required encoding: "+S.message)}}static unrandomize255State(a,l){const u=149*l%255+1,h=a-u;return h>=0?h:h+256}}hi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],hi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],hi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],hi.TEXT_SHIFT2_SET_CHARS=hi.C40_SHIFT2_SET_CHARS,hi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class El{constructor(){this.rsDecoder=new Yt(Fe.DATA_MATRIX_FIELD_256)}decode(a){const l=new Wn(a),u=l.getVersion(),h=l.readCodewords(),g=Kc.getDataBlocks(h,u);let y=0;for(let T of g)y+=T.getNumDataCodewords();const b=new Uint8Array(y),S=g.length;for(let T=0;T<S;T++){const D=g[T],F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)b[q*S+T]=F[q]}return hi.decode(b)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new C}for(let h=0;h<l;h++)a[h]=u[h]}}class Gt{constructor(a){this.image=a,this.rectangleDetector=new $n(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new ne;l=this.shiftToModuleCenter(l);const u=l[0],h=l[1],g=l[2],y=l[3];let b=this.transitionsBetween(u,y)+1,S=this.transitionsBetween(g,y)+1;(b&1)===1&&(b+=1),(S&1)===1&&(S+=1),4*b<7*S&&4*S<7*b&&(b=S=Math.max(b,S));let T=Gt.sampleGrid(this.image,u,h,g,y,b,S);return new ea(T,[u,h,g,y])}static shiftPoint(a,l,u){let h=(l.getX()-a.getX())/(u+1),g=(l.getY()-a.getY())/(u+1);return new Ue(a.getX()+h,a.getY()+g)}static moveAway(a,l,u){let h=a.getX(),g=a.getY();return h<l?h-=1:h+=1,g<u?g-=1:g+=1,new Ue(h,g)}detectSolid1(a){let l=a[0],u=a[1],h=a[3],g=a[2],y=this.transitionsBetween(l,u),b=this.transitionsBetween(u,h),S=this.transitionsBetween(h,g),T=this.transitionsBetween(g,l),D=y,F=[g,l,u,h];return D>b&&(D=b,F[0]=l,F[1]=u,F[2]=h,F[3]=g),D>S&&(D=S,F[0]=u,F[1]=h,F[2]=g,F[3]=l),D>T&&(F[0]=h,F[1]=g,F[2]=l,F[3]=u),F}detectSolid2(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g),b=Gt.shiftPoint(u,h,(y+1)*4),S=Gt.shiftPoint(h,u,(y+1)*4),T=this.transitionsBetween(b,l),D=this.transitionsBetween(S,g);return T<D?(a[0]=l,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=l),a}correctTopRight(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g),b=this.transitionsBetween(u,g),S=Gt.shiftPoint(l,u,(b+1)*4),T=Gt.shiftPoint(h,u,(y+1)*4);y=this.transitionsBetween(S,g),b=this.transitionsBetween(T,g);let D=new Ue(g.getX()+(h.getX()-u.getX())/(y+1),g.getY()+(h.getY()-u.getY())/(y+1)),F=new Ue(g.getX()+(l.getX()-u.getX())/(b+1),g.getY()+(l.getY()-u.getY())/(b+1));if(!this.isValid(D))return this.isValid(F)?F:null;if(!this.isValid(F))return D;let $=this.transitionsBetween(S,D)+this.transitionsBetween(T,D),q=this.transitionsBetween(S,F)+this.transitionsBetween(T,F);return $>q?D:F}shiftToModuleCenter(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g)+1,b=this.transitionsBetween(h,g)+1,S=Gt.shiftPoint(l,u,b*4),T=Gt.shiftPoint(h,u,y*4);y=this.transitionsBetween(S,g)+1,b=this.transitionsBetween(T,g)+1,(y&1)===1&&(y+=1),(b&1)===1&&(b+=1);let D=(l.getX()+u.getX()+h.getX()+g.getX())/4,F=(l.getY()+u.getY()+h.getY()+g.getY())/4;l=Gt.moveAway(l,D,F),u=Gt.moveAway(u,D,F),h=Gt.moveAway(h,D,F),g=Gt.moveAway(g,D,F);let $,q;return S=Gt.shiftPoint(l,u,b*4),S=Gt.shiftPoint(S,g,y*4),$=Gt.shiftPoint(u,l,b*4),$=Gt.shiftPoint($,h,y*4),T=Gt.shiftPoint(h,g,b*4),T=Gt.shiftPoint(T,u,y*4),q=Gt.shiftPoint(g,h,b*4),q=Gt.shiftPoint(q,l,y*4),[S,$,T,q]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,u,h,g,y,b){return cr.getInstance().sampleGrid(a,y,b,.5,.5,y-.5,.5,y-.5,b-.5,.5,b-.5,l.getX(),l.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,l){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),b=Math.abs(y-h)>Math.abs(g-u);if(b){let ee=u;u=h,h=ee,ee=g,g=y,y=ee}let S=Math.abs(g-u),T=Math.abs(y-h),D=-S/2,F=h<y?1:-1,$=u<g?1:-1,q=0,Y=this.image.get(b?h:u,b?u:h);for(let ee=u,ae=h;ee!==g;ee+=$){let he=this.image.get(b?ae:ee,b?ee:ae);if(he!==Y&&(q++,Y=he),D+=T,D>0){if(ae===y)break;ae+=F,D-=S}}return q}}class pi{constructor(){this.decoder=new El}decode(a,l=null){let u,h;if(l!=null&&l.has(V.PURE_BARCODE)){const T=pi.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(T),h=pi.NO_POINTS}else{const T=new Gt(a.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),h=T.getPoints()}const g=u.getRawBytes(),y=new De(u.getText(),g,8*g.length,h,Ie.DATA_MATRIX,I.currentTimeMillis()),b=u.getByteSegments();b!=null&&y.putMetadata(Z.BYTE_SEGMENTS,b);const S=u.getECLevel();return S!=null&&y.putMetadata(Z.ERROR_CORRECTION_LEVEL,S),y}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l==null||u==null)throw new ne;const h=this.moduleSize(l,a);let g=l[1];const y=u[1];let b=l[0];const T=(u[0]-b+1)/h,D=(y-g+1)/h;if(T<=0||D<=0)throw new ne;const F=h/2;g+=F,b+=F;const $=new ke(T,D);for(let q=0;q<D;q++){const Y=g+q*h;for(let ee=0;ee<T;ee++)a.get(b+ee*h,Y)&&$.set(ee,q)}return $}static moduleSize(a,l){const u=l.getWidth();let h=a[0];const g=a[1];for(;h<u&&l.get(h,g);)h++;if(h===u)throw new ne;const y=h-a[0];if(y===0)throw new ne;return y}}pi.NO_POINTS=[];class em extends Me{constructor(a=500){super(new pi,a)}}var Is;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Is||(Is={}));class Ft{constructor(a,l,u){this.value=a,this.stringValue=l,this.bits=u,Ft.FOR_BITS.set(u,this),Ft.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Ft.L;case"M":return Ft.M;case"Q":return Ft.Q;case"H":return Ft.H;default:throw new v(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Ft))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=Ft.FOR_BITS.size)throw new w;return Ft.FOR_BITS.get(a)}}Ft.FOR_BITS=new Map,Ft.FOR_VALUE=new Map,Ft.L=new Ft(Is.L,"L",1),Ft.M=new Ft(Is.M,"M",0),Ft.Q=new Ft(Is.Q,"Q",3),Ft.H=new Ft(Is.H,"H",2);class Zr{constructor(a){this.errorCorrectionLevel=Ft.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return j.bitCount(a^l)}static decodeFormatInformation(a,l){const u=Zr.doDecodeFormatInformation(a,l);return u!==null?u:Zr.doDecodeFormatInformation(a^Zr.FORMAT_INFO_MASK_QR,l^Zr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of Zr.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===a||y===l)return new Zr(g[1]);let b=Zr.numBitsDiffering(a,y);b<u&&(h=g[1],u=b),a!==l&&(b=Zr.numBitsDiffering(l,y),b<u&&(h=g[1],u=b))}return u<=3?new Zr(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Zr))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}Zr.FORMAT_INFO_MASK_QR=21522,Zr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class se{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const u of l)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class G{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class et{constructor(a,l,...u){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const b of y)h+=b.getCount()*(b.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new H;try{return this.getVersionForNumber((a-17)/4)}catch{throw new H}}static getVersionForNumber(a){if(a<1||a>40)throw new w;return et.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<et.VERSION_DECODE_INFO.length;h++){const g=et.VERSION_DECODE_INFO[h];if(g===a)return et.getVersionForNumber(h+7);const y=Zr.numBitsDiffering(a,g);y<l&&(u=h+7,l=y)}return l<=3?et.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new ke(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let y=0;y<u;y++)h===0&&(y===0||y===u-1)||h===u-1&&y===0||l.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),et.VERSIONS=[new et(1,new Int32Array(0),new se(7,new G(1,19)),new se(10,new G(1,16)),new se(13,new G(1,13)),new se(17,new G(1,9))),new et(2,Int32Array.from([6,18]),new se(10,new G(1,34)),new se(16,new G(1,28)),new se(22,new G(1,22)),new se(28,new G(1,16))),new et(3,Int32Array.from([6,22]),new se(15,new G(1,55)),new se(26,new G(1,44)),new se(18,new G(2,17)),new se(22,new G(2,13))),new et(4,Int32Array.from([6,26]),new se(20,new G(1,80)),new se(18,new G(2,32)),new se(26,new G(2,24)),new se(16,new G(4,9))),new et(5,Int32Array.from([6,30]),new se(26,new G(1,108)),new se(24,new G(2,43)),new se(18,new G(2,15),new G(2,16)),new se(22,new G(2,11),new G(2,12))),new et(6,Int32Array.from([6,34]),new se(18,new G(2,68)),new se(16,new G(4,27)),new se(24,new G(4,19)),new se(28,new G(4,15))),new et(7,Int32Array.from([6,22,38]),new se(20,new G(2,78)),new se(18,new G(4,31)),new se(18,new G(2,14),new G(4,15)),new se(26,new G(4,13),new G(1,14))),new et(8,Int32Array.from([6,24,42]),new se(24,new G(2,97)),new se(22,new G(2,38),new G(2,39)),new se(22,new G(4,18),new G(2,19)),new se(26,new G(4,14),new G(2,15))),new et(9,Int32Array.from([6,26,46]),new se(30,new G(2,116)),new se(22,new G(3,36),new G(2,37)),new se(20,new G(4,16),new G(4,17)),new se(24,new G(4,12),new G(4,13))),new et(10,Int32Array.from([6,28,50]),new se(18,new G(2,68),new G(2,69)),new se(26,new G(4,43),new G(1,44)),new se(24,new G(6,19),new G(2,20)),new se(28,new G(6,15),new G(2,16))),new et(11,Int32Array.from([6,30,54]),new se(20,new G(4,81)),new se(30,new G(1,50),new G(4,51)),new se(28,new G(4,22),new G(4,23)),new se(24,new G(3,12),new G(8,13))),new et(12,Int32Array.from([6,32,58]),new se(24,new G(2,92),new G(2,93)),new se(22,new G(6,36),new G(2,37)),new se(26,new G(4,20),new G(6,21)),new se(28,new G(7,14),new G(4,15))),new et(13,Int32Array.from([6,34,62]),new se(26,new G(4,107)),new se(22,new G(8,37),new G(1,38)),new se(24,new G(8,20),new G(4,21)),new se(22,new G(12,11),new G(4,12))),new et(14,Int32Array.from([6,26,46,66]),new se(30,new G(3,115),new G(1,116)),new se(24,new G(4,40),new G(5,41)),new se(20,new G(11,16),new G(5,17)),new se(24,new G(11,12),new G(5,13))),new et(15,Int32Array.from([6,26,48,70]),new se(22,new G(5,87),new G(1,88)),new se(24,new G(5,41),new G(5,42)),new se(30,new G(5,24),new G(7,25)),new se(24,new G(11,12),new G(7,13))),new et(16,Int32Array.from([6,26,50,74]),new se(24,new G(5,98),new G(1,99)),new se(28,new G(7,45),new G(3,46)),new se(24,new G(15,19),new G(2,20)),new se(30,new G(3,15),new G(13,16))),new et(17,Int32Array.from([6,30,54,78]),new se(28,new G(1,107),new G(5,108)),new se(28,new G(10,46),new G(1,47)),new se(28,new G(1,22),new G(15,23)),new se(28,new G(2,14),new G(17,15))),new et(18,Int32Array.from([6,30,56,82]),new se(30,new G(5,120),new G(1,121)),new se(26,new G(9,43),new G(4,44)),new se(28,new G(17,22),new G(1,23)),new se(28,new G(2,14),new G(19,15))),new et(19,Int32Array.from([6,30,58,86]),new se(28,new G(3,113),new G(4,114)),new se(26,new G(3,44),new G(11,45)),new se(26,new G(17,21),new G(4,22)),new se(26,new G(9,13),new G(16,14))),new et(20,Int32Array.from([6,34,62,90]),new se(28,new G(3,107),new G(5,108)),new se(26,new G(3,41),new G(13,42)),new se(30,new G(15,24),new G(5,25)),new se(28,new G(15,15),new G(10,16))),new et(21,Int32Array.from([6,28,50,72,94]),new se(28,new G(4,116),new G(4,117)),new se(26,new G(17,42)),new se(28,new G(17,22),new G(6,23)),new se(30,new G(19,16),new G(6,17))),new et(22,Int32Array.from([6,26,50,74,98]),new se(28,new G(2,111),new G(7,112)),new se(28,new G(17,46)),new se(30,new G(7,24),new G(16,25)),new se(24,new G(34,13))),new et(23,Int32Array.from([6,30,54,78,102]),new se(30,new G(4,121),new G(5,122)),new se(28,new G(4,47),new G(14,48)),new se(30,new G(11,24),new G(14,25)),new se(30,new G(16,15),new G(14,16))),new et(24,Int32Array.from([6,28,54,80,106]),new se(30,new G(6,117),new G(4,118)),new se(28,new G(6,45),new G(14,46)),new se(30,new G(11,24),new G(16,25)),new se(30,new G(30,16),new G(2,17))),new et(25,Int32Array.from([6,32,58,84,110]),new se(26,new G(8,106),new G(4,107)),new se(28,new G(8,47),new G(13,48)),new se(30,new G(7,24),new G(22,25)),new se(30,new G(22,15),new G(13,16))),new et(26,Int32Array.from([6,30,58,86,114]),new se(28,new G(10,114),new G(2,115)),new se(28,new G(19,46),new G(4,47)),new se(28,new G(28,22),new G(6,23)),new se(30,new G(33,16),new G(4,17))),new et(27,Int32Array.from([6,34,62,90,118]),new se(30,new G(8,122),new G(4,123)),new se(28,new G(22,45),new G(3,46)),new se(30,new G(8,23),new G(26,24)),new se(30,new G(12,15),new G(28,16))),new et(28,Int32Array.from([6,26,50,74,98,122]),new se(30,new G(3,117),new G(10,118)),new se(28,new G(3,45),new G(23,46)),new se(30,new G(4,24),new G(31,25)),new se(30,new G(11,15),new G(31,16))),new et(29,Int32Array.from([6,30,54,78,102,126]),new se(30,new G(7,116),new G(7,117)),new se(28,new G(21,45),new G(7,46)),new se(30,new G(1,23),new G(37,24)),new se(30,new G(19,15),new G(26,16))),new et(30,Int32Array.from([6,26,52,78,104,130]),new se(30,new G(5,115),new G(10,116)),new se(28,new G(19,47),new G(10,48)),new se(30,new G(15,24),new G(25,25)),new se(30,new G(23,15),new G(25,16))),new et(31,Int32Array.from([6,30,56,82,108,134]),new se(30,new G(13,115),new G(3,116)),new se(28,new G(2,46),new G(29,47)),new se(30,new G(42,24),new G(1,25)),new se(30,new G(23,15),new G(28,16))),new et(32,Int32Array.from([6,34,60,86,112,138]),new se(30,new G(17,115)),new se(28,new G(10,46),new G(23,47)),new se(30,new G(10,24),new G(35,25)),new se(30,new G(19,15),new G(35,16))),new et(33,Int32Array.from([6,30,58,86,114,142]),new se(30,new G(17,115),new G(1,116)),new se(28,new G(14,46),new G(21,47)),new se(30,new G(29,24),new G(19,25)),new se(30,new G(11,15),new G(46,16))),new et(34,Int32Array.from([6,34,62,90,118,146]),new se(30,new G(13,115),new G(6,116)),new se(28,new G(14,46),new G(23,47)),new se(30,new G(44,24),new G(7,25)),new se(30,new G(59,16),new G(1,17))),new et(35,Int32Array.from([6,30,54,78,102,126,150]),new se(30,new G(12,121),new G(7,122)),new se(28,new G(12,47),new G(26,48)),new se(30,new G(39,24),new G(14,25)),new se(30,new G(22,15),new G(41,16))),new et(36,Int32Array.from([6,24,50,76,102,128,154]),new se(30,new G(6,121),new G(14,122)),new se(28,new G(6,47),new G(34,48)),new se(30,new G(46,24),new G(10,25)),new se(30,new G(2,15),new G(64,16))),new et(37,Int32Array.from([6,28,54,80,106,132,158]),new se(30,new G(17,122),new G(4,123)),new se(28,new G(29,46),new G(14,47)),new se(30,new G(49,24),new G(10,25)),new se(30,new G(24,15),new G(46,16))),new et(38,Int32Array.from([6,32,58,84,110,136,162]),new se(30,new G(4,122),new G(18,123)),new se(28,new G(13,46),new G(32,47)),new se(30,new G(48,24),new G(14,25)),new se(30,new G(42,15),new G(32,16))),new et(39,Int32Array.from([6,26,54,82,110,138,166]),new se(30,new G(20,117),new G(4,118)),new se(28,new G(40,47),new G(7,48)),new se(30,new G(43,24),new G(22,25)),new se(30,new G(10,15),new G(67,16))),new et(40,Int32Array.from([6,30,58,86,114,142,170]),new se(30,new G(19,118),new G(6,119)),new se(28,new G(18,47),new G(31,48)),new se(30,new G(34,24),new G(34,25)),new se(30,new G(20,15),new G(61,16)))];var Sr;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(Sr||(Sr={}));class vt{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let u=0;u<l;u++)for(let h=0;h<l;h++)this.isMasked(u,h)&&a.flip(h,u)}}vt.values=new Map([[Sr.DATA_MASK_000,new vt(Sr.DATA_MASK_000,(B,a)=>(B+a&1)===0)],[Sr.DATA_MASK_001,new vt(Sr.DATA_MASK_001,(B,a)=>(B&1)===0)],[Sr.DATA_MASK_010,new vt(Sr.DATA_MASK_010,(B,a)=>a%3===0)],[Sr.DATA_MASK_011,new vt(Sr.DATA_MASK_011,(B,a)=>(B+a)%3===0)],[Sr.DATA_MASK_100,new vt(Sr.DATA_MASK_100,(B,a)=>(Math.floor(B/2)+Math.floor(a/3)&1)===0)],[Sr.DATA_MASK_101,new vt(Sr.DATA_MASK_101,(B,a)=>B*a%6===0)],[Sr.DATA_MASK_110,new vt(Sr.DATA_MASK_110,(B,a)=>B*a%6<3)],[Sr.DATA_MASK_111,new vt(Sr.DATA_MASK_111,(B,a)=>(B+a+B*a%3&1)===0)]]);class Xd{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new H;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const l=this.bitMatrix.getHeight();let u=0;const h=l-7;for(let g=l-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=l-8;g<l;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=Zr.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return et.getVersionForNumber(l);let u=0;const h=a-11;for(let y=5;y>=0;y--)for(let b=a-9;b>=h;b--)u=this.copyBit(b,y,u);let g=et.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let y=5;y>=0;y--)for(let b=a-9;b>=h;b--)u=this.copyBit(y,b,u);if(g=et.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new H}copyBit(a,l,u){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),u=vt.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=l.buildFunctionPattern();let y=!0;const b=new Uint8Array(l.getTotalCodewords());let S=0,T=0,D=0;for(let F=h-1;F>0;F-=2){F===6&&F--;for(let $=0;$<h;$++){const q=y?h-1-$:$;for(let Y=0;Y<2;Y++)g.get(F-Y,q)||(D++,T<<=1,this.bitMatrix.get(F-Y,q)&&(T|=1),D===8&&(b[S++]=T,D=0,T=0))}y=!y}if(S!==l.getTotalCodewords())throw new H;return b}remask(){if(this.parsedFormatInfo===null)return;const a=vt.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,u=a.getWidth();l<u;l++)for(let h=l+1,g=a.getHeight();h<g;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class Al{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,u){if(a.length!==l.getTotalCodewords())throw new w;const h=l.getECBlocksForLevel(u);let g=0;const y=h.getECBlocks();for(const Y of y)g+=Y.getCount();const b=new Array(g);let S=0;for(const Y of y)for(let ee=0;ee<Y.getCount();ee++){const ae=Y.getDataCodewords(),he=h.getECCodewordsPerBlock()+ae;b[S++]=new Al(ae,new Uint8Array(he))}const T=b[0].codewords.length;let D=b.length-1;for(;D>=0&&b[D].codewords.length!==T;)D--;D++;const F=T-h.getECCodewordsPerBlock();let $=0;for(let Y=0;Y<F;Y++)for(let ee=0;ee<S;ee++)b[ee].codewords[Y]=a[$++];for(let Y=D;Y<S;Y++)b[Y].codewords[F]=a[$++];const q=b[0].codewords.length;for(let Y=F;Y<q;Y++)for(let ee=0;ee<S;ee++){const ae=ee<D?Y:Y+1;b[ee].codewords[ae]=a[$++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var kn;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(kn||(kn={}));class tt{constructor(a,l,u,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=h,tt.FOR_BITS.set(h,this),tt.FOR_VALUE.set(a,this)}static forBits(a){const l=tt.FOR_BITS.get(a);if(l===void 0)throw new w;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof tt))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.TERMINATOR=new tt(kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),tt.NUMERIC=new tt(kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),tt.ALPHANUMERIC=new tt(kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),tt.STRUCTURED_APPEND=new tt(kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),tt.BYTE=new tt(kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),tt.ECI=new tt(kn.ECI,"ECI",Int32Array.from([0,0,0]),7),tt.KANJI=new tt(kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),tt.FNC1_FIRST_POSITION=new tt(kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),tt.FNC1_SECOND_POSITION=new tt(kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),tt.HANZI=new tt(kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jt{static decode(a,l,u,h){const g=new Xc(a);let y=new Ee;const b=new Array;let S=-1,T=-1;try{let D=null,F=!1,$;do{if(g.available()<4)$=tt.TERMINATOR;else{const q=g.readBits(4);$=tt.forBits(q)}switch($){case tt.TERMINATOR:break;case tt.FNC1_FIRST_POSITION:case tt.FNC1_SECOND_POSITION:F=!0;break;case tt.STRUCTURED_APPEND:if(g.available()<16)throw new H;S=g.readBits(8),T=g.readBits(8);break;case tt.ECI:const q=Jt.parseECIValue(g);if(D=X.getCharacterSetECIByValue(q),D===null)throw new H;break;case tt.HANZI:const Y=g.readBits(4),ee=g.readBits($.getCharacterCountBits(l));Y===Jt.GB2312_SUBSET&&Jt.decodeHanziSegment(g,y,ee);break;default:const ae=g.readBits($.getCharacterCountBits(l));switch($){case tt.NUMERIC:Jt.decodeNumericSegment(g,y,ae);break;case tt.ALPHANUMERIC:Jt.decodeAlphanumericSegment(g,y,ae,F);break;case tt.BYTE:Jt.decodeByteSegment(g,y,ae,D,b,h);break;case tt.KANJI:Jt.decodeKanjiSegment(g,y,ae);break;default:throw new H}break}}while($!==tt.TERMINATOR)}catch{throw new H}return new te(a,y.toString(),b.length===0?null:b,u===null?null:u.toString(),S,T)}static decodeHanziSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=a.readBits(13);let b=y/96<<8&4294967295|y%96;b<959?b+=41377:b+=42657,h[g]=b>>8&255,h[g+1]=b&255,g+=2,u--}try{l.append(me.decode(h,fe.GB2312))}catch(y){throw new H(y)}}static decodeKanjiSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=a.readBits(13);let b=y/192<<8&4294967295|y%192;b<7936?b+=33088:b+=49472,h[g]=b>>8,h[g+1]=b,g+=2,u--}try{l.append(me.decode(h,fe.SHIFT_JIS))}catch(y){throw new H(y)}}static decodeByteSegment(a,l,u,h,g,y){if(8*u>a.available())throw new H;const b=new Uint8Array(u);for(let T=0;T<u;T++)b[T]=a.readBits(8);let S;h===null?S=fe.guessEncoding(b,y):S=h.getName();try{l.append(me.decode(b,S))}catch(T){throw new H(T)}g.push(b)}static toAlphaNumericChar(a){if(a>=Jt.ALPHANUMERIC_CHARS.length)throw new H;return Jt.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,h){const g=l.length();for(;u>1;){if(a.available()<11)throw new H;const y=a.readBits(11);l.append(Jt.toAlphaNumericChar(Math.floor(y/45))),l.append(Jt.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(a.available()<6)throw new H;l.append(Jt.toAlphaNumericChar(a.readBits(6)))}if(h)for(let y=g;y<l.length();y++)l.charAt(y)==="%"&&(y<l.length()-1&&l.charAt(y+1)==="%"?l.deleteCharAt(y+1):l.setCharAt(y,""))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new H;const h=a.readBits(10);if(h>=1e3)throw new H;l.append(Jt.toAlphaNumericChar(Math.floor(h/100))),l.append(Jt.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(Jt.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new H;const h=a.readBits(7);if(h>=100)throw new H;l.append(Jt.toAlphaNumericChar(Math.floor(h/10))),l.append(Jt.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new H;const h=a.readBits(4);if(h>=10)throw new H;l.append(Jt.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=a.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=a.readBits(16);return(l&31)<<16&4294967295|u}throw new H}}Jt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jt.GB2312_SUBSET=1;class Yc{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class Zc{constructor(){this.rsDecoder=new Yt(Fe.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(ke.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const u=new Xd(a);let h=null;try{return this.decodeBitMatrixParser(u,l)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,l);return g.setOther(new Yc(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,l){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),y=Al.getDataBlocks(g,u,h);let b=0;for(const D of y)b+=D.getNumDataCodewords();const S=new Uint8Array(b);let T=0;for(const D of y){const F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)S[T++]=F[q]}return Jt.decode(S,u,h,l)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new C}for(let h=0;h<l;h++)a[h]=u[h]}}class Ns extends Ue{constructor(a,l,u){super(a,l),this.estimatedModuleSize=u}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=(this.getX()+l)/2,g=(this.getY()+a)/2,y=(this.estimatedModuleSize+u)/2;return new Ns(h,g,y)}}class mi{constructor(a,l,u,h,g,y,b){this.image=a,this.startX=l,this.startY=u,this.width=h,this.height=g,this.moduleSize=y,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,u=this.width,h=a+u,g=this.startY+l/2,y=new Int32Array(3),b=this.image;for(let S=0;S<l;S++){const T=g+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));y[0]=0,y[1]=0,y[2]=0;let D=a;for(;D<h&&!b.get(D,T);)D++;let F=0;for(;D<h;){if(b.get(D,T))if(F===1)y[1]++;else if(F===2){if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,D);if($!==null)return $}y[0]=y[2],y[1]=1,y[2]=0,F=1}else y[++F]++;else F===1&&F++,y[F]++;D++}if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,h);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ne}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,u=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=u)return!1;return!0}crossCheckVertical(a,l,u,h){const g=this.image,y=g.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let S=a;for(;S>=0&&g.get(l,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&!g.get(l,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=a+1;S<y&&g.get(l,S)&&b[1]<=u;)b[1]++,S++;if(S===y||b[1]>u)return NaN;for(;S<y&&!g.get(l,S)&&b[2]<=u;)b[2]++,S++;if(b[2]>u)return NaN;const T=b[0]+b[1]+b[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(b)?mi.centerFromEnd(b,S):NaN}handlePossibleCenter(a,l,u){const h=a[0]+a[1]+a[2],g=mi.centerFromEnd(a,u),y=this.crossCheckVertical(l,g,2*a[1],h);if(!isNaN(y)){const b=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(b,y,g))return T.combineEstimate(y,g,b);const S=new Ns(g,y,b);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Mi extends Ue{constructor(a,l,u,h){super(a,l),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=this.count+1,g=(this.count*this.getX()+l)/h,y=(this.count*this.getY()+a)/h,b=(this.count*this.estimatedModuleSize+u)/h;return new Mi(g,y,b,h)}}class Aa{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dr{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(V.TRY_HARDER)!==void 0,u=a!=null&&a.get(V.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),y=h.getWidth();let b=Math.floor(3*g/(4*dr.MAX_MODULES));(b<dr.MIN_SKIP||l)&&(b=dr.MIN_SKIP);let S=!1;const T=new Int32Array(5);for(let F=b-1;F<g&&!S;F+=b){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let $=0;for(let q=0;q<y;q++)if(h.get(q,F))($&1)===1&&$++,T[$]++;else if(($&1)===0)if($===4)if(dr.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,q,u)===!0)if(b=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(F+=ee-T[2]-b,q=y-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;continue}$=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;else T[++$]++;else T[$]++;dr.foundPatternCross(T)&&this.handlePossibleCenter(T,F,y,u)===!0&&(b=T[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Ue.orderBestPatterns(D),new Aa(D)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let g=0;g<5;g++){const y=a[g];if(y===0)return!1;l+=y}if(l<7)return!1;const u=l/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,h){const g=this.getCrossCheckStateCount();let y=0;const b=this.image;for(;a>=y&&l>=y&&b.get(l-y,a-y);)g[2]++,y++;if(a<y||l<y)return!1;for(;a>=y&&l>=y&&!b.get(l-y,a-y)&&g[1]<=u;)g[1]++,y++;if(a<y||l<y||g[1]>u)return!1;for(;a>=y&&l>=y&&b.get(l-y,a-y)&&g[0]<=u;)g[0]++,y++;if(g[0]>u)return!1;const S=b.getHeight(),T=b.getWidth();for(y=1;a+y<S&&l+y<T&&b.get(l+y,a+y);)g[2]++,y++;if(a+y>=S||l+y>=T)return!1;for(;a+y<S&&l+y<T&&!b.get(l+y,a+y)&&g[3]<u;)g[3]++,y++;if(a+y>=S||l+y>=T||g[3]>=u)return!1;for(;a+y<S&&l+y<T&&b.get(l+y,a+y)&&g[4]<u;)g[4]++,y++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&dr.foundPatternCross(g)}crossCheckVertical(a,l,u,h){const g=this.image,y=g.getHeight(),b=this.getCrossCheckStateCount();let S=a;for(;S>=0&&g.get(l,S);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(l,S)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&g.get(l,S)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=a+1;S<y&&g.get(l,S);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(l,S)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&g.get(l,S)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-h)>=2*h?NaN:dr.foundPatternCross(b)?dr.centerFromEnd(b,S):NaN}crossCheckHorizontal(a,l,u,h){const g=this.image,y=g.getWidth(),b=this.getCrossCheckStateCount();let S=a;for(;S>=0&&g.get(S,l);)b[2]++,S--;if(S<0)return NaN;for(;S>=0&&!g.get(S,l)&&b[1]<=u;)b[1]++,S--;if(S<0||b[1]>u)return NaN;for(;S>=0&&g.get(S,l)&&b[0]<=u;)b[0]++,S--;if(b[0]>u)return NaN;for(S=a+1;S<y&&g.get(S,l);)b[2]++,S++;if(S===y)return NaN;for(;S<y&&!g.get(S,l)&&b[3]<u;)b[3]++,S++;if(S===y||b[3]>=u)return NaN;for(;S<y&&g.get(S,l)&&b[4]<u;)b[4]++,S++;if(b[4]>=u)return NaN;const T=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(T-h)>=h?NaN:dr.foundPatternCross(b)?dr.centerFromEnd(b,S):NaN}handlePossibleCenter(a,l,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let y=dr.centerFromEnd(a,u),b=this.crossCheckVertical(l,Math.floor(y),a[2],g);if(!isNaN(b)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(b),a[2],g),!isNaN(y)&&(!h||this.crossCheckDiagonal(Math.floor(b),Math.floor(y),a[2],g)))){const S=g/7;let T=!1;const D=this.possibleCenters;for(let F=0,$=D.length;F<$;F++){const q=D[F];if(q.aboutEquals(S,b,y)){D[F]=q.combineEstimate(b,y,S),T=!0;break}}if(!T){const F=new Mi(y,b,S);D.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=dr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=dr.CENTER_QUORUM&&(a++,l+=y.getEstimatedModuleSize());if(a<3)return!1;const h=l/u;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-h);return g<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new ne;const l=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const S of this.possibleCenters){const T=S.getEstimatedModuleSize();h+=T,g+=T*T}u=h/a;let y=Math.sqrt(g/a-u*u);l.sort((S,T)=>{const D=Math.abs(T.getEstimatedModuleSize()-u),F=Math.abs(S.getEstimatedModuleSize()-u);return D<F?-1:D>F?1:0});const b=Math.max(.2*u,y);for(let S=0;S<l.length&&l.length>3;S++){const T=l[S];Math.abs(T.getEstimatedModuleSize()-u)>b&&(l.splice(S,1),S--)}}if(l.length>3){let h=0;for(const g of l)h+=g.getEstimatedModuleSize();u=h/l.length,l.sort((g,y)=>{if(y.getCount()===g.getCount()){const b=Math.abs(y.getEstimatedModuleSize()-u),S=Math.abs(g.getEstimatedModuleSize()-u);return b<S?1:b>S?-1:0}else return y.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}dr.CENTER_QUORUM=2,dr.MIN_SKIP=3,dr.MAX_MODULES=57;class ra{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(V.NEED_RESULT_POINT_CALLBACK);const u=new dr(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const l=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(l,u,h);if(g<1)throw new ne("No pattern found in proccess finder.");const y=ra.computeDimension(l,u,h,g),b=et.getProvisionalVersionForDimension(y),S=b.getDimensionForVersion()-7;let T=null;if(b.getAlignmentPatternCenters().length>0){const q=u.getX()-l.getX()+h.getX(),Y=u.getY()-l.getY()+h.getY(),ee=1-3/S,ae=Math.floor(l.getX()+ee*(q-l.getX())),he=Math.floor(l.getY()+ee*(Y-l.getY()));for(let Te=4;Te<=16;Te<<=1)try{T=this.findAlignmentInRegion(g,ae,he,Te);break}catch(Pe){if(!(Pe instanceof ne))throw Pe}}const D=ra.createTransform(l,u,h,T,y),F=ra.sampleGrid(this.image,D,y);let $;return T===null?$=[h,l,u]:$=[h,l,u,T],new ea(F,$)}static createTransform(a,l,u,h,g){const y=g-3.5;let b,S,T,D;return h!==null?(b=h.getX(),S=h.getY(),T=y-3,D=T):(b=l.getX()-a.getX()+u.getX(),S=l.getY()-a.getY()+u.getY(),T=y,D=y),dt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,T,D,3.5,y,a.getX(),a.getY(),l.getX(),l.getY(),b,S,u.getX(),u.getY())}static sampleGrid(a,l,u){return cr.getInstance().sampleGridWithTransform(a,u,u,l)}static computeDimension(a,l,u,h){const g=wt.round(Ue.distance(a,l)/h),y=wt.round(Ue.distance(a,u)/h);let b=Math.floor((g+y)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new ne("Dimensions could be not found.")}return b}calculateModuleSize(a,l,u){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,l,u,h),y=1,b=a-(u-a);b<0?(y=a/(a-b),b=0):b>=this.image.getWidth()&&(y=(this.image.getWidth()-1-a)/(b-a),b=this.image.getWidth()-1);let S=Math.floor(l-(h-l)*y);return y=1,S<0?(y=l/(l-S),S=0):S>=this.image.getHeight()&&(y=(this.image.getHeight()-1-l)/(S-l),S=this.image.getHeight()-1),b=Math.floor(a+(b-a)*y),g+=this.sizeOfBlackWhiteBlackRun(a,l,b,S),g-1}sizeOfBlackWhiteBlackRun(a,l,u,h){const g=Math.abs(h-l)>Math.abs(u-a);if(g){let q=a;a=l,l=q,q=u,u=h,h=q}const y=Math.abs(u-a),b=Math.abs(h-l);let S=-y/2;const T=a<u?1:-1,D=l<h?1:-1;let F=0;const $=u+T;for(let q=a,Y=l;q!==$;q+=T){const ee=g?Y:q,ae=g?q:Y;if(F===1===this.image.get(ee,ae)){if(F===2)return wt.distance(q,Y,a,l);F++}if(S+=b,S>0){if(Y===h)break;Y+=D,S-=y}}return F===2?wt.distance(u+T,h,a,l):NaN}findAlignmentInRegion(a,l,u,h){const g=Math.floor(h*a),y=Math.max(0,l-g),b=Math.min(this.image.getWidth()-1,l+g);if(b-y<a*3)throw new ne("Alignment top exceeds estimated module size.");const S=Math.max(0,u-g),T=Math.min(this.image.getHeight()-1,u+g);if(T-S<a*3)throw new ne("Alignment bottom exceeds estimated module size.");return new mi(this.image,y,S,b-y,T-S,a,this.resultPointCallback).find()}}class wn{constructor(){this.decoder=new Zc}getDecoder(){return this.decoder}decode(a,l){let u,h;if(l!=null&&l.get(V.PURE_BARCODE)!==void 0){const S=wn.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(S,l),h=wn.NO_POINTS}else{const S=new ra(a.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(S.getBits(),l),h=S.getPoints()}u.getOther()instanceof Yc&&u.getOther().applyMirroredCorrection(h);const g=new De(u.getText(),u.getRawBytes(),void 0,h,Ie.QR_CODE,void 0),y=u.getByteSegments();y!==null&&g.putMetadata(Z.BYTE_SEGMENTS,y);const b=u.getECLevel();return b!==null&&g.putMetadata(Z.ERROR_CORRECTION_LEVEL,b),u.hasStructuredAppend()&&(g.putMetadata(Z.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(Z.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l===null||u===null)throw new ne;const h=this.moduleSize(l,a);let g=l[1],y=u[1],b=l[0],S=u[0];if(b>=S||g>=y)throw new ne;if(y-g!==S-b&&(S=b+(y-g),S>=a.getWidth()))throw new ne;const T=Math.round((S-b+1)/h),D=Math.round((y-g+1)/h);if(T<=0||D<=0)throw new ne;if(D!==T)throw new ne;const F=Math.floor(h/2);g+=F,b+=F;const $=b+Math.floor((T-1)*h)-S;if($>0){if($>F)throw new ne;b-=$}const q=g+Math.floor((D-1)*h)-y;if(q>0){if(q>F)throw new ne;g-=q}const Y=new ke(T,D);for(let ee=0;ee<D;ee++){const ae=g+Math.floor(ee*h);for(let he=0;he<T;he++)a.get(b+Math.floor(he*h),ae)&&Y.set(he,ee)}return Y}static moduleSize(a,l){const u=l.getHeight(),h=l.getWidth();let g=a[0],y=a[1],b=!0,S=0;for(;g<h&&y<u;){if(b!==l.get(g,y)){if(++S===5)break;b=!b}g++,y++}if(g===h||y===u)throw new ne;return(g-a[0])/7}}wn.NO_POINTS=new Array;class st{PDF417Common(){}static getBitCountSum(a){return wt.sum(a)}static toIntArray(a){if(a==null||!a.length)return st.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let u=0;for(const h of a)l[u++]=h;return l}static getCodeword(a){const l=L.binarySearch(st.SYMBOL_TABLE,a&262143);return l<0?-1:(st.CODEWORD_TABLE[l]-1)%st.NUMBER_OF_CODEWORDS}}st.NUMBER_OF_CODEWORDS=929,st.MAX_CODEWORDS_IN_BARCODE=st.NUMBER_OF_CODEWORDS-1,st.MIN_ROWS_IN_BARCODE=3,st.MAX_ROWS_IN_BARCODE=90,st.MODULES_IN_CODEWORD=17,st.MODULES_IN_STOP_PATTERN=18,st.BARS_IN_MODULE=8,st.EMPTY_INT_ARRAY=new Int32Array([]),st.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),st.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Yd{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class ft{static detectMultiple(a,l,u){let h=a.getBlackMatrix(),g=ft.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=ft.detect(u,h)),new Yd(h,g)}static detect(a,l){const u=new Array;let h=0,g=0,y=!1;for(;h<l.getHeight();){const b=ft.findVertices(l,h,g);if(b[0]==null&&b[3]==null){if(!y)break;y=!1,g=0;for(const S of u)S[1]!=null&&(h=Math.trunc(Math.max(h,S[1].getY()))),S[3]!=null&&(h=Math.max(h,Math.trunc(S[3].getY())));h+=ft.ROW_STEP;continue}if(y=!0,u.push(b),!a)break;b[2]!=null?(g=Math.trunc(b[2].getX()),h=Math.trunc(b[2].getY())):(g=Math.trunc(b[4].getX()),h=Math.trunc(b[4].getY()))}return u}static findVertices(a,l,u){const h=a.getHeight(),g=a.getWidth(),y=new Array(8);return ft.copyToResult(y,ft.findRowsWithPattern(a,h,g,l,u,ft.START_PATTERN),ft.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),l=Math.trunc(y[4].getY())),ft.copyToResult(y,ft.findRowsWithPattern(a,h,g,l,u,ft.STOP_PATTERN),ft.INDEXES_STOP_PATTERN),y}static copyToResult(a,l,u){for(let h=0;h<u.length;h++)a[u[h]]=l[h]}static findRowsWithPattern(a,l,u,h,g,y){const b=new Array(4);let S=!1;const T=new Int32Array(y.length);for(;h<l;h+=ft.ROW_STEP){let F=ft.findGuardPattern(a,g,h,u,!1,y,T);if(F!=null){for(;h>0;){const $=ft.findGuardPattern(a,g,--h,u,!1,y,T);if($!=null)F=$;else{h++;break}}b[0]=new Ue(F[0],h),b[1]=new Ue(F[1],h),S=!0;break}}let D=h+1;if(S){let F=0,$=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;D<l;D++){const q=ft.findGuardPattern(a,$[0],D,u,!1,y,T);if(q!=null&&Math.abs($[0]-q[0])<ft.MAX_PATTERN_DRIFT&&Math.abs($[1]-q[1])<ft.MAX_PATTERN_DRIFT)$=q,F=0;else{if(F>ft.SKIPPED_ROW_COUNT_MAX)break;F++}}D-=F+1,b[2]=new Ue($[0],D),b[3]=new Ue($[1],D)}return D-h<ft.BARCODE_MIN_HEIGHT&&L.fill(b,null),b}static findGuardPattern(a,l,u,h,g,y,b){L.fillWithin(b,0,b.length,0);let S=l,T=0;for(;a.get(S,u)&&S>0&&T++<ft.MAX_PIXEL_DRIFT;)S--;let D=S,F=0,$=y.length;for(let q=g;D<h;D++)if(a.get(D,u)!==q)b[F]++;else{if(F===$-1){if(ft.patternMatchVariance(b,y,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return new Int32Array([S,D]);S+=b[0]+b[1],I.arraycopy(b,2,b,0,F-1),b[F-1]=0,b[F]=0,F--}else F++;b[F]=1,q=!q}return F===$-1&&ft.patternMatchVariance(b,y,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE?new Int32Array([S,D-1]):null}static patternMatchVariance(a,l,u){let h=a.length,g=0,y=0;for(let T=0;T<h;T++)g+=a[T],y+=l[T];if(g<y)return 1/0;let b=g/y;u*=b;let S=0;for(let T=0;T<h;T++){let D=a[T],F=l[T]*b,$=D>F?D-F:F-D;if($>u)return 1/0;S+=$}return S/g}}ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ft.MAX_AVG_VARIANCE=.42,ft.MAX_INDIVIDUAL_VARIANCE=.8,ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ft.MAX_PIXEL_DRIFT=3,ft.MAX_PATTERN_DRIFT=5,ft.SKIPPED_ROW_COUNT_MAX=25,ft.ROW_STEP=5,ft.BARCODE_MIN_HEIGHT=10;class Qr{constructor(a,l){if(l.length===0)throw new w;this.field=a;let u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),I.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let l=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){let y=l;l=u,u=y}let h=new Int32Array(u.length),g=u.length-l.length;I.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=this.field.add(l[y-g],u[y]);return new Qr(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof Qr?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new Qr(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,y=new Int32Array(u+g-1);for(let b=0;b<u;b++){let S=l[b];for(let T=0;T<g;T++)y[b+T]=this.field.add(y[b+T],this.field.multiply(S,h[T]))}return new Qr(this.field,y)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new Qr(this.field,l)}multiplyScalar(a){if(a===0)return new Qr(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new Qr(this.field,u)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return new Qr(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],l);return new Qr(this.field,h)}toString(){let a=new Ee;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(l===0||u!==1)&&a.append(u),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class Zd{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}inverse(a){if(a===0)throw new xe;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class Ts extends Zd{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Qr(this,new Int32Array([0])),this.one=new Qr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;let u=new Int32Array(a+1);return u[0]=l,new Qr(this,u)}}Ts.PDF417_GF=new Ts(st.NUMBER_OF_CODEWORDS,3);class Qc{constructor(){this.field=Ts.PDF417_GF}decode(a,l,u){let h=new Qr(this.field,a),g=new Int32Array(l),y=!1;for(let Y=l;Y>0;Y--){let ee=h.evaluateAt(this.field.exp(Y));g[l-Y]=ee,ee!==0&&(y=!0)}if(!y)return 0;let b=this.field.getOne();if(u!=null)for(const Y of u){let ee=this.field.exp(a.length-1-Y),ae=new Qr(this.field,new Int32Array([this.field.subtract(0,ee),1]));b=b.multiply(ae)}let S=new Qr(this.field,g),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),S,l),D=T[0],F=T[1],$=this.findErrorLocations(D),q=this.findErrorMagnitudes(F,D,$);for(let Y=0;Y<$.length;Y++){let ee=a.length-1-this.field.log($[Y]);if(ee<0)throw C.getChecksumInstance();a[ee]=this.field.subtract(a[ee],q[Y])}return $.length}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){let $=a;a=l,l=$}let h=a,g=l,y=this.field.getZero(),b=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let $=h,q=y;if(h=g,y=b,h.isZero())throw C.getChecksumInstance();g=$;let Y=this.field.getZero(),ee=h.getCoefficient(h.getDegree()),ae=this.field.inverse(ee);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let he=g.getDegree()-h.getDegree(),Te=this.field.multiply(g.getCoefficient(g.getDegree()),ae);Y=Y.add(this.field.buildMonomial(he,Te)),g=g.subtract(h.multiplyByMonomial(he,Te))}b=Y.multiply(y).subtract(q).negative()}let S=b.getCoefficient(0);if(S===0)throw C.getChecksumInstance();let T=this.field.inverse(S),D=b.multiply(T),F=g.multiply(T);return[D,F]}findErrorLocations(a){let l=a.getDegree(),u=new Int32Array(l),h=0;for(let g=1;g<this.field.getSize()&&h<l;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==l)throw C.getChecksumInstance();return u}findErrorMagnitudes(a,l,u){let h=l.getDegree(),g=new Int32Array(h);for(let T=1;T<=h;T++)g[h-T]=this.field.multiply(T,l.getCoefficient(T));let y=new Qr(this.field,g),b=u.length,S=new Int32Array(b);for(let T=0;T<b;T++){let D=this.field.inverse(u[T]),F=this.field.subtract(0,a.evaluateAt(D)),$=this.field.inverse(y.evaluateAt(D));S[T]=this.field.multiply(F,$)}return S}}class za{constructor(a,l,u,h,g){a instanceof za?this.constructor_2(a):this.constructor_1(a,l,u,h,g)}constructor_1(a,l,u,h,g){const y=l==null||u==null,b=h==null||g==null;if(y&&b)throw new ne;y?(l=new Ue(0,h.getY()),u=new Ue(0,g.getY())):b&&(h=new Ue(a.getWidth()-1,l.getY()),g=new Ue(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=l,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new za(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,u){let h=this.topLeft,g=this.bottomLeft,y=this.topRight,b=this.bottomRight;if(a>0){let S=u?this.topLeft:this.topRight,T=Math.trunc(S.getY()-a);T<0&&(T=0);let D=new Ue(S.getX(),T);u?h=D:y=D}if(l>0){let S=u?this.bottomLeft:this.bottomRight,T=Math.trunc(S.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let D=new Ue(S.getX(),T);u?g=D:b=D}return new za(this.image,h,g,y,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yo{constructor(a,l,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class na{constructor(){this.buffer=""}static form(a,l){let u=-1;function h(y,b,S,T,D,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(y);break;case"p":q=parseFloat(l[u]).toPrecision(y);break;case"e":q=parseFloat(l[u]).toExponential(y);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let Y=parseInt(S),ee=S&&S[0]+""=="0"?"0":" ";for(;q.length<Y;)q=b!==void 0?q+ee:ee+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...l){this.buffer+=na.form(a,l)}toString(){return this.buffer}}class Di{constructor(a){this.boundingBox=new za(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let u=1;u<Di.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new na;let l=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return a.toString()}}Di.MAX_NEARBY_DISTANCE=5;class _a{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===a&&l.push(g.getKey())}return st.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class Qd extends Di{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=-1,T=1,D=0;for(let F=y;F<b;F++){if(l[F]==null)continue;let $=l[F],q=$.getRowNumber()-S;if(q===0)D++;else if(q===1)T=Math.max(T,D),D=1,S=$.getRowNumber();else if(q<0||$.getRowNumber()>=a.getRowCount()||q>F)l[F]=null;else{let Y;T>2?Y=(T-2)*q:Y=q;let ee=Y>=F;for(let ae=1;ae<=Y&&!ee;ae++)ee=l[F-ae]!=null;ee?l[F]=null:(S=$.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),b=this.getCodewords(),S=-1;for(let T=g;T<y;T++){if(b[T]==null)continue;let D=b[T];D.setRowNumberAsRowIndicatorColumn();let F=D.getRowNumber()-S;F===0||(F===1?S=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?b[T]=null:S=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new _a,u=new _a,h=new _a,g=new _a;for(let b of a){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let S=b.getValue()%30,T=b.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(S*3+1);break;case 1:g.setValue(S/3),h.setValue(S%3);break;case 2:l.setValue(S+1);break}}if(l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<st.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>st.MAX_ROWS_IN_BARCODE)return null;let y=new yo(l.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,y),y}removeIncorrectCodewords(a,l){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,y=h.getRowNumber();if(y>l.getRowCount()){a[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==l.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xo{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=st.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&l[u]!=null&&a[u].getRowNumber()===l[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(g=xo.adjustRowNumberIfValid(h,g,b),b.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let b=this.detectionResultColumns[y].getCodewords()[u];b!=null&&(g=xo.adjustRowNumberIfValid(h,g,b),b.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,u){if(!this.detectionResultColumns[a-1])return;let h=u[l],g=this.detectionResultColumns[a-1].getCodewords(),y=g;this.detectionResultColumns[a+1]!=null&&(y=this.detectionResultColumns[a+1].getCodewords());let b=new Array(14);b[2]=g[l],b[3]=y[l],l>0&&(b[0]=u[l-1],b[4]=g[l-1],b[5]=y[l-1]),l>1&&(b[8]=u[l-2],b[10]=g[l-2],b[11]=y[l-2]),l<u.length-1&&(b[1]=u[l+1],b[6]=g[l+1],b[7]=y[l+1]),l<u.length-2&&(b[9]=u[l+2],b[12]=g[l+2],b[13]=y[l+2]);for(let S of b)if(xo.adjustRowNumber(h,S))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new na;for(let u=0;u<a.getCodewords().length;u++){l.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class $a{constructor(a,l,u,h){this.rowNumber=$a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==$a.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}$a.BARCODE_ROW_UNKNOWN=-1;class Jr{static initialize(){for(let a=0;a<st.SYMBOL_TABLE.length;a++){let l=st.SYMBOL_TABLE[a],u=l&1;for(let h=0;h<st.BARS_IN_MODULE;h++){let g=0;for(;(l&1)===u;)g+=1,l>>=1;u=l&1,Jr.RATIOS_TABLE[a]||(Jr.RATIOS_TABLE[a]=new Array(st.BARS_IN_MODULE)),Jr.RATIOS_TABLE[a][st.BARS_IN_MODULE-h-1]=Math.fround(g/st.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=Jr.getDecodedCodewordValue(Jr.sampleBitCounts(a));return l!==-1?l:Jr.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=wt.sum(a),u=new Int32Array(st.BARS_IN_MODULE),h=0,g=0;for(let y=0;y<st.MODULES_IN_CODEWORD;y++){let b=l/(2*st.MODULES_IN_CODEWORD)+y*l/st.MODULES_IN_CODEWORD;g+a[h]<=b&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let l=Jr.getBitValue(a);return st.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=wt.sum(a),u=new Array(st.BARS_IN_MODULE);if(l>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(a[y]/l);let h=ui.MAX_VALUE,g=-1;this.bSymbolTableReady||Jr.initialize();for(let y=0;y<Jr.RATIOS_TABLE.length;y++){let b=0,S=Jr.RATIOS_TABLE[y];for(let T=0;T<st.BARS_IN_MODULE;T++){let D=Math.fround(S[T]-u[T]);if(b+=Math.fround(D*D),b>=h)break}b<h&&(h=b,g=st.SYMBOL_TABLE[y])}return g}}Jr.bSymbolTableReady=!1,Jr.RATIOS_TABLE=new Array(st.SYMBOL_TABLE.length).map(B=>new Array(st.BARS_IN_MODULE));class _l{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Jc{static parseLong(a,l=void 0){return parseInt(a,l)}}class ia extends m{}ia.kind="NullPointerException";class eu{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,u){if(a==null)throw new ia;if(l<0||l>a.length||u<0||l+u>a.length||l+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(a[l+h])}flush(){}close(){}}class Sl extends m{}class Jd extends eu{constructor(a=32){if(super(),this.count=0,a<0)throw new w("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new Sl;u=j.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,u){if(l<0||l>a.length||u<0||l+u-a.length>0)throw new k;this.ensureCapacity(this.count+u),I.arraycopy(a,l,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Nt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function wo(){if(typeof window<"u")return window.BigInt||null;if(typeof Zf<"u")return Zf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bo;function Cr(B){if(typeof bo>"u"&&(bo=wo()),bo===null)throw new Error("BigInt is not supported!");return bo(B)}function Ps(){let B=[];B[0]=Cr(1);let a=Cr(900);B[1]=a;for(let l=2;l<16;l++)B[l]=B[l-1]*a;return B}class pe{static decode(a,l){let u=new Ee(""),h=X.ISO8859_1;u.enableDecoding(h);let g=1,y=a[g++],b=new _l;for(;g<a[0];){switch(y){case pe.TEXT_COMPACTION_MODE_LATCH:g=pe.textCompaction(a,g,u);break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:g=pe.byteCompaction(y,a,h,g,u);break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case pe.NUMERIC_COMPACTION_MODE_LATCH:g=pe.numericCompaction(a,g,u);break;case pe.ECI_CHARSET:X.getCharacterSetECIByValue(a[g++]);break;case pe.ECI_GENERAL_PURPOSE:g+=2;break;case pe.ECI_USER_DEFINED:g++;break;case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=pe.decodeMacroBlock(a,g,b);break;case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:throw new H;default:g--,g=pe.textCompaction(a,g,u);break}if(g<a.length)y=a[g++];else throw H.getFormatInstance()}if(u.length()===0)throw H.getFormatInstance();let S=new te(null,u.toString(),null,l);return S.setOther(b),S}static decodeMacroBlock(a,l,u){if(l+pe.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw H.getFormatInstance();let h=new Int32Array(pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<pe.NUMBER_OF_SEQUENCE_CODEWORDS;b++,l++)h[b]=a[l];u.setSegmentIndex(j.parseInt(pe.decodeBase900toBase10(h,pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Ee;l=pe.textCompaction(a,l,g),u.setFileId(g.toString());let y=-1;for(a[l]===pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=l+1);l<a[0];)switch(a[l]){case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new Ee;l=pe.textCompaction(a,l+1,b),u.setFileName(b.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Ee;l=pe.textCompaction(a,l+1,S),u.setSender(S.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Ee;l=pe.textCompaction(a,l+1,T),u.setAddressee(T.toString());break;case pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new Ee;l=pe.numericCompaction(a,l+1,D),u.setSegmentCount(j.parseInt(D.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Ee;l=pe.numericCompaction(a,l+1,F),u.setTimestamp(Jc.parseLong(F.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new Ee;l=pe.numericCompaction(a,l+1,$),u.setChecksum(j.parseInt($.toString()));break;case pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let q=new Ee;l=pe.numericCompaction(a,l+1,q),u.setFileSize(Jc.parseLong(q.toString()));break;default:throw H.getFormatInstance()}break;case pe.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(y!==-1){let b=l-y;u.isLastSegment()&&b--,u.setOptionalData(L.copyOfRange(a,y,y+b))}return l}static textCompaction(a,l,u){let h=new Int32Array((a[0]-l)*2),g=new Int32Array((a[0]-l)*2),y=0,b=!1;for(;l<a[0]&&!b;){let S=a[l++];if(S<pe.TEXT_COMPACTION_MODE_LATCH)h[y]=S/30,h[y+1]=S%30,y+=2;else switch(S){case pe.TEXT_COMPACTION_MODE_LATCH:h[y++]=pe.TEXT_COMPACTION_MODE_LATCH;break;case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:l--,b=!0;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[y]=pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=a[l++],g[y]=S,y++;break}}return pe.decodeTextCompaction(h,g,y,u),l}static decodeTextCompaction(a,l,u,h){let g=Nt.ALPHA,y=Nt.ALPHA,b=0;for(;b<u;){let S=a[b],T="";switch(g){case Nt.ALPHA:if(S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case pe.LL:g=Nt.LOWER;break;case pe.ML:g=Nt.MIXED;break;case pe.PS:y=g,g=Nt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break;case Nt.LOWER:if(S<26)T=String.fromCharCode(97+S);else switch(S){case 26:T=" ";break;case pe.AS:y=g,g=Nt.ALPHA_SHIFT;break;case pe.ML:g=Nt.MIXED;break;case pe.PS:y=g,g=Nt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break;case Nt.MIXED:if(S<pe.PL)T=pe.MIXED_CHARS[S];else switch(S){case pe.PL:g=Nt.PUNCT;break;case 26:T=" ";break;case pe.LL:g=Nt.LOWER;break;case pe.AL:g=Nt.ALPHA;break;case pe.PS:y=g,g=Nt.PUNCT_SHIFT;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break;case Nt.PUNCT:if(S<pe.PAL)T=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:g=Nt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(g=y,S<26)T=String.fromCharCode(65+S);else switch(S){case 26:T=" ";break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(g=y,S<pe.PAL)T=pe.PUNCT_CHARS[S];else switch(S){case pe.PAL:g=Nt.ALPHA;break;case pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[b]);break;case pe.TEXT_COMPACTION_MODE_LATCH:g=Nt.ALPHA;break}break}T!==""&&h.append(T),b++}}static byteCompaction(a,l,u,h,g){let y=new Jd,b=0,S=0,T=!1;switch(a){case pe.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),F=l[h++];for(;h<l[0]&&!T;)switch(D[b++]=F,S=900*S+F,F=l[h++],F){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(b%5===0&&b>0){for(let $=0;$<6;++$)y.write(Number(Cr(S)>>Cr(8*(5-$))));S=0,b=0}break}h===l[0]&&F<pe.TEXT_COMPACTION_MODE_LATCH&&(D[b++]=F);for(let $=0;$<b;$++)y.write(D[$]);break;case pe.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!T;){let $=l[h++];if($<pe.TEXT_COMPACTION_MODE_LATCH)b++,S=900*S+$;else switch($){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.NUMERIC_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(b%5===0&&b>0){for(let q=0;q<6;++q)y.write(Number(Cr(S)>>Cr(8*(5-q))));S=0,b=0}}break}return g.append(me.decode(y.toByteArray(),u)),h}static numericCompaction(a,l,u){let h=0,g=!1,y=new Int32Array(pe.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!g;){let b=a[l++];if(l===a[0]&&(g=!0),b<pe.TEXT_COMPACTION_MODE_LATCH)y[h]=b,h++;else switch(b){case pe.TEXT_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH:case pe.BYTE_COMPACTION_MODE_LATCH_6:case pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case pe.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(h%pe.MAX_NUMERIC_CODEWORDS===0||b===pe.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(pe.decodeBase900toBase10(y,h)),h=0)}return l}static decodeBase900toBase10(a,l){let u=Cr(0);for(let g=0;g<l;g++)u+=pe.EXP900[l-g-1]*Cr(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new H;return h.substring(1)}}pe.TEXT_COMPACTION_MODE_LATCH=900,pe.BYTE_COMPACTION_MODE_LATCH=901,pe.NUMERIC_COMPACTION_MODE_LATCH=902,pe.BYTE_COMPACTION_MODE_LATCH_6=924,pe.ECI_USER_DEFINED=925,pe.ECI_GENERAL_PURPOSE=926,pe.ECI_CHARSET=927,pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,pe.MACRO_PDF417_TERMINATOR=922,pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,pe.MAX_NUMERIC_CODEWORDS=15,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,pe.PL=25,pe.LL=27,pe.AS=27,pe.ML=28,pe.AL=28,pe.PS=29,pe.PAL=29,pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",pe.EXP900=wo()?Ps():[],pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mt{constructor(){}static decode(a,l,u,h,g,y,b){let S=new za(a,l,u,h,g),T=null,D=null,F;for(let Y=!0;;Y=!1){if(l!=null&&(T=mt.getRowIndicatorColumn(a,S,l,!0,y,b)),h!=null&&(D=mt.getRowIndicatorColumn(a,S,h,!1,y,b)),F=mt.merge(T,D),F==null)throw ne.getNotFoundInstance();let ee=F.getBoundingBox();if(Y&&ee!=null&&(ee.getMinY()<S.getMinY()||ee.getMaxY()>S.getMaxY()))S=ee;else break}F.setBoundingBox(S);let $=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn($,D);let q=T!=null;for(let Y=1;Y<=$;Y++){let ee=q?Y:$-Y;if(F.getDetectionResultColumn(ee)!==void 0)continue;let ae;ee===0||ee===$?ae=new Qd(S,ee===0):ae=new Di(S),F.setDetectionResultColumn(ee,ae);let he=-1,Te=he;for(let Pe=S.getMinY();Pe<=S.getMaxY();Pe++){if(he=mt.getStartColumn(F,ee,Pe,q),he<0||he>S.getMaxX()){if(Te===-1)continue;he=Te}let Ce=mt.detectCodeword(a,S.getMinX(),S.getMaxX(),q,he,Pe,y,b);Ce!=null&&(ae.setCodeword(Pe,Ce),Te=he,y=Math.min(y,Ce.getWidth()),b=Math.max(b,Ce.getWidth()))}}return mt.createDecoderResult(F)}static merge(a,l){if(a==null&&l==null)return null;let u=mt.getBarcodeMetadata(a,l);if(u==null)return null;let h=za.merge(mt.adjustBoundingBox(a),mt.adjustBoundingBox(l));return new xo(u,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let u=mt.getMax(l),h=0;for(let b of l)if(h+=u-b,b>0)break;let g=a.getCodewords();for(let b=0;h>0&&g[b]==null;b++)h--;let y=0;for(let b=l.length-1;b>=0&&(y+=u-l[b],!(l[b]>0));b--);for(let b=g.length-1;y>0&&g[b]==null;b--)y--;return a.getBoundingBox().addMissingRows(h,y,a.isLeft())}static getMax(a){let l=-1;for(let u of a)l=Math.max(l,u);return l}static getBarcodeMetadata(a,l){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,l,u,h,g,y){let b=new Qd(l,h);for(let S=0;S<2;S++){let T=S===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let F=Math.trunc(Math.trunc(u.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let $=mt.detectCodeword(a,0,a.getWidth(),h,D,F,g,y);$!=null&&(b.setCodeword(F,$),h?D=$.getStartX():D=$.getEndX())}}return b}static adjustCodewordCount(a,l){let u=l[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-mt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>st.MAX_CODEWORDS_IN_BARCODE)throw ne.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let l=mt.createBarcodeMatrix(a);mt.adjustCodewordCount(a,l);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],y=new Array;for(let S=0;S<a.getBarcodeRowCount();S++)for(let T=0;T<a.getBarcodeColumnCount();T++){let D=l[S][T+1].getValue(),F=S*a.getBarcodeColumnCount()+T;D.length===0?u.push(F):D.length===1?h[F]=D[0]:(y.push(F),g.push(D))}let b=new Array(g.length);for(let S=0;S<b.length;S++)b[S]=g[S];return mt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,st.toIntArray(u),st.toIntArray(y),b)}static createDecoderResultFromAmbiguousValues(a,l,u,h,g){let y=new Int32Array(h.length),b=100;for(;b-- >0;){for(let S=0;S<y.length;S++)l[h[S]]=g[S][y[S]];try{return mt.decodeCodewords(l,a,u)}catch(S){if(!(S instanceof C))throw S}if(y.length===0)throw C.getChecksumInstance();for(let S=0;S<y.length;S++)if(y[S]<g[S].length-1){y[S]++;break}else if(y[S]=0,S===y.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let g=0;g<l[h].length;g++)l[h][g]=new _a;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=l.length)continue;l[y][u].setValue(g.getValue())}}}u++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,u,h){let g=h?1:-1,y=null;if(mt.isValidBarcodeColumn(a,l-g)&&(y=a.getDetectionResultColumn(l-g).getCodeword(u)),y!=null)return h?y.getEndX():y.getStartX();if(y=a.getDetectionResultColumn(l).getCodewordNearby(u),y!=null)return h?y.getStartX():y.getEndX();if(mt.isValidBarcodeColumn(a,l-g)&&(y=a.getDetectionResultColumn(l-g).getCodewordNearby(u)),y!=null)return h?y.getEndX():y.getStartX();let b=0;for(;mt.isValidBarcodeColumn(a,l-g);){l-=g;for(let S of a.getDetectionResultColumn(l).getCodewords())if(S!=null)return(h?S.getEndX():S.getStartX())+g*b*(S.getEndX()-S.getStartX());b++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,u,h,g,y,b,S){g=mt.adjustCodewordStartColumn(a,l,u,h,g,y);let T=mt.getModuleBitCount(a,l,u,h,g,y);if(T==null)return null;let D,F=wt.sum(T);if(h)D=g+F;else{for(let Y=0;Y<T.length/2;Y++){let ee=T[Y];T[Y]=T[T.length-1-Y],T[T.length-1-Y]=ee}D=g,g=D-F}if(!mt.checkCodewordSkew(F,b,S))return null;let $=Jr.getDecodedValue(T),q=st.getCodeword($);return q===-1?null:new $a(g,D,mt.getCodewordBucketNumber($),q)}static getModuleBitCount(a,l,u,h,g,y){let b=g,S=new Int32Array(8),T=0,D=h?1:-1,F=h;for(;(h?b<u:b>=l)&&T<S.length;)a.get(b,y)===F?(S[T]++,b+=D):(T++,F=!F);return T===S.length||b===(h?u:l)&&T===S.length-1?S:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,u,h,g,y){let b=g,S=h?-1:1;for(let T=0;T<2;T++){for(;(h?b>=l:b<u)&&h===a.get(b,y);){if(Math.abs(g-b)>mt.CODEWORD_SKEW_SIZE)return g;b+=S}S=-S,h=!h}return b}static checkCodewordSkew(a,l,u){return l-mt.CODEWORD_SKEW_SIZE<=a&&a<=u+mt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,u){if(a.length===0)throw H.getFormatInstance();let h=1<<l+1,g=mt.correctErrors(a,u,h);mt.verifyCodewordCount(a,h);let y=pe.decode(a,""+l);return y.setErrorsCorrected(g),y.setErasures(u.length),y}static correctErrors(a,l,u){if(l!=null&&l.length>u/2+mt.MAX_ERRORS||u<0||u>mt.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return mt.errorCorrection.decode(a,u,l)}static verifyCodewordCount(a,l){if(a.length<4)throw H.getFormatInstance();let u=a[0];if(u>a.length)throw H.getFormatInstance();if(u===0)if(l<a.length)a[0]=a.length-l;else throw H.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),u=0,h=l.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return mt.getCodewordBucketNumber(mt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new na;for(let u=0;u<a.length;u++){l.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}mt.CODEWORD_SKEW_SIZE=2,mt.MAX_ERRORS=3,mt.MAX_EC_CODEWORDS=512,mt.errorCorrection=new Qc;class en{decode(a,l=null){let u=en.decode(a,l,!1);if(u==null||u.length===0||u[0]==null)throw ne.getNotFoundInstance();return u[0]}decodeMultiple(a,l=null){try{return en.decode(a,l,!0)}catch(u){throw u instanceof H||u instanceof C?ne.getNotFoundInstance():u}}static decode(a,l,u){const h=new Array,g=ft.detectMultiple(a,l,u);for(const y of g.getPoints()){const b=mt.decode(g.getBits(),y[4],y[5],y[6],y[7],en.getMinCodewordWidth(y),en.getMaxCodewordWidth(y)),S=new De(b.getText(),b.getRawBytes(),void 0,y,Ie.PDF_417);S.putMetadata(Z.ERROR_CORRECTION_LEVEL,b.getECLevel());const T=b.getOther();T!=null&&S.putMetadata(Z.PDF417_EXTRA_METADATA,T),h.push(S)}return h.map(y=>y)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?j.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(en.getMaxWidth(a[0],a[4]),en.getMaxWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.max(en.getMaxWidth(a[1],a[5]),en.getMaxWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(en.getMinWidth(a[0],a[4]),en.getMinWidth(a[6],a[2])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN),Math.min(en.getMinWidth(a[1],a[5]),en.getMinWidth(a[7],a[3])*st.MODULES_IN_CODEWORD/st.MODULES_IN_STOP_PATTERN)))}reset(){}}class ks extends m{}ks.kind="ReaderException";class Cl{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!n(a)&&a.get(V.TRY_HARDER)===!0,u=n(a)?null:a.get(V.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const g=u.some(y=>y===Ie.UPC_A||y===Ie.UPC_E||y===Ie.EAN_13||y===Ie.EAN_8||y===Ie.CODABAR||y===Ie.CODE_39||y===Ie.CODE_93||y===Ie.CODE_128||y===Ie.ITF||y===Ie.RSS_14||y===Ie.RSS_EXPANDED);g&&!l&&h.push(new Os(a,this.verbose)),u.includes(Ie.QR_CODE)&&h.push(new wn),u.includes(Ie.DATA_MATRIX)&&h.push(new pi),u.includes(Ie.AZTEC)&&h.push(new ba),u.includes(Ie.PDF_417)&&h.push(new en),g&&l&&h.push(new Os(a,this.verbose))}h.length===0&&(l||h.push(new Os(a,this.verbose)),h.push(new wn),h.push(new pi),h.push(new ba),h.push(new en),l&&h.push(new Os(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new ks("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(u){if(u instanceof ks)continue}throw new ne("No MultiFormat Readers were able to detect the code.")}}class Eo extends Me{constructor(a=null,l=500){const u=new Cl;u.setHints(a),super(u,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Ol extends Me{constructor(a=500){super(new en,a)}}class ef extends Me{constructor(a=500){super(new wn,a)}}var tu;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(tu||(tu={}));var jr=tu;class ru{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Be(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let u=l[l.length-1];const h=this.field;for(let g=l.length;g<=a;g++){const y=u.multiply(new Be(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));l.push(y),u=y}}return l[a]}encode(a,l){if(l===0)throw new w("No error correction bytes");const u=a.length-l;if(u<=0)throw new w("No data bytes provided");const h=this.buildGenerator(l),g=new Int32Array(u);I.arraycopy(a,0,g,0,u);let y=new Be(this.field,g);y=y.multiplyByMonomial(l,1);const S=y.divide(h)[1].getCoefficients(),T=l-S.length;for(let D=0;D<T;D++)a[u+D]=0;I.arraycopy(S,0,a,u+T,S.length)}}class er{constructor(){}static applyMaskPenaltyRule1(a){return er.applyMaskPenaltyRule1Internal(a,!0)+er.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let y=0;y<g-1;y++){const b=u[y];for(let S=0;S<h-1;S++){const T=b[S];T===b[S+1]&&T===u[y+1][S]&&T===u[y+1][S+1]&&l++}}return er.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let y=0;y<g;y++)for(let b=0;b<h;b++){const S=u[y];b+6<h&&S[b]===1&&S[b+1]===0&&S[b+2]===1&&S[b+3]===1&&S[b+4]===1&&S[b+5]===0&&S[b+6]===1&&(er.isWhiteHorizontal(S,b-4,b)||er.isWhiteHorizontal(S,b+7,b+11))&&l++,y+6<g&&u[y][b]===1&&u[y+1][b]===0&&u[y+2][b]===1&&u[y+3][b]===1&&u[y+4][b]===1&&u[y+5][b]===0&&u[y+6][b]===1&&(er.isWhiteVertical(u,b,y-4,y)||er.isWhiteVertical(u,b,y+7,y+11))&&l++}return l*er.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let h=l;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let S=0;S<g;S++){const T=u[S];for(let D=0;D<h;D++)T[D]===1&&l++}const y=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-y)*10/y)*er.N4}static getDataMaskBit(a,l,u){let h,g;switch(a){case 0:h=u+l&1;break;case 1:h=u&1;break;case 2:h=l%3;break;case 3:h=(u+l)%3;break;case 4:h=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:g=u*l,h=(g&1)+g%3;break;case 6:g=u*l,h=(g&1)+g%3&1;break;case 7:g=u*l,h=g%3+(u+l&1)&1;break;default:throw new w("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let u=0;const h=l?a.getHeight():a.getWidth(),g=l?a.getWidth():a.getHeight(),y=a.getArray();for(let b=0;b<h;b++){let S=0,T=-1;for(let D=0;D<g;D++){const F=l?y[b][D]:y[D][b];F===T?S++:(S>=5&&(u+=er.N1+(S-5)),S=1,T=F)}S>=5&&(u+=er.N1+(S-5))}return u}}er.N1=3,er.N2=3,er.N3=40,er.N4=10;class Il{constructor(a,l){this.width=a,this.height=l;const u=new Array(l);for(let h=0;h!==l;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,u){this.bytes[l][a]=u}setBoolean(a,l,u){this.bytes[l][a]=u?1:0}clear(a){for(const l of this.bytes)L.fill(l,a)}equals(a){if(!(a instanceof Il))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],y=l.bytes[u];for(let b=0,S=this.width;b<S;++b)if(g[b]!==y[b])return!1}return!0}toString(){const a=new Ee;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l];for(let g=0,y=this.width;g<y;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Wa{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Ee;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Wa.NUM_MASK_PATTERNS}}Wa.NUM_MASK_PATTERNS=8;class zt extends m{}zt.kind="WriterException";class rt{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,u,h,g){rt.clearMatrix(g),rt.embedBasicPatterns(u,g),rt.embedTypeInfo(l,h,g),rt.maybeEmbedVersionInfo(u,g),rt.embedDataBits(a,h,g)}static embedBasicPatterns(a,l){rt.embedPositionDetectionPatternsAndSeparators(l),rt.embedDarkDotAtLeftBottomCorner(l),rt.maybeEmbedPositionAdjustmentPatterns(a,l),rt.embedTimingPatterns(l)}static embedTypeInfo(a,l,u){const h=new z;rt.makeTypeInfoBits(a,l,h);for(let g=0,y=h.getSize();g<y;++g){const b=h.get(h.getSize()-1-g),S=rt.TYPE_INFO_COORDINATES[g],T=S[0],D=S[1];if(u.setBoolean(T,D,b),g<8){const F=u.getWidth()-g-1;u.setBoolean(F,8,b)}else{const $=u.getHeight()-7+(g-8);u.setBoolean(8,$,b)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const u=new z;rt.makeVersionInfoBits(a,u);let h=17;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const b=u.get(h);h--,l.setBoolean(g,l.getHeight()-11+y,b),l.setBoolean(l.getHeight()-11+y,g,b)}}static embedDataBits(a,l,u){let h=0,g=-1,y=u.getWidth()-1,b=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);b>=0&&b<u.getHeight();){for(let S=0;S<2;++S){const T=y-S;if(!rt.isEmpty(u.get(T,b)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,l!==255&&er.getDataMaskBit(l,T,b)&&(D=!D),u.setBoolean(T,b,D)}b+=g}g=-g,b+=g,y-=2}if(h!==a.getSize())throw new zt("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-j.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new w("0 polynomial");const u=rt.findMSBSet(l);for(a<<=u-1;rt.findMSBSet(a)>=u;)a^=l<<rt.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,l,u){if(!Wa.isValidMaskPattern(l))throw new zt("Invalid mask pattern");const h=a.getBits()<<3|l;u.appendBits(h,5);const g=rt.calculateBCHCode(h,rt.TYPE_INFO_POLY);u.appendBits(g,10);const y=new z;if(y.appendBits(rt.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new zt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const u=rt.calculateBCHCode(a.getVersionNumber(),rt.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new zt("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const u=(l+1)%2;rt.isEmpty(a.get(l,6))&&a.setNumber(l,6,u),rt.isEmpty(a.get(6,l))&&a.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new zt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,u){for(let h=0;h<8;++h){if(!rt.isEmpty(u.get(a+h,l)))throw new zt;u.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,u){for(let h=0;h<7;++h){if(!rt.isEmpty(u.get(a,l+h)))throw new zt;u.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,u){for(let h=0;h<5;++h){const g=rt.POSITION_ADJUSTMENT_PATTERN[h];for(let y=0;y<5;++y)u.setNumber(a+y,l+h,g[y])}}static embedPositionDetectionPattern(a,l,u){for(let h=0;h<7;++h){const g=rt.POSITION_DETECTION_PATTERN[h];for(let y=0;y<7;++y)u.setNumber(a+y,l+h,g[y])}}static embedPositionDetectionPatternsAndSeparators(a){const l=rt.POSITION_DETECTION_PATTERN[0].length;rt.embedPositionDetectionPattern(0,0,a),rt.embedPositionDetectionPattern(a.getWidth()-l,0,a),rt.embedPositionDetectionPattern(0,a.getWidth()-l,a);const u=8;rt.embedHorizontalSeparationPattern(0,u-1,a),rt.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),rt.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;rt.embedVerticalSeparationPattern(h,0,a),rt.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),rt.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,y=h.length;g!==y;g++){const b=h[g];if(b>=0)for(let S=0;S!==y;S++){const T=h[S];T>=0&&rt.isEmpty(l.get(T,b))&&rt.embedPositionAdjustmentPattern(T-2,b-2,l)}}}}rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),rt.VERSION_INFO_POLY=7973,rt.TYPE_INFO_POLY=1335,rt.TYPE_INFO_MASK_PATTERN=21522;class tm{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(a){return er.applyMaskPenaltyRule1(a)+er.applyMaskPenaltyRule2(a)+er.applyMaskPenaltyRule3(a)+er.applyMaskPenaltyRule4(a)}static encode(a,l,u=null){let h=Wt.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(jr.CHARACTER_SET)!==void 0;g&&(h=u.get(jr.CHARACTER_SET).toString());const y=this.chooseMode(a,h),b=new z;if(y===tt.BYTE&&(g||Wt.DEFAULT_BYTE_MODE_ENCODING!==h)){const Pe=X.getCharacterSetECIByName(h);Pe!==void 0&&this.appendECI(Pe,b)}this.appendModeInfo(y,b);const S=new z;this.appendBytes(a,y,S,h);let T;if(u!==null&&u.get(jr.QR_VERSION)!==void 0){const Pe=Number.parseInt(u.get(jr.QR_VERSION).toString(),10);T=et.getVersionForNumber(Pe);const Ce=this.calculateBitsNeeded(y,b,S,T);if(!this.willFit(Ce,T,l))throw new zt("Data too big for requested version")}else T=this.recommendVersion(l,y,b,S);const D=new z;D.appendBitArray(b);const F=y===tt.BYTE?S.getSizeInBytes():a.length;this.appendLengthInfo(F,T,y,D),D.appendBitArray(S);const $=T.getECBlocksForLevel(l),q=T.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(q,D);const Y=this.interleaveWithECBytes(D,T.getTotalCodewords(),q,$.getNumBlocks()),ee=new Wa;ee.setECLevel(l),ee.setMode(y),ee.setVersion(T);const ae=T.getDimensionForVersion(),he=new Il(ae,ae),Te=this.chooseMaskPattern(Y,l,T,he);return ee.setMaskPattern(Te),rt.buildMatrix(Y,l,T,Te,he),ee.setMatrix(he),ee}static recommendVersion(a,l,u,h){const g=this.calculateBitsNeeded(l,u,h,et.getVersionForNumber(1)),y=this.chooseVersion(g,a),b=this.calculateBitsNeeded(l,u,h,y);return this.chooseVersion(b,a)}static calculateBitsNeeded(a,l,u,h){return l.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(X.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return tt.KANJI;let u=!1,h=!1;for(let g=0,y=a.length;g<y;++g){const b=a.charAt(g);if(Wt.isDigit(b))u=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)h=!0;else return tt.BYTE}return h?tt.ALPHANUMERIC:u?tt.NUMERIC:tt.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=me.encode(a,X.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=l[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,l,u,h){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let b=0;b<Wa.NUM_MASK_PATTERNS;b++){rt.buildMatrix(a,l,u,b,h);let S=this.calculateMaskPenalty(h);S<g&&(g=S,y=b)}return y}static chooseVersion(a,l){for(let u=1;u<=40;u++){const h=et.getVersionForNumber(u);if(Wt.willFit(a,h,l))return h}throw new zt("Data too big")}static willFit(a,l,u){const h=l.getTotalCodewords(),y=l.getECBlocksForLevel(u).getTotalECCodewords(),b=h-y,S=(a+7)/8;return b>=S}static terminateBits(a,l){const u=a*8;if(l.getSize()>u)throw new zt("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let y=0;y<4&&l.getSize()<u;++y)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let y=h;y<8;y++)l.appendBit(!1);const g=a-l.getSizeInBytes();for(let y=0;y<g;++y)l.appendBits((y&1)===0?236:17,8);if(l.getSize()!==u)throw new zt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,u,h,g,y){if(h>=u)throw new zt("Block ID too large");const b=a%u,S=u-b,T=Math.floor(a/u),D=T+1,F=Math.floor(l/u),$=F+1,q=T-F,Y=D-$;if(q!==Y)throw new zt("EC bytes mismatch");if(u!==S+b)throw new zt("RS blocks mismatch");if(a!==(F+q)*S+($+Y)*b)throw new zt("Total bytes mismatch");h<S?(g[0]=F,y[0]=q):(g[0]=$,y[0]=Y)}static interleaveWithECBytes(a,l,u,h){if(a.getSizeInBytes()!==u)throw new zt("Number of bits and data bytes does not match");let g=0,y=0,b=0;const S=new Array;for(let D=0;D<h;++D){const F=new Int32Array(1),$=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(l,u,h,D,F,$);const q=F[0],Y=new Uint8Array(q);a.toBytes(8*g,Y,0,q);const ee=Wt.generateECBytes(Y,$[0]);S.push(new tm(Y,ee)),y=Math.max(y,q),b=Math.max(b,ee.length),g+=F[0]}if(u!==g)throw new zt("Data bytes does not match offset");const T=new z;for(let D=0;D<y;++D)for(const F of S){const $=F.getDataBytes();D<$.length&&T.appendBits($[D],8)}for(let D=0;D<b;++D)for(const F of S){const $=F.getErrorCorrectionBytes();D<$.length&&T.appendBits($[D],8)}if(l!==T.getSizeInBytes())throw new zt("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,l){const u=a.length,h=new Int32Array(u+l);for(let y=0;y<u;y++)h[y]=a[y]&255;new ru(Fe.QR_CODE_FIELD_256).encode(h,l);const g=new Uint8Array(l);for(let y=0;y<l;y++)g[y]=h[u+y];return g}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,u,h){const g=u.getCharacterCountBits(l);if(a>=1<<g)throw new zt(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,l,u,h){switch(l){case tt.NUMERIC:Wt.appendNumericBytes(a,u);break;case tt.ALPHANUMERIC:Wt.appendAlphanumericBytes(a,u);break;case tt.BYTE:Wt.append8BitBytes(a,u,h);break;case tt.KANJI:Wt.appendKanjiBytes(a,u);break;default:throw new zt("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=Wt.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Wt.getDigit(a.charAt(h));if(h+2<u){const y=Wt.getDigit(a.charAt(h+1)),b=Wt.getDigit(a.charAt(h+2));l.appendBits(g*100+y*10+b,10),h+=3}else if(h+1<u){const y=Wt.getDigit(a.charAt(h+1));l.appendBits(g*10+y,7),h+=2}else l.appendBits(g,4),h++}}static appendAlphanumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Wt.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new zt;if(h+1<u){const y=Wt.getAlphanumericCode(a.charCodeAt(h+1));if(y===-1)throw new zt;l.appendBits(g*45+y,11),h+=2}else l.appendBits(g,6),h++}}static append8BitBytes(a,l,u){let h;try{h=me.encode(a,u)}catch(g){throw new zt(g)}for(let g=0,y=h.length;g!==y;g++){const b=h[g];l.appendBits(b,8)}}static appendKanjiBytes(a,l){let u;try{u=me.encode(a,X.SJIS)}catch(g){throw new zt(g)}const h=u.length;for(let g=0;g<h;g+=2){const y=u[g]&255,b=u[g+1]&255,S=y<<8&4294967295|b;let T=-1;if(S>=33088&&S<=40956?T=S-33088:S>=57408&&S<=60351&&(T=S-49472),T===-1)throw new zt("Invalid byte sequence");const D=(T>>8)*192+(T&255);l.appendBits(D,13)}}static appendECI(a,l){l.appendBits(tt.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Va{write(a,l,u,h=null){if(a.length===0)throw new w("Found empty contents");if(l<0||u<0)throw new w("Requested dimensions are too small: "+l+"x"+u);let g=Ft.L,y=Va.QUIET_ZONE_SIZE;h!==null&&(h.get(jr.ERROR_CORRECTION)!==void 0&&(g=Ft.fromString(h.get(jr.ERROR_CORRECTION).toString())),h.get(jr.MARGIN)!==void 0&&(y=Number.parseInt(h.get(jr.MARGIN).toString(),10)));const b=Wt.encode(a,g,h);return this.renderResult(b,l,u,y)}writeToDom(a,l,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const y=this.write(l,u,h,g);a&&a.appendChild(y)}renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new Lt;const y=g.getWidth(),b=g.getHeight(),S=y+h*2,T=b+h*2,D=Math.max(l,S),F=Math.max(u,T),$=Math.min(Math.floor(D/S),Math.floor(F/T)),q=Math.floor((D-y*$)/2),Y=Math.floor((F-b*$)/2),ee=this.createSVGElement(D,F);for(let ae=0,he=Y;ae<b;ae++,he+=$)for(let Te=0,Pe=q;Te<y;Te++,Pe+=$)if(g.get(Te,ae)===1){const Ce=this.createSvgRectElement(Pe,he,$,$);ee.appendChild(Ce)}return ee}createSVGElement(a,l){const u=document.createElementNS(Va.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,h){const g=document.createElementNS(Va.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Va.QUIET_ZONE_SIZE=4,Va.SVG_NS="http://www.w3.org/2000/svg";class Rs{encode(a,l,u,h,g){if(a.length===0)throw new w("Found empty contents");if(l!==Ie.QR_CODE)throw new w("Can only encode QR_CODE, but got "+l);if(u<0||h<0)throw new w(`Requested dimensions are too small: ${u}x${h}`);let y=Ft.L,b=Rs.QUIET_ZONE_SIZE;g!==null&&(g.get(jr.ERROR_CORRECTION)!==void 0&&(y=Ft.fromString(g.get(jr.ERROR_CORRECTION).toString())),g.get(jr.MARGIN)!==void 0&&(b=Number.parseInt(g.get(jr.MARGIN).toString(),10)));const S=Wt.encode(a,y,g);return Rs.renderResult(S,u,h,b)}static renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new Lt;const y=g.getWidth(),b=g.getHeight(),S=y+h*2,T=b+h*2,D=Math.max(l,S),F=Math.max(u,T),$=Math.min(Math.floor(D/S),Math.floor(F/T)),q=Math.floor((D-y*$)/2),Y=Math.floor((F-b*$)/2),ee=new ke(D,F);for(let ae=0,he=Y;ae<b;ae++,he+=$)for(let Te=0,Pe=q;Te<y;Te++,Pe+=$)g.get(Te,ae)===1&&ee.setRegion(Pe,he,$,$);return ee}}Rs.QUIET_ZONE_SIZE=4;class rm{encode(a,l,u,h,g){let y;switch(l){case Ie.QR_CODE:y=new Rs;break;default:throw new w("No encoder available for format "+l)}return y.encode(a,l,u,h,g)}}class Li extends ve{constructor(a,l,u,h,g,y,b,S){if(super(y,b),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,h+y>l||g+b>u)throw new w("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(y,b)}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.yuvData,g,h,0,u),h;for(let y=0;y<l;y++){const b=y*a;I.arraycopy(this.yuvData,g,h,b,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new Li(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,h,!1)}renderThumbnail(){const a=this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<l;y++){const b=y*a;for(let S=0;S<a;S++){const T=h[g+S*Li.THUMBNAIL_SCALE_FACTOR]&255;u[b+S]=4278190080|T*65793}g+=this.dataWidth*Li.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Li.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Li.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<l;h++,g+=this.dataWidth){const y=g+a/2;for(let b=g,S=g+a-1;b<y;b++,S--){const T=u[b];u[b]=u[S],u[S]=T}}}invert(){return new ye(this)}}Li.THUMBNAIL_SCALE_FACTOR=2;class Ao extends ve{constructor(a,l,u,h,g,y,b){if(super(l,u),this.dataWidth=h,this.dataHeight=g,this.left=y,this.top=b,a.BYTES_PER_ELEMENT===4){const S=l*u,T=new Uint8ClampedArray(S);for(let D=0;D<S;D++){const F=a[D],$=F>>16&255,q=F>>7&510,Y=F&255;T[D]=($+q+Y)/4&255}this.luminances=T}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.luminances,g,h,0,u),h;for(let y=0;y<l;y++){const b=y*a;I.arraycopy(this.luminances,g,h,b,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new Ao(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new ye(this)}}class tf extends X{static forName(a){return this.getCharacterSetECIByName(a)}}class nu{}nu.ISO_8859_1=X.ISO8859_1;class rf{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class iu{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class nm{constructor(a){this.previous=a}getPrevious(){return this.previous}}class js extends nm{constructor(a,l,u){super(a),this.value=l,this.bitCount=u}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new js(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new js(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+j.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class au extends js{constructor(a,l,u){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(a,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(a,l){return new au(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function im(B,a,l){return new au(B,a,l)}function _o(B,a,l){return new js(B,a,l)}const am=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sa=0,Ms=1,un=2,nf=3,gi=4,af=new js(null,0,0),Nl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function sf(B){for(let a of B)L.fill(a,-1);return B[Sa][gi]=0,B[Ms][gi]=0,B[Ms][Sa]=28,B[nf][gi]=0,B[un][gi]=0,B[un][Sa]=15,B}const su=sf(L.createInt32Array(6,6));class bn{constructor(a,l,u,h){this.token=a,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let u=this.bitCount,h=this.token;if(a!==this.mode){let y=Nl[this.mode][a];h=_o(h,y&65535,y>>16),u+=y>>16}let g=a===un?4:5;return h=_o(h,l,g),new bn(h,a,0,u+g)}shiftAndAppend(a,l){let u=this.token,h=this.mode===un?4:5;return u=_o(u,su[this.mode][a],h),u=_o(u,l,5),new bn(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,u=this.mode,h=this.bitCount;if(this.mode===gi||this.mode===un){let b=Nl[u][Sa];l=_o(l,b&65535,b>>16),h+=b>>16,u=Sa}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new bn(l,u,this.binaryShiftByteCount+1,h+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(a+1)),y}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=im(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new bn(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Nl[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=bn.calculateBinaryShiftCost(a)-bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let u=new z;for(const h of l)h.appendTo(u,a);return u}toString(){return fe.format("%s bits=%d bytes=%d",am[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}bn.INITIAL_STATE=new bn(af,Sa,0,0);function sm(B){const a=fe.getCharCode(" "),l=fe.getCharCode("."),u=fe.getCharCode(",");B[Sa][a]=1;const h=fe.getCharCode("Z"),g=fe.getCharCode("A");for(let $=g;$<=h;$++)B[Sa][$]=$-g+2;B[Ms][a]=1;const y=fe.getCharCode("z"),b=fe.getCharCode("a");for(let $=b;$<=y;$++)B[Ms][$]=$-b+2;B[un][a]=1;const S=fe.getCharCode("9"),T=fe.getCharCode("0");for(let $=T;$<=S;$++)B[un][$]=$-T+2;B[un][u]=12,B[un][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<D.length;$++)B[nf][fe.getCharCode(D[$])]=$;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<F.length;$++)fe.getCharCode(F[$])>0&&(B[gi][fe.getCharCode(F[$])]=$);return B}const ou=sm(L.createInt32Array(5,256));class So{constructor(a){this.text=a}encode(){const a=fe.getCharCode(" "),l=fe.getCharCode(`
`);let u=iu.singletonList(bn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,b=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case fe.getCharCode("\r"):y=b===l?2:0;break;case fe.getCharCode("."):y=b===a?3:0;break;case fe.getCharCode(","):y=b===a?4:0;break;case fe.getCharCode(":"):y=b===a?5:0;break;default:y=0}y>0?(u=So.updateStateListForPair(u,g,y),g++):u=this.updateStateListForChar(u,g)}return iu.min(u,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const u=[];for(let h of a)this.updateStateForChar(h,l,u);return So.simplifyStates(u)}updateStateForChar(a,l,u){let h=this.text[l]&255,g=ou[a.getMode()][h]>0,y=null;for(let b=0;b<=gi;b++){let S=ou[b][h];if(S>0){if(y==null&&(y=a.endBinaryShift(l)),!g||b===a.getMode()||b===un){const T=y.latchAndAppend(b,S);u.push(T)}if(!g&&su[a.getMode()][b]>=0){const T=y.shiftAndAppend(b,S);u.push(T)}}}if(a.getBinaryShiftByteCount()>0||ou[a.getMode()][h]===0){let b=a.addBinaryShiftChar(l);u.push(b)}}static updateStateListForPair(a,l,u){const h=[];for(let g of a)this.updateStateForPair(g,l,u,h);return this.simplifyStates(h)}static updateStateForPair(a,l,u,h){let g=a.endBinaryShift(l);if(h.push(g.latchAndAppend(gi,u)),a.getMode()!==gi&&h.push(g.shiftAndAppend(gi,u)),u===3||u===4){let y=g.latchAndAppend(un,16-u).latchAndAppend(un,1);h.push(y)}if(a.getBinaryShiftByteCount()>0){let y=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(y)}}static simplifyStates(a){let l=[];for(const u of a){let h=!0;for(const g of l){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(l=l.filter(y=>y!==g))}h&&l.push(u)}return l}}class Ct{constructor(){}static encodeBytes(a){return Ct.encode(a,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(a,l,u){let h=new So(a).encode(),g=j.truncDivision(h.getSize()*l,100)+11,y=h.getSize()+g,b,S,T,D,F;if(u!==Ct.DEFAULT_AZTEC_LAYERS){if(b=u<0,S=Math.abs(u),S>(b?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new w(fe.format("Illegal value %s for layers",u));T=Ct.totalBitsInLayer(S,b),D=Ct.WORD_SIZE[S];let Ce=T-T%D;if(F=Ct.stuffBits(h,D),F.getSize()+g>Ce)throw new w("Data to large for user specified layer");if(b&&F.getSize()>D*64)throw new w("Data to large for user specified layer")}else{D=0,F=null;for(let Ce=0;;Ce++){if(Ce>Ct.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(b=Ce<=3,S=b?Ce+1:Ce,T=Ct.totalBitsInLayer(S,b),y>T)continue;(F==null||D!==Ct.WORD_SIZE[S])&&(D=Ct.WORD_SIZE[S],F=Ct.stuffBits(h,D));let bt=T-T%D;if(!(b&&F.getSize()>D*64)&&F.getSize()+g<=bt)break}}let $=Ct.generateCheckWords(F,T,D),q=F.getSize()/D,Y=Ct.generateModeMessage(b,S,q),ee=(b?11:14)+S*4,ae=new Int32Array(ee),he;if(b){he=ee;for(let Ce=0;Ce<ae.length;Ce++)ae[Ce]=Ce}else{he=ee+1+2*j.truncDivision(j.truncDivision(ee,2)-1,15);let Ce=j.truncDivision(ee,2),bt=j.truncDivision(he,2);for(let ht=0;ht<Ce;ht++){let Rn=ht+j.truncDivision(ht,15);ae[Ce-ht-1]=bt-Rn-1,ae[Ce+ht]=bt+Rn+1}}let Te=new ke(he);for(let Ce=0,bt=0;Ce<S;Ce++){let ht=(S-Ce)*4+(b?9:12);for(let Rn=0;Rn<ht;Rn++){let vi=Rn*2;for(let Mr=0;Mr<2;Mr++)$.get(bt+vi+Mr)&&Te.set(ae[Ce*2+Mr],ae[Ce*2+Rn]),$.get(bt+ht*2+vi+Mr)&&Te.set(ae[Ce*2+Rn],ae[ee-1-Ce*2-Mr]),$.get(bt+ht*4+vi+Mr)&&Te.set(ae[ee-1-Ce*2-Mr],ae[ee-1-Ce*2-Rn]),$.get(bt+ht*6+vi+Mr)&&Te.set(ae[ee-1-Ce*2-Rn],ae[Ce*2+Mr])}bt+=ht*8}if(Ct.drawModeMessage(Te,b,he,Y),b)Ct.drawBullsEye(Te,j.truncDivision(he,2),5);else{Ct.drawBullsEye(Te,j.truncDivision(he,2),7);for(let Ce=0,bt=0;Ce<j.truncDivision(ee,2)-1;Ce+=15,bt+=16)for(let ht=j.truncDivision(he,2)&1;ht<he;ht+=2)Te.set(j.truncDivision(he,2)-bt,ht),Te.set(j.truncDivision(he,2)+bt,ht),Te.set(ht,j.truncDivision(he,2)-bt),Te.set(ht,j.truncDivision(he,2)+bt)}let Pe=new rf;return Pe.setCompact(b),Pe.setSize(he),Pe.setLayers(S),Pe.setCodeWords(q),Pe.setMatrix(Te),Pe}static drawBullsEye(a,l,u){for(let h=0;h<u;h+=2)for(let g=l-h;g<=l+h;g++)a.set(g,l-h),a.set(g,l+h),a.set(l-h,g),a.set(l+h,g);a.set(l-u,l-u),a.set(l-u+1,l-u),a.set(l-u,l-u+1),a.set(l+u,l-u),a.set(l+u,l-u+1),a.set(l+u,l+u-1)}static generateModeMessage(a,l,u){let h=new z;return a?(h.appendBits(l-1,2),h.appendBits(u-1,6),h=Ct.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(u-1,11),h=Ct.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,u,h){let g=j.truncDivision(u,2);if(l)for(let y=0;y<7;y++){let b=g-3+y;h.get(y)&&a.set(b,g-5),h.get(y+7)&&a.set(g+5,b),h.get(20-y)&&a.set(b,g+5),h.get(27-y)&&a.set(g-5,b)}else for(let y=0;y<10;y++){let b=g-5+y+j.truncDivision(y,5);h.get(y)&&a.set(b,g-7),h.get(y+10)&&a.set(g+7,b),h.get(29-y)&&a.set(b,g+7),h.get(39-y)&&a.set(g-7,b)}}static generateCheckWords(a,l,u){let h=a.getSize()/u,g=new ru(Ct.getGF(u)),y=j.truncDivision(l,u),b=Ct.bitsToWords(a,u,y);g.encode(b,y-h);let S=l%u,T=new z;T.appendBits(0,S);for(const D of Array.from(b))T.appendBits(D,u);return T}static bitsToWords(a,l,u){let h=new Int32Array(u),g,y;for(g=0,y=a.getSize()/l;g<y;g++){let b=0;for(let S=0;S<l;S++)b|=a.get(g*l+S)?1<<l-S-1:0;h[g]=b}return h}static getGF(a){switch(a){case 4:return Fe.AZTEC_PARAM;case 6:return Fe.AZTEC_DATA_6;case 8:return Fe.AZTEC_DATA_8;case 10:return Fe.AZTEC_DATA_10;case 12:return Fe.AZTEC_DATA_12;default:throw new w("Unsupported word size "+a)}}static stuffBits(a,l){let u=new z,h=a.getSize(),g=(1<<l)-2;for(let y=0;y<h;y+=l){let b=0;for(let S=0;S<l;S++)(y+S>=h||a.get(y+S))&&(b|=1<<l-1-S);(b&g)===g?(u.appendBits(b&g,l),y--):(b&g)===0?(u.appendBits(b|1,l),y--):u.appendBits(b,l)}return u}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Co{encode(a,l,u,h){return this.encodeWithHints(a,l,u,h,null)}encodeWithHints(a,l,u,h,g){let y=nu.ISO_8859_1,b=Ct.DEFAULT_EC_PERCENT,S=Ct.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(jr.CHARACTER_SET)&&(y=tf.forName(g.get(jr.CHARACTER_SET).toString())),g.has(jr.ERROR_CORRECTION)&&(b=j.parseInt(g.get(jr.ERROR_CORRECTION).toString())),g.has(jr.AZTEC_LAYERS)&&(S=j.parseInt(g.get(jr.AZTEC_LAYERS).toString()))),Co.encodeLayers(a,l,u,h,y,b,S)}static encodeLayers(a,l,u,h,g,y,b){if(l!==Ie.AZTEC)throw new w("Can only encode AZTEC, but got "+l);let S=Ct.encode(fe.getBytes(a,g),y,b);return Co.renderResult(S,u,h)}static renderResult(a,l,u){let h=a.getMatrix();if(h==null)throw new Lt;let g=h.getWidth(),y=h.getHeight(),b=Math.max(l,g),S=Math.max(u,y),T=Math.min(b/g,S/y),D=(b-g*T)/2,F=(S-y*T)/2,$=new ke(b,S);for(let q=0,Y=F;q<y;q++,Y+=T)for(let ee=0,ae=D;ee<g;ee++,ae+=T)h.get(ee,q)&&$.setRegion(ae,Y,T,T);return $}}r.AbstractExpandedDecoder=Gc,r.ArgumentException=v,r.ArithmeticException=xe,r.AztecCode=rf,r.AztecCodeReader=ba,r.AztecCodeWriter=Co,r.AztecDecoder=Ot,r.AztecDetector=Ss,r.AztecDetectorResult=ta,r.AztecEncoder=Ct,r.AztecHighLevelEncoder=So,r.AztecPoint=ur,r.BarcodeFormat=Ie,r.Binarizer=O,r.BinaryBitmap=_,r.BitArray=z,r.BitMatrix=ke,r.BitSource=Xc,r.BrowserAztecCodeReader=Jp,r.BrowserBarcodeReader=Kd,r.BrowserCodeReader=Me,r.BrowserDatamatrixCodeReader=em,r.BrowserMultiFormatReader=Eo,r.BrowserPDF417Reader=Ol,r.BrowserQRCodeReader=ef,r.BrowserQRCodeSvgWriter=Va,r.CharacterSetECI=X,r.ChecksumException=C,r.Code128Reader=je,r.Code39Reader=kr,r.DataMatrixDecodedBitStreamParser=hi,r.DataMatrixReader=pi,r.DecodeHintType=V,r.DecoderResult=te,r.DefaultGridSampler=Ur,r.DetectorResult=ea,r.EAN13Reader=Xn,r.EncodeHintType=jr,r.Exception=m,r.FormatException=H,r.GenericGF=Fe,r.GenericGFPoly=Be,r.GlobalHistogramBinarizer=Le,r.GridSampler=pt,r.GridSamplerInstance=cr,r.HTMLCanvasElementLuminanceSource=we,r.HybridBinarizer=le,r.ITFReader=jt,r.IllegalArgumentException=w,r.IllegalStateException=Lt,r.InvertedLuminanceSource=ye,r.LuminanceSource=ve,r.MathUtils=wt,r.MultiFormatOneDReader=Os,r.MultiFormatReader=Cl,r.MultiFormatWriter=rm,r.NotFoundException=ne,r.OneDReader=xr,r.PDF417DecodedBitStreamParser=pe,r.PDF417DecoderErrorCorrection=Qc,r.PDF417Reader=en,r.PDF417ResultMetadata=_l,r.PerspectiveTransform=dt,r.PlanarYUVLuminanceSource=Li,r.QRCodeByteMatrix=Il,r.QRCodeDataMask=vt,r.QRCodeDecodedBitStreamParser=Jt,r.QRCodeDecoderErrorCorrectionLevel=Ft,r.QRCodeDecoderFormatInformation=Zr,r.QRCodeEncoder=Wt,r.QRCodeEncoderQRCode=Wa,r.QRCodeMaskUtil=er,r.QRCodeMatrixUtil=rt,r.QRCodeMode=tt,r.QRCodeReader=wn,r.QRCodeVersion=et,r.QRCodeWriter=Rs,r.RGBLuminanceSource=Ao,r.RSS14Reader=Ht,r.RSSExpandedReader=be,r.ReaderException=ks,r.ReedSolomonDecoder=Yt,r.ReedSolomonEncoder=ru,r.ReedSolomonException=yt,r.Result=De,r.ResultMetadataType=Z,r.ResultPoint=Ue,r.StringUtils=fe,r.UnsupportedOperationException=_e,r.VideoInputDevice=Q,r.WhiteRectangleDetector=$n,r.WriterException=zt,r.ZXingArrays=L,r.ZXingCharset=tf,r.ZXingInteger=j,r.ZXingStandardCharsets=nu,r.ZXingStringBuilder=Ee,r.ZXingStringEncoding=me,r.ZXingSystem=I,r.createAbstractExpandedDecoder=Gd,Object.defineProperty(r,"__esModule",{value:!0})}))})(Wu,Wu.exports)),Wu.exports}var or=aD();const sD=Qi(or),oD=Vy({__proto__:null,default:sD},[or]);var eA=(function(){function e(t,r,n){if(this.formatMap=new Map([[We.QR_CODE,or.BarcodeFormat.QR_CODE],[We.AZTEC,or.BarcodeFormat.AZTEC],[We.CODABAR,or.BarcodeFormat.CODABAR],[We.CODE_39,or.BarcodeFormat.CODE_39],[We.CODE_93,or.BarcodeFormat.CODE_93],[We.CODE_128,or.BarcodeFormat.CODE_128],[We.DATA_MATRIX,or.BarcodeFormat.DATA_MATRIX],[We.MAXICODE,or.BarcodeFormat.MAXICODE],[We.ITF,or.BarcodeFormat.ITF],[We.EAN_13,or.BarcodeFormat.EAN_13],[We.EAN_8,or.BarcodeFormat.EAN_8],[We.PDF_417,or.BarcodeFormat.PDF_417],[We.RSS_14,or.BarcodeFormat.RSS_14],[We.RSS_EXPANDED,or.BarcodeFormat.RSS_EXPANDED],[We.UPC_A,or.BarcodeFormat.UPC_A],[We.UPC_E,or.BarcodeFormat.UPC_E],[We.UPC_EAN_EXTENSION,or.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!oD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(or.DecodeHintType.POSSIBLE_FORMATS,i),s.set(or.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new or.MultiFormatReader(this.verbose,this.hints),n=new or.HTMLCanvasElementLuminanceSource(t),i=new or.BinaryBitmap(new or.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:eN.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),lD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},cD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},tA=(function(){function e(t,r,n){if(this.formatMap=new Map([[We.QR_CODE,"qr_code"],[We.AZTEC,"aztec"],[We.CODABAR,"codabar"],[We.CODE_39,"code_39"],[We.CODE_93,"code_93"],[We.CODE_128,"code_128"],[We.DATA_MATRIX,"data_matrix"],[We.ITF,"itf"],[We.EAN_13,"ean_13"],[We.EAN_8,"ean_8"],[We.PDF_417,"pdf417"],[We.UPC_A,"upc_a"],[We.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return lD(this,void 0,void 0,function(){var r,n;return cD(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:eN.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),rA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},nA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},uD=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&tA.isSupported()?(this.primaryDecoder=new tA(t,n,i),this.secondaryDecoder=new eA(t,n,i)):this.primaryDecoder=new eA(t,n,i)}return e.prototype.decodeAsync=function(t){return rA(this,void 0,void 0,function(){var r;return nA(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return rA(this,void 0,void 0,function(){var r,n;return nA(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),px=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Yh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},Zh=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},rN=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),dD=(function(e){px(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(rN),fD=(function(e){px(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(dD),hD=(function(e){px(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(rN),pD=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new fD(this.track)},e.prototype.torchFeature=function(){return new hD(this.track)},e})(),mD=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Yh(this,void 0,void 0,function(){var s,c;return Zh(this,function(f){switch(f.label){case 0:return s=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Yh(this,void 0,void 0,function(){return Zh(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new pD(this.getFirstTrackOrFail())},e})(),gD=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Yh(this,void 0,void 0,function(){return Zh(this,function(i){return[2,mD.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Yh(this,void 0,void 0,function(){var r,n;return Zh(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),iA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},aA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},vD=(function(){function e(){}return e.failIfNotSupported=function(){return iA(this,void 0,void 0,function(){return aA(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return iA(this,void 0,void 0,function(){return aA(this,function(r){return[2,gD.create(t)]})})},e})(),yD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},xD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},wD=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=sc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=sc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return yD(this,void 0,void 0,function(){var t,r,n,i,s,c,f;return xD(this,function(p){switch(p.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),w=0,_=v;w<_.length;w++){var C=_[w];C.enabled=!1,C.stop(),m.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],s=0,c=n;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var c=[],f=0,p=s;f<p.length;f++){var m=p[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Nr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Nr||(Nr={}));var bD=(function(){function e(){this.state=Nr.NOT_STARTED,this.onGoingTransactionNewState=Nr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Nr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Nr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Nr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Nr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Nr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Nr.UNKNOWN:throw"Transition from unknown is not allowed";case Nr.NOT_STARTED:this.failIfNewStateIs(t,[Nr.PAUSED]);break;case Nr.SCANNING:break;case Nr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),ED=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Nr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Nr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Nr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Nr.PAUSED},e})(),AD=(function(){function e(){}return e.create=function(){return new ED(new bD)},e})(),_D=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),bi=(function(e){_D(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(tD),SD=(function(){function e(t,r){this.logger=r,this.fps=bi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=bi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?tN.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!rs(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),CD=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new nD(this.verbose),this.qrcode=new uD(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=AD.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=SD.create(r,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:bi.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,_=this.stateManagerProxy.startTransition(Nr.SCANNING);return new Promise(function(C,O){var I=m?f.videoConstraints:w.createVideoConstraints(t);if(!I){_.cancel(),O("videoConstraints should be defined");return}var k={};(!m||f.aspectRatio)&&(k.aspectRatio=f.aspectRatio);var M={onRenderSurfaceReady:function(L,j){w.setupUi(L,j,f),w.isScanning=!0,w.foreverScan(f,n,c)}};vD.failIfNotSupported().then(function(L){L.create(I).then(function(j){return j.render(s.element,k,M).then(function(z){w.renderedCamera=z,_.execute(),C(null)}).catch(function(z){_.cancel(),O(z)})}).catch(function(j){_.cancel(),O(sc.errorGettingUserMedia(j))})}).catch(function(L){_.cancel(),O(sc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Nr.PAUSED),this.showPausedState(),(rs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Nr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Nr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(bi.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(rs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(n.elementId),v=m.clientWidth?m.clientWidth:bi.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:p,bi.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(f,p,v,w);if(r){var C=n.createCanvasElement(v,w,"qr-canvas-visible");C.style.display="inline-block",m.appendChild(C);var O=C.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=v,O.canvas.height=w,O.drawImage(c,0,0,f,p,_.x,_.y,_.width,_.height)}var I=bi.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,_.width),M=Math.max(c.height,_.height),L=k+2*I,j=M+2*I,z=n.createCanvasElement(L,j);m.appendChild(z);var W=z.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=j,W.drawImage(c,0,0,f,p,I,I,k,M);try{n.qrcode.decodeRobustlyAsync(z).then(function(V){i(QE.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return wD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!tN.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[We.QR_CODE,We.AZTEC,We.CODABAR,We.CODE_39,We.CODE_93,We.CODE_128,We.DATA_MATRIX,We.MAXICODE,We.ITF,We.EAN_13,We.EAN_8,We.PDF_417,We.RSS_14,We.RSS_EXPANDED,We.UPC_A,We.UPC_E,We.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var c=s[i];eD(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(rs(t))return!0;if(!rs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(rs(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return rs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,r,s),f=function(m){if(m<bi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(bi.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};f(c.width),f(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=rs(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,s):f,m=this.createCanvasElement(p.width,p.height),v={willReadFrequently:!0},w=m.getContext("2d",v);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=sc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,QE.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=sc.codeParseError(i);return r(s,rD.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*f,v=this.qrRegion.x*c,w=this.qrRegion.y*f;this.context.drawImage(s,v,w,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(C){!C&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",c=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof w;throw"Invalid type of 'deviceId' = ".concat(_)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,c=(i-r)/2;return{x:s,y:c,width:t,height:r}}else{var f=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?bi.BORDER_SHADER_MATCH_COLOR:bi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=rs(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(bi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(s,m,p,-p,null,0,!0),this.insertShaderBorders(s,m,p,-p,null,0,!1),this.insertShaderBorders(s,m,p,null,-p,0,!0),this.insertShaderBorders(s,m,p,null,-p,0,!1),this.insertShaderBorders(s,p,m+p,-p,null,-p,!0),this.insertShaderBorders(s,p,m+p,null,-p,-p,!0),this.insertShaderBorders(s,p,m+p,-p,null,-p,!1),this.insertShaderBorders(s,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=bi.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),s!==null&&(p.style.bottom="".concat(s,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),sA;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sA||(sA={}));const OD=({perfume:e,onSell:t})=>{const[r,n]=N.useState(null);N.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await ct.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},s=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await ct.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return E.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[E.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),E.jsx("td",{className:"px-3 py-2 text-center",children:E.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),E.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),E.jsx("td",{className:"px-3 py-2 text-right",children:E.jsx("button",{onClick:s,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},ID=({onLogout:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[s,c]=N.useState(!1),[f,p]=N.useState(null),[m,v]=N.useState("loyalty"),[w,_]=N.useState("Corte"),[C,O]=N.useState("7000"),[I,k]=N.useState("0"),[M,L]=N.useState([]),[j,z]=N.useState(null);N.useEffect(()=>{m==="agenda"&&we()},[m]);const[W,V]=N.useState([]),[H,ie]=N.useState(""),[X,_e]=N.useState([]),[me,fe]=N.useState(""),[Ee,ke]=N.useState(""),[ne,Le]=N.useState(!1);N.useEffect(()=>{m==="agenda"?we():m==="clients"?Q():m==="expenses"&&le()},[m]);const le=async()=>{const{data:Z,error:te}=await ct.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});te?console.error("Error fetching expenses:",te):_e(Z||[])},ve=async()=>{if(!me||!Ee){alert("Ingrese descripcin y monto");return}Le(!0);try{const Z=BM(me),{error:te}=await ct.from("expenses").insert({description:me,amount:parseInt(Ee),category:Z,date:new Date});if(te)throw te;alert(`Gasto registrado como: ${Z}`),fe(""),ke(""),le()}catch(Z){alert("Error: "+Z.message)}finally{Le(!1)}},ye=async Z=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:te}=await ct.from("expenses").delete().eq("id",Z);te||le()},we=async()=>{const Z=new Date().toISOString().split("T")[0],{data:te,error:Ae}=await ct.from("bookings").select("*").gte("date",Z).order("date",{ascending:!0}).order("time",{ascending:!0});Ae?console.error("Error fetching bookings:",Ae):L(te||[])},Q=async()=>{let Z=ct.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);H&&(Z=Z.ilike("phone",`%${H}%`));const{data:te,error:Ae}=await Z;Ae?console.error("Error fetching clients:",Ae):V(te||[])};N.useEffect(()=>{if(m==="clients"){const Z=setTimeout(()=>{Q()},500);return()=>clearTimeout(Z)}},[H]);const de=async(Z,te)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${te} y todo su historial. Esta accin no se puede deshacer.`))try{await ct.from("hair_service_log").delete().eq("client_id",Z),await ct.from("transactions").delete().eq("client_id",Z),await ct.from("visit_registrations").delete().eq("client_id",Z);const{error:Ae}=await ct.from("clients").delete().eq("id",Z);if(Ae)throw Ae;alert("Cliente eliminado correctamente."),Q()}catch(Ae){alert("Error al eliminar: "+Ae.message)}};N.useEffect(()=>{if(s&&!f){const Z=new CD("reader"),te={fps:10,qrbox:{width:250,height:250}};return Z.start({facingMode:"environment"},te,De,Xe).catch(Ae=>{console.error("Error starting scanner:",Ae),i("Error iniciando cmara: "+Ae)}),()=>{Z.stop().then(()=>Z.clear()).catch(console.error)}}},[s,f]);const Me=async(Z,te,Ae,Be)=>{if(te<=0)return;const{error:xe}=await ct.from("transactions").insert({client_id:Z,amount:te,type:Ae,description:Be});xe&&console.error("Error recording transaction:",xe)},De=async(Z,te)=>{if(!f){p(Z),c(!1);try{i("Procesando...");const{data:Ae,error:Be}=await ct.rpc("register_visit",{token_input:Z});if(Be)throw Be;if(Ae.success){if(i("OK: "+Ae.message+" Visitas: "+Ae.new_visits),m==="hair"){const xe=parseInt(C)||0,{data:Fe}=await ct.from("clients").select("id").eq("member_token",Z).single();Fe&&await Me(Fe.id,xe,"service",`Servicio: ${w}`)}}else i("Error: "+Ae.message);setTimeout(()=>{p(null),i("")},4e3)}catch(Ae){console.error(Ae),i("Error al procesar el cdigo."),p(null)}}},Xe=Z=>{console.warn(Z)},Ie=async()=>{if(!j||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:Z,error:te}=await ct.rpc("redeem_discount_5th",{token_input:j.member_token});if(te)i("Error: "+te.message);else if(i(Z.message),Z.success){const{data:Ae}=await ct.from("clients").select("*").eq("id",j.id).single();z(Ae)}},nt=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),m==="hair"){const Z=parseInt(C)||0,{data:te,error:Ae}=await ct.rpc("add_hair_service_by_phone",{phone_input:t,service_type:w,service_price:Z,notes_input:"Ingreso Manual desde Admin"});if(Ae)throw Ae;te.success?(i(` Servicio registrado. Total: ${te.new_total_services}. ${te.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${te.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r("")):i("Error: "+te.message)}else{const{data:Z,error:te}=await ct.from("clients").select("*").eq("phone",t).single();let Ae=0;Z&&(Ae=Z.visits);const Be=Ae+1,{data:xe,error:Fe}=await ct.from("clients").upsert({phone:t,visits:Be,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(Fe)throw Fe;const yt=parseInt(I)||0;await Me(xe.id,yt,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+Be),r("")}}catch(Z){console.error(Z),i("Error: "+(Z.message||"Error desconocido"))}};return E.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[E.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[E.jsx("span",{children:"Panel de Atencin"}),E.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[E.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[E.jsx(rj,{className:"text-green-600"}),"Registrar Visita Manual"]}),E.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),E.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[E.jsx("input",{type:"tel",value:t,onChange:Z=>r(Z.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m==="loyalty"&&E.jsx("input",{type:"number",value:I,onChange:Z=>k(Z.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),E.jsxs("button",{onClick:nt,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[E.jsx(ij,{size:18}),"Registrar"]})]}),E.jsx("div",{className:"flex justify-center mb-6",children:E.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[E.jsx("button",{onClick:()=>v("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),E.jsx("button",{onClick:()=>v("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),E.jsx("button",{onClick:()=>v("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),E.jsx("button",{onClick:()=>v("agenda"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="agenda"?"bg-pink-500 text-white":"text-stone-400 hover:text-white"}`,children:"Agenda"}),E.jsx("button",{onClick:()=>v("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),E.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"})]})}),E.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[E.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:m==="loyalty"?"Registrar Visita":m==="hair"?"Registrar Servicio Peluquera":m==="inventory"?"Gestin de Inventario":m==="clients"?"Gestin de Clientes":m==="expenses"?"Control de Inversin y Compras":"Agenda Semanal"}),m==="expenses"&&E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[E.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:me,onChange:Z=>fe(Z.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),E.jsx("input",{type:"number",value:Ee,onChange:Z=>ke(Z.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),E.jsx("button",{onClick:ve,disabled:ne,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:ne?"...":"Guardar"})]}),E.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(Z=>{const te=X.filter(Ae=>Ae.category===Z).reduce((Ae,Be)=>Ae+Be.amount,0);return E.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[E.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:Z}),E.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",te.toLocaleString()]})]},Z)}),E.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[E.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),E.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",X.reduce((Z,te)=>Z+te.amount,0).toLocaleString()]})]})]}),E.jsx("div",{className:"max-h-60 overflow-y-auto",children:E.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[E.jsx("thead",{className:"sticky top-0 bg-stone-800",children:E.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[E.jsx("th",{className:"pb-2",children:"Desc"}),E.jsx("th",{className:"pb-2",children:"Cat"}),E.jsx("th",{className:"pb-2 text-right",children:"Monto"}),E.jsx("th",{className:"pb-2 w-8"})]})}),E.jsx("tbody",{className:"divide-y divide-stone-700",children:X.map(Z=>E.jsxs("tr",{children:[E.jsx("td",{className:"py-2",children:Z.description}),E.jsx("td",{className:"py-2",children:E.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:Z.category})}),E.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",Z.amount.toLocaleString()]}),E.jsx("td",{className:"py-2 text-right",children:E.jsx("button",{onClick:()=>ye(Z.id),className:"text-red-500 hover:text-red-400",children:E.jsx(no,{size:12})})})]},Z.id))})]})})]}),m==="clients"&&E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:H,onChange:Z=>ie(Z.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),E.jsxs("div",{className:"overflow-x-auto max-h-96",children:[E.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[E.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-3 py-2",children:"Telfono"}),E.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),E.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),E.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),E.jsx("tbody",{children:W.map(Z=>E.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[E.jsx("td",{className:"px-3 py-2 text-white font-mono",children:Z.phone}),E.jsx("td",{className:"px-3 py-2 text-center",children:Z.visits}),E.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:Z.hair_service_count||0}),E.jsx("td",{className:"px-3 py-2 text-right",children:E.jsx("button",{onClick:()=>de(Z.id,Z.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:E.jsx(no,{size:14})})})]},Z.id))})]}),W.length===0&&E.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]})]}),m==="inventory"&&E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[E.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-3 py-2",children:"Perfume"}),E.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),E.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),E.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),E.jsx("tbody",{children:io.map(Z=>E.jsx(OD,{perfume:Z,onSell:(te,Ae)=>Me(j?.id||"anon",te,"product",Ae)},Z.id))})]})}),m==="agenda"&&E.jsx("div",{className:"overflow-x-auto",children:M.length===0?E.jsx("p",{className:"text-center text-stone-400 py-8",children:"No hay horas agendadas prximas."}):E.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[E.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-3 py-2",children:"Fecha/Hora"}),E.jsx("th",{className:"px-3 py-2",children:"Cliente"}),E.jsx("th",{className:"px-3 py-2",children:"Servicio"}),E.jsx("th",{className:"px-3 py-2",children:"Contacto"})]})}),E.jsx("tbody",{children:M.map(Z=>E.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[E.jsxs("td",{className:"px-3 py-2",children:[E.jsx("div",{className:"font-bold text-white",children:Z.date}),E.jsx("div",{className:"text-amber-400",children:Z.time})]}),E.jsx("td",{className:"px-3 py-2 font-medium text-white",children:Z.name}),E.jsxs("td",{className:"px-3 py-2",children:[Z.is_home_service?E.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[E.jsx("span",{className:"text-[10px]",children:""})," Domicilio"]}):E.jsx("span",{className:"text-purple-400",children:"Salon"}),Z.address&&E.jsx("div",{className:"text-[10px] text-stone-500 truncate max-w-[100px]",children:Z.address})]}),E.jsx("td",{className:"px-3 py-2",children:E.jsx("a",{href:`https://wa.me/${Z.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-400 hover:underline flex items-center gap-1",children:Z.phone})})]},Z.id))})]})}),m==="hair"&&E.jsxs("div",{className:"mb-4 space-y-3",children:[E.jsxs("select",{value:w,onChange:Z=>_(Z.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[E.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),E.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),E.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),E.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),E.jsx("input",{type:"number",value:C,onChange:Z=>O(Z.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"})]}),m!=="inventory"&&m!=="clients"&&m!=="expenses"&&E.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${m==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[E.jsx(Y0,{size:24}),m==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&E.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),j&&E.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[E.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",j.phone]}),E.jsx("div",{className:"space-y-3",children:j.discount_5th_visit_available?E.jsx("button",{onClick:Ie,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):E.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),s&&E.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[E.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:E.jsx(no,{size:32})}),E.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),E.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},ND=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=N.useState(!1),[s,c]=N.useState(""),[f,p]=N.useState(!0),[m,v]=N.useState(""),w=async()=>{if(!s.trim()){v("Debes ingresar qu servicio o producto se realiz.");return}i(!0),v("");try{const{data:C,error:O}=await ct.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:s,count_as_loyalty:f});if(O)throw O;if(!C.success)throw new Error(C.message);r(),t()}catch(C){v(C.message||"Error al validar visita")}finally{i(!1)}},_=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:C}=await ct.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(C)throw C;r(),t()}catch(C){alert(C.message)}finally{i(!1)}}};return E.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[E.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[E.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),E.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:E.jsx(no,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[E.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),E.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),E.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),m&&E.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[E.jsx(wO,{className:"w-4 h-4"}),m]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),E.jsx("textarea",{value:s,onChange:C=>c(C.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:C=>p(C.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),E.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),E.jsxs("div",{className:"mt-8 flex gap-3",children:[E.jsx("button",{onClick:_,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),E.jsx("button",{onClick:w,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?E.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):E.jsxs(E.Fragment,{children:[E.jsx(qu,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function nN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nN(e))&&(n&&(n+=" "),n+=t);return n}var TD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mx(e){if(typeof e!="string")return!1;var t=TD;return t.includes(e)}var PD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kD=new Set(PD);function iN(e){return typeof e!="string"?!1:kD.has(e)}function aN(e){return typeof e=="string"&&e.startsWith("data-")}function Ii(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(iN(r)||aN(r))&&(t[r]=e[r]);return t}function vc(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ii(t)}return typeof e=="object"&&!Array.isArray(e)?Ii(e):null}function Ni(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(iN(r)||aN(r)||mx(r))&&(t[r]=e[r]);return t}var RD=["children","width","height","viewBox","className","style","title","desc"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function jD(e,t){if(e==null)return{};var r,n,i=MD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gx=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:f,title:p,desc:m}=e,v=jD(e,RD),w=s||{width:n,height:i,x:0,y:0},_=Dt("recharts-surface",c);return N.createElement("svg",Uv({},Ni(v),{className:_,width:n,height:i,style:f,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:t}),N.createElement("title",null,p),N.createElement("desc",null,m),r)}),DD=["children","className"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function LD(e,t){if(e==null)return{};var r,n,i=BD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Br=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=LD(e,DD),s=Dt("recharts-layer",n);return N.createElement("g",zv({className:s},Ni(i),{ref:t}),r)}),sN=N.createContext(null),FD=()=>N.useContext(sN);function nr(e){return function(){return e}}const oN=Math.cos,Qh=Math.sin,wa=Math.sqrt,Jh=Math.PI,rp=2*Jh,$v=Math.PI,Wv=2*$v,Vo=1e-6,UD=Wv-Vo;function lN(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lN;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $D{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lN:zD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,f=this._y1,p=n-t,m=i-r,v=c-t,w=f-r,_=v*v+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(_>Vo)if(!(Math.abs(w*p-m*v)>Vo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let C=n-c,O=i-f,I=p*p+m*m,k=C*C+O*O,M=Math.sqrt(I),L=Math.sqrt(_),j=s*Math.tan(($v-Math.acos((I+_-k)/(2*M*L)))/2),z=j/L,W=j/M;Math.abs(z-1)>Vo&&this._append`L${t+z*v},${r+z*w}`,this._append`A${s},${s},0,0,${+(w*C>v*O)},${this._x1=t+W*p},${this._y1=r+W*m}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),p=n*Math.sin(i),m=t+f,v=r+p,w=1^c,_=c?i-s:s-i;this._x1===null?this._append`M${m},${v}`:(Math.abs(this._x1-m)>Vo||Math.abs(this._y1-v)>Vo)&&this._append`L${m},${v}`,n&&(_<0&&(_=_%Wv+Wv),_>UD?this._append`A${n},${n},0,1,${w},${t-f},${r-p}A${n},${n},0,1,${w},${this._x1=m},${this._y1=v}`:_>Vo&&this._append`A${n},${n},0,${+(_>=$v)},${w},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function vx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $D(t)}function yx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cN(e){this._context=e}cN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function np(e){return new cN(e)}function uN(e){return e[0]}function dN(e){return e[1]}function fN(e,t){var r=nr(!0),n=null,i=np,s=null,c=vx(f);e=typeof e=="function"?e:e===void 0?uN:nr(e),t=typeof t=="function"?t:t===void 0?dN:nr(t);function f(p){var m,v=(p=yx(p)).length,w,_=!1,C;for(n==null&&(s=i(C=c())),m=0;m<=v;++m)!(m<v&&r(w=p[m],m,p))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(w,m,p),+t(w,m,p));if(C)return s=null,C+""||null}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:nr(+p),f):e},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:nr(+p),f):t},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:nr(!!p),f):r},f.curve=function(p){return arguments.length?(i=p,n!=null&&(s=i(n)),f):i},f.context=function(p){return arguments.length?(p==null?n=s=null:s=i(n=p),f):n},f}function ch(e,t,r){var n=null,i=nr(!0),s=null,c=np,f=null,p=vx(m);e=typeof e=="function"?e:e===void 0?uN:nr(+e),t=typeof t=="function"?t:nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dN:nr(+r);function m(w){var _,C,O,I=(w=yx(w)).length,k,M=!1,L,j=new Array(I),z=new Array(I);for(s==null&&(f=c(L=p())),_=0;_<=I;++_){if(!(_<I&&i(k=w[_],_,w))===M)if(M=!M)C=_,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),O=_-1;O>=C;--O)f.point(j[O],z[O]);f.lineEnd(),f.areaEnd()}M&&(j[_]=+e(k,_,w),z[_]=+t(k,_,w),f.point(n?+n(k,_,w):j[_],r?+r(k,_,w):z[_]))}if(L)return f=null,L+""||null}function v(){return fN().defined(i).curve(c).context(s)}return m.x=function(w){return arguments.length?(e=typeof w=="function"?w:nr(+w),n=null,m):e},m.x0=function(w){return arguments.length?(e=typeof w=="function"?w:nr(+w),m):e},m.x1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:nr(+w),m):n},m.y=function(w){return arguments.length?(t=typeof w=="function"?w:nr(+w),r=null,m):t},m.y0=function(w){return arguments.length?(t=typeof w=="function"?w:nr(+w),m):t},m.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:nr(+w),m):r},m.lineX0=m.lineY0=function(){return v().x(e).y(t)},m.lineY1=function(){return v().x(e).y(r)},m.lineX1=function(){return v().x(n).y(t)},m.defined=function(w){return arguments.length?(i=typeof w=="function"?w:nr(!!w),m):i},m.curve=function(w){return arguments.length?(c=w,s!=null&&(f=c(s)),m):c},m.context=function(w){return arguments.length?(w==null?s=f=null:f=c(s=w),m):s},m}class hN{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WD(e){return new hN(e,!0)}function VD(e){return new hN(e,!1)}const xx={draw(e,t){const r=wa(t/Jh);e.moveTo(r,0),e.arc(0,0,r,0,rp)}},HD={draw(e,t){const r=wa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pN=wa(1/3),GD=pN*2,qD={draw(e,t){const r=wa(t/GD),n=r*pN;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},KD={draw(e,t){const r=wa(t),n=-r/2;e.rect(n,n,r,r)}},XD=.8908130915292852,mN=Qh(Jh/10)/Qh(7*Jh/10),YD=Qh(rp/10)*mN,ZD=-oN(rp/10)*mN,QD={draw(e,t){const r=wa(t*XD),n=YD*r,i=ZD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=rp*s/5,f=oN(c),p=Qh(c);e.lineTo(p*r,-f*r),e.lineTo(f*n-p*i,p*n+f*i)}e.closePath()}},B1=wa(3),JD={draw(e,t){const r=-wa(t/(B1*3));e.moveTo(0,r*2),e.lineTo(-B1*r,-r),e.lineTo(B1*r,-r),e.closePath()}},Vi=-.5,Hi=wa(3)/2,Vv=1/wa(12),e9=(Vv/2+1)*3,t9={draw(e,t){const r=wa(t/e9),n=r/2,i=r*Vv,s=n,c=r*Vv+r,f=-s,p=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(f,p),e.lineTo(Vi*n-Hi*i,Hi*n+Vi*i),e.lineTo(Vi*s-Hi*c,Hi*s+Vi*c),e.lineTo(Vi*f-Hi*p,Hi*f+Vi*p),e.lineTo(Vi*n+Hi*i,Vi*i-Hi*n),e.lineTo(Vi*s+Hi*c,Vi*c-Hi*s),e.lineTo(Vi*f+Hi*p,Vi*p-Hi*f),e.closePath()}};function r9(e,t){let r=null,n=vx(i);e=typeof e=="function"?e:nr(e||xx),t=typeof t=="function"?t:nr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:nr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:nr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function e0(){}function t0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function gN(e){this._context=e}gN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n9(e){return new gN(e)}function vN(e){this._context=e}vN.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i9(e){return new vN(e)}function yN(e){this._context=e}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a9(e){return new yN(e)}function xN(e){this._context=e}xN.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s9(e){return new xN(e)}function oA(e){return e<0?-1:1}function lA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(s*i+c*n)/(n+i);return(oA(s)+oA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(f))||0}function cA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function F1(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,f=(s-n)/3;e._context.bezierCurveTo(n+f,i+f*t,s-f,c-f*r,s,c)}function r0(e){this._context=e}r0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,cA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,cA(this,r=lA(this,e,t)),r);break;default:F1(this,this._t0,r=lA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wN(e){this._context=new bN(e)}(wN.prototype=Object.create(r0.prototype)).point=function(e,t){r0.prototype.point.call(this,t,e)};function bN(e){this._context=e}bN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function o9(e){return new r0(e)}function l9(e){return new wN(e)}function EN(e){this._context=e}EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=uA(e),i=uA(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function c9(e){return new EN(e)}function ip(e,t){this._context=e,this._t=t}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function u9(e){return new ip(e,.5)}function d9(e){return new ip(e,0)}function f9(e){return new ip(e,1)}function il(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,f=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<f;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Hv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function h9(e,t){return e[t]}function p9(e){const t=[];return t.key=e,t}function m9(){var e=nr([]),t=Hv,r=il,n=h9;function i(s){var c=Array.from(e.apply(this,arguments),p9),f,p=c.length,m=-1,v;for(const w of s)for(f=0,++m;f<p;++f)(c[f][m]=[0,+n(w,c[f].key,m,s)]).data=w;for(f=0,v=yx(t(c));f<p;++f)c[v[f]].index=f;return r(c,v),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:nr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:nr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Hv:typeof s=="function"?s:nr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??il,i):r},i}function g9(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}il(e,t)}}function v9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}il(e,t)}}function y9(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var f=0,p=0,m=0;f<c;++f){for(var v=e[t[f]],w=v[n][1]||0,_=v[n-1][1]||0,C=(w-_)/2,O=0;O<f;++O){var I=e[t[O]],k=I[n][1]||0,M=I[n-1][1]||0;C+=k-M}p+=w,m+=C*w}i[n-1][1]+=i[n-1][0]=r,p&&(r-=m/p)}i[n-1][1]+=i[n-1][0]=r,il(e,t)}}var U1={},z1={},dA;function x9(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(z1)),z1}var $1={},fA;function AN(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})($1)),$1}var W1={},hA;function wx(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(W1)),W1}var V1={},H1={},pA;function w9(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(H1)),H1}var mA;function bx(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9(),r=wx();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let f=0,p="",m="",v=!1;for(i.charCodeAt(0)===46&&(s.push(""),f++);f<c;){const w=i[f];m?w==="\\"&&f+1<c?(f++,p+=i[f]):w===m?m="":p+=w:v?w==='"'||w==="'"?m=w:w==="]"?(v=!1,s.push(p),p=""):p+=w:w==="["?(v=!0,p&&(s.push(p),p="")):w==="."?p&&(s.push(p),p=""):p+=w,f++}return p&&s.push(p),s}e.toPath=n})(V1)),V1}var gA;function Ex(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x9(),r=AN(),n=wx(),i=bx();function s(f,p,m){if(f==null)return m;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?r.isDeepKey(p)?s(f,i.toPath(p),m):m:v}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const v=f[p];return v===void 0?m:v}default:{if(Array.isArray(p))return c(f,p,m);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?m:v}}}function c(f,p,m){if(p.length===0)return m;let v=f;for(let w=0;w<p.length;w++){if(v==null||t.isUnsafeProperty(p[w]))return m;v=v[p[w]]}return v===void 0?m:v}e.get=s})(U1)),U1}var G1,vA;function b9(){return vA||(vA=1,G1=Ex().get),G1}var E9=b9();const al=Qi(E9);var A9=4;function ro(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Tr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,c)=>{var f=r[c-1];return typeof f=="string"?i+f+s:f!==void 0?i+ro(f)+s:i+s},"")}var vn=e=>e===0?0:e>0?1:-1,Ti=e=>typeof e=="number"&&e!=+e,fs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!Ti(e),Xi=e=>Ze(e)||typeof e=="string",_9=0,td=e=>{var t=++_9;return"".concat(e||"").concat(t)},zn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var s;if(fs(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return Ti(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},_N=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Ar(e,t,r){return Ze(e)&&Ze(t)?ro(e+r*(t-e)):t}function SN(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):al(n,t))===r)}var S9=e=>{for(var t=e.length,r=0,n=0,i=0,s=0,c=1/0,f=-1/0,p=0,m=0,v=0;v<t;v++){var w,_;p=((w=e[v])===null||w===void 0?void 0:w.cx)||0,m=((_=e[v])===null||_===void 0?void 0:_.cy)||0,r+=p,n+=m,i+=p*m,s+=p*p,c=Math.min(c,p),f=Math.max(f,p)}var C=t*s!==r*r?(t*i-r*n)/(t*s-r*r):0;return{xmin:c,xmax:f,a:C,b:(n-C*r)/t}},ir=e=>e===null||typeof e>"u",bd=e=>ir(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function C9(e){return e!=null}function Ed(){}var O9=["type","size","sizeType"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=T9(e,"string");return typeof t=="symbol"?t:t+""}function T9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P9(e,t){if(e==null)return{};var r,n,i=k9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CN={symbolCircle:xx,symbolCross:HD,symbolDiamond:qD,symbolSquare:KD,symbolStar:QD,symbolTriangle:JD,symbolWye:t9},R9=Math.PI/180,j9=e=>{var t="symbol".concat(bd(e));return CN[t]||xx},M9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*R9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D9=(e,t)=>{CN["symbol".concat(bd(e))]=t},ap=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=P9(e,O9),s=xA(xA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var _=j9(c),C=r9().type(_).size(M9(r,n,c)),O=C();if(O!==null)return O},{className:p,cx:m,cy:v}=s,w=Ni(s);return Ze(m)&&Ze(v)&&Ze(r)?N.createElement("path",Gv({},w,{className:Dt("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};ap.registerSymbol=D9;var ON=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,L9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{mx(i)&&(n[i]=(s=>r[i](r,s)))}),n},B9=(e,t,r)=>n=>(e(t,r,n),null),Tc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];mx(i)&&typeof s=="function"&&(n||(n={}),n[i]=B9(s,t,r))}),n},F9=e=>Array.isArray(e)&&e.length>0;function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t){var r=U9({},e),n=t,i=Object.keys(t),s=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return s}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qi=32,K9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function X9(e){var{data:t,iconType:r,inactiveColor:n}=e,i=qi/2,s=qi/6,c=qi/3,f=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var m;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:qi,y2:i,className:"recharts-legend-icon"})}if(p==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(qi,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return N.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(qi/8,"h").concat(qi,"v").concat(qi*3/4,"h").concat(-qi,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var v=V9({},t);return delete v.legendIcon,N.cloneElement(t.legendIcon,v)}return N.createElement(ap,{fill:f,cx:i,cy:i,size:qi,sizeType:"diameter",type:p})}function Y9(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:c}=e,f={x:0,y:0,width:qi,height:qi},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,w)=>{var _=v.formatter||i,C=Dt({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var O=v.inactive?s:v.color,I=_?_(v.value,v,w):v.value;return N.createElement("li",n0({className:C,style:p,key:"legend-item-".concat(w)},Tc(e,v,w)),N.createElement(gx,{width:r,height:r,viewBox:f,style:m,"aria-label":"".concat(I," legend icon")},N.createElement(X9,{data:v,iconType:c,inactiveColor:s})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},I))})}var Z9=e=>{var t=Fr(e,K9),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},N.createElement(Y9,n0({},t,{payload:r})))},q1={},K1={},EA;function Q9(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(K1)),K1}var X1={},AA;function IN(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(X1)),X1}var Y1={},Z1={},Q1={},_A;function J9(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Q1)),Q1}var SA;function Ax(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Z1)),Z1}var J1={},CA;function e7(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(J1)),J1}var OA;function t7(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ax(),r=e7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Y1)),Y1}var eg={},tg={},IA;function r7(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ex();function r(n){return function(i){return t.get(i,n)}}e.property=r})(tg)),tg}var rg={},ng={},ig={},ag={},NA;function NN(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(ag)),ag}var sg={},TA;function TN(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(sg)),sg}var og={},PA;function PN(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(og)),og}var kA;function n7(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN(),r=TN(),n=PN();function i(v,w,_){return typeof _!="function"?i(v,w,()=>{}):s(v,w,function C(O,I,k,M,L,j){const z=_(O,I,k,M,L,j);return z!==void 0?!!z:s(O,I,C,j)},new Map)}function s(v,w,_,C){if(w===v)return!0;switch(typeof w){case"object":return c(v,w,_,C);case"function":return Object.keys(w).length>0?s(v,{...w},_,C):n.eq(v,w);default:return t.isObject(v)?typeof w=="string"?w==="":!0:n.eq(v,w)}}function c(v,w,_,C){if(w==null)return!0;if(Array.isArray(w))return p(v,w,_,C);if(w instanceof Map)return f(v,w,_,C);if(w instanceof Set)return m(v,w,_,C);const O=Object.keys(w);if(v==null||r.isPrimitive(v))return O.length===0;if(O.length===0)return!0;if(C?.has(w))return C.get(w)===v;C?.set(w,v);try{for(let I=0;I<O.length;I++){const k=O[I];if(!r.isPrimitive(v)&&!(k in v)||w[k]===void 0&&v[k]!==void 0||w[k]===null&&v[k]!==null||!_(v[k],w[k],k,v,w,C))return!1}return!0}finally{C?.delete(w)}}function f(v,w,_,C){if(w.size===0)return!0;if(!(v instanceof Map))return!1;for(const[O,I]of w.entries()){const k=v.get(O);if(_(k,I,O,v,w,C)===!1)return!1}return!0}function p(v,w,_,C){if(w.length===0)return!0;if(!Array.isArray(v))return!1;const O=new Set;for(let I=0;I<w.length;I++){const k=w[I];let M=!1;for(let L=0;L<v.length;L++){if(O.has(L))continue;const j=v[L];let z=!1;if(_(j,k,I,v,w,C)&&(z=!0),z){O.add(L),M=!0;break}}if(!M)return!1}return!0}function m(v,w,_,C){return w.size===0?!0:v instanceof Set?p([...v],[...w],_,C):!1}e.isMatchWith=i,e.isSetMatch=m})(ig)),ig}var RA;function kN(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(ng)),ng}var lg={},cg={},ug={},jA;function i7(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(ug)),ug}var dg={},MA;function RN(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(dg)),dg}var fg={},DA;function jN(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",f="[object Date]",p="[object Map]",m="[object Set]",v="[object Array]",w="[object Function]",_="[object ArrayBuffer]",C="[object Object]",O="[object Error]",I="[object DataView]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",z="[object BigUint64Array]",W="[object Int8Array]",V="[object Int16Array]",H="[object Int32Array]",ie="[object BigInt64Array]",X="[object Float32Array]",_e="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=_,e.arrayTag=v,e.bigInt64ArrayTag=ie,e.bigUint64ArrayTag=z,e.booleanTag=i,e.dataViewTag=I,e.dateTag=f,e.errorTag=O,e.float32ArrayTag=X,e.float64ArrayTag=_e,e.functionTag=w,e.int16ArrayTag=V,e.int32ArrayTag=H,e.int8ArrayTag=W,e.mapTag=p,e.numberTag=n,e.objectTag=C,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=L,e.uint32ArrayTag=j,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=M})(fg)),fg}var hg={},LA;function a7(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(hg)),hg}var BA;function MN(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i7(),r=RN(),n=jN(),i=TN(),s=a7();function c(v,w){return f(v,void 0,v,new Map,w)}function f(v,w,_,C=new Map,O=void 0){const I=O?.(v,w,_,C);if(I!==void 0)return I;if(i.isPrimitive(v))return v;if(C.has(v))return C.get(v);if(Array.isArray(v)){const k=new Array(v.length);C.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,_,C,O);return Object.hasOwn(v,"index")&&(k.index=v.index),Object.hasOwn(v,"input")&&(k.input=v.input),k}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const k=new RegExp(v.source,v.flags);return k.lastIndex=v.lastIndex,k}if(v instanceof Map){const k=new Map;C.set(v,k);for(const[M,L]of v)k.set(M,f(L,M,_,C,O));return k}if(v instanceof Set){const k=new Set;C.set(v,k);for(const M of v)k.add(f(M,void 0,_,C,O));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(s.isTypedArray(v)){const k=new(Object.getPrototypeOf(v)).constructor(v.length);C.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,_,C,O);return k}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const k=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return C.set(v,k),p(k,v,_,C,O),k}if(typeof File<"u"&&v instanceof File){const k=new File([v],v.name,{type:v.type});return C.set(v,k),p(k,v,_,C,O),k}if(typeof Blob<"u"&&v instanceof Blob){const k=new Blob([v],{type:v.type});return C.set(v,k),p(k,v,_,C,O),k}if(v instanceof Error){const k=new v.constructor;return C.set(v,k),k.message=v.message,k.name=v.name,k.stack=v.stack,k.cause=v.cause,p(k,v,_,C,O),k}if(v instanceof Boolean){const k=new Boolean(v.valueOf());return C.set(v,k),p(k,v,_,C,O),k}if(v instanceof Number){const k=new Number(v.valueOf());return C.set(v,k),p(k,v,_,C,O),k}if(v instanceof String){const k=new String(v.valueOf());return C.set(v,k),p(k,v,_,C,O),k}if(typeof v=="object"&&m(v)){const k=Object.create(Object.getPrototypeOf(v));return C.set(v,k),p(k,v,_,C,O),k}return v}function p(v,w,_=v,C,O){const I=[...Object.keys(w),...t.getSymbols(w)];for(let k=0;k<I.length;k++){const M=I[k],L=Object.getOwnPropertyDescriptor(v,M);(L==null||L.writable)&&(v[M]=f(w[M],M,_,C,O))}}function m(v){switch(r.getTag(v)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=p})(cg)),cg}var FA;function s7(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MN();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(lg)),lg}var UA;function o7(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN(),r=s7();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(rg)),rg}var pg={},mg={},gg={},zA;function l7(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MN(),r=jN();function n(i,s){return t.cloneDeepWith(i,(c,f,p,m)=>{const v=s?.(c,f,p,m);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new i.constructor(i?.valueOf());return t.copyProperties(w,i),w}case r.argumentsTag:{const w={};return t.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}e.cloneDeepWith=n})(gg)),gg}var $A;function c7(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(mg)),mg}var vg={},yg={},WA;function DN(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(yg)),yg}var xg={},VA;function u7(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(xg)),xg}var HA;function d7(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AN(),r=DN(),n=u7(),i=bx();function s(c,f){let p;if(Array.isArray(f)?p=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?p=i.toPath(f):p=[f],p.length===0)return!1;let m=c;for(let v=0;v<p.length;v++){const w=p[v];if((m==null||!Object.hasOwn(m,w))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(w)&&w<m.length))return!1;m=m[w]}return!0}e.has=s})(vg)),vg}var GA;function f7(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN(),r=wx(),n=c7(),i=Ex(),s=d7();function c(f,p){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return p=n.cloneDeep(p),function(m){const v=i.get(m,f);return v===void 0?s.has(m,f):p===void 0?v===void 0:t.isMatch(v,p)}}e.matchesProperty=c})(pg)),pg}var qA;function h7(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IN(),r=r7(),n=o7(),i=f7();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(eg)),eg}var KA;function p7(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q9(),r=IN(),n=t7(),i=h7();function s(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=s})(q1)),q1}var wg,XA;function m7(){return XA||(XA=1,wg=p7().uniqBy),wg}var g7=m7();const YA=Qi(g7);function LN(e,t,r){return t===!0?YA(e,r):typeof t=="function"?YA(e,t):e}var bg={exports:{}},Eg={},Ag={exports:{}},_g={};var ZA;function v7(){if(ZA)return _g;ZA=1;var e=Sc();function t(w,_){return w===_&&(w!==0||1/w===1/_)||w!==w&&_!==_}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(w,_){var C=_(),O=n({inst:{value:C,getSnapshot:_}}),I=O[0].inst,k=O[1];return s(function(){I.value=C,I.getSnapshot=_,p(I)&&k({inst:I})},[w,C,_]),i(function(){return p(I)&&k({inst:I}),w(function(){p(I)&&k({inst:I})})},[w]),c(C),C}function p(w){var _=w.getSnapshot;w=w.value;try{var C=_();return!r(w,C)}catch{return!0}}function m(w,_){return _()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return _g.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,_g}var QA;function y7(){return QA||(QA=1,Ag.exports=v7()),Ag.exports}var JA;function x7(){if(JA)return Eg;JA=1;var e=Sc(),t=y7();function r(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Eg.useSyncExternalStoreWithSelector=function(m,v,w,_,C){var O=s(null);if(O.current===null){var I={hasValue:!1,value:null};O.current=I}else I=O.current;O=f(function(){function M(V){if(!L){if(L=!0,j=V,V=_(V),C!==void 0&&I.hasValue){var H=I.value;if(C(H,V))return z=H}return z=V}if(H=z,n(j,V))return H;var ie=_(V);return C!==void 0&&C(H,ie)?(j=V,H):(j=V,z=ie)}var L=!1,j,z,W=w===void 0?null:w;return[function(){return M(v())},W===null?void 0:function(){return M(W())}]},[v,w,_,C]);var k=i(m,O[0],O[1]);return c(function(){I.hasValue=!0,I.value=k},[k]),p(k),k},Eg}var e_;function w7(){return e_||(e_=1,bg.exports=x7()),bg.exports}var b7=w7(),_x=N.createContext(null),E7=e=>e,Xt=()=>{var e=N.useContext(_x);return e?e.store.dispatch:E7},Rh=()=>{},A7=()=>Rh,_7=(e,t)=>e===t;function Ve(e){var t=N.useContext(_x);return b7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:A7,t?t.store.getState:Rh,t?t.store.getState:Rh,t?e:Rh,_7)}function S7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function C7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var t_=e=>Array.isArray(e)?e:[e];function I7(e){const t=Array.isArray(e[0])?e[0]:e;return O7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function N7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var T7=class{constructor(e){this.value=e}deref(){return this.value}},P7=typeof WeakRef<"u"?WeakRef:T7,k7=0,r_=1;function uh(){return{s:k7,v:void 0,o:null,p:null}}function BN(e,t={}){let r=uh();const{resultEqualityCheck:n}=t;let i,s=0;function c(){let f=r;const{length:p}=arguments;for(let w=0,_=p;w<_;w++){const C=arguments[w];if(typeof C=="function"||typeof C=="object"&&C!==null){let O=f.o;O===null&&(f.o=O=new WeakMap);const I=O.get(C);I===void 0?(f=uh(),O.set(C,f)):f=I}else{let O=f.p;O===null&&(f.p=O=new Map);const I=O.get(C);I===void 0?(f=uh(),O.set(C,f)):f=I}}const m=f;let v;if(f.s===r_)v=f.v;else if(v=e.apply(null,arguments),s++,n){const w=i?.deref?.()??i;w!=null&&n(w,v)&&(v=w,s!==0&&s--),i=typeof v=="object"&&v!==null||typeof v=="function"?new P7(v):v}return m.s=r_,m.v=v,v}return c.clearCache=()=>{r=uh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function R7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,f,p={},m=i.pop();typeof m=="object"&&(p=m,m=i.pop()),S7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const v={...r,...p},{memoize:w,memoizeOptions:_=[],argsMemoize:C=BN,argsMemoizeOptions:O=[]}=v,I=t_(_),k=t_(O),M=I7(i),L=w(function(){return s++,m.apply(null,arguments)},...I),j=C(function(){c++;const W=N7(M,arguments);return f=L.apply(null,W),f},...k);return Object.assign(j,{resultFunc:m,memoizedResultFunc:L,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:w,argsMemoize:C})};return Object.assign(n,{withTypes:()=>n}),n}var ue=R7(BN),j7=Object.assign((e,t=ue)=>{C7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,f,p)=>(c[r[p]]=f,c),{}))},{withTypes:()=>j7}),Sg={},Cg={},Og={},n_;function M7(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?f-c:c-f}return 0};e.compareValues=r})(Og)),Og}var Ig={},Ng={},i_;function FN(){return i_||(i_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ng)),Ng}var a_;function D7(){return a_||(a_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(Ig)),Ig}var s_;function L7(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M7(),r=D7(),n=bx();function i(s,c,f,p){if(s==null)return[];f=p?void 0:f,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(C=>String(C));const m=(C,O)=>{let I=C;for(let k=0;k<O.length&&I!=null;++k)I=I[O[k]];return I},v=(C,O)=>O==null||C==null?O:typeof C=="object"&&"key"in C?Object.hasOwn(O,C.key)?O[C.key]:m(O,C.path):typeof C=="function"?C(O):Array.isArray(C)?m(O,C):typeof O=="object"?O[C]:O,w=c.map(C=>(Array.isArray(C)&&C.length===1&&(C=C[0]),C==null||typeof C=="function"||Array.isArray(C)||r.isKey(C)?C:{key:C,path:n.toPath(C)}));return s.map(C=>({original:C,criteria:w.map(O=>v(O,C))})).slice().sort((C,O)=>{for(let I=0;I<w.length;I++){const k=t.compareValues(C.criteria[I],O.criteria[I],f[I]);if(k!==0)return k}return 0}).map(C=>C.original)}e.orderBy=i})(Cg)),Cg}var Tg={},o_;function B7(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(f,p)=>{for(let m=0;m<f.length;m++){const v=f[m];Array.isArray(v)&&p<s?c(v,p+1):i.push(v)}};return c(r,0),i}e.flatten=t})(Tg)),Tg}var Pg={},l_;function UN(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DN(),r=Ax(),n=NN(),i=PN();function s(c,f,p){return n.isObject(p)&&(typeof f=="number"&&r.isArrayLike(p)&&t.isIndex(f)&&f<p.length||typeof f=="string"&&f in p)?i.eq(p[f],c):!1}e.isIterateeCall=s})(Pg)),Pg}var c_;function F7(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7(),r=B7(),n=UN();function i(s,...c){const f=c.length;return f>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(Sg)),Sg}var kg,u_;function U7(){return u_||(u_=1,kg=F7().sortBy),kg}var z7=U7();const sp=Qi(z7);var zN=e=>e.legend.settings,$7=e=>e.legend.size,W7=e=>e.legend.payload,V7=ue([W7,zN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sp(n,r):n});function H7(){return Ve(V7)}var dh=1;function $N(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>dh||Math.abs(c.left-t.left)>dh||Math.abs(c.top-t.top)>dh||Math.abs(c.width-t.width)>dh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function On(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G7=typeof Symbol=="function"&&Symbol.observable||"@@observable",d_=G7,Rg=()=>Math.random().toString(36).substring(7).split("").join("."),q7={INIT:`@@redux/INIT${Rg()}`,REPLACE:`@@redux/REPLACE${Rg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rg()}`},i0=q7;function Sx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function WN(e,t,r){if(typeof e!="function")throw new Error(On(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(On(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(On(1));return r(WN)(e,t)}let n=e,i=t,s=new Map,c=s,f=0,p=!1;function m(){c===s&&(c=new Map,s.forEach((k,M)=>{c.set(M,k)}))}function v(){if(p)throw new Error(On(3));return i}function w(k){if(typeof k!="function")throw new Error(On(4));if(p)throw new Error(On(5));let M=!0;m();const L=f++;return c.set(L,k),function(){if(M){if(p)throw new Error(On(6));M=!1,m(),c.delete(L),s=null}}}function _(k){if(!Sx(k))throw new Error(On(7));if(typeof k.type>"u")throw new Error(On(8));if(typeof k.type!="string")throw new Error(On(17));if(p)throw new Error(On(9));try{p=!0,i=n(i,k)}finally{p=!1}return(s=c).forEach(L=>{L()}),k}function C(k){if(typeof k!="function")throw new Error(On(10));n=k,_({type:i0.REPLACE})}function O(){const k=w;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(On(11));function L(){const z=M;z.next&&z.next(v())}return L(),{unsubscribe:k(L)}},[d_](){return this}}}return _({type:i0.INIT}),{dispatch:_,subscribe:w,getState:v,replaceReducer:C,[d_]:O}}function K7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:i0.INIT})>"u")throw new Error(On(12));if(typeof r(void 0,{type:i0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(On(13))})}function VN(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{K7(r)}catch(s){i=s}return function(c={},f){if(i)throw i;let p=!1;const m={};for(let v=0;v<n.length;v++){const w=n[v],_=r[w],C=c[w],O=_(C,f);if(typeof O>"u")throw f&&f.type,new Error(On(14));m[w]=O,p=p||O!==C}return p=p||n.length!==Object.keys(c).length,p?m:c}}function a0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function X7(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(On(15))};const c={getState:i.getState,dispatch:(p,...m)=>s(p,...m)},f=e.map(p=>p(c));return s=a0(...f)(i.dispatch),{...i,dispatch:s}}}function HN(e){return Sx(e)&&"type"in e&&typeof e.type=="string"}var GN=Symbol.for("immer-nothing"),f_=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function pa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Si=Object,yc=Si.getPrototypeOf,s0="constructor",op="prototype",qv="configurable",o0="enumerable",jh="writable",rd="value",hs=e=>!!e&&!!e[Kn];function ya(e){return e?qN(e)||cp(e)||!!e[f_]||!!e[s0]?.[f_]||up(e)||dp(e):!1}var Y7=Si[op][s0].toString(),h_=new WeakMap;function qN(e){if(!e||!Cx(e))return!1;const t=yc(e);if(t===null||t===Si[op])return!0;const r=Si.hasOwnProperty.call(t,s0)&&t[s0];if(r===Object)return!0;if(!nc(r))return!1;let n=h_.get(r);return n===void 0&&(n=Function.toString.call(r),h_.set(r,n)),n===Y7}function lp(e,t,r=!0){Ad(e)===0?(r?Reflect.ownKeys(e):Si.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ad(e){const t=e[Kn];return t?t.type_:cp(e)?1:up(e)?2:dp(e)?3:0}var p_=(e,t,r=Ad(e))=>r===2?e.has(t):Si[op].hasOwnProperty.call(e,t),Kv=(e,t,r=Ad(e))=>r===2?e.get(t):e[t],l0=(e,t,r,n=Ad(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Z7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cp=Array.isArray,up=e=>e instanceof Map,dp=e=>e instanceof Set,Cx=e=>typeof e=="object",nc=e=>typeof e=="function",jg=e=>typeof e=="boolean";function Q7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ns=e=>e.copy_||e.base_,Ox=e=>e.modified_?e.copy_:e.base_;function Xv(e,t){if(up(e))return new Map(e);if(dp(e))return new Set(e);if(cp(e))return Array[op].slice.call(e);const r=qN(e);if(t===!0||t==="class_only"&&!r){const n=Si.getOwnPropertyDescriptors(e);delete n[Kn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f[jh]===!1&&(f[jh]=!0,f[qv]=!0),(f.get||f.set)&&(n[c]={[qv]:!0,[jh]:!0,[o0]:f[o0],[rd]:e[c]})}return Si.create(yc(e),n)}else{const n=yc(e);if(n!==null&&r)return{...e};const i=Si.create(n);return Si.assign(i,e)}}function Ix(e,t=!1){return fp(e)||hs(e)||!ya(e)||(Ad(e)>1&&Si.defineProperties(e,{set:fh,add:fh,clear:fh,delete:fh}),Si.freeze(e),t&&lp(e,(r,n)=>{Ix(n,!0)},!1)),e}function J7(){pa(2)}var fh={[rd]:J7};function fp(e){return e===null||!Cx(e)?!0:Si.isFrozen(e)}var c0="MapSet",Yv="Patches",m_="ArrayMethods",KN={};function sl(e){const t=KN[e];return t||pa(0,e),t}var g_=e=>!!KN[e],nd,XN=()=>nd,eL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:g_(c0)?sl(c0):void 0,arrayMethodsPlugin_:g_(m_)?sl(m_):void 0});function v_(e,t){t&&(e.patchPlugin_=sl(Yv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zv(e){Qv(e),e.drafts_.forEach(tL),e.drafts_=null}function Qv(e){e===nd&&(nd=e.parent_)}var y_=e=>nd=eL(nd,e);function tL(e){const t=e[Kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function x_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Kn].modified_&&(Zv(t),pa(4)),ya(e)&&(e=w_(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Kn].base_,e,t)}else e=w_(t,r);return rL(t,e,!0),Zv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==GN?e:void 0}function w_(e,t){if(fp(t))return t;const r=t[Kn];if(!r)return u0(t,e.handledSet_,e);if(!hp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);QN(r,e)}return r.copy_}function rL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ix(t,r)}function YN(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hp=(e,t)=>e.scope_===t,nL=[];function ZN(e,t,r,n){const i=ns(e),s=e.type_;if(n!==void 0&&Kv(i,n,s)===t){l0(i,n,r,s);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;lp(i,(p,m)=>{if(hs(m)){const v=f.get(m)||[];v.push(p),f.set(m,v)}})}const c=e.draftLocations_.get(t)??nL;for(const f of c)l0(i,f,r,s)}function iL(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!hp(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Ox(s);ZN(e,s.draft_??s,c,r),QN(s,i)})}function QN(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}YN(e)}}function aL(e,t,r){const{scope_:n}=e;if(hs(r)){const i=r[Kn];hp(i,n)&&i.callbacks_.push(function(){Mh(e);const c=Ox(i);ZN(e,r,c,t)})}else ya(r)&&e.callbacks_.push(function(){const s=ns(e);e.type_===3?s.has(r)&&u0(r,n.handledSet_,n):Kv(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&u0(Kv(e.copy_,t,e.type_),n.handledSet_,n)})}function u0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||hs(e)||t.has(e)||!ya(e)||fp(e)||(t.add(e),lp(e,(n,i)=>{if(hs(i)){const s=i[Kn];if(hp(s,r)){const c=Ox(s);l0(e,n,c,e.type_),YN(s)}}else ya(i)&&u0(i,t,r)})),e}function sL(e,t){const r=cp(e),n={type_:r?1:0,scope_:t?t.scope_:XN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=d0;r&&(i=[n],s=id);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,[f,n]}var d0={get(e,t){if(t===Kn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=ns(e);if(!p_(i,t,e.type_))return oL(e,i,t);const s=i[t];if(e.finalized_||!ya(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Q7(t))return s;if(s===Mg(e.base_,t)){Mh(e);const c=e.type_===1?+t:t,f=ey(e.scope_,s,e,c);return e.copy_[c]=f}return s},has(e,t){return t in ns(e)},ownKeys(e){return Reflect.ownKeys(ns(e))},set(e,t,r){const n=JN(ns(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Mg(ns(e),t),s=i?.[Kn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Z7(r,i)&&(r!==void 0||p_(e.base_,t,e.type_)))return!0;Mh(e),Jv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),aL(e,t,r)),!0},deleteProperty(e,t){return Mh(e),Mg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Jv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ns(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[jh]:!0,[qv]:e.type_!==1||t!=="length",[o0]:n[o0],[rd]:r[t]}},defineProperty(){pa(11)},getPrototypeOf(e){return yc(e.base_)},setPrototypeOf(){pa(12)}},id={};for(let e in d0){let t=d0[e];id[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}id.deleteProperty=function(e,t){return id.set.call(this,e,t,void 0)};id.set=function(e,t,r){return d0.set.call(this,e[0],t,r,e[0])};function Mg(e,t){const r=e[Kn];return(r?ns(r):e)[t]}function oL(e,t,r){const n=JN(t,r);return n?rd in n?n[rd]:n.get?.call(e.draft_):void 0}function JN(e,t){if(!(t in e))return;let r=yc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yc(r)}}function Jv(e){e.modified_||(e.modified_=!0,e.parent_&&Jv(e.parent_))}function Mh(e){e.copy_||(e.assigned_=new Map,e.copy_=Xv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(nc(r)&&!nc(n)){const c=n;n=r;const f=this;return function(m=c,...v){return f.produce(m,w=>n.call(this,w,...v))}}nc(n)||pa(6),i!==void 0&&!nc(i)&&pa(7);let s;if(ya(r)){const c=y_(this),f=ey(c,r,void 0);let p=!0;try{s=n(f),p=!1}finally{p?Zv(c):Qv(c)}return v_(c,i),x_(s,c)}else if(!r||!Cx(r)){if(s=n(r),s===void 0&&(s=r),s===GN&&(s=void 0),this.autoFreeze_&&Ix(s,!0),i){const c=[],f=[];sl(Yv).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:f}),i(c,f)}return s}else pa(1,r)},this.produceWithPatches=(r,n)=>{if(nc(r))return(f,...p)=>this.produceWithPatches(f,m=>r(m,...p));let i,s;return[this.produce(r,n,(f,p)=>{i=f,s=p}),i,s]},jg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),jg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),jg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ya(t)||pa(8),hs(t)&&(t=va(t));const r=y_(this),n=ey(r,t,void 0);return n[Kn].isManual_=!0,Qv(r),n}finishDraft(t,r){const n=t&&t[Kn];(!n||!n.isManual_)&&pa(9);const{scope_:i}=n;return v_(i,r),x_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=sl(Yv).applyPatches_;return hs(t)?i(t,r):this.produce(t,s=>i(s,r))}};function ey(e,t,r,n){const[i,s]=up(t)?sl(c0).proxyMap_(t,r):dp(t)?sl(c0).proxySet_(t,r):sL(t,r);return(r?.scope_??XN()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?iL(r,s,n):s.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=p;s.modified_&&m&&m.generatePatches_(s,[],p)}),i}function va(e){return hs(e)||pa(10,e),eT(e)}function eT(e){if(!ya(e)||fp(e))return e;const t=e[Kn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xv(e,!0);return lp(r,(i,s)=>{l0(r,i,eT(s))},n),t&&(t.finalized_=!1),r}var cL=new lL,tT=cL.produce;function rT(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var uL=rT(),dL=rT,fL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?a0:a0.apply(null,arguments)};function Yi(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ci(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>HN(n)&&n.type===e,r}var nT=class Vu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vu.prototype)}static get[Symbol.species](){return Vu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vu(...t[0].concat(this)):new Vu(...t.concat(this))}};function b_(e){return ya(e)?tT(e,()=>{}):e}function hh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function hL(e){return typeof e=="boolean"}var pL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new nT;return r&&(hL(r)?c.push(uL):c.push(dL(r.extraArgument))),c},iT="RTK_autoBatch",mr=()=>e=>({payload:e,meta:{[iT]:!0}}),E_=e=>t=>{setTimeout(t,e)},aT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const f=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:E_(10):e.type==="callback"?e.queueNotification:E_(e.timeout),m=()=>{c=!1,s&&(s=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const w=()=>i&&v(),_=n.subscribe(w);return f.add(v),()=>{_(),f.delete(v)}},dispatch(v){try{return i=!v?.meta?.[iT],s=!i,s&&(c||(c=!0,p(m))),n.dispatch(v)}finally{i=!0}}})},mL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new nT(e);return n&&i.push(aT(typeof n=="object"?n:void 0)),i};function gL(e){const t=pL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Sx(r))f=VN(r);else throw new Error(Ci(1));let p;typeof n=="function"?p=n(t):p=t();let m=a0;i&&(m=fL({trace:!1,...typeof i=="object"&&i}));const v=X7(...p),w=mL(v);let _=typeof c=="function"?c(w):w();const C=m(..._);return WN(f,s,C)}function sT(e){const t={},r=[];let n;const i={addCase(s,c){const f=typeof s=="string"?s:s.type;if(!f)throw new Error(Ci(28));if(f in t)throw new Error(Ci(29));return t[f]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function vL(e){return typeof e=="function"}function yL(e,t){let[r,n,i]=sT(t),s;if(vL(e))s=()=>b_(e());else{const f=b_(e);s=()=>f}function c(f=s(),p){let m=[r[p.type],...n.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[i]),m.reduce((v,w)=>{if(w)if(hs(v)){const C=w(v,p);return C===void 0?v:C}else{if(ya(v))return tT(v,_=>w(_,p));{const _=w(v,p);if(_===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return v},f)}return c.getInitialState=s,c}var xL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wL=(e=21)=>{let t="",r=e;for(;r--;)t+=xL[Math.random()*64|0];return t},bL=Symbol.for("rtk-slice-createasyncthunk");function EL(e,t){return`${e}/${t}`}function AL({creators:e}={}){const t=e?.asyncThunk?.[bL];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Ci(11));const c=(typeof n.reducers=="function"?n.reducers(SL()):n.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(j,z){const W=typeof j=="string"?j:j.type;if(!W)throw new Error(Ci(12));if(W in p.sliceCaseReducersByType)throw new Error(Ci(13));return p.sliceCaseReducersByType[W]=z,m},addMatcher(j,z){return p.sliceMatchers.push({matcher:j,reducer:z}),m},exposeAction(j,z){return p.actionCreators[j]=z,m},exposeCaseReducer(j,z){return p.sliceCaseReducersByName[j]=z,m}};f.forEach(j=>{const z=c[j],W={reducerName:j,type:EL(i,j),createNotation:typeof n.reducers=="function"};OL(z)?NL(W,z,m,t):CL(W,z,m)});function v(){const[j={},z=[],W=void 0]=typeof n.extraReducers=="function"?sT(n.extraReducers):[n.extraReducers],V={...j,...p.sliceCaseReducersByType};return yL(n.initialState,H=>{for(let ie in V)H.addCase(ie,V[ie]);for(let ie of p.sliceMatchers)H.addMatcher(ie.matcher,ie.reducer);for(let ie of z)H.addMatcher(ie.matcher,ie.reducer);W&&H.addDefaultCase(W)})}const w=j=>j,_=new Map,C=new WeakMap;let O;function I(j,z){return O||(O=v()),O(j,z)}function k(){return O||(O=v()),O.getInitialState()}function M(j,z=!1){function W(H){let ie=H[j];return typeof ie>"u"&&z&&(ie=hh(C,W,k)),ie}function V(H=w){const ie=hh(_,z,()=>new WeakMap);return hh(ie,H,()=>{const X={};for(const[_e,me]of Object.entries(n.selectors??{}))X[_e]=_L(me,H,()=>hh(C,H,k),z);return X})}return{reducerPath:j,getSelectors:V,get selectors(){return V(W)},selectSlice:W}}const L={name:i,reducer:I,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:k,...M(s),injectInto(j,{reducerPath:z,...W}={}){const V=z??s;return j.inject({reducerPath:V,reducer:I},W),{...L,...M(V,!0)}}};return L}}function _L(e,t,r,n){function i(s,...c){let f=t(s);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var li=AL();function SL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CL({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!IL(n))throw new Error(Ci(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Yi(e,c):Yi(e))}function OL(e){return e._reducerDefinitionType==="asyncThunk"}function IL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function NL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ci(18));const{payloadCreator:s,fulfilled:c,pending:f,rejected:p,settled:m,options:v}=r,w=i(e,s,v);n.exposeAction(t,w),c&&n.addCase(w.fulfilled,c),f&&n.addCase(w.pending,f),p&&n.addCase(w.rejected,p),m&&n.addMatcher(w.settled,m),n.exposeCaseReducer(t,{fulfilled:c||ph,pending:f||ph,rejected:p||ph,settled:m||ph})}function ph(){}var TL="task",oT="listener",lT="completed",Nx="cancelled",PL=`task-${Nx}`,kL=`task-${lT}`,ty=`${oT}-${Nx}`,RL=`${oT}-${lT}`,pp=class{constructor(e){this.code=e,this.message=`${TL} ${Nx} (reason: ${e})`}name="TaskAbortError";message},Tx=(e,t)=>{if(typeof e!="function")throw new TypeError(Ci(32))},f0=()=>{},cT=(e,t=f0)=>(e.catch(t),e),uT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),el=e=>{if(e.aborted)throw new pp(e.reason)};function dT(e,t){let r=f0;return new Promise((n,i)=>{const s=()=>i(new pp(e.reason));if(e.aborted){s();return}r=uT(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=f0})}var jL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof pp?"cancelled":"rejected",error:r}}finally{t?.()}},h0=e=>t=>cT(dT(e,t).then(r=>(el(e),r))),fT=e=>{const t=h0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:fc}=Object,A_={},mp="listenerMiddleware",ML=(e,t)=>{const r=n=>uT(e,()=>n.abort(e.reason));return(n,i)=>{Tx(n);const s=new AbortController;r(s);const c=jL(async()=>{el(e),el(s.signal);const f=await n({pause:h0(s.signal),delay:fT(s.signal),signal:s.signal});return el(s.signal),f},()=>s.abort(kL));return i?.autoJoin&&t.push(c.catch(f0)),{result:h0(e)(c),cancel(){s.abort(PL)}}}},DL=(e,t)=>{const r=async(n,i)=>{el(t);let s=()=>{};const f=[new Promise((p,m)=>{let v=e({predicate:n,effect:(w,_)=>{_.unsubscribe(),p([w,_.getState(),_.getOriginalState()])}});s=()=>{v(),m()}})];i!=null&&f.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await dT(t,Promise.race(f));return el(t),p}finally{s()}};return(n,i)=>cT(r(n,i))},hT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Yi(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ci(21));return Tx(s),{predicate:i,type:t,effect:s}},pT=fc(e=>{const{type:t,predicate:r,effect:n}=hT(e);return{id:wL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ci(22))}}},{withTypes:()=>pT}),__=(e,t)=>{const{type:r,effect:n,predicate:i}=hT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},ry=e=>{e.pending.forEach(t=>{t.abort(ty)})},LL=(e,t)=>()=>{for(const r of t.keys())ry(r);e.clear()},S_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},mT=fc(Yi(`${mp}/add`),{withTypes:()=>mT}),BL=Yi(`${mp}/removeAll`),gT=fc(Yi(`${mp}/remove`),{withTypes:()=>gT}),FL=(...e)=>{console.error(`${mp}/error`,...e)},_d=(e={})=>{const t=new Map,r=new Map,n=C=>{const O=r.get(C)??0;r.set(C,O+1)},i=C=>{const O=r.get(C)??1;O===1?r.delete(C):r.set(C,O-1)},{extra:s,onError:c=FL}=e;Tx(c);const f=C=>(C.unsubscribe=()=>t.delete(C.id),t.set(C.id,C),O=>{C.unsubscribe(),O?.cancelActive&&ry(C)}),p=C=>{const O=__(t,C)??pT(C);return f(O)};fc(p,{withTypes:()=>p});const m=C=>{const O=__(t,C);return O&&(O.unsubscribe(),C.cancelActive&&ry(O)),!!O};fc(m,{withTypes:()=>m});const v=async(C,O,I,k)=>{const M=new AbortController,L=DL(p,M.signal),j=[];try{C.pending.add(M),n(C),await Promise.resolve(C.effect(O,fc({},I,{getOriginalState:k,condition:(z,W)=>L(z,W).then(Boolean),take:L,delay:fT(M.signal),pause:h0(M.signal),extra:s,signal:M.signal,fork:ML(M.signal,j),unsubscribe:C.unsubscribe,subscribe:()=>{t.set(C.id,C)},cancelActiveListeners:()=>{C.pending.forEach((z,W,V)=>{z!==M&&(z.abort(ty),V.delete(z))})},cancel:()=>{M.abort(ty),C.pending.delete(M)},throwIfCancelled:()=>{el(M.signal)}})))}catch(z){z instanceof pp||S_(c,z,{raisedBy:"effect"})}finally{await Promise.all(j),M.abort(RL),i(C),C.pending.delete(M)}},w=LL(t,r);return{middleware:C=>O=>I=>{if(!HN(I))return O(I);if(mT.match(I))return p(I.payload);if(BL.match(I)){w();return}if(gT.match(I))return m(I.payload);let k=C.getState();const M=()=>{if(k===A_)throw new Error(Ci(23));return k};let L;try{if(L=O(I),t.size>0){const j=C.getState(),z=Array.from(t.values());for(const W of z){let V=!1;try{V=W.predicate(I,j,k)}catch(H){V=!1,S_(c,H,{raisedBy:"predicate"})}V&&v(W,I,C,M)}}}finally{k=A_}return L},startListening:p,stopListening:m,clearListeners:w}};function Ci(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var UL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},vT=li({name:"chartLayout",initialState:UL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zL,setLayout:$L,setChartSize:WL,setScale:VL}=vT.actions,HL=vT.reducer;function yT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function qt(e){return Number.isFinite(e)}function Ma(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function C_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(r),!0).forEach(function(n){GL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GL(e,t,r){return(t=qL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,r){return ir(e)||ir(t)?r:Xi(t)?al(e,t,r):typeof t=="function"?t(e):r}var XL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&s!=="center"&&Ze(e[s]))return oc(oc({},e),{},{[s]:e[s]+(n||0)});if((f==="horizontal"||f==="vertical"&&s==="center")&&c!=="middle"&&Ze(e[c]))return oc(oc({},e),{},{[c]:e[c]+(i||0)})}return e},ml=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",xT=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,s,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(s=!0),f.coordinate));return i||c.push(t),s||c.push(r),c},wT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:f,isCategorical:p,categoricalDomain:m,tickCount:v,ticks:w,niceTicks:_,axisType:C}=e;if(!c)return null;var O=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,I=i==="category"&&c.bandwidth?c.bandwidth()/O:0;if(I=C==="angleAxis"&&s&&s.length>=2?vn(s[0]-s[1])*2*I:I,w||_){var k=(w||_||[]).map((M,L)=>{var j=n?n.indexOf(M):M;return{coordinate:c(j)+I,value:M,offset:I,index:L}});return k.filter(M=>!Ti(M.coordinate))}return p&&m?m.map((M,L)=>({coordinate:c(M)+I,value:M,index:L,offset:I})):c.ticks&&v!=null?c.ticks(v).map((M,L)=>({coordinate:c(M)+I,value:M,offset:I,index:L})):c.domain().map((M,L)=>({coordinate:c(M)+I,value:n?n[M]:M,index:L,offset:I}))},O_=1e-4,YL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-O_,s=Math.max(n[0],n[1])+O_,c=e(t[0]),f=e(t[r-1]);(c<i||c>s||f<i||f>s)&&e.domain([t[0],t[r-1]])}},ZL=(e,t)=>{if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(i[0]=r),(!Ze(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},QL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0,f=0;f<r;++f){var p=e[f],m=p?.[i];if(m!=null){var v=m[1],w=m[0],_=Ti(v)?w:v;_>=0?(m[0]=s,m[1]=s+_,s=v):(m[0]=c,m[1]=c+_,c=v)}}}},JL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0;c<r;++c){var f=e[c],p=f?.[i];if(p!=null){var m=Ti(p[1])?p[0]:p[1];m>=0?(p[0]=s,p[1]=s+m,s=p[1]):(p[0]=0,p[1]=0)}}}},eB={sign:QL,expand:g9,none:il,silhouette:v9,wiggle:y9,positive:JL},tB=(e,t,r)=>{var n,i=(n=eB[r])!==null&&n!==void 0?n:il,s=m9().keys(t).value((f,p)=>Number(Ut(f,p,0))).order(Hv).offset(i),c=s(e);return c.forEach((f,p)=>{f.forEach((m,v)=>{var w=Ut(e[v],t[p],0);Array.isArray(w)&&w.length===2&&Ze(w[0])&&Ze(w[1])&&(m[0]=w[0],m[1]=w[1])})}),c};function rB(e){return e==null?void 0:String(e)}function I_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ir(i[t.dataKey])){var f=SN(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var p=Ut(i,ir(c)?t.dataKey:c);return ir(p)?null:t.scale(p)}var N_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=Ut(s,t.dataKey,t.scale.domain()[c]);return ir(f)?null:t.scale(f)-i/2+n},nB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},iB=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},aB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],sB=(e,t,r)=>{if(e!=null)return aB(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:c}=s,f=c.reduce((p,m)=>{var v=yT(m,t,r),w=iB(v);return!qt(w[0])||!qt(w[1])?p:[Math.min(p[0],w[0]),Math.max(p[1],w[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},T_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,P_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=sp(t,v=>v.coordinate),s=1/0,c=1,f=i.length;c<f;c++){var p=i[c],m=i[c-1];s=Math.min((p?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function k_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return oc(oc({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Pc(e,t){if(e)return String(e);if(typeof t=="string")return t}var oB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},lB=(e,t)=>t==="centric"?e.angle:e.radius,ws=e=>e.layout.width,bs=e=>e.layout.height,cB=e=>e.layout.scale,bT=e=>e.layout.margin,gp=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vp=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Px="data-recharts-item-index",kx="data-recharts-item-id",Sd=60;function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){uB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uB(e,t,r){return(t=dB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dB(e){var t=fB(e,"string");return typeof t=="symbol"?t:t+""}function fB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hB=e=>e.brush.height;function pB(e){var t=vp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Sd;return r+i}return r},0)}function mB(e){var t=vp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Sd;return r+i}return r},0)}function gB(e){var t=gp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function vB(e){var t=gp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var an=ue([ws,bs,bT,hB,pB,mB,gB,vB,zN,$7],(e,t,r,n,i,s,c,f,p,m)=>{var v={left:(r.left||0)+i,right:(r.right||0)+s},w={top:(r.top||0)+c,bottom:(r.bottom||0)+f},_=mh(mh({},w),v),C=_.bottom;_.bottom+=n,_=XL(_,p,m);var O=e-_.left-_.right,I=t-_.top-_.bottom;return mh(mh({brushBottom:C},_),{},{width:Math.max(O,0),height:Math.max(I,0)})}),yB=ue(an,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Rx=ue(ws,bs,(e,t)=>({x:0,y:0,width:e,height:t})),xB=N.createContext(null),Nn=()=>N.useContext(xB)!=null,yp=e=>e.brush,xp=ue([yp,an,bT],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ze(e.width)?e.width:t.width})),Dg={},Lg={},Bg={},j_;function wB(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,f=null;const p=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),v=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},w=()=>{m&&v(),I()};let _=null;const C=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,w()},n)},O=()=>{_!==null&&(clearTimeout(_),_=null)},I=()=>{O(),c=void 0,f=null},k=()=>{v()},M=function(...L){if(i?.aborted)return;c=this,f=L;const j=_==null;C(),p&&j&&v()};return M.schedule=C,M.cancel=I,M.flush=k,i?.addEventListener("abort",I,{once:!0}),M}e.debounce=t})(Bg)),Bg}var M_;function bB(){return M_||(M_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wB();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:f=!0,maxWait:p}=s,m=Array(2);c&&(m[0]="leading"),f&&(m[1]="trailing");let v,w=null;const _=t.debounce(function(...I){v=n.apply(this,I),w=null},i,{edges:m}),C=function(...I){return p!=null&&(w===null&&(w=Date.now()),Date.now()-w>=p)?(v=n.apply(this,I),w=Date.now(),_.cancel(),_.schedule(),v):(_.apply(this,I),v)},O=()=>(_.flush(),v);return C.cancel=_.cancel,C.flush=O,C}e.debounce=r})(Lg)),Lg}var D_;function EB(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bB();function r(n,i=0,s={}){const{leading:c=!0,trailing:f=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(Dg)),Dg}var Fg,L_;function AB(){return L_||(L_=1,Fg=EB().throttle),Fg}var _B=AB();const SB=Qi(_B);var m0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},ET=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,f=fs(n)?e:Number(n),p=fs(i)?t:Number(i);return s&&s>0&&(f?p=f/s:p&&(f=p*s),c&&p!=null&&p>c&&(p=c)),{calculatedWidth:f,calculatedHeight:p}},CB={width:0,height:0,overflow:"visible"},OB={width:0,overflowX:"visible"},IB={height:0,overflowY:"visible"},NB={},TB=e=>{var{width:t,height:r}=e,n=fs(t),i=fs(r);return n&&i?CB:n?OB:i?IB:NB};function PB(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){kB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kB(e,t,r){return(t=RB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=jB(e,"string");return typeof t=="symbol"?t:t+""}function jB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AT=N.createContext({width:-1,height:-1});function MB(e){return Ma(e.width)&&Ma(e.height)}function _T(e){var{children:t,width:r,height:n}=e,i=N.useMemo(()=>({width:r,height:n}),[r,n]);return MB(i)?N.createElement(AT.Provider,{value:i},t):null}var jx=()=>N.useContext(AT),DB=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:f,maxHeight:p,children:m,debounce:v=0,id:w,className:_,onResize:C,style:O={}}=e,I=N.useRef(null),k=N.useRef();k.current=C,N.useImperativeHandle(t,()=>I.current);var[M,L]=N.useState({containerWidth:n.width,containerHeight:n.height}),j=N.useCallback((ie,X)=>{L(_e=>{var me=Math.round(ie),fe=Math.round(X);return _e.containerWidth===me&&_e.containerHeight===fe?_e:{containerWidth:me,containerHeight:fe}})},[]);N.useEffect(()=>{if(I.current==null||typeof ResizeObserver>"u")return Ed;var ie=fe=>{var Ee,{width:ke,height:ne}=fe[0].contentRect;j(ke,ne),(Ee=k.current)===null||Ee===void 0||Ee.call(k,ke,ne)};v>0&&(ie=SB(ie,v,{trailing:!0,leading:!1}));var X=new ResizeObserver(ie),{width:_e,height:me}=I.current.getBoundingClientRect();return j(_e,me),X.observe(I.current),()=>{X.disconnect()}},[j,v]);var{containerWidth:z,containerHeight:W}=M;m0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:H}=ET(z,W,{width:i,height:s,aspect:r,maxHeight:p});return m0(V!=null&&V>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,H,i,s,c,f,r),N.createElement("div",{id:w?"".concat(w):void 0,className:Dt("recharts-responsive-container",_),style:F_(F_({},O),{},{width:i,height:s,minWidth:c,minHeight:f,maxHeight:p}),ref:I},N.createElement("div",{style:TB({width:i,height:s})},N.createElement(_T,{width:V,height:H},m)))}),Ug=N.forwardRef((e,t)=>{var r=jx();if(Ma(r.width)&&Ma(r.height))return e.children;var{width:n,height:i}=PB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=ET(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ze(s)&&Ze(c)?N.createElement(_T,{width:s,height:c},e.children):N.createElement(DB,ny({},e,{width:n,height:i,ref:t}))});function ST(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var kc=()=>{var e,t=Nn(),r=Ve(yB),n=Ve(xp),i=(e=Ve(yp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},LB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CT=()=>{var e;return(e=Ve(an))!==null&&e!==void 0?e:LB},Mx=()=>Ve(ws),Dx=()=>Ve(bs),BB=()=>Ve(e=>e.layout.margin),Rt=e=>e.layout.layoutType,Cd=()=>Ve(Rt),FB=()=>{var e=Cd();return e!==void 0},wp=e=>{var t=Xt(),r=Nn(),{width:n,height:i}=e,s=jx(),c=n,f=i;return s&&(c=s.width>0?s.width:n,f=s.height>0?s.height:i),N.useEffect(()=>{!r&&Ma(c)&&Ma(f)&&t(WL({width:c,height:f}))},[t,r,c,f]),null},OT=Symbol.for("immer-nothing"),U_=Symbol.for("immer-draftable"),Pi=Symbol.for("immer-state");function ma(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ad=Object.getPrototypeOf;function xc(e){return!!e&&!!e[Pi]}function ol(e){return e?IT(e)||Array.isArray(e)||!!e[U_]||!!e.constructor?.[U_]||Od(e)||Ep(e):!1}var UB=Object.prototype.constructor.toString(),z_=new WeakMap;function IT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=z_.get(r);return n===void 0&&(n=Function.toString.call(r),z_.set(r,n)),n===UB}function g0(e,t,r=!0){bp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function bp(e){const t=e[Pi];return t?t.type_:Array.isArray(e)?1:Od(e)?2:Ep(e)?3:0}function iy(e,t){return bp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NT(e,t,r){const n=bp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Od(e){return e instanceof Map}function Ep(e){return e instanceof Set}function Ho(e){return e.copy_||e.base_}function ay(e,t){if(Od(e))return new Map(e);if(Ep(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=IT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Pi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(ad(e),n)}else{const n=ad(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Lx(e,t=!1){return Ap(e)||xc(e)||!ol(e)||(bp(e)>1&&Object.defineProperties(e,{set:gh,add:gh,clear:gh,delete:gh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Lx(r,!0))),e}function $B(){ma(2)}var gh={value:$B};function Ap(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WB={};function ll(e){const t=WB[e];return t||ma(0,e),t}var sd;function TT(){return sd}function VB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $_(e,t){t&&(ll("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sy(e){oy(e),e.drafts_.forEach(HB),e.drafts_=null}function oy(e){e===sd&&(sd=e.parent_)}function W_(e){return sd=VB(sd,e)}function HB(e){const t=e[Pi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function V_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Pi].modified_&&(sy(t),ma(4)),ol(e)&&(e=v0(t,e),t.parent_||y0(t,e)),t.patches_&&ll("Patches").generateReplacementPatches_(r[Pi].base_,e,t.patches_,t.inversePatches_)):e=v0(t,r,[]),sy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OT?e:void 0}function v0(e,t,r){if(Ap(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Pi];if(!i)return g0(t,(s,c)=>H_(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return y0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,f=!1;i.type_===3&&(c=new Set(s),s.clear(),f=!0),g0(c,(p,m)=>H_(e,i,s,p,m,r,f),n),y0(e,s,!1),r&&e.patches_&&ll("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function H_(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const f=Ap(i);if(!(f&&!c)){if(xc(i)){const p=s&&t&&t.type_!==3&&!iy(t.assigned_,n)?s.concat(n):void 0,m=v0(e,i,p);if(NT(r,n,m),xc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ol(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;v0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Od(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&y0(e,i)}}}function y0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lx(t,r)}function GB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:TT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Bx;r&&(i=[n],s=od);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,f}var Bx={get(e,t){if(t===Pi)return e;const r=Ho(e);if(!iy(r,t))return qB(e,r,t);const n=r[t];return e.finalized_||!ol(n)?n:n===zg(e.base_,t)?($g(e),e.copy_[t]=cy(n,e)):n},has(e,t){return t in Ho(e)},ownKeys(e){return Reflect.ownKeys(Ho(e))},set(e,t,r){const n=PT(Ho(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=zg(Ho(e),t),s=i?.[Pi];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zB(r,i)&&(r!==void 0||iy(e.base_,t)))return!0;$g(e),ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,$g(e),ly(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ho(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ma(11)},getPrototypeOf(e){return ad(e.base_)},setPrototypeOf(){ma(12)}},od={};g0(Bx,(e,t)=>{od[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return Bx.set.call(this,e[0],t,r,e[0])};function zg(e,t){const r=e[Pi];return(r?Ho(r):e)[t]}function qB(e,t,r){const n=PT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function PT(e,t){if(!(t in e))return;let r=ad(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ad(r)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function $g(e){e.copy_||(e.copy_=ay(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var KB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(p=s,...m){return c.produce(p,v=>r.call(this,v,...m))}}typeof r!="function"&&ma(6),n!==void 0&&typeof n!="function"&&ma(7);let i;if(ol(t)){const s=W_(this),c=cy(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?sy(s):oy(s)}return $_(s,n),V_(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===OT&&(i=void 0),this.autoFreeze_&&Lx(i,!0),n){const s=[],c=[];ll("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else ma(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,p=>t(p,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ol(e)||ma(8),xc(e)&&(e=XB(e));const t=W_(this),r=cy(e,void 0);return r[Pi].isManual_=!0,oy(t),r}finishDraft(e,t){const r=e&&e[Pi];(!r||!r.isManual_)&&ma(9);const{scope_:n}=r;return $_(n,t),V_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ll("Patches").applyPatches_;return xc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function cy(e,t){const r=Od(e)?ll("MapSet").proxyMap_(e,t):Ep(e)?ll("MapSet").proxySet_(e,t):GB(e,t);return(t?t.scope_:TT()).drafts_.push(r),r}function XB(e){return xc(e)||ma(10,e),kT(e)}function kT(e){if(!ol(e)||Ap(e))return e;const t=e[Pi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ay(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ay(e,!0);return g0(r,(i,s)=>{NT(r,i,kT(s))},n),t&&(t.finalized_=!1),r}var YB=new KB;YB.produce;var ZB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RT=li({name:"legend",initialState:ZB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=va(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:mr()},removeLegendPayload:{reducer(e,t){var r=va(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mr()}}}),{setLegendSize:G_,setLegendSettings:QB,addLegendPayload:jT,replaceLegendPayload:MT,removeLegendPayload:DT}=RT.actions,JB=RT.reducer,eF=["contextPayload"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(null,arguments)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){tF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tF(e,t,r){return(t=rF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nF(e,"string");return typeof t=="symbol"?t:t+""}function nF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iF(e,t){if(e==null)return{};var r,n,i=aF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sF(e){return e.value}function oF(e){var{contextPayload:t}=e,r=iF(e,eF),n=LN(t,e.payloadUniqBy,sF),i=wc(wc({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(Z9,i)}function lF(e,t,r,n,i,s){var{layout:c,align:f,verticalAlign:p}=t,m,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?m={left:((n||0)-s.width)/2}:m=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?v={top:((i||0)-s.height)/2}:v=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),wc(wc({},m),v)}function cF(e){var t=Xt();return N.useEffect(()=>{t(QB(e))},[t,e]),null}function uF(e){var t=Xt();return N.useEffect(()=>(t(G_(e)),()=>{t(G_({width:0,height:0}))}),[t,e]),null}function dF(e,t,r,n){return e==="vertical"&&Ze(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var fF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function LT(e){var t=Fr(e,fF),r=H7(),n=FD(),i=BB(),{width:s,height:c,wrapperStyle:f,portal:p}=t,[m,v]=$N([r]),w=Mx(),_=Dx();if(w==null||_==null)return null;var C=w-(i?.left||0)-(i?.right||0),O=dF(t.layout,c,s,C),I=p?f:wc(wc({position:"absolute",width:O?.width||s||"auto",height:O?.height||c||"auto"},lF(f,t,i,w,_,m)),f),k=p??n;if(k==null||r==null)return null;var M=N.createElement("div",{className:"recharts-legend-wrapper",style:I,ref:v},N.createElement(cF,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&N.createElement(uF,{width:m.width,height:m.height}),N.createElement(oF,uy({},t,O,{margin:i,chartWidth:w,chartHeight:_,contextPayload:r})));return Qy.createPortal(M,k)}LT.displayName="Legend";function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){hF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hF(e,t,r){return(t=pF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gF(e){return Array.isArray(e)&&Xi(e[0])&&Xi(e[1])?e.join(" ~ "):e}var vF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:f,wrapperClassName:p,labelClassName:m,label:v,labelFormatter:w,accessibilityLayer:_=!1}=e,C=()=>{if(s&&s.length){var W={padding:0,margin:0},V=(f?sp(s,f):s).map((H,ie)=>{if(H.type==="none")return null;var X=H.formatter||c||gF,{value:_e,name:me}=H,fe=_e,Ee=me;if(X){var ke=X(_e,me,H,ie,s);if(Array.isArray(ke))[fe,Ee]=ke;else if(ke!=null)fe=ke;else return null}var ne=Wg({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ie),style:ne},Xi(Ee)?N.createElement("span",{className:"recharts-tooltip-item-name"},Ee):null,Xi(Ee)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},fe),N.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:W},V)}return null},O=Wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),I=Wg({margin:0},i),k=!ir(v),M=k?v:"",L=Dt("recharts-default-tooltip",p),j=Dt("recharts-tooltip-label",m);k&&w&&s!==void 0&&s!==null&&(M=w(v,s));var z=_?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",dy({className:L,style:O},z),N.createElement("p",{className:j,style:I},N.isValidElement(M)?M:"".concat(M)),C())},ku="recharts-tooltip-wrapper",yF={visibility:"hidden"};function xF(e){var{coordinate:t,translateX:r,translateY:n}=e;return Dt(ku,{["".concat(ku,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(ku,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(ku,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(ku,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function X_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:f,viewBox:p,viewBoxDimension:m}=e;if(s&&Ze(s[n]))return s[n];var v=r[n]-f-(i>0?i:0),w=r[n]+i;if(t[n])return c[n]?v:w;var _=p[n];if(_==null)return 0;if(c[n]){var C=v,O=_;return C<O?Math.max(w,_):Math.max(v,_)}if(m==null)return 0;var I=w+f,k=_+m;return I>k?Math.max(v,_):Math.max(w,_)}function wF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function bF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:f,viewBox:p}=e,m,v,w;return c.height>0&&c.width>0&&r?(v=X_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:p,viewBoxDimension:p.width}),w=X_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:p,viewBoxDimension:p.height}),m=wF({translateX:v,translateY:w,useTranslate3d:f})):m=yF,{cssProperties:m,cssClasses:xF({translateX:v,translateY:w,coordinate:r})}}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fy(e,t,r){return(t=EF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _F extends N.PureComponent{constructor(){super(...arguments),fy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:f,isAnimationActive:p,offset:m,position:v,reverseDirection:w,useTranslate3d:_,viewBox:C,wrapperStyle:O,lastBoundingBox:I,innerRef:k,hasPortalFromProps:M}=this.props,{cssClasses:L,cssProperties:j}=bF({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:w,tooltipBox:{height:I.height,width:I.width},useTranslate3d:_,viewBox:C}),z=M?{}:vh(vh({transition:p&&t?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=vh(vh({},z),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},O);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:W,ref:k},s)}}var BT=()=>{var e;return(e=Ve(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){SF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SF(e,t,r){return(t=CF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J_={curveBasisClosed:i9,curveBasisOpen:a9,curveBasis:n9,curveBumpX:WD,curveBumpY:VD,curveLinearClosed:s9,curveLinear:np,curveMonotoneX:o9,curveMonotoneY:l9,curveNatural:c9,curveStep:u9,curveStepAfter:f9,curveStepBefore:d9},x0=e=>qt(e.x)&&qt(e.y),eS=e=>e.base!=null&&x0(e.base)&&x0(e),Ru=e=>e.x,ju=e=>e.y,IF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bd(e));return(r==="curveMonotone"||r==="curveBump")&&t?J_["".concat(r).concat(t==="vertical"?"Y":"X")]:J_[r]||np},NF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=IF(t,i),f=s?r.filter(x0):r,p;if(Array.isArray(n)){var m=r.map((C,O)=>Q_(Q_({},C),{},{base:n[O]}));i==="vertical"?p=ch().y(ju).x1(Ru).x0(C=>C.base.x):p=ch().x(Ru).y1(ju).y0(C=>C.base.y);var v=p.defined(eS).curve(c),w=s?m.filter(eS):m;return v(w)}i==="vertical"&&Ze(n)?p=ch().y(ju).x1(Ru).x0(n):Ze(n)?p=ch().x(Ru).y1(ju).y0(n):p=fN().x(Ru).y(ju);var _=p.defined(x0).curve(c);return _(f)},_p=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=Cd();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},f=r&&r.length?NF(c):n;return N.createElement("path",hy({},Ii(e),L9(e),{className:Dt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},TF=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){kF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kF(e,t,r){return(t=RF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=jF(e,"string");return typeof t=="symbol"?t:t+""}function jF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MF(e,t){if(e==null)return{};var r,n,i=DF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LF=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),BF=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:f}=e,p=MF(e,TF),m=PF({x:t,y:r,top:n,left:i,width:s,height:c},p);return!Ze(t)||!Ze(r)||!Ze(s)||!Ze(c)||!Ze(n)||!Ze(i)?null:N.createElement("path",py({},Ni(m),{className:Dt("recharts-cross",f),d:LF(t,r,s,c,n,i)}))};function FF(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){UF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UF(e,t,r){return(t=zF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zF(e){var t=$F(e,"string");return typeof t=="symbol"?t:t+""}function $F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),FT=(e,t,r)=>e.map(n=>"".concat(WF(n)," ").concat(t,"ms ").concat(r)).join(","),VF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ld=(e,t)=>Object.keys(t).reduce((r,n)=>nS(nS({},r),{},{[n]:e(n,t[n])}),{});function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){HF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=qF(e,"string");return typeof t=="symbol"?t:t+""}function qF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w0=(e,t,r)=>e+(t-e)*r,my=e=>{var{from:t,to:r}=e;return t!==r},UT=(e,t,r)=>{var n=ld((i,s)=>{if(my(s)){var[c,f]=e(s.from,s.to,s.velocity);return nn(nn({},s),{},{from:c,velocity:f})}return s},t);return r<1?ld((i,s)=>my(s)&&n[i]!=null?nn(nn({},s),{},{velocity:w0(s.velocity,n[i].velocity,r),from:w0(s.from,n[i].from,r)}):s,t):UT(e,n,r-1)};function KF(e,t,r,n,i,s){var c,f=n.reduce((_,C)=>nn(nn({},_),{},{[C]:{from:e[C],velocity:0,to:t[C]}}),{}),p=()=>ld((_,C)=>C.from,f),m=()=>!Object.values(f).filter(my).length,v=null,w=_=>{c||(c=_);var C=_-c,O=C/r.dt;f=UT(r,f,O),i(nn(nn(nn({},e),t),p())),c=_,m()||(v=s.setTimeout(w))};return()=>(v=s.setTimeout(w),()=>{var _;(_=v)===null||_===void 0||_()})}function XF(e,t,r,n,i,s,c){var f=null,p=i.reduce((w,_)=>{var C=e[_],O=t[_];return C==null||O==null?w:nn(nn({},w),{},{[_]:[C,O]})},{}),m,v=w=>{m||(m=w);var _=(w-m)/n,C=ld((I,k)=>w0(...k,r(_)),p);if(s(nn(nn(nn({},e),t),C)),_<1)f=c.setTimeout(v);else{var O=ld((I,k)=>w0(...k,r(1)),p);s(nn(nn(nn({},e),t),O))}};return()=>(f=c.setTimeout(v),()=>{var w;(w=f)===null||w===void 0||w()})}const YF=(e,t,r,n,i,s)=>{var c=VF(e,t);return r==null?()=>(i(nn(nn({},e),t)),()=>{}):r.isStepper===!0?KF(e,t,r,c,i,s):XF(e,t,r,n,c,i,s)};var b0=1e-4,zT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$T=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),aS=(e,t)=>r=>{var n=zT(e,t);return $T(n,r)},ZF=(e,t)=>r=>{var n=zT(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return $T(i,r)},QF=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},JF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=QF(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},eU=(e,t,r,n)=>{var i=aS(e,r),s=aS(t,n),c=ZF(e,r),f=m=>m>1?1:m<0?0:m,p=m=>{for(var v=m>1?1:m,w=v,_=0;_<8;++_){var C=i(w)-v,O=c(w);if(Math.abs(C-v)<b0||O<b0)return s(w);w=f(w-C/O)}return s(w)};return p.isStepper=!1,p},sS=function(){return eU(...JF(...arguments))},tU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,f,p)=>{var m=-(c-f)*r,v=p*n,w=p+(m-v)*i/1e3,_=p*i/1e3+c;return Math.abs(_-f)<b0&&Math.abs(w)<b0?[f,0]:[_,w]};return s.isStepper=!0,s.dt=i,s},rU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sS(e);case"spring":return tU();default:if(e.split("(")[0]==="cubic-bezier")return sS(e)}return typeof e=="function"?e:null};function nU(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[p,...m]=f;if(typeof p=="number"){i=e.setTimeout(s.bind(null,m),p);return}s(p),i=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class iU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function aU(){return nU(new iU)}var sU=N.createContext(aU);function oU(e,t){var r=N.useContext(sU);return N.useMemo(()=>t??r(e),[e,t,r])}var lU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sp={isSsr:lU()},cU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},oS={t:0},Vg={t:1};function Id(e){var t=Fr(e,cU),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:f,onAnimationStart:p,children:m}=t,v=r==="auto"?!Sp.isSsr:r,w=oU(t.animationId,t.animationManager),[_,C]=N.useState(v?oS:Vg),O=N.useRef(null);return N.useEffect(()=>{v||C(Vg)},[v]),N.useEffect(()=>{if(!v||!n)return Ed;var I=YF(oS,Vg,rU(s),i,C,w.getTimeoutController()),k=()=>{O.current=I()};return w.start([p,c,k,i,f]),()=>{w.stop(),O.current&&O.current(),f()}},[v,n,i,s,c,p,f,w]),m(_.t)}function Nd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(td(t)),n=N.useRef(e);return n.current!==e&&(r.current=td(t),n.current=e),r.current}var uU=["radius"],dU=["radius"],lS,cS,uS,dS,fS,hS,pS,mS,gS,vS;function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(null,arguments)}function wS(e,t){if(e==null)return{};var r,n,i=mU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ta(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bS=(e,t,r,n,i)=>{var s=ro(r),c=ro(n),f=Math.min(Math.abs(s)/2,Math.abs(c)/2),p=c>=0?1:-1,m=s>=0?1:-1,v=c>=0&&s>=0||c<0&&s<0?1:0,w;if(f>0&&i instanceof Array){for(var _=[0,0,0,0],C=0,O=4;C<O;C++)_[C]=i[C]>f?f:i[C];w=Tr(lS||(lS=Ta(["M",",",""])),e,t+p*_[0]),_[0]>0&&(w+=Tr(cS||(cS=Ta(["A ",",",",0,0,",",",",",""])),_[0],_[0],v,e+m*_[0],t)),w+=Tr(uS||(uS=Ta(["L ",",",""])),e+r-m*_[1],t),_[1]>0&&(w+=Tr(dS||(dS=Ta(["A ",",",",0,0,",`,
        `,",",""])),_[1],_[1],v,e+r,t+p*_[1])),w+=Tr(fS||(fS=Ta(["L ",",",""])),e+r,t+n-p*_[2]),_[2]>0&&(w+=Tr(hS||(hS=Ta(["A ",",",",0,0,",`,
        `,",",""])),_[2],_[2],v,e+r-m*_[2],t+n)),w+=Tr(pS||(pS=Ta(["L ",",",""])),e+m*_[3],t+n),_[3]>0&&(w+=Tr(mS||(mS=Ta(["A ",",",",0,0,",`,
        `,",",""])),_[3],_[3],v,e,t+n-p*_[3])),w+="Z"}else if(f>0&&i===+i&&i>0){var I=Math.min(f,i);w=Tr(gS||(gS=Ta(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*I,I,I,v,e+m*I,t,e+r-m*I,t,I,I,v,e+r,t+p*I,e+r,t+n-p*I,I,I,v,e+r-m*I,t+n,e+m*I,t+n,I,I,v,e,t+n-p*I)}else w=Tr(vS||(vS=Ta(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return w},ES={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WT=e=>{var t=Fr(e,ES),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var le=r.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:c,width:f,height:p,radius:m,className:v}=t,{animationEasing:w,animationDuration:_,animationBegin:C,isAnimationActive:O,isUpdateAnimationActive:I}=t,k=N.useRef(f),M=N.useRef(p),L=N.useRef(s),j=N.useRef(c),z=N.useMemo(()=>({x:s,y:c,width:f,height:p,radius:m}),[s,c,f,p,m]),W=Nd(z,"rectangle-");if(s!==+s||c!==+c||f!==+f||p!==+p||f===0||p===0)return null;var V=Dt("recharts-rectangle",v);if(!I){var H=Ni(t),{radius:ie}=H,X=wS(H,uU);return N.createElement("path",E0({},X,{x:ro(s),y:ro(c),width:ro(f),height:ro(p),radius:typeof m=="number"?m:void 0,className:V,d:bS(s,c,f,p,m)}))}var _e=k.current,me=M.current,fe=L.current,Ee=j.current,ke="0px ".concat(n===-1?1:n,"px"),ne="".concat(n,"px 0px"),Le=FT(["strokeDasharray"],_,typeof w=="string"?w:ES.animationEasing);return N.createElement(Id,{animationId:W,key:W,canBegin:n>0,duration:_,easing:w,isActive:I,begin:C},le=>{var ve=Ar(_e,f,le),ye=Ar(me,p,le),we=Ar(fe,s,le),Q=Ar(Ee,c,le);r.current&&(k.current=ve,M.current=ye,L.current=we,j.current=Q);var de;O?le>0?de={transition:Le,strokeDasharray:ne}:de={strokeDasharray:ke}:de={strokeDasharray:ne};var Me=Ni(t),{radius:De}=Me,Xe=wS(Me,dU);return N.createElement("path",E0({},Xe,{radius:typeof m=="number"?m:void 0,className:V,d:bS(we,Q,ve,ye,m),ref:r,style:xS(xS({},de),t.style)}))})};function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=yU(e,"string");return typeof t=="symbol"?t:t+""}function yU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A0=Math.PI/180,xU=e=>e*180/Math.PI,qr=(e,t,r,n)=>({x:e+Math.cos(-A0*n)*r,y:t+Math.sin(-A0*n)*r}),VT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},bU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=wU({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,p=Math.acos(f);return n>s&&(p=2*Math.PI-p),{radius:c,angle:xU(p),angleInRadian:p}},EU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},AU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},_U=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=bU({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:p,endAngle:m}=EU(t),v=s,w;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}return w?_S(_S({},t),{},{radius:i,angle:AU(v,t)}):null};function HT(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=qr(t,r,n,i),f=qr(t,r,n,s);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var SS,CS,OS,IS,NS,TS,PS;function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function Yo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SU=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},yh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:f,cornerIsExternal:p}=e,m=f*(c?1:-1)+n,v=Math.asin(f/m)/A0,w=p?i:i+s*v,_=qr(t,r,m,w),C=qr(t,r,n,w),O=p?i-s*v:i,I=qr(t,r,m*Math.cos(v*A0),O);return{center:_,circleTangency:C,lineTangency:I,theta:v}},GT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,f=SU(s,c),p=s+f,m=qr(t,r,i,s),v=qr(t,r,i,p),w=Tr(SS||(SS=Yo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(f)>180),+(s>p),v.x,v.y);if(n>0){var _=qr(t,r,n,s),C=qr(t,r,n,p);w+=Tr(CS||(CS=Yo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),C.x,C.y,n,n,+(Math.abs(f)>180),+(s<=p),_.x,_.y)}else w+=Tr(OS||(OS=Yo(["L ",","," Z"])),t,r);return w},CU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:m}=e,v=vn(m-p),{circleTangency:w,lineTangency:_,theta:C}=yh({cx:t,cy:r,radius:i,angle:p,sign:v,cornerRadius:s,cornerIsExternal:f}),{circleTangency:O,lineTangency:I,theta:k}=yh({cx:t,cy:r,radius:i,angle:m,sign:-v,cornerRadius:s,cornerIsExternal:f}),M=f?Math.abs(p-m):Math.abs(p-m)-C-k;if(M<0)return c?Tr(IS||(IS=Yo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),_.x,_.y,s,s,s*2,s,s,-s*2):GT({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:p,endAngle:m});var L=Tr(NS||(NS=Yo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),_.x,_.y,s,s,+(v<0),w.x,w.y,i,i,+(M>180),+(v<0),O.x,O.y,s,s,+(v<0),I.x,I.y);if(n>0){var{circleTangency:j,lineTangency:z,theta:W}=yh({cx:t,cy:r,radius:n,angle:p,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),{circleTangency:V,lineTangency:H,theta:ie}=yh({cx:t,cy:r,radius:n,angle:m,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),X=f?Math.abs(p-m):Math.abs(p-m)-W-ie;if(X<0&&s===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=Tr(TS||(TS=Yo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),H.x,H.y,s,s,+(v<0),V.x,V.y,n,n,+(X>180),+(v>0),j.x,j.y,s,s,+(v<0),z.x,z.y)}else L+=Tr(PS||(PS=Yo(["L",",","Z"])),t,r);return L},OU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qT=e=>{var t=Fr(e,OU),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v,className:w}=t;if(s<i||m===v)return null;var _=Dt("recharts-sector",w),C=s-i,O=zn(c,C,0,!0),I;return O>0&&Math.abs(m-v)<360?I=CU({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(O,C/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v}):I=GT({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:v}),N.createElement("path",gy({},Ni(t),{className:_,d:I}))};function IU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(ON(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:f}=t,p=qr(n,i,s,f),m=qr(n,i,c,f);return[{x:p.x,y:p.y},{x:m.x,y:m.y}]}return HT(t)}}var Hg={},Gg={},qg={},kS;function NU(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qg)),qg}var RS;function TU(){return RS||(RS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Gg)),Gg}var jS;function PU(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UN(),r=TU();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((s-i)/(c||1)),0),p=new Array(f);for(let m=0;m<f;m++)p[m]=i,i+=c;return p}e.range=n})(Hg)),Hg}var Kg,MS;function kU(){return MS||(MS=1,Kg=PU().range),Kg}var RU=kU();const KT=Qi(RU);function ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fx(e){let t,r,n;e.length!==2?(t=ao,r=(f,p)=>ao(e(f),p),n=(f,p)=>e(f)-p):(t=e===ao||e===jU?e:MU,r=e,n=e);function i(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<0?m=w+1:v=w}while(m<v)}return m}function s(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<=0?m=w+1:v=w}while(m<v)}return m}function c(f,p,m=0,v=f.length){const w=i(f,p,m,v-1);return w>m&&n(f[w-1],p)>-n(f[w],p)?w-1:w}return{left:i,center:c,right:s}}function MU(){return 0}function XT(e){return e===null?NaN:+e}function*DU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LU=Fx(ao),Td=LU.right;Fx(XT).center;class DS extends Map{constructor(t,r=UU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(LS(this,t))}has(t){return super.has(LS(this,t))}set(t,r){return super.set(BU(this,t),r)}delete(t){return super.delete(FU(this,t))}}function LS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function BU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function UU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zU(e=ao){if(e===ao)return YT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $U=Math.sqrt(50),WU=Math.sqrt(10),VU=Math.sqrt(2);function _0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=$U?10:s>=WU?5:s>=VU?2:1;let f,p,m;return i<0?(m=Math.pow(10,-i)/c,f=Math.round(e*m),p=Math.round(t*m),f/m<e&&++f,p/m>t&&--p,m=-m):(m=Math.pow(10,i)*c,f=Math.round(e/m),p=Math.round(t/m),f*m<e&&++f,p*m>t&&--p),p<f&&.5<=r&&r<2?_0(e,t,r*2):[f,p,m]}function vy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?_0(t,e,r):_0(e,t,r);if(!(s>=i))return[];const f=s-i+1,p=new Array(f);if(n)if(c<0)for(let m=0;m<f;++m)p[m]=(s-m)/-c;else for(let m=0;m<f;++m)p[m]=(s-m)*c;else if(c<0)for(let m=0;m<f;++m)p[m]=(i+m)/-c;else for(let m=0;m<f;++m)p[m]=(i+m)*c;return p}function yy(e,t,r){return t=+t,e=+e,r=+r,_0(e,t,r)[2]}function xy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?yy(t,e,r):yy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function BS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ZT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?YT:zU(i);n>r;){if(n-r>600){const p=n-r+1,m=t-r+1,v=Math.log(p),w=.5*Math.exp(2*v/3),_=.5*Math.sqrt(v*w*(p-w)/p)*(m-p/2<0?-1:1),C=Math.max(r,Math.floor(t-m*w/p+_)),O=Math.min(n,Math.floor(t+(p-m)*w/p+_));ZT(e,t,C,O,i)}const s=e[t];let c=r,f=n;for(Mu(e,r,t),i(e[n],s)>0&&Mu(e,r,n);c<f;){for(Mu(e,c,f),++c,--f;i(e[c],s)<0;)++c;for(;i(e[f],s)>0;)--f}i(e[r],s)===0?Mu(e,r,f):(++f,Mu(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Mu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HU(e,t,r){if(e=Float64Array.from(DU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FS(e);if(t>=1)return BS(e);var n,i=(n-1)*t,s=Math.floor(i),c=BS(ZT(e,s).subarray(0,s+1)),f=FS(e.subarray(s+1));return c+(f-c)*(i-s)}}function GU(e,t,r=XT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),f=+r(e[s+1],s+1,e);return c+(f-c)*(i-s)}}function qU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Es(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wy=Symbol("implicit");function Ux(){var e=new DS,t=[],r=[],n=wy;function i(s){let c=e.get(s);if(c===void 0){if(n!==wy)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new DS;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ux(t,r).unknown(n)},Ji.apply(i,arguments),i}function zx(){var e=Ux().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,f=!1,p=0,m=0,v=.5;delete e.unknown;function w(){var _=t().length,C=i<n,O=C?i:n,I=C?n:i;s=(I-O)/Math.max(1,_-p+m*2),f&&(s=Math.floor(s)),O+=(I-O-s*(_-p))*v,c=s*(1-p),f&&(O=Math.round(O),c=Math.round(c));var k=qU(_).map(function(M){return O+s*M});return r(C?k.reverse():k)}return e.domain=function(_){return arguments.length?(t(_),w()):t()},e.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,w()):[n,i]},e.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,f=!0,w()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(_){return arguments.length?(f=!!_,w()):f},e.padding=function(_){return arguments.length?(p=Math.min(1,m=+_),w()):p},e.paddingInner=function(_){return arguments.length?(p=Math.min(1,_),w()):p},e.paddingOuter=function(_){return arguments.length?(m=+_,w()):m},e.align=function(_){return arguments.length?(v=Math.max(0,Math.min(1,_)),w()):v},e.copy=function(){return zx(t(),[n,i]).round(f).paddingInner(p).paddingOuter(m).align(v)},Ji.apply(w(),arguments)}function QT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QT(t())},e}function KU(){return QT(zx.apply(null,arguments).paddingInner(1))}function $x(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pd(){}var cd=.7,S0=1/cd,hc="\\s*([+-]?\\d+)\\s*",ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XU=/^#([0-9a-f]{3,8})$/,YU=new RegExp(`^rgb\\(${hc},${hc},${hc}\\)$`),ZU=new RegExp(`^rgb\\(${ja},${ja},${ja}\\)$`),QU=new RegExp(`^rgba\\(${hc},${hc},${hc},${ud}\\)$`),JU=new RegExp(`^rgba\\(${ja},${ja},${ja},${ud}\\)$`),ez=new RegExp(`^hsl\\(${ud},${ja},${ja}\\)$`),tz=new RegExp(`^hsla\\(${ud},${ja},${ja},${ud}\\)$`),US={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$x(Pd,dd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zS,formatHex:zS,formatHex8:rz,formatHsl:nz,formatRgb:$S,toString:$S});function zS(){return this.rgb().formatHex()}function rz(){return this.rgb().formatHex8()}function nz(){return e4(this).formatHsl()}function $S(){return this.rgb().formatRgb()}function dd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=XU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?WS(t):r===3?new si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?xh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?xh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YU.exec(e))?new si(t[1],t[2],t[3],1):(t=ZU.exec(e))?new si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QU.exec(e))?xh(t[1],t[2],t[3],t[4]):(t=JU.exec(e))?xh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ez.exec(e))?GS(t[1],t[2]/100,t[3]/100,1):(t=tz.exec(e))?GS(t[1],t[2]/100,t[3]/100,t[4]):US.hasOwnProperty(e)?WS(US[e]):e==="transparent"?new si(NaN,NaN,NaN,0):null}function WS(e){return new si(e>>16&255,e>>8&255,e&255,1)}function xh(e,t,r,n){return n<=0&&(e=t=r=NaN),new si(e,t,r,n)}function iz(e){return e instanceof Pd||(e=dd(e)),e?(e=e.rgb(),new si(e.r,e.g,e.b,e.opacity)):new si}function by(e,t,r,n){return arguments.length===1?iz(e):new si(e,t,r,n??1)}function si(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$x(si,by,JT(Pd,{brighter(e){return e=e==null?S0:Math.pow(S0,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cd:Math.pow(cd,e),new si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new si(tl(this.r),tl(this.g),tl(this.b),C0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VS,formatHex:VS,formatHex8:az,formatRgb:HS,toString:HS}));function VS(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function az(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function HS(){const e=C0(this.opacity);return`${e===1?"rgb(":"rgba("}${tl(this.r)}, ${tl(this.g)}, ${tl(this.b)}${e===1?")":`, ${e})`}`}function C0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zo(e){return e=tl(e),(e<16?"0":"")+e.toString(16)}function GS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ga(e,t,r,n)}function e4(e){if(e instanceof ga)return new ga(e.h,e.s,e.l,e.opacity);if(e instanceof Pd||(e=dd(e)),!e)return new ga;if(e instanceof ga)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,f=s-i,p=(s+i)/2;return f?(t===s?c=(r-n)/f+(r<n)*6:r===s?c=(n-t)/f+2:c=(t-r)/f+4,f/=p<.5?s+i:2-s-i,c*=60):f=p>0&&p<1?0:c,new ga(c,f,p,e.opacity)}function sz(e,t,r,n){return arguments.length===1?e4(e):new ga(e,t,r,n??1)}function ga(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$x(ga,sz,JT(Pd,{brighter(e){return e=e==null?S0:Math.pow(S0,e),new ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cd:Math.pow(cd,e),new ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new si(Xg(e>=240?e-240:e+120,i,n),Xg(e,i,n),Xg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ga(qS(this.h),wh(this.s),wh(this.l),C0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=C0(this.opacity);return`${e===1?"hsl(":"hsla("}${qS(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qS(e){return e=(e||0)%360,e<0?e+360:e}function wh(e){return Math.max(0,Math.min(1,e||0))}function Xg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Wx=e=>()=>e;function oz(e,t){return function(r){return e+r*t}}function lz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cz(e){return(e=+e)==1?t4:function(t,r){return r-t?lz(t,r,e):Wx(isNaN(t)?r:t)}}function t4(e,t){var r=t-e;return r?oz(e,r):Wx(isNaN(e)?t:e)}const KS=(function e(t){var r=cz(t);function n(i,s){var c=r((i=by(i)).r,(s=by(s)).r),f=r(i.g,s.g),p=r(i.b,s.b),m=t4(i.opacity,s.opacity);return function(v){return i.r=c(v),i.g=f(v),i.b=p(v),i.opacity=m(v),i+""}}return n.gamma=e,n})(1);function uz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function dz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=Rc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(f){for(c=0;c<n;++c)s[c]=i[c](f);return s}}function hz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function O0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Rc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ey=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yg=new RegExp(Ey.source,"g");function mz(e){return function(){return e}}function gz(e){return function(t){return e(t)+""}}function vz(e,t){var r=Ey.lastIndex=Yg.lastIndex=0,n,i,s,c=-1,f=[],p=[];for(e=e+"",t=t+"";(n=Ey.exec(e))&&(i=Yg.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),f[c]?f[c]+=s:f[++c]=s),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,p.push({i:c,x:O0(n,i)})),r=Yg.lastIndex;return r<t.length&&(s=t.slice(r),f[c]?f[c]+=s:f[++c]=s),f.length<2?p[0]?gz(p[0].x):mz(t):(t=p.length,function(m){for(var v=0,w;v<t;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}function Rc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Wx(t):(r==="number"?O0:r==="string"?(n=dd(t))?(t=n,KS):vz:t instanceof dd?KS:t instanceof Date?hz:dz(t)?uz:Array.isArray(t)?fz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pz:O0)(e,t)}function Vx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function yz(e,t){t===void 0&&(t=e,e=Rc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[f](c-f)}}function xz(e){return function(){return e}}function I0(e){return+e}var XS=[0,1];function qn(e){return e}function Ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xz(isNaN(t)?NaN:.5)}function wz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bz(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=Ay(i,n),s=r(c,s)):(n=Ay(n,i),s=r(s,c)),function(f){return s(n(f))}}function Ez(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Ay(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(f){var p=Td(e,f,1,n)-1;return s[p](i[p](f))}}function kd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cp(){var e=XS,t=XS,r=Rc,n,i,s,c=qn,f,p,m;function v(){var _=Math.min(e.length,t.length);return c!==qn&&(c=wz(e[0],e[_-1])),f=_>2?Ez:bz,p=m=null,w}function w(_){return _==null||isNaN(_=+_)?s:(p||(p=f(e.map(n),t,r)))(n(c(_)))}return w.invert=function(_){return c(i((m||(m=f(t,e.map(n),O0)))(_)))},w.domain=function(_){return arguments.length?(e=Array.from(_,I0),v()):e.slice()},w.range=function(_){return arguments.length?(t=Array.from(_),v()):t.slice()},w.rangeRound=function(_){return t=Array.from(_),r=Vx,v()},w.clamp=function(_){return arguments.length?(c=_?!0:qn,v()):c!==qn},w.interpolate=function(_){return arguments.length?(r=_,v()):r},w.unknown=function(_){return arguments.length?(s=_,w):s},function(_,C){return n=_,i=C,v()}}function Hx(){return Cp()(qn,qn)}function Az(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function N0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bc(e){return e=N0(Math.abs(e)),e?e[1]:NaN}function _z(e,t){return function(r,n){for(var i=r.length,s=[],c=0,f=e[0],p=0;i>0&&f>0&&(p+f+1>n&&(f=Math.max(1,n-p)),s.push(r.substring(i-=f,i+f)),!((p+=f+1)>n));)f=e[c=(c+1)%e.length];return s.reverse().join(t)}}function Sz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fd(e){if(!(t=Cz.exec(e)))throw new Error("invalid format: "+e);var t;return new Gx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fd.prototype=Gx.prototype;function Gx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var r4;function Iz(e,t){var r=N0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(r4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+N0(e,Math.max(0,t+s-1))[0]}function YS(e,t){var r=N0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ZS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Az,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YS(e*100,t),r:YS,s:Iz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QS(e){return e}var JS=Array.prototype.map,eC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nz(e){var t=e.grouping===void 0||e.thousands===void 0?QS:_z(JS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?QS:Sz(JS.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(w){w=fd(w);var _=w.fill,C=w.align,O=w.sign,I=w.symbol,k=w.zero,M=w.width,L=w.comma,j=w.precision,z=w.trim,W=w.type;W==="n"?(L=!0,W="g"):ZS[W]||(j===void 0&&(j=12),z=!0,W="g"),(k||_==="0"&&C==="=")&&(k=!0,_="0",C="=");var V=I==="$"?r:I==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=I==="$"?n:/[%p]/.test(W)?c:"",ie=ZS[W],X=/[defgprs%]/.test(W);j=j===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function _e(me){var fe=V,Ee=H,ke,ne,Le;if(W==="c")Ee=ie(me)+Ee,me="";else{me=+me;var le=me<0||1/me<0;if(me=isNaN(me)?p:ie(Math.abs(me),j),z&&(me=Oz(me)),le&&+me==0&&O!=="+"&&(le=!1),fe=(le?O==="("?O:f:O==="-"||O==="("?"":O)+fe,Ee=(W==="s"?eC[8+r4/3]:"")+Ee+(le&&O==="("?")":""),X){for(ke=-1,ne=me.length;++ke<ne;)if(Le=me.charCodeAt(ke),48>Le||Le>57){Ee=(Le===46?i+me.slice(ke+1):me.slice(ke))+Ee,me=me.slice(0,ke);break}}}L&&!k&&(me=t(me,1/0));var ve=fe.length+me.length+Ee.length,ye=ve<M?new Array(M-ve+1).join(_):"";switch(L&&k&&(me=t(ye+me,ye.length?M-Ee.length:1/0),ye=""),C){case"<":me=fe+me+Ee+ye;break;case"=":me=fe+ye+me+Ee;break;case"^":me=ye.slice(0,ve=ye.length>>1)+fe+me+Ee+ye.slice(ve);break;default:me=ye+fe+me+Ee;break}return s(me)}return _e.toString=function(){return w+""},_e}function v(w,_){var C=m((w=fd(w),w.type="f",w)),O=Math.max(-8,Math.min(8,Math.floor(bc(_)/3)))*3,I=Math.pow(10,-O),k=eC[8+O/3];return function(M){return C(I*M)+k}}return{format:m,formatPrefix:v}}var bh,qx,n4;Tz({thousands:",",grouping:[3],currency:["$",""]});function Tz(e){return bh=Nz(e),qx=bh.format,n4=bh.formatPrefix,bh}function Pz(e){return Math.max(0,-bc(Math.abs(e)))}function kz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(t)/3)))*3-bc(Math.abs(e)))}function Rz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bc(t)-bc(e))+1}function i4(e,t,r,n){var i=xy(e,t,r),s;switch(n=fd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=kz(i,c))&&(n.precision=s),n4(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Rz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Pz(i))&&(n.precision=s-(n.type==="%")*2);break}}return qx(n)}function fo(e){var t=e.domain;return e.ticks=function(r){var n=t();return vy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return i4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],f=n[s],p,m,v=10;for(f<c&&(m=c,c=f,f=m,m=i,i=s,s=m);v-- >0;){if(m=yy(c,f,r),m===p)return n[i]=c,n[s]=f,t(n);if(m>0)c=Math.floor(c/m)*m,f=Math.ceil(f/m)*m;else if(m<0)c=Math.ceil(c*m)/m,f=Math.floor(f*m)/m;else break;p=m}return e},e}function a4(){var e=Hx();return e.copy=function(){return kd(e,a4())},Ji.apply(e,arguments),fo(e)}function s4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,I0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return s4(e).unknown(t)},e=arguments.length?Array.from(e,I0):[0,1],fo(r)}function o4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function tC(e){return Math.log(e)}function rC(e){return Math.exp(e)}function jz(e){return-Math.log(-e)}function Mz(e){return-Math.exp(-e)}function Dz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Lz(e){return e===10?Dz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Bz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nC(e){return(t,r)=>-e(-t,r)}function Kx(e){const t=e(tC,rC),r=t.domain;let n=10,i,s;function c(){return i=Bz(n),s=Lz(n),r()[0]<0?(i=nC(i),s=nC(s),e(jz,Mz)):e(tC,rC),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const p=r();let m=p[0],v=p[p.length-1];const w=v<m;w&&([m,v]=[v,m]);let _=i(m),C=i(v),O,I;const k=f==null?10:+f;let M=[];if(!(n%1)&&C-_<k){if(_=Math.floor(_),C=Math.ceil(C),m>0){for(;_<=C;++_)for(O=1;O<n;++O)if(I=_<0?O/s(-_):O*s(_),!(I<m)){if(I>v)break;M.push(I)}}else for(;_<=C;++_)for(O=n-1;O>=1;--O)if(I=_>0?O/s(-_):O*s(_),!(I<m)){if(I>v)break;M.push(I)}M.length*2<k&&(M=vy(m,v,k))}else M=vy(_,C,Math.min(C-_,k)).map(s);return w?M.reverse():M},t.tickFormat=(f,p)=>{if(f==null&&(f=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=fd(p)).precision==null&&(p.trim=!0),p=qx(p)),f===1/0)return p;const m=Math.max(1,n*f/t.ticks().length);return v=>{let w=v/s(Math.round(i(v)));return w*n<n-.5&&(w*=n),w<=m?p(v):""}},t.nice=()=>r(o4(r(),{floor:f=>s(Math.floor(i(f))),ceil:f=>s(Math.ceil(i(f)))})),t}function l4(){const e=Kx(Cp()).domain([1,10]);return e.copy=()=>kd(e,l4()).base(e.base()),Ji.apply(e,arguments),e}function iC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xx(e){var t=1,r=e(iC(t),aC(t));return r.constant=function(n){return arguments.length?e(iC(t=+n),aC(t)):t},fo(r)}function c4(){var e=Xx(Cp());return e.copy=function(){return kd(e,c4()).constant(e.constant())},Ji.apply(e,arguments)}function sC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Fz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Uz(e){return e<0?-e*e:e*e}function Yx(e){var t=e(qn,qn),r=1;function n(){return r===1?e(qn,qn):r===.5?e(Fz,Uz):e(sC(r),sC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},fo(t)}function Zx(){var e=Yx(Cp());return e.copy=function(){return kd(e,Zx()).exponent(e.exponent())},Ji.apply(e,arguments),e}function zz(){return Zx.apply(null,arguments).exponent(.5)}function oC(e){return Math.sign(e)*e*e}function $z(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u4(){var e=Hx(),t=[0,1],r=!1,n;function i(s){var c=$z(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(oC(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,I0)).map(oC)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return u4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ji.apply(i,arguments),fo(i)}function d4(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=GU(e,c/f);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Td(r,c)]}return s.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(ao),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return d4().domain(e).range(t).unknown(n)},Ji.apply(s,arguments)}function f4(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(p){return p!=null&&p<=p?i[Td(n,p,0,r)]:s}function f(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,f()):[e,t]},c.range=function(p){return arguments.length?(r=(i=Array.from(p)).length-1,f()):i.slice()},c.invertExtent=function(p){var m=i.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(p){return arguments.length&&(s=p),c},c.thresholds=function(){return n.slice()},c.copy=function(){return f4().domain([e,t]).range(i).unknown(s)},Ji.apply(fo(c),arguments)}function h4(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Td(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return h4().domain(e).range(t).unknown(r)},Ji.apply(i,arguments)}const Zg=new Date,Qg=new Date;function sn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),f=i.ceil(s);return s-c<f-s?c:f},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,f)=>{const p=[];if(s=i.ceil(s),f=f==null?1:Math.floor(f),!(s<c)||!(f>0))return p;let m;do p.push(m=new Date(+s)),t(s,f),e(s);while(m<s&&s<c);return p},i.filter=s=>sn(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!s(c););else for(;--f>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(Zg.setTime(+s),Qg.setTime(+c),e(Zg),e(Qg),Math.floor(r(Zg,Qg))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const T0=sn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);T0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?sn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):T0);T0.range;const ss=1e3,Ki=ss*60,os=Ki*60,ps=os*24,Qx=ps*7,lC=ps*30,Jg=ps*365,Qo=sn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ss)},(e,t)=>(t-e)/ss,e=>e.getUTCSeconds());Qo.range;const Jx=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getMinutes());Jx.range;const ew=sn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ki)},(e,t)=>(t-e)/Ki,e=>e.getUTCMinutes());ew.range;const tw=sn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ss-e.getMinutes()*Ki)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getHours());tw.range;const rw=sn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCHours());rw.range;const Rd=sn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ki)/ps,e=>e.getDate()-1);Rd.range;const Op=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>e.getUTCDate()-1);Op.range;const p4=sn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ps,e=>Math.floor(e/ps));p4.range;function gl(e){return sn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ki)/Qx)}const Ip=gl(0),P0=gl(1),Wz=gl(2),Vz=gl(3),Ec=gl(4),Hz=gl(5),Gz=gl(6);Ip.range;P0.range;Wz.range;Vz.range;Ec.range;Hz.range;Gz.range;function vl(e){return sn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qx)}const Np=vl(0),k0=vl(1),qz=vl(2),Kz=vl(3),Ac=vl(4),Xz=vl(5),Yz=vl(6);Np.range;k0.range;qz.range;Kz.range;Ac.range;Xz.range;Yz.range;const nw=sn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nw.range;const iw=sn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iw.range;const ms=sn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ms.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ms.range;const gs=sn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:sn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gs.range;function m4(e,t,r,n,i,s){const c=[[Qo,1,ss],[Qo,5,5*ss],[Qo,15,15*ss],[Qo,30,30*ss],[s,1,Ki],[s,5,5*Ki],[s,15,15*Ki],[s,30,30*Ki],[i,1,os],[i,3,3*os],[i,6,6*os],[i,12,12*os],[n,1,ps],[n,2,2*ps],[r,1,Qx],[t,1,lC],[t,3,3*lC],[e,1,Jg]];function f(m,v,w){const _=v<m;_&&([m,v]=[v,m]);const C=w&&typeof w.range=="function"?w:p(m,v,w),O=C?C.range(m,+v+1):[];return _?O.reverse():O}function p(m,v,w){const _=Math.abs(v-m)/w,C=Fx(([,,k])=>k).right(c,_);if(C===c.length)return e.every(xy(m/Jg,v/Jg,w));if(C===0)return T0.every(Math.max(xy(m,v,w),1));const[O,I]=c[_/c[C-1][2]<c[C][2]/_?C-1:C];return O.every(I)}return[f,p]}const[Zz,Qz]=m4(gs,iw,Np,p4,rw,ew),[Jz,e$]=m4(ms,nw,Ip,Rd,tw,Jx);function ev(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Du(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function t$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,f=e.months,p=e.shortMonths,m=Lu(i),v=Bu(i),w=Lu(s),_=Bu(s),C=Lu(c),O=Bu(c),I=Lu(f),k=Bu(f),M=Lu(p),L=Bu(p),j={a:le,A:ve,b:ye,B:we,c:null,d:pC,e:pC,f:_$,g:j$,G:D$,H:b$,I:E$,j:A$,L:g4,m:S$,M:C$,p:Q,q:de,Q:vC,s:yC,S:O$,u:I$,U:N$,V:T$,w:P$,W:k$,x:null,X:null,y:R$,Y:M$,Z:L$,"%":gC},z={a:Me,A:De,b:Xe,B:Ie,c:null,d:mC,e:mC,f:z$,g:Z$,G:J$,H:B$,I:F$,j:U$,L:y4,m:$$,M:W$,p:nt,q:Z,Q:vC,s:yC,S:V$,u:H$,U:G$,V:q$,w:K$,W:X$,x:null,X:null,y:Y$,Y:Q$,Z:eW,"%":gC},W={a:_e,A:me,b:fe,B:Ee,c:ke,d:fC,e:fC,f:v$,g:dC,G:uC,H:hC,I:hC,j:h$,L:g$,m:f$,M:p$,p:X,q:d$,Q:x$,s:w$,S:m$,u:s$,U:o$,V:l$,w:a$,W:c$,x:ne,X:Le,y:dC,Y:uC,Z:u$,"%":y$};j.x=V(r,j),j.X=V(n,j),j.c=V(t,j),z.x=V(r,z),z.X=V(n,z),z.c=V(t,z);function V(te,Ae){return function(Be){var xe=[],Fe=-1,yt=0,Lt=te.length,Yt,xt,Ot;for(Be instanceof Date||(Be=new Date(+Be));++Fe<Lt;)te.charCodeAt(Fe)===37&&(xe.push(te.slice(yt,Fe)),(xt=cC[Yt=te.charAt(++Fe)])!=null?Yt=te.charAt(++Fe):xt=Yt==="e"?" ":"0",(Ot=Ae[Yt])&&(Yt=Ot(Be,xt)),xe.push(Yt),yt=Fe+1);return xe.push(te.slice(yt,Fe)),xe.join("")}}function H(te,Ae){return function(Be){var xe=Du(1900,void 0,1),Fe=ie(xe,te,Be+="",0),yt,Lt;if(Fe!=Be.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Ae&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(yt=tv(Du(xe.y,0,1)),Lt=yt.getUTCDay(),yt=Lt>4||Lt===0?k0.ceil(yt):k0(yt),yt=Op.offset(yt,(xe.V-1)*7),xe.y=yt.getUTCFullYear(),xe.m=yt.getUTCMonth(),xe.d=yt.getUTCDate()+(xe.w+6)%7):(yt=ev(Du(xe.y,0,1)),Lt=yt.getDay(),yt=Lt>4||Lt===0?P0.ceil(yt):P0(yt),yt=Rd.offset(yt,(xe.V-1)*7),xe.y=yt.getFullYear(),xe.m=yt.getMonth(),xe.d=yt.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),Lt="Z"in xe?tv(Du(xe.y,0,1)).getUTCDay():ev(Du(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(Lt+5)%7:xe.w+xe.U*7-(Lt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,tv(xe)):ev(xe)}}function ie(te,Ae,Be,xe){for(var Fe=0,yt=Ae.length,Lt=Be.length,Yt,xt;Fe<yt;){if(xe>=Lt)return-1;if(Yt=Ae.charCodeAt(Fe++),Yt===37){if(Yt=Ae.charAt(Fe++),xt=W[Yt in cC?Ae.charAt(Fe++):Yt],!xt||(xe=xt(te,Be,xe))<0)return-1}else if(Yt!=Be.charCodeAt(xe++))return-1}return xe}function X(te,Ae,Be){var xe=m.exec(Ae.slice(Be));return xe?(te.p=v.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function _e(te,Ae,Be){var xe=C.exec(Ae.slice(Be));return xe?(te.w=O.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function me(te,Ae,Be){var xe=w.exec(Ae.slice(Be));return xe?(te.w=_.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function fe(te,Ae,Be){var xe=M.exec(Ae.slice(Be));return xe?(te.m=L.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function Ee(te,Ae,Be){var xe=I.exec(Ae.slice(Be));return xe?(te.m=k.get(xe[0].toLowerCase()),Be+xe[0].length):-1}function ke(te,Ae,Be){return ie(te,t,Ae,Be)}function ne(te,Ae,Be){return ie(te,r,Ae,Be)}function Le(te,Ae,Be){return ie(te,n,Ae,Be)}function le(te){return c[te.getDay()]}function ve(te){return s[te.getDay()]}function ye(te){return p[te.getMonth()]}function we(te){return f[te.getMonth()]}function Q(te){return i[+(te.getHours()>=12)]}function de(te){return 1+~~(te.getMonth()/3)}function Me(te){return c[te.getUTCDay()]}function De(te){return s[te.getUTCDay()]}function Xe(te){return p[te.getUTCMonth()]}function Ie(te){return f[te.getUTCMonth()]}function nt(te){return i[+(te.getUTCHours()>=12)]}function Z(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var Ae=V(te+="",j);return Ae.toString=function(){return te},Ae},parse:function(te){var Ae=H(te+="",!1);return Ae.toString=function(){return te},Ae},utcFormat:function(te){var Ae=V(te+="",z);return Ae.toString=function(){return te},Ae},utcParse:function(te){var Ae=H(te+="",!0);return Ae.toString=function(){return te},Ae}}}var cC={"-":"",_:" ",0:"0"},yn=/^\s*\d+/,r$=/^%/,n$=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function i$(e){return e.replace(n$,"\\$&")}function Lu(e){return new RegExp("^(?:"+e.map(i$).join("|")+")","i")}function Bu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function a$(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function s$(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function o$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function l$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function c$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function uC(e,t,r){var n=yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dC(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function u$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function d$(e,t,r){var n=yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function f$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fC(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function h$(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hC(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function p$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function m$(e,t,r){var n=yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function g$(e,t,r){var n=yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function v$(e,t,r){var n=yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function y$(e,t,r){var n=r$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function x$(e,t,r){var n=yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function w$(e,t,r){var n=yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pC(e,t){return kt(e.getDate(),t,2)}function b$(e,t){return kt(e.getHours(),t,2)}function E$(e,t){return kt(e.getHours()%12||12,t,2)}function A$(e,t){return kt(1+Rd.count(ms(e),e),t,3)}function g4(e,t){return kt(e.getMilliseconds(),t,3)}function _$(e,t){return g4(e,t)+"000"}function S$(e,t){return kt(e.getMonth()+1,t,2)}function C$(e,t){return kt(e.getMinutes(),t,2)}function O$(e,t){return kt(e.getSeconds(),t,2)}function I$(e){var t=e.getDay();return t===0?7:t}function N$(e,t){return kt(Ip.count(ms(e)-1,e),t,2)}function v4(e){var t=e.getDay();return t>=4||t===0?Ec(e):Ec.ceil(e)}function T$(e,t){return e=v4(e),kt(Ec.count(ms(e),e)+(ms(e).getDay()===4),t,2)}function P$(e){return e.getDay()}function k$(e,t){return kt(P0.count(ms(e)-1,e),t,2)}function R$(e,t){return kt(e.getFullYear()%100,t,2)}function j$(e,t){return e=v4(e),kt(e.getFullYear()%100,t,2)}function M$(e,t){return kt(e.getFullYear()%1e4,t,4)}function D$(e,t){var r=e.getDay();return e=r>=4||r===0?Ec(e):Ec.ceil(e),kt(e.getFullYear()%1e4,t,4)}function L$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function mC(e,t){return kt(e.getUTCDate(),t,2)}function B$(e,t){return kt(e.getUTCHours(),t,2)}function F$(e,t){return kt(e.getUTCHours()%12||12,t,2)}function U$(e,t){return kt(1+Op.count(gs(e),e),t,3)}function y4(e,t){return kt(e.getUTCMilliseconds(),t,3)}function z$(e,t){return y4(e,t)+"000"}function $$(e,t){return kt(e.getUTCMonth()+1,t,2)}function W$(e,t){return kt(e.getUTCMinutes(),t,2)}function V$(e,t){return kt(e.getUTCSeconds(),t,2)}function H$(e){var t=e.getUTCDay();return t===0?7:t}function G$(e,t){return kt(Np.count(gs(e)-1,e),t,2)}function x4(e){var t=e.getUTCDay();return t>=4||t===0?Ac(e):Ac.ceil(e)}function q$(e,t){return e=x4(e),kt(Ac.count(gs(e),e)+(gs(e).getUTCDay()===4),t,2)}function K$(e){return e.getUTCDay()}function X$(e,t){return kt(k0.count(gs(e)-1,e),t,2)}function Y$(e,t){return kt(e.getUTCFullYear()%100,t,2)}function Z$(e,t){return e=x4(e),kt(e.getUTCFullYear()%100,t,2)}function Q$(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function J$(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ac(e):Ac.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function eW(){return"+0000"}function gC(){return"%"}function vC(e){return+e}function yC(e){return Math.floor(+e/1e3)}var Ql,w4,b4;tW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tW(e){return Ql=t$(e),w4=Ql.format,Ql.parse,b4=Ql.utcFormat,Ql.utcParse,Ql}function rW(e){return new Date(e)}function nW(e){return e instanceof Date?+e:+new Date(+e)}function aw(e,t,r,n,i,s,c,f,p,m){var v=Hx(),w=v.invert,_=v.domain,C=m(".%L"),O=m(":%S"),I=m("%I:%M"),k=m("%I %p"),M=m("%a %d"),L=m("%b %d"),j=m("%B"),z=m("%Y");function W(V){return(p(V)<V?C:f(V)<V?O:c(V)<V?I:s(V)<V?k:n(V)<V?i(V)<V?M:L:r(V)<V?j:z)(V)}return v.invert=function(V){return new Date(w(V))},v.domain=function(V){return arguments.length?_(Array.from(V,nW)):_().map(rW)},v.ticks=function(V){var H=_();return e(H[0],H[H.length-1],V??10)},v.tickFormat=function(V,H){return H==null?W:m(H)},v.nice=function(V){var H=_();return(!V||typeof V.range!="function")&&(V=t(H[0],H[H.length-1],V??10)),V?_(o4(H,V)):v},v.copy=function(){return kd(v,aw(e,t,r,n,i,s,c,f,p,m))},v}function iW(){return Ji.apply(aw(Jz,e$,ms,nw,Ip,Rd,tw,Jx,Qo,w4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aW(){return Ji.apply(aw(Zz,Qz,gs,iw,Np,Op,rw,ew,Qo,b4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tp(){var e=0,t=1,r,n,i,s,c=qn,f=!1,p;function m(w){return w==null||isNaN(w=+w)?p:c(i===0?.5:(w=(s(w)-r)*i,f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t]=w,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(c=w,m):c};function v(w){return function(_){var C,O;return arguments.length?([C,O]=_,c=w(C,O),m):[c(0),c(1)]}}return m.range=v(Rc),m.rangeRound=v(Vx),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return s=w,r=w(e),n=w(t),i=r===n?0:1/(n-r),m}}function ho(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function E4(){var e=fo(Tp()(qn));return e.copy=function(){return ho(e,E4())},Es.apply(e,arguments)}function A4(){var e=Kx(Tp()).domain([1,10]);return e.copy=function(){return ho(e,A4()).base(e.base())},Es.apply(e,arguments)}function _4(){var e=Xx(Tp());return e.copy=function(){return ho(e,_4()).constant(e.constant())},Es.apply(e,arguments)}function sw(){var e=Yx(Tp());return e.copy=function(){return ho(e,sw()).exponent(e.exponent())},Es.apply(e,arguments)}function sW(){return sw.apply(null,arguments).exponent(.5)}function S4(){var e=[],t=qn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Td(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>HU(e,s/n))},r.copy=function(){return S4(t).domain(e)},Es.apply(r,arguments)}function Pp(){var e=0,t=.5,r=1,n=1,i,s,c,f,p,m=qn,v,w=!1,_;function C(I){return isNaN(I=+I)?_:(I=.5+((I=+v(I))-s)*(n*I<n*s?f:p),m(w?Math.max(0,Math.min(1,I)):I))}C.domain=function(I){return arguments.length?([e,t,r]=I,i=v(e=+e),s=v(t=+t),c=v(r=+r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,C):[e,t,r]},C.clamp=function(I){return arguments.length?(w=!!I,C):w},C.interpolator=function(I){return arguments.length?(m=I,C):m};function O(I){return function(k){var M,L,j;return arguments.length?([M,L,j]=k,m=yz(I,[M,L,j]),C):[m(0),m(.5),m(1)]}}return C.range=O(Rc),C.rangeRound=O(Vx),C.unknown=function(I){return arguments.length?(_=I,C):_},function(I){return v=I,i=I(e),s=I(t),c=I(r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,C}}function C4(){var e=fo(Pp()(qn));return e.copy=function(){return ho(e,C4())},Es.apply(e,arguments)}function O4(){var e=Kx(Pp()).domain([.1,1,10]);return e.copy=function(){return ho(e,O4()).base(e.base())},Es.apply(e,arguments)}function I4(){var e=Xx(Pp());return e.copy=function(){return ho(e,I4()).constant(e.constant())},Es.apply(e,arguments)}function ow(){var e=Yx(Pp());return e.copy=function(){return ho(e,ow()).exponent(e.exponent())},Es.apply(e,arguments)}function oW(){return ow.apply(null,arguments).exponent(.5)}const Hu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zx,scaleDiverging:C4,scaleDivergingLog:O4,scaleDivergingPow:ow,scaleDivergingSqrt:oW,scaleDivergingSymlog:I4,scaleIdentity:s4,scaleImplicit:wy,scaleLinear:a4,scaleLog:l4,scaleOrdinal:Ux,scalePoint:KU,scalePow:Zx,scaleQuantile:d4,scaleQuantize:f4,scaleRadial:u4,scaleSequential:E4,scaleSequentialLog:A4,scaleSequentialPow:sw,scaleSequentialQuantile:S4,scaleSequentialSqrt:sW,scaleSequentialSymlog:_4,scaleSqrt:zz,scaleSymlog:c4,scaleThreshold:h4,scaleTime:iW,scaleUtc:aW,tickFormat:i4},Symbol.toStringTag,{value:"Module"}));var As=e=>e.chartData,kp=ue([As],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lw=(e,t,r,n)=>n?kp(e):As(e),lW=(e,t,r)=>r?kp(e):As(e);function so(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(qt(t)&&qt(r))return!0}return!1}function xC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function N4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(qt(r))i=r;else if(typeof r=="function")return;if(qt(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(so(c))return c}}function cW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(so(n))return xC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Ze(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&T_.test(i)){var p=T_.exec(i);if(p==null||p[1]==null||t==null)c=void 0;else{var m=+p[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(f=Math.max(...t));else if(Ze(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[1]))}catch{}else if(typeof s=="string"&&P_.test(s)){var v=P_.exec(s);if(v==null||v[1]==null||t==null)f=void 0;else{var w=+v[1];f=t[1]+w}}else f=t?.[1];var _=[c,f];if(so(_))return t==null?_:xC(_,t,r)}}}var jc=1e9,uW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uw,gr=!0,Zi="[DecimalError] ",rl=Zi+"Invalid argument: ",cw=Zi+"Exponent out of range: ",Mc=Math.floor,Go=Math.pow,dW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_i,gn=1e7,lr=7,T4=9007199254740991,R0=Mc(T4/lr),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};qe.dividedBy=qe.div=function(e){return cs(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,r=t.constructor;return Kt(cs(t,new r(e),0,1),r.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return Xr(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_i))throw Error(Zi+"NaN");if(r.s<1)throw Error(Zi+(r.s?"NaN":"-Infinity"));return r.eq(_i)?new n(0):(gr=!1,t=cs(hd(r,s),hd(e,s),s),gr=!0,Kt(t,i))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R4(t,e):P4(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Zi+"NaN");return r.s?(gr=!1,t=cs(r,e,0,1).times(e),gr=!0,r.minus(t)):Kt(new n(r),i)};qe.naturalExponential=qe.exp=function(){return k4(this)};qe.naturalLogarithm=qe.ln=function(){return hd(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P4(t,e):R4(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rl+e);if(t=Xr(i)+1,n=i.d.length-1,r=n*lr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};qe.squareRoot=qe.sqrt=function(){var e,t,r,n,i,s,c,f=this,p=f.constructor;if(f.s<1){if(!f.s)return new p(0);throw Error(Zi+"NaN")}for(e=Xr(f),gr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Ra(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Mc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(i.toString()),r=p.precision,i=c=r+3;;)if(s=n,n=s.plus(cs(f,s,c+2)).times(.5),Ra(s.d).slice(0,c)===(t=Ra(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Kt(s,r+1,0),s.times(s).eq(f)){n=s;break}}else if(t!="9999")break;c+=4}return gr=!0,Kt(n,r)};qe.times=qe.mul=function(e){var t,r,n,i,s,c,f,p,m,v=this,w=v.constructor,_=v.d,C=(e=new w(e)).d;if(!v.s||!e.s)return new w(0);for(e.s*=v.s,r=v.e+e.e,p=_.length,m=C.length,p<m&&(s=_,_=C,C=s,c=p,p=m,m=c),s=[],c=p+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=p+n;i>n;)f=s[i]+C[n]*_[i-n-1]+t,s[i--]=f%gn|0,t=f/gn|0;s[i]=(s[i]+t)%gn|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,gr?Kt(e,w.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Da(e,0,jc),t===void 0?t=n.rounding:Da(t,0,8),Kt(r,e+Xr(r)+1,t))};qe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=cl(n,!0):(Da(e,0,jc),t===void 0?t=i.rounding:Da(t,0,8),n=Kt(new i(n),e+1,t),r=cl(n,!0,e+1)),r};qe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?cl(i):(Da(e,0,jc),t===void 0?t=s.rounding:Da(t,0,8),n=Kt(new s(i),e+Xr(i)+1,t),r=cl(n.abs(),!1,e+Xr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Xr(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,r,n,i,s,c,f=this,p=f.constructor,m=12,v=+(e=new p(e));if(!e.s)return new p(_i);if(f=new p(f),!f.s){if(e.s<1)throw Error(Zi+"Infinity");return f}if(f.eq(_i))return f;if(n=p.precision,e.eq(_i))return Kt(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=f.s,c){if((r=v<0?-v:v)<=T4){for(i=new p(_i),t=Math.ceil(n/lr+4),gr=!1;r%2&&(i=i.times(f),bC(i.d,t)),r=Mc(r/2),r!==0;)f=f.times(f),bC(f.d,t);return gr=!0,e.s<0?new p(_i).div(i):Kt(i,n)}}else if(s<0)throw Error(Zi+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,gr=!1,i=e.times(hd(f,n+m)),gr=!0,i=k4(i),i.s=s,i};qe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Xr(i),n=cl(i,r<=s.toExpNeg||r>=s.toExpPos)):(Da(e,1,jc),t===void 0?t=s.rounding:Da(t,0,8),i=Kt(new s(i),e,t),r=Xr(i),n=cl(i,e<=r||r<=s.toExpNeg,e)),n};qe.toSignificantDigits=qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Da(e,1,jc),t===void 0?t=n.rounding:Da(t,0,8)),Kt(new n(r),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return cl(e,t<=r.toExpNeg||t>=r.toExpPos)};function P4(e,t){var r,n,i,s,c,f,p,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),gr?Kt(t,w):t;if(p=e.d,m=t.d,c=e.e,i=t.e,p=p.slice(),s=c-i,s){for(s<0?(n=p,s=-s,f=m.length):(n=m,i=c,f=p.length),c=Math.ceil(w/lr),f=c>f?c+1:f+1,s>f&&(s=f,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(f=p.length,s=m.length,f-s<0&&(s=f,n=m,m=p,p=n),r=0;s;)r=(p[--s]=p[s]+m[s]+r)/gn|0,p[s]%=gn;for(r&&(p.unshift(r),++i),f=p.length;p[--f]==0;)p.pop();return t.d=p,t.e=i,gr?Kt(t,w):t}function Da(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rl+e)}function Ra(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=lr-n.length,r&&(s+=Zs(r)),s+=n;c=e[t],n=c+"",r=lr-n.length,r&&(s+=Zs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var cs=(function(){function e(n,i){var s,c=0,f=n.length;for(n=n.slice();f--;)s=n[f]*i+c,n[f]=s%gn|0,c=s/gn|0;return c&&n.unshift(c),n}function t(n,i,s,c){var f,p;if(s!=c)p=s>c?1:-1;else for(f=p=0;f<s;f++)if(n[f]!=i[f]){p=n[f]>i[f]?1:-1;break}return p}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*gn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var f,p,m,v,w,_,C,O,I,k,M,L,j,z,W,V,H,ie,X=n.constructor,_e=n.s==i.s?1:-1,me=n.d,fe=i.d;if(!n.s)return new X(n);if(!i.s)throw Error(Zi+"Division by zero");for(p=n.e-i.e,H=fe.length,W=me.length,C=new X(_e),O=C.d=[],m=0;fe[m]==(me[m]||0);)++m;if(fe[m]>(me[m]||0)&&--p,s==null?L=s=X.precision:c?L=s+(Xr(n)-Xr(i))+1:L=s,L<0)return new X(0);if(L=L/lr+2|0,m=0,H==1)for(v=0,fe=fe[0],L++;(m<W||v)&&L--;m++)j=v*gn+(me[m]||0),O[m]=j/fe|0,v=j%fe|0;else{for(v=gn/(fe[0]+1)|0,v>1&&(fe=e(fe,v),me=e(me,v),H=fe.length,W=me.length),z=H,I=me.slice(0,H),k=I.length;k<H;)I[k++]=0;ie=fe.slice(),ie.unshift(0),V=fe[0],fe[1]>=gn/2&&++V;do v=0,f=t(fe,I,H,k),f<0?(M=I[0],H!=k&&(M=M*gn+(I[1]||0)),v=M/V|0,v>1?(v>=gn&&(v=gn-1),w=e(fe,v),_=w.length,k=I.length,f=t(w,I,_,k),f==1&&(v--,r(w,H<_?ie:fe,_))):(v==0&&(f=v=1),w=fe.slice()),_=w.length,_<k&&w.unshift(0),r(I,w,k),f==-1&&(k=I.length,f=t(fe,I,H,k),f<1&&(v++,r(I,H<k?ie:fe,k))),k=I.length):f===0&&(v++,I=[0]),O[m++]=v,f&&I[0]?I[k++]=me[z]||0:(I=[me[z]],k=1);while((z++<W||I[0]!==void 0)&&L--)}return O[0]||O.shift(),C.e=p,Kt(C,c?s+Xr(C)+1:s)}})();function k4(e,t){var r,n,i,s,c,f,p=0,m=0,v=e.constructor,w=v.precision;if(Xr(e)>16)throw Error(cw+Xr(e));if(!e.s)return new v(_i);for(gr=!1,f=w,c=new v(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(Go(2,m))/Math.LN10*2+5|0,f+=n,r=i=s=new v(_i),v.precision=f;;){if(i=Kt(i.times(e),f),r=r.times(++p),c=s.plus(cs(i,r,f)),Ra(c.d).slice(0,f)===Ra(s.d).slice(0,f)){for(;m--;)s=Kt(s.times(s),f);return v.precision=w,t==null?(gr=!0,Kt(s,w)):s}s=c}}function Xr(e){for(var t=e.e*lr,r=e.d[0];r>=10;r/=10)t++;return t}function rv(e,t,r){if(t>e.LN10.sd())throw gr=!0,r&&(e.precision=r),Error(Zi+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function Zs(e){for(var t="";e--;)t+="0";return t}function hd(e,t){var r,n,i,s,c,f,p,m,v,w=1,_=10,C=e,O=C.d,I=C.constructor,k=I.precision;if(C.s<1)throw Error(Zi+(C.s?"NaN":"-Infinity"));if(C.eq(_i))return new I(0);if(t==null?(gr=!1,m=k):m=t,C.eq(10))return t==null&&(gr=!0),rv(I,m);if(m+=_,I.precision=m,r=Ra(O),n=r.charAt(0),s=Xr(C),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)C=C.times(e),r=Ra(C.d),n=r.charAt(0),w++;s=Xr(C),n>1?(C=new I("0."+r),s++):C=new I(n+"."+r.slice(1))}else return p=rv(I,m+2,k).times(s+""),C=hd(new I(n+"."+r.slice(1)),m-_).plus(p),I.precision=k,t==null?(gr=!0,Kt(C,k)):C;for(f=c=C=cs(C.minus(_i),C.plus(_i),m),v=Kt(C.times(C),m),i=3;;){if(c=Kt(c.times(v),m),p=f.plus(cs(c,new I(i),m)),Ra(p.d).slice(0,m)===Ra(f.d).slice(0,m))return f=f.times(2),s!==0&&(f=f.plus(rv(I,m+2,k).times(s+""))),f=cs(f,new I(w),m),I.precision=k,t==null?(gr=!0,Kt(f,k)):f;f=p,i+=2}}function wC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Mc(r/lr),e.d=[],n=(r+1)%lr,r<0&&(n+=lr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=lr;n<i;)e.d.push(+t.slice(n,n+=lr));t=t.slice(n),n=lr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),gr&&(e.e>R0||e.e<-R0))throw Error(cw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,i,s,c,f,p,m,v,w=e.d;for(c=1,s=w[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=lr,i=t,m=w[v=0];else{if(v=Math.ceil((n+1)/lr),s=w.length,v>=s)return e;for(m=s=w[v],c=1;s>=10;s/=10)c++;n%=lr,i=n-lr+c}if(r!==void 0&&(s=Go(10,c-i-1),f=m/s%10|0,p=t<0||w[v+1]!==void 0||m%s,p=r<4?(f||p)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||p||r==6&&(n>0?i>0?m/Go(10,c-i):0:w[v-1])%10&1||r==(e.s<0?8:7))),t<1||!w[0])return p?(s=Xr(e),w.length=1,t=t-s-1,w[0]=Go(10,(lr-t%lr)%lr),e.e=Mc(-t/lr)||0):(w.length=1,w[0]=e.e=e.s=0),e;if(n==0?(w.length=v,s=1,v--):(w.length=v+1,s=Go(10,lr-n),w[v]=i>0?(m/Go(10,c-i)%Go(10,i)|0)*s:0),p)for(;;)if(v==0){(w[0]+=s)==gn&&(w[0]=1,++e.e);break}else{if(w[v]+=s,w[v]!=gn)break;w[v--]=0,s=1}for(n=w.length;w[--n]===0;)w.pop();if(gr&&(e.e>R0||e.e<-R0))throw Error(cw+Xr(e));return e}function R4(e,t){var r,n,i,s,c,f,p,m,v,w,_=e.constructor,C=_.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new _(e),gr?Kt(t,C):t;if(p=e.d,w=t.d,n=t.e,m=e.e,p=p.slice(),c=m-n,c){for(v=c<0,v?(r=p,c=-c,f=w.length):(r=w,n=m,f=p.length),i=Math.max(Math.ceil(C/lr),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=p.length,f=w.length,v=i<f,v&&(f=i),i=0;i<f;i++)if(p[i]!=w[i]){v=p[i]<w[i];break}c=0}for(v&&(r=p,p=w,w=r,t.s=-t.s),f=p.length,i=w.length-f;i>0;--i)p[f++]=0;for(i=w.length;i>c;){if(p[--i]<w[i]){for(s=i;s&&p[--s]===0;)p[s]=gn-1;--p[s],p[i]+=gn}p[i]-=w[i]}for(;p[--f]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,gr?Kt(t,C):t):new _(0)}function cl(e,t,r){var n,i=Xr(e),s=Ra(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+Zs(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Zs(-i-1)+s,r&&(n=r-c)>0&&(s+=Zs(n))):i>=c?(s+=Zs(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+Zs(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=Zs(n))),e.s<0?"-"+s:s}function bC(e,t){if(e.length>t)return e.length=t,!0}function j4(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(rl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return wC(c,s.toString())}else if(typeof s!="string")throw Error(rl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,dW.test(s))wC(c,s);else throw Error(rl+s)}if(i.prototype=qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j4,i.config=i.set=fW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fW(e){if(!e||typeof e!="object")throw Error(Zi+"Object expected");var t,r,n,i=["precision",1,jc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Mc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(rl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rl+r+": "+n);return this}var uw=j4(uW);_i=new uw(1);const $t=uw;var hW=e=>e,M4={},D4=e=>e===M4,EC=e=>function t(){return arguments.length===0||arguments.length===1&&D4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},L4=(e,t)=>e===1?t:EC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==M4).length;return s>=e?t(...n):L4(e-s,EC(function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];var m=n.map(v=>D4(v)?f.shift():v);return t(...m,...f)}))}),pW=e=>L4(e.length,e),_y=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},mW=pW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),gW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hW;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((f,p)=>p(f),s(...arguments))}};function B4(e){var t;return e===0?t=1:t=Math.floor(new $t(e).abs().log(10).toNumber())+1,t}function F4(e,t,r){for(var n=new $t(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var U4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},z4=(e,t,r)=>{if(e.lte(0))return new $t(0);var n=B4(e.toNumber()),i=new $t(10).pow(n),s=e.div(i),c=n!==1?.05:.1,f=new $t(Math.ceil(s.div(c).toNumber())).add(r).mul(c),p=f.mul(i);return t?new $t(p.toNumber()):new $t(Math.ceil(p.toNumber()))},vW=(e,t,r)=>{var n=new $t(1),i=new $t(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new $t(10).pow(B4(e)-1),i=new $t(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new $t(Math.floor(e)))}else e===0?i=new $t(Math.floor((t-1)/2)):r||(i=new $t(Math.floor(e)));var c=Math.floor((t-1)/2),f=gW(mW(p=>i.add(new $t(p-c).mul(n)).toNumber()),_y);return f(0,t)},$4=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var c=z4(new $t(r).sub(t).div(n-1),i,s),f;t<=0&&r>=0?f=new $t(0):(f=new $t(t).add(r).div(2),f=f.sub(new $t(f).mod(c)));var p=Math.ceil(f.sub(t).div(c).toNumber()),m=Math.ceil(new $t(r).sub(f).div(c).toNumber()),v=p+m+1;return v>n?$4(t,r,n,i,s+1):(v<n&&(m=r>0?m+(n-v):m,p=r>0?p:p+(n-v)),{step:c,tickMin:f.sub(new $t(p).mul(c)),tickMax:f.add(new $t(m).mul(c))})},yW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,p]=U4([r,n]);if(f===-1/0||p===1/0){var m=p===1/0?[f,..._y(0,i-1).map(()=>1/0)]:[..._y(0,i-1).map(()=>-1/0),p];return r>n?m.reverse():m}if(f===p)return vW(f,i,s);var{step:v,tickMin:w,tickMax:_}=$4(f,p,c,s,0),C=F4(w,_.add(new $t(.1).mul(v)),v);return r>n?C.reverse():C},xW=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=U4([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var p=Math.max(r,2),m=z4(new $t(f).sub(c).div(p-1),s,0),v=[...F4(new $t(c),new $t(f),m),f];return s===!1&&(v=v.map(w=>Math.round(w))),n>i?v.reverse():v},W4=e=>e.rootProps.maxBarSize,wW=e=>e.rootProps.barGap,V4=e=>e.rootProps.barCategoryGap,bW=e=>e.rootProps.barSize,jd=e=>e.rootProps.stackOffset,H4=e=>e.rootProps.reverseStackOrder,dw=e=>e.options.chartName,fw=e=>e.rootProps.syncId,G4=e=>e.rootProps.syncMethod,hw=e=>e.options.eventEmitter,Kr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ei={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Rp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},EW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:is.reversed,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:is.type,unit:void 0},AW={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,ticks:void 0,type:Ei.type,unit:void 0},_W={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:is.scale,tick:is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},SW={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,ticks:void 0,type:"category",unit:void 0},pw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_W:EW,mw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?SW:AW,jp=e=>e.polarOptions,gw=ue([ws,bs,an],VT),q4=ue([jp,gw],(e,t)=>{if(e!=null)return zn(e.innerRadius,t,0)}),K4=ue([jp,gw],(e,t)=>{if(e!=null)return zn(e.outerRadius,t,t*.8)}),CW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},X4=ue([jp],CW);ue([pw,X4],Rp);var Y4=ue([gw,q4,K4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([mw,Y4],Rp);var Z4=ue([Rt,jp,q4,K4,ws,bs],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:p,endAngle:m}=t;return{cx:zn(c,i,i/2),cy:zn(f,s,s/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:m,clockWise:!1}}}),yr=(e,t)=>t,Md=(e,t,r)=>r;function vw(e){return e?.id}function Q4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(f=>{var p,m=(p=f.data)!==null&&p!==void 0?p:n;if(!(m==null||m.length===0)){var v=vw(f);m.forEach((w,_)=>{var C=s==null||i?_:String(Ut(w,s,null)),O=Ut(w,f.dataKey,0),I;c.has(C)?I=c.get(C):I={},Object.assign(I,{[v]:O}),c.set(C,I)})}}),Array.from(c.values())}function Mp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Dp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Lp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function OW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var on=e=>{var t=Rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Dc=e=>e.tooltip.settings.axisId;function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=TW(e,"string");return typeof t=="symbol"?t:t+""}function TW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sy=[0,"auto"],pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J4=(e,t)=>e.cartesianAxis.xAxis[t],Ba=(e,t)=>{var r=J4(e,t);return r??pn},mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Sy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sd},eP=(e,t)=>e.cartesianAxis.yAxis[t],Fa=(e,t)=>{var r=eP(e,t);return r??mn},tP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??tP},_r=(e,t,r)=>{switch(t){case"xAxis":return Ba(e,r);case"yAxis":return Fa(e,r);case"zAxis":return yw(e,r);case"angleAxis":return pw(e,r);case"radiusAxis":return mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},PW=(e,t,r)=>{switch(t){case"xAxis":return Ba(e,r);case"yAxis":return Fa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Dd=(e,t,r)=>{switch(t){case"xAxis":return Ba(e,r);case"yAxis":return Fa(e,r);case"angleAxis":return pw(e,r);case"radiusAxis":return mw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bp=e=>e.graphicalItems.cartesianItems,kW=ue([yr,Md],xw),ww=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Ld=ue([Bp,_r,kW],ww,{memoizeOptions:{resultEqualityCheck:Lp}}),nP=ue([Ld],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Mp)),iP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),RW=ue([Ld],iP),bw=e=>e.map(t=>t.data).filter(Boolean).flat(1),jW=ue([Ld],bw,{memoizeOptions:{resultEqualityCheck:Lp}}),Ew=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Aw=ue([jW,lw],Ew),_w=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Ut(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ut(i,n)}))):e.map(n=>({value:n})),Fp=ue([Aw,_r,Ld],_w);function aP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dh(e){if(Xi(e)||e instanceof Date){var t=Number(e);if(qt(t))return t}}function _C(e){if(Array.isArray(e)){var t=[Dh(e[0]),Dh(e[1])];return so(t)?t:void 0}var r=Dh(e);if(r!=null)return[r,r]}function vs(e){return e.map(Dh).filter(C9)}function MW(e,t,r){return!r||typeof t!="number"||Ti(t)?[]:r.length?vs(r.flatMap(n=>{var i=Ut(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!qt(s)||!qt(c)))return[t-s,t+c]})):[]}var ln=e=>{var t=on(e),r=Dc(e);return Dd(e,t,r)},Bd=ue([ln],e=>e?.dataKey),DW=ue([nP,lw,ln],Q4),sP=(e,t,r,n)=>{var i={},s=t.reduce((c,f)=>{if(f.stackId==null)return c;var p=c[f.stackId];return p==null&&(p=[]),p.push(f),c[f.stackId]=p,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[f,p]=c,m=n?[...p].reverse():p,v=m.map(vw);return[f,{stackedData:tB(e,v,r),graphicalItems:m}]}))},Cy=ue([DW,nP,jd,H4],sP),oP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=sB(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},LW=ue([_r],e=>e.allowDataOverflow),Sw=e=>{var t;if(e==null||!("domain"in e))return Sy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=vs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Sy},Cw=ue([_r],Sw),Ow=ue([Cw,LW],N4),BW=ue([Cy,As,yr,Ow],oP,{memoizeOptions:{resultEqualityCheck:Dp}}),Up=e=>e.errorBars,FW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>aP(r,n)),M0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),f=Math.max(...s);return[c,f]}},Iw=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(f=>{r.forEach(p=>{var m,v,w=(m=n[p.id])===null||m===void 0?void 0:m.filter(M=>aP(i,M)),_=Ut(f,(v=t.dataKey)!==null&&v!==void 0?v:p.dataKey),C=MW(f,_,w);if(C.length>=2){var O=Math.min(...C),I=Math.max(...C);(s==null||O<s)&&(s=O),(c==null||I>c)&&(c=I)}var k=_C(_);k!=null&&(s=s==null?k[0]:Math.min(s,k[0]),c=c==null?k[1]:Math.max(c,k[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var p=_C(Ut(f,t.dataKey));p!=null&&(s=s==null?p[0]:Math.min(s,p[0]),c=c==null?p[1]:Math.max(c,p[1]))}),qt(s)&&qt(c))return[s,c]},UW=ue([Aw,_r,RW,Up,yr],Iw,{memoizeOptions:{resultEqualityCheck:Dp}});function zW(e){var{value:t}=e;if(Xi(t)||t instanceof Date)return t}var $W=(e,t,r)=>{var n=e.map(zW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&_N(n))?KT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},lP=e=>e.referenceElements.dots,Lc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),WW=ue([lP,yr,Md],Lc),cP=e=>e.referenceElements.areas,VW=ue([cP,yr,Md],Lc),uP=e=>e.referenceElements.lines,HW=ue([uP,yr,Md],Lc),dP=(e,t)=>{if(e!=null){var r=vs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},GW=ue(WW,yr,dP),fP=(e,t)=>{if(e!=null){var r=vs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qW=ue([VW,yr],fP);function KW(e){var t;if(e.x!=null)return vs([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:vs(r)}function XW(e){var t;if(e.y!=null)return vs([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:vs(r)}var hP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?KW(n):XW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},YW=ue([HW,yr],hP),ZW=ue(GW,YW,qW,(e,t,r)=>M0(e,r,t)),Nw=(e,t,r,n,i,s,c,f)=>{if(r!=null)return r;var p=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",m=p?M0(n,s,i):M0(s,i);return cW(t,m,e.allowDataOverflow)},QW=ue([_r,Cw,Ow,BW,UW,ZW,Rt,yr],Nw,{memoizeOptions:{resultEqualityCheck:Dp}}),JW=[0,1],Tw=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:p}=e,m=ml(t,s);if(m&&f==null){var v;return KT(0,(v=r?.length)!==null&&v!==void 0?v:0)}return p==="category"?$W(n,e,m):i==="expand"?JW:c}},Pw=ue([_r,Rt,Aw,Fp,jd,yr,QW],Tw),pP=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var f="scale".concat(bd(s));return f in Hu?f:"point"}}},Bc=ue([_r,Rt,rP,dw,yr],pP);function eV(e){if(e!=null){if(e in Hu)return Hu[e]();var t="scale".concat(bd(e));if(t in Hu)return Hu[t]()}}function kw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=eV(t);if(i!=null){var s=i.domain(r).range(n);return YL(s),s}}}var Rw=(e,t,r)=>{var n=Sw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&so(e))return yW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&so(e))return xW(e,t.tickCount,t.allowDecimals)}},jw=ue([Pw,Dd,Bc],Rw),Mw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&so(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,s),Math.max(c,f)]}return t},tV=ue([_r,Pw,jw,yr],Mw),rV=ue(Fp,_r,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(vs(e.map(w=>w.value))).sort((w,_)=>w-_),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var p=n[f],m=n[f+1];if(!(p==null||m==null)){var v=m-p;r=Math.min(r,v)}}return r/c}}),mP=ue(rV,Rt,V4,an,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!qt(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=zn(r,e*s),f=e*s/2;return f-c-(f-c)/s*c}return 0}),nV=(e,t,r)=>{var n=Ba(e,t);return n==null||typeof n.padding!="string"?0:mP(e,"xAxis",t,r,n.padding)},iV=(e,t,r)=>{var n=Fa(e,t);return n==null||typeof n.padding!="string"?0:mP(e,"yAxis",t,r,n.padding)},aV=ue(Ba,nV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),sV=ue(Fa,iV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),oV=ue([an,aV,xp,yp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),lV=ue([an,Rt,sV,xp,yp,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return oV(e,r,n);case"yAxis":return lV(e,r,n);case"zAxis":return(i=yw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return X4(e);case"radiusAxis":return Y4(e,r);default:return}},gP=ue([_r,Fd],Rp),_c=ue([_r,Bc,tV,gP],kw);ue([Ld,Up,yr],FW);function vP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var zp=(e,t)=>t,$p=(e,t,r)=>r,cV=ue(gp,zp,$p,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vP)),uV=ue(vp,zp,$p,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(vP)),yP=(e,t)=>({width:e.width,height:t.height}),dV=(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}},xP=ue(an,Ba,yP),fV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},hV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},pV=ue(bs,an,cV,zp,$p,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=yP(t,f);c==null&&(c=fV(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[f.id]=c-Number(m)*p.height,c+=(m?-1:1)*p.height}),s}),mV=ue(ws,an,uV,zp,$p,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=dV(t,f);c==null&&(c=hV(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[f.id]=c-Number(m)*p.width,c+=(m?-1:1)*p.width}),s}),gV=(e,t)=>{var r=Ba(e,t);if(r!=null)return pV(e,r.orientation,r.mirror)},vV=ue([an,Ba,gV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yV=(e,t)=>{var r=Fa(e,t);if(r!=null)return mV(e,r.orientation,r.mirror)},xV=ue([an,Fa,yV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),wP=ue(an,Fa,(e,t)=>{var r=typeof t.width=="number"?t.width:Sd;return{width:r,height:e.height}}),SC=(e,t,r)=>{switch(t){case"xAxis":return xP(e,r).width;case"yAxis":return wP(e,r).height;default:return}},bP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,f=ml(e,n),p=t.map(m=>m.value);if(c&&f&&s==="category"&&i&&_N(p))return p}},Dw=ue([Rt,Fp,_r,yr],bP),EP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=ml(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(f=>f.value)}},Lw=ue([Rt,Fp,Dd,yr],EP),CC=ue([Rt,PW,Bc,_c,Dw,Lw,Fd,jw,yr],(e,t,r,n,i,s,c,f,p)=>{if(t!=null){var m=ml(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:f,range:c,realScaleType:r,scale:n}}}),wV=(e,t,r,n,i,s,c,f,p)=>{if(!(t==null||n==null)){var m=ml(e,p),{type:v,ticks:w,tickCount:_}=t,C=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,O=v==="category"&&n.bandwidth?n.bandwidth()/C:0;O=p==="angleAxis"&&s!=null&&s.length>=2?vn(s[0]-s[1])*2*O:O;var I=w||i;if(I){var k=I.map((M,L)=>{var j=c?c.indexOf(M):M;return{index:L,coordinate:n(j)+O,value:M,offset:O}});return k.filter(M=>qt(M.coordinate))}return m&&f?f.map((M,L)=>({coordinate:n(M)+O,value:M,index:L,offset:O})).filter(M=>qt(M.coordinate)):n.ticks?n.ticks(_).map(M=>({coordinate:n(M)+O,value:M,offset:O})):n.domain().map((M,L)=>({coordinate:n(M)+O,value:c?c[M]:M,index:L,offset:O}))}},AP=ue([Rt,Dd,Bc,_c,jw,Fd,Dw,Lw,yr],wV),bV=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=ml(e,c),{tickCount:p}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?vn(n[0]-n[1])*2*m:m,f&&s?s.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(p).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:i?i[v]:v,index:w,offset:m}))}},oo=ue([Rt,Dd,_c,Fd,Dw,Lw,yr],bV),lo=ue(_r,_c,(e,t)=>{if(!(e==null||t==null))return j0(j0({},e),{},{scale:t})}),EV=ue([_r,Bc,Pw,gP],kw),AV=ue((e,t,r)=>yw(e,r),EV,(e,t)=>{if(!(e==null||t==null))return j0(j0({},e),{},{scale:t})}),_V=ue([Rt,gp,vp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_P=e=>e.options.defaultTooltipEventType,SP=e=>e.options.validateTooltipEventTypes;function CP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bw(e,t){var r=_P(e),n=SP(e);return CP(t,r,n)}function SV(e){return Ve(t=>Bw(t,e))}var OP=(e,t)=>{var r,n=Number(t);if(!(Ti(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},CV=e=>e.tooltip.settings,to={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},OV={itemInteraction:{click:to,hover:to},axisInteraction:{click:to,hover:to},keyboardInteraction:to,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IP=li({name:"tooltip",initialState:OV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=va(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:mr()},removeTooltipEntrySettings:{reducer(e,t){var r=va(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:IV,replaceTooltipEntrySettings:NV,removeTooltipEntrySettings:TV,setTooltipSettingsState:PV,setActiveMouseOverItemIndex:NP,mouseLeaveItem:kV,mouseLeaveChart:TP,setActiveClickItemIndex:RV,setMouseOverAxisIndex:PP,setMouseClickAxisIndex:jV,setSyncInteraction:Oy,setKeyboardInteraction:Iy}=IP.actions,MV=IP.reducer;function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){DV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DV(e,t,r){return(t=LV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UV(e){return e.index!=null}var kP=(e,t,r,n)=>{if(t==null)return to;var i=FV(e,t,r);if(i==null)return to;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(UV(i)){if(s)return Eh(Eh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Eh(Eh({},to),{},{coordinate:i.coordinate})};function zV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $V(e,t){var r=zV(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function WV(e,t,r){if(r==null||t==null)return!0;var n=Ut(e,t);return n==null||!so(r)?!0:$V(n,r)}var Fw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!qt(s))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var p=Math.max(c,Math.min(s,f)),m=t[p];return m==null||WV(m,r,n)?String(p):null},RP=(e,t,r,n,i,s,c,f)=>{if(!(s==null||f==null)){var p=c[0],m=p==null?void 0:f(p.positions,s);if(m!=null)return m;var v=i?.[Number(s)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},jP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},Ud=e=>e.options.tooltipPayloadSearcher,Fc=e=>e.tooltip;function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){VV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VV(e,t,r){return(t=HV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qV(e,t){return e??t}var MP=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:f,computedData:p,dataStartIndex:m,dataEndIndex:v}=r,w=[];return e.reduce((_,C)=>{var O,{dataDefinedOnItem:I,settings:k}=C,M=qV(I,f),L=Array.isArray(M)?yT(M,m,v):M,j=(O=k?.dataKey)!==null&&O!==void 0?O:n,z=k?.nameKey,W;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?W=SN(L,n,i):W=s(L,t,p,z),Array.isArray(W))W.forEach(H=>{var ie=NC(NC({},k),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});_.push(k_({tooltipEntrySettings:ie,dataKey:H.dataKey,payload:H.payload,value:Ut(H.payload,H.dataKey),name:H.name}))});else{var V;_.push(k_({tooltipEntrySettings:k,dataKey:j,payload:W,value:Ut(W,j),name:(V=Ut(W,z))!==null&&V!==void 0?V:k?.name}))}return _},w)}},Uw=ue([ln,Rt,rP,dw,on],pP),KV=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),XV=ue([on,Dc],xw),Uc=ue([KV,ln,XV],ww,{memoizeOptions:{resultEqualityCheck:Lp}}),YV=ue([Uc],e=>e.filter(Mp)),ZV=ue([Uc],bw,{memoizeOptions:{resultEqualityCheck:Lp}}),zc=ue([ZV,As],Ew),QV=ue([YV,As,ln],Q4),zw=ue([zc,ln,Uc],_w),DP=ue([ln],Sw),JV=ue([ln],e=>e.allowDataOverflow),LP=ue([DP,JV],N4),eH=ue([Uc],e=>e.filter(Mp)),tH=ue([QV,eH,jd,H4],sP),rH=ue([tH,As,on,LP],oP),nH=ue([Uc],iP),iH=ue([zc,ln,nH,Up,on],Iw,{memoizeOptions:{resultEqualityCheck:Dp}}),aH=ue([lP,on,Dc],Lc),sH=ue([aH,on],dP),oH=ue([cP,on,Dc],Lc),lH=ue([oH,on],fP),cH=ue([uP,on,Dc],Lc),uH=ue([cH,on],hP),dH=ue([sH,uH,lH],M0),fH=ue([ln,DP,LP,rH,iH,dH,Rt,on],Nw),zd=ue([ln,Rt,zc,zw,jd,on,fH],Tw),hH=ue([zd,ln,Uw],Rw),pH=ue([ln,zd,hH,on],Mw),BP=e=>{var t=on(e),r=Dc(e),n=!1;return Fd(e,t,r,n)},FP=ue([ln,BP],Rp),UP=ue([ln,Uw,pH,FP],kw),mH=ue([Rt,zw,ln,on],bP),gH=ue([Rt,zw,ln,on],EP),vH=(e,t,r,n,i,s,c,f)=>{if(t){var{type:p}=t,m=ml(e,f);if(n){var v=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/v:0;return w=f==="angleAxis"&&i!=null&&i?.length>=2?vn(i[0]-i[1])*2*w:w,m&&c?c.map((_,C)=>({coordinate:n(_)+w,value:_,index:C,offset:w})):n.domain().map((_,C)=>({coordinate:n(_)+w,value:s?s[_]:_,index:C,offset:w}))}}},_s=ue([Rt,ln,Uw,UP,BP,mH,gH,on],vH),$w=ue([_P,SP,CV],(e,t,r)=>CP(r.shared,e,t)),zP=e=>e.tooltip.settings.trigger,Ww=e=>e.tooltip.settings.defaultIndex,$d=ue([Fc,$w,zP,Ww],kP),co=ue([$d,zc,Bd,zd],Fw),$P=ue([_s,co],OP),Vw=ue([$d],e=>{if(e)return e.dataKey}),yH=ue([$d],e=>{if(e)return e.graphicalItemId}),WP=ue([Fc,$w,zP,Ww],jP),xH=ue([ws,bs,Rt,an,_s,Ww,WP,Ud],RP),wH=ue([$d,xH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bH=ue([$d],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),EH=ue([WP,co,As,Bd,$P,Ud,$w],MP);ue([EH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CH=()=>Ve(ln),OH=()=>{var e=CH(),t=Ve(_s),r=Ve(UP);return p0(!e||!r?void 0:PC(PC({},e),{},{scale:r}),t)};function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PH=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},kH=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return Jl(Jl(Jl({},n),qr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var f=i.coordinate,{angle:p}=n;return Jl(Jl(Jl({},n),qr(n.cx,n.cy,f,p)),{},{angle:p,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function RH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VP=(e,t,r,n,i)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var p,m,v,w,_,C=f>0?(p=r[f-1])===null||p===void 0?void 0:p.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,O=(v=r[f])===null||v===void 0?void 0:v.coordinate,I=f>=c-1?(w=r[0])===null||w===void 0?void 0:w.coordinate:(_=r[f+1])===null||_===void 0?void 0:_.coordinate,k=void 0;if(!(C==null||O==null||I==null))if(vn(O-C)!==vn(I-O)){var M=[];if(vn(I-O)===vn(i[1]-i[0])){k=I;var L=O+i[1]-i[0];M[0]=Math.min(L,(L+C)/2),M[1]=Math.max(L,(L+C)/2)}else{k=C;var j=I+i[1]-i[0];M[0]=Math.min(O,(j+O)/2),M[1]=Math.max(O,(j+O)/2)}var z=[Math.min(O,(k+O)/2),Math.max(O,(k+O)/2)];if(e>z[0]&&e<=z[1]||e>=M[0]&&e<=M[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var V=Math.min(C,I),H=Math.max(C,I);if(e>(V+O)/2&&e<=(H+O)/2){var ie;return(ie=r[f])===null||ie===void 0?void 0:ie.index}}}else if(t)for(var X=0;X<c;X++){var _e=t[X];if(_e!=null){var me=t[X+1],fe=t[X-1];if(X===0&&me!=null&&e<=(_e.coordinate+me.coordinate)/2||X===c-1&&fe!=null&&e>(_e.coordinate+fe.coordinate)/2||X>0&&X<c-1&&fe!=null&&me!=null&&e>(_e.coordinate+fe.coordinate)/2&&e<=(_e.coordinate+me.coordinate)/2)return _e.index}}return-1},jH=()=>Ve(dw),Hw=(e,t)=>t,HP=(e,t,r)=>r,Gw=(e,t,r,n)=>n,MH=ue(_s,e=>sp(e,t=>t.coordinate)),qw=ue([Fc,Hw,HP,Gw],kP),Kw=ue([qw,zc,Bd,zd],Fw),DH=(e,t,r)=>{if(t!=null){var n=Fc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},GP=ue([Fc,Hw,HP,Gw],jP),D0=ue([ws,bs,Rt,an,_s,Gw,GP,Ud],RP),LH=ue([qw,D0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),qP=ue([_s,Kw],OP),BH=ue([GP,Kw,As,Bd,qP,Ud,Hw],MP),FH=ue([qw,Kw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),UH=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&RH(e,c)){var f=oB(e,t),p=VP(f,s,i,r,n),m=PH(t,i,p,e);return{activeIndex:String(p),activeCoordinate:m}}},zH=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var f=_U(e,r);if(f){var p=lB(f,t),m=VP(p,c,s,n,i),v=kH(t,s,m,f);return{activeIndex:String(m),activeCoordinate:v}}}},$H=(e,t,r,n,i,s,c,f)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?UH(e,t,n,i,s,c,f):zH(e,t,r,n,i,s,c)},WH=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),VH=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Kr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:OW}});function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH={},XH={zIndexMap:Object.values(Kr).reduce((e,t)=>jC(jC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KH)},YH=new Set(Object.values(Kr));function ZH(e){return YH.has(e)}var KP=li({name:"zIndex",initialState:XH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:mr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ZH(r)&&delete e.zIndexMap[r])},prepare:mr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:mr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:mr()}}}),{registerZIndexPortal:QH,unregisterZIndexPortal:JH,registerZIndexPortalElement:eG,unregisterZIndexPortalElement:tG}=KP.actions,rG=KP.reducer;function ci(e){var{zIndex:t,children:r}=e,n=FB(),i=n&&t!==void 0&&t!==0,s=Nn(),c=Xt();N.useLayoutEffect(()=>i?(c(QH({zIndex:t})),()=>{c(JH({zIndex:t}))}):Ed,[c,t,i]);var f=Ve(p=>WH(p,t,s));return i?f?Qy.createPortal(r,f):null:r}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){nG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nG(e,t,r){return(t=iG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function oG(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:f,cursor:p,tooltipEventType:m,chartName:v}=e,w=r,_=n,C=i;if(!p||!w||v!=="ScatterChart"&&m!=="axis")return null;var O,I,k;if(v==="ScatterChart")O=w,I=BF,k=Kr.cursorLine;else if(v==="BarChart")O=FF(f,w,s,c),I=WT,k=Kr.cursorRectangle;else if(f==="radial"&&ON(w)){var{cx:M,cy:L,radius:j,startAngle:z,endAngle:W}=HT(w);O={cx:M,cy:L,startAngle:z,endAngle:W,innerRadius:j,outerRadius:j},I=qT,k=Kr.cursorLine}else O={points:IU(f,w,s)},I=_p,k=Kr.cursorLine;var V=typeof p=="object"&&"className"in p?p.className:void 0,H=Ah(Ah(Ah(Ah({stroke:"#ccc",pointerEvents:"none"},s),O),vc(p)),{},{payload:_,payloadIndex:C,className:Dt("recharts-tooltip-cursor",V)});return N.createElement(ci,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},N.createElement(sG,{cursor:p,cursorComp:I,cursorProps:H}))}function lG(e){var t=OH(),r=CT(),n=Cd(),i=jH();return t==null||r==null||n==null||i==null?null:N.createElement(oG,Ny({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var XP=N.createContext(null),cG=()=>N.useContext(XP),nv={exports:{}},DC;function uG(){return DC||(DC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,m,v){this.fn=p,this.context=m,this.once=v||!1}function s(p,m,v,w,_){if(typeof v!="function")throw new TypeError("The listener must be a function");var C=new i(v,w||p,_),O=r?r+m:m;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],C]:p._events[O].push(C):(p._events[O]=C,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],v,w;if(this._eventsCount===0)return m;for(w in v=this._events)t.call(v,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},f.prototype.listeners=function(m){var v=r?r+m:m,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,C=w.length,O=new Array(C);_<C;_++)O[_]=w[_].fn;return O},f.prototype.listenerCount=function(m){var v=r?r+m:m,w=this._events[v];return w?w.fn?1:w.length:0},f.prototype.emit=function(m,v,w,_,C,O){var I=r?r+m:m;if(!this._events[I])return!1;var k=this._events[I],M=arguments.length,L,j;if(k.fn){switch(k.once&&this.removeListener(m,k.fn,void 0,!0),M){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,v),!0;case 3:return k.fn.call(k.context,v,w),!0;case 4:return k.fn.call(k.context,v,w,_),!0;case 5:return k.fn.call(k.context,v,w,_,C),!0;case 6:return k.fn.call(k.context,v,w,_,C,O),!0}for(j=1,L=new Array(M-1);j<M;j++)L[j-1]=arguments[j];k.fn.apply(k.context,L)}else{var z=k.length,W;for(j=0;j<z;j++)switch(k[j].once&&this.removeListener(m,k[j].fn,void 0,!0),M){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,v);break;case 3:k[j].fn.call(k[j].context,v,w);break;case 4:k[j].fn.call(k[j].context,v,w,_);break;default:if(!L)for(W=1,L=new Array(M-1);W<M;W++)L[W-1]=arguments[W];k[j].fn.apply(k[j].context,L)}}return!0},f.prototype.on=function(m,v,w){return s(this,m,v,w,!1)},f.prototype.once=function(m,v,w){return s(this,m,v,w,!0)},f.prototype.removeListener=function(m,v,w,_){var C=r?r+m:m;if(!this._events[C])return this;if(!v)return c(this,C),this;var O=this._events[C];if(O.fn)O.fn===v&&(!_||O.once)&&(!w||O.context===w)&&c(this,C);else{for(var I=0,k=[],M=O.length;I<M;I++)(O[I].fn!==v||_&&!O[I].once||w&&O[I].context!==w)&&k.push(O[I]);k.length?this._events[C]=k.length===1?k[0]:k:c(this,C)}return this},f.prototype.removeAllListeners=function(m){var v;return m?(v=r?r+m:m,this._events[v]&&c(this,v)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(nv)),nv.exports}var dG=uG();const fG=Qi(dG);var pd=new fG,Ty="recharts.syncEvent.tooltip",LC="recharts.syncEvent.brush";function Xw(e,t){if(t){var r=Number.parseInt(t,10);if(!Ti(r))return e?.[r]}}var hG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},YP=li({name:"options",initialState:hG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pG=YP.reducer,{createEventEmitter:mG}=YP.actions;function gG(e){return e.tooltip.syncInteraction}var vG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZP=li({name:"chartData",initialState:vG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:BC,setDataStartEndIndexes:yG,setComputedData:Nte}=ZP.actions,xG=ZP.reducer,wG=["x","y"];function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){bG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(e,t,r){return(t=EG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _G(e,t){if(e==null)return{};var r,n,i=SG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CG(){var e=Ve(fw),t=Ve(hw),r=Xt(),n=Ve(G4),i=Ve(_s),s=Cd(),c=kc(),f=Ve(p=>p.rootProps.className);N.useEffect(()=>{if(e==null)return Ed;var p=(m,v,w)=>{if(t!==w&&e===m){if(n==="index"){var _;if(c&&v!==null&&v!==void 0&&(_=v.payload)!==null&&_!==void 0&&_.coordinate&&v.payload.sourceViewBox){var C=v.payload.coordinate,{x:O,y:I}=C,k=_G(C,wG),{x:M,y:L,width:j,height:z}=v.payload.sourceViewBox,W=ec(ec({},k),{},{x:c.x+(j?(O-M)/j:0)*c.width,y:c.y+(z?(I-L)/z:0)*c.height});r(ec(ec({},v),{},{payload:ec(ec({},v.payload),{},{coordinate:W})}))}else r(v);return}if(i!=null){var V;if(typeof n=="function"){var H={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},ie=n(i,H);V=i[ie]}else n==="value"&&(V=i.find(Le=>String(Le.value)===v.payload.label));var{coordinate:X}=v.payload;if(V==null||v.payload.active===!1||X==null||c==null){r(Oy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:_e,y:me}=X,fe=Math.min(_e,c.x+c.width),Ee=Math.min(me,c.y+c.height),ke={x:s==="horizontal"?V.coordinate:fe,y:s==="horizontal"?Ee:V.coordinate},ne=Oy({active:v.payload.active,coordinate:ke,dataKey:v.payload.dataKey,index:String(V.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox,graphicalItemId:v.payload.graphicalItemId});r(ne)}}};return pd.on(Ty,p),()=>{pd.off(Ty,p)}},[f,r,t,e,n,i,s,c])}function OG(){var e=Ve(fw),t=Ve(hw),r=Xt();N.useEffect(()=>{if(e==null)return Ed;var n=(i,s,c)=>{t!==c&&e===i&&r(yG(s))};return pd.on(LC,n),()=>{pd.off(LC,n)}},[r,t,e])}function IG(){var e=Xt();N.useEffect(()=>{e(mG())},[e]),CG(),OG()}function NG(e,t,r,n,i,s){var c=Ve(C=>DH(C,e,t)),f=Ve(hw),p=Ve(fw),m=Ve(G4),v=Ve(gG),w=v?.active,_=kc();N.useEffect(()=>{if(!w&&p!=null&&f!=null){var C=Oy({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:_,graphicalItemId:void 0});pd.emit(Ty,p,C,f)}},[w,r,c,i,n,f,p,m,s,_])}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e){return e.dataKey}function jG(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(vF,t)}var $C=[],MG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function iv(e){var t,r,n=Fr(e,MG),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:f,content:p,filterNull:m,isAnimationActive:v,offset:w,payloadUniqBy:_,position:C,reverseDirection:O,useTranslate3d:I,wrapperStyle:k,cursor:M,shared:L,trigger:j,defaultIndex:z,portal:W,axisId:V}=n,H=Xt(),ie=typeof z=="number"?String(z):z;N.useEffect(()=>{H(PV({shared:L,trigger:j,axisId:V,active:i,defaultIndex:ie}))},[H,L,j,V,i,ie]);var X=kc(),_e=BT(),me=SV(L),{activeIndex:fe,isActive:Ee}=(t=Ve(nt=>FH(nt,me,j,ie)))!==null&&t!==void 0?t:{},ke=Ve(nt=>BH(nt,me,j,ie)),ne=Ve(nt=>qP(nt,me,j,ie)),Le=Ve(nt=>LH(nt,me,j,ie)),le=ke,ve=cG(),ye=(r=i??Ee)!==null&&r!==void 0?r:!1,[we,Q]=$N([le,ye]),de=me==="axis"?ne:void 0;NG(me,j,Le,de,fe,ye);var Me=W??ve;if(Me==null||X==null||me==null)return null;var De=le??$C;ye||(De=$C),m&&De.length&&(De=LN(De.filter(nt=>nt.value!=null&&(nt.hide!==!0||n.includeHidden)),_,RG));var Xe=De.length>0,Ie=N.createElement(_F,{allowEscapeViewBox:s,animationDuration:c,animationEasing:f,isAnimationActive:v,active:ye,coordinate:Le,hasPayload:Xe,offset:w,position:C,reverseDirection:O,useTranslate3d:I,viewBox:X,wrapperStyle:k,lastBoundingBox:we,innerRef:Q,hasPortalFromProps:!!W},jG(p,zC(zC({},n),{},{payload:De,label:de,active:ye,activeIndex:fe,coordinate:Le,accessibilityLayer:_e})));return N.createElement(N.Fragment,null,Qy.createPortal(Ie,Me),ye&&N.createElement(lG,{cursor:M,tooltipEventType:me,coordinate:Le,payload:De,index:fe}))}var ul=e=>null;ul.displayName="Cell";function DG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FG{constructor(t){DG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VG={cacheSize:2e3,enableCache:!0},QP=UG({},VG),VC=new FG(QP.cacheSize),HG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HC="recharts_measurement_span";function GG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(f)}var GC=(e,t)=>{try{var r=document.getElementById(HC);r||(r=document.createElement("span"),r.setAttribute("id",HC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,HG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ku=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sp.isSsr)return{width:0,height:0};if(!QP.enableCache)return GC(t,r);var n=GG(t,r),i=VC.get(n);if(i)return i;var s=GC(t,r);return VC.set(n,s),s},JP;function qG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=XG(e,"string");return typeof t=="symbol"?t:t+""}function XG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JG=["cm","mm","pt","pc","in","Q","px"];function eq(e){return JG.includes(e)}var lc="NaN";function tq(e,t){return e*QG[t]}class In{static parse(t){var r,[,n,i]=(r=ZG.exec(t))!==null&&r!==void 0?r:[];return n==null?In.NaN:new In(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ti(t)&&(this.unit=""),r!==""&&!YG.test(r)&&(this.num=NaN,this.unit=""),eq(r)&&(this.num=tq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new In(NaN,""):new In(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new In(NaN,""):new In(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new In(NaN,""):new In(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new In(NaN,""):new In(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ti(this.num)}}JP=In;qG(In,"NaN",new JP(NaN,""));function e8(e){if(e==null||e.includes(lc))return lc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=qC.exec(t))!==null&&r!==void 0?r:[],c=In.parse(n??""),f=In.parse(s??""),p=i==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return lc;t=t.replace(qC,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,v,w,_]=(m=KC.exec(t))!==null&&m!==void 0?m:[],C=In.parse(v??""),O=In.parse(_??""),I=w==="+"?C.add(O):C.subtract(O);if(I.isNaN())return lc;t=t.replace(KC,I.toString())}return t}var XC=/\(([^()]*)\)/;function rq(e){for(var t=e,r;(r=XC.exec(t))!=null;){var[,n]=r;t=t.replace(XC,e8(n))}return t}function nq(e){var t=e.replace(/\s+/g,"");return t=rq(t),t=e8(t),t}function iq(e){try{return nq(e)}catch{return lc}}function av(e){var t=iq(e.slice(5,-1));return t===lc?"":t}var aq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sq=["dx","dy","angle","className","breakAll"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function YC(e,t){if(e==null)return{};var r,n,i=oq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t8=/[ \f\n\r\t\v\u2028\u2029]+/,r8=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ir(t)||(r?i=t.toString().split(""):i=t.toString().split(t8));var s=i.map(f=>({word:f,width:Ku(f,n).width})),c=r?0:Ku("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function lq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var n8=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:f}=s,p=i[i.length-1];if(p&&f!=null&&(t==null||n||p.width+f+r<Number(t)))p.words.push(c),p.width+=f+r;else{var m={words:[c],width:f};i.push(m)}return i},[]),i8=e=>e.reduce((t,r)=>t.width>r.width?t:r),cq="",ZC=(e,t,r,n,i,s,c,f)=>{var p=e.slice(0,t),m=r8({breakAll:r,style:n,children:p+cq});if(!m)return[!1,[]];var v=n8(m.wordsWithComputedWidth,s,c,f),w=v.length>i||i8(v).width>Number(s);return[w,v]},uq=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:f,breakAll:p}=e,m=Ze(s),v=String(c),w=n8(t,n,r,i);if(!m||i)return w;var _=w.length>s||i8(w).width>Number(n);if(!_)return w;for(var C=0,O=v.length-1,I=0,k;C<=O&&I<=v.length-1;){var M=Math.floor((C+O)/2),L=M-1,[j,z]=ZC(v,L,p,f,s,n,r,i),[W]=ZC(v,M,p,f,s,n,r,i);if(!j&&!W&&(C=M+1),j&&W&&(O=M-1),!j&&W){k=z;break}I++}return k||w},QC=e=>{var t=ir(e)?[]:e.toString().split(t8);return[{words:t,width:void 0}]},dq=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!Sp.isSsr){var f,p,m=r8({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:v,spaceWidth:w}=m;f=v,p=w}else return QC(n);return uq({breakAll:s,children:n,maxLines:c,style:i},f,p,t,!!r)}return QC(n)},a8="#808080",fq={angle:0,breakAll:!1,capHeight:"0.71em",fill:a8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Wp=N.forwardRef((e,t)=>{var r=Fr(e,fq),{x:n,y:i,lineHeight:s,capHeight:c,fill:f,scaleToFit:p,textAnchor:m,verticalAnchor:v}=r,w=YC(r,aq),_=N.useMemo(()=>dq({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:p,style:w.style,width:w.width}),[w.breakAll,w.children,w.maxLines,p,w.style,w.width]),{dx:C,dy:O,angle:I,className:k,breakAll:M}=w,L=YC(w,sq);if(!Xi(n)||!Xi(i)||_.length===0)return null;var j=Number(n)+(Ze(C)?C:0),z=Number(i)+(Ze(O)?O:0);if(!qt(j)||!qt(z))return null;var W;switch(v){case"start":W=av("calc(".concat(c,")"));break;case"middle":W=av("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:W=av("calc(".concat(_.length-1," * -").concat(s,")"));break}var V=[];if(p){var H=_[0].width,{width:ie}=w;V.push("scale(".concat(Ze(ie)&&Ze(H)?ie/H:1,")"))}return I&&V.push("rotate(".concat(I,", ").concat(j,", ").concat(z,")")),V.length&&(L.transform=V.join(" ")),N.createElement("text",Py({},Ni(L),{ref:t,x:j,y:z,className:Dt("recharts-text",k),textAnchor:m,fill:f.includes("url")?a8:f}),_.map((X,_e)=>{var me=X.words.join(M?"":" ");return N.createElement("tspan",{x:j,dy:_e===0?W:s,key:"".concat(me,"-").concat(_e)},me)}))});Wp.displayName="Text";var hq=["labelRef"],pq=["content"];function JC(e,t){if(e==null)return{};var r,n,i=mq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(null,arguments)}var s8=N.createContext(null),o8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:f}=e,p=N.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return N.createElement(s8.Provider,{value:p},f)},l8=()=>{var e=N.useContext(s8),t=kc();return e||ST(t)},xq=N.createContext(null),wq=()=>{var e=N.useContext(xq),t=Ve(Z4);return e||t},bq=e=>{var{value:t,formatter:r}=e,n=ir(e.children)?t:e.children;return typeof r=="function"?r(n):n},Yw=e=>e!=null&&typeof e=="function",Eq=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Aq=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:f,cy:p,innerRadius:m,outerRadius:v,startAngle:w,endAngle:_,clockWise:C}=i,O=(m+v)/2,I=Eq(w,_),k=I>=0?1:-1,M,L;switch(t){case"insideStart":M=w+k*s,L=C;break;case"insideEnd":M=_-k*s,L=!C;break;case"end":M=_+k*s,L=C;break;default:throw new Error("Unsupported position ".concat(t))}L=I<=0?L:!L;var j=qr(f,p,O,M),z=qr(f,p,O,M+(L?1:-1)*359),W="M".concat(j.x,",").concat(j.y,`
    A`).concat(O,",").concat(O,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),V=ir(e.id)?td("recharts-radial-line-"):e.id;return N.createElement("text",as({},n,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:V,d:W})),N.createElement("textPath",{xlinkHref:"#".concat(V)},r))},_q=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:f,endAngle:p}=e,m=(f+p)/2;if(r==="outside"){var{x:v,y:w}=qr(n,i,c+t,m);return{x:v,y:w,textAnchor:v>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+c)/2,{x:C,y:O}=qr(n,i,_,m);return{x:C,y:O,textAnchor:"middle",verticalAnchor:"middle"}},ky=e=>"cx"in e&&Ze(e.cx),Sq=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!ky(r)&&(s=r);var{x:c,y:f,upperWidth:p,lowerWidth:m,height:v}=t,w=c,_=c+(p-m)/2,C=(w+_)/2,O=(p+m)/2,I=w+p/2,k=v>=0?1:-1,M=k*n,L=k>0?"end":"start",j=k>0?"start":"end",z=p>=0?1:-1,W=z*n,V=z>0?"end":"start",H=z>0?"start":"end";if(i==="top"){var ie={x:w+p/2,y:f-M,textAnchor:"middle",verticalAnchor:L};return Lr(Lr({},ie),s?{height:Math.max(f-s.y,0),width:p}:{})}if(i==="bottom"){var X={x:_+m/2,y:f+v+M,textAnchor:"middle",verticalAnchor:j};return Lr(Lr({},X),s?{height:Math.max(s.y+s.height-(f+v),0),width:m}:{})}if(i==="left"){var _e={x:C-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"};return Lr(Lr({},_e),s?{width:Math.max(_e.x-s.x,0),height:v}:{})}if(i==="right"){var me={x:C+O+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"};return Lr(Lr({},me),s?{width:Math.max(s.x+s.width-me.x,0),height:v}:{})}var fe=s?{width:O,height:v}:{};return i==="insideLeft"?Lr({x:C+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"},fe):i==="insideRight"?Lr({x:C+O-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"},fe):i==="insideTop"?Lr({x:w+p/2,y:f+M,textAnchor:"middle",verticalAnchor:j},fe):i==="insideBottom"?Lr({x:_+m/2,y:f+v-M,textAnchor:"middle",verticalAnchor:L},fe):i==="insideTopLeft"?Lr({x:w+W,y:f+M,textAnchor:H,verticalAnchor:j},fe):i==="insideTopRight"?Lr({x:w+p-W,y:f+M,textAnchor:V,verticalAnchor:j},fe):i==="insideBottomLeft"?Lr({x:_+W,y:f+v-M,textAnchor:H,verticalAnchor:L},fe):i==="insideBottomRight"?Lr({x:_+m-W,y:f+v-M,textAnchor:V,verticalAnchor:L},fe):i&&typeof i=="object"&&(Ze(i.x)||fs(i.x))&&(Ze(i.y)||fs(i.y))?Lr({x:c+zn(i.x,O),y:f+zn(i.y,v),textAnchor:"end",verticalAnchor:"end"},fe):Lr({x:I,y:f+v/2,textAnchor:"middle",verticalAnchor:"middle"},fe)},Cq={angle:0,offset:5,zIndex:Kr.label,position:"middle",textBreakAll:!1};function Qs(e){var t=Fr(e,Cq),{viewBox:r,position:n,value:i,children:s,content:c,className:f="",textBreakAll:p,labelRef:m}=t,v=wq(),w=l8(),_=n==="center"?w:v??w,C,O,I;if(r==null?C=_:ky(r)?C=r:C=ST(r),!C||ir(i)&&ir(s)&&!N.isValidElement(c)&&typeof c!="function")return null;var k=Lr(Lr({},t),{},{viewBox:C});if(N.isValidElement(c)){var{labelRef:M}=k,L=JC(k,hq);return N.cloneElement(c,L)}if(typeof c=="function"){var{content:j}=k,z=JC(k,pq);if(O=N.createElement(c,z),N.isValidElement(O))return O}else O=bq(t);var W=Ni(t);if(ky(C)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Aq(t,n,O,W,C);I=_q(C,t.offset,t.position)}else I=Sq(t,C);return N.createElement(ci,{zIndex:t.zIndex},N.createElement(Wp,as({ref:m,className:Dt("recharts-label",f)},W,I,{textAnchor:lq(W.textAnchor)?W.textAnchor:I.textAnchor,breakAll:p}),O))}Qs.displayName="Label";var Oq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(Qs,as({key:"label-implicit"},n)):Xi(e)?N.createElement(Qs,as({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===Qs?N.cloneElement(e,Lr({key:"label-implicit"},n)):N.createElement(Qs,as({key:"label-implicit",content:e},n)):Yw(e)?N.createElement(Qs,as({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(Qs,as({},e,{key:"label-implicit"},n)):null};function c8(e){var{label:t,labelRef:r}=e,n=l8();return Oq(t,n,r)||null}var sv={},ov={},t3;function Iq(){return t3||(t3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(ov)),ov}var lv={},r3;function Nq(){return r3||(r3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(lv)),lv}var n3;function Tq(){return n3||(n3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iq(),r=Nq(),n=Ax();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(sv)),sv}var cv,i3;function Pq(){return i3||(i3=1,cv=Tq().last),cv}var kq=Pq();const Rq=Qi(kq);var jq=["valueAccessor"],Mq=["dataKey","clockWise","id","textBreakAll","zIndex"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function a3(e,t){if(e==null)return{};var r,n,i=Dq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lq=e=>Array.isArray(e.value)?Rq(e.value):e.value,u8=N.createContext(void 0),d8=u8.Provider,f8=N.createContext(void 0),Bq=f8.Provider;function Fq(){return N.useContext(u8)}function Uq(){return N.useContext(f8)}function Lh(e){var{valueAccessor:t=Lq}=e,r=a3(e,jq),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:f}=r,p=a3(r,Mq),m=Fq(),v=Uq(),w=m||v;return!w||!w.length?null:N.createElement(ci,{zIndex:f??Kr.label},N.createElement(Br,{className:"recharts-label-list"},w.map((_,C)=>{var O,I=ir(n)?t(_,C):Ut(_&&_.payload,n),k=ir(s)?{}:{id:"".concat(s,"-").concat(C)};return N.createElement(Qs,L0({key:"label-".concat(C)},Ni(_),p,k,{fill:(O=r.fill)!==null&&O!==void 0?O:_.fill,parentViewBox:_.parentViewBox,value:I,textBreakAll:c,viewBox:_.viewBox,index:C,zIndex:0}))})))}Lh.displayName="LabelList";function Zw(e){var{label:t}=e;return t?t===!0?N.createElement(Lh,{key:"labelList-implicit"}):N.isValidElement(t)||Yw(t)?N.createElement(Lh,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(Lh,L0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var h8=e=>e.graphicalItems.polarItems,zq=ue([yr,Md],xw),Vp=ue([h8,_r,zq],ww),$q=ue([Vp],bw),Hp=ue([$q,kp],Ew),Wq=ue([Hp,_r,Vp],_w);ue([Hp,_r,Vp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=Ut(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Ut(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var s3=()=>{},Vq=ue([Hp,_r,Vp,Up,yr],Iw),Hq=ue([_r,Cw,Ow,s3,Vq,s3,Rt,yr],Nw),p8=ue([_r,Rt,Hp,Wq,jd,yr,Hq],Tw),Gq=ue([p8,_r,Bc],Rw);ue([_r,p8,Gq,yr],Mw);var qq={radiusAxis:{},angleAxis:{}},m8=li({name:"polarAxis",initialState:qq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Tte,removeRadiusAxis:Pte,addAngleAxis:kte,removeAngleAxis:Rte}=m8.actions,Kq=m8.reducer;function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qq=(e,t)=>t,Qw=ue([h8,Qq],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Jq=[],Jw=(e,t,r)=>r?.length===0?Jq:r,g8=ue([kp,Qw,Jw],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>l3(l3({},t.presentationProps),s.props))),i!=null)return i}}),eK=ue([g8,Qw,Jw],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=Ut(n,t.nameKey,t.name),f;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:Pc(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),tK=ue([g8,Qw,Jw,an],(e,t,r,n)=>{if(!(t==null||e==null))return nX({offset:n,pieSettings:t,displayedData:e,cells:r})}),uv={exports:{}},Vt={};var c3;function rK(){if(c3)return Vt;c3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function O(I){if(typeof I=="object"&&I!==null){var k=I.$$typeof;switch(k){case e:switch(I=I.type,I){case r:case i:case n:case p:case m:case _:return I;default:switch(I=I&&I.$$typeof,I){case c:case f:case w:case v:return I;case s:return I;default:return k}}case t:return k}}}return Vt.ContextConsumer=s,Vt.ContextProvider=c,Vt.Element=e,Vt.ForwardRef=f,Vt.Fragment=r,Vt.Lazy=w,Vt.Memo=v,Vt.Portal=t,Vt.Profiler=i,Vt.StrictMode=n,Vt.Suspense=p,Vt.SuspenseList=m,Vt.isContextConsumer=function(I){return O(I)===s},Vt.isContextProvider=function(I){return O(I)===c},Vt.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Vt.isForwardRef=function(I){return O(I)===f},Vt.isFragment=function(I){return O(I)===r},Vt.isLazy=function(I){return O(I)===w},Vt.isMemo=function(I){return O(I)===v},Vt.isPortal=function(I){return O(I)===t},Vt.isProfiler=function(I){return O(I)===i},Vt.isStrictMode=function(I){return O(I)===n},Vt.isSuspense=function(I){return O(I)===p},Vt.isSuspenseList=function(I){return O(I)===m},Vt.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===i||I===n||I===p||I===m||typeof I=="object"&&I!==null&&(I.$$typeof===w||I.$$typeof===v||I.$$typeof===c||I.$$typeof===s||I.$$typeof===f||I.$$typeof===C||I.getModuleId!==void 0)},Vt.typeOf=O,Vt}var u3;function nK(){return u3||(u3=1,uv.exports=rK()),uv.exports}var iK=nK(),d3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",f3=null,dv=null,v8=e=>{if(e===f3&&Array.isArray(dv))return dv;var t=[];return N.Children.forEach(e,r=>{ir(r)||(iK.isFragment(r)?t=t.concat(v8(r.props.children)):t.push(r))}),dv=t,f3=e,t};function Gp(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>d3(i)):n=[d3(t)],v8(e).forEach(i=>{var s=al(i,"type.displayName")||al(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var fv={},h3;function aK(){return h3||(h3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fv)),fv}var hv,p3;function sK(){return p3||(p3=1,hv=aK().isPlainObject),hv}var oK=sK();const lK=Qi(oK);var m3,g3,v3,y3,x3;function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){cK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t,r){return(t=uK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(null,arguments)}function Fu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E3=(e,t,r,n,i)=>{var s=r-n,c;return c=Tr(m3||(m3=Fu(["M ",",",""])),e,t),c+=Tr(g3||(g3=Fu(["L ",",",""])),e+r,t),c+=Tr(v3||(v3=Fu(["L ",",",""])),e+r-s/2,t+i),c+=Tr(y3||(y3=Fu(["L ",",",""])),e+r-s/2-n,t+i),c+=Tr(x3||(x3=Fu(["L ",","," Z"])),e,t),c},fK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hK=e=>{var t=Fr(e,fK),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:v,isUpdateAnimationActive:w}=t,_=N.useRef(null),[C,O]=N.useState(-1),I=N.useRef(i),k=N.useRef(s),M=N.useRef(c),L=N.useRef(r),j=N.useRef(n),z=Nd(e,"trapezoid-");if(N.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var ke=_.current.getTotalLength();ke&&O(ke)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var W=Dt("recharts-trapezoid",f);if(!w)return N.createElement("g",null,N.createElement("path",B0({},Ni(t),{className:W,d:E3(r,n,i,s,c)})));var V=I.current,H=k.current,ie=M.current,X=L.current,_e=j.current,me="0px ".concat(C===-1?1:C,"px"),fe="".concat(C,"px 0px"),Ee=FT(["strokeDasharray"],m,p);return N.createElement(Id,{animationId:z,key:z,canBegin:C>0,duration:m,easing:p,isActive:w,begin:v},ke=>{var ne=Ar(V,i,ke),Le=Ar(H,s,ke),le=Ar(ie,c,ke),ve=Ar(X,r,ke),ye=Ar(_e,n,ke);_.current&&(I.current=ne,k.current=Le,M.current=le,L.current=ve,j.current=ye);var we=ke>0?{transition:Ee,strokeDasharray:fe}:{strokeDasharray:me};return N.createElement("path",B0({},Ni(t),{className:W,d:E3(ve,ye,ne,Le,le),ref:_,style:b3(b3({},we),t.style)}))})},pK=["option","shapeType","activeClassName"];function mK(e,t){if(e==null)return{};var r,n,i=gK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return(t=yK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=xK(e,"string");return typeof t=="symbol"?t:t+""}function xK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wK(e,t){return F0(F0({},t),e)}function bK(e,t){return e==="symbols"}function _3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(WT,r);case"trapezoid":return N.createElement(hK,r);case"sector":return N.createElement(qT,r);case"symbols":if(bK(t))return N.createElement(ap,r);break;case"curve":return N.createElement(_p,r);default:return null}}function EK(e){return N.isValidElement(e)?e.props:e}function U0(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=mK(e,pK),s;if(N.isValidElement(t))s=N.cloneElement(t,F0(F0({},i),EK(t)));else if(typeof t=="function")s=t(i,i.index);else if(lK(t)&&typeof t!="boolean"){var c=wK(t,i);s=N.createElement(_3,{shapeType:r,elementProps:c})}else{var f=i;s=N.createElement(_3,{shapeType:r,elementProps:f})}return i.isActive?N.createElement(Br,{className:n},s):s}var qp=(e,t,r)=>{var n=Xt();return(i,s)=>c=>{e?.(i,s,c),n(NP({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Kp=e=>{var t=Xt();return(r,n)=>i=>{e?.(r,n,i),t(kV())}},Xp=(e,t,r)=>{var n=Xt();return(i,s)=>c=>{e?.(i,s,c),n(RV({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function eb(e){var{tooltipEntrySettings:t}=e,r=Xt(),n=Nn(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(IV(t)):i.current!==t&&r(NV({prev:i.current,next:t})),i.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{i.current&&(r(TV(i.current)),i.current=null)},[r]),null}function y8(e){var{legendPayload:t}=e,r=Xt(),n=Nn(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(jT(t)):i.current!==t&&r(MT({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(DT(i.current)),i.current=null)},[r]),null}function AK(e){var{legendPayload:t}=e,r=Xt(),n=Ve(Rt),i=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(jT(t)):i.current!==t&&r(MT({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(DT(i.current)),i.current=null)},[r]),null}var pv,_K=()=>{var[e]=N.useState(()=>td("uid-"));return e},SK=(pv=eR.useId)!==null&&pv!==void 0?pv:_K;function CK(e,t){var r=SK();return t||(e?"".concat(e,"-").concat(r):r)}var OK=N.createContext(void 0),tb=e=>{var{id:t,type:r,children:n}=e,i=CK("recharts-".concat(r),t);return N.createElement(OK.Provider,{value:i},n(i))},IK={cartesianItems:[],polarItems:[]},x8=li({name:"graphicalItems",initialState:IK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=va(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:mr()},removeCartesianGraphicalItem:{reducer(e,t){var r=va(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(e,t){var r=va(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mr()}}}),{addCartesianGraphicalItem:NK,replaceCartesianGraphicalItem:TK,removeCartesianGraphicalItem:PK,addPolarGraphicalItem:kK,removePolarGraphicalItem:RK}=x8.actions,jK=x8.reducer,MK=e=>{var t=Xt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(NK(e)):r.current!==e&&t(TK({prev:r.current,next:e})),r.current=e},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(t(PK(r.current)),r.current=null)},[t]),null},w8=N.memo(MK);function DK(e){var t=Xt();return N.useLayoutEffect(()=>(t(kK(e)),()=>{t(RK(e))}),[t,e]),null}var LK=["key"],BK=["onMouseEnter","onClick","onMouseLeave"],FK=["id"],UK=["id"];function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){zK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zK(e,t,r){return(t=$K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=WK(e,"string");return typeof t=="symbol"?t:t+""}function WK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}function Yp(e,t){if(e==null)return{};var r,n,i=VK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HK(e){var t=N.useMemo(()=>Gp(e.children,ul),[e.children]),r=Ve(n=>eK(n,e.id,t));return r==null?null:N.createElement(AK,{legendPayload:r})}var GK=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:f,hide:p,tooltipType:m,id:v}=e,w={dataDefinedOnItem:n.map(_=>_.tooltipPayload),positions:n.map(_=>_.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:Pc(f,t),hide:p,type:m,color:c,unit:"",graphicalItemId:v}};return N.createElement(eb,{tooltipEntrySettings:w})}),qK=(e,t)=>e>t?"start":e<t?"end":"middle",KK=(e,t,r)=>zn(typeof t=="function"?t(e):t,r,r*.8),XK=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,f=VT(s,c),p=i+zn(e.cx,s,s/2),m=n+zn(e.cy,c,c/2),v=zn(e.innerRadius,f,0),w=KK(r,e.outerRadius,f),_=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:p,cy:m,innerRadius:v,outerRadius:w,maxRadius:_}},YK=(e,t)=>{var r=vn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function ZK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var QK=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Dt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Yp(t,LK);return N.createElement(_p,uo({},i,{type:"linear",className:r}))},JK=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=Dt("recharts-pie-label-text",ZK(e));return N.createElement(Wp,uo({},t,{alignmentBaseline:"middle",className:i}),n)};function eX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var f=Ii(r),p=vc(i),m=vc(s),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=t.map((_,C)=>{var O=(_.startAngle+_.endAngle)/2,I=qr(_.cx,_.cy,_.outerRadius+v,O),k=Pr(Pr(Pr(Pr({},f),_),{},{stroke:"none"},p),{},{index:C,textAnchor:qK(I.x,_.cx)},I),M=Pr(Pr(Pr(Pr({},f),_),{},{fill:"none",stroke:_.fill},m),{},{index:C,points:[qr(_.cx,_.cy,_.outerRadius,O),I],key:"line"});return N.createElement(ci,{zIndex:Kr.label,key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(C)},N.createElement(Br,null,s&&QK(s,M),JK(i,k,Ut(_,c))))});return N.createElement(Br,{className:"recharts-pie-labels"},w)}function tX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(Zw,{label:i}):N.createElement(eX,{sectors:t,props:r,showLabels:n})}function rX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:c}=e,f=Ve(co),p=Ve(Vw),m=Ve(yH),{onMouseEnter:v,onClick:w,onMouseLeave:_}=i,C=Yp(i,BK),O=qp(v,i.dataKey,c),I=Kp(_),k=Xp(w,i.dataKey,c);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((M,L)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var j=m==null||m===c,z=String(L)===f&&(p==null||i.dataKey===p)&&j,W=f?n:null,V=r&&z?r:W,H=Pr(Pr({},M),{},{stroke:M.stroke,tabIndex:-1,[Px]:L,[kx]:c});return N.createElement(Br,uo({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Tc(C,M,L),{onMouseEnter:O(M,L),onMouseLeave:I(M,L),onClick:k(M,L)}),N.createElement(U0,uo({option:s??V,index:L,shapeType:"sector",isActive:z},H)))}))}function nX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:f,endAngle:p,dataKey:m,nameKey:v,tooltipType:w}=r,_=Math.abs(r.minAngle),C=YK(f,p),O=Math.abs(C),I=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(V=>Ut(V,m,0)!==0).length,M=(O>=360?k:k-1)*I,L=O-k*_-M,j=n.reduce((V,H)=>{var ie=Ut(H,m,0);return V+(Ze(ie)?ie:0)},0),z;if(j>0){var W;z=n.map((V,H)=>{var ie=Ut(V,m,0),X=Ut(V,v,H),_e=XK(r,s,V),me=(Ze(ie)?ie:0)/j,fe,Ee=Pr(Pr({},V),i&&i[H]&&i[H].props);H?fe=W.endAngle+vn(C)*I*(ie!==0?1:0):fe=f;var ke=fe+vn(C)*((ie!==0?_:0)+me*L),ne=(fe+ke)/2,Le=(_e.innerRadius+_e.outerRadius)/2,le=[{name:X,value:ie,payload:Ee,dataKey:m,type:w,graphicalItemId:r.id}],ve=qr(_e.cx,_e.cy,Le,ne);return W=Pr(Pr(Pr(Pr({},r.presentationProps),{},{percent:me,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:le,midAngle:ne,middleRadius:Le,tooltipPosition:ve},Ee),_e),{},{value:ie,dataKey:m,startAngle:fe,endAngle:ke,payload:Ee,paddingAngle:vn(C)*I}),W})}return z}function iX(e){var{showLabels:t,sectors:r,children:n}=e,i=N.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return N.createElement(Bq,{value:t?i:void 0},n)}function aX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,activeShape:m,inactiveShape:v,onAnimationStart:w,onAnimationEnd:_}=t,C=Nd(t,"recharts-pie-"),O=r.current,[I,k]=N.useState(!1),M=N.useCallback(()=>{typeof _=="function"&&_(),k(!1)},[_]),L=N.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]);return N.createElement(iX,{showLabels:!I,sectors:i},N.createElement(Id,{animationId:C,begin:c,duration:f,isActive:s,easing:p,onAnimationStart:L,onAnimationEnd:M,key:C},j=>{var z=[],W=i&&i[0],V=W?.startAngle;return i?.forEach((H,ie)=>{var X=O&&O[ie],_e=ie>0?al(H,"paddingAngle",0):0;if(X){var me=Ar(X.endAngle-X.startAngle,H.endAngle-H.startAngle,j),fe=Pr(Pr({},H),{},{startAngle:V+_e,endAngle:V+me+_e});z.push(fe),V=fe.endAngle}else{var{endAngle:Ee,startAngle:ke}=H,ne=Ar(0,Ee-ke,j),Le=Pr(Pr({},H),{},{startAngle:V+_e,endAngle:V+ne+_e});z.push(Le),V=Le.endAngle}}),r.current=z,N.createElement(Br,null,N.createElement(rX,{sectors:z,activeShape:m,inactiveShape:v,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(tX,{showLabels:!I,sectors:i,props:t}),t.children)}var sX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Kr.area};function oX(e){var{id:t}=e,r=Yp(e,FK),{hide:n,className:i,rootTabIndex:s}=e,c=N.useMemo(()=>Gp(e.children,ul),[e.children]),f=Ve(v=>tK(v,t,c)),p=N.useRef(null),m=Dt("recharts-pie",i);return n||f==null?(p.current=null,N.createElement(Br,{tabIndex:s,className:m})):N.createElement(ci,{zIndex:e.zIndex},N.createElement(GK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(Br,{tabIndex:s,className:m},N.createElement(aX,{props:Pr(Pr({},r),{},{sectors:f}),previousSectorsRef:p,id:t})))}function b8(e){var t=Fr(e,sX),{id:r}=t,n=Yp(t,UK),i=Ii(n);return N.createElement(tb,{id:r,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(DK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(HK,uo({},n,{id:s})),N.createElement(oX,uo({},n,{id:s}))))}b8.displayName="Pie";function C3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=cX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E8=0,dX={xAxis:{},yAxis:{},zAxis:{}},A8=li({name:"cartesianAxis",initialState:dX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:mr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:mr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:mr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=O3(O3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:fX,replaceXAxis:hX,removeXAxis:pX,addYAxis:mX,replaceYAxis:gX,removeYAxis:vX,addZAxis:jte,replaceZAxis:Mte,removeZAxis:Dte,updateYAxisWidth:yX}=A8.actions,xX=A8.reducer,wX=ue([an],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bX=ue([wX,ws,bs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),_8=()=>Ve(bX),I3=(e,t,r)=>{var n=r??e;if(!ir(n))return zn(n,t,0)},EX=(e,t,r)=>{var n={},i=e.filter(Mp),s=e.filter(m=>m.stackId==null),c=i.reduce((m,v)=>(m[v.stackId]||(m[v.stackId]=[]),m[v.stackId].push(v),m),n),f=Object.entries(c).map(m=>{var[v,w]=m,_=w.map(O=>O.dataKey),C=I3(t,r,w[0].barSize);return{stackId:v,dataKeys:_,barSize:C}}),p=s.map(m=>{var v=[m.dataKey].filter(_=>_!=null),w=I3(t,r,m.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...f,...p]};function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=zn(e,r,0,!0),f,p=[];if(qt(n[0].barSize)){var m=!1,v=r/s,w=n.reduce((M,L)=>M+(L.barSize||0),0);w+=(s-1)*c,w>=r&&(w-=(s-1)*c,c=0),w>=r&&v>0&&(m=!0,v*=.9,w=s*v);var _=(r-w)/2>>0,C={offset:_-c,size:0};f=n.reduce((M,L)=>{var j,z={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:C.offset+C.size+c,size:m?v:(j=L.barSize)!==null&&j!==void 0?j:0}},W=[...M,z];return C=W[W.length-1].position,W},p)}else{var O=zn(t,r,0,!0);r-2*O-(s-1)*c<=0&&(c=0);var I=(r-2*O-(s-1)*c)/s;I>1&&(I>>=0);var k=qt(i)?Math.min(I,i):I;f=n.reduce((M,L,j)=>[...M,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:O+(I+c)*j+(I-k)/2,size:k}}],p)}return f}}var OX=(e,t,r,n,i,s,c)=>{var f=ir(c)?t:c,p=CX(r,n,i!==s?i:s,e,f);return i!==s&&p!=null&&(p=p.map(m=>_h(_h({},m),{},{position:_h(_h({},m.position),{},{offset:m.position.offset-i/2})}))),p},IX=(e,t)=>{var r=vw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}};function NX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&qt(e.zIndex)?e.zIndex:t}var S8=e=>{var{chartData:t}=e,r=Xt(),n=Nn();return N.useEffect(()=>n?()=>{}:(r(BC(t)),()=>{r(BC(void 0))}),[t,r,n]),null},T3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},C8=li({name:"brush",initialState:T3,reducers:{setBrushSettings(e,t){return t.payload==null?T3:t.payload}}}),{setBrushSettings:Lte}=C8.actions,TX=C8.reducer;function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){O8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},jX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return RX({x:t,y:r},{x:n,y:i})};class Zp{static create(t){return new Zp(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}O8(Zp,"EPS",1e-4);var MX=e=>{var t=Object.keys(e).reduce((r,n)=>Sh(Sh({},r),{},{[n]:Zp.create(e[n])}),{});return Sh(Sh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[c,f]=s;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function DX(e){return(e%180+180)%180}var LX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=DX(i),c=s*Math.PI/180,f=Math.atan(n/r),p=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(p)},BX={dots:[],areas:[],lines:[]},I8=li({name:"referenceElements",initialState:BX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=va(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=va(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=va(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Bte,removeDot:Fte,addArea:Ute,removeArea:zte,addLine:FX,removeLine:UX}=I8.actions,zX=I8.reducer,N8=N.createContext(void 0),$X=e=>{var{children:t}=e,[r]=N.useState("".concat(td("recharts"),"-clip")),n=_8();if(n==null)return null;var{x:i,y:s,width:c,height:f}=n;return N.createElement(N8.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:s,height:f,width:c}))),t)},WX=()=>N.useContext(N8);function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){VX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VX(e,t,r){return(t=HX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}var qX=(e,t)=>{var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!qt(t.x1)||!qt(t.y1)||!qt(t.x2)||!qt(t.y2))return null;r=N.createElement("line",z0({},t,{className:"recharts-reference-line-line"}))}return r},KX=(e,t,r,n,i,s)=>{var{x:c,width:f}=s,p=i.y.apply(e,{position:r});if(Ti(p)||t==="discard"&&!i.y.isInRange(p))return null;var m=[{x:c+f,y:p},{x:c,y:p}];return n==="left"?m.reverse():m},XX=(e,t,r,n,i,s)=>{var{y:c,height:f}=s,p=i.x.apply(e,{position:r});if(Ti(p)||t==="discard"&&!i.x.isInRange(p))return null;var m=[{x:p,y:c+f},{x:p,y:c}];return n==="top"?m.reverse():m},YX=(e,t,r,n)=>{var i=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&i.some(s=>!n.isInRange(s))?null:i},ZX=(e,t,r,n,i,s)=>{var{x:c,y:f,segment:p,ifOverflow:m}=s,v=Xi(c),w=Xi(f);return w?KX(f,m,r,i,e,t):v?XX(c,m,r,n,e,t):p!=null&&p.length===2?YX(p,m,r,e):null};function QX(e){var t=Xt();return N.useEffect(()=>(t(FX(e)),()=>{t(UX(e))})),null}function JX(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:s}=e,c=Nn(),f=WX(),p=Ve(V=>Ba(V,t)),m=Ve(V=>Fa(V,r)),v=Ve(V=>_c(V,"xAxis",t,c)),w=Ve(V=>_c(V,"yAxis",r,c)),_=kc();if(!f||!_||p==null||m==null||v==null||w==null)return null;var C=MX({x:v,y:w}),O=ZX(C,_,e.position,p.orientation,m.orientation,e);if(!O)return null;var[{x:I,y:k},{x:M,y:L}]=O,j=s==="hidden"?"url(#".concat(f,")"):void 0,z=R3(R3({clipPath:j},Ni(e)),{},{x1:I,y1:k,x2:M,y2:L}),W=jX({x1:I,y1:k,x2:M,y2:L});return N.createElement(ci,{zIndex:e.zIndex},N.createElement(Br,{className:Dt("recharts-reference-line",i)},qX(n,z),N.createElement(o8,z0({},W,{lowerWidth:W.width,upperWidth:W.width}),N.createElement(c8,{label:e.label}),e.children)))}var eY={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Kr.line};function T8(e){var t=Fr(e,eY);return N.createElement(N.Fragment,null,N.createElement(QX,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),N.createElement(JX,t))}T8.displayName="ReferenceLine";function P8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function tY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return LX(n,r)}function rY(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:f}=e;return t===1?{start:n?i:s,end:n?i+c:s+f}:{start:n?i+c:s+f,end:n?i:s}}function md(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function nY(e,t){return P8(e,t+1)}function iY(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:f}=t,p=0,m=1,v=c,w=function(){var O=n?.[p];if(O===void 0)return{v:P8(n,m)};var I=p,k,M=()=>(k===void 0&&(k=r(O,I)),k),L=O.coordinate,j=p===0||md(e,L,M,v,f);j||(p=0,v=c,m+=1),j&&(v=L+e*(M()/2+i),p+=m)},_;m<=s.length;)if(_=w(),_)return _.v;return[]}function aY(e,t,r,n,i){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:f,end:p}=t,m=1;m<=c;m++){for(var v=(c-1)%m,w=f,_=!0,C=function(){var L=n[O],j=O,z,W=()=>(z===void 0&&(z=r(L,j)),z),V=L.coordinate,H=O===v||md(e,V,W,w,p);if(!H)return _=!1,1;H&&(w=V+e*(W()/2+i))},O=v;O<c&&!C();O+=m);if(_){for(var I=[],k=v;k<c;k+=m)I.push(n[k]);return I}}return[]}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){sY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sY(e,t,r){return(t=oY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oY(e){var t=lY(e,"string");return typeof t=="symbol"?t:t+""}function lY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cY(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:f}=t,{end:p}=t,m=function(_){var C=s[_],O,I=()=>(O===void 0&&(O=r(C,_)),O);if(_===c-1){var k=e*(C.coordinate+e*I()/2-p);s[_]=C=Fn(Fn({},C),{},{tickCoord:k>0?C.coordinate-k*e:C.coordinate})}else s[_]=C=Fn(Fn({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var M=md(e,C.tickCoord,I,f,p);M&&(p=C.tickCoord-e*(I()/2+i),s[_]=Fn(Fn({},C),{},{isShow:!0}))}},v=c-1;v>=0;v--)m(v);return s}function uY(e,t,r,n,i,s){var c=(n||[]).slice(),f=c.length,{start:p,end:m}=t;if(s){var v=n[f-1],w=r(v,f-1),_=e*(v.coordinate+e*w/2-m);if(c[f-1]=v=Fn(Fn({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate}),v.tickCoord!=null){var C=md(e,v.tickCoord,()=>w,p,m);C&&(m=v.tickCoord-e*(w/2+i),c[f-1]=Fn(Fn({},v),{},{isShow:!0}))}}for(var O=s?f-1:f,I=function(L){var j=c[L],z,W=()=>(z===void 0&&(z=r(j,L)),z);if(L===0){var V=e*(j.coordinate-e*W()/2-p);c[L]=j=Fn(Fn({},j),{},{tickCoord:V<0?j.coordinate-V*e:j.coordinate})}else c[L]=j=Fn(Fn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var H=md(e,j.tickCoord,W,p,m);H&&(p=j.tickCoord+e*(W()/2+i),c[L]=Fn(Fn({},j),{},{isShow:!0}))}},k=0;k<O;k++)I(k);return c}function rb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:f,interval:p,tickFormatter:m,unit:v,angle:w}=e;if(!i||!i.length||!n)return[];if(Ze(p)||Sp.isSsr){var _;return(_=nY(i,Ze(p)?p:0))!==null&&_!==void 0?_:[]}var C=[],O=f==="top"||f==="bottom"?"width":"height",I=v&&O==="width"?Ku(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(j,z)=>{var W=typeof m=="function"?m(j.value,z):j.value;return O==="width"?tY(Ku(W,{fontSize:t,letterSpacing:r}),I,w):Ku(W,{fontSize:t,letterSpacing:r})[O]},M=i.length>=2?vn(i[1].coordinate-i[0].coordinate):1,L=rY(s,M,O);return p==="equidistantPreserveStart"?iY(M,L,k,i,c):p==="equidistantPreserveEnd"?aY(M,L,k,i,c):(p==="preserveStart"||p==="preserveStartEnd"?C=uY(M,L,k,i,c,p==="preserveStartEnd"):C=cY(M,L,k,i,c),C.filter(j=>j.isShow))}var dY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>c&&(c=w.width)}});var f=r?r.getBoundingClientRect().width:0,p=i+s,m=c+p+f+(r?n:0);return Math.round(m)}return 0},fY=["axisLine","width","height","className","hide","ticks","axisType"];function hY(e,t){if(e==null)return{};var r,n,i=pY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return(t=gY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var us={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Kr.axis};function yY(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:f,otherSvgProps:p}=e;if(!f)return null;var m=Gr(Gr(Gr({},p),Ii(f)),{},{fill:"none"});if(s==="top"||s==="bottom"){var v=+(s==="top"&&!c||s==="bottom"&&c);m=Gr(Gr({},m),{},{x1:t,y1:r+v*i,x2:t+n,y2:r+v*i})}else{var w=+(s==="left"&&!c||s==="right"&&c);m=Gr(Gr({},m),{},{x1:t+w*n,y1:r,x2:t+w*n,y2:r+i})}return N.createElement("line",dl({},m,{className:Dt("recharts-cartesian-axis-line",al(f,"className"))}))}function xY(e,t,r,n,i,s,c,f,p){var m,v,w,_,C,O,I=f?-1:1,k=e.tickSize||c,M=Ze(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=v=e.coordinate,_=r+ +!f*i,w=_-I*k,O=w-I*p,C=M;break;case"left":w=_=e.coordinate,v=t+ +!f*n,m=v-I*k,C=m-I*p,O=M;break;case"right":w=_=e.coordinate,v=t+ +f*n,m=v+I*k,C=m+I*p,O=M;break;default:m=v=e.coordinate,_=r+ +f*i,w=_+I*k,O=w+I*p,C=M;break}return{line:{x1:m,y1:w,x2:v,y2:_},tick:{x:C,y:O}}}function wY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function EY(e){var{option:t,tickProps:r,value:n}=e,i,s=Dt(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,Gr(Gr({},r),{},{className:s}));else if(typeof t=="function")i=t(Gr(Gr({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Dt(c,t?.className)),i=N.createElement(Wp,dl({},r,{className:c}),n)}return i}var AY=N.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:f,padding:p,tickTextProps:m,orientation:v,mirror:w,x:_,y:C,width:O,height:I,tickSize:k,tickMargin:M,fontSize:L,letterSpacing:j,getTicksConfig:z,events:W,axisType:V}=e,H=rb(Gr(Gr({},z),{},{ticks:r}),L,j),ie=wY(v,w),X=bY(v,w),_e=Ii(z),me=vc(n),fe={};typeof i=="object"&&(fe=i);var Ee=Gr(Gr({},_e),{},{fill:"none"},fe),ke=H.map(le=>Gr({entry:le},xY(le,_,C,O,I,v,k,w,M))),ne=ke.map(le=>{var{entry:ve,line:ye}=le;return N.createElement(Br,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},i&&N.createElement("line",dl({},Ee,ye,{className:Dt("recharts-cartesian-axis-tick-line",al(i,"className"))})))}),Le=ke.map((le,ve)=>{var{entry:ye,tick:we}=le,Q=Gr(Gr(Gr(Gr({textAnchor:ie,verticalAnchor:X},_e),{},{stroke:"none",fill:s},me),we),{},{index:ve,payload:ye,visibleTicksCount:H.length,tickFormatter:c,padding:p},m);return N.createElement(Br,dl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},Tc(W,ye,ve)),n&&N.createElement(EY,{option:n,tickProps:Q,value:"".concat(typeof c=="function"?c(ye.value,ve):ye.value).concat(f||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},Le.length>0&&N.createElement(ci,{zIndex:Kr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:t},Le)),ne.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},ne))}),_Y=N.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:f,axisType:p}=e,m=hY(e,fY),[v,w]=N.useState(""),[_,C]=N.useState(""),O=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return dY({ticks:O.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var I=N.useCallback(k=>{if(k){var M=k.getElementsByClassName("recharts-cartesian-axis-tick-value");O.current=M;var L=M[0];if(L){var j=window.getComputedStyle(L),z=j.fontSize,W=j.letterSpacing;(z!==v||W!==_)&&(w(z),C(W))}}},[v,_]);return c||n!=null&&n<=0||i!=null&&i<=0?null:N.createElement(ci,{zIndex:e.zIndex},N.createElement(Br,{className:Dt("recharts-cartesian-axis",s)},N.createElement(yY,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ii(e)}),N.createElement(AY,{ref:I,axisType:p,events:m,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:_,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(o8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(c8,{label:e.label,labelRef:e.labelRef}),e.children)))}),nb=N.forwardRef((e,t)=>{var r=Fr(e,us);return N.createElement(_Y,dl({},r,{ref:t}))});nb.displayName="CartesianAxis";var SY=["x1","y1","x2","y2","key"],CY=["offset"],OY=["xAxisId","yAxisId"],IY=["xAxisId","yAxisId"];function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jo.apply(null,arguments)}function $0(e,t){if(e==null)return{};var r,n,i=kY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:f}=e;return N.createElement("rect",{x:n,y:i,ry:f,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k8(e){var{option:t,lineItemProps:r}=e,n;if(N.isValidElement(t))n=N.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:f,y2:p,key:m}=r,v=$0(r,SY),w=(i=Ii(v))!==null&&i!==void 0?i:{},{offset:_}=w,C=$0(w,CY);n=N.createElement("line",Jo({},C,{x1:s,y1:c,x2:f,y2:p,fill:"none",key:m}))}return n}function jY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=$0(e,OY),p=i.map((m,v)=>{var w=Un(Un({},f),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(v),index:v});return N.createElement(k8,{key:"line-".concat(v),option:n,lineItemProps:w})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function MY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=$0(e,IY),p=i.map((m,v)=>{var w=Un(Un({},f),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(v),index:v});return N.createElement(k8,{option:n,lineItemProps:w,key:"line-".concat(v)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function DY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:f,horizontal:p=!0}=e;if(!p||!t||!t.length||f==null)return null;var m=f.map(w=>Math.round(w+i-i)).sort((w,_)=>w-_);i!==m[0]&&m.unshift(0);var v=m.map((w,_)=>{var C=!m[_+1],O=C?i+c-w:m[_+1]-w;if(O<=0)return null;var I=_%t.length;return N.createElement("rect",{key:"react-".concat(_),y:w,x:n,height:O,width:s,stroke:"none",fill:t[I],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function LY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:f,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var m=p.map(w=>Math.round(w+i-i)).sort((w,_)=>w-_);i!==m[0]&&m.unshift(0);var v=m.map((w,_)=>{var C=!m[_+1],O=C?i+c-w:m[_+1]-w;if(O<=0)return null;var I=_%r.length;return N.createElement("rect",{key:"react-".concat(_),x:w,y:s,width:O,height:f,stroke:"none",fill:r[I],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var BY=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return xT(rb(Un(Un(Un({},us),r),{},{ticks:wT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},FY=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return xT(rb(Un(Un(Un({},us),r),{},{ticks:wT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},UY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Kr.grid};function Ry(e){var t=Mx(),r=Dx(),n=CT(),i=Un(Un({},Fr(e,UY)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:f,y:p,width:m,height:v,syncWithTicks:w,horizontalValues:_,verticalValues:C}=i,O=Nn(),I=Ve(X=>CC(X,"xAxis",s,O)),k=Ve(X=>CC(X,"yAxis",c,O));if(!Ma(m)||!Ma(v)||!Ze(f)||!Ze(p))return null;var M=i.verticalCoordinatesGenerator||BY,L=i.horizontalCoordinatesGenerator||FY,{horizontalPoints:j,verticalPoints:z}=i;if((!j||!j.length)&&typeof L=="function"){var W=_&&_.length,V=L({yAxis:k?Un(Un({},k),{},{ticks:W?_:k.ticks}):void 0,width:t??m,height:r??v,offset:n},W?!0:w);m0(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(j=V)}if((!z||!z.length)&&typeof M=="function"){var H=C&&C.length,ie=M({xAxis:I?Un(Un({},I),{},{ticks:H?C:I.ticks}):void 0,width:t??m,height:r??v,offset:n},H?!0:w);m0(Array.isArray(ie),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ie,"]")),Array.isArray(ie)&&(z=ie)}return N.createElement(ci,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(RY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(DY,Jo({},i,{horizontalPoints:j})),N.createElement(LY,Jo({},i,{verticalPoints:z})),N.createElement(jY,Jo({},i,{offset:n,horizontalPoints:j,xAxis:I,yAxis:k})),N.createElement(MY,Jo({},i,{offset:n,verticalPoints:z,xAxis:I,yAxis:k}))))}Ry.displayName="CartesianGrid";var zY={},R8=li({name:"errorBars",initialState:zY,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:$te,replaceErrorBar:Wte,removeErrorBar:Vte}=R8.actions,$Y=R8.reducer,WY=["children"];function VY(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qY=N.createContext(GY);function j8(e){var{children:t}=e,r=VY(e,WY);return N.createElement(qY.Provider,{value:r},t)}function ib(e,t){var r,n,i=Ve(m=>Ba(m,e)),s=Ve(m=>Fa(m,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:pn.allowDataOverflow,f=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:mn.allowDataOverflow,p=c||f;return{needClip:p,needClipX:c,needClipY:f}}function M8(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=_8(),{needClipX:s,needClipY:c,needClip:f}=ib(t,r);if(!f||!i)return null;var{x:p,y:m,width:v,height:w}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:s?p:p-v/2,y:c?m:m-w/2,width:s?v:v*2,height:c?w:w*2}))}var mv={exports:{}},gv={};var L3;function KY(){if(L3)return gv;L3=1;var e=Sc();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return gv.useSyncExternalStoreWithSelector=function(p,m,v,w,_){var C=i(null);if(C.current===null){var O={hasValue:!1,value:null};C.current=O}else O=C.current;C=c(function(){function k(W){if(!M){if(M=!0,L=W,W=w(W),_!==void 0&&O.hasValue){var V=O.value;if(_(V,W))return j=V}return j=W}if(V=j,r(L,W))return V;var H=w(W);return _!==void 0&&_(V,H)?(L=W,V):(L=W,j=H)}var M=!1,L,j,z=v===void 0?null:v;return[function(){return k(m())},z===null?void 0:function(){return k(z())}]},[m,v,w,_]);var I=n(p,C[0],C[1]);return s(function(){O.hasValue=!0,O.value=I},[I]),f(I),I},gv}var B3;function XY(){return B3||(B3=1,mv.exports=KY()),mv.exports}XY();function YY(e){e()}function ZY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){YY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var F3={notify(){},get:()=>[]};function QY(e,t){let r,n=F3,i=0,s=!1;function c(I){v();const k=n.subscribe(I);let M=!1;return()=>{M||(M=!0,k(),w())}}function f(){n.notify()}function p(){O.onStateChange&&O.onStateChange()}function m(){return s}function v(){i++,r||(r=e.subscribe(p),n=ZY())}function w(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=F3)}function _(){s||(s=!0,v())}function C(){s&&(s=!1,w())}const O={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:_,tryUnsubscribe:C,getListeners:()=>n};return O}var JY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eZ=JY(),tZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rZ=tZ(),nZ=()=>eZ||rZ?N.useLayoutEffect:N.useEffect,iZ=nZ();function U3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function aZ(e,t){if(U3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!U3(e[r[i]],t[r[i]]))return!1;return!0}var sZ=Symbol.for("react-redux-context"),oZ=typeof globalThis<"u"?globalThis:{};function lZ(){if(!N.createContext)return{};const e=oZ[sZ]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var cZ=lZ();function uZ(e){const{children:t,context:r,serverState:n,store:i}=e,s=N.useMemo(()=>{const p=QY(i);return{store:i,subscription:p,getServerState:n?()=>n:void 0}},[i,n]),c=N.useMemo(()=>i.getState(),[i]);iZ(()=>{const{subscription:p}=s;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[s,c]);const f=r||cZ;return N.createElement(f.Provider,{value:s},t)}var dZ=uZ,fZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Qp(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!aZ(e[n],t[n]))return!1}else if(!hZ(e[n],t[n]))return!1;return!0}function yl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:E8}function xl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:E8}var pZ="Invariant failed";function mZ(e,t){throw new Error(pZ)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function W0(e){return N.createElement(U0,jy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var gZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ze(t))return t;var s=Ze(n)||ir(n);return s?t(n,i):(s||mZ(),r)}},vZ=(e,t,r)=>r,yZ=(e,t)=>t,Wd=ue([Bp,yZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),xZ=ue([Wd],e=>e?.maxBarSize),wZ=(e,t,r,n)=>n,bZ=ue([Rt,Bp,yl,xl,vZ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),EZ=(e,t,r)=>{var n=Rt(e),i=yl(e,t),s=xl(e,t);if(!(i==null||s==null))return n==="horizontal"?Cy(e,"yAxis",s,r):Cy(e,"xAxis",i,r)},AZ=(e,t)=>{var r=Rt(e),n=yl(e,t),i=xl(e,t);if(!(n==null||i==null))return r==="horizontal"?SC(e,"xAxis",n):SC(e,"yAxis",i)},_Z=ue([bZ,bW,AZ],EX),SZ=(e,t,r)=>{var n,i,s=Wd(e,t);if(s!=null){var c=yl(e,t),f=xl(e,t);if(!(c==null||f==null)){var p=Rt(e),m=W4(e),{maxBarSize:v}=s,w=ir(v)?m:v,_,C;return p==="horizontal"?(_=lo(e,"xAxis",c,r),C=oo(e,"xAxis",c,r)):(_=lo(e,"yAxis",f,r),C=oo(e,"yAxis",f,r)),(n=(i=p0(_,C,!0))!==null&&i!==void 0?i:w)!==null&&n!==void 0?n:0}}},D8=(e,t,r)=>{var n=Rt(e),i=yl(e,t),s=xl(e,t);if(!(i==null||s==null)){var c,f;return n==="horizontal"?(c=lo(e,"xAxis",i,r),f=oo(e,"xAxis",i,r)):(c=lo(e,"yAxis",s,r),f=oo(e,"yAxis",s,r)),p0(c,f)}},CZ=ue([_Z,W4,wW,V4,SZ,D8,xZ],OX),OZ=(e,t,r)=>{var n=yl(e,t);if(n!=null)return lo(e,"xAxis",n,r)},IZ=(e,t,r)=>{var n=xl(e,t);if(n!=null)return lo(e,"yAxis",n,r)},NZ=(e,t,r)=>{var n=yl(e,t);if(n!=null)return oo(e,"xAxis",n,r)},TZ=(e,t,r)=>{var n=xl(e,t);if(n!=null)return oo(e,"yAxis",n,r)},PZ=ue([CZ,Wd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),kZ=ue([EZ,Wd],IX),RZ=ue([an,Rx,OZ,IZ,NZ,TZ,PZ,Rt,lW,D8,kZ,Wd,wZ],(e,t,r,n,i,s,c,f,p,m,v,w,_)=>{var{chartData:C,dataStartIndex:O,dataEndIndex:I}=p;if(!(w==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:k}=w,M;if(k!=null&&k.length>0?M=k:M=C?.slice(O,I+1),M!=null)return lQ({layout:f,barSettings:w,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:v,displayedData:M,offset:e,cells:_,dataStartIndex:O})}}),jZ=["index"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function MZ(e,t){if(e==null)return{};var r,n,i=DZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var L8=N.createContext(void 0),LZ=e=>{var t=N.useContext(L8);if(t!=null)return t.stackId;if(e!=null)return rB(e)},BZ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),FZ=e=>{var t=N.useContext(L8);if(t!=null){var{stackId:r}=t;return"url(#".concat(BZ(r,e),")")}},UZ=e=>{var{index:t}=e,r=MZ(e,jZ),n=FZ(t);return N.createElement(Br,My({className:"recharts-bar-stack-layer",clipPath:n},r))},zZ=["onMouseEnter","onMouseLeave","onClick"],$Z=["value","background","tooltipPosition"],WZ=["id"],VZ=["onMouseEnter","onClick","onMouseLeave"];function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(null,arguments)}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(e,t){if(e==null)return{};var r,n,i=KZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Pc(r,t),payload:e}]},YZ=N.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Pc(s,t),hide:c,type:p,color:i,unit:f,graphicalItemId:m}};return N.createElement(eb,{tooltipEntrySettings:v})});function ZZ(e){var t=Ve(co),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:f,onClick:p}=s,m=V0(s,zZ),v=qp(c,n,s.id),w=Kp(f),_=Xp(p,n,s.id);if(!i||r==null)return null;var C=vc(i);return N.createElement(ci,{zIndex:NX(i,Kr.barBackground)},r.map((O,I)=>{var{value:k,background:M,tooltipPosition:L}=O,j=V0(O,$Z);if(!M)return null;var z=v(O,I),W=w(O,I),V=_(O,I),H=Gn(Gn(Gn(Gn(Gn({option:i,isActive:String(I)===t},j),{},{fill:"#eee"},M),C),Tc(m,O,I)),{},{onMouseEnter:z,onMouseLeave:W,onClick:V,dataKey:n,index:I,className:"recharts-bar-background-rectangle"});return N.createElement(W0,ys({key:"background-bar-".concat(I)},H))}))}function QZ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Gn(Gn({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return N.createElement(d8,{value:t?i:void 0},r)}function JZ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,f=Ve(co),p=Ve(Vw),m=r&&String(s)===f&&(p==null||c===p),v=m?r:t;return m?N.createElement(ci,{zIndex:Kr.activeBar},N.createElement(W0,ys({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))):N.createElement(W0,ys({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))}function eQ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return N.createElement(W0,ys({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function tQ(e){var t,{data:r,props:n}=e,i=(t=Ii(n))!==null&&t!==void 0?t:{},{id:s}=i,c=V0(i,WZ),{shape:f,dataKey:p,activeBar:m}=n,{onMouseEnter:v,onClick:w,onMouseLeave:_}=n,C=V0(n,VZ),O=qp(v,p,s),I=Kp(_),k=Xp(w,p,s);return r?N.createElement(N.Fragment,null,r.map((M,L)=>N.createElement(UZ,ys({index:L,key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(L),className:"recharts-bar-rectangle"},Tc(C,M,L),{onMouseEnter:O(M,L),onMouseLeave:I(M,L),onClick:k(M,L)}),m?N.createElement(JZ,{shape:f,activeBar:m,baseProps:c,entry:M,index:L,dataKey:p}):N.createElement(eQ,{shape:f,baseProps:c,entry:M,index:L,dataKey:p})))):null}function rQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,onAnimationEnd:m,onAnimationStart:v}=t,w=r.current,_=Nd(t,"recharts-bar-"),[C,O]=N.useState(!1),I=!C,k=N.useCallback(()=>{typeof m=="function"&&m(),O(!1)},[m]),M=N.useCallback(()=>{typeof v=="function"&&v(),O(!0)},[v]);return N.createElement(QZ,{showLabels:I,rects:n},N.createElement(Id,{animationId:_,begin:c,duration:f,isActive:s,easing:p,onAnimationEnd:k,onAnimationStart:M,key:_},L=>{var j=L===1?n:n?.map((z,W)=>{var V=w&&w[W];if(V)return Gn(Gn({},z),{},{x:Ar(V.x,z.x,L),y:Ar(V.y,z.y,L),width:Ar(V.width,z.width,L),height:Ar(V.height,z.height,L)});if(i==="horizontal"){var H=Ar(0,z.height,L),ie=Ar(z.stackedBarStart,z.y,L);return Gn(Gn({},z),{},{y:ie,height:H})}var X=Ar(0,z.width,L),_e=Ar(z.stackedBarStart,z.x,L);return Gn(Gn({},z),{},{width:X,x:_e})});return L>0&&(r.current=j??null),j==null?null:N.createElement(Br,null,N.createElement(tQ,{props:t,data:j}))}),N.createElement(Zw,{label:t.label}),t.children)}function nQ(e){var t=N.useRef(null);return N.createElement(rQ,{previousRectanglesRef:t,props:e})}var B8=0,iQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ut(e,t)}};class aQ extends N.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:f,background:p,id:m}=this.props;if(t||r==null)return null;var v=Dt("recharts-bar",i),w=m;return N.createElement(Br,{className:v,id:m},f&&N.createElement("defs",null,N.createElement(M8,{clipPathId:w,xAxisId:s,yAxisId:c})),N.createElement(Br,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(w,")"):void 0},N.createElement(ZZ,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),N.createElement(nQ,this.props)))}}var sQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:B8,xAxisId:0,yAxisId:0,zIndex:Kr.bar};function oQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v}=e,{needClip:w}=ib(t,r),_=Cd(),C=Nn(),O=Gp(e.children,ul),I=Ve(L=>RZ(L,e.id,C,O));if(_!=="vertical"&&_!=="horizontal")return null;var k,M=I?.[0];return M==null||M.height==null||M.width==null?k=0:k=_==="vertical"?M.height/2:M.width/2,N.createElement(j8,{xAxisId:t,yAxisId:r,data:I,dataPointFormatter:iQ,errorBarOffset:k},N.createElement(aQ,ys({},e,{layout:_,needClip:w,data:I,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v})))}function lQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:f,xAxisTicks:p,yAxisTicks:m,stackedData:v,displayedData:w,offset:_,cells:C,parentViewBox:O,dataStartIndex:I}=e,k=t==="horizontal"?f:c,M=v?k.scale.domain():null,L=nB({numericAxis:k}),j=k.scale(L);return w.map((z,W)=>{var V,H,ie,X,_e,me;if(v){var fe=v[W+I];if(fe==null)return null;V=ZL(fe,M)}else V=Ut(z,r),Array.isArray(V)||(V=[L,V]);var Ee=gZ(n,B8)(V[1],W);if(t==="horizontal"){var ke,[ne,Le]=[f.scale(V[0]),f.scale(V[1])];H=N_({axis:c,ticks:p,bandSize:s,offset:i.offset,entry:z,index:W}),ie=(ke=Le??ne)!==null&&ke!==void 0?ke:void 0,X=i.size;var le=ne-Le;if(_e=Ti(le)?0:le,me={x:H,y:_.top,width:X,height:_.height},Math.abs(Ee)>0&&Math.abs(_e)<Math.abs(Ee)){var ve=vn(_e||Ee)*(Math.abs(Ee)-Math.abs(_e));ie-=ve,_e+=ve}}else{var[ye,we]=[c.scale(V[0]),c.scale(V[1])];if(H=ye,ie=N_({axis:f,ticks:m,bandSize:s,offset:i.offset,entry:z,index:W}),X=we-ye,_e=i.size,me={x:_.left,y:ie,width:_.width,height:_e},Math.abs(Ee)>0&&Math.abs(X)<Math.abs(Ee)){var Q=vn(X||Ee)*(Math.abs(Ee)-Math.abs(X));X+=Q}}if(H==null||ie==null||X==null||_e==null)return null;var de=Gn(Gn({},z),{},{stackedBarStart:j,x:H,y:ie,width:X,height:_e,value:v?V:V[1],payload:z,background:me,tooltipPosition:{x:H+X/2,y:ie+_e/2},parentViewBox:O},C&&C[W]&&C[W].props);return de}).filter(Boolean)}function cQ(e){var t=Fr(e,sQ),r=LZ(t.stackId),n=Nn();return N.createElement(tb,{id:t.id,type:"bar"},i=>N.createElement(N.Fragment,null,N.createElement(y8,{legendPayload:XZ(t)}),N.createElement(YZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),N.createElement(w8,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),N.createElement(ci,{zIndex:t.zIndex},N.createElement(oQ,ys({},t,{id:i})))))}var F8=N.memo(cQ,Qp);F8.displayName="Bar";var uQ=["option","isActive"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(null,arguments)}function dQ(e,t){if(e==null)return{};var r,n,i=fQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hQ(e){var{option:t,isActive:r}=e,n=dQ(e,uQ);return typeof t=="string"?N.createElement(U0,Xu({option:N.createElement(ap,Xu({type:t},n)),isActive:r,shapeType:"symbols"},n)):N.createElement(U0,Xu({option:t,isActive:r,shapeType:"symbols"},n))}var pQ=(e,t,r,n,i,s,c)=>lo(e,"xAxis",t,c),mQ=(e,t,r,n,i,s,c)=>oo(e,"xAxis",t,c),gQ=(e,t,r,n,i,s,c)=>lo(e,"yAxis",r,c),vQ=(e,t,r,n,i,s,c)=>oo(e,"yAxis",r,c),yQ=(e,t,r,n)=>AV(e,"zAxis",n,!1),xQ=(e,t,r,n,i)=>i,wQ=(e,t,r,n,i,s)=>s,bQ=(e,t,r,n,i,s,c)=>lw(e,void 0,void 0,c),EQ=ue([Bp,xQ],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),AQ=ue([bQ,pQ,mQ,gQ,vQ,yQ,EQ,wQ],(e,t,r,n,i,s,c,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=e;if(c!=null){var w;if(c?.data!=null&&c.data.length>0?w=c.data:w=p?.slice(m,v+1),!(w==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return LQ({displayedData:w,xAxis:t,yAxis:n,zAxis:s,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),_Q=["id"],SQ=["onMouseEnter","onClick","onMouseLeave"],CQ=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Dy(e,t){if(e==null)return{};var r,n,i=OQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(null,arguments)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Pc(r,t),payload:e}]},kQ=N.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:s,name:c,hide:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:r?.map(w=>w.tooltipPayload),positions:r?.map(w=>w.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,nameKey:void 0,dataKey:t,name:Pc(c,t),hide:f,type:p,color:s,unit:"",graphicalItemId:m}};return N.createElement(eb,{tooltipEntrySettings:v})});function RQ(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:s}=r;if(!n)return null;var c=Ii(r),f=vc(n),p,m;if(i==="joint")p=t.map(k=>{var M,L;return{x:(M=k.cx)!==null&&M!==void 0?M:null,y:(L=k.cy)!==null&&L!==void 0?L:null}});else if(i==="fitting"){var{xmin:v,xmax:w,a:_,b:C}=S9(t),O=k=>_*k+C;p=[{x:v,y:O(v)},{x:w,y:O(w)}]}var I=oi(oi(oi({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:p});return N.isValidElement(n)?m=N.cloneElement(n,I):typeof n=="function"?m=n(I):m=N.createElement(_p,fl({},I,{type:s})),N.createElement(Br,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function jQ(e){var{showLabels:t,points:r,children:n}=e,i=kc(),s=N.useMemo(()=>r?.map(c=>{var f,p,m={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return oi(oi({},m),{},{value:void 0,payload:c.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,r]);return N.createElement(d8,{value:t?s:void 0},n)}function MQ(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:s}=r,{id:c}=r,f=Dy(r,_Q),p=Ve(co),{onMouseEnter:m,onClick:v,onMouseLeave:w}=r,_=Dy(r,SQ),C=qp(m,s,c),O=Kp(w),I=Xp(v,s,c);if(!F9(t))return null;var k=Ii(f);return N.createElement(N.Fragment,null,N.createElement(RQ,{points:t,props:f}),t.map((M,L)=>{var j=i!=null&&i!==!1,z=j&&p===String(L),W=j&&z?i:n,V=oi(oi(oi({},k),M),{},{[Px]:L,[kx]:String(c)});return N.createElement(ci,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(L),zIndex:z?Kr.activeDot:void 0},N.createElement(Br,fl({className:"recharts-scatter-symbol"},Tc(_,M,L),{onMouseEnter:C(M,L),onMouseLeave:O(M,L),onClick:I(M,L)}),N.createElement(hQ,fl({option:W,isActive:z},V))))}))}function DQ(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:f}=r,p=t.current,m=Nd(r,"recharts-scatter-"),[v,w]=N.useState(!1),_=N.useCallback(()=>{w(!1)},[]),C=N.useCallback(()=>{w(!0)},[]),O=!v;return N.createElement(jQ,{showLabels:O,points:n},r.children,N.createElement(Id,{animationId:m,begin:s,duration:c,isActive:i,easing:f,onAnimationEnd:_,onAnimationStart:C,key:m},I=>{var k=I===1?n:n?.map((M,L)=>{var j=p&&p[L];return j?oi(oi({},M),{},{cx:M.cx==null?void 0:Ar(j.cx,M.cx,I),cy:M.cy==null?void 0:Ar(j.cy,M.cy,I),size:Ar(j.size,M.size,I)}):oi(oi({},M),{},{size:Ar(0,M.size,I)})});return I>0&&(t.current=k),N.createElement(Br,null,N.createElement(MQ,{points:k,allOtherScatterProps:r,showLabels:O}))}),N.createElement(Zw,{label:r.label}))}function LQ(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:f,cells:p}=e,m=ir(r.dataKey)?s.dataKey:r.dataKey,v=ir(n.dataKey)?s.dataKey:n.dataKey,w=i&&i.dataKey,_=i?i.range:tP.range,C=_&&_[0],O=r.scale.bandwidth?r.scale.bandwidth():0,I=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((k,M)=>{var L=Ut(k,m),j=Ut(k,v),z=!ir(w)&&Ut(k,w)||"-",W=[{name:ir(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:L,payload:k,dataKey:m,type:s.tooltipType},{name:ir(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:j,payload:k,dataKey:v,type:s.tooltipType}];z!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:z,payload:k,dataKey:w,type:s.tooltipType});var V=I_({axis:r,ticks:c,bandSize:O,entry:k,index:M,dataKey:m}),H=I_({axis:n,ticks:f,bandSize:I,entry:k,index:M,dataKey:v}),ie=z!=="-"?i.scale(z):C,X=Math.sqrt(Math.max(ie,0)/Math.PI);return oi(oi({},k),{},{cx:V,cy:H,x:V==null?void 0:V-X,y:H==null?void 0:H-X,width:2*X,height:2*X,size:ie,node:{x:L,y:j,z},tooltipPayload:W,tooltipPosition:{x:V,y:H},payload:k},p&&p[M]&&p[M].props)})}var BQ=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Ut(e,t)});function FQ(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:s,yAxisId:c,id:f}=e,p=N.useRef(null);if(t)return null;var m=Dt("recharts-scatter",n),v=f;return N.createElement(ci,{zIndex:e.zIndex},N.createElement(Br,{className:m,clipPath:i?"url(#clipPath-".concat(v,")"):void 0,id:f},i&&N.createElement("defs",null,N.createElement(M8,{clipPathId:v,xAxisId:s,yAxisId:c})),N.createElement(j8,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:BQ,errorBarOffset:0},N.createElement(Br,{key:"recharts-scatter-symbols"},N.createElement(DQ,{props:e,previousPointsRef:p})))))}var U8={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Kr.scatter};function UQ(e){var t=Fr(e,U8),{animationBegin:r,animationDuration:n,animationEasing:i,hide:s,isAnimationActive:c,legendType:f,lineJointType:p,lineType:m,shape:v,xAxisId:w,yAxisId:_,zAxisId:C}=t,O=Dy(t,CQ),{needClip:I}=ib(w,_),k=N.useMemo(()=>Gp(e.children,ul),[e.children]),M=Nn(),L=Ve(j=>AQ(j,w,_,C,e.id,k,M));return I==null||L==null?null:N.createElement(N.Fragment,null,N.createElement(kQ,{dataKey:e.dataKey,points:L,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),N.createElement(FQ,fl({},O,{xAxisId:w,yAxisId:_,zAxisId:C,lineType:m,lineJointType:p,legendType:f,shape:v,hide:s,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:L,needClip:I})))}function zQ(e){var t=Fr(e,U8),r=Nn();return N.createElement(tb,{id:t.id,type:"scatter"},n=>N.createElement(N.Fragment,null,N.createElement(y8,{legendPayload:PQ(t)}),N.createElement(w8,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),N.createElement(UQ,fl({},t,{id:n}))))}var z8=N.memo(zQ,Qp);z8.displayName="Scatter";var $Q=["domain","range"],WQ=["domain","range"];function W3(e,t){if(e==null)return{};var r,n,i=VQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function $8(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=W3(e,$Q),{domain:s,range:c}=t,f=W3(t,WQ);return!V3(r,s)||!V3(n,c)?!1:Qp(i,f)}var HQ=["dangerouslySetInnerHTML","ticks","scale"],GQ=["id","scale"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function H3(e,t){if(e==null)return{};var r,n,i=qQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KQ(e){var t=Xt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(fX(e)):r.current!==e&&t(hX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(pX(r.current)),r.current=null)},[t]),null}var XQ=e=>{var{xAxisId:t,className:r}=e,n=Ve(Rx),i=Nn(),s="xAxis",c=Ve(M=>AP(M,s,t,i)),f=Ve(M=>xP(M,t)),p=Ve(M=>vV(M,t)),m=Ve(M=>J4(M,t));if(f==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:w,scale:_}=e,C=H3(e,HQ),{id:O,scale:I}=m,k=H3(m,GQ);return N.createElement(nb,Ly({},C,k,{x:p.x,y:p.y,width:f.width,height:f.height,className:Dt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},YQ={allowDataOverflow:pn.allowDataOverflow,allowDecimals:pn.allowDecimals,allowDuplicatedCategory:pn.allowDuplicatedCategory,angle:pn.angle,axisLine:us.axisLine,height:pn.height,hide:!1,includeHidden:pn.includeHidden,interval:pn.interval,minTickGap:pn.minTickGap,mirror:pn.mirror,orientation:pn.orientation,padding:pn.padding,reversed:pn.reversed,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,tickLine:us.tickLine,tickSize:us.tickSize,type:pn.type,xAxisId:0},ZQ=e=>{var t=Fr(e,YQ);return N.createElement(N.Fragment,null,N.createElement(KQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(XQ,t))},By=N.memo(ZQ,$8);By.displayName="XAxis";var QQ=["dangerouslySetInnerHTML","ticks","scale"],JQ=["id","scale"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function G3(e,t){if(e==null)return{};var r,n,i=eJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tJ(e){var t=Xt(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(mX(e)):r.current!==e&&t(gX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(vX(r.current)),r.current=null)},[t]),null}var rJ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=N.useRef(null),c=N.useRef(null),f=Ve(Rx),p=Nn(),m=Xt(),v="yAxis",w=Ve(V=>wP(V,t)),_=Ve(V=>xV(V,t)),C=Ve(V=>AP(V,v,t,p)),O=Ve(V=>eP(V,t));if(N.useLayoutEffect(()=>{if(!(n!=="auto"||!w||Yw(i)||N.isValidElement(i)||O==null)){var V=s.current;if(V){var H=V.getCalculatedWidth();Math.round(w.width)!==Math.round(H)&&m(yX({id:t,width:H}))}}},[C,w,m,i,t,n,O]),w==null||_==null||O==null)return null;var{dangerouslySetInnerHTML:I,ticks:k,scale:M}=e,L=G3(e,QQ),{id:j,scale:z}=O,W=G3(O,JQ);return N.createElement(nb,Fy({},L,W,{ref:s,labelRef:c,x:_.x,y:_.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:w.width,height:w.height,className:Dt("recharts-".concat(v," ").concat(v),r),viewBox:f,ticks:C,axisType:v}))},nJ={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,angle:mn.angle,axisLine:us.axisLine,hide:!1,includeHidden:mn.includeHidden,interval:mn.interval,minTickGap:mn.minTickGap,mirror:mn.mirror,orientation:mn.orientation,padding:mn.padding,reversed:mn.reversed,scale:mn.scale,tick:mn.tick,tickCount:mn.tickCount,tickLine:us.tickLine,tickSize:us.tickSize,type:mn.type,width:mn.width,yAxisId:0},iJ=e=>{var t=Fr(e,nJ);return N.createElement(N.Fragment,null,N.createElement(tJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(rJ,t))},Uy=N.memo(iJ,$8);Uy.displayName="YAxis";var aJ=(e,t)=>t,ab=ue([aJ,Rt,Z4,on,FP,_s,MH,an],$H),sb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},W8=Yi("mouseClick"),V8=_d();V8.startListening({actionCreator:W8,effect:(e,t)=>{var r=e.payload,n=ab(t.getState(),sb(r));n?.activeIndex!=null&&t.dispatch(jV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var zy=Yi("mouseMove"),H8=_d(),Ch=null;H8.startListening({actionCreator:zy,effect:(e,t)=>{var r=e.payload;Ch!==null&&cancelAnimationFrame(Ch);var n=sb(r);Ch=requestAnimationFrame(()=>{var i=t.getState(),s=Bw(i,i.tooltip.settings.shared);if(s==="axis"){var c=ab(i,n);c?.activeIndex!=null?t.dispatch(PP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(TP())}Ch=null})}});function sJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var q3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},G8=li({name:"rootProps",initialState:q3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:q3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),oJ=G8.reducer,{updateOptions:lJ}=G8.actions,q8=li({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:cJ}=q8.actions,uJ=q8.reducer,K8=Yi("keyDown"),X8=Yi("focus"),ob=_d();ob.startListening({actionCreator:K8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Fw(i,zc(r),Bd(r),zd(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var p=_s(r);if(s==="Enter"){var m=D0(r,"axis","hover",String(i.index));t.dispatch(Iy({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var v=_V(r),w=v==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,C=f+_*w;if(!(p==null||C>=p.length||C<0)){var O=D0(r,"axis","hover",String(C));t.dispatch(Iy({active:!0,activeIndex:C.toString(),activeCoordinate:O}))}}}}}});ob.startListening({actionCreator:X8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=D0(r,"axis","hover",String(s));t.dispatch(Iy({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Gi=Yi("externalEvent"),Y8=_d(),vv=new Map;Y8.startListening({actionCreator:Gi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=vv.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var f=t.getState(),p={activeCoordinate:wH(f),activeDataKey:Vw(f),activeIndex:co(f),activeLabel:$P(f),activeTooltipIndex:co(f),isTooltipActive:bH(f)};r(p,n)}finally{vv.delete(i)}});vv.set(i,c)}}});var dJ=ue([Fc],e=>e.tooltipItemPayloads),fJ=ue([dJ,Ud,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),Z8=Yi("touchMove"),Q8=_d();Q8.startListening({actionCreator:Z8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Bw(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var c=ab(n,sb({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(PP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var v=m.getAttribute(Px),w=(f=m.getAttribute(kx))!==null&&f!==void 0?f:void 0,_=Uc(n).find(I=>I.id===w);if(v==null||_==null||w==null)return;var{dataKey:C}=_,O=fJ(n,v,w);t.dispatch(NP({activeDataKey:C,activeIndex:v,activeCoordinate:O,activeGraphicalItemId:w}))}}}});var hJ=VN({brush:TX,cartesianAxis:xX,chartData:xG,errorBars:$Y,graphicalItems:jK,layout:HL,legend:JB,options:pG,polarAxis:Kq,polarOptions:uJ,referenceElements:zX,rootProps:oJ,tooltip:MV,zIndex:rG}),pJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gL({reducer:hJ,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([V8.middleware,H8.middleware,ob.middleware,Y8.middleware,Q8.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(aT({type:"raf"}))},devTools:{serialize:{replacer:sJ},name:"recharts-".concat(r)}})};function J8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Nn(),s=N.useRef(null);if(i)return r;s.current==null&&(s.current=pJ(t,n));var c=_x;return N.createElement(dZ,{context:c,store:s.current},r)}function mJ(e){var{layout:t,margin:r}=e,n=Xt(),i=Nn();return N.useEffect(()=>{i||(n($L(t)),n(zL(r)))},[n,i,t,r]),null}var ek=N.memo(mJ,Qp);function tk(e){var t=Xt();return N.useEffect(()=>{t(lJ(e))},[t,e]),null}function K3(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),i=Xt();return N.useLayoutEffect(()=>(n.current&&i(eG({zIndex:t,element:n.current,isPanorama:r})),()=>{i(tG({zIndex:t,isPanorama:r}))}),[i,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function X3(e){var{children:t,isPanorama:r}=e,n=Ve(VH);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return N.createElement(N.Fragment,null,i.map(c=>N.createElement(K3,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>N.createElement(K3,{key:c,zIndex:c,isPanorama:r})))}var gJ=["children"];function vJ(e,t){if(e==null)return{};var r,n,i=yJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}var xJ={width:"100%",height:"100%",display:"block"},wJ=N.forwardRef((e,t)=>{var r=Mx(),n=Dx(),i=BT();if(!Ma(r)||!Ma(n))return null;var{children:s,otherAttributes:c,title:f,desc:p}=e,m,v;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0),N.createElement(gx,H0({},c,{title:f,desc:p,role:v,tabIndex:m,width:r,height:n,style:xJ,ref:t}),s)}),bJ=e=>{var{children:t}=e,r=Ve(xp);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return N.createElement(gx,{width:n,height:i,x:c,y:s},t)},Y3=N.forwardRef((e,t)=>{var{children:r}=e,n=vJ(e,gJ),i=Nn();return i?N.createElement(bJ,null,N.createElement(X3,{isPanorama:!0},r)):N.createElement(wJ,H0({ref:t},n),N.createElement(X3,{isPanorama:!1},r))});function EJ(){var e=Xt(),[t,r]=N.useState(null),n=Ve(cB);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;qt(s)&&s!==n&&e(VL(s))}},[t,e,n]),r}function Z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z3(Object(r),!0).forEach(function(n){_J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _J(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(null,arguments)}var OJ=()=>(IG(),null);function G0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var IJ=N.forwardRef((e,t)=>{var r,n,i=N.useRef(null),[s,c]=N.useState({containerWidth:G0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:G0((n=e.style)===null||n===void 0?void 0:n.height)}),f=N.useCallback((m,v)=>{c(w=>{var _=Math.round(m),C=Math.round(v);return w.containerWidth===_&&w.containerHeight===C?w:{containerWidth:_,containerHeight:C}})},[]),p=N.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:v,height:w}=m.getBoundingClientRect();f(v,w);var _=O=>{var{width:I,height:k}=O[0].contentRect;f(I,k)},C=new ResizeObserver(_);C.observe(m),i.current=C}},[t,f]);return N.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[f]),N.createElement(N.Fragment,null,N.createElement(wp,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",hl({ref:p},e)))}),NJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=N.useState({containerWidth:G0(r),containerHeight:G0(n)}),c=N.useCallback((p,m)=>{s(v=>{var w=Math.round(p),_=Math.round(m);return v.containerWidth===w&&v.containerHeight===_?v:{containerWidth:w,containerHeight:_}})},[]),f=N.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:m,height:v}=p.getBoundingClientRect();c(m,v)}},[t,c]);return N.createElement(N.Fragment,null,N.createElement(wp,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",hl({ref:f},e)))}),TJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(wp,{width:r,height:n}),N.createElement("div",hl({ref:t},e)))}),PJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return fs(r)||fs(n)?N.createElement(NJ,hl({},e,{ref:t})):N.createElement(TJ,hl({},e,{ref:t}))});function kJ(e){return e===!0?IJ:PJ}var RJ=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:f,onMouseDown:p,onMouseEnter:m,onMouseLeave:v,onMouseMove:w,onMouseUp:_,onTouchEnd:C,onTouchMove:O,onTouchStart:I,style:k,width:M,responsive:L,dispatchTouchEvents:j=!0}=e,z=N.useRef(null),W=Xt(),[V,H]=N.useState(null),[ie,X]=N.useState(null),_e=EJ(),me=jx(),fe=me?.width>0?me.width:M,Ee=me?.height>0?me.height:i,ke=N.useCallback(te=>{_e(te),typeof t=="function"&&t(te),H(te),X(te),te!=null&&(z.current=te)},[_e,t,H,X]),ne=N.useCallback(te=>{W(W8(te)),W(Gi({handler:s,reactEvent:te}))},[W,s]),Le=N.useCallback(te=>{W(zy(te)),W(Gi({handler:m,reactEvent:te}))},[W,m]),le=N.useCallback(te=>{W(TP()),W(Gi({handler:v,reactEvent:te}))},[W,v]),ve=N.useCallback(te=>{W(zy(te)),W(Gi({handler:w,reactEvent:te}))},[W,w]),ye=N.useCallback(()=>{W(X8())},[W]),we=N.useCallback(te=>{W(K8(te.key))},[W]),Q=N.useCallback(te=>{W(Gi({handler:c,reactEvent:te}))},[W,c]),de=N.useCallback(te=>{W(Gi({handler:f,reactEvent:te}))},[W,f]),Me=N.useCallback(te=>{W(Gi({handler:p,reactEvent:te}))},[W,p]),De=N.useCallback(te=>{W(Gi({handler:_,reactEvent:te}))},[W,_]),Xe=N.useCallback(te=>{W(Gi({handler:I,reactEvent:te}))},[W,I]),Ie=N.useCallback(te=>{j&&W(Z8(te)),W(Gi({handler:O,reactEvent:te}))},[W,j,O]),nt=N.useCallback(te=>{W(Gi({handler:C,reactEvent:te}))},[W,C]),Z=kJ(L);return N.createElement(XP.Provider,{value:V},N.createElement(sN.Provider,{value:ie},N.createElement(Z,{width:fe??k?.width,height:Ee??k?.height,className:Dt("recharts-wrapper",n),style:AJ({position:"relative",cursor:"default",width:fe,height:Ee},k),onClick:ne,onContextMenu:Q,onDoubleClick:de,onFocus:ye,onKeyDown:we,onMouseDown:Me,onMouseEnter:Le,onMouseLeave:le,onMouseMove:ve,onMouseUp:De,onTouchEnd:nt,onTouchMove:Ie,onTouchStart:Xe,ref:ke},N.createElement(OJ,null),r)))}),jJ=["width","height","responsive","children","className","style","compact","title","desc"];function MJ(e,t){if(e==null)return{};var r,n,i=DJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rk=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:f,compact:p,title:m,desc:v}=e,w=MJ(e,jJ),_=Ii(w);return p?N.createElement(N.Fragment,null,N.createElement(wp,{width:r,height:n}),N.createElement(Y3,{otherAttributes:_,title:m,desc:v},s)):N.createElement(RJ,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(Y3,{otherAttributes:_,title:m,desc:v,ref:t},N.createElement($X,null,s)))});function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}var LJ={top:5,right:5,bottom:5,left:5},BJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:LJ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nk=N.forwardRef(function(t,r){var n,i=Fr(t.categoricalChartProps,BJ),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:m}=t,v={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(J8,{preloadedState:{options:v},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},N.createElement(S8,{chartData:m.data}),N.createElement(ek,{layout:i.layout,margin:i.margin}),N.createElement(tk,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(rk,$y({},i,{ref:r})))}),FJ=["axis","item"],UJ=N.forwardRef((e,t)=>N.createElement(nk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FJ,tooltipPayloadSearcher:Xw,categoricalChartProps:e,ref:t}));function zJ(e){var t=Xt();return N.useEffect(()=>{t(cJ(e))},[t,e]),null}var $J=["layout"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function WJ(e,t){if(e==null)return{};var r,n,i=VJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HJ={top:5,right:5,bottom:5,left:5},ik={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:HJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},GJ=N.forwardRef(function(t,r){var n,i=Fr(t.categoricalChartProps,ik),{layout:s}=i,c=WJ(i,$J),{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v}=t,w={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement(J8,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},N.createElement(S8,{chartData:i.data}),N.createElement(ek,{layout:s,margin:i.margin}),N.createElement(tk,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(zJ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(rk,Wy({},c,{ref:r})))});function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YJ=["item"],ZJ=J3(J3({},ik),{},{layout:"centric",startAngle:0,endAngle:360}),QJ=N.forwardRef((e,t)=>{var r=Fr(e,ZJ);return N.createElement(GJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:YJ,tooltipPayloadSearcher:Xw,categoricalChartProps:r,ref:t})}),JJ=["item"],eee=N.forwardRef((e,t)=>N.createElement(nk,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:JJ,tooltipPayloadSearcher:Xw,categoricalChartProps:e,ref:t}));const eO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],tee=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=N.useState(!1),s=t?.quantity||0,c=t?.last_purchase_price||0;let f=null;if(t?.last_purchase_date){const m=new Date().getTime()-new Date(t.last_purchase_date).getTime();f=Math.floor(m/(1e3*60*60*24))}const p=async m=>{i(!0);const{data:v,error:w}=await ct.rpc("adjust_inventory",{p_product_id:e.id,p_delta:m,p_reason:"manual_adjustment"});w?alert("Error: "+w.message):v.success?r():alert("Error: "+v.message),i(!1)};return E.jsxs("tr",{className:"border-b border-stone-100",children:[E.jsxs("td",{className:"px-4 py-2",children:[E.jsx("div",{className:"font-medium text-stone-800",children:e.name}),E.jsxs("div",{className:"text-[10px] text-stone-400",children:["Costo: $",c.toLocaleString()]})]}),E.jsx("td",{className:"px-4 py-2 text-center",children:E.jsx("span",{className:`font-bold ${s>2?"text-green-600":"text-red-500"}`,children:s})}),E.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:f!==null?`${f}d`:"-"}),E.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[E.jsx("button",{onClick:()=>p(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),E.jsx("button",{onClick:()=>p(-1),disabled:n||s<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},ree=({onClose:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(!0);N.useEffect(()=>{(async()=>{const{data:f,error:p}=await ct.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);p?console.error("Error fetching logs:",p):r(f||[]),i(!1)})()},[]);const s=c=>{const f=io.find(p=>p.id===c);return f?f.name:c};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[E.jsx(bO,{})," Historial de Movimientos"]}),E.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),E.jsx("div",{className:"overflow-y-auto flex-1",children:n?E.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2",children:"Fecha"}),E.jsx("th",{className:"px-4 py-2",children:"Producto"}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),E.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),E.jsxs("tbody",{children:[t.map(c=>E.jsxs("tr",{className:"border-b border-stone-100",children:[E.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),E.jsx("td",{className:"px-4 py-2 font-medium",children:s(c.product_id)}),E.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),E.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),E.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},nee=({onLogout:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(!0),[s,c]=N.useState("month"),[f,p]=N.useState(0),[m,v]=N.useState(0),[w,_]=N.useState([]),[C,O]=N.useState([]),[I,k]=N.useState([]),[M,L]=N.useState([]),[j,z]=N.useState("dashboard"),[W,V]=N.useState([]),[H,ie]=N.useState(null),[X,_e]=N.useState([]),[me,fe]=N.useState(null),[Ee,ke]=N.useState(new Map),[ne,Le]=N.useState(0),[le,ve]=N.useState(0),[ye,we]=N.useState(!1);N.useEffect(()=>{j==="dashboard"?Q():j==="clients"?Me():j==="validaciones"&&De(),de()},[j,s]);const Q=async()=>{i(!0);try{const Z=new Date;s==="week"?Z.setDate(Z.getDate()-7):Z.setDate(Z.getDate()-30);const{data:te,error:Ae}=await ct.from("transactions").select("*").gte("created_at",Z.toISOString());if(Ae)throw Ae;const Be=te||[],xe=new Date(Z);s==="week"?xe.setDate(xe.getDate()-7):xe.setDate(xe.getDate()-30);const{data:Fe}=await ct.from("transactions").select("*").gte("created_at",xe.toISOString()).lt("created_at",Z.toISOString()),yt=Fe||[];r(Be);const Lt=Be.reduce((pt,dt)=>pt+dt.amount,0);p(Lt),v(Be.length?Math.round(Lt/Be.length):0);const Yt=new Map;Be.forEach(pt=>{const dt=pt.type==="product"?"Productos":"Servicios";Yt.set(dt,(Yt.get(dt)||0)+pt.amount)}),O(Array.from(Yt).map(([pt,dt])=>({name:pt,value:dt})));const xt=new Map,Ot=(pt,dt)=>{if(dt==="product"){const Ur=io.find(cr=>cr.price5ml===pt||cr.price10ml===pt||cr.priceFullBottle===pt);return Ur?Ur.name:"Producto Genrico"}else{const Ur=ic.find(cr=>cr.price===pt);return Ur?Ur.name:"Servicio General"}};Be.forEach(pt=>{const dt=Ot(pt.amount,pt.type);xt.has(dt)||xt.set(dt,{current:0,previous:0}),xt.get(dt).current++}),yt.forEach(pt=>{const dt=Ot(pt.amount,pt.type);xt.has(dt)||xt.set(dt,{current:0,previous:0}),xt.get(dt).previous++});const wt=Array.from(xt.entries()).map(([pt,dt])=>({name:pt,count:dt.current})).sort((pt,dt)=>dt.count-pt.count).slice(0,5);k(wt);const ui=Be.length||1,Ue=Be.length/xt.size/ui,ea=[];xt.forEach((pt,dt)=>{if(pt.current===0)return;const Ur=pt.current/ui,cr=pt.previous===0?1:(pt.current-pt.previous)/pt.previous;let ur="question";Ur>=Ue&&cr>=0?ur="star":Ur>=Ue&&cr<0?ur="cow":Ur<Ue&&cr>=0?ur="question":ur="dog",ea.push({name:dt,volume:Ur,growth:cr,type:ur})}),L(ea);const ta=new Map;Be.forEach(pt=>{if(!pt.client_id)return;const dt=ta.get(pt.client_id)||{id:pt.client_id,phone:"Cargando...",total_spent:0,visit_count:0};dt.total_spent+=pt.amount,dt.visit_count+=1,ta.set(pt.client_id,dt)});const $n=Array.from(ta.keys());if($n.length>0){const{data:pt}=await ct.from("clients").select("id, phone").in("id",$n);pt?.forEach(dt=>{const Ur=ta.get(dt.id);Ur&&(Ur.phone=dt.phone)})}_(Array.from(ta.values()).sort((pt,dt)=>dt.total_spent-pt.total_spent).slice(0,10))}catch(Z){console.error("Error fetching dashboard data:",Z)}finally{i(!1)}},de=async()=>{const{data:Z,error:te}=await ct.from("inventory").select("*");if(Z){const Ae=new Map;let Be=0,xe=0;Z.forEach(Fe=>{Ae.set(Fe.product_id,Fe),Be+=Fe.quantity*(Fe.last_purchase_price||0),xe+=Fe.quantity}),ke(Ae),Le(Be),ve(xe)}te&&console.error("Error fetching inventory",te)},Me=async()=>{i(!0);const{data:Z,error:te}=await ct.from("clients").select("*").order("last_visit",{ascending:!1});te?console.error("Error fetching clients",te):V(Z||[]),te?console.error("Error fetching clients",te):V(Z||[]),i(!1)},De=async()=>{i(!0);const{data:Z,error:te}=await ct.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});te?console.error("Error fetching visits",te):_e(Z||[]),i(!1)},Xe=async Z=>{if(Z.preventDefault(),!H)return;const{error:te}=await ct.from("clients").update({phone:H.phone,visits:H.visits}).eq("id",H.id);te?alert("Error al actualizar: "+te.message):(ie(null),Me())},Ie=async Z=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await ct.from("hair_service_log").delete().eq("client_id",Z),await ct.from("transactions").delete().eq("client_id",Z),await ct.from("visit_registrations").delete().eq("client_id",Z);const{error:te}=await ct.from("clients").delete().eq("id",Z);if(te)throw te;Me()}catch(te){alert("Error al eliminar: "+te.message)}},nt=()=>{const Z=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],te=t.map(Fe=>[Fe.id,Fe.created_at,Fe.amount,Fe.type,Fe.client_id||"Annimo"]),Ae="data:text/csv;charset=utf-8,"+Z.join(",")+`
`+te.map(Fe=>Fe.join(",")).join(`
`),Be=encodeURI(Ae),xe=document.createElement("a");xe.setAttribute("href",Be),xe.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)};return E.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),E.jsxs("div",{className:"flex gap-4",children:[j==="dashboard"&&E.jsxs("select",{value:s,onChange:Z=>c(Z.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[E.jsx("option",{value:"week",children:"ltima Semana"}),E.jsx("option",{value:"month",children:"ltimo Mes"})]}),E.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),E.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[E.jsx("button",{onClick:()=>z("dashboard"),className:`px-4 py-2 font-bold transition ${j==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),E.jsx("button",{onClick:()=>z("clients"),className:`px-4 py-2 font-bold transition ${j==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),E.jsxs("button",{onClick:()=>z("validaciones"),className:`px-4 py-2 font-bold transition ${j==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones QR",X.length>0&&E.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:X.length})]})]}),j==="validaciones"&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[E.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[E.jsx(Y0,{})," QR de Llegada"]}),E.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),E.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:E.jsx(hx,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),E.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),E.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[E.jsx(mE,{size:14})," Imprimir QR"]})]}),E.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[E.jsx($6,{})," Visitas Pendientes"]}),X.length===0?E.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:E.jsx("p",{children:"No hay clientes esperando validacin."})}):E.jsx("div",{className:"space-y-4",children:X.map(Z=>E.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:Z.client?.name?.charAt(0)||"?"}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-bold text-stone-900",children:Z.client?.name||"Cliente"}),E.jsx("p",{className:"text-sm text-stone-500",children:Z.client?.phone}),E.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(Z.check_in_time).toLocaleTimeString()]})]})]}),E.jsx("button",{onClick:()=>fe(Z),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},Z.id))})]})]}),j==="dashboard"?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),E.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),E.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:E.jsx(H6,{className:"text-green-600"})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),E.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",m.toLocaleString()]})]}),E.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:E.jsx(gE,{className:"text-blue-600"})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),E.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),E.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:E.jsx(gE,{className:"text-purple-600"})})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[E.jsx(tj,{size:18})," Origen de Ingresos"]}),E.jsx("div",{className:"h-[250px] w-full",children:E.jsx(Ug,{width:"100%",height:"100%",children:E.jsxs(QJ,{children:[E.jsx(b8,{data:C,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:C.map((Z,te)=>E.jsx(ul,{fill:eO[te%eO.length]},`cell-${te}`))}),E.jsx(iv,{formatter:Z=>`$${Z.toLocaleString()}`}),E.jsx(LT,{})]})})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[E.jsx(U6,{size:18})," Top Productos/Servicios"]}),E.jsx("div",{className:"h-[250px] w-full",children:E.jsx(Ug,{width:"100%",height:"100%",children:E.jsxs(UJ,{data:I,layout:"vertical",children:[E.jsx(Ry,{strokeDasharray:"3 3",horizontal:!1}),E.jsx(By,{type:"number",hide:!0}),E.jsx(Uy,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),E.jsx(iv,{}),E.jsx(F8,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),E.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[E.jsx(aj,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),E.jsxs("div",{className:"h-[300px] w-full relative",children:[E.jsx(Ug,{width:"100%",height:"100%",children:E.jsxs(eee,{margin:{top:20,right:20,bottom:20,left:20},children:[E.jsx(Ry,{}),E.jsx(By,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:Z=>Math.round(Z*100)+"%"}),E.jsx(Uy,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:Z=>Math.round(Z*100)+"%"}),E.jsx(iv,{cursor:{strokeDasharray:"3 3"},formatter:(Z,te)=>[Math.round(Z*100)+"%",te==="volume"?"Cuota":"Crecimiento"]}),E.jsx(T8,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),E.jsx(z8,{name:"Productos",data:M,fill:"#8884d8",children:M.map((Z,te)=>{let Ae="#8884d8";return Z.type==="star"?Ae="#FFBB28":Z.type==="cow"?Ae="#00C49F":Z.type==="dog"?Ae="#FF8042":Ae="#999",E.jsx(ul,{fill:Ae},`cell-${te}`)})})]})}),E.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),E.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[E.jsx(uj,{size:20})," Top 10 Clientes (Gasto)"]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2",children:"Cliente"}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"})]})}),E.jsxs("tbody",{children:[w.map((Z,te)=>E.jsxs("tr",{className:"border-b border-stone-100",children:[E.jsxs("td",{className:"px-4 py-3 font-medium",children:[te+1,". ",Z.phone]}),E.jsx("td",{className:"px-4 py-3 text-right",children:Z.visit_count}),E.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",Z.total_spent.toLocaleString()]})]},Z.id)),w.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[E.jsx(ej,{size:20})," Inventario Perfumes"]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>we(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[E.jsx(bO,{size:14})," Historial"]}),E.jsxs("button",{onClick:nt,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[E.jsx(mE,{size:14})," Exportar CSV"]})]})]}),E.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:E.jsxs("table",{className:"w-full text-xs text-left",children:[E.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-2",children:"Producto"}),E.jsx("th",{className:"px-4 py-2 text-center",children:"Stock Real"}),E.jsx("th",{className:"px-4 py-2 text-center",children:"Das en Inv."}),E.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),E.jsx("tbody",{children:io.map(Z=>E.jsx(tee,{perfume:Z,inventoryItem:Ee.get(Z.id),onRefresh:de},Z.id))}),E.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:E.jsxs("tr",{children:[E.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),E.jsxs("td",{className:"px-4 py-3 text-center",children:[le," un."]}),E.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),E.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",ne.toLocaleString()]})]})})]})})]})]})]}):E.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[E.jsx("h3",{className:"text-xl font-bold mb-6",children:"Gestin de Clientes"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3",children:"Telfono / Cliente"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),E.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),E.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),E.jsx("tbody",{children:W.map(Z=>E.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[E.jsx("td",{className:"px-6 py-4 font-medium",children:Z.phone}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:Z.visits})}),E.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(Z.last_visit).toLocaleDateString()}),E.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[E.jsx("button",{onClick:()=>ie(Z),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),E.jsx("button",{onClick:()=>Ie(Z.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},Z.id))})]})})]}),H&&E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:E.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[E.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),E.jsxs("form",{onSubmit:Xe,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),E.jsx("input",{type:"text",value:H.phone,onChange:Z=>ie({...H,phone:Z.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),E.jsx("input",{type:"number",value:H.visits,onChange:Z=>ie({...H,visits:parseInt(Z.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),E.jsxs("div",{className:"flex gap-2 mt-6",children:[E.jsx("button",{type:"button",onClick:()=>ie(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),me&&E.jsx(ND,{visit:me,onClose:()=>fe(null),onSuccess:De}),ye&&E.jsx(ree,{onClose:()=>we(!1)})]})},iee=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(""),i=(c,f)=>{t(c),f&&n(f)},s=async()=>{await ct.auth.signOut(),t(null),n("")};return e?e==="management"?E.jsx(nee,{onLogout:s}):E.jsx(ID,{onLogout:s}):E.jsx(JM,{onLogin:i})},aee=()=>{const[e,t]=N.useState("Todos"),[r,n]=N.useState(null),i=["Todos","Cortes","Color","Peinados"],s=e==="Todos"?vE:vE.filter(c=>c.category===e);return E.jsxs("div",{className:"animate-in fade-in duration-700",children:[E.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>E.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),E.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:s.map((c,f)=>E.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[E.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),E.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:E.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[E.jsx(fj,{className:"mx-auto mb-2 opacity-80"}),E.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[E.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:E.jsx(no,{size:32})}),E.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},see=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${cc}?text=${r}`,"_blank")};return E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),E.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),E.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:wj.map(t=>E.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[E.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[E.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),E.jsx(ex,{size:64,className:"text-amber-500 relative z-10"})]}),E.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[E.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),E.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),E.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>E.jsxs("div",{className:"flex items-start text-stone-600",children:[E.jsx(K6,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),E.jsx("span",{className:"text-sm",children:r})]},n))}),E.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},oee=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(!1),[c,f]=N.useState("search"),[p,m]=N.useState(null),[v,w]=N.useState(""),_=async I=>{I.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(k.length<8)throw new Error("Ingresa un nmero vlido (ej: 912345678)");const{data:M,error:L}=await ct.from("clients").select("*").eq("phone",k).single();if(L&&L.code!=="PGRST116")throw L;M?(m(M),await O(M.id)):f("register")}catch(k){w(k.message||"Error al buscar cliente")}finally{s(!1)}},C=async I=>{I.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");const{data:M,error:L}=await ct.from("clients").insert([{name:r,phone:k,visits:0}]).select().single();if(L)throw L;await O(M.id)}catch(k){w(k.message||"Error al registrar")}finally{s(!1)}},O=async I=>{const{error:k}=await ct.from("visit_registrations").insert([{client_id:I}]);if(k)throw console.error(k),new Error("Hubo un problema registrando la visita. Intenta de nuevo.");f("success")};return c==="success"?E.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-stone-900 border border-amber-500/30 rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl animate-fade-in-up",children:[E.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:E.jsx(Jy,{className:"w-10 h-10 text-green-400"})}),E.jsx("h2",{className:"text-2xl font-serif text-amber-100 mb-2",children:"Llegada Registrada!"}),E.jsx("p",{className:"text-stone-400 mb-6",children:"Tu visita ha quedado en espera. Tu estilista validar tus servicios al finalizar para sumar tus puntos."}),E.jsx(Hr,{to:"/",className:"block w-full py-3 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded-lg transition-colors font-medium",children:"Volver al Inicio"})]})}):E.jsxs("div",{className:"min-h-screen bg-stone-950 p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),E.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3 pointer-events-none"}),E.jsxs("div",{className:"w-full max-w-md bg-stone-900/80 backdrop-blur-md border border-stone-800 rounded-2xl shadow-xl overflow-hidden relative z-10",children:[E.jsxs("div",{className:"bg-gradient-to-r from-stone-900 to-stone-800 p-6 text-center border-b border-stone-800",children:[E.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:E.jsx(Y0,{className:"w-6 h-6 text-amber-400"})}),E.jsx("h1",{className:"text-xl font-serif text-amber-100",children:"Registro de Visita"}),E.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Escanea al llegar para sumar puntos"})]}),E.jsxs("div",{className:"p-6",children:[v&&E.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-200 text-sm text-center",children:v}),c==="search"?E.jsxs("form",{onSubmit:_,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Nmero de Telfono"}),E.jsx("input",{type:"tel",placeholder:"Ej: 912345678",value:e,onChange:I=>t(I.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all text-lg tracking-widest text-center",autoFocus:!0})]}),E.jsx("button",{type:"submit",disabled:i||e.length<8,className:"w-full py-3.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?E.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):E.jsxs(E.Fragment,{children:[E.jsx(Z0,{className:"w-4 h-4"}),"Buscar / Registrar"]})})]}):E.jsxs("form",{onSubmit:C,className:"space-y-4 animate-fade-in-right",children:[E.jsxs("div",{className:"text-center mb-4",children:[E.jsx("div",{className:"w-12 h-12 bg-stone-800 rounded-full flex items-center justify-center mx-auto mb-2 text-stone-400",children:E.jsx(nx,{className:"w-6 h-6"})}),E.jsx("h3",{className:"text-amber-100 font-medium",children:"Primera vez por aqu!"}),E.jsx("p",{className:"text-xs text-stone-400",children:"Crea tu perfil para empezar a sumar."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Tu Nombre"}),E.jsx("input",{type:"text",placeholder:"Nombre y Apellido",value:r,onChange:I=>n(I.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 outline-none",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Telfono"}),E.jsx("input",{type:"tel",value:e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800 rounded-lg px-4 py-3 text-stone-500 cursor-not-allowed"})]}),E.jsxs("div",{className:"pt-2 flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>f("search"),className:"flex-1 py-3 bg-stone-800 text-stone-300 rounded-lg hover:bg-stone-700 transition",children:"Volver"}),E.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-500 transition shadow-lg shadow-amber-900/20",children:i?"Registrando...":"Confirmar"})]})]})]}),E.jsx("div",{className:"bg-stone-950/50 p-4 text-center border-t border-stone-800",children:E.jsx("p",{className:"text-xs text-stone-600",children:"Tus3B Style  Sistema de Lealtad"})})]})]})},lee=()=>E.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),E.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[E.jsxs("div",{className:"text-center space-y-2 mb-4",children:[E.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",E.jsx("span",{className:"text-amber-500",children:"Hub"})]}),E.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),E.jsxs("div",{className:"w-full space-y-4",children:[E.jsxs(Hr,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),E.jsxs("div",{className:"p-6 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:E.jsx(rx,{size:24})}),E.jsxs("div",{children:[E.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),E.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),E.jsx(Gu,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),E.jsx(Hr,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:E.jsxs("div",{className:"p-6 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:E.jsx(Qu,{size:24})}),E.jsxs("div",{children:[E.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),E.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),E.jsx(Gu,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),E.jsx(Hr,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:E.jsxs("div",{className:"p-6 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:E.jsx(ex,{size:24})}),E.jsxs("div",{children:[E.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),E.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),E.jsx(Gu,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),E.jsx("div",{className:"w-full mt-4",children:E.jsxs(Hr,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),E.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:E.jsx(Y0,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),E.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),E.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),E.jsx("div",{className:"w-full pt-4",children:E.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),E.jsx("div",{className:"text-center py-6 z-10",children:E.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),cee=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:E.jsx(G6,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:E.jsx(cj,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:E.jsx(rx,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:E.jsx(pc,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:E.jsx(dj,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],uee=()=>{const[e,t]=N.useState(null);return E.jsx("section",{className:"py-20 bg-stone-50",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),E.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),E.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:cee.map(r=>E.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[E.jsxs("div",{className:"flex items-start justify-between mb-4",children:[E.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&E.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),E.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?E.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[E.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),E.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[E.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),E.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",E.jsx(Gu,{size:14})]})]})]}):E.jsxs("div",{children:[E.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),E.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",E.jsx(Gu,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),E.jsx("div",{className:"mt-12 text-center",children:E.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[E.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),E.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',E.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},dee=()=>{const{pathname:e}=xa();return pr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},fee=()=>{const[e,t]=N.useState(null),r=()=>E.jsxs(E.Fragment,{children:[E.jsx(pj,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),E.jsx("section",{className:"py-20 bg-white",children:E.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),E.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ic.filter(n=>!n.homeServiceOnly).map(n=>E.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),E.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),E.jsxs("div",{className:"text-right ml-4",children:[E.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),E.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx(Hr,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),E.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),E.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),E.jsxs("div",{className:"space-y-6",children:[E.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),E.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),E.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),E.jsx("div",{className:"flex items-center space-x-4 pt-4",children:E.jsx(Hr,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),E.jsx(uee,{}),E.jsx(zM,{}),E.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),E.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),E.jsx(PM,{onSuccess:n=>{t(n)}})]}),E.jsx("div",{className:"bg-white py-4 text-center",children:E.jsxs(Hr,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[E.jsx(sj,{size:10})," Admin"]})})]});return E.jsx(I6,{children:E.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[E.jsx(dee,{}),E.jsx(hj,{}),E.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:E.jsxs(i6,{children:[E.jsx(Pa,{path:"/",element:E.jsx(lee,{})}),E.jsx(Pa,{path:"/style",element:E.jsx(r,{})}),E.jsx(Pa,{path:"/perfum",element:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),E.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),E.jsx(RM,{})]})}),E.jsx(Pa,{path:"/regalos",element:E.jsx(see,{})}),E.jsx(Pa,{path:"/gallery",element:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),E.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),E.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),E.jsx(aee,{})]})}),E.jsx(Pa,{path:"/loyalty",element:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:E.jsx(QM,{})})}),E.jsx(Pa,{path:"/admin",element:E.jsx(iee,{})}),E.jsx(Pa,{path:"/checkin",element:E.jsx(oee,{})}),E.jsx(Pa,{path:"/confirmation",element:E.jsx(hee,{})})]})}),E.jsx(jM,{}),E.jsx(FM,{})]})})},hee=()=>{const t=xa().state;return t?E.jsx(UM,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):E.jsx(r6,{to:"/"})};console.log("Iniciando aplicacin React...");const ak=document.getElementById("root");if(!ak)throw new Error("Could not find root element to mount to");try{sR.createRoot(ak).render(E.jsx(pr.StrictMode,{children:E.jsx(fee,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}
