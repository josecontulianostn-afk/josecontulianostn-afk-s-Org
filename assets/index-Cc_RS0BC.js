function Kx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var N1={exports:{}},ku={},I1={exports:{}},Tt={};var iE;function ij(){if(iE)return Tt;iE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(Q){return Q===null||typeof Q!="object"?null:(Q=w&&Q[w]||Q["@@iterator"],typeof Q=="function"?Q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function k(Q,ue,Be){this.props=Q,this.context=ue,this.refs=N,this.updater=Be||_}k.prototype.isReactComponent={},k.prototype.setState=function(Q,ue){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ue,"setState")},k.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function M(){}M.prototype=k.prototype;function L(Q,ue,Be){this.props=Q,this.context=ue,this.refs=N,this.updater=Be||_}var R=L.prototype=new M;R.constructor=L,I(R,k.prototype),R.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ne(Q,ue,Be){var Le,Ye={},Ne=null,lt=null;if(ue!=null)for(Le in ue.ref!==void 0&&(lt=ue.ref),ue.key!==void 0&&(Ne=""+ue.key),ue)W.call(ue,Le)&&!H.hasOwnProperty(Le)&&(Ye[Le]=ue[Le]);var nt=arguments.length-2;if(nt===1)Ye.children=Be;else if(1<nt){for(var ge=Array(nt),qe=0;qe<nt;qe++)ge[qe]=arguments[qe+2];Ye.children=ge}if(Q&&Q.defaultProps)for(Le in nt=Q.defaultProps,nt)Ye[Le]===void 0&&(Ye[Le]=nt[Le]);return{$$typeof:e,type:Q,key:Ne,ref:lt,props:Ye,_owner:V.current}}function Y(Q,ue){return{$$typeof:e,type:Q.type,key:ue,ref:Q.ref,props:Q.props,_owner:Q._owner}}function Ae(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function pe(Q){var ue={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Be){return ue[Be]})}var de=/\/+/g;function Se(Q,ue){return typeof Q=="object"&&Q!==null&&Q.key!=null?pe(""+Q.key):ue.toString(36)}function ke(Q,ue,Be,Le,Ye){var Ne=typeof Q;(Ne==="undefined"||Ne==="boolean")&&(Q=null);var lt=!1;if(Q===null)lt=!0;else switch(Ne){case"string":case"number":lt=!0;break;case"object":switch(Q.$$typeof){case e:case t:lt=!0}}if(lt)return lt=Q,Ye=Ye(lt),Q=Le===""?"."+Se(lt,0):Le,z(Ye)?(Be="",Q!=null&&(Be=Q.replace(de,"$&/")+"/"),ke(Ye,ue,Be,"",function(qe){return qe})):Ye!=null&&(Ae(Ye)&&(Ye=Y(Ye,Be+(!Ye.key||lt&&lt.key===Ye.key?"":(""+Ye.key).replace(de,"$&/")+"/")+Q)),ue.push(Ye)),1;if(lt=0,Le=Le===""?".":Le+":",z(Q))for(var nt=0;nt<Q.length;nt++){Ne=Q[nt];var ge=Le+Se(Ne,nt);lt+=ke(Ne,ue,Be,ge,Ye)}else if(ge=S(Q),typeof ge=="function")for(Q=ge.call(Q),nt=0;!(Ne=Q.next()).done;)Ne=Ne.value,ge=Le+Se(Ne,nt++),lt+=ke(Ne,ue,Be,ge,Ye);else if(Ne==="object")throw ue=String(Q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return lt}function re(Q,ue,Be){if(Q==null)return Q;var Le=[],Ye=0;return ke(Q,Le,"","",function(Ne){return ue.call(Be,Ne,Ye++)}),Le}function De(Q){if(Q._status===-1){var ue=Q._result;ue=ue(),ue.then(function(Be){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Be)},function(Be){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Be)}),Q._status===-1&&(Q._status=0,Q._result=ue)}if(Q._status===1)return Q._result.default;throw Q._result}var oe={current:null},ve={transition:null},we={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:V};function be(){throw Error("act(...) is not supported in production builds of React.")}return Tt.Children={map:re,forEach:function(Q,ue,Be){re(Q,function(){ue.apply(this,arguments)},Be)},count:function(Q){var ue=0;return re(Q,function(){ue++}),ue},toArray:function(Q){return re(Q,function(ue){return ue})||[]},only:function(Q){if(!Ae(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},Tt.Component=k,Tt.Fragment=r,Tt.Profiler=i,Tt.PureComponent=L,Tt.StrictMode=n,Tt.Suspense=p,Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Tt.act=be,Tt.cloneElement=function(Q,ue,Be){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var Le=I({},Q.props),Ye=Q.key,Ne=Q.ref,lt=Q._owner;if(ue!=null){if(ue.ref!==void 0&&(Ne=ue.ref,lt=V.current),ue.key!==void 0&&(Ye=""+ue.key),Q.type&&Q.type.defaultProps)var nt=Q.type.defaultProps;for(ge in ue)W.call(ue,ge)&&!H.hasOwnProperty(ge)&&(Le[ge]=ue[ge]===void 0&&nt!==void 0?nt[ge]:ue[ge])}var ge=arguments.length-2;if(ge===1)Le.children=Be;else if(1<ge){nt=Array(ge);for(var qe=0;qe<ge;qe++)nt[qe]=arguments[qe+2];Le.children=nt}return{$$typeof:e,type:Q.type,key:Ye,ref:Ne,props:Le,_owner:lt}},Tt.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:s,_context:Q},Q.Consumer=Q},Tt.createElement=ne,Tt.createFactory=function(Q){var ue=ne.bind(null,Q);return ue.type=Q,ue},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(Q){return{$$typeof:f,render:Q}},Tt.isValidElement=Ae,Tt.lazy=function(Q){return{$$typeof:v,_payload:{_status:-1,_result:Q},_init:De}},Tt.memo=function(Q,ue){return{$$typeof:m,type:Q,compare:ue===void 0?null:ue}},Tt.startTransition=function(Q){var ue=ve.transition;ve.transition={};try{Q()}finally{ve.transition=ue}},Tt.unstable_act=be,Tt.useCallback=function(Q,ue){return oe.current.useCallback(Q,ue)},Tt.useContext=function(Q){return oe.current.useContext(Q)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(Q){return oe.current.useDeferredValue(Q)},Tt.useEffect=function(Q,ue){return oe.current.useEffect(Q,ue)},Tt.useId=function(){return oe.current.useId()},Tt.useImperativeHandle=function(Q,ue,Be){return oe.current.useImperativeHandle(Q,ue,Be)},Tt.useInsertionEffect=function(Q,ue){return oe.current.useInsertionEffect(Q,ue)},Tt.useLayoutEffect=function(Q,ue){return oe.current.useLayoutEffect(Q,ue)},Tt.useMemo=function(Q,ue){return oe.current.useMemo(Q,ue)},Tt.useReducer=function(Q,ue,Be){return oe.current.useReducer(Q,ue,Be)},Tt.useRef=function(Q){return oe.current.useRef(Q)},Tt.useState=function(Q){return oe.current.useState(Q)},Tt.useSyncExternalStore=function(Q,ue,Be){return oe.current.useSyncExternalStore(Q,ue,Be)},Tt.useTransition=function(){return oe.current.useTransition()},Tt.version="18.3.1",Tt}var aE;function Rc(){return aE||(aE=1,I1.exports=ij()),I1.exports}var sE;function aj(){if(sE)return ku;sE=1;var e=Rc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},S=null,_=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(_=p.ref);for(v in p)n.call(p,v)&&!s.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:f,key:S,ref:_,props:w,_owner:i.current}}return ku.Fragment=r,ku.jsx=c,ku.jsxs=c,ku}var oE;function sj(){return oE||(oE=1,N1.exports=aj()),N1.exports}var b=sj(),O=Rc();const Sr=oa(O),oj=Kx({__proto__:null,default:Sr},[O]);var th={},T1={exports:{}},hi={},P1={exports:{}},k1={};var lE;function lj(){return lE||(lE=1,(function(e){function t(ve,we){var be=ve.length;ve.push(we);e:for(;0<be;){var Q=be-1>>>1,ue=ve[Q];if(0<i(ue,we))ve[Q]=we,ve[be]=ue,be=Q;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var we=ve[0],be=ve.pop();if(be!==we){ve[0]=be;e:for(var Q=0,ue=ve.length,Be=ue>>>1;Q<Be;){var Le=2*(Q+1)-1,Ye=ve[Le],Ne=Le+1,lt=ve[Ne];if(0>i(Ye,be))Ne<ue&&0>i(lt,Ye)?(ve[Q]=lt,ve[Ne]=be,Q=Ne):(ve[Q]=Ye,ve[Le]=be,Q=Le);else if(Ne<ue&&0>i(lt,be))ve[Q]=lt,ve[Ne]=be,Q=Ne;else break e}}return we}function i(ve,we){var be=ve.sortIndex-we.sortIndex;return be!==0?be:ve.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,S=3,_=!1,I=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(ve){for(var we=r(m);we!==null;){if(we.callback===null)n(m);else if(we.startTime<=ve)n(m),we.sortIndex=we.expirationTime,t(p,we);else break;we=r(m)}}function z(ve){if(N=!1,R(ve),!I)if(r(p)!==null)I=!0,De(W);else{var we=r(m);we!==null&&oe(z,we.startTime-ve)}}function W(ve,we){I=!1,N&&(N=!1,M(ne),ne=-1),_=!0;var be=S;try{for(R(we),w=r(p);w!==null&&(!(w.expirationTime>we)||ve&&!pe());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,S=w.priorityLevel;var ue=Q(w.expirationTime<=we);we=e.unstable_now(),typeof ue=="function"?w.callback=ue:w===r(p)&&n(p),R(we)}else n(p);w=r(p)}if(w!==null)var Be=!0;else{var Le=r(m);Le!==null&&oe(z,Le.startTime-we),Be=!1}return Be}finally{w=null,S=be,_=!1}}var V=!1,H=null,ne=-1,Y=5,Ae=-1;function pe(){return!(e.unstable_now()-Ae<Y)}function de(){if(H!==null){var ve=e.unstable_now();Ae=ve;var we=!0;try{we=H(!0,ve)}finally{we?Se():(V=!1,H=null)}}else V=!1}var Se;if(typeof L=="function")Se=function(){L(de)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,re=ke.port2;ke.port1.onmessage=de,Se=function(){re.postMessage(null)}}else Se=function(){k(de,0)};function De(ve){H=ve,V||(V=!0,Se())}function oe(ve,we){ne=k(function(){ve(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){I||_||(I=!0,De(W))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(ve){switch(S){case 1:case 2:case 3:var we=3;break;default:we=S}var be=S;S=we;try{return ve()}finally{S=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,we){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var be=S;S=ve;try{return we()}finally{S=be}},e.unstable_scheduleCallback=function(ve,we,be){var Q=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Q+be:Q):be=Q,ve){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=be+ue,ve={id:v++,callback:we,priorityLevel:ve,startTime:be,expirationTime:ue,sortIndex:-1},be>Q?(ve.sortIndex=be,t(m,ve),r(p)===null&&ve===r(m)&&(N?(M(ne),ne=-1):N=!0,oe(z,be-Q))):(ve.sortIndex=ue,t(p,ve),I||_||(I=!0,De(W))),ve},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(ve){var we=S;return function(){var be=S;S=we;try{return ve.apply(this,arguments)}finally{S=be}}}})(k1)),k1}var cE;function cj(){return cE||(cE=1,P1.exports=lj()),P1.exports}var uE;function uj(){if(uE)return hi;uE=1;var e=Rc(),t=cj();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function S(o){return p.call(w,o)?!0:p.call(v,o)?!1:m.test(o)?w[o]=!0:(v[o]=!0,!1)}function _(o,d,y,A){if(y!==null&&y.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,d,y,A){if(d===null||typeof d>"u"||_(o,d,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function N(o,d,y,A,P,j,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=P,this.mustUseProperty=y,this.propertyName=o,this.type=d,this.sanitizeURL=j,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new N(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new N(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new N(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new N(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new N(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new N(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new N(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new N(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new N(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new N(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new N(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(M,L);k[d]=new N(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new N(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new N(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,d,y,A){var P=k.hasOwnProperty(d)?k[d]:null;(P!==null?P.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(I(d,y,P,A)&&(y=null),A||P===null?S(d)&&(y===null?o.removeAttribute(d):o.setAttribute(d,""+y)):P.mustUseProperty?o[P.propertyName]=y===null?P.type===3?!1:"":y:(d=P.attributeName,A=P.attributeNamespace,y===null?o.removeAttribute(d):(P=P.type,y=P===3||P===4&&y===!0?"":""+y,A?o.setAttributeNS(A,d,y):o.setAttribute(d,y))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),pe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=ve&&o[ve]||o["@@iterator"],typeof o=="function"?o:null)}var be=Object.assign,Q;function ue(o){if(Q===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Q=d&&d[1]||""}return`
`+Q+o}var Be=!1;function Le(o,d){if(!o||Be)return"";Be=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(me){var A=me}Reflect.construct(o,[],d)}else{try{d.call()}catch(me){A=me}o.call(d.prototype)}else{try{throw Error()}catch(me){A=me}o()}}catch(me){if(me&&A&&typeof me.stack=="string"){for(var P=me.stack.split(`
`),j=A.stack.split(`
`),U=P.length-1,K=j.length-1;1<=U&&0<=K&&P[U]!==j[K];)K--;for(;1<=U&&0<=K;U--,K--)if(P[U]!==j[K]){if(U!==1||K!==1)do if(U--,K--,0>K||P[U]!==j[K]){var J=`
`+P[U].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=U&&0<=K);break}}}finally{Be=!1,Error.prepareStackTrace=y}return(o=o?o.displayName||o.name:"")?ue(o):""}function Ye(o){switch(o.tag){case 5:return ue(o.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return o=Le(o.type,!1),o;case 11:return o=Le(o.type.render,!1),o;case 1:return o=Le(o.type,!0),o;default:return""}}function Ne(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case V:return"Portal";case Y:return"Profiler";case ne:return"StrictMode";case Se:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case pe:return(o.displayName||"Context")+".Consumer";case Ae:return(o._context.displayName||"Context")+".Provider";case de:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return d=o.displayName||null,d!==null?d:Ne(o.type)||"Memo";case De:d=o._payload,o=o._init;try{return Ne(o(d))}catch{}}return null}function lt(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(d);case 8:return d===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function nt(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ge(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function qe(o){var d=ge(o)?"checked":"value",y=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var P=y.get,j=y.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(U){A=""+U,j.call(this,U)}}),Object.defineProperty(o,d,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(U){A=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function xe(o){o._valueTracker||(o._valueTracker=qe(o))}function ye(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var y=d.getValue(),A="";return o&&(A=ge(o)?o.checked?"true":"false":o.value),o=A,o!==y?(d.setValue(o),!0):!1}function ze(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function at(o,d){var y=d.checked;return be({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??o._wrapperState.initialChecked})}function vt(o,d){var y=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;y=nt(d.value!=null?d.value:y),o._wrapperState={initialChecked:A,initialValue:y,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ct(o,d){d=d.checked,d!=null&&R(o,"checked",d,!1)}function Mt(o,d){Ct(o,d);var y=nt(d.value),A=d.type;if(y!=null)A==="number"?(y===0&&o.value===""||o.value!=y)&&(o.value=""+y):o.value!==""+y&&(o.value=""+y);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?bt(o,d.type,y):d.hasOwnProperty("defaultValue")&&bt(o,d.type,nt(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function Nt(o,d,y){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,y||d===o.value||(o.value=d),o.defaultValue=d}y=o.name,y!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,y!==""&&(o.name=y)}function bt(o,d,y){(d!=="number"||ze(o.ownerDocument)!==o)&&(y==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+y&&(o.defaultValue=""+y))}var hr=Array.isArray;function Fe(o,d,y,A){if(o=o.options,d){d={};for(var P=0;P<y.length;P++)d["$"+y[P]]=!0;for(y=0;y<o.length;y++)P=d.hasOwnProperty("$"+o[y].value),o[y].selected!==P&&(o[y].selected=P),P&&A&&(o[y].defaultSelected=!0)}else{for(y=""+nt(y),d=null,P=0;P<o.length;P++){if(o[P].value===y){o[P].selected=!0,A&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function si(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ca(o,d){var y=d.value;if(y==null){if(y=d.children,d=d.defaultValue,y!=null){if(d!=null)throw Error(r(92));if(hr(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),y=d}o._wrapperState={initialValue:nt(y)}}function xn(o,d){var y=nt(d.value),A=nt(d.defaultValue);y!=null&&(y=""+y,y!==o.value&&(o.value=y),d.defaultValue==null&&o.defaultValue!==y&&(o.defaultValue=y)),A!=null&&(o.defaultValue=""+A)}function ua(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Mr(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function da(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Mr(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var st,ut=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,y,A,P){MSApp.execUnsafeLocalFunction(function(){return o(d,y,A,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=st.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function yr(o,d){if(d){var y=o.firstChild;if(y&&y===o.lastChild&&y.nodeType===3){y.nodeValue=d;return}}o.textContent=d}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qn=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(o){Qn.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),ar[d]=ar[o]})});function sr(o,d,y){return d==null||typeof d=="boolean"||d===""?"":y||typeof d!="number"||d===0||ar.hasOwnProperty(o)&&ar[o]?(""+d).trim():d+"px"}function Re(o,d){o=o.style;for(var y in d)if(d.hasOwnProperty(y)){var A=y.indexOf("--")===0,P=sr(y,d[y],A);y==="float"&&(y="cssFloat"),A?o.setProperty(y,P):o[y]=P}}var Ir=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(o,d){if(d){if(Ir[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function qt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Pa(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Za=null,_t=null,Tn=null;function Ao(o){if(o=vu(o)){if(typeof Za!="function")throw Error(r(280));var d=o.stateNode;d&&(d=mf(d),Za(o.stateNode,o.type,d))}}function zi(o){_t?Tn?Tn.push(o):Tn=[o]:_t=o}function sn(){if(_t){var o=_t,d=Tn;if(Tn=_t=null,Ao(o),d)for(o=0;o<d.length;o++)Ao(d[o])}}function So(o,d){return o(d)}function wr(){}var $i=!1;function Qa(o,d,y){if($i)return o(d,y);$i=!0;try{return So(o,d,y)}finally{$i=!1,(_t!==null||Tn!==null)&&(wr(),sn())}}function yn(o,d){var y=o.stateNode;if(y===null)return null;var A=mf(y);if(A===null)return null;y=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var _o=!1;if(f)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{_o=!1}function Co(o,d,y,A,P,j,U,K,J){var me=Array.prototype.slice.call(arguments,3);try{d.apply(y,me)}catch(Ie){this.onError(Ie)}}var pr=!1,oi=null,Yr=!1,Ue=null,Wi={onError:function(o){pr=!0,oi=o}};function Oo(o,d,y,A,P,j,U,K,J){pr=!1,oi=null,Co.apply(Wi,arguments)}function wn(o,d,y,A,P,j,U,K,J){if(Oo.apply(this,arguments),pr){if(pr){var me=oi;pr=!1,oi=null}else throw Error(r(198));Yr||(Yr=!0,Ue=me)}}function zn(o){var d=o,y=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(y=d.return),o=d.return;while(o)}return d.tag===3?y:null}function Ja(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function X(o){if(zn(o)!==o)throw Error(r(188))}function _e(o){var d=o.alternate;if(!d){if(d=zn(o),d===null)throw Error(r(188));return d!==o?null:o}for(var y=o,A=d;;){var P=y.return;if(P===null)break;var j=P.alternate;if(j===null){if(A=P.return,A!==null){y=A;continue}break}if(P.child===j.child){for(j=P.child;j;){if(j===y)return X(P),o;if(j===A)return X(P),d;j=j.sibling}throw Error(r(188))}if(y.return!==A.return)y=P,A=j;else{for(var U=!1,K=P.child;K;){if(K===y){U=!0,y=P,A=j;break}if(K===A){U=!0,A=P,y=j;break}K=K.sibling}if(!U){for(K=j.child;K;){if(K===y){U=!0,y=j,A=P;break}if(K===A){U=!0,A=j,y=P;break}K=K.sibling}if(!U)throw Error(r(189))}}if(y.alternate!==A)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?o:d}function We(o){return o=_e(o),o!==null?pt(o):null}function pt(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=pt(o);if(d!==null)return d;o=o.sibling}return null}var It=t.unstable_scheduleCallback,$t=t.unstable_cancelCallback,Wt=t.unstable_shouldYield,Xd=t.unstable_requestPaint,Gt=t.unstable_now,Zc=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,Yd=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,Bs=t.unstable_LowPriority,Zd=t.unstable_IdlePriority,Rt=null,At=null;function Pt(o){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Rt,o,void 0,(o.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:Wr,Qc=Math.log,Jc=Math.LN2;function Wr(o){return o>>>=0,o===0?32:31-(Qc(o)/Jc|0)|0}var wi=64,kl=4194304;function tr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function bi(o,d){var y=o.pendingLanes;if(y===0)return 0;var A=0,P=o.suspendedLanes,j=o.pingedLanes,U=y&268435455;if(U!==0){var K=U&~P;K!==0?A=tr(K):(j&=U,j!==0&&(A=tr(j)))}else U=y&~P,U!==0?A=tr(U):j!==0&&(A=tr(j));if(A===0)return 0;if(d!==0&&d!==A&&(d&P)===0&&(P=A&-A,j=d&-d,P>=j||P===16&&(j&4194240)!==0))return d;if((A&4)!==0&&(A|=y&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)y=31-ei(d),P=1<<y,A|=o[y],d&=~P;return A}function lm(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(o,d){for(var y=o.suspendedLanes,A=o.pingedLanes,P=o.expirationTimes,j=o.pendingLanes;0<j;){var U=31-ei(j),K=1<<U,J=P[U];J===-1?((K&y)===0||(K&A)!==0)&&(P[U]=lm(K,d)):J<=d&&(o.expiredLanes|=K),j&=~K}}function Kt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function on(){var o=wi;return wi<<=1,(wi&4194240)===0&&(wi=64),o}function ae(o){for(var d=[],y=0;31>y;y++)d.push(o);return d}function q(o,d,y){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-ei(d),o[d]=y}function rt(o,d){var y=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<y;){var P=31-ei(y),j=1<<P;d[P]=0,A[P]=-1,o[P]=-1,y&=~j}}function Dr(o,d){var y=o.entangledLanes|=d;for(o=o.entanglements;y;){var A=31-ei(y),P=1<<A;P&d|o[A]&d&&(o[A]|=d),y&=~P}}var St=0;function Qd(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var jl,$n,ot,or,eu,tu=!1,Us=[],Ei=null,Vi=null,ka=null,br=new Map,fa=new Map,Pn=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(o,d){switch(o){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":br.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":fa.delete(d.pointerId)}}function yt(o,d,y,A,P,j){return o===null||o.nativeEvent!==j?(o={blockedOn:d,domEventName:y,eventSystemFlags:A,nativeEvent:j,targetContainers:[P]},d!==null&&(d=vu(d),d!==null&&$n(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function ln(o,d,y,A,P){switch(d){case"focusin":return Ei=yt(Ei,o,d,y,A,P),!0;case"dragenter":return Vi=yt(Vi,o,d,y,A,P),!0;case"mouseover":return ka=yt(ka,o,d,y,A,P),!0;case"pointerover":var j=P.pointerId;return br.set(j,yt(br.get(j)||null,o,d,y,A,P)),!0;case"gotpointercapture":return j=P.pointerId,fa.set(j,yt(fa.get(j)||null,o,d,y,A,P)),!0}return!1}function ef(o){var d=Lo(o.target);if(d!==null){var y=zn(d);if(y!==null){if(d=y.tag,d===13){if(d=Ja(y),d!==null){o.blockedOn=d,eu(o.priority,function(){ot(y)});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){o.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zs(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var y=Rl(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(y===null){y=o.nativeEvent;var A=new y.constructor(y.type,y);Ui=A,y.target.dispatchEvent(A),Ui=null}else return d=vu(y),d!==null&&$n(d),o.blockedOn=y,!1;d.shift()}return!0}function ru(o,d,y){zs(o)&&y.delete(d)}function es(){tu=!1,Ei!==null&&zs(Ei)&&(Ei=null),Vi!==null&&zs(Vi)&&(Vi=null),ka!==null&&zs(ka)&&(ka=null),br.forEach(ru),fa.forEach(ru)}function No(o,d){o.blockedOn===d&&(o.blockedOn=null,tu||(tu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,es)))}function ha(o){function d(P){return No(P,o)}if(0<Us.length){No(Us[0],o);for(var y=1;y<Us.length;y++){var A=Us[y];A.blockedOn===o&&(A.blockedOn=null)}}for(Ei!==null&&No(Ei,o),Vi!==null&&No(Vi,o),ka!==null&&No(ka,o),br.forEach(d),fa.forEach(d),y=0;y<Pn.length;y++)A=Pn[y],A.blockedOn===o&&(A.blockedOn=null);for(;0<Pn.length&&(y=Pn[0],y.blockedOn===null);)ef(y),y.blockedOn===null&&Pn.shift()}var Hi=z.ReactCurrentBatchConfig,ja=!0;function tf(o,d,y,A){var P=St,j=Hi.transition;Hi.transition=null;try{St=1,ts(o,d,y,A)}finally{St=P,Hi.transition=j}}function Io(o,d,y,A){var P=St,j=Hi.transition;Hi.transition=null;try{St=4,ts(o,d,y,A)}finally{St=P,Hi.transition=j}}function ts(o,d,y,A){if(ja){var P=Rl(o,d,y,A);if(P===null)xm(o,d,A,cn,y),Jd(o,A);else if(ln(P,o,d,y,A))A.stopPropagation();else if(Jd(o,A),d&4&&-1<ht.indexOf(o)){for(;P!==null;){var j=vu(P);if(j!==null&&jl(j),j=Rl(o,d,y,A),j===null&&xm(o,d,A,cn,y),j===P)break;P=j}P!==null&&A.stopPropagation()}else xm(o,d,A,null,y)}}var cn=null;function Rl(o,d,y,A){if(cn=null,o=Pa(A),o=Lo(o),o!==null)if(d=zn(o),d===null)o=null;else if(y=d.tag,y===13){if(o=Ja(d),o!==null)return o;o=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return cn=o,null}function nu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zc()){case Ee:return 1;case Yd:return 4;case er:case Bs:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var pa=null,iu=null,Ml=null;function rf(){if(Ml)return Ml;var o,d=iu,y=d.length,A,P="value"in pa?pa.value:pa.textContent,j=P.length;for(o=0;o<y&&d[o]===P[o];o++);var U=y-o;for(A=1;A<=U&&d[y-A]===P[j-A];A++);return Ml=P.slice(o,1<A?1-A:void 0)}function Lt(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function To(){return!0}function Po(){return!1}function Lr(o){function d(y,A,P,j,U){this._reactName=y,this._targetInst=P,this.type=A,this.nativeEvent=j,this.target=U,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(y=o[K],this[K]=y?y(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?To:Po,this.isPropagationStopped=Po,this}return be(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),d}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},he=Lr($s),Et=be({},$s,{view:0,detail:0}),un=Lr(Et),Ws,Dl,ko,Ll=be({},Et,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ko&&(ko&&o.type==="mousemove"?(Ws=o.screenX-ko.screenX,Dl=o.screenY-ko.screenY):Dl=Ws=0,ko=o),Ws)},movementY:function(o){return"movementY"in o?o.movementY:Dl}}),nf=Lr(Ll),au=be({},Ll,{dataTransfer:0}),Vr=Lr(au),su=be({},Et,{relatedTarget:0}),lr=Lr(su),Bl=be({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),rs=Lr(Bl),Yt=be({},$s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ct=Lr(Yt),cm=be({},$s,{data:0}),Qt=Lr(cm),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qi(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=um[o])?!!d[o]:!1}function jo(){return qi}var af=be({},Et,{key:function(o){if(o.key){var d=ns[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Lt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vs[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(o){return o.type==="keypress"?Lt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ou=Lr(af),sf=be({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Lr(sf),dm=be({},Et,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),Hs=Lr(dm),cu=be({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=Lr(cu),Ro=be({},Ll,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Lr(Ro),Ra=[9,13,27,32],qs=f&&"CompositionEvent"in window,bn=null;f&&"documentMode"in document&&(bn=document.documentMode);var of=f&&"TextEvent"in window&&!bn,Ai=f&&(!qs||bn&&8<bn&&11>=bn),lf=" ",Fl=!1;function cf(o,d){switch(o){case"keyup":return Ra.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var kn=!1;function pm(o,d){switch(o){case"compositionend":return uu(d);case"keypress":return d.which!==32?null:(Fl=!0,lf);case"textInput":return o=d.data,o===lf&&Fl?null:o;default:return null}}function du(o,d){if(kn)return o==="compositionend"||!qs&&cf(o,d)?(o=rf(),Ml=iu=pa=null,kn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ai&&d.locale!=="ko"?null:d.data;default:return null}}var Mo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!Mo[o.type]:d==="textarea"}function Do(o,d,y,A){zi(A),d=ff(d,"onChange"),0<d.length&&(y=new he("onChange","change",null,y,A),o.push({event:y,listeners:d}))}var B=null,a=null;function l(o){wb(o,0)}function u(o){var d=$l(o);if(ye(d))return o}function h(o,d){if(o==="change")return d}var g=!1;if(f){var x;if(f){var E="oninput"in document;if(!E){var C=document.createElement("div");C.setAttribute("oninput","return;"),E=typeof C.oninput=="function"}x=E}else x=!1;g=x&&(!document.documentMode||9<document.documentMode)}function T(){B&&(B.detachEvent("onpropertychange",D),a=B=null)}function D(o){if(o.propertyName==="value"&&u(a)){var d=[];Do(d,a,o,Pa(o)),Qa(l,d)}}function F(o,d,y){o==="focusin"?(T(),B=d,a=y,B.attachEvent("onpropertychange",D)):o==="focusout"&&T()}function $(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(a)}function G(o,d){if(o==="click")return u(d)}function Z(o,d){if(o==="input"||o==="change")return u(d)}function ee(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ie=typeof Object.is=="function"?Object.is:ee;function fe(o,d){if(ie(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var y=Object.keys(o),A=Object.keys(d);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var P=y[A];if(!p.call(d,P)||!ie(o[P],d[P]))return!1}return!0}function Pe(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function je(o,d){var y=Pe(o);o=0;for(var A;y;){if(y.nodeType===3){if(A=o+y.textContent.length,o<=d&&A>=d)return{node:y,offset:d-o};o=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Pe(y)}}function Oe(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Oe(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function Ot(){for(var o=window,d=ze();d instanceof o.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)o=d.contentWindow;else break;d=ze(o.document)}return d}function wt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Wn(o){var d=Ot(),y=o.focusedElem,A=o.selectionRange;if(d!==y&&y&&y.ownerDocument&&Oe(y.ownerDocument.documentElement,y)){if(A!==null&&wt(y)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in y)y.selectionStart=d,y.selectionEnd=Math.min(o,y.value.length);else if(o=(d=y.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=y.textContent.length,j=Math.min(A.start,P);A=A.end===void 0?j:Math.min(A.end,P),!o.extend&&j>A&&(P=A,A=j,j=P),P=je(y,j);var U=je(y,A);P&&U&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),j>A?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=y;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<d.length;y++)o=d[y],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Si=f&&"documentMode"in document&&11>=document.documentMode,Hr=null,Vt=null,Tr=null,jn=!1;function is(o,d,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;jn||Hr==null||Hr!==ze(A)||(A=Hr,"selectionStart"in A&&wt(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Tr&&fe(Tr,A)||(Tr=A,A=ff(Vt,"onSelect"),0<A.length&&(d=new he("onSelect","select",null,d,y),o.push({event:d,listeners:A}),d.target=Hr)))}function ma(o,d){var y={};return y[o.toLowerCase()]=d.toLowerCase(),y["Webkit"+o]="webkit"+d,y["Moz"+o]="moz"+d,y}var Gs={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionend:ma("Transition","TransitionEnd")},fu={},fb={};f&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function uf(o){if(fu[o])return fu[o];if(!Gs[o])return o;var d=Gs[o],y;for(y in d)if(d.hasOwnProperty(y)&&y in fb)return fu[o]=d[y];return o}var hb=uf("animationend"),pb=uf("animationiteration"),mb=uf("animationstart"),gb=uf("transitionend"),vb=new Map,xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(o,d){vb.set(o,d),s(d,[o])}for(var mm=0;mm<xb.length;mm++){var gm=xb[mm],h8=gm.toLowerCase(),p8=gm[0].toUpperCase()+gm.slice(1);Ks(h8,"on"+p8)}Ks(hb,"onAnimationEnd"),Ks(pb,"onAnimationIteration"),Ks(mb,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(gb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function yb(o,d,y){var A=o.type||"unknown-event";o.currentTarget=y,wn(A,d,void 0,o),o.currentTarget=null}function wb(o,d){d=(d&4)!==0;for(var y=0;y<o.length;y++){var A=o[y],P=A.event;A=A.listeners;e:{var j=void 0;if(d)for(var U=A.length-1;0<=U;U--){var K=A[U],J=K.instance,me=K.currentTarget;if(K=K.listener,J!==j&&P.isPropagationStopped())break e;yb(P,K,me),j=J}else for(U=0;U<A.length;U++){if(K=A[U],J=K.instance,me=K.currentTarget,K=K.listener,J!==j&&P.isPropagationStopped())break e;yb(P,K,me),j=J}}}if(Yr)throw o=Ue,Yr=!1,Ue=null,o}function mr(o,d){var y=d[Sm];y===void 0&&(y=d[Sm]=new Set);var A=o+"__bubble";y.has(A)||(bb(d,o,2,!1),y.add(A))}function vm(o,d,y){var A=0;d&&(A|=4),bb(y,o,A,d)}var df="_reactListening"+Math.random().toString(36).slice(2);function pu(o){if(!o[df]){o[df]=!0,n.forEach(function(y){y!=="selectionchange"&&(m8.has(y)||vm(y,!1,o),vm(y,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[df]||(d[df]=!0,vm("selectionchange",!1,d))}}function bb(o,d,y,A){switch(nu(d)){case 1:var P=tf;break;case 4:P=Io;break;default:P=ts}y=P.bind(null,d,y,o),P=void 0,!_o||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),A?P!==void 0?o.addEventListener(d,y,{capture:!0,passive:P}):o.addEventListener(d,y,!0):P!==void 0?o.addEventListener(d,y,{passive:P}):o.addEventListener(d,y,!1)}function xm(o,d,y,A,P){var j=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var U=A.tag;if(U===3||U===4){var K=A.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(U===4)for(U=A.return;U!==null;){var J=U.tag;if((J===3||J===4)&&(J=U.stateNode.containerInfo,J===P||J.nodeType===8&&J.parentNode===P))return;U=U.return}for(;K!==null;){if(U=Lo(K),U===null)return;if(J=U.tag,J===5||J===6){A=j=U;continue e}K=K.parentNode}}A=A.return}Qa(function(){var me=j,Ie=Pa(y),Te=[];e:{var Ce=vb.get(o);if(Ce!==void 0){var $e=he,Ze=o;switch(o){case"keypress":if(Lt(y)===0)break e;case"keydown":case"keyup":$e=ou;break;case"focusin":Ze="focus",$e=lr;break;case"focusout":Ze="blur",$e=lr;break;case"beforeblur":case"afterblur":$e=lr;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Hs;break;case hb:case pb:case mb:$e=rs;break;case gb:$e=fm;break;case"scroll":$e=un;break;case"wheel":$e=hm;break;case"copy":case"cut":case"paste":$e=ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=lu}var Qe=(d&4)!==0,qr=!Qe&&o==="scroll",se=Qe?Ce!==null?Ce+"Capture":null:Ce;Qe=[];for(var te=me,le;te!==null;){le=te;var Me=le.stateNode;if(le.tag===5&&Me!==null&&(le=Me,se!==null&&(Me=yn(te,se),Me!=null&&Qe.push(mu(te,Me,le)))),qr)break;te=te.return}0<Qe.length&&(Ce=new $e(Ce,Ze,null,y,Ie),Te.push({event:Ce,listeners:Qe}))}}if((d&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",$e=o==="mouseout"||o==="pointerout",Ce&&y!==Ui&&(Ze=y.relatedTarget||y.fromElement)&&(Lo(Ze)||Ze[as]))break e;if(($e||Ce)&&(Ce=Ie.window===Ie?Ie:(Ce=Ie.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,$e?(Ze=y.relatedTarget||y.toElement,$e=me,Ze=Ze?Lo(Ze):null,Ze!==null&&(qr=zn(Ze),Ze!==qr||Ze.tag!==5&&Ze.tag!==6)&&(Ze=null)):($e=null,Ze=me),$e!==Ze)){if(Qe=nf,Me="onMouseLeave",se="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&(Qe=lu,Me="onPointerLeave",se="onPointerEnter",te="pointer"),qr=$e==null?Ce:$l($e),le=Ze==null?Ce:$l(Ze),Ce=new Qe(Me,te+"leave",$e,y,Ie),Ce.target=qr,Ce.relatedTarget=le,Me=null,Lo(Ie)===me&&(Qe=new Qe(se,te+"enter",Ze,y,Ie),Qe.target=le,Qe.relatedTarget=qr,Me=Qe),qr=Me,$e&&Ze)t:{for(Qe=$e,se=Ze,te=0,le=Qe;le;le=Ul(le))te++;for(le=0,Me=se;Me;Me=Ul(Me))le++;for(;0<te-le;)Qe=Ul(Qe),te--;for(;0<le-te;)se=Ul(se),le--;for(;te--;){if(Qe===se||se!==null&&Qe===se.alternate)break t;Qe=Ul(Qe),se=Ul(se)}Qe=null}else Qe=null;$e!==null&&Eb(Te,Ce,$e,Qe,!1),Ze!==null&&qr!==null&&Eb(Te,qr,Ze,Qe,!0)}}e:{if(Ce=me?$l(me):window,$e=Ce.nodeName&&Ce.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ce.type==="file")var et=h;else if(jt(Ce))if(g)et=Z;else{et=$;var dt=F}else($e=Ce.nodeName)&&$e.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(et=G);if(et&&(et=et(o,me))){Do(Te,et,y,Ie);break e}dt&&dt(o,Ce,me),o==="focusout"&&(dt=Ce._wrapperState)&&dt.controlled&&Ce.type==="number"&&bt(Ce,"number",Ce.value)}switch(dt=me?$l(me):window,o){case"focusin":(jt(dt)||dt.contentEditable==="true")&&(Hr=dt,Vt=me,Tr=null);break;case"focusout":Tr=Vt=Hr=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,is(Te,y,Ie);break;case"selectionchange":if(Si)break;case"keydown":case"keyup":is(Te,y,Ie)}var ft;if(qs)e:{switch(o){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else kn?cf(o,y)&&(xt="onCompositionEnd"):o==="keydown"&&y.keyCode===229&&(xt="onCompositionStart");xt&&(Ai&&y.locale!=="ko"&&(kn||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&kn&&(ft=rf()):(pa=Ie,iu="value"in pa?pa.value:pa.textContent,kn=!0)),dt=ff(me,xt),0<dt.length&&(xt=new Qt(xt,o,null,y,Ie),Te.push({event:xt,listeners:dt}),ft?xt.data=ft:(ft=uu(y),ft!==null&&(xt.data=ft)))),(ft=of?pm(o,y):du(o,y))&&(me=ff(me,"onBeforeInput"),0<me.length&&(Ie=new Qt("onBeforeInput","beforeinput",null,y,Ie),Te.push({event:Ie,listeners:me}),Ie.data=ft))}wb(Te,d)})}function mu(o,d,y){return{instance:o,listener:d,currentTarget:y}}function ff(o,d){for(var y=d+"Capture",A=[];o!==null;){var P=o,j=P.stateNode;P.tag===5&&j!==null&&(P=j,j=yn(o,y),j!=null&&A.unshift(mu(o,j,P)),j=yn(o,d),j!=null&&A.push(mu(o,j,P))),o=o.return}return A}function Ul(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Eb(o,d,y,A,P){for(var j=d._reactName,U=[];y!==null&&y!==A;){var K=y,J=K.alternate,me=K.stateNode;if(J!==null&&J===A)break;K.tag===5&&me!==null&&(K=me,P?(J=yn(y,j),J!=null&&U.unshift(mu(y,J,K))):P||(J=yn(y,j),J!=null&&U.push(mu(y,J,K)))),y=y.return}U.length!==0&&o.push({event:d,listeners:U})}var g8=/\r\n?/g,v8=/\u0000|\uFFFD/g;function Ab(o){return(typeof o=="string"?o:""+o).replace(g8,`
`).replace(v8,"")}function hf(o,d,y){if(d=Ab(d),Ab(o)!==d&&y)throw Error(r(425))}function pf(){}var ym=null,wm=null;function bm(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Em=typeof setTimeout=="function"?setTimeout:void 0,x8=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,y8=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(o){return Sb.resolve(null).then(o).catch(w8)}:Em;function w8(o){setTimeout(function(){throw o})}function Am(o,d){var y=d,A=0;do{var P=y.nextSibling;if(o.removeChild(y),P&&P.nodeType===8)if(y=P.data,y==="/$"){if(A===0){o.removeChild(P),ha(d);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=P}while(y);ha(d)}function Xs(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function _b(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var y=o.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return o;d--}else y==="/$"&&d++}o=o.previousSibling}return null}var zl=Math.random().toString(36).slice(2),Ma="__reactFiber$"+zl,gu="__reactProps$"+zl,as="__reactContainer$"+zl,Sm="__reactEvents$"+zl,b8="__reactListeners$"+zl,E8="__reactHandles$"+zl;function Lo(o){var d=o[Ma];if(d)return d;for(var y=o.parentNode;y;){if(d=y[as]||y[Ma]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(o=_b(o);o!==null;){if(y=o[Ma])return y;o=_b(o)}return d}o=y,y=o.parentNode}return null}function vu(o){return o=o[Ma]||o[as],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function $l(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function mf(o){return o[gu]||null}var _m=[],Wl=-1;function Ys(o){return{current:o}}function gr(o){0>Wl||(o.current=_m[Wl],_m[Wl]=null,Wl--)}function cr(o,d){Wl++,_m[Wl]=o.current,o.current=d}var Zs={},Vn=Ys(Zs),li=Ys(!1),Bo=Zs;function Vl(o,d){var y=o.type.contextTypes;if(!y)return Zs;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var P={},j;for(j in y)P[j]=d[j];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function ci(o){return o=o.childContextTypes,o!=null}function gf(){gr(li),gr(Vn)}function Cb(o,d,y){if(Vn.current!==Zs)throw Error(r(168));cr(Vn,d),cr(li,y)}function Ob(o,d,y){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var P in A)if(!(P in d))throw Error(r(108,lt(o)||"Unknown",P));return be({},y,A)}function vf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Zs,Bo=Vn.current,cr(Vn,o),cr(li,li.current),!0}function Nb(o,d,y){var A=o.stateNode;if(!A)throw Error(r(169));y?(o=Ob(o,d,Bo),A.__reactInternalMemoizedMergedChildContext=o,gr(li),gr(Vn),cr(Vn,o)):gr(li),cr(li,y)}var ss=null,xf=!1,Cm=!1;function Ib(o){ss===null?ss=[o]:ss.push(o)}function A8(o){xf=!0,Ib(o)}function Qs(){if(!Cm&&ss!==null){Cm=!0;var o=0,d=St;try{var y=ss;for(St=1;o<y.length;o++){var A=y[o];do A=A(!0);while(A!==null)}ss=null,xf=!1}catch(P){throw ss!==null&&(ss=ss.slice(o+1)),It(Ee,Qs),P}finally{St=d,Cm=!1}}return null}var Hl=[],ql=0,yf=null,wf=0,Gi=[],Ki=0,Fo=null,os=1,ls="";function Uo(o,d){Hl[ql++]=wf,Hl[ql++]=yf,yf=o,wf=d}function Tb(o,d,y){Gi[Ki++]=os,Gi[Ki++]=ls,Gi[Ki++]=Fo,Fo=o;var A=os;o=ls;var P=32-ei(A)-1;A&=~(1<<P),y+=1;var j=32-ei(d)+P;if(30<j){var U=P-P%5;j=(A&(1<<U)-1).toString(32),A>>=U,P-=U,os=1<<32-ei(d)+P|y<<P|A,ls=j+o}else os=1<<j|y<<P|A,ls=o}function Om(o){o.return!==null&&(Uo(o,1),Tb(o,1,0))}function Nm(o){for(;o===yf;)yf=Hl[--ql],Hl[ql]=null,wf=Hl[--ql],Hl[ql]=null;for(;o===Fo;)Fo=Gi[--Ki],Gi[Ki]=null,ls=Gi[--Ki],Gi[Ki]=null,os=Gi[--Ki],Gi[Ki]=null}var _i=null,Ci=null,Er=!1,ga=null;function Pb(o,d){var y=Qi(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=o,d=o.deletions,d===null?(o.deletions=[y],o.flags|=16):d.push(y)}function kb(o,d){switch(o.tag){case 5:var y=o.type;return d=d.nodeType!==1||y.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,_i=o,Ci=Xs(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,_i=o,Ci=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(y=Fo!==null?{id:os,overflow:ls}:null,o.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Qi(18,null,null,0),y.stateNode=d,y.return=o,o.child=y,_i=o,Ci=null,!0):!1;default:return!1}}function Im(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Tm(o){if(Er){var d=Ci;if(d){var y=d;if(!kb(o,d)){if(Im(o))throw Error(r(418));d=Xs(y.nextSibling);var A=_i;d&&kb(o,d)?Pb(A,y):(o.flags=o.flags&-4097|2,Er=!1,_i=o)}}else{if(Im(o))throw Error(r(418));o.flags=o.flags&-4097|2,Er=!1,_i=o}}}function jb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;_i=o}function bf(o){if(o!==_i)return!1;if(!Er)return jb(o),Er=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!bm(o.type,o.memoizedProps)),d&&(d=Ci)){if(Im(o))throw Rb(),Error(r(418));for(;d;)Pb(o,d),d=Xs(d.nextSibling)}if(jb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var y=o.data;if(y==="/$"){if(d===0){Ci=Xs(o.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++}o=o.nextSibling}Ci=null}}else Ci=_i?Xs(o.stateNode.nextSibling):null;return!0}function Rb(){for(var o=Ci;o;)o=Xs(o.nextSibling)}function Gl(){Ci=_i=null,Er=!1}function Pm(o){ga===null?ga=[o]:ga.push(o)}var S8=z.ReactCurrentBatchConfig;function xu(o,d,y){if(o=y.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var A=y.stateNode}if(!A)throw Error(r(147,o));var P=A,j=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(U){var K=P.refs;U===null?delete K[j]:K[j]=U},d._stringRef=j,d)}if(typeof o!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,o))}return o}function Ef(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Mb(o){var d=o._init;return d(o._payload)}function Db(o){function d(se,te){if(o){var le=se.deletions;le===null?(se.deletions=[te],se.flags|=16):le.push(te)}}function y(se,te){if(!o)return null;for(;te!==null;)d(se,te),te=te.sibling;return null}function A(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function P(se,te){return se=so(se,te),se.index=0,se.sibling=null,se}function j(se,te,le){return se.index=le,o?(le=se.alternate,le!==null?(le=le.index,le<te?(se.flags|=2,te):le):(se.flags|=2,te)):(se.flags|=1048576,te)}function U(se){return o&&se.alternate===null&&(se.flags|=2),se}function K(se,te,le,Me){return te===null||te.tag!==6?(te=E1(le,se.mode,Me),te.return=se,te):(te=P(te,le),te.return=se,te)}function J(se,te,le,Me){var et=le.type;return et===H?Ie(se,te,le.props.children,Me,le.key):te!==null&&(te.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===De&&Mb(et)===te.type)?(Me=P(te,le.props),Me.ref=xu(se,te,le),Me.return=se,Me):(Me=qf(le.type,le.key,le.props,null,se.mode,Me),Me.ref=xu(se,te,le),Me.return=se,Me)}function me(se,te,le,Me){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=A1(le,se.mode,Me),te.return=se,te):(te=P(te,le.children||[]),te.return=se,te)}function Ie(se,te,le,Me,et){return te===null||te.tag!==7?(te=Ko(le,se.mode,Me,et),te.return=se,te):(te=P(te,le),te.return=se,te)}function Te(se,te,le){if(typeof te=="string"&&te!==""||typeof te=="number")return te=E1(""+te,se.mode,le),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case W:return le=qf(te.type,te.key,te.props,null,se.mode,le),le.ref=xu(se,null,te),le.return=se,le;case V:return te=A1(te,se.mode,le),te.return=se,te;case De:var Me=te._init;return Te(se,Me(te._payload),le)}if(hr(te)||we(te))return te=Ko(te,se.mode,le,null),te.return=se,te;Ef(se,te)}return null}function Ce(se,te,le,Me){var et=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return et!==null?null:K(se,te,""+le,Me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case W:return le.key===et?J(se,te,le,Me):null;case V:return le.key===et?me(se,te,le,Me):null;case De:return et=le._init,Ce(se,te,et(le._payload),Me)}if(hr(le)||we(le))return et!==null?null:Ie(se,te,le,Me,null);Ef(se,le)}return null}function $e(se,te,le,Me,et){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return se=se.get(le)||null,K(te,se,""+Me,et);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case W:return se=se.get(Me.key===null?le:Me.key)||null,J(te,se,Me,et);case V:return se=se.get(Me.key===null?le:Me.key)||null,me(te,se,Me,et);case De:var dt=Me._init;return $e(se,te,le,dt(Me._payload),et)}if(hr(Me)||we(Me))return se=se.get(le)||null,Ie(te,se,Me,et,null);Ef(te,Me)}return null}function Ze(se,te,le,Me){for(var et=null,dt=null,ft=te,xt=te=0,Sn=null;ft!==null&&xt<le.length;xt++){ft.index>xt?(Sn=ft,ft=null):Sn=ft.sibling;var Ft=Ce(se,ft,le[xt],Me);if(Ft===null){ft===null&&(ft=Sn);break}o&&ft&&Ft.alternate===null&&d(se,ft),te=j(Ft,te,xt),dt===null?et=Ft:dt.sibling=Ft,dt=Ft,ft=Sn}if(xt===le.length)return y(se,ft),Er&&Uo(se,xt),et;if(ft===null){for(;xt<le.length;xt++)ft=Te(se,le[xt],Me),ft!==null&&(te=j(ft,te,xt),dt===null?et=ft:dt.sibling=ft,dt=ft);return Er&&Uo(se,xt),et}for(ft=A(se,ft);xt<le.length;xt++)Sn=$e(ft,se,xt,le[xt],Me),Sn!==null&&(o&&Sn.alternate!==null&&ft.delete(Sn.key===null?xt:Sn.key),te=j(Sn,te,xt),dt===null?et=Sn:dt.sibling=Sn,dt=Sn);return o&&ft.forEach(function(oo){return d(se,oo)}),Er&&Uo(se,xt),et}function Qe(se,te,le,Me){var et=we(le);if(typeof et!="function")throw Error(r(150));if(le=et.call(le),le==null)throw Error(r(151));for(var dt=et=null,ft=te,xt=te=0,Sn=null,Ft=le.next();ft!==null&&!Ft.done;xt++,Ft=le.next()){ft.index>xt?(Sn=ft,ft=null):Sn=ft.sibling;var oo=Ce(se,ft,Ft.value,Me);if(oo===null){ft===null&&(ft=Sn);break}o&&ft&&oo.alternate===null&&d(se,ft),te=j(oo,te,xt),dt===null?et=oo:dt.sibling=oo,dt=oo,ft=Sn}if(Ft.done)return y(se,ft),Er&&Uo(se,xt),et;if(ft===null){for(;!Ft.done;xt++,Ft=le.next())Ft=Te(se,Ft.value,Me),Ft!==null&&(te=j(Ft,te,xt),dt===null?et=Ft:dt.sibling=Ft,dt=Ft);return Er&&Uo(se,xt),et}for(ft=A(se,ft);!Ft.done;xt++,Ft=le.next())Ft=$e(ft,se,xt,Ft.value,Me),Ft!==null&&(o&&Ft.alternate!==null&&ft.delete(Ft.key===null?xt:Ft.key),te=j(Ft,te,xt),dt===null?et=Ft:dt.sibling=Ft,dt=Ft);return o&&ft.forEach(function(nj){return d(se,nj)}),Er&&Uo(se,xt),et}function qr(se,te,le,Me){if(typeof le=="object"&&le!==null&&le.type===H&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case W:e:{for(var et=le.key,dt=te;dt!==null;){if(dt.key===et){if(et=le.type,et===H){if(dt.tag===7){y(se,dt.sibling),te=P(dt,le.props.children),te.return=se,se=te;break e}}else if(dt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===De&&Mb(et)===dt.type){y(se,dt.sibling),te=P(dt,le.props),te.ref=xu(se,dt,le),te.return=se,se=te;break e}y(se,dt);break}else d(se,dt);dt=dt.sibling}le.type===H?(te=Ko(le.props.children,se.mode,Me,le.key),te.return=se,se=te):(Me=qf(le.type,le.key,le.props,null,se.mode,Me),Me.ref=xu(se,te,le),Me.return=se,se=Me)}return U(se);case V:e:{for(dt=le.key;te!==null;){if(te.key===dt)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){y(se,te.sibling),te=P(te,le.children||[]),te.return=se,se=te;break e}else{y(se,te);break}else d(se,te);te=te.sibling}te=A1(le,se.mode,Me),te.return=se,se=te}return U(se);case De:return dt=le._init,qr(se,te,dt(le._payload),Me)}if(hr(le))return Ze(se,te,le,Me);if(we(le))return Qe(se,te,le,Me);Ef(se,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,te!==null&&te.tag===6?(y(se,te.sibling),te=P(te,le),te.return=se,se=te):(y(se,te),te=E1(le,se.mode,Me),te.return=se,se=te),U(se)):y(se,te)}return qr}var Kl=Db(!0),Lb=Db(!1),Af=Ys(null),Sf=null,Xl=null,km=null;function jm(){km=Xl=Sf=null}function Rm(o){var d=Af.current;gr(Af),o._currentValue=d}function Mm(o,d,y){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===y)break;o=o.return}}function Yl(o,d){Sf=o,km=Xl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(ui=!0),o.firstContext=null)}function Xi(o){var d=o._currentValue;if(km!==o)if(o={context:o,memoizedValue:d,next:null},Xl===null){if(Sf===null)throw Error(r(308));Xl=o,Sf.dependencies={lanes:0,firstContext:o}}else Xl=Xl.next=o;return d}var zo=null;function Dm(o){zo===null?zo=[o]:zo.push(o)}function Bb(o,d,y,A){var P=d.interleaved;return P===null?(y.next=y,Dm(d)):(y.next=P.next,P.next=y),d.interleaved=y,cs(o,A)}function cs(o,d){o.lanes|=d;var y=o.alternate;for(y!==null&&(y.lanes|=d),y=o,o=o.return;o!==null;)o.childLanes|=d,y=o.alternate,y!==null&&(y.childLanes|=d),y=o,o=o.return;return y.tag===3?y.stateNode:null}var Js=!1;function Lm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function us(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function eo(o,d,y){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Bt&2)!==0){var P=A.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),A.pending=d,cs(o,y)}return P=A.interleaved,P===null?(d.next=d,Dm(A)):(d.next=P.next,P.next=d),A.interleaved=d,cs(o,y)}function _f(o,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,y|=A,d.lanes=y,Dr(o,y)}}function Ub(o,d){var y=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var P=null,j=null;if(y=y.firstBaseUpdate,y!==null){do{var U={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};j===null?P=j=U:j=j.next=U,y=y.next}while(y!==null);j===null?P=j=d:j=j.next=d}else P=j=d;y={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:j,shared:A.shared,effects:A.effects},o.updateQueue=y;return}o=y.lastBaseUpdate,o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=d}function Cf(o,d,y,A){var P=o.updateQueue;Js=!1;var j=P.firstBaseUpdate,U=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var J=K,me=J.next;J.next=null,U===null?j=me:U.next=me,U=J;var Ie=o.alternate;Ie!==null&&(Ie=Ie.updateQueue,K=Ie.lastBaseUpdate,K!==U&&(K===null?Ie.firstBaseUpdate=me:K.next=me,Ie.lastBaseUpdate=J))}if(j!==null){var Te=P.baseState;U=0,Ie=me=J=null,K=j;do{var Ce=K.lane,$e=K.eventTime;if((A&Ce)===Ce){Ie!==null&&(Ie=Ie.next={eventTime:$e,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ze=o,Qe=K;switch(Ce=d,$e=y,Qe.tag){case 1:if(Ze=Qe.payload,typeof Ze=="function"){Te=Ze.call($e,Te,Ce);break e}Te=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=Qe.payload,Ce=typeof Ze=="function"?Ze.call($e,Te,Ce):Ze,Ce==null)break e;Te=be({},Te,Ce);break e;case 2:Js=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Ce=P.effects,Ce===null?P.effects=[K]:Ce.push(K))}else $e={eventTime:$e,lane:Ce,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ie===null?(me=Ie=$e,J=Te):Ie=Ie.next=$e,U|=Ce;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;Ce=K,K=Ce.next,Ce.next=null,P.lastBaseUpdate=Ce,P.shared.pending=null}}while(!0);if(Ie===null&&(J=Te),P.baseState=J,P.firstBaseUpdate=me,P.lastBaseUpdate=Ie,d=P.shared.interleaved,d!==null){P=d;do U|=P.lane,P=P.next;while(P!==d)}else j===null&&(P.shared.lanes=0);Vo|=U,o.lanes=U,o.memoizedState=Te}}function zb(o,d,y){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],P=A.callback;if(P!==null){if(A.callback=null,A=y,typeof P!="function")throw Error(r(191,P));P.call(A)}}}var yu={},Da=Ys(yu),wu=Ys(yu),bu=Ys(yu);function $o(o){if(o===yu)throw Error(r(174));return o}function Bm(o,d){switch(cr(bu,d),cr(wu,o),cr(Da,yu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:da(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=da(d,o)}gr(Da),cr(Da,d)}function Zl(){gr(Da),gr(wu),gr(bu)}function $b(o){$o(bu.current);var d=$o(Da.current),y=da(d,o.type);d!==y&&(cr(wu,o),cr(Da,y))}function Fm(o){wu.current===o&&(gr(Da),gr(wu))}var Pr=Ys(0);function Of(o){for(var d=o;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Um=[];function zm(){for(var o=0;o<Um.length;o++)Um[o]._workInProgressVersionPrimary=null;Um.length=0}var Nf=z.ReactCurrentDispatcher,$m=z.ReactCurrentBatchConfig,Wo=0,kr=null,dn=null,En=null,If=!1,Eu=!1,Au=0,_8=0;function Hn(){throw Error(r(321))}function Wm(o,d){if(d===null)return!1;for(var y=0;y<d.length&&y<o.length;y++)if(!ie(o[y],d[y]))return!1;return!0}function Vm(o,d,y,A,P,j){if(Wo=j,kr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Nf.current=o===null||o.memoizedState===null?I8:T8,o=y(A,P),Eu){j=0;do{if(Eu=!1,Au=0,25<=j)throw Error(r(301));j+=1,En=dn=null,d.updateQueue=null,Nf.current=P8,o=y(A,P)}while(Eu)}if(Nf.current=kf,d=dn!==null&&dn.next!==null,Wo=0,En=dn=kr=null,If=!1,d)throw Error(r(300));return o}function Hm(){var o=Au!==0;return Au=0,o}function La(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?kr.memoizedState=En=o:En=En.next=o,En}function Yi(){if(dn===null){var o=kr.alternate;o=o!==null?o.memoizedState:null}else o=dn.next;var d=En===null?kr.memoizedState:En.next;if(d!==null)En=d,dn=o;else{if(o===null)throw Error(r(310));dn=o,o={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},En===null?kr.memoizedState=En=o:En=En.next=o}return En}function Su(o,d){return typeof d=="function"?d(o):d}function qm(o){var d=Yi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var A=dn,P=A.baseQueue,j=y.pending;if(j!==null){if(P!==null){var U=P.next;P.next=j.next,j.next=U}A.baseQueue=P=j,y.pending=null}if(P!==null){j=P.next,A=A.baseState;var K=U=null,J=null,me=j;do{var Ie=me.lane;if((Wo&Ie)===Ie)J!==null&&(J=J.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),A=me.hasEagerState?me.eagerState:o(A,me.action);else{var Te={lane:Ie,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};J===null?(K=J=Te,U=A):J=J.next=Te,kr.lanes|=Ie,Vo|=Ie}me=me.next}while(me!==null&&me!==j);J===null?U=A:J.next=K,ie(A,d.memoizedState)||(ui=!0),d.memoizedState=A,d.baseState=U,d.baseQueue=J,y.lastRenderedState=A}if(o=y.interleaved,o!==null){P=o;do j=P.lane,kr.lanes|=j,Vo|=j,P=P.next;while(P!==o)}else P===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Gm(o){var d=Yi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var A=y.dispatch,P=y.pending,j=d.memoizedState;if(P!==null){y.pending=null;var U=P=P.next;do j=o(j,U.action),U=U.next;while(U!==P);ie(j,d.memoizedState)||(ui=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),y.lastRenderedState=j}return[j,A]}function Wb(){}function Vb(o,d){var y=kr,A=Yi(),P=d(),j=!ie(A.memoizedState,P);if(j&&(A.memoizedState=P,ui=!0),A=A.queue,Km(Gb.bind(null,y,A,o),[o]),A.getSnapshot!==d||j||En!==null&&En.memoizedState.tag&1){if(y.flags|=2048,_u(9,qb.bind(null,y,A,P,d),void 0,null),An===null)throw Error(r(349));(Wo&30)!==0||Hb(y,d,P)}return P}function Hb(o,d,y){o.flags|=16384,o={getSnapshot:d,value:y},d=kr.updateQueue,d===null?(d={lastEffect:null,stores:null},kr.updateQueue=d,d.stores=[o]):(y=d.stores,y===null?d.stores=[o]:y.push(o))}function qb(o,d,y,A){d.value=y,d.getSnapshot=A,Kb(d)&&Xb(o)}function Gb(o,d,y){return y(function(){Kb(d)&&Xb(o)})}function Kb(o){var d=o.getSnapshot;o=o.value;try{var y=d();return!ie(o,y)}catch{return!0}}function Xb(o){var d=cs(o,1);d!==null&&wa(d,o,1,-1)}function Yb(o){var d=La();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:o},d.queue=o,o=o.dispatch=N8.bind(null,kr,o),[d.memoizedState,o]}function _u(o,d,y,A){return o={tag:o,create:d,destroy:y,deps:A,next:null},d=kr.updateQueue,d===null?(d={lastEffect:null,stores:null},kr.updateQueue=d,d.lastEffect=o.next=o):(y=d.lastEffect,y===null?d.lastEffect=o.next=o:(A=y.next,y.next=o,o.next=A,d.lastEffect=o)),o}function Zb(){return Yi().memoizedState}function Tf(o,d,y,A){var P=La();kr.flags|=o,P.memoizedState=_u(1|d,y,void 0,A===void 0?null:A)}function Pf(o,d,y,A){var P=Yi();A=A===void 0?null:A;var j=void 0;if(dn!==null){var U=dn.memoizedState;if(j=U.destroy,A!==null&&Wm(A,U.deps)){P.memoizedState=_u(d,y,j,A);return}}kr.flags|=o,P.memoizedState=_u(1|d,y,j,A)}function Qb(o,d){return Tf(8390656,8,o,d)}function Km(o,d){return Pf(2048,8,o,d)}function Jb(o,d){return Pf(4,2,o,d)}function e2(o,d){return Pf(4,4,o,d)}function t2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function r2(o,d,y){return y=y!=null?y.concat([o]):null,Pf(4,4,t2.bind(null,d,o),y)}function Xm(){}function n2(o,d){var y=Yi();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&Wm(d,A[1])?A[0]:(y.memoizedState=[o,d],o)}function i2(o,d){var y=Yi();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&Wm(d,A[1])?A[0]:(o=o(),y.memoizedState=[o,d],o)}function a2(o,d,y){return(Wo&21)===0?(o.baseState&&(o.baseState=!1,ui=!0),o.memoizedState=y):(ie(y,d)||(y=on(),kr.lanes|=y,Vo|=y,o.baseState=!0),d)}function C8(o,d){var y=St;St=y!==0&&4>y?y:4,o(!0);var A=$m.transition;$m.transition={};try{o(!1),d()}finally{St=y,$m.transition=A}}function s2(){return Yi().memoizedState}function O8(o,d,y){var A=io(o);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},o2(o))l2(d,y);else if(y=Bb(o,d,y,A),y!==null){var P=ri();wa(y,o,A,P),c2(y,d,A)}}function N8(o,d,y){var A=io(o),P={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(o2(o))l2(d,P);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var U=d.lastRenderedState,K=j(U,y);if(P.hasEagerState=!0,P.eagerState=K,ie(K,U)){var J=d.interleaved;J===null?(P.next=P,Dm(d)):(P.next=J.next,J.next=P),d.interleaved=P;return}}catch{}finally{}y=Bb(o,d,P,A),y!==null&&(P=ri(),wa(y,o,A,P),c2(y,d,A))}}function o2(o){var d=o.alternate;return o===kr||d!==null&&d===kr}function l2(o,d){Eu=If=!0;var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}function c2(o,d,y){if((y&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,y|=A,d.lanes=y,Dr(o,y)}}var kf={readContext:Xi,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},I8={readContext:Xi,useCallback:function(o,d){return La().memoizedState=[o,d===void 0?null:d],o},useContext:Xi,useEffect:Qb,useImperativeHandle:function(o,d,y){return y=y!=null?y.concat([o]):null,Tf(4194308,4,t2.bind(null,d,o),y)},useLayoutEffect:function(o,d){return Tf(4194308,4,o,d)},useInsertionEffect:function(o,d){return Tf(4,2,o,d)},useMemo:function(o,d){var y=La();return d=d===void 0?null:d,o=o(),y.memoizedState=[o,d],o},useReducer:function(o,d,y){var A=La();return d=y!==void 0?y(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=O8.bind(null,kr,o),[A.memoizedState,o]},useRef:function(o){var d=La();return o={current:o},d.memoizedState=o},useState:Yb,useDebugValue:Xm,useDeferredValue:function(o){return La().memoizedState=o},useTransition:function(){var o=Yb(!1),d=o[0];return o=C8.bind(null,o[1]),La().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,y){var A=kr,P=La();if(Er){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),An===null)throw Error(r(349));(Wo&30)!==0||Hb(A,d,y)}P.memoizedState=y;var j={value:y,getSnapshot:d};return P.queue=j,Qb(Gb.bind(null,A,j,o),[o]),A.flags|=2048,_u(9,qb.bind(null,A,j,y,d),void 0,null),y},useId:function(){var o=La(),d=An.identifierPrefix;if(Er){var y=ls,A=os;y=(A&~(1<<32-ei(A)-1)).toString(32)+y,d=":"+d+"R"+y,y=Au++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=_8++,d=":"+d+"r"+y.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},T8={readContext:Xi,useCallback:n2,useContext:Xi,useEffect:Km,useImperativeHandle:r2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:i2,useReducer:qm,useRef:Zb,useState:function(){return qm(Su)},useDebugValue:Xm,useDeferredValue:function(o){var d=Yi();return a2(d,dn.memoizedState,o)},useTransition:function(){var o=qm(Su)[0],d=Yi().memoizedState;return[o,d]},useMutableSource:Wb,useSyncExternalStore:Vb,useId:s2,unstable_isNewReconciler:!1},P8={readContext:Xi,useCallback:n2,useContext:Xi,useEffect:Km,useImperativeHandle:r2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:i2,useReducer:Gm,useRef:Zb,useState:function(){return Gm(Su)},useDebugValue:Xm,useDeferredValue:function(o){var d=Yi();return dn===null?d.memoizedState=o:a2(d,dn.memoizedState,o)},useTransition:function(){var o=Gm(Su)[0],d=Yi().memoizedState;return[o,d]},useMutableSource:Wb,useSyncExternalStore:Vb,useId:s2,unstable_isNewReconciler:!1};function va(o,d){if(o&&o.defaultProps){d=be({},d),o=o.defaultProps;for(var y in o)d[y]===void 0&&(d[y]=o[y]);return d}return d}function Ym(o,d,y,A){d=o.memoizedState,y=y(A,d),y=y==null?d:be({},d,y),o.memoizedState=y,o.lanes===0&&(o.updateQueue.baseState=y)}var jf={isMounted:function(o){return(o=o._reactInternals)?zn(o)===o:!1},enqueueSetState:function(o,d,y){o=o._reactInternals;var A=ri(),P=io(o),j=us(A,P);j.payload=d,y!=null&&(j.callback=y),d=eo(o,j,P),d!==null&&(wa(d,o,P,A),_f(d,o,P))},enqueueReplaceState:function(o,d,y){o=o._reactInternals;var A=ri(),P=io(o),j=us(A,P);j.tag=1,j.payload=d,y!=null&&(j.callback=y),d=eo(o,j,P),d!==null&&(wa(d,o,P,A),_f(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var y=ri(),A=io(o),P=us(y,A);P.tag=2,d!=null&&(P.callback=d),d=eo(o,P,A),d!==null&&(wa(d,o,A,y),_f(d,o,A))}};function u2(o,d,y,A,P,j,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,j,U):d.prototype&&d.prototype.isPureReactComponent?!fe(y,A)||!fe(P,j):!0}function d2(o,d,y){var A=!1,P=Zs,j=d.contextType;return typeof j=="object"&&j!==null?j=Xi(j):(P=ci(d)?Bo:Vn.current,A=d.contextTypes,j=(A=A!=null)?Vl(o,P):Zs),d=new d(y,j),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=j),d}function f2(o,d,y,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,A),d.state!==o&&jf.enqueueReplaceState(d,d.state,null)}function Zm(o,d,y,A){var P=o.stateNode;P.props=y,P.state=o.memoizedState,P.refs={},Lm(o);var j=d.contextType;typeof j=="object"&&j!==null?P.context=Xi(j):(j=ci(d)?Bo:Vn.current,P.context=Vl(o,j)),P.state=o.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(Ym(o,d,j,y),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&jf.enqueueReplaceState(P,P.state,null),Cf(o,y,P,A),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function Ql(o,d){try{var y="",A=d;do y+=Ye(A),A=A.return;while(A);var P=y}catch(j){P=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:d,stack:P,digest:null}}function Qm(o,d,y){return{value:o,source:null,stack:y??null,digest:d??null}}function Jm(o,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var k8=typeof WeakMap=="function"?WeakMap:Map;function h2(o,d,y){y=us(-1,y),y.tag=3,y.payload={element:null};var A=d.value;return y.callback=function(){Uf||(Uf=!0,p1=A),Jm(o,d)},y}function p2(o,d,y){y=us(-1,y),y.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var P=d.value;y.payload=function(){return A(P)},y.callback=function(){Jm(o,d)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(y.callback=function(){Jm(o,d),typeof A!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),y}function m2(o,d,y){var A=o.pingCache;if(A===null){A=o.pingCache=new k8;var P=new Set;A.set(d,P)}else P=A.get(d),P===void 0&&(P=new Set,A.set(d,P));P.has(y)||(P.add(y),o=q8.bind(null,o,d,y),d.then(o,o))}function g2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function v2(o,d,y,A,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=us(-1,1),d.tag=2,eo(y,d,1))),y.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var j8=z.ReactCurrentOwner,ui=!1;function ti(o,d,y,A){d.child=o===null?Lb(d,null,y,A):Kl(d,o.child,y,A)}function x2(o,d,y,A,P){y=y.render;var j=d.ref;return Yl(d,P),A=Vm(o,d,y,A,j,P),y=Hm(),o!==null&&!ui?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,ds(o,d,P)):(Er&&y&&Om(d),d.flags|=1,ti(o,d,A,P),d.child)}function y2(o,d,y,A,P){if(o===null){var j=y.type;return typeof j=="function"&&!b1(j)&&j.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=j,w2(o,d,j,A,P)):(o=qf(y.type,null,A,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(j=o.child,(o.lanes&P)===0){var U=j.memoizedProps;if(y=y.compare,y=y!==null?y:fe,y(U,A)&&o.ref===d.ref)return ds(o,d,P)}return d.flags|=1,o=so(j,A),o.ref=d.ref,o.return=d,d.child=o}function w2(o,d,y,A,P){if(o!==null){var j=o.memoizedProps;if(fe(j,A)&&o.ref===d.ref)if(ui=!1,d.pendingProps=A=j,(o.lanes&P)!==0)(o.flags&131072)!==0&&(ui=!0);else return d.lanes=o.lanes,ds(o,d,P)}return e1(o,d,y,A,P)}function b2(o,d,y){var A=d.pendingProps,P=A.children,j=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(ec,Oi),Oi|=y;else{if((y&1073741824)===0)return o=j!==null?j.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,cr(ec,Oi),Oi|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=j!==null?j.baseLanes:y,cr(ec,Oi),Oi|=A}else j!==null?(A=j.baseLanes|y,d.memoizedState=null):A=y,cr(ec,Oi),Oi|=A;return ti(o,d,P,y),d.child}function E2(o,d){var y=d.ref;(o===null&&y!==null||o!==null&&o.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function e1(o,d,y,A,P){var j=ci(y)?Bo:Vn.current;return j=Vl(d,j),Yl(d,P),y=Vm(o,d,y,A,j,P),A=Hm(),o!==null&&!ui?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,ds(o,d,P)):(Er&&A&&Om(d),d.flags|=1,ti(o,d,y,P),d.child)}function A2(o,d,y,A,P){if(ci(y)){var j=!0;vf(d)}else j=!1;if(Yl(d,P),d.stateNode===null)Mf(o,d),d2(d,y,A),Zm(d,y,A,P),A=!0;else if(o===null){var U=d.stateNode,K=d.memoizedProps;U.props=K;var J=U.context,me=y.contextType;typeof me=="object"&&me!==null?me=Xi(me):(me=ci(y)?Bo:Vn.current,me=Vl(d,me));var Ie=y.getDerivedStateFromProps,Te=typeof Ie=="function"||typeof U.getSnapshotBeforeUpdate=="function";Te||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==A||J!==me)&&f2(d,U,A,me),Js=!1;var Ce=d.memoizedState;U.state=Ce,Cf(d,A,U,P),J=d.memoizedState,K!==A||Ce!==J||li.current||Js?(typeof Ie=="function"&&(Ym(d,y,Ie,A),J=d.memoizedState),(K=Js||u2(d,y,K,A,Ce,J,me))?(Te||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=J),U.props=A,U.state=J,U.context=me,A=K):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{U=d.stateNode,Fb(o,d),K=d.memoizedProps,me=d.type===d.elementType?K:va(d.type,K),U.props=me,Te=d.pendingProps,Ce=U.context,J=y.contextType,typeof J=="object"&&J!==null?J=Xi(J):(J=ci(y)?Bo:Vn.current,J=Vl(d,J));var $e=y.getDerivedStateFromProps;(Ie=typeof $e=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==Te||Ce!==J)&&f2(d,U,A,J),Js=!1,Ce=d.memoizedState,U.state=Ce,Cf(d,A,U,P);var Ze=d.memoizedState;K!==Te||Ce!==Ze||li.current||Js?(typeof $e=="function"&&(Ym(d,y,$e,A),Ze=d.memoizedState),(me=Js||u2(d,y,me,A,Ce,Ze,J)||!1)?(Ie||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,Ze,J),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,Ze,J)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=Ze),U.props=A,U.state=Ze,U.context=J,A=me):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ce===o.memoizedState||(d.flags|=1024),A=!1)}return t1(o,d,y,A,j,P)}function t1(o,d,y,A,P,j){E2(o,d);var U=(d.flags&128)!==0;if(!A&&!U)return P&&Nb(d,y,!1),ds(o,d,j);A=d.stateNode,j8.current=d;var K=U&&typeof y.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&U?(d.child=Kl(d,o.child,null,j),d.child=Kl(d,null,K,j)):ti(o,d,K,j),d.memoizedState=A.state,P&&Nb(d,y,!0),d.child}function S2(o){var d=o.stateNode;d.pendingContext?Cb(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Cb(o,d.context,!1),Bm(o,d.containerInfo)}function _2(o,d,y,A,P){return Gl(),Pm(P),d.flags|=256,ti(o,d,y,A),d.child}var r1={dehydrated:null,treeContext:null,retryLane:0};function n1(o){return{baseLanes:o,cachePool:null,transitions:null}}function C2(o,d,y){var A=d.pendingProps,P=Pr.current,j=!1,U=(d.flags&128)!==0,K;if((K=U)||(K=o!==null&&o.memoizedState===null?!1:(P&2)!==0),K?(j=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),cr(Pr,P&1),o===null)return Tm(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=A.children,o=A.fallback,j?(A=d.mode,j=d.child,U={mode:"hidden",children:U},(A&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=U):j=Gf(U,A,0,null),o=Ko(o,A,y,null),j.return=d,o.return=d,j.sibling=o,d.child=j,d.child.memoizedState=n1(y),d.memoizedState=r1,o):i1(d,U));if(P=o.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return R8(o,d,U,A,K,P,y);if(j){j=A.fallback,U=d.mode,P=o.child,K=P.sibling;var J={mode:"hidden",children:A.children};return(U&1)===0&&d.child!==P?(A=d.child,A.childLanes=0,A.pendingProps=J,d.deletions=null):(A=so(P,J),A.subtreeFlags=P.subtreeFlags&14680064),K!==null?j=so(K,j):(j=Ko(j,U,y,null),j.flags|=2),j.return=d,A.return=d,A.sibling=j,d.child=A,A=j,j=d.child,U=o.child.memoizedState,U=U===null?n1(y):{baseLanes:U.baseLanes|y,cachePool:null,transitions:U.transitions},j.memoizedState=U,j.childLanes=o.childLanes&~y,d.memoizedState=r1,A}return j=o.child,o=j.sibling,A=so(j,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=y),A.return=d,A.sibling=null,o!==null&&(y=d.deletions,y===null?(d.deletions=[o],d.flags|=16):y.push(o)),d.child=A,d.memoizedState=null,A}function i1(o,d){return d=Gf({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Rf(o,d,y,A){return A!==null&&Pm(A),Kl(d,o.child,null,y),o=i1(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function R8(o,d,y,A,P,j,U){if(y)return d.flags&256?(d.flags&=-257,A=Qm(Error(r(422))),Rf(o,d,U,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(j=A.fallback,P=d.mode,A=Gf({mode:"visible",children:A.children},P,0,null),j=Ko(j,P,U,null),j.flags|=2,A.return=d,j.return=d,A.sibling=j,d.child=A,(d.mode&1)!==0&&Kl(d,o.child,null,U),d.child.memoizedState=n1(U),d.memoizedState=r1,j);if((d.mode&1)===0)return Rf(o,d,U,null);if(P.data==="$!"){if(A=P.nextSibling&&P.nextSibling.dataset,A)var K=A.dgst;return A=K,j=Error(r(419)),A=Qm(j,A,void 0),Rf(o,d,U,A)}if(K=(U&o.childLanes)!==0,ui||K){if(A=An,A!==null){switch(U&-U){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(A.suspendedLanes|U))!==0?0:P,P!==0&&P!==j.retryLane&&(j.retryLane=P,cs(o,P),wa(A,o,P,-1))}return w1(),A=Qm(Error(r(421))),Rf(o,d,U,A)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=G8.bind(null,o),P._reactRetry=d,null):(o=j.treeContext,Ci=Xs(P.nextSibling),_i=d,Er=!0,ga=null,o!==null&&(Gi[Ki++]=os,Gi[Ki++]=ls,Gi[Ki++]=Fo,os=o.id,ls=o.overflow,Fo=d),d=i1(d,A.children),d.flags|=4096,d)}function O2(o,d,y){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),Mm(o.return,d,y)}function a1(o,d,y,A,P){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:P}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=A,j.tail=y,j.tailMode=P)}function N2(o,d,y){var A=d.pendingProps,P=A.revealOrder,j=A.tail;if(ti(o,d,A.children,y),A=Pr.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&O2(o,y,d);else if(o.tag===19)O2(o,y,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(cr(Pr,A),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(y=d.child,P=null;y!==null;)o=y.alternate,o!==null&&Of(o)===null&&(P=y),y=y.sibling;y=P,y===null?(P=d.child,d.child=null):(P=y.sibling,y.sibling=null),a1(d,!1,P,y,j);break;case"backwards":for(y=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&Of(o)===null){d.child=P;break}o=P.sibling,P.sibling=y,y=P,P=o}a1(d,!0,y,null,j);break;case"together":a1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Mf(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function ds(o,d,y){if(o!==null&&(d.dependencies=o.dependencies),Vo|=d.lanes,(y&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,y=so(o,o.pendingProps),d.child=y,y.return=d;o.sibling!==null;)o=o.sibling,y=y.sibling=so(o,o.pendingProps),y.return=d;y.sibling=null}return d.child}function M8(o,d,y){switch(d.tag){case 3:S2(d),Gl();break;case 5:$b(d);break;case 1:ci(d.type)&&vf(d);break;case 4:Bm(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,P=d.memoizedProps.value;cr(Af,A._currentValue),A._currentValue=P;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(cr(Pr,Pr.current&1),d.flags|=128,null):(y&d.child.childLanes)!==0?C2(o,d,y):(cr(Pr,Pr.current&1),o=ds(o,d,y),o!==null?o.sibling:null);cr(Pr,Pr.current&1);break;case 19:if(A=(y&d.childLanes)!==0,(o.flags&128)!==0){if(A)return N2(o,d,y);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),cr(Pr,Pr.current),A)break;return null;case 22:case 23:return d.lanes=0,b2(o,d,y)}return ds(o,d,y)}var I2,s1,T2,P2;I2=function(o,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},s1=function(){},T2=function(o,d,y,A){var P=o.memoizedProps;if(P!==A){o=d.stateNode,$o(Da.current);var j=null;switch(y){case"input":P=at(o,P),A=at(o,A),j=[];break;case"select":P=be({},P,{value:void 0}),A=be({},A,{value:void 0}),j=[];break;case"textarea":P=si(o,P),A=si(o,A),j=[];break;default:typeof P.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=pf)}Dt(y,A);var U;y=null;for(me in P)if(!A.hasOwnProperty(me)&&P.hasOwnProperty(me)&&P[me]!=null)if(me==="style"){var K=P[me];for(U in K)K.hasOwnProperty(U)&&(y||(y={}),y[U]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?j||(j=[]):(j=j||[]).push(me,null));for(me in A){var J=A[me];if(K=P?.[me],A.hasOwnProperty(me)&&J!==K&&(J!=null||K!=null))if(me==="style")if(K){for(U in K)!K.hasOwnProperty(U)||J&&J.hasOwnProperty(U)||(y||(y={}),y[U]="");for(U in J)J.hasOwnProperty(U)&&K[U]!==J[U]&&(y||(y={}),y[U]=J[U])}else y||(j||(j=[]),j.push(me,y)),y=J;else me==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(j=j||[]).push(me,J)):me==="children"?typeof J!="string"&&typeof J!="number"||(j=j||[]).push(me,""+J):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(J!=null&&me==="onScroll"&&mr("scroll",o),j||K===J||(j=[])):(j=j||[]).push(me,J))}y&&(j=j||[]).push("style",y);var me=j;(d.updateQueue=me)&&(d.flags|=4)}},P2=function(o,d,y,A){y!==A&&(d.flags|=4)};function Cu(o,d){if(!Er)switch(o.tailMode){case"hidden":d=o.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?o.tail=null:y.sibling=null;break;case"collapsed":y=o.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function qn(o){var d=o.alternate!==null&&o.alternate.child===o.child,y=0,A=0;if(d)for(var P=o.child;P!==null;)y|=P.lanes|P.childLanes,A|=P.subtreeFlags&14680064,A|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)y|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=A,o.childLanes=y,d}function D8(o,d,y){var A=d.pendingProps;switch(Nm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(d),null;case 1:return ci(d.type)&&gf(),qn(d),null;case 3:return A=d.stateNode,Zl(),gr(li),gr(Vn),zm(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(bf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,ga!==null&&(v1(ga),ga=null))),s1(o,d),qn(d),null;case 5:Fm(d);var P=$o(bu.current);if(y=d.type,o!==null&&d.stateNode!=null)T2(o,d,y,A,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return qn(d),null}if(o=$o(Da.current),bf(d)){A=d.stateNode,y=d.type;var j=d.memoizedProps;switch(A[Ma]=d,A[gu]=j,o=(d.mode&1)!==0,y){case"dialog":mr("cancel",A),mr("close",A);break;case"iframe":case"object":case"embed":mr("load",A);break;case"video":case"audio":for(P=0;P<hu.length;P++)mr(hu[P],A);break;case"source":mr("error",A);break;case"img":case"image":case"link":mr("error",A),mr("load",A);break;case"details":mr("toggle",A);break;case"input":vt(A,j),mr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!j.multiple},mr("invalid",A);break;case"textarea":ca(A,j),mr("invalid",A)}Dt(y,j),P=null;for(var U in j)if(j.hasOwnProperty(U)){var K=j[U];U==="children"?typeof K=="string"?A.textContent!==K&&(j.suppressHydrationWarning!==!0&&hf(A.textContent,K,o),P=["children",K]):typeof K=="number"&&A.textContent!==""+K&&(j.suppressHydrationWarning!==!0&&hf(A.textContent,K,o),P=["children",""+K]):i.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&mr("scroll",A)}switch(y){case"input":xe(A),Nt(A,j,!0);break;case"textarea":xe(A),ua(A);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(A.onclick=pf)}A=P,d.updateQueue=A,A!==null&&(d.flags|=4)}else{U=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Mr(y)),o==="http://www.w3.org/1999/xhtml"?y==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=U.createElement(y,{is:A.is}):(o=U.createElement(y),y==="select"&&(U=o,A.multiple?U.multiple=!0:A.size&&(U.size=A.size))):o=U.createElementNS(o,y),o[Ma]=d,o[gu]=A,I2(o,d,!1,!1),d.stateNode=o;e:{switch(U=qt(y,A),y){case"dialog":mr("cancel",o),mr("close",o),P=A;break;case"iframe":case"object":case"embed":mr("load",o),P=A;break;case"video":case"audio":for(P=0;P<hu.length;P++)mr(hu[P],o);P=A;break;case"source":mr("error",o),P=A;break;case"img":case"image":case"link":mr("error",o),mr("load",o),P=A;break;case"details":mr("toggle",o),P=A;break;case"input":vt(o,A),P=at(o,A),mr("invalid",o);break;case"option":P=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},P=be({},A,{value:void 0}),mr("invalid",o);break;case"textarea":ca(o,A),P=si(o,A),mr("invalid",o);break;default:P=A}Dt(y,P),K=P;for(j in K)if(K.hasOwnProperty(j)){var J=K[j];j==="style"?Re(o,J):j==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&ut(o,J)):j==="children"?typeof J=="string"?(y!=="textarea"||J!=="")&&yr(o,J):typeof J=="number"&&yr(o,""+J):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?J!=null&&j==="onScroll"&&mr("scroll",o):J!=null&&R(o,j,J,U))}switch(y){case"input":xe(o),Nt(o,A,!1);break;case"textarea":xe(o),ua(o);break;case"option":A.value!=null&&o.setAttribute("value",""+nt(A.value));break;case"select":o.multiple=!!A.multiple,j=A.value,j!=null?Fe(o,!!A.multiple,j,!1):A.defaultValue!=null&&Fe(o,!!A.multiple,A.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=pf)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return qn(d),null;case 6:if(o&&d.stateNode!=null)P2(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(y=$o(bu.current),$o(Da.current),bf(d)){if(A=d.stateNode,y=d.memoizedProps,A[Ma]=d,(j=A.nodeValue!==y)&&(o=_i,o!==null))switch(o.tag){case 3:hf(A.nodeValue,y,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&hf(A.nodeValue,y,(o.mode&1)!==0)}j&&(d.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[Ma]=d,d.stateNode=A}return qn(d),null;case 13:if(gr(Pr),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Er&&Ci!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Rb(),Gl(),d.flags|=98560,j=!1;else if(j=bf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!j)throw Error(r(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Ma]=d}else Gl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;qn(d),j=!1}else ga!==null&&(v1(ga),ga=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=y,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Pr.current&1)!==0?fn===0&&(fn=3):w1())),d.updateQueue!==null&&(d.flags|=4),qn(d),null);case 4:return Zl(),s1(o,d),o===null&&pu(d.stateNode.containerInfo),qn(d),null;case 10:return Rm(d.type._context),qn(d),null;case 17:return ci(d.type)&&gf(),qn(d),null;case 19:if(gr(Pr),j=d.memoizedState,j===null)return qn(d),null;if(A=(d.flags&128)!==0,U=j.rendering,U===null)if(A)Cu(j,!1);else{if(fn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=Of(o),U!==null){for(d.flags|=128,Cu(j,!1),A=U.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=y,y=d.child;y!==null;)j=y,o=A,j.flags&=14680066,U=j.alternate,U===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=U.childLanes,j.lanes=U.lanes,j.child=U.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=U.memoizedProps,j.memoizedState=U.memoizedState,j.updateQueue=U.updateQueue,j.type=U.type,o=U.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),y=y.sibling;return cr(Pr,Pr.current&1|2),d.child}o=o.sibling}j.tail!==null&&Gt()>tc&&(d.flags|=128,A=!0,Cu(j,!1),d.lanes=4194304)}else{if(!A)if(o=Of(U),o!==null){if(d.flags|=128,A=!0,y=o.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),Cu(j,!0),j.tail===null&&j.tailMode==="hidden"&&!U.alternate&&!Er)return qn(d),null}else 2*Gt()-j.renderingStartTime>tc&&y!==1073741824&&(d.flags|=128,A=!0,Cu(j,!1),d.lanes=4194304);j.isBackwards?(U.sibling=d.child,d.child=U):(y=j.last,y!==null?y.sibling=U:d.child=U,j.last=U)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Gt(),d.sibling=null,y=Pr.current,cr(Pr,A?y&1|2:y&1),d):(qn(d),null);case 22:case 23:return y1(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(Oi&1073741824)!==0&&(qn(d),d.subtreeFlags&6&&(d.flags|=8192)):qn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function L8(o,d){switch(Nm(d),d.tag){case 1:return ci(d.type)&&gf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Zl(),gr(li),gr(Vn),zm(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Fm(d),null;case 13:if(gr(Pr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Gl()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return gr(Pr),null;case 4:return Zl(),null;case 10:return Rm(d.type._context),null;case 22:case 23:return y1(),null;case 24:return null;default:return null}}var Df=!1,Gn=!1,B8=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Jl(o,d){var y=o.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){Br(o,d,A)}else y.current=null}function o1(o,d,y){try{y()}catch(A){Br(o,d,A)}}var k2=!1;function F8(o,d){if(ym=ja,o=Ot(),wt(o)){if("selectionStart"in o)var y={start:o.selectionStart,end:o.selectionEnd};else e:{y=(y=o.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var P=A.anchorOffset,j=A.focusNode;A=A.focusOffset;try{y.nodeType,j.nodeType}catch{y=null;break e}var U=0,K=-1,J=-1,me=0,Ie=0,Te=o,Ce=null;t:for(;;){for(var $e;Te!==y||P!==0&&Te.nodeType!==3||(K=U+P),Te!==j||A!==0&&Te.nodeType!==3||(J=U+A),Te.nodeType===3&&(U+=Te.nodeValue.length),($e=Te.firstChild)!==null;)Ce=Te,Te=$e;for(;;){if(Te===o)break t;if(Ce===y&&++me===P&&(K=U),Ce===j&&++Ie===A&&(J=U),($e=Te.nextSibling)!==null)break;Te=Ce,Ce=Te.parentNode}Te=$e}y=K===-1||J===-1?null:{start:K,end:J}}else y=null}y=y||{start:0,end:0}}else y=null;for(wm={focusedElem:o,selectionRange:y},ja=!1,Ge=d;Ge!==null;)if(d=Ge,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Ge=o;else for(;Ge!==null;){d=Ge;try{var Ze=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ze!==null){var Qe=Ze.memoizedProps,qr=Ze.memoizedState,se=d.stateNode,te=se.getSnapshotBeforeUpdate(d.elementType===d.type?Qe:va(d.type,Qe),qr);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var le=d.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Me){Br(d,d.return,Me)}if(o=d.sibling,o!==null){o.return=d.return,Ge=o;break}Ge=d.return}return Ze=k2,k2=!1,Ze}function Ou(o,d,y){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var P=A=A.next;do{if((P.tag&o)===o){var j=P.destroy;P.destroy=void 0,j!==void 0&&o1(d,y,j)}P=P.next}while(P!==A)}}function Lf(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&o)===o){var A=y.create;y.destroy=A()}y=y.next}while(y!==d)}}function l1(o){var d=o.ref;if(d!==null){var y=o.stateNode;switch(o.tag){case 5:o=y;break;default:o=y}typeof d=="function"?d(o):d.current=o}}function j2(o){var d=o.alternate;d!==null&&(o.alternate=null,j2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Ma],delete d[gu],delete d[Sm],delete d[b8],delete d[E8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function R2(o){return o.tag===5||o.tag===3||o.tag===4}function M2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||R2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function c1(o,d,y){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?y.nodeType===8?y.parentNode.insertBefore(o,d):y.insertBefore(o,d):(y.nodeType===8?(d=y.parentNode,d.insertBefore(o,y)):(d=y,d.appendChild(o)),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=pf));else if(A!==4&&(o=o.child,o!==null))for(c1(o,d,y),o=o.sibling;o!==null;)c1(o,d,y),o=o.sibling}function u1(o,d,y){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?y.insertBefore(o,d):y.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(u1(o,d,y),o=o.sibling;o!==null;)u1(o,d,y),o=o.sibling}var Rn=null,xa=!1;function to(o,d,y){for(y=y.child;y!==null;)D2(o,d,y),y=y.sibling}function D2(o,d,y){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Rt,y)}catch{}switch(y.tag){case 5:Gn||Jl(y,d);case 6:var A=Rn,P=xa;Rn=null,to(o,d,y),Rn=A,xa=P,Rn!==null&&(xa?(o=Rn,y=y.stateNode,o.nodeType===8?o.parentNode.removeChild(y):o.removeChild(y)):Rn.removeChild(y.stateNode));break;case 18:Rn!==null&&(xa?(o=Rn,y=y.stateNode,o.nodeType===8?Am(o.parentNode,y):o.nodeType===1&&Am(o,y),ha(o)):Am(Rn,y.stateNode));break;case 4:A=Rn,P=xa,Rn=y.stateNode.containerInfo,xa=!0,to(o,d,y),Rn=A,xa=P;break;case 0:case 11:case 14:case 15:if(!Gn&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){P=A=A.next;do{var j=P,U=j.destroy;j=j.tag,U!==void 0&&((j&2)!==0||(j&4)!==0)&&o1(y,d,U),P=P.next}while(P!==A)}to(o,d,y);break;case 1:if(!Gn&&(Jl(y,d),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(K){Br(y,d,K)}to(o,d,y);break;case 21:to(o,d,y);break;case 22:y.mode&1?(Gn=(A=Gn)||y.memoizedState!==null,to(o,d,y),Gn=A):to(o,d,y);break;default:to(o,d,y)}}function L2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var y=o.stateNode;y===null&&(y=o.stateNode=new B8),d.forEach(function(A){var P=K8.bind(null,o,A);y.has(A)||(y.add(A),A.then(P,P))})}}function ya(o,d){var y=d.deletions;if(y!==null)for(var A=0;A<y.length;A++){var P=y[A];try{var j=o,U=d,K=U;e:for(;K!==null;){switch(K.tag){case 5:Rn=K.stateNode,xa=!1;break e;case 3:Rn=K.stateNode.containerInfo,xa=!0;break e;case 4:Rn=K.stateNode.containerInfo,xa=!0;break e}K=K.return}if(Rn===null)throw Error(r(160));D2(j,U,P),Rn=null,xa=!1;var J=P.alternate;J!==null&&(J.return=null),P.return=null}catch(me){Br(P,d,me)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)B2(d,o),d=d.sibling}function B2(o,d){var y=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ya(d,o),Ba(o),A&4){try{Ou(3,o,o.return),Lf(3,o)}catch(Qe){Br(o,o.return,Qe)}try{Ou(5,o,o.return)}catch(Qe){Br(o,o.return,Qe)}}break;case 1:ya(d,o),Ba(o),A&512&&y!==null&&Jl(y,y.return);break;case 5:if(ya(d,o),Ba(o),A&512&&y!==null&&Jl(y,y.return),o.flags&32){var P=o.stateNode;try{yr(P,"")}catch(Qe){Br(o,o.return,Qe)}}if(A&4&&(P=o.stateNode,P!=null)){var j=o.memoizedProps,U=y!==null?y.memoizedProps:j,K=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{K==="input"&&j.type==="radio"&&j.name!=null&&Ct(P,j),qt(K,U);var me=qt(K,j);for(U=0;U<J.length;U+=2){var Ie=J[U],Te=J[U+1];Ie==="style"?Re(P,Te):Ie==="dangerouslySetInnerHTML"?ut(P,Te):Ie==="children"?yr(P,Te):R(P,Ie,Te,me)}switch(K){case"input":Mt(P,j);break;case"textarea":xn(P,j);break;case"select":var Ce=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!j.multiple;var $e=j.value;$e!=null?Fe(P,!!j.multiple,$e,!1):Ce!==!!j.multiple&&(j.defaultValue!=null?Fe(P,!!j.multiple,j.defaultValue,!0):Fe(P,!!j.multiple,j.multiple?[]:"",!1))}P[gu]=j}catch(Qe){Br(o,o.return,Qe)}}break;case 6:if(ya(d,o),Ba(o),A&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,j=o.memoizedProps;try{P.nodeValue=j}catch(Qe){Br(o,o.return,Qe)}}break;case 3:if(ya(d,o),Ba(o),A&4&&y!==null&&y.memoizedState.isDehydrated)try{ha(d.containerInfo)}catch(Qe){Br(o,o.return,Qe)}break;case 4:ya(d,o),Ba(o);break;case 13:ya(d,o),Ba(o),P=o.child,P.flags&8192&&(j=P.memoizedState!==null,P.stateNode.isHidden=j,!j||P.alternate!==null&&P.alternate.memoizedState!==null||(h1=Gt())),A&4&&L2(o);break;case 22:if(Ie=y!==null&&y.memoizedState!==null,o.mode&1?(Gn=(me=Gn)||Ie,ya(d,o),Gn=me):ya(d,o),Ba(o),A&8192){if(me=o.memoizedState!==null,(o.stateNode.isHidden=me)&&!Ie&&(o.mode&1)!==0)for(Ge=o,Ie=o.child;Ie!==null;){for(Te=Ge=Ie;Ge!==null;){switch(Ce=Ge,$e=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Ou(4,Ce,Ce.return);break;case 1:Jl(Ce,Ce.return);var Ze=Ce.stateNode;if(typeof Ze.componentWillUnmount=="function"){A=Ce,y=Ce.return;try{d=A,Ze.props=d.memoizedProps,Ze.state=d.memoizedState,Ze.componentWillUnmount()}catch(Qe){Br(A,y,Qe)}}break;case 5:Jl(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){z2(Te);continue}}$e!==null?($e.return=Ce,Ge=$e):z2(Te)}Ie=Ie.sibling}e:for(Ie=null,Te=o;;){if(Te.tag===5){if(Ie===null){Ie=Te;try{P=Te.stateNode,me?(j=P.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(K=Te.stateNode,J=Te.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=sr("display",U))}catch(Qe){Br(o,o.return,Qe)}}}else if(Te.tag===6){if(Ie===null)try{Te.stateNode.nodeValue=me?"":Te.memoizedProps}catch(Qe){Br(o,o.return,Qe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===o)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===o)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===o)break e;Ie===Te&&(Ie=null),Te=Te.return}Ie===Te&&(Ie=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:ya(d,o),Ba(o),A&4&&L2(o);break;case 21:break;default:ya(d,o),Ba(o)}}function Ba(o){var d=o.flags;if(d&2){try{e:{for(var y=o.return;y!==null;){if(R2(y)){var A=y;break e}y=y.return}throw Error(r(160))}switch(A.tag){case 5:var P=A.stateNode;A.flags&32&&(yr(P,""),A.flags&=-33);var j=M2(o);u1(o,j,P);break;case 3:case 4:var U=A.stateNode.containerInfo,K=M2(o);c1(o,K,U);break;default:throw Error(r(161))}}catch(J){Br(o,o.return,J)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function U8(o,d,y){Ge=o,F2(o)}function F2(o,d,y){for(var A=(o.mode&1)!==0;Ge!==null;){var P=Ge,j=P.child;if(P.tag===22&&A){var U=P.memoizedState!==null||Df;if(!U){var K=P.alternate,J=K!==null&&K.memoizedState!==null||Gn;K=Df;var me=Gn;if(Df=U,(Gn=J)&&!me)for(Ge=P;Ge!==null;)U=Ge,J=U.child,U.tag===22&&U.memoizedState!==null?$2(P):J!==null?(J.return=U,Ge=J):$2(P);for(;j!==null;)Ge=j,F2(j),j=j.sibling;Ge=P,Df=K,Gn=me}U2(o)}else(P.subtreeFlags&8772)!==0&&j!==null?(j.return=P,Ge=j):U2(o)}}function U2(o){for(;Ge!==null;){var d=Ge;if((d.flags&8772)!==0){var y=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Gn||Lf(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!Gn)if(y===null)A.componentDidMount();else{var P=d.elementType===d.type?y.memoizedProps:va(d.type,y.memoizedProps);A.componentDidUpdate(P,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&zb(d,j,A);break;case 3:var U=d.updateQueue;if(U!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=d.child.stateNode;break;case 1:y=d.child.stateNode}zb(d,U,y)}break;case 5:var K=d.stateNode;if(y===null&&d.flags&4){y=K;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&y.focus();break;case"img":J.src&&(y.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var me=d.alternate;if(me!==null){var Ie=me.memoizedState;if(Ie!==null){var Te=Ie.dehydrated;Te!==null&&ha(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gn||d.flags&512&&l1(d)}catch(Ce){Br(d,d.return,Ce)}}if(d===o){Ge=null;break}if(y=d.sibling,y!==null){y.return=d.return,Ge=y;break}Ge=d.return}}function z2(o){for(;Ge!==null;){var d=Ge;if(d===o){Ge=null;break}var y=d.sibling;if(y!==null){y.return=d.return,Ge=y;break}Ge=d.return}}function $2(o){for(;Ge!==null;){var d=Ge;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{Lf(4,d)}catch(J){Br(d,y,J)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var P=d.return;try{A.componentDidMount()}catch(J){Br(d,P,J)}}var j=d.return;try{l1(d)}catch(J){Br(d,j,J)}break;case 5:var U=d.return;try{l1(d)}catch(J){Br(d,U,J)}}}catch(J){Br(d,d.return,J)}if(d===o){Ge=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Ge=K;break}Ge=d.return}}var z8=Math.ceil,Bf=z.ReactCurrentDispatcher,d1=z.ReactCurrentOwner,Zi=z.ReactCurrentBatchConfig,Bt=0,An=null,Zr=null,Mn=0,Oi=0,ec=Ys(0),fn=0,Nu=null,Vo=0,Ff=0,f1=0,Iu=null,di=null,h1=0,tc=1/0,fs=null,Uf=!1,p1=null,ro=null,zf=!1,no=null,$f=0,Tu=0,m1=null,Wf=-1,Vf=0;function ri(){return(Bt&6)!==0?Gt():Wf!==-1?Wf:Wf=Gt()}function io(o){return(o.mode&1)===0?1:(Bt&2)!==0&&Mn!==0?Mn&-Mn:S8.transition!==null?(Vf===0&&(Vf=on()),Vf):(o=St,o!==0||(o=window.event,o=o===void 0?16:nu(o.type)),o)}function wa(o,d,y,A){if(50<Tu)throw Tu=0,m1=null,Error(r(185));q(o,y,A),((Bt&2)===0||o!==An)&&(o===An&&((Bt&2)===0&&(Ff|=y),fn===4&&ao(o,Mn)),fi(o,A),y===1&&Bt===0&&(d.mode&1)===0&&(tc=Gt()+500,xf&&Qs()))}function fi(o,d){var y=o.callbackNode;Fs(o,d);var A=bi(o,o===An?Mn:0);if(A===0)y!==null&&$t(y),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(y!=null&&$t(y),d===1)o.tag===0?A8(V2.bind(null,o)):Ib(V2.bind(null,o)),y8(function(){(Bt&6)===0&&Qs()}),y=null;else{switch(Qd(A)){case 1:y=Ee;break;case 4:y=Yd;break;case 16:y=er;break;case 536870912:y=Zd;break;default:y=er}y=Q2(y,W2.bind(null,o))}o.callbackPriority=d,o.callbackNode=y}}function W2(o,d){if(Wf=-1,Vf=0,(Bt&6)!==0)throw Error(r(327));var y=o.callbackNode;if(rc()&&o.callbackNode!==y)return null;var A=bi(o,o===An?Mn:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=Hf(o,A);else{d=A;var P=Bt;Bt|=2;var j=q2();(An!==o||Mn!==d)&&(fs=null,tc=Gt()+500,qo(o,d));do try{V8();break}catch(K){H2(o,K)}while(!0);jm(),Bf.current=j,Bt=P,Zr!==null?d=0:(An=null,Mn=0,d=fn)}if(d!==0){if(d===2&&(P=Kt(o),P!==0&&(A=P,d=g1(o,P))),d===1)throw y=Nu,qo(o,0),ao(o,A),fi(o,Gt()),y;if(d===6)ao(o,A);else{if(P=o.current.alternate,(A&30)===0&&!$8(P)&&(d=Hf(o,A),d===2&&(j=Kt(o),j!==0&&(A=j,d=g1(o,j))),d===1))throw y=Nu,qo(o,0),ao(o,A),fi(o,Gt()),y;switch(o.finishedWork=P,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:Go(o,di,fs);break;case 3:if(ao(o,A),(A&130023424)===A&&(d=h1+500-Gt(),10<d)){if(bi(o,0)!==0)break;if(P=o.suspendedLanes,(P&A)!==A){ri(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=Em(Go.bind(null,o,di,fs),d);break}Go(o,di,fs);break;case 4:if(ao(o,A),(A&4194240)===A)break;for(d=o.eventTimes,P=-1;0<A;){var U=31-ei(A);j=1<<U,U=d[U],U>P&&(P=U),A&=~j}if(A=P,A=Gt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*z8(A/1960))-A,10<A){o.timeoutHandle=Em(Go.bind(null,o,di,fs),A);break}Go(o,di,fs);break;case 5:Go(o,di,fs);break;default:throw Error(r(329))}}}return fi(o,Gt()),o.callbackNode===y?W2.bind(null,o):null}function g1(o,d){var y=Iu;return o.current.memoizedState.isDehydrated&&(qo(o,d).flags|=256),o=Hf(o,d),o!==2&&(d=di,di=y,d!==null&&v1(d)),o}function v1(o){di===null?di=o:di.push.apply(di,o)}function $8(o){for(var d=o;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var P=y[A],j=P.getSnapshot;P=P.value;try{if(!ie(j(),P))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ao(o,d){for(d&=~f1,d&=~Ff,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var y=31-ei(d),A=1<<y;o[y]=-1,d&=~A}}function V2(o){if((Bt&6)!==0)throw Error(r(327));rc();var d=bi(o,0);if((d&1)===0)return fi(o,Gt()),null;var y=Hf(o,d);if(o.tag!==0&&y===2){var A=Kt(o);A!==0&&(d=A,y=g1(o,A))}if(y===1)throw y=Nu,qo(o,0),ao(o,d),fi(o,Gt()),y;if(y===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Go(o,di,fs),fi(o,Gt()),null}function x1(o,d){var y=Bt;Bt|=1;try{return o(d)}finally{Bt=y,Bt===0&&(tc=Gt()+500,xf&&Qs())}}function Ho(o){no!==null&&no.tag===0&&(Bt&6)===0&&rc();var d=Bt;Bt|=1;var y=Zi.transition,A=St;try{if(Zi.transition=null,St=1,o)return o()}finally{St=A,Zi.transition=y,Bt=d,(Bt&6)===0&&Qs()}}function y1(){Oi=ec.current,gr(ec)}function qo(o,d){o.finishedWork=null,o.finishedLanes=0;var y=o.timeoutHandle;if(y!==-1&&(o.timeoutHandle=-1,x8(y)),Zr!==null)for(y=Zr.return;y!==null;){var A=y;switch(Nm(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&gf();break;case 3:Zl(),gr(li),gr(Vn),zm();break;case 5:Fm(A);break;case 4:Zl();break;case 13:gr(Pr);break;case 19:gr(Pr);break;case 10:Rm(A.type._context);break;case 22:case 23:y1()}y=y.return}if(An=o,Zr=o=so(o.current,null),Mn=Oi=d,fn=0,Nu=null,f1=Ff=Vo=0,di=Iu=null,zo!==null){for(d=0;d<zo.length;d++)if(y=zo[d],A=y.interleaved,A!==null){y.interleaved=null;var P=A.next,j=y.pending;if(j!==null){var U=j.next;j.next=P,A.next=U}y.pending=A}zo=null}return o}function H2(o,d){do{var y=Zr;try{if(jm(),Nf.current=kf,If){for(var A=kr.memoizedState;A!==null;){var P=A.queue;P!==null&&(P.pending=null),A=A.next}If=!1}if(Wo=0,En=dn=kr=null,Eu=!1,Au=0,d1.current=null,y===null||y.return===null){fn=1,Nu=d,Zr=null;break}e:{var j=o,U=y.return,K=y,J=d;if(d=Mn,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var me=J,Ie=K,Te=Ie.tag;if((Ie.mode&1)===0&&(Te===0||Te===11||Te===15)){var Ce=Ie.alternate;Ce?(Ie.updateQueue=Ce.updateQueue,Ie.memoizedState=Ce.memoizedState,Ie.lanes=Ce.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var $e=g2(U);if($e!==null){$e.flags&=-257,v2($e,U,K,j,d),$e.mode&1&&m2(j,me,d),d=$e,J=me;var Ze=d.updateQueue;if(Ze===null){var Qe=new Set;Qe.add(J),d.updateQueue=Qe}else Ze.add(J);break e}else{if((d&1)===0){m2(j,me,d),w1();break e}J=Error(r(426))}}else if(Er&&K.mode&1){var qr=g2(U);if(qr!==null){(qr.flags&65536)===0&&(qr.flags|=256),v2(qr,U,K,j,d),Pm(Ql(J,K));break e}}j=J=Ql(J,K),fn!==4&&(fn=2),Iu===null?Iu=[j]:Iu.push(j),j=U;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var se=h2(j,J,d);Ub(j,se);break e;case 1:K=J;var te=j.type,le=j.stateNode;if((j.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(ro===null||!ro.has(le)))){j.flags|=65536,d&=-d,j.lanes|=d;var Me=p2(j,K,d);Ub(j,Me);break e}}j=j.return}while(j!==null)}K2(y)}catch(et){d=et,Zr===y&&y!==null&&(Zr=y=y.return);continue}break}while(!0)}function q2(){var o=Bf.current;return Bf.current=kf,o===null?kf:o}function w1(){(fn===0||fn===3||fn===2)&&(fn=4),An===null||(Vo&268435455)===0&&(Ff&268435455)===0||ao(An,Mn)}function Hf(o,d){var y=Bt;Bt|=2;var A=q2();(An!==o||Mn!==d)&&(fs=null,qo(o,d));do try{W8();break}catch(P){H2(o,P)}while(!0);if(jm(),Bt=y,Bf.current=A,Zr!==null)throw Error(r(261));return An=null,Mn=0,fn}function W8(){for(;Zr!==null;)G2(Zr)}function V8(){for(;Zr!==null&&!Wt();)G2(Zr)}function G2(o){var d=Z2(o.alternate,o,Oi);o.memoizedProps=o.pendingProps,d===null?K2(o):Zr=d,d1.current=null}function K2(o){var d=o;do{var y=d.alternate;if(o=d.return,(d.flags&32768)===0){if(y=D8(y,d,Oi),y!==null){Zr=y;return}}else{if(y=L8(y,d),y!==null){y.flags&=32767,Zr=y;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{fn=6,Zr=null;return}}if(d=d.sibling,d!==null){Zr=d;return}Zr=d=o}while(d!==null);fn===0&&(fn=5)}function Go(o,d,y){var A=St,P=Zi.transition;try{Zi.transition=null,St=1,H8(o,d,y,A)}finally{Zi.transition=P,St=A}return null}function H8(o,d,y,A){do rc();while(no!==null);if((Bt&6)!==0)throw Error(r(327));y=o.finishedWork;var P=o.finishedLanes;if(y===null)return null;if(o.finishedWork=null,o.finishedLanes=0,y===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var j=y.lanes|y.childLanes;if(rt(o,j),o===An&&(Zr=An=null,Mn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||zf||(zf=!0,Q2(er,function(){return rc(),null})),j=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||j){j=Zi.transition,Zi.transition=null;var U=St;St=1;var K=Bt;Bt|=4,d1.current=null,F8(o,y),B2(y,o),Wn(wm),ja=!!ym,wm=ym=null,o.current=y,U8(y),Xd(),Bt=K,St=U,Zi.transition=j}else o.current=y;if(zf&&(zf=!1,no=o,$f=P),j=o.pendingLanes,j===0&&(ro=null),Pt(y.stateNode),fi(o,Gt()),d!==null)for(A=o.onRecoverableError,y=0;y<d.length;y++)P=d[y],A(P.value,{componentStack:P.stack,digest:P.digest});if(Uf)throw Uf=!1,o=p1,p1=null,o;return($f&1)!==0&&o.tag!==0&&rc(),j=o.pendingLanes,(j&1)!==0?o===m1?Tu++:(Tu=0,m1=o):Tu=0,Qs(),null}function rc(){if(no!==null){var o=Qd($f),d=Zi.transition,y=St;try{if(Zi.transition=null,St=16>o?16:o,no===null)var A=!1;else{if(o=no,no=null,$f=0,(Bt&6)!==0)throw Error(r(331));var P=Bt;for(Bt|=4,Ge=o.current;Ge!==null;){var j=Ge,U=j.child;if((Ge.flags&16)!==0){var K=j.deletions;if(K!==null){for(var J=0;J<K.length;J++){var me=K[J];for(Ge=me;Ge!==null;){var Ie=Ge;switch(Ie.tag){case 0:case 11:case 15:Ou(8,Ie,j)}var Te=Ie.child;if(Te!==null)Te.return=Ie,Ge=Te;else for(;Ge!==null;){Ie=Ge;var Ce=Ie.sibling,$e=Ie.return;if(j2(Ie),Ie===me){Ge=null;break}if(Ce!==null){Ce.return=$e,Ge=Ce;break}Ge=$e}}}var Ze=j.alternate;if(Ze!==null){var Qe=Ze.child;if(Qe!==null){Ze.child=null;do{var qr=Qe.sibling;Qe.sibling=null,Qe=qr}while(Qe!==null)}}Ge=j}}if((j.subtreeFlags&2064)!==0&&U!==null)U.return=j,Ge=U;else e:for(;Ge!==null;){if(j=Ge,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ou(9,j,j.return)}var se=j.sibling;if(se!==null){se.return=j.return,Ge=se;break e}Ge=j.return}}var te=o.current;for(Ge=te;Ge!==null;){U=Ge;var le=U.child;if((U.subtreeFlags&2064)!==0&&le!==null)le.return=U,Ge=le;else e:for(U=te;Ge!==null;){if(K=Ge,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Lf(9,K)}}catch(et){Br(K,K.return,et)}if(K===U){Ge=null;break e}var Me=K.sibling;if(Me!==null){Me.return=K.return,Ge=Me;break e}Ge=K.return}}if(Bt=P,Qs(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Rt,o)}catch{}A=!0}return A}finally{St=y,Zi.transition=d}}return!1}function X2(o,d,y){d=Ql(y,d),d=h2(o,d,1),o=eo(o,d,1),d=ri(),o!==null&&(q(o,1,d),fi(o,d))}function Br(o,d,y){if(o.tag===3)X2(o,o,y);else for(;d!==null;){if(d.tag===3){X2(d,o,y);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ro===null||!ro.has(A))){o=Ql(y,o),o=p2(d,o,1),d=eo(d,o,1),o=ri(),d!==null&&(q(d,1,o),fi(d,o));break}}d=d.return}}function q8(o,d,y){var A=o.pingCache;A!==null&&A.delete(d),d=ri(),o.pingedLanes|=o.suspendedLanes&y,An===o&&(Mn&y)===y&&(fn===4||fn===3&&(Mn&130023424)===Mn&&500>Gt()-h1?qo(o,0):f1|=y),fi(o,d)}function Y2(o,d){d===0&&((o.mode&1)===0?d=1:(d=kl,kl<<=1,(kl&130023424)===0&&(kl=4194304)));var y=ri();o=cs(o,d),o!==null&&(q(o,d,y),fi(o,y))}function G8(o){var d=o.memoizedState,y=0;d!==null&&(y=d.retryLane),Y2(o,y)}function K8(o,d){var y=0;switch(o.tag){case 13:var A=o.stateNode,P=o.memoizedState;P!==null&&(y=P.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),Y2(o,y)}var Z2;Z2=function(o,d,y){if(o!==null)if(o.memoizedProps!==d.pendingProps||li.current)ui=!0;else{if((o.lanes&y)===0&&(d.flags&128)===0)return ui=!1,M8(o,d,y);ui=(o.flags&131072)!==0}else ui=!1,Er&&(d.flags&1048576)!==0&&Tb(d,wf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;Mf(o,d),o=d.pendingProps;var P=Vl(d,Vn.current);Yl(d,y),P=Vm(null,d,A,o,P,y);var j=Hm();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ci(A)?(j=!0,vf(d)):j=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Lm(d),P.updater=jf,d.stateNode=P,P._reactInternals=d,Zm(d,A,o,y),d=t1(null,d,A,!0,j,y)):(d.tag=0,Er&&j&&Om(d),ti(null,d,P,y),d=d.child),d;case 16:A=d.elementType;e:{switch(Mf(o,d),o=d.pendingProps,P=A._init,A=P(A._payload),d.type=A,P=d.tag=Y8(A),o=va(A,o),P){case 0:d=e1(null,d,A,o,y);break e;case 1:d=A2(null,d,A,o,y);break e;case 11:d=x2(null,d,A,o,y);break e;case 14:d=y2(null,d,A,va(A.type,o),y);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),e1(o,d,A,P,y);case 1:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),A2(o,d,A,P,y);case 3:e:{if(S2(d),o===null)throw Error(r(387));A=d.pendingProps,j=d.memoizedState,P=j.element,Fb(o,d),Cf(d,A,null,y);var U=d.memoizedState;if(A=U.element,j.isDehydrated)if(j={element:A,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){P=Ql(Error(r(423)),d),d=_2(o,d,A,y,P);break e}else if(A!==P){P=Ql(Error(r(424)),d),d=_2(o,d,A,y,P);break e}else for(Ci=Xs(d.stateNode.containerInfo.firstChild),_i=d,Er=!0,ga=null,y=Lb(d,null,A,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Gl(),A===P){d=ds(o,d,y);break e}ti(o,d,A,y)}d=d.child}return d;case 5:return $b(d),o===null&&Tm(d),A=d.type,P=d.pendingProps,j=o!==null?o.memoizedProps:null,U=P.children,bm(A,P)?U=null:j!==null&&bm(A,j)&&(d.flags|=32),E2(o,d),ti(o,d,U,y),d.child;case 6:return o===null&&Tm(d),null;case 13:return C2(o,d,y);case 4:return Bm(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=Kl(d,null,A,y):ti(o,d,A,y),d.child;case 11:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),x2(o,d,A,P,y);case 7:return ti(o,d,d.pendingProps,y),d.child;case 8:return ti(o,d,d.pendingProps.children,y),d.child;case 12:return ti(o,d,d.pendingProps.children,y),d.child;case 10:e:{if(A=d.type._context,P=d.pendingProps,j=d.memoizedProps,U=P.value,cr(Af,A._currentValue),A._currentValue=U,j!==null)if(ie(j.value,U)){if(j.children===P.children&&!li.current){d=ds(o,d,y);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var K=j.dependencies;if(K!==null){U=j.child;for(var J=K.firstContext;J!==null;){if(J.context===A){if(j.tag===1){J=us(-1,y&-y),J.tag=2;var me=j.updateQueue;if(me!==null){me=me.shared;var Ie=me.pending;Ie===null?J.next=J:(J.next=Ie.next,Ie.next=J),me.pending=J}}j.lanes|=y,J=j.alternate,J!==null&&(J.lanes|=y),Mm(j.return,y,d),K.lanes|=y;break}J=J.next}}else if(j.tag===10)U=j.type===d.type?null:j.child;else if(j.tag===18){if(U=j.return,U===null)throw Error(r(341));U.lanes|=y,K=U.alternate,K!==null&&(K.lanes|=y),Mm(U,y,d),U=j.sibling}else U=j.child;if(U!==null)U.return=j;else for(U=j;U!==null;){if(U===d){U=null;break}if(j=U.sibling,j!==null){j.return=U.return,U=j;break}U=U.return}j=U}ti(o,d,P.children,y),d=d.child}return d;case 9:return P=d.type,A=d.pendingProps.children,Yl(d,y),P=Xi(P),A=A(P),d.flags|=1,ti(o,d,A,y),d.child;case 14:return A=d.type,P=va(A,d.pendingProps),P=va(A.type,P),y2(o,d,A,P,y);case 15:return w2(o,d,d.type,d.pendingProps,y);case 17:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),Mf(o,d),d.tag=1,ci(A)?(o=!0,vf(d)):o=!1,Yl(d,y),d2(d,A,P),Zm(d,A,P,y),t1(null,d,A,!0,o,y);case 19:return N2(o,d,y);case 22:return b2(o,d,y)}throw Error(r(156,d.tag))};function Q2(o,d){return It(o,d)}function X8(o,d,y,A){this.tag=o,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(o,d,y,A){return new X8(o,d,y,A)}function b1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Y8(o){if(typeof o=="function")return b1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===de)return 11;if(o===re)return 14}return 2}function so(o,d){var y=o.alternate;return y===null?(y=Qi(o.tag,d,o.key,o.mode),y.elementType=o.elementType,y.type=o.type,y.stateNode=o.stateNode,y.alternate=o,o.alternate=y):(y.pendingProps=d,y.type=o.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=o.flags&14680064,y.childLanes=o.childLanes,y.lanes=o.lanes,y.child=o.child,y.memoizedProps=o.memoizedProps,y.memoizedState=o.memoizedState,y.updateQueue=o.updateQueue,d=o.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=o.sibling,y.index=o.index,y.ref=o.ref,y}function qf(o,d,y,A,P,j){var U=2;if(A=o,typeof o=="function")b1(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case H:return Ko(y.children,P,j,d);case ne:U=8,P|=8;break;case Y:return o=Qi(12,y,d,P|2),o.elementType=Y,o.lanes=j,o;case Se:return o=Qi(13,y,d,P),o.elementType=Se,o.lanes=j,o;case ke:return o=Qi(19,y,d,P),o.elementType=ke,o.lanes=j,o;case oe:return Gf(y,P,j,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ae:U=10;break e;case pe:U=9;break e;case de:U=11;break e;case re:U=14;break e;case De:U=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=Qi(U,y,d,P),d.elementType=o,d.type=A,d.lanes=j,d}function Ko(o,d,y,A){return o=Qi(7,o,A,d),o.lanes=y,o}function Gf(o,d,y,A){return o=Qi(22,o,A,d),o.elementType=oe,o.lanes=y,o.stateNode={isHidden:!1},o}function E1(o,d,y){return o=Qi(6,o,null,d),o.lanes=y,o}function A1(o,d,y){return d=Qi(4,o.children!==null?o.children:[],o.key,d),d.lanes=y,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function Z8(o,d,y,A,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ae(0),this.expirationTimes=ae(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ae(0),this.identifierPrefix=A,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function S1(o,d,y,A,P,j,U,K,J){return o=new Z8(o,d,y,K,J),d===1?(d=1,j===!0&&(d|=8)):d=0,j=Qi(3,null,null,d),o.current=j,j.stateNode=o,j.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lm(j),o}function Q8(o,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:A==null?null:""+A,children:o,containerInfo:d,implementation:y}}function J2(o){if(!o)return Zs;o=o._reactInternals;e:{if(zn(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ci(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var y=o.type;if(ci(y))return Ob(o,y,d)}return d}function eE(o,d,y,A,P,j,U,K,J){return o=S1(y,A,!0,o,P,j,U,K,J),o.context=J2(null),y=o.current,A=ri(),P=io(y),j=us(A,P),j.callback=d??null,eo(y,j,P),o.current.lanes=P,q(o,P,A),fi(o,A),o}function Kf(o,d,y,A){var P=d.current,j=ri(),U=io(P);return y=J2(y),d.context===null?d.context=y:d.pendingContext=y,d=us(j,U),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=eo(P,d,U),o!==null&&(wa(o,P,U,j),_f(o,P,U)),U}function Xf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function tE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var y=o.retryLane;o.retryLane=y!==0&&y<d?y:d}}function _1(o,d){tE(o,d),(o=o.alternate)&&tE(o,d)}function J8(){return null}var rE=typeof reportError=="function"?reportError:function(o){console.error(o)};function C1(o){this._internalRoot=o}Yf.prototype.render=C1.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));Kf(o,d,null,null)},Yf.prototype.unmount=C1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Ho(function(){Kf(null,o,null,null)}),d[as]=null}};function Yf(o){this._internalRoot=o}Yf.prototype.unstable_scheduleHydration=function(o){if(o){var d=or();o={blockedOn:null,target:o,priority:d};for(var y=0;y<Pn.length&&d!==0&&d<Pn[y].priority;y++);Pn.splice(y,0,o),y===0&&ef(o)}};function O1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nE(){}function ej(o,d,y,A,P){if(P){if(typeof A=="function"){var j=A;A=function(){var me=Xf(U);j.call(me)}}var U=eE(d,A,o,0,null,!1,!1,"",nE);return o._reactRootContainer=U,o[as]=U.current,pu(o.nodeType===8?o.parentNode:o),Ho(),U}for(;P=o.lastChild;)o.removeChild(P);if(typeof A=="function"){var K=A;A=function(){var me=Xf(J);K.call(me)}}var J=S1(o,0,!1,null,null,!1,!1,"",nE);return o._reactRootContainer=J,o[as]=J.current,pu(o.nodeType===8?o.parentNode:o),Ho(function(){Kf(d,J,y,A)}),J}function Qf(o,d,y,A,P){var j=y._reactRootContainer;if(j){var U=j;if(typeof P=="function"){var K=P;P=function(){var J=Xf(U);K.call(J)}}Kf(d,U,o,P)}else U=ej(y,d,o,P,A);return Xf(U)}jl=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var y=tr(d.pendingLanes);y!==0&&(Dr(d,y|1),fi(d,Gt()),(Bt&6)===0&&(tc=Gt()+500,Qs()))}break;case 13:Ho(function(){var A=cs(o,1);if(A!==null){var P=ri();wa(A,o,1,P)}}),_1(o,1)}},$n=function(o){if(o.tag===13){var d=cs(o,134217728);if(d!==null){var y=ri();wa(d,o,134217728,y)}_1(o,134217728)}},ot=function(o){if(o.tag===13){var d=io(o),y=cs(o,d);if(y!==null){var A=ri();wa(y,o,d,A)}_1(o,d)}},or=function(){return St},eu=function(o,d){var y=St;try{return St=o,d()}finally{St=y}},Za=function(o,d,y){switch(d){case"input":if(Mt(o,y),d=y.name,y.type==="radio"&&d!=null){for(y=o;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<y.length;d++){var A=y[d];if(A!==o&&A.form===o.form){var P=mf(A);if(!P)throw Error(r(90));ye(A),Mt(A,P)}}}break;case"textarea":xn(o,y);break;case"select":d=y.value,d!=null&&Fe(o,!!y.multiple,d,!1)}},So=x1,wr=Ho;var tj={usingClientEntryPoint:!1,Events:[vu,$l,mf,zi,sn,x1]},Pu={findFiberByHostInstance:Lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rj={bundleType:Pu.bundleType,version:Pu.version,rendererPackageName:Pu.rendererPackageName,rendererConfig:Pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=We(o),o===null?null:o.stateNode},findFiberByHostInstance:Pu.findFiberByHostInstance||J8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Rt=Jf.inject(rj),At=Jf}catch{}}return hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj,hi.createPortal=function(o,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(d))throw Error(r(200));return Q8(o,d,null,y)},hi.createRoot=function(o,d){if(!O1(o))throw Error(r(299));var y=!1,A="",P=rE;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=S1(o,1,!1,null,null,y,!1,A,P),o[as]=d.current,pu(o.nodeType===8?o.parentNode:o),new C1(d)},hi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=We(d),o=o===null?null:o.stateNode,o},hi.flushSync=function(o){return Ho(o)},hi.hydrate=function(o,d,y){if(!Zf(d))throw Error(r(200));return Qf(null,o,d,!0,y)},hi.hydrateRoot=function(o,d,y){if(!O1(o))throw Error(r(405));var A=y!=null&&y.hydratedSources||null,P=!1,j="",U=rE;if(y!=null&&(y.unstable_strictMode===!0&&(P=!0),y.identifierPrefix!==void 0&&(j=y.identifierPrefix),y.onRecoverableError!==void 0&&(U=y.onRecoverableError)),d=eE(d,null,o,1,y??null,P,!1,j,U),o[as]=d.current,pu(o),A)for(o=0;o<A.length;o++)y=A[o],P=y._getVersion,P=P(y._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[y,P]:d.mutableSourceEagerHydrationData.push(y,P);return new Yf(d)},hi.render=function(o,d,y){if(!Zf(d))throw Error(r(200));return Qf(null,o,d,!1,y)},hi.unmountComponentAtNode=function(o){if(!Zf(o))throw Error(r(40));return o._reactRootContainer?(Ho(function(){Qf(null,null,o,!1,function(){o._reactRootContainer=null,o[as]=null})}),!0):!1},hi.unstable_batchedUpdates=x1,hi.unstable_renderSubtreeIntoContainer=function(o,d,y,A){if(!Zf(y))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Qf(o,d,y,!1,A)},hi.version="18.3.1-next-f1338f8080-20240426",hi}var dE;function aO(){if(dE)return T1.exports;dE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),T1.exports=uj(),T1.exports}var fE;function dj(){if(fE)return th;fE=1;var e=aO();return th.createRoot=e.createRoot,th.hydrateRoot=e.hydrateRoot,th}var fj=dj();const hj=oa(fj);var hE="popstate";function pj(e={}){function t(i,s){let{pathname:c="/",search:f="",hash:p=""}=Cl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sv("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=i.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof s=="string"?s:td(s))}function n(i,s){Ri(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return gj(t,r,n,e)}function Or(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ri(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mj(){return Math.random().toString(36).substring(2,10)}function pE(e,t){return{usr:e.state,key:e.key,idx:t}}function Sv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cl(t):t,state:r,key:t&&t.key||n||mj()}}function td({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function gj(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,f="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function w(){f="POP";let k=v(),M=k==null?null:k-m;m=k,p&&p({action:f,location:N.location,delta:M})}function S(k,M){f="PUSH";let L=Sv(N.location,k,M);r&&r(L,k),m=v()+1;let R=pE(L,m),z=N.createHref(L);try{c.pushState(R,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}s&&p&&p({action:f,location:N.location,delta:1})}function _(k,M){f="REPLACE";let L=Sv(N.location,k,M);r&&r(L,k),m=v();let R=pE(L,m),z=N.createHref(L);c.replaceState(R,"",z),s&&p&&p({action:f,location:N.location,delta:0})}function I(k){return vj(k)}let N={get action(){return f},get location(){return e(i,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(hE,w),p=k,()=>{i.removeEventListener(hE,w),p=null}},createHref(k){return t(i,k)},createURL:I,encodeLocation(k){let M=I(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:_,go(k){return c.go(k)}};return N}function vj(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Or(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:td(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function sO(e,t,r="/"){return xj(e,t,r,!1)}function xj(e,t,r,n){let i=typeof t=="string"?Cl(t):t,s=Ss(i.pathname||"/",r);if(s==null)return null;let c=oO(e);yj(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=Tj(s);f=Nj(c[p],m,n)}return f}function oO(e,t=[],r=[],n="",i=!1){let s=(c,f,p=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&p)return;Or(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let w=bs([n,v.relativePath]),S=r.concat(v);c.children&&c.children.length>0&&(Or(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),oO(c.children,t,S,w,p)),!(c.path==null&&!c.index)&&t.push({path:w,score:Cj(w,c.index),routesMeta:S})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))s(c,f);else for(let p of lO(c.path))s(c,f,!0,p)}),t}function lO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=lO(n.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),i&&f.push(...c),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function yj(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Oj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var wj=/^:[\w-]+$/,bj=3,Ej=2,Aj=1,Sj=10,_j=-2,mE=e=>e==="*";function Cj(e,t){let r=e.split("/"),n=r.length;return r.some(mE)&&(n+=_j),t&&(n+=Ej),r.filter(i=>!mE(i)).reduce((i,s)=>i+(wj.test(s)?bj:s===""?Aj:Sj),n)}function Oj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Nj(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,v=s==="/"?t:t.slice(s.length)||"/",w=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),S=p.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:bs([s,w.pathname]),pathnameBase:Rj(bs([s,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(s=bs([s,w.pathnameBase]))}return c}function Wh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ij(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:v,isOptional:w},S)=>{if(v==="*"){let I=f[S]||"";c=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const _=f[S];return w&&!_?m[v]=void 0:m[v]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function Ij(e,t=!1,r=!0){Ri(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Tj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ri(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ss(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var cO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pj=e=>cO.test(e);function kj(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Cl(e):e,s;if(r)if(Pj(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Ri(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=gE(r.substring(1),"/"):s=gE(r,t)}else s=t;return{pathname:s,search:Mj(n),hash:Dj(i)}}function gE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function j1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xx(e){let t=jj(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Yx(e,t,r,n=!1){let i;typeof e=="string"?i=Cl(e):(i={...e},Or(!i.pathname||!i.pathname.includes("?"),j1("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),j1("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),j1("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=r;else{let w=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),w-=1;i.pathname=S.join("/")}f=w>=0?t[w]:"/"}let p=kj(i,f),m=c&&c!=="/"&&c.endsWith("/"),v=(s||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),Rj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Mj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Dj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Lj=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Bj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Fj(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dO(e,t){let r=e;if(typeof r!="string"||!cO.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(uO)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),f=Ss(c.pathname,t);c.origin===s.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Ri(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fO=["POST","PUT","PATCH","DELETE"];new Set(fO);var Uj=["GET",...fO];new Set(Uj);var Mc=O.createContext(null);Mc.displayName="DataRouter";var tp=O.createContext(null);tp.displayName="DataRouterState";var zj=O.createContext(!1),hO=O.createContext({isTransitioning:!1});hO.displayName="ViewTransition";var $j=O.createContext(new Map);$j.displayName="Fetchers";var Wj=O.createContext(null);Wj.displayName="Await";var Fi=O.createContext(null);Fi.displayName="Navigation";var Ed=O.createContext(null);Ed.displayName="Location";var Ka=O.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var Zx=O.createContext(null);Zx.displayName="RouteError";var pO="REACT_ROUTER_ERROR",Vj="REDIRECT",Hj="ROUTE_ERROR_RESPONSE";function qj(e){if(e.startsWith(`${pO}:${Vj}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Gj(e){if(e.startsWith(`${pO}:${Hj}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Lj(t.status,t.statusText,t.data)}catch{}}function Kj(e,{relative:t}={}){Or(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(Fi),{hash:i,pathname:s,search:c}=Ad(e,{relative:t}),f=s;return r!=="/"&&(f=s==="/"?r:bs([r,s])),n.createHref({pathname:f,search:c,hash:i})}function Dc(){return O.useContext(Ed)!=null}function Ia(){return Or(Dc(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Ed).location}var mO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gO(e){O.useContext(Fi).static||O.useLayoutEffect(e)}function rp(){let{isDataRoute:e}=O.useContext(Ka);return e?oR():Xj()}function Xj(){Or(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Mc),{basename:t,navigator:r}=O.useContext(Fi),{matches:n}=O.useContext(Ka),{pathname:i}=Ia(),s=JSON.stringify(Xx(n)),c=O.useRef(!1);return gO(()=>{c.current=!0}),O.useCallback((p,m={})=>{if(Ri(c.current,mO),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=Yx(p,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:bs([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,s,i,e])}O.createContext(null);function Ad(e,{relative:t}={}){let{matches:r}=O.useContext(Ka),{pathname:n}=Ia(),i=JSON.stringify(Xx(r));return O.useMemo(()=>Yx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function Yj(e,t){return vO(e,t)}function vO(e,t,r,n,i){Or(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Fi),{matches:c}=O.useContext(Ka),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let L=w&&w.path||"";yO(m,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let S=Ia(),_;if(t){let L=typeof t=="string"?Cl(t):t;Or(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),_=L}else _=S;let I=_.pathname||"/",N=I;if(v!=="/"){let L=v.replace(/^\//,"").split("/");N="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=sO(e,{pathname:N});Ri(w||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=tR(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:bs([v,s.encodeLocation?s.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:bs([v,s.encodeLocation?s.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,i);return t&&M?O.createElement(Ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},M):M}function Zj(){let e=sR(),t=Bj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:i},r):null,c)}var Qj=O.createElement(Zj,null),xO=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Gj(e.digest);r&&(e=r)}let t=e!==void 0?O.createElement(Ka.Provider,{value:this.props.routeContext},O.createElement(Zx.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(Jj,{error:e},t):t}};xO.contextType=zj;var R1=new WeakMap;function Jj({children:e,error:t}){let{basename:r}=O.useContext(Fi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=qj(t.digest);if(n){let i=R1.get(t);if(i)throw i;let s=dO(n.location,r);if(uO&&!R1.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw R1.set(t,c),c}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function eR({routeContext:e,match:t,children:r}){let n=O.useContext(Mc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Ka.Provider,{value:e},r)}function tR(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let v=s.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);Or(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let f=!1,p=-1;if(r)for(let v=0;v<s.length;v++){let w=s[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:S,errors:_}=r,I=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||I){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}let m=r&&n?(v,w)=>{n(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Fj(r.matches),errorInfo:w})}:void 0;return s.reduceRight((v,w,S)=>{let _,I=!1,N=null,k=null;r&&(_=c&&w.route.id?c[w.route.id]:void 0,N=w.route.errorElement||Qj,f&&(p<0&&S===0?(yO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):p===S&&(I=!0,k=w.route.hydrateFallbackElement||null)));let M=t.concat(s.slice(0,S+1)),L=()=>{let R;return _?R=N:I?R=k:w.route.Component?R=O.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=v,O.createElement(eR,{match:w,routeContext:{outlet:v,matches:M,isDataRoute:r!=null},children:R})};return r&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?O.createElement(xO,{location:r.location,revalidation:r.revalidation,component:N,error:_,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):L()},null)}function Qx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rR(e){let t=O.useContext(Mc);return Or(t,Qx(e)),t}function nR(e){let t=O.useContext(tp);return Or(t,Qx(e)),t}function iR(e){let t=O.useContext(Ka);return Or(t,Qx(e)),t}function Jx(e){let t=iR(e),r=t.matches[t.matches.length-1];return Or(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function aR(){return Jx("useRouteId")}function sR(){let e=O.useContext(Zx),t=nR("useRouteError"),r=Jx("useRouteError");return e!==void 0?e:t.errors?.[r]}function oR(){let{router:e}=rR("useNavigate"),t=Jx("useNavigate"),r=O.useRef(!1);return gO(()=>{r.current=!0}),O.useCallback(async(i,s={})=>{Ri(r.current,mO),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var vE={};function yO(e,t,r){!t&&!vE[e]&&(vE[e]=!0,Ri(!1,r))}O.memo(lR);function lR({routes:e,future:t,state:r,onError:n}){return vO(e,void 0,r,n,t)}function cR({to:e,replace:t,state:r,relative:n}){Or(Dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(Fi);Ri(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=O.useContext(Ka),{pathname:c}=Ia(),f=rp(),p=Yx(e,Xx(s),c,n==="path"),m=JSON.stringify(p);return O.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:n})},[f,m,n,t,r]),null}function Ua(e){Or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uR({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){Or(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:f,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[f,i,s,c]);typeof r=="string"&&(r=Cl(r));let{pathname:m="/",search:v="",hash:w="",state:S=null,key:_="default"}=r,I=O.useMemo(()=>{let N=Ss(m,f);return N==null?null:{location:{pathname:N,search:v,hash:w,state:S,key:_},navigationType:n}},[f,m,v,w,S,_,n]);return Ri(I!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:O.createElement(Fi.Provider,{value:p},O.createElement(Ed.Provider,{children:t,value:I}))}function dR({children:e,location:t}){return Yj(_v(e),t)}function _v(e,t=[]){let r=[];return O.Children.forEach(e,(n,i)=>{if(!O.isValidElement(n))return;let s=[...t,i];if(n.type===O.Fragment){r.push.apply(r,_v(n.props.children,s));return}Or(n.type===Ua,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Or(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=_v(n.props.children,s)),r.push(c)}),r}var Th="get",Ph="application/x-www-form-urlencoded";function np(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function fR(e){return np(e)&&e.tagName.toLowerCase()==="button"}function hR(e){return np(e)&&e.tagName.toLowerCase()==="form"}function pR(e){return np(e)&&e.tagName.toLowerCase()==="input"}function mR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gR(e,t){return e.button===0&&(!t||t==="_self")&&!mR(e)}var rh=null;function vR(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var xR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function M1(e){return e!=null&&!xR.has(e)?(Ri(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):e}function yR(e,t){let r,n,i,s,c;if(hR(e)){let f=e.getAttribute("action");n=f?Ss(f,t):null,r=e.getAttribute("method")||Th,i=M1(e.getAttribute("enctype"))||Ph,s=new FormData(e)}else if(fR(e)||pR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(n=p?Ss(p,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Th,i=M1(e.getAttribute("formenctype"))||M1(f.getAttribute("enctype"))||Ph,s=new FormData(f,e),!vR()){let{name:m,type:v,value:w}=e;if(v==="image"){let S=m?`${m}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else m&&s.append(m,w)}}else{if(np(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Th,n=null,i=Ph,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ey(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wR(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&Ss(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function bR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ER(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AR(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await bR(s,r);return c.links?c.links():[]}return[]}));return OR(n.flat(1).filter(ER).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xE(e,t,r,n,i,s){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,f=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return s==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):s==="data"?t.filter((p,m)=>{let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function SR(e,t,{includeHydrateFallback:r}={}){return _R(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function _R(e){return[...new Set(e)]}function CR(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function OR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(CR(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function wO(){let e=O.useContext(Mc);return ey(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function NR(){let e=O.useContext(tp);return ey(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ty=O.createContext(void 0);ty.displayName="FrameworkContext";function bO(){let e=O.useContext(ty);return ey(e,"You must render this element inside a <HydratedRouter> element"),e}function IR(e,t){let r=O.useContext(ty),[n,i]=O.useState(!1),[s,c]=O.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=t,S=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=M=>{M.forEach(L=>{c(L.isIntersecting)})},k=new IntersectionObserver(N,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),O.useEffect(()=>{if(n){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[n]);let _=()=>{i(!0)},I=()=>{i(!1),c(!1)};return r?e!=="intent"?[s,S,{}]:[s,S,{onFocus:ju(f,_),onBlur:ju(p,I),onMouseEnter:ju(m,_),onMouseLeave:ju(v,I),onTouchStart:ju(w,_)}]:[!1,S,{}]}function ju(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function TR({page:e,...t}){let{router:r}=wO(),n=O.useMemo(()=>sO(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?O.createElement(kR,{page:e,matches:n,...t}):null}function PR(e){let{manifest:t,routeModules:r}=bO(),[n,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return AR(e,t,r).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,r]),n}function kR({page:e,matches:t,...r}){let n=Ia(),{future:i,manifest:s,routeModules:c}=bO(),{basename:f}=wO(),{loaderData:p,matches:m}=NR(),v=O.useMemo(()=>xE(e,t,m,s,n,"data"),[e,t,m,s,n]),w=O.useMemo(()=>xE(e,t,m,s,n,"assets"),[e,t,m,s,n]),S=O.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let N=new Set,k=!1;if(t.forEach(L=>{let R=s.routes[L.route.id];!R||!R.hasLoader||(!v.some(z=>z.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||R.hasClientLoader?k=!0:N.add(L.route.id))}),N.size===0)return[];let M=wR(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&N.size>0&&M.searchParams.set("_routes",t.filter(L=>N.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[f,i.unstable_trailingSlashAwareDataRequests,p,n,s,v,t,e,c]),_=O.useMemo(()=>SR(w,s),[w,s]),I=PR(w);return O.createElement(O.Fragment,null,S.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),_.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),I.map(({key:N,link:k})=>O.createElement("link",{key:N,nonce:r.nonce,...k})))}function jR(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var RR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RR&&(window.__reactRouterVersion="7.12.0")}catch{}function MR({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=O.useRef();i.current==null&&(i.current=pj({window:n,v5Compat:!0}));let s=i.current,[c,f]=O.useState({action:s.action,location:s.location}),p=O.useCallback(m=>{r===!1?f(m):O.startTransition(()=>f(m))},[r]);return O.useLayoutEffect(()=>s.listen(p),[s,p]),O.createElement(uR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=O.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,state:f,target:p,to:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:S,..._},I){let{basename:N,unstable_useTransitions:k}=O.useContext(Fi),M=typeof m=="string"&&EO.test(m),L=dO(m,N);m=L.to;let R=Kj(m,{relative:i}),[z,W,V]=IR(n,_),H=FR(m,{replace:c,state:f,target:p,preventScrollReset:v,relative:i,viewTransition:w,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function ne(Ae){t&&t(Ae),Ae.defaultPrevented||H(Ae)}let Y=O.createElement("a",{..._,...V,href:L.absoluteURL||R,onClick:L.isExternal||s?t:ne,ref:jR(I,W),target:p,"data-discover":!M&&r==="render"?"true":void 0});return z&&!M?O.createElement(O.Fragment,null,Y,O.createElement(TR,{page:R})):Y});en.displayName="Link";var DR=O.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:f,children:p,...m},v){let w=Ad(c,{relative:m.relative}),S=Ia(),_=O.useContext(tp),{navigator:I,basename:N}=O.useContext(Fi),k=_!=null&&VR(w)&&f===!0,M=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,L=S.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(L=L.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&N&&(R=Ss(R,N)||R);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let W=L===M||!i&&L.startsWith(M)&&L.charAt(z)==="/",V=R!=null&&(R===M||!i&&R.startsWith(M)&&R.charAt(M.length)==="/"),H={isActive:W,isPending:V,isTransitioning:k},ne=W?t:void 0,Y;typeof n=="function"?Y=n(H):Y=[n,W?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ae=typeof s=="function"?s(H):s;return O.createElement(en,{...m,"aria-current":ne,className:Y,ref:v,style:Ae,to:c,viewTransition:f},typeof p=="function"?p(H):p)});DR.displayName="NavLink";var LR=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Th,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:S,..._},I)=>{let{unstable_useTransitions:N}=O.useContext(Fi),k=$R(),M=WR(f,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&EO.test(f),z=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let V=W.nativeEvent.submitter,H=V?.getAttribute("formmethod")||c,ne=()=>k(V||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:s,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:S});N&&r!==!1?O.startTransition(()=>ne()):ne()};return O.createElement("form",{ref:I,method:L,action:M,onSubmit:n?p:z,..._,"data-discover":!R&&e==="render"?"true":void 0})});LR.displayName="Form";function BR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AO(e){let t=O.useContext(Mc);return Or(t,BR(e)),t}function FR(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=rp(),v=Ia(),w=Ad(e,{relative:s});return O.useCallback(S=>{if(gR(S,t)){S.preventDefault();let _=r!==void 0?r:td(v)===td(w),I=()=>m(e,{replace:_,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f});p?O.startTransition(()=>I()):I()}},[v,m,w,r,n,t,e,i,s,c,f,p])}var UR=0,zR=()=>`__${String(++UR)}__`;function $R(){let{router:e}=AO("useSubmit"),{basename:t}=O.useContext(Fi),r=aR(),n=e.fetch,i=e.navigate;return O.useCallback(async(s,c={})=>{let{action:f,method:p,encType:m,formData:v,body:w}=yR(s,t);if(c.navigate===!1){let S=c.fetcherKey||zR();await n(S,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function WR(e,{relative:t}={}){let{basename:r}=O.useContext(Fi),n=O.useContext(Ka);Or(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Ad(e||".",{relative:t})},c=Ia();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();s.search=v?`?${v}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:bs([r,s.pathname])),td(s)}function VR(e,{relative:t}={}){let r=O.useContext(hO);Or(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=AO("useViewTransitionState"),i=Ad(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ss(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Ss(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wh(i.pathname,c)!=null||Wh(i.pathname,s)!=null}var ry=aO(),HR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gt=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,children:f,...p},m)=>O.createElement("svg",{ref:m,...HR,width:i,height:i,stroke:n,strokeWidth:c?Number(s)*24/Number(i):s,className:`lucide lucide-${qR(e)}`,...p},[...t.map(([v,w])=>O.createElement(v,w)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},GR=gt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),SO=gt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yu=gt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),KR=gt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),XR=gt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ny=gt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zu=gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),YR=gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ZR=gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),QR=gt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),JR=gt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),e6=gt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),_O=gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yE=gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),t6=gt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),iy=gt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),r6=gt("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),n6=gt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),CO=gt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),i6=gt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),a6=gt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),s6=gt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),rd=gt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),OO=gt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),o6=gt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ay=gt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),l6=gt("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),c6=gt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),NO=gt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Xo=gt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ip=gt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),u6=gt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),wE=gt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),d6=gt("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),ap=gt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),sp=gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),IO=gt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),f6=gt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),TO=gt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),nd=gt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),h6=gt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ac=gt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),PO=gt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),p6=gt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Cv=gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sy=gt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),m6=gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),g6=gt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),$a=gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),v6=gt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),x6=()=>{const[e,t]=O.useState(!1),[r,n]=O.useState(!1),i=Ia(),s=rp();O.useEffect(()=>{const v=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=v=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===v?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,p=v=>{s(v),n(!1)},m=()=>{const v=i.pathname;return v==="/"?b.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[b.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:b.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),b.jsx(en,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),b.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),b.jsx(en,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),b.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),b.jsx(en,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):v.startsWith("/perfum")?b.jsxs(en,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):v.startsWith("/regalos")?b.jsxs(en,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):b.jsxs(en,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]})};return b.jsxs("nav",{className:c,children:[b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&b.jsx(en,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),b.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),b.jsx("div",{className:"flex items-center",children:m()})]}),b.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&b.jsxs(b.Fragment,{children:[b.jsx(en,{to:"/style",className:f("/style"),children:"Style"}),b.jsx(en,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),b.jsx(en,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),b.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):s("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),b.jsx("div",{className:"md:hidden flex items-center",children:b.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?b.jsx($a,{size:28}):b.jsx(o6,{size:28})})})]})}),r&&b.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[b.jsxs("button",{onClick:()=>p("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(ap,{size:24}),b.jsx("span",{children:"Style (Inicio)"})]}),b.jsxs("button",{onClick:()=>p("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(nd,{size:24}),b.jsx("span",{children:"Perfumes"})]}),b.jsxs("button",{onClick:()=>p("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(iy,{size:24}),b.jsx("span",{children:"Regalos"})]}),b.jsx("div",{className:"mt-auto pb-8",children:b.jsx("button",{onClick:()=>p("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},y6=({onCtaClick:e})=>b.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),b.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[b.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),b.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",b.jsx("br",{})," ",b.jsx("span",{className:"italic",children:"Tu Esencia"})]}),b.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",b.jsx("br",{className:"hidden md:block"}),b.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),b.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:b.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),b.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[b.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[b.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),b.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[b.jsx("span",{className:"mr-1",children:"Desde"}),b.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),xc="56984524774",w6="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",sl=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],b6=3e3,E6=30,A6=["Santiago Centro","uoa"],Va=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],bE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],S6=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],kO=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var hs={},nh={},Ov=function(e,t){return Ov=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ov(e,t)};function jO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ov(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vh=function(){return Vh=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Vh.apply(this,arguments)};function Lc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function RO(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(s=(i<3?c(s):i>3?c(t,r,s):c(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function MO(e,t){return function(r,n){t(r,n,e)}}function DO(e,t,r,n,i,s){function c(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var f=n.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,v=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),w,S=!1,_=r.length-1;_>=0;_--){var I={};for(var N in n)I[N]=N==="access"?{}:n[N];for(var N in n.access)I.access[N]=n.access[N];I.addInitializer=function(M){if(S)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(M||null))};var k=(0,r[_])(f==="accessor"?{get:v.get,set:v.set}:v[p],I);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=c(k.get))&&(v.get=w),(w=c(k.set))&&(v.set=w),(w=c(k.init))&&i.unshift(w)}else(w=c(k))&&(f==="field"?i.unshift(w):v[p]=w)}m&&Object.defineProperty(m,n.name,v),S=!0}function LO(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function BO(e){return typeof e=="symbol"?e:"".concat(e)}function FO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function UO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ke(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})}function zO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var op=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function $O(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&op(t,e,r)}function Hh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function WO(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oy(arguments[t]));return e}function VO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],c=0,f=s.length;c<f;c++,i++)n[i]=s[c];return n}function HO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Sc(e){return this instanceof Sc?(this.v=e,this):new Sc(e)}function qO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(_){return function(I){return Promise.resolve(I).then(_,w)}}function f(_,I){n[_]&&(i[_]=function(N){return new Promise(function(k,M){s.push([_,N,k,M])>1||p(_,N)})},I&&(i[_]=I(i[_])))}function p(_,I){try{m(n[_](I))}catch(N){S(s[0][3],N)}}function m(_){_.value instanceof Sc?Promise.resolve(_.value.v).then(v,w):S(s[0][2],_)}function v(_){p("next",_)}function w(_){p("throw",_)}function S(_,I){_(I),s.shift(),s.length&&p(s[0][0],s[0][1])}}function GO(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(c){return(r=!r)?{value:Sc(e[i](c)),done:!1}:s?s(c):c}:s}}function KO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hh=="function"?Hh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(f,p){c=e[s](c),i(f,p,c.done,c.value)})}}function i(s,c,f,p){Promise.resolve(p).then(function(m){s({value:m,done:f})},c)}}function XO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var _6=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Nv=function(e){return Nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Nv(e)};function YO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Nv(e),n=0;n<r.length;n++)r[n]!=="default"&&op(t,e,r[n]);return _6(t,e),t}function ZO(e){return e&&e.__esModule?e:{default:e}}function QO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function JO(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function eN(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function tN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var C6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function rN(e){function t(s){e.error=e.hasError?new C6(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function nN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,c){return n?t?".jsx":".js":i&&(!s||!c)?r:i+s+"."+c.toLowerCase()+"js"}):e}const O6={__extends:jO,__assign:Vh,__rest:Lc,__decorate:RO,__param:MO,__esDecorate:DO,__runInitializers:LO,__propKey:BO,__setFunctionName:FO,__metadata:UO,__awaiter:Ke,__generator:zO,__createBinding:op,__exportStar:$O,__values:Hh,__read:oy,__spread:WO,__spreadArrays:VO,__spreadArray:HO,__await:Sc,__asyncGenerator:qO,__asyncDelegator:GO,__asyncValues:KO,__makeTemplateObject:XO,__importStar:YO,__importDefault:ZO,__classPrivateFieldGet:QO,__classPrivateFieldSet:JO,__classPrivateFieldIn:eN,__addDisposableResource:tN,__disposeResources:rN,__rewriteRelativeImportExtension:nN},N6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:tN,get __assign(){return Vh},__asyncDelegator:GO,__asyncGenerator:qO,__asyncValues:KO,__await:Sc,__awaiter:Ke,__classPrivateFieldGet:QO,__classPrivateFieldIn:eN,__classPrivateFieldSet:JO,__createBinding:op,__decorate:RO,__disposeResources:rN,__esDecorate:DO,__exportStar:$O,__extends:jO,__generator:zO,__importDefault:ZO,__importStar:YO,__makeTemplateObject:XO,__metadata:UO,__param:MO,__propKey:BO,__read:oy,__rest:Lc,__rewriteRelativeImportExtension:nN,__runInitializers:LO,__setFunctionName:FO,__spread:WO,__spreadArray:HO,__spreadArrays:VO,__values:Hh,default:O6},Symbol.toStringTag,{value:"Module"})),I6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let lp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},iN=class extends lp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Iv=class extends lp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Tv=class extends lp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var qh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qh||(qh={}));class T6{constructor(t,{headers:r={},customFetch:n,region:i=qh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=I6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ke(this,arguments,void 0,function*(r,n={}){var i;let s,c;try{const{headers:f,method:p,body:m,signal:v,timeout:w}=n;let S={},{region:_}=n;_||(_=this.region);const I=new URL(`${this.url}/${r}`);_&&_!=="any"&&(S["x-region"]=_,I.searchParams.set("forceFunctionRegion",_));let N;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=m):typeof m=="string"?(S["Content-Type"]="text/plain",N=m):typeof FormData<"u"&&m instanceof FormData?N=m:(S["Content-Type"]="application/json",N=JSON.stringify(m)):N=m;let k=v;w&&(c=new AbortController,s=setTimeout(()=>c.abort(),w),v?(k=c.signal,v.addEventListener("abort",()=>c.abort())):k=c.signal);const M=yield this.fetch(I.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:N,signal:k}).catch(W=>{throw new iN(W)}),L=M.headers.get("x-relay-error");if(L&&L==="true")throw new Iv(M);if(!M.ok)throw new Tv(M);let R=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),z;return R==="application/json"?z=yield M.json():R==="application/octet-stream"||R==="application/pdf"?z=yield M.blob():R==="text/event-stream"?z=M:R==="multipart/form-data"?z=yield M.formData():z=yield M.text(),{data:z,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Tv||f instanceof Iv?f.context:void 0}}finally{s&&clearTimeout(s)}})}}const P6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return qh},FunctionsClient:T6,FunctionsError:lp,FunctionsFetchError:iN,FunctionsHttpError:Tv,FunctionsRelayError:Iv},Symbol.toStringTag,{value:"Module"})),aN=bd(P6);var Kn={};const Bc=bd(N6);var ih={},ah={},sh={},oh={},lh={},ch={},EE;function sN(){if(EE)return ch;EE=1,Object.defineProperty(ch,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ch.default=e,ch}var AE;function oN(){if(AE)return lh;AE=1,Object.defineProperty(lh,"__esModule",{value:!0});const t=Bc.__importDefault(sN());let r=class{constructor(i){var s,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,v,w,S;let _=null,I=null,N=null,k=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?I=W:I=JSON.parse(W))}const R=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&z&&z.length>1&&(N=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(I)&&(I.length>1?(_={code:"PGRST116",details:`Results contain ${I.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},I=null,N=null,k=406,M="Not Acceptable"):I.length===1?I=I[0]:I=null)}else{const R=await p.text();try{_=JSON.parse(R),Array.isArray(_)&&p.status===404&&(I=[],_=null,k=200,M="OK")}catch{p.status===404&&R===""?(k=204,M="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((S=_?.details)===null||S===void 0)&&S.includes("0 rows"))&&(_=null,k=200,M="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:I,count:N,status:k,statusText:M}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,v,w,S,_,I;let N="";const k=p?.cause;if(k){const M=(m=k?.message)!==null&&m!==void 0?m:"",L=(v=k?.code)!==null&&v!==void 0?v:"";N=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,N+=`

Caused by: ${(S=k?.name)!==null&&S!==void 0?S:"Error"}: ${M}`,L&&(N+=` (${L})`),k?.stack&&(N+=`
${k.stack}`)}else N=(_=p?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(I=p?.name)!==null&&I!==void 0?I:"FetchError"}: ${p?.message}`,details:N,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,s)}returns(){return this}overrideTypes(){return this}};return lh.default=r,lh}var SE;function lN(){if(SE)return oh;SE=1,Object.defineProperty(oh,"__esModule",{value:!0});const t=Bc.__importDefault(oN());let r=class extends t.default{select(i){let s=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,s,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var v;const w=[i?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return oh.default=r,oh}var _E;function ly(){if(_E)return sh;_E=1,Object.defineProperty(sh,"__esModule",{value:!0});const t=Bc.__importDefault(lN()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${m}fts${v}.${c}`),this}match(s){return Object.entries(s).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(s,c,f){return this.url.searchParams.append(s,`not.${c}.${f}`),this}or(s,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${s})`),this}filter(s,c,f){return this.url.searchParams.append(s,`${c}.${f}`),this}};return sh.default=n,sh}var CE;function cN(){if(CE)return ah;CE=1,Object.defineProperty(ah,"__esModule",{value:!0});const t=Bc.__importDefault(ly());let r=class{constructor(i,{headers:s={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(s),this.schema=c,this.fetch=f}select(i,s){const{head:c=!1,count:f}=s??{},p=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:c=!0}={}){var f;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const w=i.reduce((S,_)=>S.concat(Object.keys(_)),[]);if(w.length>0){const S=[...new Set(w)].map(_=>`"${_}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var c;const f="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var s;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return ah.default=r,ah}var OE;function k6(){if(OE)return ih;OE=1,Object.defineProperty(ih,"__esModule",{value:!0});const e=Bc,t=e.__importDefault(cN()),r=e.__importDefault(ly());let n=class uN{constructor(s,{headers:c={},schema:f,fetch:p}={}){this.url=s,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new uN(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:f=!1,get:p=!1,count:m}={}){var v;let w;const S=new URL(`${this.url}/rpc/${s}`);let _;f||p?(w=f?"HEAD":"GET",Object.entries(c).filter(([N,k])=>k!==void 0).map(([N,k])=>[N,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([N,k])=>{S.searchParams.append(N,k)})):(w="POST",_=c);const I=new Headers(this.headers);return m&&I.set("Prefer",`count=${m}`),new r.default({method:w,url:S,headers:I,schema:this.schemaName,body:_,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return ih.default=n,ih}var NE;function dN(){if(NE)return Kn;NE=1,Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.PostgrestError=Kn.PostgrestBuilder=Kn.PostgrestTransformBuilder=Kn.PostgrestFilterBuilder=Kn.PostgrestQueryBuilder=Kn.PostgrestClient=void 0;const e=Bc,t=e.__importDefault(k6());Kn.PostgrestClient=t.default;const r=e.__importDefault(cN());Kn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ly());Kn.PostgrestFilterBuilder=n.default;const i=e.__importDefault(lN());Kn.PostgrestTransformBuilder=i.default;const s=e.__importDefault(oN());Kn.PostgrestBuilder=s.default;const c=e.__importDefault(sN());return Kn.PostgrestError=c.default,Kn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:c.default},Kn}class fN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const j6="2.87.1",R6=`realtime-js/${j6}`,hN="1.0.0",M6="2.0.0",IE=hN,Pv=1e4,D6=1e3,L6=100;var il;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(il||(il={}));var Qr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qr||(Qr={}));var Aa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Aa||(Aa={}));var kv;(function(e){e.websocket="websocket"})(kv||(kv={}));var al;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(al||(al={}));class B6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,s;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",p=(s=t.join_ref)!==null&&s!==void 0?s:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+m.length+w.length,_=new ArrayBuffer(this.HEADER_LENGTH+S);let I=new DataView(_),N=0;I.setUint8(N++,this.KINDS.userBroadcastPush),I.setUint8(N++,p.length),I.setUint8(N++,f.length),I.setUint8(N++,c.length),I.setUint8(N++,m.length),I.setUint8(N++,w.length),I.setUint8(N++,r),Array.from(p,M=>I.setUint8(N++,M.charCodeAt(0))),Array.from(f,M=>I.setUint8(N++,M.charCodeAt(0))),Array.from(c,M=>I.setUint8(N++,M.charCodeAt(0))),Array.from(m,M=>I.setUint8(N++,M.charCodeAt(0))),Array.from(w,M=>I.setUint8(N++,M.charCodeAt(0)));var k=new Uint8Array(_.byteLength+n.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(n),_.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,c,f,p]=n;return r({join_ref:i,ref:s,topic:c,event:f,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=n.decode(t.slice(p,p+i));p=p+i;const v=n.decode(t.slice(p,p+s));p=p+s;const w=n.decode(t.slice(p,p+c));p=p+c;const S=t.slice(p,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(n.decode(S)):S,I={type:this.BROADCAST_EVENT,event:v,payload:_};return c>0&&(I.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:I}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class pN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ur;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ur||(ur={}));const TE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=F6(c,e,t,i),s),{}):{}},F6=(e,t,r,n)=>{const i=t.find(f=>f.name===e),s=i?.type,c=r[e];return s&&!n.includes(s)?mN(s,c):jv(c)},mN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return W6(t,r)}switch(e){case ur.bool:return U6(t);case ur.float4:case ur.float8:case ur.int2:case ur.int4:case ur.int8:case ur.numeric:case ur.oid:return z6(t);case ur.json:case ur.jsonb:return $6(t);case ur.timestamp:return V6(t);case ur.abstime:case ur.date:case ur.daterange:case ur.int4range:case ur.int8range:case ur.money:case ur.reltime:case ur.text:case ur.time:case ur.timestamptz:case ur.timetz:case ur.tsrange:case ur.tstzrange:return jv(t);default:return jv(t)}},jv=e=>e,U6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},z6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},W6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(f=>mN(t,f))}return e},V6=e=>typeof e=="string"?e.replace(" ","T"):e,gN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class D1{constructor(t,r,n={},i=Pv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rv||(Rv={}));let vN=class kh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kh.syncState(this.state,i,s,c),this.pendingDiffs.forEach(p=>{this.state=kh.syncDiff(this.state,p,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kh.syncDiff(this.state,i,s,c),f())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),c=this.transformState(r),f={},p={};return this.map(s,(m,v)=>{c[m]||(p[m]=v)}),this.map(c,(m,v)=>{const w=s[m];if(w){const S=v.map(k=>k.presence_ref),_=w.map(k=>k.presence_ref),I=v.filter(k=>_.indexOf(k.presence_ref)<0),N=w.filter(k=>S.indexOf(k.presence_ref)<0);I.length>0&&(f[m]=I),N.length>0&&(p[m]=N)}else f[m]=v}),this.syncDiff(s,{joins:f,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(f,p)=>{var m;const v=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),v.length>0){const w=t[f].map(_=>_.presence_ref),S=v.filter(_=>w.indexOf(_.presence_ref)<0);t[f].unshift(...S)}n(f,v,p)}),this.map(c,(f,p)=>{let m=t[f];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[f]=m,i(f,m,p),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Mv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Mv||(Mv={}));var yc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yc||(yc={}));var za;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(za||(za={}));const H6=Qr;let xN=class Vu{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new D1(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new pN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Qr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new vN(this),this.broadcastEndpointURL=gN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qr.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[yc.PRESENCE]&&this.bindings[yc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},S={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(za.CHANNEL_ERROR,_)),this._onClose(()=>t?.(za.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var I;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(za.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,k=(I=N?.length)!==null&&I!==void 0?I:0,M=[];for(let L=0;L<k;L++){const R=N[L],{filter:{event:z,schema:W,table:V,filter:H}}=R,ne=_&&_[L];if(ne&&ne.event===z&&Vu.isFilterValueEqual(ne.schema,W)&&Vu.isFilterValueEqual(ne.table,V)&&Vu.isFilterValueEqual(ne.filter,H))M.push(Object.assign(Object.assign({},R),{id:ne.id}));else{this.unsubscribe(),this.state=Qr.errored,t?.(za.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(za.SUBSCRIBED);return}}).receive("error",_=>{this.state=Qr.errored,t?.(za.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(za.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qr.joined&&t===yc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,f,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new D1(this,Aa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new D1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>L6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:v}=Aa;if(n&&[f,p,m,v].indexOf(c)>=0&&n!==this._joinRef())return;let S=this._onMessage(c,r,n);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var I,N,k;return((I=_.filter)===null||I===void 0?void 0:I.event)==="*"||((k=(N=_.filter)===null||N===void 0?void 0:N.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(_=>_.callback(S,n)):(s=this.bindings[c])===null||s===void 0||s.filter(_=>{var I,N,k,M,L,R;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const z=_.id,W=(I=_.filter)===null||I===void 0?void 0:I.event;return z&&((N=r.ids)===null||N===void 0?void 0:N.includes(z))&&(W==="*"||W?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(L=(M=_?.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return z==="*"||z===((R=r?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof S=="object"&&"ids"in S){const I=S.data,{schema:N,table:k,commit_timestamp:M,type:L,errors:R}=I;S=Object.assign(Object.assign({},{schema:N,table:k,commit_timestamp:M,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(I))}_.callback(S,n)})}_isClosed(){return this.state===Qr.closed}_isJoined(){return this.state===Qr.joined}_isJoining(){return this.state===Qr.joining}_isLeaving(){return this.state===Qr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Aa.close,{},t)}_onError(t){this._on(Aa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TE(t.columns,t.old_record)),r}};const L1=()=>{},uh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q6=[1e3,2e3,5e3,1e4],G6=1e4,K6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let X6=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pv,this.transport=null,this.heartbeatIntervalMs=uh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=L1,this.ref=0,this.reconnectTimer=null,this.vsn=IE,this.logger=L1,this.conn=null,this.sendBuffer=[],this.serializer=new B6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kv.websocket}`,this.httpEndpoint=gN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case il.connecting:return al.Connecting;case il.open:return al.Open;case il.closing:return al.Closing;default:return al.Closed}}isConnected(){return this.connectionState()===al.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new xN(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:c}=r,f=c?`(${c})`:"",p=s.status||"";this.log("receive",`${p} ${n} ${i} ${f}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===il.open||this.conn.readyState===il.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Aa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([K6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:R6};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,c,f,p,m,v,w,S,_;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Pv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:uh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:L1,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:IE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(I=>q6[I-1]||G6),this.vsn){case hN:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((I,N)=>N(JSON.stringify(I))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((I,N)=>N(JSON.parse(I)));break;case M6:this.encode=(S=t?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const Y6=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:H6,get REALTIME_LISTEN_TYPES(){return yc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Mv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Rv},get REALTIME_SUBSCRIBE_STATES(){return za},RealtimeChannel:xN,RealtimeClient:X6,RealtimePresence:vN,WebSocketFactory:fN},Symbol.toStringTag,{value:"Module"})),yN=bd(Y6);class Sd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wN extends Sd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gh extends Sd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const cy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Z6=()=>Response,Dv=e=>{if(Array.isArray(e))return e.map(r=>Dv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Dv(n)}),t},Q6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},J6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),B1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},e5=(e,t,r)=>Ke(void 0,void 0,void 0,function*(){const n=yield Z6();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,c=i?.statusCode||s+"";t(new wN(B1(i),s,c))}).catch(i=>{t(new Gh(B1(i),i))}):t(new Gh(B1(e),e))}),t5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(Q6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function _d(e,t,r,n,i,s){return Ke(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,t5(t,n,i,s)).then(p=>{if(!p.ok)throw p;return n?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>e5(p,f,n))})})}function id(e,t,r,n){return Ke(this,void 0,void 0,function*(){return _d(e,"GET",t,r,n)})}function Ea(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return _d(e,"POST",t,n,i,r)})}function Lv(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return _d(e,"PUT",t,n,i,r)})}function r5(e,t,r,n){return Ke(this,void 0,void 0,function*(){return _d(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function uy(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return _d(e,"DELETE",t,n,i,r)})}class n5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ar(t))return{data:null,error:t};throw t}})}}var bN;class i5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[bN]="BlobDownloadBuilder",this.promise=null}asStream(){return new n5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ar(t))return{data:null,error:t};throw t}})}}bN=Symbol.toStringTag;const a5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=cy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ke(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},PE),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),p&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(p))):(s=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),w=yield(t=="PUT"?Lv:Ea)(this.fetch,`${this.url}/object/${v}`,s,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ar(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:PE.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield Lv(this.fetch,f.toString(),p,{headers:v});return{data:{path:s,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ar(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield Ea(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new Sd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Ea(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ea(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ke(this,void 0,void 0,function*(){try{const i=yield Ea(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(t),p=()=>id(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new i5(p,this.shouldThrowOnError)}info(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield id(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}exists(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield r5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n)&&n instanceof Gh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${m}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},a5),r),{prefix:t||""});return{data:yield Ea(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ke(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ea(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const EN="2.87.1",AN={"X-Client-Info":`storage-js/${EN}`};class o5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AN),r),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield id(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield id(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}createBucket(t){return Ke(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ea(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ar(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Lv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ar(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ad=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l5(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function c5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function u5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:c}){const f=l5(e.baseUrl,n,i),p=await c5(e.auth),m=await t(f,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...p,...c},body:s?JSON.stringify(s):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),S=w&&v?JSON.parse(v):v;if(!m.ok){const _=w?S:void 0,I=_?.error;throw new ad(I?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:I?.type,icebergCode:I?.code,details:_})}return{status:m.status,headers:m.headers,data:S}}}}function dh(e){return e.join("")}var d5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:dh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dh(e.namespace)}`}),!0}catch(t){if(t instanceof ad&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ad&&r.status===409)return;throw r}}};function nc(e){return e.join("")}var f5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ad&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ad&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},h5=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=u5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new d5(this.client,t),this.tableOps=new f5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class SN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},AN),r),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ea(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield id(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ar(r))return{data:null,error:r};throw r}})}from(t){if(!J6(t))throw new Sd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new h5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ke(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,c){const f=s[c];return typeof f!="function"?f:(...p)=>Ke(this,void 0,void 0,function*(){try{return{data:yield f.apply(s,p),error:null}}catch(m){if(n)throw m;return{data:null,error:m}}})}})}}const dy={"X-Client-Info":`storage-js/${EN}`,"Content-Type":"application/json"};class fy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function mi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jh extends fy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _N extends fy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Bv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bv||(Bv={}));const cp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p5=()=>Response,CN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m5=e=>Array.from(new Float32Array(e)),g5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},kE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v5=(e,t,r)=>Ke(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new jh(kE(c),i,f))}).catch(()=>{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new jh(f,i,c))});else{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new jh(f,i,c))}}else t(new _N(kE(e),e))}),x5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(CN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function y5(e,t,r,n,i,s){return Ke(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,x5(t,n,i,s)).then(p=>{if(!p.ok)throw p;if(n?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>v5(p,f,n))})})}function Ti(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return y5(e,"POST",t,n,i,r)})}class ON{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mi(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(mi(n))return{data:null,error:n};throw n}})}}class NN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ti(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}getVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}listVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ti(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ti(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}}class IN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=cp(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}listBuckets(){return Ke(this,arguments,void 0,function*(t={}){try{return{data:yield Ti(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Ti(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(mi(r))return{data:null,error:r};throw r}})}}class TN extends IN{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new PN(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ke(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ke(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ke(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ke(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class PN extends ON{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ke(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ke(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ke(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ke(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new kN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class kN extends NN{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ke(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ke(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ke(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ke(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ke(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class w5 extends o5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new s5(this.url,this.headers,t,this.fetch)}get vectors(){return new TN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new SN(this.url+"/iceberg",this.headers,this.fetch)}}const b5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:SN,StorageApiError:wN,StorageClient:w5,StorageError:Sd,StorageUnknownError:Gh,StorageVectorsApiError:jh,StorageVectorsClient:TN,StorageVectorsError:fy,get StorageVectorsErrorCode(){return Bv},StorageVectorsUnknownError:_N,VectorBucketApi:IN,VectorBucketScope:PN,VectorDataApi:NN,VectorIndexApi:ON,VectorIndexScope:kN,isPlainObject:CN,isStorageError:Ar,isStorageVectorsError:mi,normalizeToFloat32:m5,resolveFetch:cp,resolveResponse:p5,validateVectorDimension:g5},Symbol.toStringTag,{value:"Module"})),E5=bd(b5);var F1={},Ru={},jE;function A5(){return jE||(jE=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.version=void 0,Ru.version="2.87.1"),Ru}var RE;function S5(){return RE||(RE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=A5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(F1)),F1}var U1={},ME;function _5(){return ME||(ME=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,s,c)=>{const f=(0,e.resolveFetch)(c),p=(0,e.resolveHeadersConstructor)();return async(m,v)=>{var w;const S=(w=await s())!==null&&w!==void 0?w:i;let _=new p(v?.headers);return _.has("apikey")||_.set("apikey",i),_.has("Authorization")||_.set("Authorization",`Bearer ${S}`),f(m,Object.assign(Object.assign({},v),{headers:_}))}};e.fetchWithAuth=n})(U1)),U1}var ps={},DE;function C5(){if(DE)return ps;DE=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.isBrowser=void 0,ps.uuid=e,ps.ensureTrailingSlash=t,ps.applySettingDefaults=n,ps.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,f=s=="x"?c:c&3|8;return f.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";ps.isBrowser=r;function n(s,c){var f,p;const{db:m,auth:v,realtime:w,global:S}=s,{db:_,auth:I,realtime:N,global:k}=c,M={db:Object.assign(Object.assign({},_),m),auth:Object.assign(Object.assign({},I),v),realtime:Object.assign(Object.assign({},N),w),storage:{},global:Object.assign(Object.assign(Object.assign({},k),S),{headers:Object.assign(Object.assign({},(f=k?.headers)!==null&&f!==void 0?f:{}),(p=S?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return s.accessToken?M.accessToken=s.accessToken:delete M.accessToken,M}function i(s){const c=s?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ps}var Mu={};const jN="2.87.1",dc=30*1e3,Fv=3,z1=Fv*dc,O5="http://localhost:9999",N5="supabase.auth.token",I5={"X-Client-Info":`gotrue-js/${jN}`},Uv="X-Supabase-Api-Version",RN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,P5=600*1e3;let _c=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function tt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let MN=class extends _c{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function DN(e){return tt(e)&&e.name==="AuthApiError"}let uo=class extends _c{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ks=class extends _c{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},pi=class extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function LN(e){return tt(e)&&e.name==="AuthSessionMissingError"}let Qo=class extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hu=class extends ks{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qu=class extends ks{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function BN(e){return tt(e)&&e.name==="AuthImplicitGrantRedirectError"}let zv=class extends ks{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kh=class extends ks{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Rh(e){return tt(e)&&e.name==="AuthRetryableFetchError"}let $v=class extends ks{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function k5(e){return tt(e)&&e.name==="AuthWeakPasswordError"}let Xh=class extends ks{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LE=` 	
\r=`.split(""),j5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LE.length;t+=1)e[LE[t].charCodeAt(0)]=-2;for(let t=0;t<Yh.length;t+=1)e[Yh[t].charCodeAt(0)]=t;return e})();function BE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yh[n]),t.queuedBits-=6}}function FN(e,t,r){const n=j5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FE(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{D5(c,n,r)};for(let c=0;c<e.length;c+=1)FN(e.charCodeAt(c),i,s);return t.join("")}function R5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}R5(n,t)}}function D5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)FN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function L5(e){const t=[];return M5(e,r=>t.push(r)),new Uint8Array(t)}function ol(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>BE(i,r,n)),BE(null,r,n),t.join("")}function B5(e){return Math.round(Date.now()/1e3)+e}function F5(){return Symbol("auth-callback")}const Ln=()=>typeof window<"u"&&typeof document<"u",Yo={tested:!1,writable:!1},UN=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yo.tested)return Yo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yo.tested=!0,Yo.writable=!0}catch{Yo.tested=!0,Yo.writable=!1}return Yo.writable};function U5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const zN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dn=async(e,t)=>{await e.removeItem(t)};class up{constructor(){this.promise=new up.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}up.promiseConstructor=Promise;function $1(e){const t=e.split(".");if(t.length!==3)throw new Xh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!T5.test(t[n]))throw new Xh("JWT not in base64url format");return{header:JSON.parse(FE(t[0])),payload:JSON.parse(FE(t[1])),signature:wc(t[2]),raw:{header:t[0],payload:t[1]}}}async function $5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W5(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function V5(e){return("0"+e.toString(16)).substr(-2)}function H5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,V5).join("")}async function q5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function G5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await q5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ic(e,t,r=!1){const n=H5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await fc(e,`${t}-code-verifier`,i);const s=await G5(n);return[s,n===s?"plain":"s256"]}const K5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X5(e){const t=e.headers.get(Uv);if(!t||!t.match(K5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Y5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Q5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ac(e){if(!Q5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function W1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function J5(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function UE(e){return JSON.parse(JSON.stringify(e))}const Jo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eM=[502,503,504];async function zE(e){var t;if(!z5(e))throw new Kh(Jo(e),0);if(eM.includes(e.status))throw new Kh(Jo(e),e.status);let r;try{r=await e.json()}catch(s){throw new uo(Jo(s),s)}let n;const i=X5(e);if(i&&i.getTime()>=RN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new $v(Jo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new $v(Jo(r),e.status,r.weak_password.reasons);throw new MN(Jo(r),e.status||500,n)}const tM=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function mt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[Uv]||(s[Uv]=RN["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await rM(e,t,r+f,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(p):{data:Object.assign({},p),error:null}}async function rM(e,t,r,n,i,s){const c=tM(t,n,i,s);let f;try{f=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new Kh(Jo(p),0)}if(f.ok||await zE(f),n?.noResolveJson)return f;try{return await f.json()}catch(p){await zE(p)}}function ba(e){var t;let r=null;aM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=B5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $E(e){const t=ba(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nM(e){return{data:e,error:null}}function iM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,c=Lc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function WE(e){return e}function aM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mh=["global","local","others"];let hy=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mh[0]){if(Mh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mh.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fo})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lc(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iM,redirectTo:r?.redirectTo})}catch(r){if(tt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fo})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(v.error)throw v.error;const w=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(I=>{const N=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(I.split(";")[1].split("=")[1]);m[`${k}Page`]=N}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(tt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){ac(t);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fo})}catch(r){if(tt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ac(t);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fo})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ac(t);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fo})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ac(t.userId);try{const{data:r,error:n}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ac(t.userId),ac(t.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(v.error)throw v.error;const w=await v.json(),S=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(I=>{const N=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(I.split(";")[1].split("=")[1]);m[`${k}Page`]=N}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(tt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(tt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(tt(r))return{data:null,error:r};throw r}}};function VE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const el={debug:!!(globalThis&&UN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class py extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let $N=class extends py{};class sM extends py{}async function WN(e,t,r){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $N(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(el.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const HE={};async function oM(e,t,r){var n;const i=(n=HE[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new sM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return HE[e]=s.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await s}function lM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function VN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cM(e){return parseInt(e,16)}function uM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:f,requestId:p,resources:m,scheme:v,uri:w,version:S}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=VN(e.address),I=v?`${v}://${n}`:n,N=e.statement?`${e.statement}
`:"",k=`${I} wants you to sign in with your Ethereum account:
${_}

${N}`;let M=`URI: ${w}
Version: ${S}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),m){let L=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);L+=`
- ${R}`}M+=L}return`${k}
${M}`}class Jr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Zh extends Jr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function fM({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Jr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Jr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Jr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Jr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Jr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Jr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(HN(c)){if(s.rp.id!==c)return new Jr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Jr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Jr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Jr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(HN(n)){if(r.rpId!==n)return new Jr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Jr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class pM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const mM=new pM;function gM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Lc(e,["challenge","user","excludeCredentials"]),s=wc(t).buffer,c=Object.assign(Object.assign({},r),{id:wc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:s,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const m=n[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:wc(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function vM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Lc(e,["challenge","allowCredentials"]),i=wc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},f),{id:wc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return s}function xM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ol(new Uint8Array(e.response.attestationObject)),clientDataJSON:ol(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function yM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ol(new Uint8Array(i.authenticatorData)),clientDataJSON:ol(new Uint8Array(i.clientDataJSON)),signature:ol(new Uint8Array(i.signature)),userHandle:i.userHandle?ol(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qE(){var e,t;return!!(Ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:fM({error:t,options:e})}}}async function bM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:hM({error:t,options:e})}}}const EM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},AM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const f=n[s];t(f)?n[s]=Qh(f,c):n[s]=Qh(c)}else n[s]=c}return n}function SM(e,t){return Qh(EM,e,t||{})}function _M(e,t){return Qh(AM,e,t||{})}class CM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const p=i??mM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=SM(c.webauthn.credential_options.publicKey,s?.create),{data:v,error:w}=await wM({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=_M(c.webauthn.credential_options.publicKey,s?.request),{data:v,error:w}=await bM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return tt(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn authentication")};try{if(!qE())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(c){return tt(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn registration")};try{if(!qE())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return tt(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in register",c)}}}}lM();const OM={url:O5,storageKey:N5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function GE(e,t,r){return await r()}const sc={};let my=class Wv{get jwks(){var t,r;return(r=(t=sc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sc[this.storageKey]=Object.assign(Object.assign({},sc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},OM),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Wv.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Wv.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ln()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zN(s.fetch),this.lock=s.lock||GE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Ln()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=WN:this.lock=GE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new CM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:UN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=VE(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ln()&&(r=U5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ln()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),BN(s)){const p=(t=s.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tt(r)?this._returnResult({error:r}):this._returnResult({error:new uo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:ba}),{data:c,error:f}=s;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(tt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:v,password:w,options:S}=t;let _=null,I=null;this.flowType==="pkce"&&([_,I]=await ic(this.storage,this.storageKey)),s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:v,password:w,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:_,code_challenge_method:I},xform:ba})}else if("phone"in t){const{phone:v,password:w,options:S}=t;s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(n=S?.data)!==null&&n!==void 0?n:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:ba})}else throw new Hu("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return await Dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:f}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$E})}else if("phone"in t){const{phone:s,password:c,options:f}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$E})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Qo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,c,f,p,m,v,w,S;let _,I;if("message"in t)_=t.message,I=t.signature;else{const{chain:N,wallet:k,statement:M,options:L}=t;let R;if(Ln())if(typeof k=="object")R=k;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")R=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const z=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),W=await R.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=VN(W[0]);let H=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const Y=await R.request({method:"eth_chainId"});H=cM(Y)}const ne={domain:z.host,address:V,statement:M,uri:z.href,version:"1",chainId:H,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=dM(ne),I=await R.request({method:"personal_sign",params:[uM(_),V]})}try{const{data:N,error:k}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:I},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ba});if(k)throw k;if(!N||!N.session||!N.user){const M=new Qo;return this._returnResult({data:{user:null,session:null},error:M})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:k})}catch(N){if(tt(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var r,n,i,s,c,f,p,m,v,w,S,_;let I,N;if("message"in t)I=t.message,N=t.signature;else{const{chain:k,wallet:M,statement:L,options:R}=t;let z;if(Ln())if(typeof M=="object")z=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))z=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const W=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const V=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),L?{statement:L}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)I=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),N=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${W.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=R?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((c=R?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((w=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...R.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await z.signMessage(new TextEncoder().encode(I),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=V}}try{const{data:k,error:M}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:ol(N)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ba});if(M)throw M;if(!k||!k.session||!k.user){const L=new Qo;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:M})}catch(k){if(tt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Zo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:c}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ba});if(await Dn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const f=new Qo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=t,f=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ba}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new Qo;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,c;try{if("email"in t){const{email:f,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ic(this.storage,this.storageKey));const{error:w}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(n=p?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:v}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new Hu("You must provide either an email or phone number.")}catch(f){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ba});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(i){if(tt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ic(this.storage,this.storageKey));const m=await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:nM});return!((s=m.data)===null||s===void 0)&&s.url&&Ln()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pi;const{error:i}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(tt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:c}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:c,error:f}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<z1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Zo(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=W1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=J5(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fo}):await this._useSession(async r=>{var n,i,s;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fo})})}catch(r){if(tt(r))return LN(r)&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new pi;const c=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await ic(this.storage,this.storageKey));const{data:m,error:v}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:fo});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=$1(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;s={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(tt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new pi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(tt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ln())throw new qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zv("No code detected.");const{data:L,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:f,expires_at:p,token_type:m}=t;if(!s||!f||!c||!m)throw new qu("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let S=v+w;p&&(S=parseInt(p));const _=S-v;_*1e3<=dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${w}s`);const I=S-w;v-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,S,v):v-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,S,v);const{data:N,error:k}=await this._getUser(s);if(k)throw k;const M={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:w,expires_at:S,refresh_token:c,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(n){if(tt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(DN(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=F5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ic(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var c,f,p,m,v;const{data:w,error:S}=s;if(S)throw S;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(tt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:c,provider:f,token:p,access_token:m,nonce:v}=t,w=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ba}),{data:S,error:_}=w;return _?this._returnResult({data:{user:null,session:null},error:_}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Qo}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:_}))}catch(i){if(await Dn(this.storage,`${this.storageKey}-code-verifier`),tt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)throw c;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W5(async i=>(i>0&&await $5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ba})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Rh(s)&&Date.now()+c-n<dc})}catch(n){if(this._debug(r,"error",n),tt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Zo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Zo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await fc(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:W1()}else if(i&&!i.user&&!i.user){const c=await Zo(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Dn(this.storage,this.storageKey+"-user"),await fc(this.storage,this.storageKey,i)):i.user=W1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<z1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${z1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Rh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new up;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new pi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={data:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(i,"error",s),tt(s)){const c={data:null,error:s};return Rh(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){s.push(p)}});if(await Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Dn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=UE(i);await fc(this.storage,this.storageKey,s)}else{const i=UE(r);await fc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dn(this.storage,this.storageKey),await Dn(this.storage,this.storageKey+"-code-verifier"),await Dn(this.storage,this.storageKey+"-user"),this.userStorage&&await Dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ln()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dc}ms, refresh threshold is ${Fv} ticks`),i<=Fv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof py)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await ic(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xM(t.webauthn.credential_response):yM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:gM(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:vM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=$1(n.access_token);let c=null;s.aal&&(c=s.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=s.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new pi})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pi});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new pi});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pi})})}catch(t){if(tt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pi})})}catch(r){if(tt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+P5>i)return n;const{data:s,error:c}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:_,error:I}=await this.getSession();if(I||!_.session)return this._returnResult({data:null,error:I});n=_.session.access_token}const{header:i,payload:s,signature:c,raw:{header:f,payload:p}}=$1(n);r?.allowExpired||Y5(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:s,header:i,signature:c},error:null}}const v=Z5(i.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,L5(`${f}.${p}`)))throw new Xh("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}};my.nextInstanceID={};const NM=hy,IM=my,TM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:NM,AuthApiError:MN,AuthClient:IM,AuthError:_c,AuthImplicitGrantRedirectError:qu,AuthInvalidCredentialsError:Hu,AuthInvalidJwtError:Xh,AuthInvalidTokenResponseError:Qo,AuthPKCEGrantCodeExchangeError:zv,AuthRetryableFetchError:Kh,AuthSessionMissingError:pi,AuthUnknownError:uo,AuthWeakPasswordError:$v,CustomAuthError:ks,GoTrueAdminApi:hy,GoTrueClient:my,NavigatorLockAcquireTimeoutError:$N,SIGN_OUT_SCOPES:Mh,isAuthApiError:DN,isAuthError:tt,isAuthImplicitGrantRedirectError:BN,isAuthRetryableFetchError:Rh,isAuthSessionMissingError:LN,isAuthWeakPasswordError:k5,lockInternals:el,navigatorLock:WN,processLock:oM},Symbol.toStringTag,{value:"Module"})),qN=bd(TM);var KE;function PM(){if(KE)return Mu;KE=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.SupabaseAuthClient=void 0;const e=qN;let t=class extends e.AuthClient{constructor(n){super(n)}};return Mu.SupabaseAuthClient=t,Mu}var XE;function YE(){if(XE)return nh;XE=1,Object.defineProperty(nh,"__esModule",{value:!0});const e=aN,t=dN(),r=yN,n=E5,i=S5(),s=_5(),c=C5(),f=PM();class p{constructor(v,w,S){var _,I,N;this.supabaseUrl=v,this.supabaseKey=w;const k=(0,c.validateSupabaseUrl)(v);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const M=`sb-${k.hostname.split(".")[0]}-auth-token`,L={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:i.DEFAULT_GLOBAL_OPTIONS},R=(0,c.applySettingDefaults)(S??{},L);this.storageKey=(_=R.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(I=R.global.headers)!==null&&I!==void 0?I:{},R.accessToken?(this.accessToken=R.accessToken,this.auth=new Proxy({},{get:(z,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((N=R.auth)!==null&&N!==void 0?N:{},this.headers,R.global.fetch),this.fetch=(0,s.fetchWithAuth)(w,this._getAccessToken.bind(this),R.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},R.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:R.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,S?.storage),R.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,w={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,w,S)}channel(v,w={config:{}}){return this.realtime.channel(v,w)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,w;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(w=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:w,detectSessionInUrl:S,storage:_,userStorage:I,storageKey:N,flowType:k,lock:M,debug:L,throwOnError:R},z,W){const V={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},V),z),storageKey:N,autoRefreshToken:v,persistSession:w,detectSessionInUrl:S,storage:_,userStorage:I,flowType:k,lock:M,debug:L,throwOnError:R,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(H=>H.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,S)=>{this._handleTokenChanged(w,"CLIENT",S?.access_token)})}_handleTokenChanged(v,w,S){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return nh.default=p,nh}var ZE;function kM(){return ZE||(ZE=1,(function(e){var t=hs&&hs.__createBinding||(Object.create?(function(v,w,S,_){_===void 0&&(_=S);var I=Object.getOwnPropertyDescriptor(w,S);(!I||("get"in I?!w.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(v,_,I)}):(function(v,w,S,_){_===void 0&&(_=S),v[_]=w[S]})),r=hs&&hs.__exportStar||function(v,w){for(var S in v)S!=="default"&&!Object.prototype.hasOwnProperty.call(w,S)&&t(w,v,S)},n=hs&&hs.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(YE());r(qN,e);var s=dN();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var c=aN;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(yN,e);var f=YE();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const p=(v,w,S)=>new i.default(v,w,S);e.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(hs)),hs}var GN=kM();const KN=oa(GN),jM=Kx({__proto__:null,default:KN},[GN]),{PostgrestError:$ee,FunctionsHttpError:Wee,FunctionsFetchError:Vee,FunctionsRelayError:Hee,FunctionsError:qee,FunctionRegion:Gee,SupabaseClient:Kee,createClient:RM,GoTrueAdminApi:Xee,GoTrueClient:Yee,AuthAdminApi:Zee,AuthClient:Qee,navigatorLock:Jee,NavigatorLockAcquireTimeoutError:ete,lockInternals:tte,processLock:rte,SIGN_OUT_SCOPES:nte,AuthError:ite,AuthApiError:ate,AuthUnknownError:ste,CustomAuthError:ote,AuthSessionMissingError:lte,AuthInvalidTokenResponseError:cte,AuthInvalidCredentialsError:ute,AuthImplicitGrantRedirectError:dte,AuthPKCEGrantCodeExchangeError:fte,AuthRetryableFetchError:hte,AuthWeakPasswordError:pte,AuthInvalidJwtError:mte,isAuthError:gte,isAuthApiError:vte,isAuthSessionMissingError:xte,isAuthImplicitGrantRedirectError:yte,isAuthRetryableFetchError:wte,isAuthWeakPasswordError:bte,RealtimePresence:Ete,RealtimeChannel:Ate,RealtimeClient:Ste,REALTIME_LISTEN_TYPES:_te,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Cte,REALTIME_PRESENCE_LISTEN_EVENTS:Ote,REALTIME_SUBSCRIBE_STATES:Nte,REALTIME_CHANNEL_STATES:Ite}=KN||jM,V1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},XN=e=>V1&&V1[e]?V1[e]:"",H1=XN("VITE_SUPABASE_URL"),QE=XN("VITE_SUPABASE_KEY");let YN=null;if(H1&&QE&&H1!=="https://placeholder.supabase.co")try{YN=RM(H1,QE)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const it=YN,MM=({onSuccess:e})=>{const[t,r]=O.useState(sl[0].id),n=sl.find(oe=>oe.id===t)||sl[0],[i,s]=O.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=O.useState(!1),[p,m]=O.useState(!1),[v,w]=O.useState([]),[S,_]=O.useState([]),[I,N]=O.useState({}),[k,M]=O.useState(null),[L,R]=O.useState(!1);O.useEffect(()=>{s(oe=>({...oe,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:oe.isHomeService}))},[n]);const z=n.durationMin+(i.isHomeService?E6:0),W=n.price+(i.isHomeService?b6:0);O.useEffect(()=>{i.date&&V(i.date)},[i.date]),O.useEffect(()=>{i.date&&H()},[i.date,S,z]),O.useEffect(()=>{const ve=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const be=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(Q=>Q.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&Q.name.toLowerCase()===i.name.toLowerCase());be&&(M(be),R(!0))}},1e3);return()=>clearTimeout(ve)},[i.name,i.phone]);const V=async oe=>{m(!0);try{let ve=[];if(it){const{data:ue,error:Be}=await it.from("bookings").select("time, duration_minutes").eq("date",oe);!Be&&ue&&(ve=ue.map(Le=>{const[Ye,Ne]=Le.time.split(":").map(Number),lt=Ye*60+Ne;return{start:lt,end:lt+Le.duration_minutes}}))}const Q=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(ue=>ue.date===oe).map(ue=>{const[Be,Le]=ue.time.split(":").map(Number),Ye=Be*60+Le,Ne=ue.duration_minutes||60;return{start:Ye,end:Ye+Ne}});_([...ve,...Q])}catch(ve){console.warn("Error fetching slots",ve),_([])}finally{m(!1)}},H=()=>{const we=[];for(let be=9;be<20;be++)for(let Q=0;Q<60;Q+=30){const ue=be*60+Q,Be=ue+z;if(Be>1200)continue;if(!S.some(Ye=>ue>=Ye.start&&ue<Ye.end||Be>Ye.start&&Be<=Ye.end||ue<=Ye.start&&Be>=Ye.end)){const Ye=`${be.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`;we.push(Ye)}}w(we),i.time&&!we.includes(i.time)&&s(be=>({...be,time:""}))},ne=()=>{const oe={};return i.name||(oe.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(oe.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(oe.email="El formato del email no es vlido"):oe.email="El email es obligatorio",i.date||(oe.date="Selecciona una fecha"),i.time||(oe.time="Selecciona una hora"),i.isHomeService&&!i.address&&(oe.address="La direccin es obligatoria para servicio a domicilio"),N(oe),Object.keys(oe).length===0},Y=oe=>{const{name:ve,value:we,type:be}=oe.target,Q=oe.target.checked;s(ue=>({...ue,[ve]:be==="checkbox"?Q:we})),I[ve]&&N(ue=>{const Be={...ue};return delete Be[ve],Be})},Ae=oe=>{s(ve=>({...ve,time:oe})),I.time&&N(ve=>{const we={...ve};return delete we.time,we})},pe=async()=>{const oe=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),ve={id:Date.now(),...i,duration_minutes:z,created_at:new Date().toISOString()};if(oe.push(ve),localStorage.setItem("mock_bookings",JSON.stringify(oe)),it)try{const{error:we}=await it.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});we&&console.warn("Error saving lead:",we),await it.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:z}])}catch(we){console.warn("Supabase save failed, relying on local:",we)}},de=oe=>{const we=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(be=>be.id!==oe);localStorage.setItem("mock_bookings",JSON.stringify(we))},Se=()=>{k&&(de(k.id),M(null),R(!1))},ke=()=>{R(!1),s(oe=>({...oe,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${k.date} a las ${k.time}) se mantiene. Gracias!`)},re=rp(),De=async oe=>{if(!ne())return;f(!0),await pe();const ve=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,we=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),be=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${ve}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${z} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${we}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(Q=>setTimeout(Q,800)),f(!1),e&&e(i),re("/confirmation",{state:{booking:i,totalPrice:W,duration:z}});{const Q=`https://wa.me/${xc}?text=${encodeURIComponent(be)}`;window.open(Q,"_blank")}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[L&&k&&b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:b.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[b.jsx(SO,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),b.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),b.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",b.jsx("strong",{children:k.name})," el da ",b.jsx("strong",{children:k.date})," a las ",b.jsx("strong",{children:k.time}),"."]}),b.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("button",{onClick:Se,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),b.jsx("button",{onClick:ke,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!it&&b.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[b.jsx(a6,{size:12})," MODO DEMO"]}),b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),b.jsxs("div",{className:"relative mb-6",children:[b.jsx("select",{value:t,onChange:oe=>r(oe.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:sl.map(oe=>b.jsxs("option",{value:oe.id,children:[oe.name," - $",oe.price.toLocaleString("es-CL")]},oe.id))}),b.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:b.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),b.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),b.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),b.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[z," min"]}),b.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[b.jsx("div",{className:"flex items-center h-5 mt-0.5",children:b.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:Y,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),b.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",A6.join(", "),". ",b.jsx("br",{}),b.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),b.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),b.jsx("ul",{className:"space-y-2",children:n.includes.map((oe,ve)=>b.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[b.jsx(ny,{size:14,className:"text-stone-900 mr-2"}),oe]},ve))})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),b.jsx("input",{type:"text",name:"name",value:i.name,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),I.name&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.name})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),b.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),I.phone&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.phone})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),b.jsx("input",{type:"email",name:"email",value:i.email,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),I.email&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.email})]})]}),b.jsxs("div",{className:"animate-in fade-in pt-2",children:[b.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[b.jsx(sy,{size:12})," Quin te recomend? (Opcional)"]}),b.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:Y,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",name:"address",value:i.address,onChange:Y,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${I.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),b.jsx(OO,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),I.address&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.address})]})]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:Y,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${I.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),b.jsx(XR,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),I.date&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.date})]}),i.date&&b.jsxs("div",{className:"animate-in fade-in",children:[b.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[b.jsx("span",{children:"Horas Disponibles"}),p&&b.jsxs("span",{className:"flex items-center text-stone-400",children:[b.jsx(rd,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),v.length>0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:v.map(oe=>b.jsx("button",{onClick:()=>Ae(oe),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===oe?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:oe},oe))}),I.time&&b.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:I.time})]}):b.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:p?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&b.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[b.jsx(JR,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),b.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[b.jsxs("button",{onClick:()=>De(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?b.jsx(rd,{className:"animate-spin"}):b.jsx(h6,{size:22}),b.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),b.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},DM=({onSelectPerfume:e})=>{const[t,r]=O.useState(!1),[n,i]=O.useState(""),[s,c]=O.useState([]),[f,p]=O.useState(!1),m=w=>{if(w.preventDefault(),!n.trim())return;const S=n.toLowerCase().split(/[\s,]+/).filter(N=>N.length>2),I=Va.map(N=>{let k=0;const M=[],L=(R,z)=>{S.forEach(W=>{R.toLowerCase().includes(W)&&(k+=z,M.includes(W)||M.push(W))})};return L(N.name,3),L(N.description,1),L(N.brand,2),N.notes.forEach(R=>L(R,2)),L(N.category==="arab"?"arabe":"clasico",2),{perfume:N,score:k,matches:M}}).filter(N=>N.score>0).sort((N,k)=>k.score-N.score).slice(0,3);c(I),p(!0)},v=()=>{i(""),c([]),p(!1)};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[b.jsx(Ac,{size:24,className:"animate-pulse"}),b.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[b.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:b.jsx($a,{size:24})}),b.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[b.jsx(Ac,{className:"text-yellow-300"})," Asesor de Aromas"]}),b.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?b.jsx("div",{className:"space-y-4",children:s.length>0?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),s.map(({perfume:w,matches:S},_)=>b.jsxs("div",{onClick:()=>{e(w.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[b.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[_===0&&b.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),b.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:w.name}),b.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:w.brand}),b.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(I=>b.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",I]},I))})]})]},w.id)),b.jsx("button",{onClick:v,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),b.jsx("button",{onClick:v,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:b.jsx(ay,{size:48,className:"text-purple-400"})}),b.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),b.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",b.jsx("br",{}),'"Algo dulce con vainilla"',b.jsx("br",{}),'"Fresco y ctrico para el da"',b.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),b.jsx("form",{onSubmit:m,className:"p-4 border-t border-stone-100 bg-stone-50",children:b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),b.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?b.jsx(sp,{size:20}):b.jsx(IO,{size:20})})]})})]})})]})},LM=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(null),[i,s]=O.useState("all"),[c,f]=O.useState({});O.useEffect(()=>{p()},[]);const p=async()=>{const{data:L}=await it.from("inventory").select("product_id, quantity");if(L){const R={};L.forEach(z=>{R[z.product_id]=z.quantity}),f(R)}},m=L=>{t("");const R=Va.find(z=>z.id===L);R&&(s(R.category),setTimeout(()=>{const z=document.getElementById(`perfume-${L}`);z&&z.scrollIntoView({behavior:"smooth",block:"center"}),z?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>z?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},v=O.useMemo(()=>{const L=new Set;return Va.forEach(R=>R.notes.forEach(z=>L.add(z))),Array.from(L).sort()},[]),w=O.useMemo(()=>Va.filter(L=>{const R=L.name.toLowerCase().includes(e.toLowerCase())||L.brand.toLowerCase().includes(e.toLowerCase()),z=r?L.notes.includes(r):!0,W=i==="all"||L.category===i;return R&&z&&W}).sort((L,R)=>{const z=c[L.id]!==void 0?c[L.id]>0:L.stock,W=c[R.id]!==void 0?c[R.id]>0:R.stock;return z===W?0:z?-1:1}),[e,r,i,c]),S=w.filter(L=>L.category==="classic"),_=w.filter(L=>L.category==="arab"),I=(L,R)=>{const z=R==="5ml"?L.price5ml:L.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${L.brand} - ${L.name}* en formato *${R}* por $${z}. Tienen disponibilidad?`,V=`https://wa.me/${xc}?text=${encodeURIComponent(W)}`;window.open(V,"_blank")},N=L=>{if(!L.priceFullBottle)return;const R=`Hola Tus3B Style, quiero comprar la botella completa de *${L.brand} - ${L.name}* por $${L.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,z=`https://wa.me/${xc}?text=${encodeURIComponent(R)}`;window.open(z,"_blank")},k=()=>{window.open(`https://wa.me/${xc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},M=L=>b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((R,z)=>b.jsxs("div",{className:"group flex flex-col h-full",children:[b.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&b.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:z+1}),b.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[b.jsx("img",{src:R.image,alt:R.name,className:`w-full h-full object-contain ${R.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),R.secondaryImage&&b.jsx("img",{src:R.secondaryImage,alt:`${R.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),b.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!R.stock&&b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:b.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:R.brand}),b.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:R.name}),b.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:R.description}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:R.notes.slice(0,3).map(W=>b.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),b.jsxs("div",{className:"mt-auto space-y-3",children:[!R.isSpray&&b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("button",{onClick:()=>I(R,"5ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[b.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),b.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price5ml.toLocaleString("es-CL")]})]}),b.jsxs("button",{onClick:()=>I(R,"10ml"),disabled:!R.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${R.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[b.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),b.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",R.price10ml.toLocaleString("es-CL")]})]})]}),R.priceFullBottle&&b.jsxs("button",{onClick:()=>N(R),disabled:!(c[R.id]!==void 0?c[R.id]>0:R.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[R.id]!==void 0?c[R.id]>0:R.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[b.jsx(nd,{size:14}),b.jsxs("span",{children:["Botella ",R.isSpray?"200ml":"100ml"," - $",R.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},R.id))});return b.jsxs("div",{className:"space-y-16 fade-in",children:[b.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),b.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),b.jsxs("div",{className:"relative w-full md:w-72",children:[b.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:L=>t(L.target.value)}),b.jsx(sp,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),b.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:b.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[b.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),v.map(L=>b.jsx("button",{onClick:()=>n(r===L?null:L),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===L?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:L},L))]})})]}),b.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),b.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),b.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",b.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),b.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),b.jsxs("ul",{className:"space-y-4 pt-2",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Zu,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Zu,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Zu,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:L=>L.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),b.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(PO,{fill:"#fbbf24",className:"text-amber-400",size:16}),b.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),b.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const L=W=>W.some(V=>c[V.id]!==void 0?c[V.id]>0:V.stock),z=[{id:"arab",hasStock:L(_),items:_,render:()=>b.jsxs("section",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:b.jsx(Ac,{size:24,className:"text-purple-600"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),b.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),M(_)]},"arab")},{id:"classic",hasStock:L(S),items:S,render:()=>b.jsxs("section",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:b.jsx(e6,{size:24,className:"text-stone-800"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),b.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),M(S)]},"classic")}].sort((W,V)=>W.hasStock===V.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return z.map((W,V)=>b.jsxs(Sr.Fragment,{children:[W.items.length>0&&W.render(),V===0&&z.length>1&&z[1].items.length>0&&z[0].items.length>0&&b.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),w.length===0&&b.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[b.jsx(nd,{size:48,className:"mx-auto text-stone-300 mb-4"}),b.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),b.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),b.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[b.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[b.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:b.jsx(l6,{size:32,className:"text-yellow-200"})}),b.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),b.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),b.jsxs("button",{onClick:k,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[b.jsx(ay,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),b.jsx(DM,{onSelectPerfume:m})]})},BM=()=>b.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[b.jsxs("div",{children:[b.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",b.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),b.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),b.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[b.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),b.jsxs("a",{href:`https://wa.me/${xc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[b.jsx(ay,{size:16})," WhatsApp: +56 9 8452 4774"]}),b.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),b.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),b.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[b.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),b.jsx("div",{className:"flex space-x-4",children:b.jsx("a",{href:w6,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:b.jsx(s6,{size:20})})})]})]}),b.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),FM=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],oc={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},UM=e=>{const t=e.toLowerCase();return FM.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},zM=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return oc.concepts;if(r.includes("oud")||r.includes("arabe"))return oc.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return oc.greeting;if(r.includes("precio")||r.includes("valor"))return oc.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return oc.shipping;const n=UM(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const s=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${s}

Quieres detalles de alguno?`}return oc.default},$M=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},WM=()=>{const[e,t]=O.useState(!1),[r,n]=O.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[i,s]=O.useState(""),[c,f]=O.useState(!1),p=O.useRef(null),m=()=>{p.current?.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{m()},[r,e]);const v=async()=>{if(!i.trim()||c)return;const S=i;n(I=>[...I,{role:"user",text:S}]),s(""),f(!0);const _=r.map(I=>`${I.role==="user"?"Usuario":"Bot"}: ${I.text}`);try{const I=await zM(S,_);n(N=>[...N,{role:"bot",text:I}])}catch{n(N=>[...N,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}f(!1)},w=S=>{S.key==="Enter"&&v()};return b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?b.jsx($a,{color:"white"}):b.jsx(Ac,{color:"white"})}),e&&b.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[b.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[b.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:b.jsx(Ac,{size:16,className:"text-yellow-400"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),b.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((S,_)=>b.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${S.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:S.text})},_)),c&&b.jsx("div",{className:"flex justify-start",children:b.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[b.jsx(rd,{size:16,className:"animate-spin text-stone-400"}),b.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),b.jsx("div",{ref:p})]}),b.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[b.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),onKeyDown:w,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),b.jsx("button",{onClick:v,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:b.jsx(IO,{size:16})})]})]})]})},VM=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(O.useEffect(()=>{window.scrollTo(0,0)},[]),b.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),b.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:b.jsx(ny,{size:40,strokeWidth:2.5})}),b.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),b.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&b.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[b.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[b.jsx(OO,{size:14})," Direccin del Servicio"]}),b.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),b.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[b.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[b.jsx(i6,{size:20}),"Regresar al Inicio"]}),b.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[b.jsx(nd,{size:20}),b.jsxs("span",{children:["Venta de Perfumes ",b.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),HM=()=>b.jsx("section",{className:"py-24 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:S6.map(e=>b.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[b.jsx(u6,{className:"absolute top-6 right-6 text-stone-200",size:40}),b.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>b.jsx(PO,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),b.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),b.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),b.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),b.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var qM=Object.defineProperty,Jh=Object.getOwnPropertySymbols,ZN=Object.prototype.hasOwnProperty,QN=Object.prototype.propertyIsEnumerable,JE=(e,t,r)=>t in e?qM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vv=(e,t)=>{for(var r in t||(t={}))ZN.call(t,r)&&JE(e,r,t[r]);if(Jh)for(var r of Jh(t))QN.call(t,r)&&JE(e,r,t[r]);return e},Hv=(e,t)=>{var r={};for(var n in e)ZN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Jh)for(var n of Jh(e))t.indexOf(n)<0&&QN.call(e,n)&&(r[n]=e[n]);return r};var ml;(e=>{const t=class kt{constructor(p,m,v,w){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<kt.MIN_VERSION||p>kt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let I=0;I<this.size;I++)S.push(!1);for(let I=0;I<this.size;I++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(v);if(this.drawCodewords(_),w==-1){let I=1e9;for(let N=0;N<8;N++){this.applyMask(N),this.drawFormatBits(N);const k=this.getPenaltyScore();k<I&&(w=N,I=k),this.applyMask(N)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(p,m){const v=e.QrSegment.makeSegments(p);return kt.encodeSegments(v,m)}static encodeBinary(p,m){const v=e.QrSegment.makeBytes(p);return kt.encodeSegments([v],m)}static encodeSegments(p,m,v=1,w=40,S=-1,_=!0){if(!(kt.MIN_VERSION<=v&&v<=w&&w<=kt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let I,N;for(I=v;;I++){const R=kt.getNumDataCodewords(I,m)*8,z=c.getTotalBits(p,I);if(z<=R){N=z;break}if(I>=w)throw new RangeError("Data too long")}for(const R of[kt.Ecc.MEDIUM,kt.Ecc.QUARTILE,kt.Ecc.HIGH])_&&N<=kt.getNumDataCodewords(I,R)*8&&(m=R);let k=[];for(const R of p){r(R.mode.modeBits,4,k),r(R.numChars,R.mode.numCharCountBits(I),k);for(const z of R.getData())k.push(z)}i(k.length==N);const M=kt.getNumDataCodewords(I,m)*8;i(k.length<=M),r(0,Math.min(4,M-k.length),k),r(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let R=236;k.length<M;R^=253)r(R,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((R,z)=>L[z>>>3]|=R<<7-(z&7)),new kt(I,m,L,S)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let v=0;v<m;v++)for(let w=0;w<m;w++)v==0&&w==0||v==0&&w==m-1||v==m-1&&w==0||this.drawAlignmentPattern(p[v],p[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let v=m;for(let S=0;S<10;S++)v=v<<1^(v>>>9)*1335;const w=(m<<10|v)^21522;i(w>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,n(w,S));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,n(w,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,n(w,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,n(w,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let v=0;v<12;v++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;i(m>>>18==0);for(let v=0;v<18;v++){const w=n(m,v),S=this.size-11+v%3,_=Math.floor(v/3);this.setFunctionModule(S,_,w),this.setFunctionModule(_,S,w)}}drawFinderPattern(p,m){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const S=Math.max(Math.abs(w),Math.abs(v)),_=p+w,I=m+v;0<=_&&_<this.size&&0<=I&&I<this.size&&this.setFunctionModule(_,I,S!=2&&S!=4)}}drawAlignmentPattern(p,m){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(p+w,m+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(p,m,v){this.modules[m][p]=v,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,v=this.errorCorrectionLevel;if(p.length!=kt.getNumDataCodewords(m,v))throw new RangeError("Invalid argument");const w=kt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m],S=kt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m],_=Math.floor(kt.getNumRawDataModules(m)/8),I=w-_%w,N=Math.floor(_/w);let k=[];const M=kt.reedSolomonComputeDivisor(S);for(let R=0,z=0;R<w;R++){let W=p.slice(z,z+N-S+(R<I?0:1));z+=W.length;const V=kt.reedSolomonComputeRemainder(W,M);R<I&&W.push(0),k.push(W.concat(V))}let L=[];for(let R=0;R<k[0].length;R++)k.forEach((z,W)=>{(R!=N-S||W>=I)&&L.push(z[R])});return i(L.length==_),L}drawCodewords(p){if(p.length!=Math.floor(kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let S=0;S<2;S++){const _=v-S,N=(v+1&2)==0?this.size-1-w:w;!this.isFunction[N][_]&&m<p.length*8&&(this.modules[N][_]=n(p[m>>>3],7-(m&7)),m++)}}i(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let v=0;v<this.size;v++){let w;switch(p){case 0:w=(v+m)%2==0;break;case 1:w=m%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+m)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(m/2))%2==0;break;case 5:w=v*m%2+v*m%3==0;break;case 6:w=(v*m%2+v*m%3)%2==0;break;case 7:w=((v+m)%2+v*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][v]&&w&&(this.modules[m][v]=!this.modules[m][v])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let _=!1,I=0,N=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[S][k]==_?(I++,I==5?p+=kt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,N),_||(p+=this.finderPenaltyCountPatterns(N)*kt.PENALTY_N3),_=this.modules[S][k],I=1);p+=this.finderPenaltyTerminateAndCount(_,I,N)*kt.PENALTY_N3}for(let S=0;S<this.size;S++){let _=!1,I=0,N=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][S]==_?(I++,I==5?p+=kt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,N),_||(p+=this.finderPenaltyCountPatterns(N)*kt.PENALTY_N3),_=this.modules[k][S],I=1);p+=this.finderPenaltyTerminateAndCount(_,I,N)*kt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let _=0;_<this.size-1;_++){const I=this.modules[S][_];I==this.modules[S][_+1]&&I==this.modules[S+1][_]&&I==this.modules[S+1][_+1]&&(p+=kt.PENALTY_N2)}let m=0;for(const S of this.modules)m=S.reduce((_,I)=>_+(I?1:0),m);const v=this.size*this.size,w=Math.ceil(Math.abs(m*20-v*10)/v)-1;return i(0<=w&&w<=9),p+=w*kt.PENALTY_N4,i(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let v=[6];for(let w=this.size-7;v.length<p;w-=m)v.splice(1,0,w);return v}}static getNumRawDataModules(p){if(p<kt.MIN_VERSION||p>kt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const v=Math.floor(p/7)+2;m-=(25*v-10)*v-55,p>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(kt.getNumRawDataModules(p)/8)-kt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*kt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let w=0;w<p-1;w++)m.push(0);m.push(1);let v=1;for(let w=0;w<p;w++){for(let S=0;S<m.length;S++)m[S]=kt.reedSolomonMultiply(m[S],v),S+1<m.length&&(m[S]^=m[S+1]);v=kt.reedSolomonMultiply(v,2)}return m}static reedSolomonComputeRemainder(p,m){let v=m.map(w=>0);for(const w of p){const S=w^v.shift();v.push(0),m.forEach((_,I)=>v[I]^=kt.reedSolomonMultiply(_,S))}return v}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(m>>>w&1)*p;return i(v>>>8==0),v}finderPenaltyCountPatterns(p){const m=p[1];i(m<=this.size*3);const v=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(v&&p[0]>=m*4&&p[6]>=m?1:0)+(v&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,v){return p&&(this.finderPenaltyAddHistory(m,v),m=0),m+=this.size,this.finderPenaltyAddHistory(m,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,p,m){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)m.push(f>>>v&1)}function n(f,p){return(f>>>p&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const s=class Fr{constructor(p,m,v){if(this.mode=p,this.numChars=m,this.bitData=v,m<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(p){let m=[];for(const v of p)r(v,8,m);return new Fr(Fr.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!Fr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let v=0;v<p.length;){const w=Math.min(p.length-v,3);r(parseInt(p.substring(v,v+w),10),w*3+1,m),v+=w}return new Fr(Fr.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!Fr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],v;for(v=0;v+2<=p.length;v+=2){let w=Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v))*45;w+=Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v+1)),r(w,11,m)}return v<p.length&&r(Fr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v)),6,m),new Fr(Fr.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:Fr.isNumeric(p)?[Fr.makeNumeric(p)]:Fr.isAlphanumeric(p)?[Fr.makeAlphanumeric(p)]:[Fr.makeBytes(Fr.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,m);else if(p<16384)r(2,2,m),r(p,14,m);else if(p<1e6)r(6,3,m),r(p,21,m);else throw new RangeError("ECI assignment value out of range");return new Fr(Fr.Mode.ECI,0,m)}static isNumeric(p){return Fr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Fr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let v=0;for(const w of p){const S=w.mode.numCharCountBits(m);if(w.numChars>=1<<S)return 1/0;v+=4+S+w.bitData.length}return v}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let v=0;v<p.length;v++)p.charAt(v)!="%"?m.push(p.charCodeAt(v)):(m.push(parseInt(p.substring(v+1,v+3),16)),v+=2);return m}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=s;e.QrSegment=s})(ml||(ml={}));(e=>{(t=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(ml||(ml={}));(e=>{(t=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(ml||(ml={}));var pc=ml;var GM={L:pc.QrCode.Ecc.LOW,M:pc.QrCode.Ecc.MEDIUM,Q:pc.QrCode.Ecc.QUARTILE,H:pc.QrCode.Ecc.HIGH},JN=128,eI="L",tI="#FFFFFF",rI="#000000",nI=!1,iI=1,KM=4,XM=0,YM=.1;function aI(e,t=0){const r=[];return e.forEach(function(n,i){let s=null;n.forEach(function(c,f){if(!c&&s!==null){r.push(`M${s+t} ${i+t}h${f-s}v1H${s+t}z`),s=null;return}if(f===n.length-1){if(!c)return;s===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${s+t},${i+t} h${f+1-s}v1H${s+t}z`);return}c&&s===null&&(s=f)})}),r.join("")}function sI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function ZM(e,t,r,n){if(n==null)return null;const i=e.length+r*2,s=Math.floor(t*YM),c=i/t,f=(n.width||s)*c,p=(n.height||s)*c,m=n.x==null?e.length/2-f/2:n.x*c,v=n.y==null?e.length/2-p/2:n.y*c,w=n.opacity==null?1:n.opacity;let S=null;if(n.excavate){let I=Math.floor(m),N=Math.floor(v),k=Math.ceil(f+m-I),M=Math.ceil(p+v-N);S={x:I,y:N,w:k,h:M}}const _=n.crossOrigin;return{x:m,y:v,h:p,w:f,excavation:S,opacity:w,crossOrigin:_}}function QM(e,t){return t!=null?Math.max(Math.floor(t),0):e?KM:XM}function oI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:c,boostLevel:f}){let p=Sr.useMemo(()=>{const I=(Array.isArray(e)?e:[e]).reduce((N,k)=>(N.push(...pc.QrSegment.makeSegments(k)),N),[]);return pc.QrCode.encodeSegments(I,GM[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:m,margin:v,numCells:w,calculatedImageSettings:S}=Sr.useMemo(()=>{let _=p.getModules();const I=QM(n,i),N=_.length+I*2,k=ZM(_,c,I,s);return{cells:_,margin:I,numCells:N,calculatedImageSettings:k}},[p,c,s,n,i]);return{qrcode:p,margin:v,cells:m,numCells:w,calculatedImageSettings:S}}var JM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),eD=Sr.forwardRef(function(t,r){const n=t,{value:i,size:s=JN,level:c=eI,bgColor:f=tI,fgColor:p=rI,includeMargin:m=nI,minVersion:v=iI,boostLevel:w,marginSize:S,imageSettings:_}=n,N=Hv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=N,M=Hv(N,["style"]),L=_?.src,R=Sr.useRef(null),z=Sr.useRef(null),W=Sr.useCallback(ke=>{R.current=ke,typeof r=="function"?r(ke):r&&(r.current=ke)},[r]),[V,H]=Sr.useState(!1),{margin:ne,cells:Y,numCells:Ae,calculatedImageSettings:pe}=oI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:S,imageSettings:_,size:s});Sr.useEffect(()=>{if(R.current!=null){const ke=R.current,re=ke.getContext("2d");if(!re)return;let De=Y;const oe=z.current,ve=pe!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;ve&&pe.excavation!=null&&(De=sI(Y,pe.excavation));const we=window.devicePixelRatio||1;ke.height=ke.width=s*we;const be=s/Ae*we;re.scale(be,be),re.fillStyle=f,re.fillRect(0,0,Ae,Ae),re.fillStyle=p,JM?re.fill(new Path2D(aI(De,ne))):Y.forEach(function(Q,ue){Q.forEach(function(Be,Le){Be&&re.fillRect(Le+ne,ue+ne,1,1)})}),pe&&(re.globalAlpha=pe.opacity),ve&&re.drawImage(oe,pe.x+ne,pe.y+ne,pe.w,pe.h)}}),Sr.useEffect(()=>{H(!1)},[L]);const de=Vv({height:s,width:s},k);let Se=null;return L!=null&&(Se=Sr.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{H(!0)},ref:z,crossOrigin:pe?.crossOrigin})),Sr.createElement(Sr.Fragment,null,Sr.createElement("canvas",Vv({style:de,height:s,width:s,ref:W,role:"img"},M)),Se)});eD.displayName="QRCodeCanvas";var gy=Sr.forwardRef(function(t,r){const n=t,{value:i,size:s=JN,level:c=eI,bgColor:f=tI,fgColor:p=rI,includeMargin:m=nI,minVersion:v=iI,boostLevel:w,title:S,marginSize:_,imageSettings:I}=n,N=Hv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:M,numCells:L,calculatedImageSettings:R}=oI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:_,imageSettings:I,size:s});let z=M,W=null;I!=null&&R!=null&&(R.excavation!=null&&(z=sI(M,R.excavation)),W=Sr.createElement("image",{href:I.src,height:R.h,width:R.w,x:R.x+k,y:R.y+k,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const V=aI(z,k);return Sr.createElement("svg",Vv({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},N),!!S&&Sr.createElement("title",null,S),Sr.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),Sr.createElement("path",{fill:p,d:V,shapeRendering:"crispEdges"}),W)});gy.displayName="QRCodeSVG";const tD=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[s,c]=O.useState(!1),p=(v=>{switch(v==="Silver"&&(v="Bronce"),v){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return b.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!s),children:[b.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${s?"rotate-y-180":""}`,children:[b.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[560px] border border-stone-800",children:[b.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",b.jsx("span",{className:"text-amber-500",children:"Style"})]}),b.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:p.name})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),b.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),b.jsxs("div",{className:"px-6 py-4 z-10",children:[b.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((v,w)=>b.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${w<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:w<r&&b.jsx(Zu,{size:20,className:"text-stone-950 stroke-[4]"})},w))}),b.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[b.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),b.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),b.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),b.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),b.jsx("div",{className:"w-px h-10 bg-stone-800"}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),b.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),b.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[b.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),b.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),b.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[b.jsx(gy,{value:t,size:160,level:"M"}),b.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]})]}),b.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${p.bgGradient} z-0`})]}),b.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[560px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[b.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),b.jsx(r6,{className:"text-stone-500"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),b.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),b.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),b.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),b.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),b.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),b.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),b.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},rD=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(!1),[i,s]=O.useState(null),[c,f]=O.useState(!1),[p,m]=O.useState(""),[v,w]=O.useState(""),[S,_]=O.useState(""),I=L=>{let R=L.replace(/[^0-9kK]/g,"").toUpperCase();return R=R.replace("K","0"),R},N=L=>{const R=L.target.value.replace(/[^0-9]/g,"");R.length<=8&&t(R)},k=async L=>{L&&L.preventDefault();const z=new URLSearchParams(window.location.search).get("token");if(!(!z&&e.length<8)){n(!0);try{let W=it.from("clients").select("*");z?W=W.eq("member_token",z):W=W.eq("phone","+569"+e);const{data:V,error:H}=await W.single();if(V){const ne=V.visits||0;let Y="Bronce";ne>=10?Y="Gold":ne>=5&&(Y="Plata"),s({name:V.name,visits:ne,referrals:V.referrals,nextReward:ne<5?5:ne<10?10:15,token:V.member_token,tier:Y,hair_service_count:V.hair_service_count||0}),f(!1)}else z||f(!0)}catch(W){console.error("Error checking loyalty:",W)}finally{n(!1)}}},M=async L=>{L.preventDefault(),n(!0);try{const R=I(S),z="+569"+e,{data:W,error:V}=await it.from("clients").insert([{name:`${p} ${v}`,phone:z,rut:R,visits:0,referrals:0,hair_service_count:0}]).select();if(V)throw V;if(W&&W[0]){const H=W[0];s({name:H.name,visits:0,referrals:0,nextReward:5,token:H.member_token,tier:"Bronce",hair_service_count:0}),f(!1)}}catch(R){console.error("Error registering:",R),alert("No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return Sr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&k()},[]),b.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),b.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),b.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!i&&!c&&b.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[b.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),b.jsxs("form",{onSubmit:k,className:"space-y-4",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-500 font-mono text-lg z-10 pointer-events-none border-r border-stone-800 pr-3 h-6 flex items-center",children:"+569"}),b.jsx("input",{type:"tel",value:e,onChange:N,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 pl-[5.5rem] pr-12 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono tracking-normal md:tracking-widest text-lg"}),b.jsx(sp,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]}),b.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?b.jsx(rd,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!i&&c&&b.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:b.jsx(sy,{size:24})}),b.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),b.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",b.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),b.jsxs("form",{onSubmit:M,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:p,onChange:L=>m(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),b.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:v,onChange:L=>w(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),b.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:S,onChange:L=>_(L.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),b.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?b.jsx(rd,{className:"animate-spin"}):"Registrarme"}),b.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),i&&b.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[b.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:b.jsx(tD,{clientName:i.name||"Miembro Exclusivo",token:i.token||"pending-token",visits:i.visits,nextReward:5,tier:i.tier})}),b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("p",{className:"text-sm text-stone-400",children:i.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),b.jsx("button",{onClick:()=>{s(null),t(""),f(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},nD=({onLogin:e})=>{const[t,r]=O.useState(""),[n,i]=O.useState(""),[s,c]=O.useState(""),[f,p]=O.useState(!1),m=async v=>{v.preventDefault(),c(""),p(!0);try{if(await new Promise(w=>setTimeout(w,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(w){console.error(w),c("Error local simulado")}finally{p(!1)}};return b.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[b.jsx(TO,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),b.jsxs("form",{onSubmit:m,className:"space-y-4",children:[b.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),b.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),s&&b.jsx("p",{className:"text-red-500 text-sm",children:s}),b.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),b.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var Ve;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var eA=new Map([[Ve.QR_CODE,"QR_CODE"],[Ve.AZTEC,"AZTEC"],[Ve.CODABAR,"CODABAR"],[Ve.CODE_39,"CODE_39"],[Ve.CODE_93,"CODE_93"],[Ve.CODE_128,"CODE_128"],[Ve.DATA_MATRIX,"DATA_MATRIX"],[Ve.MAXICODE,"MAXICODE"],[Ve.ITF,"ITF"],[Ve.EAN_13,"EAN_13"],[Ve.EAN_8,"EAN_8"],[Ve.PDF_417,"PDF_417"],[Ve.RSS_14,"RSS_14"],[Ve.RSS_EXPANDED,"RSS_EXPANDED"],[Ve.UPC_A,"UPC_A"],[Ve.UPC_E,"UPC_E"],[Ve.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),tA;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(tA||(tA={}));function iD(e){return Object.values(Ve).includes(e)}var e0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(e0||(e0={}));var aD=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[e0.SCAN_TYPE_CAMERA,e0.SCAN_TYPE_FILE],e})(),lI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!eA.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,eA.get(t))},e})(),rA=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),qv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qv||(qv={}));var sD=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:qv.UNKWOWN_ERROR}},e})(),oD=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function ms(e){return typeof e>"u"||e===null}var mc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),cI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(t),f=0,p=c;f<p.length;f++){var m=p[f];if(s.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Gu={exports:{}},lD=Gu.exports,nA;function cD(){return nA||(nA=1,(function(e,t){(function(r,n){n(t)})(lD,(function(r){function n(B){return B==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,a){B.__proto__=a}||function(B,a){for(var l in a)a.hasOwnProperty(l)&&(B[l]=a[l])};function s(B,a){i(B,a);function l(){this.constructor=B}B.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function c(B,a){var l=Object.setPrototypeOf;l?l(B,a):B.__proto__=a}function f(B,a){a===void 0&&(a=B.constructor);var l=Error.captureStackTrace;l&&l(B,a)}var p=(function(B){s(a,B);function a(l){var u=this.constructor,h=B.call(this,l)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),c(h,u.prototype),f(h),h}return a})(Error);class m extends p{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class S{constructor(a){if(this.binarizer=a,a===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,u,h){const g=this.binarizer.getLuminanceSource().crop(a,l,u,h);return new S(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends m{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class I{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(a,l,u,h,g){for(;g--;)u[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class M extends k{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}M.kind="ArrayIndexOutOfBoundsException";class L{static fill(a,l){for(let u=0,h=a.length;u<h;u++)a[u]=l}static fillWithin(a,l,u,h){L.rangeCheck(a.length,l,u);for(let g=l;g<u;g++)a[g]=h}static rangeCheck(a,l,u){if(l>u)throw new w("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new M(l);if(u>a)throw new M(u)}static asList(...a){return a}static create(a,l,u){return Array.from({length:a}).map(g=>Array.from({length:l}).fill(u))}static createInt32Array(a,l,u){return Array.from({length:a}).map(g=>Int32Array.from({length:l}).fill(u))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==l[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const u of a)l=31*l+u;return l}static fillUint8Array(a,l){for(let u=0;u!==a.length;u++)a[u]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const u=new Uint8Array(l);return u.set(a),u}return a.slice(0,l)}static copyOfRange(a,l,u){const h=u-l,g=new Int32Array(h);return N.arraycopy(a,l,g,0,h),g}static binarySearch(a,l,u){u===void 0&&(u=L.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const x=g+h>>1,E=u(l,a[x]);if(E>0)h=x+1;else if(E<0)g=x-1;else return x}return-h-1}static numberComparator(a,l){return a-l}}class R{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let u=31;return l=a<<16,l!==0&&(u-=16,a=l),l=a<<8,l!==0&&(u-=8,a=l),l=a<<4,l!==0&&(u-=4,a=l),l=a<<2,l!==0&&(u-=2,a=l),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=z.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=z.makeArray(a);N.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return l;g=u[h]}const E=h*32+R.numberOfTrailingZeros(g);return E>l?l:E}getNextUnset(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return l;g=~u[h]}const E=h*32+R.numberOfTrailingZeros(g);return E>l?l:E}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new w;if(l===a)return;l--;const u=Math.floor(a/32),h=Math.floor(l/32),g=this.bits;for(let x=u;x<=h;x++){const E=x>u?0:a&31,T=(2<<(x<h?31:l&31))-(1<<E);g[x]|=T}}clear(){const a=this.bits.length,l=this.bits;for(let u=0;u<a;u++)l[u]=0}isRange(a,l,u){if(l<a||a<0||l>this.size)throw new w;if(l===a)return!0;l--;const h=Math.floor(a/32),g=Math.floor(l/32),x=this.bits;for(let E=h;E<=g;E++){const C=E>h?0:a&31,D=(2<<(E<g?31:l&31))-(1<<C)&4294967295;if((x[E]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new w("Sizes don't match");const l=this.bits;for(let u=0,h=l.length;u<h;u++)l[u]^=a.bits[u]}toBytes(a,l,u,h){for(let g=0;g<h;g++){let x=0;for(let E=0;E<8;E++)this.get(a)&&(x|=1<<7-E),a++;l[u+g]=x}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,h=this.bits;for(let g=0;g<u;g++){let x=h[g];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,a[l-g]=x}if(this.size!==u*32){const g=u*32-this.size;let x=a[0]>>>g;for(let E=1;E<u;E++){const C=a[E];x|=C<<32-g,a[E-1]=x,x=C>>>g}a[u-1]=x}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof z))return!1;const l=a;return this.size===l.size&&L.equals(this.bits,l.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let a="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new z(this.size,this.bits.slice())}}var W;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class H extends m{static getFormatInstance(){return new H}}H.kind="FormatException";var ne;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(ne||(ne={}));class Y{constructor(a,l,u,...h){this.valueIdentifier=a,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,Y.VALUE_IDENTIFIER_TO_ECI.set(a,this),Y.NAME_TO_ECI.set(u,this);const g=this.values;for(let x=0,E=g.length;x!==E;x++){const C=g[x];Y.VALUES_TO_ECI.set(C,this)}for(const x of h)Y.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new H("incorect value");const l=Y.VALUES_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}static getCharacterSetECIByName(a){const l=Y.NAME_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}equals(a){if(!(a instanceof Y))return!1;const l=a;return this.getName()===l.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(ne.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(ne.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(ne.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(ne.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(ne.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(ne.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(ne.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(ne.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(ne.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(ne.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(ne.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(ne.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(ne.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(ne.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(ne.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(ne.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(ne.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(ne.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(ne.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(ne.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(ne.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(ne.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(ne.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(ne.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(ne.Big5,28,"Big5"),Y.GB18030=new Y(ne.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(ne.EUC_KR,30,"EUC_KR","EUC-KR");class Ae extends m{}Ae.kind="UnsupportedOperationException";class pe{static decode(a,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!pe.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof Y?a:Y.getCharacterSetECIByName(a)}static decodeFallback(a,l){const u=this.encodingCharacterSet(l);if(pe.isDecodeFallbackSupported(u)){let h="";for(let g=0,x=a.length;g<x;g++){let E=a[g].toString(16);E.length<2&&(E="0"+E),h+="%"+E}return decodeURIComponent(h)}if(u.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new Ae(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(Y.UTF8)||a.equals(Y.ISO8859_1)||a.equals(Y.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class de{static castAsNonUtf8Char(a,l=null){const u=l?l.getName():this.ISO88591;return pe.decode(new Uint8Array([a]),u)}static guessEncoding(a,l){if(l!=null&&l.get(V.CHARACTER_SET)!==void 0)return l.get(V.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,x=!0,E=0,C=0,T=0,D=0,F=0,$=0,G=0,Z=0,ee=0,ie=0,fe=0;const Pe=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let je=0;je<u&&(h||g||x);je++){const Oe=a[je]&255;x&&(E>0?(Oe&128)===0?x=!1:E--:(Oe&128)!==0&&((Oe&64)===0?x=!1:(E++,(Oe&32)===0?C++:(E++,(Oe&16)===0?T++:(E++,(Oe&8)===0?D++:x=!1))))),h&&(Oe>127&&Oe<160?h=!1:Oe>159&&(Oe<192||Oe===215||Oe===247)&&fe++),g&&(F>0?Oe<64||Oe===127||Oe>252?g=!1:F--:Oe===128||Oe===160||Oe>239?g=!1:Oe>160&&Oe<224?($++,Z=0,G++,G>ee&&(ee=G)):Oe>127?(F++,G=0,Z++,Z>ie&&(ie=Z)):(G=0,Z=0))}return x&&E>0&&(x=!1),g&&F>0&&(g=!1),x&&(Pe||C+T+D>0)?de.UTF8:g&&(de.ASSUME_SHIFT_JIS||ee>=3||ie>=3)?de.SHIFT_JIS:h&&g?ee===2&&$===2||fe*10>=u?de.SHIFT_JIS:de.ISO88591:h?de.ISO88591:g?de.SHIFT_JIS:x?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let u=-1;function h(x,E,C,T,D,F){if(x==="%%")return"%";if(l[++u]===void 0)return;x=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,G;switch(F){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(x);break;case"p":G=parseFloat(l[u]).toPrecision(x);break;case"e":G=parseFloat(l[u]).toExponential(x);break;case"x":G=parseInt(l[u]).toString($||16);break;case"d":G=parseFloat(parseInt(l[u],$||10).toPrecision(x)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString($);let Z=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;G.length<Z;)G=E!==void 0?G+ee:ee+G;return G}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,l){return pe.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}de.SHIFT_JIS=Y.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=Y.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=Y.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Se{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=de.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,u){for(let h=l;l<l+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class ke{constructor(a,l,u,h){if(this.width=a,this.height=l,this.rowSize=u,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new w("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,u=a[0].length,h=new ke(u,l);for(let g=0;g<l;g++){const x=a[g];for(let E=0;E<u;E++)x[E]&&h.set(E,g)}return h}static parseFromString(a,l,u){if(a===null)throw new w("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,x=0,E=-1,C=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(g>x){if(E===-1)E=g-x;else if(g-x!==E)throw new w("row lengths do not match");x=g,C++}T++}else if(a.substring(T,T+l.length)===l)T+=l.length,h[g]=!0,g++;else if(a.substring(T,T+u.length)===u)T+=u.length,h[g]=!1,g++;else throw new w("illegal character encountered: "+a.substring(T));if(g>x){if(E===-1)E=g-x;else if(g-x!==E)throw new w("row lengths do not match");C++}const D=new ke(E,C);for(let F=0;F<g;F++)h[F]&&D.set(Math.floor(F%E),Math.floor(F/E));return D}get(a,l){const u=l*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new w("input matrix dimensions do not match");const l=new z(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,x=this.height;g<x;g++){const E=g*u,C=a.getRow(g,l).getBitArray();for(let T=0;T<u;T++)h[E+T]^=C[T]}}clear(){const a=this.bits,l=a.length;for(let u=0;u<l;u++)a[u]=0}setRegion(a,l,u,h){if(l<0||a<0)throw new w("Left and top must be nonnegative");if(h<1||u<1)throw new w("Height and width must be at least 1");const g=a+u,x=l+h;if(x>this.height||g>this.width)throw new w("The region must fit inside the matrix");const E=this.rowSize,C=this.bits;for(let T=l;T<x;T++){const D=T*E;for(let F=a;F<g;F++)C[D+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new z(this.width):l.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let x=0;x<u;x++)l.setBulk(x*32,h[g+x]);return l}setRow(a,l){N.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let u=new z(a),h=new z(a);for(let g=0,x=Math.floor((l+1)/2);g<x;g++)u=this.getRow(g,u),h=this.getRow(l-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(l-1-g,u)}getEnclosingRectangle(){const a=this.width,l=this.height,u=this.rowSize,h=this.bits;let g=a,x=l,E=-1,C=-1;for(let T=0;T<l;T++)for(let D=0;D<u;D++){const F=h[T*u+D];if(F!==0){if(T<x&&(x=T),T>C&&(C=T),D*32<g){let $=0;for(;(F<<31-$&4294967295)===0;)$++;D*32+$<g&&(g=D*32+$)}if(D*32+31>E){let $=31;for(;!(F>>>$);)$--;D*32+$>E&&(E=D*32+$)}}}return E<g||C<x?null:Int32Array.from([g,x,E-g+1,C-x+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const h=u/a;let g=u%a*32;const x=l[u];let E=0;for(;(x<<31-E&4294967295)===0;)E++;return g+=E,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const x=l[u];let E=31;for(;!(x>>>E);)E--;return g+=E,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ke))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&L.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+L.hashCode(this.bits),a}toString(a="X ",l="  ",u=`
`){return this.buildToString(a,l,u)}buildToString(a,l,u){let h=new Se;for(let g=0,x=this.height;g<x;g++){for(let E=0,C=this.width;E<C;E++)h.append(this.get(E,g)?a:l);h.append(u)}return h.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends m{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class De extends I{constructor(a){super(a),this.luminances=De.EMPTY,this.buckets=new Int32Array(De.LUMINANCE_BUCKETS)}getBlackRow(a,l){const u=this.getLuminanceSource(),h=u.getWidth();l==null||l.getSize()<h?l=new z(h):l.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),x=this.buckets;for(let C=0;C<h;C++)x[(g[C]&255)>>De.LUMINANCE_SHIFT]++;const E=De.estimateBlackPoint(x);if(h<3)for(let C=0;C<h;C++)(g[C]&255)<E&&l.set(C);else{let C=g[0]&255,T=g[1]&255;for(let D=1;D<h-1;D++){const F=g[D+1]&255;(T*4-C-F)/2<E&&l.set(D),C=T,T=F}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight(),h=new ke(l,u);this.initArrays(l);const g=this.buckets;for(let C=1;C<5;C++){const T=Math.floor(u*C/5),D=a.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<F;$++){const G=D[$]&255;g[G>>De.LUMINANCE_SHIFT]++}}const x=De.estimateBlackPoint(g),E=a.getMatrix();for(let C=0;C<u;C++){const T=C*l;for(let D=0;D<l;D++)(E[T+D]&255)<x&&h.set(D,C)}return h}createBinarizer(a){return new De(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let u=0;u<De.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(a){const l=a.length;let u=0,h=0,g=0;for(let D=0;D<l;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let x=0,E=0;for(let D=0;D<l;D++){const F=D-h,$=a[D]*F*F;$>E&&(x=D,E=$)}if(h>x){const D=h;h=x,x=D}if(x-h<=l/16)throw new re;let C=x-1,T=-1;for(let D=x-1;D>h;D--){const F=D-h,$=F*F*(x-D)*(u-a[D]);$>T&&(C=D,T=$)}return C<<De.LUMINANCE_SHIFT}}De.LUMINANCE_BITS=5,De.LUMINANCE_SHIFT=8-De.LUMINANCE_BITS,De.LUMINANCE_BUCKETS=1<<De.LUMINANCE_BITS,De.EMPTY=Uint8ClampedArray.from([0]);class oe extends De{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight();if(l>=oe.MINIMUM_DIMENSION&&u>=oe.MINIMUM_DIMENSION){const h=a.getMatrix();let g=l>>oe.BLOCK_SIZE_POWER;(l&oe.BLOCK_SIZE_MASK)!==0&&g++;let x=u>>oe.BLOCK_SIZE_POWER;(u&oe.BLOCK_SIZE_MASK)!==0&&x++;const E=oe.calculateBlackPoints(h,g,x,l,u),C=new ke(l,u);oe.calculateThresholdForBlock(h,g,x,l,u,E,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new oe(a)}static calculateThresholdForBlock(a,l,u,h,g,x,E){const C=g-oe.BLOCK_SIZE,T=h-oe.BLOCK_SIZE;for(let D=0;D<u;D++){let F=D<<oe.BLOCK_SIZE_POWER;F>C&&(F=C);const $=oe.cap(D,2,u-3);for(let G=0;G<l;G++){let Z=G<<oe.BLOCK_SIZE_POWER;Z>T&&(Z=T);const ee=oe.cap(G,2,l-3);let ie=0;for(let Pe=-2;Pe<=2;Pe++){const je=x[$+Pe];ie+=je[ee-2]+je[ee-1]+je[ee]+je[ee+1]+je[ee+2]}const fe=ie/25;oe.thresholdBlock(a,Z,F,fe,h,E)}}}static cap(a,l,u){return a<l?l:a>u?u:a}static thresholdBlock(a,l,u,h,g,x){for(let E=0,C=u*g+l;E<oe.BLOCK_SIZE;E++,C+=g)for(let T=0;T<oe.BLOCK_SIZE;T++)(a[C+T]&255)<=h&&x.set(l+T,u+E)}static calculateBlackPoints(a,l,u,h,g){const x=g-oe.BLOCK_SIZE,E=h-oe.BLOCK_SIZE,C=new Array(u);for(let T=0;T<u;T++){C[T]=new Int32Array(l);let D=T<<oe.BLOCK_SIZE_POWER;D>x&&(D=x);for(let F=0;F<l;F++){let $=F<<oe.BLOCK_SIZE_POWER;$>E&&($=E);let G=0,Z=255,ee=0;for(let fe=0,Pe=D*h+$;fe<oe.BLOCK_SIZE;fe++,Pe+=h){for(let je=0;je<oe.BLOCK_SIZE;je++){const Oe=a[Pe+je]&255;G+=Oe,Oe<Z&&(Z=Oe),Oe>ee&&(ee=Oe)}if(ee-Z>oe.MIN_DYNAMIC_RANGE)for(fe++,Pe+=h;fe<oe.BLOCK_SIZE;fe++,Pe+=h)for(let je=0;je<oe.BLOCK_SIZE;je++)G+=a[Pe+je]&255}let ie=G>>oe.BLOCK_SIZE_POWER*2;if(ee-Z<=oe.MIN_DYNAMIC_RANGE&&(ie=Z/2,T>0&&F>0)){const fe=(C[T-1][F]+2*C[T][F-1]+C[T-1][F-1])/4;Z<fe&&(ie=fe)}C[T][F]=ie}}return C}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class ve{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,u,h){throw new Ae("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ae("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ae("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new Se;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const x=h[g]&255;let E;x<64?E="#":x<128?E="+":x<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class we extends ve{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const u=this.delegate.getRow(a,l),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let h=0;h<l;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,u,h){return new we(this.delegate.crop(a,l,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new we(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new we(this.delegate.rotateCounterClockwise45())}}class be extends ve{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return be.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,u){const h=new Uint8ClampedArray(l*u);for(let g=0,x=0,E=a.length;g<E;g+=4,x++){let C;if(a[g+3]===0)C=255;else{const D=a[g],F=a[g+1],$=a[g+2];C=306*D+601*F+117*$+512>>10}h[x]=C}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return l===null?l=this.buffer.slice(h,h+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(h,h+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,u,h){return super.crop(a,l,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),u=l.getContext("2d"),h=a*be.DEGREE_TO_RADIANS,g=this.canvas.width,x=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*x),C=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*x);return l.width=E,l.height=C,u.translate(E/2,C/2),u.rotate(h),u.drawImage(this.canvas,g/-2,x/-2),this.buffer=be.makeBufferFromCanvasImageData(l),this}invert(){return new we(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Q{constructor(a,l,u){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||eh||self||window||void 0)&&(globalThis||eh||self||window||void 0).__awaiter||function(B,a,l,u){function h(g){return g instanceof l?g:new l(function(x){x(g)})}return new(l||(l=Promise))(function(g,x){function E(D){try{T(u.next(D))}catch(F){x(F)}}function C(D){try{T(u.throw(D))}catch(F){x(F)}}function T(D){D.done?g(D.value):h(D.value).then(E,C)}T((u=u.apply(B,a||[])).next())})};class Be{constructor(a,l=500,u){this.reader=a,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,x=u.label||`Video device ${l.length+1}`,E=u.groupId,C={deviceId:g,label:x,kind:h,groupId:E};l.push(C)}return l})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Q(l.deviceId,l.label))})}findDeviceById(a){return ue(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return ue(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return ue(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(a,l){return ue(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,l,u){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,u)})}decodeFromVideoDevice(a,l,u){return ue(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,l,u)})}decodeFromConstraints(a,l,u){return ue(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,u)})}decodeFromStream(a,l,u){return ue(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return ue(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((l,u)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const u=document.getElementById(a);if(!u)throw new v(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new v(`element with id '${a}' must be an ${l} element`);return u}decodeFromImage(a,l){if(!a&&!l)throw new v("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,u){if(a===void 0&&l===void 0)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new v("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(a){if(!a)throw new v("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=a,u}decodeFromVideoUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=a,u}decodeFromVideoUrlContinuously(a,l){if(!a)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,l);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,x)=>{if(this._stopAsyncDecode){x(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(a);g(E)}catch(E){const C=l&&E instanceof re,D=(E instanceof _||E instanceof H)&&u;if(C||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,x);x(E)}};return new Promise((g,x)=>h(g,x))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){l(null,h);const g=h instanceof _||h instanceof H,x=h instanceof re;(g||x)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,u){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),u=new be(l),h=new oe(u);return new S(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=u+"px",l.style.height=h+"px",l.width=u,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(a,l,u=l==null?0:8*l.length,h,g,x=N.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=x,this.text=a,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,x==null?this.timestamp=N.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(l.length+a.length);N.arraycopy(l,0,u,0,l.length),N.arraycopy(a,0,u,l.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ye;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var Ne=Ye,lt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var nt=lt;class ge{constructor(a,l,u,h,g=-1,x=-1){this.rawBytes=a,this.text=l,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=x,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class qe{exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class xe{constructor(a,l){if(l.length===0)throw new w;this.field=a;const u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),N.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(a===1){u=0;for(let x=0,E=l.length;x!==E;x++){const C=l[x];u=qe.addOrSubtract(u,C)}return u}u=l[0];const h=l.length,g=this.field;for(let x=1;x<h;x++)u=qe.addOrSubtract(g.multiply(a,u),l[x]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){const x=l;l=u,u=x}let h=new Int32Array(u.length);const g=u.length-l.length;N.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=qe.addOrSubtract(l[x-g],u[x]);return new xe(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1),E=this.field;for(let C=0;C<u;C++){const T=l[C];for(let D=0;D<g;D++)x[C+D]=qe.addOrSubtract(x[C+D],E.multiply(T,h[D]))}return new xe(E,x)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,u=this.field,h=new Int32Array(l),g=this.coefficients;for(let x=0;x<l;x++)h[x]=u.multiply(g[x],a);return new xe(u,h)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),x=this.field;for(let E=0;E<h;E++)g[E]=x.multiply(u[E],l);return new xe(x,g)}divide(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new w("Divide by 0");const l=this.field;let u=l.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),x=l.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const E=h.getDegree()-a.getDegree(),C=l.multiply(h.getCoefficient(h.getDegree()),x),T=a.multiplyByMonomial(E,C),D=l.buildMonomial(E,C);u=u.addOrSubtract(D),h=h.addOrSubtract(T)}return[u,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),l===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class ye extends m{}ye.kind="ArithmeticException";class ze extends qe{constructor(a,l,u){super(),this.primitive=a,this.size=l,this.generatorBase=u;const h=new Int32Array(l);let g=1;for(let E=0;E<l;E++)h[E]=g,g*=2,g>=l&&(g^=a,g&=l-1);this.expTable=h;const x=new Int32Array(l);for(let E=0;E<l-1;E++)x[h[E]]=E;this.logTable=x,this.zero=new xe(this,Int32Array.from([0])),this.one=new xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;const u=new Int32Array(a+1);return u[0]=l,new xe(this,u)}inverse(a){if(a===0)throw new ye;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class at extends m{}at.kind="ReedSolomonException";class vt extends m{}vt.kind="IllegalStateException";class Ct{constructor(a){this.field=a}decode(a,l){const u=this.field,h=new xe(u,a),g=new Int32Array(l);let x=!0;for(let G=0;G<l;G++){const Z=h.evaluateAt(u.exp(G+u.getGeneratorBase()));g[g.length-1-G]=Z,Z!==0&&(x=!1)}if(x)return;const E=new xe(u,g),C=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),T=C[0],D=C[1],F=this.findErrorLocations(T),$=this.findErrorMagnitudes(D,F);for(let G=0;G<F.length;G++){const Z=a.length-1-u.log(F[G]);if(Z<0)throw new at("Bad error location");a[Z]=ze.addOrSubtract(a[Z],$[G])}}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){const G=a;a=l,l=G}const h=this.field;let g=a,x=l,E=h.getZero(),C=h.getOne();for(;x.getDegree()>=(u/2|0);){let G=g,Z=E;if(g=x,E=C,g.isZero())throw new at("r_{i-1} was zero");x=G;let ee=h.getZero();const ie=g.getCoefficient(g.getDegree()),fe=h.inverse(ie);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){const Pe=x.getDegree()-g.getDegree(),je=h.multiply(x.getCoefficient(x.getDegree()),fe);ee=ee.addOrSubtract(h.buildMonomial(Pe,je)),x=x.addOrSubtract(g.multiplyByMonomial(Pe,je))}if(C=ee.multiply(E).addOrSubtract(Z),x.getDegree()>=g.getDegree())throw new vt("Division algorithm failed to reduce polynomial?")}const T=C.getCoefficient(0);if(T===0)throw new at("sigmaTilde(0) was zero");const D=h.inverse(T),F=C.multiplyScalar(D),$=x.multiplyScalar(D);return[F,$]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(l);let h=0;const g=this.field;for(let x=1;x<g.getSize()&&h<l;x++)a.evaluateAt(x)===0&&(u[h]=g.inverse(x),h++);if(h!==l)throw new at("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,l){const u=l.length,h=new Int32Array(u),g=this.field;for(let x=0;x<u;x++){const E=g.inverse(l[x]);let C=1;for(let T=0;T<u;T++)if(x!==T){const D=g.multiply(l[T],E),F=(D&1)===0?D|1:D&-2;C=g.multiply(C,F)}h[x]=g.multiply(a.evaluateAt(E),g.inverse(C)),g.getGeneratorBase()!==0&&(h[x]=g.multiply(h[x],E))}return h}}var Mt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Mt||(Mt={}));class Nt{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),h=this.correctBits(u),g=Nt.convertBoolArrayToByteArray(h),x=Nt.getEncodedData(h),E=new ge(g,x,null,null);return E.setNumBits(h.length),E}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=Mt.UPPER,h=Mt.UPPER,g="",x=0;for(;x<l;)if(h===Mt.BINARY){if(l-x<5)break;let E=Nt.readCode(a,x,5);if(x+=5,E===0){if(l-x<11)break;E=Nt.readCode(a,x,11)+31,x+=11}for(let C=0;C<E;C++){if(l-x<8){x=l;break}const T=Nt.readCode(a,x,8);g+=de.castAsNonUtf8Char(T),x+=8}h=u}else{let E=h===Mt.DIGIT?4:5;if(l-x<E)break;let C=Nt.readCode(a,x,E);x+=E;let T=Nt.getCharacter(h,C);T.startsWith("CTRL_")?(u=h,h=Nt.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=h)):(g+=T,h=u)}return g}static getTable(a){switch(a){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;case"U":default:return Mt.UPPER}}static getCharacter(a,l){switch(a){case Mt.UPPER:return Nt.UPPER_TABLE[l];case Mt.LOWER:return Nt.LOWER_TABLE[l];case Mt.MIXED:return Nt.MIXED_TABLE[l];case Mt.PUNCT:return Nt.PUNCT_TABLE[l];case Mt.DIGIT:return Nt.DIGIT_TABLE[l];default:throw new vt("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=ze.AZTEC_DATA_10):(u=12,l=ze.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new H;let x=a.length%u,E=new Int32Array(g);for(let $=0;$<g;$++,x+=u)E[$]=Nt.readCode(a,x,u);try{new Ct(l).decode(E,g-h)}catch($){throw new H($)}let C=(1<<u)-1,T=0;for(let $=0;$<h;$++){let G=E[$];if(G===0||G===C)throw new H;(G===1||G===C-1)&&T++}let D=new Array(h*u-T),F=0;for(let $=0;$<h;$++){let G=E[$];if(G===1||G===C-1)D.fill(G>1,F,F+u-1),F+=u-1;else for(let Z=u-1;Z>=0;--Z)D[F++]=(G&1<<Z)!==0}return D}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(l?11:14)+u*4,g=new Int32Array(h),x=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<g.length;E++)g[E]=E;else{let E=h+1+2*R.truncDivision(R.truncDivision(h,2)-1,15),C=h/2,T=R.truncDivision(E,2);for(let D=0;D<C;D++){let F=D+R.truncDivision(D,15);g[C-D-1]=T-F-1,g[C+D]=T+F+1}}for(let E=0,C=0;E<u;E++){let T=(u-E)*4+(l?9:12),D=E*2,F=h-1-D;for(let $=0;$<T;$++){let G=$*2;for(let Z=0;Z<2;Z++)x[C+G+Z]=a.get(g[D+Z],g[D+$]),x[C+2*T+G+Z]=a.get(g[D+$],g[F-Z]),x[C+4*T+G+Z]=a.get(g[F-Z],g[F-$]),x[C+6*T+G+Z]=a.get(g[F-$],g[D+Z])}C+=T*8}return x}static readCode(a,l,u){let h=0;for(let g=l;g<l+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,l){let u=a.length-l;return u>=8?Nt.readCode(a,l,8):Nt.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=Nt.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Nt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Nt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Nt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Nt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class bt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,u,h){const g=a-u,x=l-h;return Math.sqrt(g*g+x*x)}static sum(a){let l=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];l+=g}return l}}class hr{static floatToIntBits(a){return a}}hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Fe){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*hr.floatToIntBits(this.x)+hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,x,E;if(u>=l&&u>=h?(x=a[0],g=a[1],E=a[2]):h>=u&&h>=l?(x=a[1],g=a[0],E=a[2]):(x=a[2],g=a[0],E=a[1]),this.crossProductZ(g,x,E)<0){const C=g;g=E,E=C}a[0]=g,a[1]=x,a[2]=E}static distance(a,l){return bt.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,u){const h=l.x,g=l.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class si{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class ca extends si{constructor(a,l,u,h,g){super(a,l),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xn{constructor(a,l,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=xn.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=l/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,h=this.downInit,g=!1,x=!0,E=!1,C=!1,T=!1,D=!1,F=!1;const $=this.width,G=this.height;for(;x;){x=!1;let Z=!0;for(;(Z||!C)&&l<$;)Z=this.containsBlackPoint(u,h,l,!1),Z?(l++,x=!0,C=!0):C||l++;if(l>=$){g=!0;break}let ee=!0;for(;(ee||!T)&&h<G;)ee=this.containsBlackPoint(a,l,h,!0),ee?(h++,x=!0,T=!0):T||h++;if(h>=G){g=!0;break}let ie=!0;for(;(ie||!D)&&a>=0;)ie=this.containsBlackPoint(u,h,a,!1),ie?(a--,x=!0,D=!0):D||a--;if(a<0){g=!0;break}let fe=!0;for(;(fe||!F)&&u>=0;)fe=this.containsBlackPoint(a,l,u,!0),fe?(u--,x=!0,F=!0):F||u--;if(u<0){g=!0;break}x&&(E=!0)}if(!g&&E){const Z=l-a;let ee=null;for(let je=1;ee===null&&je<Z;je++)ee=this.getBlackPointOnSegment(a,h-je,a+je,h);if(ee==null)throw new re;let ie=null;for(let je=1;ie===null&&je<Z;je++)ie=this.getBlackPointOnSegment(a,u+je,a+je,u);if(ie==null)throw new re;let fe=null;for(let je=1;fe===null&&je<Z;je++)fe=this.getBlackPointOnSegment(l,u+je,l-je,u);if(fe==null)throw new re;let Pe=null;for(let je=1;Pe===null&&je<Z;je++)Pe=this.getBlackPointOnSegment(l,h-je,l-je,h);if(Pe==null)throw new re;return this.centerEdges(Pe,ee,fe,ie)}else throw new re}getBlackPointOnSegment(a,l,u,h){const g=bt.round(bt.distance(a,l,u,h)),x=(u-a)/g,E=(h-l)/g,C=this.image;for(let T=0;T<g;T++){const D=bt.round(a+T*x),F=bt.round(l+T*E);if(C.get(D,F))return new Fe(D,F)}return null}centerEdges(a,l,u,h){const g=a.getX(),x=a.getY(),E=l.getX(),C=l.getY(),T=u.getX(),D=u.getY(),F=h.getX(),$=h.getY(),G=xn.CORR;return g<this.width/2?[new Fe(F-G,$+G),new Fe(E+G,C+G),new Fe(T-G,D-G),new Fe(g+G,x-G)]:[new Fe(F+G,$+G),new Fe(E+G,C-G),new Fe(T-G,D+G),new Fe(g-G,x-G)]}containsBlackPoint(a,l,u,h){const g=this.image;if(h){for(let x=a;x<=l;x++)if(g.get(x,u))return!0}else for(let x=a;x<=l;x++)if(g.get(u,x))return!0;return!1}}xn.INIT_SIZE=10,xn.CORR=1;class ua{static checkAndNudgePoints(a,l){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let x=0;x<l.length&&g;x+=2){const E=Math.floor(l[x]),C=Math.floor(l[x+1]);if(E<-1||E>u||C<-1||C>h)throw new re;g=!1,E===-1?(l[x]=0,g=!0):E===u&&(l[x]=u-1,g=!0),C===-1?(l[x+1]=0,g=!0):C===h&&(l[x+1]=h-1,g=!0)}g=!0;for(let x=l.length-2;x>=0&&g;x-=2){const E=Math.floor(l[x]),C=Math.floor(l[x+1]);if(E<-1||E>u||C<-1||C>h)throw new re;g=!1,E===-1?(l[x]=0,g=!0):E===u&&(l[x]=u-1,g=!0),C===-1?(l[x+1]=0,g=!0):C===h&&(l[x+1]=h-1,g=!0)}}}class Mr{constructor(a,l,u,h,g,x,E,C,T){this.a11=a,this.a21=l,this.a31=u,this.a12=h,this.a22=g,this.a32=x,this.a13=E,this.a23=C,this.a33=T}static quadrilateralToQuadrilateral(a,l,u,h,g,x,E,C,T,D,F,$,G,Z,ee,ie){const fe=Mr.quadrilateralToSquare(a,l,u,h,g,x,E,C);return Mr.squareToQuadrilateral(T,D,F,$,G,Z,ee,ie).times(fe)}transformPoints(a){const l=a.length,u=this.a11,h=this.a12,g=this.a13,x=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33;for(let $=0;$<l;$+=2){const G=a[$],Z=a[$+1],ee=g*G+C*Z+F;a[$]=(u*G+x*Z+T)/ee,a[$+1]=(h*G+E*Z+D)/ee}}transformPointsWithValues(a,l){const u=this.a11,h=this.a12,g=this.a13,x=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33,$=a.length;for(let G=0;G<$;G++){const Z=a[G],ee=l[G],ie=g*Z+C*ee+F;a[G]=(u*Z+x*ee+T)/ie,l[G]=(h*Z+E*ee+D)/ie}}static squareToQuadrilateral(a,l,u,h,g,x,E,C){const T=a-u+g-E,D=l-h+x-C;if(T===0&&D===0)return new Mr(u-a,g-u,a,h-l,x-h,l,0,0,1);{const F=u-g,$=E-g,G=h-x,Z=C-x,ee=F*Z-$*G,ie=(T*Z-$*D)/ee,fe=(F*D-T*G)/ee;return new Mr(u-a+ie*u,E-a+fe*E,a,h-l+ie*h,C-l+fe*C,l,ie,fe,1)}}static quadrilateralToSquare(a,l,u,h,g,x,E,C){return Mr.squareToQuadrilateral(a,l,u,h,g,x,E,C).buildAdjoint()}buildAdjoint(){return new Mr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Mr(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class da extends ua{sampleGrid(a,l,u,h,g,x,E,C,T,D,F,$,G,Z,ee,ie,fe,Pe,je){const Oe=Mr.quadrilateralToQuadrilateral(h,g,x,E,C,T,D,F,$,G,Z,ee,ie,fe,Pe,je);return this.sampleGridWithTransform(a,l,u,Oe)}sampleGridWithTransform(a,l,u,h){if(l<=0||u<=0)throw new re;const g=new ke(l,u),x=new Float32Array(2*l);for(let E=0;E<u;E++){const C=x.length,T=E+.5;for(let D=0;D<C;D+=2)x[D]=D/2+.5,x[D+1]=T;h.transformPoints(x),ua.checkAndNudgePoints(a,x);try{for(let D=0;D<C;D+=2)a.get(Math.floor(x[D]),Math.floor(x[D+1]))&&g.set(D/2,E)}catch{throw new re}}return g}}class st{static setGridSampler(a){st.gridSampler=a}static getInstance(){return st.gridSampler}}st.gridSampler=new da;class ut{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class yr{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(a){let x=u[0];u[0]=u[2],u[2]=x}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new ca(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new re;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(u,l);let h=0;for(let x=0;x<4;x++){let E=u[(this.shift+x)%4];this.compact?(h<<=7,h+=E>>1&127):(h<<=10,h+=(E>>2&992)+(E>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,l){let u=0;a.forEach((h,g,x)=>{let E=(h>>l-2<<1)+(h&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(R.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new re}getCorrectedParameterData(a,l){let u,h;l?(u=7,h=2):(u=10,h=4);let g=u-h,x=new Int32Array(u);for(let C=u-1;C>=0;--C)x[C]=a&15,a>>=4;try{new Ct(ze.AZTEC_PARAM).decode(x,g)}catch{throw new re}let E=0;for(let C=0;C<h;C++)E=(E<<4)+x[C];return E}getBullsEyeCorners(a){let l=a,u=a,h=a,g=a,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,x,1,-1),$=this.getFirstDifferent(u,x,1,1),G=this.getFirstDifferent(h,x,-1,1),Z=this.getFirstDifferent(g,x,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(Z,F)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(F,$,G,Z))break}l=F,u=$,h=G,g=Z,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let E=new Fe(l.getX()+.5,l.getY()-.5),C=new Fe(u.getX()+.5,u.getY()+.5),T=new Fe(h.getX()-.5,h.getY()+.5),D=new Fe(g.getX()-.5,g.getY()-.5);return this.expandSquare([E,C,T,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,u,h;try{let E=new xn(this.image).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{let C=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new ut(C+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ut(C+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ut(C-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ut(C-7,T-7),!1,-1,-1).toResultPoint()}let g=bt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),x=bt.round((a.getY()+h.getY()+l.getY()+u.getY())/4);try{let E=new xn(this.image,15,g,x).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{a=this.getFirstDifferent(new ut(g+7,x-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ut(g+7,x+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new ut(g-7,x+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new ut(g-7,x-7),!1,-1,-1).toResultPoint()}return g=bt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),x=bt.round((a.getY()+h.getY()+l.getY()+u.getY())/4),new ut(g,x)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,u,h,g){let x=st.getInstance(),E=this.getDimension(),C=E/2-this.nbCenterLayers,T=E/2+this.nbCenterLayers;return x.sampleGrid(a,E,E,C,C,T,C,T,T,C,T,l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,l,u){let h=0,g=this.distanceResultPoint(a,l),x=g/u,E=a.getX(),C=a.getY(),T=x*(l.getX()-a.getX())/g,D=x*(l.getY()-a.getY())/g;for(let F=0;F<u;F++)this.image.get(bt.round(E+F*T),bt.round(C+F*D))&&(h|=1<<u-F-1);return h}isWhiteOrBlackRectangle(a,l,u,h){let g=3;a=new ut(a.getX()-g,a.getY()+g),l=new ut(l.getX()-g,l.getY()-g),u=new ut(u.getX()+g,u.getY()-g),h=new ut(h.getX()+g,h.getY()+g);let x=this.getColor(h,a);if(x===0)return!1;let E=this.getColor(a,l);return E!==x||(E=this.getColor(l,u),E!==x)?!1:(E=this.getColor(u,h),E===x)}getColor(a,l){let u=this.distancePoint(a,l),h=(l.getX()-a.getX())/u,g=(l.getY()-a.getY())/u,x=0,E=a.getX(),C=a.getY(),T=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let $=0;$<D;$++)E+=h,C+=g,this.image.get(bt.round(E),bt.round(C))!==T&&x++;let F=x/u;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(a,l,u,h){let g=a.getX()+u,x=a.getY()+h;for(;this.isValid(g,x)&&this.image.get(g,x)===l;)g+=u,x+=h;for(g-=u,x-=h;this.isValid(g,x)&&this.image.get(g,x)===l;)g+=u;for(g-=u;this.isValid(g,x)&&this.image.get(g,x)===l;)x+=h;return x-=h,new ut(g,x)}expandSquare(a,l,u){let h=u/(2*l),g=a[0].getX()-a[2].getX(),x=a[0].getY()-a[2].getY(),E=(a[0].getX()+a[2].getX())/2,C=(a[0].getY()+a[2].getY())/2,T=new Fe(E+h*g,C+h*x),D=new Fe(E-h*g,C-h*x);g=a[1].getX()-a[3].getX(),x=a[1].getY()-a[3].getY(),E=(a[1].getX()+a[3].getX())/2,C=(a[1].getY()+a[3].getY())/2;let F=new Fe(E+h*g,C+h*x),$=new Fe(E-h*g,C-h*x);return[T,F,D,$]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=bt.round(a.getX()),u=bt.round(a.getY());return this.isValid(l,u)}distancePoint(a,l){return bt.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return bt.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class ar{decode(a,l=null){let u=null,h=new yr(a.getBlackMatrix()),g=null,x=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(l,g),x=new Nt().decode(D)}catch(D){u=D}if(x==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(l,g),x=new Nt().decode(D)}catch(D){throw u??D}let E=new Le(x.getText(),x.getRawBytes(),x.getNumBits(),g,Ne.AZTEC,N.currentTimeMillis()),C=x.getByteSegments();C!=null&&E.putMetadata(nt.BYTE_SEGMENTS,C);let T=x.getECLevel();return T!=null&&E.putMetadata(nt.ERROR_CORRECTION_LEVEL,T),E}reportFoundResultPoints(a,l){if(a!=null){let u=a.get(V.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((h,g,x)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class Qn extends Be{constructor(a=500){super(new ar,a)}}class sr{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(V.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),x=this.doDecode(g,l),E=x.getResultMetadata();let C=270;E!==null&&E.get(nt.ORIENTATION)===!0&&(C=C+E.get(nt.ORIENTATION)%360),x.putMetadata(nt.ORIENTATION,C);const T=x.getResultPoints();if(T!==null){const D=g.getHeight();for(let F=0;F<T.length;F++)T[F]=new Fe(D-T[F].getY()-1,T[F].getX())}return x}else throw new re}}reset(){}doDecode(a,l){const u=a.getWidth(),h=a.getHeight();let g=new z(u);const x=l&&l.get(V.TRY_HARDER)===!0,E=Math.max(1,h>>(x?8:5));let C;x?C=h:C=15;const T=Math.trunc(h/2);for(let D=0;D<C;D++){const F=Math.trunc((D+1)/2),$=(D&1)===0,G=T+E*($?F:-F);if(G<0||G>=h)break;try{g=a.getBlackRow(G,g)}catch{continue}for(let Z=0;Z<2;Z++){if(Z===1&&(g.reverse(),l&&l.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;l.forEach((ie,fe)=>ee.set(fe,ie)),ee.delete(V.NEED_RESULT_POINT_CALLBACK),l=ee}try{const ee=this.decodeRow(G,g,l);if(Z===1){ee.putMetadata(nt.ORIENTATION,180);const ie=ee.getResultPoints();ie!==null&&(ie[0]=new Fe(u-ie[0].getX()-1,ie[0].getY()),ie[1]=new Fe(u-ie[1].getX()-1,ie[1].getY()))}return ee}catch{}}}throw new re}static recordPattern(a,l,u){const h=u.length;for(let T=0;T<h;T++)u[T]=0;const g=a.getSize();if(l>=g)throw new re;let x=!a.get(l),E=0,C=l;for(;C<g;){if(a.get(C)!==x)u[E]++;else{if(++E===h)break;u[E]=1,x=!x}C++}if(!(E===h||E===h-1&&C===g))throw new re}static recordPatternInReverse(a,l,u){let h=u.length,g=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==g&&(h--,g=!g);if(h>=0)throw new re;sr.recordPattern(a,l+1,u)}static patternMatchVariance(a,l,u){const h=a.length;let g=0,x=0;for(let T=0;T<h;T++)g+=a[T],x+=l[T];if(g<x)return Number.POSITIVE_INFINITY;const E=g/x;u*=E;let C=0;for(let T=0;T<h;T++){const D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return Number.POSITIVE_INFINITY;C+=$}return C/g}}class Re extends sr{static findStartPattern(a){const l=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),x=u,E=!1;const C=6;for(let T=u;T<l;T++)if(a.get(T)!==E)g[h]++;else{if(h===C-1){let D=Re.MAX_AVG_VARIANCE,F=-1;for(let $=Re.CODE_START_A;$<=Re.CODE_START_C;$++){const G=sr.patternMatchVariance(g,Re.CODE_PATTERNS[$],Re.MAX_INDIVIDUAL_VARIANCE);G<D&&(D=G,F=$)}if(F>=0&&a.isRange(Math.max(0,x-(T-x)/2),x,!1))return Int32Array.from([x,T,F]);x+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,E=!E}throw new re}static decodeCode(a,l,u){sr.recordPattern(a,u,l);let h=Re.MAX_AVG_VARIANCE,g=-1;for(let x=0;x<Re.CODE_PATTERNS.length;x++){const E=Re.CODE_PATTERNS[x],C=this.patternMatchVariance(l,E,Re.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,g=x)}if(g>=0)return g;throw new re}decodeRow(a,l,u){const h=u&&u.get(V.ASSUME_GS1)===!0,g=Re.findStartPattern(l),x=g[2];let E=0;const C=new Uint8Array(20);C[E++]=x;let T;switch(x){case Re.CODE_START_A:T=Re.CODE_CODE_A;break;case Re.CODE_START_B:T=Re.CODE_CODE_B;break;case Re.CODE_START_C:T=Re.CODE_CODE_C;break;default:throw new H}let D=!1,F=!1,$="",G=g[0],Z=g[1];const ee=Int32Array.from([0,0,0,0,0,0]);let ie=0,fe=0,Pe=x,je=0,Oe=!0,Ot=!1,wt=!1;for(;!D;){const ma=F;switch(F=!1,ie=fe,fe=Re.decodeCode(l,ee,Z),C[E++]=fe,fe!==Re.CODE_STOP&&(Oe=!0),fe!==Re.CODE_STOP&&(je++,Pe+=je*fe),G=Z,Z+=ee.reduce((Gs,fu)=>Gs+fu,0),fe){case Re.CODE_START_A:case Re.CODE_START_B:case Re.CODE_START_C:throw new H}switch(T){case Re.CODE_CODE_A:if(fe<64)wt===Ot?$+=String.fromCharCode(32+fe):$+=String.fromCharCode(32+fe+128),wt=!1;else if(fe<96)wt===Ot?$+=String.fromCharCode(fe-64):$+=String.fromCharCode(fe+64),wt=!1;else switch(fe!==Re.CODE_STOP&&(Oe=!1),fe){case Re.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_A:!Ot&&wt?(Ot=!0,wt=!1):Ot&&wt?(Ot=!1,wt=!1):wt=!0;break;case Re.CODE_SHIFT:F=!0,T=Re.CODE_CODE_B;break;case Re.CODE_CODE_B:T=Re.CODE_CODE_B;break;case Re.CODE_CODE_C:T=Re.CODE_CODE_C;break;case Re.CODE_STOP:D=!0;break}break;case Re.CODE_CODE_B:if(fe<96)wt===Ot?$+=String.fromCharCode(32+fe):$+=String.fromCharCode(32+fe+128),wt=!1;else switch(fe!==Re.CODE_STOP&&(Oe=!1),fe){case Re.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_B:!Ot&&wt?(Ot=!0,wt=!1):Ot&&wt?(Ot=!1,wt=!1):wt=!0;break;case Re.CODE_SHIFT:F=!0,T=Re.CODE_CODE_A;break;case Re.CODE_CODE_A:T=Re.CODE_CODE_A;break;case Re.CODE_CODE_C:T=Re.CODE_CODE_C;break;case Re.CODE_STOP:D=!0;break}break;case Re.CODE_CODE_C:if(fe<100)fe<10&&($+="0"),$+=fe;else switch(fe!==Re.CODE_STOP&&(Oe=!1),fe){case Re.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Re.CODE_CODE_A:T=Re.CODE_CODE_A;break;case Re.CODE_CODE_B:T=Re.CODE_CODE_B;break;case Re.CODE_STOP:D=!0;break}break}ma&&(T=T===Re.CODE_CODE_A?Re.CODE_CODE_B:Re.CODE_CODE_A)}const Wn=Z-G;if(Z=l.getNextUnset(Z),!l.isRange(Z,Math.min(l.getSize(),Z+(Z-G)/2),!1))throw new re;if(Pe-=je*ie,Pe%103!==ie)throw new _;const Si=$.length;if(Si===0)throw new re;Si>0&&Oe&&(T===Re.CODE_CODE_C?$=$.substring(0,Si-2):$=$.substring(0,Si-1));const Hr=(g[1]+g[0])/2,Vt=G+Wn/2,Tr=C.length,jn=new Uint8Array(Tr);for(let ma=0;ma<Tr;ma++)jn[ma]=C[ma];const is=[new Fe(Hr,a),new Fe(Vt,a)];return new Le($,jn,0,is,Ne.CODE_128,new Date().getTime())}}Re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Re.MAX_AVG_VARIANCE=.25,Re.MAX_INDIVIDUAL_VARIANCE=.7,Re.CODE_SHIFT=98,Re.CODE_CODE_C=99,Re.CODE_CODE_B=100,Re.CODE_CODE_A=101,Re.CODE_FNC_1=102,Re.CODE_FNC_2=97,Re.CODE_FNC_3=96,Re.CODE_FNC_4_A=101,Re.CODE_FNC_4_B=100,Re.CODE_START_A=103,Re.CODE_START_B=104,Re.CODE_START_C=105,Re.CODE_STOP=106;class Ir extends sr{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=Ir.findAsteriskPattern(l,h),x=l.getNextSet(g[1]),E=l.getSize(),C,T;do{Ir.recordPattern(l,x,h);let ee=Ir.toNarrowWidePattern(h);if(ee<0)throw new re;C=Ir.patternToChar(ee),this.decodeRowResult+=C,T=x;for(let ie of h)x+=ie;x=l.getNextSet(x)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ee of h)D+=ee;let F=x-T-D;if(x!==E&&F*2<D)throw new re;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,ie=0;for(let fe=0;fe<ee;fe++)ie+=Ir.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(ee)!==Ir.ALPHABET_STRING.charAt(ie%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new re;let $;this.extendedMode?$=Ir.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let G=(g[1]+g[0])/2,Z=T+D/2;return new Le($,null,0,[new Fe(G,a),new Fe(Z,a)],Ne.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),h=a.getNextSet(0),g=0,x=h,E=!1,C=l.length;for(let T=h;T<u;T++)if(a.get(T)!==E)l[g]++;else{if(g===C-1){if(this.toNarrowWidePattern(l)===Ir.ASTERISK_ENCODING&&a.isRange(Math.max(0,x-Math.floor((T-x)/2)),x,!1))return[x,T];x+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,E=!E}throw new re}static toNarrowWidePattern(a){let l=a.length,u=0,h;do{let g=2147483647;for(let C of a)C<g&&C>u&&(g=C);u=g,h=0;let x=0,E=0;for(let C=0;C<l;C++){let T=a[C];T>u&&(E|=1<<l-1-C,h++,x+=T)}if(h===3){for(let C=0;C<l&&h>0;C++){let T=a[C];if(T>u&&(h--,T*2>=x))return-1}return E}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<Ir.CHARACTER_ENCODINGS.length;l++)if(Ir.CHARACTER_ENCODINGS[l]===a)return Ir.ALPHABET_STRING.charAt(l);if(a===Ir.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(a){let l=a.length,u="";for(let h=0;h<l;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let x=a.charAt(h+1),E="\0";switch(g){case"+":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)+32);else throw new H;break;case"$":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)-64);else throw new H;break;case"%":if(x>="A"&&x<="E")E=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")E=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")E=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")E="\0";else if(x==="V")E="@";else if(x==="W")E="`";else if(x==="X"||x==="Y"||x==="Z")E="";else throw new H;break;case"/":if(x>="A"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")E=":";else throw new H;break}u+=E,h++}else u+=g}return u}}Ir.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ir.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ir.ASTERISK_ENCODING=148;class Dt extends sr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,u){let h=this.decodeStart(l),g=this.decodeEnd(l),x=new Se;Dt.decodeMiddle(l,h[1],g[0],x);let E=x.toString(),C=null;u!=null&&(C=u.get(V.ALLOWED_LENGTHS)),C==null&&(C=Dt.DEFAULT_ALLOWED_LENGTHS);let T=E.length,D=!1,F=0;for(let Z of C){if(T===Z){D=!0;break}Z>F&&(F=Z)}if(!D&&T>F&&(D=!0),!D)throw new H;const $=[new Fe(h[1],a),new Fe(g[0],a)];return new Le(E,null,0,$,Ne.ITF,new Date().getTime())}static decodeMiddle(a,l,u,h){let g=new Int32Array(10),x=new Int32Array(5),E=new Int32Array(5);for(g.fill(0),x.fill(0),E.fill(0);l<u;){sr.recordPattern(a,l,g);for(let T=0;T<5;T++){let D=2*T;x[T]=g[D],E[T]=g[D+1]}let C=Dt.decodeDigit(x);h.append(C.toString()),C=this.decodeDigit(E),h.append(C.toString()),g.forEach(function(T){l+=T})}}decodeStart(a){let l=Dt.skipWhiteSpace(a),u=Dt.findGuardPattern(a,l,Dt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let h=l-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new re}static skipWhiteSpace(a){const l=a.getSize(),u=a.getNextSet(0);if(u===l)throw new re;return u}decodeEnd(a){a.reverse();try{let l=Dt.skipWhiteSpace(a),u;try{u=Dt.findGuardPattern(a,l,Dt.END_PATTERN_REVERSED[0])}catch(g){g instanceof re&&(u=Dt.findGuardPattern(a,l,Dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,l,u){let h=u.length,g=new Int32Array(h),x=a.getSize(),E=!1,C=0,T=l;g.fill(0);for(let D=l;D<x;D++)if(a.get(D)!==E)g[C]++;else{if(C===h-1){if(sr.patternMatchVariance(g,u,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return[T,D];T+=g[0]+g[1],N.arraycopy(g,2,g,0,C-1),g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,E=!E}throw new re}static decodeDigit(a){let l=Dt.MAX_AVG_VARIANCE,u=-1,h=Dt.PATTERNS.length;for(let g=0;g<h;g++){let x=Dt.PATTERNS[g],E=sr.patternMatchVariance(a,x,Dt.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=g):E===l&&(u=-1)}if(u>=0)return u%10;throw new re}}Dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Dt.MAX_AVG_VARIANCE=.38,Dt.MAX_INDIVIDUAL_VARIANCE=.5,Dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Dt.START_PATTERN=Int32Array.from([1,1,1,1]),Dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class qt extends sr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),u=qt.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let x=u[0];h=u[1];let E=x-(h-x);E>=0&&(l=a.isRange(E,x,!1))}return u}static checkChecksum(a){return qt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return qt.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}static decodeEnd(a,l){return qt.findGuardPattern(a,l,!1,qt.START_END_PATTERN,new Int32Array(qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,u,h){return this.findGuardPattern(a,l,u,h,new Int32Array(h.length))}static findGuardPattern(a,l,u,h,g){let x=a.getSize();l=u?a.getNextUnset(l):a.getNextSet(l);let E=0,C=l,T=h.length,D=u;for(let F=l;F<x;F++)if(a.get(F)!==D)g[E]++;else{if(E===T-1){if(sr.patternMatchVariance(g,h,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=g[0]+g[1];let $=g.slice(2,g.length-1);for(let G=0;G<E-1;G++)g[G]=$[G];g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,D=!D}throw new re}static decodeDigit(a,l,u,h){this.recordPattern(a,u,l);let g=this.MAX_AVG_VARIANCE,x=-1,E=h.length;for(let C=0;C<E;C++){let T=h[C],D=sr.patternMatchVariance(l,T,qt.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,x=C)}if(x>=0)return x;throw new re}}qt.MAX_AVG_VARIANCE=.48,qt.MAX_INDIVIDUAL_VARIANCE=.7,qt.START_END_PATTERN=Int32Array.from([1,1,1]),qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ui{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),x=h.toString(),E=Ui.parseExtensionString(x),C=[new Fe((u[0]+u[1])/2,a),new Fe(g,a)],T=new Le(x,null,0,C,Ne.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let T=0;T<5&&x<g;T++){let D=qt.decodeDigit(a,h,x,qt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<4-T),T!==4&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==5)throw new re;let C=this.determineCheckDigit(E);if(Ui.extensionChecksum(u.toString())!==C)throw new re;return x}static extensionChecksum(a){let l=a.length,u=0;for(let h=l-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=l-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new re}static parseExtensionString(a){if(a.length!==5)return null;let l=Ui.parseExtension5String(a);return l==null?null:new Map([[nt.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,x=g<10?"0"+g:g.toString();return l+h+"."+x}}class Pa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),x=h.toString(),E=Pa.parseExtensionString(x),C=[new Fe((u[0]+u[1])/2,a),new Fe(g,a)],T=new Le(x,null,0,C,Ne.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let C=0;C<2&&x<g;C++){let T=qt.decodeDigit(a,h,x,qt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let D of h)x+=D;T>=10&&(E|=1<<1-C),C!==1&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==2)throw new re;if(parseInt(u.toString())%4!==E)throw new re;return x}static parseExtensionString(a){return a.length!==2?null:new Map([[nt.ISSUE_NUMBER,parseInt(a)]])}}class Za{static decodeRow(a,l,u){let h=qt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ui().decodeRow(a,l,h)}catch{return new Pa().decodeRow(a,l,h)}}}Za.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _t extends qt{constructor(){super(),this.decodeRowStringBuffer="",_t.L_AND_G_PATTERNS=_t.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=_t.L_PATTERNS[a-10],u=new Int32Array(l.length);for(let h=0;h<l.length;h++)u[h]=l[l.length-h-1];_t.L_AND_G_PATTERNS[a]=u}}decodeRow(a,l,u){let h=_t.findStartGuardPattern(l),g=u==null?null:u.get(V.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Oe=new Fe((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Oe)}let x=this.decodeMiddle(l,h,this.decodeRowStringBuffer),E=x.rowOffset,C=x.resultString;if(g!=null){const Oe=new Fe(E,a);g.foundPossibleResultPoint(Oe)}let T=this.decodeEnd(l,E);if(g!=null){const Oe=new Fe((T[0]+T[1])/2,a);g.foundPossibleResultPoint(Oe)}let D=T[1],F=D+(D-T[0]);if(F>=l.getSize()||!l.isRange(D,F,!1))throw new re;let $=C.toString();if($.length<8)throw new H;if(!_t.checkChecksum($))throw new _;let G=(h[1]+h[0])/2,Z=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),ie=[new Fe(G,a),new Fe(Z,a)],fe=new Le($,null,0,ie,ee,new Date().getTime()),Pe=0;try{let Oe=Za.decodeRow(a,l,T[1]);fe.putMetadata(nt.UPC_EAN_EXTENSION,Oe.getText()),fe.putAllMetadata(Oe.getResultMetadata()),fe.addResultPoints(Oe.getResultPoints()),Pe=Oe.getText().length}catch{}let je=u==null?null:u.get(V.ALLOWED_EAN_EXTENSIONS);if(je!=null){let Oe=!1;for(let Ot in je)if(Pe.toString()===Ot){Oe=!0;break}if(!Oe)throw new re}return fe}decodeEnd(a,l){return _t.findGuardPattern(a,l,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return _t.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return _t.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}}class Tn extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let T=0;T<6&&x<g;T++){let D=_t.decodeDigit(a,h,x,_t.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<5-T)}u=Tn.determineFirstDigit(u,E),x=_t.findGuardPattern(a,x,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&x<g;T++){let D=_t.decodeDigit(a,h,x,_t.L_PATTERNS);u+=String.fromCharCode(48+D);for(let F of h)x+=F}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ne.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new re}}Tn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ao extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1];for(let C=0;C<4&&x<g;C++){let T=_t.decodeDigit(a,h,x,_t.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)x+=D}x=_t.findGuardPattern(a,x,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&x<g;C++){let T=_t.decodeDigit(a,h,x,_t.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)x+=D}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ne.EAN_8}}class zi extends _t{constructor(){super(...arguments),this.ean13Reader=new Tn}getBarcodeFormat(){return Ne.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,u))}decodeMiddle(a,l,u){return this.ean13Reader.decodeMiddle(a,l,u)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let u=new Le(l.substring(1),null,null,a.getResultPoints(),Ne.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new re}reset(){this.ean13Reader.reset()}}class sn extends _t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let x=l[1],E=0;for(let T=0;T<6&&x<g;T++){const D=sn.decodeDigit(a,h,x,sn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<5-T)}let C=sn.determineNumSysAndCheckDigit(u,E);return{rowOffset:x,resultString:C}}decodeEnd(a,l){return sn.findGuardPatternWithoutCounters(a,l,!0,sn.MIDDLE_END_PATTERN)}checkChecksum(a){return _t.checkChecksum(sn.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),x=String.fromCharCode(48+h);return g+a+x}throw re.getNotFoundInstance()}getBarcodeFormat(){return Ne.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Se;u.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(h),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}sn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),sn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class So extends sr{constructor(a){super();let l=a==null?null:a.get(V.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new Tn),u.push(new zi),u.push(new Ao),u.push(new sn)):(l.indexOf(Ne.EAN_13)>-1&&u.push(new Tn),l.indexOf(Ne.UPC_A)>-1&&u.push(new zi),l.indexOf(Ne.EAN_8)>-1&&u.push(new Ao),l.indexOf(Ne.UPC_E)>-1&&u.push(new sn)),this.readers=u}decodeRow(a,l,u){for(let h of this.readers)try{const g=h.decodeRow(a,l,u),x=g.getBarcodeFormat()===Ne.EAN_13&&g.getText().charAt(0)==="0",E=u==null?null:u.get(V.POSSIBLE_FORMATS),C=E==null||E.includes(Ne.UPC_A);if(x&&C){const T=g.getRawBytes(),D=new Le(g.getText().substring(1),T,T?T.length:null,g.getResultPoints(),Ne.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new re}reset(){for(let a of this.readers)a.reset()}}class wr extends sr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(sr.patternMatchVariance(a,l[u],wr.MAX_INDIVIDUAL_VARIANCE)<wr.MAX_AVG_VARIANCE)return u;throw new re}static count(a){return bt.sum(new Int32Array(a))}static increment(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]>h&&(h=l[g],u=g);a[u]++}static decrement(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]<h&&(h=l[g],u=g);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],u=l+a[2]+a[3],h=l/u;if(h>=wr.MIN_FINDER_PATTERN_RATIO&&h<=wr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let E of a)E>x&&(x=E),E<g&&(g=E);return x<10*g}return!1}}wr.MAX_AVG_VARIANCE=.2,wr.MAX_INDIVIDUAL_VARIANCE=.45,wr.MIN_FINDER_PATTERN_RATIO=9.5/12,wr.MAX_FINDER_PATTERN_RATIO=12.5/14;class $i{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof $i))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qa{constructor(a,l,u,h,g){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Fe(u,g)),this.resultPoints.push(new Fe(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Qa))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(a,l,u){let h=0;for(let C of a)h+=C;let g=0,x=0,E=a.length;for(let C=0;C<E-1;C++){let T;for(T=1,x|=1<<C;T<a[C];T++,x&=~(1<<C)){let D=yn.combins(h-T-1,E-C-2);if(u&&x===0&&h-T-(E-C-1)>=E-C-1&&(D-=yn.combins(h-T-(E-C),E-C-2)),E-C-1>1){let F=0;for(let $=h-T-(E-C-2);$>l;$--)F+=yn.combins(h-T-$-1,E-C-3);D-=F*(E-1-C)}else h-T>l&&D--;g+=D}h-=T}return g}static combins(a,l){let u,h;a-l>l?(h=l,u=a-l):(h=a-l,u=l);let g=1,x=1;for(let E=a;E>u;E--)g*=E,x<=h&&(g/=x,x++);for(;x<=h;)g/=x,x++;return g}}class _o{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let u=12*l,h=new z(u),g=0,E=a[0].getRightChar().getValue();for(let C=11;C>=0;--C)(E&1<<C)!=0&&h.set(g),g++;for(let C=1;C<a.length;++C){let T=a[C],D=T.getLeftChar().getValue();for(let F=11;F>=0;--F)(D&1<<F)!=0&&h.set(g),g++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&h.set(g),g++}}return h}}class Jn{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Co{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class pr extends Co{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===pr.FNC1}}pr.FNC1="$";class oi extends Co{constructor(a,l,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yr extends Co{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new H;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yr.FNC1}isAnyFNC1(){return this.firstDigit===Yr.FNC1||this.secondDigit===Yr.FNC1}}Yr.FNC1=10;class Ue{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new re;let l=a.substring(0,2);for(let g of Ue.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(2,g[2],a):Ue.processFixedAI(2,g[1],a);if(a.length<3)throw new re;let u=a.substring(0,3);for(let g of Ue.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(3,g[2],a):Ue.processFixedAI(3,g[1],a);for(let g of Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,g[2],a):Ue.processFixedAI(4,g[1],a);if(a.length<4)throw new re;let h=a.substring(0,4);for(let g of Ue.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===Ue.VARIABLE_LENGTH?Ue.processVariableAI(4,g[2],a):Ue.processFixedAI(4,g[1],a);throw new re}static processFixedAI(a,l,u){if(u.length<a)throw new re;let h=u.substring(0,a);if(u.length<a+l)throw new re;let g=u.substring(a,a+l),x=u.substring(a+l),E="("+h+")"+g,C=Ue.parseFieldsInGeneralPurpose(x);return C==null?E:E+C}static processVariableAI(a,l,u){let h=u.substring(0,a),g;u.length<a+l?g=u.length:g=a+l;let x=u.substring(a,g),E=u.substring(g),C="("+h+")"+x,T=Ue.parseFieldsInGeneralPurpose(E);return T==null?C:C+T}}Ue.VARIABLE_LENGTH=[],Ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ue.VARIABLE_LENGTH,20],["22",Ue.VARIABLE_LENGTH,29],["30",Ue.VARIABLE_LENGTH,8],["37",Ue.VARIABLE_LENGTH,8],["90",Ue.VARIABLE_LENGTH,30],["91",Ue.VARIABLE_LENGTH,30],["92",Ue.VARIABLE_LENGTH,30],["93",Ue.VARIABLE_LENGTH,30],["94",Ue.VARIABLE_LENGTH,30],["95",Ue.VARIABLE_LENGTH,30],["96",Ue.VARIABLE_LENGTH,30],["97",Ue.VARIABLE_LENGTH,3],["98",Ue.VARIABLE_LENGTH,30],["99",Ue.VARIABLE_LENGTH,30]],Ue.THREE_DIGIT_DATA_LENGTH=[["240",Ue.VARIABLE_LENGTH,30],["241",Ue.VARIABLE_LENGTH,30],["242",Ue.VARIABLE_LENGTH,6],["250",Ue.VARIABLE_LENGTH,30],["251",Ue.VARIABLE_LENGTH,30],["253",Ue.VARIABLE_LENGTH,17],["254",Ue.VARIABLE_LENGTH,20],["400",Ue.VARIABLE_LENGTH,30],["401",Ue.VARIABLE_LENGTH,30],["402",17],["403",Ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ue.VARIABLE_LENGTH,20],["421",Ue.VARIABLE_LENGTH,15],["422",3],["423",Ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ue.VARIABLE_LENGTH,15],["391",Ue.VARIABLE_LENGTH,18],["392",Ue.VARIABLE_LENGTH,15],["393",Ue.VARIABLE_LENGTH,18],["703",Ue.VARIABLE_LENGTH,30]],Ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ue.VARIABLE_LENGTH,20],["8003",Ue.VARIABLE_LENGTH,30],["8004",Ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ue.VARIABLE_LENGTH,30],["8008",Ue.VARIABLE_LENGTH,12],["8018",18],["8020",Ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ue.VARIABLE_LENGTH,70],["8200",Ue.VARIABLE_LENGTH,70]];class Wi{constructor(a){this.buffer=new Se,this.information=a}decodeAllCodes(a,l){let u=l,h=null;do{let g=this.decodeGeneralPurposeField(u,h),x=Ue.parseFieldsInGeneralPurpose(g.getNewString());if(x!=null&&a.append(x),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new Yr(this.information.getSize(),Yr.FNC1,Yr.FNC1):new Yr(this.information.getSize(),g-1,Yr.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),u=(l-8)/11,h=(l-8)%11;return new Yr(a+7,u,h)}extractNumericValueFromBitArray(a,l){return Wi.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,u){let h=0;for(let g=0;g<u;++g)a.get(l+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new oi(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new oi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new oi(this.current.getPosition(),this.buffer.toString()):l=new oi(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Jn(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new oi(this.current.getPosition(),this.buffer.toString());return new Jn(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new oi(this.current.getPosition(),this.buffer.toString());return new Jn(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new oi(this.current.getPosition(),this.buffer.toString());return new Jn(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new pr(a+5,pr.FNC1);if(l>=5&&l<15)return new pr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new pr(a+7,""+(u+1));if(u>=90&&u<116)return new pr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new H}return new pr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new pr(a+5,pr.FNC1);if(l>=5&&l<15)return new pr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new pr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new vt("Decoding invalid alphanumeric value: "+u)}return new pr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class Oo{constructor(a){this.information=a,this.generalDecoder=new Wi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class wn extends Oo{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}wn.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+l).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}wn.GTIN_SIZE=40;class zn extends wn{constructor(a){super(a)}parseInformation(){let a=new Se;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(zn.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,zn.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,zn.HEADER_SIZE+44)}}zn.HEADER_SIZE=4;class Ja extends Oo{constructor(a){super(a)}parseInformation(){let a=new Se;return this.getGeneralDecoder().decodeAllCodes(a,Ja.HEADER_SIZE)}}Ja.HEADER_SIZE=5;class X extends wn{constructor(a){super(a)}encodeCompressedWeight(a,l,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(a,h);let g=this.checkWeight(h),x=1e5;for(let E=0;E<5;++E)g/x===0&&a.append("0"),x/=10;a.append(g)}}class _e extends X{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=_e.HEADER_SIZE+X.GTIN_SIZE+_e.WEIGHT_SIZE)throw new re;let a=new Se;return this.encodeCompressedGtin(a,_e.HEADER_SIZE),this.encodeCompressedWeight(a,_e.HEADER_SIZE+X.GTIN_SIZE,_e.WEIGHT_SIZE),a.toString()}}_e.HEADER_SIZE=5,_e.WEIGHT_SIZE=15;class We extends _e{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class pt extends _e{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class It extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<It.HEADER_SIZE+wn.GTIN_SIZE)throw new re;let a=new Se;this.encodeCompressedGtin(a,It.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(It.HEADER_SIZE+wn.GTIN_SIZE,It.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(It.HEADER_SIZE+wn.GTIN_SIZE+It.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}It.HEADER_SIZE=8,It.LAST_DIGIT_SIZE=2;class $t extends wn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<$t.HEADER_SIZE+wn.GTIN_SIZE)throw new re;let a=new Se;this.encodeCompressedGtin(a,$t.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+wn.GTIN_SIZE,$t.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray($t.HEADER_SIZE+wn.GTIN_SIZE+$t.LAST_DIGIT_SIZE,$t.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField($t.HEADER_SIZE+wn.GTIN_SIZE+$t.LAST_DIGIT_SIZE+$t.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2,$t.FIRST_THREE_DIGITS_SIZE=10;class Wt extends X{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE+Wt.DATE_SIZE)throw new re;let a=new Se;return this.encodeCompressedGtin(a,Wt.HEADER_SIZE),this.encodeCompressedWeight(a,Wt.HEADER_SIZE+Wt.GTIN_SIZE,Wt.WEIGHT_SIZE),this.encodeCompressedDate(a,Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,Wt.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let x=u;x/10==0&&a.append("0"),a.append(x),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}Wt.HEADER_SIZE=8,Wt.WEIGHT_SIZE=20,Wt.DATE_SIZE=16;function Xd(B){try{if(B.get(1))return new zn(B);if(!B.get(2))return new Ja(B);switch(Wi.extractNumericValueFromBitArray(B,1,4)){case 4:return new We(B);case 5:return new pt(B)}switch(Wi.extractNumericValueFromBitArray(B,1,5)){case 12:return new It(B);case 13:return new $t(B)}switch(Wi.extractNumericValueFromBitArray(B,1,7)){case 56:return new Wt(B,"310","11");case 57:return new Wt(B,"320","11");case 58:return new Wt(B,"310","13");case 59:return new Wt(B,"320","13");case 60:return new Wt(B,"310","15");case 61:return new Wt(B,"320","15");case 62:return new Wt(B,"310","17");case 63:return new Wt(B,"320","17")}}catch(a){throw console.log(a),new vt("unknown decoder: "+B)}}class Gt{constructor(a,l,u,h){this.leftchar=a,this.rightchar=l,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof Gt?Gt.equalsOrNull(a.leftchar,l.leftchar)&&Gt.equalsOrNull(a.rightchar,l.rightchar)&&Gt.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:Gt.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zc{constructor(a,l,u){this.pairs=a,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof Zc?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let u;return a.forEach((h,g)=>{l.forEach(x=>{h.getLeftChar().getValue()===x.getLeftChar().getValue()&&h.getRightChar().getValue()===x.getRightChar().getValue()&&h.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ee extends wr{constructor(a){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(g){if(g instanceof re){if(!this.pairs.length)throw new re;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new re}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let u=l;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let x of a)this.pairs.push(x.getPairs());if(this.pairs.push(h.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(x){this.verbose&&console.log(x)}}throw new re}static isValidSequence(a){for(let l of Ee.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,l){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let x=this.rows[u];if(x.getRowNumber()>a){g=x.isEquivalent(this.pairs);break}h=x.isEquivalent(this.pairs),u++}g||h||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Zc(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let u of l)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(Gt.equals(h,g))break}}static isPartialRow(a,l){for(let u of l){let h=!0;for(let g of a){let x=!1;for(let E of u.getPairs())if(g.equals(E)){x=!0;break}if(!x){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=_o.buildBitArray(a),h=Xd(l).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),x=a[a.length-1].getFinderPattern().getResultPoints(),E=[g[0],g[1],x[0],x[1]];return new Le(h,null,null,E,Ne.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let E=1;E<this.pairs.size();++E){let C=this.pairs.get(E);h+=C.getLeftChar().getChecksumPortion(),g++;let T=C.getRightChar();T!=null&&(h+=T.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==l.getValue()}static getNextSecondBar(a,l){let u;return a.get(l)?(u=a.getNextUnset(l),u=a.getNextSet(u)):(u=a.getNextSet(l),u=a.getNextUnset(u)),u}retrieveNextPair(a,l,u){let h=l.length%2==0;this.startFromEven&&(h=!h);let g,x=!0,E=-1;do this.findNextPair(a,l,E),g=this.parseFoundFinderPattern(a,u,h),g==null?E=Ee.getNextSecondBar(a,this.startEnd[0]):x=!1;while(x);let C=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new re;let T;try{T=this.decodeDataCharacter(a,g,h,!1)}catch(D){T=null,this.verbose&&console.log(D)}return new Gt(C,T,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x;u>=0?x=u:this.isEmptyPair(l)?x=0:x=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let C=!1;for(;x<g&&(C=!a.get(x),!!C);)x++;let T=0,D=x;for(let F=x;F<g;F++)if(a.get(F)!=C)h[T]++;else{if(T==3){if(E&&Ee.reverseCounters(h),Ee.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=F;return}E&&Ee.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,C=!C}throw new re}static reverseCounters(a){let l=a.length;for(let u=0;u<l/2;++u){let h=a[u];a[u]=a[l-u-1],a[l-u-1]=h}}parseFoundFinderPattern(a,l,u){let h,g,x;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,h=this.startEnd[0]-T,g=T,x=this.startEnd[1]}else g=this.startEnd[0],x=a.getNextUnset(this.startEnd[1]+1),h=x-this.startEnd[1];let E=this.getDecodeFinderCounters();N.arraycopy(E,0,E,1,E.length-1),E[0]=h;let C;try{C=this.parseFinderValue(E,Ee.FINDER_PATTERNS)}catch{return null}return new Qa(C,[g,x],g,x,l)}decodeDataCharacter(a,l,u,h){let g=this.getDataCharacterCounters();for(let Vt=0;Vt<g.length;Vt++)g[Vt]=0;if(h)Ee.recordPatternInReverse(a,l.getStartEnd()[0],g);else{Ee.recordPattern(a,l.getStartEnd()[1],g);for(let Vt=0,Tr=g.length-1;Vt<Tr;Vt++,Tr--){let jn=g[Vt];g[Vt]=g[Tr],g[Tr]=jn}}let x=17,E=bt.sum(new Int32Array(g))/x,C=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-C)/C>.3)throw new re;let T=this.getOddCounts(),D=this.getEvenCounts(),F=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Vt=0;Vt<g.length;Vt++){let Tr=1*g[Vt]/E,jn=Tr+.5;if(jn<1){if(Tr<.3)throw new re;jn=1}else if(jn>8){if(Tr>8.7)throw new re;jn=8}let is=Vt/2;(Vt&1)==0?(T[is]=jn,F[is]=Tr-jn):(D[is]=jn,$[is]=Tr-jn)}this.adjustOddEvenCounts(x);let G=4*l.getValue()+(u?0:2)+(h?0:1)-1,Z=0,ee=0;for(let Vt=T.length-1;Vt>=0;Vt--){if(Ee.isNotA1left(l,u,h)){let Tr=Ee.WEIGHTS[G][2*Vt];ee+=T[Vt]*Tr}Z+=T[Vt]}let ie=0;for(let Vt=D.length-1;Vt>=0;Vt--)if(Ee.isNotA1left(l,u,h)){let Tr=Ee.WEIGHTS[G][2*Vt+1];ie+=D[Vt]*Tr}let fe=ee+ie;if((Z&1)!=0||Z>13||Z<4)throw new re;let Pe=(13-Z)/2,je=Ee.SYMBOL_WIDEST[Pe],Oe=9-je,Ot=yn.getRSSvalue(T,je,!0),wt=yn.getRSSvalue(D,Oe,!1),Wn=Ee.EVEN_TOTAL_SUBSET[Pe],Si=Ee.GSUM[Pe],Hr=Ot*Wn+wt+Si;return new $i(Hr,fe)}static isNotA1left(a,l,u){return!(a.getValue()==0&&l&&u)}adjustOddEvenCounts(a){let l=bt.sum(new Int32Array(this.getOddCounts())),u=bt.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let x=!1,E=!1;u>13?E=!0:u<4&&(x=!0);let C=l+u-a,T=(l&1)==1,D=(u&1)==0;if(C==1)if(T){if(D)throw new re;g=!0}else{if(!D)throw new re;E=!0}else if(C==-1)if(T){if(D)throw new re;h=!0}else{if(!D)throw new re;x=!0}else if(C==0){if(T){if(!D)throw new re;l<u?(h=!0,E=!0):(g=!0,x=!0)}else if(D)throw new re}else throw new re;if(h){if(g)throw new re;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new re;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class Yd extends $i{constructor(a,l,u){super(a,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class er extends wr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,u){const h=this.decodePair(l,!1,a,u);er.addOrTally(this.possibleLeftPairs,h),l.reverse();let g=this.decodePair(l,!0,a,u);er.addOrTally(this.possibleRightPairs,g),l.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&er.checkChecksum(x,E))return er.constructResult(x,E)}throw new re}static addOrTally(a,l){if(l==null)return;let u=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),u=!0;break}u||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let u=4537077*a.getValue()+l.getValue(),h=new String(u).toString(),g=new Se;for(let T=13-h.length;T>0;T--)g.append("0");g.append(h);let x=0;for(let T=0;T<13;T++){let D=g.charAt(T).charCodeAt(0)-48;x+=(T&1)===0?3*D:D}x=10-x%10,x===10&&(x=0),g.append(x.toString());let E=a.getFinderPattern().getResultPoints(),C=l.getFinderPattern().getResultPoints();return new Le(g.toString(),null,0,[E[0],E[1],C[0],C[1]],Ne.RSS_14,new Date().getTime())}static checkChecksum(a,l){let u=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,l,u,h){try{let g=this.findFinderPattern(a,l),x=this.parseFoundFinderPattern(a,u,l,g),E=h==null?null:h.get(V.NEED_RESULT_POINT_CALLBACK);if(E!=null){let D=(g[0]+g[1])/2;l&&(D=a.getSize()-1-D),E.foundPossibleResultPoint(new Fe(D,u))}let C=this.decodeDataCharacter(a,x,!0),T=this.decodeDataCharacter(a,x,!1);return new Yd(1597*C.getValue()+T.getValue(),C.getChecksumPortion()+4*T.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(a,l,u){let h=this.getDataCharacterCounters();for(let ie=0;ie<h.length;ie++)h[ie]=0;if(u)sr.recordPatternInReverse(a,l.getStartEnd()[0],h);else{sr.recordPattern(a,l.getStartEnd()[1]+1,h);for(let ie=0,fe=h.length-1;ie<fe;ie++,fe--){let Pe=h[ie];h[ie]=h[fe],h[fe]=Pe}}let g=u?16:15,x=bt.sum(new Int32Array(h))/g,E=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ie=0;ie<h.length;ie++){let fe=h[ie]/x,Pe=Math.floor(fe+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let je=Math.floor(ie/2);(ie&1)===0?(E[je]=Pe,T[je]=fe-Pe):(C[je]=Pe,D[je]=fe-Pe)}this.adjustOddEvenCounts(u,g);let F=0,$=0;for(let ie=E.length-1;ie>=0;ie--)$*=9,$+=E[ie],F+=E[ie];let G=0,Z=0;for(let ie=C.length-1;ie>=0;ie--)G*=9,G+=C[ie],Z+=C[ie];let ee=$+3*G;if(u){if((F&1)!==0||F>12||F<4)throw new re;let ie=(12-F)/2,fe=er.OUTSIDE_ODD_WIDEST[ie],Pe=9-fe,je=yn.getRSSvalue(E,fe,!1),Oe=yn.getRSSvalue(C,Pe,!0),Ot=er.OUTSIDE_EVEN_TOTAL_SUBSET[ie],wt=er.OUTSIDE_GSUM[ie];return new $i(je*Ot+Oe+wt,ee)}else{if((Z&1)!==0||Z>10||Z<4)throw new re;let ie=(10-Z)/2,fe=er.INSIDE_ODD_WIDEST[ie],Pe=9-fe,je=yn.getRSSvalue(E,fe,!0),Oe=yn.getRSSvalue(C,Pe,!1),Ot=er.INSIDE_ODD_TOTAL_SUBSET[ie],wt=er.INSIDE_GSUM[ie];return new $i(Oe*Ot+je+wt,ee)}}findFinderPattern(a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,x=0;for(;x<h&&(g=!a.get(x),l!==g);)x++;let E=0,C=x;for(let T=x;T<h;T++)if(a.get(T)!==g)u[E]++;else{if(E===3){if(wr.isFinderPattern(u))return[C,T];C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,g=!g}throw new re}parseFoundFinderPattern(a,l,u,h){let g=a.get(h[0]),x=h[0]-1;for(;x>=0&&g!==a.get(x);)x--;x++;const E=h[0]-x,C=this.getDecodeFinderCounters(),T=new Int32Array(C.length);N.arraycopy(C,0,T,1,C.length-1),T[0]=E;const D=this.parseFinderValue(T,er.FINDER_PATTERNS);let F=x,$=h[1];return u&&(F=a.getSize()-1-F,$=a.getSize()-1-$),new Qa(D,[x,h[1]],F,$,l)}adjustOddEvenCounts(a,l){let u=bt.sum(new Int32Array(this.getOddCounts())),h=bt.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1,E=!1,C=!1;a?(u>12?x=!0:u<4&&(g=!0),h>12?C=!0:h<4&&(E=!0)):(u>11?x=!0:u<5&&(g=!0),h>10?C=!0:h<4&&(E=!0));let T=u+h-l,D=(u&1)===(a?1:0),F=(h&1)===1;if(T===1)if(D){if(F)throw new re;x=!0}else{if(!F)throw new re;C=!0}else if(T===-1)if(D){if(F)throw new re;g=!0}else{if(!F)throw new re;E=!0}else if(T===0){if(D){if(!F)throw new re;u<h?(g=!0,C=!0):(x=!0,E=!0)}else if(F)throw new re}else throw new re;if(g){if(x)throw new re;wr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&wr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new re;wr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&wr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}er.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],er.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],er.OUTSIDE_GSUM=[0,161,961,2015,2715],er.INSIDE_GSUM=[0,336,1036,1516],er.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],er.INSIDE_ODD_WIDEST=[2,4,6,8],er.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bs extends sr{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const u=a?a.get(V.POSSIBLE_FORMATS):null,h=a&&a.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ne.EAN_13)||u.includes(Ne.UPC_A)||u.includes(Ne.EAN_8)||u.includes(Ne.UPC_E))&&this.readers.push(new So(a)),u.includes(Ne.CODE_39)&&this.readers.push(new Ir(h)),u.includes(Ne.CODE_128)&&this.readers.push(new Re),u.includes(Ne.ITF)&&this.readers.push(new Dt),u.includes(Ne.RSS_14)&&this.readers.push(new er),u.includes(Ne.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new So(a)),this.readers.push(new Ir),this.readers.push(new So(a)),this.readers.push(new Re),this.readers.push(new Dt),this.readers.push(new er),this.readers.push(new Ee(this.verbose)))}decodeRow(a,l,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,u)}catch{}throw new re}reset(){this.readers.forEach(a=>a.reset())}}class Zd extends Be{constructor(a=500,l){super(new Bs(l),a,l)}}class Rt{constructor(a,l,u){this.ecCodewords=a,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class At{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pt{constructor(a,l,u,h,g,x){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=x;let E=0;const C=x.getECCodewords(),T=x.getECBlocks();for(let D of T)E+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if((a&1)!==0||(l&1)!==0)throw new H;for(let u of Pt.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===l)return u;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Pt(1,10,10,8,8,new Rt(5,new At(1,3))),new Pt(2,12,12,10,10,new Rt(7,new At(1,5))),new Pt(3,14,14,12,12,new Rt(10,new At(1,8))),new Pt(4,16,16,14,14,new Rt(12,new At(1,12))),new Pt(5,18,18,16,16,new Rt(14,new At(1,18))),new Pt(6,20,20,18,18,new Rt(18,new At(1,22))),new Pt(7,22,22,20,20,new Rt(20,new At(1,30))),new Pt(8,24,24,22,22,new Rt(24,new At(1,36))),new Pt(9,26,26,24,24,new Rt(28,new At(1,44))),new Pt(10,32,32,14,14,new Rt(36,new At(1,62))),new Pt(11,36,36,16,16,new Rt(42,new At(1,86))),new Pt(12,40,40,18,18,new Rt(48,new At(1,114))),new Pt(13,44,44,20,20,new Rt(56,new At(1,144))),new Pt(14,48,48,22,22,new Rt(68,new At(1,174))),new Pt(15,52,52,24,24,new Rt(42,new At(2,102))),new Pt(16,64,64,14,14,new Rt(56,new At(2,140))),new Pt(17,72,72,16,16,new Rt(36,new At(4,92))),new Pt(18,80,80,18,18,new Rt(48,new At(4,114))),new Pt(19,88,88,20,20,new Rt(56,new At(4,144))),new Pt(20,96,96,22,22,new Rt(68,new At(4,174))),new Pt(21,104,104,24,24,new Rt(56,new At(6,136))),new Pt(22,120,120,18,18,new Rt(68,new At(6,175))),new Pt(23,132,132,20,20,new Rt(62,new At(8,163))),new Pt(24,144,144,22,22,new Rt(62,new At(8,156),new At(2,155))),new Pt(25,8,18,6,16,new Rt(7,new At(1,5))),new Pt(26,8,32,6,14,new Rt(11,new At(1,10))),new Pt(27,12,26,10,24,new Rt(14,new At(1,16))),new Pt(28,12,36,10,16,new Rt(18,new At(1,22))),new Pt(29,16,36,14,16,new Rt(24,new At(1,32))),new Pt(30,16,48,14,22,new Rt(28,new At(1,49)))]}}Pt.VERSIONS=Pt.buildVersions();class ei{constructor(a){const l=a.getHeight();if(l<8||l>144||(l&1)!==0)throw new H;this.version=ei.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),u=a.getWidth();return Pt.getVersionForDimensions(l,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let E=!1,C=!1,T=!1,D=!1;do if(u===g&&h===0&&!E)a[l++]=this.readCorner1(g,x)&255,u-=2,h+=2,E=!0;else if(u===g-2&&h===0&&(x&3)!==0&&!C)a[l++]=this.readCorner2(g,x)&255,u-=2,h+=2,C=!0;else if(u===g+4&&h===2&&(x&7)===0&&!T)a[l++]=this.readCorner3(g,x)&255,u-=2,h+=2,T=!0;else if(u===g-2&&h===0&&(x&7)===4&&!D)a[l++]=this.readCorner4(g,x)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,x)&255),u-=2,h+=2;while(u>=0&&h<x);u+=1,h+=3;do u>=0&&h<x&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,x)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<x);if(l!==this.version.getTotalCodewords())throw new H;return a}readModule(a,l,u,h){return a<0&&(a+=u,l+=4-(u+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,u,h){let g=0;return this.readModule(a-2,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l,u,h)&&(g|=1),g<<=1,this.readModule(a,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a,l,u,h)&&(g|=1),g}readCorner1(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,1,a,l)&&(u|=1),u<<=1,this.readModule(a-1,2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}readCorner2(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-4,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner3(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-3,a,l)&&(u|=1),u<<=1,this.readModule(1,l-2,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner4(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new w("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),x=l/h|0,E=u/g|0,C=x*h,T=E*g,D=new ke(T,C);for(let F=0;F<x;++F){const $=F*h;for(let G=0;G<E;++G){const Z=G*g;for(let ee=0;ee<h;++ee){const ie=F*(h+2)+1+ee,fe=$+ee;for(let Pe=0;Pe<g;++Pe){const je=G*(g+2)+1+Pe;if(a.get(je,ie)){const Oe=Z+Pe;D.set(Oe,fe)}}}}}return D}}class Qc{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const u=l.getECBlocks();let h=0;const g=u.getECBlocks();for(let ee of g)h+=ee.getCount();const x=new Array(h);let E=0;for(let ee of g)for(let ie=0;ie<ee.getCount();ie++){const fe=ee.getDataCodewords(),Pe=u.getECCodewords()+fe;x[E++]=new Qc(fe,new Uint8Array(Pe))}const T=x[0].codewords.length-u.getECCodewords(),D=T-1;let F=0;for(let ee=0;ee<D;ee++)for(let ie=0;ie<E;ie++)x[ie].codewords[ee]=a[F++];const $=l.getVersionNumber()===24,G=$?8:E;for(let ee=0;ee<G;ee++)x[ee].codewords[T-1]=a[F++];const Z=x[0].codewords.length;for(let ee=T;ee<Z;ee++)for(let ie=0;ie<E;ie++){const fe=$?(ie+8)%E:ie,Pe=$&&fe>7?ee-1:ee;x[fe].codewords[Pe]=a[F++]}if(F!==a.length)throw new w;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jc{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new w(""+a);let l=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const x=8-u,E=a<x?a:x,C=x-E,T=255>>8-E<<C;l=(g[h]&T)>>C,a-=E,u+=E,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)l=l<<8|g[h]&255,h++,a-=8;if(a>0){const x=8-a,E=255>>x<<x;l=l<<a|(g[h]&E)>>x,u+=a}}return this.bitOffset=u,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Wr;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wr||(Wr={}));class wi{static decode(a){const l=new Jc(a),u=new Se,h=new Se,g=new Array;let x=Wr.ASCII_ENCODE;do if(x===Wr.ASCII_ENCODE)x=this.decodeAsciiSegment(l,u,h);else{switch(x){case Wr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Wr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Wr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Wr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Wr.BASE256_ENCODE:this.decodeBase256Segment(l,u,g);break;default:throw new H}x=Wr.ASCII_ENCODE}while(x!==Wr.PAD_ENCODE&&l.available()>0);return h.length()>0&&u.append(h.toString()),new ge(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,l,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new H;if(g<=128)return h&&(g+=128),l.append(String.fromCharCode(g-1)),Wr.ASCII_ENCODE;if(g===129)return Wr.PAD_ENCODE;if(g<=229){const x=g-130;x<10&&l.append("0"),l.append(""+x)}else switch(g){case 230:return Wr.C40_ENCODE;case 231:return Wr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Wr.ANSIX12_ENCODE;case 239:return Wr.TEXT_ENCODE;case 240:return Wr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new H;break}}while(a.available()>0);return Wr.ASCII_ENCODE}static decodeC40Segment(a,l){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:u?(l.append(String.fromCharCode(C+224)),u=!1):l.append(String.fromCharCode(C+96)),g=0;break;default:throw new H}}}while(a.available()>0)}static decodeTextSegment(a,l){let u=!1,h=[],g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T),g=0}else throw new H;break;default:throw new H}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const x=u[g];switch(x){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(x<14)l.append(String.fromCharCode(x+44));else if(x<40)l.append(String.fromCharCode(x+51));else throw new H;break}}}while(a.available()>0)}static parseTwoBytes(a,l,u){let h=(a<<8)+l-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let x;if(g===0?x=a.available()/8|0:g<250?x=g:x=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),x<0)throw new H;const E=new Uint8Array(x);for(let C=0;C<x;C++){if(a.available()<8)throw new H;E[C]=this.unrandomize255State(a.readBits(8),h++)}u.push(E);try{l.append(pe.decode(E,de.ISO88591))}catch(C){throw new vt("Platform does not support required encoding: "+C.message)}}static unrandomize255State(a,l){const u=149*l%255+1,h=a-u;return h>=0?h:h+256}}wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wi.TEXT_SHIFT2_SET_CHARS=wi.C40_SHIFT2_SET_CHARS,wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class kl{constructor(){this.rsDecoder=new Ct(ze.DATA_MATRIX_FIELD_256)}decode(a){const l=new ei(a),u=l.getVersion(),h=l.readCodewords(),g=Qc.getDataBlocks(h,u);let x=0;for(let T of g)x+=T.getNumDataCodewords();const E=new Uint8Array(x),C=g.length;for(let T=0;T<C;T++){const D=g[T],F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let G=0;G<$;G++)E[G*C+T]=F[G]}return wi.decode(E)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new _}for(let h=0;h<l;h++)a[h]=u[h]}}class tr{constructor(a){this.image=a,this.rectangleDetector=new xn(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new re;l=this.shiftToModuleCenter(l);const u=l[0],h=l[1],g=l[2],x=l[3];let E=this.transitionsBetween(u,x)+1,C=this.transitionsBetween(g,x)+1;(E&1)===1&&(E+=1),(C&1)===1&&(C+=1),4*E<7*C&&4*C<7*E&&(E=C=Math.max(E,C));let T=tr.sampleGrid(this.image,u,h,g,x,E,C);return new si(T,[u,h,g,x])}static shiftPoint(a,l,u){let h=(l.getX()-a.getX())/(u+1),g=(l.getY()-a.getY())/(u+1);return new Fe(a.getX()+h,a.getY()+g)}static moveAway(a,l,u){let h=a.getX(),g=a.getY();return h<l?h-=1:h+=1,g<u?g-=1:g+=1,new Fe(h,g)}detectSolid1(a){let l=a[0],u=a[1],h=a[3],g=a[2],x=this.transitionsBetween(l,u),E=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),T=this.transitionsBetween(g,l),D=x,F=[g,l,u,h];return D>E&&(D=E,F[0]=l,F[1]=u,F[2]=h,F[3]=g),D>C&&(D=C,F[0]=u,F[1]=h,F[2]=g,F[3]=l),D>T&&(F[0]=h,F[1]=g,F[2]=l,F[3]=u),F}detectSolid2(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g),E=tr.shiftPoint(u,h,(x+1)*4),C=tr.shiftPoint(h,u,(x+1)*4),T=this.transitionsBetween(E,l),D=this.transitionsBetween(C,g);return T<D?(a[0]=l,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=l),a}correctTopRight(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g),E=this.transitionsBetween(u,g),C=tr.shiftPoint(l,u,(E+1)*4),T=tr.shiftPoint(h,u,(x+1)*4);x=this.transitionsBetween(C,g),E=this.transitionsBetween(T,g);let D=new Fe(g.getX()+(h.getX()-u.getX())/(x+1),g.getY()+(h.getY()-u.getY())/(x+1)),F=new Fe(g.getX()+(l.getX()-u.getX())/(E+1),g.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(D))return this.isValid(F)?F:null;if(!this.isValid(F))return D;let $=this.transitionsBetween(C,D)+this.transitionsBetween(T,D),G=this.transitionsBetween(C,F)+this.transitionsBetween(T,F);return $>G?D:F}shiftToModuleCenter(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g)+1,E=this.transitionsBetween(h,g)+1,C=tr.shiftPoint(l,u,E*4),T=tr.shiftPoint(h,u,x*4);x=this.transitionsBetween(C,g)+1,E=this.transitionsBetween(T,g)+1,(x&1)===1&&(x+=1),(E&1)===1&&(E+=1);let D=(l.getX()+u.getX()+h.getX()+g.getX())/4,F=(l.getY()+u.getY()+h.getY()+g.getY())/4;l=tr.moveAway(l,D,F),u=tr.moveAway(u,D,F),h=tr.moveAway(h,D,F),g=tr.moveAway(g,D,F);let $,G;return C=tr.shiftPoint(l,u,E*4),C=tr.shiftPoint(C,g,x*4),$=tr.shiftPoint(u,l,E*4),$=tr.shiftPoint($,h,x*4),T=tr.shiftPoint(h,g,E*4),T=tr.shiftPoint(T,u,x*4),G=tr.shiftPoint(g,h,E*4),G=tr.shiftPoint(G,l,x*4),[C,$,T,G]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,u,h,g,x,E){return st.getInstance().sampleGrid(a,x,E,.5,.5,x-.5,.5,x-.5,E-.5,.5,E-.5,l.getX(),l.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,l){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(l.getX()),x=Math.trunc(l.getY()),E=Math.abs(x-h)>Math.abs(g-u);if(E){let ee=u;u=h,h=ee,ee=g,g=x,x=ee}let C=Math.abs(g-u),T=Math.abs(x-h),D=-C/2,F=h<x?1:-1,$=u<g?1:-1,G=0,Z=this.image.get(E?h:u,E?u:h);for(let ee=u,ie=h;ee!==g;ee+=$){let fe=this.image.get(E?ie:ee,E?ee:ie);if(fe!==Z&&(G++,Z=fe),D+=T,D>0){if(ie===x)break;ie+=F,D-=C}}return G}}class bi{constructor(){this.decoder=new kl}decode(a,l=null){let u,h;if(l!=null&&l.has(V.PURE_BARCODE)){const T=bi.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(T),h=bi.NO_POINTS}else{const T=new tr(a.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),h=T.getPoints()}const g=u.getRawBytes(),x=new Le(u.getText(),g,8*g.length,h,Ne.DATA_MATRIX,N.currentTimeMillis()),E=u.getByteSegments();E!=null&&x.putMetadata(nt.BYTE_SEGMENTS,E);const C=u.getECLevel();return C!=null&&x.putMetadata(nt.ERROR_CORRECTION_LEVEL,C),x}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l==null||u==null)throw new re;const h=this.moduleSize(l,a);let g=l[1];const x=u[1];let E=l[0];const T=(u[0]-E+1)/h,D=(x-g+1)/h;if(T<=0||D<=0)throw new re;const F=h/2;g+=F,E+=F;const $=new ke(T,D);for(let G=0;G<D;G++){const Z=g+G*h;for(let ee=0;ee<T;ee++)a.get(E+ee*h,Z)&&$.set(ee,G)}return $}static moduleSize(a,l){const u=l.getWidth();let h=a[0];const g=a[1];for(;h<u&&l.get(h,g);)h++;if(h===u)throw new re;const x=h-a[0];if(x===0)throw new re;return x}}bi.NO_POINTS=[];class lm extends Be{constructor(a=500){super(new bi,a)}}var Fs;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Fs||(Fs={}));class Kt{constructor(a,l,u){this.value=a,this.stringValue=l,this.bits=u,Kt.FOR_BITS.set(u,this),Kt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new v(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Kt))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=Kt.FOR_BITS.size)throw new w;return Kt.FOR_BITS.get(a)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(Fs.L,"L",1),Kt.M=new Kt(Fs.M,"M",0),Kt.Q=new Kt(Fs.Q,"Q",3),Kt.H=new Kt(Fs.H,"H",2);class on{constructor(a){this.errorCorrectionLevel=Kt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return R.bitCount(a^l)}static decodeFormatInformation(a,l){const u=on.doDecodeFormatInformation(a,l);return u!==null?u:on.doDecodeFormatInformation(a^on.FORMAT_INFO_MASK_QR,l^on.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of on.FORMAT_INFO_DECODE_LOOKUP){const x=g[0];if(x===a||x===l)return new on(g[1]);let E=on.numBitsDiffering(a,x);E<u&&(h=g[1],u=E),a!==l&&(E=on.numBitsDiffering(l,x),E<u&&(h=g[1],u=E))}return u<=3?new on(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof on))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}on.FORMAT_INFO_MASK_QR=21522,on.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ae{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const u of l)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class q{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(a,l,...u){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),x=u[0].getECBlocks();for(const E of x)h+=E.getCount()*(E.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new H;try{return this.getVersionForNumber((a-17)/4)}catch{throw new H}}static getVersionForNumber(a){if(a<1||a>40)throw new w;return rt.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<rt.VERSION_DECODE_INFO.length;h++){const g=rt.VERSION_DECODE_INFO[h];if(g===a)return rt.getVersionForNumber(h+7);const x=on.numBitsDiffering(a,g);x<l&&(u=h+7,l=x)}return l<=3?rt.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new ke(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let x=0;x<u;x++)h===0&&(x===0||x===u-1)||h===u-1&&x===0||l.setRegion(this.alignmentPatternCenters[x]-2,g,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}rt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),rt.VERSIONS=[new rt(1,new Int32Array(0),new ae(7,new q(1,19)),new ae(10,new q(1,16)),new ae(13,new q(1,13)),new ae(17,new q(1,9))),new rt(2,Int32Array.from([6,18]),new ae(10,new q(1,34)),new ae(16,new q(1,28)),new ae(22,new q(1,22)),new ae(28,new q(1,16))),new rt(3,Int32Array.from([6,22]),new ae(15,new q(1,55)),new ae(26,new q(1,44)),new ae(18,new q(2,17)),new ae(22,new q(2,13))),new rt(4,Int32Array.from([6,26]),new ae(20,new q(1,80)),new ae(18,new q(2,32)),new ae(26,new q(2,24)),new ae(16,new q(4,9))),new rt(5,Int32Array.from([6,30]),new ae(26,new q(1,108)),new ae(24,new q(2,43)),new ae(18,new q(2,15),new q(2,16)),new ae(22,new q(2,11),new q(2,12))),new rt(6,Int32Array.from([6,34]),new ae(18,new q(2,68)),new ae(16,new q(4,27)),new ae(24,new q(4,19)),new ae(28,new q(4,15))),new rt(7,Int32Array.from([6,22,38]),new ae(20,new q(2,78)),new ae(18,new q(4,31)),new ae(18,new q(2,14),new q(4,15)),new ae(26,new q(4,13),new q(1,14))),new rt(8,Int32Array.from([6,24,42]),new ae(24,new q(2,97)),new ae(22,new q(2,38),new q(2,39)),new ae(22,new q(4,18),new q(2,19)),new ae(26,new q(4,14),new q(2,15))),new rt(9,Int32Array.from([6,26,46]),new ae(30,new q(2,116)),new ae(22,new q(3,36),new q(2,37)),new ae(20,new q(4,16),new q(4,17)),new ae(24,new q(4,12),new q(4,13))),new rt(10,Int32Array.from([6,28,50]),new ae(18,new q(2,68),new q(2,69)),new ae(26,new q(4,43),new q(1,44)),new ae(24,new q(6,19),new q(2,20)),new ae(28,new q(6,15),new q(2,16))),new rt(11,Int32Array.from([6,30,54]),new ae(20,new q(4,81)),new ae(30,new q(1,50),new q(4,51)),new ae(28,new q(4,22),new q(4,23)),new ae(24,new q(3,12),new q(8,13))),new rt(12,Int32Array.from([6,32,58]),new ae(24,new q(2,92),new q(2,93)),new ae(22,new q(6,36),new q(2,37)),new ae(26,new q(4,20),new q(6,21)),new ae(28,new q(7,14),new q(4,15))),new rt(13,Int32Array.from([6,34,62]),new ae(26,new q(4,107)),new ae(22,new q(8,37),new q(1,38)),new ae(24,new q(8,20),new q(4,21)),new ae(22,new q(12,11),new q(4,12))),new rt(14,Int32Array.from([6,26,46,66]),new ae(30,new q(3,115),new q(1,116)),new ae(24,new q(4,40),new q(5,41)),new ae(20,new q(11,16),new q(5,17)),new ae(24,new q(11,12),new q(5,13))),new rt(15,Int32Array.from([6,26,48,70]),new ae(22,new q(5,87),new q(1,88)),new ae(24,new q(5,41),new q(5,42)),new ae(30,new q(5,24),new q(7,25)),new ae(24,new q(11,12),new q(7,13))),new rt(16,Int32Array.from([6,26,50,74]),new ae(24,new q(5,98),new q(1,99)),new ae(28,new q(7,45),new q(3,46)),new ae(24,new q(15,19),new q(2,20)),new ae(30,new q(3,15),new q(13,16))),new rt(17,Int32Array.from([6,30,54,78]),new ae(28,new q(1,107),new q(5,108)),new ae(28,new q(10,46),new q(1,47)),new ae(28,new q(1,22),new q(15,23)),new ae(28,new q(2,14),new q(17,15))),new rt(18,Int32Array.from([6,30,56,82]),new ae(30,new q(5,120),new q(1,121)),new ae(26,new q(9,43),new q(4,44)),new ae(28,new q(17,22),new q(1,23)),new ae(28,new q(2,14),new q(19,15))),new rt(19,Int32Array.from([6,30,58,86]),new ae(28,new q(3,113),new q(4,114)),new ae(26,new q(3,44),new q(11,45)),new ae(26,new q(17,21),new q(4,22)),new ae(26,new q(9,13),new q(16,14))),new rt(20,Int32Array.from([6,34,62,90]),new ae(28,new q(3,107),new q(5,108)),new ae(26,new q(3,41),new q(13,42)),new ae(30,new q(15,24),new q(5,25)),new ae(28,new q(15,15),new q(10,16))),new rt(21,Int32Array.from([6,28,50,72,94]),new ae(28,new q(4,116),new q(4,117)),new ae(26,new q(17,42)),new ae(28,new q(17,22),new q(6,23)),new ae(30,new q(19,16),new q(6,17))),new rt(22,Int32Array.from([6,26,50,74,98]),new ae(28,new q(2,111),new q(7,112)),new ae(28,new q(17,46)),new ae(30,new q(7,24),new q(16,25)),new ae(24,new q(34,13))),new rt(23,Int32Array.from([6,30,54,78,102]),new ae(30,new q(4,121),new q(5,122)),new ae(28,new q(4,47),new q(14,48)),new ae(30,new q(11,24),new q(14,25)),new ae(30,new q(16,15),new q(14,16))),new rt(24,Int32Array.from([6,28,54,80,106]),new ae(30,new q(6,117),new q(4,118)),new ae(28,new q(6,45),new q(14,46)),new ae(30,new q(11,24),new q(16,25)),new ae(30,new q(30,16),new q(2,17))),new rt(25,Int32Array.from([6,32,58,84,110]),new ae(26,new q(8,106),new q(4,107)),new ae(28,new q(8,47),new q(13,48)),new ae(30,new q(7,24),new q(22,25)),new ae(30,new q(22,15),new q(13,16))),new rt(26,Int32Array.from([6,30,58,86,114]),new ae(28,new q(10,114),new q(2,115)),new ae(28,new q(19,46),new q(4,47)),new ae(28,new q(28,22),new q(6,23)),new ae(30,new q(33,16),new q(4,17))),new rt(27,Int32Array.from([6,34,62,90,118]),new ae(30,new q(8,122),new q(4,123)),new ae(28,new q(22,45),new q(3,46)),new ae(30,new q(8,23),new q(26,24)),new ae(30,new q(12,15),new q(28,16))),new rt(28,Int32Array.from([6,26,50,74,98,122]),new ae(30,new q(3,117),new q(10,118)),new ae(28,new q(3,45),new q(23,46)),new ae(30,new q(4,24),new q(31,25)),new ae(30,new q(11,15),new q(31,16))),new rt(29,Int32Array.from([6,30,54,78,102,126]),new ae(30,new q(7,116),new q(7,117)),new ae(28,new q(21,45),new q(7,46)),new ae(30,new q(1,23),new q(37,24)),new ae(30,new q(19,15),new q(26,16))),new rt(30,Int32Array.from([6,26,52,78,104,130]),new ae(30,new q(5,115),new q(10,116)),new ae(28,new q(19,47),new q(10,48)),new ae(30,new q(15,24),new q(25,25)),new ae(30,new q(23,15),new q(25,16))),new rt(31,Int32Array.from([6,30,56,82,108,134]),new ae(30,new q(13,115),new q(3,116)),new ae(28,new q(2,46),new q(29,47)),new ae(30,new q(42,24),new q(1,25)),new ae(30,new q(23,15),new q(28,16))),new rt(32,Int32Array.from([6,34,60,86,112,138]),new ae(30,new q(17,115)),new ae(28,new q(10,46),new q(23,47)),new ae(30,new q(10,24),new q(35,25)),new ae(30,new q(19,15),new q(35,16))),new rt(33,Int32Array.from([6,30,58,86,114,142]),new ae(30,new q(17,115),new q(1,116)),new ae(28,new q(14,46),new q(21,47)),new ae(30,new q(29,24),new q(19,25)),new ae(30,new q(11,15),new q(46,16))),new rt(34,Int32Array.from([6,34,62,90,118,146]),new ae(30,new q(13,115),new q(6,116)),new ae(28,new q(14,46),new q(23,47)),new ae(30,new q(44,24),new q(7,25)),new ae(30,new q(59,16),new q(1,17))),new rt(35,Int32Array.from([6,30,54,78,102,126,150]),new ae(30,new q(12,121),new q(7,122)),new ae(28,new q(12,47),new q(26,48)),new ae(30,new q(39,24),new q(14,25)),new ae(30,new q(22,15),new q(41,16))),new rt(36,Int32Array.from([6,24,50,76,102,128,154]),new ae(30,new q(6,121),new q(14,122)),new ae(28,new q(6,47),new q(34,48)),new ae(30,new q(46,24),new q(10,25)),new ae(30,new q(2,15),new q(64,16))),new rt(37,Int32Array.from([6,28,54,80,106,132,158]),new ae(30,new q(17,122),new q(4,123)),new ae(28,new q(29,46),new q(14,47)),new ae(30,new q(49,24),new q(10,25)),new ae(30,new q(24,15),new q(46,16))),new rt(38,Int32Array.from([6,32,58,84,110,136,162]),new ae(30,new q(4,122),new q(18,123)),new ae(28,new q(13,46),new q(32,47)),new ae(30,new q(48,24),new q(14,25)),new ae(30,new q(42,15),new q(32,16))),new rt(39,Int32Array.from([6,26,54,82,110,138,166]),new ae(30,new q(20,117),new q(4,118)),new ae(28,new q(40,47),new q(7,48)),new ae(30,new q(43,24),new q(22,25)),new ae(30,new q(10,15),new q(67,16))),new rt(40,Int32Array.from([6,30,58,86,114,142,170]),new ae(30,new q(19,118),new q(6,119)),new ae(28,new q(18,47),new q(31,48)),new ae(30,new q(34,24),new q(34,25)),new ae(30,new q(20,15),new q(61,16)))];var Dr;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(Dr||(Dr={}));class St{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let u=0;u<l;u++)for(let h=0;h<l;h++)this.isMasked(u,h)&&a.flip(h,u)}}St.values=new Map([[Dr.DATA_MASK_000,new St(Dr.DATA_MASK_000,(B,a)=>(B+a&1)===0)],[Dr.DATA_MASK_001,new St(Dr.DATA_MASK_001,(B,a)=>(B&1)===0)],[Dr.DATA_MASK_010,new St(Dr.DATA_MASK_010,(B,a)=>a%3===0)],[Dr.DATA_MASK_011,new St(Dr.DATA_MASK_011,(B,a)=>(B+a)%3===0)],[Dr.DATA_MASK_100,new St(Dr.DATA_MASK_100,(B,a)=>(Math.floor(B/2)+Math.floor(a/3)&1)===0)],[Dr.DATA_MASK_101,new St(Dr.DATA_MASK_101,(B,a)=>B*a%6===0)],[Dr.DATA_MASK_110,new St(Dr.DATA_MASK_110,(B,a)=>B*a%6<3)],[Dr.DATA_MASK_111,new St(Dr.DATA_MASK_111,(B,a)=>(B+a+B*a%3&1)===0)]]);class Qd{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new H;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const l=this.bitMatrix.getHeight();let u=0;const h=l-7;for(let g=l-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=l-8;g<l;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=on.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return rt.getVersionForNumber(l);let u=0;const h=a-11;for(let x=5;x>=0;x--)for(let E=a-9;E>=h;E--)u=this.copyBit(E,x,u);let g=rt.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let x=5;x>=0;x--)for(let E=a-9;E>=h;E--)u=this.copyBit(x,E,u);if(g=rt.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new H}copyBit(a,l,u){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),u=St.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=l.buildFunctionPattern();let x=!0;const E=new Uint8Array(l.getTotalCodewords());let C=0,T=0,D=0;for(let F=h-1;F>0;F-=2){F===6&&F--;for(let $=0;$<h;$++){const G=x?h-1-$:$;for(let Z=0;Z<2;Z++)g.get(F-Z,G)||(D++,T<<=1,this.bitMatrix.get(F-Z,G)&&(T|=1),D===8&&(E[C++]=T,D=0,T=0))}x=!x}if(C!==l.getTotalCodewords())throw new H;return E}remask(){if(this.parsedFormatInfo===null)return;const a=St.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,u=a.getWidth();l<u;l++)for(let h=l+1,g=a.getHeight();h<g;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class jl{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,u){if(a.length!==l.getTotalCodewords())throw new w;const h=l.getECBlocksForLevel(u);let g=0;const x=h.getECBlocks();for(const Z of x)g+=Z.getCount();const E=new Array(g);let C=0;for(const Z of x)for(let ee=0;ee<Z.getCount();ee++){const ie=Z.getDataCodewords(),fe=h.getECCodewordsPerBlock()+ie;E[C++]=new jl(ie,new Uint8Array(fe))}const T=E[0].codewords.length;let D=E.length-1;for(;D>=0&&E[D].codewords.length!==T;)D--;D++;const F=T-h.getECCodewordsPerBlock();let $=0;for(let Z=0;Z<F;Z++)for(let ee=0;ee<C;ee++)E[ee].codewords[Z]=a[$++];for(let Z=D;Z<C;Z++)E[Z].codewords[F]=a[$++];const G=E[0].codewords.length;for(let Z=F;Z<G;Z++)for(let ee=0;ee<C;ee++){const ie=ee<D?Z:Z+1;E[ee].codewords[ie]=a[$++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var $n;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})($n||($n={}));class ot{constructor(a,l,u,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=h,ot.FOR_BITS.set(h,this),ot.FOR_VALUE.set(a,this)}static forBits(a){const l=ot.FOR_BITS.get(a);if(l===void 0)throw new w;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof ot))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.TERMINATOR=new ot($n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ot.NUMERIC=new ot($n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ot.ALPHANUMERIC=new ot($n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ot.STRUCTURED_APPEND=new ot($n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ot.BYTE=new ot($n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ot.ECI=new ot($n.ECI,"ECI",Int32Array.from([0,0,0]),7),ot.KANJI=new ot($n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ot.FNC1_FIRST_POSITION=new ot($n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ot.FNC1_SECOND_POSITION=new ot($n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ot.HANZI=new ot($n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class or{static decode(a,l,u,h){const g=new Jc(a);let x=new Se;const E=new Array;let C=-1,T=-1;try{let D=null,F=!1,$;do{if(g.available()<4)$=ot.TERMINATOR;else{const G=g.readBits(4);$=ot.forBits(G)}switch($){case ot.TERMINATOR:break;case ot.FNC1_FIRST_POSITION:case ot.FNC1_SECOND_POSITION:F=!0;break;case ot.STRUCTURED_APPEND:if(g.available()<16)throw new H;C=g.readBits(8),T=g.readBits(8);break;case ot.ECI:const G=or.parseECIValue(g);if(D=Y.getCharacterSetECIByValue(G),D===null)throw new H;break;case ot.HANZI:const Z=g.readBits(4),ee=g.readBits($.getCharacterCountBits(l));Z===or.GB2312_SUBSET&&or.decodeHanziSegment(g,x,ee);break;default:const ie=g.readBits($.getCharacterCountBits(l));switch($){case ot.NUMERIC:or.decodeNumericSegment(g,x,ie);break;case ot.ALPHANUMERIC:or.decodeAlphanumericSegment(g,x,ie,F);break;case ot.BYTE:or.decodeByteSegment(g,x,ie,D,E,h);break;case ot.KANJI:or.decodeKanjiSegment(g,x,ie);break;default:throw new H}break}}while($!==ot.TERMINATOR)}catch{throw new H}return new ge(a,x.toString(),E.length===0?null:E,u===null?null:u.toString(),C,T)}static decodeHanziSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let E=x/96<<8&4294967295|x%96;E<959?E+=41377:E+=42657,h[g]=E>>8&255,h[g+1]=E&255,g+=2,u--}try{l.append(pe.decode(h,de.GB2312))}catch(x){throw new H(x)}}static decodeKanjiSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let E=x/192<<8&4294967295|x%192;E<7936?E+=33088:E+=49472,h[g]=E>>8,h[g+1]=E,g+=2,u--}try{l.append(pe.decode(h,de.SHIFT_JIS))}catch(x){throw new H(x)}}static decodeByteSegment(a,l,u,h,g,x){if(8*u>a.available())throw new H;const E=new Uint8Array(u);for(let T=0;T<u;T++)E[T]=a.readBits(8);let C;h===null?C=de.guessEncoding(E,x):C=h.getName();try{l.append(pe.decode(E,C))}catch(T){throw new H(T)}g.push(E)}static toAlphaNumericChar(a){if(a>=or.ALPHANUMERIC_CHARS.length)throw new H;return or.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,h){const g=l.length();for(;u>1;){if(a.available()<11)throw new H;const x=a.readBits(11);l.append(or.toAlphaNumericChar(Math.floor(x/45))),l.append(or.toAlphaNumericChar(x%45)),u-=2}if(u===1){if(a.available()<6)throw new H;l.append(or.toAlphaNumericChar(a.readBits(6)))}if(h)for(let x=g;x<l.length();x++)l.charAt(x)==="%"&&(x<l.length()-1&&l.charAt(x+1)==="%"?l.deleteCharAt(x+1):l.setCharAt(x,""))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new H;const h=a.readBits(10);if(h>=1e3)throw new H;l.append(or.toAlphaNumericChar(Math.floor(h/100))),l.append(or.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(or.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new H;const h=a.readBits(7);if(h>=100)throw new H;l.append(or.toAlphaNumericChar(Math.floor(h/10))),l.append(or.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new H;const h=a.readBits(4);if(h>=10)throw new H;l.append(or.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=a.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=a.readBits(16);return(l&31)<<16&4294967295|u}throw new H}}or.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",or.GB2312_SUBSET=1;class eu{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class tu{constructor(){this.rsDecoder=new Ct(ze.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(ke.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const u=new Qd(a);let h=null;try{return this.decodeBitMatrixParser(u,l)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,l);return g.setOther(new eu(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,l){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),x=jl.getDataBlocks(g,u,h);let E=0;for(const D of x)E+=D.getNumDataCodewords();const C=new Uint8Array(E);let T=0;for(const D of x){const F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let G=0;G<$;G++)C[T++]=F[G]}return or.decode(C,u,h,l)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new _}for(let h=0;h<l;h++)a[h]=u[h]}}class Us extends Fe{constructor(a,l,u){super(a,l),this.estimatedModuleSize=u}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=(this.getX()+l)/2,g=(this.getY()+a)/2,x=(this.estimatedModuleSize+u)/2;return new Us(h,g,x)}}class Ei{constructor(a,l,u,h,g,x,E){this.image=a,this.startX=l,this.startY=u,this.width=h,this.height=g,this.moduleSize=x,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,u=this.width,h=a+u,g=this.startY+l/2,x=new Int32Array(3),E=this.image;for(let C=0;C<l;C++){const T=g+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));x[0]=0,x[1]=0,x[2]=0;let D=a;for(;D<h&&!E.get(D,T);)D++;let F=0;for(;D<h;){if(E.get(D,T))if(F===1)x[1]++;else if(F===2){if(this.foundPatternCross(x)){const $=this.handlePossibleCenter(x,T,D);if($!==null)return $}x[0]=x[2],x[1]=1,x[2]=0,F=1}else x[++F]++;else F===1&&F++,x[F]++;D++}if(this.foundPatternCross(x)){const $=this.handlePossibleCenter(x,T,h);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,u=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=u)return!1;return!0}crossCheckVertical(a,l,u,h){const g=this.image,x=g.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let C=a;for(;C>=0&&g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&!g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(l,C)&&E[1]<=u;)E[1]++,C++;if(C===x||E[1]>u)return NaN;for(;C<x&&!g.get(l,C)&&E[2]<=u;)E[2]++,C++;if(E[2]>u)return NaN;const T=E[0]+E[1]+E[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(E)?Ei.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u){const h=a[0]+a[1]+a[2],g=Ei.centerFromEnd(a,u),x=this.crossCheckVertical(l,g,2*a[1],h);if(!isNaN(x)){const E=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(E,x,g))return T.combineEstimate(x,g,E);const C=new Us(g,x,E);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Vi extends Fe{constructor(a,l,u,h){super(a,l),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=this.count+1,g=(this.count*this.getX()+l)/h,x=(this.count*this.getY()+a)/h,E=(this.count*this.estimatedModuleSize+u)/h;return new Vi(g,x,E,h)}}class ka{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class br{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(V.TRY_HARDER)!==void 0,u=a!=null&&a.get(V.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),x=h.getWidth();let E=Math.floor(3*g/(4*br.MAX_MODULES));(E<br.MIN_SKIP||l)&&(E=br.MIN_SKIP);let C=!1;const T=new Int32Array(5);for(let F=E-1;F<g&&!C;F+=E){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let $=0;for(let G=0;G<x;G++)if(h.get(G,F))($&1)===1&&$++,T[$]++;else if(($&1)===0)if($===4)if(br.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,G,u)===!0)if(E=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(F+=ee-T[2]-E,G=x-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;continue}$=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;else T[++$]++;else T[$]++;br.foundPatternCross(T)&&this.handlePossibleCenter(T,F,x,u)===!0&&(E=T[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Fe.orderBestPatterns(D),new ka(D)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let g=0;g<5;g++){const x=a[g];if(x===0)return!1;l+=x}if(l<7)return!1;const u=l/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,h){const g=this.getCrossCheckStateCount();let x=0;const E=this.image;for(;a>=x&&l>=x&&E.get(l-x,a-x);)g[2]++,x++;if(a<x||l<x)return!1;for(;a>=x&&l>=x&&!E.get(l-x,a-x)&&g[1]<=u;)g[1]++,x++;if(a<x||l<x||g[1]>u)return!1;for(;a>=x&&l>=x&&E.get(l-x,a-x)&&g[0]<=u;)g[0]++,x++;if(g[0]>u)return!1;const C=E.getHeight(),T=E.getWidth();for(x=1;a+x<C&&l+x<T&&E.get(l+x,a+x);)g[2]++,x++;if(a+x>=C||l+x>=T)return!1;for(;a+x<C&&l+x<T&&!E.get(l+x,a+x)&&g[3]<u;)g[3]++,x++;if(a+x>=C||l+x>=T||g[3]>=u)return!1;for(;a+x<C&&l+x<T&&E.get(l+x,a+x)&&g[4]<u;)g[4]++,x++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&br.foundPatternCross(g)}crossCheckVertical(a,l,u,h){const g=this.image,x=g.getHeight(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(l,C);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(l,C);)E[2]++,C++;if(C===x)return NaN;for(;C<x&&!g.get(l,C)&&E[3]<u;)E[3]++,C++;if(C===x||E[3]>=u)return NaN;for(;C<x&&g.get(l,C)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=2*h?NaN:br.foundPatternCross(E)?br.centerFromEnd(E,C):NaN}crossCheckHorizontal(a,l,u,h){const g=this.image,x=g.getWidth(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(C,l);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(C,l)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(C,l)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(C,l);)E[2]++,C++;if(C===x)return NaN;for(;C<x&&!g.get(C,l)&&E[3]<u;)E[3]++,C++;if(C===x||E[3]>=u)return NaN;for(;C<x&&g.get(C,l)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=h?NaN:br.foundPatternCross(E)?br.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let x=br.centerFromEnd(a,u),E=this.crossCheckVertical(l,Math.floor(x),a[2],g);if(!isNaN(E)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(E),a[2],g),!isNaN(x)&&(!h||this.crossCheckDiagonal(Math.floor(E),Math.floor(x),a[2],g)))){const C=g/7;let T=!1;const D=this.possibleCenters;for(let F=0,$=D.length;F<$;F++){const G=D[F];if(G.aboutEquals(C,E,x)){D[F]=G.combineEstimate(E,x,C),T=!0;break}}if(!T){const F=new Vi(x,E,C);D.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=br.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=br.CENTER_QUORUM&&(a++,l+=x.getEstimatedModuleSize());if(a<3)return!1;const h=l/u;let g=0;for(const x of this.possibleCenters)g+=Math.abs(x.getEstimatedModuleSize()-h);return g<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new re;const l=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const C of this.possibleCenters){const T=C.getEstimatedModuleSize();h+=T,g+=T*T}u=h/a;let x=Math.sqrt(g/a-u*u);l.sort((C,T)=>{const D=Math.abs(T.getEstimatedModuleSize()-u),F=Math.abs(C.getEstimatedModuleSize()-u);return D<F?-1:D>F?1:0});const E=Math.max(.2*u,x);for(let C=0;C<l.length&&l.length>3;C++){const T=l[C];Math.abs(T.getEstimatedModuleSize()-u)>E&&(l.splice(C,1),C--)}}if(l.length>3){let h=0;for(const g of l)h+=g.getEstimatedModuleSize();u=h/l.length,l.sort((g,x)=>{if(x.getCount()===g.getCount()){const E=Math.abs(x.getEstimatedModuleSize()-u),C=Math.abs(g.getEstimatedModuleSize()-u);return E<C?1:E>C?-1:0}else return x.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}br.CENTER_QUORUM=2,br.MIN_SKIP=3,br.MAX_MODULES=57;class fa{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(V.NEED_RESULT_POINT_CALLBACK);const u=new br(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const l=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(l,u,h);if(g<1)throw new re("No pattern found in proccess finder.");const x=fa.computeDimension(l,u,h,g),E=rt.getProvisionalVersionForDimension(x),C=E.getDimensionForVersion()-7;let T=null;if(E.getAlignmentPatternCenters().length>0){const G=u.getX()-l.getX()+h.getX(),Z=u.getY()-l.getY()+h.getY(),ee=1-3/C,ie=Math.floor(l.getX()+ee*(G-l.getX())),fe=Math.floor(l.getY()+ee*(Z-l.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{T=this.findAlignmentInRegion(g,ie,fe,Pe);break}catch(je){if(!(je instanceof re))throw je}}const D=fa.createTransform(l,u,h,T,x),F=fa.sampleGrid(this.image,D,x);let $;return T===null?$=[h,l,u]:$=[h,l,u,T],new si(F,$)}static createTransform(a,l,u,h,g){const x=g-3.5;let E,C,T,D;return h!==null?(E=h.getX(),C=h.getY(),T=x-3,D=T):(E=l.getX()-a.getX()+u.getX(),C=l.getY()-a.getY()+u.getY(),T=x,D=x),Mr.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,T,D,3.5,x,a.getX(),a.getY(),l.getX(),l.getY(),E,C,u.getX(),u.getY())}static sampleGrid(a,l,u){return st.getInstance().sampleGridWithTransform(a,u,u,l)}static computeDimension(a,l,u,h){const g=bt.round(Fe.distance(a,l)/h),x=bt.round(Fe.distance(a,u)/h);let E=Math.floor((g+x)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new re("Dimensions could be not found.")}return E}calculateModuleSize(a,l,u){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,l,u,h),x=1,E=a-(u-a);E<0?(x=a/(a-E),E=0):E>=this.image.getWidth()&&(x=(this.image.getWidth()-1-a)/(E-a),E=this.image.getWidth()-1);let C=Math.floor(l-(h-l)*x);return x=1,C<0?(x=l/(l-C),C=0):C>=this.image.getHeight()&&(x=(this.image.getHeight()-1-l)/(C-l),C=this.image.getHeight()-1),E=Math.floor(a+(E-a)*x),g+=this.sizeOfBlackWhiteBlackRun(a,l,E,C),g-1}sizeOfBlackWhiteBlackRun(a,l,u,h){const g=Math.abs(h-l)>Math.abs(u-a);if(g){let G=a;a=l,l=G,G=u,u=h,h=G}const x=Math.abs(u-a),E=Math.abs(h-l);let C=-x/2;const T=a<u?1:-1,D=l<h?1:-1;let F=0;const $=u+T;for(let G=a,Z=l;G!==$;G+=T){const ee=g?Z:G,ie=g?G:Z;if(F===1===this.image.get(ee,ie)){if(F===2)return bt.distance(G,Z,a,l);F++}if(C+=E,C>0){if(Z===h)break;Z+=D,C-=x}}return F===2?bt.distance(u+T,h,a,l):NaN}findAlignmentInRegion(a,l,u,h){const g=Math.floor(h*a),x=Math.max(0,l-g),E=Math.min(this.image.getWidth()-1,l+g);if(E-x<a*3)throw new re("Alignment top exceeds estimated module size.");const C=Math.max(0,u-g),T=Math.min(this.image.getHeight()-1,u+g);if(T-C<a*3)throw new re("Alignment bottom exceeds estimated module size.");return new Ei(this.image,x,C,E-x,T-C,a,this.resultPointCallback).find()}}class Pn{constructor(){this.decoder=new tu}getDecoder(){return this.decoder}decode(a,l){let u,h;if(l!=null&&l.get(V.PURE_BARCODE)!==void 0){const C=Pn.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(C,l),h=Pn.NO_POINTS}else{const C=new fa(a.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(C.getBits(),l),h=C.getPoints()}u.getOther()instanceof eu&&u.getOther().applyMirroredCorrection(h);const g=new Le(u.getText(),u.getRawBytes(),void 0,h,Ne.QR_CODE,void 0),x=u.getByteSegments();x!==null&&g.putMetadata(nt.BYTE_SEGMENTS,x);const E=u.getECLevel();return E!==null&&g.putMetadata(nt.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(g.putMetadata(nt.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(nt.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l===null||u===null)throw new re;const h=this.moduleSize(l,a);let g=l[1],x=u[1],E=l[0],C=u[0];if(E>=C||g>=x)throw new re;if(x-g!==C-E&&(C=E+(x-g),C>=a.getWidth()))throw new re;const T=Math.round((C-E+1)/h),D=Math.round((x-g+1)/h);if(T<=0||D<=0)throw new re;if(D!==T)throw new re;const F=Math.floor(h/2);g+=F,E+=F;const $=E+Math.floor((T-1)*h)-C;if($>0){if($>F)throw new re;E-=$}const G=g+Math.floor((D-1)*h)-x;if(G>0){if(G>F)throw new re;g-=G}const Z=new ke(T,D);for(let ee=0;ee<D;ee++){const ie=g+Math.floor(ee*h);for(let fe=0;fe<T;fe++)a.get(E+Math.floor(fe*h),ie)&&Z.set(fe,ee)}return Z}static moduleSize(a,l){const u=l.getHeight(),h=l.getWidth();let g=a[0],x=a[1],E=!0,C=0;for(;g<h&&x<u;){if(E!==l.get(g,x)){if(++C===5)break;E=!E}g++,x++}if(g===h||x===u)throw new re;return(g-a[0])/7}}Pn.NO_POINTS=new Array;class ht{PDF417Common(){}static getBitCountSum(a){return bt.sum(a)}static toIntArray(a){if(a==null||!a.length)return ht.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let u=0;for(const h of a)l[u++]=h;return l}static getCodeword(a){const l=L.binarySearch(ht.SYMBOL_TABLE,a&262143);return l<0?-1:(ht.CODEWORD_TABLE[l]-1)%ht.NUMBER_OF_CODEWORDS}}ht.NUMBER_OF_CODEWORDS=929,ht.MAX_CODEWORDS_IN_BARCODE=ht.NUMBER_OF_CODEWORDS-1,ht.MIN_ROWS_IN_BARCODE=3,ht.MAX_ROWS_IN_BARCODE=90,ht.MODULES_IN_CODEWORD=17,ht.MODULES_IN_STOP_PATTERN=18,ht.BARS_IN_MODULE=8,ht.EMPTY_INT_ARRAY=new Int32Array([]),ht.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ht.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Jd{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class yt{static detectMultiple(a,l,u){let h=a.getBlackMatrix(),g=yt.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=yt.detect(u,h)),new Jd(h,g)}static detect(a,l){const u=new Array;let h=0,g=0,x=!1;for(;h<l.getHeight();){const E=yt.findVertices(l,h,g);if(E[0]==null&&E[3]==null){if(!x)break;x=!1,g=0;for(const C of u)C[1]!=null&&(h=Math.trunc(Math.max(h,C[1].getY()))),C[3]!=null&&(h=Math.max(h,Math.trunc(C[3].getY())));h+=yt.ROW_STEP;continue}if(x=!0,u.push(E),!a)break;E[2]!=null?(g=Math.trunc(E[2].getX()),h=Math.trunc(E[2].getY())):(g=Math.trunc(E[4].getX()),h=Math.trunc(E[4].getY()))}return u}static findVertices(a,l,u){const h=a.getHeight(),g=a.getWidth(),x=new Array(8);return yt.copyToResult(x,yt.findRowsWithPattern(a,h,g,l,u,yt.START_PATTERN),yt.INDEXES_START_PATTERN),x[4]!=null&&(u=Math.trunc(x[4].getX()),l=Math.trunc(x[4].getY())),yt.copyToResult(x,yt.findRowsWithPattern(a,h,g,l,u,yt.STOP_PATTERN),yt.INDEXES_STOP_PATTERN),x}static copyToResult(a,l,u){for(let h=0;h<u.length;h++)a[u[h]]=l[h]}static findRowsWithPattern(a,l,u,h,g,x){const E=new Array(4);let C=!1;const T=new Int32Array(x.length);for(;h<l;h+=yt.ROW_STEP){let F=yt.findGuardPattern(a,g,h,u,!1,x,T);if(F!=null){for(;h>0;){const $=yt.findGuardPattern(a,g,--h,u,!1,x,T);if($!=null)F=$;else{h++;break}}E[0]=new Fe(F[0],h),E[1]=new Fe(F[1],h),C=!0;break}}let D=h+1;if(C){let F=0,$=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;D<l;D++){const G=yt.findGuardPattern(a,$[0],D,u,!1,x,T);if(G!=null&&Math.abs($[0]-G[0])<yt.MAX_PATTERN_DRIFT&&Math.abs($[1]-G[1])<yt.MAX_PATTERN_DRIFT)$=G,F=0;else{if(F>yt.SKIPPED_ROW_COUNT_MAX)break;F++}}D-=F+1,E[2]=new Fe($[0],D),E[3]=new Fe($[1],D)}return D-h<yt.BARCODE_MIN_HEIGHT&&L.fill(E,null),E}static findGuardPattern(a,l,u,h,g,x,E){L.fillWithin(E,0,E.length,0);let C=l,T=0;for(;a.get(C,u)&&C>0&&T++<yt.MAX_PIXEL_DRIFT;)C--;let D=C,F=0,$=x.length;for(let G=g;D<h;D++)if(a.get(D,u)!==G)E[F]++;else{if(F===$-1){if(yt.patternMatchVariance(E,x,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=E[0]+E[1],N.arraycopy(E,2,E,0,F-1),E[F-1]=0,E[F]=0,F--}else F++;E[F]=1,G=!G}return F===$-1&&yt.patternMatchVariance(E,x,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(a,l,u){let h=a.length,g=0,x=0;for(let T=0;T<h;T++)g+=a[T],x+=l[T];if(g<x)return 1/0;let E=g/x;u*=E;let C=0;for(let T=0;T<h;T++){let D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return 1/0;C+=$}return C/g}}yt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),yt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),yt.MAX_AVG_VARIANCE=.42,yt.MAX_INDIVIDUAL_VARIANCE=.8,yt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),yt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),yt.MAX_PIXEL_DRIFT=3,yt.MAX_PATTERN_DRIFT=5,yt.SKIPPED_ROW_COUNT_MAX=25,yt.ROW_STEP=5,yt.BARCODE_MIN_HEIGHT=10;class ln{constructor(a,l){if(l.length===0)throw new w;this.field=a;let u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),N.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let l=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){let x=l;l=u,u=x}let h=new Int32Array(u.length),g=u.length-l.length;N.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=this.field.add(l[x-g],u[x]);return new ln(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof ln?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new ln(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1);for(let E=0;E<u;E++){let C=l[E];for(let T=0;T<g;T++)x[E+T]=this.field.add(x[E+T],this.field.multiply(C,h[T]))}return new ln(this.field,x)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new ln(this.field,l)}multiplyScalar(a){if(a===0)return new ln(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new ln(this.field,u)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return new ln(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],l);return new ln(this.field,h)}toString(){let a=new Se;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(l===0||u!==1)&&a.append(u),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class ef{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}inverse(a){if(a===0)throw new ye;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class zs extends ef{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new ln(this,new Int32Array([0])),this.one=new ln(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;let u=new Int32Array(a+1);return u[0]=l,new ln(this,u)}}zs.PDF417_GF=new zs(ht.NUMBER_OF_CODEWORDS,3);class ru{constructor(){this.field=zs.PDF417_GF}decode(a,l,u){let h=new ln(this.field,a),g=new Int32Array(l),x=!1;for(let Z=l;Z>0;Z--){let ee=h.evaluateAt(this.field.exp(Z));g[l-Z]=ee,ee!==0&&(x=!0)}if(!x)return 0;let E=this.field.getOne();if(u!=null)for(const Z of u){let ee=this.field.exp(a.length-1-Z),ie=new ln(this.field,new Int32Array([this.field.subtract(0,ee),1]));E=E.multiply(ie)}let C=new ln(this.field,g),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),C,l),D=T[0],F=T[1],$=this.findErrorLocations(D),G=this.findErrorMagnitudes(F,D,$);for(let Z=0;Z<$.length;Z++){let ee=a.length-1-this.field.log($[Z]);if(ee<0)throw _.getChecksumInstance();a[ee]=this.field.subtract(a[ee],G[Z])}return $.length}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){let $=a;a=l,l=$}let h=a,g=l,x=this.field.getZero(),E=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let $=h,G=x;if(h=g,x=E,h.isZero())throw _.getChecksumInstance();g=$;let Z=this.field.getZero(),ee=h.getCoefficient(h.getDegree()),ie=this.field.inverse(ee);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let fe=g.getDegree()-h.getDegree(),Pe=this.field.multiply(g.getCoefficient(g.getDegree()),ie);Z=Z.add(this.field.buildMonomial(fe,Pe)),g=g.subtract(h.multiplyByMonomial(fe,Pe))}E=Z.multiply(x).subtract(G).negative()}let C=E.getCoefficient(0);if(C===0)throw _.getChecksumInstance();let T=this.field.inverse(C),D=E.multiply(T),F=g.multiply(T);return[D,F]}findErrorLocations(a){let l=a.getDegree(),u=new Int32Array(l),h=0;for(let g=1;g<this.field.getSize()&&h<l;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==l)throw _.getChecksumInstance();return u}findErrorMagnitudes(a,l,u){let h=l.getDegree(),g=new Int32Array(h);for(let T=1;T<=h;T++)g[h-T]=this.field.multiply(T,l.getCoefficient(T));let x=new ln(this.field,g),E=u.length,C=new Int32Array(E);for(let T=0;T<E;T++){let D=this.field.inverse(u[T]),F=this.field.subtract(0,a.evaluateAt(D)),$=this.field.inverse(x.evaluateAt(D));C[T]=this.field.multiply(F,$)}return C}}class es{constructor(a,l,u,h,g){a instanceof es?this.constructor_2(a):this.constructor_1(a,l,u,h,g)}constructor_1(a,l,u,h,g){const x=l==null||u==null,E=h==null||g==null;if(x&&E)throw new re;x?(l=new Fe(0,h.getY()),u=new Fe(0,g.getY())):E&&(h=new Fe(a.getWidth()-1,l.getY()),g=new Fe(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=l,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new es(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,u){let h=this.topLeft,g=this.bottomLeft,x=this.topRight,E=this.bottomRight;if(a>0){let C=u?this.topLeft:this.topRight,T=Math.trunc(C.getY()-a);T<0&&(T=0);let D=new Fe(C.getX(),T);u?h=D:x=D}if(l>0){let C=u?this.bottomLeft:this.bottomRight,T=Math.trunc(C.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let D=new Fe(C.getX(),T);u?g=D:E=D}return new es(this.image,h,g,x,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class No{constructor(a,l,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ha{constructor(){this.buffer=""}static form(a,l){let u=-1;function h(x,E,C,T,D,F){if(x==="%%")return"%";if(l[++u]===void 0)return;x=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,G;switch(F){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(x);break;case"p":G=parseFloat(l[u]).toPrecision(x);break;case"e":G=parseFloat(l[u]).toExponential(x);break;case"x":G=parseInt(l[u]).toString($||16);break;case"d":G=parseFloat(parseInt(l[u],$||10).toPrecision(x)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString($);let Z=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;G.length<Z;)G=E!==void 0?G+ee:ee+G;return G}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...l){this.buffer+=ha.form(a,l)}toString(){return this.buffer}}class Hi{constructor(a){this.boundingBox=new es(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let u=1;u<Hi.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ha;let l=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return a.toString()}}Hi.MAX_NEARBY_DISTANCE=5;class ja{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===a&&l.push(g.getKey())}return ht.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class tf extends Hi{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=-1,T=1,D=0;for(let F=x;F<E;F++){if(l[F]==null)continue;let $=l[F],G=$.getRowNumber()-C;if(G===0)D++;else if(G===1)T=Math.max(T,D),D=1,C=$.getRowNumber();else if(G<0||$.getRowNumber()>=a.getRowCount()||G>F)l[F]=null;else{let Z;T>2?Z=(T-2)*G:Z=G;let ee=Z>=F;for(let ie=1;ie<=Z&&!ee;ie++)ee=l[F-ie]!=null;ee?l[F]=null:(C=$.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.getCodewords(),C=-1;for(let T=g;T<x;T++){if(E[T]==null)continue;let D=E[T];D.setRowNumberAsRowIndicatorColumn();let F=D.getRowNumber()-C;F===0||(F===1?C=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?E[T]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new ja,u=new ja,h=new ja,g=new ja;for(let E of a){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let C=E.getValue()%30,T=E.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(C*3+1);break;case 1:g.setValue(C/3),h.setValue(C%3);break;case 2:l.setValue(C+1);break}}if(l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<ht.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>ht.MAX_ROWS_IN_BARCODE)return null;let x=new No(l.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,x),x}removeIncorrectCodewords(a,l){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,x=h.getRowNumber();if(x>l.getRowCount()){a[u]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==l.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Io{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=ht.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&l[u]!=null&&a[u].getRowNumber()===l[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let x=this.barcodeColumnCount+1;x>0&&g<this.ADJUST_ROW_NUMBER_SKIP;x--){let E=this.detectionResultColumns[x].getCodewords()[u];E!=null&&(g=Io.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let x=1;x<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;x++){let E=this.detectionResultColumns[x].getCodewords()[u];E!=null&&(g=Io.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,u){if(!this.detectionResultColumns[a-1])return;let h=u[l],g=this.detectionResultColumns[a-1].getCodewords(),x=g;this.detectionResultColumns[a+1]!=null&&(x=this.detectionResultColumns[a+1].getCodewords());let E=new Array(14);E[2]=g[l],E[3]=x[l],l>0&&(E[0]=u[l-1],E[4]=g[l-1],E[5]=x[l-1]),l>1&&(E[8]=u[l-2],E[10]=g[l-2],E[11]=x[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=g[l+1],E[7]=x[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=g[l+2],E[13]=x[l+2]);for(let C of E)if(Io.adjustRowNumber(h,C))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ha;for(let u=0;u<a.getCodewords().length;u++){l.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class ts{constructor(a,l,u,h){this.rowNumber=ts.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==ts.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}ts.BARCODE_ROW_UNKNOWN=-1;class cn{static initialize(){for(let a=0;a<ht.SYMBOL_TABLE.length;a++){let l=ht.SYMBOL_TABLE[a],u=l&1;for(let h=0;h<ht.BARS_IN_MODULE;h++){let g=0;for(;(l&1)===u;)g+=1,l>>=1;u=l&1,cn.RATIOS_TABLE[a]||(cn.RATIOS_TABLE[a]=new Array(ht.BARS_IN_MODULE)),cn.RATIOS_TABLE[a][ht.BARS_IN_MODULE-h-1]=Math.fround(g/ht.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=cn.getDecodedCodewordValue(cn.sampleBitCounts(a));return l!==-1?l:cn.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=bt.sum(a),u=new Int32Array(ht.BARS_IN_MODULE),h=0,g=0;for(let x=0;x<ht.MODULES_IN_CODEWORD;x++){let E=l/(2*ht.MODULES_IN_CODEWORD)+x*l/ht.MODULES_IN_CODEWORD;g+a[h]<=E&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let l=cn.getBitValue(a);return ht.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=bt.sum(a),u=new Array(ht.BARS_IN_MODULE);if(l>1)for(let x=0;x<u.length;x++)u[x]=Math.fround(a[x]/l);let h=hr.MAX_VALUE,g=-1;this.bSymbolTableReady||cn.initialize();for(let x=0;x<cn.RATIOS_TABLE.length;x++){let E=0,C=cn.RATIOS_TABLE[x];for(let T=0;T<ht.BARS_IN_MODULE;T++){let D=Math.fround(C[T]-u[T]);if(E+=Math.fround(D*D),E>=h)break}E<h&&(h=E,g=ht.SYMBOL_TABLE[x])}return g}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=new Array(ht.SYMBOL_TABLE.length).map(B=>new Array(ht.BARS_IN_MODULE));class Rl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class nu{static parseLong(a,l=void 0){return parseInt(a,l)}}class pa extends m{}pa.kind="NullPointerException";class iu{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,u){if(a==null)throw new pa;if(l<0||l>a.length||u<0||l+u>a.length||l+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(a[l+h])}flush(){}close(){}}class Ml extends m{}class rf extends iu{constructor(a=32){if(super(),this.count=0,a<0)throw new w("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new Ml;u=R.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,u){if(l<0||l>a.length||u<0||l+u-a.length>0)throw new k;this.ensureCapacity(this.count+u),N.arraycopy(a,l,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Lt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function To(){if(typeof window<"u")return window.BigInt||null;if(typeof eh<"u")return eh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Po;function Lr(B){if(typeof Po>"u"&&(Po=To()),Po===null)throw new Error("BigInt is not supported!");return Po(B)}function $s(){let B=[];B[0]=Lr(1);let a=Lr(900);B[1]=a;for(let l=2;l<16;l++)B[l]=B[l-1]*a;return B}class he{static decode(a,l){let u=new Se(""),h=Y.ISO8859_1;u.enableDecoding(h);let g=1,x=a[g++],E=new Rl;for(;g<a[0];){switch(x){case he.TEXT_COMPACTION_MODE_LATCH:g=he.textCompaction(a,g,u);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:g=he.byteCompaction(x,a,h,g,u);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:g=he.numericCompaction(a,g,u);break;case he.ECI_CHARSET:Y.getCharacterSetECIByValue(a[g++]);break;case he.ECI_GENERAL_PURPOSE:g+=2;break;case he.ECI_USER_DEFINED:g++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=he.decodeMacroBlock(a,g,E);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new H;default:g--,g=he.textCompaction(a,g,u);break}if(g<a.length)x=a[g++];else throw H.getFormatInstance()}if(u.length()===0)throw H.getFormatInstance();let C=new ge(null,u.toString(),null,l);return C.setOther(E),C}static decodeMacroBlock(a,l,u){if(l+he.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw H.getFormatInstance();let h=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<he.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)h[E]=a[l];u.setSegmentIndex(R.parseInt(he.decodeBase900toBase10(h,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Se;l=he.textCompaction(a,l,g),u.setFileId(g.toString());let x=-1;for(a[l]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=l+1);l<a[0];)switch(a[l]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Se;l=he.textCompaction(a,l+1,E),u.setFileName(E.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new Se;l=he.textCompaction(a,l+1,C),u.setSender(C.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Se;l=he.textCompaction(a,l+1,T),u.setAddressee(T.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new Se;l=he.numericCompaction(a,l+1,D),u.setSegmentCount(R.parseInt(D.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Se;l=he.numericCompaction(a,l+1,F),u.setTimestamp(nu.parseLong(F.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new Se;l=he.numericCompaction(a,l+1,$),u.setChecksum(R.parseInt($.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Se;l=he.numericCompaction(a,l+1,G),u.setFileSize(nu.parseLong(G.toString()));break;default:throw H.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(x!==-1){let E=l-x;u.isLastSegment()&&E--,u.setOptionalData(L.copyOfRange(a,x,x+E))}return l}static textCompaction(a,l,u){let h=new Int32Array((a[0]-l)*2),g=new Int32Array((a[0]-l)*2),x=0,E=!1;for(;l<a[0]&&!E;){let C=a[l++];if(C<he.TEXT_COMPACTION_MODE_LATCH)h[x]=C/30,h[x+1]=C%30,x+=2;else switch(C){case he.TEXT_COMPACTION_MODE_LATCH:h[x++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[x]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=a[l++],g[x]=C,x++;break}}return he.decodeTextCompaction(h,g,x,u),l}static decodeTextCompaction(a,l,u,h){let g=Lt.ALPHA,x=Lt.ALPHA,E=0;for(;E<u;){let C=a[E],T="";switch(g){case Lt.ALPHA:if(C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case he.LL:g=Lt.LOWER;break;case he.ML:g=Lt.MIXED;break;case he.PS:x=g,g=Lt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.LOWER:if(C<26)T=String.fromCharCode(97+C);else switch(C){case 26:T=" ";break;case he.AS:x=g,g=Lt.ALPHA_SHIFT;break;case he.ML:g=Lt.MIXED;break;case he.PS:x=g,g=Lt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.MIXED:if(C<he.PL)T=he.MIXED_CHARS[C];else switch(C){case he.PL:g=Lt.PUNCT;break;case 26:T=" ";break;case he.LL:g=Lt.LOWER;break;case he.AL:g=Lt.ALPHA;break;case he.PS:x=g,g=Lt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.PUNCT:if(C<he.PAL)T=he.PUNCT_CHARS[C];else switch(C){case he.PAL:g=Lt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(g=x,C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(g=x,C<he.PAL)T=he.PUNCT_CHARS[C];else switch(C){case he.PAL:g=Lt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break}T!==""&&h.append(T),E++}}static byteCompaction(a,l,u,h,g){let x=new rf,E=0,C=0,T=!1;switch(a){case he.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),F=l[h++];for(;h<l[0]&&!T;)switch(D[E++]=F,C=900*C+F,F=l[h++],F){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(E%5===0&&E>0){for(let $=0;$<6;++$)x.write(Number(Lr(C)>>Lr(8*(5-$))));C=0,E=0}break}h===l[0]&&F<he.TEXT_COMPACTION_MODE_LATCH&&(D[E++]=F);for(let $=0;$<E;$++)x.write(D[$]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!T;){let $=l[h++];if($<he.TEXT_COMPACTION_MODE_LATCH)E++,C=900*C+$;else switch($){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(E%5===0&&E>0){for(let G=0;G<6;++G)x.write(Number(Lr(C)>>Lr(8*(5-G))));C=0,E=0}}break}return g.append(pe.decode(x.toByteArray(),u)),h}static numericCompaction(a,l,u){let h=0,g=!1,x=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!g;){let E=a[l++];if(l===a[0]&&(g=!0),E<he.TEXT_COMPACTION_MODE_LATCH)x[h]=E,h++;else switch(E){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(h%he.MAX_NUMERIC_CODEWORDS===0||E===he.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(he.decodeBase900toBase10(x,h)),h=0)}return l}static decodeBase900toBase10(a,l){let u=Lr(0);for(let g=0;g<l;g++)u+=he.EXP900[l-g-1]*Lr(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new H;return h.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=To()?$s():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(a,l,u,h,g,x,E){let C=new es(a,l,u,h,g),T=null,D=null,F;for(let Z=!0;;Z=!1){if(l!=null&&(T=Et.getRowIndicatorColumn(a,C,l,!0,x,E)),h!=null&&(D=Et.getRowIndicatorColumn(a,C,h,!1,x,E)),F=Et.merge(T,D),F==null)throw re.getNotFoundInstance();let ee=F.getBoundingBox();if(Z&&ee!=null&&(ee.getMinY()<C.getMinY()||ee.getMaxY()>C.getMaxY()))C=ee;else break}F.setBoundingBox(C);let $=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn($,D);let G=T!=null;for(let Z=1;Z<=$;Z++){let ee=G?Z:$-Z;if(F.getDetectionResultColumn(ee)!==void 0)continue;let ie;ee===0||ee===$?ie=new tf(C,ee===0):ie=new Hi(C),F.setDetectionResultColumn(ee,ie);let fe=-1,Pe=fe;for(let je=C.getMinY();je<=C.getMaxY();je++){if(fe=Et.getStartColumn(F,ee,je,G),fe<0||fe>C.getMaxX()){if(Pe===-1)continue;fe=Pe}let Oe=Et.detectCodeword(a,C.getMinX(),C.getMaxX(),G,fe,je,x,E);Oe!=null&&(ie.setCodeword(je,Oe),Pe=fe,x=Math.min(x,Oe.getWidth()),E=Math.max(E,Oe.getWidth()))}}return Et.createDecoderResult(F)}static merge(a,l){if(a==null&&l==null)return null;let u=Et.getBarcodeMetadata(a,l);if(u==null)return null;let h=es.merge(Et.adjustBoundingBox(a),Et.adjustBoundingBox(l));return new Io(u,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let u=Et.getMax(l),h=0;for(let E of l)if(h+=u-E,E>0)break;let g=a.getCodewords();for(let E=0;h>0&&g[E]==null;E++)h--;let x=0;for(let E=l.length-1;E>=0&&(x+=u-l[E],!(l[E]>0));E--);for(let E=g.length-1;x>0&&g[E]==null;E--)x--;return a.getBoundingBox().addMissingRows(h,x,a.isLeft())}static getMax(a){let l=-1;for(let u of a)l=Math.max(l,u);return l}static getBarcodeMetadata(a,l){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,l,u,h,g,x){let E=new tf(l,h);for(let C=0;C<2;C++){let T=C===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let F=Math.trunc(Math.trunc(u.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let $=Et.detectCodeword(a,0,a.getWidth(),h,D,F,g,x);$!=null&&(E.setCodeword(F,$),h?D=$.getStartX():D=$.getEndX())}}return E}static adjustCodewordCount(a,l){let u=l[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-Et.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>ht.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let l=Et.createBarcodeMatrix(a);Et.adjustCodewordCount(a,l);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],x=new Array;for(let C=0;C<a.getBarcodeRowCount();C++)for(let T=0;T<a.getBarcodeColumnCount();T++){let D=l[C][T+1].getValue(),F=C*a.getBarcodeColumnCount()+T;D.length===0?u.push(F):D.length===1?h[F]=D[0]:(x.push(F),g.push(D))}let E=new Array(g.length);for(let C=0;C<E.length;C++)E[C]=g[C];return Et.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,ht.toIntArray(u),ht.toIntArray(x),E)}static createDecoderResultFromAmbiguousValues(a,l,u,h,g){let x=new Int32Array(h.length),E=100;for(;E-- >0;){for(let C=0;C<x.length;C++)l[h[C]]=g[C][x[C]];try{return Et.decodeCodewords(l,a,u)}catch(C){if(!(C instanceof _))throw C}if(x.length===0)throw _.getChecksumInstance();for(let C=0;C<x.length;C++)if(x[C]<g[C].length-1){x[C]++;break}else if(x[C]=0,C===x.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let g=0;g<l[h].length;g++)l[h][g]=new ja;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let x=g.getRowNumber();if(x>=0){if(x>=l.length)continue;l[x][u].setValue(g.getValue())}}}u++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,u,h){let g=h?1:-1,x=null;if(Et.isValidBarcodeColumn(a,l-g)&&(x=a.getDetectionResultColumn(l-g).getCodeword(u)),x!=null)return h?x.getEndX():x.getStartX();if(x=a.getDetectionResultColumn(l).getCodewordNearby(u),x!=null)return h?x.getStartX():x.getEndX();if(Et.isValidBarcodeColumn(a,l-g)&&(x=a.getDetectionResultColumn(l-g).getCodewordNearby(u)),x!=null)return h?x.getEndX():x.getStartX();let E=0;for(;Et.isValidBarcodeColumn(a,l-g);){l-=g;for(let C of a.getDetectionResultColumn(l).getCodewords())if(C!=null)return(h?C.getEndX():C.getStartX())+g*E*(C.getEndX()-C.getStartX());E++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,u,h,g,x,E,C){g=Et.adjustCodewordStartColumn(a,l,u,h,g,x);let T=Et.getModuleBitCount(a,l,u,h,g,x);if(T==null)return null;let D,F=bt.sum(T);if(h)D=g+F;else{for(let Z=0;Z<T.length/2;Z++){let ee=T[Z];T[Z]=T[T.length-1-Z],T[T.length-1-Z]=ee}D=g,g=D-F}if(!Et.checkCodewordSkew(F,E,C))return null;let $=cn.getDecodedValue(T),G=ht.getCodeword($);return G===-1?null:new ts(g,D,Et.getCodewordBucketNumber($),G)}static getModuleBitCount(a,l,u,h,g,x){let E=g,C=new Int32Array(8),T=0,D=h?1:-1,F=h;for(;(h?E<u:E>=l)&&T<C.length;)a.get(E,x)===F?(C[T]++,E+=D):(T++,F=!F);return T===C.length||E===(h?u:l)&&T===C.length-1?C:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,u,h,g,x){let E=g,C=h?-1:1;for(let T=0;T<2;T++){for(;(h?E>=l:E<u)&&h===a.get(E,x);){if(Math.abs(g-E)>Et.CODEWORD_SKEW_SIZE)return g;E+=C}C=-C,h=!h}return E}static checkCodewordSkew(a,l,u){return l-Et.CODEWORD_SKEW_SIZE<=a&&a<=u+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,u){if(a.length===0)throw H.getFormatInstance();let h=1<<l+1,g=Et.correctErrors(a,u,h);Et.verifyCodewordCount(a,h);let x=he.decode(a,""+l);return x.setErrorsCorrected(g),x.setErasures(u.length),x}static correctErrors(a,l,u){if(l!=null&&l.length>u/2+Et.MAX_ERRORS||u<0||u>Et.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Et.errorCorrection.decode(a,u,l)}static verifyCodewordCount(a,l){if(a.length<4)throw H.getFormatInstance();let u=a[0];if(u>a.length)throw H.getFormatInstance();if(u===0)if(l<a.length)a[0]=a.length-l;else throw H.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),u=0,h=l.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new ha;for(let u=0;u<a.length;u++){l.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new ru;class un{decode(a,l=null){let u=un.decode(a,l,!1);if(u==null||u.length===0||u[0]==null)throw re.getNotFoundInstance();return u[0]}decodeMultiple(a,l=null){try{return un.decode(a,l,!0)}catch(u){throw u instanceof H||u instanceof _?re.getNotFoundInstance():u}}static decode(a,l,u){const h=new Array,g=yt.detectMultiple(a,l,u);for(const x of g.getPoints()){const E=Et.decode(g.getBits(),x[4],x[5],x[6],x[7],un.getMinCodewordWidth(x),un.getMaxCodewordWidth(x)),C=new Le(E.getText(),E.getRawBytes(),void 0,x,Ne.PDF_417);C.putMetadata(nt.ERROR_CORRECTION_LEVEL,E.getECLevel());const T=E.getOther();T!=null&&C.putMetadata(nt.PDF417_EXTRA_METADATA,T),h.push(C)}return h.map(x=>x)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?R.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(un.getMaxWidth(a[0],a[4]),un.getMaxWidth(a[6],a[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(a[1],a[5]),un.getMaxWidth(a[7],a[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(un.getMinWidth(a[0],a[4]),un.getMinWidth(a[6],a[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(a[1],a[5]),un.getMinWidth(a[7],a[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ws extends m{}Ws.kind="ReaderException";class Dl{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!n(a)&&a.get(V.TRY_HARDER)===!0,u=n(a)?null:a.get(V.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const g=u.some(x=>x===Ne.UPC_A||x===Ne.UPC_E||x===Ne.EAN_13||x===Ne.EAN_8||x===Ne.CODABAR||x===Ne.CODE_39||x===Ne.CODE_93||x===Ne.CODE_128||x===Ne.ITF||x===Ne.RSS_14||x===Ne.RSS_EXPANDED);g&&!l&&h.push(new Bs(a,this.verbose)),u.includes(Ne.QR_CODE)&&h.push(new Pn),u.includes(Ne.DATA_MATRIX)&&h.push(new bi),u.includes(Ne.AZTEC)&&h.push(new ar),u.includes(Ne.PDF_417)&&h.push(new un),g&&l&&h.push(new Bs(a,this.verbose))}h.length===0&&(l||h.push(new Bs(a,this.verbose)),h.push(new Pn),h.push(new bi),h.push(new ar),h.push(new un),l&&h.push(new Bs(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Ws("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(u){if(u instanceof Ws)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class ko extends Be{constructor(a=null,l=500){const u=new Dl;u.setHints(a),super(u,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Ll extends Be{constructor(a=500){super(new un,a)}}class nf extends Be{constructor(a=500){super(new Pn,a)}}var au;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(au||(au={}));var Vr=au;class su{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new xe(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let u=l[l.length-1];const h=this.field;for(let g=l.length;g<=a;g++){const x=u.multiply(new xe(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));l.push(x),u=x}}return l[a]}encode(a,l){if(l===0)throw new w("No error correction bytes");const u=a.length-l;if(u<=0)throw new w("No data bytes provided");const h=this.buildGenerator(l),g=new Int32Array(u);N.arraycopy(a,0,g,0,u);let x=new xe(this.field,g);x=x.multiplyByMonomial(l,1);const C=x.divide(h)[1].getCoefficients(),T=l-C.length;for(let D=0;D<T;D++)a[u+D]=0;N.arraycopy(C,0,a,u+T,C.length)}}class lr{constructor(){}static applyMaskPenaltyRule1(a){return lr.applyMaskPenaltyRule1Internal(a,!0)+lr.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g-1;x++){const E=u[x];for(let C=0;C<h-1;C++){const T=E[C];T===E[C+1]&&T===u[x+1][C]&&T===u[x+1][C+1]&&l++}}return lr.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g;x++)for(let E=0;E<h;E++){const C=u[x];E+6<h&&C[E]===1&&C[E+1]===0&&C[E+2]===1&&C[E+3]===1&&C[E+4]===1&&C[E+5]===0&&C[E+6]===1&&(lr.isWhiteHorizontal(C,E-4,E)||lr.isWhiteHorizontal(C,E+7,E+11))&&l++,x+6<g&&u[x][E]===1&&u[x+1][E]===0&&u[x+2][E]===1&&u[x+3][E]===1&&u[x+4][E]===1&&u[x+5][E]===0&&u[x+6][E]===1&&(lr.isWhiteVertical(u,E,x-4,x)||lr.isWhiteVertical(u,E,x+7,x+11))&&l++}return l*lr.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let h=l;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let C=0;C<g;C++){const T=u[C];for(let D=0;D<h;D++)T[D]===1&&l++}const x=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-x)*10/x)*lr.N4}static getDataMaskBit(a,l,u){let h,g;switch(a){case 0:h=u+l&1;break;case 1:h=u&1;break;case 2:h=l%3;break;case 3:h=(u+l)%3;break;case 4:h=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:g=u*l,h=(g&1)+g%3;break;case 6:g=u*l,h=(g&1)+g%3&1;break;case 7:g=u*l,h=g%3+(u+l&1)&1;break;default:throw new w("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let u=0;const h=l?a.getHeight():a.getWidth(),g=l?a.getWidth():a.getHeight(),x=a.getArray();for(let E=0;E<h;E++){let C=0,T=-1;for(let D=0;D<g;D++){const F=l?x[E][D]:x[D][E];F===T?C++:(C>=5&&(u+=lr.N1+(C-5)),C=1,T=F)}C>=5&&(u+=lr.N1+(C-5))}return u}}lr.N1=3,lr.N2=3,lr.N3=40,lr.N4=10;class Bl{constructor(a,l){this.width=a,this.height=l;const u=new Array(l);for(let h=0;h!==l;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,u){this.bytes[l][a]=u}setBoolean(a,l,u){this.bytes[l][a]=u?1:0}clear(a){for(const l of this.bytes)L.fill(l,a)}equals(a){if(!(a instanceof Bl))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],x=l.bytes[u];for(let E=0,C=this.width;E<C;++E)if(g[E]!==x[E])return!1}return!0}toString(){const a=new Se;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l];for(let g=0,x=this.width;g<x;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class rs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Se;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<rs.NUM_MASK_PATTERNS}}rs.NUM_MASK_PATTERNS=8;class Yt extends m{}Yt.kind="WriterException";class ct{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,u,h,g){ct.clearMatrix(g),ct.embedBasicPatterns(u,g),ct.embedTypeInfo(l,h,g),ct.maybeEmbedVersionInfo(u,g),ct.embedDataBits(a,h,g)}static embedBasicPatterns(a,l){ct.embedPositionDetectionPatternsAndSeparators(l),ct.embedDarkDotAtLeftBottomCorner(l),ct.maybeEmbedPositionAdjustmentPatterns(a,l),ct.embedTimingPatterns(l)}static embedTypeInfo(a,l,u){const h=new z;ct.makeTypeInfoBits(a,l,h);for(let g=0,x=h.getSize();g<x;++g){const E=h.get(h.getSize()-1-g),C=ct.TYPE_INFO_COORDINATES[g],T=C[0],D=C[1];if(u.setBoolean(T,D,E),g<8){const F=u.getWidth()-g-1;u.setBoolean(F,8,E)}else{const $=u.getHeight()-7+(g-8);u.setBoolean(8,$,E)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const u=new z;ct.makeVersionInfoBits(a,u);let h=17;for(let g=0;g<6;++g)for(let x=0;x<3;++x){const E=u.get(h);h--,l.setBoolean(g,l.getHeight()-11+x,E),l.setBoolean(l.getHeight()-11+x,g,E)}}static embedDataBits(a,l,u){let h=0,g=-1,x=u.getWidth()-1,E=u.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);E>=0&&E<u.getHeight();){for(let C=0;C<2;++C){const T=x-C;if(!ct.isEmpty(u.get(T,E)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,l!==255&&lr.getDataMaskBit(l,T,E)&&(D=!D),u.setBoolean(T,E,D)}E+=g}g=-g,E+=g,x-=2}if(h!==a.getSize())throw new Yt("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-R.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new w("0 polynomial");const u=ct.findMSBSet(l);for(a<<=u-1;ct.findMSBSet(a)>=u;)a^=l<<ct.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,l,u){if(!rs.isValidMaskPattern(l))throw new Yt("Invalid mask pattern");const h=a.getBits()<<3|l;u.appendBits(h,5);const g=ct.calculateBCHCode(h,ct.TYPE_INFO_POLY);u.appendBits(g,10);const x=new z;if(x.appendBits(ct.TYPE_INFO_MASK_PATTERN,15),u.xor(x),u.getSize()!==15)throw new Yt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const u=ct.calculateBCHCode(a.getVersionNumber(),ct.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new Yt("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const u=(l+1)%2;ct.isEmpty(a.get(l,6))&&a.setNumber(l,6,u),ct.isEmpty(a.get(6,l))&&a.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Yt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,u){for(let h=0;h<8;++h){if(!ct.isEmpty(u.get(a+h,l)))throw new Yt;u.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,u){for(let h=0;h<7;++h){if(!ct.isEmpty(u.get(a,l+h)))throw new Yt;u.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,u){for(let h=0;h<5;++h){const g=ct.POSITION_ADJUSTMENT_PATTERN[h];for(let x=0;x<5;++x)u.setNumber(a+x,l+h,g[x])}}static embedPositionDetectionPattern(a,l,u){for(let h=0;h<7;++h){const g=ct.POSITION_DETECTION_PATTERN[h];for(let x=0;x<7;++x)u.setNumber(a+x,l+h,g[x])}}static embedPositionDetectionPatternsAndSeparators(a){const l=ct.POSITION_DETECTION_PATTERN[0].length;ct.embedPositionDetectionPattern(0,0,a),ct.embedPositionDetectionPattern(a.getWidth()-l,0,a),ct.embedPositionDetectionPattern(0,a.getWidth()-l,a);const u=8;ct.embedHorizontalSeparationPattern(0,u-1,a),ct.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),ct.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;ct.embedVerticalSeparationPattern(h,0,a),ct.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),ct.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,x=h.length;g!==x;g++){const E=h[g];if(E>=0)for(let C=0;C!==x;C++){const T=h[C];T>=0&&ct.isEmpty(l.get(T,E))&&ct.embedPositionAdjustmentPattern(T-2,E-2,l)}}}}ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ct.VERSION_INFO_POLY=7973,ct.TYPE_INFO_POLY=1335,ct.TYPE_INFO_MASK_PATTERN=21522;class cm{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qt{constructor(){}static calculateMaskPenalty(a){return lr.applyMaskPenaltyRule1(a)+lr.applyMaskPenaltyRule2(a)+lr.applyMaskPenaltyRule3(a)+lr.applyMaskPenaltyRule4(a)}static encode(a,l,u=null){let h=Qt.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Vr.CHARACTER_SET)!==void 0;g&&(h=u.get(Vr.CHARACTER_SET).toString());const x=this.chooseMode(a,h),E=new z;if(x===ot.BYTE&&(g||Qt.DEFAULT_BYTE_MODE_ENCODING!==h)){const je=Y.getCharacterSetECIByName(h);je!==void 0&&this.appendECI(je,E)}this.appendModeInfo(x,E);const C=new z;this.appendBytes(a,x,C,h);let T;if(u!==null&&u.get(Vr.QR_VERSION)!==void 0){const je=Number.parseInt(u.get(Vr.QR_VERSION).toString(),10);T=rt.getVersionForNumber(je);const Oe=this.calculateBitsNeeded(x,E,C,T);if(!this.willFit(Oe,T,l))throw new Yt("Data too big for requested version")}else T=this.recommendVersion(l,x,E,C);const D=new z;D.appendBitArray(E);const F=x===ot.BYTE?C.getSizeInBytes():a.length;this.appendLengthInfo(F,T,x,D),D.appendBitArray(C);const $=T.getECBlocksForLevel(l),G=T.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(G,D);const Z=this.interleaveWithECBytes(D,T.getTotalCodewords(),G,$.getNumBlocks()),ee=new rs;ee.setECLevel(l),ee.setMode(x),ee.setVersion(T);const ie=T.getDimensionForVersion(),fe=new Bl(ie,ie),Pe=this.chooseMaskPattern(Z,l,T,fe);return ee.setMaskPattern(Pe),ct.buildMatrix(Z,l,T,Pe,fe),ee.setMatrix(fe),ee}static recommendVersion(a,l,u,h){const g=this.calculateBitsNeeded(l,u,h,rt.getVersionForNumber(1)),x=this.chooseVersion(g,a),E=this.calculateBitsNeeded(l,u,h,x);return this.chooseVersion(E,a)}static calculateBitsNeeded(a,l,u,h){return l.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<Qt.ALPHANUMERIC_TABLE.length?Qt.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(Y.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return ot.KANJI;let u=!1,h=!1;for(let g=0,x=a.length;g<x;++g){const E=a.charAt(g);if(Qt.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)h=!0;else return ot.BYTE}return h?ot.ALPHANUMERIC:u?ot.NUMERIC:ot.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=pe.encode(a,Y.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=l[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,l,u,h){let g=Number.MAX_SAFE_INTEGER,x=-1;for(let E=0;E<rs.NUM_MASK_PATTERNS;E++){ct.buildMatrix(a,l,u,E,h);let C=this.calculateMaskPenalty(h);C<g&&(g=C,x=E)}return x}static chooseVersion(a,l){for(let u=1;u<=40;u++){const h=rt.getVersionForNumber(u);if(Qt.willFit(a,h,l))return h}throw new Yt("Data too big")}static willFit(a,l,u){const h=l.getTotalCodewords(),x=l.getECBlocksForLevel(u).getTotalECCodewords(),E=h-x,C=(a+7)/8;return E>=C}static terminateBits(a,l){const u=a*8;if(l.getSize()>u)throw new Yt("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let x=0;x<4&&l.getSize()<u;++x)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let x=h;x<8;x++)l.appendBit(!1);const g=a-l.getSizeInBytes();for(let x=0;x<g;++x)l.appendBits((x&1)===0?236:17,8);if(l.getSize()!==u)throw new Yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,u,h,g,x){if(h>=u)throw new Yt("Block ID too large");const E=a%u,C=u-E,T=Math.floor(a/u),D=T+1,F=Math.floor(l/u),$=F+1,G=T-F,Z=D-$;if(G!==Z)throw new Yt("EC bytes mismatch");if(u!==C+E)throw new Yt("RS blocks mismatch");if(a!==(F+G)*C+($+Z)*E)throw new Yt("Total bytes mismatch");h<C?(g[0]=F,x[0]=G):(g[0]=$,x[0]=Z)}static interleaveWithECBytes(a,l,u,h){if(a.getSizeInBytes()!==u)throw new Yt("Number of bits and data bytes does not match");let g=0,x=0,E=0;const C=new Array;for(let D=0;D<h;++D){const F=new Int32Array(1),$=new Int32Array(1);Qt.getNumDataBytesAndNumECBytesForBlockID(l,u,h,D,F,$);const G=F[0],Z=new Uint8Array(G);a.toBytes(8*g,Z,0,G);const ee=Qt.generateECBytes(Z,$[0]);C.push(new cm(Z,ee)),x=Math.max(x,G),E=Math.max(E,ee.length),g+=F[0]}if(u!==g)throw new Yt("Data bytes does not match offset");const T=new z;for(let D=0;D<x;++D)for(const F of C){const $=F.getDataBytes();D<$.length&&T.appendBits($[D],8)}for(let D=0;D<E;++D)for(const F of C){const $=F.getErrorCorrectionBytes();D<$.length&&T.appendBits($[D],8)}if(l!==T.getSizeInBytes())throw new Yt("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,l){const u=a.length,h=new Int32Array(u+l);for(let x=0;x<u;x++)h[x]=a[x]&255;new su(ze.QR_CODE_FIELD_256).encode(h,l);const g=new Uint8Array(l);for(let x=0;x<l;x++)g[x]=h[u+x];return g}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,u,h){const g=u.getCharacterCountBits(l);if(a>=1<<g)throw new Yt(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,l,u,h){switch(l){case ot.NUMERIC:Qt.appendNumericBytes(a,u);break;case ot.ALPHANUMERIC:Qt.appendAlphanumericBytes(a,u);break;case ot.BYTE:Qt.append8BitBytes(a,u,h);break;case ot.KANJI:Qt.appendKanjiBytes(a,u);break;default:throw new Yt("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=Qt.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Qt.getDigit(a.charAt(h));if(h+2<u){const x=Qt.getDigit(a.charAt(h+1)),E=Qt.getDigit(a.charAt(h+2));l.appendBits(g*100+x*10+E,10),h+=3}else if(h+1<u){const x=Qt.getDigit(a.charAt(h+1));l.appendBits(g*10+x,7),h+=2}else l.appendBits(g,4),h++}}static appendAlphanumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Qt.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new Yt;if(h+1<u){const x=Qt.getAlphanumericCode(a.charCodeAt(h+1));if(x===-1)throw new Yt;l.appendBits(g*45+x,11),h+=2}else l.appendBits(g,6),h++}}static append8BitBytes(a,l,u){let h;try{h=pe.encode(a,u)}catch(g){throw new Yt(g)}for(let g=0,x=h.length;g!==x;g++){const E=h[g];l.appendBits(E,8)}}static appendKanjiBytes(a,l){let u;try{u=pe.encode(a,Y.SJIS)}catch(g){throw new Yt(g)}const h=u.length;for(let g=0;g<h;g+=2){const x=u[g]&255,E=u[g+1]&255,C=x<<8&4294967295|E;let T=-1;if(C>=33088&&C<=40956?T=C-33088:C>=57408&&C<=60351&&(T=C-49472),T===-1)throw new Yt("Invalid byte sequence");const D=(T>>8)*192+(T&255);l.appendBits(D,13)}}static appendECI(a,l){l.appendBits(ot.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}Qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qt.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class ns{write(a,l,u,h=null){if(a.length===0)throw new w("Found empty contents");if(l<0||u<0)throw new w("Requested dimensions are too small: "+l+"x"+u);let g=Kt.L,x=ns.QUIET_ZONE_SIZE;h!==null&&(h.get(Vr.ERROR_CORRECTION)!==void 0&&(g=Kt.fromString(h.get(Vr.ERROR_CORRECTION).toString())),h.get(Vr.MARGIN)!==void 0&&(x=Number.parseInt(h.get(Vr.MARGIN).toString(),10)));const E=Qt.encode(a,g,h);return this.renderResult(E,l,u,x)}writeToDom(a,l,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const x=this.write(l,u,h,g);a&&a.appendChild(x)}renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new vt;const x=g.getWidth(),E=g.getHeight(),C=x+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),G=Math.floor((D-x*$)/2),Z=Math.floor((F-E*$)/2),ee=this.createSVGElement(D,F);for(let ie=0,fe=Z;ie<E;ie++,fe+=$)for(let Pe=0,je=G;Pe<x;Pe++,je+=$)if(g.get(Pe,ie)===1){const Oe=this.createSvgRectElement(je,fe,$,$);ee.appendChild(Oe)}return ee}createSVGElement(a,l){const u=document.createElementNS(ns.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,h){const g=document.createElementNS(ns.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}ns.QUIET_ZONE_SIZE=4,ns.SVG_NS="http://www.w3.org/2000/svg";class Vs{encode(a,l,u,h,g){if(a.length===0)throw new w("Found empty contents");if(l!==Ne.QR_CODE)throw new w("Can only encode QR_CODE, but got "+l);if(u<0||h<0)throw new w(`Requested dimensions are too small: ${u}x${h}`);let x=Kt.L,E=Vs.QUIET_ZONE_SIZE;g!==null&&(g.get(Vr.ERROR_CORRECTION)!==void 0&&(x=Kt.fromString(g.get(Vr.ERROR_CORRECTION).toString())),g.get(Vr.MARGIN)!==void 0&&(E=Number.parseInt(g.get(Vr.MARGIN).toString(),10)));const C=Qt.encode(a,x,g);return Vs.renderResult(C,u,h,E)}static renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new vt;const x=g.getWidth(),E=g.getHeight(),C=x+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),G=Math.floor((D-x*$)/2),Z=Math.floor((F-E*$)/2),ee=new ke(D,F);for(let ie=0,fe=Z;ie<E;ie++,fe+=$)for(let Pe=0,je=G;Pe<x;Pe++,je+=$)g.get(Pe,ie)===1&&ee.setRegion(je,fe,$,$);return ee}}Vs.QUIET_ZONE_SIZE=4;class um{encode(a,l,u,h,g){let x;switch(l){case Ne.QR_CODE:x=new Vs;break;default:throw new w("No encoder available for format "+l)}return x.encode(a,l,u,h,g)}}class qi extends ve{constructor(a,l,u,h,g,x,E,C){if(super(x,E),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,h+x>l||g+E>u)throw new w("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(x,E)}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return N.arraycopy(this.yuvData,g,h,0,u),h;for(let x=0;x<l;x++){const E=x*a;N.arraycopy(this.yuvData,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new qi(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,h,!1)}renderThumbnail(){const a=this.getWidth()/qi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/qi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let x=0;x<l;x++){const E=x*a;for(let C=0;C<a;C++){const T=h[g+C*qi.THUMBNAIL_SCALE_FACTOR]&255;u[E+C]=4278190080|T*65793}g+=this.dataWidth*qi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/qi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<l;h++,g+=this.dataWidth){const x=g+a/2;for(let E=g,C=g+a-1;E<x;E++,C--){const T=u[E];u[E]=u[C],u[C]=T}}}invert(){return new we(this)}}qi.THUMBNAIL_SCALE_FACTOR=2;class jo extends ve{constructor(a,l,u,h,g,x,E){if(super(l,u),this.dataWidth=h,this.dataHeight=g,this.left=x,this.top=E,a.BYTES_PER_ELEMENT===4){const C=l*u,T=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const F=a[D],$=F>>16&255,G=F>>7&510,Z=F&255;T[D]=($+G+Z)/4&255}this.luminances=T}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=u),x===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return N.arraycopy(this.luminances,g,h,0,u),h;for(let x=0;x<l;x++){const E=x*a;N.arraycopy(this.luminances,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new jo(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new we(this)}}class af extends Y{static forName(a){return this.getCharacterSetECIByName(a)}}class ou{}ou.ISO_8859_1=Y.ISO8859_1;class sf{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class lu{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class dm{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Hs extends dm{constructor(a,l,u){super(a),this.value=l,this.bitCount=u}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new Hs(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hs(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+R.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class cu extends Hs{constructor(a,l,u){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(a,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(a,l){return new cu(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function fm(B,a,l){return new cu(B,a,l)}function Ro(B,a,l){return new Hs(B,a,l)}const hm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ra=0,qs=1,bn=2,of=3,Ai=4,lf=new Hs(null,0,0),Fl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cf(B){for(let a of B)L.fill(a,-1);return B[Ra][Ai]=0,B[qs][Ai]=0,B[qs][Ra]=28,B[of][Ai]=0,B[bn][Ai]=0,B[bn][Ra]=15,B}const uu=cf(L.createInt32Array(6,6));class kn{constructor(a,l,u,h){this.token=a,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let u=this.bitCount,h=this.token;if(a!==this.mode){let x=Fl[this.mode][a];h=Ro(h,x&65535,x>>16),u+=x>>16}let g=a===bn?4:5;return h=Ro(h,l,g),new kn(h,a,0,u+g)}shiftAndAppend(a,l){let u=this.token,h=this.mode===bn?4:5;return u=Ro(u,uu[this.mode][a],h),u=Ro(u,l,5),new kn(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,u=this.mode,h=this.bitCount;if(this.mode===Ai||this.mode===bn){let E=Fl[u][Ra];l=Ro(l,E&65535,E>>16),h+=E>>16,u=Ra}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new kn(l,u,this.binaryShiftByteCount+1,h+g);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(a+1)),x}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=fm(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new kn(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Fl[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=kn.calculateBinaryShiftCost(a)-kn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let u=new z;for(const h of l)h.appendTo(u,a);return u}toString(){return de.format("%s bits=%d bytes=%d",hm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}kn.INITIAL_STATE=new kn(lf,Ra,0,0);function pm(B){const a=de.getCharCode(" "),l=de.getCharCode("."),u=de.getCharCode(",");B[Ra][a]=1;const h=de.getCharCode("Z"),g=de.getCharCode("A");for(let $=g;$<=h;$++)B[Ra][$]=$-g+2;B[qs][a]=1;const x=de.getCharCode("z"),E=de.getCharCode("a");for(let $=E;$<=x;$++)B[qs][$]=$-E+2;B[bn][a]=1;const C=de.getCharCode("9"),T=de.getCharCode("0");for(let $=T;$<=C;$++)B[bn][$]=$-T+2;B[bn][u]=12,B[bn][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<D.length;$++)B[of][de.getCharCode(D[$])]=$;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<F.length;$++)de.getCharCode(F[$])>0&&(B[Ai][de.getCharCode(F[$])]=$);return B}const du=pm(L.createInt32Array(5,256));class Mo{constructor(a){this.text=a}encode(){const a=de.getCharCode(" "),l=de.getCharCode(`
`);let u=lu.singletonList(kn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let x,E=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case de.getCharCode("\r"):x=E===l?2:0;break;case de.getCharCode("."):x=E===a?3:0;break;case de.getCharCode(","):x=E===a?4:0;break;case de.getCharCode(":"):x=E===a?5:0;break;default:x=0}x>0?(u=Mo.updateStateListForPair(u,g,x),g++):u=this.updateStateListForChar(u,g)}return lu.min(u,(g,x)=>g.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const u=[];for(let h of a)this.updateStateForChar(h,l,u);return Mo.simplifyStates(u)}updateStateForChar(a,l,u){let h=this.text[l]&255,g=du[a.getMode()][h]>0,x=null;for(let E=0;E<=Ai;E++){let C=du[E][h];if(C>0){if(x==null&&(x=a.endBinaryShift(l)),!g||E===a.getMode()||E===bn){const T=x.latchAndAppend(E,C);u.push(T)}if(!g&&uu[a.getMode()][E]>=0){const T=x.shiftAndAppend(E,C);u.push(T)}}}if(a.getBinaryShiftByteCount()>0||du[a.getMode()][h]===0){let E=a.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(a,l,u){const h=[];for(let g of a)this.updateStateForPair(g,l,u,h);return this.simplifyStates(h)}static updateStateForPair(a,l,u,h){let g=a.endBinaryShift(l);if(h.push(g.latchAndAppend(Ai,u)),a.getMode()!==Ai&&h.push(g.shiftAndAppend(Ai,u)),u===3||u===4){let x=g.latchAndAppend(bn,16-u).latchAndAppend(bn,1);h.push(x)}if(a.getBinaryShiftByteCount()>0){let x=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(x)}}static simplifyStates(a){let l=[];for(const u of a){let h=!0;for(const g of l){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(l=l.filter(x=>x!==g))}h&&l.push(u)}return l}}class jt{constructor(){}static encodeBytes(a){return jt.encode(a,jt.DEFAULT_EC_PERCENT,jt.DEFAULT_AZTEC_LAYERS)}static encode(a,l,u){let h=new Mo(a).encode(),g=R.truncDivision(h.getSize()*l,100)+11,x=h.getSize()+g,E,C,T,D,F;if(u!==jt.DEFAULT_AZTEC_LAYERS){if(E=u<0,C=Math.abs(u),C>(E?jt.MAX_NB_BITS_COMPACT:jt.MAX_NB_BITS))throw new w(de.format("Illegal value %s for layers",u));T=jt.totalBitsInLayer(C,E),D=jt.WORD_SIZE[C];let Oe=T-T%D;if(F=jt.stuffBits(h,D),F.getSize()+g>Oe)throw new w("Data to large for user specified layer");if(E&&F.getSize()>D*64)throw new w("Data to large for user specified layer")}else{D=0,F=null;for(let Oe=0;;Oe++){if(Oe>jt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(E=Oe<=3,C=E?Oe+1:Oe,T=jt.totalBitsInLayer(C,E),x>T)continue;(F==null||D!==jt.WORD_SIZE[C])&&(D=jt.WORD_SIZE[C],F=jt.stuffBits(h,D));let Ot=T-T%D;if(!(E&&F.getSize()>D*64)&&F.getSize()+g<=Ot)break}}let $=jt.generateCheckWords(F,T,D),G=F.getSize()/D,Z=jt.generateModeMessage(E,C,G),ee=(E?11:14)+C*4,ie=new Int32Array(ee),fe;if(E){fe=ee;for(let Oe=0;Oe<ie.length;Oe++)ie[Oe]=Oe}else{fe=ee+1+2*R.truncDivision(R.truncDivision(ee,2)-1,15);let Oe=R.truncDivision(ee,2),Ot=R.truncDivision(fe,2);for(let wt=0;wt<Oe;wt++){let Wn=wt+R.truncDivision(wt,15);ie[Oe-wt-1]=Ot-Wn-1,ie[Oe+wt]=Ot+Wn+1}}let Pe=new ke(fe);for(let Oe=0,Ot=0;Oe<C;Oe++){let wt=(C-Oe)*4+(E?9:12);for(let Wn=0;Wn<wt;Wn++){let Si=Wn*2;for(let Hr=0;Hr<2;Hr++)$.get(Ot+Si+Hr)&&Pe.set(ie[Oe*2+Hr],ie[Oe*2+Wn]),$.get(Ot+wt*2+Si+Hr)&&Pe.set(ie[Oe*2+Wn],ie[ee-1-Oe*2-Hr]),$.get(Ot+wt*4+Si+Hr)&&Pe.set(ie[ee-1-Oe*2-Hr],ie[ee-1-Oe*2-Wn]),$.get(Ot+wt*6+Si+Hr)&&Pe.set(ie[ee-1-Oe*2-Wn],ie[Oe*2+Hr])}Ot+=wt*8}if(jt.drawModeMessage(Pe,E,fe,Z),E)jt.drawBullsEye(Pe,R.truncDivision(fe,2),5);else{jt.drawBullsEye(Pe,R.truncDivision(fe,2),7);for(let Oe=0,Ot=0;Oe<R.truncDivision(ee,2)-1;Oe+=15,Ot+=16)for(let wt=R.truncDivision(fe,2)&1;wt<fe;wt+=2)Pe.set(R.truncDivision(fe,2)-Ot,wt),Pe.set(R.truncDivision(fe,2)+Ot,wt),Pe.set(wt,R.truncDivision(fe,2)-Ot),Pe.set(wt,R.truncDivision(fe,2)+Ot)}let je=new sf;return je.setCompact(E),je.setSize(fe),je.setLayers(C),je.setCodeWords(G),je.setMatrix(Pe),je}static drawBullsEye(a,l,u){for(let h=0;h<u;h+=2)for(let g=l-h;g<=l+h;g++)a.set(g,l-h),a.set(g,l+h),a.set(l-h,g),a.set(l+h,g);a.set(l-u,l-u),a.set(l-u+1,l-u),a.set(l-u,l-u+1),a.set(l+u,l-u),a.set(l+u,l-u+1),a.set(l+u,l+u-1)}static generateModeMessage(a,l,u){let h=new z;return a?(h.appendBits(l-1,2),h.appendBits(u-1,6),h=jt.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(u-1,11),h=jt.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,u,h){let g=R.truncDivision(u,2);if(l)for(let x=0;x<7;x++){let E=g-3+x;h.get(x)&&a.set(E,g-5),h.get(x+7)&&a.set(g+5,E),h.get(20-x)&&a.set(E,g+5),h.get(27-x)&&a.set(g-5,E)}else for(let x=0;x<10;x++){let E=g-5+x+R.truncDivision(x,5);h.get(x)&&a.set(E,g-7),h.get(x+10)&&a.set(g+7,E),h.get(29-x)&&a.set(E,g+7),h.get(39-x)&&a.set(g-7,E)}}static generateCheckWords(a,l,u){let h=a.getSize()/u,g=new su(jt.getGF(u)),x=R.truncDivision(l,u),E=jt.bitsToWords(a,u,x);g.encode(E,x-h);let C=l%u,T=new z;T.appendBits(0,C);for(const D of Array.from(E))T.appendBits(D,u);return T}static bitsToWords(a,l,u){let h=new Int32Array(u),g,x;for(g=0,x=a.getSize()/l;g<x;g++){let E=0;for(let C=0;C<l;C++)E|=a.get(g*l+C)?1<<l-C-1:0;h[g]=E}return h}static getGF(a){switch(a){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new w("Unsupported word size "+a)}}static stuffBits(a,l){let u=new z,h=a.getSize(),g=(1<<l)-2;for(let x=0;x<h;x+=l){let E=0;for(let C=0;C<l;C++)(x+C>=h||a.get(x+C))&&(E|=1<<l-1-C);(E&g)===g?(u.appendBits(E&g,l),x--):(E&g)===0?(u.appendBits(E|1,l),x--):u.appendBits(E,l)}return u}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}jt.DEFAULT_EC_PERCENT=33,jt.DEFAULT_AZTEC_LAYERS=0,jt.MAX_NB_BITS=32,jt.MAX_NB_BITS_COMPACT=4,jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Do{encode(a,l,u,h){return this.encodeWithHints(a,l,u,h,null)}encodeWithHints(a,l,u,h,g){let x=ou.ISO_8859_1,E=jt.DEFAULT_EC_PERCENT,C=jt.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Vr.CHARACTER_SET)&&(x=af.forName(g.get(Vr.CHARACTER_SET).toString())),g.has(Vr.ERROR_CORRECTION)&&(E=R.parseInt(g.get(Vr.ERROR_CORRECTION).toString())),g.has(Vr.AZTEC_LAYERS)&&(C=R.parseInt(g.get(Vr.AZTEC_LAYERS).toString()))),Do.encodeLayers(a,l,u,h,x,E,C)}static encodeLayers(a,l,u,h,g,x,E){if(l!==Ne.AZTEC)throw new w("Can only encode AZTEC, but got "+l);let C=jt.encode(de.getBytes(a,g),x,E);return Do.renderResult(C,u,h)}static renderResult(a,l,u){let h=a.getMatrix();if(h==null)throw new vt;let g=h.getWidth(),x=h.getHeight(),E=Math.max(l,g),C=Math.max(u,x),T=Math.min(E/g,C/x),D=(E-g*T)/2,F=(C-x*T)/2,$=new ke(E,C);for(let G=0,Z=F;G<x;G++,Z+=T)for(let ee=0,ie=D;ee<g;ee++,ie+=T)h.get(ee,G)&&$.setRegion(ie,Z,T,T);return $}}r.AbstractExpandedDecoder=Oo,r.ArgumentException=v,r.ArithmeticException=ye,r.AztecCode=sf,r.AztecCodeReader=ar,r.AztecCodeWriter=Do,r.AztecDecoder=Nt,r.AztecDetector=yr,r.AztecDetectorResult=ca,r.AztecEncoder=jt,r.AztecHighLevelEncoder=Mo,r.AztecPoint=ut,r.BarcodeFormat=Ne,r.Binarizer=I,r.BinaryBitmap=S,r.BitArray=z,r.BitMatrix=ke,r.BitSource=Jc,r.BrowserAztecCodeReader=Qn,r.BrowserBarcodeReader=Zd,r.BrowserCodeReader=Be,r.BrowserDatamatrixCodeReader=lm,r.BrowserMultiFormatReader=ko,r.BrowserPDF417Reader=Ll,r.BrowserQRCodeReader=nf,r.BrowserQRCodeSvgWriter=ns,r.CharacterSetECI=Y,r.ChecksumException=_,r.Code128Reader=Re,r.Code39Reader=Ir,r.DataMatrixDecodedBitStreamParser=wi,r.DataMatrixReader=bi,r.DecodeHintType=V,r.DecoderResult=ge,r.DefaultGridSampler=da,r.DetectorResult=si,r.EAN13Reader=Tn,r.EncodeHintType=Vr,r.Exception=m,r.FormatException=H,r.GenericGF=ze,r.GenericGFPoly=xe,r.GlobalHistogramBinarizer=De,r.GridSampler=ua,r.GridSamplerInstance=st,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=oe,r.ITFReader=Dt,r.IllegalArgumentException=w,r.IllegalStateException=vt,r.InvertedLuminanceSource=we,r.LuminanceSource=ve,r.MathUtils=bt,r.MultiFormatOneDReader=Bs,r.MultiFormatReader=Dl,r.MultiFormatWriter=um,r.NotFoundException=re,r.OneDReader=sr,r.PDF417DecodedBitStreamParser=he,r.PDF417DecoderErrorCorrection=ru,r.PDF417Reader=un,r.PDF417ResultMetadata=Rl,r.PerspectiveTransform=Mr,r.PlanarYUVLuminanceSource=qi,r.QRCodeByteMatrix=Bl,r.QRCodeDataMask=St,r.QRCodeDecodedBitStreamParser=or,r.QRCodeDecoderErrorCorrectionLevel=Kt,r.QRCodeDecoderFormatInformation=on,r.QRCodeEncoder=Qt,r.QRCodeEncoderQRCode=rs,r.QRCodeMaskUtil=lr,r.QRCodeMatrixUtil=ct,r.QRCodeMode=ot,r.QRCodeReader=Pn,r.QRCodeVersion=rt,r.QRCodeWriter=Vs,r.RGBLuminanceSource=jo,r.RSS14Reader=er,r.RSSExpandedReader=Ee,r.ReaderException=Ws,r.ReedSolomonDecoder=Ct,r.ReedSolomonEncoder=su,r.ReedSolomonException=at,r.Result=Le,r.ResultMetadataType=nt,r.ResultPoint=Fe,r.StringUtils=de,r.UnsupportedOperationException=Ae,r.VideoInputDevice=Q,r.WhiteRectangleDetector=xn,r.WriterException=Yt,r.ZXingArrays=L,r.ZXingCharset=af,r.ZXingInteger=R,r.ZXingStandardCharsets=ou,r.ZXingStringBuilder=Se,r.ZXingStringEncoding=pe,r.ZXingSystem=N,r.createAbstractExpandedDecoder=Xd,Object.defineProperty(r,"__esModule",{value:!0})}))})(Gu,Gu.exports)),Gu.exports}var vr=cD();const uD=oa(vr),dD=Kx({__proto__:null,default:uD},[vr]);var iA=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ve.QR_CODE,vr.BarcodeFormat.QR_CODE],[Ve.AZTEC,vr.BarcodeFormat.AZTEC],[Ve.CODABAR,vr.BarcodeFormat.CODABAR],[Ve.CODE_39,vr.BarcodeFormat.CODE_39],[Ve.CODE_93,vr.BarcodeFormat.CODE_93],[Ve.CODE_128,vr.BarcodeFormat.CODE_128],[Ve.DATA_MATRIX,vr.BarcodeFormat.DATA_MATRIX],[Ve.MAXICODE,vr.BarcodeFormat.MAXICODE],[Ve.ITF,vr.BarcodeFormat.ITF],[Ve.EAN_13,vr.BarcodeFormat.EAN_13],[Ve.EAN_8,vr.BarcodeFormat.EAN_8],[Ve.PDF_417,vr.BarcodeFormat.PDF_417],[Ve.RSS_14,vr.BarcodeFormat.RSS_14],[Ve.RSS_EXPANDED,vr.BarcodeFormat.RSS_EXPANDED],[Ve.UPC_A,vr.BarcodeFormat.UPC_A],[Ve.UPC_E,vr.BarcodeFormat.UPC_E],[Ve.UPC_EAN_EXTENSION,vr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(vr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(vr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new vr.MultiFormatReader(this.verbose,this.hints),n=new vr.HTMLCanvasElementLuminanceSource(t),i=new vr.BinaryBitmap(new vr.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:lI.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),fD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},hD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},aA=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ve.QR_CODE,"qr_code"],[Ve.AZTEC,"aztec"],[Ve.CODABAR,"codabar"],[Ve.CODE_39,"code_39"],[Ve.CODE_93,"code_93"],[Ve.CODE_128,"code_128"],[Ve.DATA_MATRIX,"data_matrix"],[Ve.ITF,"itf"],[Ve.EAN_13,"ean_13"],[Ve.EAN_8,"ean_8"],[Ve.PDF_417,"pdf417"],[Ve.UPC_A,"upc_a"],[Ve.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return fD(this,void 0,void 0,function(){var r,n;return hD(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:lI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),sA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},oA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},pD=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&aA.isSupported()?(this.primaryDecoder=new aA(t,n,i),this.secondaryDecoder=new iA(t,n,i)):this.primaryDecoder=new iA(t,n,i)}return e.prototype.decodeAsync=function(t){return sA(this,void 0,void 0,function(){var r;return oA(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return sA(this,void 0,void 0,function(){var r,n;return oA(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),vy=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),t0=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},r0=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},uI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),mD=(function(e){vy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(uI),gD=(function(e){vy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(mD),vD=(function(e){vy(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(uI),xD=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new gD(this.track)},e.prototype.torchFeature=function(){return new vD(this.track)},e})(),yD=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return t0(this,void 0,void 0,function(){var s,c;return r0(this,function(f){switch(f.label){case 0:return s=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return t0(this,void 0,void 0,function(){return r0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new xD(this.getFirstTrackOrFail())},e})(),wD=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return t0(this,void 0,void 0,function(){return r0(this,function(i){return[2,yD.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return t0(this,void 0,void 0,function(){var r,n;return r0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),lA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},cA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},bD=(function(){function e(){}return e.failIfNotSupported=function(){return lA(this,void 0,void 0,function(){return cA(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return lA(this,void 0,void 0,function(){return cA(this,function(r){return[2,wD.create(t)]})})},e})(),ED=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},AD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},SD=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=mc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=mc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return ED(this,void 0,void 0,function(){var t,r,n,i,s,c,f;return AD(this,function(p){switch(p.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),w=0,S=v;w<S.length;w++){var _=S[w];_.enabled=!1,_.stop(),m.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],s=0,c=n;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var c=[],f=0,p=s;f<p.length;f++){var m=p[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Ur;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ur||(Ur={}));var _D=(function(){function e(){this.state=Ur.NOT_STARTED,this.onGoingTransactionNewState=Ur.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ur.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ur.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ur.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ur.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ur.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ur.UNKNOWN:throw"Transition from unknown is not allowed";case Ur.NOT_STARTED:this.failIfNewStateIs(t,[Ur.PAUSED]);break;case Ur.SCANNING:break;case Ur.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),CD=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ur.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ur.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ur.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ur.PAUSED},e})(),OD=(function(){function e(){}return e.create=function(){return new CD(new _D)},e})(),ND=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ni=(function(e){ND(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(aD),ID=(function(){function e(t,r){this.logger=r,this.fps=Ni.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ni.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ms(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),TD=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new oD(this.verbose),this.qrcode=new pD(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=OD.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=ID.create(r,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Ni.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,S=this.stateManagerProxy.startTransition(Ur.SCANNING);return new Promise(function(_,I){var N=m?f.videoConstraints:w.createVideoConstraints(t);if(!N){S.cancel(),I("videoConstraints should be defined");return}var k={};(!m||f.aspectRatio)&&(k.aspectRatio=f.aspectRatio);var M={onRenderSurfaceReady:function(L,R){w.setupUi(L,R,f),w.isScanning=!0,w.foreverScan(f,n,c)}};bD.failIfNotSupported().then(function(L){L.create(N).then(function(R){return R.render(s.element,k,M).then(function(z){w.renderedCamera=z,S.execute(),_(null)}).catch(function(z){S.cancel(),I(z)})}).catch(function(R){S.cancel(),I(mc.errorGettingUserMedia(R))})}).catch(function(L){S.cancel(),I(mc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ur.PAUSED),this.showPausedState(),(ms(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ur.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ur.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(Ni.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ms(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(n.elementId),v=m.clientWidth?m.clientWidth:Ni.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:p,Ni.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,p,v,w);if(r){var _=n.createCanvasElement(v,w,"qr-canvas-visible");_.style.display="inline-block",m.appendChild(_);var I=_.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=v,I.canvas.height=w,I.drawImage(c,0,0,f,p,S.x,S.y,S.width,S.height)}var N=Ni.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,S.width),M=Math.max(c.height,S.height),L=k+2*N,R=M+2*N,z=n.createCanvasElement(L,R);m.appendChild(z);var W=z.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=R,W.drawImage(c,0,0,f,p,N,N,k,M);try{n.qrcode.decodeRobustlyAsync(z).then(function(V){i(rA.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return SD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!cI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ve.QR_CODE,Ve.AZTEC,Ve.CODABAR,Ve.CODE_39,Ve.CODE_93,Ve.CODE_128,Ve.DATA_MATRIX,Ve.MAXICODE,Ve.ITF,Ve.EAN_13,Ve.EAN_8,Ve.PDF_417,Ve.RSS_14,Ve.RSS_EXPANDED,Ve.UPC_A,Ve.UPC_E,Ve.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var c=s[i];iD(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ms(t))return!0;if(!ms(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ms(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ms(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,r,s),f=function(m){if(m<Ni.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ni.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};f(c.width),f(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=ms(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,s):f,m=this.createCanvasElement(p.width,p.height),v={willReadFrequently:!0},w=m.getContext("2d",v);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=mc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,rA.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=mc.codeParseError(i);return r(s,sD.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*f,v=this.qrRegion.x*c,w=this.qrRegion.y*f;this.context.drawImage(s,v,w,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){S()})):S()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",c=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof w;throw"Invalid type of 'deviceId' = ".concat(S)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,c=(i-r)/2;return{x:s,y:c,width:t,height:r}}else{var f=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ni.BORDER_SHADER_MATCH_COLOR:Ni.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=ms(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ni.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(s,m,p,-p,null,0,!0),this.insertShaderBorders(s,m,p,-p,null,0,!1),this.insertShaderBorders(s,m,p,null,-p,0,!0),this.insertShaderBorders(s,m,p,null,-p,0,!1),this.insertShaderBorders(s,p,m+p,-p,null,-p,!0),this.insertShaderBorders(s,p,m+p,null,-p,-p,!0),this.insertShaderBorders(s,p,m+p,-p,null,-p,!1),this.insertShaderBorders(s,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Ni.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),s!==null&&(p.style.bottom="".concat(s,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),uA;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(uA||(uA={}));const PD=({perfume:e,onSell:t})=>{const[r,n]=O.useState(null);O.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await it.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},s=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await it.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return b.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[b.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),b.jsx("td",{className:"px-3 py-2 text-center",children:b.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),b.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),b.jsx("td",{className:"px-3 py-2 text-right",children:b.jsx("button",{onClick:s,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},kD=({onLogout:e})=>{const[t,r]=O.useState(""),[n,i]=O.useState(""),[s,c]=O.useState(!1),[f,p]=O.useState(null),[m,v]=O.useState("loyalty"),[w,S]=O.useState("Corte"),[_,I]=O.useState("7000"),[N,k]=O.useState(""),[M,L]=O.useState(""),[R,z]=O.useState("0"),[W,V]=O.useState([]),[H,ne]=O.useState(null);O.useEffect(()=>{m==="agenda"&&ar()},[m]);const[Y,Ae]=O.useState([]),[pe,de]=O.useState(""),[Se,ke]=O.useState(!1),[re,De]=O.useState(""),[oe,ve]=O.useState(""),[we,be]=O.useState(null),[Q,ue]=O.useState([]),[Be,Le]=O.useState(""),[Ye,Ne]=O.useState(""),[lt,nt]=O.useState(!1),[ge,qe]=O.useState([]),[xe,ye]=O.useState(null),[ze,at]=O.useState(""),[vt,Ct]=O.useState(""),[Mt,Nt]=O.useState(!1),bt=(X,_e)=>{if(ge.find(pt=>pt.id===X.id&&pt.type===_e))qe(ge.map(pt=>pt.id===X.id&&pt.type===_e?{...pt,qty:pt.qty+1}:pt));else{let pt=0;_e==="product"&&(pt=X.price10ml||0),_e==="gift"&&(pt=X.price||0),_e==="service"&&(pt=X.price||0),qe([...ge,{...X,type:_e,qty:1,price:pt,variant:_e==="product"?"10ml":"standard"}])}},[hr,Fe]=O.useState(""),[si,ca]=O.useState(""),xn=()=>{if(!hr||!si){alert("Por favor ingrese nombre y precio del item.");return}const X=parseInt(si);if(isNaN(X)){alert("El precio debe ser un nmero vlido.");return}const _e={id:"manual-"+Date.now(),name:hr,price:X,type:"service",qty:1,variant:"manual",stock:!1};qe(We=>[...We,_e]),Fe(""),ca(""),i(`Item "${hr}" agregado al carrito ($${X})`),setTimeout(()=>i(""),3e3)},ua=(X,_e)=>{if(_e===""){qe(ge.map(pt=>pt.id===X?{...pt,price:0}:pt));return}const We=parseInt(_e);isNaN(We)||qe(ge.map(pt=>pt.id===X?{...pt,price:We}:pt))},Mr=X=>{qe(ge.filter(_e=>_e.id!==X))},da=async()=>{if(ge.length===0)return alert("El carrito est vaco");if(window.confirm(`Confirmar venta por $${ge.reduce((X,_e)=>X+_e.price*_e.qty,0).toLocaleString()}?`)){Nt(!0);try{const X=xe?xe.id:null;for(const _e of ge){if(_e.type==="product"&&_e.stock!==!1){const{error:pt}=await it.rpc("adjust_inventory",{p_product_id:_e.id,p_delta:-_e.qty,p_reason:"sale_pos"});pt&&console.error("Inventory error",pt)}const{error:We}=await it.from("transactions").insert({client_id:X,amount:_e.price*_e.qty,type:_e.type==="service"?"service":"product",description:`POS: ${_e.name} (${_e.variant}) x${_e.qty}`,additional_cost:0});if(We)throw console.error("Tx Error",We),We}alert(" Venta registrada con xito!"),qe([]),ye(null),at("")}catch(X){alert("Error procesando venta: "+X.message)}finally{Nt(!1)}}};O.useEffect(()=>{m==="agenda"?ar():m==="clients"?pr():m==="expenses"&&st()},[m]);const st=async()=>{const{data:X,error:_e}=await it.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});_e?console.error("Error fetching expenses:",_e):ue(X||[])},ut=async()=>{if(!Be||!Ye){alert("Ingrese descripcin y monto");return}nt(!0);try{const X=$M(Be),{error:_e}=await it.from("expenses").insert({description:Be,amount:parseInt(Ye),category:X,date:new Date});if(_e)throw _e;alert(`Gasto registrado como: ${X}`),Le(""),Ne(""),st()}catch(X){alert("Error: "+X.message)}finally{nt(!1)}},yr=async X=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:_e}=await it.from("expenses").delete().eq("id",X);_e||st()},ar=async()=>{const{data:X,error:_e}=await it.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});_e?console.error("Error fetching bookings:",_e):V(X||[])},[Qn,sr]=O.useState(new Date),[Re,Ir]=O.useState(null),[Dt,qt]=O.useState(!1),[Ui,Pa]=O.useState(""),[Za,_t]=O.useState(""),[Tn,Ao]=O.useState("Corte"),[zi,sn]=O.useState("salon"),wr=(X=>{const _e=[],We=X.getDay(),pt=X.getDate()-We+(We===0?-6:1),It=new Date(X);It.setDate(pt);for(let $t=0;$t<7;$t++){const Wt=new Date(It);Wt.setDate(It.getDate()+$t),_e.push(Wt)}return _e})(Qn),$i=Array.from({length:13},(X,_e)=>`${_e+9}:00`),Qa=()=>{const X=new Date(Qn);X.setDate(Qn.getDate()-7),sr(X)},yn=()=>{const X=new Date(Qn);X.setDate(Qn.getDate()+7),sr(X)},_o=(X,_e)=>{const We=W.find(pt=>pt.date===X&&pt.time===_e);We?window.confirm(`${We.name==="BLOQUEADO"?"Desbloquear":"Eliminar reserva de "+We.name}?`)&&Co(We.id):(Ir({date:X,time:_e}),sn("salon"),Pa(""),_t(""),qt(!0))},Jn=async()=>{if(!Re)return;const X=zi==="bloqueo",_e=X?"BLOQUEADO":Ui;if(!_e&&!X)return alert("Ingrese nombre");try{const{error:We}=await it.from("bookings").insert({date:Re.date,time:Re.time,name:_e,phone:Za||"00000000",email:"manual@admin.com",service_id:X?"block":"manual",service_name:X?"Bloqueo":Tn,is_home_service:zi==="domicilio",created_at:new Date().toISOString()});if(We)throw We;alert(X?"Bloqueo registrado":"Reserva creada"),qt(!1),ar()}catch(We){alert("Error: "+We.message)}},Co=async X=>{const{error:_e}=await it.from("bookings").delete().eq("id",X);_e||ar()},pr=async()=>{let X=it.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);pe&&(X=X.ilike("phone",`%${pe}%`));const{data:_e,error:We}=await X;We?console.error("Error fetching clients:",We):Ae(_e||[])};O.useEffect(()=>{if(m==="clients"){const X=setTimeout(()=>{pr()},500);return()=>clearTimeout(X)}},[pe]);const oi=async(X,_e)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${_e} y todo su historial. Esta accin no se puede deshacer.`))try{await it.from("hair_service_log").delete().eq("client_id",X),await it.from("transactions").delete().eq("client_id",X),await it.from("visit_registrations").delete().eq("client_id",X);const{error:We}=await it.from("clients").delete().eq("id",X);if(We)throw We;alert("Cliente eliminado correctamente."),pr()}catch(We){alert("Error al eliminar: "+We.message)}},Yr=(X=null)=>{X?(be(X),De(X.name||""),ve(X.phone||"")):(be(null),De(""),ve("")),ke(!0)},Ue=async()=>{if(!oe)return alert("El telfono es obligatorio");const X=oe.trim();try{if(we){const{error:_e}=await it.from("clients").update({name:re,phone:X}).eq("id",we.id);if(_e)throw _e;alert("Cliente actualizado")}else{const{error:_e}=await it.from("clients").insert({name:re,phone:X,member_token:"manual-"+Date.now(),visits:0});if(_e)throw _e;alert("Cliente creado")}ke(!1),pr()}catch(_e){alert("Error al guardar cliente: "+_e.message)}};O.useEffect(()=>{if(s&&!f){const X=new TD("reader"),_e={fps:10,qrbox:{width:250,height:250}};return X.start({facingMode:"environment"},_e,Oo,wn).catch(We=>{console.error("Error starting scanner:",We),i("Error iniciando cmara: "+We)}),()=>{X.stop().then(()=>X.clear()).catch(console.error)}}},[s,f]);const Wi=async(X,_e,We,pt)=>{if(_e<=0)return;const{error:It}=await it.from("transactions").insert({client_id:X,amount:_e,type:We,description:pt});It&&console.error("Error recording transaction:",It)},Oo=async(X,_e)=>{if(!f){p(X),c(!1);try{i("Procesando...");const{data:We,error:pt}=await it.rpc("register_visit",{token_input:X});if(pt)throw pt;if(We.success){if(i("OK: "+We.message+" Visitas: "+We.new_visits),m==="hair"){const It=parseInt(_)||0,{data:$t}=await it.from("clients").select("id").eq("member_token",X).single();$t&&await Wi($t.id,It,"service",`Servicio: ${w}`)}else if(m==="ventas"){const{data:It}=await it.from("clients").select("*").eq("member_token",X).single();It&&ye(It)}}else i("Error: "+We.message);setTimeout(()=>{p(null),i("")},4e3)}catch(We){console.error(We),i("Error al procesar el cdigo."),p(null)}}},wn=X=>{console.warn(X)},zn=async()=>{if(!H||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:X,error:_e}=await it.rpc("redeem_discount_5th",{token_input:H.member_token});if(_e)i("Error: "+_e.message);else if(i(X.message),X.success){const{data:We}=await it.from("clients").select("*").eq("id",H.id).single();ne(We)}},Ja=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),m==="hair"){const X=parseInt(_)||0,_e=parseInt(N)||0,{data:We,error:pt}=await it.rpc("add_hair_service_by_phone",{phone_input:t,service_type:w,service_price:X,notes_input:`Ingreso Manual. Extras: ${M} ($${_e})`});if(pt)throw pt;if(We.success){const{data:It}=await it.from("clients").select("id").eq("phone",t).single();It&&await it.from("transactions").insert({client_id:It.id,amount:X,type:"service",description:`Servicio: ${w}`,additional_cost:_e,additional_cost_detail:M}),i(` Servicio registrado. Total: ${We.new_total_services}. ${We.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${We.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r(""),k(""),L("")}else i("Error: "+We.message)}else{const{data:X,error:_e}=await it.from("clients").select("*").eq("phone",t).single();let We=0;X&&(We=X.visits);const pt=We+1,{data:It,error:$t}=await it.from("clients").upsert({phone:t,visits:pt,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if($t)throw $t;const Wt=parseInt(R)||0;await Wi(It.id,Wt,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+pt),r("")}}catch(X){console.error(X),i("Error: "+(X.message||"Error desconocido"))}};return b.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[b.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[b.jsx("span",{children:"Panel de Atencin"}),b.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[b.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx(Xo,{className:"text-green-600"}),"Registrar Visita Manual"]}),b.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),b.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[b.jsx("input",{type:"tel",value:t,onChange:X=>r(X.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m==="loyalty"&&b.jsx("input",{type:"number",value:R,onChange:X=>z(X.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),b.jsxs("button",{onClick:Ja,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[b.jsx(wE,{size:18}),"Registrar"]})]}),b.jsx("div",{className:"flex justify-center mb-6",children:b.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[b.jsx("button",{onClick:()=>v("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),b.jsx("button",{onClick:()=>v("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),b.jsx("button",{onClick:()=>v("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),b.jsx("button",{onClick:()=>v("agenda"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="agenda"?"bg-pink-500 text-white":"text-stone-400 hover:text-white"}`,children:"Agenda"}),b.jsx("button",{onClick:()=>v("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),b.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"}),b.jsx("button",{onClick:()=>v("ventas"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="ventas"?"bg-indigo-600 text-white":"text-stone-400 hover:text-white"}`,children:"Ventas (POS)"})]})}),b.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[b.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:m==="loyalty"?"Registrar Visita":m==="hair"?"Registrar Servicio Peluquera":m==="inventory"?"Gestin de Inventario":m==="clients"?"Gestin de Clientes":m==="expenses"?"Control de Inversin y Compras":m==="ventas"?"Punto de Venta":"Agenda Semanal"}),m==="expenses"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[b.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:Be,onChange:X=>Le(X.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),b.jsx("input",{type:"number",value:Ye,onChange:X=>Ne(X.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),b.jsx("button",{onClick:ut,disabled:lt,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:lt?"...":"Guardar"})]}),b.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(X=>{const _e=Q.filter(We=>We.category===X).reduce((We,pt)=>We+pt.amount,0);return b.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[b.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:X}),b.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",_e.toLocaleString()]})]},X)}),b.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[b.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),b.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",Q.reduce((X,_e)=>X+_e.amount,0).toLocaleString()]})]})]}),b.jsx("div",{className:"max-h-60 overflow-y-auto",children:b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"sticky top-0 bg-stone-800",children:b.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[b.jsx("th",{className:"pb-2",children:"Desc"}),b.jsx("th",{className:"pb-2",children:"Cat"}),b.jsx("th",{className:"pb-2 text-right",children:"Monto"}),b.jsx("th",{className:"pb-2 w-8"})]})}),b.jsx("tbody",{className:"divide-y divide-stone-700",children:Q.map(X=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-2",children:X.description}),b.jsx("td",{className:"py-2",children:b.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:X.category})}),b.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",X.amount.toLocaleString()]}),b.jsx("td",{className:"py-2 text-right",children:b.jsx("button",{onClick:()=>yr(X.id),className:"text-red-500 hover:text-red-400",children:b.jsx($a,{size:12})})})]},X.id))})]})})]}),m==="clients"&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:pe,onChange:X=>de(X.target.value),className:"flex-1 bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),b.jsxs("button",{onClick:()=>Yr(),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[b.jsx(Xo,{size:16})," Nuevo"]})]}),b.jsxs("div",{className:"overflow-x-auto max-h-96",children:[b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2",children:"Nombre"}),b.jsx("th",{className:"px-3 py-2",children:"Telfono"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),b.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),b.jsx("tbody",{children:Y.map(X=>b.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[b.jsx("td",{className:"px-3 py-2 text-white font-medium",children:X.name||"Sin nombre"}),b.jsx("td",{className:"px-3 py-2 text-stone-300 font-mono",children:X.phone}),b.jsx("td",{className:"px-3 py-2 text-center",children:X.visits}),b.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:X.hair_service_count||0}),b.jsxs("td",{className:"px-3 py-2 text-right flex justify-end gap-1",children:[b.jsxs("button",{onClick:()=>Yr(X),className:"bg-blue-600/20 hover:bg-blue-600 hover:text-white text-blue-500 p-1.5 rounded transition",title:"Editar Cliente",children:[b.jsx(ap,{size:14,className:"rotate-90"})," "]}),b.jsx("button",{onClick:()=>oi(X.id,X.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:b.jsx($a,{size:14})})]})]},X.id))})]}),Y.length===0&&b.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]}),Se&&b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-sm border border-stone-600 shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:we?"Editar Cliente":"Nuevo Cliente"}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Telfono (ID nico)"}),b.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm disabled:opacity-50",placeholder:"+569...",value:oe,onChange:X=>ve(X.target.value),disabled:!!we}),we&&b.jsx("p",{className:"text-[10px] text-stone-500 mt-1",children:"El telfono no se puede cambiar."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Nombre"}),b.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Nombre Cliente",value:re,onChange:X=>De(X.target.value)})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>ke(!1),className:"flex-1 py-2 rounded bg-stone-700 text-white text-sm hover:bg-stone-600",children:"Cancelar"}),b.jsx("button",{onClick:Ue,className:"flex-1 py-2 rounded bg-green-600 text-white font-bold text-sm hover:bg-green-500",children:"Guardar"})]})]})})]}),m==="inventory"&&b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2",children:"Perfume"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),b.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),b.jsx("tbody",{children:Va.map(X=>b.jsx(PD,{perfume:X,onSell:(_e,We)=>Wi(H?.id||"anon",_e,"product",We)},X.id))})]})}),m==="agenda"&&b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between bg-stone-700/50 p-3 rounded-lg",children:[b.jsx("button",{onClick:Qa,className:"p-2 hover:bg-stone-600 rounded-full",children:b.jsx(YR,{size:20,className:"text-stone-300"})}),b.jsxs("div",{className:"text-center",children:[b.jsxs("div",{className:"text-white font-bold",children:[wr[0].toLocaleDateString("es-CL")," - ",wr[6].toLocaleDateString("es-CL")]}),b.jsx("div",{className:"text-xs text-stone-400",children:"Semana Actual"})]}),b.jsx("button",{onClick:yn,className:"p-2 hover:bg-stone-600 rounded-full",children:b.jsx(ZR,{size:20,className:"text-stone-300"})})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("div",{className:"min-w-[800px]",children:[b.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-1",children:[b.jsx("div",{className:"bg-stone-800 p-2 rounded text-center text-xs font-bold text-stone-500",children:"HORA"}),wr.map((X,_e)=>b.jsxs("div",{className:`p-2 rounded text-center text-xs font-bold ${X.toDateString()===new Date().toDateString()?"bg-purple-900/50 text-purple-200":"bg-stone-800 text-stone-400"}`,children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][X.getDay()]," ",X.getDate()]},_e))]}),b.jsx("div",{className:"space-y-1",children:$i.map(X=>b.jsxs("div",{className:"grid grid-cols-8 gap-1 h-16",children:[b.jsx("div",{className:"bg-stone-800/50 flex items-center justify-center text-xs font-mono text-stone-500 rounded",children:X}),wr.map((_e,We)=>{const pt=_e.toISOString().split("T")[0],It=W.find($t=>$t.date===pt&&$t.time===X);return b.jsx("div",{onClick:()=>_o(pt,X),className:`
                                                                relative rounded p-1 border border-white/5 cursor-pointer transition
                                                                ${It?It.name==="BLOQUEADO"?"bg-red-900/30 border-red-800":It.is_home_service?"bg-blue-900/30 border-blue-800":"bg-green-900/30 border-green-800":"bg-stone-900 hover:bg-stone-800"}
                                                            `,children:It?b.jsx("div",{className:"h-full flex flex-col justify-center items-center text-center overflow-hidden",children:It.name==="BLOQUEADO"?b.jsxs("div",{className:"text-red-400 text-[10px] font-bold flex flex-col items-center",children:[b.jsx(TO,{size:12,className:"mb-1"}),"BLOQ"]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"text-white text-[10px] font-bold truncate w-full",children:It.name}),b.jsx("div",{className:"text-[9px] text-stone-400 truncate w-full",children:It.service_name||"Servicio"})]})}):b.jsx("div",{className:"h-full flex items-center justify-center opacity-0 hover:opacity-100",children:b.jsx(Xo,{size:14,className:"text-stone-600"})})},We)})]},X))})]})}),Dt&&b.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-sm border border-stone-600 shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Nueva Reserva"}),b.jsxs("div",{className:"text-stone-400 text-sm mb-4",children:[Re?.date," - ",Re?.time]}),b.jsxs("div",{className:"space-y-3 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Tipo"}),b.jsxs("div",{className:"flex bg-stone-900 p-1 rounded-lg",children:[b.jsx("button",{onClick:()=>sn("salon"),className:`flex-1 py-1 text-xs rounded ${zi==="salon"?"bg-stone-700 text-white":"text-stone-500"}`,children:"Saln"}),b.jsx("button",{onClick:()=>sn("domicilio"),className:`flex-1 py-1 text-xs rounded ${zi==="domicilio"?"bg-stone-700 text-white":"text-stone-500"}`,children:"Domicilio"}),b.jsx("button",{onClick:()=>sn("bloqueo"),className:`flex-1 py-1 text-xs rounded ${zi==="bloqueo"?"bg-red-900/50 text-red-200":"text-stone-500"}`,children:"Bloquear"})]})]}),zi!=="bloqueo"&&b.jsxs(b.Fragment,{children:[b.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Nombre Cliente",value:Ui,onChange:X=>Pa(X.target.value)}),b.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Telfono (Opcional)",value:Za,onChange:X=>_t(X.target.value)}),b.jsxs("select",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",value:Tn,onChange:X=>Ao(X.target.value),children:[b.jsx("option",{value:"Corte",children:"Corte"}),b.jsx("option",{value:"Color",children:"Color"}),b.jsx("option",{value:"Alisado",children:"Alisado"}),b.jsx("option",{value:"Masaje",children:"Masaje"}),b.jsx("option",{value:"Otro",children:"Otro"})]})]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>qt(!1),className:"flex-1 py-2 rounded bg-stone-700 text-white text-sm hover:bg-stone-600",children:"Cancelar"}),b.jsx("button",{onClick:Jn,className:"flex-1 py-2 rounded bg-white text-black font-bold text-sm hover:bg-gray-200",children:"Guardar"})]})]})})]}),m==="hair"&&b.jsxs("div",{className:"mb-4 space-y-3",children:[b.jsxs("select",{value:w,onChange:X=>S(X.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[b.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),b.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),b.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),b.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),b.jsx("input",{type:"number",value:_,onChange:X=>I(X.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"number",value:N,onChange:X=>k(X.target.value),placeholder:"Costo Extra ($)",className:"w-1/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"}),b.jsx("input",{type:"text",value:M,onChange:X=>L(X.target.value),placeholder:"Detalle (ej: Luz, Caf)",className:"w-2/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"})]})]}),m==="ventas"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-stone-700/30 p-3 rounded-xl border border-white/5",children:[b.jsx("h4",{className:"text-stone-400 text-xs font-bold uppercase mb-2",children:"Catlogo"}),b.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm mb-3",value:vt,onChange:X=>Ct(X.target.value)}),b.jsxs("div",{className:"bg-stone-800 p-2 rounded mb-3 flex gap-2",children:[b.jsx("input",{placeholder:"Item Manual",className:"w-1/2 p-2 rounded bg-stone-900 border border-white/10 text-xs text-white",value:hr,onChange:X=>Fe(X.target.value)}),b.jsx("input",{placeholder:"$",type:"number",className:"w-1/4 p-2 rounded bg-stone-900 border border-white/10 text-xs text-white",value:si,onChange:X=>ca(X.target.value)}),b.jsxs("button",{onClick:xn,className:"w-1/4 bg-blue-600 hover:bg-blue-500 text-white rounded text-xs font-bold flex items-center justify-center",children:[b.jsx(Xo,{size:14,className:"mr-1"})," Add"]})]}),b.jsxs("div",{className:"h-64 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:[b.jsx("div",{className:"text-stone-500 text-[10px] uppercase font-bold mt-2 mb-1",children:"Servicios"}),sl.filter(X=>X.name.toLowerCase().includes(vt.toLowerCase())).map(X=>b.jsxs("div",{className:"flex items-center justify-between bg-stone-800 p-2 rounded hover:bg-stone-700 cursor-pointer",onClick:()=>bt(X,"service"),children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-white text-sm font-medium",children:X.name}),b.jsxs("div",{className:"text-stone-400 text-[10px]",children:["$",X.price.toLocaleString()]})]}),b.jsx("button",{className:"text-green-400 hover:text-green-300",children:b.jsx(Xo,{size:16})})]},X.id)),b.jsx("div",{className:"text-stone-500 text-[10px] uppercase font-bold mt-2 mb-1",children:"Perfumes"}),Va.filter(X=>X.name.toLowerCase().includes(vt.toLowerCase())).map(X=>b.jsxs("div",{className:"flex items-center justify-between bg-stone-800 p-2 rounded hover:bg-stone-700 cursor-pointer",onClick:()=>bt(X,"product"),children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-white text-sm font-medium",children:X.name}),b.jsxs("div",{className:"text-stone-400 text-[10px]",children:["$",X.price10ml.toLocaleString()," (10ml)"]})]}),b.jsx("button",{className:"text-green-400 hover:text-green-300",children:b.jsx(Xo,{size:16})})]},X.id)),b.jsx("div",{className:"text-stone-500 text-[10px] uppercase font-bold mt-2 mb-1",children:"Regalos"}),kO.filter(X=>X.name.toLowerCase().includes(vt.toLowerCase())).map(X=>b.jsxs("div",{className:"flex items-center justify-between bg-stone-800 p-2 rounded hover:bg-stone-700 cursor-pointer",onClick:()=>bt(X,"gift"),children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-white text-sm font-medium",children:X.name}),b.jsxs("div",{className:"text-stone-400 text-[10px]",children:["$",X.price.toLocaleString()]})]}),b.jsx("button",{className:"text-green-400 hover:text-green-300",children:b.jsx(Xo,{size:16})})]},X.id))]})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-stone-700/30 p-3 rounded-xl border border-white/5",children:[b.jsx("h4",{className:"text-stone-400 text-xs font-bold uppercase mb-2",children:"Cliente"}),xe?b.jsxs("div",{className:"flex justify-between items-center bg-green-500/20 text-green-400 p-2 rounded",children:[b.jsx("span",{className:"font-bold",children:xe.name||xe.phone}),b.jsx("button",{onClick:()=>ye(null),className:"text-red-400 hover:text-red-300",children:b.jsx($a,{size:14})})]}):b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Buscar cliente (Tel o Nombre)...",className:"w-full bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm",value:ze,onChange:X=>at(X.target.value)}),ze.length>2&&b.jsxs("div",{className:"absolute top-full left-0 right-0 bg-stone-800 border border-stone-600 rounded-b shadow-xl z-10 max-h-40 overflow-y-auto",children:[Y.filter(X=>X.phone.includes(ze)||X.name&&X.name.toLowerCase().includes(ze.toLowerCase())).map(X=>b.jsx("div",{className:"p-2 hover:bg-stone-700 cursor-pointer text-sm text-white",onClick:()=>{ye(X),at("")},children:X.name?`${X.name} (${X.phone})`:X.phone},X.id)),Y.filter(X=>X.phone.includes(ze)||X.name&&X.name.toLowerCase().includes(ze.toLowerCase())).length===0&&b.jsx("div",{className:"p-2 text-stone-500 text-xs",children:"No encontrado"})]})]})]}),b.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:[b.jsx("h4",{className:"text-stone-900 text-xs font-bold uppercase mb-2 border-b pb-1",children:"Carrito de Compras"}),ge.length===0?b.jsx("div",{className:"text-center text-stone-400 py-6 text-sm",children:"Carrito Vaco"}):b.jsxs("div",{className:"space-y-2 mb-4",children:[ge.map((X,_e)=>b.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-stone-100 pb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-bold text-stone-800",children:X.name}),b.jsxs("div",{className:"flex items-center gap-1 text-xs text-stone-500",children:[b.jsx("span",{children:"$"}),b.jsx("input",{type:"number",value:X.price,onChange:We=>ua(X.id,We.target.value),className:"w-16 bg-stone-50 border rounded px-1 text-xs text-stone-900"}),b.jsxs("span",{children:["x ",X.qty]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"font-bold text-stone-900",children:["$",(X.price*X.qty).toLocaleString()]}),b.jsx("button",{onClick:()=>Mr(X.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:b.jsx($a,{size:14})})]})]},_e)),b.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-stone-200 mt-2",children:[b.jsx("span",{className:"font-bold text-stone-900 text-lg",children:"Total"}),b.jsxs("span",{className:"font-bold text-green-600 text-xl",children:["$",ge.reduce((X,_e)=>X+_e.price*_e.qty,0).toLocaleString()]})]})]}),b.jsx("button",{onClick:da,disabled:Mt||ge.length===0,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex justify-center items-center gap-2",children:Mt?"Procesando...":b.jsxs(b.Fragment,{children:[b.jsx(wE,{size:18})," Confirmar Venta"]})})]})]})]}),m!=="inventory"&&m!=="clients"&&m!=="expenses"&&b.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${m==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[b.jsx(ip,{size:24}),m==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&b.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),H&&b.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[b.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",H.phone]}),b.jsx("div",{className:"space-y-3",children:H.discount_5th_visit_available?b.jsx("button",{onClick:zn,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):b.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),s&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[b.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:b.jsx($a,{size:32})}),b.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),b.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},jD=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=O.useState(!1),[s,c]=O.useState(""),[f,p]=O.useState(!0),[m,v]=O.useState(""),w=async()=>{if(!s.trim()){v("Debes ingresar qu servicio o producto se realiz.");return}i(!0),v("");try{const{data:_,error:I}=await it.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:s,count_as_loyalty:f});if(I)throw I;if(!_.success)throw new Error(_.message);r(),t()}catch(_){v(_.message||"Error al validar visita")}finally{i(!1)}},S=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:_}=await it.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(_)throw _;r(),t()}catch(_){alert(_.message)}finally{i(!1)}}};return b.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[b.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[b.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),b.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:b.jsx($a,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[b.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),b.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),b.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),m&&b.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[b.jsx(SO,{className:"w-4 h-4"}),m]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),b.jsx("textarea",{value:s,onChange:_=>c(_.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:_=>p(_.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),b.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),b.jsxs("div",{className:"mt-8 flex gap-3",children:[b.jsx("button",{onClick:S,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),b.jsx("button",{onClick:w,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?b.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(Zu,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function dI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=dI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=dI(e))&&(n&&(n+=" "),n+=t);return n}var RD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xy(e){if(typeof e!="string")return!1;var t=RD;return t.includes(e)}var MD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DD=new Set(MD);function fI(e){return typeof e!="string"?!1:DD.has(e)}function hI(e){return typeof e=="string"&&e.startsWith("data-")}function Mi(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(fI(r)||hI(r))&&(t[r]=e[r]);return t}function Cc(e){if(e==null)return null;if(O.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Mi(t)}return typeof e=="object"&&!Array.isArray(e)?Mi(e):null}function Di(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(fI(r)||hI(r)||xy(r))&&(t[r]=e[r]);return t}var LD=["children","width","height","viewBox","className","style","title","desc"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function BD(e,t){if(e==null)return{};var r,n,i=FD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yy=O.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:f,title:p,desc:m}=e,v=BD(e,LD),w=s||{width:n,height:i,x:0,y:0},S=Ht("recharts-surface",c);return O.createElement("svg",Gv({},Di(v),{className:S,width:n,height:i,style:f,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:t}),O.createElement("title",null,p),O.createElement("desc",null,m),r)}),UD=["children","className"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function zD(e,t){if(e==null)return{};var r,n,i=$D(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $D(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Kr=O.forwardRef((e,t)=>{var{children:r,className:n}=e,i=zD(e,UD),s=Ht("recharts-layer",n);return O.createElement("g",Kv({className:s},Di(i),{ref:t}),r)}),pI=O.createContext(null),WD=()=>O.useContext(pI);function dr(e){return function(){return e}}const mI=Math.cos,n0=Math.sin,Ta=Math.sqrt,i0=Math.PI,dp=2*i0,Xv=Math.PI,Yv=2*Xv,tl=1e-6,VD=Yv-tl;function gI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function HD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gI;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gI:HD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,f=this._y1,p=n-t,m=i-r,v=c-t,w=f-r,S=v*v+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>tl)if(!(Math.abs(w*p-m*v)>tl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-c,I=i-f,N=p*p+m*m,k=_*_+I*I,M=Math.sqrt(N),L=Math.sqrt(S),R=s*Math.tan((Xv-Math.acos((N+S-k)/(2*M*L)))/2),z=R/L,W=R/M;Math.abs(z-1)>tl&&this._append`L${t+z*v},${r+z*w}`,this._append`A${s},${s},0,0,${+(w*_>v*I)},${this._x1=t+W*p},${this._y1=r+W*m}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),p=n*Math.sin(i),m=t+f,v=r+p,w=1^c,S=c?i-s:s-i;this._x1===null?this._append`M${m},${v}`:(Math.abs(this._x1-m)>tl||Math.abs(this._y1-v)>tl)&&this._append`L${m},${v}`,n&&(S<0&&(S=S%Yv+Yv),S>VD?this._append`A${n},${n},0,1,${w},${t-f},${r-p}A${n},${n},0,1,${w},${this._x1=m},${this._y1=v}`:S>tl&&this._append`A${n},${n},0,${+(S>=Xv)},${w},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qD(t)}function by(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vI(e){this._context=e}vI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fp(e){return new vI(e)}function xI(e){return e[0]}function yI(e){return e[1]}function wI(e,t){var r=dr(!0),n=null,i=fp,s=null,c=wy(f);e=typeof e=="function"?e:e===void 0?xI:dr(e),t=typeof t=="function"?t:t===void 0?yI:dr(t);function f(p){var m,v=(p=by(p)).length,w,S=!1,_;for(n==null&&(s=i(_=c())),m=0;m<=v;++m)!(m<v&&r(w=p[m],m,p))===S&&((S=!S)?s.lineStart():s.lineEnd()),S&&s.point(+e(w,m,p),+t(w,m,p));if(_)return s=null,_+""||null}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:dr(+p),f):e},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:dr(+p),f):t},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:dr(!!p),f):r},f.curve=function(p){return arguments.length?(i=p,n!=null&&(s=i(n)),f):i},f.context=function(p){return arguments.length?(p==null?n=s=null:s=i(n=p),f):n},f}function fh(e,t,r){var n=null,i=dr(!0),s=null,c=fp,f=null,p=wy(m);e=typeof e=="function"?e:e===void 0?xI:dr(+e),t=typeof t=="function"?t:dr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?yI:dr(+r);function m(w){var S,_,I,N=(w=by(w)).length,k,M=!1,L,R=new Array(N),z=new Array(N);for(s==null&&(f=c(L=p())),S=0;S<=N;++S){if(!(S<N&&i(k=w[S],S,w))===M)if(M=!M)_=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),I=S-1;I>=_;--I)f.point(R[I],z[I]);f.lineEnd(),f.areaEnd()}M&&(R[S]=+e(k,S,w),z[S]=+t(k,S,w),f.point(n?+n(k,S,w):R[S],r?+r(k,S,w):z[S]))}if(L)return f=null,L+""||null}function v(){return wI().defined(i).curve(c).context(s)}return m.x=function(w){return arguments.length?(e=typeof w=="function"?w:dr(+w),n=null,m):e},m.x0=function(w){return arguments.length?(e=typeof w=="function"?w:dr(+w),m):e},m.x1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:dr(+w),m):n},m.y=function(w){return arguments.length?(t=typeof w=="function"?w:dr(+w),r=null,m):t},m.y0=function(w){return arguments.length?(t=typeof w=="function"?w:dr(+w),m):t},m.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:dr(+w),m):r},m.lineX0=m.lineY0=function(){return v().x(e).y(t)},m.lineY1=function(){return v().x(e).y(r)},m.lineX1=function(){return v().x(n).y(t)},m.defined=function(w){return arguments.length?(i=typeof w=="function"?w:dr(!!w),m):i},m.curve=function(w){return arguments.length?(c=w,s!=null&&(f=c(s)),m):c},m.context=function(w){return arguments.length?(w==null?s=f=null:f=c(s=w),m):s},m}class bI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function GD(e){return new bI(e,!0)}function KD(e){return new bI(e,!1)}const Ey={draw(e,t){const r=Ta(t/i0);e.moveTo(r,0),e.arc(0,0,r,0,dp)}},XD={draw(e,t){const r=Ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},EI=Ta(1/3),YD=EI*2,ZD={draw(e,t){const r=Ta(t/YD),n=r*EI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QD={draw(e,t){const r=Ta(t),n=-r/2;e.rect(n,n,r,r)}},JD=.8908130915292852,AI=n0(i0/10)/n0(7*i0/10),e9=n0(dp/10)*AI,t9=-mI(dp/10)*AI,r9={draw(e,t){const r=Ta(t*JD),n=e9*r,i=t9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=dp*s/5,f=mI(c),p=n0(c);e.lineTo(p*r,-f*r),e.lineTo(f*n-p*i,p*n+f*i)}e.closePath()}},q1=Ta(3),n9={draw(e,t){const r=-Ta(t/(q1*3));e.moveTo(0,r*2),e.lineTo(-q1*r,-r),e.lineTo(q1*r,-r),e.closePath()}},Ji=-.5,ea=Ta(3)/2,Zv=1/Ta(12),i9=(Zv/2+1)*3,a9={draw(e,t){const r=Ta(t/i9),n=r/2,i=r*Zv,s=n,c=r*Zv+r,f=-s,p=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(f,p),e.lineTo(Ji*n-ea*i,ea*n+Ji*i),e.lineTo(Ji*s-ea*c,ea*s+Ji*c),e.lineTo(Ji*f-ea*p,ea*f+Ji*p),e.lineTo(Ji*n+ea*i,Ji*i-ea*n),e.lineTo(Ji*s+ea*c,Ji*c-ea*s),e.lineTo(Ji*f+ea*p,Ji*p-ea*f),e.closePath()}};function s9(e,t){let r=null,n=wy(i);e=typeof e=="function"?e:dr(e||Ey),t=typeof t=="function"?t:dr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:dr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:dr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function a0(){}function s0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function SI(e){this._context=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o9(e){return new SI(e)}function _I(e){this._context=e}_I.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l9(e){return new _I(e)}function CI(e){this._context=e}CI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c9(e){return new CI(e)}function OI(e){this._context=e}OI.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function u9(e){return new OI(e)}function dA(e){return e<0?-1:1}function fA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(s*i+c*n)/(n+i);return(dA(s)+dA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(f))||0}function hA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function G1(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,f=(s-n)/3;e._context.bezierCurveTo(n+f,i+f*t,s-f,c-f*r,s,c)}function o0(e){this._context=e}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G1(this,this._t0,hA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,G1(this,hA(this,r=fA(this,e,t)),r);break;default:G1(this,this._t0,r=fA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NI(e){this._context=new II(e)}(NI.prototype=Object.create(o0.prototype)).point=function(e,t){o0.prototype.point.call(this,t,e)};function II(e){this._context=e}II.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function d9(e){return new o0(e)}function f9(e){return new NI(e)}function TI(e){this._context=e}TI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pA(e),i=pA(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function h9(e){return new TI(e)}function hp(e,t){this._context=e,this._t=t}hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function p9(e){return new hp(e,.5)}function m9(e){return new hp(e,0)}function g9(e){return new hp(e,1)}function gl(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,f=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<f;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Qv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function v9(e,t){return e[t]}function x9(e){const t=[];return t.key=e,t}function y9(){var e=dr([]),t=Qv,r=gl,n=v9;function i(s){var c=Array.from(e.apply(this,arguments),x9),f,p=c.length,m=-1,v;for(const w of s)for(f=0,++m;f<p;++f)(c[f][m]=[0,+n(w,c[f].key,m,s)]).data=w;for(f=0,v=by(t(c));f<p;++f)c[v[f]].index=f;return r(c,v),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:dr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:dr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Qv:typeof s=="function"?s:dr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??gl,i):r},i}function w9(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}gl(e,t)}}function b9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}gl(e,t)}}function E9(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var f=0,p=0,m=0;f<c;++f){for(var v=e[t[f]],w=v[n][1]||0,S=v[n-1][1]||0,_=(w-S)/2,I=0;I<f;++I){var N=e[t[I]],k=N[n][1]||0,M=N[n-1][1]||0;_+=k-M}p+=w,m+=_*w}i[n-1][1]+=i[n-1][0]=r,p&&(r-=m/p)}i[n-1][1]+=i[n-1][0]=r,gl(e,t)}}var K1={},X1={},mA;function A9(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(X1)),X1}var Y1={},gA;function PI(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Y1)),Y1}var Z1={},vA;function Ay(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Z1)),Z1}var Q1={},J1={},xA;function S9(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(J1)),J1}var yA;function Sy(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S9(),r=Ay();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let f=0,p="",m="",v=!1;for(i.charCodeAt(0)===46&&(s.push(""),f++);f<c;){const w=i[f];m?w==="\\"&&f+1<c?(f++,p+=i[f]):w===m?m="":p+=w:v?w==='"'||w==="'"?m=w:w==="]"?(v=!1,s.push(p),p=""):p+=w:w==="["?(v=!0,p&&(s.push(p),p="")):w==="."?p&&(s.push(p),p=""):p+=w,f++}return p&&s.push(p),s}e.toPath=n})(Q1)),Q1}var wA;function _y(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A9(),r=PI(),n=Ay(),i=Sy();function s(f,p,m){if(f==null)return m;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?r.isDeepKey(p)?s(f,i.toPath(p),m):m:v}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const v=f[p];return v===void 0?m:v}default:{if(Array.isArray(p))return c(f,p,m);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?m:v}}}function c(f,p,m){if(p.length===0)return m;let v=f;for(let w=0;w<p.length;w++){if(v==null||t.isUnsafeProperty(p[w]))return m;v=v[p[w]]}return v===void 0?m:v}e.get=s})(K1)),K1}var eg,bA;function _9(){return bA||(bA=1,eg=_y().get),eg}var C9=_9();const vl=oa(C9);var O9=4;function po(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function zr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,c)=>{var f=r[c-1];return typeof f=="string"?i+f+s:f!==void 0?i+po(f)+s:i+s},"")}var Nn=e=>e===0?0:e>0?1:-1,Li=e=>typeof e=="number"&&e!=+e,_s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!Li(e),ia=e=>Je(e)||typeof e=="string",N9=0,sd=e=>{var t=++N9;return"".concat(e||"").concat(t)},Zn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return n;var s;if(_s(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return Li(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},kI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function jr(e,t,r){return Je(e)&&Je(t)?po(e+r*(t-e)):t}function jI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vl(n,t))===r)}var I9=e=>{for(var t=e.length,r=0,n=0,i=0,s=0,c=1/0,f=-1/0,p=0,m=0,v=0;v<t;v++){var w,S;p=((w=e[v])===null||w===void 0?void 0:w.cx)||0,m=((S=e[v])===null||S===void 0?void 0:S.cy)||0,r+=p,n+=m,i+=p*m,s+=p*p,c=Math.min(c,p),f=Math.max(f,p)}var _=t*s!==r*r?(t*i-r*n)/(t*s-r*r):0;return{xmin:c,xmax:f,a:_,b:(n-_*r)/t}},fr=e=>e===null||typeof e>"u",Cd=e=>fr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function T9(e){return e!=null}function Od(){}var P9=["type","size","sizeType"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){k9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k9(e,t,r){return(t=j9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M9(e,t){if(e==null)return{};var r,n,i=D9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function D9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RI={symbolCircle:Ey,symbolCross:XD,symbolDiamond:ZD,symbolSquare:QD,symbolStar:r9,symbolTriangle:n9,symbolWye:a9},L9=Math.PI/180,B9=e=>{var t="symbol".concat(Cd(e));return RI[t]||Ey},F9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*L9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},U9=(e,t)=>{RI["symbol".concat(Cd(e))]=t},pp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=M9(e,P9),s=AA(AA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=B9(c),_=s9().type(S).size(F9(r,n,c)),I=_();if(I!==null)return I},{className:p,cx:m,cy:v}=s,w=Di(s);return Je(m)&&Je(v)&&Je(r)?O.createElement("path",Jv({},w,{className:Ht("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};pp.registerSymbol=U9;var MI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,z9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{xy(i)&&(n[i]=(s=>r[i](r,s)))}),n},$9=(e,t,r)=>n=>(e(t,r,n),null),Fc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];xy(i)&&typeof s=="function"&&(n||(n={}),n[i]=$9(s,t,r))}),n},W9=e=>Array.isArray(e)&&e.length>0;function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){var r=V9({},e),n=t,i=Object.keys(t),s=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return s}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){X9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=32,Q9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function J9(e){var{data:t,iconType:r,inactiveColor:n}=e,i=ra/2,s=ra/6,c=ra/3,f=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var m;return O.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:ra,y2:i,className:"recharts-legend-icon"})}if(p==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(ra,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return O.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(O.isValidElement(t.legendIcon)){var v=K9({},t);return delete v.legendIcon,O.cloneElement(t.legendIcon,v)}return O.createElement(pp,{fill:f,cx:i,cy:i,size:ra,sizeType:"diameter",type:p})}function e7(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:c}=e,f={x:0,y:0,width:ra,height:ra},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,w)=>{var S=v.formatter||i,_=Ht({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var I=v.inactive?s:v.color,N=S?S(v.value,v,w):v.value;return O.createElement("li",l0({className:_,style:p,key:"legend-item-".concat(w)},Fc(e,v,w)),O.createElement(yy,{width:r,height:r,viewBox:f,style:m,"aria-label":"".concat(N," legend icon")},O.createElement(J9,{data:v,iconType:c,inactiveColor:s})),O.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},N))})}var t7=e=>{var t=Xr(e,Q9),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:s},O.createElement(e7,l0({},t,{payload:r})))},tg={},rg={},CA;function r7(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(rg)),rg}var ng={},OA;function DI(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ng)),ng}var ig={},ag={},sg={},NA;function n7(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sg)),sg}var IA;function Cy(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ag)),ag}var og={},TA;function i7(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(og)),og}var PA;function a7(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy(),r=i7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ig)),ig}var lg={},cg={},kA;function s7(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y();function r(n){return function(i){return t.get(i,n)}}e.property=r})(cg)),cg}var ug={},dg={},fg={},hg={},jA;function LI(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(hg)),hg}var pg={},RA;function BI(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(pg)),pg}var mg={},MA;function FI(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(mg)),mg}var DA;function o7(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI(),r=BI(),n=FI();function i(v,w,S){return typeof S!="function"?i(v,w,()=>{}):s(v,w,function _(I,N,k,M,L,R){const z=S(I,N,k,M,L,R);return z!==void 0?!!z:s(I,N,_,R)},new Map)}function s(v,w,S,_){if(w===v)return!0;switch(typeof w){case"object":return c(v,w,S,_);case"function":return Object.keys(w).length>0?s(v,{...w},S,_):n.eq(v,w);default:return t.isObject(v)?typeof w=="string"?w==="":!0:n.eq(v,w)}}function c(v,w,S,_){if(w==null)return!0;if(Array.isArray(w))return p(v,w,S,_);if(w instanceof Map)return f(v,w,S,_);if(w instanceof Set)return m(v,w,S,_);const I=Object.keys(w);if(v==null||r.isPrimitive(v))return I.length===0;if(I.length===0)return!0;if(_?.has(w))return _.get(w)===v;_?.set(w,v);try{for(let N=0;N<I.length;N++){const k=I[N];if(!r.isPrimitive(v)&&!(k in v)||w[k]===void 0&&v[k]!==void 0||w[k]===null&&v[k]!==null||!S(v[k],w[k],k,v,w,_))return!1}return!0}finally{_?.delete(w)}}function f(v,w,S,_){if(w.size===0)return!0;if(!(v instanceof Map))return!1;for(const[I,N]of w.entries()){const k=v.get(I);if(S(k,N,I,v,w,_)===!1)return!1}return!0}function p(v,w,S,_){if(w.length===0)return!0;if(!Array.isArray(v))return!1;const I=new Set;for(let N=0;N<w.length;N++){const k=w[N];let M=!1;for(let L=0;L<v.length;L++){if(I.has(L))continue;const R=v[L];let z=!1;if(S(R,k,N,v,w,_)&&(z=!0),z){I.add(L),M=!0;break}}if(!M)return!1}return!0}function m(v,w,S,_){return w.size===0?!0:v instanceof Set?p([...v],[...w],S,_):!1}e.isMatchWith=i,e.isSetMatch=m})(fg)),fg}var LA;function UI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(dg)),dg}var gg={},vg={},xg={},BA;function l7(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xg)),xg}var yg={},FA;function zI(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yg)),yg}var wg={},UA;function $I(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",f="[object Date]",p="[object Map]",m="[object Set]",v="[object Array]",w="[object Function]",S="[object ArrayBuffer]",_="[object Object]",I="[object Error]",N="[object DataView]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",R="[object Uint32Array]",z="[object BigUint64Array]",W="[object Int8Array]",V="[object Int16Array]",H="[object Int32Array]",ne="[object BigInt64Array]",Y="[object Float32Array]",Ae="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=S,e.arrayTag=v,e.bigInt64ArrayTag=ne,e.bigUint64ArrayTag=z,e.booleanTag=i,e.dataViewTag=N,e.dateTag=f,e.errorTag=I,e.float32ArrayTag=Y,e.float64ArrayTag=Ae,e.functionTag=w,e.int16ArrayTag=V,e.int32ArrayTag=H,e.int8ArrayTag=W,e.mapTag=p,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=L,e.uint32ArrayTag=R,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=M})(wg)),wg}var bg={},zA;function c7(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(bg)),bg}var $A;function WI(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l7(),r=zI(),n=$I(),i=BI(),s=c7();function c(v,w){return f(v,void 0,v,new Map,w)}function f(v,w,S,_=new Map,I=void 0){const N=I?.(v,w,S,_);if(N!==void 0)return N;if(i.isPrimitive(v))return v;if(_.has(v))return _.get(v);if(Array.isArray(v)){const k=new Array(v.length);_.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,S,_,I);return Object.hasOwn(v,"index")&&(k.index=v.index),Object.hasOwn(v,"input")&&(k.input=v.input),k}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const k=new RegExp(v.source,v.flags);return k.lastIndex=v.lastIndex,k}if(v instanceof Map){const k=new Map;_.set(v,k);for(const[M,L]of v)k.set(M,f(L,M,S,_,I));return k}if(v instanceof Set){const k=new Set;_.set(v,k);for(const M of v)k.add(f(M,void 0,S,_,I));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(s.isTypedArray(v)){const k=new(Object.getPrototypeOf(v)).constructor(v.length);_.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,S,_,I);return k}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const k=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return _.set(v,k),p(k,v,S,_,I),k}if(typeof File<"u"&&v instanceof File){const k=new File([v],v.name,{type:v.type});return _.set(v,k),p(k,v,S,_,I),k}if(typeof Blob<"u"&&v instanceof Blob){const k=new Blob([v],{type:v.type});return _.set(v,k),p(k,v,S,_,I),k}if(v instanceof Error){const k=new v.constructor;return _.set(v,k),k.message=v.message,k.name=v.name,k.stack=v.stack,k.cause=v.cause,p(k,v,S,_,I),k}if(v instanceof Boolean){const k=new Boolean(v.valueOf());return _.set(v,k),p(k,v,S,_,I),k}if(v instanceof Number){const k=new Number(v.valueOf());return _.set(v,k),p(k,v,S,_,I),k}if(v instanceof String){const k=new String(v.valueOf());return _.set(v,k),p(k,v,S,_,I),k}if(typeof v=="object"&&m(v)){const k=Object.create(Object.getPrototypeOf(v));return _.set(v,k),p(k,v,S,_,I),k}return v}function p(v,w,S=v,_,I){const N=[...Object.keys(w),...t.getSymbols(w)];for(let k=0;k<N.length;k++){const M=N[k],L=Object.getOwnPropertyDescriptor(v,M);(L==null||L.writable)&&(v[M]=f(w[M],M,S,_,I))}}function m(v){switch(r.getTag(v)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=p})(vg)),vg}var WA;function u7(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(gg)),gg}var VA;function d7(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI(),r=u7();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(ug)),ug}var Eg={},Ag={},Sg={},HA;function f7(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI(),r=$I();function n(i,s){return t.cloneDeepWith(i,(c,f,p,m)=>{const v=s?.(c,f,p,m);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new i.constructor(i?.valueOf());return t.copyProperties(w,i),w}case r.argumentsTag:{const w={};return t.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}e.cloneDeepWith=n})(Sg)),Sg}var qA;function h7(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ag)),Ag}var _g={},Cg={},GA;function VI(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cg)),Cg}var Og={},KA;function p7(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Og)),Og}var XA;function m7(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI(),r=VI(),n=p7(),i=Sy();function s(c,f){let p;if(Array.isArray(f)?p=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?p=i.toPath(f):p=[f],p.length===0)return!1;let m=c;for(let v=0;v<p.length;v++){const w=p[v];if((m==null||!Object.hasOwn(m,w))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(w)&&w<m.length))return!1;m=m[w]}return!0}e.has=s})(_g)),_g}var YA;function g7(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI(),r=Ay(),n=h7(),i=_y(),s=m7();function c(f,p){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return p=n.cloneDeep(p),function(m){const v=i.get(m,f);return v===void 0?s.has(m,f):p===void 0?v===void 0:t.isMatch(v,p)}}e.matchesProperty=c})(Eg)),Eg}var ZA;function v7(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI(),r=s7(),n=d7(),i=g7();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(lg)),lg}var QA;function x7(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r7(),r=DI(),n=a7(),i=v7();function s(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=s})(tg)),tg}var Ng,JA;function y7(){return JA||(JA=1,Ng=x7().uniqBy),Ng}var w7=y7();const eS=oa(w7);function HI(e,t,r){return t===!0?eS(e,r):typeof t=="function"?eS(e,t):e}var Ig={exports:{}},Tg={},Pg={exports:{}},kg={};var tS;function b7(){if(tS)return kg;tS=1;var e=Rc();function t(w,S){return w===S&&(w!==0||1/w===1/S)||w!==w&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(w,S){var _=S(),I=n({inst:{value:_,getSnapshot:S}}),N=I[0].inst,k=I[1];return s(function(){N.value=_,N.getSnapshot=S,p(N)&&k({inst:N})},[w,_,S]),i(function(){return p(N)&&k({inst:N}),w(function(){p(N)&&k({inst:N})})},[w]),c(_),_}function p(w){var S=w.getSnapshot;w=w.value;try{var _=S();return!r(w,_)}catch{return!0}}function m(w,S){return S()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return kg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,kg}var rS;function E7(){return rS||(rS=1,Pg.exports=b7()),Pg.exports}var nS;function A7(){if(nS)return Tg;nS=1;var e=Rc(),t=E7();function r(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(m,v,w,S,_){var I=s(null);if(I.current===null){var N={hasValue:!1,value:null};I.current=N}else N=I.current;I=f(function(){function M(V){if(!L){if(L=!0,R=V,V=S(V),_!==void 0&&N.hasValue){var H=N.value;if(_(H,V))return z=H}return z=V}if(H=z,n(R,V))return H;var ne=S(V);return _!==void 0&&_(H,ne)?(R=V,H):(R=V,z=ne)}var L=!1,R,z,W=w===void 0?null:w;return[function(){return M(v())},W===null?void 0:function(){return M(W())}]},[v,w,S,_]);var k=i(m,I[0],I[1]);return c(function(){N.hasValue=!0,N.value=k},[k]),p(k),k},Tg}var iS;function S7(){return iS||(iS=1,Ig.exports=A7()),Ig.exports}var _7=S7(),Oy=O.createContext(null),C7=e=>e,ir=()=>{var e=O.useContext(Oy);return e?e.store.dispatch:C7},Dh=()=>{},O7=()=>Dh,N7=(e,t)=>e===t;function He(e){var t=O.useContext(Oy);return _7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:O7,t?t.store.getState:Dh,t?t.store.getState:Dh,t?e:Dh,N7)}function I7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function T7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function P7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var aS=e=>Array.isArray(e)?e:[e];function k7(e){const t=Array.isArray(e[0])?e[0]:e;return P7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var R7=class{constructor(e){this.value=e}deref(){return this.value}},M7=typeof WeakRef<"u"?WeakRef:R7,D7=0,sS=1;function hh(){return{s:D7,v:void 0,o:null,p:null}}function qI(e,t={}){let r=hh();const{resultEqualityCheck:n}=t;let i,s=0;function c(){let f=r;const{length:p}=arguments;for(let w=0,S=p;w<S;w++){const _=arguments[w];if(typeof _=="function"||typeof _=="object"&&_!==null){let I=f.o;I===null&&(f.o=I=new WeakMap);const N=I.get(_);N===void 0?(f=hh(),I.set(_,f)):f=N}else{let I=f.p;I===null&&(f.p=I=new Map);const N=I.get(_);N===void 0?(f=hh(),I.set(_,f)):f=N}}const m=f;let v;if(f.s===sS)v=f.v;else if(v=e.apply(null,arguments),s++,n){const w=i?.deref?.()??i;w!=null&&n(w,v)&&(v=w,s!==0&&s--),i=typeof v=="object"&&v!==null||typeof v=="function"?new M7(v):v}return m.s=sS,m.v=v,v}return c.clearCache=()=>{r=hh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function L7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,f,p={},m=i.pop();typeof m=="object"&&(p=m,m=i.pop()),I7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const v={...r,...p},{memoize:w,memoizeOptions:S=[],argsMemoize:_=qI,argsMemoizeOptions:I=[]}=v,N=aS(S),k=aS(I),M=k7(i),L=w(function(){return s++,m.apply(null,arguments)},...N),R=_(function(){c++;const W=j7(M,arguments);return f=L.apply(null,W),f},...k);return Object.assign(R,{resultFunc:m,memoizedResultFunc:L,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:w,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var ce=L7(qI),B7=Object.assign((e,t=ce)=>{T7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,f,p)=>(c[r[p]]=f,c),{}))},{withTypes:()=>B7}),jg={},Rg={},Mg={},oS;function F7(){return oS||(oS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?f-c:c-f}return 0};e.compareValues=r})(Mg)),Mg}var Dg={},Lg={},lS;function GI(){return lS||(lS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Lg)),Lg}var cS;function U7(){return cS||(cS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(Dg)),Dg}var uS;function z7(){return uS||(uS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7(),r=U7(),n=Sy();function i(s,c,f,p){if(s==null)return[];f=p?void 0:f,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(_=>String(_));const m=(_,I)=>{let N=_;for(let k=0;k<I.length&&N!=null;++k)N=N[I[k]];return N},v=(_,I)=>I==null||_==null?I:typeof _=="object"&&"key"in _?Object.hasOwn(I,_.key)?I[_.key]:m(I,_.path):typeof _=="function"?_(I):Array.isArray(_)?m(I,_):typeof I=="object"?I[_]:I,w=c.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return s.map(_=>({original:_,criteria:w.map(I=>v(I,_))})).slice().sort((_,I)=>{for(let N=0;N<w.length;N++){const k=t.compareValues(_.criteria[N],I.criteria[N],f[N]);if(k!==0)return k}return 0}).map(_=>_.original)}e.orderBy=i})(Rg)),Rg}var Bg={},dS;function $7(){return dS||(dS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(f,p)=>{for(let m=0;m<f.length;m++){const v=f[m];Array.isArray(v)&&p<s?c(v,p+1):i.push(v)}};return c(r,0),i}e.flatten=t})(Bg)),Bg}var Fg={},fS;function KI(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI(),r=Cy(),n=LI(),i=FI();function s(c,f,p){return n.isObject(p)&&(typeof f=="number"&&r.isArrayLike(p)&&t.isIndex(f)&&f<p.length||typeof f=="string"&&f in p)?i.eq(p[f],c):!1}e.isIterateeCall=s})(Fg)),Fg}var hS;function W7(){return hS||(hS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7(),r=$7(),n=KI();function i(s,...c){const f=c.length;return f>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(jg)),jg}var Ug,pS;function V7(){return pS||(pS=1,Ug=W7().sortBy),Ug}var H7=V7();const mp=oa(H7);var XI=e=>e.legend.settings,q7=e=>e.legend.size,G7=e=>e.legend.payload,K7=ce([G7,XI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?mp(n,r):n});function X7(){return He(K7)}var ph=1;function YI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=O.useState({height:0,left:0,top:0,width:0}),n=O.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>ph||Math.abs(c.left-t.left)>ph||Math.abs(c.top-t.top)>ph||Math.abs(c.width-t.width)>ph)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Bn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Y7=typeof Symbol=="function"&&Symbol.observable||"@@observable",mS=Y7,zg=()=>Math.random().toString(36).substring(7).split("").join("."),Z7={INIT:`@@redux/INIT${zg()}`,REPLACE:`@@redux/REPLACE${zg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zg()}`},c0=Z7;function Ny(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZI(e,t,r){if(typeof e!="function")throw new Error(Bn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Bn(1));return r(ZI)(e,t)}let n=e,i=t,s=new Map,c=s,f=0,p=!1;function m(){c===s&&(c=new Map,s.forEach((k,M)=>{c.set(M,k)}))}function v(){if(p)throw new Error(Bn(3));return i}function w(k){if(typeof k!="function")throw new Error(Bn(4));if(p)throw new Error(Bn(5));let M=!0;m();const L=f++;return c.set(L,k),function(){if(M){if(p)throw new Error(Bn(6));M=!1,m(),c.delete(L),s=null}}}function S(k){if(!Ny(k))throw new Error(Bn(7));if(typeof k.type>"u")throw new Error(Bn(8));if(typeof k.type!="string")throw new Error(Bn(17));if(p)throw new Error(Bn(9));try{p=!0,i=n(i,k)}finally{p=!1}return(s=c).forEach(L=>{L()}),k}function _(k){if(typeof k!="function")throw new Error(Bn(10));n=k,S({type:c0.REPLACE})}function I(){const k=w;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Bn(11));function L(){const z=M;z.next&&z.next(v())}return L(),{unsubscribe:k(L)}},[mS](){return this}}}return S({type:c0.INIT}),{dispatch:S,subscribe:w,getState:v,replaceReducer:_,[mS]:I}}function Q7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:c0.INIT})>"u")throw new Error(Bn(12));if(typeof r(void 0,{type:c0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bn(13))})}function QI(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{Q7(r)}catch(s){i=s}return function(c={},f){if(i)throw i;let p=!1;const m={};for(let v=0;v<n.length;v++){const w=n[v],S=r[w],_=c[w],I=S(_,f);if(typeof I>"u")throw f&&f.type,new Error(Bn(14));m[w]=I,p=p||I!==_}return p=p||n.length!==Object.keys(c).length,p?m:c}}function u0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function J7(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Bn(15))};const c={getState:i.getState,dispatch:(p,...m)=>s(p,...m)},f=e.map(p=>p(c));return s=u0(...f)(i.dispatch),{...i,dispatch:s}}}function JI(e){return Ny(e)&&"type"in e&&typeof e.type=="string"}var eT=Symbol.for("immer-nothing"),gS=Symbol.for("immer-draftable"),ai=Symbol.for("immer-state");function Sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ki=Object,Oc=ki.getPrototypeOf,d0="constructor",gp="prototype",ex="configurable",f0="enumerable",Lh="writable",od="value",Cs=e=>!!e&&!!e[ai];function Na(e){return e?tT(e)||xp(e)||!!e[gS]||!!e[d0]?.[gS]||yp(e)||wp(e):!1}var eL=ki[gp][d0].toString(),vS=new WeakMap;function tT(e){if(!e||!Iy(e))return!1;const t=Oc(e);if(t===null||t===ki[gp])return!0;const r=ki.hasOwnProperty.call(t,d0)&&t[d0];if(r===Object)return!0;if(!hc(r))return!1;let n=vS.get(r);return n===void 0&&(n=Function.toString.call(r),vS.set(r,n)),n===eL}function vp(e,t,r=!0){Nd(e)===0?(r?Reflect.ownKeys(e):ki.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Nd(e){const t=e[ai];return t?t.type_:xp(e)?1:yp(e)?2:wp(e)?3:0}var xS=(e,t,r=Nd(e))=>r===2?e.has(t):ki[gp].hasOwnProperty.call(e,t),tx=(e,t,r=Nd(e))=>r===2?e.get(t):e[t],h0=(e,t,r,n=Nd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function tL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xp=Array.isArray,yp=e=>e instanceof Map,wp=e=>e instanceof Set,Iy=e=>typeof e=="object",hc=e=>typeof e=="function",$g=e=>typeof e=="boolean";function rL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var gs=e=>e.copy_||e.base_,Ty=e=>e.modified_?e.copy_:e.base_;function rx(e,t){if(yp(e))return new Map(e);if(wp(e))return new Set(e);if(xp(e))return Array[gp].slice.call(e);const r=tT(e);if(t===!0||t==="class_only"&&!r){const n=ki.getOwnPropertyDescriptors(e);delete n[ai];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f[Lh]===!1&&(f[Lh]=!0,f[ex]=!0),(f.get||f.set)&&(n[c]={[ex]:!0,[Lh]:!0,[f0]:f[f0],[od]:e[c]})}return ki.create(Oc(e),n)}else{const n=Oc(e);if(n!==null&&r)return{...e};const i=ki.create(n);return ki.assign(i,e)}}function Py(e,t=!1){return bp(e)||Cs(e)||!Na(e)||(Nd(e)>1&&ki.defineProperties(e,{set:mh,add:mh,clear:mh,delete:mh}),ki.freeze(e),t&&vp(e,(r,n)=>{Py(n,!0)},!1)),e}function nL(){Sa(2)}var mh={[od]:nL};function bp(e){return e===null||!Iy(e)?!0:ki.isFrozen(e)}var p0="MapSet",nx="Patches",yS="ArrayMethods",rT={};function xl(e){const t=rT[e];return t||Sa(0,e),t}var wS=e=>!!rT[e],ld,nT=()=>ld,iL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wS(p0)?xl(p0):void 0,arrayMethodsPlugin_:wS(yS)?xl(yS):void 0});function bS(e,t){t&&(e.patchPlugin_=xl(nx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ix(e){ax(e),e.drafts_.forEach(aL),e.drafts_=null}function ax(e){e===ld&&(ld=e.parent_)}var ES=e=>ld=iL(ld,e);function aL(e){const t=e[ai];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ai].modified_&&(ix(t),Sa(4)),Na(e)&&(e=SS(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[ai].base_,e,t)}else e=SS(t,r);return sL(t,e,!0),ix(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eT?e:void 0}function SS(e,t){if(bp(t))return t;const r=t[ai];if(!r)return m0(t,e.handledSet_,e);if(!Ep(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);sT(r,e)}return r.copy_}function sL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Py(t,r)}function iT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ep=(e,t)=>e.scope_===t,oL=[];function aT(e,t,r,n){const i=gs(e),s=e.type_;if(n!==void 0&&tx(i,n,s)===t){h0(i,n,r,s);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;vp(i,(p,m)=>{if(Cs(m)){const v=f.get(m)||[];v.push(p),f.set(m,v)}})}const c=e.draftLocations_.get(t)??oL;for(const f of c)h0(i,f,r,s)}function lL(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!Ep(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Ty(s);aT(e,s.draft_??s,c,r),sT(s,i)})}function sT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}iT(e)}}function cL(e,t,r){const{scope_:n}=e;if(Cs(r)){const i=r[ai];Ep(i,n)&&i.callbacks_.push(function(){Bh(e);const c=Ty(i);aT(e,r,c,t)})}else Na(r)&&e.callbacks_.push(function(){const s=gs(e);e.type_===3?s.has(r)&&m0(r,n.handledSet_,n):tx(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&m0(tx(e.copy_,t,e.type_),n.handledSet_,n)})}function m0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Cs(e)||t.has(e)||!Na(e)||bp(e)||(t.add(e),vp(e,(n,i)=>{if(Cs(i)){const s=i[ai];if(Ep(s,r)){const c=Ty(s);h0(e,n,c,e.type_),iT(s)}}else Na(i)&&m0(i,t,r)})),e}function uL(e,t){const r=xp(e),n={type_:r?1:0,scope_:t?t.scope_:nT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=g0;r&&(i=[n],s=cd);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,[f,n]}var g0={get(e,t){if(t===ai)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=gs(e);if(!xS(i,t,e.type_))return dL(e,i,t);const s=i[t];if(e.finalized_||!Na(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&rL(t))return s;if(s===Wg(e.base_,t)){Bh(e);const c=e.type_===1?+t:t,f=ox(e.scope_,s,e,c);return e.copy_[c]=f}return s},has(e,t){return t in gs(e)},ownKeys(e){return Reflect.ownKeys(gs(e))},set(e,t,r){const n=oT(gs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Wg(gs(e),t),s=i?.[ai];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(tL(r,i)&&(r!==void 0||xS(e.base_,t,e.type_)))return!0;Bh(e),sx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),cL(e,t,r)),!0},deleteProperty(e,t){return Bh(e),Wg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),sx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Lh]:!0,[ex]:e.type_!==1||t!=="length",[f0]:n[f0],[od]:r[t]}},defineProperty(){Sa(11)},getPrototypeOf(e){return Oc(e.base_)},setPrototypeOf(){Sa(12)}},cd={};for(let e in g0){let t=g0[e];cd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}cd.deleteProperty=function(e,t){return cd.set.call(this,e,t,void 0)};cd.set=function(e,t,r){return g0.set.call(this,e[0],t,r,e[0])};function Wg(e,t){const r=e[ai];return(r?gs(r):e)[t]}function dL(e,t,r){const n=oT(t,r);return n?od in n?n[od]:n.get?.call(e.draft_):void 0}function oT(e,t){if(!(t in e))return;let r=Oc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Oc(r)}}function sx(e){e.modified_||(e.modified_=!0,e.parent_&&sx(e.parent_))}function Bh(e){e.copy_||(e.assigned_=new Map,e.copy_=rx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(hc(r)&&!hc(n)){const c=n;n=r;const f=this;return function(m=c,...v){return f.produce(m,w=>n.call(this,w,...v))}}hc(n)||Sa(6),i!==void 0&&!hc(i)&&Sa(7);let s;if(Na(r)){const c=ES(this),f=ox(c,r,void 0);let p=!0;try{s=n(f),p=!1}finally{p?ix(c):ax(c)}return bS(c,i),AS(s,c)}else if(!r||!Iy(r)){if(s=n(r),s===void 0&&(s=r),s===eT&&(s=void 0),this.autoFreeze_&&Py(s,!0),i){const c=[],f=[];xl(nx).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:f}),i(c,f)}return s}else Sa(1,r)},this.produceWithPatches=(r,n)=>{if(hc(r))return(f,...p)=>this.produceWithPatches(f,m=>r(m,...p));let i,s;return[this.produce(r,n,(f,p)=>{i=f,s=p}),i,s]},$g(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),$g(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),$g(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Na(t)||Sa(8),Cs(t)&&(t=Oa(t));const r=ES(this),n=ox(r,t,void 0);return n[ai].isManual_=!0,ax(r),n}finishDraft(t,r){const n=t&&t[ai];(!n||!n.isManual_)&&Sa(9);const{scope_:i}=n;return bS(i,r),AS(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=xl(nx).applyPatches_;return Cs(t)?i(t,r):this.produce(t,s=>i(s,r))}};function ox(e,t,r,n){const[i,s]=yp(t)?xl(p0).proxyMap_(t,r):wp(t)?xl(p0).proxySet_(t,r):uL(t,r);return(r?.scope_??nT()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?lL(r,s,n):s.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=p;s.modified_&&m&&m.generatePatches_(s,[],p)}),i}function Oa(e){return Cs(e)||Sa(10,e),lT(e)}function lT(e){if(!Na(e)||bp(e))return e;const t=e[ai];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=rx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=rx(e,!0);return vp(r,(i,s)=>{h0(r,i,lT(s))},n),t&&(t.finalized_=!1),r}var hL=new fL,cT=hL.produce;function uT(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var pL=uT(),mL=uT,gL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u0:u0.apply(null,arguments)};function aa(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(ji(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>JI(n)&&n.type===e,r}var dT=class Ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ku(...t[0].concat(this)):new Ku(...t.concat(this))}};function _S(e){return Na(e)?cT(e,()=>{}):e}function gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vL(e){return typeof e=="boolean"}var xL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new dT;return r&&(vL(r)?c.push(pL):c.push(mL(r.extraArgument))),c},fT="RTK_autoBatch",_r=()=>e=>({payload:e,meta:{[fT]:!0}}),CS=e=>t=>{setTimeout(t,e)},hT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const f=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CS(10):e.type==="callback"?e.queueNotification:CS(e.timeout),m=()=>{c=!1,s&&(s=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const w=()=>i&&v(),S=n.subscribe(w);return f.add(v),()=>{S(),f.delete(v)}},dispatch(v){try{return i=!v?.meta?.[fT],s=!i,s&&(c||(c=!0,p(m))),n.dispatch(v)}finally{i=!0}}})},yL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new dT(e);return n&&i.push(hT(typeof n=="object"?n:void 0)),i};function wL(e){const t=xL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Ny(r))f=QI(r);else throw new Error(ji(1));let p;typeof n=="function"?p=n(t):p=t();let m=u0;i&&(m=gL({trace:!1,...typeof i=="object"&&i}));const v=J7(...p),w=yL(v);let S=typeof c=="function"?c(w):w();const _=m(...S);return ZI(f,s,_)}function pT(e){const t={},r=[];let n;const i={addCase(s,c){const f=typeof s=="string"?s:s.type;if(!f)throw new Error(ji(28));if(f in t)throw new Error(ji(29));return t[f]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function bL(e){return typeof e=="function"}function EL(e,t){let[r,n,i]=pT(t),s;if(bL(e))s=()=>_S(e());else{const f=_S(e);s=()=>f}function c(f=s(),p){let m=[r[p.type],...n.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[i]),m.reduce((v,w)=>{if(w)if(Cs(v)){const _=w(v,p);return _===void 0?v:_}else{if(Na(v))return cT(v,S=>w(S,p));{const S=w(v,p);if(S===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return v},f)}return c.getInitialState=s,c}var AL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SL=(e=21)=>{let t="",r=e;for(;r--;)t+=AL[Math.random()*64|0];return t},_L=Symbol.for("rtk-slice-createasyncthunk");function CL(e,t){return`${e}/${t}`}function OL({creators:e}={}){const t=e?.asyncThunk?.[_L];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(ji(11));const c=(typeof n.reducers=="function"?n.reducers(IL()):n.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(R,z){const W=typeof R=="string"?R:R.type;if(!W)throw new Error(ji(12));if(W in p.sliceCaseReducersByType)throw new Error(ji(13));return p.sliceCaseReducersByType[W]=z,m},addMatcher(R,z){return p.sliceMatchers.push({matcher:R,reducer:z}),m},exposeAction(R,z){return p.actionCreators[R]=z,m},exposeCaseReducer(R,z){return p.sliceCaseReducersByName[R]=z,m}};f.forEach(R=>{const z=c[R],W={reducerName:R,type:CL(i,R),createNotation:typeof n.reducers=="function"};PL(z)?jL(W,z,m,t):TL(W,z,m)});function v(){const[R={},z=[],W=void 0]=typeof n.extraReducers=="function"?pT(n.extraReducers):[n.extraReducers],V={...R,...p.sliceCaseReducersByType};return EL(n.initialState,H=>{for(let ne in V)H.addCase(ne,V[ne]);for(let ne of p.sliceMatchers)H.addMatcher(ne.matcher,ne.reducer);for(let ne of z)H.addMatcher(ne.matcher,ne.reducer);W&&H.addDefaultCase(W)})}const w=R=>R,S=new Map,_=new WeakMap;let I;function N(R,z){return I||(I=v()),I(R,z)}function k(){return I||(I=v()),I.getInitialState()}function M(R,z=!1){function W(H){let ne=H[R];return typeof ne>"u"&&z&&(ne=gh(_,W,k)),ne}function V(H=w){const ne=gh(S,z,()=>new WeakMap);return gh(ne,H,()=>{const Y={};for(const[Ae,pe]of Object.entries(n.selectors??{}))Y[Ae]=NL(pe,H,()=>gh(_,H,k),z);return Y})}return{reducerPath:R,getSelectors:V,get selectors(){return V(W)},selectSlice:W}}const L={name:i,reducer:N,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:k,...M(s),injectInto(R,{reducerPath:z,...W}={}){const V=z??s;return R.inject({reducerPath:V,reducer:N},W),{...L,...M(V,!0)}}};return L}}function NL(e,t,r,n){function i(s,...c){let f=t(s);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var xi=OL();function IL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function TL({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!kL(n))throw new Error(ji(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?aa(e,c):aa(e))}function PL(e){return e._reducerDefinitionType==="asyncThunk"}function kL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(ji(18));const{payloadCreator:s,fulfilled:c,pending:f,rejected:p,settled:m,options:v}=r,w=i(e,s,v);n.exposeAction(t,w),c&&n.addCase(w.fulfilled,c),f&&n.addCase(w.pending,f),p&&n.addCase(w.rejected,p),m&&n.addMatcher(w.settled,m),n.exposeCaseReducer(t,{fulfilled:c||vh,pending:f||vh,rejected:p||vh,settled:m||vh})}function vh(){}var RL="task",mT="listener",gT="completed",ky="cancelled",ML=`task-${ky}`,DL=`task-${gT}`,lx=`${mT}-${ky}`,LL=`${mT}-${gT}`,Ap=class{constructor(e){this.code=e,this.message=`${RL} ${ky} (reason: ${e})`}name="TaskAbortError";message},jy=(e,t)=>{if(typeof e!="function")throw new TypeError(ji(32))},v0=()=>{},vT=(e,t=v0)=>(e.catch(t),e),xT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),fl=e=>{if(e.aborted)throw new Ap(e.reason)};function yT(e,t){let r=v0;return new Promise((n,i)=>{const s=()=>i(new Ap(e.reason));if(e.aborted){s();return}r=xT(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=v0})}var BL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ap?"cancelled":"rejected",error:r}}finally{t?.()}},x0=e=>t=>vT(yT(e,t).then(r=>(fl(e),r))),wT=e=>{const t=x0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:bc}=Object,OS={},Sp="listenerMiddleware",FL=(e,t)=>{const r=n=>xT(e,()=>n.abort(e.reason));return(n,i)=>{jy(n);const s=new AbortController;r(s);const c=BL(async()=>{fl(e),fl(s.signal);const f=await n({pause:x0(s.signal),delay:wT(s.signal),signal:s.signal});return fl(s.signal),f},()=>s.abort(DL));return i?.autoJoin&&t.push(c.catch(v0)),{result:x0(e)(c),cancel(){s.abort(ML)}}}},UL=(e,t)=>{const r=async(n,i)=>{fl(t);let s=()=>{};const f=[new Promise((p,m)=>{let v=e({predicate:n,effect:(w,S)=>{S.unsubscribe(),p([w,S.getState(),S.getOriginalState()])}});s=()=>{v(),m()}})];i!=null&&f.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await yT(t,Promise.race(f));return fl(t),p}finally{s()}};return(n,i)=>vT(r(n,i))},bT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=aa(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ji(21));return jy(s),{predicate:i,type:t,effect:s}},ET=bc(e=>{const{type:t,predicate:r,effect:n}=bT(e);return{id:SL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ji(22))}}},{withTypes:()=>ET}),NS=(e,t)=>{const{type:r,effect:n,predicate:i}=bT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},cx=e=>{e.pending.forEach(t=>{t.abort(lx)})},zL=(e,t)=>()=>{for(const r of t.keys())cx(r);e.clear()},IS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AT=bc(aa(`${Sp}/add`),{withTypes:()=>AT}),$L=aa(`${Sp}/removeAll`),ST=bc(aa(`${Sp}/remove`),{withTypes:()=>ST}),WL=(...e)=>{console.error(`${Sp}/error`,...e)},Id=(e={})=>{const t=new Map,r=new Map,n=_=>{const I=r.get(_)??0;r.set(_,I+1)},i=_=>{const I=r.get(_)??1;I===1?r.delete(_):r.set(_,I-1)},{extra:s,onError:c=WL}=e;jy(c);const f=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),I=>{_.unsubscribe(),I?.cancelActive&&cx(_)}),p=_=>{const I=NS(t,_)??ET(_);return f(I)};bc(p,{withTypes:()=>p});const m=_=>{const I=NS(t,_);return I&&(I.unsubscribe(),_.cancelActive&&cx(I)),!!I};bc(m,{withTypes:()=>m});const v=async(_,I,N,k)=>{const M=new AbortController,L=UL(p,M.signal),R=[];try{_.pending.add(M),n(_),await Promise.resolve(_.effect(I,bc({},N,{getOriginalState:k,condition:(z,W)=>L(z,W).then(Boolean),take:L,delay:wT(M.signal),pause:x0(M.signal),extra:s,signal:M.signal,fork:FL(M.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((z,W,V)=>{z!==M&&(z.abort(lx),V.delete(z))})},cancel:()=>{M.abort(lx),_.pending.delete(M)},throwIfCancelled:()=>{fl(M.signal)}})))}catch(z){z instanceof Ap||IS(c,z,{raisedBy:"effect"})}finally{await Promise.all(R),M.abort(LL),i(_),_.pending.delete(M)}},w=zL(t,r);return{middleware:_=>I=>N=>{if(!JI(N))return I(N);if(AT.match(N))return p(N.payload);if($L.match(N)){w();return}if(ST.match(N))return m(N.payload);let k=_.getState();const M=()=>{if(k===OS)throw new Error(ji(23));return k};let L;try{if(L=I(N),t.size>0){const R=_.getState(),z=Array.from(t.values());for(const W of z){let V=!1;try{V=W.predicate(N,R,k)}catch(H){V=!1,IS(c,H,{raisedBy:"predicate"})}V&&v(W,N,_,M)}}}finally{k=OS}return L},startListening:p,stopListening:m,clearListeners:w}};function ji(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_T=xi({name:"chartLayout",initialState:VL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:HL,setLayout:qL,setChartSize:GL,setScale:KL}=_T.actions,XL=_T.reducer;function CT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function rr(e){return Number.isFinite(e)}function qa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){YL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YL(e,t,r){return(t=ZL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t,r){return fr(e)||fr(t)?r:ia(t)?vl(e,t,r):typeof t=="function"?t(e):r}var JL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&s!=="center"&&Je(e[s]))return gc(gc({},e),{},{[s]:e[s]+(n||0)});if((f==="horizontal"||f==="vertical"&&s==="center")&&c!=="middle"&&Je(e[c]))return gc(gc({},e),{},{[c]:e[c]+(i||0)})}return e},Ol=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",OT=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,s,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(s=!0),f.coordinate));return i||c.push(t),s||c.push(r),c},NT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:f,isCategorical:p,categoricalDomain:m,tickCount:v,ticks:w,niceTicks:S,axisType:_}=e;if(!c)return null;var I=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,N=i==="category"&&c.bandwidth?c.bandwidth()/I:0;if(N=_==="angleAxis"&&s&&s.length>=2?Nn(s[0]-s[1])*2*N:N,w||S){var k=(w||S||[]).map((M,L)=>{var R=n?n.indexOf(M):M;return{coordinate:c(R)+N,value:M,offset:N,index:L}});return k.filter(M=>!Li(M.coordinate))}return p&&m?m.map((M,L)=>({coordinate:c(M)+N,value:M,index:L,offset:N})):c.ticks&&v!=null?c.ticks(v).map((M,L)=>({coordinate:c(M)+N,value:M,offset:N,index:L})):c.domain().map((M,L)=>({coordinate:c(M)+N,value:n?n[M]:M,index:L,offset:N}))},PS=1e-4,eB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-PS,s=Math.max(n[0],n[1])+PS,c=e(t[0]),f=e(t[r-1]);(c<i||c>s||f<i||f>s)&&e.domain([t[0],t[r-1]])}},tB=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(i[0]=r),(!Je(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},rB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0,f=0;f<r;++f){var p=e[f],m=p?.[i];if(m!=null){var v=m[1],w=m[0],S=Li(v)?w:v;S>=0?(m[0]=s,m[1]=s+S,s=v):(m[0]=c,m[1]=c+S,c=v)}}}},nB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0;c<r;++c){var f=e[c],p=f?.[i];if(p!=null){var m=Li(p[1])?p[0]:p[1];m>=0?(p[0]=s,p[1]=s+m,s=p[1]):(p[0]=0,p[1]=0)}}}},iB={sign:rB,expand:w9,none:gl,silhouette:b9,wiggle:E9,positive:nB},aB=(e,t,r)=>{var n,i=(n=iB[r])!==null&&n!==void 0?n:gl,s=y9().keys(t).value((f,p)=>Number(Xt(f,p,0))).order(Qv).offset(i),c=s(e);return c.forEach((f,p)=>{f.forEach((m,v)=>{var w=Xt(e[v],t[p],0);Array.isArray(w)&&w.length===2&&Je(w[0])&&Je(w[1])&&(m[0]=w[0],m[1]=w[1])})}),c};function sB(e){return e==null?void 0:String(e)}function kS(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fr(i[t.dataKey])){var f=jI(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var p=Xt(i,fr(c)?t.dataKey:c);return fr(p)?null:t.scale(p)}var jS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=Xt(s,t.dataKey,t.scale.domain()[c]);return fr(f)?null:t.scale(f)-i/2+n},oB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},lB=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},cB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uB=(e,t,r)=>{if(e!=null)return cB(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:c}=s,f=c.reduce((p,m)=>{var v=CT(m,t,r),w=lB(v);return!rr(w[0])||!rr(w[1])?p:[Math.min(p[0],w[0]),Math.max(p[1],w[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},RS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=mp(t,v=>v.coordinate),s=1/0,c=1,f=i.length;c<f;c++){var p=i[c],m=i[c-1];s=Math.min((p?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function DS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return gc(gc({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Uc(e,t){if(e)return String(e);if(typeof t=="string")return t}var dB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},fB=(e,t)=>t==="centric"?e.angle:e.radius,js=e=>e.layout.width,Rs=e=>e.layout.height,hB=e=>e.layout.scale,IT=e=>e.layout.margin,_p=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cp=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Ry="data-recharts-item-index",My="data-recharts-item-id",Td=60;function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return(t=mB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mB(e){var t=gB(e,"string");return typeof t=="symbol"?t:t+""}function gB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vB=e=>e.brush.height;function xB(e){var t=Cp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Td;return r+i}return r},0)}function yB(e){var t=Cp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Td;return r+i}return r},0)}function wB(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function bB(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var pn=ce([js,Rs,IT,vB,xB,yB,wB,bB,XI,q7],(e,t,r,n,i,s,c,f,p,m)=>{var v={left:(r.left||0)+i,right:(r.right||0)+s},w={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=xh(xh({},w),v),_=S.bottom;S.bottom+=n,S=JL(S,p,m);var I=e-S.left-S.right,N=t-S.top-S.bottom;return xh(xh({brushBottom:_},S),{},{width:Math.max(I,0),height:Math.max(N,0)})}),EB=ce(pn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dy=ce(js,Rs,(e,t)=>({x:0,y:0,width:e,height:t})),AB=O.createContext(null),Un=()=>O.useContext(AB)!=null,Op=e=>e.brush,Np=ce([Op,pn,IT],(e,t,r)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Je(e.width)?e.width:t.width})),Vg={},Hg={},qg={},BS;function SB(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,f=null;const p=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),v=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},w=()=>{m&&v(),N()};let S=null;const _=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,w()},n)},I=()=>{S!==null&&(clearTimeout(S),S=null)},N=()=>{I(),c=void 0,f=null},k=()=>{v()},M=function(...L){if(i?.aborted)return;c=this,f=L;const R=S==null;_(),p&&R&&v()};return M.schedule=_,M.cancel=N,M.flush=k,i?.addEventListener("abort",N,{once:!0}),M}e.debounce=t})(qg)),qg}var FS;function _B(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SB();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:f=!0,maxWait:p}=s,m=Array(2);c&&(m[0]="leading"),f&&(m[1]="trailing");let v,w=null;const S=t.debounce(function(...N){v=n.apply(this,N),w=null},i,{edges:m}),_=function(...N){return p!=null&&(w===null&&(w=Date.now()),Date.now()-w>=p)?(v=n.apply(this,N),w=Date.now(),S.cancel(),S.schedule(),v):(S.apply(this,N),v)},I=()=>(S.flush(),v);return _.cancel=S.cancel,_.flush=I,_}e.debounce=r})(Hg)),Hg}var US;function CB(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_B();function r(n,i=0,s={}){const{leading:c=!0,trailing:f=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(Vg)),Vg}var Gg,zS;function OB(){return zS||(zS=1,Gg=CB().throttle),Gg}var NB=OB();const IB=oa(NB);var w0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},TT=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,f=_s(n)?e:Number(n),p=_s(i)?t:Number(i);return s&&s>0&&(f?p=f/s:p&&(f=p*s),c&&p!=null&&p>c&&(p=c)),{calculatedWidth:f,calculatedHeight:p}},TB={width:0,height:0,overflow:"visible"},PB={width:0,overflowX:"visible"},kB={height:0,overflowY:"visible"},jB={},RB=e=>{var{width:t,height:r}=e,n=_s(t),i=_s(r);return n&&i?TB:n?PB:i?kB:jB};function MB(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(null,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){DB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DB(e,t,r){return(t=LB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=BB(e,"string");return typeof t=="symbol"?t:t+""}function BB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PT=O.createContext({width:-1,height:-1});function FB(e){return qa(e.width)&&qa(e.height)}function kT(e){var{children:t,width:r,height:n}=e,i=O.useMemo(()=>({width:r,height:n}),[r,n]);return FB(i)?O.createElement(PT.Provider,{value:i},t):null}var Ly=()=>O.useContext(PT),UB=O.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:f,maxHeight:p,children:m,debounce:v=0,id:w,className:S,onResize:_,style:I={}}=e,N=O.useRef(null),k=O.useRef();k.current=_,O.useImperativeHandle(t,()=>N.current);var[M,L]=O.useState({containerWidth:n.width,containerHeight:n.height}),R=O.useCallback((ne,Y)=>{L(Ae=>{var pe=Math.round(ne),de=Math.round(Y);return Ae.containerWidth===pe&&Ae.containerHeight===de?Ae:{containerWidth:pe,containerHeight:de}})},[]);O.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return Od;var ne=de=>{var Se,{width:ke,height:re}=de[0].contentRect;R(ke,re),(Se=k.current)===null||Se===void 0||Se.call(k,ke,re)};v>0&&(ne=IB(ne,v,{trailing:!0,leading:!1}));var Y=new ResizeObserver(ne),{width:Ae,height:pe}=N.current.getBoundingClientRect();return R(Ae,pe),Y.observe(N.current),()=>{Y.disconnect()}},[R,v]);var{containerWidth:z,containerHeight:W}=M;w0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:H}=TT(z,W,{width:i,height:s,aspect:r,maxHeight:p});return w0(V!=null&&V>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,H,i,s,c,f,r),O.createElement("div",{id:w?"".concat(w):void 0,className:Ht("recharts-responsive-container",S),style:WS(WS({},I),{},{width:i,height:s,minWidth:c,minHeight:f,maxHeight:p}),ref:N},O.createElement("div",{style:RB({width:i,height:s})},O.createElement(kT,{width:V,height:H},m)))}),Fh=O.forwardRef((e,t)=>{var r=Ly();if(qa(r.width)&&qa(r.height))return e.children;var{width:n,height:i}=MB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=TT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Je(s)&&Je(c)?O.createElement(kT,{width:s,height:c},e.children):O.createElement(UB,ux({},e,{width:n,height:i,ref:t}))});function jT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zc=()=>{var e,t=Un(),r=He(EB),n=He(Np),i=(e=He(Op))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},zB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RT=()=>{var e;return(e=He(pn))!==null&&e!==void 0?e:zB},By=()=>He(js),Fy=()=>He(Rs),$B=()=>He(e=>e.layout.margin),zt=e=>e.layout.layoutType,Pd=()=>He(zt),WB=()=>{var e=Pd();return e!==void 0},Ip=e=>{var t=ir(),r=Un(),{width:n,height:i}=e,s=Ly(),c=n,f=i;return s&&(c=s.width>0?s.width:n,f=s.height>0?s.height:i),O.useEffect(()=>{!r&&qa(c)&&qa(f)&&t(GL({width:c,height:f}))},[t,r,c,f]),null},MT=Symbol.for("immer-nothing"),VS=Symbol.for("immer-draftable"),Bi=Symbol.for("immer-state");function _a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ud=Object.getPrototypeOf;function Nc(e){return!!e&&!!e[Bi]}function yl(e){return e?DT(e)||Array.isArray(e)||!!e[VS]||!!e.constructor?.[VS]||kd(e)||Pp(e):!1}var VB=Object.prototype.constructor.toString(),HS=new WeakMap;function DT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=HS.get(r);return n===void 0&&(n=Function.toString.call(r),HS.set(r,n)),n===VB}function b0(e,t,r=!0){Tp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Tp(e){const t=e[Bi];return t?t.type_:Array.isArray(e)?1:kd(e)?2:Pp(e)?3:0}function dx(e,t){return Tp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LT(e,t,r){const n=Tp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function HB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kd(e){return e instanceof Map}function Pp(e){return e instanceof Set}function rl(e){return e.copy_||e.base_}function fx(e,t){if(kd(e))return new Map(e);if(Pp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Bi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(ud(e),n)}else{const n=ud(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Uy(e,t=!1){return kp(e)||Nc(e)||!yl(e)||(Tp(e)>1&&Object.defineProperties(e,{set:yh,add:yh,clear:yh,delete:yh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Uy(r,!0))),e}function qB(){_a(2)}var yh={value:qB};function kp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var GB={};function wl(e){const t=GB[e];return t||_a(0,e),t}var dd;function BT(){return dd}function KB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qS(e,t){t&&(wl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hx(e){px(e),e.drafts_.forEach(XB),e.drafts_=null}function px(e){e===dd&&(dd=e.parent_)}function GS(e){return dd=KB(dd,e)}function XB(e){const t=e[Bi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function KS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Bi].modified_&&(hx(t),_a(4)),yl(e)&&(e=E0(t,e),t.parent_||A0(t,e)),t.patches_&&wl("Patches").generateReplacementPatches_(r[Bi].base_,e,t.patches_,t.inversePatches_)):e=E0(t,r,[]),hx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MT?e:void 0}function E0(e,t,r){if(kp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Bi];if(!i)return b0(t,(s,c)=>XS(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return A0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,f=!1;i.type_===3&&(c=new Set(s),s.clear(),f=!0),b0(c,(p,m)=>XS(e,i,s,p,m,r,f),n),A0(e,s,!1),r&&e.patches_&&wl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function XS(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const f=kp(i);if(!(f&&!c)){if(Nc(i)){const p=s&&t&&t.type_!==3&&!dx(t.assigned_,n)?s.concat(n):void 0,m=E0(e,i,p);if(LT(r,n,m),Nc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(yl(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;E0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&A0(e,i)}}}function A0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uy(t,r)}function YB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:BT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=zy;r&&(i=[n],s=fd);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,f}var zy={get(e,t){if(t===Bi)return e;const r=rl(e);if(!dx(r,t))return ZB(e,r,t);const n=r[t];return e.finalized_||!yl(n)?n:n===Kg(e.base_,t)?(Xg(e),e.copy_[t]=gx(n,e)):n},has(e,t){return t in rl(e)},ownKeys(e){return Reflect.ownKeys(rl(e))},set(e,t,r){const n=FT(rl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Kg(rl(e),t),s=i?.[Bi];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(HB(r,i)&&(r!==void 0||dx(e.base_,t)))return!0;Xg(e),mx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xg(e),mx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=rl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_a(11)},getPrototypeOf(e){return ud(e.base_)},setPrototypeOf(){_a(12)}},fd={};b0(zy,(e,t)=>{fd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fd.deleteProperty=function(e,t){return fd.set.call(this,e,t,void 0)};fd.set=function(e,t,r){return zy.set.call(this,e[0],t,r,e[0])};function Kg(e,t){const r=e[Bi];return(r?rl(r):e)[t]}function ZB(e,t,r){const n=FT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function FT(e,t){if(!(t in e))return;let r=ud(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ud(r)}}function mx(e){e.modified_||(e.modified_=!0,e.parent_&&mx(e.parent_))}function Xg(e){e.copy_||(e.copy_=fx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(p=s,...m){return c.produce(p,v=>r.call(this,v,...m))}}typeof r!="function"&&_a(6),n!==void 0&&typeof n!="function"&&_a(7);let i;if(yl(t)){const s=GS(this),c=gx(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?hx(s):px(s)}return qS(s,n),KS(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===MT&&(i=void 0),this.autoFreeze_&&Uy(i,!0),n){const s=[],c=[];wl("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else _a(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,p=>t(p,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){yl(e)||_a(8),Nc(e)&&(e=JB(e));const t=GS(this),r=gx(e,void 0);return r[Bi].isManual_=!0,px(t),r}finishDraft(e,t){const r=e&&e[Bi];(!r||!r.isManual_)&&_a(9);const{scope_:n}=r;return qS(n,t),KS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=wl("Patches").applyPatches_;return Nc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function gx(e,t){const r=kd(e)?wl("MapSet").proxyMap_(e,t):Pp(e)?wl("MapSet").proxySet_(e,t):YB(e,t);return(t?t.scope_:BT()).drafts_.push(r),r}function JB(e){return Nc(e)||_a(10,e),UT(e)}function UT(e){if(!yl(e)||kp(e))return e;const t=e[Bi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fx(e,!0);return b0(r,(i,s)=>{LT(r,i,UT(s))},n),t&&(t.finalized_=!1),r}var eF=new QB;eF.produce;var tF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},zT=xi({name:"legend",initialState:tF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_r()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:_r()},removeLegendPayload:{reducer(e,t){var r=Oa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:_r()}}}),{setLegendSize:YS,setLegendSettings:rF,addLegendPayload:$T,replaceLegendPayload:WT,removeLegendPayload:VT}=zT.actions,nF=zT.reducer,iF=["contextPayload"];function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){aF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aF(e,t,r){return(t=sF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lF(e,t){if(e==null)return{};var r,n,i=cF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uF(e){return e.value}function dF(e){var{contextPayload:t}=e,r=lF(e,iF),n=HI(t,e.payloadUniqBy,uF),i=Ic(Ic({},r),{},{payload:n});return O.isValidElement(e.content)?O.cloneElement(e.content,i):typeof e.content=="function"?O.createElement(e.content,i):O.createElement(t7,i)}function fF(e,t,r,n,i,s){var{layout:c,align:f,verticalAlign:p}=t,m,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?m={left:((n||0)-s.width)/2}:m=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?v={top:((i||0)-s.height)/2}:v=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ic(Ic({},m),v)}function hF(e){var t=ir();return O.useEffect(()=>{t(rF(e))},[t,e]),null}function pF(e){var t=ir();return O.useEffect(()=>(t(YS(e)),()=>{t(YS({width:0,height:0}))}),[t,e]),null}function mF(e,t,r,n){return e==="vertical"&&Je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var gF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function $y(e){var t=Xr(e,gF),r=X7(),n=WD(),i=$B(),{width:s,height:c,wrapperStyle:f,portal:p}=t,[m,v]=YI([r]),w=By(),S=Fy();if(w==null||S==null)return null;var _=w-(i?.left||0)-(i?.right||0),I=mF(t.layout,c,s,_),N=p?f:Ic(Ic({position:"absolute",width:I?.width||s||"auto",height:I?.height||c||"auto"},fF(f,t,i,w,S,m)),f),k=p??n;if(k==null||r==null)return null;var M=O.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:v},O.createElement(hF,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&O.createElement(pF,{width:m.width,height:m.height}),O.createElement(dF,vx({},t,I,{margin:i,chartWidth:w,chartHeight:S,contextPayload:r})));return ry.createPortal(M,k)}$y.displayName="Legend";function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(null,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return(t=xF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xF(e){var t=yF(e,"string");return typeof t=="symbol"?t:t+""}function yF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wF(e){return Array.isArray(e)&&ia(e[0])&&ia(e[1])?e.join(" ~ "):e}var bF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:f,wrapperClassName:p,labelClassName:m,label:v,labelFormatter:w,accessibilityLayer:S=!1}=e,_=()=>{if(s&&s.length){var W={padding:0,margin:0},V=(f?mp(s,f):s).map((H,ne)=>{if(H.type==="none")return null;var Y=H.formatter||c||wF,{value:Ae,name:pe}=H,de=Ae,Se=pe;if(Y){var ke=Y(Ae,pe,H,ne,s);if(Array.isArray(ke))[de,Se]=ke;else if(ke!=null)de=ke;else return null}var re=Yg({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},n);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:re},ia(Se)?O.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,ia(Se)?O.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,O.createElement("span",{className:"recharts-tooltip-item-value"},de),O.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:W},V)}return null},I=Yg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=Yg({margin:0},i),k=!fr(v),M=k?v:"",L=Ht("recharts-default-tooltip",p),R=Ht("recharts-tooltip-label",m);k&&w&&s!==void 0&&s!==null&&(M=w(v,s));var z=S?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",xx({className:L,style:I},z),O.createElement("p",{className:R,style:N},O.isValidElement(M)?M:"".concat(M)),_())},Du="recharts-tooltip-wrapper",EF={visibility:"hidden"};function AF(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ht(Du,{["".concat(Du,"-right")]:Je(r)&&t&&Je(t.x)&&r>=t.x,["".concat(Du,"-left")]:Je(r)&&t&&Je(t.x)&&r<t.x,["".concat(Du,"-bottom")]:Je(n)&&t&&Je(t.y)&&n>=t.y,["".concat(Du,"-top")]:Je(n)&&t&&Je(t.y)&&n<t.y})}function JS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:f,viewBox:p,viewBoxDimension:m}=e;if(s&&Je(s[n]))return s[n];var v=r[n]-f-(i>0?i:0),w=r[n]+i;if(t[n])return c[n]?v:w;var S=p[n];if(S==null)return 0;if(c[n]){var _=v,I=S;return _<I?Math.max(w,S):Math.max(v,S)}if(m==null)return 0;var N=w+f,k=S+m;return N>k?Math.max(v,S):Math.max(w,S)}function SF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _F(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:f,viewBox:p}=e,m,v,w;return c.height>0&&c.width>0&&r?(v=JS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:p,viewBoxDimension:p.width}),w=JS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:p,viewBoxDimension:p.height}),m=SF({translateX:v,translateY:w,useTranslate3d:f})):m=EF,{cssProperties:m,cssClasses:AF({translateX:v,translateY:w,coordinate:r})}}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yx(e,t,r){return(t=CF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NF extends O.PureComponent{constructor(){super(...arguments),yx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:f,isAnimationActive:p,offset:m,position:v,reverseDirection:w,useTranslate3d:S,viewBox:_,wrapperStyle:I,lastBoundingBox:N,innerRef:k,hasPortalFromProps:M}=this.props,{cssClasses:L,cssProperties:R}=_F({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:w,tooltipBox:{height:N.height,width:N.width},useTranslate3d:S,viewBox:_}),z=M?{}:wh(wh({transition:p&&t?"transform ".concat(n,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=wh(wh({},z),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},I);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:W,ref:k},s)}}var HT=()=>{var e;return(e=He(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){IF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IF(e,t,r){return(t=TF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n_={curveBasisClosed:l9,curveBasisOpen:c9,curveBasis:o9,curveBumpX:GD,curveBumpY:KD,curveLinearClosed:u9,curveLinear:fp,curveMonotoneX:d9,curveMonotoneY:f9,curveNatural:h9,curveStep:p9,curveStepAfter:g9,curveStepBefore:m9},S0=e=>rr(e.x)&&rr(e.y),i_=e=>e.base!=null&&S0(e.base)&&S0(e),Lu=e=>e.x,Bu=e=>e.y,kF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Cd(e));return(r==="curveMonotone"||r==="curveBump")&&t?n_["".concat(r).concat(t==="vertical"?"Y":"X")]:n_[r]||fp},jF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=kF(t,i),f=s?r.filter(S0):r,p;if(Array.isArray(n)){var m=r.map((_,I)=>r_(r_({},_),{},{base:n[I]}));i==="vertical"?p=fh().y(Bu).x1(Lu).x0(_=>_.base.x):p=fh().x(Lu).y1(Bu).y0(_=>_.base.y);var v=p.defined(i_).curve(c),w=s?m.filter(i_):m;return v(w)}i==="vertical"&&Je(n)?p=fh().y(Bu).x1(Lu).x0(n):Je(n)?p=fh().x(Lu).y1(Bu).y0(n):p=wI().x(Lu).y(Bu);var S=p.defined(S0).curve(c);return S(f)},jp=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=Pd();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},f=r&&r.length?jF(c):n;return O.createElement("path",wx({},Mi(e),z9(e),{className:Ht("recharts-curve",t),d:f===null?void 0:f,ref:i}))},RF=["x","y","top","left","width","height","className"];function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){DF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FF(e,t){if(e==null)return{};var r,n,i=UF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zF=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),$F=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:f}=e,p=FF(e,RF),m=MF({x:t,y:r,top:n,left:i,width:s,height:c},p);return!Je(t)||!Je(r)||!Je(s)||!Je(c)||!Je(n)||!Je(i)?null:O.createElement("path",bx({},Di(m),{className:Ht("recharts-cross",f),d:zF(t,r,s,c,n,i)}))};function WF(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){VF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VF(e,t,r){return(t=HF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=qF(e,"string");return typeof t=="symbol"?t:t+""}function qF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qT=(e,t,r)=>e.map(n=>"".concat(GF(n)," ").concat(t,"ms ").concat(r)).join(","),KF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),hd=(e,t)=>Object.keys(t).reduce((r,n)=>o_(o_({},r),{},{[n]:e(n,t[n])}),{});function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return(t=YF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0=(e,t,r)=>e+(t-e)*r,Ex=e=>{var{from:t,to:r}=e;return t!==r},GT=(e,t,r)=>{var n=hd((i,s)=>{if(Ex(s)){var[c,f]=e(s.from,s.to,s.velocity);return hn(hn({},s),{},{from:c,velocity:f})}return s},t);return r<1?hd((i,s)=>Ex(s)&&n[i]!=null?hn(hn({},s),{},{velocity:_0(s.velocity,n[i].velocity,r),from:_0(s.from,n[i].from,r)}):s,t):GT(e,n,r-1)};function QF(e,t,r,n,i,s){var c,f=n.reduce((S,_)=>hn(hn({},S),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),p=()=>hd((S,_)=>_.from,f),m=()=>!Object.values(f).filter(Ex).length,v=null,w=S=>{c||(c=S);var _=S-c,I=_/r.dt;f=GT(r,f,I),i(hn(hn(hn({},e),t),p())),c=S,m()||(v=s.setTimeout(w))};return()=>(v=s.setTimeout(w),()=>{var S;(S=v)===null||S===void 0||S()})}function JF(e,t,r,n,i,s,c){var f=null,p=i.reduce((w,S)=>{var _=e[S],I=t[S];return _==null||I==null?w:hn(hn({},w),{},{[S]:[_,I]})},{}),m,v=w=>{m||(m=w);var S=(w-m)/n,_=hd((N,k)=>_0(...k,r(S)),p);if(s(hn(hn(hn({},e),t),_)),S<1)f=c.setTimeout(v);else{var I=hd((N,k)=>_0(...k,r(1)),p);s(hn(hn(hn({},e),t),I))}};return()=>(f=c.setTimeout(v),()=>{var w;(w=f)===null||w===void 0||w()})}const eU=(e,t,r,n,i,s)=>{var c=KF(e,t);return r==null?()=>(i(hn(hn({},e),t)),()=>{}):r.isStepper===!0?QF(e,t,r,c,i,s):JF(e,t,r,n,c,i,s)};var C0=1e-4,KT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],XT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),c_=(e,t)=>r=>{var n=KT(e,t);return XT(n,r)},tU=(e,t)=>r=>{var n=KT(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return XT(i,r)},rU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},nU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=rU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},iU=(e,t,r,n)=>{var i=c_(e,r),s=c_(t,n),c=tU(e,r),f=m=>m>1?1:m<0?0:m,p=m=>{for(var v=m>1?1:m,w=v,S=0;S<8;++S){var _=i(w)-v,I=c(w);if(Math.abs(_-v)<C0||I<C0)return s(w);w=f(w-_/I)}return s(w)};return p.isStepper=!1,p},u_=function(){return iU(...nU(...arguments))},aU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,f,p)=>{var m=-(c-f)*r,v=p*n,w=p+(m-v)*i/1e3,S=p*i/1e3+c;return Math.abs(S-f)<C0&&Math.abs(w)<C0?[f,0]:[S,w]};return s.isStepper=!0,s.dt=i,s},sU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u_(e);case"spring":return aU();default:if(e.split("(")[0]==="cubic-bezier")return u_(e)}return typeof e=="function"?e:null};function oU(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[p,...m]=f;if(typeof p=="number"){i=e.setTimeout(s.bind(null,m),p);return}s(p),i=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class lU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function cU(){return oU(new lU)}var uU=O.createContext(cU);function dU(e,t){var r=O.useContext(uU);return O.useMemo(()=>t??r(e),[e,t,r])}var fU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rp={isSsr:fU()},hU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},d_={t:0},Zg={t:1};function jd(e){var t=Xr(e,hU),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:f,onAnimationStart:p,children:m}=t,v=r==="auto"?!Rp.isSsr:r,w=dU(t.animationId,t.animationManager),[S,_]=O.useState(v?d_:Zg),I=O.useRef(null);return O.useEffect(()=>{v||_(Zg)},[v]),O.useEffect(()=>{if(!v||!n)return Od;var N=eU(d_,Zg,sU(s),i,_,w.getTimeoutController()),k=()=>{I.current=N()};return w.start([p,c,k,i,f]),()=>{w.stop(),I.current&&I.current(),f()}},[v,n,i,s,c,p,f,w]),m(S.t)}function Rd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=O.useRef(sd(t)),n=O.useRef(e);return n.current!==e&&(r.current=sd(t),n.current=e),r.current}var pU=["radius"],mU=["radius"],f_,h_,p_,m_,g_,v_,x_,y_,w_,b_;function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){gU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gU(e,t,r){return(t=vU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vU(e){var t=xU(e,"string");return typeof t=="symbol"?t:t+""}function xU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(null,arguments)}function S_(e,t){if(e==null)return{};var r,n,i=yU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var __=(e,t,r,n,i)=>{var s=po(r),c=po(n),f=Math.min(Math.abs(s)/2,Math.abs(c)/2),p=c>=0?1:-1,m=s>=0?1:-1,v=c>=0&&s>=0||c<0&&s<0?1:0,w;if(f>0&&i instanceof Array){for(var S=[0,0,0,0],_=0,I=4;_<I;_++)S[_]=i[_]>f?f:i[_];w=zr(f_||(f_=Fa(["M",",",""])),e,t+p*S[0]),S[0]>0&&(w+=zr(h_||(h_=Fa(["A ",",",",0,0,",",",",",""])),S[0],S[0],v,e+m*S[0],t)),w+=zr(p_||(p_=Fa(["L ",",",""])),e+r-m*S[1],t),S[1]>0&&(w+=zr(m_||(m_=Fa(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],v,e+r,t+p*S[1])),w+=zr(g_||(g_=Fa(["L ",",",""])),e+r,t+n-p*S[2]),S[2]>0&&(w+=zr(v_||(v_=Fa(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],v,e+r-m*S[2],t+n)),w+=zr(x_||(x_=Fa(["L ",",",""])),e+m*S[3],t+n),S[3]>0&&(w+=zr(y_||(y_=Fa(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],v,e,t+n-p*S[3])),w+="Z"}else if(f>0&&i===+i&&i>0){var N=Math.min(f,i);w=zr(w_||(w_=Fa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*N,N,N,v,e+m*N,t,e+r-m*N,t,N,N,v,e+r,t+p*N,e+r,t+n-p*N,N,N,v,e+r-m*N,t+n,e+m*N,t+n,N,N,v,e,t+n-p*N)}else w=zr(b_||(b_=Fa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return w},C_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YT=e=>{var t=Xr(e,C_),r=O.useRef(null),[n,i]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:c,width:f,height:p,radius:m,className:v}=t,{animationEasing:w,animationDuration:S,animationBegin:_,isAnimationActive:I,isUpdateAnimationActive:N}=t,k=O.useRef(f),M=O.useRef(p),L=O.useRef(s),R=O.useRef(c),z=O.useMemo(()=>({x:s,y:c,width:f,height:p,radius:m}),[s,c,f,p,m]),W=Rd(z,"rectangle-");if(s!==+s||c!==+c||f!==+f||p!==+p||f===0||p===0)return null;var V=Ht("recharts-rectangle",v);if(!N){var H=Di(t),{radius:ne}=H,Y=S_(H,pU);return O.createElement("path",O0({},Y,{x:po(s),y:po(c),width:po(f),height:po(p),radius:typeof m=="number"?m:void 0,className:V,d:__(s,c,f,p,m)}))}var Ae=k.current,pe=M.current,de=L.current,Se=R.current,ke="0px ".concat(n===-1?1:n,"px"),re="".concat(n,"px 0px"),De=qT(["strokeDasharray"],S,typeof w=="string"?w:C_.animationEasing);return O.createElement(jd,{animationId:W,key:W,canBegin:n>0,duration:S,easing:w,isActive:N,begin:_},oe=>{var ve=jr(Ae,f,oe),we=jr(pe,p,oe),be=jr(de,s,oe),Q=jr(Se,c,oe);r.current&&(k.current=ve,M.current=we,L.current=be,R.current=Q);var ue;I?oe>0?ue={transition:De,strokeDasharray:re}:ue={strokeDasharray:ke}:ue={strokeDasharray:re};var Be=Di(t),{radius:Le}=Be,Ye=S_(Be,mU);return O.createElement("path",O0({},Ye,{radius:typeof m=="number"?m:void 0,className:V,d:__(be,Q,ve,we,m),ref:r,style:A_(A_({},ue),t.style)}))})};function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function N_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){wU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wU(e,t,r){return(t=bU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bU(e){var t=EU(e,"string");return typeof t=="symbol"?t:t+""}function EU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=Math.PI/180,AU=e=>e*180/Math.PI,rn=(e,t,r,n)=>({x:e+Math.cos(-N0*n)*r,y:t+Math.sin(-N0*n)*r}),ZT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},SU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},_U=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=SU({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,p=Math.acos(f);return n>s&&(p=2*Math.PI-p),{radius:c,angle:AU(p),angleInRadian:p}},CU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},OU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},NU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=_U({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:p,endAngle:m}=CU(t),v=s,w;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}return w?N_(N_({},t),{},{radius:i,angle:OU(v,t)}):null};function QT(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=rn(t,r,n,i),f=rn(t,r,n,s);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var I_,T_,P_,k_,j_,R_,M_;function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(null,arguments)}function ll(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IU=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},bh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:f,cornerIsExternal:p}=e,m=f*(c?1:-1)+n,v=Math.asin(f/m)/N0,w=p?i:i+s*v,S=rn(t,r,m,w),_=rn(t,r,n,w),I=p?i-s*v:i,N=rn(t,r,m*Math.cos(v*N0),I);return{center:S,circleTangency:_,lineTangency:N,theta:v}},JT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,f=IU(s,c),p=s+f,m=rn(t,r,i,s),v=rn(t,r,i,p),w=zr(I_||(I_=ll(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(f)>180),+(s>p),v.x,v.y);if(n>0){var S=rn(t,r,n,s),_=rn(t,r,n,p);w+=zr(T_||(T_=ll(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(f)>180),+(s<=p),S.x,S.y)}else w+=zr(P_||(P_=ll(["L ",","," Z"])),t,r);return w},TU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:m}=e,v=Nn(m-p),{circleTangency:w,lineTangency:S,theta:_}=bh({cx:t,cy:r,radius:i,angle:p,sign:v,cornerRadius:s,cornerIsExternal:f}),{circleTangency:I,lineTangency:N,theta:k}=bh({cx:t,cy:r,radius:i,angle:m,sign:-v,cornerRadius:s,cornerIsExternal:f}),M=f?Math.abs(p-m):Math.abs(p-m)-_-k;if(M<0)return c?zr(k_||(k_=ll(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,s,s,s*2,s,s,-s*2):JT({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:p,endAngle:m});var L=zr(j_||(j_=ll(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,s,s,+(v<0),w.x,w.y,i,i,+(M>180),+(v<0),I.x,I.y,s,s,+(v<0),N.x,N.y);if(n>0){var{circleTangency:R,lineTangency:z,theta:W}=bh({cx:t,cy:r,radius:n,angle:p,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),{circleTangency:V,lineTangency:H,theta:ne}=bh({cx:t,cy:r,radius:n,angle:m,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),Y=f?Math.abs(p-m):Math.abs(p-m)-W-ne;if(Y<0&&s===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=zr(R_||(R_=ll(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),H.x,H.y,s,s,+(v<0),V.x,V.y,n,n,+(Y>180),+(v>0),R.x,R.y,s,s,+(v<0),z.x,z.y)}else L+=zr(M_||(M_=ll(["L",",","Z"])),t,r);return L},PU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},e4=e=>{var t=Xr(e,PU),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v,className:w}=t;if(s<i||m===v)return null;var S=Ht("recharts-sector",w),_=s-i,I=Zn(c,_,0,!0),N;return I>0&&Math.abs(m-v)<360?N=TU({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(I,_/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v}):N=JT({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:v}),O.createElement("path",Ax({},Di(t),{className:S,d:N}))};function kU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(MI(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:f}=t,p=rn(n,i,s,f),m=rn(n,i,c,f);return[{x:p.x,y:p.y},{x:m.x,y:m.y}]}return QT(t)}}var Qg={},Jg={},ev={},D_;function jU(){return D_||(D_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ev)),ev}var L_;function RU(){return L_||(L_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Jg)),Jg}var B_;function MU(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI(),r=RU();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((s-i)/(c||1)),0),p=new Array(f);for(let m=0;m<f;m++)p[m]=i,i+=c;return p}e.range=n})(Qg)),Qg}var tv,F_;function DU(){return F_||(F_=1,tv=MU().range),tv}var LU=DU();const t4=oa(LU);function mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wy(e){let t,r,n;e.length!==2?(t=mo,r=(f,p)=>mo(e(f),p),n=(f,p)=>e(f)-p):(t=e===mo||e===BU?e:FU,r=e,n=e);function i(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<0?m=w+1:v=w}while(m<v)}return m}function s(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<=0?m=w+1:v=w}while(m<v)}return m}function c(f,p,m=0,v=f.length){const w=i(f,p,m,v-1);return w>m&&n(f[w-1],p)>-n(f[w],p)?w-1:w}return{left:i,center:c,right:s}}function FU(){return 0}function r4(e){return e===null?NaN:+e}function*UU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zU=Wy(mo),Md=zU.right;Wy(r4).center;class U_ extends Map{constructor(t,r=VU){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(z_(this,t))}has(t){return super.has(z_(this,t))}set(t,r){return super.set($U(this,t),r)}delete(t){return super.delete(WU(this,t))}}function z_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $U({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function WU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VU(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HU(e=mo){if(e===mo)return n4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function n4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qU=Math.sqrt(50),GU=Math.sqrt(10),KU=Math.sqrt(2);function I0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=qU?10:s>=GU?5:s>=KU?2:1;let f,p,m;return i<0?(m=Math.pow(10,-i)/c,f=Math.round(e*m),p=Math.round(t*m),f/m<e&&++f,p/m>t&&--p,m=-m):(m=Math.pow(10,i)*c,f=Math.round(e/m),p=Math.round(t/m),f*m<e&&++f,p*m>t&&--p),p<f&&.5<=r&&r<2?I0(e,t,r*2):[f,p,m]}function Sx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?I0(t,e,r):I0(e,t,r);if(!(s>=i))return[];const f=s-i+1,p=new Array(f);if(n)if(c<0)for(let m=0;m<f;++m)p[m]=(s-m)/-c;else for(let m=0;m<f;++m)p[m]=(s-m)*c;else if(c<0)for(let m=0;m<f;++m)p[m]=(i+m)/-c;else for(let m=0;m<f;++m)p[m]=(i+m)*c;return p}function _x(e,t,r){return t=+t,e=+e,r=+r,I0(e,t,r)[2]}function Cx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?_x(t,e,r):_x(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function $_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function i4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?n4:HU(i);n>r;){if(n-r>600){const p=n-r+1,m=t-r+1,v=Math.log(p),w=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*w*(p-w)/p)*(m-p/2<0?-1:1),_=Math.max(r,Math.floor(t-m*w/p+S)),I=Math.min(n,Math.floor(t+(p-m)*w/p+S));i4(e,t,_,I,i)}const s=e[t];let c=r,f=n;for(Fu(e,r,t),i(e[n],s)>0&&Fu(e,r,n);c<f;){for(Fu(e,c,f),++c,--f;i(e[c],s)<0;)++c;for(;i(e[f],s)>0;)--f}i(e[r],s)===0?Fu(e,r,f):(++f,Fu(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Fu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function XU(e,t,r){if(e=Float64Array.from(UU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return W_(e);if(t>=1)return $_(e);var n,i=(n-1)*t,s=Math.floor(i),c=$_(i4(e,s).subarray(0,s+1)),f=W_(e.subarray(s+1));return c+(f-c)*(i-s)}}function YU(e,t,r=r4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),f=+r(e[s+1],s+1,e);return c+(f-c)*(i-s)}}function ZU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ms(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ox=Symbol("implicit");function Vy(){var e=new U_,t=[],r=[],n=Ox;function i(s){let c=e.get(s);if(c===void 0){if(n!==Ox)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new U_;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Vy(t,r).unknown(n)},la.apply(i,arguments),i}function Hy(){var e=Vy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,f=!1,p=0,m=0,v=.5;delete e.unknown;function w(){var S=t().length,_=i<n,I=_?i:n,N=_?n:i;s=(N-I)/Math.max(1,S-p+m*2),f&&(s=Math.floor(s)),I+=(N-I-s*(S-p))*v,c=s*(1-p),f&&(I=Math.round(I),c=Math.round(c));var k=ZU(S).map(function(M){return I+s*M});return r(_?k.reverse():k)}return e.domain=function(S){return arguments.length?(t(S),w()):t()},e.range=function(S){return arguments.length?([n,i]=S,n=+n,i=+i,w()):[n,i]},e.rangeRound=function(S){return[n,i]=S,n=+n,i=+i,f=!0,w()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(S){return arguments.length?(f=!!S,w()):f},e.padding=function(S){return arguments.length?(p=Math.min(1,m=+S),w()):p},e.paddingInner=function(S){return arguments.length?(p=Math.min(1,S),w()):p},e.paddingOuter=function(S){return arguments.length?(m=+S,w()):m},e.align=function(S){return arguments.length?(v=Math.max(0,Math.min(1,S)),w()):v},e.copy=function(){return Hy(t(),[n,i]).round(f).paddingInner(p).paddingOuter(m).align(v)},la.apply(w(),arguments)}function a4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a4(t())},e}function QU(){return a4(Hy.apply(null,arguments).paddingInner(1))}function qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function s4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Dd(){}var pd=.7,T0=1/pd,Ec="\\s*([+-]?\\d+)\\s*",md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JU=/^#([0-9a-f]{3,8})$/,ez=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),tz=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),rz=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${md}\\)$`),nz=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${md}\\)$`),iz=new RegExp(`^hsl\\(${md},${Ha},${Ha}\\)$`),az=new RegExp(`^hsla\\(${md},${Ha},${Ha},${md}\\)$`),V_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qy(Dd,gd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H_,formatHex:H_,formatHex8:sz,formatHsl:oz,formatRgb:q_,toString:q_});function H_(){return this.rgb().formatHex()}function sz(){return this.rgb().formatHex8()}function oz(){return o4(this).formatHsl()}function q_(){return this.rgb().formatRgb()}function gd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?G_(t):r===3?new gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ez.exec(e))?new gi(t[1],t[2],t[3],1):(t=tz.exec(e))?new gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rz.exec(e))?Eh(t[1],t[2],t[3],t[4]):(t=nz.exec(e))?Eh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iz.exec(e))?Y_(t[1],t[2]/100,t[3]/100,1):(t=az.exec(e))?Y_(t[1],t[2]/100,t[3]/100,t[4]):V_.hasOwnProperty(e)?G_(V_[e]):e==="transparent"?new gi(NaN,NaN,NaN,0):null}function G_(e){return new gi(e>>16&255,e>>8&255,e&255,1)}function Eh(e,t,r,n){return n<=0&&(e=t=r=NaN),new gi(e,t,r,n)}function lz(e){return e instanceof Dd||(e=gd(e)),e?(e=e.rgb(),new gi(e.r,e.g,e.b,e.opacity)):new gi}function Nx(e,t,r,n){return arguments.length===1?lz(e):new gi(e,t,r,n??1)}function gi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qy(gi,Nx,s4(Dd,{brighter(e){return e=e==null?T0:Math.pow(T0,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pd:Math.pow(pd,e),new gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new gi(hl(this.r),hl(this.g),hl(this.b),P0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K_,formatHex:K_,formatHex8:cz,formatRgb:X_,toString:X_}));function K_(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}`}function cz(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}${cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function X_(){const e=P0(this.opacity);return`${e===1?"rgb(":"rgba("}${hl(this.r)}, ${hl(this.g)}, ${hl(this.b)}${e===1?")":`, ${e})`}`}function P0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function cl(e){return e=hl(e),(e<16?"0":"")+e.toString(16)}function Y_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ca(e,t,r,n)}function o4(e){if(e instanceof Ca)return new Ca(e.h,e.s,e.l,e.opacity);if(e instanceof Dd||(e=gd(e)),!e)return new Ca;if(e instanceof Ca)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,f=s-i,p=(s+i)/2;return f?(t===s?c=(r-n)/f+(r<n)*6:r===s?c=(n-t)/f+2:c=(t-r)/f+4,f/=p<.5?s+i:2-s-i,c*=60):f=p>0&&p<1?0:c,new Ca(c,f,p,e.opacity)}function uz(e,t,r,n){return arguments.length===1?o4(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qy(Ca,uz,s4(Dd,{brighter(e){return e=e==null?T0:Math.pow(T0,e),new Ca(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pd:Math.pow(pd,e),new Ca(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new gi(rv(e>=240?e-240:e+120,i,n),rv(e,i,n),rv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ca(Z_(this.h),Ah(this.s),Ah(this.l),P0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=P0(this.opacity);return`${e===1?"hsl(":"hsla("}${Z_(this.h)}, ${Ah(this.s)*100}%, ${Ah(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z_(e){return e=(e||0)%360,e<0?e+360:e}function Ah(e){return Math.max(0,Math.min(1,e||0))}function rv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gy=e=>()=>e;function dz(e,t){return function(r){return e+r*t}}function fz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hz(e){return(e=+e)==1?l4:function(t,r){return r-t?fz(t,r,e):Gy(isNaN(t)?r:t)}}function l4(e,t){var r=t-e;return r?dz(e,r):Gy(isNaN(e)?t:e)}const Q_=(function e(t){var r=hz(t);function n(i,s){var c=r((i=Nx(i)).r,(s=Nx(s)).r),f=r(i.g,s.g),p=r(i.b,s.b),m=l4(i.opacity,s.opacity);return function(v){return i.r=c(v),i.g=f(v),i.b=p(v),i.opacity=m(v),i+""}}return n.gamma=e,n})(1);function pz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function mz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=$c(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(f){for(c=0;c<n;++c)s[c]=i[c](f);return s}}function vz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function k0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$c(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nv=new RegExp(Ix.source,"g");function yz(e){return function(){return e}}function wz(e){return function(t){return e(t)+""}}function bz(e,t){var r=Ix.lastIndex=nv.lastIndex=0,n,i,s,c=-1,f=[],p=[];for(e=e+"",t=t+"";(n=Ix.exec(e))&&(i=nv.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),f[c]?f[c]+=s:f[++c]=s),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,p.push({i:c,x:k0(n,i)})),r=nv.lastIndex;return r<t.length&&(s=t.slice(r),f[c]?f[c]+=s:f[++c]=s),f.length<2?p[0]?wz(p[0].x):yz(t):(t=p.length,function(m){for(var v=0,w;v<t;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}function $c(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gy(t):(r==="number"?k0:r==="string"?(n=gd(t))?(t=n,Q_):bz:t instanceof gd?Q_:t instanceof Date?vz:mz(t)?pz:Array.isArray(t)?gz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xz:k0)(e,t)}function Ky(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ez(e,t){t===void 0&&(t=e,e=$c);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[f](c-f)}}function Az(e){return function(){return e}}function j0(e){return+e}var J_=[0,1];function ii(e){return e}function Tx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Az(isNaN(t)?NaN:.5)}function Sz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _z(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=Tx(i,n),s=r(c,s)):(n=Tx(n,i),s=r(s,c)),function(f){return s(n(f))}}function Cz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Tx(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(f){var p=Md(e,f,1,n)-1;return s[p](i[p](f))}}function Ld(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=J_,t=J_,r=$c,n,i,s,c=ii,f,p,m;function v(){var S=Math.min(e.length,t.length);return c!==ii&&(c=Sz(e[0],e[S-1])),f=S>2?Cz:_z,p=m=null,w}function w(S){return S==null||isNaN(S=+S)?s:(p||(p=f(e.map(n),t,r)))(n(c(S)))}return w.invert=function(S){return c(i((m||(m=f(t,e.map(n),k0)))(S)))},w.domain=function(S){return arguments.length?(e=Array.from(S,j0),v()):e.slice()},w.range=function(S){return arguments.length?(t=Array.from(S),v()):t.slice()},w.rangeRound=function(S){return t=Array.from(S),r=Ky,v()},w.clamp=function(S){return arguments.length?(c=S?!0:ii,v()):c!==ii},w.interpolate=function(S){return arguments.length?(r=S,v()):r},w.unknown=function(S){return arguments.length?(s=S,w):s},function(S,_){return n=S,i=_,v()}}function Xy(){return Mp()(ii,ii)}function Oz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function R0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tc(e){return e=R0(Math.abs(e)),e?e[1]:NaN}function Nz(e,t){return function(r,n){for(var i=r.length,s=[],c=0,f=e[0],p=0;i>0&&f>0&&(p+f+1>n&&(f=Math.max(1,n-p)),s.push(r.substring(i-=f,i+f)),!((p+=f+1)>n));)f=e[c=(c+1)%e.length];return s.reverse().join(t)}}function Iz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Tz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(e){if(!(t=Tz.exec(e)))throw new Error("invalid format: "+e);var t;return new Yy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vd.prototype=Yy.prototype;function Yy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var c4;function kz(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(c4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+R0(e,Math.max(0,t+s-1))[0]}function eC(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Oz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eC(e*100,t),r:eC,s:kz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rC(e){return e}var nC=Array.prototype.map,iC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jz(e){var t=e.grouping===void 0||e.thousands===void 0?rC:Nz(nC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?rC:Iz(nC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(w){w=vd(w);var S=w.fill,_=w.align,I=w.sign,N=w.symbol,k=w.zero,M=w.width,L=w.comma,R=w.precision,z=w.trim,W=w.type;W==="n"?(L=!0,W="g"):tC[W]||(R===void 0&&(R=12),z=!0,W="g"),(k||S==="0"&&_==="=")&&(k=!0,S="0",_="=");var V=N==="$"?r:N==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=N==="$"?n:/[%p]/.test(W)?c:"",ne=tC[W],Y=/[defgprs%]/.test(W);R=R===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function Ae(pe){var de=V,Se=H,ke,re,De;if(W==="c")Se=ne(pe)+Se,pe="";else{pe=+pe;var oe=pe<0||1/pe<0;if(pe=isNaN(pe)?p:ne(Math.abs(pe),R),z&&(pe=Pz(pe)),oe&&+pe==0&&I!=="+"&&(oe=!1),de=(oe?I==="("?I:f:I==="-"||I==="("?"":I)+de,Se=(W==="s"?iC[8+c4/3]:"")+Se+(oe&&I==="("?")":""),Y){for(ke=-1,re=pe.length;++ke<re;)if(De=pe.charCodeAt(ke),48>De||De>57){Se=(De===46?i+pe.slice(ke+1):pe.slice(ke))+Se,pe=pe.slice(0,ke);break}}}L&&!k&&(pe=t(pe,1/0));var ve=de.length+pe.length+Se.length,we=ve<M?new Array(M-ve+1).join(S):"";switch(L&&k&&(pe=t(we+pe,we.length?M-Se.length:1/0),we=""),_){case"<":pe=de+pe+Se+we;break;case"=":pe=de+we+pe+Se;break;case"^":pe=we.slice(0,ve=we.length>>1)+de+pe+Se+we.slice(ve);break;default:pe=we+de+pe+Se;break}return s(pe)}return Ae.toString=function(){return w+""},Ae}function v(w,S){var _=m((w=vd(w),w.type="f",w)),I=Math.max(-8,Math.min(8,Math.floor(Tc(S)/3)))*3,N=Math.pow(10,-I),k=iC[8+I/3];return function(M){return _(N*M)+k}}return{format:m,formatPrefix:v}}var Sh,Zy,u4;Rz({thousands:",",grouping:[3],currency:["$",""]});function Rz(e){return Sh=jz(e),Zy=Sh.format,u4=Sh.formatPrefix,Sh}function Mz(e){return Math.max(0,-Tc(Math.abs(e)))}function Dz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tc(t)/3)))*3-Tc(Math.abs(e)))}function Lz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tc(t)-Tc(e))+1}function d4(e,t,r,n){var i=Cx(e,t,r),s;switch(n=vd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Dz(i,c))&&(n.precision=s),u4(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Lz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Mz(i))&&(n.precision=s-(n.type==="%")*2);break}}return Zy(n)}function bo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return d4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],f=n[s],p,m,v=10;for(f<c&&(m=c,c=f,f=m,m=i,i=s,s=m);v-- >0;){if(m=_x(c,f,r),m===p)return n[i]=c,n[s]=f,t(n);if(m>0)c=Math.floor(c/m)*m,f=Math.ceil(f/m)*m;else if(m<0)c=Math.ceil(c*m)/m,f=Math.floor(f*m)/m;else break;p=m}return e},e}function f4(){var e=Xy();return e.copy=function(){return Ld(e,f4())},la.apply(e,arguments),bo(e)}function h4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,j0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return h4(e).unknown(t)},e=arguments.length?Array.from(e,j0):[0,1],bo(r)}function p4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function aC(e){return Math.log(e)}function sC(e){return Math.exp(e)}function Bz(e){return-Math.log(-e)}function Fz(e){return-Math.exp(-e)}function Uz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zz(e){return e===10?Uz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $z(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oC(e){return(t,r)=>-e(-t,r)}function Qy(e){const t=e(aC,sC),r=t.domain;let n=10,i,s;function c(){return i=$z(n),s=zz(n),r()[0]<0?(i=oC(i),s=oC(s),e(Bz,Fz)):e(aC,sC),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const p=r();let m=p[0],v=p[p.length-1];const w=v<m;w&&([m,v]=[v,m]);let S=i(m),_=i(v),I,N;const k=f==null?10:+f;let M=[];if(!(n%1)&&_-S<k){if(S=Math.floor(S),_=Math.ceil(_),m>0){for(;S<=_;++S)for(I=1;I<n;++I)if(N=S<0?I/s(-S):I*s(S),!(N<m)){if(N>v)break;M.push(N)}}else for(;S<=_;++S)for(I=n-1;I>=1;--I)if(N=S>0?I/s(-S):I*s(S),!(N<m)){if(N>v)break;M.push(N)}M.length*2<k&&(M=Sx(m,v,k))}else M=Sx(S,_,Math.min(_-S,k)).map(s);return w?M.reverse():M},t.tickFormat=(f,p)=>{if(f==null&&(f=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=vd(p)).precision==null&&(p.trim=!0),p=Zy(p)),f===1/0)return p;const m=Math.max(1,n*f/t.ticks().length);return v=>{let w=v/s(Math.round(i(v)));return w*n<n-.5&&(w*=n),w<=m?p(v):""}},t.nice=()=>r(p4(r(),{floor:f=>s(Math.floor(i(f))),ceil:f=>s(Math.ceil(i(f)))})),t}function m4(){const e=Qy(Mp()).domain([1,10]);return e.copy=()=>Ld(e,m4()).base(e.base()),la.apply(e,arguments),e}function lC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jy(e){var t=1,r=e(lC(t),cC(t));return r.constant=function(n){return arguments.length?e(lC(t=+n),cC(t)):t},bo(r)}function g4(){var e=Jy(Mp());return e.copy=function(){return Ld(e,g4()).constant(e.constant())},la.apply(e,arguments)}function uC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Wz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vz(e){return e<0?-e*e:e*e}function ew(e){var t=e(ii,ii),r=1;function n(){return r===1?e(ii,ii):r===.5?e(Wz,Vz):e(uC(r),uC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},bo(t)}function tw(){var e=ew(Mp());return e.copy=function(){return Ld(e,tw()).exponent(e.exponent())},la.apply(e,arguments),e}function Hz(){return tw.apply(null,arguments).exponent(.5)}function dC(e){return Math.sign(e)*e*e}function qz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function v4(){var e=Xy(),t=[0,1],r=!1,n;function i(s){var c=qz(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(dC(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,j0)).map(dC)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return v4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},la.apply(i,arguments),bo(i)}function x4(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=YU(e,c/f);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Md(r,c)]}return s.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(mo),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return x4().domain(e).range(t).unknown(n)},la.apply(s,arguments)}function y4(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(p){return p!=null&&p<=p?i[Md(n,p,0,r)]:s}function f(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,f()):[e,t]},c.range=function(p){return arguments.length?(r=(i=Array.from(p)).length-1,f()):i.slice()},c.invertExtent=function(p){var m=i.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(p){return arguments.length&&(s=p),c},c.thresholds=function(){return n.slice()},c.copy=function(){return y4().domain([e,t]).range(i).unknown(s)},la.apply(bo(c),arguments)}function w4(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Md(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return w4().domain(e).range(t).unknown(r)},la.apply(i,arguments)}const iv=new Date,av=new Date;function mn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),f=i.ceil(s);return s-c<f-s?c:f},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,f)=>{const p=[];if(s=i.ceil(s),f=f==null?1:Math.floor(f),!(s<c)||!(f>0))return p;let m;do p.push(m=new Date(+s)),t(s,f),e(s);while(m<s&&s<c);return p},i.filter=s=>mn(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!s(c););else for(;--f>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(iv.setTime(+s),av.setTime(+c),e(iv),e(av),Math.floor(r(iv,av))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const M0=mn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);M0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):M0);M0.range;const ys=1e3,na=ys*60,ws=na*60,Os=ws*24,rw=Os*7,fC=Os*30,sv=Os*365,ul=mn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());ul.range;const nw=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getMinutes());nw.range;const iw=mn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*na)},(e,t)=>(t-e)/na,e=>e.getUTCMinutes());iw.range;const aw=mn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*na)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getHours());aw.range;const sw=mn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getUTCHours());sw.range;const Bd=mn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*na)/Os,e=>e.getDate()-1);Bd.range;const Dp=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>e.getUTCDate()-1);Dp.range;const b4=mn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Os,e=>Math.floor(e/Os));b4.range;function Nl(e){return mn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*na)/rw)}const Lp=Nl(0),D0=Nl(1),Gz=Nl(2),Kz=Nl(3),Pc=Nl(4),Xz=Nl(5),Yz=Nl(6);Lp.range;D0.range;Gz.range;Kz.range;Pc.range;Xz.range;Yz.range;function Il(e){return mn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rw)}const Bp=Il(0),L0=Il(1),Zz=Il(2),Qz=Il(3),kc=Il(4),Jz=Il(5),e$=Il(6);Bp.range;L0.range;Zz.range;Qz.range;kc.range;Jz.range;e$.range;const ow=mn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ow.range;const lw=mn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lw.range;const Ns=mn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ns.range;const Is=mn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Is.range;function E4(e,t,r,n,i,s){const c=[[ul,1,ys],[ul,5,5*ys],[ul,15,15*ys],[ul,30,30*ys],[s,1,na],[s,5,5*na],[s,15,15*na],[s,30,30*na],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[n,1,Os],[n,2,2*Os],[r,1,rw],[t,1,fC],[t,3,3*fC],[e,1,sv]];function f(m,v,w){const S=v<m;S&&([m,v]=[v,m]);const _=w&&typeof w.range=="function"?w:p(m,v,w),I=_?_.range(m,+v+1):[];return S?I.reverse():I}function p(m,v,w){const S=Math.abs(v-m)/w,_=Wy(([,,k])=>k).right(c,S);if(_===c.length)return e.every(Cx(m/sv,v/sv,w));if(_===0)return M0.every(Math.max(Cx(m,v,w),1));const[I,N]=c[S/c[_-1][2]<c[_][2]/S?_-1:_];return I.every(N)}return[f,p]}const[t$,r$]=E4(Is,lw,Bp,b4,sw,iw),[n$,i$]=E4(Ns,ow,Lp,Bd,aw,nw);function ov(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function a$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,f=e.months,p=e.shortMonths,m=zu(i),v=$u(i),w=zu(s),S=$u(s),_=zu(c),I=$u(c),N=zu(f),k=$u(f),M=zu(p),L=$u(p),R={a:oe,A:ve,b:we,B:be,c:null,d:xC,e:xC,f:N$,g:B$,G:U$,H:_$,I:C$,j:O$,L:A4,m:I$,M:T$,p:Q,q:ue,Q:bC,s:EC,S:P$,u:k$,U:j$,V:R$,w:M$,W:D$,x:null,X:null,y:L$,Y:F$,Z:z$,"%":wC},z={a:Be,A:Le,b:Ye,B:Ne,c:null,d:yC,e:yC,f:H$,g:tW,G:nW,H:$$,I:W$,j:V$,L:_4,m:q$,M:G$,p:lt,q:nt,Q:bC,s:EC,S:K$,u:X$,U:Y$,V:Z$,w:Q$,W:J$,x:null,X:null,y:eW,Y:rW,Z:iW,"%":wC},W={a:Ae,A:pe,b:de,B:Se,c:ke,d:gC,e:gC,f:b$,g:mC,G:pC,H:vC,I:vC,j:v$,L:w$,m:g$,M:x$,p:Y,q:m$,Q:A$,s:S$,S:y$,u:u$,U:d$,V:f$,w:c$,W:h$,x:re,X:De,y:mC,Y:pC,Z:p$,"%":E$};R.x=V(r,R),R.X=V(n,R),R.c=V(t,R),z.x=V(r,z),z.X=V(n,z),z.c=V(t,z);function V(ge,qe){return function(xe){var ye=[],ze=-1,at=0,vt=ge.length,Ct,Mt,Nt;for(xe instanceof Date||(xe=new Date(+xe));++ze<vt;)ge.charCodeAt(ze)===37&&(ye.push(ge.slice(at,ze)),(Mt=hC[Ct=ge.charAt(++ze)])!=null?Ct=ge.charAt(++ze):Mt=Ct==="e"?" ":"0",(Nt=qe[Ct])&&(Ct=Nt(xe,Mt)),ye.push(Ct),at=ze+1);return ye.push(ge.slice(at,ze)),ye.join("")}}function H(ge,qe){return function(xe){var ye=Uu(1900,void 0,1),ze=ne(ye,ge,xe+="",0),at,vt;if(ze!=xe.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(qe&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(at=lv(Uu(ye.y,0,1)),vt=at.getUTCDay(),at=vt>4||vt===0?L0.ceil(at):L0(at),at=Dp.offset(at,(ye.V-1)*7),ye.y=at.getUTCFullYear(),ye.m=at.getUTCMonth(),ye.d=at.getUTCDate()+(ye.w+6)%7):(at=ov(Uu(ye.y,0,1)),vt=at.getDay(),at=vt>4||vt===0?D0.ceil(at):D0(at),at=Bd.offset(at,(ye.V-1)*7),ye.y=at.getFullYear(),ye.m=at.getMonth(),ye.d=at.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),vt="Z"in ye?lv(Uu(ye.y,0,1)).getUTCDay():ov(Uu(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(vt+5)%7:ye.w+ye.U*7-(vt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,lv(ye)):ov(ye)}}function ne(ge,qe,xe,ye){for(var ze=0,at=qe.length,vt=xe.length,Ct,Mt;ze<at;){if(ye>=vt)return-1;if(Ct=qe.charCodeAt(ze++),Ct===37){if(Ct=qe.charAt(ze++),Mt=W[Ct in hC?qe.charAt(ze++):Ct],!Mt||(ye=Mt(ge,xe,ye))<0)return-1}else if(Ct!=xe.charCodeAt(ye++))return-1}return ye}function Y(ge,qe,xe){var ye=m.exec(qe.slice(xe));return ye?(ge.p=v.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function Ae(ge,qe,xe){var ye=_.exec(qe.slice(xe));return ye?(ge.w=I.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function pe(ge,qe,xe){var ye=w.exec(qe.slice(xe));return ye?(ge.w=S.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function de(ge,qe,xe){var ye=M.exec(qe.slice(xe));return ye?(ge.m=L.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function Se(ge,qe,xe){var ye=N.exec(qe.slice(xe));return ye?(ge.m=k.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function ke(ge,qe,xe){return ne(ge,t,qe,xe)}function re(ge,qe,xe){return ne(ge,r,qe,xe)}function De(ge,qe,xe){return ne(ge,n,qe,xe)}function oe(ge){return c[ge.getDay()]}function ve(ge){return s[ge.getDay()]}function we(ge){return p[ge.getMonth()]}function be(ge){return f[ge.getMonth()]}function Q(ge){return i[+(ge.getHours()>=12)]}function ue(ge){return 1+~~(ge.getMonth()/3)}function Be(ge){return c[ge.getUTCDay()]}function Le(ge){return s[ge.getUTCDay()]}function Ye(ge){return p[ge.getUTCMonth()]}function Ne(ge){return f[ge.getUTCMonth()]}function lt(ge){return i[+(ge.getUTCHours()>=12)]}function nt(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var qe=V(ge+="",R);return qe.toString=function(){return ge},qe},parse:function(ge){var qe=H(ge+="",!1);return qe.toString=function(){return ge},qe},utcFormat:function(ge){var qe=V(ge+="",z);return qe.toString=function(){return ge},qe},utcParse:function(ge){var qe=H(ge+="",!0);return qe.toString=function(){return ge},qe}}}var hC={"-":"",_:" ",0:"0"},In=/^\s*\d+/,s$=/^%/,o$=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function l$(e){return e.replace(o$,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(l$).join("|")+")","i")}function $u(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function c$(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function u$(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function d$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function f$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function h$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pC(e,t,r){var n=In.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mC(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function p$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function m$(e,t,r){var n=In.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function g$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gC(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function v$(e,t,r){var n=In.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vC(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function x$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function y$(e,t,r){var n=In.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function w$(e,t,r){var n=In.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function b$(e,t,r){var n=In.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function E$(e,t,r){var n=s$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function A$(e,t,r){var n=In.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function S$(e,t,r){var n=In.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xC(e,t){return Ut(e.getDate(),t,2)}function _$(e,t){return Ut(e.getHours(),t,2)}function C$(e,t){return Ut(e.getHours()%12||12,t,2)}function O$(e,t){return Ut(1+Bd.count(Ns(e),e),t,3)}function A4(e,t){return Ut(e.getMilliseconds(),t,3)}function N$(e,t){return A4(e,t)+"000"}function I$(e,t){return Ut(e.getMonth()+1,t,2)}function T$(e,t){return Ut(e.getMinutes(),t,2)}function P$(e,t){return Ut(e.getSeconds(),t,2)}function k$(e){var t=e.getDay();return t===0?7:t}function j$(e,t){return Ut(Lp.count(Ns(e)-1,e),t,2)}function S4(e){var t=e.getDay();return t>=4||t===0?Pc(e):Pc.ceil(e)}function R$(e,t){return e=S4(e),Ut(Pc.count(Ns(e),e)+(Ns(e).getDay()===4),t,2)}function M$(e){return e.getDay()}function D$(e,t){return Ut(D0.count(Ns(e)-1,e),t,2)}function L$(e,t){return Ut(e.getFullYear()%100,t,2)}function B$(e,t){return e=S4(e),Ut(e.getFullYear()%100,t,2)}function F$(e,t){return Ut(e.getFullYear()%1e4,t,4)}function U$(e,t){var r=e.getDay();return e=r>=4||r===0?Pc(e):Pc.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function z$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function yC(e,t){return Ut(e.getUTCDate(),t,2)}function $$(e,t){return Ut(e.getUTCHours(),t,2)}function W$(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function V$(e,t){return Ut(1+Dp.count(Is(e),e),t,3)}function _4(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function H$(e,t){return _4(e,t)+"000"}function q$(e,t){return Ut(e.getUTCMonth()+1,t,2)}function G$(e,t){return Ut(e.getUTCMinutes(),t,2)}function K$(e,t){return Ut(e.getUTCSeconds(),t,2)}function X$(e){var t=e.getUTCDay();return t===0?7:t}function Y$(e,t){return Ut(Bp.count(Is(e)-1,e),t,2)}function C4(e){var t=e.getUTCDay();return t>=4||t===0?kc(e):kc.ceil(e)}function Z$(e,t){return e=C4(e),Ut(kc.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function Q$(e){return e.getUTCDay()}function J$(e,t){return Ut(L0.count(Is(e)-1,e),t,2)}function eW(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function tW(e,t){return e=C4(e),Ut(e.getUTCFullYear()%100,t,2)}function rW(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function nW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kc(e):kc.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function iW(){return"+0000"}function wC(){return"%"}function bC(e){return+e}function EC(e){return Math.floor(+e/1e3)}var lc,O4,N4;aW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aW(e){return lc=a$(e),O4=lc.format,lc.parse,N4=lc.utcFormat,lc.utcParse,lc}function sW(e){return new Date(e)}function oW(e){return e instanceof Date?+e:+new Date(+e)}function cw(e,t,r,n,i,s,c,f,p,m){var v=Xy(),w=v.invert,S=v.domain,_=m(".%L"),I=m(":%S"),N=m("%I:%M"),k=m("%I %p"),M=m("%a %d"),L=m("%b %d"),R=m("%B"),z=m("%Y");function W(V){return(p(V)<V?_:f(V)<V?I:c(V)<V?N:s(V)<V?k:n(V)<V?i(V)<V?M:L:r(V)<V?R:z)(V)}return v.invert=function(V){return new Date(w(V))},v.domain=function(V){return arguments.length?S(Array.from(V,oW)):S().map(sW)},v.ticks=function(V){var H=S();return e(H[0],H[H.length-1],V??10)},v.tickFormat=function(V,H){return H==null?W:m(H)},v.nice=function(V){var H=S();return(!V||typeof V.range!="function")&&(V=t(H[0],H[H.length-1],V??10)),V?S(p4(H,V)):v},v.copy=function(){return Ld(v,cw(e,t,r,n,i,s,c,f,p,m))},v}function lW(){return la.apply(cw(n$,i$,Ns,ow,Lp,Bd,aw,nw,ul,O4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cW(){return la.apply(cw(t$,r$,Is,lw,Bp,Dp,sw,iw,ul,N4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fp(){var e=0,t=1,r,n,i,s,c=ii,f=!1,p;function m(w){return w==null||isNaN(w=+w)?p:c(i===0?.5:(w=(s(w)-r)*i,f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t]=w,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(c=w,m):c};function v(w){return function(S){var _,I;return arguments.length?([_,I]=S,c=w(_,I),m):[c(0),c(1)]}}return m.range=v($c),m.rangeRound=v(Ky),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return s=w,r=w(e),n=w(t),i=r===n?0:1/(n-r),m}}function Eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I4(){var e=bo(Fp()(ii));return e.copy=function(){return Eo(e,I4())},Ms.apply(e,arguments)}function T4(){var e=Qy(Fp()).domain([1,10]);return e.copy=function(){return Eo(e,T4()).base(e.base())},Ms.apply(e,arguments)}function P4(){var e=Jy(Fp());return e.copy=function(){return Eo(e,P4()).constant(e.constant())},Ms.apply(e,arguments)}function uw(){var e=ew(Fp());return e.copy=function(){return Eo(e,uw()).exponent(e.exponent())},Ms.apply(e,arguments)}function uW(){return uw.apply(null,arguments).exponent(.5)}function k4(){var e=[],t=ii;function r(n){if(n!=null&&!isNaN(n=+n))return t((Md(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>XU(e,s/n))},r.copy=function(){return k4(t).domain(e)},Ms.apply(r,arguments)}function Up(){var e=0,t=.5,r=1,n=1,i,s,c,f,p,m=ii,v,w=!1,S;function _(N){return isNaN(N=+N)?S:(N=.5+((N=+v(N))-s)*(n*N<n*s?f:p),m(w?Math.max(0,Math.min(1,N)):N))}_.domain=function(N){return arguments.length?([e,t,r]=N,i=v(e=+e),s=v(t=+t),c=v(r=+r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,_):[e,t,r]},_.clamp=function(N){return arguments.length?(w=!!N,_):w},_.interpolator=function(N){return arguments.length?(m=N,_):m};function I(N){return function(k){var M,L,R;return arguments.length?([M,L,R]=k,m=Ez(N,[M,L,R]),_):[m(0),m(.5),m(1)]}}return _.range=I($c),_.rangeRound=I(Ky),_.unknown=function(N){return arguments.length?(S=N,_):S},function(N){return v=N,i=N(e),s=N(t),c=N(r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,_}}function j4(){var e=bo(Up()(ii));return e.copy=function(){return Eo(e,j4())},Ms.apply(e,arguments)}function R4(){var e=Qy(Up()).domain([.1,1,10]);return e.copy=function(){return Eo(e,R4()).base(e.base())},Ms.apply(e,arguments)}function M4(){var e=Jy(Up());return e.copy=function(){return Eo(e,M4()).constant(e.constant())},Ms.apply(e,arguments)}function dw(){var e=ew(Up());return e.copy=function(){return Eo(e,dw()).exponent(e.exponent())},Ms.apply(e,arguments)}function dW(){return dw.apply(null,arguments).exponent(.5)}const Xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hy,scaleDiverging:j4,scaleDivergingLog:R4,scaleDivergingPow:dw,scaleDivergingSqrt:dW,scaleDivergingSymlog:M4,scaleIdentity:h4,scaleImplicit:Ox,scaleLinear:f4,scaleLog:m4,scaleOrdinal:Vy,scalePoint:QU,scalePow:tw,scaleQuantile:x4,scaleQuantize:y4,scaleRadial:v4,scaleSequential:I4,scaleSequentialLog:T4,scaleSequentialPow:uw,scaleSequentialQuantile:k4,scaleSequentialSqrt:uW,scaleSequentialSymlog:P4,scaleSqrt:Hz,scaleSymlog:g4,scaleThreshold:w4,scaleTime:lW,scaleUtc:cW,tickFormat:d4},Symbol.toStringTag,{value:"Module"}));var Ds=e=>e.chartData,zp=ce([Ds],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fw=(e,t,r,n)=>n?zp(e):Ds(e),fW=(e,t,r)=>r?zp(e):Ds(e);function go(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(rr(t)&&rr(r))return!0}return!1}function AC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function D4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(rr(r))i=r;else if(typeof r=="function")return;if(rr(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(go(c))return c}}function hW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(go(n))return AC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Je(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&RS.test(i)){var p=RS.exec(i);if(p==null||p[1]==null||t==null)c=void 0;else{var m=+p[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(f=Math.max(...t));else if(Je(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[1]))}catch{}else if(typeof s=="string"&&MS.test(s)){var v=MS.exec(s);if(v==null||v[1]==null||t==null)f=void 0;else{var w=+v[1];f=t[1]+w}}else f=t?.[1];var S=[c,f];if(go(S))return t==null?S:AC(S,t,r)}}}var Wc=1e9,pW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pw,Cr=!0,sa="[DecimalError] ",pl=sa+"Invalid argument: ",hw=sa+"Exponent out of range: ",Vc=Math.floor,nl=Math.pow,mW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,On=1e7,xr=7,L4=9007199254740991,B0=Vc(L4/xr),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*xr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return Es(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return nr(Es(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return an(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pi))throw Error(sa+"NaN");if(r.s<1)throw Error(sa+(r.s?"NaN":"-Infinity"));return r.eq(Pi)?new n(0):(Cr=!1,t=Es(xd(r,s),xd(e,s),s),Cr=!0,nr(t,i))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?U4(t,e):B4(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(sa+"NaN");return r.s?(Cr=!1,t=Es(r,e,0,1).times(e),Cr=!0,r.minus(t)):nr(new n(r),i)};Xe.naturalExponential=Xe.exp=function(){return F4(this)};Xe.naturalLogarithm=Xe.ln=function(){return xd(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?B4(t,e):U4(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(pl+e);if(t=an(i)+1,n=i.d.length-1,r=n*xr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,i,s,c,f=this,p=f.constructor;if(f.s<1){if(!f.s)return new p(0);throw Error(sa+"NaN")}for(e=an(f),Cr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Wa(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(i.toString()),r=p.precision,i=c=r+3;;)if(s=n,n=s.plus(Es(f,s,c+2)).times(.5),Wa(s.d).slice(0,c)===(t=Wa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(nr(s,r+1,0),s.times(s).eq(f)){n=s;break}}else if(t!="9999")break;c+=4}return Cr=!0,nr(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,i,s,c,f,p,m,v=this,w=v.constructor,S=v.d,_=(e=new w(e)).d;if(!v.s||!e.s)return new w(0);for(e.s*=v.s,r=v.e+e.e,p=S.length,m=_.length,p<m&&(s=S,S=_,_=s,c=p,p=m,m=c),s=[],c=p+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=p+n;i>n;)f=s[i]+_[n]*S[i-n-1]+t,s[i--]=f%On|0,t=f/On|0;s[i]=(s[i]+t)%On|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Cr?nr(e,w.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,Wc),t===void 0?t=n.rounding:Ga(t,0,8),nr(r,e+an(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=bl(n,!0):(Ga(e,0,Wc),t===void 0?t=i.rounding:Ga(t,0,8),n=nr(new i(n),e+1,t),r=bl(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?bl(i):(Ga(e,0,Wc),t===void 0?t=s.rounding:Ga(t,0,8),n=nr(new s(i),e+an(i)+1,t),r=bl(n.abs(),!1,e+an(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return nr(new t(e),an(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,i,s,c,f=this,p=f.constructor,m=12,v=+(e=new p(e));if(!e.s)return new p(Pi);if(f=new p(f),!f.s){if(e.s<1)throw Error(sa+"Infinity");return f}if(f.eq(Pi))return f;if(n=p.precision,e.eq(Pi))return nr(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=f.s,c){if((r=v<0?-v:v)<=L4){for(i=new p(Pi),t=Math.ceil(n/xr+4),Cr=!1;r%2&&(i=i.times(f),_C(i.d,t)),r=Vc(r/2),r!==0;)f=f.times(f),_C(f.d,t);return Cr=!0,e.s<0?new p(Pi).div(i):nr(i,n)}}else if(s<0)throw Error(sa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Cr=!1,i=e.times(xd(f,n+m)),Cr=!0,i=F4(i),i.s=s,i};Xe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=an(i),n=bl(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ga(e,1,Wc),t===void 0?t=s.rounding:Ga(t,0,8),i=nr(new s(i),e,t),r=an(i),n=bl(i,e<=r||r<=s.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,Wc),t===void 0?t=n.rounding:Ga(t,0,8)),nr(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=an(e),r=e.constructor;return bl(e,t<=r.toExpNeg||t>=r.toExpPos)};function B4(e,t){var r,n,i,s,c,f,p,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),Cr?nr(t,w):t;if(p=e.d,m=t.d,c=e.e,i=t.e,p=p.slice(),s=c-i,s){for(s<0?(n=p,s=-s,f=m.length):(n=m,i=c,f=p.length),c=Math.ceil(w/xr),f=c>f?c+1:f+1,s>f&&(s=f,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(f=p.length,s=m.length,f-s<0&&(s=f,n=m,m=p,p=n),r=0;s;)r=(p[--s]=p[s]+m[s]+r)/On|0,p[s]%=On;for(r&&(p.unshift(r),++i),f=p.length;p[--f]==0;)p.pop();return t.d=p,t.e=i,Cr?nr(t,w):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pl+e)}function Wa(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=xr-n.length,r&&(s+=lo(r)),s+=n;c=e[t],n=c+"",r=xr-n.length,r&&(s+=lo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Es=(function(){function e(n,i){var s,c=0,f=n.length;for(n=n.slice();f--;)s=n[f]*i+c,n[f]=s%On|0,c=s/On|0;return c&&n.unshift(c),n}function t(n,i,s,c){var f,p;if(s!=c)p=s>c?1:-1;else for(f=p=0;f<s;f++)if(n[f]!=i[f]){p=n[f]>i[f]?1:-1;break}return p}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*On+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var f,p,m,v,w,S,_,I,N,k,M,L,R,z,W,V,H,ne,Y=n.constructor,Ae=n.s==i.s?1:-1,pe=n.d,de=i.d;if(!n.s)return new Y(n);if(!i.s)throw Error(sa+"Division by zero");for(p=n.e-i.e,H=de.length,W=pe.length,_=new Y(Ae),I=_.d=[],m=0;de[m]==(pe[m]||0);)++m;if(de[m]>(pe[m]||0)&&--p,s==null?L=s=Y.precision:c?L=s+(an(n)-an(i))+1:L=s,L<0)return new Y(0);if(L=L/xr+2|0,m=0,H==1)for(v=0,de=de[0],L++;(m<W||v)&&L--;m++)R=v*On+(pe[m]||0),I[m]=R/de|0,v=R%de|0;else{for(v=On/(de[0]+1)|0,v>1&&(de=e(de,v),pe=e(pe,v),H=de.length,W=pe.length),z=H,N=pe.slice(0,H),k=N.length;k<H;)N[k++]=0;ne=de.slice(),ne.unshift(0),V=de[0],de[1]>=On/2&&++V;do v=0,f=t(de,N,H,k),f<0?(M=N[0],H!=k&&(M=M*On+(N[1]||0)),v=M/V|0,v>1?(v>=On&&(v=On-1),w=e(de,v),S=w.length,k=N.length,f=t(w,N,S,k),f==1&&(v--,r(w,H<S?ne:de,S))):(v==0&&(f=v=1),w=de.slice()),S=w.length,S<k&&w.unshift(0),r(N,w,k),f==-1&&(k=N.length,f=t(de,N,H,k),f<1&&(v++,r(N,H<k?ne:de,k))),k=N.length):f===0&&(v++,N=[0]),I[m++]=v,f&&N[0]?N[k++]=pe[z]||0:(N=[pe[z]],k=1);while((z++<W||N[0]!==void 0)&&L--)}return I[0]||I.shift(),_.e=p,nr(_,c?s+an(_)+1:s)}})();function F4(e,t){var r,n,i,s,c,f,p=0,m=0,v=e.constructor,w=v.precision;if(an(e)>16)throw Error(hw+an(e));if(!e.s)return new v(Pi);for(Cr=!1,f=w,c=new v(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(nl(2,m))/Math.LN10*2+5|0,f+=n,r=i=s=new v(Pi),v.precision=f;;){if(i=nr(i.times(e),f),r=r.times(++p),c=s.plus(Es(i,r,f)),Wa(c.d).slice(0,f)===Wa(s.d).slice(0,f)){for(;m--;)s=nr(s.times(s),f);return v.precision=w,t==null?(Cr=!0,nr(s,w)):s}s=c}}function an(e){for(var t=e.e*xr,r=e.d[0];r>=10;r/=10)t++;return t}function cv(e,t,r){if(t>e.LN10.sd())throw Cr=!0,r&&(e.precision=r),Error(sa+"LN10 precision limit exceeded");return nr(new e(e.LN10),t)}function lo(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,i,s,c,f,p,m,v,w=1,S=10,_=e,I=_.d,N=_.constructor,k=N.precision;if(_.s<1)throw Error(sa+(_.s?"NaN":"-Infinity"));if(_.eq(Pi))return new N(0);if(t==null?(Cr=!1,m=k):m=t,_.eq(10))return t==null&&(Cr=!0),cv(N,m);if(m+=S,N.precision=m,r=Wa(I),n=r.charAt(0),s=an(_),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=Wa(_.d),n=r.charAt(0),w++;s=an(_),n>1?(_=new N("0."+r),s++):_=new N(n+"."+r.slice(1))}else return p=cv(N,m+2,k).times(s+""),_=xd(new N(n+"."+r.slice(1)),m-S).plus(p),N.precision=k,t==null?(Cr=!0,nr(_,k)):_;for(f=c=_=Es(_.minus(Pi),_.plus(Pi),m),v=nr(_.times(_),m),i=3;;){if(c=nr(c.times(v),m),p=f.plus(Es(c,new N(i),m)),Wa(p.d).slice(0,m)===Wa(f.d).slice(0,m))return f=f.times(2),s!==0&&(f=f.plus(cv(N,m+2,k).times(s+""))),f=Es(f,new N(w),m),N.precision=k,t==null?(Cr=!0,nr(f,k)):f;f=p,i+=2}}function SC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Vc(r/xr),e.d=[],n=(r+1)%xr,r<0&&(n+=xr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=xr;n<i;)e.d.push(+t.slice(n,n+=xr));t=t.slice(n),n=xr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Cr&&(e.e>B0||e.e<-B0))throw Error(hw+r)}else e.s=0,e.e=0,e.d=[0];return e}function nr(e,t,r){var n,i,s,c,f,p,m,v,w=e.d;for(c=1,s=w[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=xr,i=t,m=w[v=0];else{if(v=Math.ceil((n+1)/xr),s=w.length,v>=s)return e;for(m=s=w[v],c=1;s>=10;s/=10)c++;n%=xr,i=n-xr+c}if(r!==void 0&&(s=nl(10,c-i-1),f=m/s%10|0,p=t<0||w[v+1]!==void 0||m%s,p=r<4?(f||p)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||p||r==6&&(n>0?i>0?m/nl(10,c-i):0:w[v-1])%10&1||r==(e.s<0?8:7))),t<1||!w[0])return p?(s=an(e),w.length=1,t=t-s-1,w[0]=nl(10,(xr-t%xr)%xr),e.e=Vc(-t/xr)||0):(w.length=1,w[0]=e.e=e.s=0),e;if(n==0?(w.length=v,s=1,v--):(w.length=v+1,s=nl(10,xr-n),w[v]=i>0?(m/nl(10,c-i)%nl(10,i)|0)*s:0),p)for(;;)if(v==0){(w[0]+=s)==On&&(w[0]=1,++e.e);break}else{if(w[v]+=s,w[v]!=On)break;w[v--]=0,s=1}for(n=w.length;w[--n]===0;)w.pop();if(Cr&&(e.e>B0||e.e<-B0))throw Error(hw+an(e));return e}function U4(e,t){var r,n,i,s,c,f,p,m,v,w,S=e.constructor,_=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),Cr?nr(t,_):t;if(p=e.d,w=t.d,n=t.e,m=e.e,p=p.slice(),c=m-n,c){for(v=c<0,v?(r=p,c=-c,f=w.length):(r=w,n=m,f=p.length),i=Math.max(Math.ceil(_/xr),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=p.length,f=w.length,v=i<f,v&&(f=i),i=0;i<f;i++)if(p[i]!=w[i]){v=p[i]<w[i];break}c=0}for(v&&(r=p,p=w,w=r,t.s=-t.s),f=p.length,i=w.length-f;i>0;--i)p[f++]=0;for(i=w.length;i>c;){if(p[--i]<w[i]){for(s=i;s&&p[--s]===0;)p[s]=On-1;--p[s],p[i]+=On}p[i]-=w[i]}for(;p[--f]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,Cr?nr(t,_):t):new S(0)}function bl(e,t,r){var n,i=an(e),s=Wa(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+lo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+lo(-i-1)+s,r&&(n=r-c)>0&&(s+=lo(n))):i>=c?(s+=lo(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+lo(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=lo(n))),e.s<0?"-"+s:s}function _C(e,t){if(e.length>t)return e.length=t,!0}function z4(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return SC(c,s.toString())}else if(typeof s!="string")throw Error(pl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,mW.test(s))SC(c,s);else throw Error(pl+s)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=z4,i.config=i.set=gW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function gW(e){if(!e||typeof e!="object")throw Error(sa+"Object expected");var t,r,n,i=["precision",1,Wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Vc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(pl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(pl+r+": "+n);return this}var pw=z4(pW);Pi=new pw(1);const Zt=pw;var vW=e=>e,$4={},W4=e=>e===$4,CC=e=>function t(){return arguments.length===0||arguments.length===1&&W4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},V4=(e,t)=>e===1?t:CC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==$4).length;return s>=e?t(...n):V4(e-s,CC(function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];var m=n.map(v=>W4(v)?f.shift():v);return t(...m,...f)}))}),xW=e=>V4(e.length,e),Px=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yW=xW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),wW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vW;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((f,p)=>p(f),s(...arguments))}};function H4(e){var t;return e===0?t=1:t=Math.floor(new Zt(e).abs().log(10).toNumber())+1,t}function q4(e,t,r){for(var n=new Zt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var G4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},K4=(e,t,r)=>{if(e.lte(0))return new Zt(0);var n=H4(e.toNumber()),i=new Zt(10).pow(n),s=e.div(i),c=n!==1?.05:.1,f=new Zt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),p=f.mul(i);return t?new Zt(p.toNumber()):new Zt(Math.ceil(p.toNumber()))},bW=(e,t,r)=>{var n=new Zt(1),i=new Zt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Zt(10).pow(H4(e)-1),i=new Zt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Zt(Math.floor(e)))}else e===0?i=new Zt(Math.floor((t-1)/2)):r||(i=new Zt(Math.floor(e)));var c=Math.floor((t-1)/2),f=wW(yW(p=>i.add(new Zt(p-c).mul(n)).toNumber()),Px);return f(0,t)},X4=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var c=K4(new Zt(r).sub(t).div(n-1),i,s),f;t<=0&&r>=0?f=new Zt(0):(f=new Zt(t).add(r).div(2),f=f.sub(new Zt(f).mod(c)));var p=Math.ceil(f.sub(t).div(c).toNumber()),m=Math.ceil(new Zt(r).sub(f).div(c).toNumber()),v=p+m+1;return v>n?X4(t,r,n,i,s+1):(v<n&&(m=r>0?m+(n-v):m,p=r>0?p:p+(n-v)),{step:c,tickMin:f.sub(new Zt(p).mul(c)),tickMax:f.add(new Zt(m).mul(c))})},EW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,p]=G4([r,n]);if(f===-1/0||p===1/0){var m=p===1/0?[f,...Px(0,i-1).map(()=>1/0)]:[...Px(0,i-1).map(()=>-1/0),p];return r>n?m.reverse():m}if(f===p)return bW(f,i,s);var{step:v,tickMin:w,tickMax:S}=X4(f,p,c,s,0),_=q4(w,S.add(new Zt(.1).mul(v)),v);return r>n?_.reverse():_},AW=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=G4([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var p=Math.max(r,2),m=K4(new Zt(f).sub(c).div(p-1),s,0),v=[...q4(new Zt(c),new Zt(f),m),f];return s===!1&&(v=v.map(w=>Math.round(w))),n>i?v.reverse():v},Y4=e=>e.rootProps.maxBarSize,SW=e=>e.rootProps.barGap,Z4=e=>e.rootProps.barCategoryGap,_W=e=>e.rootProps.barSize,Fd=e=>e.rootProps.stackOffset,Q4=e=>e.rootProps.reverseStackOrder,mw=e=>e.options.chartName,gw=e=>e.rootProps.syncId,J4=e=>e.rootProps.syncMethod,vw=e=>e.options.eventEmitter,nn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ii={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$p=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},CW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},OW={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:Ii.type,unit:void 0},NW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},IW={allowDataOverflow:Ii.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ii.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ii.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ii.scale,tick:Ii.tick,tickCount:Ii.tickCount,ticks:void 0,type:"category",unit:void 0},xw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?NW:CW,yw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?IW:OW,Wp=e=>e.polarOptions,ww=ce([js,Rs,pn],ZT),eP=ce([Wp,ww],(e,t)=>{if(e!=null)return Zn(e.innerRadius,t,0)}),tP=ce([Wp,ww],(e,t)=>{if(e!=null)return Zn(e.outerRadius,t,t*.8)}),TW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rP=ce([Wp],TW);ce([xw,rP],$p);var nP=ce([ww,eP,tP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ce([yw,nP],$p);var iP=ce([zt,Wp,eP,tP,js,Rs],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:p,endAngle:m}=t;return{cx:Zn(c,i,i/2),cy:Zn(f,s,s/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:m,clockWise:!1}}}),Nr=(e,t)=>t,Ud=(e,t,r)=>r;function bw(e){return e?.id}function aP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(f=>{var p,m=(p=f.data)!==null&&p!==void 0?p:n;if(!(m==null||m.length===0)){var v=bw(f);m.forEach((w,S)=>{var _=s==null||i?S:String(Xt(w,s,null)),I=Xt(w,f.dataKey,0),N;c.has(_)?N=c.get(_):N={},Object.assign(N,{[v]:I}),c.set(_,N)})}}),Array.from(c.values())}function Vp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Hp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function qp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function PW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var gn=e=>{var t=zt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hc=e=>e.tooltip.settings.axisId;function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kx=[0,"auto"],_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sP=(e,t)=>e.cartesianAxis.xAxis[t],Xa=(e,t)=>{var r=sP(e,t);return r??_n},Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Td},oP=(e,t)=>e.cartesianAxis.yAxis[t],Ya=(e,t)=>{var r=oP(e,t);return r??Cn},lP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ew=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??lP},Rr=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);case"zAxis":return Ew(e,r);case"angleAxis":return xw(e,r);case"radiusAxis":return yw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MW=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zd=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);case"angleAxis":return xw(e,r);case"radiusAxis":return yw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Aw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Gp=e=>e.graphicalItems.cartesianItems,DW=ce([Nr,Ud],Aw),Sw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),$d=ce([Gp,Rr,DW],Sw,{memoizeOptions:{resultEqualityCheck:qp}}),uP=ce([$d],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vp)),dP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),LW=ce([$d],dP),_w=e=>e.map(t=>t.data).filter(Boolean).flat(1),BW=ce([$d],_w,{memoizeOptions:{resultEqualityCheck:qp}}),Cw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Ow=ce([BW,fw],Cw),Nw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Xt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Xt(i,n)}))):e.map(n=>({value:n})),Kp=ce([Ow,Rr,$d],Nw);function fP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uh(e){if(ia(e)||e instanceof Date){var t=Number(e);if(rr(t))return t}}function NC(e){if(Array.isArray(e)){var t=[Uh(e[0]),Uh(e[1])];return go(t)?t:void 0}var r=Uh(e);if(r!=null)return[r,r]}function Ts(e){return e.map(Uh).filter(T9)}function FW(e,t,r){return!r||typeof t!="number"||Li(t)?[]:r.length?Ts(r.flatMap(n=>{var i=Xt(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!rr(s)||!rr(c)))return[t-s,t+c]})):[]}var vn=e=>{var t=gn(e),r=Hc(e);return zd(e,t,r)},Wd=ce([vn],e=>e?.dataKey),UW=ce([uP,fw,vn],aP),hP=(e,t,r,n)=>{var i={},s=t.reduce((c,f)=>{if(f.stackId==null)return c;var p=c[f.stackId];return p==null&&(p=[]),p.push(f),c[f.stackId]=p,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[f,p]=c,m=n?[...p].reverse():p,v=m.map(bw);return[f,{stackedData:aB(e,v,r),graphicalItems:m}]}))},jx=ce([UW,uP,Fd,Q4],hP),pP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=uB(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},zW=ce([Rr],e=>e.allowDataOverflow),Iw=e=>{var t;if(e==null||!("domain"in e))return kx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ts(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:kx},Tw=ce([Rr],Iw),Pw=ce([Tw,zW],D4),$W=ce([jx,Ds,Nr,Pw],pP,{memoizeOptions:{resultEqualityCheck:Hp}}),Xp=e=>e.errorBars,WW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>fP(r,n)),U0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),f=Math.max(...s);return[c,f]}},kw=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(f=>{r.forEach(p=>{var m,v,w=(m=n[p.id])===null||m===void 0?void 0:m.filter(M=>fP(i,M)),S=Xt(f,(v=t.dataKey)!==null&&v!==void 0?v:p.dataKey),_=FW(f,S,w);if(_.length>=2){var I=Math.min(..._),N=Math.max(..._);(s==null||I<s)&&(s=I),(c==null||N>c)&&(c=N)}var k=NC(S);k!=null&&(s=s==null?k[0]:Math.min(s,k[0]),c=c==null?k[1]:Math.max(c,k[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var p=NC(Xt(f,t.dataKey));p!=null&&(s=s==null?p[0]:Math.min(s,p[0]),c=c==null?p[1]:Math.max(c,p[1]))}),rr(s)&&rr(c))return[s,c]},VW=ce([Ow,Rr,LW,Xp,Nr],kw,{memoizeOptions:{resultEqualityCheck:Hp}});function HW(e){var{value:t}=e;if(ia(t)||t instanceof Date)return t}var qW=(e,t,r)=>{var n=e.map(HW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&kI(n))?t4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},mP=e=>e.referenceElements.dots,qc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),GW=ce([mP,Nr,Ud],qc),gP=e=>e.referenceElements.areas,KW=ce([gP,Nr,Ud],qc),vP=e=>e.referenceElements.lines,XW=ce([vP,Nr,Ud],qc),xP=(e,t)=>{if(e!=null){var r=Ts(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},YW=ce(GW,Nr,xP),yP=(e,t)=>{if(e!=null){var r=Ts(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ZW=ce([KW,Nr],yP);function QW(e){var t;if(e.x!=null)return Ts([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ts(r)}function JW(e){var t;if(e.y!=null)return Ts([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ts(r)}var wP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?QW(n):JW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},eV=ce([XW,Nr],wP),tV=ce(YW,eV,ZW,(e,t,r)=>U0(e,r,t)),jw=(e,t,r,n,i,s,c,f)=>{if(r!=null)return r;var p=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",m=p?U0(n,s,i):U0(s,i);return hW(t,m,e.allowDataOverflow)},rV=ce([Rr,Tw,Pw,$W,VW,tV,zt,Nr],jw,{memoizeOptions:{resultEqualityCheck:Hp}}),nV=[0,1],Rw=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:p}=e,m=Ol(t,s);if(m&&f==null){var v;return t4(0,(v=r?.length)!==null&&v!==void 0?v:0)}return p==="category"?qW(n,e,m):i==="expand"?nV:c}},Mw=ce([Rr,zt,Ow,Kp,Fd,Nr,rV],Rw),bP=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var f="scale".concat(Cd(s));return f in Xu?f:"point"}}},Gc=ce([Rr,zt,cP,mw,Nr],bP);function iV(e){if(e!=null){if(e in Xu)return Xu[e]();var t="scale".concat(Cd(e));if(t in Xu)return Xu[t]()}}function Dw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=iV(t);if(i!=null){var s=i.domain(r).range(n);return eB(s),s}}}var Lw=(e,t,r)=>{var n=Iw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&go(e))return EW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&go(e))return AW(e,t.tickCount,t.allowDecimals)}},Bw=ce([Mw,zd,Gc],Lw),Fw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&go(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,s),Math.max(c,f)]}return t},aV=ce([Rr,Mw,Bw,Nr],Fw),sV=ce(Kp,Rr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ts(e.map(w=>w.value))).sort((w,S)=>w-S),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var p=n[f],m=n[f+1];if(!(p==null||m==null)){var v=m-p;r=Math.min(r,v)}}return r/c}}),EP=ce(sV,zt,Z4,pn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!rr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=Zn(r,e*s),f=e*s/2;return f-c-(f-c)/s*c}return 0}),oV=(e,t,r)=>{var n=Xa(e,t);return n==null||typeof n.padding!="string"?0:EP(e,"xAxis",t,r,n.padding)},lV=(e,t,r)=>{var n=Ya(e,t);return n==null||typeof n.padding!="string"?0:EP(e,"yAxis",t,r,n.padding)},cV=ce(Xa,oV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),uV=ce(Ya,lV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),dV=ce([pn,cV,Np,Op,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),fV=ce([pn,zt,uV,Np,Op,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return dV(e,r,n);case"yAxis":return fV(e,r,n);case"zAxis":return(i=Ew(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return rP(e);case"radiusAxis":return nP(e,r);default:return}},AP=ce([Rr,Vd],$p),jc=ce([Rr,Gc,aV,AP],Dw);ce([$d,Xp,Nr],WW);function SP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yp=(e,t)=>t,Zp=(e,t,r)=>r,hV=ce(_p,Yp,Zp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SP)),pV=ce(Cp,Yp,Zp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SP)),_P=(e,t)=>({width:e.width,height:t.height}),mV=(e,t)=>{var r=typeof t.width=="number"?t.width:Td;return{width:r,height:e.height}},CP=ce(pn,Xa,_P),gV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},xV=ce(Rs,pn,hV,Yp,Zp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=_P(t,f);c==null&&(c=gV(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[f.id]=c-Number(m)*p.height,c+=(m?-1:1)*p.height}),s}),yV=ce(js,pn,pV,Yp,Zp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=mV(t,f);c==null&&(c=vV(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[f.id]=c-Number(m)*p.width,c+=(m?-1:1)*p.width}),s}),wV=(e,t)=>{var r=Xa(e,t);if(r!=null)return xV(e,r.orientation,r.mirror)},bV=ce([pn,Xa,wV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),EV=(e,t)=>{var r=Ya(e,t);if(r!=null)return yV(e,r.orientation,r.mirror)},AV=ce([pn,Ya,EV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OP=ce(pn,Ya,(e,t)=>{var r=typeof t.width=="number"?t.width:Td;return{width:r,height:e.height}}),IC=(e,t,r)=>{switch(t){case"xAxis":return CP(e,r).width;case"yAxis":return OP(e,r).height;default:return}},NP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,f=Ol(e,n),p=t.map(m=>m.value);if(c&&f&&s==="category"&&i&&kI(p))return p}},Uw=ce([zt,Kp,Rr,Nr],NP),IP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=Ol(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(f=>f.value)}},zw=ce([zt,Kp,zd,Nr],IP),TC=ce([zt,MW,Gc,jc,Uw,zw,Vd,Bw,Nr],(e,t,r,n,i,s,c,f,p)=>{if(t!=null){var m=Ol(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:f,range:c,realScaleType:r,scale:n}}}),SV=(e,t,r,n,i,s,c,f,p)=>{if(!(t==null||n==null)){var m=Ol(e,p),{type:v,ticks:w,tickCount:S}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,I=v==="category"&&n.bandwidth?n.bandwidth()/_:0;I=p==="angleAxis"&&s!=null&&s.length>=2?Nn(s[0]-s[1])*2*I:I;var N=w||i;if(N){var k=N.map((M,L)=>{var R=c?c.indexOf(M):M;return{index:L,coordinate:n(R)+I,value:M,offset:I}});return k.filter(M=>rr(M.coordinate))}return m&&f?f.map((M,L)=>({coordinate:n(M)+I,value:M,index:L,offset:I})).filter(M=>rr(M.coordinate)):n.ticks?n.ticks(S).map(M=>({coordinate:n(M)+I,value:M,offset:I})):n.domain().map((M,L)=>({coordinate:n(M)+I,value:c?c[M]:M,index:L,offset:I}))}},TP=ce([zt,zd,Gc,jc,Bw,Vd,Uw,zw,Nr],SV),_V=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Ol(e,c),{tickCount:p}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?Nn(n[0]-n[1])*2*m:m,f&&s?s.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(p).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:i?i[v]:v,index:w,offset:m}))}},vo=ce([zt,zd,jc,Vd,Uw,zw,Nr],_V),xo=ce(Rr,jc,(e,t)=>{if(!(e==null||t==null))return F0(F0({},e),{},{scale:t})}),CV=ce([Rr,Gc,Mw,AP],Dw),OV=ce((e,t,r)=>Ew(e,r),CV,(e,t)=>{if(!(e==null||t==null))return F0(F0({},e),{},{scale:t})}),NV=ce([zt,_p,Cp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PP=e=>e.options.defaultTooltipEventType,kP=e=>e.options.validateTooltipEventTypes;function jP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function $w(e,t){var r=PP(e),n=kP(e);return jP(t,r,n)}function IV(e){return He(t=>$w(t,e))}var RP=(e,t)=>{var r,n=Number(t);if(!(Li(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},TV=e=>e.tooltip.settings,ho={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},PV={itemInteraction:{click:ho,hover:ho},axisInteraction:{click:ho,hover:ho},keyboardInteraction:ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MP=xi({name:"tooltip",initialState:PV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_r()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:_r()},removeTooltipEntrySettings:{reducer(e,t){var r=Oa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:_r()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:kV,replaceTooltipEntrySettings:jV,removeTooltipEntrySettings:RV,setTooltipSettingsState:MV,setActiveMouseOverItemIndex:DP,mouseLeaveItem:DV,mouseLeaveChart:LP,setActiveClickItemIndex:LV,setMouseOverAxisIndex:BP,setMouseClickAxisIndex:BV,setSyncInteraction:Rx,setKeyboardInteraction:Mx}=MP.actions,FV=MP.reducer;function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){UV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UV(e,t,r){return(t=zV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function VV(e){return e.index!=null}var FP=(e,t,r,n)=>{if(t==null)return ho;var i=WV(e,t,r);if(i==null)return ho;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(VV(i)){if(s)return _h(_h({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return _h(_h({},ho),{},{coordinate:i.coordinate})};function HV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function qV(e,t){var r=HV(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function GV(e,t,r){if(r==null||t==null)return!0;var n=Xt(e,t);return n==null||!go(r)?!0:qV(n,r)}var Ww=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!rr(s))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var p=Math.max(c,Math.min(s,f)),m=t[p];return m==null||GV(m,r,n)?String(p):null},UP=(e,t,r,n,i,s,c,f)=>{if(!(s==null||f==null)){var p=c[0],m=p==null?void 0:f(p.positions,s);if(m!=null)return m;var v=i?.[Number(s)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},zP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},Hd=e=>e.options.tooltipPayloadSearcher,Kc=e=>e.tooltip;function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){KV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t,r){return(t=XV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t){return e??t}var $P=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:f,computedData:p,dataStartIndex:m,dataEndIndex:v}=r,w=[];return e.reduce((S,_)=>{var I,{dataDefinedOnItem:N,settings:k}=_,M=ZV(N,f),L=Array.isArray(M)?CT(M,m,v):M,R=(I=k?.dataKey)!==null&&I!==void 0?I:n,z=k?.nameKey,W;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?W=jI(L,n,i):W=s(L,t,p,z),Array.isArray(W))W.forEach(H=>{var ne=jC(jC({},k),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});S.push(DS({tooltipEntrySettings:ne,dataKey:H.dataKey,payload:H.payload,value:Xt(H.payload,H.dataKey),name:H.name}))});else{var V;S.push(DS({tooltipEntrySettings:k,dataKey:R,payload:W,value:Xt(W,R),name:(V=Xt(W,z))!==null&&V!==void 0?V:k?.name}))}return S},w)}},Vw=ce([vn,zt,cP,mw,gn],bP),QV=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JV=ce([gn,Hc],Aw),Xc=ce([QV,vn,JV],Sw,{memoizeOptions:{resultEqualityCheck:qp}}),eH=ce([Xc],e=>e.filter(Vp)),tH=ce([Xc],_w,{memoizeOptions:{resultEqualityCheck:qp}}),Yc=ce([tH,Ds],Cw),rH=ce([eH,Ds,vn],aP),Hw=ce([Yc,vn,Xc],Nw),WP=ce([vn],Iw),nH=ce([vn],e=>e.allowDataOverflow),VP=ce([WP,nH],D4),iH=ce([Xc],e=>e.filter(Vp)),aH=ce([rH,iH,Fd,Q4],hP),sH=ce([aH,Ds,gn,VP],pP),oH=ce([Xc],dP),lH=ce([Yc,vn,oH,Xp,gn],kw,{memoizeOptions:{resultEqualityCheck:Hp}}),cH=ce([mP,gn,Hc],qc),uH=ce([cH,gn],xP),dH=ce([gP,gn,Hc],qc),fH=ce([dH,gn],yP),hH=ce([vP,gn,Hc],qc),pH=ce([hH,gn],wP),mH=ce([uH,pH,fH],U0),gH=ce([vn,WP,VP,sH,lH,mH,zt,gn],jw),qd=ce([vn,zt,Yc,Hw,Fd,gn,gH],Rw),vH=ce([qd,vn,Vw],Lw),xH=ce([vn,qd,vH,gn],Fw),HP=e=>{var t=gn(e),r=Hc(e),n=!1;return Vd(e,t,r,n)},qP=ce([vn,HP],$p),GP=ce([vn,Vw,xH,qP],Dw),yH=ce([zt,Hw,vn,gn],NP),wH=ce([zt,Hw,vn,gn],IP),bH=(e,t,r,n,i,s,c,f)=>{if(t){var{type:p}=t,m=Ol(e,f);if(n){var v=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/v:0;return w=f==="angleAxis"&&i!=null&&i?.length>=2?Nn(i[0]-i[1])*2*w:w,m&&c?c.map((S,_)=>({coordinate:n(S)+w,value:S,index:_,offset:w})):n.domain().map((S,_)=>({coordinate:n(S)+w,value:s?s[S]:S,index:_,offset:w}))}}},Ls=ce([zt,vn,Vw,GP,HP,yH,wH,gn],bH),qw=ce([PP,kP,TV],(e,t,r)=>jP(r.shared,e,t)),KP=e=>e.tooltip.settings.trigger,Gw=e=>e.tooltip.settings.defaultIndex,Gd=ce([Kc,qw,KP,Gw],FP),yo=ce([Gd,Yc,Wd,qd],Ww),XP=ce([Ls,yo],RP),Kw=ce([Gd],e=>{if(e)return e.dataKey}),EH=ce([Gd],e=>{if(e)return e.graphicalItemId}),YP=ce([Kc,qw,KP,Gw],zP),AH=ce([js,Rs,zt,pn,Ls,Gw,YP,Hd],UP),SH=ce([Gd,AH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),_H=ce([Gd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),CH=ce([YP,yo,Ds,Wd,XP,Hd,qw],$P);ce([CH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=NH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TH=()=>He(vn),PH=()=>{var e=TH(),t=He(Ls),r=He(GP);return y0(!e||!r?void 0:MC(MC({},e),{},{scale:r}),t)};function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MH=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},DH=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return cc(cc(cc({},n),rn(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var f=i.coordinate,{angle:p}=n;return cc(cc(cc({},n),rn(n.cx,n.cy,f,p)),{},{angle:p,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var ZP=(e,t,r,n,i)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var p,m,v,w,S,_=f>0?(p=r[f-1])===null||p===void 0?void 0:p.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,I=(v=r[f])===null||v===void 0?void 0:v.coordinate,N=f>=c-1?(w=r[0])===null||w===void 0?void 0:w.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,k=void 0;if(!(_==null||I==null||N==null))if(Nn(I-_)!==Nn(N-I)){var M=[];if(Nn(N-I)===Nn(i[1]-i[0])){k=N;var L=I+i[1]-i[0];M[0]=Math.min(L,(L+_)/2),M[1]=Math.max(L,(L+_)/2)}else{k=_;var R=N+i[1]-i[0];M[0]=Math.min(I,(R+I)/2),M[1]=Math.max(I,(R+I)/2)}var z=[Math.min(I,(k+I)/2),Math.max(I,(k+I)/2)];if(e>z[0]&&e<=z[1]||e>=M[0]&&e<=M[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var V=Math.min(_,N),H=Math.max(_,N);if(e>(V+I)/2&&e<=(H+I)/2){var ne;return(ne=r[f])===null||ne===void 0?void 0:ne.index}}}else if(t)for(var Y=0;Y<c;Y++){var Ae=t[Y];if(Ae!=null){var pe=t[Y+1],de=t[Y-1];if(Y===0&&pe!=null&&e<=(Ae.coordinate+pe.coordinate)/2||Y===c-1&&de!=null&&e>(Ae.coordinate+de.coordinate)/2||Y>0&&Y<c-1&&de!=null&&pe!=null&&e>(Ae.coordinate+de.coordinate)/2&&e<=(Ae.coordinate+pe.coordinate)/2)return Ae.index}}return-1},BH=()=>He(mw),Xw=(e,t)=>t,QP=(e,t,r)=>r,Yw=(e,t,r,n)=>n,FH=ce(Ls,e=>mp(e,t=>t.coordinate)),Zw=ce([Kc,Xw,QP,Yw],FP),Qw=ce([Zw,Yc,Wd,qd],Ww),UH=(e,t,r)=>{if(t!=null){var n=Kc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},JP=ce([Kc,Xw,QP,Yw],zP),z0=ce([js,Rs,zt,pn,Ls,Yw,JP,Hd],UP),zH=ce([Zw,z0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ek=ce([Ls,Qw],RP),$H=ce([JP,Qw,Ds,Wd,ek,Hd,Xw],$P),WH=ce([Zw,Qw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),VH=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&LH(e,c)){var f=dB(e,t),p=ZP(f,s,i,r,n),m=MH(t,i,p,e);return{activeIndex:String(p),activeCoordinate:m}}},HH=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var f=NU(e,r);if(f){var p=fB(f,t),m=ZP(p,c,s,n,i),v=DH(t,s,m,f);return{activeIndex:String(m),activeCoordinate:v}}}},qH=(e,t,r,n,i,s,c,f)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?VH(e,t,n,i,s,c,f):HH(e,t,r,n,i,s,c)},GH=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),KH=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(nn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:PW}});function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return(t=YH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QH={},JH={zIndexMap:Object.values(nn).reduce((e,t)=>BC(BC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),QH)},eq=new Set(Object.values(nn));function tq(e){return eq.has(e)}var tk=xi({name:"zIndex",initialState:JH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_r()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!tq(r)&&delete e.zIndexMap[r])},prepare:_r()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:_r()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:_r()}}}),{registerZIndexPortal:rq,unregisterZIndexPortal:nq,registerZIndexPortalElement:iq,unregisterZIndexPortalElement:aq}=tk.actions,sq=tk.reducer;function yi(e){var{zIndex:t,children:r}=e,n=WB(),i=n&&t!==void 0&&t!==0,s=Un(),c=ir();O.useLayoutEffect(()=>i?(c(rq({zIndex:t})),()=>{c(nq({zIndex:t}))}):Od,[c,t,i]);var f=He(p=>GH(p,t,s));return i?f?ry.createPortal(r,f):null:r}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return O.isValidElement(t)?O.cloneElement(t,n):O.createElement(r,n)}function dq(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:f,cursor:p,tooltipEventType:m,chartName:v}=e,w=r,S=n,_=i;if(!p||!w||v!=="ScatterChart"&&m!=="axis")return null;var I,N,k;if(v==="ScatterChart")I=w,N=$F,k=nn.cursorLine;else if(v==="BarChart")I=WF(f,w,s,c),N=YT,k=nn.cursorRectangle;else if(f==="radial"&&MI(w)){var{cx:M,cy:L,radius:R,startAngle:z,endAngle:W}=QT(w);I={cx:M,cy:L,startAngle:z,endAngle:W,innerRadius:R,outerRadius:R},N=e4,k=nn.cursorLine}else I={points:kU(f,w,s)},N=jp,k=nn.cursorLine;var V=typeof p=="object"&&"className"in p?p.className:void 0,H=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},s),I),Cc(p)),{},{payload:S,payloadIndex:_,className:Ht("recharts-tooltip-cursor",V)});return O.createElement(yi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},O.createElement(uq,{cursor:p,cursorComp:N,cursorProps:H}))}function fq(e){var t=PH(),r=RT(),n=Pd(),i=BH();return t==null||r==null||n==null||i==null?null:O.createElement(dq,Dx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var rk=O.createContext(null),hq=()=>O.useContext(rk),uv={exports:{}},UC;function pq(){return UC||(UC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,m,v){this.fn=p,this.context=m,this.once=v||!1}function s(p,m,v,w,S){if(typeof v!="function")throw new TypeError("The listener must be a function");var _=new i(v,w||p,S),I=r?r+m:m;return p._events[I]?p._events[I].fn?p._events[I]=[p._events[I],_]:p._events[I].push(_):(p._events[I]=_,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],v,w;if(this._eventsCount===0)return m;for(w in v=this._events)t.call(v,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},f.prototype.listeners=function(m){var v=r?r+m:m,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var S=0,_=w.length,I=new Array(_);S<_;S++)I[S]=w[S].fn;return I},f.prototype.listenerCount=function(m){var v=r?r+m:m,w=this._events[v];return w?w.fn?1:w.length:0},f.prototype.emit=function(m,v,w,S,_,I){var N=r?r+m:m;if(!this._events[N])return!1;var k=this._events[N],M=arguments.length,L,R;if(k.fn){switch(k.once&&this.removeListener(m,k.fn,void 0,!0),M){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,v),!0;case 3:return k.fn.call(k.context,v,w),!0;case 4:return k.fn.call(k.context,v,w,S),!0;case 5:return k.fn.call(k.context,v,w,S,_),!0;case 6:return k.fn.call(k.context,v,w,S,_,I),!0}for(R=1,L=new Array(M-1);R<M;R++)L[R-1]=arguments[R];k.fn.apply(k.context,L)}else{var z=k.length,W;for(R=0;R<z;R++)switch(k[R].once&&this.removeListener(m,k[R].fn,void 0,!0),M){case 1:k[R].fn.call(k[R].context);break;case 2:k[R].fn.call(k[R].context,v);break;case 3:k[R].fn.call(k[R].context,v,w);break;case 4:k[R].fn.call(k[R].context,v,w,S);break;default:if(!L)for(W=1,L=new Array(M-1);W<M;W++)L[W-1]=arguments[W];k[R].fn.apply(k[R].context,L)}}return!0},f.prototype.on=function(m,v,w){return s(this,m,v,w,!1)},f.prototype.once=function(m,v,w){return s(this,m,v,w,!0)},f.prototype.removeListener=function(m,v,w,S){var _=r?r+m:m;if(!this._events[_])return this;if(!v)return c(this,_),this;var I=this._events[_];if(I.fn)I.fn===v&&(!S||I.once)&&(!w||I.context===w)&&c(this,_);else{for(var N=0,k=[],M=I.length;N<M;N++)(I[N].fn!==v||S&&!I[N].once||w&&I[N].context!==w)&&k.push(I[N]);k.length?this._events[_]=k.length===1?k[0]:k:c(this,_)}return this},f.prototype.removeAllListeners=function(m){var v;return m?(v=r?r+m:m,this._events[v]&&c(this,v)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(uv)),uv.exports}var mq=pq();const gq=oa(mq);var yd=new gq,Lx="recharts.syncEvent.tooltip",zC="recharts.syncEvent.brush";function Jw(e,t){if(t){var r=Number.parseInt(t,10);if(!Li(r))return e?.[r]}}var vq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nk=xi({name:"options",initialState:vq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xq=nk.reducer,{createEventEmitter:yq}=nk.actions;function wq(e){return e.tooltip.syncInteraction}var bq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ik=xi({name:"chartData",initialState:bq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$C,setDataStartEndIndexes:Eq,setComputedData:jte}=ik.actions,Aq=ik.reducer,Sq=["x","y"];function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nq(e,t){if(e==null)return{};var r,n,i=Iq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Iq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tq(){var e=He(gw),t=He(vw),r=ir(),n=He(J4),i=He(Ls),s=Pd(),c=zc(),f=He(p=>p.rootProps.className);O.useEffect(()=>{if(e==null)return Od;var p=(m,v,w)=>{if(t!==w&&e===m){if(n==="index"){var S;if(c&&v!==null&&v!==void 0&&(S=v.payload)!==null&&S!==void 0&&S.coordinate&&v.payload.sourceViewBox){var _=v.payload.coordinate,{x:I,y:N}=_,k=Nq(_,Sq),{x:M,y:L,width:R,height:z}=v.payload.sourceViewBox,W=uc(uc({},k),{},{x:c.x+(R?(I-M)/R:0)*c.width,y:c.y+(z?(N-L)/z:0)*c.height});r(uc(uc({},v),{},{payload:uc(uc({},v.payload),{},{coordinate:W})}))}else r(v);return}if(i!=null){var V;if(typeof n=="function"){var H={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},ne=n(i,H);V=i[ne]}else n==="value"&&(V=i.find(De=>String(De.value)===v.payload.label));var{coordinate:Y}=v.payload;if(V==null||v.payload.active===!1||Y==null||c==null){r(Rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ae,y:pe}=Y,de=Math.min(Ae,c.x+c.width),Se=Math.min(pe,c.y+c.height),ke={x:s==="horizontal"?V.coordinate:de,y:s==="horizontal"?Se:V.coordinate},re=Rx({active:v.payload.active,coordinate:ke,dataKey:v.payload.dataKey,index:String(V.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox,graphicalItemId:v.payload.graphicalItemId});r(re)}}};return yd.on(Lx,p),()=>{yd.off(Lx,p)}},[f,r,t,e,n,i,s,c])}function Pq(){var e=He(gw),t=He(vw),r=ir();O.useEffect(()=>{if(e==null)return Od;var n=(i,s,c)=>{t!==c&&e===i&&r(Eq(s))};return yd.on(zC,n),()=>{yd.off(zC,n)}},[r,t,e])}function kq(){var e=ir();O.useEffect(()=>{e(yq())},[e]),Tq(),Pq()}function jq(e,t,r,n,i,s){var c=He(_=>UH(_,e,t)),f=He(vw),p=He(gw),m=He(J4),v=He(wq),w=v?.active,S=zc();O.useEffect(()=>{if(!w&&p!=null&&f!=null){var _=Rx({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});yd.emit(Lx,p,_,f)}},[w,r,c,i,n,f,p,m,s,S])}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mq(e){var t=Dq(e,"string");return typeof t=="symbol"?t:t+""}function Dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e){return e.dataKey}function Bq(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(bF,t)}var qC=[],Fq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zh(e){var t,r,n=Xr(e,Fq),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:f,content:p,filterNull:m,isAnimationActive:v,offset:w,payloadUniqBy:S,position:_,reverseDirection:I,useTranslate3d:N,wrapperStyle:k,cursor:M,shared:L,trigger:R,defaultIndex:z,portal:W,axisId:V}=n,H=ir(),ne=typeof z=="number"?String(z):z;O.useEffect(()=>{H(MV({shared:L,trigger:R,axisId:V,active:i,defaultIndex:ne}))},[H,L,R,V,i,ne]);var Y=zc(),Ae=HT(),pe=IV(L),{activeIndex:de,isActive:Se}=(t=He(lt=>WH(lt,pe,R,ne)))!==null&&t!==void 0?t:{},ke=He(lt=>$H(lt,pe,R,ne)),re=He(lt=>ek(lt,pe,R,ne)),De=He(lt=>zH(lt,pe,R,ne)),oe=ke,ve=hq(),we=(r=i??Se)!==null&&r!==void 0?r:!1,[be,Q]=YI([oe,we]),ue=pe==="axis"?re:void 0;jq(pe,R,De,ue,de,we);var Be=W??ve;if(Be==null||Y==null||pe==null)return null;var Le=oe??qC;we||(Le=qC),m&&Le.length&&(Le=HI(Le.filter(lt=>lt.value!=null&&(lt.hide!==!0||n.includeHidden)),S,Lq));var Ye=Le.length>0,Ne=O.createElement(NF,{allowEscapeViewBox:s,animationDuration:c,animationEasing:f,isAnimationActive:v,active:we,coordinate:De,hasPayload:Ye,offset:w,position:_,reverseDirection:I,useTranslate3d:N,viewBox:Y,wrapperStyle:k,lastBoundingBox:be,innerRef:Q,hasPortalFromProps:!!W},Bq(p,HC(HC({},n),{},{payload:Le,label:ue,active:we,activeIndex:de,coordinate:De,accessibilityLayer:Ae})));return O.createElement(O.Fragment,null,ry.createPortal(Ne,Be),we&&O.createElement(fq,{cursor:M,tooltipEventType:pe,coordinate:De,payload:Le,index:de}))}var El=e=>null;El.displayName="Cell";function Uq(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=$q(e,"string");return typeof t=="symbol"?t:t+""}function $q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wq{constructor(t){Uq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kq={cacheSize:2e3,enableCache:!0},ak=Vq({},Kq),KC=new Wq(ak.cacheSize),Xq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XC="recharts_measurement_span";function Yq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(f)}var YC=(e,t)=>{try{var r=document.getElementById(XC);r||(r=document.createElement("span"),r.setAttribute("id",XC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Xq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Qu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rp.isSsr)return{width:0,height:0};if(!ak.enableCache)return YC(t,r);var n=Yq(t,r),i=KC.get(n);if(i)return i;var s=YC(t,r);return KC.set(n,s),s},sk;function Zq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nG=["cm","mm","pt","pc","in","Q","px"];function iG(e){return nG.includes(e)}var vc="NaN";function aG(e,t){return e*rG[t]}class Fn{static parse(t){var r,[,n,i]=(r=tG.exec(t))!==null&&r!==void 0?r:[];return n==null?Fn.NaN:new Fn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Li(t)&&(this.unit=""),r!==""&&!eG.test(r)&&(this.num=NaN,this.unit=""),iG(r)&&(this.num=aG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Li(this.num)}}sk=Fn;Zq(Fn,"NaN",new sk(NaN,""));function ok(e){if(e==null||e.includes(vc))return vc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=ZC.exec(t))!==null&&r!==void 0?r:[],c=Fn.parse(n??""),f=Fn.parse(s??""),p=i==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return vc;t=t.replace(ZC,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,v,w,S]=(m=QC.exec(t))!==null&&m!==void 0?m:[],_=Fn.parse(v??""),I=Fn.parse(S??""),N=w==="+"?_.add(I):_.subtract(I);if(N.isNaN())return vc;t=t.replace(QC,N.toString())}return t}var JC=/\(([^()]*)\)/;function sG(e){for(var t=e,r;(r=JC.exec(t))!=null;){var[,n]=r;t=t.replace(JC,ok(n))}return t}function oG(e){var t=e.replace(/\s+/g,"");return t=sG(t),t=ok(t),t}function lG(e){try{return oG(e)}catch{return vc}}function dv(e){var t=lG(e.slice(5,-1));return t===vc?"":t}var cG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],uG=["dx","dy","angle","className","breakAll"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function e3(e,t){if(e==null)return{};var r,n,i=dG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lk=/[ \f\n\r\t\v\u2028\u2029]+/,ck=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];fr(t)||(r?i=t.toString().split(""):i=t.toString().split(lk));var s=i.map(f=>({word:f,width:Qu(f,n).width})),c=r?0:Qu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function fG(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uk=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:f}=s,p=i[i.length-1];if(p&&f!=null&&(t==null||n||p.width+f+r<Number(t)))p.words.push(c),p.width+=f+r;else{var m={words:[c],width:f};i.push(m)}return i},[]),dk=e=>e.reduce((t,r)=>t.width>r.width?t:r),hG="",t3=(e,t,r,n,i,s,c,f)=>{var p=e.slice(0,t),m=ck({breakAll:r,style:n,children:p+hG});if(!m)return[!1,[]];var v=uk(m.wordsWithComputedWidth,s,c,f),w=v.length>i||dk(v).width>Number(s);return[w,v]},pG=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:f,breakAll:p}=e,m=Je(s),v=String(c),w=uk(t,n,r,i);if(!m||i)return w;var S=w.length>s||dk(w).width>Number(n);if(!S)return w;for(var _=0,I=v.length-1,N=0,k;_<=I&&N<=v.length-1;){var M=Math.floor((_+I)/2),L=M-1,[R,z]=t3(v,L,p,f,s,n,r,i),[W]=t3(v,M,p,f,s,n,r,i);if(!R&&!W&&(_=M+1),R&&W&&(I=M-1),!R&&W){k=z;break}N++}return k||w},r3=e=>{var t=fr(e)?[]:e.toString().split(lk);return[{words:t,width:void 0}]},mG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!Rp.isSsr){var f,p,m=ck({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:v,spaceWidth:w}=m;f=v,p=w}else return r3(n);return pG({breakAll:s,children:n,maxLines:c,style:i},f,p,t,!!r)}return r3(n)},fk="#808080",gG={angle:0,breakAll:!1,capHeight:"0.71em",fill:fk,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Qp=O.forwardRef((e,t)=>{var r=Xr(e,gG),{x:n,y:i,lineHeight:s,capHeight:c,fill:f,scaleToFit:p,textAnchor:m,verticalAnchor:v}=r,w=e3(r,cG),S=O.useMemo(()=>mG({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:p,style:w.style,width:w.width}),[w.breakAll,w.children,w.maxLines,p,w.style,w.width]),{dx:_,dy:I,angle:N,className:k,breakAll:M}=w,L=e3(w,uG);if(!ia(n)||!ia(i)||S.length===0)return null;var R=Number(n)+(Je(_)?_:0),z=Number(i)+(Je(I)?I:0);if(!rr(R)||!rr(z))return null;var W;switch(v){case"start":W=dv("calc(".concat(c,")"));break;case"middle":W=dv("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:W=dv("calc(".concat(S.length-1," * -").concat(s,")"));break}var V=[];if(p){var H=S[0].width,{width:ne}=w;V.push("scale(".concat(Je(ne)&&Je(H)?ne/H:1,")"))}return N&&V.push("rotate(".concat(N,", ").concat(R,", ").concat(z,")")),V.length&&(L.transform=V.join(" ")),O.createElement("text",Bx({},Di(L),{ref:t,x:R,y:z,className:Ht("recharts-text",k),textAnchor:m,fill:f.includes("url")?fk:f}),S.map((Y,Ae)=>{var pe=Y.words.join(M?"":" ");return O.createElement("tspan",{x:R,dy:Ae===0?W:s,key:"".concat(pe,"-").concat(Ae)},pe)}))});Qp.displayName="Text";var vG=["labelRef"],xG=["content"];function n3(e,t){if(e==null)return{};var r,n,i=yG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xs.apply(null,arguments)}var hk=O.createContext(null),pk=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:f}=e,p=O.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return O.createElement(hk.Provider,{value:p},f)},mk=()=>{var e=O.useContext(hk),t=zc();return e||jT(t)},AG=O.createContext(null),SG=()=>{var e=O.useContext(AG),t=He(iP);return e||t},_G=e=>{var{value:t,formatter:r}=e,n=fr(e.children)?t:e.children;return typeof r=="function"?r(n):n},eb=e=>e!=null&&typeof e=="function",CG=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},OG=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:f,cy:p,innerRadius:m,outerRadius:v,startAngle:w,endAngle:S,clockWise:_}=i,I=(m+v)/2,N=CG(w,S),k=N>=0?1:-1,M,L;switch(t){case"insideStart":M=w+k*s,L=_;break;case"insideEnd":M=S-k*s,L=!_;break;case"end":M=S+k*s,L=_;break;default:throw new Error("Unsupported position ".concat(t))}L=N<=0?L:!L;var R=rn(f,p,I,M),z=rn(f,p,I,M+(L?1:-1)*359),W="M".concat(R.x,",").concat(R.y,`
    A`).concat(I,",").concat(I,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),V=fr(e.id)?sd("recharts-radial-line-"):e.id;return O.createElement("text",xs({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",c)}),O.createElement("defs",null,O.createElement("path",{id:V,d:W})),O.createElement("textPath",{xlinkHref:"#".concat(V)},r))},NG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:f,endAngle:p}=e,m=(f+p)/2;if(r==="outside"){var{x:v,y:w}=rn(n,i,c+t,m);return{x:v,y:w,textAnchor:v>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(s+c)/2,{x:_,y:I}=rn(n,i,S,m);return{x:_,y:I,textAnchor:"middle",verticalAnchor:"middle"}},Fx=e=>"cx"in e&&Je(e.cx),IG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!Fx(r)&&(s=r);var{x:c,y:f,upperWidth:p,lowerWidth:m,height:v}=t,w=c,S=c+(p-m)/2,_=(w+S)/2,I=(p+m)/2,N=w+p/2,k=v>=0?1:-1,M=k*n,L=k>0?"end":"start",R=k>0?"start":"end",z=p>=0?1:-1,W=z*n,V=z>0?"end":"start",H=z>0?"start":"end";if(i==="top"){var ne={x:w+p/2,y:f-M,textAnchor:"middle",verticalAnchor:L};return Gr(Gr({},ne),s?{height:Math.max(f-s.y,0),width:p}:{})}if(i==="bottom"){var Y={x:S+m/2,y:f+v+M,textAnchor:"middle",verticalAnchor:R};return Gr(Gr({},Y),s?{height:Math.max(s.y+s.height-(f+v),0),width:m}:{})}if(i==="left"){var Ae={x:_-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"};return Gr(Gr({},Ae),s?{width:Math.max(Ae.x-s.x,0),height:v}:{})}if(i==="right"){var pe={x:_+I+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"};return Gr(Gr({},pe),s?{width:Math.max(s.x+s.width-pe.x,0),height:v}:{})}var de=s?{width:I,height:v}:{};return i==="insideLeft"?Gr({x:_+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"},de):i==="insideRight"?Gr({x:_+I-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"},de):i==="insideTop"?Gr({x:w+p/2,y:f+M,textAnchor:"middle",verticalAnchor:R},de):i==="insideBottom"?Gr({x:S+m/2,y:f+v-M,textAnchor:"middle",verticalAnchor:L},de):i==="insideTopLeft"?Gr({x:w+W,y:f+M,textAnchor:H,verticalAnchor:R},de):i==="insideTopRight"?Gr({x:w+p-W,y:f+M,textAnchor:V,verticalAnchor:R},de):i==="insideBottomLeft"?Gr({x:S+W,y:f+v-M,textAnchor:H,verticalAnchor:L},de):i==="insideBottomRight"?Gr({x:S+m-W,y:f+v-M,textAnchor:V,verticalAnchor:L},de):i&&typeof i=="object"&&(Je(i.x)||_s(i.x))&&(Je(i.y)||_s(i.y))?Gr({x:c+Zn(i.x,I),y:f+Zn(i.y,v),textAnchor:"end",verticalAnchor:"end"},de):Gr({x:N,y:f+v/2,textAnchor:"middle",verticalAnchor:"middle"},de)},TG={angle:0,offset:5,zIndex:nn.label,position:"middle",textBreakAll:!1};function co(e){var t=Xr(e,TG),{viewBox:r,position:n,value:i,children:s,content:c,className:f="",textBreakAll:p,labelRef:m}=t,v=SG(),w=mk(),S=n==="center"?w:v??w,_,I,N;if(r==null?_=S:Fx(r)?_=r:_=jT(r),!_||fr(i)&&fr(s)&&!O.isValidElement(c)&&typeof c!="function")return null;var k=Gr(Gr({},t),{},{viewBox:_});if(O.isValidElement(c)){var{labelRef:M}=k,L=n3(k,vG);return O.cloneElement(c,L)}if(typeof c=="function"){var{content:R}=k,z=n3(k,xG);if(I=O.createElement(c,z),O.isValidElement(I))return I}else I=_G(t);var W=Di(t);if(Fx(_)){if(n==="insideStart"||n==="insideEnd"||n==="end")return OG(t,n,I,W,_);N=NG(_,t.offset,t.position)}else N=IG(t,_);return O.createElement(yi,{zIndex:t.zIndex},O.createElement(Qp,xs({ref:m,className:Ht("recharts-label",f)},W,N,{textAnchor:fG(W.textAnchor)?W.textAnchor:N.textAnchor,breakAll:p}),I))}co.displayName="Label";var PG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?O.createElement(co,xs({key:"label-implicit"},n)):ia(e)?O.createElement(co,xs({key:"label-implicit",value:e},n)):O.isValidElement(e)?e.type===co?O.cloneElement(e,Gr({key:"label-implicit"},n)):O.createElement(co,xs({key:"label-implicit",content:e},n)):eb(e)?O.createElement(co,xs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?O.createElement(co,xs({},e,{key:"label-implicit"},n)):null};function gk(e){var{label:t,labelRef:r}=e,n=mk();return PG(t,n,r)||null}var fv={},hv={},a3;function kG(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(hv)),hv}var pv={},s3;function jG(){return s3||(s3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(pv)),pv}var o3;function RG(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kG(),r=jG(),n=Cy();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(fv)),fv}var mv,l3;function MG(){return l3||(l3=1,mv=RG().last),mv}var DG=MG();const LG=oa(DG);var BG=["valueAccessor"],FG=["dataKey","clockWise","id","textBreakAll","zIndex"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function c3(e,t){if(e==null)return{};var r,n,i=UG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zG=e=>Array.isArray(e.value)?LG(e.value):e.value,vk=O.createContext(void 0),xk=vk.Provider,yk=O.createContext(void 0),$G=yk.Provider;function WG(){return O.useContext(vk)}function VG(){return O.useContext(yk)}function $h(e){var{valueAccessor:t=zG}=e,r=c3(e,BG),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:f}=r,p=c3(r,FG),m=WG(),v=VG(),w=m||v;return!w||!w.length?null:O.createElement(yi,{zIndex:f??nn.label},O.createElement(Kr,{className:"recharts-label-list"},w.map((S,_)=>{var I,N=fr(n)?t(S,_):Xt(S&&S.payload,n),k=fr(s)?{}:{id:"".concat(s,"-").concat(_)};return O.createElement(co,$0({key:"label-".concat(_)},Di(S),p,k,{fill:(I=r.fill)!==null&&I!==void 0?I:S.fill,parentViewBox:S.parentViewBox,value:N,textBreakAll:c,viewBox:S.viewBox,index:_,zIndex:0}))})))}$h.displayName="LabelList";function tb(e){var{label:t}=e;return t?t===!0?O.createElement($h,{key:"labelList-implicit"}):O.isValidElement(t)||eb(t)?O.createElement($h,{key:"labelList-implicit",content:t}):typeof t=="object"?O.createElement($h,$0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var wk=e=>e.graphicalItems.polarItems,HG=ce([Nr,Ud],Aw),Jp=ce([wk,Rr,HG],Sw),qG=ce([Jp],_w),em=ce([qG,zp],Cw),GG=ce([em,Rr,Jp],Nw);ce([em,Rr,Jp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=Xt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Xt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var u3=()=>{},KG=ce([em,Rr,Jp,Xp,Nr],kw),XG=ce([Rr,Tw,Pw,u3,KG,u3,zt,Nr],jw),bk=ce([Rr,zt,em,GG,Fd,Nr,XG],Rw),YG=ce([bk,Rr,Gc],Lw);ce([Rr,bk,YG,Nr],Fw);var ZG={radiusAxis:{},angleAxis:{}},Ek=xi({name:"polarAxis",initialState:ZG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Rte,removeRadiusAxis:Mte,addAngleAxis:Dte,removeAngleAxis:Lte}=Ek.actions,QG=Ek.reducer;function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rK=(e,t)=>t,rb=ce([wk,rK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nK=[],nb=(e,t,r)=>r?.length===0?nK:r,Ak=ce([zp,rb,nb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>f3(f3({},t.presentationProps),s.props))),i!=null)return i}}),iK=ce([Ak,rb,nb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=Xt(n,t.nameKey,t.name),f;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:Uc(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),aK=ce([Ak,rb,nb,pn],(e,t,r,n)=>{if(!(t==null||e==null))return oX({offset:n,pieSettings:t,displayedData:e,cells:r})}),gv={exports:{}},Jt={};var h3;function sK(){if(h3)return Jt;h3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function I(N){if(typeof N=="object"&&N!==null){var k=N.$$typeof;switch(k){case e:switch(N=N.type,N){case r:case i:case n:case p:case m:case S:return N;default:switch(N=N&&N.$$typeof,N){case c:case f:case w:case v:return N;case s:return N;default:return k}}case t:return k}}}return Jt.ContextConsumer=s,Jt.ContextProvider=c,Jt.Element=e,Jt.ForwardRef=f,Jt.Fragment=r,Jt.Lazy=w,Jt.Memo=v,Jt.Portal=t,Jt.Profiler=i,Jt.StrictMode=n,Jt.Suspense=p,Jt.SuspenseList=m,Jt.isContextConsumer=function(N){return I(N)===s},Jt.isContextProvider=function(N){return I(N)===c},Jt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Jt.isForwardRef=function(N){return I(N)===f},Jt.isFragment=function(N){return I(N)===r},Jt.isLazy=function(N){return I(N)===w},Jt.isMemo=function(N){return I(N)===v},Jt.isPortal=function(N){return I(N)===t},Jt.isProfiler=function(N){return I(N)===i},Jt.isStrictMode=function(N){return I(N)===n},Jt.isSuspense=function(N){return I(N)===p},Jt.isSuspenseList=function(N){return I(N)===m},Jt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===i||N===n||N===p||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===w||N.$$typeof===v||N.$$typeof===c||N.$$typeof===s||N.$$typeof===f||N.$$typeof===_||N.getModuleId!==void 0)},Jt.typeOf=I,Jt}var p3;function oK(){return p3||(p3=1,gv.exports=sK()),gv.exports}var lK=oK(),m3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",g3=null,vv=null,Sk=e=>{if(e===g3&&Array.isArray(vv))return vv;var t=[];return O.Children.forEach(e,r=>{fr(r)||(lK.isFragment(r)?t=t.concat(Sk(r.props.children)):t.push(r))}),vv=t,g3=e,t};function tm(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>m3(i)):n=[m3(t)],Sk(e).forEach(i=>{var s=vl(i,"type.displayName")||vl(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var xv={},v3;function cK(){return v3||(v3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(xv)),xv}var yv,x3;function uK(){return x3||(x3=1,yv=cK().isPlainObject),yv}var dK=uK();const fK=oa(dK);var y3,w3,b3,E3,A3;function S3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function Wu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C3=(e,t,r,n,i)=>{var s=r-n,c;return c=zr(y3||(y3=Wu(["M ",",",""])),e,t),c+=zr(w3||(w3=Wu(["L ",",",""])),e+r,t),c+=zr(b3||(b3=Wu(["L ",",",""])),e+r-s/2,t+i),c+=zr(E3||(E3=Wu(["L ",",",""])),e+r-s/2-n,t+i),c+=zr(A3||(A3=Wu(["L ",","," Z"])),e,t),c},gK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vK=e=>{var t=Xr(e,gK),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:v,isUpdateAnimationActive:w}=t,S=O.useRef(null),[_,I]=O.useState(-1),N=O.useRef(i),k=O.useRef(s),M=O.useRef(c),L=O.useRef(r),R=O.useRef(n),z=Rd(e,"trapezoid-");if(O.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ke=S.current.getTotalLength();ke&&I(ke)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var W=Ht("recharts-trapezoid",f);if(!w)return O.createElement("g",null,O.createElement("path",W0({},Di(t),{className:W,d:C3(r,n,i,s,c)})));var V=N.current,H=k.current,ne=M.current,Y=L.current,Ae=R.current,pe="0px ".concat(_===-1?1:_,"px"),de="".concat(_,"px 0px"),Se=qT(["strokeDasharray"],m,p);return O.createElement(jd,{animationId:z,key:z,canBegin:_>0,duration:m,easing:p,isActive:w,begin:v},ke=>{var re=jr(V,i,ke),De=jr(H,s,ke),oe=jr(ne,c,ke),ve=jr(Y,r,ke),we=jr(Ae,n,ke);S.current&&(N.current=re,k.current=De,M.current=oe,L.current=ve,R.current=we);var be=ke>0?{transition:Se,strokeDasharray:de}:{strokeDasharray:pe};return O.createElement("path",W0({},Di(t),{className:W,d:C3(ve,we,re,De,oe),ref:S,style:_3(_3({},be),t.style)}))})},xK=["option","shapeType","activeClassName"];function yK(e,t){if(e==null)return{};var r,n,i=wK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t){return V0(V0({},t),e)}function _K(e,t){return e==="symbols"}function N3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return O.createElement(YT,r);case"trapezoid":return O.createElement(vK,r);case"sector":return O.createElement(e4,r);case"symbols":if(_K(t))return O.createElement(pp,r);break;case"curve":return O.createElement(jp,r);default:return null}}function CK(e){return O.isValidElement(e)?e.props:e}function H0(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=yK(e,xK),s;if(O.isValidElement(t))s=O.cloneElement(t,V0(V0({},i),CK(t)));else if(typeof t=="function")s=t(i,i.index);else if(fK(t)&&typeof t!="boolean"){var c=SK(t,i);s=O.createElement(N3,{shapeType:r,elementProps:c})}else{var f=i;s=O.createElement(N3,{shapeType:r,elementProps:f})}return i.isActive?O.createElement(Kr,{className:n},s):s}var rm=(e,t,r)=>{var n=ir();return(i,s)=>c=>{e?.(i,s,c),n(DP({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},nm=e=>{var t=ir();return(r,n)=>i=>{e?.(r,n,i),t(DV())}},im=(e,t,r)=>{var n=ir();return(i,s)=>c=>{e?.(i,s,c),n(LV({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function ib(e){var{tooltipEntrySettings:t}=e,r=ir(),n=Un(),i=O.useRef(null);return O.useLayoutEffect(()=>{n||(i.current===null?r(kV(t)):i.current!==t&&r(jV({prev:i.current,next:t})),i.current=t)},[t,r,n]),O.useLayoutEffect(()=>()=>{i.current&&(r(RV(i.current)),i.current=null)},[r]),null}function _k(e){var{legendPayload:t}=e,r=ir(),n=Un(),i=O.useRef(null);return O.useLayoutEffect(()=>{n||(i.current===null?r($T(t)):i.current!==t&&r(WT({prev:i.current,next:t})),i.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{i.current&&(r(VT(i.current)),i.current=null)},[r]),null}function OK(e){var{legendPayload:t}=e,r=ir(),n=He(zt),i=O.useRef(null);return O.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r($T(t)):i.current!==t&&r(WT({prev:i.current,next:t})),i.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{i.current&&(r(VT(i.current)),i.current=null)},[r]),null}var wv,NK=()=>{var[e]=O.useState(()=>sd("uid-"));return e},IK=(wv=oj.useId)!==null&&wv!==void 0?wv:NK;function TK(e,t){var r=IK();return t||(e?"".concat(e,"-").concat(r):r)}var PK=O.createContext(void 0),ab=e=>{var{id:t,type:r,children:n}=e,i=TK("recharts-".concat(r),t);return O.createElement(PK.Provider,{value:i},n(i))},kK={cartesianItems:[],polarItems:[]},Ck=xi({name:"graphicalItems",initialState:kK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_r()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:_r()},removeCartesianGraphicalItem:{reducer(e,t){var r=Oa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:_r()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_r()},removePolarGraphicalItem:{reducer(e,t){var r=Oa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:_r()}}}),{addCartesianGraphicalItem:jK,replaceCartesianGraphicalItem:RK,removeCartesianGraphicalItem:MK,addPolarGraphicalItem:DK,removePolarGraphicalItem:LK}=Ck.actions,BK=Ck.reducer,FK=e=>{var t=ir(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(jK(e)):r.current!==e&&t(RK({prev:r.current,next:e})),r.current=e},[t,e]),O.useLayoutEffect(()=>()=>{r.current&&(t(MK(r.current)),r.current=null)},[t]),null},Ok=O.memo(FK);function UK(e){var t=ir();return O.useLayoutEffect(()=>(t(DK(e)),()=>{t(LK(e))}),[t,e]),null}var zK=["key"],$K=["onMouseEnter","onClick","onMouseLeave"],WK=["id"],VK=["id"];function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){HK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HK(e,t,r){return(t=qK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}function am(e,t){if(e==null)return{};var r,n,i=KK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function XK(e){var t=O.useMemo(()=>tm(e.children,El),[e.children]),r=He(n=>iK(n,e.id,t));return r==null?null:O.createElement(OK,{legendPayload:r})}var YK=O.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:f,hide:p,tooltipType:m,id:v}=e,w={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:Uc(f,t),hide:p,type:m,color:c,unit:"",graphicalItemId:v}};return O.createElement(ib,{tooltipEntrySettings:w})}),ZK=(e,t)=>e>t?"start":e<t?"end":"middle",QK=(e,t,r)=>Zn(typeof t=="function"?t(e):t,r,r*.8),JK=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,f=ZT(s,c),p=i+Zn(e.cx,s,s/2),m=n+Zn(e.cy,c,c/2),v=Zn(e.innerRadius,f,0),w=QK(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:p,cy:m,innerRadius:v,outerRadius:w,maxRadius:S}},eX=(e,t)=>{var r=Nn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function tX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rX=(e,t)=>{if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ht("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=am(t,zK);return O.createElement(jp,wo({},i,{type:"linear",className:r}))},nX=(e,t,r)=>{if(O.isValidElement(e))return O.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),O.isValidElement(n)))return n;var i=Ht("recharts-pie-label-text",tX(e));return O.createElement(Qp,wo({},t,{alignmentBaseline:"middle",className:i}),n)};function iX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var f=Mi(r),p=Cc(i),m=Cc(s),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=t.map((S,_)=>{var I=(S.startAngle+S.endAngle)/2,N=rn(S.cx,S.cy,S.outerRadius+v,I),k=$r($r($r($r({},f),S),{},{stroke:"none"},p),{},{index:_,textAnchor:ZK(N.x,S.cx)},N),M=$r($r($r($r({},f),S),{},{fill:"none",stroke:S.fill},m),{},{index:_,points:[rn(S.cx,S.cy,S.outerRadius,I),N],key:"line"});return O.createElement(yi,{zIndex:nn.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(_)},O.createElement(Kr,null,s&&rX(s,M),nX(i,k,Xt(S,c))))});return O.createElement(Kr,{className:"recharts-pie-labels"},w)}function aX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?O.createElement(tb,{label:i}):O.createElement(iX,{sectors:t,props:r,showLabels:n})}function sX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:c}=e,f=He(yo),p=He(Kw),m=He(EH),{onMouseEnter:v,onClick:w,onMouseLeave:S}=i,_=am(i,$K),I=rm(v,i.dataKey,c),N=nm(S),k=im(w,i.dataKey,c);return t==null||t.length===0?null:O.createElement(O.Fragment,null,t.map((M,L)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var R=m==null||m===c,z=String(L)===f&&(p==null||i.dataKey===p)&&R,W=f?n:null,V=r&&z?r:W,H=$r($r({},M),{},{stroke:M.stroke,tabIndex:-1,[Ry]:L,[My]:c});return O.createElement(Kr,wo({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Fc(_,M,L),{onMouseEnter:I(M,L),onMouseLeave:N(M,L),onClick:k(M,L)}),O.createElement(H0,wo({option:s??V,index:L,shapeType:"sector",isActive:z},H)))}))}function oX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:f,endAngle:p,dataKey:m,nameKey:v,tooltipType:w}=r,S=Math.abs(r.minAngle),_=eX(f,p),I=Math.abs(_),N=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(V=>Xt(V,m,0)!==0).length,M=(I>=360?k:k-1)*N,L=I-k*S-M,R=n.reduce((V,H)=>{var ne=Xt(H,m,0);return V+(Je(ne)?ne:0)},0),z;if(R>0){var W;z=n.map((V,H)=>{var ne=Xt(V,m,0),Y=Xt(V,v,H),Ae=JK(r,s,V),pe=(Je(ne)?ne:0)/R,de,Se=$r($r({},V),i&&i[H]&&i[H].props);H?de=W.endAngle+Nn(_)*N*(ne!==0?1:0):de=f;var ke=de+Nn(_)*((ne!==0?S:0)+pe*L),re=(de+ke)/2,De=(Ae.innerRadius+Ae.outerRadius)/2,oe=[{name:Y,value:ne,payload:Se,dataKey:m,type:w,graphicalItemId:r.id}],ve=rn(Ae.cx,Ae.cy,De,re);return W=$r($r($r($r({},r.presentationProps),{},{percent:pe,cornerRadius:typeof c=="string"?parseFloat(c):c,name:Y,tooltipPayload:oe,midAngle:re,middleRadius:De,tooltipPosition:ve},Se),Ae),{},{value:ne,dataKey:m,startAngle:de,endAngle:ke,payload:Se,paddingAngle:Nn(_)*N}),W})}return z}function lX(e){var{showLabels:t,sectors:r,children:n}=e,i=O.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return O.createElement($G,{value:t?i:void 0},n)}function cX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,activeShape:m,inactiveShape:v,onAnimationStart:w,onAnimationEnd:S}=t,_=Rd(t,"recharts-pie-"),I=r.current,[N,k]=O.useState(!1),M=O.useCallback(()=>{typeof S=="function"&&S(),k(!1)},[S]),L=O.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]);return O.createElement(lX,{showLabels:!N,sectors:i},O.createElement(jd,{animationId:_,begin:c,duration:f,isActive:s,easing:p,onAnimationStart:L,onAnimationEnd:M,key:_},R=>{var z=[],W=i&&i[0],V=W?.startAngle;return i?.forEach((H,ne)=>{var Y=I&&I[ne],Ae=ne>0?vl(H,"paddingAngle",0):0;if(Y){var pe=jr(Y.endAngle-Y.startAngle,H.endAngle-H.startAngle,R),de=$r($r({},H),{},{startAngle:V+Ae,endAngle:V+pe+Ae});z.push(de),V=de.endAngle}else{var{endAngle:Se,startAngle:ke}=H,re=jr(0,Se-ke,R),De=$r($r({},H),{},{startAngle:V+Ae,endAngle:V+re+Ae});z.push(De),V=De.endAngle}}),r.current=z,O.createElement(Kr,null,O.createElement(sX,{sectors:z,activeShape:m,inactiveShape:v,allOtherPieProps:t,shape:t.shape,id:n}))}),O.createElement(aX,{showLabels:!N,sectors:i,props:t}),t.children)}var uX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:nn.area};function dX(e){var{id:t}=e,r=am(e,WK),{hide:n,className:i,rootTabIndex:s}=e,c=O.useMemo(()=>tm(e.children,El),[e.children]),f=He(v=>aK(v,t,c)),p=O.useRef(null),m=Ht("recharts-pie",i);return n||f==null?(p.current=null,O.createElement(Kr,{tabIndex:s,className:m})):O.createElement(yi,{zIndex:e.zIndex},O.createElement(YK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),O.createElement(Kr,{tabIndex:s,className:m},O.createElement(cX,{props:$r($r({},r),{},{sectors:f}),previousSectorsRef:p,id:t})))}function Nk(e){var t=Xr(e,uX),{id:r}=t,n=am(t,VK),i=Mi(n);return O.createElement(ab,{id:r,type:"pie"},s=>O.createElement(O.Fragment,null,O.createElement(UK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),O.createElement(XK,wo({},n,{id:s})),O.createElement(dX,wo({},n,{id:s}))))}Nk.displayName="Pie";function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=pX(e,"string");return typeof t=="symbol"?t:t+""}function pX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ik=0,mX={xAxis:{},yAxis:{},zAxis:{}},Tk=xi({name:"cartesianAxis",initialState:mX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_r()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:_r()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_r()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_r()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:_r()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_r()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_r()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:_r()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_r()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=P3(P3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:gX,replaceXAxis:vX,removeXAxis:xX,addYAxis:yX,replaceYAxis:wX,removeYAxis:bX,addZAxis:Bte,replaceZAxis:Fte,removeZAxis:Ute,updateYAxisWidth:EX}=Tk.actions,AX=Tk.reducer,SX=ce([pn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),_X=ce([SX,js,Rs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Pk=()=>He(_X),k3=(e,t,r)=>{var n=r??e;if(!fr(n))return Zn(n,t,0)},CX=(e,t,r)=>{var n={},i=e.filter(Vp),s=e.filter(m=>m.stackId==null),c=i.reduce((m,v)=>(m[v.stackId]||(m[v.stackId]=[]),m[v.stackId].push(v),m),n),f=Object.entries(c).map(m=>{var[v,w]=m,S=w.map(I=>I.dataKey),_=k3(t,r,w[0].barSize);return{stackId:v,dataKeys:S,barSize:_}}),p=s.map(m=>{var v=[m.dataKey].filter(S=>S!=null),w=k3(t,r,m.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...f,...p]};function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TX(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=Zn(e,r,0,!0),f,p=[];if(rr(n[0].barSize)){var m=!1,v=r/s,w=n.reduce((M,L)=>M+(L.barSize||0),0);w+=(s-1)*c,w>=r&&(w-=(s-1)*c,c=0),w>=r&&v>0&&(m=!0,v*=.9,w=s*v);var S=(r-w)/2>>0,_={offset:S-c,size:0};f=n.reduce((M,L)=>{var R,z={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:_.offset+_.size+c,size:m?v:(R=L.barSize)!==null&&R!==void 0?R:0}},W=[...M,z];return _=W[W.length-1].position,W},p)}else{var I=Zn(t,r,0,!0);r-2*I-(s-1)*c<=0&&(c=0);var N=(r-2*I-(s-1)*c)/s;N>1&&(N>>=0);var k=rr(i)?Math.min(N,i):N;f=n.reduce((M,L,R)=>[...M,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:I+(N+c)*R+(N-k)/2,size:k}}],p)}return f}}var PX=(e,t,r,n,i,s,c)=>{var f=fr(c)?t:c,p=TX(r,n,i!==s?i:s,e,f);return i!==s&&p!=null&&(p=p.map(m=>Oh(Oh({},m),{},{position:Oh(Oh({},m.position),{},{offset:m.position.offset-i/2})}))),p},kX=(e,t)=>{var r=bw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}};function jX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&rr(e.zIndex)?e.zIndex:t}var kk=e=>{var{chartData:t}=e,r=ir(),n=Un();return O.useEffect(()=>n?()=>{}:(r($C(t)),()=>{r($C(void 0))}),[t,r,n]),null},R3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},jk=xi({name:"brush",initialState:R3,reducers:{setBrushSettings(e,t){return t.payload==null?R3:t.payload}}}),{setBrushSettings:zte}=jk.actions,RX=jk.reducer;function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){Rk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rk(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},BX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return LX({x:t,y:r},{x:n,y:i})};class sm{static create(t){return new sm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Rk(sm,"EPS",1e-4);var FX=e=>{var t=Object.keys(e).reduce((r,n)=>Nh(Nh({},r),{},{[n]:sm.create(e[n])}),{});return Nh(Nh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[c,f]=s;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function UX(e){return(e%180+180)%180}var zX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=UX(i),c=s*Math.PI/180,f=Math.atan(n/r),p=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(p)},$X={dots:[],areas:[],lines:[]},Mk=xi({name:"referenceElements",initialState:$X,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Oa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Oa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Oa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$te,removeDot:Wte,addArea:Vte,removeArea:Hte,addLine:WX,removeLine:VX}=Mk.actions,HX=Mk.reducer,Dk=O.createContext(void 0),qX=e=>{var{children:t}=e,[r]=O.useState("".concat(sd("recharts"),"-clip")),n=Pk();if(n==null)return null;var{x:i,y:s,width:c,height:f}=n;return O.createElement(Dk.Provider,{value:r},O.createElement("defs",null,O.createElement("clipPath",{id:r},O.createElement("rect",{x:i,y:s,height:f,width:c}))),t)},GX=()=>O.useContext(Dk);function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=XX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}var ZX=(e,t)=>{var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!rr(t.x1)||!rr(t.y1)||!rr(t.x2)||!rr(t.y2))return null;r=O.createElement("line",q0({},t,{className:"recharts-reference-line-line"}))}return r},QX=(e,t,r,n,i,s)=>{var{x:c,width:f}=s,p=i.y.apply(e,{position:r});if(Li(p)||t==="discard"&&!i.y.isInRange(p))return null;var m=[{x:c+f,y:p},{x:c,y:p}];return n==="left"?m.reverse():m},JX=(e,t,r,n,i,s)=>{var{y:c,height:f}=s,p=i.x.apply(e,{position:r});if(Li(p)||t==="discard"&&!i.x.isInRange(p))return null;var m=[{x:p,y:c+f},{x:p,y:c}];return n==="top"?m.reverse():m},eY=(e,t,r,n)=>{var i=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&i.some(s=>!n.isInRange(s))?null:i},tY=(e,t,r,n,i,s)=>{var{x:c,y:f,segment:p,ifOverflow:m}=s,v=ia(c),w=ia(f);return w?QX(f,m,r,i,e,t):v?JX(c,m,r,n,e,t):p!=null&&p.length===2?eY(p,m,r,e):null};function rY(e){var t=ir();return O.useEffect(()=>(t(WX(e)),()=>{t(VX(e))})),null}function nY(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:s}=e,c=Un(),f=GX(),p=He(V=>Xa(V,t)),m=He(V=>Ya(V,r)),v=He(V=>jc(V,"xAxis",t,c)),w=He(V=>jc(V,"yAxis",r,c)),S=zc();if(!f||!S||p==null||m==null||v==null||w==null)return null;var _=FX({x:v,y:w}),I=tY(_,S,e.position,p.orientation,m.orientation,e);if(!I)return null;var[{x:N,y:k},{x:M,y:L}]=I,R=s==="hidden"?"url(#".concat(f,")"):void 0,z=L3(L3({clipPath:R},Di(e)),{},{x1:N,y1:k,x2:M,y2:L}),W=BX({x1:N,y1:k,x2:M,y2:L});return O.createElement(yi,{zIndex:e.zIndex},O.createElement(Kr,{className:Ht("recharts-reference-line",i)},ZX(n,z),O.createElement(pk,q0({},W,{lowerWidth:W.width,upperWidth:W.width}),O.createElement(gk,{label:e.label}),e.children)))}var iY={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:nn.line};function Lk(e){var t=Xr(e,iY);return O.createElement(O.Fragment,null,O.createElement(rY,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),O.createElement(nY,t))}Lk.displayName="ReferenceLine";function Bk(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function aY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zX(n,r)}function sY(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:f}=e;return t===1?{start:n?i:s,end:n?i+c:s+f}:{start:n?i+c:s+f,end:n?i:s}}function wd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function oY(e,t){return Bk(e,t+1)}function lY(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:f}=t,p=0,m=1,v=c,w=function(){var I=n?.[p];if(I===void 0)return{v:Bk(n,m)};var N=p,k,M=()=>(k===void 0&&(k=r(I,N)),k),L=I.coordinate,R=p===0||wd(e,L,M,v,f);R||(p=0,v=c,m+=1),R&&(v=L+e*(M()/2+i),p+=m)},S;m<=s.length;)if(S=w(),S)return S.v;return[]}function cY(e,t,r,n,i){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:f,end:p}=t,m=1;m<=c;m++){for(var v=(c-1)%m,w=f,S=!0,_=function(){var L=n[I],R=I,z,W=()=>(z===void 0&&(z=r(L,R)),z),V=L.coordinate,H=I===v||wd(e,V,W,w,p);if(!H)return S=!1,1;H&&(w=V+e*(W()/2+i))},I=v;I<c&&!_();I+=m);if(S){for(var N=[],k=v;k<c;k+=m)N.push(n[k]);return N}}return[]}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:f}=t,{end:p}=t,m=function(S){var _=s[S],I,N=()=>(I===void 0&&(I=r(_,S)),I);if(S===c-1){var k=e*(_.coordinate+e*N()/2-p);s[S]=_=Xn(Xn({},_),{},{tickCoord:k>0?_.coordinate-k*e:_.coordinate})}else s[S]=_=Xn(Xn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var M=wd(e,_.tickCoord,N,f,p);M&&(p=_.tickCoord-e*(N()/2+i),s[S]=Xn(Xn({},_),{},{isShow:!0}))}},v=c-1;v>=0;v--)m(v);return s}function pY(e,t,r,n,i,s){var c=(n||[]).slice(),f=c.length,{start:p,end:m}=t;if(s){var v=n[f-1],w=r(v,f-1),S=e*(v.coordinate+e*w/2-m);if(c[f-1]=v=Xn(Xn({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate}),v.tickCoord!=null){var _=wd(e,v.tickCoord,()=>w,p,m);_&&(m=v.tickCoord-e*(w/2+i),c[f-1]=Xn(Xn({},v),{},{isShow:!0}))}}for(var I=s?f-1:f,N=function(L){var R=c[L],z,W=()=>(z===void 0&&(z=r(R,L)),z);if(L===0){var V=e*(R.coordinate-e*W()/2-p);c[L]=R=Xn(Xn({},R),{},{tickCoord:V<0?R.coordinate-V*e:R.coordinate})}else c[L]=R=Xn(Xn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var H=wd(e,R.tickCoord,W,p,m);H&&(p=R.tickCoord+e*(W()/2+i),c[L]=Xn(Xn({},R),{},{isShow:!0}))}},k=0;k<I;k++)N(k);return c}function sb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:f,interval:p,tickFormatter:m,unit:v,angle:w}=e;if(!i||!i.length||!n)return[];if(Je(p)||Rp.isSsr){var S;return(S=oY(i,Je(p)?p:0))!==null&&S!==void 0?S:[]}var _=[],I=f==="top"||f==="bottom"?"width":"height",N=v&&I==="width"?Qu(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(R,z)=>{var W=typeof m=="function"?m(R.value,z):R.value;return I==="width"?aY(Qu(W,{fontSize:t,letterSpacing:r}),N,w):Qu(W,{fontSize:t,letterSpacing:r})[I]},M=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,L=sY(s,M,I);return p==="equidistantPreserveStart"?lY(M,L,k,i,c):p==="equidistantPreserveEnd"?cY(M,L,k,i,c):(p==="preserveStart"||p==="preserveStartEnd"?_=pY(M,L,k,i,c,p==="preserveStartEnd"):_=hY(M,L,k,i,c),_.filter(R=>R.isShow))}var mY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>c&&(c=w.width)}});var f=r?r.getBoundingClientRect().width:0,p=i+s,m=c+p+f+(r?n:0);return Math.round(m)}return 0},gY=["axisLine","width","height","className","hide","ticks","axisType"];function vY(e,t){if(e==null)return{};var r,n,i=xY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(null,arguments)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nn.axis};function EY(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:f,otherSvgProps:p}=e;if(!f)return null;var m=tn(tn(tn({},p),Mi(f)),{},{fill:"none"});if(s==="top"||s==="bottom"){var v=+(s==="top"&&!c||s==="bottom"&&c);m=tn(tn({},m),{},{x1:t,y1:r+v*i,x2:t+n,y2:r+v*i})}else{var w=+(s==="left"&&!c||s==="right"&&c);m=tn(tn({},m),{},{x1:t+w*n,y1:r,x2:t+w*n,y2:r+i})}return O.createElement("line",Al({},m,{className:Ht("recharts-cartesian-axis-line",vl(f,"className"))}))}function AY(e,t,r,n,i,s,c,f,p){var m,v,w,S,_,I,N=f?-1:1,k=e.tickSize||c,M=Je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=v=e.coordinate,S=r+ +!f*i,w=S-N*k,I=w-N*p,_=M;break;case"left":w=S=e.coordinate,v=t+ +!f*n,m=v-N*k,_=m-N*p,I=M;break;case"right":w=S=e.coordinate,v=t+ +f*n,m=v+N*k,_=m+N*p,I=M;break;default:m=v=e.coordinate,S=r+ +f*i,w=S+N*k,I=w+N*p,_=M;break}return{line:{x1:m,y1:w,x2:v,y2:S},tick:{x:_,y:I}}}function SY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function _Y(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function CY(e){var{option:t,tickProps:r,value:n}=e,i,s=Ht(r.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(t))i=O.cloneElement(t,tn(tn({},r),{},{className:s}));else if(typeof t=="function")i=t(tn(tn({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Ht(c,t?.className)),i=O.createElement(Qp,Al({},r,{className:c}),n)}return i}var OY=O.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:f,padding:p,tickTextProps:m,orientation:v,mirror:w,x:S,y:_,width:I,height:N,tickSize:k,tickMargin:M,fontSize:L,letterSpacing:R,getTicksConfig:z,events:W,axisType:V}=e,H=sb(tn(tn({},z),{},{ticks:r}),L,R),ne=SY(v,w),Y=_Y(v,w),Ae=Mi(z),pe=Cc(n),de={};typeof i=="object"&&(de=i);var Se=tn(tn({},Ae),{},{fill:"none"},de),ke=H.map(oe=>tn({entry:oe},AY(oe,S,_,I,N,v,k,w,M))),re=ke.map(oe=>{var{entry:ve,line:we}=oe;return O.createElement(Kr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},i&&O.createElement("line",Al({},Se,we,{className:Ht("recharts-cartesian-axis-tick-line",vl(i,"className"))})))}),De=ke.map((oe,ve)=>{var{entry:we,tick:be}=oe,Q=tn(tn(tn(tn({textAnchor:ne,verticalAnchor:Y},Ae),{},{stroke:"none",fill:s},pe),be),{},{index:ve,payload:we,visibleTicksCount:H.length,tickFormatter:c,padding:p},m);return O.createElement(Kr,Al({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},Fc(W,we,ve)),n&&O.createElement(CY,{option:n,tickProps:Q,value:"".concat(typeof c=="function"?c(we.value,ve):we.value).concat(f||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},De.length>0&&O.createElement(yi,{zIndex:nn.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:t},De)),re.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},re))}),NY=O.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:f,axisType:p}=e,m=vY(e,gY),[v,w]=O.useState(""),[S,_]=O.useState(""),I=O.useRef(null);O.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return mY({ticks:I.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=O.useCallback(k=>{if(k){var M=k.getElementsByClassName("recharts-cartesian-axis-tick-value");I.current=M;var L=M[0];if(L){var R=window.getComputedStyle(L),z=R.fontSize,W=R.letterSpacing;(z!==v||W!==S)&&(w(z),_(W))}}},[v,S]);return c||n!=null&&n<=0||i!=null&&i<=0?null:O.createElement(yi,{zIndex:e.zIndex},O.createElement(Kr,{className:Ht("recharts-cartesian-axis",s)},O.createElement(EY,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Mi(e)}),O.createElement(OY,{ref:N,axisType:p,events:m,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),O.createElement(pk,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},O.createElement(gk,{label:e.label,labelRef:e.labelRef}),e.children)))}),ob=O.forwardRef((e,t)=>{var r=Xr(e,As);return O.createElement(NY,Al({},r,{ref:t}))});ob.displayName="CartesianAxis";var IY=["x1","y1","x2","y2","key"],TY=["offset"],PY=["xAxisId","yAxisId"],kY=["xAxisId","yAxisId"];function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}function G0(e,t){if(e==null)return{};var r,n,i=DY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:f}=e;return O.createElement("rect",{x:n,y:i,ry:f,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Fk(e){var{option:t,lineItemProps:r}=e,n;if(O.isValidElement(t))n=O.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:f,y2:p,key:m}=r,v=G0(r,IY),w=(i=Mi(v))!==null&&i!==void 0?i:{},{offset:S}=w,_=G0(w,TY);n=O.createElement("line",dl({},_,{x1:s,y1:c,x2:f,y2:p,fill:"none",key:m}))}return n}function BY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,PY),p=i.map((m,v)=>{var w=Yn(Yn({},f),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(v),index:v});return O.createElement(Fk,{key:"line-".concat(v),option:n,lineItemProps:w})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function FY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,kY),p=i.map((m,v)=>{var w=Yn(Yn({},f),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(v),index:v});return O.createElement(Fk,{option:n,lineItemProps:w,key:"line-".concat(v)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function UY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:f,horizontal:p=!0}=e;if(!p||!t||!t.length||f==null)return null;var m=f.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==m[0]&&m.unshift(0);var v=m.map((w,S)=>{var _=!m[S+1],I=_?i+c-w:m[S+1]-w;if(I<=0)return null;var N=S%t.length;return O.createElement("rect",{key:"react-".concat(S),y:w,x:n,height:I,width:s,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function zY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:f,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var m=p.map(w=>Math.round(w+i-i)).sort((w,S)=>w-S);i!==m[0]&&m.unshift(0);var v=m.map((w,S)=>{var _=!m[S+1],I=_?i+c-w:m[S+1]-w;if(I<=0)return null;var N=S%r.length;return O.createElement("rect",{key:"react-".concat(S),x:w,y:s,width:I,height:f,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var $Y=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return OT(sb(Yn(Yn(Yn({},As),r),{},{ticks:NT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},WY=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return OT(sb(Yn(Yn(Yn({},As),r),{},{ticks:NT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},VY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nn.grid};function K0(e){var t=By(),r=Fy(),n=RT(),i=Yn(Yn({},Xr(e,VY)),{},{x:Je(e.x)?e.x:n.left,y:Je(e.y)?e.y:n.top,width:Je(e.width)?e.width:n.width,height:Je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:f,y:p,width:m,height:v,syncWithTicks:w,horizontalValues:S,verticalValues:_}=i,I=Un(),N=He(Y=>TC(Y,"xAxis",s,I)),k=He(Y=>TC(Y,"yAxis",c,I));if(!qa(m)||!qa(v)||!Je(f)||!Je(p))return null;var M=i.verticalCoordinatesGenerator||$Y,L=i.horizontalCoordinatesGenerator||WY,{horizontalPoints:R,verticalPoints:z}=i;if((!R||!R.length)&&typeof L=="function"){var W=S&&S.length,V=L({yAxis:k?Yn(Yn({},k),{},{ticks:W?S:k.ticks}):void 0,width:t??m,height:r??v,offset:n},W?!0:w);w0(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(R=V)}if((!z||!z.length)&&typeof M=="function"){var H=_&&_.length,ne=M({xAxis:N?Yn(Yn({},N),{},{ticks:H?_:N.ticks}):void 0,width:t??m,height:r??v,offset:n},H?!0:w);w0(Array.isArray(ne),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ne,"]")),Array.isArray(ne)&&(z=ne)}return O.createElement(yi,{zIndex:i.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(LY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(UY,dl({},i,{horizontalPoints:R})),O.createElement(zY,dl({},i,{verticalPoints:z})),O.createElement(BY,dl({},i,{offset:n,horizontalPoints:R,xAxis:N,yAxis:k})),O.createElement(FY,dl({},i,{offset:n,verticalPoints:z,xAxis:N,yAxis:k}))))}K0.displayName="CartesianGrid";var HY={},Uk=xi({name:"errorBars",initialState:HY,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:qte,replaceErrorBar:Gte,removeErrorBar:Kte}=Uk.actions,qY=Uk.reducer,GY=["children"];function KY(e,t){if(e==null)return{};var r,n,i=XY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZY=O.createContext(YY);function zk(e){var{children:t}=e,r=KY(e,GY);return O.createElement(ZY.Provider,{value:r},t)}function lb(e,t){var r,n,i=He(m=>Xa(m,e)),s=He(m=>Ya(m,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:_n.allowDataOverflow,f=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Cn.allowDataOverflow,p=c||f;return{needClip:p,needClipX:c,needClipY:f}}function $k(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Pk(),{needClipX:s,needClipY:c,needClip:f}=lb(t,r);if(!f||!i)return null;var{x:p,y:m,width:v,height:w}=i;return O.createElement("clipPath",{id:"clipPath-".concat(n)},O.createElement("rect",{x:s?p:p-v/2,y:c?m:m-w/2,width:s?v:v*2,height:c?w:w*2}))}var bv={exports:{}},Ev={};var z3;function QY(){if(z3)return Ev;z3=1;var e=Rc();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Ev.useSyncExternalStoreWithSelector=function(p,m,v,w,S){var _=i(null);if(_.current===null){var I={hasValue:!1,value:null};_.current=I}else I=_.current;_=c(function(){function k(W){if(!M){if(M=!0,L=W,W=w(W),S!==void 0&&I.hasValue){var V=I.value;if(S(V,W))return R=V}return R=W}if(V=R,r(L,W))return V;var H=w(W);return S!==void 0&&S(V,H)?(L=W,V):(L=W,R=H)}var M=!1,L,R,z=v===void 0?null:v;return[function(){return k(m())},z===null?void 0:function(){return k(z())}]},[m,v,w,S]);var N=n(p,_[0],_[1]);return s(function(){I.hasValue=!0,I.value=N},[N]),f(N),N},Ev}var $3;function JY(){return $3||($3=1,bv.exports=QY()),bv.exports}JY();function eZ(e){e()}function tZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var W3={notify(){},get:()=>[]};function rZ(e,t){let r,n=W3,i=0,s=!1;function c(N){v();const k=n.subscribe(N);let M=!1;return()=>{M||(M=!0,k(),w())}}function f(){n.notify()}function p(){I.onStateChange&&I.onStateChange()}function m(){return s}function v(){i++,r||(r=e.subscribe(p),n=tZ())}function w(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=W3)}function S(){s||(s=!0,v())}function _(){s&&(s=!1,w())}const I={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:S,tryUnsubscribe:_,getListeners:()=>n};return I}var nZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iZ=nZ(),aZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sZ=aZ(),oZ=()=>iZ||sZ?O.useLayoutEffect:O.useEffect,lZ=oZ();function V3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cZ(e,t){if(V3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!V3(e[r[i]],t[r[i]]))return!1;return!0}var uZ=Symbol.for("react-redux-context"),dZ=typeof globalThis<"u"?globalThis:{};function fZ(){if(!O.createContext)return{};const e=dZ[uZ]??=new Map;let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var hZ=fZ();function pZ(e){const{children:t,context:r,serverState:n,store:i}=e,s=O.useMemo(()=>{const p=rZ(i);return{store:i,subscription:p,getServerState:n?()=>n:void 0}},[i,n]),c=O.useMemo(()=>i.getState(),[i]);lZ(()=>{const{subscription:p}=s;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[s,c]);const f=r||hZ;return O.createElement(f.Provider,{value:s},t)}var mZ=pZ,gZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function om(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(gZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cZ(e[n],t[n]))return!1}else if(!vZ(e[n],t[n]))return!1;return!0}function Tl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Ik}function Pl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Ik}var xZ="Invariant failed";function yZ(e,t){throw new Error(xZ)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function X0(e){return O.createElement(H0,Ux({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var wZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Je(t))return t;var s=Je(n)||fr(n);return s?t(n,i):(s||yZ(),r)}},bZ=(e,t,r)=>r,EZ=(e,t)=>t,Kd=ce([Gp,EZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),AZ=ce([Kd],e=>e?.maxBarSize),SZ=(e,t,r,n)=>n,_Z=ce([zt,Gp,Tl,Pl,bZ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),CZ=(e,t,r)=>{var n=zt(e),i=Tl(e,t),s=Pl(e,t);if(!(i==null||s==null))return n==="horizontal"?jx(e,"yAxis",s,r):jx(e,"xAxis",i,r)},OZ=(e,t)=>{var r=zt(e),n=Tl(e,t),i=Pl(e,t);if(!(n==null||i==null))return r==="horizontal"?IC(e,"xAxis",n):IC(e,"yAxis",i)},NZ=ce([_Z,_W,OZ],CX),IZ=(e,t,r)=>{var n,i,s=Kd(e,t);if(s!=null){var c=Tl(e,t),f=Pl(e,t);if(!(c==null||f==null)){var p=zt(e),m=Y4(e),{maxBarSize:v}=s,w=fr(v)?m:v,S,_;return p==="horizontal"?(S=xo(e,"xAxis",c,r),_=vo(e,"xAxis",c,r)):(S=xo(e,"yAxis",f,r),_=vo(e,"yAxis",f,r)),(n=(i=y0(S,_,!0))!==null&&i!==void 0?i:w)!==null&&n!==void 0?n:0}}},Wk=(e,t,r)=>{var n=zt(e),i=Tl(e,t),s=Pl(e,t);if(!(i==null||s==null)){var c,f;return n==="horizontal"?(c=xo(e,"xAxis",i,r),f=vo(e,"xAxis",i,r)):(c=xo(e,"yAxis",s,r),f=vo(e,"yAxis",s,r)),y0(c,f)}},TZ=ce([NZ,Y4,SW,Z4,IZ,Wk,AZ],PX),PZ=(e,t,r)=>{var n=Tl(e,t);if(n!=null)return xo(e,"xAxis",n,r)},kZ=(e,t,r)=>{var n=Pl(e,t);if(n!=null)return xo(e,"yAxis",n,r)},jZ=(e,t,r)=>{var n=Tl(e,t);if(n!=null)return vo(e,"xAxis",n,r)},RZ=(e,t,r)=>{var n=Pl(e,t);if(n!=null)return vo(e,"yAxis",n,r)},MZ=ce([TZ,Kd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),DZ=ce([CZ,Kd],kX),LZ=ce([pn,Dy,PZ,kZ,jZ,RZ,MZ,zt,fW,Wk,DZ,Kd,SZ],(e,t,r,n,i,s,c,f,p,m,v,w,S)=>{var{chartData:_,dataStartIndex:I,dataEndIndex:N}=p;if(!(w==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:k}=w,M;if(k!=null&&k.length>0?M=k:M=_?.slice(I,N+1),M!=null)return fQ({layout:f,barSettings:w,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:v,displayedData:M,offset:e,cells:S,dataStartIndex:I})}}),BZ=["index"];function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function FZ(e,t){if(e==null)return{};var r,n,i=UZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vk=O.createContext(void 0),zZ=e=>{var t=O.useContext(Vk);if(t!=null)return t.stackId;if(e!=null)return sB(e)},$Z=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),WZ=e=>{var t=O.useContext(Vk);if(t!=null){var{stackId:r}=t;return"url(#".concat($Z(r,e),")")}},VZ=e=>{var{index:t}=e,r=FZ(e,BZ),n=WZ(t);return O.createElement(Kr,zx({className:"recharts-bar-stack-layer",clipPath:n},r))},HZ=["onMouseEnter","onMouseLeave","onClick"],qZ=["value","background","tooltipPosition"],GZ=["id"],KZ=["onMouseEnter","onClick","onMouseLeave"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){XZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y0(e,t){if(e==null)return{};var r,n,i=QZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Uc(r,t),payload:e}]},eQ=O.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Uc(s,t),hide:c,type:p,color:i,unit:f,graphicalItemId:m}};return O.createElement(ib,{tooltipEntrySettings:v})});function tQ(e){var t=He(yo),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:f,onClick:p}=s,m=Y0(s,HZ),v=rm(c,n,s.id),w=nm(f),S=im(p,n,s.id);if(!i||r==null)return null;var _=Cc(i);return O.createElement(yi,{zIndex:jX(i,nn.barBackground)},r.map((I,N)=>{var{value:k,background:M,tooltipPosition:L}=I,R=Y0(I,qZ);if(!M)return null;var z=v(I,N),W=w(I,N),V=S(I,N),H=ni(ni(ni(ni(ni({option:i,isActive:String(N)===t},R),{},{fill:"#eee"},M),_),Fc(m,I,N)),{},{onMouseEnter:z,onMouseLeave:W,onClick:V,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return O.createElement(X0,Ps({key:"background-bar-".concat(N)},H))}))}function rQ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ni(ni({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return O.createElement(xk,{value:t?i:void 0},r)}function nQ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,f=He(yo),p=He(Kw),m=r&&String(s)===f&&(p==null||c===p),v=m?r:t;return m?O.createElement(yi,{zIndex:nn.activeBar},O.createElement(X0,Ps({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))):O.createElement(X0,Ps({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))}function iQ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return O.createElement(X0,Ps({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function aQ(e){var t,{data:r,props:n}=e,i=(t=Mi(n))!==null&&t!==void 0?t:{},{id:s}=i,c=Y0(i,GZ),{shape:f,dataKey:p,activeBar:m}=n,{onMouseEnter:v,onClick:w,onMouseLeave:S}=n,_=Y0(n,KZ),I=rm(v,p,s),N=nm(S),k=im(w,p,s);return r?O.createElement(O.Fragment,null,r.map((M,L)=>O.createElement(VZ,Ps({index:L,key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(L),className:"recharts-bar-rectangle"},Fc(_,M,L),{onMouseEnter:I(M,L),onMouseLeave:N(M,L),onClick:k(M,L)}),m?O.createElement(nQ,{shape:f,activeBar:m,baseProps:c,entry:M,index:L,dataKey:p}):O.createElement(iQ,{shape:f,baseProps:c,entry:M,index:L,dataKey:p})))):null}function sQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,onAnimationEnd:m,onAnimationStart:v}=t,w=r.current,S=Rd(t,"recharts-bar-"),[_,I]=O.useState(!1),N=!_,k=O.useCallback(()=>{typeof m=="function"&&m(),I(!1)},[m]),M=O.useCallback(()=>{typeof v=="function"&&v(),I(!0)},[v]);return O.createElement(rQ,{showLabels:N,rects:n},O.createElement(jd,{animationId:S,begin:c,duration:f,isActive:s,easing:p,onAnimationEnd:k,onAnimationStart:M,key:S},L=>{var R=L===1?n:n?.map((z,W)=>{var V=w&&w[W];if(V)return ni(ni({},z),{},{x:jr(V.x,z.x,L),y:jr(V.y,z.y,L),width:jr(V.width,z.width,L),height:jr(V.height,z.height,L)});if(i==="horizontal"){var H=jr(0,z.height,L),ne=jr(z.stackedBarStart,z.y,L);return ni(ni({},z),{},{y:ne,height:H})}var Y=jr(0,z.width,L),Ae=jr(z.stackedBarStart,z.x,L);return ni(ni({},z),{},{width:Y,x:Ae})});return L>0&&(r.current=R??null),R==null?null:O.createElement(Kr,null,O.createElement(aQ,{props:t,data:R}))}),O.createElement(tb,{label:t.label}),t.children)}function oQ(e){var t=O.useRef(null);return O.createElement(sQ,{previousRectanglesRef:t,props:e})}var Hk=0,lQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Xt(e,t)}};class cQ extends O.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:f,background:p,id:m}=this.props;if(t||r==null)return null;var v=Ht("recharts-bar",i),w=m;return O.createElement(Kr,{className:v,id:m},f&&O.createElement("defs",null,O.createElement($k,{clipPathId:w,xAxisId:s,yAxisId:c})),O.createElement(Kr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(w,")"):void 0},O.createElement(tQ,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),O.createElement(oQ,this.props)))}}var uQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Hk,xAxisId:0,yAxisId:0,zIndex:nn.bar};function dQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v}=e,{needClip:w}=lb(t,r),S=Pd(),_=Un(),I=tm(e.children,El),N=He(L=>LZ(L,e.id,_,I));if(S!=="vertical"&&S!=="horizontal")return null;var k,M=N?.[0];return M==null||M.height==null||M.width==null?k=0:k=S==="vertical"?M.height/2:M.width/2,O.createElement(zk,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:lQ,errorBarOffset:k},O.createElement(cQ,Ps({},e,{layout:S,needClip:w,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v})))}function fQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:f,xAxisTicks:p,yAxisTicks:m,stackedData:v,displayedData:w,offset:S,cells:_,parentViewBox:I,dataStartIndex:N}=e,k=t==="horizontal"?f:c,M=v?k.scale.domain():null,L=oB({numericAxis:k}),R=k.scale(L);return w.map((z,W)=>{var V,H,ne,Y,Ae,pe;if(v){var de=v[W+N];if(de==null)return null;V=tB(de,M)}else V=Xt(z,r),Array.isArray(V)||(V=[L,V]);var Se=wZ(n,Hk)(V[1],W);if(t==="horizontal"){var ke,[re,De]=[f.scale(V[0]),f.scale(V[1])];H=jS({axis:c,ticks:p,bandSize:s,offset:i.offset,entry:z,index:W}),ne=(ke=De??re)!==null&&ke!==void 0?ke:void 0,Y=i.size;var oe=re-De;if(Ae=Li(oe)?0:oe,pe={x:H,y:S.top,width:Y,height:S.height},Math.abs(Se)>0&&Math.abs(Ae)<Math.abs(Se)){var ve=Nn(Ae||Se)*(Math.abs(Se)-Math.abs(Ae));ne-=ve,Ae+=ve}}else{var[we,be]=[c.scale(V[0]),c.scale(V[1])];if(H=we,ne=jS({axis:f,ticks:m,bandSize:s,offset:i.offset,entry:z,index:W}),Y=be-we,Ae=i.size,pe={x:S.left,y:ne,width:S.width,height:Ae},Math.abs(Se)>0&&Math.abs(Y)<Math.abs(Se)){var Q=Nn(Y||Se)*(Math.abs(Se)-Math.abs(Y));Y+=Q}}if(H==null||ne==null||Y==null||Ae==null)return null;var ue=ni(ni({},z),{},{stackedBarStart:R,x:H,y:ne,width:Y,height:Ae,value:v?V:V[1],payload:z,background:pe,tooltipPosition:{x:H+Y/2,y:ne+Ae/2},parentViewBox:I},_&&_[W]&&_[W].props);return ue}).filter(Boolean)}function hQ(e){var t=Xr(e,uQ),r=zZ(t.stackId),n=Un();return O.createElement(ab,{id:t.id,type:"bar"},i=>O.createElement(O.Fragment,null,O.createElement(_k,{legendPayload:JZ(t)}),O.createElement(eQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),O.createElement(Ok,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),O.createElement(yi,{zIndex:t.zIndex},O.createElement(dQ,Ps({},t,{id:i})))))}var Ju=O.memo(hQ,om);Ju.displayName="Bar";var pQ=["option","isActive"];function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(null,arguments)}function mQ(e,t){if(e==null)return{};var r,n,i=gQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vQ(e){var{option:t,isActive:r}=e,n=mQ(e,pQ);return typeof t=="string"?O.createElement(H0,ed({option:O.createElement(pp,ed({type:t},n)),isActive:r,shapeType:"symbols"},n)):O.createElement(H0,ed({option:t,isActive:r,shapeType:"symbols"},n))}var xQ=(e,t,r,n,i,s,c)=>xo(e,"xAxis",t,c),yQ=(e,t,r,n,i,s,c)=>vo(e,"xAxis",t,c),wQ=(e,t,r,n,i,s,c)=>xo(e,"yAxis",r,c),bQ=(e,t,r,n,i,s,c)=>vo(e,"yAxis",r,c),EQ=(e,t,r,n)=>OV(e,"zAxis",n,!1),AQ=(e,t,r,n,i)=>i,SQ=(e,t,r,n,i,s)=>s,_Q=(e,t,r,n,i,s,c)=>fw(e,void 0,void 0,c),CQ=ce([Gp,AQ],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),OQ=ce([_Q,xQ,yQ,wQ,bQ,EQ,CQ,SQ],(e,t,r,n,i,s,c,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=e;if(c!=null){var w;if(c?.data!=null&&c.data.length>0?w=c.data:w=p?.slice(m,v+1),!(w==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return zQ({displayedData:w,xAxis:t,yAxis:n,zAxis:s,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),NQ=["id"],IQ=["onMouseEnter","onClick","onMouseLeave"],TQ=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function $x(e,t){if(e==null)return{};var r,n,i=PQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(null,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){kQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Uc(r,t),payload:e}]},DQ=O.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:s,name:c,hide:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:r?.map(w=>w.tooltipPayload),positions:r?.map(w=>w.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,nameKey:void 0,dataKey:t,name:Uc(c,t),hide:f,type:p,color:s,unit:"",graphicalItemId:m}};return O.createElement(ib,{tooltipEntrySettings:v})});function LQ(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:s}=r;if(!n)return null;var c=Mi(r),f=Cc(n),p,m;if(i==="joint")p=t.map(k=>{var M,L;return{x:(M=k.cx)!==null&&M!==void 0?M:null,y:(L=k.cy)!==null&&L!==void 0?L:null}});else if(i==="fitting"){var{xmin:v,xmax:w,a:S,b:_}=I9(t),I=k=>S*k+_;p=[{x:v,y:I(v)},{x:w,y:I(w)}]}var N=vi(vi(vi({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:p});return O.isValidElement(n)?m=O.cloneElement(n,N):typeof n=="function"?m=n(N):m=O.createElement(jp,Sl({},N,{type:s})),O.createElement(Kr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function BQ(e){var{showLabels:t,points:r,children:n}=e,i=zc(),s=O.useMemo(()=>r?.map(c=>{var f,p,m={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return vi(vi({},m),{},{value:void 0,payload:c.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,r]);return O.createElement(xk,{value:t?s:void 0},n)}function FQ(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:s}=r,{id:c}=r,f=$x(r,NQ),p=He(yo),{onMouseEnter:m,onClick:v,onMouseLeave:w}=r,S=$x(r,IQ),_=rm(m,s,c),I=nm(w),N=im(v,s,c);if(!W9(t))return null;var k=Mi(f);return O.createElement(O.Fragment,null,O.createElement(LQ,{points:t,props:f}),t.map((M,L)=>{var R=i!=null&&i!==!1,z=R&&p===String(L),W=R&&z?i:n,V=vi(vi(vi({},k),M),{},{[Ry]:L,[My]:String(c)});return O.createElement(yi,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(L),zIndex:z?nn.activeDot:void 0},O.createElement(Kr,Sl({className:"recharts-scatter-symbol"},Fc(S,M,L),{onMouseEnter:_(M,L),onMouseLeave:I(M,L),onClick:N(M,L)}),O.createElement(vQ,Sl({option:W,isActive:z},V))))}))}function UQ(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:f}=r,p=t.current,m=Rd(r,"recharts-scatter-"),[v,w]=O.useState(!1),S=O.useCallback(()=>{w(!1)},[]),_=O.useCallback(()=>{w(!0)},[]),I=!v;return O.createElement(BQ,{showLabels:I,points:n},r.children,O.createElement(jd,{animationId:m,begin:s,duration:c,isActive:i,easing:f,onAnimationEnd:S,onAnimationStart:_,key:m},N=>{var k=N===1?n:n?.map((M,L)=>{var R=p&&p[L];return R?vi(vi({},M),{},{cx:M.cx==null?void 0:jr(R.cx,M.cx,N),cy:M.cy==null?void 0:jr(R.cy,M.cy,N),size:jr(R.size,M.size,N)}):vi(vi({},M),{},{size:jr(0,M.size,N)})});return N>0&&(t.current=k),O.createElement(Kr,null,O.createElement(FQ,{points:k,allOtherScatterProps:r,showLabels:I}))}),O.createElement(tb,{label:r.label}))}function zQ(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:f,cells:p}=e,m=fr(r.dataKey)?s.dataKey:r.dataKey,v=fr(n.dataKey)?s.dataKey:n.dataKey,w=i&&i.dataKey,S=i?i.range:lP.range,_=S&&S[0],I=r.scale.bandwidth?r.scale.bandwidth():0,N=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((k,M)=>{var L=Xt(k,m),R=Xt(k,v),z=!fr(w)&&Xt(k,w)||"-",W=[{name:fr(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:L,payload:k,dataKey:m,type:s.tooltipType},{name:fr(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:R,payload:k,dataKey:v,type:s.tooltipType}];z!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:z,payload:k,dataKey:w,type:s.tooltipType});var V=kS({axis:r,ticks:c,bandSize:I,entry:k,index:M,dataKey:m}),H=kS({axis:n,ticks:f,bandSize:N,entry:k,index:M,dataKey:v}),ne=z!=="-"?i.scale(z):_,Y=Math.sqrt(Math.max(ne,0)/Math.PI);return vi(vi({},k),{},{cx:V,cy:H,x:V==null?void 0:V-Y,y:H==null?void 0:H-Y,width:2*Y,height:2*Y,size:ne,node:{x:L,y:R,z},tooltipPayload:W,tooltipPosition:{x:V,y:H},payload:k},p&&p[M]&&p[M].props)})}var $Q=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Xt(e,t)});function WQ(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:s,yAxisId:c,id:f}=e,p=O.useRef(null);if(t)return null;var m=Ht("recharts-scatter",n),v=f;return O.createElement(yi,{zIndex:e.zIndex},O.createElement(Kr,{className:m,clipPath:i?"url(#clipPath-".concat(v,")"):void 0,id:f},i&&O.createElement("defs",null,O.createElement($k,{clipPathId:v,xAxisId:s,yAxisId:c})),O.createElement(zk,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:$Q,errorBarOffset:0},O.createElement(Kr,{key:"recharts-scatter-symbols"},O.createElement(UQ,{props:e,previousPointsRef:p})))))}var qk={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:nn.scatter};function VQ(e){var t=Xr(e,qk),{animationBegin:r,animationDuration:n,animationEasing:i,hide:s,isAnimationActive:c,legendType:f,lineJointType:p,lineType:m,shape:v,xAxisId:w,yAxisId:S,zAxisId:_}=t,I=$x(t,TQ),{needClip:N}=lb(w,S),k=O.useMemo(()=>tm(e.children,El),[e.children]),M=Un(),L=He(R=>OQ(R,w,S,_,e.id,k,M));return N==null||L==null?null:O.createElement(O.Fragment,null,O.createElement(DQ,{dataKey:e.dataKey,points:L,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),O.createElement(WQ,Sl({},I,{xAxisId:w,yAxisId:S,zAxisId:_,lineType:m,lineJointType:p,legendType:f,shape:v,hide:s,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:L,needClip:N})))}function HQ(e){var t=Xr(e,qk),r=Un();return O.createElement(ab,{id:t.id,type:"scatter"},n=>O.createElement(O.Fragment,null,O.createElement(_k,{legendPayload:MQ(t)}),O.createElement(Ok,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),O.createElement(VQ,Sl({},t,{id:n}))))}var Gk=O.memo(HQ,om);Gk.displayName="Scatter";var qQ=["domain","range"],GQ=["domain","range"];function G3(e,t){if(e==null)return{};var r,n,i=KQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Kk(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=G3(e,qQ),{domain:s,range:c}=t,f=G3(t,GQ);return!K3(r,s)||!K3(n,c)?!1:om(i,f)}var XQ=["dangerouslySetInnerHTML","ticks","scale"],YQ=["id","scale"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function X3(e,t){if(e==null)return{};var r,n,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QQ(e){var t=ir(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(gX(e)):r.current!==e&&t(vX({prev:r.current,next:e})),r.current=e},[e,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(xX(r.current)),r.current=null)},[t]),null}var JQ=e=>{var{xAxisId:t,className:r}=e,n=He(Dy),i=Un(),s="xAxis",c=He(M=>TP(M,s,t,i)),f=He(M=>CP(M,t)),p=He(M=>bV(M,t)),m=He(M=>sP(M,t));if(f==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:w,scale:S}=e,_=X3(e,XQ),{id:I,scale:N}=m,k=X3(m,YQ);return O.createElement(ob,Wx({},_,k,{x:p.x,y:p.y,width:f.width,height:f.height,className:Ht("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},eJ={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,angle:_n.angle,axisLine:As.axisLine,height:_n.height,hide:!1,includeHidden:_n.includeHidden,interval:_n.interval,minTickGap:_n.minTickGap,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:_n.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:_n.type,xAxisId:0},tJ=e=>{var t=Xr(e,eJ);return O.createElement(O.Fragment,null,O.createElement(QQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),O.createElement(JQ,t))},Z0=O.memo(tJ,Kk);Z0.displayName="XAxis";var rJ=["dangerouslySetInnerHTML","ticks","scale"],nJ=["id","scale"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function Y3(e,t){if(e==null)return{};var r,n,i=iJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aJ(e){var t=ir(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(yX(e)):r.current!==e&&t(wX({prev:r.current,next:e})),r.current=e},[e,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(bX(r.current)),r.current=null)},[t]),null}var sJ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=O.useRef(null),c=O.useRef(null),f=He(Dy),p=Un(),m=ir(),v="yAxis",w=He(V=>OP(V,t)),S=He(V=>AV(V,t)),_=He(V=>TP(V,v,t,p)),I=He(V=>oP(V,t));if(O.useLayoutEffect(()=>{if(!(n!=="auto"||!w||eb(i)||O.isValidElement(i)||I==null)){var V=s.current;if(V){var H=V.getCalculatedWidth();Math.round(w.width)!==Math.round(H)&&m(EX({id:t,width:H}))}}},[_,w,m,i,t,n,I]),w==null||S==null||I==null)return null;var{dangerouslySetInnerHTML:N,ticks:k,scale:M}=e,L=Y3(e,rJ),{id:R,scale:z}=I,W=Y3(I,nJ);return O.createElement(ob,Vx({},L,W,{ref:s,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:w.width,height:w.height,className:Ht("recharts-".concat(v," ").concat(v),r),viewBox:f,ticks:_,axisType:v}))},oJ={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,angle:Cn.angle,axisLine:As.axisLine,hide:!1,includeHidden:Cn.includeHidden,interval:Cn.interval,minTickGap:Cn.minTickGap,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:Cn.type,width:Cn.width,yAxisId:0},lJ=e=>{var t=Xr(e,oJ);return O.createElement(O.Fragment,null,O.createElement(aJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),O.createElement(sJ,t))},Q0=O.memo(lJ,Kk);Q0.displayName="YAxis";var cJ=(e,t)=>t,cb=ce([cJ,zt,iP,gn,qP,Ls,FH,pn],qH),ub=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Xk=aa("mouseClick"),Yk=Id();Yk.startListening({actionCreator:Xk,effect:(e,t)=>{var r=e.payload,n=cb(t.getState(),ub(r));n?.activeIndex!=null&&t.dispatch(BV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hx=aa("mouseMove"),Zk=Id(),Ih=null;Zk.startListening({actionCreator:Hx,effect:(e,t)=>{var r=e.payload;Ih!==null&&cancelAnimationFrame(Ih);var n=ub(r);Ih=requestAnimationFrame(()=>{var i=t.getState(),s=$w(i,i.tooltip.settings.shared);if(s==="axis"){var c=cb(i,n);c?.activeIndex!=null?t.dispatch(BP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(LP())}Ih=null})}});function uJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Z3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Qk=xi({name:"rootProps",initialState:Z3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Z3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),dJ=Qk.reducer,{updateOptions:fJ}=Qk.actions,Jk=xi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hJ}=Jk.actions,pJ=Jk.reducer,e8=aa("keyDown"),t8=aa("focus"),db=Id();db.startListening({actionCreator:e8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Ww(i,Yc(r),Wd(r),qd(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var p=Ls(r);if(s==="Enter"){var m=z0(r,"axis","hover",String(i.index));t.dispatch(Mx({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var v=NV(r),w=v==="left-to-right"?1:-1,S=s==="ArrowRight"?1:-1,_=f+S*w;if(!(p==null||_>=p.length||_<0)){var I=z0(r,"axis","hover",String(_));t.dispatch(Mx({active:!0,activeIndex:_.toString(),activeCoordinate:I}))}}}}}});db.startListening({actionCreator:t8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=z0(r,"axis","hover",String(s));t.dispatch(Mx({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var ta=aa("externalEvent"),r8=Id(),Av=new Map;r8.startListening({actionCreator:ta,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Av.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var f=t.getState(),p={activeCoordinate:SH(f),activeDataKey:Kw(f),activeIndex:yo(f),activeLabel:XP(f),activeTooltipIndex:yo(f),isTooltipActive:_H(f)};r(p,n)}finally{Av.delete(i)}});Av.set(i,c)}}});var mJ=ce([Kc],e=>e.tooltipItemPayloads),gJ=ce([mJ,Hd,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),n8=aa("touchMove"),i8=Id();i8.startListening({actionCreator:n8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=$w(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var c=cb(n,ub({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(BP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var v=m.getAttribute(Ry),w=(f=m.getAttribute(My))!==null&&f!==void 0?f:void 0,S=Xc(n).find(N=>N.id===w);if(v==null||S==null||w==null)return;var{dataKey:_}=S,I=gJ(n,v,w);t.dispatch(DP({activeDataKey:_,activeIndex:v,activeCoordinate:I,activeGraphicalItemId:w}))}}}});var vJ=QI({brush:RX,cartesianAxis:AX,chartData:Aq,errorBars:qY,graphicalItems:BK,layout:XL,legend:nF,options:xq,polarAxis:QG,polarOptions:pJ,referenceElements:HX,rootProps:dJ,tooltip:FV,zIndex:sq}),xJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return wL({reducer:vJ,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Yk.middleware,Zk.middleware,db.middleware,r8.middleware,i8.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(hT({type:"raf"}))},devTools:{serialize:{replacer:uJ},name:"recharts-".concat(r)}})};function a8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Un(),s=O.useRef(null);if(i)return r;s.current==null&&(s.current=xJ(t,n));var c=Oy;return O.createElement(mZ,{context:c,store:s.current},r)}function yJ(e){var{layout:t,margin:r}=e,n=ir(),i=Un();return O.useEffect(()=>{i||(n(qL(t)),n(HL(r)))},[n,i,t,r]),null}var s8=O.memo(yJ,om);function o8(e){var t=ir();return O.useEffect(()=>{t(fJ(e))},[t,e]),null}function Q3(e){var{zIndex:t,isPanorama:r}=e,n=O.useRef(null),i=ir();return O.useLayoutEffect(()=>(n.current&&i(iq({zIndex:t,element:n.current,isPanorama:r})),()=>{i(aq({zIndex:t,isPanorama:r}))}),[i,t,r]),O.createElement("g",{tabIndex:-1,ref:n})}function J3(e){var{children:t,isPanorama:r}=e,n=He(KH);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return O.createElement(O.Fragment,null,i.map(c=>O.createElement(Q3,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>O.createElement(Q3,{key:c,zIndex:c,isPanorama:r})))}var wJ=["children"];function bJ(e,t){if(e==null)return{};var r,n,i=EJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(null,arguments)}var AJ={width:"100%",height:"100%",display:"block"},SJ=O.forwardRef((e,t)=>{var r=By(),n=Fy(),i=HT();if(!qa(r)||!qa(n))return null;var{children:s,otherAttributes:c,title:f,desc:p}=e,m,v;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0),O.createElement(yy,J0({},c,{title:f,desc:p,role:v,tabIndex:m,width:r,height:n,style:AJ,ref:t}),s)}),_J=e=>{var{children:t}=e,r=He(Np);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return O.createElement(yy,{width:n,height:i,x:c,y:s},t)},eO=O.forwardRef((e,t)=>{var{children:r}=e,n=bJ(e,wJ),i=Un();return i?O.createElement(_J,null,O.createElement(J3,{isPanorama:!0},r)):O.createElement(SJ,J0({ref:t},n),O.createElement(J3,{isPanorama:!1},r))});function CJ(){var e=ir(),[t,r]=O.useState(null),n=He(hB);return O.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;rr(s)&&s!==n&&e(KL(s))}},[t,e,n]),r}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){NJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NJ(e,t,r){return(t=IJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(null,arguments)}var PJ=()=>(kq(),null);function ep(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var kJ=O.forwardRef((e,t)=>{var r,n,i=O.useRef(null),[s,c]=O.useState({containerWidth:ep((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ep((n=e.style)===null||n===void 0?void 0:n.height)}),f=O.useCallback((m,v)=>{c(w=>{var S=Math.round(m),_=Math.round(v);return w.containerWidth===S&&w.containerHeight===_?w:{containerWidth:S,containerHeight:_}})},[]),p=O.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:v,height:w}=m.getBoundingClientRect();f(v,w);var S=I=>{var{width:N,height:k}=I[0].contentRect;f(N,k)},_=new ResizeObserver(S);_.observe(m),i.current=_}},[t,f]);return O.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[f]),O.createElement(O.Fragment,null,O.createElement(Ip,{width:s.containerWidth,height:s.containerHeight}),O.createElement("div",_l({ref:p},e)))}),jJ=O.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=O.useState({containerWidth:ep(r),containerHeight:ep(n)}),c=O.useCallback((p,m)=>{s(v=>{var w=Math.round(p),S=Math.round(m);return v.containerWidth===w&&v.containerHeight===S?v:{containerWidth:w,containerHeight:S}})},[]),f=O.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:m,height:v}=p.getBoundingClientRect();c(m,v)}},[t,c]);return O.createElement(O.Fragment,null,O.createElement(Ip,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",_l({ref:f},e)))}),RJ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return O.createElement(O.Fragment,null,O.createElement(Ip,{width:r,height:n}),O.createElement("div",_l({ref:t},e)))}),MJ=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return _s(r)||_s(n)?O.createElement(jJ,_l({},e,{ref:t})):O.createElement(RJ,_l({},e,{ref:t}))});function DJ(e){return e===!0?kJ:MJ}var LJ=O.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:f,onMouseDown:p,onMouseEnter:m,onMouseLeave:v,onMouseMove:w,onMouseUp:S,onTouchEnd:_,onTouchMove:I,onTouchStart:N,style:k,width:M,responsive:L,dispatchTouchEvents:R=!0}=e,z=O.useRef(null),W=ir(),[V,H]=O.useState(null),[ne,Y]=O.useState(null),Ae=CJ(),pe=Ly(),de=pe?.width>0?pe.width:M,Se=pe?.height>0?pe.height:i,ke=O.useCallback(ge=>{Ae(ge),typeof t=="function"&&t(ge),H(ge),Y(ge),ge!=null&&(z.current=ge)},[Ae,t,H,Y]),re=O.useCallback(ge=>{W(Xk(ge)),W(ta({handler:s,reactEvent:ge}))},[W,s]),De=O.useCallback(ge=>{W(Hx(ge)),W(ta({handler:m,reactEvent:ge}))},[W,m]),oe=O.useCallback(ge=>{W(LP()),W(ta({handler:v,reactEvent:ge}))},[W,v]),ve=O.useCallback(ge=>{W(Hx(ge)),W(ta({handler:w,reactEvent:ge}))},[W,w]),we=O.useCallback(()=>{W(t8())},[W]),be=O.useCallback(ge=>{W(e8(ge.key))},[W]),Q=O.useCallback(ge=>{W(ta({handler:c,reactEvent:ge}))},[W,c]),ue=O.useCallback(ge=>{W(ta({handler:f,reactEvent:ge}))},[W,f]),Be=O.useCallback(ge=>{W(ta({handler:p,reactEvent:ge}))},[W,p]),Le=O.useCallback(ge=>{W(ta({handler:S,reactEvent:ge}))},[W,S]),Ye=O.useCallback(ge=>{W(ta({handler:N,reactEvent:ge}))},[W,N]),Ne=O.useCallback(ge=>{R&&W(n8(ge)),W(ta({handler:I,reactEvent:ge}))},[W,R,I]),lt=O.useCallback(ge=>{W(ta({handler:_,reactEvent:ge}))},[W,_]),nt=DJ(L);return O.createElement(rk.Provider,{value:V},O.createElement(pI.Provider,{value:ne},O.createElement(nt,{width:de??k?.width,height:Se??k?.height,className:Ht("recharts-wrapper",n),style:OJ({position:"relative",cursor:"default",width:de,height:Se},k),onClick:re,onContextMenu:Q,onDoubleClick:ue,onFocus:we,onKeyDown:be,onMouseDown:Be,onMouseEnter:De,onMouseLeave:oe,onMouseMove:ve,onMouseUp:Le,onTouchEnd:lt,onTouchMove:Ne,onTouchStart:Ye,ref:ke},O.createElement(PJ,null),r)))}),BJ=["width","height","responsive","children","className","style","compact","title","desc"];function FJ(e,t){if(e==null)return{};var r,n,i=UJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l8=O.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:f,compact:p,title:m,desc:v}=e,w=FJ(e,BJ),S=Mi(w);return p?O.createElement(O.Fragment,null,O.createElement(Ip,{width:r,height:n}),O.createElement(eO,{otherAttributes:S,title:m,desc:v},s)):O.createElement(LJ,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},O.createElement(eO,{otherAttributes:S,title:m,desc:v,ref:t},O.createElement(qX,null,s)))});function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}var zJ={top:5,right:5,bottom:5,left:5},$J={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zJ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},c8=O.forwardRef(function(t,r){var n,i=Xr(t.categoricalChartProps,$J),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:m}=t,v={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return O.createElement(a8,{preloadedState:{options:v},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},O.createElement(kk,{chartData:m.data}),O.createElement(s8,{layout:i.layout,margin:i.margin}),O.createElement(o8,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(l8,qx({},i,{ref:r})))}),WJ=["axis","item"],u8=O.forwardRef((e,t)=>O.createElement(c8,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:WJ,tooltipPayloadSearcher:Jw,categoricalChartProps:e,ref:t}));function VJ(e){var t=ir();return O.useEffect(()=>{t(hJ(e))},[t,e]),null}var HJ=["layout"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}function qJ(e,t){if(e==null)return{};var r,n,i=GJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KJ={top:5,right:5,bottom:5,left:5},d8={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:KJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},XJ=O.forwardRef(function(t,r){var n,i=Xr(t.categoricalChartProps,d8),{layout:s}=i,c=qJ(i,HJ),{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v}=t,w={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return O.createElement(a8,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},O.createElement(kk,{chartData:i.data}),O.createElement(s8,{layout:s,margin:i.margin}),O.createElement(o8,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(VJ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),O.createElement(l8,Gx({},c,{ref:r})))});function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JJ=["item"],eee=nO(nO({},d8),{},{layout:"centric",startAngle:0,endAngle:360}),tee=O.forwardRef((e,t)=>{var r=Xr(e,eee);return O.createElement(XJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:JJ,tooltipPayloadSearcher:Jw,categoricalChartProps:r,ref:t})}),ree=["item"],nee=O.forwardRef((e,t)=>O.createElement(c8,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ree,tooltipPayloadSearcher:Jw,categoricalChartProps:e,ref:t}));const iee=({transactions:e,expenses:t,timeRange:r,onTimeRangeChange:n})=>{const[i,s]=O.useState([]),[c,f]=O.useState({invested:0,recovered:0}),[p,m]=O.useState([]);O.useEffect(()=>{v()},[e,t]);const v=()=>{const w={Style:{sales:0,cost:0,extras:0,count:0},Perfum:{sales:0,cost:0,extras:0,count:0},"Amor Amor":{sales:0,cost:0,extras:0,count:0}};e.forEach(N=>{let k="Style";if(N.type==="product"?N.description?.includes("Regalito")||N.description?.includes("Amor")?k="Amor Amor":(k="Perfum",Va.find(M=>N.description?.includes(M.name))):k="Style",w[k]){const M=w[k];M.sales+=N.amount,M.extras+=N.additional_cost||0,M.count+=1,M.cost+=0}});const S=Object.keys(w).map(N=>{const k=w[N],M=k.sales-k.cost-k.extras,L=k.sales>0?M/k.sales*100:0;return{name:N,Ventas:k.sales,"Costo Extra":k.extras,Margen:M,"Margen %":Math.round(L)}});s(S);const _=t.reduce((N,k)=>N+k.amount,0),I=e.reduce((N,k)=>N+k.amount,0);f({invested:_,recovered:I})};return b.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-stone-100 shadow-sm",children:[b.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[b.jsx(GR,{className:"text-emerald-600"}),"Resumen Financiero"]}),b.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(w=>b.jsx("button",{onClick:()=>n(w),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition ${r===w?"bg-stone-900 text-white":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:w==="day"?"Hoy":w==="week"?"Semana":"Mes"},w))})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-stone-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-stone-400 text-sm font-bold uppercase tracking-wider mb-2",children:"Inversin Total (Gastos)"}),b.jsxs("h3",{className:"text-4xl font-mono font-bold text-red-400 mb-1",children:["$",c.invested.toLocaleString()]}),b.jsx("p",{className:"text-xs text-stone-500",children:"Acumulado histrico de compras/gastos"})]}),b.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10",children:b.jsx(_O,{size:120})})]}),b.jsx("div",{className:"bg-emerald-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-emerald-200 text-sm font-bold uppercase tracking-wider mb-2",children:"Recuperado (Ventas)"}),b.jsxs("h3",{className:"text-4xl font-mono font-bold text-emerald-400 mb-1",children:["$",c.recovered.toLocaleString()]}),b.jsx("p",{className:"text-xs text-emerald-200/50",children:c.invested>0?`${(c.recovered/c.invested*100).toFixed(1)}% de la inversin recuperada`:"Calculando retorno..."})]})})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[b.jsx(Cv,{size:20})," Rendimiento por rea"]}),b.jsx("div",{className:"h-[300px] w-full text-xs",children:b.jsx(Fh,{width:"100%",height:"100%",children:b.jsxs(u8,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(K0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),b.jsx(Z0,{dataKey:"name",axisLine:!1,tickLine:!1}),b.jsx(Q0,{axisLine:!1,tickLine:!1,tickFormatter:w=>`$${w/1e3}k`}),b.jsx(zh,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx($y,{}),b.jsx(Ju,{dataKey:"Ventas",fill:"#3b82f6",radius:[4,4,0,0]}),b.jsx(Ju,{dataKey:"Margen",fill:"#10b981",radius:[4,4,0,0]}),b.jsx(Ju,{dataKey:"Costo Extra",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[b.jsx(NO,{size:20})," Detalle de Mrgenes"]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-2 text-left",children:"rea"}),b.jsx("th",{className:"px-2 py-2 text-right",children:"Margen $"}),b.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),b.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(w=>b.jsxs("tr",{children:[b.jsx("td",{className:"px-2 py-3 font-medium",children:w.name}),b.jsxs("td",{className:`px-2 py-3 text-right font-bold ${w.Margen>0?"text-emerald-600":"text-stone-500"}`,children:["$",w.Margen.toLocaleString()]}),b.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[w["Margen %"],"%"]})]},w.name))})]})}),b.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl text-xs text-blue-700",children:[b.jsx("p",{className:"font-bold mb-1",children:" Tip:"}),b.jsx("p",{children:'El "Margen" descuenta los Costos Extra ingresados (luz, caf, etc). Para aumentar el margen en "Style", asegrate de registrar todos los insumos variables.'})]})]})]})]})},iO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],aee=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=O.useState(!1),s=t?.quantity||0,c=t?.last_purchase_price||0,f=e.priceFullBottle||0,p=f-c,m=c>0?p/c*100:0;let v=null;if(t?.last_purchase_date){const S=new Date().getTime()-new Date(t.last_purchase_date).getTime();v=Math.floor(S/(1e3*60*60*24))}const w=async S=>{i(!0);const{data:_,error:I}=await it.rpc("adjust_inventory",{p_product_id:e.id,p_delta:S,p_reason:"manual_adjustment"});I?alert("Error: "+I.message):_.success?r():alert("Error: "+_.message),i(!1)};return b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsx("td",{className:"px-4 py-2",children:b.jsx("div",{className:"font-medium text-stone-800",children:e.name})}),b.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",c.toLocaleString()]}),b.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",f.toLocaleString()]}),b.jsxs("td",{className:"px-4 py-2 text-center",children:[b.jsxs("div",{className:`text-xs font-bold ${p>=0?"text-green-600":"text-red-500"}`,children:["$",p.toLocaleString()]}),b.jsxs("div",{className:`text-[10px] ${p>=0?"text-green-500":"text-red-400"}`,children:[m.toFixed(1),"%"]})]}),b.jsx("td",{className:"px-4 py-2 text-center",children:b.jsx("span",{className:`font-bold ${s>2?"text-green-600":"text-red-500"}`,children:s})}),b.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:v!==null?`${v}d`:"-"}),b.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[b.jsx("button",{onClick:()=>w(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),b.jsx("button",{onClick:()=>w(-1),disabled:n||s<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},see=({onClose:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState(!0);O.useEffect(()=>{(async()=>{const{data:f,error:p}=await it.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);p?console.error("Error fetching logs:",p):r(f||[]),i(!1)})()},[]);const s=c=>{const f=Va.find(p=>p.id===c);return f?f.name:c};return b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[b.jsx(CO,{})," Historial de Movimientos"]}),b.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:n?b.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2",children:"Fecha"}),b.jsx("th",{className:"px-4 py-2",children:"Producto"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),b.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),b.jsxs("tbody",{children:[t.map(c=>b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),b.jsx("td",{className:"px-4 py-2 font-medium",children:s(c.product_id)}),b.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),b.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),b.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},oee=({onLogout:e})=>{const[t,r]=O.useState([]),[n,i]=O.useState(!0),[s,c]=O.useState("month"),[f,p]=O.useState(0),[m,v]=O.useState(0),[w,S]=O.useState([]),[_,I]=O.useState([]),[N,k]=O.useState([]),[M,L]=O.useState([]),[R,z]=O.useState("dashboard"),[W,V]=O.useState([]),[H,ne]=O.useState(null),[Y,Ae]=O.useState([]),[pe,de]=O.useState(null),[Se,ke]=O.useState(new Map),[re,De]=O.useState(0),[oe,ve]=O.useState(0),[we,be]=O.useState([]),[Q,ue]=O.useState(!1);O.useEffect(()=>{R==="dashboard"||R==="finanzas"?(Le(),R==="finanzas"&&Be()):R==="clients"?Ne():R==="validaciones"&&lt(),Ye()},[R,s]);const Be=async()=>{const{data:xe}=await it.from("expenses").select("*");xe&&be(xe)},Le=async()=>{i(!0);try{const xe=new Date;s==="week"?xe.setDate(xe.getDate()-7):s==="month"?xe.setDate(xe.getDate()-30):xe.setHours(0,0,0,0);const{data:ye,error:ze}=await it.from("transactions").select("*").gte("created_at",xe.toISOString());if(ze)throw ze;const at=ye||[],vt=new Date(xe);s==="week"?vt.setDate(vt.getDate()-7):s==="month"?vt.setDate(vt.getDate()-30):vt.setDate(vt.getDate()-1);const{data:Ct}=await it.from("transactions").select("*").gte("created_at",vt.toISOString()).lt("created_at",xe.toISOString()),Mt=Ct||[];r(at);const Nt=at.reduce((st,ut)=>st+ut.amount,0);p(Nt),v(at.length?Math.round(Nt/at.length):0);const bt=new Map;at.forEach(st=>{const ut=st.type==="product"?"Productos":"Servicios";bt.set(ut,(bt.get(ut)||0)+st.amount)}),I(Array.from(bt).map(([st,ut])=>({name:st,value:ut})));const hr=new Map,Fe=(st,ut)=>{if(ut==="product"){const yr=Va.find(ar=>ar.price5ml===st||ar.price10ml===st||ar.priceFullBottle===st);return yr?yr.name:"Producto Genrico"}else{const yr=sl.find(ar=>ar.price===st);return yr?yr.name:"Servicio General"}};at.forEach(st=>{const ut=Fe(st.amount,st.type);hr.has(ut)||hr.set(ut,{current:0,previous:0}),hr.get(ut).current++}),Mt.forEach(st=>{const ut=Fe(st.amount,st.type);hr.has(ut)||hr.set(ut,{current:0,previous:0}),hr.get(ut).previous++});const si=Array.from(hr.entries()).map(([st,ut])=>({name:st,count:ut.current})).sort((st,ut)=>ut.count-st.count).slice(0,5);k(si);const ca=at.length||1,xn=at.length/hr.size/ca,ua=[];hr.forEach((st,ut)=>{if(st.current===0)return;const yr=st.current/ca,ar=st.previous===0?1:(st.current-st.previous)/st.previous;let Qn="question";yr>=xn&&ar>=0?Qn="star":yr>=xn&&ar<0?Qn="cow":yr<xn&&ar>=0?Qn="question":Qn="dog",ua.push({name:ut,volume:yr,growth:ar,type:Qn})}),L(ua);const Mr=new Map;at.forEach(st=>{if(!st.client_id)return;const ut=Mr.get(st.client_id)||{id:st.client_id,phone:"Cargando...",total_spent:0,visit_count:0};ut.total_spent+=st.amount,ut.visit_count+=1,Mr.set(st.client_id,ut)});const da=Array.from(Mr.keys());if(da.length>0){const{data:st}=await it.from("clients").select("id, phone").in("id",da);st?.forEach(ut=>{const yr=Mr.get(ut.id);yr&&(yr.phone=ut.phone)})}S(Array.from(Mr.values()).sort((st,ut)=>ut.total_spent-st.total_spent).slice(0,10))}catch(xe){console.error("Error fetching dashboard data:",xe)}finally{i(!1)}},Ye=async()=>{const{data:xe,error:ye}=await it.from("inventory").select("*");if(xe){const ze=new Map;let at=0,vt=0;xe.forEach(Ct=>{ze.set(Ct.product_id,Ct),at+=Ct.quantity*(Ct.last_purchase_price||0),vt+=Ct.quantity}),ke(ze),De(at),ve(vt)}ye&&console.error("Error fetching inventory",ye)},Ne=async()=>{i(!0);const{data:xe,error:ye}=await it.from("clients").select("*").order("last_visit",{ascending:!1});ye?console.error("Error fetching clients",ye):V(xe||[]),ye?console.error("Error fetching clients",ye):V(xe||[]),i(!1)},lt=async()=>{i(!0);const{data:xe,error:ye}=await it.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});ye?console.error("Error fetching visits",ye):Ae(xe||[]),i(!1)},nt=async xe=>{if(xe.preventDefault(),!H)return;const{error:ye}=await it.from("clients").update({name:H.name,phone:H.phone,visits:H.visits}).eq("id",H.id);ye?alert("Error al actualizar: "+ye.message):(ne(null),Ne())},ge=async xe=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await it.from("hair_service_log").delete().eq("client_id",xe),await it.from("transactions").delete().eq("client_id",xe),await it.from("visit_registrations").delete().eq("client_id",xe);const{error:ye}=await it.from("clients").delete().eq("id",xe);if(ye)throw ye;Ne()}catch(ye){alert("Error al eliminar: "+ye.message)}},qe=()=>{const xe=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],ye=t.map(Ct=>[Ct.id,Ct.created_at,Ct.amount,Ct.type,Ct.client_id||"Annimo"]),ze="data:text/csv;charset=utf-8,"+xe.join(",")+`
`+ye.map(Ct=>Ct.join(",")).join(`
`),at=encodeURI(ze),vt=document.createElement("a");vt.setAttribute("href",at),vt.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(vt),vt.click(),document.body.removeChild(vt)};return b.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),b.jsxs("div",{className:"flex gap-4",children:[R==="dashboard"&&b.jsxs("select",{value:s,onChange:xe=>c(xe.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[b.jsx("option",{value:"week",children:"ltima Semana"}),b.jsx("option",{value:"month",children:"ltimo Mes"})]}),b.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),b.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[b.jsx("button",{onClick:()=>z("dashboard"),className:`px-4 py-2 font-bold transition ${R==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),b.jsx("button",{onClick:()=>z("clients"),className:`px-4 py-2 font-bold transition ${R==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),b.jsxs("button",{onClick:()=>z("validaciones"),className:`px-4 py-2 font-bold transition ${R==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones QR",Y.length>0&&b.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:Y.length})]}),b.jsx("button",{onClick:()=>z("finanzas"),className:`px-4 py-2 font-bold transition ${R==="finanzas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Finanzas"})]}),R==="validaciones"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[b.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[b.jsx(ip,{})," QR de Llegada"]}),b.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),b.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:b.jsx(gy,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),b.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),b.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[b.jsx(yE,{size:14})," Imprimir QR"]})]}),b.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[b.jsx(QR,{})," Visitas Pendientes"]}),Y.length===0?b.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:b.jsx("p",{children:"No hay clientes esperando validacin."})}):b.jsx("div",{className:"space-y-4",children:Y.map(xe=>b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[b.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:xe.client?.name?.charAt(0)||"?"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-900",children:xe.client?.name||"Cliente"}),b.jsx("p",{className:"text-sm text-stone-500",children:xe.client?.phone}),b.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(xe.check_in_time).toLocaleTimeString()]})]})]}),b.jsx("button",{onClick:()=>de(xe),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},xe.id))})]})]}),R==="finanzas"&&b.jsx(iee,{transactions:t,expenses:we,timeRange:s,onTimeRangeChange:xe=>c(xe)}),R==="dashboard"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),b.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),b.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:b.jsx(_O,{className:"text-green-600"})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),b.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",m.toLocaleString()]})]}),b.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:b.jsx(Cv,{className:"text-blue-600"})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),b.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),b.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:b.jsx(Cv,{className:"text-purple-600"})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(NO,{size:18})," Origen de Ingresos"]}),b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(Fh,{width:"100%",height:"100%",children:b.jsxs(tee,{children:[b.jsx(Nk,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:_.map((xe,ye)=>b.jsx(El,{fill:iO[ye%iO.length]},`cell-${ye}`))}),b.jsx(zh,{formatter:xe=>`$${xe.toLocaleString()}`}),b.jsx($y,{})]})})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(KR,{size:18})," Top Productos/Servicios"]}),b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(Fh,{width:"100%",height:"100%",children:b.jsxs(u8,{data:N,layout:"vertical",children:[b.jsx(K0,{strokeDasharray:"3 3",horizontal:!1}),b.jsx(Z0,{type:"number",hide:!0}),b.jsx(Q0,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),b.jsx(zh,{}),b.jsx(Ju,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),b.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(d6,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),b.jsxs("div",{className:"h-[300px] w-full relative",children:[b.jsx(Fh,{width:"100%",height:"100%",children:b.jsxs(nee,{margin:{top:20,right:20,bottom:20,left:20},children:[b.jsx(K0,{}),b.jsx(Z0,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:xe=>Math.round(xe*100)+"%"}),b.jsx(Q0,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:xe=>Math.round(xe*100)+"%"}),b.jsx(zh,{cursor:{strokeDasharray:"3 3"},formatter:(xe,ye)=>[Math.round(xe*100)+"%",ye==="volume"?"Cuota":"Crecimiento"]}),b.jsx(Lk,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),b.jsx(Gk,{name:"Productos",data:M,fill:"#8884d8",children:M.map((xe,ye)=>{let ze="#8884d8";return xe.type==="star"?ze="#FFBB28":xe.type==="cow"?ze="#00C49F":xe.type==="dog"?ze="#FF8042":ze="#999",b.jsx(El,{fill:ze},`cell-${ye}`)})})]})}),b.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),b.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[b.jsx(m6,{size:20})," Top 10 Clientes (Gasto)"]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2",children:"Cliente"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"})]})}),b.jsxs("tbody",{children:[w.map((xe,ye)=>b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsxs("td",{className:"px-4 py-3 font-medium",children:[ye+1,". ",xe.phone]}),b.jsx("td",{className:"px-4 py-3 text-right",children:xe.visit_count}),b.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",xe.total_spent.toLocaleString()]})]},xe.id)),w.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[b.jsx(c6,{size:20})," Inventario Perfumes"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>ue(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[b.jsx(CO,{size:14})," Historial"]}),b.jsxs("button",{onClick:qe,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[b.jsx(yE,{size:14})," Exportar CSV"]})]})]}),b.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:b.jsxs("table",{className:"w-full text-xs text-left",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-stone-500 border-b border-stone-200",children:[b.jsx("th",{className:"px-4 py-2 text-left",children:"Producto"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Costo"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Precio Vta"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Margen"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Stock"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Das"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),b.jsx("tbody",{children:Va.map(xe=>b.jsx(aee,{perfume:xe,inventoryItem:Se.get(xe.id),onRefresh:Ye},xe.id))}),b.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:b.jsxs("tr",{children:[b.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),b.jsx("td",{className:"px-4 py-3"}),b.jsx("td",{className:"px-4 py-3"}),b.jsx("td",{className:"px-4 py-3"}),b.jsxs("td",{className:"px-4 py-3 text-center",children:[oe," un."]}),b.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),b.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",re.toLocaleString()]})]})})]})})]})]})]}):b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsx("h3",{className:"text-xl font-bold mb-6",children:"Gestin de Clientes"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3",children:"Nombre"}),b.jsx("th",{className:"px-6 py-3",children:"Telfono"}),b.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),b.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),b.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),b.jsx("tbody",{children:W.map(xe=>b.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[b.jsx("td",{className:"px-6 py-4 font-bold text-stone-800",children:xe.name||"Sin nombre"}),b.jsx("td",{className:"px-6 py-4 font-mono text-stone-600",children:xe.phone}),b.jsx("td",{className:"px-6 py-4 text-center",children:b.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:xe.visits})}),b.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(xe.last_visit).toLocaleDateString()}),b.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[b.jsx("button",{onClick:()=>ne(xe),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),b.jsx("button",{onClick:()=>ge(xe.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},xe.id))})]})})]}),H&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[b.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),b.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Nombre"}),b.jsx("input",{type:"text",value:H.name||"",onChange:xe=>ne({...H,name:xe.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),b.jsx("input",{type:"text",value:H.phone,onChange:xe=>ne({...H,phone:xe.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),b.jsx("input",{type:"number",value:H.visits,onChange:xe=>ne({...H,visits:parseInt(xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{className:"flex gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>ne(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),pe&&b.jsx(jD,{visit:pe,onClose:()=>de(null),onSuccess:lt}),Q&&b.jsx(see,{onClose:()=>ue(!1)})]})},lee=()=>{const[e,t]=O.useState(null),[r,n]=O.useState(""),i=(c,f)=>{t(c),f&&n(f)},s=async()=>{await it.auth.signOut(),t(null),n("")};return e?e==="management"?b.jsx(oee,{onLogout:s}):b.jsx(kD,{onLogout:s}):b.jsx(nD,{onLogin:i})},cee=()=>{const[e,t]=O.useState("Todos"),[r,n]=O.useState(null),i=["Todos","Cortes","Color","Peinados"],s=e==="Todos"?bE:bE.filter(c=>c.category===e);return b.jsxs("div",{className:"animate-in fade-in duration-700",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>b.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),b.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:s.map((c,f)=>b.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[b.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),b.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:b.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[b.jsx(v6,{className:"mx-auto mb-2 opacity-80"}),b.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[b.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:b.jsx($a,{size:32})}),b.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},uee=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${xc}?text=${r}`,"_blank")};return b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),b.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:kO.map(t=>b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[b.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),b.jsx(iy,{size:64,className:"text-amber-500 relative z-10"})]}),b.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[b.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),b.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),b.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>b.jsxs("div",{className:"flex items-start text-stone-600",children:[b.jsx(n6,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),b.jsx("span",{className:"text-sm",children:r})]},n))}),b.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},dee=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[i,s]=O.useState(!1),[c,f]=O.useState("search"),[p,m]=O.useState(null),[v,w]=O.useState(""),S=async N=>{N.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(k.length<8)throw new Error("Ingresa un nmero vlido (ej: 912345678)");const{data:M,error:L}=await it.from("clients").select("*").eq("phone",k).single();if(L&&L.code!=="PGRST116")throw L;M?(m(M),await I(M.id)):f("register")}catch(k){w(k.message||"Error al buscar cliente")}finally{s(!1)}},_=async N=>{N.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");const{data:M,error:L}=await it.from("clients").insert([{name:r,phone:k,visits:0}]).select().single();if(L)throw L;await I(M.id)}catch(k){w(k.message||"Error al registrar")}finally{s(!1)}},I=async N=>{const{error:k}=await it.from("visit_registrations").insert([{client_id:N}]);if(k)throw console.error(k),new Error("Hubo un problema registrando la visita. Intenta de nuevo.");f("success")};return c==="success"?b.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-stone-900 border border-amber-500/30 rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl animate-fade-in-up",children:[b.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(ny,{className:"w-10 h-10 text-green-400"})}),b.jsx("h2",{className:"text-2xl font-serif text-amber-100 mb-2",children:"Llegada Registrada!"}),b.jsx("p",{className:"text-stone-400 mb-6",children:"Tu visita ha quedado en espera. Tu estilista validar tus servicios al finalizar para sumar tus puntos."}),b.jsx(en,{to:"/",className:"block w-full py-3 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded-lg transition-colors font-medium",children:"Volver al Inicio"})]})}):b.jsxs("div",{className:"min-h-screen bg-stone-950 p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3 pointer-events-none"}),b.jsxs("div",{className:"w-full max-w-md bg-stone-900/80 backdrop-blur-md border border-stone-800 rounded-2xl shadow-xl overflow-hidden relative z-10",children:[b.jsxs("div",{className:"bg-gradient-to-r from-stone-900 to-stone-800 p-6 text-center border-b border-stone-800",children:[b.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:b.jsx(ip,{className:"w-6 h-6 text-amber-400"})}),b.jsx("h1",{className:"text-xl font-serif text-amber-100",children:"Registro de Visita"}),b.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Escanea al llegar para sumar puntos"})]}),b.jsxs("div",{className:"p-6",children:[v&&b.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-200 text-sm text-center",children:v}),c==="search"?b.jsxs("form",{onSubmit:S,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Nmero de Telfono"}),b.jsx("input",{type:"tel",placeholder:"Ej: 912345678",value:e,onChange:N=>t(N.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all text-lg tracking-widest text-center",autoFocus:!0})]}),b.jsx("button",{type:"submit",disabled:i||e.length<8,className:"w-full py-3.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?b.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(sp,{className:"w-4 h-4"}),"Buscar / Registrar"]})})]}):b.jsxs("form",{onSubmit:_,className:"space-y-4 animate-fade-in-right",children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("div",{className:"w-12 h-12 bg-stone-800 rounded-full flex items-center justify-center mx-auto mb-2 text-stone-400",children:b.jsx(sy,{className:"w-6 h-6"})}),b.jsx("h3",{className:"text-amber-100 font-medium",children:"Primera vez por aqu!"}),b.jsx("p",{className:"text-xs text-stone-400",children:"Crea tu perfil para empezar a sumar."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Tu Nombre"}),b.jsx("input",{type:"text",placeholder:"Nombre y Apellido",value:r,onChange:N=>n(N.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 outline-none",autoFocus:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Telfono"}),b.jsx("input",{type:"tel",value:e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800 rounded-lg px-4 py-3 text-stone-500 cursor-not-allowed"})]}),b.jsxs("div",{className:"pt-2 flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>f("search"),className:"flex-1 py-3 bg-stone-800 text-stone-300 rounded-lg hover:bg-stone-700 transition",children:"Volver"}),b.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-500 transition shadow-lg shadow-amber-900/20",children:i?"Registrando...":"Confirmar"})]})]})]}),b.jsx("div",{className:"bg-stone-950/50 p-4 text-center border-t border-stone-800",children:b.jsx("p",{className:"text-xs text-stone-600",children:"Tus3B Style  Sistema de Lealtad"})})]})]})},fee=()=>b.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[b.jsxs("div",{className:"text-center space-y-2 mb-4",children:[b.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",b.jsx("span",{className:"text-amber-500",children:"Hub"})]}),b.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs(en,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:b.jsx(ap,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),b.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),b.jsx(Yu,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),b.jsx(en,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:b.jsx(nd,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),b.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),b.jsx(Yu,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),b.jsx(en,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:b.jsx(iy,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),b.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),b.jsx(Yu,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),b.jsx("div",{className:"w-full mt-4",children:b.jsxs(en,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),b.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:b.jsx(ip,{size:20})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),b.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),b.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),b.jsx("div",{className:"w-full pt-4",children:b.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),b.jsx("div",{className:"text-center py-6 z-10",children:b.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),hee=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:b.jsx(t6,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:b.jsx(p6,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:b.jsx(ap,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:b.jsx(Ac,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:b.jsx(g6,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],pee=()=>{const[e,t]=O.useState(null);return b.jsx("section",{className:"py-20 bg-stone-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),b.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),b.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:hee.map(r=>b.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&b.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),b.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[b.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),b.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[b.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),b.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",b.jsx(Yu,{size:14})]})]})]}):b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),b.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",b.jsx(Yu,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),b.jsx("div",{className:"mt-12 text-center",children:b.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[b.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),b.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',b.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},mee=()=>{const{pathname:e}=Ia();return Sr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},gee=()=>{const[e,t]=O.useState(null),r=()=>b.jsxs(b.Fragment,{children:[b.jsx(y6,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),b.jsx("section",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),b.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:sl.filter(n=>!n.homeServiceOnly).map(n=>b.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),b.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),b.jsxs("div",{className:"text-right ml-4",children:[b.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),b.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx(en,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),b.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),b.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),b.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),b.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),b.jsx("div",{className:"flex items-center space-x-4 pt-4",children:b.jsx(en,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),b.jsx(pee,{}),b.jsx(HM,{}),b.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),b.jsx(MM,{onSuccess:n=>{t(n)}})]}),b.jsx("div",{className:"bg-white py-4 text-center",children:b.jsxs(en,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[b.jsx(f6,{size:10})," Admin"]})})]});return b.jsx(MR,{children:b.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[b.jsx(mee,{}),b.jsx(x6,{}),b.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:b.jsxs(dR,{children:[b.jsx(Ua,{path:"/",element:b.jsx(fee,{})}),b.jsx(Ua,{path:"/style",element:b.jsx(r,{})}),b.jsx(Ua,{path:"/perfum",element:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),b.jsx(LM,{})]})}),b.jsx(Ua,{path:"/regalos",element:b.jsx(uee,{})}),b.jsx(Ua,{path:"/gallery",element:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),b.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),b.jsx(cee,{})]})}),b.jsx(Ua,{path:"/loyalty",element:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:b.jsx(rD,{})})}),b.jsx(Ua,{path:"/admin",element:b.jsx(lee,{})}),b.jsx(Ua,{path:"/checkin",element:b.jsx(dee,{})}),b.jsx(Ua,{path:"/confirmation",element:b.jsx(vee,{})})]})}),b.jsx(BM,{}),b.jsx(WM,{})]})})},vee=()=>{const t=Ia().state;return t?b.jsx(VM,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):b.jsx(cR,{to:"/"})};console.log("Iniciando aplicacin React...");const f8=document.getElementById("root");if(!f8)throw new Error("Could not find root element to mount to");try{hj.createRoot(f8).render(b.jsx(Sr.StrictMode,{children:b.jsx(gee,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}
