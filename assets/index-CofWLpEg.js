function qx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var C1={exports:{}},Iu={},O1={exports:{}},Nt={};var iE;function nR(){if(iE)return Nt;iE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(Y){return Y===null||typeof Y!="object"?null:(Y=w&&Y[w]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function k(Y,le,Be){this.props=Y,this.context=le,this.refs=O,this.updater=Be||S}k.prototype.isReactComponent={},k.prototype.setState=function(Y,le){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,le,"setState")},k.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=k.prototype;function L(Y,le,Be){this.props=Y,this.context=le,this.refs=O,this.updater=Be||S}var j=L.prototype=new M;j.constructor=L,N(j,k.prototype),j.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function re(Y,le,Be){var Me,We={},Ce=null,ot=null;if(le!=null)for(Me in le.ref!==void 0&&(ot=le.ref),le.key!==void 0&&(Ce=""+le.key),le)W.call(le,Me)&&!H.hasOwnProperty(Me)&&(We[Me]=le[Me]);var it=arguments.length-2;if(it===1)We.children=Be;else if(1<it){for(var ve=Array(it),et=0;et<it;et++)ve[et]=arguments[et+2];We.children=ve}if(Y&&Y.defaultProps)for(Me in it=Y.defaultProps,it)We[Me]===void 0&&(We[Me]=it[Me]);return{$$typeof:e,type:Y,key:Ce,ref:ot,props:We,_owner:V.current}}function X(Y,le){return{$$typeof:e,type:Y.type,key:le,ref:Y.ref,props:Y.props,_owner:Y._owner}}function _e(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function pe(Y){var le={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(Be){return le[Be]})}var de=/\/+/g;function Ae(Y,le){return typeof Y=="object"&&Y!==null&&Y.key!=null?pe(""+Y.key):le.toString(36)}function ke(Y,le,Be,Me,We){var Ce=typeof Y;(Ce==="undefined"||Ce==="boolean")&&(Y=null);var ot=!1;if(Y===null)ot=!0;else switch(Ce){case"string":case"number":ot=!0;break;case"object":switch(Y.$$typeof){case e:case t:ot=!0}}if(ot)return ot=Y,We=We(ot),Y=Me===""?"."+Ae(ot,0):Me,z(We)?(Be="",Y!=null&&(Be=Y.replace(de,"$&/")+"/"),ke(We,le,Be,"",function(et){return et})):We!=null&&(_e(We)&&(We=X(We,Be+(!We.key||ot&&ot.key===We.key?"":(""+We.key).replace(de,"$&/")+"/")+Y)),le.push(We)),1;if(ot=0,Me=Me===""?".":Me+":",z(Y))for(var it=0;it<Y.length;it++){Ce=Y[it];var ve=Me+Ae(Ce,it);ot+=ke(Ce,le,Be,ve,We)}else if(ve=_(Y),typeof ve=="function")for(Y=ve.call(Y),it=0;!(Ce=Y.next()).done;)Ce=Ce.value,ve=Me+Ae(Ce,it++),ot+=ke(Ce,le,Be,ve,We);else if(Ce==="object")throw le=String(Y),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return ot}function te(Y,le,Be){if(Y==null)return Y;var Me=[],We=0;return ke(Y,Me,"","",function(Ce){return le.call(Be,Ce,We++)}),Me}function Fe(Y){if(Y._status===-1){var le=Y._result;le=le(),le.then(function(Be){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=Be)},function(Be){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=Be)}),Y._status===-1&&(Y._status=0,Y._result=le)}if(Y._status===1)return Y._result.default;throw Y._result}var oe={current:null},ge={transition:null},we={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:ge,ReactCurrentOwner:V};function be(){throw Error("act(...) is not supported in production builds of React.")}return Nt.Children={map:te,forEach:function(Y,le,Be){te(Y,function(){le.apply(this,arguments)},Be)},count:function(Y){var le=0;return te(Y,function(){le++}),le},toArray:function(Y){return te(Y,function(le){return le})||[]},only:function(Y){if(!_e(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Nt.Component=k,Nt.Fragment=r,Nt.Profiler=i,Nt.PureComponent=L,Nt.StrictMode=n,Nt.Suspense=p,Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Nt.act=be,Nt.cloneElement=function(Y,le,Be){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Me=N({},Y.props),We=Y.key,Ce=Y.ref,ot=Y._owner;if(le!=null){if(le.ref!==void 0&&(Ce=le.ref,ot=V.current),le.key!==void 0&&(We=""+le.key),Y.type&&Y.type.defaultProps)var it=Y.type.defaultProps;for(ve in le)W.call(le,ve)&&!H.hasOwnProperty(ve)&&(Me[ve]=le[ve]===void 0&&it!==void 0?it[ve]:le[ve])}var ve=arguments.length-2;if(ve===1)Me.children=Be;else if(1<ve){it=Array(ve);for(var et=0;et<ve;et++)it[et]=arguments[et+2];Me.children=it}return{$$typeof:e,type:Y.type,key:We,ref:Ce,props:Me,_owner:ot}},Nt.createContext=function(Y){return Y={$$typeof:c,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Nt.createElement=re,Nt.createFactory=function(Y){var le=re.bind(null,Y);return le.type=Y,le},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(Y){return{$$typeof:f,render:Y}},Nt.isValidElement=_e,Nt.lazy=function(Y){return{$$typeof:v,_payload:{_status:-1,_result:Y},_init:Fe}},Nt.memo=function(Y,le){return{$$typeof:m,type:Y,compare:le===void 0?null:le}},Nt.startTransition=function(Y){var le=ge.transition;ge.transition={};try{Y()}finally{ge.transition=le}},Nt.unstable_act=be,Nt.useCallback=function(Y,le){return oe.current.useCallback(Y,le)},Nt.useContext=function(Y){return oe.current.useContext(Y)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(Y){return oe.current.useDeferredValue(Y)},Nt.useEffect=function(Y,le){return oe.current.useEffect(Y,le)},Nt.useId=function(){return oe.current.useId()},Nt.useImperativeHandle=function(Y,le,Be){return oe.current.useImperativeHandle(Y,le,Be)},Nt.useInsertionEffect=function(Y,le){return oe.current.useInsertionEffect(Y,le)},Nt.useLayoutEffect=function(Y,le){return oe.current.useLayoutEffect(Y,le)},Nt.useMemo=function(Y,le){return oe.current.useMemo(Y,le)},Nt.useReducer=function(Y,le,Be){return oe.current.useReducer(Y,le,Be)},Nt.useRef=function(Y){return oe.current.useRef(Y)},Nt.useState=function(Y){return oe.current.useState(Y)},Nt.useSyncExternalStore=function(Y,le,Be){return oe.current.useSyncExternalStore(Y,le,Be)},Nt.useTransition=function(){return oe.current.useTransition()},Nt.version="18.3.1",Nt}var aE;function Cc(){return aE||(aE=1,O1.exports=nR()),O1.exports}var sE;function iR(){if(sE)return Iu;sE=1;var e=Cc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},_=null,S=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)n.call(p,v)&&!s.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:t,type:f,key:_,ref:S,props:w,_owner:i.current}}return Iu.Fragment=r,Iu.jsx=c,Iu.jsxs=c,Iu}var oE;function aR(){return oE||(oE=1,C1.exports=iR()),C1.exports}var b=aR(),I=Cc();const vr=ta(I),sR=qx({__proto__:null,default:vr},[I]);var eh={},N1={exports:{}},si={},I1={exports:{}},T1={};var lE;function oR(){return lE||(lE=1,(function(e){function t(ge,we){var be=ge.length;ge.push(we);e:for(;0<be;){var Y=be-1>>>1,le=ge[Y];if(0<i(le,we))ge[Y]=we,ge[be]=le,be=Y;else break e}}function r(ge){return ge.length===0?null:ge[0]}function n(ge){if(ge.length===0)return null;var we=ge[0],be=ge.pop();if(be!==we){ge[0]=be;e:for(var Y=0,le=ge.length,Be=le>>>1;Y<Be;){var Me=2*(Y+1)-1,We=ge[Me],Ce=Me+1,ot=ge[Ce];if(0>i(We,be))Ce<le&&0>i(ot,We)?(ge[Y]=ot,ge[Ce]=be,Y=Ce):(ge[Y]=We,ge[Me]=be,Y=Me);else if(Ce<le&&0>i(ot,be))ge[Y]=ot,ge[Ce]=be,Y=Ce;else break e}}return we}function i(ge,we){var be=ge.sortIndex-we.sortIndex;return be!==0?be:ge.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,_=3,S=!1,N=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ge){for(var we=r(m);we!==null;){if(we.callback===null)n(m);else if(we.startTime<=ge)n(m),we.sortIndex=we.expirationTime,t(p,we);else break;we=r(m)}}function z(ge){if(O=!1,j(ge),!N)if(r(p)!==null)N=!0,Fe(W);else{var we=r(m);we!==null&&oe(z,we.startTime-ge)}}function W(ge,we){N=!1,O&&(O=!1,M(re),re=-1),S=!0;var be=_;try{for(j(we),w=r(p);w!==null&&(!(w.expirationTime>we)||ge&&!pe());){var Y=w.callback;if(typeof Y=="function"){w.callback=null,_=w.priorityLevel;var le=Y(w.expirationTime<=we);we=e.unstable_now(),typeof le=="function"?w.callback=le:w===r(p)&&n(p),j(we)}else n(p);w=r(p)}if(w!==null)var Be=!0;else{var Me=r(m);Me!==null&&oe(z,Me.startTime-we),Be=!1}return Be}finally{w=null,_=be,S=!1}}var V=!1,H=null,re=-1,X=5,_e=-1;function pe(){return!(e.unstable_now()-_e<X)}function de(){if(H!==null){var ge=e.unstable_now();_e=ge;var we=!0;try{we=H(!0,ge)}finally{we?Ae():(V=!1,H=null)}}else V=!1}var Ae;if(typeof L=="function")Ae=function(){L(de)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,te=ke.port2;ke.port1.onmessage=de,Ae=function(){te.postMessage(null)}}else Ae=function(){k(de,0)};function Fe(ge){H=ge,V||(V=!0,Ae())}function oe(ge,we){re=k(function(){ge(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){N||S||(N=!0,Fe(W))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(ge){switch(_){case 1:case 2:case 3:var we=3;break;default:we=_}var be=_;_=we;try{return ge()}finally{_=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,we){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var be=_;_=ge;try{return we()}finally{_=be}},e.unstable_scheduleCallback=function(ge,we,be){var Y=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Y+be:Y):be=Y,ge){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=be+le,ge={id:v++,callback:we,priorityLevel:ge,startTime:be,expirationTime:le,sortIndex:-1},be>Y?(ge.sortIndex=be,t(m,ge),r(p)===null&&ge===r(m)&&(O?(M(re),re=-1):O=!0,oe(z,be-Y))):(ge.sortIndex=le,t(p,ge),N||S||(N=!0,Fe(W))),ge},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(ge){var we=_;return function(){var be=_;_=we;try{return ge.apply(this,arguments)}finally{_=be}}}})(T1)),T1}var cE;function lR(){return cE||(cE=1,I1.exports=oR()),I1.exports}var uE;function cR(){if(uE)return si;uE=1;var e=Cc(),t=lR();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,y=1;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(o){return p.call(w,o)?!0:p.call(v,o)?!1:m.test(o)?w[o]=!0:(v[o]=!0,!1)}function S(o,d,y,A){if(y!==null&&y.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:y!==null?!y.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function N(o,d,y,A){if(d===null||typeof d>"u"||S(o,d,y,A))return!0;if(A)return!1;if(y!==null)switch(y.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function O(o,d,y,A,P,R,U){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=P,this.mustUseProperty=y,this.propertyName=o,this.type=d,this.sanitizeURL=R,this.removeEmptyString=U}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new O(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new O(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new O(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new O(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new O(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new O(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new O(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new O(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new O(o,5,!1,o.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new O(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(M,L);k[d]=new O(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(M,L);k[d]=new O(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new O(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new O(o,1,!1,o.toLowerCase(),null,!0,!0)});function j(o,d,y,A){var P=k.hasOwnProperty(d)?k[d]:null;(P!==null?P.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(N(d,y,P,A)&&(y=null),A||P===null?_(d)&&(y===null?o.removeAttribute(d):o.setAttribute(d,""+y)):P.mustUseProperty?o[P.propertyName]=y===null?P.type===3?!1:"":y:(d=P.attributeName,A=P.attributeNamespace,y===null?o.removeAttribute(d):(P=P.type,y=P===3||P===4&&y===!0?"":""+y,A?o.setAttributeNS(A,d,y):o.setAttribute(d,y))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),pe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),ge=Symbol.iterator;function we(o){return o===null||typeof o!="object"?null:(o=ge&&o[ge]||o["@@iterator"],typeof o=="function"?o:null)}var be=Object.assign,Y;function le(o){if(Y===void 0)try{throw Error()}catch(y){var d=y.stack.trim().match(/\n( *(at )?)/);Y=d&&d[1]||""}return`
`+Y+o}var Be=!1;function Me(o,d){if(!o||Be)return"";Be=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(me){var A=me}Reflect.construct(o,[],d)}else{try{d.call()}catch(me){A=me}o.call(d.prototype)}else{try{throw Error()}catch(me){A=me}o()}}catch(me){if(me&&A&&typeof me.stack=="string"){for(var P=me.stack.split(`
`),R=A.stack.split(`
`),U=P.length-1,K=R.length-1;1<=U&&0<=K&&P[U]!==R[K];)K--;for(;1<=U&&0<=K;U--,K--)if(P[U]!==R[K]){if(U!==1||K!==1)do if(U--,K--,0>K||P[U]!==R[K]){var Q=`
`+P[U].replace(" at new "," at ");return o.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",o.displayName)),Q}while(1<=U&&0<=K);break}}}finally{Be=!1,Error.prepareStackTrace=y}return(o=o?o.displayName||o.name:"")?le(o):""}function We(o){switch(o.tag){case 5:return le(o.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return o=Me(o.type,!1),o;case 11:return o=Me(o.type.render,!1),o;case 1:return o=Me(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case V:return"Portal";case X:return"Profiler";case re:return"StrictMode";case Ae:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case pe:return(o.displayName||"Context")+".Consumer";case _e:return(o._context.displayName||"Context")+".Provider";case de:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case te:return d=o.displayName||null,d!==null?d:Ce(o.type)||"Memo";case Fe:d=o._payload,o=o._init;try{return Ce(o(d))}catch{}}return null}function ot(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(d);case 8:return d===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function it(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ve(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function et(o){var d=ve(o)?"checked":"value",y=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var P=y.get,R=y.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(U){A=""+U,R.call(this,U)}}),Object.defineProperty(o,d,{enumerable:y.enumerable}),{getValue:function(){return A},setValue:function(U){A=""+U},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function xe(o){o._valueTracker||(o._valueTracker=et(o))}function ye(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var y=d.getValue(),A="";return o&&(A=ve(o)?o.checked?"true":"false":o.value),o=A,o!==y?(d.setValue(o),!0):!1}function Ve(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function at(o,d){var y=d.checked;return be({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??o._wrapperState.initialChecked})}function vt(o,d){var y=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;y=it(d.value!=null?d.value:y),o._wrapperState={initialChecked:A,initialValue:y,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function _t(o,d){d=d.checked,d!=null&&j(o,"checked",d,!1)}function Rt(o,d){_t(o,d);var y=it(d.value),A=d.type;if(y!=null)A==="number"?(y===0&&o.value===""||o.value!=y)&&(o.value=""+y):o.value!==""+y&&(o.value=""+y);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?bt(o,d.type,y):d.hasOwnProperty("defaultValue")&&bt(o,d.type,it(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function St(o,d,y){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,y||d===o.value||(o.value=d),o.defaultValue=d}y=o.name,y!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,y!==""&&(o.name=y)}function bt(o,d,y){(d!=="number"||Ve(o.ownerDocument)!==o)&&(y==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+y&&(o.defaultValue=""+y))}var hr=Array.isArray;function Ue(o,d,y,A){if(o=o.options,d){d={};for(var P=0;P<y.length;P++)d["$"+y[P]]=!0;for(y=0;y<o.length;y++)P=d.hasOwnProperty("$"+o[y].value),o[y].selected!==P&&(o[y].selected=P),P&&A&&(o[y].defaultSelected=!0)}else{for(y=""+it(y),d=null,P=0;P<o.length;P++){if(o[P].value===y){o[P].selected=!0,A&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function Mi(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ea(o,d){var y=d.value;if(y==null){if(y=d.children,d=d.defaultValue,y!=null){if(d!=null)throw Error(r(92));if(hr(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),y=d}o._wrapperState={initialValue:it(y)}}function fn(o,d){var y=it(d.value),A=it(d.defaultValue);y!=null&&(y=""+y,y!==o.value&&(o.value=y),d.defaultValue==null&&o.defaultValue!==y&&(o.defaultValue=y)),A!=null&&(o.defaultValue=""+A)}function se(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function De(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?De(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Le,Ze=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,y,A,P){MSApp.execUnsafeLocalFunction(function(){return o(d,y,A,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Le.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function qt(o,d){if(d){var y=o.firstChild;if(y&&y===o.lastChild&&y.nodeType===3){y.nodeValue=d;return}}o.textContent=d}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wa=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(o){Wa.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),Er[d]=Er[o]})});function Ar(o,d,y){return d==null||typeof d=="boolean"||d===""?"":y||typeof d!="number"||d===0||Er.hasOwnProperty(o)&&Er[o]?(""+d).trim():d+"px"}function je(o,d){o=o.style;for(var y in d)if(d.hasOwnProperty(y)){var A=y.indexOf("--")===0,P=Ar(y,d[y],A);y==="float"&&(y="cssFloat"),A?o.setProperty(y,P):o[y]=P}}var Dr=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ft(o,d){if(d){if(Dr[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function tr(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=null;function mo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var bl=null,Ot=null,Qn=null;function Wc(o){if(o=pu(o)){if(typeof bl!="function")throw Error(r(280));var d=o.stateNode;d&&(d=pf(d),bl(o.stateNode,o.type,d))}}function Vc(o){Ot?Qn?Qn.push(o):Qn=[o]:Ot=o}function Jn(){if(Ot){var o=Ot,d=Qn;if(Qn=Ot=null,Wc(o),d)for(o=0;o<d.length;o++)Wc(d[o])}}function El(o,d){return o(d)}function Jr(){}var Aa=!1;function go(o,d,y){if(Aa)return o(d,y);Aa=!0;try{return El(o,d,y)}finally{Aa=!1,(Ot!==null||Qn!==null)&&(Jr(),Jn())}}function jn(o,d){var y=o.stateNode;if(y===null)return null;var A=pf(y);if(A===null)return null;y=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(y&&typeof y!="function")throw Error(r(231,d,typeof y));return y}var Hc=!1;if(f)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{Hc=!1}function Gc(o,d,y,A,P,R,U,K,Q){var me=Array.prototype.slice.call(arguments,3);try{d.apply(y,me)}catch(Ne){this.onError(Ne)}}var Vr=!1,Di=null,An=!1,ze=null,Is={onError:function(o){Vr=!0,Di=o}};function qc(o,d,y,A,P,R,U,K,Q){Vr=!1,Di=null,Gc.apply(Is,arguments)}function Mn(o,d,y,A,P,R,U,K,Q){if(qc.apply(this,arguments),Vr){if(Vr){var me=Di;Vr=!1,Di=null}else throw Error(r(198));An||(An=!0,ze=me)}}function ei(o){var d=o,y=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(y=d.return),o=d.return;while(o)}return d.tag===3?y:null}function vo(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function xo(o){if(ei(o)!==o)throw Error(r(188))}function Li(o){var d=o.alternate;if(!d){if(d=ei(o),d===null)throw Error(r(188));return d!==o?null:o}for(var y=o,A=d;;){var P=y.return;if(P===null)break;var R=P.alternate;if(R===null){if(A=P.return,A!==null){y=A;continue}break}if(P.child===R.child){for(R=P.child;R;){if(R===y)return xo(P),o;if(R===A)return xo(P),d;R=R.sibling}throw Error(r(188))}if(y.return!==A.return)y=P,A=R;else{for(var U=!1,K=P.child;K;){if(K===y){U=!0,y=P,A=R;break}if(K===A){U=!0,A=P,y=R;break}K=K.sibling}if(!U){for(K=R.child;K;){if(K===y){U=!0,y=R,A=P;break}if(K===A){U=!0,A=R,y=P;break}K=K.sibling}if(!U)throw Error(r(189))}}if(y.alternate!==A)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?o:d}function Gd(o){return o=Li(o),o!==null?qd(o):null}function qd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=qd(o);if(d!==null)return d;o=o.sibling}return null}var pi=t.unstable_scheduleCallback,hn=t.unstable_cancelCallback,rr=t.unstable_shouldYield,Kd=t.unstable_requestPaint,$t=t.unstable_now,Kc=t.unstable_getCurrentPriorityLevel,Ee=t.unstable_ImmediatePriority,Xd=t.unstable_UserBlockingPriority,Yt=t.unstable_NormalPriority,Ts=t.unstable_LowPriority,Yd=t.unstable_IdlePriority,kt=null,Et=null;function It(o){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(kt,o,void 0,(o.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:Lr,Xc=Math.log,Yc=Math.LN2;function Lr(o){return o>>>=0,o===0?32:31-(Xc(o)/Yc|0)|0}var mi=64,Al=4194304;function Zt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function gi(o,d){var y=o.pendingLanes;if(y===0)return 0;var A=0,P=o.suspendedLanes,R=o.pingedLanes,U=y&268435455;if(U!==0){var K=U&~P;K!==0?A=Zt(K):(R&=U,R!==0&&(A=Zt(R)))}else U=y&~P,U!==0?A=Zt(U):R!==0&&(A=Zt(R));if(A===0)return 0;if(d!==0&&d!==A&&(d&P)===0&&(P=A&-A,R=d&-d,P>=R||P===16&&(R&4194240)!==0))return d;if((A&4)!==0&&(A|=y&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)y=31-Gn(d),P=1<<y,A|=o[y],d&=~P;return A}function sm(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(o,d){for(var y=o.suspendedLanes,A=o.pingedLanes,P=o.expirationTimes,R=o.pendingLanes;0<R;){var U=31-Gn(R),K=1<<U,Q=P[U];Q===-1?((K&y)===0||(K&A)!==0)&&(P[U]=sm(K,d)):Q<=d&&(o.expiredLanes|=K),R&=~K}}function Wt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function en(){var o=mi;return mi<<=1,(mi&4194240)===0&&(mi=64),o}function ie(o){for(var d=[],y=0;31>y;y++)d.push(o);return d}function G(o,d,y){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-Gn(d),o[d]=y}function nt(o,d){var y=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<y;){var P=31-Gn(y),R=1<<P;d[P]=0,A[P]=-1,o[P]=-1,y&=~R}}function Ir(o,d){var y=o.entangledLanes|=d;for(o=o.entanglements;y;){var A=31-Gn(y),P=1<<A;P&d|o[A]&d&&(o[A]|=d),y&=~P}}var At=0;function Zd(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var _l,Dn,st,nr,Zc,Qc=!1,ks=[],vi=null,Bi=null,_a=null,pr=new Map,na=new Map,_n=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(o,d){switch(o){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":pr.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(d.pointerId)}}function xt(o,d,y,A,P,R){return o===null||o.nativeEvent!==R?(o={blockedOn:d,domEventName:y,eventSystemFlags:A,nativeEvent:R,targetContainers:[P]},d!==null&&(d=pu(d),d!==null&&Dn(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function tn(o,d,y,A,P){switch(d){case"focusin":return vi=xt(vi,o,d,y,A,P),!0;case"dragenter":return Bi=xt(Bi,o,d,y,A,P),!0;case"mouseover":return _a=xt(_a,o,d,y,A,P),!0;case"pointerover":var R=P.pointerId;return pr.set(R,xt(pr.get(R)||null,o,d,y,A,P)),!0;case"gotpointercapture":return R=P.pointerId,na.set(R,xt(na.get(R)||null,o,d,y,A,P)),!0}return!1}function Jd(o){var d=No(o.target);if(d!==null){var y=ei(d);if(y!==null){if(d=y.tag,d===13){if(d=vo(y),d!==null){o.blockedOn=d,Zc(o.priority,function(){st(y)});return}}else if(d===3&&y.stateNode.current.memoizedState.isDehydrated){o.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Rs(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var y=Sl(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(y===null){y=o.nativeEvent;var A=new y.constructor(y.type,y);Va=A,y.target.dispatchEvent(A),Va=null}else return d=pu(y),d!==null&&Dn(d),o.blockedOn=y,!1;d.shift()}return!0}function Jc(o,d,y){Rs(o)&&y.delete(d)}function Ha(){Qc=!1,vi!==null&&Rs(vi)&&(vi=null),Bi!==null&&Rs(Bi)&&(Bi=null),_a!==null&&Rs(_a)&&(_a=null),pr.forEach(Jc),na.forEach(Jc)}function yo(o,d){o.blockedOn===d&&(o.blockedOn=null,Qc||(Qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ha)))}function ia(o){function d(P){return yo(P,o)}if(0<ks.length){yo(ks[0],o);for(var y=1;y<ks.length;y++){var A=ks[y];A.blockedOn===o&&(A.blockedOn=null)}}for(vi!==null&&yo(vi,o),Bi!==null&&yo(Bi,o),_a!==null&&yo(_a,o),pr.forEach(d),na.forEach(d),y=0;y<_n.length;y++)A=_n[y],A.blockedOn===o&&(A.blockedOn=null);for(;0<_n.length&&(y=_n[0],y.blockedOn===null);)Jd(y),y.blockedOn===null&&_n.shift()}var Fi=z.ReactCurrentBatchConfig,Sa=!0;function ef(o,d,y,A){var P=At,R=Fi.transition;Fi.transition=null;try{At=1,Ga(o,d,y,A)}finally{At=P,Fi.transition=R}}function wo(o,d,y,A){var P=At,R=Fi.transition;Fi.transition=null;try{At=4,Ga(o,d,y,A)}finally{At=P,Fi.transition=R}}function Ga(o,d,y,A){if(Sa){var P=Sl(o,d,y,A);if(P===null)gm(o,d,A,rn,y),Qd(o,A);else if(tn(P,o,d,y,A))A.stopPropagation();else if(Qd(o,A),d&4&&-1<ht.indexOf(o)){for(;P!==null;){var R=pu(P);if(R!==null&&_l(R),R=Sl(o,d,y,A),R===null&&gm(o,d,A,rn,y),R===P)break;P=R}P!==null&&A.stopPropagation()}else gm(o,d,A,null,y)}}var rn=null;function Sl(o,d,y,A){if(rn=null,o=mo(A),o=No(o),o!==null)if(d=ei(o),d===null)o=null;else if(y=d.tag,y===13){if(o=vo(d),o!==null)return o;o=null}else if(y===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return rn=o,null}function eu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kc()){case Ee:return 1;case Xd:return 4;case Yt:case Ts:return 16;case Yd:return 536870912;default:return 16}default:return 16}}var aa=null,tu=null,Cl=null;function tf(){if(Cl)return Cl;var o,d=tu,y=d.length,A,P="value"in aa?aa.value:aa.textContent,R=P.length;for(o=0;o<y&&d[o]===P[o];o++);var U=y-o;for(A=1;A<=U&&d[y-A]===P[R-A];A++);return Cl=P.slice(o,1<A?1-A:void 0)}function jt(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function bo(){return!0}function Eo(){return!1}function Tr(o){function d(y,A,P,R,U){this._reactName=y,this._targetInst=P,this.type=A,this.nativeEvent=R,this.target=U,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(y=o[K],this[K]=y?y(R):R[K]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?bo:Eo,this.isPropagationStopped=Eo,this}return be(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),d}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},he=Tr(js),wt=be({},js,{view:0,detail:0}),nn=Tr(wt),Ms,Ol,Ao,Nl=be({},wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ao&&(Ao&&o.type==="mousemove"?(Ms=o.screenX-Ao.screenX,Ol=o.screenY-Ao.screenY):Ol=Ms=0,Ao=o),Ms)},movementY:function(o){return"movementY"in o?o.movementY:Ol}}),rf=Tr(Nl),ru=be({},Nl,{dataTransfer:0}),Br=Tr(ru),nu=be({},wt,{relatedTarget:0}),ir=Tr(nu),Il=be({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Tr(Il),Ht=be({},js,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ct=Tr(Ht),om=be({},js,{data:0}),Kt=Tr(om),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ds={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ui(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=lm[o])?!!d[o]:!1}function _o(){return Ui}var nf=be({},wt,{key:function(o){if(o.key){var d=Ka[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=jt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ds[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(o){return o.type==="keypress"?jt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?jt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),iu=Tr(nf),af=be({},Nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=Tr(af),cm=be({},wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),Ls=Tr(cm),su=be({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),um=Tr(su),So=be({},Nl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),dm=Tr(So),Ca=[9,13,27,32],Bs=f&&"CompositionEvent"in window,pn=null;f&&"documentMode"in document&&(pn=document.documentMode);var sf=f&&"TextEvent"in window&&!pn,xi=f&&(!Bs||pn&&8<pn&&11>=pn),of=" ",Tl=!1;function lf(o,d){switch(o){case"keyup":return Ca.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Sn=!1;function fm(o,d){switch(o){case"compositionend":return ou(d);case"keypress":return d.which!==32?null:(Tl=!0,of);case"textInput":return o=d.data,o===of&&Tl?null:o;default:return null}}function lu(o,d){if(Sn)return o==="compositionend"||!Bs&&lf(o,d)?(o=tf(),Cl=tu=aa=null,Sn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return xi&&d.locale!=="ko"?null:d.data;default:return null}}var Co={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!Co[o.type]:d==="textarea"}function Oo(o,d,y,A){Vc(A),d=df(d,"onChange"),0<d.length&&(y=new he("onChange","change",null,y,A),o.push({event:y,listeners:d}))}var B=null,a=null;function l(o){wb(o,0)}function u(o){var d=Rl(o);if(ye(d))return o}function h(o,d){if(o==="change")return d}var g=!1;if(f){var x;if(f){var E="oninput"in document;if(!E){var C=document.createElement("div");C.setAttribute("oninput","return;"),E=typeof C.oninput=="function"}x=E}else x=!1;g=x&&(!document.documentMode||9<document.documentMode)}function T(){B&&(B.detachEvent("onpropertychange",D),a=B=null)}function D(o){if(o.propertyName==="value"&&u(a)){var d=[];Oo(d,a,o,mo(o)),go(l,d)}}function F(o,d,y){o==="focusin"?(T(),B=d,a=y,B.attachEvent("onpropertychange",D)):o==="focusout"&&T()}function $(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(a)}function q(o,d){if(o==="click")return u(d)}function Z(o,d){if(o==="input"||o==="change")return u(d)}function J(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ne=typeof Object.is=="function"?Object.is:J;function fe(o,d){if(ne(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var y=Object.keys(o),A=Object.keys(d);if(y.length!==A.length)return!1;for(A=0;A<y.length;A++){var P=y[A];if(!p.call(d,P)||!ne(o[P],d[P]))return!1}return!0}function Te(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Pe(o,d){var y=Te(o);o=0;for(var A;y;){if(y.nodeType===3){if(A=o+y.textContent.length,o<=d&&A>=d)return{node:y,offset:d-o};o=A}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=Te(y)}}function Oe(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Oe(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function Ct(){for(var o=window,d=Ve();d instanceof o.HTMLIFrameElement;){try{var y=typeof d.contentWindow.location.href=="string"}catch{y=!1}if(y)o=d.contentWindow;else break;d=Ve(o.document)}return d}function yt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function Ln(o){var d=Ct(),y=o.focusedElem,A=o.selectionRange;if(d!==y&&y&&y.ownerDocument&&Oe(y.ownerDocument.documentElement,y)){if(A!==null&&yt(y)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in y)y.selectionStart=d,y.selectionEnd=Math.min(o,y.value.length);else if(o=(d=y.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=y.textContent.length,R=Math.min(A.start,P);A=A.end===void 0?R:Math.min(A.end,P),!o.extend&&R>A&&(P=A,A=R,R=P),P=Pe(y,R);var U=Pe(y,A);P&&U&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==U.node||o.focusOffset!==U.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),R>A?(o.addRange(d),o.extend(U.node,U.offset)):(d.setEnd(U.node,U.offset),o.addRange(d)))}}for(d=[],o=y;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<d.length;y++)o=d[y],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var yi=f&&"documentMode"in document&&11>=document.documentMode,Fr=null,Ut=null,_r=null,Cn=!1;function Xa(o,d,y){var A=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Cn||Fr==null||Fr!==Ve(A)||(A=Fr,"selectionStart"in A&&yt(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),_r&&fe(_r,A)||(_r=A,A=df(Ut,"onSelect"),0<A.length&&(d=new he("onSelect","select",null,d,y),o.push({event:d,listeners:A}),d.target=Fr)))}function sa(o,d){var y={};return y[o.toLowerCase()]=d.toLowerCase(),y["Webkit"+o]="webkit"+d,y["Moz"+o]="moz"+d,y}var Fs={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},cu={},fb={};f&&(fb=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function cf(o){if(cu[o])return cu[o];if(!Fs[o])return o;var d=Fs[o],y;for(y in d)if(d.hasOwnProperty(y)&&y in fb)return cu[o]=d[y];return o}var hb=cf("animationend"),pb=cf("animationiteration"),mb=cf("animationstart"),gb=cf("transitionend"),vb=new Map,xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(o,d){vb.set(o,d),s(d,[o])}for(var hm=0;hm<xb.length;hm++){var pm=xb[hm],fk=pm.toLowerCase(),hk=pm[0].toUpperCase()+pm.slice(1);Us(fk,"on"+hk)}Us(hb,"onAnimationEnd"),Us(pb,"onAnimationIteration"),Us(mb,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(gb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function yb(o,d,y){var A=o.type||"unknown-event";o.currentTarget=y,Mn(A,d,void 0,o),o.currentTarget=null}function wb(o,d){d=(d&4)!==0;for(var y=0;y<o.length;y++){var A=o[y],P=A.event;A=A.listeners;e:{var R=void 0;if(d)for(var U=A.length-1;0<=U;U--){var K=A[U],Q=K.instance,me=K.currentTarget;if(K=K.listener,Q!==R&&P.isPropagationStopped())break e;yb(P,K,me),R=Q}else for(U=0;U<A.length;U++){if(K=A[U],Q=K.instance,me=K.currentTarget,K=K.listener,Q!==R&&P.isPropagationStopped())break e;yb(P,K,me),R=Q}}}if(An)throw o=ze,An=!1,ze=null,o}function cr(o,d){var y=d[Em];y===void 0&&(y=d[Em]=new Set);var A=o+"__bubble";y.has(A)||(bb(d,o,2,!1),y.add(A))}function mm(o,d,y){var A=0;d&&(A|=4),bb(y,o,A,d)}var uf="_reactListening"+Math.random().toString(36).slice(2);function du(o){if(!o[uf]){o[uf]=!0,n.forEach(function(y){y!=="selectionchange"&&(pk.has(y)||mm(y,!1,o),mm(y,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[uf]||(d[uf]=!0,mm("selectionchange",!1,d))}}function bb(o,d,y,A){switch(eu(d)){case 1:var P=ef;break;case 4:P=wo;break;default:P=Ga}y=P.bind(null,d,y,o),P=void 0,!Hc||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),A?P!==void 0?o.addEventListener(d,y,{capture:!0,passive:P}):o.addEventListener(d,y,!0):P!==void 0?o.addEventListener(d,y,{passive:P}):o.addEventListener(d,y,!1)}function gm(o,d,y,A,P){var R=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var U=A.tag;if(U===3||U===4){var K=A.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(U===4)for(U=A.return;U!==null;){var Q=U.tag;if((Q===3||Q===4)&&(Q=U.stateNode.containerInfo,Q===P||Q.nodeType===8&&Q.parentNode===P))return;U=U.return}for(;K!==null;){if(U=No(K),U===null)return;if(Q=U.tag,Q===5||Q===6){A=R=U;continue e}K=K.parentNode}}A=A.return}go(function(){var me=R,Ne=mo(y),Ie=[];e:{var Se=vb.get(o);if(Se!==void 0){var $e=he,Ye=o;switch(o){case"keypress":if(jt(y)===0)break e;case"keydown":case"keyup":$e=iu;break;case"focusin":Ye="focus",$e=ir;break;case"focusout":Ye="blur",$e=ir;break;case"beforeblur":case"afterblur":$e=ir;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Ls;break;case hb:case pb:case mb:$e=qa;break;case gb:$e=um;break;case"scroll":$e=nn;break;case"wheel":$e=dm;break;case"copy":case"cut":case"paste":$e=ct;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=au}var Qe=(d&4)!==0,Ur=!Qe&&o==="scroll",ae=Qe?Se!==null?Se+"Capture":null:Se;Qe=[];for(var ee=me,ce;ee!==null;){ce=ee;var Re=ce.stateNode;if(ce.tag===5&&Re!==null&&(ce=Re,ae!==null&&(Re=jn(ee,ae),Re!=null&&Qe.push(fu(ee,Re,ce)))),Ur)break;ee=ee.return}0<Qe.length&&(Se=new $e(Se,Ye,null,y,Ne),Ie.push({event:Se,listeners:Qe}))}}if((d&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",$e=o==="mouseout"||o==="pointerout",Se&&y!==Va&&(Ye=y.relatedTarget||y.fromElement)&&(No(Ye)||Ye[Ya]))break e;if(($e||Se)&&(Se=Ne.window===Ne?Ne:(Se=Ne.ownerDocument)?Se.defaultView||Se.parentWindow:window,$e?(Ye=y.relatedTarget||y.toElement,$e=me,Ye=Ye?No(Ye):null,Ye!==null&&(Ur=ei(Ye),Ye!==Ur||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):($e=null,Ye=me),$e!==Ye)){if(Qe=rf,Re="onMouseLeave",ae="onMouseEnter",ee="mouse",(o==="pointerout"||o==="pointerover")&&(Qe=au,Re="onPointerLeave",ae="onPointerEnter",ee="pointer"),Ur=$e==null?Se:Rl($e),ce=Ye==null?Se:Rl(Ye),Se=new Qe(Re,ee+"leave",$e,y,Ne),Se.target=Ur,Se.relatedTarget=ce,Re=null,No(Ne)===me&&(Qe=new Qe(ae,ee+"enter",Ye,y,Ne),Qe.target=ce,Qe.relatedTarget=Ur,Re=Qe),Ur=Re,$e&&Ye)t:{for(Qe=$e,ae=Ye,ee=0,ce=Qe;ce;ce=Pl(ce))ee++;for(ce=0,Re=ae;Re;Re=Pl(Re))ce++;for(;0<ee-ce;)Qe=Pl(Qe),ee--;for(;0<ce-ee;)ae=Pl(ae),ce--;for(;ee--;){if(Qe===ae||ae!==null&&Qe===ae.alternate)break t;Qe=Pl(Qe),ae=Pl(ae)}Qe=null}else Qe=null;$e!==null&&Eb(Ie,Se,$e,Qe,!1),Ye!==null&&Ur!==null&&Eb(Ie,Ur,Ye,Qe,!0)}}e:{if(Se=me?Rl(me):window,$e=Se.nodeName&&Se.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Se.type==="file")var tt=h;else if(Pt(Se))if(g)tt=Z;else{tt=$;var dt=F}else($e=Se.nodeName)&&$e.toLowerCase()==="input"&&(Se.type==="checkbox"||Se.type==="radio")&&(tt=q);if(tt&&(tt=tt(o,me))){Oo(Ie,tt,y,Ne);break e}dt&&dt(o,Se,me),o==="focusout"&&(dt=Se._wrapperState)&&dt.controlled&&Se.type==="number"&&bt(Se,"number",Se.value)}switch(dt=me?Rl(me):window,o){case"focusin":(Pt(dt)||dt.contentEditable==="true")&&(Fr=dt,Ut=me,_r=null);break;case"focusout":_r=Ut=Fr=null;break;case"mousedown":Cn=!0;break;case"contextmenu":case"mouseup":case"dragend":Cn=!1,Xa(Ie,y,Ne);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Xa(Ie,y,Ne)}var ft;if(Bs)e:{switch(o){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Sn?lf(o,y)&&(gt="onCompositionEnd"):o==="keydown"&&y.keyCode===229&&(gt="onCompositionStart");gt&&(xi&&y.locale!=="ko"&&(Sn||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Sn&&(ft=tf()):(aa=Ne,tu="value"in aa?aa.value:aa.textContent,Sn=!0)),dt=df(me,gt),0<dt.length&&(gt=new Kt(gt,o,null,y,Ne),Ie.push({event:gt,listeners:dt}),ft?gt.data=ft:(ft=ou(y),ft!==null&&(gt.data=ft)))),(ft=sf?fm(o,y):lu(o,y))&&(me=df(me,"onBeforeInput"),0<me.length&&(Ne=new Kt("onBeforeInput","beforeinput",null,y,Ne),Ie.push({event:Ne,listeners:me}),Ne.data=ft))}wb(Ie,d)})}function fu(o,d,y){return{instance:o,listener:d,currentTarget:y}}function df(o,d){for(var y=d+"Capture",A=[];o!==null;){var P=o,R=P.stateNode;P.tag===5&&R!==null&&(P=R,R=jn(o,y),R!=null&&A.unshift(fu(o,R,P)),R=jn(o,d),R!=null&&A.push(fu(o,R,P))),o=o.return}return A}function Pl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Eb(o,d,y,A,P){for(var R=d._reactName,U=[];y!==null&&y!==A;){var K=y,Q=K.alternate,me=K.stateNode;if(Q!==null&&Q===A)break;K.tag===5&&me!==null&&(K=me,P?(Q=jn(y,R),Q!=null&&U.unshift(fu(y,Q,K))):P||(Q=jn(y,R),Q!=null&&U.push(fu(y,Q,K)))),y=y.return}U.length!==0&&o.push({event:d,listeners:U})}var mk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function Ab(o){return(typeof o=="string"?o:""+o).replace(mk,`
`).replace(gk,"")}function ff(o,d,y){if(d=Ab(d),Ab(o)!==d&&y)throw Error(r(425))}function hf(){}var vm=null,xm=null;function ym(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var wm=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,_b=typeof Promise=="function"?Promise:void 0,xk=typeof queueMicrotask=="function"?queueMicrotask:typeof _b<"u"?function(o){return _b.resolve(null).then(o).catch(yk)}:wm;function yk(o){setTimeout(function(){throw o})}function bm(o,d){var y=d,A=0;do{var P=y.nextSibling;if(o.removeChild(y),P&&P.nodeType===8)if(y=P.data,y==="/$"){if(A===0){o.removeChild(P),ia(d);return}A--}else y!=="$"&&y!=="$?"&&y!=="$!"||A++;y=P}while(y);ia(d)}function zs(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function Sb(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var y=o.data;if(y==="$"||y==="$!"||y==="$?"){if(d===0)return o;d--}else y==="/$"&&d++}o=o.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Oa="__reactFiber$"+kl,hu="__reactProps$"+kl,Ya="__reactContainer$"+kl,Em="__reactEvents$"+kl,wk="__reactListeners$"+kl,bk="__reactHandles$"+kl;function No(o){var d=o[Oa];if(d)return d;for(var y=o.parentNode;y;){if(d=y[Ya]||y[Oa]){if(y=d.alternate,d.child!==null||y!==null&&y.child!==null)for(o=Sb(o);o!==null;){if(y=o[Oa])return y;o=Sb(o)}return d}o=y,y=o.parentNode}return null}function pu(o){return o=o[Oa]||o[Ya],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Rl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function pf(o){return o[hu]||null}var Am=[],jl=-1;function $s(o){return{current:o}}function ur(o){0>jl||(o.current=Am[jl],Am[jl]=null,jl--)}function ar(o,d){jl++,Am[jl]=o.current,o.current=d}var Ws={},Bn=$s(Ws),ti=$s(!1),Io=Ws;function Ml(o,d){var y=o.type.contextTypes;if(!y)return Ws;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var P={},R;for(R in y)P[R]=d[R];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function ri(o){return o=o.childContextTypes,o!=null}function mf(){ur(ti),ur(Bn)}function Cb(o,d,y){if(Bn.current!==Ws)throw Error(r(168));ar(Bn,d),ar(ti,y)}function Ob(o,d,y){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return y;A=A.getChildContext();for(var P in A)if(!(P in d))throw Error(r(108,ot(o)||"Unknown",P));return be({},y,A)}function gf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ws,Io=Bn.current,ar(Bn,o),ar(ti,ti.current),!0}function Nb(o,d,y){var A=o.stateNode;if(!A)throw Error(r(169));y?(o=Ob(o,d,Io),A.__reactInternalMemoizedMergedChildContext=o,ur(ti),ur(Bn),ar(Bn,o)):ur(ti),ar(ti,y)}var Za=null,vf=!1,_m=!1;function Ib(o){Za===null?Za=[o]:Za.push(o)}function Ek(o){vf=!0,Ib(o)}function Vs(){if(!_m&&Za!==null){_m=!0;var o=0,d=At;try{var y=Za;for(At=1;o<y.length;o++){var A=y[o];do A=A(!0);while(A!==null)}Za=null,vf=!1}catch(P){throw Za!==null&&(Za=Za.slice(o+1)),pi(Ee,Vs),P}finally{At=d,_m=!1}}return null}var Dl=[],Ll=0,xf=null,yf=0,zi=[],$i=0,To=null,Qa=1,Ja="";function Po(o,d){Dl[Ll++]=yf,Dl[Ll++]=xf,xf=o,yf=d}function Tb(o,d,y){zi[$i++]=Qa,zi[$i++]=Ja,zi[$i++]=To,To=o;var A=Qa;o=Ja;var P=32-Gn(A)-1;A&=~(1<<P),y+=1;var R=32-Gn(d)+P;if(30<R){var U=P-P%5;R=(A&(1<<U)-1).toString(32),A>>=U,P-=U,Qa=1<<32-Gn(d)+P|y<<P|A,Ja=R+o}else Qa=1<<R|y<<P|A,Ja=o}function Sm(o){o.return!==null&&(Po(o,1),Tb(o,1,0))}function Cm(o){for(;o===xf;)xf=Dl[--Ll],Dl[Ll]=null,yf=Dl[--Ll],Dl[Ll]=null;for(;o===To;)To=zi[--$i],zi[$i]=null,Ja=zi[--$i],zi[$i]=null,Qa=zi[--$i],zi[$i]=null}var wi=null,bi=null,mr=!1,oa=null;function Pb(o,d){var y=Gi(5,null,null,0);y.elementType="DELETED",y.stateNode=d,y.return=o,d=o.deletions,d===null?(o.deletions=[y],o.flags|=16):d.push(y)}function kb(o,d){switch(o.tag){case 5:var y=o.type;return d=d.nodeType!==1||y.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,wi=o,bi=zs(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,wi=o,bi=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(y=To!==null?{id:Qa,overflow:Ja}:null,o.memoizedState={dehydrated:d,treeContext:y,retryLane:1073741824},y=Gi(18,null,null,0),y.stateNode=d,y.return=o,o.child=y,wi=o,bi=null,!0):!1;default:return!1}}function Om(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Nm(o){if(mr){var d=bi;if(d){var y=d;if(!kb(o,d)){if(Om(o))throw Error(r(418));d=zs(y.nextSibling);var A=wi;d&&kb(o,d)?Pb(A,y):(o.flags=o.flags&-4097|2,mr=!1,wi=o)}}else{if(Om(o))throw Error(r(418));o.flags=o.flags&-4097|2,mr=!1,wi=o}}}function Rb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;wi=o}function wf(o){if(o!==wi)return!1;if(!mr)return Rb(o),mr=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!ym(o.type,o.memoizedProps)),d&&(d=bi)){if(Om(o))throw jb(),Error(r(418));for(;d;)Pb(o,d),d=zs(d.nextSibling)}if(Rb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var y=o.data;if(y==="/$"){if(d===0){bi=zs(o.nextSibling);break e}d--}else y!=="$"&&y!=="$!"&&y!=="$?"||d++}o=o.nextSibling}bi=null}}else bi=wi?zs(o.stateNode.nextSibling):null;return!0}function jb(){for(var o=bi;o;)o=zs(o.nextSibling)}function Bl(){bi=wi=null,mr=!1}function Im(o){oa===null?oa=[o]:oa.push(o)}var Ak=z.ReactCurrentBatchConfig;function mu(o,d,y){if(o=y.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(r(309));var A=y.stateNode}if(!A)throw Error(r(147,o));var P=A,R=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===R?d.ref:(d=function(U){var K=P.refs;U===null?delete K[R]:K[R]=U},d._stringRef=R,d)}if(typeof o!="string")throw Error(r(284));if(!y._owner)throw Error(r(290,o))}return o}function bf(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Mb(o){var d=o._init;return d(o._payload)}function Db(o){function d(ae,ee){if(o){var ce=ae.deletions;ce===null?(ae.deletions=[ee],ae.flags|=16):ce.push(ee)}}function y(ae,ee){if(!o)return null;for(;ee!==null;)d(ae,ee),ee=ee.sibling;return null}function A(ae,ee){for(ae=new Map;ee!==null;)ee.key!==null?ae.set(ee.key,ee):ae.set(ee.index,ee),ee=ee.sibling;return ae}function P(ae,ee){return ae=Qs(ae,ee),ae.index=0,ae.sibling=null,ae}function R(ae,ee,ce){return ae.index=ce,o?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<ee?(ae.flags|=2,ee):ce):(ae.flags|=2,ee)):(ae.flags|=1048576,ee)}function U(ae){return o&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,ee,ce,Re){return ee===null||ee.tag!==6?(ee=w1(ce,ae.mode,Re),ee.return=ae,ee):(ee=P(ee,ce),ee.return=ae,ee)}function Q(ae,ee,ce,Re){var tt=ce.type;return tt===H?Ne(ae,ee,ce.props.children,Re,ce.key):ee!==null&&(ee.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Fe&&Mb(tt)===ee.type)?(Re=P(ee,ce.props),Re.ref=mu(ae,ee,ce),Re.return=ae,Re):(Re=Hf(ce.type,ce.key,ce.props,null,ae.mode,Re),Re.ref=mu(ae,ee,ce),Re.return=ae,Re)}function me(ae,ee,ce,Re){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ce.containerInfo||ee.stateNode.implementation!==ce.implementation?(ee=b1(ce,ae.mode,Re),ee.return=ae,ee):(ee=P(ee,ce.children||[]),ee.return=ae,ee)}function Ne(ae,ee,ce,Re,tt){return ee===null||ee.tag!==7?(ee=Fo(ce,ae.mode,Re,tt),ee.return=ae,ee):(ee=P(ee,ce),ee.return=ae,ee)}function Ie(ae,ee,ce){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=w1(""+ee,ae.mode,ce),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case W:return ce=Hf(ee.type,ee.key,ee.props,null,ae.mode,ce),ce.ref=mu(ae,null,ee),ce.return=ae,ce;case V:return ee=b1(ee,ae.mode,ce),ee.return=ae,ee;case Fe:var Re=ee._init;return Ie(ae,Re(ee._payload),ce)}if(hr(ee)||we(ee))return ee=Fo(ee,ae.mode,ce,null),ee.return=ae,ee;bf(ae,ee)}return null}function Se(ae,ee,ce,Re){var tt=ee!==null?ee.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return tt!==null?null:K(ae,ee,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:return ce.key===tt?Q(ae,ee,ce,Re):null;case V:return ce.key===tt?me(ae,ee,ce,Re):null;case Fe:return tt=ce._init,Se(ae,ee,tt(ce._payload),Re)}if(hr(ce)||we(ce))return tt!==null?null:Ne(ae,ee,ce,Re,null);bf(ae,ce)}return null}function $e(ae,ee,ce,Re,tt){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return ae=ae.get(ce)||null,K(ee,ae,""+Re,tt);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case W:return ae=ae.get(Re.key===null?ce:Re.key)||null,Q(ee,ae,Re,tt);case V:return ae=ae.get(Re.key===null?ce:Re.key)||null,me(ee,ae,Re,tt);case Fe:var dt=Re._init;return $e(ae,ee,ce,dt(Re._payload),tt)}if(hr(Re)||we(Re))return ae=ae.get(ce)||null,Ne(ee,ae,Re,tt,null);bf(ee,Re)}return null}function Ye(ae,ee,ce,Re){for(var tt=null,dt=null,ft=ee,gt=ee=0,vn=null;ft!==null&&gt<ce.length;gt++){ft.index>gt?(vn=ft,ft=null):vn=ft.sibling;var Dt=Se(ae,ft,ce[gt],Re);if(Dt===null){ft===null&&(ft=vn);break}o&&ft&&Dt.alternate===null&&d(ae,ft),ee=R(Dt,ee,gt),dt===null?tt=Dt:dt.sibling=Dt,dt=Dt,ft=vn}if(gt===ce.length)return y(ae,ft),mr&&Po(ae,gt),tt;if(ft===null){for(;gt<ce.length;gt++)ft=Ie(ae,ce[gt],Re),ft!==null&&(ee=R(ft,ee,gt),dt===null?tt=ft:dt.sibling=ft,dt=ft);return mr&&Po(ae,gt),tt}for(ft=A(ae,ft);gt<ce.length;gt++)vn=$e(ft,ae,gt,ce[gt],Re),vn!==null&&(o&&vn.alternate!==null&&ft.delete(vn.key===null?gt:vn.key),ee=R(vn,ee,gt),dt===null?tt=vn:dt.sibling=vn,dt=vn);return o&&ft.forEach(function(Js){return d(ae,Js)}),mr&&Po(ae,gt),tt}function Qe(ae,ee,ce,Re){var tt=we(ce);if(typeof tt!="function")throw Error(r(150));if(ce=tt.call(ce),ce==null)throw Error(r(151));for(var dt=tt=null,ft=ee,gt=ee=0,vn=null,Dt=ce.next();ft!==null&&!Dt.done;gt++,Dt=ce.next()){ft.index>gt?(vn=ft,ft=null):vn=ft.sibling;var Js=Se(ae,ft,Dt.value,Re);if(Js===null){ft===null&&(ft=vn);break}o&&ft&&Js.alternate===null&&d(ae,ft),ee=R(Js,ee,gt),dt===null?tt=Js:dt.sibling=Js,dt=Js,ft=vn}if(Dt.done)return y(ae,ft),mr&&Po(ae,gt),tt;if(ft===null){for(;!Dt.done;gt++,Dt=ce.next())Dt=Ie(ae,Dt.value,Re),Dt!==null&&(ee=R(Dt,ee,gt),dt===null?tt=Dt:dt.sibling=Dt,dt=Dt);return mr&&Po(ae,gt),tt}for(ft=A(ae,ft);!Dt.done;gt++,Dt=ce.next())Dt=$e(ft,ae,gt,Dt.value,Re),Dt!==null&&(o&&Dt.alternate!==null&&ft.delete(Dt.key===null?gt:Dt.key),ee=R(Dt,ee,gt),dt===null?tt=Dt:dt.sibling=Dt,dt=Dt);return o&&ft.forEach(function(rR){return d(ae,rR)}),mr&&Po(ae,gt),tt}function Ur(ae,ee,ce,Re){if(typeof ce=="object"&&ce!==null&&ce.type===H&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case W:e:{for(var tt=ce.key,dt=ee;dt!==null;){if(dt.key===tt){if(tt=ce.type,tt===H){if(dt.tag===7){y(ae,dt.sibling),ee=P(dt,ce.props.children),ee.return=ae,ae=ee;break e}}else if(dt.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Fe&&Mb(tt)===dt.type){y(ae,dt.sibling),ee=P(dt,ce.props),ee.ref=mu(ae,dt,ce),ee.return=ae,ae=ee;break e}y(ae,dt);break}else d(ae,dt);dt=dt.sibling}ce.type===H?(ee=Fo(ce.props.children,ae.mode,Re,ce.key),ee.return=ae,ae=ee):(Re=Hf(ce.type,ce.key,ce.props,null,ae.mode,Re),Re.ref=mu(ae,ee,ce),Re.return=ae,ae=Re)}return U(ae);case V:e:{for(dt=ce.key;ee!==null;){if(ee.key===dt)if(ee.tag===4&&ee.stateNode.containerInfo===ce.containerInfo&&ee.stateNode.implementation===ce.implementation){y(ae,ee.sibling),ee=P(ee,ce.children||[]),ee.return=ae,ae=ee;break e}else{y(ae,ee);break}else d(ae,ee);ee=ee.sibling}ee=b1(ce,ae.mode,Re),ee.return=ae,ae=ee}return U(ae);case Fe:return dt=ce._init,Ur(ae,ee,dt(ce._payload),Re)}if(hr(ce))return Ye(ae,ee,ce,Re);if(we(ce))return Qe(ae,ee,ce,Re);bf(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ee!==null&&ee.tag===6?(y(ae,ee.sibling),ee=P(ee,ce),ee.return=ae,ae=ee):(y(ae,ee),ee=w1(ce,ae.mode,Re),ee.return=ae,ae=ee),U(ae)):y(ae,ee)}return Ur}var Fl=Db(!0),Lb=Db(!1),Ef=$s(null),Af=null,Ul=null,Tm=null;function Pm(){Tm=Ul=Af=null}function km(o){var d=Ef.current;ur(Ef),o._currentValue=d}function Rm(o,d,y){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===y)break;o=o.return}}function zl(o,d){Af=o,Tm=Ul=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(ni=!0),o.firstContext=null)}function Wi(o){var d=o._currentValue;if(Tm!==o)if(o={context:o,memoizedValue:d,next:null},Ul===null){if(Af===null)throw Error(r(308));Ul=o,Af.dependencies={lanes:0,firstContext:o}}else Ul=Ul.next=o;return d}var ko=null;function jm(o){ko===null?ko=[o]:ko.push(o)}function Bb(o,d,y,A){var P=d.interleaved;return P===null?(y.next=y,jm(d)):(y.next=P.next,P.next=y),d.interleaved=y,es(o,A)}function es(o,d){o.lanes|=d;var y=o.alternate;for(y!==null&&(y.lanes|=d),y=o,o=o.return;o!==null;)o.childLanes|=d,y=o.alternate,y!==null&&(y.childLanes|=d),y=o,o=o.return;return y.tag===3?y.stateNode:null}var Hs=!1;function Mm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ts(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Gs(o,d,y){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Mt&2)!==0){var P=A.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),A.pending=d,es(o,y)}return P=A.interleaved,P===null?(d.next=d,jm(A)):(d.next=P.next,P.next=d),A.interleaved=d,es(o,y)}function _f(o,d,y){if(d=d.updateQueue,d!==null&&(d=d.shared,(y&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,y|=A,d.lanes=y,Ir(o,y)}}function Ub(o,d){var y=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,y===A)){var P=null,R=null;if(y=y.firstBaseUpdate,y!==null){do{var U={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};R===null?P=R=U:R=R.next=U,y=y.next}while(y!==null);R===null?P=R=d:R=R.next=d}else P=R=d;y={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:R,shared:A.shared,effects:A.effects},o.updateQueue=y;return}o=y.lastBaseUpdate,o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=d}function Sf(o,d,y,A){var P=o.updateQueue;Hs=!1;var R=P.firstBaseUpdate,U=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var Q=K,me=Q.next;Q.next=null,U===null?R=me:U.next=me,U=Q;var Ne=o.alternate;Ne!==null&&(Ne=Ne.updateQueue,K=Ne.lastBaseUpdate,K!==U&&(K===null?Ne.firstBaseUpdate=me:K.next=me,Ne.lastBaseUpdate=Q))}if(R!==null){var Ie=P.baseState;U=0,Ne=me=Q=null,K=R;do{var Se=K.lane,$e=K.eventTime;if((A&Se)===Se){Ne!==null&&(Ne=Ne.next={eventTime:$e,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ye=o,Qe=K;switch(Se=d,$e=y,Qe.tag){case 1:if(Ye=Qe.payload,typeof Ye=="function"){Ie=Ye.call($e,Ie,Se);break e}Ie=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Qe.payload,Se=typeof Ye=="function"?Ye.call($e,Ie,Se):Ye,Se==null)break e;Ie=be({},Ie,Se);break e;case 2:Hs=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Se=P.effects,Se===null?P.effects=[K]:Se.push(K))}else $e={eventTime:$e,lane:Se,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ne===null?(me=Ne=$e,Q=Ie):Ne=Ne.next=$e,U|=Se;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;Se=K,K=Se.next,Se.next=null,P.lastBaseUpdate=Se,P.shared.pending=null}}while(!0);if(Ne===null&&(Q=Ie),P.baseState=Q,P.firstBaseUpdate=me,P.lastBaseUpdate=Ne,d=P.shared.interleaved,d!==null){P=d;do U|=P.lane,P=P.next;while(P!==d)}else R===null&&(P.shared.lanes=0);Mo|=U,o.lanes=U,o.memoizedState=Ie}}function zb(o,d,y){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],P=A.callback;if(P!==null){if(A.callback=null,A=y,typeof P!="function")throw Error(r(191,P));P.call(A)}}}var gu={},Na=$s(gu),vu=$s(gu),xu=$s(gu);function Ro(o){if(o===gu)throw Error(r(174));return o}function Dm(o,d){switch(ar(xu,d),ar(vu,o),ar(Na,gu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:lt(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=lt(d,o)}ur(Na),ar(Na,d)}function $l(){ur(Na),ur(vu),ur(xu)}function $b(o){Ro(xu.current);var d=Ro(Na.current),y=lt(d,o.type);d!==y&&(ar(vu,o),ar(Na,y))}function Lm(o){vu.current===o&&(ur(Na),ur(vu))}var Sr=$s(0);function Cf(o){for(var d=o;d!==null;){if(d.tag===13){var y=d.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Bm=[];function Fm(){for(var o=0;o<Bm.length;o++)Bm[o]._workInProgressVersionPrimary=null;Bm.length=0}var Of=z.ReactCurrentDispatcher,Um=z.ReactCurrentBatchConfig,jo=0,Cr=null,an=null,mn=null,Nf=!1,yu=!1,wu=0,_k=0;function Fn(){throw Error(r(321))}function zm(o,d){if(d===null)return!1;for(var y=0;y<d.length&&y<o.length;y++)if(!ne(o[y],d[y]))return!1;return!0}function $m(o,d,y,A,P,R){if(jo=R,Cr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Of.current=o===null||o.memoizedState===null?Nk:Ik,o=y(A,P),yu){R=0;do{if(yu=!1,wu=0,25<=R)throw Error(r(301));R+=1,mn=an=null,d.updateQueue=null,Of.current=Tk,o=y(A,P)}while(yu)}if(Of.current=Pf,d=an!==null&&an.next!==null,jo=0,mn=an=Cr=null,Nf=!1,d)throw Error(r(300));return o}function Wm(){var o=wu!==0;return wu=0,o}function Ia(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Cr.memoizedState=mn=o:mn=mn.next=o,mn}function Vi(){if(an===null){var o=Cr.alternate;o=o!==null?o.memoizedState:null}else o=an.next;var d=mn===null?Cr.memoizedState:mn.next;if(d!==null)mn=d,an=o;else{if(o===null)throw Error(r(310));an=o,o={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},mn===null?Cr.memoizedState=mn=o:mn=mn.next=o}return mn}function bu(o,d){return typeof d=="function"?d(o):d}function Vm(o){var d=Vi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var A=an,P=A.baseQueue,R=y.pending;if(R!==null){if(P!==null){var U=P.next;P.next=R.next,R.next=U}A.baseQueue=P=R,y.pending=null}if(P!==null){R=P.next,A=A.baseState;var K=U=null,Q=null,me=R;do{var Ne=me.lane;if((jo&Ne)===Ne)Q!==null&&(Q=Q.next={lane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),A=me.hasEagerState?me.eagerState:o(A,me.action);else{var Ie={lane:Ne,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null};Q===null?(K=Q=Ie,U=A):Q=Q.next=Ie,Cr.lanes|=Ne,Mo|=Ne}me=me.next}while(me!==null&&me!==R);Q===null?U=A:Q.next=K,ne(A,d.memoizedState)||(ni=!0),d.memoizedState=A,d.baseState=U,d.baseQueue=Q,y.lastRenderedState=A}if(o=y.interleaved,o!==null){P=o;do R=P.lane,Cr.lanes|=R,Mo|=R,P=P.next;while(P!==o)}else P===null&&(y.lanes=0);return[d.memoizedState,y.dispatch]}function Hm(o){var d=Vi(),y=d.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=o;var A=y.dispatch,P=y.pending,R=d.memoizedState;if(P!==null){y.pending=null;var U=P=P.next;do R=o(R,U.action),U=U.next;while(U!==P);ne(R,d.memoizedState)||(ni=!0),d.memoizedState=R,d.baseQueue===null&&(d.baseState=R),y.lastRenderedState=R}return[R,A]}function Wb(){}function Vb(o,d){var y=Cr,A=Vi(),P=d(),R=!ne(A.memoizedState,P);if(R&&(A.memoizedState=P,ni=!0),A=A.queue,Gm(qb.bind(null,y,A,o),[o]),A.getSnapshot!==d||R||mn!==null&&mn.memoizedState.tag&1){if(y.flags|=2048,Eu(9,Gb.bind(null,y,A,P,d),void 0,null),gn===null)throw Error(r(349));(jo&30)!==0||Hb(y,d,P)}return P}function Hb(o,d,y){o.flags|=16384,o={getSnapshot:d,value:y},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.stores=[o]):(y=d.stores,y===null?d.stores=[o]:y.push(o))}function Gb(o,d,y,A){d.value=y,d.getSnapshot=A,Kb(d)&&Xb(o)}function qb(o,d,y){return y(function(){Kb(d)&&Xb(o)})}function Kb(o){var d=o.getSnapshot;o=o.value;try{var y=d();return!ne(o,y)}catch{return!0}}function Xb(o){var d=es(o,1);d!==null&&da(d,o,1,-1)}function Yb(o){var d=Ia();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:o},d.queue=o,o=o.dispatch=Ok.bind(null,Cr,o),[d.memoizedState,o]}function Eu(o,d,y,A){return o={tag:o,create:d,destroy:y,deps:A,next:null},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.lastEffect=o.next=o):(y=d.lastEffect,y===null?d.lastEffect=o.next=o:(A=y.next,y.next=o,o.next=A,d.lastEffect=o)),o}function Zb(){return Vi().memoizedState}function If(o,d,y,A){var P=Ia();Cr.flags|=o,P.memoizedState=Eu(1|d,y,void 0,A===void 0?null:A)}function Tf(o,d,y,A){var P=Vi();A=A===void 0?null:A;var R=void 0;if(an!==null){var U=an.memoizedState;if(R=U.destroy,A!==null&&zm(A,U.deps)){P.memoizedState=Eu(d,y,R,A);return}}Cr.flags|=o,P.memoizedState=Eu(1|d,y,R,A)}function Qb(o,d){return If(8390656,8,o,d)}function Gm(o,d){return Tf(2048,8,o,d)}function Jb(o,d){return Tf(4,2,o,d)}function e2(o,d){return Tf(4,4,o,d)}function t2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function r2(o,d,y){return y=y!=null?y.concat([o]):null,Tf(4,4,t2.bind(null,d,o),y)}function qm(){}function n2(o,d){var y=Vi();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&zm(d,A[1])?A[0]:(y.memoizedState=[o,d],o)}function i2(o,d){var y=Vi();d=d===void 0?null:d;var A=y.memoizedState;return A!==null&&d!==null&&zm(d,A[1])?A[0]:(o=o(),y.memoizedState=[o,d],o)}function a2(o,d,y){return(jo&21)===0?(o.baseState&&(o.baseState=!1,ni=!0),o.memoizedState=y):(ne(y,d)||(y=en(),Cr.lanes|=y,Mo|=y,o.baseState=!0),d)}function Sk(o,d){var y=At;At=y!==0&&4>y?y:4,o(!0);var A=Um.transition;Um.transition={};try{o(!1),d()}finally{At=y,Um.transition=A}}function s2(){return Vi().memoizedState}function Ck(o,d,y){var A=Ys(o);if(y={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null},o2(o))l2(d,y);else if(y=Bb(o,d,y,A),y!==null){var P=Kn();da(y,o,A,P),c2(y,d,A)}}function Ok(o,d,y){var A=Ys(o),P={lane:A,action:y,hasEagerState:!1,eagerState:null,next:null};if(o2(o))l2(d,P);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=d.lastRenderedReducer,R!==null))try{var U=d.lastRenderedState,K=R(U,y);if(P.hasEagerState=!0,P.eagerState=K,ne(K,U)){var Q=d.interleaved;Q===null?(P.next=P,jm(d)):(P.next=Q.next,Q.next=P),d.interleaved=P;return}}catch{}finally{}y=Bb(o,d,P,A),y!==null&&(P=Kn(),da(y,o,A,P),c2(y,d,A))}}function o2(o){var d=o.alternate;return o===Cr||d!==null&&d===Cr}function l2(o,d){yu=Nf=!0;var y=o.pending;y===null?d.next=d:(d.next=y.next,y.next=d),o.pending=d}function c2(o,d,y){if((y&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,y|=A,d.lanes=y,Ir(o,y)}}var Pf={readContext:Wi,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},Nk={readContext:Wi,useCallback:function(o,d){return Ia().memoizedState=[o,d===void 0?null:d],o},useContext:Wi,useEffect:Qb,useImperativeHandle:function(o,d,y){return y=y!=null?y.concat([o]):null,If(4194308,4,t2.bind(null,d,o),y)},useLayoutEffect:function(o,d){return If(4194308,4,o,d)},useInsertionEffect:function(o,d){return If(4,2,o,d)},useMemo:function(o,d){var y=Ia();return d=d===void 0?null:d,o=o(),y.memoizedState=[o,d],o},useReducer:function(o,d,y){var A=Ia();return d=y!==void 0?y(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=Ck.bind(null,Cr,o),[A.memoizedState,o]},useRef:function(o){var d=Ia();return o={current:o},d.memoizedState=o},useState:Yb,useDebugValue:qm,useDeferredValue:function(o){return Ia().memoizedState=o},useTransition:function(){var o=Yb(!1),d=o[0];return o=Sk.bind(null,o[1]),Ia().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,y){var A=Cr,P=Ia();if(mr){if(y===void 0)throw Error(r(407));y=y()}else{if(y=d(),gn===null)throw Error(r(349));(jo&30)!==0||Hb(A,d,y)}P.memoizedState=y;var R={value:y,getSnapshot:d};return P.queue=R,Qb(qb.bind(null,A,R,o),[o]),A.flags|=2048,Eu(9,Gb.bind(null,A,R,y,d),void 0,null),y},useId:function(){var o=Ia(),d=gn.identifierPrefix;if(mr){var y=Ja,A=Qa;y=(A&~(1<<32-Gn(A)-1)).toString(32)+y,d=":"+d+"R"+y,y=wu++,0<y&&(d+="H"+y.toString(32)),d+=":"}else y=_k++,d=":"+d+"r"+y.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},Ik={readContext:Wi,useCallback:n2,useContext:Wi,useEffect:Gm,useImperativeHandle:r2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:i2,useReducer:Vm,useRef:Zb,useState:function(){return Vm(bu)},useDebugValue:qm,useDeferredValue:function(o){var d=Vi();return a2(d,an.memoizedState,o)},useTransition:function(){var o=Vm(bu)[0],d=Vi().memoizedState;return[o,d]},useMutableSource:Wb,useSyncExternalStore:Vb,useId:s2,unstable_isNewReconciler:!1},Tk={readContext:Wi,useCallback:n2,useContext:Wi,useEffect:Gm,useImperativeHandle:r2,useInsertionEffect:Jb,useLayoutEffect:e2,useMemo:i2,useReducer:Hm,useRef:Zb,useState:function(){return Hm(bu)},useDebugValue:qm,useDeferredValue:function(o){var d=Vi();return an===null?d.memoizedState=o:a2(d,an.memoizedState,o)},useTransition:function(){var o=Hm(bu)[0],d=Vi().memoizedState;return[o,d]},useMutableSource:Wb,useSyncExternalStore:Vb,useId:s2,unstable_isNewReconciler:!1};function la(o,d){if(o&&o.defaultProps){d=be({},d),o=o.defaultProps;for(var y in o)d[y]===void 0&&(d[y]=o[y]);return d}return d}function Km(o,d,y,A){d=o.memoizedState,y=y(A,d),y=y==null?d:be({},d,y),o.memoizedState=y,o.lanes===0&&(o.updateQueue.baseState=y)}var kf={isMounted:function(o){return(o=o._reactInternals)?ei(o)===o:!1},enqueueSetState:function(o,d,y){o=o._reactInternals;var A=Kn(),P=Ys(o),R=ts(A,P);R.payload=d,y!=null&&(R.callback=y),d=Gs(o,R,P),d!==null&&(da(d,o,P,A),_f(d,o,P))},enqueueReplaceState:function(o,d,y){o=o._reactInternals;var A=Kn(),P=Ys(o),R=ts(A,P);R.tag=1,R.payload=d,y!=null&&(R.callback=y),d=Gs(o,R,P),d!==null&&(da(d,o,P,A),_f(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var y=Kn(),A=Ys(o),P=ts(y,A);P.tag=2,d!=null&&(P.callback=d),d=Gs(o,P,A),d!==null&&(da(d,o,A,y),_f(d,o,A))}};function u2(o,d,y,A,P,R,U){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,R,U):d.prototype&&d.prototype.isPureReactComponent?!fe(y,A)||!fe(P,R):!0}function d2(o,d,y){var A=!1,P=Ws,R=d.contextType;return typeof R=="object"&&R!==null?R=Wi(R):(P=ri(d)?Io:Bn.current,A=d.contextTypes,R=(A=A!=null)?Ml(o,P):Ws),d=new d(y,R),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=R),d}function f2(o,d,y,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(y,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(y,A),d.state!==o&&kf.enqueueReplaceState(d,d.state,null)}function Xm(o,d,y,A){var P=o.stateNode;P.props=y,P.state=o.memoizedState,P.refs={},Mm(o);var R=d.contextType;typeof R=="object"&&R!==null?P.context=Wi(R):(R=ri(d)?Io:Bn.current,P.context=Ml(o,R)),P.state=o.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Km(o,d,R,y),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&kf.enqueueReplaceState(P,P.state,null),Sf(o,y,P,A),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function Wl(o,d){try{var y="",A=d;do y+=We(A),A=A.return;while(A);var P=y}catch(R){P=`
Error generating stack: `+R.message+`
`+R.stack}return{value:o,source:d,stack:P,digest:null}}function Ym(o,d,y){return{value:o,source:null,stack:y??null,digest:d??null}}function Zm(o,d){try{console.error(d.value)}catch(y){setTimeout(function(){throw y})}}var Pk=typeof WeakMap=="function"?WeakMap:Map;function h2(o,d,y){y=ts(-1,y),y.tag=3,y.payload={element:null};var A=d.value;return y.callback=function(){Ff||(Ff=!0,f1=A),Zm(o,d)},y}function p2(o,d,y){y=ts(-1,y),y.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var P=d.value;y.payload=function(){return A(P)},y.callback=function(){Zm(o,d)}}var R=o.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(y.callback=function(){Zm(o,d),typeof A!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var U=d.stack;this.componentDidCatch(d.value,{componentStack:U!==null?U:""})}),y}function m2(o,d,y){var A=o.pingCache;if(A===null){A=o.pingCache=new Pk;var P=new Set;A.set(d,P)}else P=A.get(d),P===void 0&&(P=new Set,A.set(d,P));P.has(y)||(P.add(y),o=Hk.bind(null,o,d,y),d.then(o,o))}function g2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function v2(o,d,y,A,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(d=ts(-1,1),d.tag=2,Gs(y,d,1))),y.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var kk=z.ReactCurrentOwner,ni=!1;function qn(o,d,y,A){d.child=o===null?Lb(d,null,y,A):Fl(d,o.child,y,A)}function x2(o,d,y,A,P){y=y.render;var R=d.ref;return zl(d,P),A=$m(o,d,y,A,R,P),y=Wm(),o!==null&&!ni?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,rs(o,d,P)):(mr&&y&&Sm(d),d.flags|=1,qn(o,d,A,P),d.child)}function y2(o,d,y,A,P){if(o===null){var R=y.type;return typeof R=="function"&&!y1(R)&&R.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(d.tag=15,d.type=R,w2(o,d,R,A,P)):(o=Hf(y.type,null,A,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(R=o.child,(o.lanes&P)===0){var U=R.memoizedProps;if(y=y.compare,y=y!==null?y:fe,y(U,A)&&o.ref===d.ref)return rs(o,d,P)}return d.flags|=1,o=Qs(R,A),o.ref=d.ref,o.return=d,d.child=o}function w2(o,d,y,A,P){if(o!==null){var R=o.memoizedProps;if(fe(R,A)&&o.ref===d.ref)if(ni=!1,d.pendingProps=A=R,(o.lanes&P)!==0)(o.flags&131072)!==0&&(ni=!0);else return d.lanes=o.lanes,rs(o,d,P)}return Qm(o,d,y,A,P)}function b2(o,d,y){var A=d.pendingProps,P=A.children,R=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Hl,Ei),Ei|=y;else{if((y&1073741824)===0)return o=R!==null?R.baseLanes|y:y,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,ar(Hl,Ei),Ei|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=R!==null?R.baseLanes:y,ar(Hl,Ei),Ei|=A}else R!==null?(A=R.baseLanes|y,d.memoizedState=null):A=y,ar(Hl,Ei),Ei|=A;return qn(o,d,P,y),d.child}function E2(o,d){var y=d.ref;(o===null&&y!==null||o!==null&&o.ref!==y)&&(d.flags|=512,d.flags|=2097152)}function Qm(o,d,y,A,P){var R=ri(y)?Io:Bn.current;return R=Ml(d,R),zl(d,P),y=$m(o,d,y,A,R,P),A=Wm(),o!==null&&!ni?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,rs(o,d,P)):(mr&&A&&Sm(d),d.flags|=1,qn(o,d,y,P),d.child)}function A2(o,d,y,A,P){if(ri(y)){var R=!0;gf(d)}else R=!1;if(zl(d,P),d.stateNode===null)jf(o,d),d2(d,y,A),Xm(d,y,A,P),A=!0;else if(o===null){var U=d.stateNode,K=d.memoizedProps;U.props=K;var Q=U.context,me=y.contextType;typeof me=="object"&&me!==null?me=Wi(me):(me=ri(y)?Io:Bn.current,me=Ml(d,me));var Ne=y.getDerivedStateFromProps,Ie=typeof Ne=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ie||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==A||Q!==me)&&f2(d,U,A,me),Hs=!1;var Se=d.memoizedState;U.state=Se,Sf(d,A,U,P),Q=d.memoizedState,K!==A||Se!==Q||ti.current||Hs?(typeof Ne=="function"&&(Km(d,y,Ne,A),Q=d.memoizedState),(K=Hs||u2(d,y,K,A,Se,Q,me))?(Ie||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=Q),U.props=A,U.state=Q,U.context=me,A=K):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{U=d.stateNode,Fb(o,d),K=d.memoizedProps,me=d.type===d.elementType?K:la(d.type,K),U.props=me,Ie=d.pendingProps,Se=U.context,Q=y.contextType,typeof Q=="object"&&Q!==null?Q=Wi(Q):(Q=ri(y)?Io:Bn.current,Q=Ml(d,Q));var $e=y.getDerivedStateFromProps;(Ne=typeof $e=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(K!==Ie||Se!==Q)&&f2(d,U,A,Q),Hs=!1,Se=d.memoizedState,U.state=Se,Sf(d,A,U,P);var Ye=d.memoizedState;K!==Ie||Se!==Ye||ti.current||Hs?(typeof $e=="function"&&(Km(d,y,$e,A),Ye=d.memoizedState),(me=Hs||u2(d,y,me,A,Se,Ye,Q)||!1)?(Ne||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(A,Ye,Q),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(A,Ye,Q)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=Ye),U.props=A,U.state=Ye,U.context=Q,A=me):(typeof U.componentDidUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Se===o.memoizedState||(d.flags|=1024),A=!1)}return Jm(o,d,y,A,R,P)}function Jm(o,d,y,A,P,R){E2(o,d);var U=(d.flags&128)!==0;if(!A&&!U)return P&&Nb(d,y,!1),rs(o,d,R);A=d.stateNode,kk.current=d;var K=U&&typeof y.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&U?(d.child=Fl(d,o.child,null,R),d.child=Fl(d,null,K,R)):qn(o,d,K,R),d.memoizedState=A.state,P&&Nb(d,y,!0),d.child}function _2(o){var d=o.stateNode;d.pendingContext?Cb(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Cb(o,d.context,!1),Dm(o,d.containerInfo)}function S2(o,d,y,A,P){return Bl(),Im(P),d.flags|=256,qn(o,d,y,A),d.child}var e1={dehydrated:null,treeContext:null,retryLane:0};function t1(o){return{baseLanes:o,cachePool:null,transitions:null}}function C2(o,d,y){var A=d.pendingProps,P=Sr.current,R=!1,U=(d.flags&128)!==0,K;if((K=U)||(K=o!==null&&o.memoizedState===null?!1:(P&2)!==0),K?(R=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),ar(Sr,P&1),o===null)return Nm(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(U=A.children,o=A.fallback,R?(A=d.mode,R=d.child,U={mode:"hidden",children:U},(A&1)===0&&R!==null?(R.childLanes=0,R.pendingProps=U):R=Gf(U,A,0,null),o=Fo(o,A,y,null),R.return=d,o.return=d,R.sibling=o,d.child=R,d.child.memoizedState=t1(y),d.memoizedState=e1,o):r1(d,U));if(P=o.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return Rk(o,d,U,A,K,P,y);if(R){R=A.fallback,U=d.mode,P=o.child,K=P.sibling;var Q={mode:"hidden",children:A.children};return(U&1)===0&&d.child!==P?(A=d.child,A.childLanes=0,A.pendingProps=Q,d.deletions=null):(A=Qs(P,Q),A.subtreeFlags=P.subtreeFlags&14680064),K!==null?R=Qs(K,R):(R=Fo(R,U,y,null),R.flags|=2),R.return=d,A.return=d,A.sibling=R,d.child=A,A=R,R=d.child,U=o.child.memoizedState,U=U===null?t1(y):{baseLanes:U.baseLanes|y,cachePool:null,transitions:U.transitions},R.memoizedState=U,R.childLanes=o.childLanes&~y,d.memoizedState=e1,A}return R=o.child,o=R.sibling,A=Qs(R,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=y),A.return=d,A.sibling=null,o!==null&&(y=d.deletions,y===null?(d.deletions=[o],d.flags|=16):y.push(o)),d.child=A,d.memoizedState=null,A}function r1(o,d){return d=Gf({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Rf(o,d,y,A){return A!==null&&Im(A),Fl(d,o.child,null,y),o=r1(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function Rk(o,d,y,A,P,R,U){if(y)return d.flags&256?(d.flags&=-257,A=Ym(Error(r(422))),Rf(o,d,U,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(R=A.fallback,P=d.mode,A=Gf({mode:"visible",children:A.children},P,0,null),R=Fo(R,P,U,null),R.flags|=2,A.return=d,R.return=d,A.sibling=R,d.child=A,(d.mode&1)!==0&&Fl(d,o.child,null,U),d.child.memoizedState=t1(U),d.memoizedState=e1,R);if((d.mode&1)===0)return Rf(o,d,U,null);if(P.data==="$!"){if(A=P.nextSibling&&P.nextSibling.dataset,A)var K=A.dgst;return A=K,R=Error(r(419)),A=Ym(R,A,void 0),Rf(o,d,U,A)}if(K=(U&o.childLanes)!==0,ni||K){if(A=gn,A!==null){switch(U&-U){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(A.suspendedLanes|U))!==0?0:P,P!==0&&P!==R.retryLane&&(R.retryLane=P,es(o,P),da(A,o,P,-1))}return x1(),A=Ym(Error(r(421))),Rf(o,d,U,A)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=Gk.bind(null,o),P._reactRetry=d,null):(o=R.treeContext,bi=zs(P.nextSibling),wi=d,mr=!0,oa=null,o!==null&&(zi[$i++]=Qa,zi[$i++]=Ja,zi[$i++]=To,Qa=o.id,Ja=o.overflow,To=d),d=r1(d,A.children),d.flags|=4096,d)}function O2(o,d,y){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),Rm(o.return,d,y)}function n1(o,d,y,A,P){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:y,tailMode:P}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=A,R.tail=y,R.tailMode=P)}function N2(o,d,y){var A=d.pendingProps,P=A.revealOrder,R=A.tail;if(qn(o,d,A.children,y),A=Sr.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&O2(o,y,d);else if(o.tag===19)O2(o,y,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(ar(Sr,A),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(y=d.child,P=null;y!==null;)o=y.alternate,o!==null&&Cf(o)===null&&(P=y),y=y.sibling;y=P,y===null?(P=d.child,d.child=null):(P=y.sibling,y.sibling=null),n1(d,!1,P,y,R);break;case"backwards":for(y=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&Cf(o)===null){d.child=P;break}o=P.sibling,P.sibling=y,y=P,P=o}n1(d,!0,y,null,R);break;case"together":n1(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function jf(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function rs(o,d,y){if(o!==null&&(d.dependencies=o.dependencies),Mo|=d.lanes,(y&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,y=Qs(o,o.pendingProps),d.child=y,y.return=d;o.sibling!==null;)o=o.sibling,y=y.sibling=Qs(o,o.pendingProps),y.return=d;y.sibling=null}return d.child}function jk(o,d,y){switch(d.tag){case 3:_2(d),Bl();break;case 5:$b(d);break;case 1:ri(d.type)&&gf(d);break;case 4:Dm(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,P=d.memoizedProps.value;ar(Ef,A._currentValue),A._currentValue=P;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(ar(Sr,Sr.current&1),d.flags|=128,null):(y&d.child.childLanes)!==0?C2(o,d,y):(ar(Sr,Sr.current&1),o=rs(o,d,y),o!==null?o.sibling:null);ar(Sr,Sr.current&1);break;case 19:if(A=(y&d.childLanes)!==0,(o.flags&128)!==0){if(A)return N2(o,d,y);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),ar(Sr,Sr.current),A)break;return null;case 22:case 23:return d.lanes=0,b2(o,d,y)}return rs(o,d,y)}var I2,i1,T2,P2;I2=function(o,d){for(var y=d.child;y!==null;){if(y.tag===5||y.tag===6)o.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===d)break;for(;y.sibling===null;){if(y.return===null||y.return===d)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},i1=function(){},T2=function(o,d,y,A){var P=o.memoizedProps;if(P!==A){o=d.stateNode,Ro(Na.current);var R=null;switch(y){case"input":P=at(o,P),A=at(o,A),R=[];break;case"select":P=be({},P,{value:void 0}),A=be({},A,{value:void 0}),R=[];break;case"textarea":P=Mi(o,P),A=Mi(o,A),R=[];break;default:typeof P.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=hf)}Ft(y,A);var U;y=null;for(me in P)if(!A.hasOwnProperty(me)&&P.hasOwnProperty(me)&&P[me]!=null)if(me==="style"){var K=P[me];for(U in K)K.hasOwnProperty(U)&&(y||(y={}),y[U]="")}else me!=="dangerouslySetInnerHTML"&&me!=="children"&&me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&me!=="autoFocus"&&(i.hasOwnProperty(me)?R||(R=[]):(R=R||[]).push(me,null));for(me in A){var Q=A[me];if(K=P?.[me],A.hasOwnProperty(me)&&Q!==K&&(Q!=null||K!=null))if(me==="style")if(K){for(U in K)!K.hasOwnProperty(U)||Q&&Q.hasOwnProperty(U)||(y||(y={}),y[U]="");for(U in Q)Q.hasOwnProperty(U)&&K[U]!==Q[U]&&(y||(y={}),y[U]=Q[U])}else y||(R||(R=[]),R.push(me,y)),y=Q;else me==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,K=K?K.__html:void 0,Q!=null&&K!==Q&&(R=R||[]).push(me,Q)):me==="children"?typeof Q!="string"&&typeof Q!="number"||(R=R||[]).push(me,""+Q):me!=="suppressContentEditableWarning"&&me!=="suppressHydrationWarning"&&(i.hasOwnProperty(me)?(Q!=null&&me==="onScroll"&&cr("scroll",o),R||K===Q||(R=[])):(R=R||[]).push(me,Q))}y&&(R=R||[]).push("style",y);var me=R;(d.updateQueue=me)&&(d.flags|=4)}},P2=function(o,d,y,A){y!==A&&(d.flags|=4)};function Au(o,d){if(!mr)switch(o.tailMode){case"hidden":d=o.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?o.tail=null:y.sibling=null;break;case"collapsed":y=o.tail;for(var A=null;y!==null;)y.alternate!==null&&(A=y),y=y.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function Un(o){var d=o.alternate!==null&&o.alternate.child===o.child,y=0,A=0;if(d)for(var P=o.child;P!==null;)y|=P.lanes|P.childLanes,A|=P.subtreeFlags&14680064,A|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)y|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=A,o.childLanes=y,d}function Mk(o,d,y){var A=d.pendingProps;switch(Cm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(d),null;case 1:return ri(d.type)&&mf(),Un(d),null;case 3:return A=d.stateNode,$l(),ur(ti),ur(Bn),Fm(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(wf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,oa!==null&&(m1(oa),oa=null))),i1(o,d),Un(d),null;case 5:Lm(d);var P=Ro(xu.current);if(y=d.type,o!==null&&d.stateNode!=null)T2(o,d,y,A,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return Un(d),null}if(o=Ro(Na.current),wf(d)){A=d.stateNode,y=d.type;var R=d.memoizedProps;switch(A[Oa]=d,A[hu]=R,o=(d.mode&1)!==0,y){case"dialog":cr("cancel",A),cr("close",A);break;case"iframe":case"object":case"embed":cr("load",A);break;case"video":case"audio":for(P=0;P<uu.length;P++)cr(uu[P],A);break;case"source":cr("error",A);break;case"img":case"image":case"link":cr("error",A),cr("load",A);break;case"details":cr("toggle",A);break;case"input":vt(A,R),cr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!R.multiple},cr("invalid",A);break;case"textarea":Ea(A,R),cr("invalid",A)}Ft(y,R),P=null;for(var U in R)if(R.hasOwnProperty(U)){var K=R[U];U==="children"?typeof K=="string"?A.textContent!==K&&(R.suppressHydrationWarning!==!0&&ff(A.textContent,K,o),P=["children",K]):typeof K=="number"&&A.textContent!==""+K&&(R.suppressHydrationWarning!==!0&&ff(A.textContent,K,o),P=["children",""+K]):i.hasOwnProperty(U)&&K!=null&&U==="onScroll"&&cr("scroll",A)}switch(y){case"input":xe(A),St(A,R,!0);break;case"textarea":xe(A),se(A);break;case"select":case"option":break;default:typeof R.onClick=="function"&&(A.onclick=hf)}A=P,d.updateQueue=A,A!==null&&(d.flags|=4)}else{U=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=De(y)),o==="http://www.w3.org/1999/xhtml"?y==="script"?(o=U.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=U.createElement(y,{is:A.is}):(o=U.createElement(y),y==="select"&&(U=o,A.multiple?U.multiple=!0:A.size&&(U.size=A.size))):o=U.createElementNS(o,y),o[Oa]=d,o[hu]=A,I2(o,d,!1,!1),d.stateNode=o;e:{switch(U=tr(y,A),y){case"dialog":cr("cancel",o),cr("close",o),P=A;break;case"iframe":case"object":case"embed":cr("load",o),P=A;break;case"video":case"audio":for(P=0;P<uu.length;P++)cr(uu[P],o);P=A;break;case"source":cr("error",o),P=A;break;case"img":case"image":case"link":cr("error",o),cr("load",o),P=A;break;case"details":cr("toggle",o),P=A;break;case"input":vt(o,A),P=at(o,A),cr("invalid",o);break;case"option":P=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},P=be({},A,{value:void 0}),cr("invalid",o);break;case"textarea":Ea(o,A),P=Mi(o,A),cr("invalid",o);break;default:P=A}Ft(y,P),K=P;for(R in K)if(K.hasOwnProperty(R)){var Q=K[R];R==="style"?je(o,Q):R==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Ze(o,Q)):R==="children"?typeof Q=="string"?(y!=="textarea"||Q!=="")&&qt(o,Q):typeof Q=="number"&&qt(o,""+Q):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(i.hasOwnProperty(R)?Q!=null&&R==="onScroll"&&cr("scroll",o):Q!=null&&j(o,R,Q,U))}switch(y){case"input":xe(o),St(o,A,!1);break;case"textarea":xe(o),se(o);break;case"option":A.value!=null&&o.setAttribute("value",""+it(A.value));break;case"select":o.multiple=!!A.multiple,R=A.value,R!=null?Ue(o,!!A.multiple,R,!1):A.defaultValue!=null&&Ue(o,!!A.multiple,A.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=hf)}switch(y){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Un(d),null;case 6:if(o&&d.stateNode!=null)P2(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(y=Ro(xu.current),Ro(Na.current),wf(d)){if(A=d.stateNode,y=d.memoizedProps,A[Oa]=d,(R=A.nodeValue!==y)&&(o=wi,o!==null))switch(o.tag){case 3:ff(A.nodeValue,y,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ff(A.nodeValue,y,(o.mode&1)!==0)}R&&(d.flags|=4)}else A=(y.nodeType===9?y:y.ownerDocument).createTextNode(A),A[Oa]=d,d.stateNode=A}return Un(d),null;case 13:if(ur(Sr),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(mr&&bi!==null&&(d.mode&1)!==0&&(d.flags&128)===0)jb(),Bl(),d.flags|=98560,R=!1;else if(R=wf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!R)throw Error(r(318));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));R[Oa]=d}else Bl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Un(d),R=!1}else oa!==null&&(m1(oa),oa=null),R=!0;if(!R)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=y,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Sr.current&1)!==0?sn===0&&(sn=3):x1())),d.updateQueue!==null&&(d.flags|=4),Un(d),null);case 4:return $l(),i1(o,d),o===null&&du(d.stateNode.containerInfo),Un(d),null;case 10:return km(d.type._context),Un(d),null;case 17:return ri(d.type)&&mf(),Un(d),null;case 19:if(ur(Sr),R=d.memoizedState,R===null)return Un(d),null;if(A=(d.flags&128)!==0,U=R.rendering,U===null)if(A)Au(R,!1);else{if(sn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(U=Cf(o),U!==null){for(d.flags|=128,Au(R,!1),A=U.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=y,y=d.child;y!==null;)R=y,o=A,R.flags&=14680066,U=R.alternate,U===null?(R.childLanes=0,R.lanes=o,R.child=null,R.subtreeFlags=0,R.memoizedProps=null,R.memoizedState=null,R.updateQueue=null,R.dependencies=null,R.stateNode=null):(R.childLanes=U.childLanes,R.lanes=U.lanes,R.child=U.child,R.subtreeFlags=0,R.deletions=null,R.memoizedProps=U.memoizedProps,R.memoizedState=U.memoizedState,R.updateQueue=U.updateQueue,R.type=U.type,o=U.dependencies,R.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),y=y.sibling;return ar(Sr,Sr.current&1|2),d.child}o=o.sibling}R.tail!==null&&$t()>Gl&&(d.flags|=128,A=!0,Au(R,!1),d.lanes=4194304)}else{if(!A)if(o=Cf(U),o!==null){if(d.flags|=128,A=!0,y=o.updateQueue,y!==null&&(d.updateQueue=y,d.flags|=4),Au(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!mr)return Un(d),null}else 2*$t()-R.renderingStartTime>Gl&&y!==1073741824&&(d.flags|=128,A=!0,Au(R,!1),d.lanes=4194304);R.isBackwards?(U.sibling=d.child,d.child=U):(y=R.last,y!==null?y.sibling=U:d.child=U,R.last=U)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=$t(),d.sibling=null,y=Sr.current,ar(Sr,A?y&1|2:y&1),d):(Un(d),null);case 22:case 23:return v1(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(Ei&1073741824)!==0&&(Un(d),d.subtreeFlags&6&&(d.flags|=8192)):Un(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function Dk(o,d){switch(Cm(d),d.tag){case 1:return ri(d.type)&&mf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return $l(),ur(ti),ur(Bn),Fm(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Lm(d),null;case 13:if(ur(Sr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Bl()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return ur(Sr),null;case 4:return $l(),null;case 10:return km(d.type._context),null;case 22:case 23:return v1(),null;case 24:return null;default:return null}}var Mf=!1,zn=!1,Lk=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Vl(o,d){var y=o.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(A){Pr(o,d,A)}else y.current=null}function a1(o,d,y){try{y()}catch(A){Pr(o,d,A)}}var k2=!1;function Bk(o,d){if(vm=Sa,o=Ct(),yt(o)){if("selectionStart"in o)var y={start:o.selectionStart,end:o.selectionEnd};else e:{y=(y=o.ownerDocument)&&y.defaultView||window;var A=y.getSelection&&y.getSelection();if(A&&A.rangeCount!==0){y=A.anchorNode;var P=A.anchorOffset,R=A.focusNode;A=A.focusOffset;try{y.nodeType,R.nodeType}catch{y=null;break e}var U=0,K=-1,Q=-1,me=0,Ne=0,Ie=o,Se=null;t:for(;;){for(var $e;Ie!==y||P!==0&&Ie.nodeType!==3||(K=U+P),Ie!==R||A!==0&&Ie.nodeType!==3||(Q=U+A),Ie.nodeType===3&&(U+=Ie.nodeValue.length),($e=Ie.firstChild)!==null;)Se=Ie,Ie=$e;for(;;){if(Ie===o)break t;if(Se===y&&++me===P&&(K=U),Se===R&&++Ne===A&&(Q=U),($e=Ie.nextSibling)!==null)break;Ie=Se,Se=Ie.parentNode}Ie=$e}y=K===-1||Q===-1?null:{start:K,end:Q}}else y=null}y=y||{start:0,end:0}}else y=null;for(xm={focusedElem:o,selectionRange:y},Sa=!1,qe=d;qe!==null;)if(d=qe,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,qe=o;else for(;qe!==null;){d=qe;try{var Ye=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Qe=Ye.memoizedProps,Ur=Ye.memoizedState,ae=d.stateNode,ee=ae.getSnapshotBeforeUpdate(d.elementType===d.type?Qe:la(d.type,Qe),Ur);ae.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var ce=d.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Re){Pr(d,d.return,Re)}if(o=d.sibling,o!==null){o.return=d.return,qe=o;break}qe=d.return}return Ye=k2,k2=!1,Ye}function _u(o,d,y){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var P=A=A.next;do{if((P.tag&o)===o){var R=P.destroy;P.destroy=void 0,R!==void 0&&a1(d,y,R)}P=P.next}while(P!==A)}}function Df(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&o)===o){var A=y.create;y.destroy=A()}y=y.next}while(y!==d)}}function s1(o){var d=o.ref;if(d!==null){var y=o.stateNode;switch(o.tag){case 5:o=y;break;default:o=y}typeof d=="function"?d(o):d.current=o}}function R2(o){var d=o.alternate;d!==null&&(o.alternate=null,R2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Oa],delete d[hu],delete d[Em],delete d[wk],delete d[bk])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function j2(o){return o.tag===5||o.tag===3||o.tag===4}function M2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function o1(o,d,y){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?y.nodeType===8?y.parentNode.insertBefore(o,d):y.insertBefore(o,d):(y.nodeType===8?(d=y.parentNode,d.insertBefore(o,y)):(d=y,d.appendChild(o)),y=y._reactRootContainer,y!=null||d.onclick!==null||(d.onclick=hf));else if(A!==4&&(o=o.child,o!==null))for(o1(o,d,y),o=o.sibling;o!==null;)o1(o,d,y),o=o.sibling}function l1(o,d,y){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?y.insertBefore(o,d):y.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(l1(o,d,y),o=o.sibling;o!==null;)l1(o,d,y),o=o.sibling}var On=null,ca=!1;function qs(o,d,y){for(y=y.child;y!==null;)D2(o,d,y),y=y.sibling}function D2(o,d,y){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(kt,y)}catch{}switch(y.tag){case 5:zn||Vl(y,d);case 6:var A=On,P=ca;On=null,qs(o,d,y),On=A,ca=P,On!==null&&(ca?(o=On,y=y.stateNode,o.nodeType===8?o.parentNode.removeChild(y):o.removeChild(y)):On.removeChild(y.stateNode));break;case 18:On!==null&&(ca?(o=On,y=y.stateNode,o.nodeType===8?bm(o.parentNode,y):o.nodeType===1&&bm(o,y),ia(o)):bm(On,y.stateNode));break;case 4:A=On,P=ca,On=y.stateNode.containerInfo,ca=!0,qs(o,d,y),On=A,ca=P;break;case 0:case 11:case 14:case 15:if(!zn&&(A=y.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){P=A=A.next;do{var R=P,U=R.destroy;R=R.tag,U!==void 0&&((R&2)!==0||(R&4)!==0)&&a1(y,d,U),P=P.next}while(P!==A)}qs(o,d,y);break;case 1:if(!zn&&(Vl(y,d),A=y.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=y.memoizedProps,A.state=y.memoizedState,A.componentWillUnmount()}catch(K){Pr(y,d,K)}qs(o,d,y);break;case 21:qs(o,d,y);break;case 22:y.mode&1?(zn=(A=zn)||y.memoizedState!==null,qs(o,d,y),zn=A):qs(o,d,y);break;default:qs(o,d,y)}}function L2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var y=o.stateNode;y===null&&(y=o.stateNode=new Lk),d.forEach(function(A){var P=qk.bind(null,o,A);y.has(A)||(y.add(A),A.then(P,P))})}}function ua(o,d){var y=d.deletions;if(y!==null)for(var A=0;A<y.length;A++){var P=y[A];try{var R=o,U=d,K=U;e:for(;K!==null;){switch(K.tag){case 5:On=K.stateNode,ca=!1;break e;case 3:On=K.stateNode.containerInfo,ca=!0;break e;case 4:On=K.stateNode.containerInfo,ca=!0;break e}K=K.return}if(On===null)throw Error(r(160));D2(R,U,P),On=null,ca=!1;var Q=P.alternate;Q!==null&&(Q.return=null),P.return=null}catch(me){Pr(P,d,me)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)B2(d,o),d=d.sibling}function B2(o,d){var y=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ua(d,o),Ta(o),A&4){try{_u(3,o,o.return),Df(3,o)}catch(Qe){Pr(o,o.return,Qe)}try{_u(5,o,o.return)}catch(Qe){Pr(o,o.return,Qe)}}break;case 1:ua(d,o),Ta(o),A&512&&y!==null&&Vl(y,y.return);break;case 5:if(ua(d,o),Ta(o),A&512&&y!==null&&Vl(y,y.return),o.flags&32){var P=o.stateNode;try{qt(P,"")}catch(Qe){Pr(o,o.return,Qe)}}if(A&4&&(P=o.stateNode,P!=null)){var R=o.memoizedProps,U=y!==null?y.memoizedProps:R,K=o.type,Q=o.updateQueue;if(o.updateQueue=null,Q!==null)try{K==="input"&&R.type==="radio"&&R.name!=null&&_t(P,R),tr(K,U);var me=tr(K,R);for(U=0;U<Q.length;U+=2){var Ne=Q[U],Ie=Q[U+1];Ne==="style"?je(P,Ie):Ne==="dangerouslySetInnerHTML"?Ze(P,Ie):Ne==="children"?qt(P,Ie):j(P,Ne,Ie,me)}switch(K){case"input":Rt(P,R);break;case"textarea":fn(P,R);break;case"select":var Se=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!R.multiple;var $e=R.value;$e!=null?Ue(P,!!R.multiple,$e,!1):Se!==!!R.multiple&&(R.defaultValue!=null?Ue(P,!!R.multiple,R.defaultValue,!0):Ue(P,!!R.multiple,R.multiple?[]:"",!1))}P[hu]=R}catch(Qe){Pr(o,o.return,Qe)}}break;case 6:if(ua(d,o),Ta(o),A&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,R=o.memoizedProps;try{P.nodeValue=R}catch(Qe){Pr(o,o.return,Qe)}}break;case 3:if(ua(d,o),Ta(o),A&4&&y!==null&&y.memoizedState.isDehydrated)try{ia(d.containerInfo)}catch(Qe){Pr(o,o.return,Qe)}break;case 4:ua(d,o),Ta(o);break;case 13:ua(d,o),Ta(o),P=o.child,P.flags&8192&&(R=P.memoizedState!==null,P.stateNode.isHidden=R,!R||P.alternate!==null&&P.alternate.memoizedState!==null||(d1=$t())),A&4&&L2(o);break;case 22:if(Ne=y!==null&&y.memoizedState!==null,o.mode&1?(zn=(me=zn)||Ne,ua(d,o),zn=me):ua(d,o),Ta(o),A&8192){if(me=o.memoizedState!==null,(o.stateNode.isHidden=me)&&!Ne&&(o.mode&1)!==0)for(qe=o,Ne=o.child;Ne!==null;){for(Ie=qe=Ne;qe!==null;){switch(Se=qe,$e=Se.child,Se.tag){case 0:case 11:case 14:case 15:_u(4,Se,Se.return);break;case 1:Vl(Se,Se.return);var Ye=Se.stateNode;if(typeof Ye.componentWillUnmount=="function"){A=Se,y=Se.return;try{d=A,Ye.props=d.memoizedProps,Ye.state=d.memoizedState,Ye.componentWillUnmount()}catch(Qe){Pr(A,y,Qe)}}break;case 5:Vl(Se,Se.return);break;case 22:if(Se.memoizedState!==null){z2(Ie);continue}}$e!==null?($e.return=Se,qe=$e):z2(Ie)}Ne=Ne.sibling}e:for(Ne=null,Ie=o;;){if(Ie.tag===5){if(Ne===null){Ne=Ie;try{P=Ie.stateNode,me?(R=P.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none"):(K=Ie.stateNode,Q=Ie.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,K.style.display=Ar("display",U))}catch(Qe){Pr(o,o.return,Qe)}}}else if(Ie.tag===6){if(Ne===null)try{Ie.stateNode.nodeValue=me?"":Ie.memoizedProps}catch(Qe){Pr(o,o.return,Qe)}}else if((Ie.tag!==22&&Ie.tag!==23||Ie.memoizedState===null||Ie===o)&&Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===o)break e;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===o)break e;Ne===Ie&&(Ne=null),Ie=Ie.return}Ne===Ie&&(Ne=null),Ie.sibling.return=Ie.return,Ie=Ie.sibling}}break;case 19:ua(d,o),Ta(o),A&4&&L2(o);break;case 21:break;default:ua(d,o),Ta(o)}}function Ta(o){var d=o.flags;if(d&2){try{e:{for(var y=o.return;y!==null;){if(j2(y)){var A=y;break e}y=y.return}throw Error(r(160))}switch(A.tag){case 5:var P=A.stateNode;A.flags&32&&(qt(P,""),A.flags&=-33);var R=M2(o);l1(o,R,P);break;case 3:case 4:var U=A.stateNode.containerInfo,K=M2(o);o1(o,K,U);break;default:throw Error(r(161))}}catch(Q){Pr(o,o.return,Q)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function Fk(o,d,y){qe=o,F2(o)}function F2(o,d,y){for(var A=(o.mode&1)!==0;qe!==null;){var P=qe,R=P.child;if(P.tag===22&&A){var U=P.memoizedState!==null||Mf;if(!U){var K=P.alternate,Q=K!==null&&K.memoizedState!==null||zn;K=Mf;var me=zn;if(Mf=U,(zn=Q)&&!me)for(qe=P;qe!==null;)U=qe,Q=U.child,U.tag===22&&U.memoizedState!==null?$2(P):Q!==null?(Q.return=U,qe=Q):$2(P);for(;R!==null;)qe=R,F2(R),R=R.sibling;qe=P,Mf=K,zn=me}U2(o)}else(P.subtreeFlags&8772)!==0&&R!==null?(R.return=P,qe=R):U2(o)}}function U2(o){for(;qe!==null;){var d=qe;if((d.flags&8772)!==0){var y=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:zn||Df(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!zn)if(y===null)A.componentDidMount();else{var P=d.elementType===d.type?y.memoizedProps:la(d.type,y.memoizedProps);A.componentDidUpdate(P,y.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var R=d.updateQueue;R!==null&&zb(d,R,A);break;case 3:var U=d.updateQueue;if(U!==null){if(y=null,d.child!==null)switch(d.child.tag){case 5:y=d.child.stateNode;break;case 1:y=d.child.stateNode}zb(d,U,y)}break;case 5:var K=d.stateNode;if(y===null&&d.flags&4){y=K;var Q=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&y.focus();break;case"img":Q.src&&(y.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var me=d.alternate;if(me!==null){var Ne=me.memoizedState;if(Ne!==null){var Ie=Ne.dehydrated;Ie!==null&&ia(Ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zn||d.flags&512&&s1(d)}catch(Se){Pr(d,d.return,Se)}}if(d===o){qe=null;break}if(y=d.sibling,y!==null){y.return=d.return,qe=y;break}qe=d.return}}function z2(o){for(;qe!==null;){var d=qe;if(d===o){qe=null;break}var y=d.sibling;if(y!==null){y.return=d.return,qe=y;break}qe=d.return}}function $2(o){for(;qe!==null;){var d=qe;try{switch(d.tag){case 0:case 11:case 15:var y=d.return;try{Df(4,d)}catch(Q){Pr(d,y,Q)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var P=d.return;try{A.componentDidMount()}catch(Q){Pr(d,P,Q)}}var R=d.return;try{s1(d)}catch(Q){Pr(d,R,Q)}break;case 5:var U=d.return;try{s1(d)}catch(Q){Pr(d,U,Q)}}}catch(Q){Pr(d,d.return,Q)}if(d===o){qe=null;break}var K=d.sibling;if(K!==null){K.return=d.return,qe=K;break}qe=d.return}}var Uk=Math.ceil,Lf=z.ReactCurrentDispatcher,c1=z.ReactCurrentOwner,Hi=z.ReactCurrentBatchConfig,Mt=0,gn=null,Hr=null,Nn=0,Ei=0,Hl=$s(0),sn=0,Su=null,Mo=0,Bf=0,u1=0,Cu=null,ii=null,d1=0,Gl=1/0,ns=null,Ff=!1,f1=null,Ks=null,Uf=!1,Xs=null,zf=0,Ou=0,h1=null,$f=-1,Wf=0;function Kn(){return(Mt&6)!==0?$t():$f!==-1?$f:$f=$t()}function Ys(o){return(o.mode&1)===0?1:(Mt&2)!==0&&Nn!==0?Nn&-Nn:Ak.transition!==null?(Wf===0&&(Wf=en()),Wf):(o=At,o!==0||(o=window.event,o=o===void 0?16:eu(o.type)),o)}function da(o,d,y,A){if(50<Ou)throw Ou=0,h1=null,Error(r(185));G(o,y,A),((Mt&2)===0||o!==gn)&&(o===gn&&((Mt&2)===0&&(Bf|=y),sn===4&&Zs(o,Nn)),ai(o,A),y===1&&Mt===0&&(d.mode&1)===0&&(Gl=$t()+500,vf&&Vs()))}function ai(o,d){var y=o.callbackNode;Ps(o,d);var A=gi(o,o===gn?Nn:0);if(A===0)y!==null&&hn(y),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(y!=null&&hn(y),d===1)o.tag===0?Ek(V2.bind(null,o)):Ib(V2.bind(null,o)),xk(function(){(Mt&6)===0&&Vs()}),y=null;else{switch(Zd(A)){case 1:y=Ee;break;case 4:y=Xd;break;case 16:y=Yt;break;case 536870912:y=Yd;break;default:y=Yt}y=Q2(y,W2.bind(null,o))}o.callbackPriority=d,o.callbackNode=y}}function W2(o,d){if($f=-1,Wf=0,(Mt&6)!==0)throw Error(r(327));var y=o.callbackNode;if(ql()&&o.callbackNode!==y)return null;var A=gi(o,o===gn?Nn:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=Vf(o,A);else{d=A;var P=Mt;Mt|=2;var R=G2();(gn!==o||Nn!==d)&&(ns=null,Gl=$t()+500,Lo(o,d));do try{Wk();break}catch(K){H2(o,K)}while(!0);Pm(),Lf.current=R,Mt=P,Hr!==null?d=0:(gn=null,Nn=0,d=sn)}if(d!==0){if(d===2&&(P=Wt(o),P!==0&&(A=P,d=p1(o,P))),d===1)throw y=Su,Lo(o,0),Zs(o,A),ai(o,$t()),y;if(d===6)Zs(o,A);else{if(P=o.current.alternate,(A&30)===0&&!zk(P)&&(d=Vf(o,A),d===2&&(R=Wt(o),R!==0&&(A=R,d=p1(o,R))),d===1))throw y=Su,Lo(o,0),Zs(o,A),ai(o,$t()),y;switch(o.finishedWork=P,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:Bo(o,ii,ns);break;case 3:if(Zs(o,A),(A&130023424)===A&&(d=d1+500-$t(),10<d)){if(gi(o,0)!==0)break;if(P=o.suspendedLanes,(P&A)!==A){Kn(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=wm(Bo.bind(null,o,ii,ns),d);break}Bo(o,ii,ns);break;case 4:if(Zs(o,A),(A&4194240)===A)break;for(d=o.eventTimes,P=-1;0<A;){var U=31-Gn(A);R=1<<U,U=d[U],U>P&&(P=U),A&=~R}if(A=P,A=$t()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*Uk(A/1960))-A,10<A){o.timeoutHandle=wm(Bo.bind(null,o,ii,ns),A);break}Bo(o,ii,ns);break;case 5:Bo(o,ii,ns);break;default:throw Error(r(329))}}}return ai(o,$t()),o.callbackNode===y?W2.bind(null,o):null}function p1(o,d){var y=Cu;return o.current.memoizedState.isDehydrated&&(Lo(o,d).flags|=256),o=Vf(o,d),o!==2&&(d=ii,ii=y,d!==null&&m1(d)),o}function m1(o){ii===null?ii=o:ii.push.apply(ii,o)}function zk(o){for(var d=o;;){if(d.flags&16384){var y=d.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var A=0;A<y.length;A++){var P=y[A],R=P.getSnapshot;P=P.value;try{if(!ne(R(),P))return!1}catch{return!1}}}if(y=d.child,d.subtreeFlags&16384&&y!==null)y.return=d,d=y;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Zs(o,d){for(d&=~u1,d&=~Bf,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var y=31-Gn(d),A=1<<y;o[y]=-1,d&=~A}}function V2(o){if((Mt&6)!==0)throw Error(r(327));ql();var d=gi(o,0);if((d&1)===0)return ai(o,$t()),null;var y=Vf(o,d);if(o.tag!==0&&y===2){var A=Wt(o);A!==0&&(d=A,y=p1(o,A))}if(y===1)throw y=Su,Lo(o,0),Zs(o,d),ai(o,$t()),y;if(y===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Bo(o,ii,ns),ai(o,$t()),null}function g1(o,d){var y=Mt;Mt|=1;try{return o(d)}finally{Mt=y,Mt===0&&(Gl=$t()+500,vf&&Vs())}}function Do(o){Xs!==null&&Xs.tag===0&&(Mt&6)===0&&ql();var d=Mt;Mt|=1;var y=Hi.transition,A=At;try{if(Hi.transition=null,At=1,o)return o()}finally{At=A,Hi.transition=y,Mt=d,(Mt&6)===0&&Vs()}}function v1(){Ei=Hl.current,ur(Hl)}function Lo(o,d){o.finishedWork=null,o.finishedLanes=0;var y=o.timeoutHandle;if(y!==-1&&(o.timeoutHandle=-1,vk(y)),Hr!==null)for(y=Hr.return;y!==null;){var A=y;switch(Cm(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&mf();break;case 3:$l(),ur(ti),ur(Bn),Fm();break;case 5:Lm(A);break;case 4:$l();break;case 13:ur(Sr);break;case 19:ur(Sr);break;case 10:km(A.type._context);break;case 22:case 23:v1()}y=y.return}if(gn=o,Hr=o=Qs(o.current,null),Nn=Ei=d,sn=0,Su=null,u1=Bf=Mo=0,ii=Cu=null,ko!==null){for(d=0;d<ko.length;d++)if(y=ko[d],A=y.interleaved,A!==null){y.interleaved=null;var P=A.next,R=y.pending;if(R!==null){var U=R.next;R.next=P,A.next=U}y.pending=A}ko=null}return o}function H2(o,d){do{var y=Hr;try{if(Pm(),Of.current=Pf,Nf){for(var A=Cr.memoizedState;A!==null;){var P=A.queue;P!==null&&(P.pending=null),A=A.next}Nf=!1}if(jo=0,mn=an=Cr=null,yu=!1,wu=0,c1.current=null,y===null||y.return===null){sn=1,Su=d,Hr=null;break}e:{var R=o,U=y.return,K=y,Q=d;if(d=Nn,K.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var me=Q,Ne=K,Ie=Ne.tag;if((Ne.mode&1)===0&&(Ie===0||Ie===11||Ie===15)){var Se=Ne.alternate;Se?(Ne.updateQueue=Se.updateQueue,Ne.memoizedState=Se.memoizedState,Ne.lanes=Se.lanes):(Ne.updateQueue=null,Ne.memoizedState=null)}var $e=g2(U);if($e!==null){$e.flags&=-257,v2($e,U,K,R,d),$e.mode&1&&m2(R,me,d),d=$e,Q=me;var Ye=d.updateQueue;if(Ye===null){var Qe=new Set;Qe.add(Q),d.updateQueue=Qe}else Ye.add(Q);break e}else{if((d&1)===0){m2(R,me,d),x1();break e}Q=Error(r(426))}}else if(mr&&K.mode&1){var Ur=g2(U);if(Ur!==null){(Ur.flags&65536)===0&&(Ur.flags|=256),v2(Ur,U,K,R,d),Im(Wl(Q,K));break e}}R=Q=Wl(Q,K),sn!==4&&(sn=2),Cu===null?Cu=[R]:Cu.push(R),R=U;do{switch(R.tag){case 3:R.flags|=65536,d&=-d,R.lanes|=d;var ae=h2(R,Q,d);Ub(R,ae);break e;case 1:K=Q;var ee=R.type,ce=R.stateNode;if((R.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Ks===null||!Ks.has(ce)))){R.flags|=65536,d&=-d,R.lanes|=d;var Re=p2(R,K,d);Ub(R,Re);break e}}R=R.return}while(R!==null)}K2(y)}catch(tt){d=tt,Hr===y&&y!==null&&(Hr=y=y.return);continue}break}while(!0)}function G2(){var o=Lf.current;return Lf.current=Pf,o===null?Pf:o}function x1(){(sn===0||sn===3||sn===2)&&(sn=4),gn===null||(Mo&268435455)===0&&(Bf&268435455)===0||Zs(gn,Nn)}function Vf(o,d){var y=Mt;Mt|=2;var A=G2();(gn!==o||Nn!==d)&&(ns=null,Lo(o,d));do try{$k();break}catch(P){H2(o,P)}while(!0);if(Pm(),Mt=y,Lf.current=A,Hr!==null)throw Error(r(261));return gn=null,Nn=0,sn}function $k(){for(;Hr!==null;)q2(Hr)}function Wk(){for(;Hr!==null&&!rr();)q2(Hr)}function q2(o){var d=Z2(o.alternate,o,Ei);o.memoizedProps=o.pendingProps,d===null?K2(o):Hr=d,c1.current=null}function K2(o){var d=o;do{var y=d.alternate;if(o=d.return,(d.flags&32768)===0){if(y=Mk(y,d,Ei),y!==null){Hr=y;return}}else{if(y=Dk(y,d),y!==null){y.flags&=32767,Hr=y;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{sn=6,Hr=null;return}}if(d=d.sibling,d!==null){Hr=d;return}Hr=d=o}while(d!==null);sn===0&&(sn=5)}function Bo(o,d,y){var A=At,P=Hi.transition;try{Hi.transition=null,At=1,Vk(o,d,y,A)}finally{Hi.transition=P,At=A}return null}function Vk(o,d,y,A){do ql();while(Xs!==null);if((Mt&6)!==0)throw Error(r(327));y=o.finishedWork;var P=o.finishedLanes;if(y===null)return null;if(o.finishedWork=null,o.finishedLanes=0,y===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var R=y.lanes|y.childLanes;if(nt(o,R),o===gn&&(Hr=gn=null,Nn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||Uf||(Uf=!0,Q2(Yt,function(){return ql(),null})),R=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||R){R=Hi.transition,Hi.transition=null;var U=At;At=1;var K=Mt;Mt|=4,c1.current=null,Bk(o,y),B2(y,o),Ln(xm),Sa=!!vm,xm=vm=null,o.current=y,Fk(y),Kd(),Mt=K,At=U,Hi.transition=R}else o.current=y;if(Uf&&(Uf=!1,Xs=o,zf=P),R=o.pendingLanes,R===0&&(Ks=null),It(y.stateNode),ai(o,$t()),d!==null)for(A=o.onRecoverableError,y=0;y<d.length;y++)P=d[y],A(P.value,{componentStack:P.stack,digest:P.digest});if(Ff)throw Ff=!1,o=f1,f1=null,o;return(zf&1)!==0&&o.tag!==0&&ql(),R=o.pendingLanes,(R&1)!==0?o===h1?Ou++:(Ou=0,h1=o):Ou=0,Vs(),null}function ql(){if(Xs!==null){var o=Zd(zf),d=Hi.transition,y=At;try{if(Hi.transition=null,At=16>o?16:o,Xs===null)var A=!1;else{if(o=Xs,Xs=null,zf=0,(Mt&6)!==0)throw Error(r(331));var P=Mt;for(Mt|=4,qe=o.current;qe!==null;){var R=qe,U=R.child;if((qe.flags&16)!==0){var K=R.deletions;if(K!==null){for(var Q=0;Q<K.length;Q++){var me=K[Q];for(qe=me;qe!==null;){var Ne=qe;switch(Ne.tag){case 0:case 11:case 15:_u(8,Ne,R)}var Ie=Ne.child;if(Ie!==null)Ie.return=Ne,qe=Ie;else for(;qe!==null;){Ne=qe;var Se=Ne.sibling,$e=Ne.return;if(R2(Ne),Ne===me){qe=null;break}if(Se!==null){Se.return=$e,qe=Se;break}qe=$e}}}var Ye=R.alternate;if(Ye!==null){var Qe=Ye.child;if(Qe!==null){Ye.child=null;do{var Ur=Qe.sibling;Qe.sibling=null,Qe=Ur}while(Qe!==null)}}qe=R}}if((R.subtreeFlags&2064)!==0&&U!==null)U.return=R,qe=U;else e:for(;qe!==null;){if(R=qe,(R.flags&2048)!==0)switch(R.tag){case 0:case 11:case 15:_u(9,R,R.return)}var ae=R.sibling;if(ae!==null){ae.return=R.return,qe=ae;break e}qe=R.return}}var ee=o.current;for(qe=ee;qe!==null;){U=qe;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,qe=ce;else e:for(U=ee;qe!==null;){if(K=qe,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Df(9,K)}}catch(tt){Pr(K,K.return,tt)}if(K===U){qe=null;break e}var Re=K.sibling;if(Re!==null){Re.return=K.return,qe=Re;break e}qe=K.return}}if(Mt=P,Vs(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(kt,o)}catch{}A=!0}return A}finally{At=y,Hi.transition=d}}return!1}function X2(o,d,y){d=Wl(y,d),d=h2(o,d,1),o=Gs(o,d,1),d=Kn(),o!==null&&(G(o,1,d),ai(o,d))}function Pr(o,d,y){if(o.tag===3)X2(o,o,y);else for(;d!==null;){if(d.tag===3){X2(d,o,y);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Ks===null||!Ks.has(A))){o=Wl(y,o),o=p2(d,o,1),d=Gs(d,o,1),o=Kn(),d!==null&&(G(d,1,o),ai(d,o));break}}d=d.return}}function Hk(o,d,y){var A=o.pingCache;A!==null&&A.delete(d),d=Kn(),o.pingedLanes|=o.suspendedLanes&y,gn===o&&(Nn&y)===y&&(sn===4||sn===3&&(Nn&130023424)===Nn&&500>$t()-d1?Lo(o,0):u1|=y),ai(o,d)}function Y2(o,d){d===0&&((o.mode&1)===0?d=1:(d=Al,Al<<=1,(Al&130023424)===0&&(Al=4194304)));var y=Kn();o=es(o,d),o!==null&&(G(o,d,y),ai(o,y))}function Gk(o){var d=o.memoizedState,y=0;d!==null&&(y=d.retryLane),Y2(o,y)}function qk(o,d){var y=0;switch(o.tag){case 13:var A=o.stateNode,P=o.memoizedState;P!==null&&(y=P.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),Y2(o,y)}var Z2;Z2=function(o,d,y){if(o!==null)if(o.memoizedProps!==d.pendingProps||ti.current)ni=!0;else{if((o.lanes&y)===0&&(d.flags&128)===0)return ni=!1,jk(o,d,y);ni=(o.flags&131072)!==0}else ni=!1,mr&&(d.flags&1048576)!==0&&Tb(d,yf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;jf(o,d),o=d.pendingProps;var P=Ml(d,Bn.current);zl(d,y),P=$m(null,d,A,o,P,y);var R=Wm();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,ri(A)?(R=!0,gf(d)):R=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Mm(d),P.updater=kf,d.stateNode=P,P._reactInternals=d,Xm(d,A,o,y),d=Jm(null,d,A,!0,R,y)):(d.tag=0,mr&&R&&Sm(d),qn(null,d,P,y),d=d.child),d;case 16:A=d.elementType;e:{switch(jf(o,d),o=d.pendingProps,P=A._init,A=P(A._payload),d.type=A,P=d.tag=Xk(A),o=la(A,o),P){case 0:d=Qm(null,d,A,o,y);break e;case 1:d=A2(null,d,A,o,y);break e;case 11:d=x2(null,d,A,o,y);break e;case 14:d=y2(null,d,A,la(A.type,o),y);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:la(A,P),Qm(o,d,A,P,y);case 1:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:la(A,P),A2(o,d,A,P,y);case 3:e:{if(_2(d),o===null)throw Error(r(387));A=d.pendingProps,R=d.memoizedState,P=R.element,Fb(o,d),Sf(d,A,null,y);var U=d.memoizedState;if(A=U.element,R.isDehydrated)if(R={element:A,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){P=Wl(Error(r(423)),d),d=S2(o,d,A,y,P);break e}else if(A!==P){P=Wl(Error(r(424)),d),d=S2(o,d,A,y,P);break e}else for(bi=zs(d.stateNode.containerInfo.firstChild),wi=d,mr=!0,oa=null,y=Lb(d,null,A,y),d.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Bl(),A===P){d=rs(o,d,y);break e}qn(o,d,A,y)}d=d.child}return d;case 5:return $b(d),o===null&&Nm(d),A=d.type,P=d.pendingProps,R=o!==null?o.memoizedProps:null,U=P.children,ym(A,P)?U=null:R!==null&&ym(A,R)&&(d.flags|=32),E2(o,d),qn(o,d,U,y),d.child;case 6:return o===null&&Nm(d),null;case 13:return C2(o,d,y);case 4:return Dm(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=Fl(d,null,A,y):qn(o,d,A,y),d.child;case 11:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:la(A,P),x2(o,d,A,P,y);case 7:return qn(o,d,d.pendingProps,y),d.child;case 8:return qn(o,d,d.pendingProps.children,y),d.child;case 12:return qn(o,d,d.pendingProps.children,y),d.child;case 10:e:{if(A=d.type._context,P=d.pendingProps,R=d.memoizedProps,U=P.value,ar(Ef,A._currentValue),A._currentValue=U,R!==null)if(ne(R.value,U)){if(R.children===P.children&&!ti.current){d=rs(o,d,y);break e}}else for(R=d.child,R!==null&&(R.return=d);R!==null;){var K=R.dependencies;if(K!==null){U=R.child;for(var Q=K.firstContext;Q!==null;){if(Q.context===A){if(R.tag===1){Q=ts(-1,y&-y),Q.tag=2;var me=R.updateQueue;if(me!==null){me=me.shared;var Ne=me.pending;Ne===null?Q.next=Q:(Q.next=Ne.next,Ne.next=Q),me.pending=Q}}R.lanes|=y,Q=R.alternate,Q!==null&&(Q.lanes|=y),Rm(R.return,y,d),K.lanes|=y;break}Q=Q.next}}else if(R.tag===10)U=R.type===d.type?null:R.child;else if(R.tag===18){if(U=R.return,U===null)throw Error(r(341));U.lanes|=y,K=U.alternate,K!==null&&(K.lanes|=y),Rm(U,y,d),U=R.sibling}else U=R.child;if(U!==null)U.return=R;else for(U=R;U!==null;){if(U===d){U=null;break}if(R=U.sibling,R!==null){R.return=U.return,U=R;break}U=U.return}R=U}qn(o,d,P.children,y),d=d.child}return d;case 9:return P=d.type,A=d.pendingProps.children,zl(d,y),P=Wi(P),A=A(P),d.flags|=1,qn(o,d,A,y),d.child;case 14:return A=d.type,P=la(A,d.pendingProps),P=la(A.type,P),y2(o,d,A,P,y);case 15:return w2(o,d,d.type,d.pendingProps,y);case 17:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:la(A,P),jf(o,d),d.tag=1,ri(A)?(o=!0,gf(d)):o=!1,zl(d,y),d2(d,A,P),Xm(d,A,P,y),Jm(null,d,A,!0,o,y);case 19:return N2(o,d,y);case 22:return b2(o,d,y)}throw Error(r(156,d.tag))};function Q2(o,d){return pi(o,d)}function Kk(o,d,y,A){this.tag=o,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(o,d,y,A){return new Kk(o,d,y,A)}function y1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Xk(o){if(typeof o=="function")return y1(o)?1:0;if(o!=null){if(o=o.$$typeof,o===de)return 11;if(o===te)return 14}return 2}function Qs(o,d){var y=o.alternate;return y===null?(y=Gi(o.tag,d,o.key,o.mode),y.elementType=o.elementType,y.type=o.type,y.stateNode=o.stateNode,y.alternate=o,o.alternate=y):(y.pendingProps=d,y.type=o.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=o.flags&14680064,y.childLanes=o.childLanes,y.lanes=o.lanes,y.child=o.child,y.memoizedProps=o.memoizedProps,y.memoizedState=o.memoizedState,y.updateQueue=o.updateQueue,d=o.dependencies,y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},y.sibling=o.sibling,y.index=o.index,y.ref=o.ref,y}function Hf(o,d,y,A,P,R){var U=2;if(A=o,typeof o=="function")y1(o)&&(U=1);else if(typeof o=="string")U=5;else e:switch(o){case H:return Fo(y.children,P,R,d);case re:U=8,P|=8;break;case X:return o=Gi(12,y,d,P|2),o.elementType=X,o.lanes=R,o;case Ae:return o=Gi(13,y,d,P),o.elementType=Ae,o.lanes=R,o;case ke:return o=Gi(19,y,d,P),o.elementType=ke,o.lanes=R,o;case oe:return Gf(y,P,R,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case _e:U=10;break e;case pe:U=9;break e;case de:U=11;break e;case te:U=14;break e;case Fe:U=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=Gi(U,y,d,P),d.elementType=o,d.type=A,d.lanes=R,d}function Fo(o,d,y,A){return o=Gi(7,o,A,d),o.lanes=y,o}function Gf(o,d,y,A){return o=Gi(22,o,A,d),o.elementType=oe,o.lanes=y,o.stateNode={isHidden:!1},o}function w1(o,d,y){return o=Gi(6,o,null,d),o.lanes=y,o}function b1(o,d,y){return d=Gi(4,o.children!==null?o.children:[],o.key,d),d.lanes=y,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function Yk(o,d,y,A,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ie(0),this.expirationTimes=ie(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.identifierPrefix=A,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function E1(o,d,y,A,P,R,U,K,Q){return o=new Yk(o,d,y,K,Q),d===1?(d=1,R===!0&&(d|=8)):d=0,R=Gi(3,null,null,d),o.current=R,R.stateNode=o,R.memoizedState={element:A,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(R),o}function Zk(o,d,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:A==null?null:""+A,children:o,containerInfo:d,implementation:y}}function J2(o){if(!o)return Ws;o=o._reactInternals;e:{if(ei(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(ri(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var y=o.type;if(ri(y))return Ob(o,y,d)}return d}function eE(o,d,y,A,P,R,U,K,Q){return o=E1(y,A,!0,o,P,R,U,K,Q),o.context=J2(null),y=o.current,A=Kn(),P=Ys(y),R=ts(A,P),R.callback=d??null,Gs(y,R,P),o.current.lanes=P,G(o,P,A),ai(o,A),o}function qf(o,d,y,A){var P=d.current,R=Kn(),U=Ys(P);return y=J2(y),d.context===null?d.context=y:d.pendingContext=y,d=ts(R,U),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=Gs(P,d,U),o!==null&&(da(o,P,U,R),_f(o,P,U)),U}function Kf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function tE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var y=o.retryLane;o.retryLane=y!==0&&y<d?y:d}}function A1(o,d){tE(o,d),(o=o.alternate)&&tE(o,d)}function Qk(){return null}var rE=typeof reportError=="function"?reportError:function(o){console.error(o)};function _1(o){this._internalRoot=o}Xf.prototype.render=_1.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));qf(o,d,null,null)},Xf.prototype.unmount=_1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Do(function(){qf(null,o,null,null)}),d[Ya]=null}};function Xf(o){this._internalRoot=o}Xf.prototype.unstable_scheduleHydration=function(o){if(o){var d=nr();o={blockedOn:null,target:o,priority:d};for(var y=0;y<_n.length&&d!==0&&d<_n[y].priority;y++);_n.splice(y,0,o),y===0&&Jd(o)}};function S1(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Yf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function nE(){}function Jk(o,d,y,A,P){if(P){if(typeof A=="function"){var R=A;A=function(){var me=Kf(U);R.call(me)}}var U=eE(d,A,o,0,null,!1,!1,"",nE);return o._reactRootContainer=U,o[Ya]=U.current,du(o.nodeType===8?o.parentNode:o),Do(),U}for(;P=o.lastChild;)o.removeChild(P);if(typeof A=="function"){var K=A;A=function(){var me=Kf(Q);K.call(me)}}var Q=E1(o,0,!1,null,null,!1,!1,"",nE);return o._reactRootContainer=Q,o[Ya]=Q.current,du(o.nodeType===8?o.parentNode:o),Do(function(){qf(d,Q,y,A)}),Q}function Zf(o,d,y,A,P){var R=y._reactRootContainer;if(R){var U=R;if(typeof P=="function"){var K=P;P=function(){var Q=Kf(U);K.call(Q)}}qf(d,U,o,P)}else U=Jk(y,d,o,P,A);return Kf(U)}_l=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var y=Zt(d.pendingLanes);y!==0&&(Ir(d,y|1),ai(d,$t()),(Mt&6)===0&&(Gl=$t()+500,Vs()))}break;case 13:Do(function(){var A=es(o,1);if(A!==null){var P=Kn();da(A,o,1,P)}}),A1(o,1)}},Dn=function(o){if(o.tag===13){var d=es(o,134217728);if(d!==null){var y=Kn();da(d,o,134217728,y)}A1(o,134217728)}},st=function(o){if(o.tag===13){var d=Ys(o),y=es(o,d);if(y!==null){var A=Kn();da(y,o,d,A)}A1(o,d)}},nr=function(){return At},Zc=function(o,d){var y=At;try{return At=o,d()}finally{At=y}},bl=function(o,d,y){switch(d){case"input":if(Rt(o,y),d=y.name,y.type==="radio"&&d!=null){for(y=o;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<y.length;d++){var A=y[d];if(A!==o&&A.form===o.form){var P=pf(A);if(!P)throw Error(r(90));ye(A),Rt(A,P)}}}break;case"textarea":fn(o,y);break;case"select":d=y.value,d!=null&&Ue(o,!!y.multiple,d,!1)}},El=g1,Jr=Do;var eR={usingClientEntryPoint:!1,Events:[pu,Rl,pf,Vc,Jn,g1]},Nu={findFiberByHostInstance:No,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tR={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Gd(o),o===null?null:o.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qf.isDisabled&&Qf.supportsFiber)try{kt=Qf.inject(tR),Et=Qf}catch{}}return si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR,si.createPortal=function(o,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S1(d))throw Error(r(200));return Zk(o,d,null,y)},si.createRoot=function(o,d){if(!S1(o))throw Error(r(299));var y=!1,A="",P=rE;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=E1(o,1,!1,null,null,y,!1,A,P),o[Ya]=d.current,du(o.nodeType===8?o.parentNode:o),new _1(d)},si.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Gd(d),o=o===null?null:o.stateNode,o},si.flushSync=function(o){return Do(o)},si.hydrate=function(o,d,y){if(!Yf(d))throw Error(r(200));return Zf(null,o,d,!0,y)},si.hydrateRoot=function(o,d,y){if(!S1(o))throw Error(r(405));var A=y!=null&&y.hydratedSources||null,P=!1,R="",U=rE;if(y!=null&&(y.unstable_strictMode===!0&&(P=!0),y.identifierPrefix!==void 0&&(R=y.identifierPrefix),y.onRecoverableError!==void 0&&(U=y.onRecoverableError)),d=eE(d,null,o,1,y??null,P,!1,R,U),o[Ya]=d.current,du(o),A)for(o=0;o<A.length;o++)y=A[o],P=y._getVersion,P=P(y._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[y,P]:d.mutableSourceEagerHydrationData.push(y,P);return new Xf(d)},si.render=function(o,d,y){if(!Yf(d))throw Error(r(200));return Zf(null,o,d,!1,y)},si.unmountComponentAtNode=function(o){if(!Yf(o))throw Error(r(40));return o._reactRootContainer?(Do(function(){Zf(null,null,o,!1,function(){o._reactRootContainer=null,o[Ya]=null})}),!0):!1},si.unstable_batchedUpdates=g1,si.unstable_renderSubtreeIntoContainer=function(o,d,y,A){if(!Yf(y))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Zf(o,d,y,!1,A)},si.version="18.3.1-next-f1338f8080-20240426",si}var dE;function aO(){if(dE)return N1.exports;dE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),N1.exports=cR(),N1.exports}var fE;function uR(){if(fE)return eh;fE=1;var e=aO();return eh.createRoot=e.createRoot,eh.hydrateRoot=e.hydrateRoot,eh}var dR=uR();const fR=ta(dR);var hE="popstate";function hR(e={}){function t(i,s){let{pathname:c="/",search:f="",hash:p=""}=ml(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Av("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=i.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof s=="string"?s:Qu(s))}function n(i,s){Ii(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return mR(t,r,n,e)}function wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ii(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pR(){return Math.random().toString(36).substring(2,10)}function pE(e,t){return{usr:e.state,key:e.key,idx:t}}function Av(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ml(t):t,state:r,key:t&&t.key||n||pR()}}function Qu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function mR(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,f="POP",p=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function w(){f="POP";let k=v(),M=k==null?null:k-m;m=k,p&&p({action:f,location:O.location,delta:M})}function _(k,M){f="PUSH";let L=Av(O.location,k,M);r&&r(L,k),m=v()+1;let j=pE(L,m),z=O.createHref(L);try{c.pushState(j,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}s&&p&&p({action:f,location:O.location,delta:1})}function S(k,M){f="REPLACE";let L=Av(O.location,k,M);r&&r(L,k),m=v();let j=pE(L,m),z=O.createHref(L);c.replaceState(j,"",z),s&&p&&p({action:f,location:O.location,delta:0})}function N(k){return gR(k)}let O={get action(){return f},get location(){return e(i,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(hE,w),p=k,()=>{i.removeEventListener(hE,w),p=null}},createHref(k){return t(i,k)},createURL:N,encodeLocation(k){let M=N(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:S,go(k){return c.go(k)}};return O}function gR(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),wr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Qu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function sO(e,t,r="/"){return vR(e,t,r,!1)}function vR(e,t,r,n){let i=typeof t=="string"?ml(t):t,s=ms(i.pathname||"/",r);if(s==null)return null;let c=oO(e);xR(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=IR(s);f=OR(c[p],m,n)}return f}function oO(e,t=[],r=[],n="",i=!1){let s=(c,f,p=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(n)&&p)return;wr(v.relativePath.startsWith(n),`Absolute route path "${v.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(n.length)}let w=fs([n,v.relativePath]),_=r.concat(v);c.children&&c.children.length>0&&(wr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),oO(c.children,t,_,w,p)),!(c.path==null&&!c.index)&&t.push({path:w,score:SR(w,c.index),routesMeta:_})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))s(c,f);else for(let p of lO(c.path))s(c,f,!0,p)}),t}function lO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=lO(n.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),i&&f.push(...c),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function xR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:CR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var yR=/^:[\w-]+$/,wR=3,bR=2,ER=1,AR=10,_R=-2,mE=e=>e==="*";function SR(e,t){let r=e.split("/"),n=r.length;return r.some(mE)&&(n+=_R),t&&(n+=bR),r.filter(i=>!mE(i)).reduce((i,s)=>i+(yR.test(s)?wR:s===""?ER:AR),n)}function CR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function OR(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,v=s==="/"?t:t.slice(s.length)||"/",w=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),_=p.route;if(!w&&m&&r&&!n[n.length-1].route.index&&(w=$h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(i,w.params),c.push({params:i,pathname:fs([s,w.pathname]),pathnameBase:RR(fs([s,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(s=fs([s,w.pathnameBase]))}return c}function $h(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=NR(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:v,isOptional:w},_)=>{if(v==="*"){let N=f[_]||"";c=s.slice(0,s.length-N.length).replace(/(.)\/+$/,"$1")}const S=f[_];return w&&!S?m[v]=void 0:m[v]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function NR(e,t=!1,r=!0){Ii(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function IR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ms(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var cO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,TR=e=>cO.test(e);function PR(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?ml(e):e,s;if(r)if(TR(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=gE(r.substring(1),"/"):s=gE(r,t)}else s=t;return{pathname:s,search:jR(n),hash:MR(i)}}function gE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function P1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Kx(e){let t=kR(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Xx(e,t,r,n=!1){let i;typeof e=="string"?i=ml(e):(i={...e},wr(!i.pathname||!i.pathname.includes("?"),P1("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),P1("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),P1("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=r;else{let w=t.length-1;if(!n&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}f=w>=0?t[w]:"/"}let p=PR(i,f),m=c&&c!=="/"&&c.endsWith("/"),v=(s||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var fs=e=>e.join("/").replace(/\/\/+/g,"/"),RR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,DR=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function LR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function BR(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dO(e,t){let r=e;if(typeof r!="string"||!cO.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(uO)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),f=ms(c.pathname,t);c.origin===s.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{Ii(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fO=["POST","PUT","PATCH","DELETE"];new Set(fO);var FR=["GET",...fO];new Set(FR);var Oc=I.createContext(null);Oc.displayName="DataRouter";var ep=I.createContext(null);ep.displayName="DataRouterState";var UR=I.createContext(!1),hO=I.createContext({isTransitioning:!1});hO.displayName="ViewTransition";var zR=I.createContext(new Map);zR.displayName="Fetchers";var $R=I.createContext(null);$R.displayName="Await";var ji=I.createContext(null);ji.displayName="Navigation";var yd=I.createContext(null);yd.displayName="Location";var Ua=I.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Yx=I.createContext(null);Yx.displayName="RouteError";var pO="REACT_ROUTER_ERROR",WR="REDIRECT",VR="ROUTE_ERROR_RESPONSE";function HR(e){if(e.startsWith(`${pO}:${WR}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function GR(e){if(e.startsWith(`${pO}:${VR}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new DR(t.status,t.statusText,t.data)}catch{}}function qR(e,{relative:t}={}){wr(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=I.useContext(ji),{hash:i,pathname:s,search:c}=wd(e,{relative:t}),f=s;return r!=="/"&&(f=s==="/"?r:fs([r,s])),n.createHref({pathname:f,search:c,hash:i})}function Nc(){return I.useContext(yd)!=null}function wa(){return wr(Nc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(yd).location}var mO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gO(e){I.useContext(ji).static||I.useLayoutEffect(e)}function tp(){let{isDataRoute:e}=I.useContext(Ua);return e?sj():KR()}function KR(){wr(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(Oc),{basename:t,navigator:r}=I.useContext(ji),{matches:n}=I.useContext(Ua),{pathname:i}=wa(),s=JSON.stringify(Kx(n)),c=I.useRef(!1);return gO(()=>{c.current=!0}),I.useCallback((p,m={})=>{if(Ii(c.current,mO),!c.current)return;if(typeof p=="number"){r.go(p);return}let v=Xx(p,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:fs([t,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[t,r,s,i,e])}I.createContext(null);function wd(e,{relative:t}={}){let{matches:r}=I.useContext(Ua),{pathname:n}=wa(),i=JSON.stringify(Kx(r));return I.useMemo(()=>Xx(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function XR(e,t){return vO(e,t)}function vO(e,t,r,n,i){wr(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=I.useContext(ji),{matches:c}=I.useContext(Ua),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",w=f&&f.route;{let L=w&&w.path||"";yO(m,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=wa(),S;if(t){let L=typeof t=="string"?ml(t):t;wr(v==="/"||L.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=_;let N=S.pathname||"/",O=N;if(v!=="/"){let L=v.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=sO(e,{pathname:O});Ii(w||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ii(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=ej(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:fs([v,s.encodeLocation?s.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?v:fs([v,s.encodeLocation?s.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,i);return t&&M?I.createElement(yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},M):M}function YR(){let e=aj(),t=LR(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),r?I.createElement("pre",{style:i},r):null,c)}var ZR=I.createElement(YR,null),xO=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=GR(e.digest);r&&(e=r)}let t=e!==void 0?I.createElement(Ua.Provider,{value:this.props.routeContext},I.createElement(Yx.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?I.createElement(QR,{error:e},t):t}};xO.contextType=UR;var k1=new WeakMap;function QR({children:e,error:t}){let{basename:r}=I.useContext(ji);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=HR(t.digest);if(n){let i=k1.get(t);if(i)throw i;let s=dO(n.location,r);if(uO&&!k1.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw k1.set(t,c),c}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function JR({routeContext:e,match:t,children:r}){let n=I.useContext(Oc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Ua.Provider,{value:e},r)}function ej(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let v=s.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);wr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,v+1))}let f=!1,p=-1;if(r)for(let v=0;v<s.length;v++){let w=s[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:_,errors:S}=r,N=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!S||S[w.route.id]===void 0);if(w.route.lazy||N){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}let m=r&&n?(v,w)=>{n(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:BR(r.matches),errorInfo:w})}:void 0;return s.reduceRight((v,w,_)=>{let S,N=!1,O=null,k=null;r&&(S=c&&w.route.id?c[w.route.id]:void 0,O=w.route.errorElement||ZR,f&&(p<0&&_===0?(yO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):p===_&&(N=!0,k=w.route.hydrateFallbackElement||null)));let M=t.concat(s.slice(0,_+1)),L=()=>{let j;return S?j=O:N?j=k:w.route.Component?j=I.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=v,I.createElement(JR,{match:w,routeContext:{outlet:v,matches:M,isDataRoute:r!=null},children:j})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?I.createElement(xO,{location:r.location,revalidation:r.revalidation,component:O,error:S,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):L()},null)}function Zx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tj(e){let t=I.useContext(Oc);return wr(t,Zx(e)),t}function rj(e){let t=I.useContext(ep);return wr(t,Zx(e)),t}function nj(e){let t=I.useContext(Ua);return wr(t,Zx(e)),t}function Qx(e){let t=nj(e),r=t.matches[t.matches.length-1];return wr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ij(){return Qx("useRouteId")}function aj(){let e=I.useContext(Yx),t=rj("useRouteError"),r=Qx("useRouteError");return e!==void 0?e:t.errors?.[r]}function sj(){let{router:e}=tj("useNavigate"),t=Qx("useNavigate"),r=I.useRef(!1);return gO(()=>{r.current=!0}),I.useCallback(async(i,s={})=>{Ii(r.current,mO),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var vE={};function yO(e,t,r){!t&&!vE[e]&&(vE[e]=!0,Ii(!1,r))}I.memo(oj);function oj({routes:e,future:t,state:r,onError:n}){return vO(e,void 0,r,n,t)}function lj({to:e,replace:t,state:r,relative:n}){wr(Nc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(ji);Ii(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(Ua),{pathname:c}=wa(),f=tp(),p=Xx(e,Kx(s),c,n==="path"),m=JSON.stringify(p);return I.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:n})},[f,m,n,t,r]),null}function ka(e){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cj({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){wr(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:f,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[f,i,s,c]);typeof r=="string"&&(r=ml(r));let{pathname:m="/",search:v="",hash:w="",state:_=null,key:S="default"}=r,N=I.useMemo(()=>{let O=ms(m,f);return O==null?null:{location:{pathname:O,search:v,hash:w,state:_,key:S},navigationType:n}},[f,m,v,w,_,S,n]);return Ii(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:I.createElement(ji.Provider,{value:p},I.createElement(yd.Provider,{children:t,value:N}))}function uj({children:e,location:t}){return XR(_v(e),t)}function _v(e,t=[]){let r=[];return I.Children.forEach(e,(n,i)=>{if(!I.isValidElement(n))return;let s=[...t,i];if(n.type===I.Fragment){r.push.apply(r,_v(n.props.children,s));return}wr(n.type===ka,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=_v(n.props.children,s)),r.push(c)}),r}var Ih="get",Th="application/x-www-form-urlencoded";function rp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function dj(e){return rp(e)&&e.tagName.toLowerCase()==="button"}function fj(e){return rp(e)&&e.tagName.toLowerCase()==="form"}function hj(e){return rp(e)&&e.tagName.toLowerCase()==="input"}function pj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mj(e,t){return e.button===0&&(!t||t==="_self")&&!pj(e)}var th=null;function gj(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var vj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function R1(e){return e!=null&&!vj.has(e)?(Ii(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):e}function xj(e,t){let r,n,i,s,c;if(fj(e)){let f=e.getAttribute("action");n=f?ms(f,t):null,r=e.getAttribute("method")||Ih,i=R1(e.getAttribute("enctype"))||Th,s=new FormData(e)}else if(dj(e)||hj(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(n=p?ms(p,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Ih,i=R1(e.getAttribute("formenctype"))||R1(f.getAttribute("enctype"))||Th,s=new FormData(f,e),!gj()){let{name:m,type:v,value:w}=e;if(v==="image"){let _=m?`${m}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else m&&s.append(m,w)}}else{if(rp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ih,n=null,i=Th,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jx(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yj(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ms(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function wj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ej(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await wj(s,r);return c.links?c.links():[]}return[]}));return Cj(n.flat(1).filter(bj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xE(e,t,r,n,i,s){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,f=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return s==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):s==="data"?t.filter((p,m)=>{let v=n.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Aj(e,t,{includeHydrateFallback:r}={}){return _j(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function _j(e){return[...new Set(e)]}function Sj(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Cj(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(Sj(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function wO(){let e=I.useContext(Oc);return Jx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Oj(){let e=I.useContext(ep);return Jx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ey=I.createContext(void 0);ey.displayName="FrameworkContext";function bO(){let e=I.useContext(ey);return Jx(e,"You must render this element inside a <HydratedRouter> element"),e}function Nj(e,t){let r=I.useContext(ey),[n,i]=I.useState(!1),[s,c]=I.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=t,_=I.useRef(null);I.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let O=M=>{M.forEach(L=>{c(L.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return _.current&&k.observe(_.current),()=>{k.disconnect()}}},[e]),I.useEffect(()=>{if(n){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[n]);let S=()=>{i(!0)},N=()=>{i(!1),c(!1)};return r?e!=="intent"?[s,_,{}]:[s,_,{onFocus:Tu(f,S),onBlur:Tu(p,N),onMouseEnter:Tu(m,S),onMouseLeave:Tu(v,N),onTouchStart:Tu(w,S)}]:[!1,_,{}]}function Tu(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ij({page:e,...t}){let{router:r}=wO(),n=I.useMemo(()=>sO(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?I.createElement(Pj,{page:e,matches:n,...t}):null}function Tj(e){let{manifest:t,routeModules:r}=bO(),[n,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return Ej(e,t,r).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,r]),n}function Pj({page:e,matches:t,...r}){let n=wa(),{future:i,manifest:s,routeModules:c}=bO(),{basename:f}=wO(),{loaderData:p,matches:m}=Oj(),v=I.useMemo(()=>xE(e,t,m,s,n,"data"),[e,t,m,s,n]),w=I.useMemo(()=>xE(e,t,m,s,n,"assets"),[e,t,m,s,n]),_=I.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let O=new Set,k=!1;if(t.forEach(L=>{let j=s.routes[L.route.id];!j||!j.hasLoader||(!v.some(z=>z.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||j.hasClientLoader?k=!0:O.add(L.route.id))}),O.size===0)return[];let M=yj(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&O.size>0&&M.searchParams.set("_routes",t.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[f,i.unstable_trailingSlashAwareDataRequests,p,n,s,v,t,e,c]),S=I.useMemo(()=>Aj(w,s),[w,s]),N=Tj(w);return I.createElement(I.Fragment,null,_.map(O=>I.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),S.map(O=>I.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),N.map(({key:O,link:k})=>I.createElement("link",{key:O,nonce:r.nonce,...k})))}function kj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Rj&&(window.__reactRouterVersion="7.12.0")}catch{}function jj({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=I.useRef();i.current==null&&(i.current=hR({window:n,v5Compat:!0}));let s=i.current,[c,f]=I.useState({action:s.action,location:s.location}),p=I.useCallback(m=>{r===!1?f(m):I.startTransition(()=>f(m))},[r]);return I.useLayoutEffect(()=>s.listen(p),[s,p]),I.createElement(cj,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var EO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kr=I.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,state:f,target:p,to:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...S},N){let{basename:O,unstable_useTransitions:k}=I.useContext(ji),M=typeof m=="string"&&EO.test(m),L=dO(m,O);m=L.to;let j=qR(m,{relative:i}),[z,W,V]=Nj(n,S),H=Bj(m,{replace:c,state:f,target:p,preventScrollReset:v,relative:i,viewTransition:w,unstable_defaultShouldRevalidate:_,unstable_useTransitions:k});function re(_e){t&&t(_e),_e.defaultPrevented||H(_e)}let X=I.createElement("a",{...S,...V,href:L.absoluteURL||j,onClick:L.isExternal||s?t:re,ref:kj(N,W),target:p,"data-discover":!M&&r==="render"?"true":void 0});return z&&!M?I.createElement(I.Fragment,null,X,I.createElement(Ij,{page:j})):X});Kr.displayName="Link";var Mj=I.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:f,children:p,...m},v){let w=wd(c,{relative:m.relative}),_=wa(),S=I.useContext(ep),{navigator:N,basename:O}=I.useContext(ji),k=S!=null&&Wj(w)&&f===!0,M=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,L=_.pathname,j=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(L=L.toLowerCase(),j=j?j.toLowerCase():null,M=M.toLowerCase()),j&&O&&(j=ms(j,O)||j);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let W=L===M||!i&&L.startsWith(M)&&L.charAt(z)==="/",V=j!=null&&(j===M||!i&&j.startsWith(M)&&j.charAt(M.length)==="/"),H={isActive:W,isPending:V,isTransitioning:k},re=W?t:void 0,X;typeof n=="function"?X=n(H):X=[n,W?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let _e=typeof s=="function"?s(H):s;return I.createElement(Kr,{...m,"aria-current":re,className:X,ref:v,style:_e,to:c,viewTransition:f},typeof p=="function"?p(H):p)});Mj.displayName="NavLink";var Dj=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Ih,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_,...S},N)=>{let{unstable_useTransitions:O}=I.useContext(ji),k=zj(),M=$j(f,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&EO.test(f),z=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let V=W.nativeEvent.submitter,H=V?.getAttribute("formmethod")||c,re=()=>k(V||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:s,relative:m,preventScrollReset:v,viewTransition:w,unstable_defaultShouldRevalidate:_});O&&r!==!1?I.startTransition(()=>re()):re()};return I.createElement("form",{ref:N,method:L,action:M,onSubmit:n?p:z,...S,"data-discover":!j&&e==="render"?"true":void 0})});Dj.displayName="Form";function Lj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AO(e){let t=I.useContext(Oc);return wr(t,Lj(e)),t}function Bj(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=tp(),v=wa(),w=wd(e,{relative:s});return I.useCallback(_=>{if(mj(_,t)){_.preventDefault();let S=r!==void 0?r:Qu(v)===Qu(w),N=()=>m(e,{replace:S,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f});p?I.startTransition(()=>N()):N()}},[v,m,w,r,n,t,e,i,s,c,f,p])}var Fj=0,Uj=()=>`__${String(++Fj)}__`;function zj(){let{router:e}=AO("useSubmit"),{basename:t}=I.useContext(ji),r=ij(),n=e.fetch,i=e.navigate;return I.useCallback(async(s,c={})=>{let{action:f,method:p,encType:m,formData:v,body:w}=xj(s,t);if(c.navigate===!1){let _=c.fetcherKey||Uj();await n(_,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:w,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function $j(e,{relative:t}={}){let{basename:r}=I.useContext(ji),n=I.useContext(Ua);wr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...wd(e||".",{relative:t})},c=wa();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();s.search=v?`?${v}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fs([r,s.pathname])),Qu(s)}function Wj(e,{relative:t}={}){let r=I.useContext(hO);wr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=AO("useViewTransitionState"),i=wd(e,{relative:t});if(!r.isTransitioning)return!1;let s=ms(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ms(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $h(i.pathname,c)!=null||$h(i.pathname,s)!=null}var ty=aO(),Vj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mt=(e,t)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,children:f,...p},m)=>I.createElement("svg",{ref:m,...Vj,width:i,height:i,stroke:n,strokeWidth:c?Number(s)*24/Number(i):s,className:`lucide lucide-${Hj(e)}`,...p},[...t.map(([v,w])=>I.createElement(v,w)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},Gj=mt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),_O=mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),qu=mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),qj=mt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),Kj=mt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ry=mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Ku=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Xj=mt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),Yj=mt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Zj=mt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),SO=mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yE=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Qj=mt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),ny=mt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Jj=mt("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),e6=mt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),CO=mt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),t6=mt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),r6=mt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),n6=mt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Ju=mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),OO=mt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),i6=mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),iy=mt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),a6=mt("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),s6=mt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),NO=mt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),j1=mt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),np=mt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),o6=mt("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),wE=mt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),l6=mt("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),ay=mt("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),ip=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),IO=mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),c6=mt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),u6=mt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ed=mt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),d6=mt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),mc=mt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),TO=mt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),f6=mt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Sv=mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sy=mt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),h6=mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),p6=mt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),ja=mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),m6=mt("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),g6=()=>{const[e,t]=I.useState(!1),[r,n]=I.useState(!1),i=wa(),s=tp();I.useEffect(()=>{const v=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=v=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===v?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,p=v=>{s(v),n(!1)},m=()=>{const v=i.pathname;return v==="/"?b.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[b.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:b.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),b.jsx(Kr,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),b.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),b.jsx(Kr,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),b.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),b.jsx(Kr,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:b.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):v.startsWith("/perfum")?b.jsxs(Kr,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):v.startsWith("/regalos")?b.jsxs(Kr,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):b.jsxs(Kr,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[b.jsx("span",{className:"serif text-2xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),b.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]})};return b.jsxs("nav",{className:c,children:[b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between items-center h-16",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&b.jsx(Kr,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),b.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),b.jsx("div",{className:"flex items-center",children:m()})]}),b.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&b.jsxs(b.Fragment,{children:[b.jsx(Kr,{to:"/style",className:f("/style"),children:"Style"}),b.jsx(Kr,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),b.jsx(Kr,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),b.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):s("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),b.jsx("div",{className:"md:hidden flex items-center",children:b.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?b.jsx(ja,{size:28}):b.jsx(i6,{size:28})})})]})}),r&&b.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[b.jsxs("button",{onClick:()=>p("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(ay,{size:24}),b.jsx("span",{children:"Style (Inicio)"})]}),b.jsxs("button",{onClick:()=>p("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(ed,{size:24}),b.jsx("span",{children:"Perfumes"})]}),b.jsxs("button",{onClick:()=>p("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[b.jsx(ny,{size:24}),b.jsx("span",{children:"Regalos"})]}),b.jsx("div",{className:"mt-auto pb-8",children:b.jsx("button",{onClick:()=>p("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},v6=({onCtaClick:e})=>b.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),b.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[b.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),b.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",b.jsx("br",{})," ",b.jsx("span",{className:"italic",children:"Tu Esencia"})]}),b.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",b.jsx("br",{className:"hidden md:block"}),b.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),b.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:b.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),b.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[b.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[b.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),b.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[b.jsx("span",{className:"mr-1",children:"Desde"}),b.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),uc="56984524774",x6="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",ac=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],y6=3e3,w6=30,b6=["Santiago Centro","uoa"],Da=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],bE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],E6=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],PO=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var is={},rh={},Cv=function(e,t){return Cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Cv(e,t)};function kO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Wh=function(){return Wh=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Wh.apply(this,arguments)};function Ic(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function RO(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(s=(i<3?c(s):i>3?c(t,r,s):c(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function jO(e,t){return function(r,n){t(r,n,e)}}function MO(e,t,r,n,i,s){function c(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var f=n.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,v=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),w,_=!1,S=r.length-1;S>=0;S--){var N={};for(var O in n)N[O]=O==="access"?{}:n[O];for(var O in n.access)N.access[O]=n.access[O];N.addInitializer=function(M){if(_)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(M||null))};var k=(0,r[S])(f==="accessor"?{get:v.get,set:v.set}:v[p],N);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(w=c(k.get))&&(v.get=w),(w=c(k.set))&&(v.set=w),(w=c(k.init))&&i.unshift(w)}else(w=c(k))&&(f==="field"?i.unshift(w):v[p]=w)}m&&Object.defineProperty(m,n.name,v),_=!0}function DO(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function LO(e){return typeof e=="symbol"?e:"".concat(e)}function BO(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function FO(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ke(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})}function UO(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var ap=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function zO(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ap(t,e,r)}function Vh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function $O(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oy(arguments[t]));return e}function WO(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],c=0,f=s.length;c<f;c++,i++)n[i]=s[c];return n}function VO(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function gc(e){return this instanceof gc?(this.v=e,this):new gc(e)}function HO(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(S){return function(N){return Promise.resolve(N).then(S,w)}}function f(S,N){n[S]&&(i[S]=function(O){return new Promise(function(k,M){s.push([S,O,k,M])>1||p(S,O)})},N&&(i[S]=N(i[S])))}function p(S,N){try{m(n[S](N))}catch(O){_(s[0][3],O)}}function m(S){S.value instanceof gc?Promise.resolve(S.value.v).then(v,w):_(s[0][2],S)}function v(S){p("next",S)}function w(S){p("throw",S)}function _(S,N){S(N),s.shift(),s.length&&p(s[0][0],s[0][1])}}function GO(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(c){return(r=!r)?{value:gc(e[i](c)),done:!1}:s?s(c):c}:s}}function qO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Vh=="function"?Vh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(f,p){c=e[s](c),i(f,p,c.done,c.value)})}}function i(s,c,f,p){Promise.resolve(p).then(function(m){s({value:m,done:f})},c)}}function KO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A6=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ov=function(e){return Ov=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ov(e)};function XO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ov(e),n=0;n<r.length;n++)r[n]!=="default"&&ap(t,e,r[n]);return A6(t,e),t}function YO(e){return e&&e.__esModule?e:{default:e}}function ZO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function QO(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function JO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function eN(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var _6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function tN(e){function t(s){e.error=e.hasError?new _6(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function rN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,c){return n?t?".jsx":".js":i&&(!s||!c)?r:i+s+"."+c.toLowerCase()+"js"}):e}const S6={__extends:kO,__assign:Wh,__rest:Ic,__decorate:RO,__param:jO,__esDecorate:MO,__runInitializers:DO,__propKey:LO,__setFunctionName:BO,__metadata:FO,__awaiter:Ke,__generator:UO,__createBinding:ap,__exportStar:zO,__values:Vh,__read:oy,__spread:$O,__spreadArrays:WO,__spreadArray:VO,__await:gc,__asyncGenerator:HO,__asyncDelegator:GO,__asyncValues:qO,__makeTemplateObject:KO,__importStar:XO,__importDefault:YO,__classPrivateFieldGet:ZO,__classPrivateFieldSet:QO,__classPrivateFieldIn:JO,__addDisposableResource:eN,__disposeResources:tN,__rewriteRelativeImportExtension:rN},C6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:eN,get __assign(){return Wh},__asyncDelegator:GO,__asyncGenerator:HO,__asyncValues:qO,__await:gc,__awaiter:Ke,__classPrivateFieldGet:ZO,__classPrivateFieldIn:JO,__classPrivateFieldSet:QO,__createBinding:ap,__decorate:RO,__disposeResources:tN,__esDecorate:MO,__exportStar:zO,__extends:kO,__generator:UO,__importDefault:YO,__importStar:XO,__makeTemplateObject:KO,__metadata:FO,__param:jO,__propKey:LO,__read:oy,__rest:Ic,__rewriteRelativeImportExtension:rN,__runInitializers:DO,__setFunctionName:BO,__spread:$O,__spreadArray:VO,__spreadArrays:WO,__values:Vh,default:S6},Symbol.toStringTag,{value:"Module"})),O6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let sp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},nN=class extends sp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Nv=class extends sp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Iv=class extends sp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var Hh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hh||(Hh={}));class N6{constructor(t,{headers:r={},customFetch:n,region:i=Hh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=O6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ke(this,arguments,void 0,function*(r,n={}){var i;let s,c;try{const{headers:f,method:p,body:m,signal:v,timeout:w}=n;let _={},{region:S}=n;S||(S=this.region);const N=new URL(`${this.url}/${r}`);S&&S!=="any"&&(_["x-region"]=S,N.searchParams.set("forceFunctionRegion",S));let O;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",O=m):typeof m=="string"?(_["Content-Type"]="text/plain",O=m):typeof FormData<"u"&&m instanceof FormData?O=m:(_["Content-Type"]="application/json",O=JSON.stringify(m)):O=m;let k=v;w&&(c=new AbortController,s=setTimeout(()=>c.abort(),w),v?(k=c.signal,v.addEventListener("abort",()=>c.abort())):k=c.signal);const M=yield this.fetch(N.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:O,signal:k}).catch(W=>{throw new nN(W)}),L=M.headers.get("x-relay-error");if(L&&L==="true")throw new Nv(M);if(!M.ok)throw new Iv(M);let j=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),z;return j==="application/json"?z=yield M.json():j==="application/octet-stream"||j==="application/pdf"?z=yield M.blob():j==="text/event-stream"?z=M:j==="multipart/form-data"?z=yield M.formData():z=yield M.text(),{data:z,error:null,response:M}}catch(f){return{data:null,error:f,response:f instanceof Iv||f instanceof Nv?f.context:void 0}}finally{s&&clearTimeout(s)}})}}const I6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Hh},FunctionsClient:N6,FunctionsError:sp,FunctionsFetchError:nN,FunctionsHttpError:Iv,FunctionsRelayError:Nv},Symbol.toStringTag,{value:"Module"})),iN=xd(I6);var $n={};const Tc=xd(C6);var nh={},ih={},ah={},sh={},oh={},lh={},EE;function aN(){if(EE)return lh;EE=1,Object.defineProperty(lh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return lh.default=e,lh}var AE;function sN(){if(AE)return oh;AE=1,Object.defineProperty(oh,"__esModule",{value:!0});const t=Tc.__importDefault(aN());let r=class{constructor(i){var s,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,v,w,_;let S=null,N=null,O=null,k=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?N=W:N=JSON.parse(W))}const j=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),z=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");j&&z&&z.length>1&&(O=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(S={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,O=null,k=406,M="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const j=await p.text();try{S=JSON.parse(j),Array.isArray(S)&&p.status===404&&(N=[],S=null,k=200,M="OK")}catch{p.status===404&&j===""?(k=204,M="No Content"):S={message:j}}if(S&&this.isMaybeSingle&&(!((_=S?.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,k=200,M="OK"),S&&this.shouldThrowOnError)throw new t.default(S)}return{error:S,data:N,count:O,status:k,statusText:M}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,v,w,_,S,N;let O="";const k=p?.cause;if(k){const M=(m=k?.message)!==null&&m!==void 0?m:"",L=(v=k?.code)!==null&&v!==void 0?v:"";O=`${(w=p?.name)!==null&&w!==void 0?w:"FetchError"}: ${p?.message}`,O+=`

Caused by: ${(_=k?.name)!==null&&_!==void 0?_:"Error"}: ${M}`,L&&(O+=` (${L})`),k?.stack&&(O+=`
${k.stack}`)}else O=(S=p?.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(N=p?.name)!==null&&N!==void 0?N:"FetchError"}: ${p?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,s)}returns(){return this}overrideTypes(){return this}};return oh.default=r,oh}var _E;function oN(){if(_E)return sh;_E=1,Object.defineProperty(sh,"__esModule",{value:!0});const t=Tc.__importDefault(sN());let r=class extends t.default{select(i){let s=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,s,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var v;const w=[i?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${_}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return sh.default=r,sh}var SE;function ly(){if(SE)return ah;SE=1,Object.defineProperty(ah,"__esModule",{value:!0});const t=Tc.__importDefault(oN()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${m}fts${v}.${c}`),this}match(s){return Object.entries(s).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(s,c,f){return this.url.searchParams.append(s,`not.${c}.${f}`),this}or(s,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${s})`),this}filter(s,c,f){return this.url.searchParams.append(s,`${c}.${f}`),this}};return ah.default=n,ah}var CE;function lN(){if(CE)return ih;CE=1,Object.defineProperty(ih,"__esModule",{value:!0});const t=Tc.__importDefault(ly());let r=class{constructor(i,{headers:s={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(s),this.schema=c,this.fetch=f}select(i,s){const{head:c=!1,count:f}=s??{},p=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:c=!0}={}){var f;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(m.length>0){const v=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const w=i.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(w.length>0){const _=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var c;const f="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var s;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return ih.default=r,ih}var OE;function T6(){if(OE)return nh;OE=1,Object.defineProperty(nh,"__esModule",{value:!0});const e=Tc,t=e.__importDefault(lN()),r=e.__importDefault(ly());let n=class cN{constructor(s,{headers:c={},schema:f,fetch:p}={}){this.url=s,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new cN(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:f=!1,get:p=!1,count:m}={}){var v;let w;const _=new URL(`${this.url}/rpc/${s}`);let S;f||p?(w=f?"HEAD":"GET",Object.entries(c).filter(([O,k])=>k!==void 0).map(([O,k])=>[O,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([O,k])=>{_.searchParams.append(O,k)})):(w="POST",S=c);const N=new Headers(this.headers);return m&&N.set("Prefer",`count=${m}`),new r.default({method:w,url:_,headers:N,schema:this.schemaName,body:S,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return nh.default=n,nh}var NE;function uN(){if(NE)return $n;NE=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.PostgrestError=$n.PostgrestBuilder=$n.PostgrestTransformBuilder=$n.PostgrestFilterBuilder=$n.PostgrestQueryBuilder=$n.PostgrestClient=void 0;const e=Tc,t=e.__importDefault(T6());$n.PostgrestClient=t.default;const r=e.__importDefault(lN());$n.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ly());$n.PostgrestFilterBuilder=n.default;const i=e.__importDefault(oN());$n.PostgrestTransformBuilder=i.default;const s=e.__importDefault(sN());$n.PostgrestBuilder=s.default;const c=e.__importDefault(aN());return $n.PostgrestError=c.default,$n.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:c.default},$n}class dN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const P6="2.87.1",k6=`realtime-js/${P6}`,fN="1.0.0",R6="2.0.0",IE=fN,Tv=1e4,j6=1e3,M6=100;var Ko;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ko||(Ko={}));var Gr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gr||(Gr={}));var pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pa||(pa={}));var Pv;(function(e){e.websocket="websocket"})(Pv||(Pv={}));var Xo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xo||(Xo={}));class D6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,s;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",p=(s=t.join_ref)!==null&&s!==void 0?s:"",m=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+m.length+w.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let N=new DataView(S),O=0;N.setUint8(O++,this.KINDS.userBroadcastPush),N.setUint8(O++,p.length),N.setUint8(O++,f.length),N.setUint8(O++,c.length),N.setUint8(O++,m.length),N.setUint8(O++,w.length),N.setUint8(O++,r),Array.from(p,M=>N.setUint8(O++,M.charCodeAt(0))),Array.from(f,M=>N.setUint8(O++,M.charCodeAt(0))),Array.from(c,M=>N.setUint8(O++,M.charCodeAt(0))),Array.from(m,M=>N.setUint8(O++,M.charCodeAt(0))),Array.from(w,M=>N.setUint8(O++,M.charCodeAt(0)));var k=new Uint8Array(S.byteLength+n.byteLength);return k.set(new Uint8Array(S),0),k.set(new Uint8Array(n),S.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,c,f,p]=n;return r({join_ref:i,ref:s,topic:c,event:f,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=n.decode(t.slice(p,p+i));p=p+i;const v=n.decode(t.slice(p,p+s));p=p+s;const w=n.decode(t.slice(p,p+c));p=p+c;const _=t.slice(p,t.byteLength),S=f===this.JSON_ENCODING?JSON.parse(n.decode(_)):_,N={type:this.BROADCAST_EVENT,event:v,payload:S};return c>0&&(N.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class hN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var sr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(sr||(sr={}));const TE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=L6(c,e,t,i),s),{}):{}},L6=(e,t,r,n)=>{const i=t.find(f=>f.name===e),s=i?.type,c=r[e];return s&&!n.includes(s)?pN(s,c):kv(c)},pN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return z6(t,r)}switch(e){case sr.bool:return B6(t);case sr.float4:case sr.float8:case sr.int2:case sr.int4:case sr.int8:case sr.numeric:case sr.oid:return F6(t);case sr.json:case sr.jsonb:return U6(t);case sr.timestamp:return $6(t);case sr.abstime:case sr.date:case sr.daterange:case sr.int4range:case sr.int8range:case sr.money:case sr.reltime:case sr.text:case sr.time:case sr.timestamptz:case sr.timetz:case sr.tsrange:case sr.tstzrange:return kv(t);default:return kv(t)}},kv=e=>e,B6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},z6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(f=>pN(t,f))}return e},$6=e=>typeof e=="string"?e.replace(" ","T"):e,mN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class M1{constructor(t,r,n={},i=Tv){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rv||(Rv={}));let gN=class Ph{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ph.syncState(this.state,i,s,c),this.pendingDiffs.forEach(p=>{this.state=Ph.syncDiff(this.state,p,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ph.syncDiff(this.state,i,s,c),f())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),c=this.transformState(r),f={},p={};return this.map(s,(m,v)=>{c[m]||(p[m]=v)}),this.map(c,(m,v)=>{const w=s[m];if(w){const _=v.map(k=>k.presence_ref),S=w.map(k=>k.presence_ref),N=v.filter(k=>S.indexOf(k.presence_ref)<0),O=w.filter(k=>_.indexOf(k.presence_ref)<0);N.length>0&&(f[m]=N),O.length>0&&(p[m]=O)}else f[m]=v}),this.syncDiff(s,{joins:f,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(f,p)=>{var m;const v=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),v.length>0){const w=t[f].map(S=>S.presence_ref),_=v.filter(S=>w.indexOf(S.presence_ref)<0);t[f].unshift(..._)}n(f,v,p)}),this.map(c,(f,p)=>{let m=t[f];if(!m)return;const v=p.map(w=>w.presence_ref);m=m.filter(w=>v.indexOf(w.presence_ref)<0),t[f]=m,i(f,m,p),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var jv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jv||(jv={}));var dc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(dc||(dc={}));var Ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ra||(Ra={}));const W6=Gr;let vN=class zu{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new M1(this,pa.join,this.params,this.timeout),this.rejoinTimer=new hN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gr.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Gr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pa.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new gN(this),this.broadcastEndpointURL=mN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Gr.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(S=>S.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[dc.PRESENCE]&&this.bindings[dc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,w={},_={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Ra.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Ra.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:S})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(Ra.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,k=(N=O?.length)!==null&&N!==void 0?N:0,M=[];for(let L=0;L<k;L++){const j=O[L],{filter:{event:z,schema:W,table:V,filter:H}}=j,re=S&&S[L];if(re&&re.event===z&&zu.isFilterValueEqual(re.schema,W)&&zu.isFilterValueEqual(re.table,V)&&zu.isFilterValueEqual(re.filter,H))M.push(Object.assign(Object.assign({},j),{id:re.id}));else{this.unsubscribe(),this.state=Gr.errored,t?.(Ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,t&&t(Ra.SUBSCRIBED);return}}).receive("error",S=>{this.state=Gr.errored,t?.(Ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Gr.joined&&t===dc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,f,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new M1(this,pa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new M1(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>M6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:v}=pa;if(n&&[f,p,m,v].indexOf(c)>=0&&n!==this._joinRef())return;let _=this._onMessage(c,r,n);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(S=>{var N,O,k;return((N=S.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(O=S.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(S=>S.callback(_,n)):(s=this.bindings[c])===null||s===void 0||s.filter(S=>{var N,O,k,M,L,j;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in S){const z=S.id,W=(N=S.filter)===null||N===void 0?void 0:N.event;return z&&((O=r.ids)===null||O===void 0?void 0:O.includes(z))&&(W==="*"||W?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const z=(L=(M=S?.filter)===null||M===void 0?void 0:M.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return z==="*"||z===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===c}).map(S=>{if(typeof _=="object"&&"ids"in _){const N=_.data,{schema:O,table:k,commit_timestamp:M,type:L,errors:j}=N;_=Object.assign(Object.assign({},{schema:O,table:k,commit_timestamp:M,eventType:L,new:{},old:{},errors:j}),this._getPayloadRecords(N))}S.callback(_,n)})}_isClosed(){return this.state===Gr.closed}_isJoined(){return this.state===Gr.joined}_isJoining(){return this.state===Gr.joining}_isLeaving(){return this.state===Gr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&zu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pa.close,{},t)}_onError(t){this._on(pa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TE(t.columns,t.old_record)),r}};const D1=()=>{},ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},V6=[1e3,2e3,5e3,1e4],H6=1e4,G6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let q6=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tv,this.transport=null,this.heartbeatIntervalMs=ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=D1,this.ref=0,this.reconnectTimer=null,this.vsn=IE,this.logger=D1,this.conn=null,this.sendBuffer=[],this.serializer=new D6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Pv.websocket}`,this.httpEndpoint=mN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ko.connecting:return Xo.Connecting;case Ko.open:return Xo.Open;case Ko.closing:return Xo.Closing;default:return Xo.Closed}}isConnected(){return this.connectionState()===Xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new vN(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(j6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:c}=r,f=c?`(${c})`:"",p=s.status||"";this.log("receive",`${p} ${n} ${i} ${f}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ko.open||this.conn.readyState===Ko.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([G6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:k6};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(pa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new hN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,c,f,p,m,v,w,_,S;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Tv,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:ch.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:D1,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:IE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(N=>V6[N-1]||H6),this.vsn){case fN:this.encode=(v=t?.encode)!==null&&v!==void 0?v:((N,O)=>O(JSON.stringify(N))),this.decode=(w=t?.decode)!==null&&w!==void 0?w:((N,O)=>O(JSON.parse(N)));break;case R6:this.encode=(_=t?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const K6=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:W6,get REALTIME_LISTEN_TYPES(){return dc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return jv},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Rv},get REALTIME_SUBSCRIBE_STATES(){return Ra},RealtimeChannel:vN,RealtimeClient:q6,RealtimePresence:gN,WebSocketFactory:dN},Symbol.toStringTag,{value:"Module"})),xN=xd(K6);class bd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yN extends bd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gh extends bd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const cy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),X6=()=>Response,Mv=e=>{if(Array.isArray(e))return e.map(r=>Mv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Mv(n)}),t},Y6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Z6=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),L1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Q6=(e,t,r)=>Ke(void 0,void 0,void 0,function*(){const n=yield X6();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,c=i?.statusCode||s+"";t(new yN(L1(i),s,c))}).catch(i=>{t(new Gh(L1(i),i))}):t(new Gh(L1(e),e))}),J6=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(Y6(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Ed(e,t,r,n,i,s){return Ke(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,J6(t,n,i,s)).then(p=>{if(!p.ok)throw p;return n?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>Q6(p,f,n))})})}function td(e,t,r,n){return Ke(this,void 0,void 0,function*(){return Ed(e,"GET",t,r,n)})}function ha(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return Ed(e,"POST",t,n,i,r)})}function Dv(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return Ed(e,"PUT",t,n,i,r)})}function e5(e,t,r,n){return Ke(this,void 0,void 0,function*(){return Ed(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function uy(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return Ed(e,"DELETE",t,n,i,r)})}class t5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gr(t))return{data:null,error:t};throw t}})}}var wN;class r5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[wN]="BlobDownloadBuilder",this.promise=null}asStream(){return new t5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ke(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gr(t))return{data:null,error:t};throw t}})}}wN=Symbol.toStringTag;const n5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},PE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=cy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ke(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},PE),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),p&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(p))):(s=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),w=yield(t=="PUT"?Dv:ha)(this.fetch,`${this.url}/object/${v}`,s,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:PE.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const w=yield Dv(this.fetch,f.toString(),p,{headers:v});return{data:{path:s,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(gr(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return Ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield ha(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new bd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ha(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ke(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ha(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ke(this,void 0,void 0,function*(){try{const i=yield ha(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(t),p=()=>td(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new r5(p,this.shouldThrowOnError)}info(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield td(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Mv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}exists(t){return Ke(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield e5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n)&&n instanceof Gh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${m}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ke(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},n5),r),{prefix:t||""});return{data:yield ha(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ke(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ha(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const bN="2.87.1",EN={"X-Client-Info":`storage-js/${bN}`};class a5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EN),r),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield td(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield td(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ke(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ha(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Dv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var rd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function s5(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function o5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function l5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:c}){const f=s5(e.baseUrl,n,i),p=await o5(e.auth),m=await t(f,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...p,...c},body:s?JSON.stringify(s):void 0}),v=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),_=w&&v?JSON.parse(v):v;if(!m.ok){const S=w?_:void 0,N=S?.error;throw new rd(N?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:N?.type,icebergCode:N?.code,details:S})}return{status:m.status,headers:m.headers,data:_}}}}function uh(e){return e.join("")}var c5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:uh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uh(e.namespace)}`}),!0}catch(t){if(t instanceof rd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof rd&&r.status===409)return;throw r}}};function Kl(e){return e.join("")}var u5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof rd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof rd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},d5=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=l5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new c5(this.client,t),this.tableOps=new u5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class AN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},EN),r),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ke(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield td(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gr(r))return{data:null,error:r};throw r}})}from(t){if(!Z6(t))throw new bd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new d5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ke(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,c){const f=s[c];return typeof f!="function"?f:(...p)=>Ke(this,void 0,void 0,function*(){try{return{data:yield f.apply(s,p),error:null}}catch(m){if(n)throw m;return{data:null,error:m}}})}})}}const dy={"X-Client-Info":`storage-js/${bN}`,"Content-Type":"application/json"};class fy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function li(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class kh extends fy{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _N extends fy{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Lv;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Lv||(Lv={}));const op=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f5=()=>Response,SN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},h5=e=>Array.from(new Float32Array(e)),p5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},kE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m5=(e,t,r)=>Ke(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new kh(kE(c),i,f))}).catch(()=>{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new kh(f,i,c))});else{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new kh(f,i,c))}}else t(new _N(kE(e),e))}),g5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(SN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function v5(e,t,r,n,i,s){return Ke(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,g5(t,n,i,s)).then(p=>{if(!p.ok)throw p;if(n?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>m5(p,f,n))})})}function Si(e,t,r,n,i){return Ke(this,void 0,void 0,function*(){return v5(e,"POST",t,n,i,r)})}class CN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Si(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Si(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(li(n))return{data:null,error:n};throw n}})}}class ON{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Si(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}getVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}listVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Si(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ke(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Si(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}}class NN{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dy),r),this.fetch=op(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Si(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}getBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}listBuckets(){return Ke(this,arguments,void 0,function*(t={}){try{return{data:yield Si(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ke(this,void 0,void 0,function*(){try{return{data:(yield Si(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(li(r))return{data:null,error:r};throw r}})}}class IN extends NN{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new TN(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ke(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ke(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ke(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ke(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class TN extends CN{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ke(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ke(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ke(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ke(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new PN(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class PN extends ON{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ke(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ke(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ke(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ke(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ke(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class x5 extends a5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new i5(this.url,this.headers,t,this.fetch)}get vectors(){return new IN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AN(this.url+"/iceberg",this.headers,this.fetch)}}const y5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:AN,StorageApiError:yN,StorageClient:x5,StorageError:bd,StorageUnknownError:Gh,StorageVectorsApiError:kh,StorageVectorsClient:IN,StorageVectorsError:fy,get StorageVectorsErrorCode(){return Lv},StorageVectorsUnknownError:_N,VectorBucketApi:NN,VectorBucketScope:TN,VectorDataApi:ON,VectorIndexApi:CN,VectorIndexScope:PN,isPlainObject:SN,isStorageError:gr,isStorageVectorsError:li,normalizeToFloat32:h5,resolveFetch:op,resolveResponse:f5,validateVectorDimension:p5},Symbol.toStringTag,{value:"Module"})),w5=xd(y5);var B1={},Pu={},RE;function b5(){return RE||(RE=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.version=void 0,Pu.version="2.87.1"),Pu}var jE;function E5(){return jE||(jE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=b5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(B1)),B1}var F1={},ME;function A5(){return ME||(ME=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,s,c)=>{const f=(0,e.resolveFetch)(c),p=(0,e.resolveHeadersConstructor)();return async(m,v)=>{var w;const _=(w=await s())!==null&&w!==void 0?w:i;let S=new p(v?.headers);return S.has("apikey")||S.set("apikey",i),S.has("Authorization")||S.set("Authorization",`Bearer ${_}`),f(m,Object.assign(Object.assign({},v),{headers:S}))}};e.fetchWithAuth=n})(F1)),F1}var as={},DE;function _5(){if(DE)return as;DE=1,Object.defineProperty(as,"__esModule",{value:!0}),as.isBrowser=void 0,as.uuid=e,as.ensureTrailingSlash=t,as.applySettingDefaults=n,as.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,f=s=="x"?c:c&3|8;return f.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";as.isBrowser=r;function n(s,c){var f,p;const{db:m,auth:v,realtime:w,global:_}=s,{db:S,auth:N,realtime:O,global:k}=c,M={db:Object.assign(Object.assign({},S),m),auth:Object.assign(Object.assign({},N),v),realtime:Object.assign(Object.assign({},O),w),storage:{},global:Object.assign(Object.assign(Object.assign({},k),_),{headers:Object.assign(Object.assign({},(f=k?.headers)!==null&&f!==void 0?f:{}),(p=_?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return s.accessToken?M.accessToken=s.accessToken:delete M.accessToken,M}function i(s){const c=s?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return as}var ku={};const kN="2.87.1",rc=30*1e3,Bv=3,U1=Bv*rc,S5="http://localhost:9999",C5="supabase.auth.token",O5={"X-Client-Info":`gotrue-js/${kN}`},Fv="X-Supabase-Api-Version",RN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},N5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I5=600*1e3;let vc=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let jN=class extends vc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function MN(e){return rt(e)&&e.name==="AuthApiError"}let ro=class extends vc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},As=class extends vc{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},oi=class extends As{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function DN(e){return rt(e)&&e.name==="AuthSessionMissingError"}let $o=class extends As{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},$u=class extends As{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Wu=class extends As{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function LN(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}let Uv=class extends As{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},qh=class extends As{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Rh(e){return rt(e)&&e.name==="AuthRetryableFetchError"}let zv=class extends As{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function T5(e){return rt(e)&&e.name==="AuthWeakPasswordError"}let Kh=class extends As{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LE=` 	
\r=`.split(""),P5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LE.length;t+=1)e[LE[t].charCodeAt(0)]=-2;for(let t=0;t<Xh.length;t+=1)e[Xh[t].charCodeAt(0)]=t;return e})();function BE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xh[n]),t.queuedBits-=6}}function BN(e,t,r){const n=P5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FE(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{j5(c,n,r)};for(let c=0;c<e.length;c+=1)BN(e.charCodeAt(c),i,s);return t.join("")}function k5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}k5(n,t)}}function j5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)BN(e.charCodeAt(i),r,n);return new Uint8Array(t)}function M5(e){const t=[];return R5(e,r=>t.push(r)),new Uint8Array(t)}function Yo(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>BE(i,r,n)),BE(null,r,n),t.join("")}function D5(e){return Math.round(Date.now()/1e3)+e}function L5(){return Symbol("auth-callback")}const Tn=()=>typeof window<"u"&&typeof document<"u",Uo={tested:!1,writable:!1},FN=()=>{if(!Tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Uo.tested)return Uo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Uo.tested=!0,Uo.writable=!0}catch{Uo.tested=!0,Uo.writable=!1}return Uo.writable};function B5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const UN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),F5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},In=async(e,t)=>{await e.removeItem(t)};class lp{constructor(){this.promise=new lp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lp.promiseConstructor=Promise;function z1(e){const t=e.split(".");if(t.length!==3)throw new Kh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!N5.test(t[n]))throw new Kh("JWT not in base64url format");return{header:JSON.parse(FE(t[0])),payload:JSON.parse(FE(t[1])),signature:fc(t[2]),raw:{header:t[0],payload:t[1]}}}async function U5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function z5(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function $5(e){return("0"+e.toString(16)).substr(-2)}function W5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,$5).join("")}async function V5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function H5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await V5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xl(e,t,r=!1){const n=W5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await nc(e,`${t}-code-verifier`,i);const s=await H5(n);return[s,n===s?"plain":"s256"]}const G5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q5(e){const t=e.headers.get(Fv);if(!t||!t.match(G5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function K5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yl(e){if(!Y5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Z5(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function UE(e){return JSON.parse(JSON.stringify(e))}const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Q5=[502,503,504];async function zE(e){var t;if(!F5(e))throw new qh(Wo(e),0);if(Q5.includes(e.status))throw new qh(Wo(e),e.status);let r;try{r=await e.json()}catch(s){throw new ro(Wo(s),s)}let n;const i=q5(e);if(i&&i.getTime()>=RN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zv(Wo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new oi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new zv(Wo(r),e.status,r.weak_password.reasons);throw new jN(Wo(r),e.status||500,n)}const J5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function pt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[Fv]||(s[Fv]=RN["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await eM(e,t,r+f,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(p):{data:Object.assign({},p),error:null}}async function eM(e,t,r,n,i,s){const c=J5(t,n,i,s);let f;try{f=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new qh(Wo(p),0)}if(f.ok||await zE(f),n?.noResolveJson)return f;try{return await f.json()}catch(p){await zE(p)}}function fa(e){var t;let r=null;nM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=D5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $E(e){const t=fa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function no(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tM(e){return{data:e,error:null}}function rM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,c=Ic(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function WE(e){return e}function nM(e){return e.access_token&&e.refresh_token&&e.expires_in}const jh=["global","local","others"];let hy=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=UN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=jh[0]){if(jh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jh.join(", ")}`);try{return await pt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ic(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rM,redirectTo:r?.redirectTo})}catch(r){if(rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:no})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(N=>{const O=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);m[`${k}Page`]=O}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(rt(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){Yl(t);try{return await pt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:no})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yl(t);try{return await pt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yl(t);try{return await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:no})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yl(t.userId);try{const{data:r,error:n}=await pt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yl(t.userId),Yl(t.id);try{return{data:await pt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:WE});if(v.error)throw v.error;const w=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,S=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(N=>{const O=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);m[`${k}Page`]=O}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(rt(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}};function VE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vo={debug:!!(globalThis&&FN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class py extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let zN=class extends py{};class iM extends py{}async function $N(e,t,r){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const HE={};async function aM(e,t,r){var n;const i=(n=HE[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new iM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return HE[e]=s.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await s}function sM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function WN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function oM(e){return parseInt(e,16)}function lM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function cM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:f,requestId:p,resources:m,scheme:v,uri:w,version:_}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const S=WN(e.address),N=v?`${v}://${n}`:n,O=e.statement?`${e.statement}
`:"",k=`${N} wants you to sign in with your Ethereum account:
${S}

${O}`;let M=`URI: ${w}
Version: ${_}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),f&&(M+=`
Not Before: ${f.toISOString()}`),p&&(M+=`
Request ID: ${p}`),m){let L=`
Resources:`;for(const j of m){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);L+=`
- ${j}`}M+=L}return`${k}
${M}`}class qr extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Yh extends qr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function uM({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new qr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(VN(c)){if(s.rp.id!==c)return new qr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new qr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function dM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(VN(n)){if(r.rpId!==n)return new qr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class fM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hM=new fM;function pM(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ic(e,["challenge","user","excludeCredentials"]),s=fc(t).buffer,c=Object.assign(Object.assign({},r),{id:fc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:s,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const m=n[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:fc(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function mM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ic(e,["challenge","allowCredentials"]),i=fc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},f),{id:fc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return s}function gM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Yo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Yo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function vM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Yo(new Uint8Array(i.authenticatorData)),clientDataJSON:Yo(new Uint8Array(i.clientDataJSON)),signature:Yo(new Uint8Array(i.signature)),userHandle:i.userHandle?Yo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function GE(){var e,t;return!!(Tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yh("Browser returned unexpected credential type",t)}:{data:null,error:new Yh("Empty credential response",t)}}catch(t){return{data:null,error:uM({error:t,options:e})}}}async function yM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yh("Browser returned unexpected credential type",t)}:{data:null,error:new Yh("Empty credential response",t)}}catch(t){return{data:null,error:dM({error:t,options:e})}}}const wM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const f=n[s];t(f)?n[s]=Zh(f,c):n[s]=Zh(c)}else n[s]=c}return n}function EM(e,t){return Zh(wM,e,t||{})}function AM(e,t){return Zh(bM,e,t||{})}class _M{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const p=i??hM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=EM(c.webauthn.credential_options.publicKey,s?.create),{data:v,error:w}=await xM({publicKey:m,signal:p});return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const m=AM(c.webauthn.credential_options.publicKey,s?.request),{data:v,error:w}=await yM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new ro("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new vc("rpId is required for WebAuthn authentication")};try{if(!GE())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new ro("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new vc("rpId is required for WebAuthn registration")};try{if(!GE())return{data:null,error:new ro("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return rt(c)?{data:null,error:c}:{data:null,error:new ro("Unexpected error in register",c)}}}}sM();const SM={url:S5,storageKey:C5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qE(e,t,r){return await r()}const Zl={};let my=class $v{get jwks(){var t,r;return(r=(t=Zl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zl[this.storageKey]=Object.assign(Object.assign({},Zl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zl[this.storageKey]=Object.assign(Object.assign({},Zl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},SM),t);if(this.storageKey=s.storageKey,this.instanceID=(r=$v.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$v.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Tn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=UN(s.fetch),this.lock=s.lock||qE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Tn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=$N:this.lock=qE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _M(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:FN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=VE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=VE(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${kN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Tn()&&(r=B5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Tn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),LN(s)){const p=(t=s.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return rt(r)?this._returnResult({error:r}):this._returnResult({error:new ro("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:fa}),{data:c,error:f}=s;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:v,password:w,options:_}=t;let S=null,N=null;this.flowType==="pkce"&&([S,N]=await Xl(this.storage,this.storageKey)),s=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:v,password:w,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:N},xform:fa})}else if("phone"in t){const{phone:v,password:w,options:_}=t;s=await pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(n=_?.data)!==null&&n!==void 0?n:{},channel:(i=_?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:fa})}else throw new $u("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return await In(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:f}=t;r=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$E})}else if("phone"in t){const{phone:s,password:c,options:f}=t;r=await pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$E})}else throw new $u("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new $o;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,c,f,p,m,v,w,_;let S,N;if("message"in t)S=t.message,N=t.signature;else{const{chain:O,wallet:k,statement:M,options:L}=t;let j;if(Tn())if(typeof k=="object")j=k;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")j=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=k}const z=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),W=await j.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=WN(W[0]);let H=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const X=await j.request({method:"eth_chainId"});H=oM(X)}const re={domain:z.host,address:V,statement:M,uri:z.href,version:"1",chainId:H,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=cM(re),N=await j.request({method:"personal_sign",params:[lM(S),V]})}try{const{data:O,error:k}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:N},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:fa});if(k)throw k;if(!O||!O.session||!O.user){const M=new $o;return this._returnResult({data:{user:null,session:null},error:M})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:k})}catch(O){if(rt(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var r,n,i,s,c,f,p,m,v,w,_,S;let N,O;if("message"in t)N=t.message,O=t.signature;else{const{chain:k,wallet:M,statement:L,options:j}=t;let z;if(Tn())if(typeof M=="object")z=M;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))z=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const W=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in z&&z.signIn){const V=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),L?{statement:L}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)N=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),O=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${W.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=j?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=j?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((f=j?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((p=j?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((w=(v=j?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...j.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await z.signMessage(new TextEncoder().encode(N),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=V}}try{const{data:k,error:M}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Yo(O)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:fa});if(M)throw M;if(!k||!k.session||!k.user){const L=new $o;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:M})}catch(k){if(rt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await zo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:c}=await pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fa});if(await In(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const f=new $o;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=t,f=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:fa}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const v=new $o;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,c;try{if("email"in t){const{email:f,options:p}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Xl(this.storage,this.storageKey));const{error:w}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(n=p?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:v}=await pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new $u("You must provide either an email or phone number.")}catch(f){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:fa});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(i){if(rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Xl(this.storage,this.storageKey));const m=await pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:tM});return!((s=m.data)===null||s===void 0)&&s.url&&Tn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new oi;const{error:i}=await pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:c}=await pt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:c,error:f}=await pt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new $u("You must provide either an email or phone number and a type")}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<U1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await zo(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=$1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=Z5(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:no}):await this._useSession(async r=>{var n,i,s;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oi}:await pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:no})})}catch(r){if(rt(r))return DN(r)&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new oi;const c=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Xl(this.storage,this.storageKey));const{data:m,error:v}=await pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:no});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new oi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=z1(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;s={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new oi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Tn())throw new Wu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uv("No code detected.");const{data:L,error:j}=await this._exchangeCodeForSession(t.code);if(j)throw j;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:f,expires_at:p,token_type:m}=t;if(!s||!f||!c||!m)throw new Wu("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(f);let _=v+w;p&&(_=parseInt(p));const S=_-v;S*1e3<=rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const N=_-w;v-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,_,v):v-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,_,v);const{data:O,error:k}=await this._getUser(s);if(k)throw k;const M={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:w,expires_at:_,refresh_token:c,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:t.type},error:null})}catch(n){if(rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(MN(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await In(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=L5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Xl(this.storage,this.storageKey,!0));try{return await pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var c,f,p,m,v;const{data:w,error:_}=s;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await pt(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(rt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:c,provider:f,token:p,access_token:m,nonce:v}=t,w=await pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:fa}),{data:_,error:S}=w;return S?this._returnResult({data:{user:null,session:null},error:S}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new $o}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:S}))}catch(i){if(await In(this.storage,`${this.storageKey}-code-verifier`),rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)throw c;return await pt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await z5(async i=>(i>0&&await U5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fa})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Rh(s)&&Date.now()+c-n<rc})}catch(n){if(this._debug(r,"error",n),rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await zo(this.storage,this.storageKey);if(i&&this.userStorage){let c=await zo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await nc(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:$1()}else if(i&&!i.user&&!i.user){const c=await zo(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await In(this.storage,this.storageKey+"-user"),await nc(this.storage,this.storageKey,i)):i.user=$1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<U1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${U1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Rh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new oi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new lp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new oi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={data:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(i,"error",s),rt(s)){const c={data:null,error:s};return Rh(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){s.push(p)}});if(await Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await In(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=UE(i);await nc(this.storage,this.storageKey,s)}else{const i=UE(r);await nc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await In(this.storage,this.storageKey),await In(this.storage,this.storageKey+"-code-verifier"),await In(this.storage,this.storageKey+"-user"),this.userStorage&&await In(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rc}ms, refresh threshold is ${Bv} ticks`),i<=Bv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof py)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await Xl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await pt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await pt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?gM(t.webauthn.credential_response):vM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await pt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pM(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:mM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=z1(n.access_token);let c=null;s.aal&&(c=s.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=s.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new oi})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new oi});const c=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Tn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new oi});const c=await pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Tn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await pt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new oi})})}catch(t){if(rt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await pt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new oi})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+I5>i)return n;const{data:s,error:c}=await pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:S,error:N}=await this.getSession();if(N||!S.session)return this._returnResult({data:null,error:N});n=S.session.access_token}const{header:i,payload:s,signature:c,raw:{header:f,payload:p}}=z1(n);r?.allowExpired||K5(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:S}=await this.getUser(n);if(S)throw S;return{data:{claims:s,header:i,signature:c},error:null}}const v=X5(i.alg),w=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,c,M5(`${f}.${p}`)))throw new Kh("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}};my.nextInstanceID={};const CM=hy,OM=my,NM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:CM,AuthApiError:jN,AuthClient:OM,AuthError:vc,AuthImplicitGrantRedirectError:Wu,AuthInvalidCredentialsError:$u,AuthInvalidJwtError:Kh,AuthInvalidTokenResponseError:$o,AuthPKCEGrantCodeExchangeError:Uv,AuthRetryableFetchError:qh,AuthSessionMissingError:oi,AuthUnknownError:ro,AuthWeakPasswordError:zv,CustomAuthError:As,GoTrueAdminApi:hy,GoTrueClient:my,NavigatorLockAcquireTimeoutError:zN,SIGN_OUT_SCOPES:jh,isAuthApiError:MN,isAuthError:rt,isAuthImplicitGrantRedirectError:LN,isAuthRetryableFetchError:Rh,isAuthSessionMissingError:DN,isAuthWeakPasswordError:T5,lockInternals:Vo,navigatorLock:$N,processLock:aM},Symbol.toStringTag,{value:"Module"})),HN=xd(NM);var KE;function IM(){if(KE)return ku;KE=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.SupabaseAuthClient=void 0;const e=HN;let t=class extends e.AuthClient{constructor(n){super(n)}};return ku.SupabaseAuthClient=t,ku}var XE;function YE(){if(XE)return rh;XE=1,Object.defineProperty(rh,"__esModule",{value:!0});const e=iN,t=uN(),r=xN,n=w5,i=E5(),s=A5(),c=_5(),f=IM();class p{constructor(v,w,_){var S,N,O;this.supabaseUrl=v,this.supabaseKey=w;const k=(0,c.validateSupabaseUrl)(v);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const M=`sb-${k.hostname.split(".")[0]}-auth-token`,L={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:M}),global:i.DEFAULT_GLOBAL_OPTIONS},j=(0,c.applySettingDefaults)(_??{},L);this.storageKey=(S=j.auth.storageKey)!==null&&S!==void 0?S:"",this.headers=(N=j.global.headers)!==null&&N!==void 0?N:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(z,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((O=j.auth)!==null&&O!==void 0?O:{},this.headers,j.global.fetch),this.fetch=(0,s.fetchWithAuth)(w,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.accessToken&&this.accessToken().then(z=>this.realtime.setAuth(z)).catch(z=>console.warn("Failed to set initial Realtime auth token:",z)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,_?.storage),j.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,w={},_={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,w,_)}channel(v,w={config:{}}){return this.realtime.channel(v,w)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,w;if(this.accessToken)return await this.accessToken();const{data:_}=await this.auth.getSession();return(w=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:S,userStorage:N,storageKey:O,flowType:k,lock:M,debug:L,throwOnError:j},z,W){const V={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},V),z),storageKey:O,autoRefreshToken:v,persistSession:w,detectSessionInUrl:_,storage:S,userStorage:N,flowType:k,lock:M,debug:L,throwOnError:j,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(H=>H.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,_)=>{this._handleTokenChanged(w,"CLIENT",_?.access_token)})}_handleTokenChanged(v,w,_){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==_?(this.changedAccessToken=_,this.realtime.setAuth(_)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return rh.default=p,rh}var ZE;function TM(){return ZE||(ZE=1,(function(e){var t=is&&is.__createBinding||(Object.create?(function(v,w,_,S){S===void 0&&(S=_);var N=Object.getOwnPropertyDescriptor(w,_);(!N||("get"in N?!w.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(v,S,N)}):(function(v,w,_,S){S===void 0&&(S=_),v[S]=w[_]})),r=is&&is.__exportStar||function(v,w){for(var _ in v)_!=="default"&&!Object.prototype.hasOwnProperty.call(w,_)&&t(w,v,_)},n=is&&is.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(YE());r(HN,e);var s=uN();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var c=iN;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(xN,e);var f=YE();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const p=(v,w,_)=>new i.default(v,w,_);e.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const w=v.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(is)),is}var GN=TM();const qN=ta(GN),PM=qx({__proto__:null,default:qN},[GN]),{PostgrestError:Uee,FunctionsHttpError:zee,FunctionsFetchError:$ee,FunctionsRelayError:Wee,FunctionsError:Vee,FunctionRegion:Hee,SupabaseClient:Gee,createClient:kM,GoTrueAdminApi:qee,GoTrueClient:Kee,AuthAdminApi:Xee,AuthClient:Yee,navigatorLock:Zee,NavigatorLockAcquireTimeoutError:Qee,lockInternals:Jee,processLock:ete,SIGN_OUT_SCOPES:tte,AuthError:rte,AuthApiError:nte,AuthUnknownError:ite,CustomAuthError:ate,AuthSessionMissingError:ste,AuthInvalidTokenResponseError:ote,AuthInvalidCredentialsError:lte,AuthImplicitGrantRedirectError:cte,AuthPKCEGrantCodeExchangeError:ute,AuthRetryableFetchError:dte,AuthWeakPasswordError:fte,AuthInvalidJwtError:hte,isAuthError:pte,isAuthApiError:mte,isAuthSessionMissingError:gte,isAuthImplicitGrantRedirectError:vte,isAuthRetryableFetchError:xte,isAuthWeakPasswordError:yte,RealtimePresence:wte,RealtimeChannel:bte,RealtimeClient:Ete,REALTIME_LISTEN_TYPES:Ate,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:_te,REALTIME_PRESENCE_LISTEN_EVENTS:Ste,REALTIME_SUBSCRIBE_STATES:Cte,REALTIME_CHANNEL_STATES:Ote}=qN||PM,W1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},KN=e=>W1&&W1[e]?W1[e]:"",V1=KN("VITE_SUPABASE_URL"),QE=KN("VITE_SUPABASE_KEY");let XN=null;if(V1&&QE&&V1!=="https://placeholder.supabase.co")try{XN=kM(V1,QE)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const ut=XN,RM=({onSuccess:e})=>{const[t,r]=I.useState(ac[0].id),n=ac.find(oe=>oe.id===t)||ac[0],[i,s]=I.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=I.useState(!1),[p,m]=I.useState(!1),[v,w]=I.useState([]),[_,S]=I.useState([]),[N,O]=I.useState({}),[k,M]=I.useState(null),[L,j]=I.useState(!1);I.useEffect(()=>{s(oe=>({...oe,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:oe.isHomeService}))},[n]);const z=n.durationMin+(i.isHomeService?w6:0),W=n.price+(i.isHomeService?y6:0);I.useEffect(()=>{i.date&&V(i.date)},[i.date]),I.useEffect(()=>{i.date&&H()},[i.date,_,z]),I.useEffect(()=>{const ge=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const be=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(Y=>Y.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&Y.name.toLowerCase()===i.name.toLowerCase());be&&(M(be),j(!0))}},1e3);return()=>clearTimeout(ge)},[i.name,i.phone]);const V=async oe=>{m(!0);try{let ge=[];if(ut){const{data:le,error:Be}=await ut.from("bookings").select("time, duration_minutes").eq("date",oe);!Be&&le&&(ge=le.map(Me=>{const[We,Ce]=Me.time.split(":").map(Number),ot=We*60+Ce;return{start:ot,end:ot+Me.duration_minutes}}))}const Y=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(le=>le.date===oe).map(le=>{const[Be,Me]=le.time.split(":").map(Number),We=Be*60+Me,Ce=le.duration_minutes||60;return{start:We,end:We+Ce}});S([...ge,...Y])}catch(ge){console.warn("Error fetching slots",ge),S([])}finally{m(!1)}},H=()=>{const we=[];for(let be=9;be<20;be++)for(let Y=0;Y<60;Y+=30){const le=be*60+Y,Be=le+z;if(Be>1200)continue;if(!_.some(We=>le>=We.start&&le<We.end||Be>We.start&&Be<=We.end||le<=We.start&&Be>=We.end)){const We=`${be.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`;we.push(We)}}w(we),i.time&&!we.includes(i.time)&&s(be=>({...be,time:""}))},re=()=>{const oe={};return i.name||(oe.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(oe.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(oe.email="El formato del email no es vlido"):oe.email="El email es obligatorio",i.date||(oe.date="Selecciona una fecha"),i.time||(oe.time="Selecciona una hora"),i.isHomeService&&!i.address&&(oe.address="La direccin es obligatoria para servicio a domicilio"),O(oe),Object.keys(oe).length===0},X=oe=>{const{name:ge,value:we,type:be}=oe.target,Y=oe.target.checked;s(le=>({...le,[ge]:be==="checkbox"?Y:we})),N[ge]&&O(le=>{const Be={...le};return delete Be[ge],Be})},_e=oe=>{s(ge=>({...ge,time:oe})),N.time&&O(ge=>{const we={...ge};return delete we.time,we})},pe=async()=>{const oe=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),ge={id:Date.now(),...i,duration_minutes:z,created_at:new Date().toISOString()};if(oe.push(ge),localStorage.setItem("mock_bookings",JSON.stringify(oe)),ut)try{const{error:we}=await ut.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});we&&console.warn("Error saving lead:",we),await ut.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:z}])}catch(we){console.warn("Supabase save failed, relying on local:",we)}},de=oe=>{const we=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(be=>be.id!==oe);localStorage.setItem("mock_bookings",JSON.stringify(we))},Ae=()=>{k&&(de(k.id),M(null),j(!1))},ke=()=>{j(!1),s(oe=>({...oe,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${k.date} a las ${k.time}) se mantiene. Gracias!`)},te=tp(),Fe=async oe=>{if(!re())return;f(!0),await pe();const ge=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,we=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),be=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${ge}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${z} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${we}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(Y=>setTimeout(Y,800)),f(!1),e&&e(i),te("/confirmation",{state:{booking:i,totalPrice:W,duration:z}});{const Y=`https://wa.me/${uc}?text=${encodeURIComponent(be)}`;window.open(Y,"_blank")}};return b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[L&&k&&b.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:b.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[b.jsx(_O,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),b.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),b.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",b.jsx("strong",{children:k.name})," el da ",b.jsx("strong",{children:k.date})," a las ",b.jsx("strong",{children:k.time}),"."]}),b.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("button",{onClick:Ae,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),b.jsx("button",{onClick:ke,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!ut&&b.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[b.jsx(r6,{size:12})," MODO DEMO"]}),b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),b.jsxs("div",{className:"relative mb-6",children:[b.jsx("select",{value:t,onChange:oe=>r(oe.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:ac.map(oe=>b.jsxs("option",{value:oe.id,children:[oe.name," - $",oe.price.toLocaleString("es-CL")]},oe.id))}),b.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:b.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),b.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),b.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),b.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[z," min"]}),b.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),b.jsx("div",{className:"mb-4",children:b.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[b.jsx("div",{className:"flex items-center h-5 mt-0.5",children:b.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:X,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),b.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",b6.join(", "),". ",b.jsx("br",{}),b.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),b.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),b.jsx("ul",{className:"space-y-2",children:n.includes.map((oe,ge)=>b.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[b.jsx(ry,{size:14,className:"text-stone-900 mr-2"}),oe]},ge))})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),b.jsx("input",{type:"text",name:"name",value:i.name,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${N.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),N.name&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.name})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),b.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${N.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),N.phone&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.phone})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),b.jsx("input",{type:"email",name:"email",value:i.email,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${N.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),N.email&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.email})]})]}),b.jsxs("div",{className:"animate-in fade-in pt-2",children:[b.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[b.jsx(sy,{size:12})," Quin te recomend? (Opcional)"]}),b.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:X,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",name:"address",value:i.address,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${N.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),b.jsx(OO,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),N.address&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.address})]})]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:X,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${N.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),b.jsx(Kj,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),N.date&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:N.date})]}),i.date&&b.jsxs("div",{className:"animate-in fade-in",children:[b.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[b.jsx("span",{children:"Horas Disponibles"}),p&&b.jsxs("span",{className:"flex items-center text-stone-400",children:[b.jsx(Ju,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),v.length>0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:v.map(oe=>b.jsx("button",{onClick:()=>_e(oe),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===oe?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:oe},oe))}),N.time&&b.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:N.time})]}):b.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:p?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&b.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[b.jsx(Yj,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),b.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[b.jsxs("button",{onClick:()=>Fe(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?b.jsx(Ju,{className:"animate-spin"}):b.jsx(d6,{size:22}),b.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),b.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},jM=({onSelectPerfume:e})=>{const[t,r]=I.useState(!1),[n,i]=I.useState(""),[s,c]=I.useState([]),[f,p]=I.useState(!1),m=w=>{if(w.preventDefault(),!n.trim())return;const _=n.toLowerCase().split(/[\s,]+/).filter(O=>O.length>2),N=Da.map(O=>{let k=0;const M=[],L=(j,z)=>{_.forEach(W=>{j.toLowerCase().includes(W)&&(k+=z,M.includes(W)||M.push(W))})};return L(O.name,3),L(O.description,1),L(O.brand,2),O.notes.forEach(j=>L(j,2)),L(O.category==="arab"?"arabe":"clasico",2),{perfume:O,score:k,matches:M}}).filter(O=>O.score>0).sort((O,k)=>k.score-O.score).slice(0,3);c(N),p(!0)},v=()=>{i(""),c([]),p(!1)};return b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[b.jsx(mc,{size:24,className:"animate-pulse"}),b.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[b.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[b.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:b.jsx(ja,{size:24})}),b.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[b.jsx(mc,{className:"text-yellow-300"})," Asesor de Aromas"]}),b.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),b.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?b.jsx("div",{className:"space-y-4",children:s.length>0?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),s.map(({perfume:w,matches:_},S)=>b.jsxs("div",{onClick:()=>{e(w.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[b.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[S===0&&b.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),b.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"})]}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:w.name}),b.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:w.brand}),b.jsx("div",{className:"flex flex-wrap gap-1",children:_.map(N=>b.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",N]},N))})]})]},w.id)),b.jsx("button",{onClick:v,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),b.jsx("button",{onClick:v,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):b.jsxs("div",{className:"text-center py-8",children:[b.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:b.jsx(iy,{size:48,className:"text-purple-400"})}),b.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),b.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",b.jsx("br",{}),'"Algo dulce con vainilla"',b.jsx("br",{}),'"Fresco y ctrico para el da"',b.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),b.jsx("form",{onSubmit:m,className:"p-4 border-t border-stone-100 bg-stone-50",children:b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:n,onChange:w=>i(w.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),b.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?b.jsx(ip,{size:20}):b.jsx(IO,{size:20})})]})})]})})]})},MM=()=>{const[e,t]=I.useState(""),[r,n]=I.useState(null),[i,s]=I.useState("all"),[c,f]=I.useState({});I.useEffect(()=>{p()},[]);const p=async()=>{const{data:L}=await ut.from("inventory").select("product_id, quantity");if(L){const j={};L.forEach(z=>{j[z.product_id]=z.quantity}),f(j)}},m=L=>{t("");const j=Da.find(z=>z.id===L);j&&(s(j.category),setTimeout(()=>{const z=document.getElementById(`perfume-${L}`);z&&z.scrollIntoView({behavior:"smooth",block:"center"}),z?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>z?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},v=I.useMemo(()=>{const L=new Set;return Da.forEach(j=>j.notes.forEach(z=>L.add(z))),Array.from(L).sort()},[]),w=I.useMemo(()=>Da.filter(L=>{const j=L.name.toLowerCase().includes(e.toLowerCase())||L.brand.toLowerCase().includes(e.toLowerCase()),z=r?L.notes.includes(r):!0,W=i==="all"||L.category===i;return j&&z&&W}).sort((L,j)=>{const z=c[L.id]!==void 0?c[L.id]>0:L.stock,W=c[j.id]!==void 0?c[j.id]>0:j.stock;return z===W?0:z?-1:1}),[e,r,i,c]),_=w.filter(L=>L.category==="classic"),S=w.filter(L=>L.category==="arab"),N=(L,j)=>{const z=j==="5ml"?L.price5ml:L.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${L.brand} - ${L.name}* en formato *${j}* por $${z}. Tienen disponibilidad?`,V=`https://wa.me/${uc}?text=${encodeURIComponent(W)}`;window.open(V,"_blank")},O=L=>{if(!L.priceFullBottle)return;const j=`Hola Tus3B Style, quiero comprar la botella completa de *${L.brand} - ${L.name}* por $${L.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,z=`https://wa.me/${uc}?text=${encodeURIComponent(j)}`;window.open(z,"_blank")},k=()=>{window.open(`https://wa.me/${uc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},M=L=>b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((j,z)=>b.jsxs("div",{className:"group flex flex-col h-full",children:[b.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&b.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:z+1}),b.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[b.jsx("img",{src:j.image,alt:j.name,className:`w-full h-full object-contain ${j.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),j.secondaryImage&&b.jsx("img",{src:j.secondaryImage,alt:`${j.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),b.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!j.stock&&b.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:b.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:j.brand}),b.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:j.name}),b.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:j.description}),b.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:j.notes.slice(0,3).map(W=>b.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),b.jsxs("div",{className:"mt-auto space-y-3",children:[!j.isSpray&&b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("button",{onClick:()=>N(j,"5ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[b.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),b.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price5ml.toLocaleString("es-CL")]})]}),b.jsxs("button",{onClick:()=>N(j,"10ml"),disabled:!j.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${j.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[b.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),b.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",j.price10ml.toLocaleString("es-CL")]})]})]}),j.priceFullBottle&&b.jsxs("button",{onClick:()=>O(j),disabled:!(c[j.id]!==void 0?c[j.id]>0:j.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[j.id]!==void 0?c[j.id]>0:j.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[b.jsx(ed,{size:14}),b.jsxs("span",{children:["Botella ",j.isSpray?"200ml":"100ml"," - $",j.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},j.id))});return b.jsxs("div",{className:"space-y-16 fade-in",children:[b.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),b.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),b.jsxs("div",{className:"relative w-full md:w-72",children:[b.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:L=>t(L.target.value)}),b.jsx(ip,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),b.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:b.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[b.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),v.map(L=>b.jsx("button",{onClick:()=>n(r===L?null:L),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===L?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:L},L))]})})]}),b.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),b.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),b.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),b.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",b.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),b.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),b.jsxs("ul",{className:"space-y-4 pt-2",children:[b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Ku,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Ku,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),b.jsxs("li",{className:"flex items-start gap-3",children:[b.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:b.jsx(Ku,{size:14,className:"text-green-500"})}),b.jsxs("span",{className:"text-stone-700 text-sm",children:[b.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:L=>L.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),b.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[b.jsx(TO,{fill:"#fbbf24",className:"text-amber-400",size:16}),b.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),b.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const L=W=>W.some(V=>c[V.id]!==void 0?c[V.id]>0:V.stock),z=[{id:"arab",hasStock:L(S),items:S,render:()=>b.jsxs("section",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:b.jsx(mc,{size:24,className:"text-purple-600"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),b.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),M(S)]},"arab")},{id:"classic",hasStock:L(_),items:_,render:()=>b.jsxs("section",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[b.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:b.jsx(Zj,{size:24,className:"text-stone-800"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),b.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),M(_)]},"classic")}].sort((W,V)=>W.hasStock===V.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return z.map((W,V)=>b.jsxs(vr.Fragment,{children:[W.items.length>0&&W.render(),V===0&&z.length>1&&z[1].items.length>0&&z[0].items.length>0&&b.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),w.length===0&&b.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[b.jsx(ed,{size:48,className:"mx-auto text-stone-300 mb-4"}),b.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),b.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),b.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[b.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[b.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:b.jsx(a6,{size:32,className:"text-yellow-200"})}),b.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),b.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),b.jsxs("button",{onClick:k,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[b.jsx(iy,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),b.jsx(jM,{onSelectPerfume:m})]})},DM=()=>b.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[b.jsxs("div",{children:[b.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",b.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),b.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),b.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[b.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),b.jsxs("a",{href:`https://wa.me/${uc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[b.jsx(iy,{size:16})," WhatsApp: +56 9 8452 4774"]}),b.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),b.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),b.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[b.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),b.jsx("div",{className:"flex space-x-4",children:b.jsx("a",{href:x6,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:b.jsx(n6,{size:20})})})]})]}),b.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),LM=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],Ql={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},BM=e=>{const t=e.toLowerCase();return LM.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},FM=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return Ql.concepts;if(r.includes("oud")||r.includes("arabe"))return Ql.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return Ql.greeting;if(r.includes("precio")||r.includes("valor"))return Ql.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return Ql.shipping;const n=BM(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const s=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${s}

Quieres detalles de alguno?`}return Ql.default},UM=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},zM=()=>{const[e,t]=I.useState(!1),[r,n]=I.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[i,s]=I.useState(""),[c,f]=I.useState(!1),p=I.useRef(null),m=()=>{p.current?.scrollIntoView({behavior:"smooth"})};I.useEffect(()=>{m()},[r,e]);const v=async()=>{if(!i.trim()||c)return;const _=i;n(N=>[...N,{role:"user",text:_}]),s(""),f(!0);const S=r.map(N=>`${N.role==="user"?"Usuario":"Bot"}: ${N.text}`);try{const N=await FM(_,S);n(O=>[...O,{role:"bot",text:N}])}catch{n(O=>[...O,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}f(!1)},w=_=>{_.key==="Enter"&&v()};return b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?b.jsx(ja,{color:"white"}):b.jsx(mc,{color:"white"})}),e&&b.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[b.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[b.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:b.jsx(mc,{size:16,className:"text-yellow-400"})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),b.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((_,S)=>b.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${_.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:_.text})},S)),c&&b.jsx("div",{className:"flex justify-start",children:b.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[b.jsx(Ju,{size:16,className:"animate-spin text-stone-400"}),b.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),b.jsx("div",{ref:p})]}),b.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[b.jsx("input",{type:"text",value:i,onChange:_=>s(_.target.value),onKeyDown:w,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),b.jsx("button",{onClick:v,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:b.jsx(IO,{size:16})})]})]})]})},$M=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(I.useEffect(()=>{window.scrollTo(0,0)},[]),b.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),b.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),b.jsxs("div",{className:"relative z-10",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:b.jsx(ry,{size:40,strokeWidth:2.5})}),b.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),b.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&b.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[b.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[b.jsx(OO,{size:14})," Direccin del Servicio"]}),b.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),b.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[b.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[b.jsx(t6,{size:20}),"Regresar al Inicio"]}),b.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[b.jsx(ed,{size:20}),b.jsxs("span",{children:["Venta de Perfumes ",b.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),WM=()=>b.jsx("section",{className:"py-24 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:E6.map(e=>b.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[b.jsx(o6,{className:"absolute top-6 right-6 text-stone-200",size:40}),b.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>b.jsx(TO,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),b.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),b.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),b.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),b.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var VM=Object.defineProperty,Qh=Object.getOwnPropertySymbols,YN=Object.prototype.hasOwnProperty,ZN=Object.prototype.propertyIsEnumerable,JE=(e,t,r)=>t in e?VM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wv=(e,t)=>{for(var r in t||(t={}))YN.call(t,r)&&JE(e,r,t[r]);if(Qh)for(var r of Qh(t))ZN.call(t,r)&&JE(e,r,t[r]);return e},Vv=(e,t)=>{var r={};for(var n in e)YN.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Qh)for(var n of Qh(e))t.indexOf(n)<0&&ZN.call(e,n)&&(r[n]=e[n]);return r};var il;(e=>{const t=class Tt{constructor(p,m,v,w){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<Tt.MIN_VERSION||p>Tt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let _=[];for(let N=0;N<this.size;N++)_.push(!1);for(let N=0;N<this.size;N++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(v);if(this.drawCodewords(S),w==-1){let N=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const k=this.getPenaltyScore();k<N&&(w=O,N=k),this.applyMask(O)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(p,m){const v=e.QrSegment.makeSegments(p);return Tt.encodeSegments(v,m)}static encodeBinary(p,m){const v=e.QrSegment.makeBytes(p);return Tt.encodeSegments([v],m)}static encodeSegments(p,m,v=1,w=40,_=-1,S=!0){if(!(Tt.MIN_VERSION<=v&&v<=w&&w<=Tt.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let N,O;for(N=v;;N++){const j=Tt.getNumDataCodewords(N,m)*8,z=c.getTotalBits(p,N);if(z<=j){O=z;break}if(N>=w)throw new RangeError("Data too long")}for(const j of[Tt.Ecc.MEDIUM,Tt.Ecc.QUARTILE,Tt.Ecc.HIGH])S&&O<=Tt.getNumDataCodewords(N,j)*8&&(m=j);let k=[];for(const j of p){r(j.mode.modeBits,4,k),r(j.numChars,j.mode.numCharCountBits(N),k);for(const z of j.getData())k.push(z)}i(k.length==O);const M=Tt.getNumDataCodewords(N,m)*8;i(k.length<=M),r(0,Math.min(4,M-k.length),k),r(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let j=236;k.length<M;j^=253)r(j,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((j,z)=>L[z>>>3]|=j<<7-(z&7)),new Tt(N,m,L,_)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let v=0;v<m;v++)for(let w=0;w<m;w++)v==0&&w==0||v==0&&w==m-1||v==m-1&&w==0||this.drawAlignmentPattern(p[v],p[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let v=m;for(let _=0;_<10;_++)v=v<<1^(v>>>9)*1335;const w=(m<<10|v)^21522;i(w>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,n(w,_));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,n(w,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,n(w,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,n(w,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let v=0;v<12;v++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;i(m>>>18==0);for(let v=0;v<18;v++){const w=n(m,v),_=this.size-11+v%3,S=Math.floor(v/3);this.setFunctionModule(_,S,w),this.setFunctionModule(S,_,w)}}drawFinderPattern(p,m){for(let v=-4;v<=4;v++)for(let w=-4;w<=4;w++){const _=Math.max(Math.abs(w),Math.abs(v)),S=p+w,N=m+v;0<=S&&S<this.size&&0<=N&&N<this.size&&this.setFunctionModule(S,N,_!=2&&_!=4)}}drawAlignmentPattern(p,m){for(let v=-2;v<=2;v++)for(let w=-2;w<=2;w++)this.setFunctionModule(p+w,m+v,Math.max(Math.abs(w),Math.abs(v))!=1)}setFunctionModule(p,m,v){this.modules[m][p]=v,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,v=this.errorCorrectionLevel;if(p.length!=Tt.getNumDataCodewords(m,v))throw new RangeError("Invalid argument");const w=Tt.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][m],_=Tt.ECC_CODEWORDS_PER_BLOCK[v.ordinal][m],S=Math.floor(Tt.getNumRawDataModules(m)/8),N=w-S%w,O=Math.floor(S/w);let k=[];const M=Tt.reedSolomonComputeDivisor(_);for(let j=0,z=0;j<w;j++){let W=p.slice(z,z+O-_+(j<N?0:1));z+=W.length;const V=Tt.reedSolomonComputeRemainder(W,M);j<N&&W.push(0),k.push(W.concat(V))}let L=[];for(let j=0;j<k[0].length;j++)k.forEach((z,W)=>{(j!=O-_||W>=N)&&L.push(z[j])});return i(L.length==S),L}drawCodewords(p){if(p.length!=Math.floor(Tt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let w=0;w<this.size;w++)for(let _=0;_<2;_++){const S=v-_,O=(v+1&2)==0?this.size-1-w:w;!this.isFunction[O][S]&&m<p.length*8&&(this.modules[O][S]=n(p[m>>>3],7-(m&7)),m++)}}i(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let v=0;v<this.size;v++){let w;switch(p){case 0:w=(v+m)%2==0;break;case 1:w=m%2==0;break;case 2:w=v%3==0;break;case 3:w=(v+m)%3==0;break;case 4:w=(Math.floor(v/3)+Math.floor(m/2))%2==0;break;case 5:w=v*m%2+v*m%3==0;break;case 6:w=(v*m%2+v*m%3)%2==0;break;case 7:w=((v+m)%2+v*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][v]&&w&&(this.modules[m][v]=!this.modules[m][v])}}getPenaltyScore(){let p=0;for(let _=0;_<this.size;_++){let S=!1,N=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[_][k]==S?(N++,N==5?p+=Tt.PENALTY_N1:N>5&&p++):(this.finderPenaltyAddHistory(N,O),S||(p+=this.finderPenaltyCountPatterns(O)*Tt.PENALTY_N3),S=this.modules[_][k],N=1);p+=this.finderPenaltyTerminateAndCount(S,N,O)*Tt.PENALTY_N3}for(let _=0;_<this.size;_++){let S=!1,N=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][_]==S?(N++,N==5?p+=Tt.PENALTY_N1:N>5&&p++):(this.finderPenaltyAddHistory(N,O),S||(p+=this.finderPenaltyCountPatterns(O)*Tt.PENALTY_N3),S=this.modules[k][_],N=1);p+=this.finderPenaltyTerminateAndCount(S,N,O)*Tt.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let S=0;S<this.size-1;S++){const N=this.modules[_][S];N==this.modules[_][S+1]&&N==this.modules[_+1][S]&&N==this.modules[_+1][S+1]&&(p+=Tt.PENALTY_N2)}let m=0;for(const _ of this.modules)m=_.reduce((S,N)=>S+(N?1:0),m);const v=this.size*this.size,w=Math.ceil(Math.abs(m*20-v*10)/v)-1;return i(0<=w&&w<=9),p+=w*Tt.PENALTY_N4,i(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let v=[6];for(let w=this.size-7;v.length<p;w-=m)v.splice(1,0,w);return v}}static getNumRawDataModules(p){if(p<Tt.MIN_VERSION||p>Tt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const v=Math.floor(p/7)+2;m-=(25*v-10)*v-55,p>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(Tt.getNumRawDataModules(p)/8)-Tt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*Tt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let w=0;w<p-1;w++)m.push(0);m.push(1);let v=1;for(let w=0;w<p;w++){for(let _=0;_<m.length;_++)m[_]=Tt.reedSolomonMultiply(m[_],v),_+1<m.length&&(m[_]^=m[_+1]);v=Tt.reedSolomonMultiply(v,2)}return m}static reedSolomonComputeRemainder(p,m){let v=m.map(w=>0);for(const w of p){const _=w^v.shift();v.push(0),m.forEach((S,N)=>v[N]^=Tt.reedSolomonMultiply(S,_))}return v}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let v=0;for(let w=7;w>=0;w--)v=v<<1^(v>>>7)*285,v^=(m>>>w&1)*p;return i(v>>>8==0),v}finderPenaltyCountPatterns(p){const m=p[1];i(m<=this.size*3);const v=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(v&&p[0]>=m*4&&p[6]>=m?1:0)+(v&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,v){return p&&(this.finderPenaltyAddHistory(m,v),m=0),m+=this.size,this.finderPenaltyAddHistory(m,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,p,m){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let v=p-1;v>=0;v--)m.push(f>>>v&1)}function n(f,p){return(f>>>p&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const s=class kr{constructor(p,m,v){if(this.mode=p,this.numChars=m,this.bitData=v,m<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(p){let m=[];for(const v of p)r(v,8,m);return new kr(kr.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!kr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let v=0;v<p.length;){const w=Math.min(p.length-v,3);r(parseInt(p.substring(v,v+w),10),w*3+1,m),v+=w}return new kr(kr.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!kr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],v;for(v=0;v+2<=p.length;v+=2){let w=kr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v))*45;w+=kr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v+1)),r(w,11,m)}return v<p.length&&r(kr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(v)),6,m),new kr(kr.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:kr.isNumeric(p)?[kr.makeNumeric(p)]:kr.isAlphanumeric(p)?[kr.makeAlphanumeric(p)]:[kr.makeBytes(kr.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,m);else if(p<16384)r(2,2,m),r(p,14,m);else if(p<1e6)r(6,3,m),r(p,21,m);else throw new RangeError("ECI assignment value out of range");return new kr(kr.Mode.ECI,0,m)}static isNumeric(p){return kr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return kr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let v=0;for(const w of p){const _=w.mode.numCharCountBits(m);if(w.numChars>=1<<_)return 1/0;v+=4+_+w.bitData.length}return v}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let v=0;v<p.length;v++)p.charAt(v)!="%"?m.push(p.charCodeAt(v)):(m.push(parseInt(p.substring(v+1,v+3),16)),v+=2);return m}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=s;e.QrSegment=s})(il||(il={}));(e=>{(t=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(il||(il={}));(e=>{(t=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(il||(il={}));var sc=il;var HM={L:sc.QrCode.Ecc.LOW,M:sc.QrCode.Ecc.MEDIUM,Q:sc.QrCode.Ecc.QUARTILE,H:sc.QrCode.Ecc.HIGH},QN=128,JN="L",eI="#FFFFFF",tI="#000000",rI=!1,nI=1,GM=4,qM=0,KM=.1;function iI(e,t=0){const r=[];return e.forEach(function(n,i){let s=null;n.forEach(function(c,f){if(!c&&s!==null){r.push(`M${s+t} ${i+t}h${f-s}v1H${s+t}z`),s=null;return}if(f===n.length-1){if(!c)return;s===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${s+t},${i+t} h${f+1-s}v1H${s+t}z`);return}c&&s===null&&(s=f)})}),r.join("")}function aI(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function XM(e,t,r,n){if(n==null)return null;const i=e.length+r*2,s=Math.floor(t*KM),c=i/t,f=(n.width||s)*c,p=(n.height||s)*c,m=n.x==null?e.length/2-f/2:n.x*c,v=n.y==null?e.length/2-p/2:n.y*c,w=n.opacity==null?1:n.opacity;let _=null;if(n.excavate){let N=Math.floor(m),O=Math.floor(v),k=Math.ceil(f+m-N),M=Math.ceil(p+v-O);_={x:N,y:O,w:k,h:M}}const S=n.crossOrigin;return{x:m,y:v,h:p,w:f,excavation:_,opacity:w,crossOrigin:S}}function YM(e,t){return t!=null?Math.max(Math.floor(t),0):e?GM:qM}function sI({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:c,boostLevel:f}){let p=vr.useMemo(()=>{const N=(Array.isArray(e)?e:[e]).reduce((O,k)=>(O.push(...sc.QrSegment.makeSegments(k)),O),[]);return sc.QrCode.encodeSegments(N,HM[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:m,margin:v,numCells:w,calculatedImageSettings:_}=vr.useMemo(()=>{let S=p.getModules();const N=YM(n,i),O=S.length+N*2,k=XM(S,c,N,s);return{cells:S,margin:N,numCells:O,calculatedImageSettings:k}},[p,c,s,n,i]);return{qrcode:p,margin:v,cells:m,numCells:w,calculatedImageSettings:_}}var ZM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),QM=vr.forwardRef(function(t,r){const n=t,{value:i,size:s=QN,level:c=JN,bgColor:f=eI,fgColor:p=tI,includeMargin:m=rI,minVersion:v=nI,boostLevel:w,marginSize:_,imageSettings:S}=n,O=Vv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=O,M=Vv(O,["style"]),L=S?.src,j=vr.useRef(null),z=vr.useRef(null),W=vr.useCallback(ke=>{j.current=ke,typeof r=="function"?r(ke):r&&(r.current=ke)},[r]),[V,H]=vr.useState(!1),{margin:re,cells:X,numCells:_e,calculatedImageSettings:pe}=sI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:_,imageSettings:S,size:s});vr.useEffect(()=>{if(j.current!=null){const ke=j.current,te=ke.getContext("2d");if(!te)return;let Fe=X;const oe=z.current,ge=pe!=null&&oe!==null&&oe.complete&&oe.naturalHeight!==0&&oe.naturalWidth!==0;ge&&pe.excavation!=null&&(Fe=aI(X,pe.excavation));const we=window.devicePixelRatio||1;ke.height=ke.width=s*we;const be=s/_e*we;te.scale(be,be),te.fillStyle=f,te.fillRect(0,0,_e,_e),te.fillStyle=p,ZM?te.fill(new Path2D(iI(Fe,re))):X.forEach(function(Y,le){Y.forEach(function(Be,Me){Be&&te.fillRect(Me+re,le+re,1,1)})}),pe&&(te.globalAlpha=pe.opacity),ge&&te.drawImage(oe,pe.x+re,pe.y+re,pe.w,pe.h)}}),vr.useEffect(()=>{H(!1)},[L]);const de=Wv({height:s,width:s},k);let Ae=null;return L!=null&&(Ae=vr.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{H(!0)},ref:z,crossOrigin:pe?.crossOrigin})),vr.createElement(vr.Fragment,null,vr.createElement("canvas",Wv({style:de,height:s,width:s,ref:W,role:"img"},M)),Ae)});QM.displayName="QRCodeCanvas";var gy=vr.forwardRef(function(t,r){const n=t,{value:i,size:s=QN,level:c=JN,bgColor:f=eI,fgColor:p=tI,includeMargin:m=rI,minVersion:v=nI,boostLevel:w,title:_,marginSize:S,imageSettings:N}=n,O=Vv(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:M,numCells:L,calculatedImageSettings:j}=sI({value:i,level:c,minVersion:v,boostLevel:w,includeMargin:m,marginSize:S,imageSettings:N,size:s});let z=M,W=null;N!=null&&j!=null&&(j.excavation!=null&&(z=aI(M,j.excavation)),W=vr.createElement("image",{href:N.src,height:j.h,width:j.w,x:j.x+k,y:j.y+k,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const V=iI(z,k);return vr.createElement("svg",Wv({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},O),!!_&&vr.createElement("title",null,_),vr.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),vr.createElement("path",{fill:p,d:V,shapeRendering:"crispEdges"}),W)});gy.displayName="QRCodeSVG";const JM=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[s,c]=I.useState(!1),p=(v=>{switch(v==="Silver"&&(v="Bronce"),v){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return b.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!s),children:[b.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${s?"rotate-y-180":""}`,children:[b.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[560px] border border-stone-800",children:[b.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",b.jsx("span",{className:"text-amber-500",children:"Style"})]}),b.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:p.name})]}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),b.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),b.jsxs("div",{className:"px-6 py-4 z-10",children:[b.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((v,w)=>b.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${w<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:w<r&&b.jsx(Ku,{size:20,className:"text-stone-950 stroke-[4]"})},w))}),b.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[b.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),b.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),b.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),b.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),b.jsx("div",{className:"w-px h-10 bg-stone-800"}),b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),b.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),b.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[b.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[b.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),b.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),b.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[b.jsx(gy,{value:t,size:160,level:"M"}),b.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]})]}),b.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${p.bgGradient} z-0`})]}),b.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[560px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[b.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),b.jsx(Jj,{className:"text-stone-500"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),b.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),b.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),b.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),b.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),b.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),b.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),b.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),b.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},eD=()=>{const[e,t]=I.useState(""),[r,n]=I.useState(!1),[i,s]=I.useState(null),[c,f]=I.useState(!1),[p,m]=I.useState(""),[v,w]=I.useState(""),[_,S]=I.useState(""),N=L=>{let j=L.replace(/[^0-9kK]/g,"").toUpperCase();return j=j.replace("K","0"),j},O=L=>{const j=L.target.value.replace(/[^0-9]/g,"");j.length<=8&&t(j)},k=async L=>{L&&L.preventDefault();const z=new URLSearchParams(window.location.search).get("token");if(!(!z&&e.length<8)){n(!0);try{let W=ut.from("clients").select("*");z?W=W.eq("member_token",z):W=W.eq("phone","+569"+e);const{data:V,error:H}=await W.single();if(V){const re=V.visits||0;let X="Bronce";re>=10?X="Gold":re>=5&&(X="Plata"),s({name:V.name,visits:re,referrals:V.referrals,nextReward:re<5?5:re<10?10:15,token:V.member_token,tier:X,hair_service_count:V.hair_service_count||0}),f(!1)}else z||f(!0)}catch(W){console.error("Error checking loyalty:",W)}finally{n(!1)}}},M=async L=>{L.preventDefault(),n(!0);try{const j=N(_),z="+569"+e,{data:W,error:V}=await ut.from("clients").insert([{name:`${p} ${v}`,phone:z,rut:j,visits:0,referrals:0,hair_service_count:0}]).select();if(V)throw V;if(W&&W[0]){const H=W[0];s({name:H.name,visits:0,referrals:0,nextReward:5,token:H.member_token,tier:"Bronce",hair_service_count:0}),f(!1)}}catch(j){console.error("Error registering:",j),alert("No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return vr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&k()},[]),b.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[b.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),b.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),b.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!i&&!c&&b.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[b.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),b.jsxs("form",{onSubmit:k,className:"space-y-4",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-stone-500 font-mono text-lg z-10 pointer-events-none border-r border-stone-800 pr-3 h-6 flex items-center",children:"+569"}),b.jsx("input",{type:"tel",value:e,onChange:O,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 pl-[5.5rem] pr-12 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono tracking-normal md:tracking-widest text-lg"}),b.jsx(ip,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]}),b.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?b.jsx(Ju,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!i&&c&&b.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:b.jsx(sy,{size:24})}),b.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),b.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",b.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),b.jsxs("form",{onSubmit:M,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:p,onChange:L=>m(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),b.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:v,onChange:L=>w(L.target.value),className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),b.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:_,onChange:L=>S(L.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),b.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?b.jsx(Ju,{className:"animate-spin"}):"Registrarme"}),b.jsx("button",{type:"button",onClick:()=>f(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),i&&b.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[b.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:b.jsx(JM,{clientName:i.name||"Miembro Exclusivo",token:i.token||"pending-token",visits:i.visits,nextReward:5,tier:i.tier})}),b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("p",{className:"text-sm text-stone-400",children:i.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),b.jsx("button",{onClick:()=>{s(null),t(""),f(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},tD=({onLogin:e})=>{const[t,r]=I.useState(""),[n,i]=I.useState(""),[s,c]=I.useState(""),[f,p]=I.useState(!1),m=async v=>{v.preventDefault(),c(""),p(!0);try{if(await new Promise(w=>setTimeout(w,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(w){console.error(w),c("Error local simulado")}finally{p(!1)}};return b.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[b.jsx(u6,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),b.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),b.jsxs("form",{onSubmit:m,className:"space-y-4",children:[b.jsx("input",{type:"email",value:n,onChange:v=>i(v.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),b.jsx("input",{type:"password",value:t,onChange:v=>r(v.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),s&&b.jsx("p",{className:"text-red-500 text-sm",children:s}),b.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),b.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var He;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var eA=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),tA;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(tA||(tA={}));function rD(e){return Object.values(He).includes(e)}var Jh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Jh||(Jh={}));var nD=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Jh.SCAN_TYPE_CAMERA,Jh.SCAN_TYPE_FILE],e})(),oI=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!eA.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,eA.get(t))},e})(),rA=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Hv;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Hv||(Hv={}));var iD=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Hv.UNKWOWN_ERROR}},e})(),aD=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function ss(e){return typeof e>"u"||e===null}var oc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),lI=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(t),f=0,p=c;f<p.length;f++){var m=p[f];if(s.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Vu={exports:{}},sD=Vu.exports,nA;function oD(){return nA||(nA=1,(function(e,t){(function(r,n){n(t)})(sD,(function(r){function n(B){return B==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,a){B.__proto__=a}||function(B,a){for(var l in a)a.hasOwnProperty(l)&&(B[l]=a[l])};function s(B,a){i(B,a);function l(){this.constructor=B}B.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function c(B,a){var l=Object.setPrototypeOf;l?l(B,a):B.__proto__=a}function f(B,a){a===void 0&&(a=B.constructor);var l=Error.captureStackTrace;l&&l(B,a)}var p=(function(B){s(a,B);function a(l){var u=this.constructor,h=B.call(this,l)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),c(h,u.prototype),f(h),h}return a})(Error);class m extends p{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}m.kind="Exception";class v extends m{}v.kind="ArgumentException";class w extends m{}w.kind="IllegalArgumentException";class _{constructor(a){if(this.binarizer=a,a===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,u,h){const g=this.binarizer.getLuminanceSource().crop(a,l,u,h);return new _(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends m{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class N{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(a,l,u,h,g){for(;g--;)u[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class M extends k{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}M.kind="ArrayIndexOutOfBoundsException";class L{static fill(a,l){for(let u=0,h=a.length;u<h;u++)a[u]=l}static fillWithin(a,l,u,h){L.rangeCheck(a.length,l,u);for(let g=l;g<u;g++)a[g]=h}static rangeCheck(a,l,u){if(l>u)throw new w("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new M(l);if(u>a)throw new M(u)}static asList(...a){return a}static create(a,l,u){return Array.from({length:a}).map(g=>Array.from({length:l}).fill(u))}static createInt32Array(a,l,u){return Array.from({length:a}).map(g=>Int32Array.from({length:l}).fill(u))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==l[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const u of a)l=31*l+u;return l}static fillUint8Array(a,l){for(let u=0;u!==a.length;u++)a[u]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const u=new Uint8Array(l);return u.set(a),u}return a.slice(0,l)}static copyOfRange(a,l,u){const h=u-l,g=new Int32Array(h);return O.arraycopy(a,l,g,0,h),g}static binarySearch(a,l,u){u===void 0&&(u=L.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const x=g+h>>1,E=u(l,a[x]);if(E>0)h=x+1;else if(E<0)g=x-1;else return x}return-h-1}static numberComparator(a,l){return a-l}}class j{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let u=31;return l=a<<16,l!==0&&(u-=16,a=l),l=a<<8,l!==0&&(u-=8,a=l),l=a<<4,l!==0&&(u-=4,a=l),l=a<<2,l!==0&&(u-=2,a=l),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}j.MIN_VALUE_32_BITS=-2147483648,j.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=z.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=z.makeArray(a);O.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return l;g=u[h]}const E=h*32+j.numberOfTrailingZeros(g);return E>l?l:E}getNextUnset(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const x=u.length;for(;g===0;){if(++h===x)return l;g=~u[h]}const E=h*32+j.numberOfTrailingZeros(g);return E>l?l:E}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new w;if(l===a)return;l--;const u=Math.floor(a/32),h=Math.floor(l/32),g=this.bits;for(let x=u;x<=h;x++){const E=x>u?0:a&31,T=(2<<(x<h?31:l&31))-(1<<E);g[x]|=T}}clear(){const a=this.bits.length,l=this.bits;for(let u=0;u<a;u++)l[u]=0}isRange(a,l,u){if(l<a||a<0||l>this.size)throw new w;if(l===a)return!0;l--;const h=Math.floor(a/32),g=Math.floor(l/32),x=this.bits;for(let E=h;E<=g;E++){const C=E>h?0:a&31,D=(2<<(E<g?31:l&31))-(1<<C)&4294967295;if((x[E]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new w("Sizes don't match");const l=this.bits;for(let u=0,h=l.length;u<h;u++)l[u]^=a.bits[u]}toBytes(a,l,u,h){for(let g=0;g<h;g++){let x=0;for(let E=0;E<8;E++)this.get(a)&&(x|=1<<7-E),a++;l[u+g]=x}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,h=this.bits;for(let g=0;g<u;g++){let x=h[g];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,a[l-g]=x}if(this.size!==u*32){const g=u*32-this.size;let x=a[0]>>>g;for(let E=1;E<u;E++){const C=a[E];x|=C<<32-g,a[E-1]=x,x=C>>>g}a[u-1]=x}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof z))return!1;const l=a;return this.size===l.size&&L.equals(this.bits,l.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let a="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new z(this.size,this.bits.slice())}}var W;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class H extends m{static getFormatInstance(){return new H}}H.kind="FormatException";var re;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(re||(re={}));class X{constructor(a,l,u,...h){this.valueIdentifier=a,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,X.VALUE_IDENTIFIER_TO_ECI.set(a,this),X.NAME_TO_ECI.set(u,this);const g=this.values;for(let x=0,E=g.length;x!==E;x++){const C=g[x];X.VALUES_TO_ECI.set(C,this)}for(const x of h)X.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new H("incorect value");const l=X.VALUES_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}static getCharacterSetECIByName(a){const l=X.NAME_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}equals(a){if(!(a instanceof X))return!1;const l=a;return this.getName()===l.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(re.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(re.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(re.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(re.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(re.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(re.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(re.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(re.Big5,28,"Big5"),X.GB18030=new X(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(re.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends m{}_e.kind="UnsupportedOperationException";class pe{static decode(a,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!pe.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof X?a:X.getCharacterSetECIByName(a)}static decodeFallback(a,l){const u=this.encodingCharacterSet(l);if(pe.isDecodeFallbackSupported(u)){let h="";for(let g=0,x=a.length;g<x;g++){let E=a[g].toString(16);E.length<2&&(E="0"+E),h+="%"+E}return decodeURIComponent(h)}if(u.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new _e(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(X.UTF8)||a.equals(X.ISO8859_1)||a.equals(X.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class de{static castAsNonUtf8Char(a,l=null){const u=l?l.getName():this.ISO88591;return pe.decode(new Uint8Array([a]),u)}static guessEncoding(a,l){if(l!=null&&l.get(V.CHARACTER_SET)!==void 0)return l.get(V.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,x=!0,E=0,C=0,T=0,D=0,F=0,$=0,q=0,Z=0,J=0,ne=0,fe=0;const Te=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Pe=0;Pe<u&&(h||g||x);Pe++){const Oe=a[Pe]&255;x&&(E>0?(Oe&128)===0?x=!1:E--:(Oe&128)!==0&&((Oe&64)===0?x=!1:(E++,(Oe&32)===0?C++:(E++,(Oe&16)===0?T++:(E++,(Oe&8)===0?D++:x=!1))))),h&&(Oe>127&&Oe<160?h=!1:Oe>159&&(Oe<192||Oe===215||Oe===247)&&fe++),g&&(F>0?Oe<64||Oe===127||Oe>252?g=!1:F--:Oe===128||Oe===160||Oe>239?g=!1:Oe>160&&Oe<224?($++,Z=0,q++,q>J&&(J=q)):Oe>127?(F++,q=0,Z++,Z>ne&&(ne=Z)):(q=0,Z=0))}return x&&E>0&&(x=!1),g&&F>0&&(g=!1),x&&(Te||C+T+D>0)?de.UTF8:g&&(de.ASSUME_SHIFT_JIS||J>=3||ne>=3)?de.SHIFT_JIS:h&&g?J===2&&$===2||fe*10>=u?de.SHIFT_JIS:de.ISO88591:h?de.ISO88591:g?de.SHIFT_JIS:x?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let u=-1;function h(x,E,C,T,D,F){if(x==="%%")return"%";if(l[++u]===void 0)return;x=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(x);break;case"p":q=parseFloat(l[u]).toPrecision(x);break;case"e":q=parseFloat(l[u]).toExponential(x);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(x)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let Z=parseInt(C),J=C&&C[0]+""=="0"?"0":" ";for(;q.length<Z;)q=E!==void 0?q+J:J+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,l){return pe.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}de.SHIFT_JIS=X.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=X.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=X.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Ae{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=de.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,u){for(let h=l;l<l+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class ke{constructor(a,l,u,h){if(this.width=a,this.height=l,this.rowSize=u,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new w("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,u=a[0].length,h=new ke(u,l);for(let g=0;g<l;g++){const x=a[g];for(let E=0;E<u;E++)x[E]&&h.set(E,g)}return h}static parseFromString(a,l,u){if(a===null)throw new w("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,x=0,E=-1,C=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(g>x){if(E===-1)E=g-x;else if(g-x!==E)throw new w("row lengths do not match");x=g,C++}T++}else if(a.substring(T,T+l.length)===l)T+=l.length,h[g]=!0,g++;else if(a.substring(T,T+u.length)===u)T+=u.length,h[g]=!1,g++;else throw new w("illegal character encountered: "+a.substring(T));if(g>x){if(E===-1)E=g-x;else if(g-x!==E)throw new w("row lengths do not match");C++}const D=new ke(E,C);for(let F=0;F<g;F++)h[F]&&D.set(Math.floor(F%E),Math.floor(F/E));return D}get(a,l){const u=l*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new w("input matrix dimensions do not match");const l=new z(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,x=this.height;g<x;g++){const E=g*u,C=a.getRow(g,l).getBitArray();for(let T=0;T<u;T++)h[E+T]^=C[T]}}clear(){const a=this.bits,l=a.length;for(let u=0;u<l;u++)a[u]=0}setRegion(a,l,u,h){if(l<0||a<0)throw new w("Left and top must be nonnegative");if(h<1||u<1)throw new w("Height and width must be at least 1");const g=a+u,x=l+h;if(x>this.height||g>this.width)throw new w("The region must fit inside the matrix");const E=this.rowSize,C=this.bits;for(let T=l;T<x;T++){const D=T*E;for(let F=a;F<g;F++)C[D+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new z(this.width):l.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let x=0;x<u;x++)l.setBulk(x*32,h[g+x]);return l}setRow(a,l){O.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let u=new z(a),h=new z(a);for(let g=0,x=Math.floor((l+1)/2);g<x;g++)u=this.getRow(g,u),h=this.getRow(l-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(l-1-g,u)}getEnclosingRectangle(){const a=this.width,l=this.height,u=this.rowSize,h=this.bits;let g=a,x=l,E=-1,C=-1;for(let T=0;T<l;T++)for(let D=0;D<u;D++){const F=h[T*u+D];if(F!==0){if(T<x&&(x=T),T>C&&(C=T),D*32<g){let $=0;for(;(F<<31-$&4294967295)===0;)$++;D*32+$<g&&(g=D*32+$)}if(D*32+31>E){let $=31;for(;!(F>>>$);)$--;D*32+$>E&&(E=D*32+$)}}}return E<g||C<x?null:Int32Array.from([g,x,E-g+1,C-x+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const h=u/a;let g=u%a*32;const x=l[u];let E=0;for(;(x<<31-E&4294967295)===0;)E++;return g+=E,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const x=l[u];let E=31;for(;!(x>>>E);)E--;return g+=E,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ke))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&L.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+L.hashCode(this.bits),a}toString(a="X ",l="  ",u=`
`){return this.buildToString(a,l,u)}buildToString(a,l,u){let h=new Ae;for(let g=0,x=this.height;g<x;g++){for(let E=0,C=this.width;E<C;E++)h.append(this.get(E,g)?a:l);h.append(u)}return h.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends m{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Fe extends N{constructor(a){super(a),this.luminances=Fe.EMPTY,this.buckets=new Int32Array(Fe.LUMINANCE_BUCKETS)}getBlackRow(a,l){const u=this.getLuminanceSource(),h=u.getWidth();l==null||l.getSize()<h?l=new z(h):l.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),x=this.buckets;for(let C=0;C<h;C++)x[(g[C]&255)>>Fe.LUMINANCE_SHIFT]++;const E=Fe.estimateBlackPoint(x);if(h<3)for(let C=0;C<h;C++)(g[C]&255)<E&&l.set(C);else{let C=g[0]&255,T=g[1]&255;for(let D=1;D<h-1;D++){const F=g[D+1]&255;(T*4-C-F)/2<E&&l.set(D),C=T,T=F}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight(),h=new ke(l,u);this.initArrays(l);const g=this.buckets;for(let C=1;C<5;C++){const T=Math.floor(u*C/5),D=a.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<F;$++){const q=D[$]&255;g[q>>Fe.LUMINANCE_SHIFT]++}}const x=Fe.estimateBlackPoint(g),E=a.getMatrix();for(let C=0;C<u;C++){const T=C*l;for(let D=0;D<l;D++)(E[T+D]&255)<x&&h.set(D,C)}return h}createBinarizer(a){return new Fe(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let u=0;u<Fe.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(a){const l=a.length;let u=0,h=0,g=0;for(let D=0;D<l;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let x=0,E=0;for(let D=0;D<l;D++){const F=D-h,$=a[D]*F*F;$>E&&(x=D,E=$)}if(h>x){const D=h;h=x,x=D}if(x-h<=l/16)throw new te;let C=x-1,T=-1;for(let D=x-1;D>h;D--){const F=D-h,$=F*F*(x-D)*(u-a[D]);$>T&&(C=D,T=$)}return C<<Fe.LUMINANCE_SHIFT}}Fe.LUMINANCE_BITS=5,Fe.LUMINANCE_SHIFT=8-Fe.LUMINANCE_BITS,Fe.LUMINANCE_BUCKETS=1<<Fe.LUMINANCE_BITS,Fe.EMPTY=Uint8ClampedArray.from([0]);class oe extends Fe{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight();if(l>=oe.MINIMUM_DIMENSION&&u>=oe.MINIMUM_DIMENSION){const h=a.getMatrix();let g=l>>oe.BLOCK_SIZE_POWER;(l&oe.BLOCK_SIZE_MASK)!==0&&g++;let x=u>>oe.BLOCK_SIZE_POWER;(u&oe.BLOCK_SIZE_MASK)!==0&&x++;const E=oe.calculateBlackPoints(h,g,x,l,u),C=new ke(l,u);oe.calculateThresholdForBlock(h,g,x,l,u,E,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new oe(a)}static calculateThresholdForBlock(a,l,u,h,g,x,E){const C=g-oe.BLOCK_SIZE,T=h-oe.BLOCK_SIZE;for(let D=0;D<u;D++){let F=D<<oe.BLOCK_SIZE_POWER;F>C&&(F=C);const $=oe.cap(D,2,u-3);for(let q=0;q<l;q++){let Z=q<<oe.BLOCK_SIZE_POWER;Z>T&&(Z=T);const J=oe.cap(q,2,l-3);let ne=0;for(let Te=-2;Te<=2;Te++){const Pe=x[$+Te];ne+=Pe[J-2]+Pe[J-1]+Pe[J]+Pe[J+1]+Pe[J+2]}const fe=ne/25;oe.thresholdBlock(a,Z,F,fe,h,E)}}}static cap(a,l,u){return a<l?l:a>u?u:a}static thresholdBlock(a,l,u,h,g,x){for(let E=0,C=u*g+l;E<oe.BLOCK_SIZE;E++,C+=g)for(let T=0;T<oe.BLOCK_SIZE;T++)(a[C+T]&255)<=h&&x.set(l+T,u+E)}static calculateBlackPoints(a,l,u,h,g){const x=g-oe.BLOCK_SIZE,E=h-oe.BLOCK_SIZE,C=new Array(u);for(let T=0;T<u;T++){C[T]=new Int32Array(l);let D=T<<oe.BLOCK_SIZE_POWER;D>x&&(D=x);for(let F=0;F<l;F++){let $=F<<oe.BLOCK_SIZE_POWER;$>E&&($=E);let q=0,Z=255,J=0;for(let fe=0,Te=D*h+$;fe<oe.BLOCK_SIZE;fe++,Te+=h){for(let Pe=0;Pe<oe.BLOCK_SIZE;Pe++){const Oe=a[Te+Pe]&255;q+=Oe,Oe<Z&&(Z=Oe),Oe>J&&(J=Oe)}if(J-Z>oe.MIN_DYNAMIC_RANGE)for(fe++,Te+=h;fe<oe.BLOCK_SIZE;fe++,Te+=h)for(let Pe=0;Pe<oe.BLOCK_SIZE;Pe++)q+=a[Te+Pe]&255}let ne=q>>oe.BLOCK_SIZE_POWER*2;if(J-Z<=oe.MIN_DYNAMIC_RANGE&&(ne=Z/2,T>0&&F>0)){const fe=(C[T-1][F]+2*C[T][F-1]+C[T-1][F-1])/4;Z<fe&&(ne=fe)}C[T][F]=ne}}return C}}oe.BLOCK_SIZE_POWER=3,oe.BLOCK_SIZE=1<<oe.BLOCK_SIZE_POWER,oe.BLOCK_SIZE_MASK=oe.BLOCK_SIZE-1,oe.MINIMUM_DIMENSION=oe.BLOCK_SIZE*5,oe.MIN_DYNAMIC_RANGE=24;class ge{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,u,h){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new Ae;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const x=h[g]&255;let E;x<64?E="#":x<128?E="+":x<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class we extends ge{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const u=this.delegate.getRow(a,l),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let h=0;h<l;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,u,h){return new we(this.delegate.crop(a,l,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new we(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new we(this.delegate.rotateCounterClockwise45())}}class be extends ge{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=be.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return be.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,u){const h=new Uint8ClampedArray(l*u);for(let g=0,x=0,E=a.length;g<E;g+=4,x++){let C;if(a[g+3]===0)C=255;else{const D=a[g],F=a[g+1],$=a[g+2];C=306*D+601*F+117*$+512>>10}h[x]=C}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return l===null?l=this.buffer.slice(h,h+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(h,h+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,u,h){return super.crop(a,l,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),u=l.getContext("2d"),h=a*be.DEGREE_TO_RADIANS,g=this.canvas.width,x=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*x),C=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*x);return l.width=E,l.height=C,u.translate(E/2,C/2),u.rotate(h),u.drawImage(this.canvas,g/-2,x/-2),this.buffer=be.makeBufferFromCanvasImageData(l),this}invert(){return new we(this)}}be.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(a,l,u){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||Jf||self||window||void 0)&&(globalThis||Jf||self||window||void 0).__awaiter||function(B,a,l,u){function h(g){return g instanceof l?g:new l(function(x){x(g)})}return new(l||(l=Promise))(function(g,x){function E(D){try{T(u.next(D))}catch(F){x(F)}}function C(D){try{T(u.throw(D))}catch(F){x(F)}}function T(D){D.done?g(D.value):h(D.value).then(E,C)}T((u=u.apply(B,a||[])).next())})};class Be{constructor(a,l=500,u){this.reader=a,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,x=u.label||`Video device ${l.length+1}`,E=u.groupId,C={deviceId:g,label:x,kind:h,groupId:E};l.push(C)}return l})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Y(l.deviceId,l.label))})}findDeviceById(a){return le(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return le(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return le(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(a,l){return le(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,l,u){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,u)})}decodeFromVideoDevice(a,l,u){return le(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,l,u)})}decodeFromConstraints(a,l,u){return le(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,u)})}decodeFromStream(a,l,u){return le(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return le(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((l,u)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const u=document.getElementById(a);if(!u)throw new v(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new v(`element with id '${a}' must be an ${l} element`);return u}decodeFromImage(a,l){if(!a&&!l)throw new v("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,u){if(a===void 0&&l===void 0)throw new v("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new v("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(a){if(!a)throw new v("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=a,u}decodeFromVideoUrl(a){if(!a)throw new v("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=a,u}decodeFromVideoUrlContinuously(a,l){if(!a)throw new v("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,l);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,x)=>{if(this._stopAsyncDecode){x(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(a);g(E)}catch(E){const C=l&&E instanceof te,D=(E instanceof S||E instanceof H)&&u;if(C||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,x);x(E)}};return new Promise((g,x)=>h(g,x))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){l(null,h);const g=h instanceof S||h instanceof H,x=h instanceof te;(g||x)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,u){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),u=new be(l),h=new oe(u);return new _(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=u+"px",l.style.height=h+"px",l.width=u,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Me{constructor(a,l,u=l==null?0:8*l.length,h,g,x=O.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=x,this.text=a,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,x==null?this.timestamp=O.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(l.length+a.length);O.arraycopy(l,0,u,0,l.length),O.arraycopy(a,0,u,l.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var We;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var Ce=We,ot;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ot||(ot={}));var it=ot;class ve{constructor(a,l,u,h,g=-1,x=-1){this.rawBytes=a,this.text=l,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=x,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class et{exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class xe{constructor(a,l){if(l.length===0)throw new w;this.field=a;const u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),O.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(a===1){u=0;for(let x=0,E=l.length;x!==E;x++){const C=l[x];u=et.addOrSubtract(u,C)}return u}u=l[0];const h=l.length,g=this.field;for(let x=1;x<h;x++)u=et.addOrSubtract(g.multiply(a,u),l[x]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){const x=l;l=u,u=x}let h=new Int32Array(u.length);const g=u.length-l.length;O.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=et.addOrSubtract(l[x-g],u[x]);return new xe(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1),E=this.field;for(let C=0;C<u;C++){const T=l[C];for(let D=0;D<g;D++)x[C+D]=et.addOrSubtract(x[C+D],E.multiply(T,h[D]))}return new xe(E,x)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,u=this.field,h=new Int32Array(l),g=this.coefficients;for(let x=0;x<l;x++)h[x]=u.multiply(g[x],a);return new xe(u,h)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),x=this.field;for(let E=0;E<h;E++)g[E]=x.multiply(u[E],l);return new xe(x,g)}divide(a){if(!this.field.equals(a.field))throw new w("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new w("Divide by 0");const l=this.field;let u=l.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),x=l.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const E=h.getDegree()-a.getDegree(),C=l.multiply(h.getCoefficient(h.getDegree()),x),T=a.multiplyByMonomial(E,C),D=l.buildMonomial(E,C);u=u.addOrSubtract(D),h=h.addOrSubtract(T)}return[u,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),l===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class ye extends m{}ye.kind="ArithmeticException";class Ve extends et{constructor(a,l,u){super(),this.primitive=a,this.size=l,this.generatorBase=u;const h=new Int32Array(l);let g=1;for(let E=0;E<l;E++)h[E]=g,g*=2,g>=l&&(g^=a,g&=l-1);this.expTable=h;const x=new Int32Array(l);for(let E=0;E<l-1;E++)x[h[E]]=E;this.logTable=x,this.zero=new xe(this,Int32Array.from([0])),this.one=new xe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;const u=new Int32Array(a+1);return u[0]=l,new xe(this,u)}inverse(a){if(a===0)throw new ye;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+j.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Ve.AZTEC_DATA_12=new Ve(4201,4096,1),Ve.AZTEC_DATA_10=new Ve(1033,1024,1),Ve.AZTEC_DATA_6=new Ve(67,64,1),Ve.AZTEC_PARAM=new Ve(19,16,1),Ve.QR_CODE_FIELD_256=new Ve(285,256,0),Ve.DATA_MATRIX_FIELD_256=new Ve(301,256,1),Ve.AZTEC_DATA_8=Ve.DATA_MATRIX_FIELD_256,Ve.MAXICODE_FIELD_64=Ve.AZTEC_DATA_6;class at extends m{}at.kind="ReedSolomonException";class vt extends m{}vt.kind="IllegalStateException";class _t{constructor(a){this.field=a}decode(a,l){const u=this.field,h=new xe(u,a),g=new Int32Array(l);let x=!0;for(let q=0;q<l;q++){const Z=h.evaluateAt(u.exp(q+u.getGeneratorBase()));g[g.length-1-q]=Z,Z!==0&&(x=!1)}if(x)return;const E=new xe(u,g),C=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),T=C[0],D=C[1],F=this.findErrorLocations(T),$=this.findErrorMagnitudes(D,F);for(let q=0;q<F.length;q++){const Z=a.length-1-u.log(F[q]);if(Z<0)throw new at("Bad error location");a[Z]=Ve.addOrSubtract(a[Z],$[q])}}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){const q=a;a=l,l=q}const h=this.field;let g=a,x=l,E=h.getZero(),C=h.getOne();for(;x.getDegree()>=(u/2|0);){let q=g,Z=E;if(g=x,E=C,g.isZero())throw new at("r_{i-1} was zero");x=q;let J=h.getZero();const ne=g.getCoefficient(g.getDegree()),fe=h.inverse(ne);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){const Te=x.getDegree()-g.getDegree(),Pe=h.multiply(x.getCoefficient(x.getDegree()),fe);J=J.addOrSubtract(h.buildMonomial(Te,Pe)),x=x.addOrSubtract(g.multiplyByMonomial(Te,Pe))}if(C=J.multiply(E).addOrSubtract(Z),x.getDegree()>=g.getDegree())throw new vt("Division algorithm failed to reduce polynomial?")}const T=C.getCoefficient(0);if(T===0)throw new at("sigmaTilde(0) was zero");const D=h.inverse(T),F=C.multiplyScalar(D),$=x.multiplyScalar(D);return[F,$]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(l);let h=0;const g=this.field;for(let x=1;x<g.getSize()&&h<l;x++)a.evaluateAt(x)===0&&(u[h]=g.inverse(x),h++);if(h!==l)throw new at("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,l){const u=l.length,h=new Int32Array(u),g=this.field;for(let x=0;x<u;x++){const E=g.inverse(l[x]);let C=1;for(let T=0;T<u;T++)if(x!==T){const D=g.multiply(l[T],E),F=(D&1)===0?D|1:D&-2;C=g.multiply(C,F)}h[x]=g.multiply(a.evaluateAt(E),g.inverse(C)),g.getGeneratorBase()!==0&&(h[x]=g.multiply(h[x],E))}return h}}var Rt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Rt||(Rt={}));class St{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),h=this.correctBits(u),g=St.convertBoolArrayToByteArray(h),x=St.getEncodedData(h),E=new ve(g,x,null,null);return E.setNumBits(h.length),E}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=Rt.UPPER,h=Rt.UPPER,g="",x=0;for(;x<l;)if(h===Rt.BINARY){if(l-x<5)break;let E=St.readCode(a,x,5);if(x+=5,E===0){if(l-x<11)break;E=St.readCode(a,x,11)+31,x+=11}for(let C=0;C<E;C++){if(l-x<8){x=l;break}const T=St.readCode(a,x,8);g+=de.castAsNonUtf8Char(T),x+=8}h=u}else{let E=h===Rt.DIGIT?4:5;if(l-x<E)break;let C=St.readCode(a,x,E);x+=E;let T=St.getCharacter(h,C);T.startsWith("CTRL_")?(u=h,h=St.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=h)):(g+=T,h=u)}return g}static getTable(a){switch(a){case"L":return Rt.LOWER;case"P":return Rt.PUNCT;case"M":return Rt.MIXED;case"D":return Rt.DIGIT;case"B":return Rt.BINARY;case"U":default:return Rt.UPPER}}static getCharacter(a,l){switch(a){case Rt.UPPER:return St.UPPER_TABLE[l];case Rt.LOWER:return St.LOWER_TABLE[l];case Rt.MIXED:return St.MIXED_TABLE[l];case Rt.PUNCT:return St.PUNCT_TABLE[l];case Rt.DIGIT:return St.DIGIT_TABLE[l];default:throw new vt("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=Ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=Ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=Ve.AZTEC_DATA_10):(u=12,l=Ve.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new H;let x=a.length%u,E=new Int32Array(g);for(let $=0;$<g;$++,x+=u)E[$]=St.readCode(a,x,u);try{new _t(l).decode(E,g-h)}catch($){throw new H($)}let C=(1<<u)-1,T=0;for(let $=0;$<h;$++){let q=E[$];if(q===0||q===C)throw new H;(q===1||q===C-1)&&T++}let D=new Array(h*u-T),F=0;for(let $=0;$<h;$++){let q=E[$];if(q===1||q===C-1)D.fill(q>1,F,F+u-1),F+=u-1;else for(let Z=u-1;Z>=0;--Z)D[F++]=(q&1<<Z)!==0}return D}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(l?11:14)+u*4,g=new Int32Array(h),x=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<g.length;E++)g[E]=E;else{let E=h+1+2*j.truncDivision(j.truncDivision(h,2)-1,15),C=h/2,T=j.truncDivision(E,2);for(let D=0;D<C;D++){let F=D+j.truncDivision(D,15);g[C-D-1]=T-F-1,g[C+D]=T+F+1}}for(let E=0,C=0;E<u;E++){let T=(u-E)*4+(l?9:12),D=E*2,F=h-1-D;for(let $=0;$<T;$++){let q=$*2;for(let Z=0;Z<2;Z++)x[C+q+Z]=a.get(g[D+Z],g[D+$]),x[C+2*T+q+Z]=a.get(g[D+$],g[F-Z]),x[C+4*T+q+Z]=a.get(g[F-Z],g[F-$]),x[C+6*T+q+Z]=a.get(g[F-$],g[D+Z])}C+=T*8}return x}static readCode(a,l,u){let h=0;for(let g=l;g<l+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,l){let u=a.length-l;return u>=8?St.readCode(a,l,8):St.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=St.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class bt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,u,h){const g=a-u,x=l-h;return Math.sqrt(g*g+x*x)}static sum(a){let l=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];l+=g}return l}}class hr{static floatToIntBits(a){return a}}hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Ue){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*hr.floatToIntBits(this.x)+hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,x,E;if(u>=l&&u>=h?(x=a[0],g=a[1],E=a[2]):h>=u&&h>=l?(x=a[1],g=a[0],E=a[2]):(x=a[2],g=a[0],E=a[1]),this.crossProductZ(g,x,E)<0){const C=g;g=E,E=C}a[0]=g,a[1]=x,a[2]=E}static distance(a,l){return bt.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,u){const h=l.x,g=l.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class Mi{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Ea extends Mi{constructor(a,l,u,h,g){super(a,l),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class fn{constructor(a,l,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=fn.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=l/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,h=this.downInit,g=!1,x=!0,E=!1,C=!1,T=!1,D=!1,F=!1;const $=this.width,q=this.height;for(;x;){x=!1;let Z=!0;for(;(Z||!C)&&l<$;)Z=this.containsBlackPoint(u,h,l,!1),Z?(l++,x=!0,C=!0):C||l++;if(l>=$){g=!0;break}let J=!0;for(;(J||!T)&&h<q;)J=this.containsBlackPoint(a,l,h,!0),J?(h++,x=!0,T=!0):T||h++;if(h>=q){g=!0;break}let ne=!0;for(;(ne||!D)&&a>=0;)ne=this.containsBlackPoint(u,h,a,!1),ne?(a--,x=!0,D=!0):D||a--;if(a<0){g=!0;break}let fe=!0;for(;(fe||!F)&&u>=0;)fe=this.containsBlackPoint(a,l,u,!0),fe?(u--,x=!0,F=!0):F||u--;if(u<0){g=!0;break}x&&(E=!0)}if(!g&&E){const Z=l-a;let J=null;for(let Pe=1;J===null&&Pe<Z;Pe++)J=this.getBlackPointOnSegment(a,h-Pe,a+Pe,h);if(J==null)throw new te;let ne=null;for(let Pe=1;ne===null&&Pe<Z;Pe++)ne=this.getBlackPointOnSegment(a,u+Pe,a+Pe,u);if(ne==null)throw new te;let fe=null;for(let Pe=1;fe===null&&Pe<Z;Pe++)fe=this.getBlackPointOnSegment(l,u+Pe,l-Pe,u);if(fe==null)throw new te;let Te=null;for(let Pe=1;Te===null&&Pe<Z;Pe++)Te=this.getBlackPointOnSegment(l,h-Pe,l-Pe,h);if(Te==null)throw new te;return this.centerEdges(Te,J,fe,ne)}else throw new te}getBlackPointOnSegment(a,l,u,h){const g=bt.round(bt.distance(a,l,u,h)),x=(u-a)/g,E=(h-l)/g,C=this.image;for(let T=0;T<g;T++){const D=bt.round(a+T*x),F=bt.round(l+T*E);if(C.get(D,F))return new Ue(D,F)}return null}centerEdges(a,l,u,h){const g=a.getX(),x=a.getY(),E=l.getX(),C=l.getY(),T=u.getX(),D=u.getY(),F=h.getX(),$=h.getY(),q=fn.CORR;return g<this.width/2?[new Ue(F-q,$+q),new Ue(E+q,C+q),new Ue(T-q,D-q),new Ue(g+q,x-q)]:[new Ue(F+q,$+q),new Ue(E+q,C-q),new Ue(T-q,D+q),new Ue(g-q,x-q)]}containsBlackPoint(a,l,u,h){const g=this.image;if(h){for(let x=a;x<=l;x++)if(g.get(x,u))return!0}else for(let x=a;x<=l;x++)if(g.get(u,x))return!0;return!1}}fn.INIT_SIZE=10,fn.CORR=1;class se{static checkAndNudgePoints(a,l){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let x=0;x<l.length&&g;x+=2){const E=Math.floor(l[x]),C=Math.floor(l[x+1]);if(E<-1||E>u||C<-1||C>h)throw new te;g=!1,E===-1?(l[x]=0,g=!0):E===u&&(l[x]=u-1,g=!0),C===-1?(l[x+1]=0,g=!0):C===h&&(l[x+1]=h-1,g=!0)}g=!0;for(let x=l.length-2;x>=0&&g;x-=2){const E=Math.floor(l[x]),C=Math.floor(l[x+1]);if(E<-1||E>u||C<-1||C>h)throw new te;g=!1,E===-1?(l[x]=0,g=!0):E===u&&(l[x]=u-1,g=!0),C===-1?(l[x+1]=0,g=!0):C===h&&(l[x+1]=h-1,g=!0)}}}class De{constructor(a,l,u,h,g,x,E,C,T){this.a11=a,this.a21=l,this.a31=u,this.a12=h,this.a22=g,this.a32=x,this.a13=E,this.a23=C,this.a33=T}static quadrilateralToQuadrilateral(a,l,u,h,g,x,E,C,T,D,F,$,q,Z,J,ne){const fe=De.quadrilateralToSquare(a,l,u,h,g,x,E,C);return De.squareToQuadrilateral(T,D,F,$,q,Z,J,ne).times(fe)}transformPoints(a){const l=a.length,u=this.a11,h=this.a12,g=this.a13,x=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33;for(let $=0;$<l;$+=2){const q=a[$],Z=a[$+1],J=g*q+C*Z+F;a[$]=(u*q+x*Z+T)/J,a[$+1]=(h*q+E*Z+D)/J}}transformPointsWithValues(a,l){const u=this.a11,h=this.a12,g=this.a13,x=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33,$=a.length;for(let q=0;q<$;q++){const Z=a[q],J=l[q],ne=g*Z+C*J+F;a[q]=(u*Z+x*J+T)/ne,l[q]=(h*Z+E*J+D)/ne}}static squareToQuadrilateral(a,l,u,h,g,x,E,C){const T=a-u+g-E,D=l-h+x-C;if(T===0&&D===0)return new De(u-a,g-u,a,h-l,x-h,l,0,0,1);{const F=u-g,$=E-g,q=h-x,Z=C-x,J=F*Z-$*q,ne=(T*Z-$*D)/J,fe=(F*D-T*q)/J;return new De(u-a+ne*u,E-a+fe*E,a,h-l+ne*h,C-l+fe*C,l,ne,fe,1)}}static quadrilateralToSquare(a,l,u,h,g,x,E,C){return De.squareToQuadrilateral(a,l,u,h,g,x,E,C).buildAdjoint()}buildAdjoint(){return new De(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new De(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class lt extends se{sampleGrid(a,l,u,h,g,x,E,C,T,D,F,$,q,Z,J,ne,fe,Te,Pe){const Oe=De.quadrilateralToQuadrilateral(h,g,x,E,C,T,D,F,$,q,Z,J,ne,fe,Te,Pe);return this.sampleGridWithTransform(a,l,u,Oe)}sampleGridWithTransform(a,l,u,h){if(l<=0||u<=0)throw new te;const g=new ke(l,u),x=new Float32Array(2*l);for(let E=0;E<u;E++){const C=x.length,T=E+.5;for(let D=0;D<C;D+=2)x[D]=D/2+.5,x[D+1]=T;h.transformPoints(x),se.checkAndNudgePoints(a,x);try{for(let D=0;D<C;D+=2)a.get(Math.floor(x[D]),Math.floor(x[D+1]))&&g.set(D/2,E)}catch{throw new te}}return g}}class Le{static setGridSampler(a){Le.gridSampler=a}static getInstance(){return Le.gridSampler}}Le.gridSampler=new lt;class Ze{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class qt{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(a){let x=u[0];u[0]=u[2],u[2]=x}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new Ea(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new te;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(u,l);let h=0;for(let x=0;x<4;x++){let E=u[(this.shift+x)%4];this.compact?(h<<=7,h+=E>>1&127):(h<<=10,h+=(E>>2&992)+(E>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,l){let u=0;a.forEach((h,g,x)=>{let E=(h>>l-2<<1)+(h&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(j.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new te}getCorrectedParameterData(a,l){let u,h;l?(u=7,h=2):(u=10,h=4);let g=u-h,x=new Int32Array(u);for(let C=u-1;C>=0;--C)x[C]=a&15,a>>=4;try{new _t(Ve.AZTEC_PARAM).decode(x,g)}catch{throw new te}let E=0;for(let C=0;C<h;C++)E=(E<<4)+x[C];return E}getBullsEyeCorners(a){let l=a,u=a,h=a,g=a,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,x,1,-1),$=this.getFirstDifferent(u,x,1,1),q=this.getFirstDifferent(h,x,-1,1),Z=this.getFirstDifferent(g,x,-1,-1);if(this.nbCenterLayers>2){let J=this.distancePoint(Z,F)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(J<.75||J>1.25||!this.isWhiteOrBlackRectangle(F,$,q,Z))break}l=F,u=$,h=q,g=Z,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let E=new Ue(l.getX()+.5,l.getY()-.5),C=new Ue(u.getX()+.5,u.getY()+.5),T=new Ue(h.getX()-.5,h.getY()+.5),D=new Ue(g.getX()-.5,g.getY()-.5);return this.expandSquare([E,C,T,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,u,h;try{let E=new fn(this.image).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{let C=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new Ze(C+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ze(C+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ze(C-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ze(C-7,T-7),!1,-1,-1).toResultPoint()}let g=bt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),x=bt.round((a.getY()+h.getY()+l.getY()+u.getY())/4);try{let E=new fn(this.image,15,g,x).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{a=this.getFirstDifferent(new Ze(g+7,x-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ze(g+7,x+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Ze(g-7,x+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ze(g-7,x-7),!1,-1,-1).toResultPoint()}return g=bt.round((a.getX()+h.getX()+l.getX()+u.getX())/4),x=bt.round((a.getY()+h.getY()+l.getY()+u.getY())/4),new Ze(g,x)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,u,h,g){let x=Le.getInstance(),E=this.getDimension(),C=E/2-this.nbCenterLayers,T=E/2+this.nbCenterLayers;return x.sampleGrid(a,E,E,C,C,T,C,T,T,C,T,l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,l,u){let h=0,g=this.distanceResultPoint(a,l),x=g/u,E=a.getX(),C=a.getY(),T=x*(l.getX()-a.getX())/g,D=x*(l.getY()-a.getY())/g;for(let F=0;F<u;F++)this.image.get(bt.round(E+F*T),bt.round(C+F*D))&&(h|=1<<u-F-1);return h}isWhiteOrBlackRectangle(a,l,u,h){let g=3;a=new Ze(a.getX()-g,a.getY()+g),l=new Ze(l.getX()-g,l.getY()-g),u=new Ze(u.getX()+g,u.getY()-g),h=new Ze(h.getX()+g,h.getY()+g);let x=this.getColor(h,a);if(x===0)return!1;let E=this.getColor(a,l);return E!==x||(E=this.getColor(l,u),E!==x)?!1:(E=this.getColor(u,h),E===x)}getColor(a,l){let u=this.distancePoint(a,l),h=(l.getX()-a.getX())/u,g=(l.getY()-a.getY())/u,x=0,E=a.getX(),C=a.getY(),T=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let $=0;$<D;$++)E+=h,C+=g,this.image.get(bt.round(E),bt.round(C))!==T&&x++;let F=x/u;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(a,l,u,h){let g=a.getX()+u,x=a.getY()+h;for(;this.isValid(g,x)&&this.image.get(g,x)===l;)g+=u,x+=h;for(g-=u,x-=h;this.isValid(g,x)&&this.image.get(g,x)===l;)g+=u;for(g-=u;this.isValid(g,x)&&this.image.get(g,x)===l;)x+=h;return x-=h,new Ze(g,x)}expandSquare(a,l,u){let h=u/(2*l),g=a[0].getX()-a[2].getX(),x=a[0].getY()-a[2].getY(),E=(a[0].getX()+a[2].getX())/2,C=(a[0].getY()+a[2].getY())/2,T=new Ue(E+h*g,C+h*x),D=new Ue(E-h*g,C-h*x);g=a[1].getX()-a[3].getX(),x=a[1].getY()-a[3].getY(),E=(a[1].getX()+a[3].getX())/2,C=(a[1].getY()+a[3].getY())/2;let F=new Ue(E+h*g,C+h*x),$=new Ue(E-h*g,C-h*x);return[T,F,D,$]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=bt.round(a.getX()),u=bt.round(a.getY());return this.isValid(l,u)}distancePoint(a,l){return bt.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return bt.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(j.truncDivision(this.nbLayers-4,8)+1)+15}}class Er{decode(a,l=null){let u=null,h=new qt(a.getBlackMatrix()),g=null,x=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(l,g),x=new St().decode(D)}catch(D){u=D}if(x==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(l,g),x=new St().decode(D)}catch(D){throw u??D}let E=new Me(x.getText(),x.getRawBytes(),x.getNumBits(),g,Ce.AZTEC,O.currentTimeMillis()),C=x.getByteSegments();C!=null&&E.putMetadata(it.BYTE_SEGMENTS,C);let T=x.getECLevel();return T!=null&&E.putMetadata(it.ERROR_CORRECTION_LEVEL,T),E}reportFoundResultPoints(a,l){if(a!=null){let u=a.get(V.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((h,g,x)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class Wa extends Be{constructor(a=500){super(new Er,a)}}class Ar{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(V.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),x=this.doDecode(g,l),E=x.getResultMetadata();let C=270;E!==null&&E.get(it.ORIENTATION)===!0&&(C=C+E.get(it.ORIENTATION)%360),x.putMetadata(it.ORIENTATION,C);const T=x.getResultPoints();if(T!==null){const D=g.getHeight();for(let F=0;F<T.length;F++)T[F]=new Ue(D-T[F].getY()-1,T[F].getX())}return x}else throw new te}}reset(){}doDecode(a,l){const u=a.getWidth(),h=a.getHeight();let g=new z(u);const x=l&&l.get(V.TRY_HARDER)===!0,E=Math.max(1,h>>(x?8:5));let C;x?C=h:C=15;const T=Math.trunc(h/2);for(let D=0;D<C;D++){const F=Math.trunc((D+1)/2),$=(D&1)===0,q=T+E*($?F:-F);if(q<0||q>=h)break;try{g=a.getBlackRow(q,g)}catch{continue}for(let Z=0;Z<2;Z++){if(Z===1&&(g.reverse(),l&&l.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const J=new Map;l.forEach((ne,fe)=>J.set(fe,ne)),J.delete(V.NEED_RESULT_POINT_CALLBACK),l=J}try{const J=this.decodeRow(q,g,l);if(Z===1){J.putMetadata(it.ORIENTATION,180);const ne=J.getResultPoints();ne!==null&&(ne[0]=new Ue(u-ne[0].getX()-1,ne[0].getY()),ne[1]=new Ue(u-ne[1].getX()-1,ne[1].getY()))}return J}catch{}}}throw new te}static recordPattern(a,l,u){const h=u.length;for(let T=0;T<h;T++)u[T]=0;const g=a.getSize();if(l>=g)throw new te;let x=!a.get(l),E=0,C=l;for(;C<g;){if(a.get(C)!==x)u[E]++;else{if(++E===h)break;u[E]=1,x=!x}C++}if(!(E===h||E===h-1&&C===g))throw new te}static recordPatternInReverse(a,l,u){let h=u.length,g=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==g&&(h--,g=!g);if(h>=0)throw new te;Ar.recordPattern(a,l+1,u)}static patternMatchVariance(a,l,u){const h=a.length;let g=0,x=0;for(let T=0;T<h;T++)g+=a[T],x+=l[T];if(g<x)return Number.POSITIVE_INFINITY;const E=g/x;u*=E;let C=0;for(let T=0;T<h;T++){const D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return Number.POSITIVE_INFINITY;C+=$}return C/g}}class je extends Ar{static findStartPattern(a){const l=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),x=u,E=!1;const C=6;for(let T=u;T<l;T++)if(a.get(T)!==E)g[h]++;else{if(h===C-1){let D=je.MAX_AVG_VARIANCE,F=-1;for(let $=je.CODE_START_A;$<=je.CODE_START_C;$++){const q=Ar.patternMatchVariance(g,je.CODE_PATTERNS[$],je.MAX_INDIVIDUAL_VARIANCE);q<D&&(D=q,F=$)}if(F>=0&&a.isRange(Math.max(0,x-(T-x)/2),x,!1))return Int32Array.from([x,T,F]);x+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,E=!E}throw new te}static decodeCode(a,l,u){Ar.recordPattern(a,u,l);let h=je.MAX_AVG_VARIANCE,g=-1;for(let x=0;x<je.CODE_PATTERNS.length;x++){const E=je.CODE_PATTERNS[x],C=this.patternMatchVariance(l,E,je.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,g=x)}if(g>=0)return g;throw new te}decodeRow(a,l,u){const h=u&&u.get(V.ASSUME_GS1)===!0,g=je.findStartPattern(l),x=g[2];let E=0;const C=new Uint8Array(20);C[E++]=x;let T;switch(x){case je.CODE_START_A:T=je.CODE_CODE_A;break;case je.CODE_START_B:T=je.CODE_CODE_B;break;case je.CODE_START_C:T=je.CODE_CODE_C;break;default:throw new H}let D=!1,F=!1,$="",q=g[0],Z=g[1];const J=Int32Array.from([0,0,0,0,0,0]);let ne=0,fe=0,Te=x,Pe=0,Oe=!0,Ct=!1,yt=!1;for(;!D;){const sa=F;switch(F=!1,ne=fe,fe=je.decodeCode(l,J,Z),C[E++]=fe,fe!==je.CODE_STOP&&(Oe=!0),fe!==je.CODE_STOP&&(Pe++,Te+=Pe*fe),q=Z,Z+=J.reduce((Fs,cu)=>Fs+cu,0),fe){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new H}switch(T){case je.CODE_CODE_A:if(fe<64)yt===Ct?$+=String.fromCharCode(32+fe):$+=String.fromCharCode(32+fe+128),yt=!1;else if(fe<96)yt===Ct?$+=String.fromCharCode(fe-64):$+=String.fromCharCode(fe+64),yt=!1;else switch(fe!==je.CODE_STOP&&(Oe=!1),fe){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!Ct&&yt?(Ct=!0,yt=!1):Ct&&yt?(Ct=!1,yt=!1):yt=!0;break;case je.CODE_SHIFT:F=!0,T=je.CODE_CODE_B;break;case je.CODE_CODE_B:T=je.CODE_CODE_B;break;case je.CODE_CODE_C:T=je.CODE_CODE_C;break;case je.CODE_STOP:D=!0;break}break;case je.CODE_CODE_B:if(fe<96)yt===Ct?$+=String.fromCharCode(32+fe):$+=String.fromCharCode(32+fe+128),yt=!1;else switch(fe!==je.CODE_STOP&&(Oe=!1),fe){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!Ct&&yt?(Ct=!0,yt=!1):Ct&&yt?(Ct=!1,yt=!1):yt=!0;break;case je.CODE_SHIFT:F=!0,T=je.CODE_CODE_A;break;case je.CODE_CODE_A:T=je.CODE_CODE_A;break;case je.CODE_CODE_C:T=je.CODE_CODE_C;break;case je.CODE_STOP:D=!0;break}break;case je.CODE_CODE_C:if(fe<100)fe<10&&($+="0"),$+=fe;else switch(fe!==je.CODE_STOP&&(Oe=!1),fe){case je.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case je.CODE_CODE_A:T=je.CODE_CODE_A;break;case je.CODE_CODE_B:T=je.CODE_CODE_B;break;case je.CODE_STOP:D=!0;break}break}sa&&(T=T===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const Ln=Z-q;if(Z=l.getNextUnset(Z),!l.isRange(Z,Math.min(l.getSize(),Z+(Z-q)/2),!1))throw new te;if(Te-=Pe*ne,Te%103!==ne)throw new S;const yi=$.length;if(yi===0)throw new te;yi>0&&Oe&&(T===je.CODE_CODE_C?$=$.substring(0,yi-2):$=$.substring(0,yi-1));const Fr=(g[1]+g[0])/2,Ut=q+Ln/2,_r=C.length,Cn=new Uint8Array(_r);for(let sa=0;sa<_r;sa++)Cn[sa]=C[sa];const Xa=[new Ue(Fr,a),new Ue(Ut,a)];return new Me($,Cn,0,Xa,Ce.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class Dr extends Ar{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=Dr.findAsteriskPattern(l,h),x=l.getNextSet(g[1]),E=l.getSize(),C,T;do{Dr.recordPattern(l,x,h);let J=Dr.toNarrowWidePattern(h);if(J<0)throw new te;C=Dr.patternToChar(J),this.decodeRowResult+=C,T=x;for(let ne of h)x+=ne;x=l.getNextSet(x)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let J of h)D+=J;let F=x-T-D;if(x!==E&&F*2<D)throw new te;if(this.usingCheckDigit){let J=this.decodeRowResult.length-1,ne=0;for(let fe=0;fe<J;fe++)ne+=Dr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(J)!==Dr.ALPHABET_STRING.charAt(ne%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,J)}if(this.decodeRowResult.length===0)throw new te;let $;this.extendedMode?$=Dr.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let q=(g[1]+g[0])/2,Z=T+D/2;return new Me($,null,0,[new Ue(q,a),new Ue(Z,a)],Ce.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),h=a.getNextSet(0),g=0,x=h,E=!1,C=l.length;for(let T=h;T<u;T++)if(a.get(T)!==E)l[g]++;else{if(g===C-1){if(this.toNarrowWidePattern(l)===Dr.ASTERISK_ENCODING&&a.isRange(Math.max(0,x-Math.floor((T-x)/2)),x,!1))return[x,T];x+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,E=!E}throw new te}static toNarrowWidePattern(a){let l=a.length,u=0,h;do{let g=2147483647;for(let C of a)C<g&&C>u&&(g=C);u=g,h=0;let x=0,E=0;for(let C=0;C<l;C++){let T=a[C];T>u&&(E|=1<<l-1-C,h++,x+=T)}if(h===3){for(let C=0;C<l&&h>0;C++){let T=a[C];if(T>u&&(h--,T*2>=x))return-1}return E}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<Dr.CHARACTER_ENCODINGS.length;l++)if(Dr.CHARACTER_ENCODINGS[l]===a)return Dr.ALPHABET_STRING.charAt(l);if(a===Dr.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(a){let l=a.length,u="";for(let h=0;h<l;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let x=a.charAt(h+1),E="\0";switch(g){case"+":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)+32);else throw new H;break;case"$":if(x>="A"&&x<="Z")E=String.fromCharCode(x.charCodeAt(0)-64);else throw new H;break;case"%":if(x>="A"&&x<="E")E=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")E=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")E=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")E="\0";else if(x==="V")E="@";else if(x==="W")E="`";else if(x==="X"||x==="Y"||x==="Z")E="";else throw new H;break;case"/":if(x>="A"&&x<="O")E=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")E=":";else throw new H;break}u+=E,h++}else u+=g}return u}}Dr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Dr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Dr.ASTERISK_ENCODING=148;class Ft extends Ar{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,u){let h=this.decodeStart(l),g=this.decodeEnd(l),x=new Ae;Ft.decodeMiddle(l,h[1],g[0],x);let E=x.toString(),C=null;u!=null&&(C=u.get(V.ALLOWED_LENGTHS)),C==null&&(C=Ft.DEFAULT_ALLOWED_LENGTHS);let T=E.length,D=!1,F=0;for(let Z of C){if(T===Z){D=!0;break}Z>F&&(F=Z)}if(!D&&T>F&&(D=!0),!D)throw new H;const $=[new Ue(h[1],a),new Ue(g[0],a)];return new Me(E,null,0,$,Ce.ITF,new Date().getTime())}static decodeMiddle(a,l,u,h){let g=new Int32Array(10),x=new Int32Array(5),E=new Int32Array(5);for(g.fill(0),x.fill(0),E.fill(0);l<u;){Ar.recordPattern(a,l,g);for(let T=0;T<5;T++){let D=2*T;x[T]=g[D],E[T]=g[D+1]}let C=Ft.decodeDigit(x);h.append(C.toString()),C=this.decodeDigit(E),h.append(C.toString()),g.forEach(function(T){l+=T})}}decodeStart(a){let l=Ft.skipWhiteSpace(a),u=Ft.findGuardPattern(a,l,Ft.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let h=l-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new te}static skipWhiteSpace(a){const l=a.getSize(),u=a.getNextSet(0);if(u===l)throw new te;return u}decodeEnd(a){a.reverse();try{let l=Ft.skipWhiteSpace(a),u;try{u=Ft.findGuardPattern(a,l,Ft.END_PATTERN_REVERSED[0])}catch(g){g instanceof te&&(u=Ft.findGuardPattern(a,l,Ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,l,u){let h=u.length,g=new Int32Array(h),x=a.getSize(),E=!1,C=0,T=l;g.fill(0);for(let D=l;D<x;D++)if(a.get(D)!==E)g[C]++;else{if(C===h-1){if(Ar.patternMatchVariance(g,u,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return[T,D];T+=g[0]+g[1],O.arraycopy(g,2,g,0,C-1),g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,E=!E}throw new te}static decodeDigit(a){let l=Ft.MAX_AVG_VARIANCE,u=-1,h=Ft.PATTERNS.length;for(let g=0;g<h;g++){let x=Ft.PATTERNS[g],E=Ar.patternMatchVariance(a,x,Ft.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=g):E===l&&(u=-1)}if(u>=0)return u%10;throw new te}}Ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ft.MAX_AVG_VARIANCE=.38,Ft.MAX_INDIVIDUAL_VARIANCE=.5,Ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ft.START_PATTERN=Int32Array.from([1,1,1,1]),Ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tr extends Ar{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),u=tr.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let x=u[0];h=u[1];let E=x-(h-x);E>=0&&(l=a.isRange(E,x,!1))}return u}static checkChecksum(a){return tr.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return tr.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}static decodeEnd(a,l){return tr.findGuardPattern(a,l,!1,tr.START_END_PATTERN,new Int32Array(tr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,u,h){return this.findGuardPattern(a,l,u,h,new Int32Array(h.length))}static findGuardPattern(a,l,u,h,g){let x=a.getSize();l=u?a.getNextUnset(l):a.getNextSet(l);let E=0,C=l,T=h.length,D=u;for(let F=l;F<x;F++)if(a.get(F)!==D)g[E]++;else{if(E===T-1){if(Ar.patternMatchVariance(g,h,tr.MAX_INDIVIDUAL_VARIANCE)<tr.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=g[0]+g[1];let $=g.slice(2,g.length-1);for(let q=0;q<E-1;q++)g[q]=$[q];g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,D=!D}throw new te}static decodeDigit(a,l,u,h){this.recordPattern(a,u,l);let g=this.MAX_AVG_VARIANCE,x=-1,E=h.length;for(let C=0;C<E;C++){let T=h[C],D=Ar.patternMatchVariance(l,T,tr.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,x=C)}if(x>=0)return x;throw new te}}tr.MAX_AVG_VARIANCE=.48,tr.MAX_INDIVIDUAL_VARIANCE=.7,tr.START_END_PATTERN=Int32Array.from([1,1,1]),tr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Va{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),x=h.toString(),E=Va.parseExtensionString(x),C=[new Ue((u[0]+u[1])/2,a),new Ue(g,a)],T=new Me(x,null,0,C,Ce.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let T=0;T<5&&x<g;T++){let D=tr.decodeDigit(a,h,x,tr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<4-T),T!==4&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==5)throw new te;let C=this.determineCheckDigit(E);if(Va.extensionChecksum(u.toString())!==C)throw new te;return x}static extensionChecksum(a){let l=a.length,u=0;for(let h=l-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=l-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new te}static parseExtensionString(a){if(a.length!==5)return null;let l=Va.parseExtension5String(a);return l==null?null:new Map([[it.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,x=g<10?"0"+g:g.toString();return l+h+"."+x}}class mo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),x=h.toString(),E=mo.parseExtensionString(x),C=[new Ue((u[0]+u[1])/2,a),new Ue(g,a)],T=new Me(x,null,0,C,Ce.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let C=0;C<2&&x<g;C++){let T=tr.decodeDigit(a,h,x,tr.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let D of h)x+=D;T>=10&&(E|=1<<1-C),C!==1&&(x=a.getNextSet(x),x=a.getNextUnset(x))}if(u.length!==2)throw new te;if(parseInt(u.toString())%4!==E)throw new te;return x}static parseExtensionString(a){return a.length!==2?null:new Map([[it.ISSUE_NUMBER,parseInt(a)]])}}class bl{static decodeRow(a,l,u){let h=tr.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Va().decodeRow(a,l,h)}catch{return new mo().decodeRow(a,l,h)}}}bl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ot extends tr{constructor(){super(),this.decodeRowStringBuffer="",Ot.L_AND_G_PATTERNS=Ot.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=Ot.L_PATTERNS[a-10],u=new Int32Array(l.length);for(let h=0;h<l.length;h++)u[h]=l[l.length-h-1];Ot.L_AND_G_PATTERNS[a]=u}}decodeRow(a,l,u){let h=Ot.findStartGuardPattern(l),g=u==null?null:u.get(V.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Oe=new Ue((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Oe)}let x=this.decodeMiddle(l,h,this.decodeRowStringBuffer),E=x.rowOffset,C=x.resultString;if(g!=null){const Oe=new Ue(E,a);g.foundPossibleResultPoint(Oe)}let T=this.decodeEnd(l,E);if(g!=null){const Oe=new Ue((T[0]+T[1])/2,a);g.foundPossibleResultPoint(Oe)}let D=T[1],F=D+(D-T[0]);if(F>=l.getSize()||!l.isRange(D,F,!1))throw new te;let $=C.toString();if($.length<8)throw new H;if(!Ot.checkChecksum($))throw new S;let q=(h[1]+h[0])/2,Z=(T[1]+T[0])/2,J=this.getBarcodeFormat(),ne=[new Ue(q,a),new Ue(Z,a)],fe=new Me($,null,0,ne,J,new Date().getTime()),Te=0;try{let Oe=bl.decodeRow(a,l,T[1]);fe.putMetadata(it.UPC_EAN_EXTENSION,Oe.getText()),fe.putAllMetadata(Oe.getResultMetadata()),fe.addResultPoints(Oe.getResultPoints()),Te=Oe.getText().length}catch{}let Pe=u==null?null:u.get(V.ALLOWED_EAN_EXTENSIONS);if(Pe!=null){let Oe=!1;for(let Ct in Pe)if(Te.toString()===Ct){Oe=!0;break}if(!Oe)throw new te}return fe}decodeEnd(a,l){return Ot.findGuardPattern(a,l,!1,Ot.START_END_PATTERN,new Int32Array(Ot.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Ot.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return Ot.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}}class Qn extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1],E=0;for(let T=0;T<6&&x<g;T++){let D=Ot.decodeDigit(a,h,x,Ot.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<5-T)}u=Qn.determineFirstDigit(u,E),x=Ot.findGuardPattern(a,x,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&x<g;T++){let D=Ot.decodeDigit(a,h,x,Ot.L_PATTERNS);u+=String.fromCharCode(48+D);for(let F of h)x+=F}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new te}}Qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wc extends Ot{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x=l[1];for(let C=0;C<4&&x<g;C++){let T=Ot.decodeDigit(a,h,x,Ot.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)x+=D}x=Ot.findGuardPattern(a,x,!0,Ot.MIDDLE_PATTERN,new Int32Array(Ot.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&x<g;C++){let T=Ot.decodeDigit(a,h,x,Ot.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)x+=D}return{rowOffset:x,resultString:u}}getBarcodeFormat(){return Ce.EAN_8}}class Vc extends Ot{constructor(){super(...arguments),this.ean13Reader=new Qn}getBarcodeFormat(){return Ce.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,u))}decodeMiddle(a,l,u){return this.ean13Reader.decodeMiddle(a,l,u)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let u=new Me(l.substring(1),null,null,a.getResultPoints(),Ce.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new te}reset(){this.ean13Reader.reset()}}class Jn extends Ot{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let x=l[1],E=0;for(let T=0;T<6&&x<g;T++){const D=Jn.decodeDigit(a,h,x,Jn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)x+=F;D>=10&&(E|=1<<5-T)}let C=Jn.determineNumSysAndCheckDigit(u,E);return{rowOffset:x,resultString:C}}decodeEnd(a,l){return Jn.findGuardPatternWithoutCounters(a,l,!0,Jn.MIDDLE_END_PATTERN)}checkChecksum(a){return Ot.checkChecksum(Jn.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),x=String.fromCharCode(48+h);return g+a+x}throw te.getNotFoundInstance()}getBarcodeFormat(){return Ce.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Ae;u.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(h),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}Jn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Jn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class El extends Ar{constructor(a){super();let l=a==null?null:a.get(V.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new Qn),u.push(new Vc),u.push(new Wc),u.push(new Jn)):(l.indexOf(Ce.EAN_13)>-1&&u.push(new Qn),l.indexOf(Ce.UPC_A)>-1&&u.push(new Vc),l.indexOf(Ce.EAN_8)>-1&&u.push(new Wc),l.indexOf(Ce.UPC_E)>-1&&u.push(new Jn)),this.readers=u}decodeRow(a,l,u){for(let h of this.readers)try{const g=h.decodeRow(a,l,u),x=g.getBarcodeFormat()===Ce.EAN_13&&g.getText().charAt(0)==="0",E=u==null?null:u.get(V.POSSIBLE_FORMATS),C=E==null||E.includes(Ce.UPC_A);if(x&&C){const T=g.getRawBytes(),D=new Me(g.getText().substring(1),T,T?T.length:null,g.getResultPoints(),Ce.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new te}reset(){for(let a of this.readers)a.reset()}}class Jr extends Ar{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(Ar.patternMatchVariance(a,l[u],Jr.MAX_INDIVIDUAL_VARIANCE)<Jr.MAX_AVG_VARIANCE)return u;throw new te}static count(a){return bt.sum(new Int32Array(a))}static increment(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]>h&&(h=l[g],u=g);a[u]++}static decrement(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]<h&&(h=l[g],u=g);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],u=l+a[2]+a[3],h=l/u;if(h>=Jr.MIN_FINDER_PATTERN_RATIO&&h<=Jr.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let E of a)E>x&&(x=E),E<g&&(g=E);return x<10*g}return!1}}Jr.MAX_AVG_VARIANCE=.2,Jr.MAX_INDIVIDUAL_VARIANCE=.45,Jr.MIN_FINDER_PATTERN_RATIO=9.5/12,Jr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Aa{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof Aa))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class go{constructor(a,l,u,h,g){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new Ue(u,g)),this.resultPoints.push(new Ue(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof go))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class jn{constructor(){}static getRSSvalue(a,l,u){let h=0;for(let C of a)h+=C;let g=0,x=0,E=a.length;for(let C=0;C<E-1;C++){let T;for(T=1,x|=1<<C;T<a[C];T++,x&=~(1<<C)){let D=jn.combins(h-T-1,E-C-2);if(u&&x===0&&h-T-(E-C-1)>=E-C-1&&(D-=jn.combins(h-T-(E-C),E-C-2)),E-C-1>1){let F=0;for(let $=h-T-(E-C-2);$>l;$--)F+=jn.combins(h-T-$-1,E-C-3);D-=F*(E-1-C)}else h-T>l&&D--;g+=D}h-=T}return g}static combins(a,l){let u,h;a-l>l?(h=l,u=a-l):(h=a-l,u=l);let g=1,x=1;for(let E=a;E>u;E--)g*=E,x<=h&&(g/=x,x++);for(;x<=h;)g/=x,x++;return g}}class Hc{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let u=12*l,h=new z(u),g=0,E=a[0].getRightChar().getValue();for(let C=11;C>=0;--C)(E&1<<C)!=0&&h.set(g),g++;for(let C=1;C<a.length;++C){let T=a[C],D=T.getLeftChar().getValue();for(let F=11;F>=0;--F)(D&1<<F)!=0&&h.set(g),g++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&h.set(g),g++}}return h}}class hi{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gc{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class Vr extends Gc{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===Vr.FNC1}}Vr.FNC1="$";class Di extends Gc{constructor(a,l,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class An extends Gc{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new H;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===An.FNC1}isSecondDigitFNC1(){return this.secondDigit===An.FNC1}isAnyFNC1(){return this.firstDigit===An.FNC1||this.secondDigit===An.FNC1}}An.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new te;let l=a.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],a):ze.processFixedAI(2,g[1],a);if(a.length<3)throw new te;let u=a.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],a):ze.processFixedAI(3,g[1],a);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);if(a.length<4)throw new te;let h=a.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);throw new te}static processFixedAI(a,l,u){if(u.length<a)throw new te;let h=u.substring(0,a);if(u.length<a+l)throw new te;let g=u.substring(a,a+l),x=u.substring(a+l),E="("+h+")"+g,C=ze.parseFieldsInGeneralPurpose(x);return C==null?E:E+C}static processVariableAI(a,l,u){let h=u.substring(0,a),g;u.length<a+l?g=u.length:g=a+l;let x=u.substring(a,g),E=u.substring(g),C="("+h+")"+x,T=ze.parseFieldsInGeneralPurpose(E);return T==null?C:C+T}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Is{constructor(a){this.buffer=new Ae,this.information=a}decodeAllCodes(a,l){let u=l,h=null;do{let g=this.decodeGeneralPurposeField(u,h),x=ze.parseFieldsInGeneralPurpose(g.getNewString());if(x!=null&&a.append(x),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new An(this.information.getSize(),An.FNC1,An.FNC1):new An(this.information.getSize(),g-1,An.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),u=(l-8)/11,h=(l-8)%11;return new An(a+7,u,h)}extractNumericValueFromBitArray(a,l){return Is.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,u){let h=0;for(let g=0;g<u;++g)a.get(l+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new Di(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new Di(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new Di(this.current.getPosition(),this.buffer.toString()):l=new Di(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new hi(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new Di(this.current.getPosition(),this.buffer.toString());return new hi(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new hi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new Di(this.current.getPosition(),this.buffer.toString());return new hi(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new hi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new Di(this.current.getPosition(),this.buffer.toString());return new hi(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new hi(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new Vr(a+5,Vr.FNC1);if(l>=5&&l<15)return new Vr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new Vr(a+7,""+(u+1));if(u>=90&&u<116)return new Vr(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new H}return new Vr(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new Vr(a+5,Vr.FNC1);if(l>=5&&l<15)return new Vr(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new Vr(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new vt("Decoding invalid alphanumeric value: "+u)}return new Vr(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class qc{constructor(a){this.information=a,this.generalDecoder=new Is(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Mn extends qc{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}Mn.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+l).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}Mn.GTIN_SIZE=40;class ei extends Mn{constructor(a){super(a)}parseInformation(){let a=new Ae;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(ei.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,ei.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,ei.HEADER_SIZE+44)}}ei.HEADER_SIZE=4;class vo extends qc{constructor(a){super(a)}parseInformation(){let a=new Ae;return this.getGeneralDecoder().decodeAllCodes(a,vo.HEADER_SIZE)}}vo.HEADER_SIZE=5;class xo extends Mn{constructor(a){super(a)}encodeCompressedWeight(a,l,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(a,h);let g=this.checkWeight(h),x=1e5;for(let E=0;E<5;++E)g/x===0&&a.append("0"),x/=10;a.append(g)}}class Li extends xo{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Li.HEADER_SIZE+xo.GTIN_SIZE+Li.WEIGHT_SIZE)throw new te;let a=new Ae;return this.encodeCompressedGtin(a,Li.HEADER_SIZE),this.encodeCompressedWeight(a,Li.HEADER_SIZE+xo.GTIN_SIZE,Li.WEIGHT_SIZE),a.toString()}}Li.HEADER_SIZE=5,Li.WEIGHT_SIZE=15;class Gd extends Li{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class qd extends Li{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class pi extends Mn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<pi.HEADER_SIZE+Mn.GTIN_SIZE)throw new te;let a=new Ae;this.encodeCompressedGtin(a,pi.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(pi.HEADER_SIZE+Mn.GTIN_SIZE,pi.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(pi.HEADER_SIZE+Mn.GTIN_SIZE+pi.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}pi.HEADER_SIZE=8,pi.LAST_DIGIT_SIZE=2;class hn extends Mn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<hn.HEADER_SIZE+Mn.GTIN_SIZE)throw new te;let a=new Ae;this.encodeCompressedGtin(a,hn.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Mn.GTIN_SIZE,hn.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+Mn.GTIN_SIZE+hn.LAST_DIGIT_SIZE,hn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(hn.HEADER_SIZE+Mn.GTIN_SIZE+hn.LAST_DIGIT_SIZE+hn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}hn.HEADER_SIZE=8,hn.LAST_DIGIT_SIZE=2,hn.FIRST_THREE_DIGITS_SIZE=10;class rr extends xo{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=rr.HEADER_SIZE+rr.GTIN_SIZE+rr.WEIGHT_SIZE+rr.DATE_SIZE)throw new te;let a=new Ae;return this.encodeCompressedGtin(a,rr.HEADER_SIZE),this.encodeCompressedWeight(a,rr.HEADER_SIZE+rr.GTIN_SIZE,rr.WEIGHT_SIZE),this.encodeCompressedDate(a,rr.HEADER_SIZE+rr.GTIN_SIZE+rr.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,rr.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let x=u;x/10==0&&a.append("0"),a.append(x),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}rr.HEADER_SIZE=8,rr.WEIGHT_SIZE=20,rr.DATE_SIZE=16;function Kd(B){try{if(B.get(1))return new ei(B);if(!B.get(2))return new vo(B);switch(Is.extractNumericValueFromBitArray(B,1,4)){case 4:return new Gd(B);case 5:return new qd(B)}switch(Is.extractNumericValueFromBitArray(B,1,5)){case 12:return new pi(B);case 13:return new hn(B)}switch(Is.extractNumericValueFromBitArray(B,1,7)){case 56:return new rr(B,"310","11");case 57:return new rr(B,"320","11");case 58:return new rr(B,"310","13");case 59:return new rr(B,"320","13");case 60:return new rr(B,"310","15");case 61:return new rr(B,"320","15");case 62:return new rr(B,"310","17");case 63:return new rr(B,"320","17")}}catch(a){throw console.log(a),new vt("unknown decoder: "+B)}}class $t{constructor(a,l,u,h){this.leftchar=a,this.rightchar=l,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof $t?$t.equalsOrNull(a.leftchar,l.leftchar)&&$t.equalsOrNull(a.rightchar,l.rightchar)&&$t.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:$t.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Kc{constructor(a,l,u){this.pairs=a,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof Kc?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let u;return a.forEach((h,g)=>{l.forEach(x=>{h.getLeftChar().getValue()===x.getLeftChar().getValue()&&h.getRightChar().getValue()===x.getRightChar().getValue()&&h.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ee extends Jr{constructor(a){super(...arguments),this.pairs=new Array(Ee.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ee.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Ee.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(g){if(g instanceof te){if(!this.pairs.length)throw new te;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new te}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let u=l;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let x of a)this.pairs.push(x.getPairs());if(this.pairs.push(h.getPairs()),!Ee.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(x){this.verbose&&console.log(x)}}throw new te}static isValidSequence(a){for(let l of Ee.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,l){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let x=this.rows[u];if(x.getRowNumber()>a){g=x.isEquivalent(this.pairs);break}h=x.isEquivalent(this.pairs),u++}g||h||Ee.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Kc(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let u of l)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if($t.equals(h,g))break}}static isPartialRow(a,l){for(let u of l){let h=!0;for(let g of a){let x=!1;for(let E of u.getPairs())if(g.equals(E)){x=!0;break}if(!x){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=Hc.buildBitArray(a),h=Kd(l).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),x=a[a.length-1].getFinderPattern().getResultPoints(),E=[g[0],g[1],x[0],x[1]];return new Me(h,null,null,E,Ce.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let E=1;E<this.pairs.size();++E){let C=this.pairs.get(E);h+=C.getLeftChar().getChecksumPortion(),g++;let T=C.getRightChar();T!=null&&(h+=T.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==l.getValue()}static getNextSecondBar(a,l){let u;return a.get(l)?(u=a.getNextUnset(l),u=a.getNextSet(u)):(u=a.getNextSet(l),u=a.getNextUnset(u)),u}retrieveNextPair(a,l,u){let h=l.length%2==0;this.startFromEven&&(h=!h);let g,x=!0,E=-1;do this.findNextPair(a,l,E),g=this.parseFoundFinderPattern(a,u,h),g==null?E=Ee.getNextSecondBar(a,this.startEnd[0]):x=!1;while(x);let C=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new te;let T;try{T=this.decodeDataCharacter(a,g,h,!1)}catch(D){T=null,this.verbose&&console.log(D)}return new $t(C,T,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),x;u>=0?x=u:this.isEmptyPair(l)?x=0:x=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let C=!1;for(;x<g&&(C=!a.get(x),!!C);)x++;let T=0,D=x;for(let F=x;F<g;F++)if(a.get(F)!=C)h[T]++;else{if(T==3){if(E&&Ee.reverseCounters(h),Ee.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=F;return}E&&Ee.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,C=!C}throw new te}static reverseCounters(a){let l=a.length;for(let u=0;u<l/2;++u){let h=a[u];a[u]=a[l-u-1],a[l-u-1]=h}}parseFoundFinderPattern(a,l,u){let h,g,x;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,h=this.startEnd[0]-T,g=T,x=this.startEnd[1]}else g=this.startEnd[0],x=a.getNextUnset(this.startEnd[1]+1),h=x-this.startEnd[1];let E=this.getDecodeFinderCounters();O.arraycopy(E,0,E,1,E.length-1),E[0]=h;let C;try{C=this.parseFinderValue(E,Ee.FINDER_PATTERNS)}catch{return null}return new go(C,[g,x],g,x,l)}decodeDataCharacter(a,l,u,h){let g=this.getDataCharacterCounters();for(let Ut=0;Ut<g.length;Ut++)g[Ut]=0;if(h)Ee.recordPatternInReverse(a,l.getStartEnd()[0],g);else{Ee.recordPattern(a,l.getStartEnd()[1],g);for(let Ut=0,_r=g.length-1;Ut<_r;Ut++,_r--){let Cn=g[Ut];g[Ut]=g[_r],g[_r]=Cn}}let x=17,E=bt.sum(new Int32Array(g))/x,C=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-C)/C>.3)throw new te;let T=this.getOddCounts(),D=this.getEvenCounts(),F=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Ut=0;Ut<g.length;Ut++){let _r=1*g[Ut]/E,Cn=_r+.5;if(Cn<1){if(_r<.3)throw new te;Cn=1}else if(Cn>8){if(_r>8.7)throw new te;Cn=8}let Xa=Ut/2;(Ut&1)==0?(T[Xa]=Cn,F[Xa]=_r-Cn):(D[Xa]=Cn,$[Xa]=_r-Cn)}this.adjustOddEvenCounts(x);let q=4*l.getValue()+(u?0:2)+(h?0:1)-1,Z=0,J=0;for(let Ut=T.length-1;Ut>=0;Ut--){if(Ee.isNotA1left(l,u,h)){let _r=Ee.WEIGHTS[q][2*Ut];J+=T[Ut]*_r}Z+=T[Ut]}let ne=0;for(let Ut=D.length-1;Ut>=0;Ut--)if(Ee.isNotA1left(l,u,h)){let _r=Ee.WEIGHTS[q][2*Ut+1];ne+=D[Ut]*_r}let fe=J+ne;if((Z&1)!=0||Z>13||Z<4)throw new te;let Te=(13-Z)/2,Pe=Ee.SYMBOL_WIDEST[Te],Oe=9-Pe,Ct=jn.getRSSvalue(T,Pe,!0),yt=jn.getRSSvalue(D,Oe,!1),Ln=Ee.EVEN_TOTAL_SUBSET[Te],yi=Ee.GSUM[Te],Fr=Ct*Ln+yt+yi;return new Aa(Fr,fe)}static isNotA1left(a,l,u){return!(a.getValue()==0&&l&&u)}adjustOddEvenCounts(a){let l=bt.sum(new Int32Array(this.getOddCounts())),u=bt.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let x=!1,E=!1;u>13?E=!0:u<4&&(x=!0);let C=l+u-a,T=(l&1)==1,D=(u&1)==0;if(C==1)if(T){if(D)throw new te;g=!0}else{if(!D)throw new te;E=!0}else if(C==-1)if(T){if(D)throw new te;h=!0}else{if(!D)throw new te;x=!0}else if(C==0){if(T){if(!D)throw new te;l<u?(h=!0,E=!0):(g=!0,x=!0)}else if(D)throw new te}else throw new te;if(h){if(g)throw new te;Ee.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Ee.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(E)throw new te;Ee.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ee.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ee.SYMBOL_WIDEST=[7,5,4,3,1],Ee.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ee.GSUM=[0,348,1388,2948,3988],Ee.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ee.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ee.FINDER_PAT_A=0,Ee.FINDER_PAT_B=1,Ee.FINDER_PAT_C=2,Ee.FINDER_PAT_D=3,Ee.FINDER_PAT_E=4,Ee.FINDER_PAT_F=5,Ee.FINDER_PATTERN_SEQUENCES=[[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_C,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_C],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_E,Ee.FINDER_PAT_B,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F],[Ee.FINDER_PAT_A,Ee.FINDER_PAT_A,Ee.FINDER_PAT_B,Ee.FINDER_PAT_B,Ee.FINDER_PAT_C,Ee.FINDER_PAT_D,Ee.FINDER_PAT_D,Ee.FINDER_PAT_E,Ee.FINDER_PAT_E,Ee.FINDER_PAT_F,Ee.FINDER_PAT_F]],Ee.MAX_PAIRS=11;class Xd extends Aa{constructor(a,l,u){super(a,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Yt extends Jr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,u){const h=this.decodePair(l,!1,a,u);Yt.addOrTally(this.possibleLeftPairs,h),l.reverse();let g=this.decodePair(l,!0,a,u);Yt.addOrTally(this.possibleRightPairs,g),l.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Yt.checkChecksum(x,E))return Yt.constructResult(x,E)}throw new te}static addOrTally(a,l){if(l==null)return;let u=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),u=!0;break}u||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let u=4537077*a.getValue()+l.getValue(),h=new String(u).toString(),g=new Ae;for(let T=13-h.length;T>0;T--)g.append("0");g.append(h);let x=0;for(let T=0;T<13;T++){let D=g.charAt(T).charCodeAt(0)-48;x+=(T&1)===0?3*D:D}x=10-x%10,x===10&&(x=0),g.append(x.toString());let E=a.getFinderPattern().getResultPoints(),C=l.getFinderPattern().getResultPoints();return new Me(g.toString(),null,0,[E[0],E[1],C[0],C[1]],Ce.RSS_14,new Date().getTime())}static checkChecksum(a,l){let u=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,l,u,h){try{let g=this.findFinderPattern(a,l),x=this.parseFoundFinderPattern(a,u,l,g),E=h==null?null:h.get(V.NEED_RESULT_POINT_CALLBACK);if(E!=null){let D=(g[0]+g[1])/2;l&&(D=a.getSize()-1-D),E.foundPossibleResultPoint(new Ue(D,u))}let C=this.decodeDataCharacter(a,x,!0),T=this.decodeDataCharacter(a,x,!1);return new Xd(1597*C.getValue()+T.getValue(),C.getChecksumPortion()+4*T.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(a,l,u){let h=this.getDataCharacterCounters();for(let ne=0;ne<h.length;ne++)h[ne]=0;if(u)Ar.recordPatternInReverse(a,l.getStartEnd()[0],h);else{Ar.recordPattern(a,l.getStartEnd()[1]+1,h);for(let ne=0,fe=h.length-1;ne<fe;ne++,fe--){let Te=h[ne];h[ne]=h[fe],h[fe]=Te}}let g=u?16:15,x=bt.sum(new Int32Array(h))/g,E=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ne=0;ne<h.length;ne++){let fe=h[ne]/x,Te=Math.floor(fe+.5);Te<1?Te=1:Te>8&&(Te=8);let Pe=Math.floor(ne/2);(ne&1)===0?(E[Pe]=Te,T[Pe]=fe-Te):(C[Pe]=Te,D[Pe]=fe-Te)}this.adjustOddEvenCounts(u,g);let F=0,$=0;for(let ne=E.length-1;ne>=0;ne--)$*=9,$+=E[ne],F+=E[ne];let q=0,Z=0;for(let ne=C.length-1;ne>=0;ne--)q*=9,q+=C[ne],Z+=C[ne];let J=$+3*q;if(u){if((F&1)!==0||F>12||F<4)throw new te;let ne=(12-F)/2,fe=Yt.OUTSIDE_ODD_WIDEST[ne],Te=9-fe,Pe=jn.getRSSvalue(E,fe,!1),Oe=jn.getRSSvalue(C,Te,!0),Ct=Yt.OUTSIDE_EVEN_TOTAL_SUBSET[ne],yt=Yt.OUTSIDE_GSUM[ne];return new Aa(Pe*Ct+Oe+yt,J)}else{if((Z&1)!==0||Z>10||Z<4)throw new te;let ne=(10-Z)/2,fe=Yt.INSIDE_ODD_WIDEST[ne],Te=9-fe,Pe=jn.getRSSvalue(E,fe,!0),Oe=jn.getRSSvalue(C,Te,!1),Ct=Yt.INSIDE_ODD_TOTAL_SUBSET[ne],yt=Yt.INSIDE_GSUM[ne];return new Aa(Oe*Ct+Pe+yt,J)}}findFinderPattern(a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,x=0;for(;x<h&&(g=!a.get(x),l!==g);)x++;let E=0,C=x;for(let T=x;T<h;T++)if(a.get(T)!==g)u[E]++;else{if(E===3){if(Jr.isFinderPattern(u))return[C,T];C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,g=!g}throw new te}parseFoundFinderPattern(a,l,u,h){let g=a.get(h[0]),x=h[0]-1;for(;x>=0&&g!==a.get(x);)x--;x++;const E=h[0]-x,C=this.getDecodeFinderCounters(),T=new Int32Array(C.length);O.arraycopy(C,0,T,1,C.length-1),T[0]=E;const D=this.parseFinderValue(T,Yt.FINDER_PATTERNS);let F=x,$=h[1];return u&&(F=a.getSize()-1-F,$=a.getSize()-1-$),new go(D,[x,h[1]],F,$,l)}adjustOddEvenCounts(a,l){let u=bt.sum(new Int32Array(this.getOddCounts())),h=bt.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1,E=!1,C=!1;a?(u>12?x=!0:u<4&&(g=!0),h>12?C=!0:h<4&&(E=!0)):(u>11?x=!0:u<5&&(g=!0),h>10?C=!0:h<4&&(E=!0));let T=u+h-l,D=(u&1)===(a?1:0),F=(h&1)===1;if(T===1)if(D){if(F)throw new te;x=!0}else{if(!F)throw new te;C=!0}else if(T===-1)if(D){if(F)throw new te;g=!0}else{if(!F)throw new te;E=!0}else if(T===0){if(D){if(!F)throw new te;u<h?(g=!0,C=!0):(x=!0,E=!0)}else if(F)throw new te}else throw new te;if(g){if(x)throw new te;Jr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Jr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new te;Jr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&Jr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Yt.OUTSIDE_GSUM=[0,161,961,2015,2715],Yt.INSIDE_GSUM=[0,336,1036,1516],Yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Yt.INSIDE_ODD_WIDEST=[2,4,6,8],Yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ts extends Ar{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const u=a?a.get(V.POSSIBLE_FORMATS):null,h=a&&a.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ce.EAN_13)||u.includes(Ce.UPC_A)||u.includes(Ce.EAN_8)||u.includes(Ce.UPC_E))&&this.readers.push(new El(a)),u.includes(Ce.CODE_39)&&this.readers.push(new Dr(h)),u.includes(Ce.CODE_128)&&this.readers.push(new je),u.includes(Ce.ITF)&&this.readers.push(new Ft),u.includes(Ce.RSS_14)&&this.readers.push(new Yt),u.includes(Ce.RSS_EXPANDED)&&this.readers.push(new Ee(this.verbose))):(this.readers.push(new El(a)),this.readers.push(new Dr),this.readers.push(new El(a)),this.readers.push(new je),this.readers.push(new Ft),this.readers.push(new Yt),this.readers.push(new Ee(this.verbose)))}decodeRow(a,l,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,u)}catch{}throw new te}reset(){this.readers.forEach(a=>a.reset())}}class Yd extends Be{constructor(a=500,l){super(new Ts(l),a,l)}}class kt{constructor(a,l,u){this.ecCodewords=a,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(a,l,u,h,g,x){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=x;let E=0;const C=x.getECCodewords(),T=x.getECBlocks();for(let D of T)E+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if((a&1)!==0||(l&1)!==0)throw new H;for(let u of It.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===l)return u;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new It(1,10,10,8,8,new kt(5,new Et(1,3))),new It(2,12,12,10,10,new kt(7,new Et(1,5))),new It(3,14,14,12,12,new kt(10,new Et(1,8))),new It(4,16,16,14,14,new kt(12,new Et(1,12))),new It(5,18,18,16,16,new kt(14,new Et(1,18))),new It(6,20,20,18,18,new kt(18,new Et(1,22))),new It(7,22,22,20,20,new kt(20,new Et(1,30))),new It(8,24,24,22,22,new kt(24,new Et(1,36))),new It(9,26,26,24,24,new kt(28,new Et(1,44))),new It(10,32,32,14,14,new kt(36,new Et(1,62))),new It(11,36,36,16,16,new kt(42,new Et(1,86))),new It(12,40,40,18,18,new kt(48,new Et(1,114))),new It(13,44,44,20,20,new kt(56,new Et(1,144))),new It(14,48,48,22,22,new kt(68,new Et(1,174))),new It(15,52,52,24,24,new kt(42,new Et(2,102))),new It(16,64,64,14,14,new kt(56,new Et(2,140))),new It(17,72,72,16,16,new kt(36,new Et(4,92))),new It(18,80,80,18,18,new kt(48,new Et(4,114))),new It(19,88,88,20,20,new kt(56,new Et(4,144))),new It(20,96,96,22,22,new kt(68,new Et(4,174))),new It(21,104,104,24,24,new kt(56,new Et(6,136))),new It(22,120,120,18,18,new kt(68,new Et(6,175))),new It(23,132,132,20,20,new kt(62,new Et(8,163))),new It(24,144,144,22,22,new kt(62,new Et(8,156),new Et(2,155))),new It(25,8,18,6,16,new kt(7,new Et(1,5))),new It(26,8,32,6,14,new kt(11,new Et(1,10))),new It(27,12,26,10,24,new kt(14,new Et(1,16))),new It(28,12,36,10,16,new kt(18,new Et(1,22))),new It(29,16,36,14,16,new kt(24,new Et(1,32))),new It(30,16,48,14,22,new kt(28,new Et(1,49)))]}}It.VERSIONS=It.buildVersions();class Gn{constructor(a){const l=a.getHeight();if(l<8||l>144||(l&1)!==0)throw new H;this.version=Gn.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),u=a.getWidth();return It.getVersionForDimensions(l,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let E=!1,C=!1,T=!1,D=!1;do if(u===g&&h===0&&!E)a[l++]=this.readCorner1(g,x)&255,u-=2,h+=2,E=!0;else if(u===g-2&&h===0&&(x&3)!==0&&!C)a[l++]=this.readCorner2(g,x)&255,u-=2,h+=2,C=!0;else if(u===g+4&&h===2&&(x&7)===0&&!T)a[l++]=this.readCorner3(g,x)&255,u-=2,h+=2,T=!0;else if(u===g-2&&h===0&&(x&7)===4&&!D)a[l++]=this.readCorner4(g,x)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,x)&255),u-=2,h+=2;while(u>=0&&h<x);u+=1,h+=3;do u>=0&&h<x&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,x)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<x);if(l!==this.version.getTotalCodewords())throw new H;return a}readModule(a,l,u,h){return a<0&&(a+=u,l+=4-(u+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,u,h){let g=0;return this.readModule(a-2,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l,u,h)&&(g|=1),g<<=1,this.readModule(a,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a,l,u,h)&&(g|=1),g}readCorner1(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,1,a,l)&&(u|=1),u<<=1,this.readModule(a-1,2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}readCorner2(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-4,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner3(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-3,a,l)&&(u|=1),u<<=1,this.readModule(1,l-2,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner4(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new w("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),x=l/h|0,E=u/g|0,C=x*h,T=E*g,D=new ke(T,C);for(let F=0;F<x;++F){const $=F*h;for(let q=0;q<E;++q){const Z=q*g;for(let J=0;J<h;++J){const ne=F*(h+2)+1+J,fe=$+J;for(let Te=0;Te<g;++Te){const Pe=q*(g+2)+1+Te;if(a.get(Pe,ne)){const Oe=Z+Te;D.set(Oe,fe)}}}}}return D}}class Xc{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const u=l.getECBlocks();let h=0;const g=u.getECBlocks();for(let J of g)h+=J.getCount();const x=new Array(h);let E=0;for(let J of g)for(let ne=0;ne<J.getCount();ne++){const fe=J.getDataCodewords(),Te=u.getECCodewords()+fe;x[E++]=new Xc(fe,new Uint8Array(Te))}const T=x[0].codewords.length-u.getECCodewords(),D=T-1;let F=0;for(let J=0;J<D;J++)for(let ne=0;ne<E;ne++)x[ne].codewords[J]=a[F++];const $=l.getVersionNumber()===24,q=$?8:E;for(let J=0;J<q;J++)x[J].codewords[T-1]=a[F++];const Z=x[0].codewords.length;for(let J=T;J<Z;J++)for(let ne=0;ne<E;ne++){const fe=$?(ne+8)%E:ne,Te=$&&fe>7?J-1:J;x[fe].codewords[Te]=a[F++]}if(F!==a.length)throw new w;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yc{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new w(""+a);let l=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const x=8-u,E=a<x?a:x,C=x-E,T=255>>8-E<<C;l=(g[h]&T)>>C,a-=E,u+=E,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)l=l<<8|g[h]&255,h++,a-=8;if(a>0){const x=8-a,E=255>>x<<x;l=l<<a|(g[h]&E)>>x,u+=a}}return this.bitOffset=u,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lr;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lr||(Lr={}));class mi{static decode(a){const l=new Yc(a),u=new Ae,h=new Ae,g=new Array;let x=Lr.ASCII_ENCODE;do if(x===Lr.ASCII_ENCODE)x=this.decodeAsciiSegment(l,u,h);else{switch(x){case Lr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Lr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Lr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Lr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Lr.BASE256_ENCODE:this.decodeBase256Segment(l,u,g);break;default:throw new H}x=Lr.ASCII_ENCODE}while(x!==Lr.PAD_ENCODE&&l.available()>0);return h.length()>0&&u.append(h.toString()),new ve(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,l,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new H;if(g<=128)return h&&(g+=128),l.append(String.fromCharCode(g-1)),Lr.ASCII_ENCODE;if(g===129)return Lr.PAD_ENCODE;if(g<=229){const x=g-130;x<10&&l.append("0"),l.append(""+x)}else switch(g){case 230:return Lr.C40_ENCODE;case 231:return Lr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Lr.ANSIX12_ENCODE;case 239:return Lr.TEXT_ENCODE;case 240:return Lr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new H;break}}while(a.available()>0);return Lr.ASCII_ENCODE}static decodeC40Segment(a,l){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:u?(l.append(String.fromCharCode(C+224)),u=!1):l.append(String.fromCharCode(C+96)),g=0;break;default:throw new H}}}while(a.available()>0)}static decodeTextSegment(a,l){let u=!1,h=[],g=0;do{if(a.available()===8)return;const x=a.readBits(8);if(x===254)return;this.parseTwoBytes(x,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T),g=0}else throw new H;break;default:throw new H}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const x=u[g];switch(x){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(x<14)l.append(String.fromCharCode(x+44));else if(x<40)l.append(String.fromCharCode(x+51));else throw new H;break}}}while(a.available()>0)}static parseTwoBytes(a,l,u){let h=(a<<8)+l-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let x;if(g===0?x=a.available()/8|0:g<250?x=g:x=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),x<0)throw new H;const E=new Uint8Array(x);for(let C=0;C<x;C++){if(a.available()<8)throw new H;E[C]=this.unrandomize255State(a.readBits(8),h++)}u.push(E);try{l.append(pe.decode(E,de.ISO88591))}catch(C){throw new vt("Platform does not support required encoding: "+C.message)}}static unrandomize255State(a,l){const u=149*l%255+1,h=a-u;return h>=0?h:h+256}}mi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],mi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],mi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],mi.TEXT_SHIFT2_SET_CHARS=mi.C40_SHIFT2_SET_CHARS,mi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Al{constructor(){this.rsDecoder=new _t(Ve.DATA_MATRIX_FIELD_256)}decode(a){const l=new Gn(a),u=l.getVersion(),h=l.readCodewords(),g=Xc.getDataBlocks(h,u);let x=0;for(let T of g)x+=T.getNumDataCodewords();const E=new Uint8Array(x),C=g.length;for(let T=0;T<C;T++){const D=g[T],F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)E[q*C+T]=F[q]}return mi.decode(E)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new S}for(let h=0;h<l;h++)a[h]=u[h]}}class Zt{constructor(a){this.image=a,this.rectangleDetector=new fn(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new te;l=this.shiftToModuleCenter(l);const u=l[0],h=l[1],g=l[2],x=l[3];let E=this.transitionsBetween(u,x)+1,C=this.transitionsBetween(g,x)+1;(E&1)===1&&(E+=1),(C&1)===1&&(C+=1),4*E<7*C&&4*C<7*E&&(E=C=Math.max(E,C));let T=Zt.sampleGrid(this.image,u,h,g,x,E,C);return new Mi(T,[u,h,g,x])}static shiftPoint(a,l,u){let h=(l.getX()-a.getX())/(u+1),g=(l.getY()-a.getY())/(u+1);return new Ue(a.getX()+h,a.getY()+g)}static moveAway(a,l,u){let h=a.getX(),g=a.getY();return h<l?h-=1:h+=1,g<u?g-=1:g+=1,new Ue(h,g)}detectSolid1(a){let l=a[0],u=a[1],h=a[3],g=a[2],x=this.transitionsBetween(l,u),E=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),T=this.transitionsBetween(g,l),D=x,F=[g,l,u,h];return D>E&&(D=E,F[0]=l,F[1]=u,F[2]=h,F[3]=g),D>C&&(D=C,F[0]=u,F[1]=h,F[2]=g,F[3]=l),D>T&&(F[0]=h,F[1]=g,F[2]=l,F[3]=u),F}detectSolid2(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g),E=Zt.shiftPoint(u,h,(x+1)*4),C=Zt.shiftPoint(h,u,(x+1)*4),T=this.transitionsBetween(E,l),D=this.transitionsBetween(C,g);return T<D?(a[0]=l,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=l),a}correctTopRight(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g),E=this.transitionsBetween(u,g),C=Zt.shiftPoint(l,u,(E+1)*4),T=Zt.shiftPoint(h,u,(x+1)*4);x=this.transitionsBetween(C,g),E=this.transitionsBetween(T,g);let D=new Ue(g.getX()+(h.getX()-u.getX())/(x+1),g.getY()+(h.getY()-u.getY())/(x+1)),F=new Ue(g.getX()+(l.getX()-u.getX())/(E+1),g.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(D))return this.isValid(F)?F:null;if(!this.isValid(F))return D;let $=this.transitionsBetween(C,D)+this.transitionsBetween(T,D),q=this.transitionsBetween(C,F)+this.transitionsBetween(T,F);return $>q?D:F}shiftToModuleCenter(a){let l=a[0],u=a[1],h=a[2],g=a[3],x=this.transitionsBetween(l,g)+1,E=this.transitionsBetween(h,g)+1,C=Zt.shiftPoint(l,u,E*4),T=Zt.shiftPoint(h,u,x*4);x=this.transitionsBetween(C,g)+1,E=this.transitionsBetween(T,g)+1,(x&1)===1&&(x+=1),(E&1)===1&&(E+=1);let D=(l.getX()+u.getX()+h.getX()+g.getX())/4,F=(l.getY()+u.getY()+h.getY()+g.getY())/4;l=Zt.moveAway(l,D,F),u=Zt.moveAway(u,D,F),h=Zt.moveAway(h,D,F),g=Zt.moveAway(g,D,F);let $,q;return C=Zt.shiftPoint(l,u,E*4),C=Zt.shiftPoint(C,g,x*4),$=Zt.shiftPoint(u,l,E*4),$=Zt.shiftPoint($,h,x*4),T=Zt.shiftPoint(h,g,E*4),T=Zt.shiftPoint(T,u,x*4),q=Zt.shiftPoint(g,h,E*4),q=Zt.shiftPoint(q,l,x*4),[C,$,T,q]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,u,h,g,x,E){return Le.getInstance().sampleGrid(a,x,E,.5,.5,x-.5,.5,x-.5,E-.5,.5,E-.5,l.getX(),l.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,l){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(l.getX()),x=Math.trunc(l.getY()),E=Math.abs(x-h)>Math.abs(g-u);if(E){let J=u;u=h,h=J,J=g,g=x,x=J}let C=Math.abs(g-u),T=Math.abs(x-h),D=-C/2,F=h<x?1:-1,$=u<g?1:-1,q=0,Z=this.image.get(E?h:u,E?u:h);for(let J=u,ne=h;J!==g;J+=$){let fe=this.image.get(E?ne:J,E?J:ne);if(fe!==Z&&(q++,Z=fe),D+=T,D>0){if(ne===x)break;ne+=F,D-=C}}return q}}class gi{constructor(){this.decoder=new Al}decode(a,l=null){let u,h;if(l!=null&&l.has(V.PURE_BARCODE)){const T=gi.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(T),h=gi.NO_POINTS}else{const T=new Zt(a.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),h=T.getPoints()}const g=u.getRawBytes(),x=new Me(u.getText(),g,8*g.length,h,Ce.DATA_MATRIX,O.currentTimeMillis()),E=u.getByteSegments();E!=null&&x.putMetadata(it.BYTE_SEGMENTS,E);const C=u.getECLevel();return C!=null&&x.putMetadata(it.ERROR_CORRECTION_LEVEL,C),x}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l==null||u==null)throw new te;const h=this.moduleSize(l,a);let g=l[1];const x=u[1];let E=l[0];const T=(u[0]-E+1)/h,D=(x-g+1)/h;if(T<=0||D<=0)throw new te;const F=h/2;g+=F,E+=F;const $=new ke(T,D);for(let q=0;q<D;q++){const Z=g+q*h;for(let J=0;J<T;J++)a.get(E+J*h,Z)&&$.set(J,q)}return $}static moduleSize(a,l){const u=l.getWidth();let h=a[0];const g=a[1];for(;h<u&&l.get(h,g);)h++;if(h===u)throw new te;const x=h-a[0];if(x===0)throw new te;return x}}gi.NO_POINTS=[];class sm extends Be{constructor(a=500){super(new gi,a)}}var Ps;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Ps||(Ps={}));class Wt{constructor(a,l,u){this.value=a,this.stringValue=l,this.bits=u,Wt.FOR_BITS.set(u,this),Wt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Wt.L;case"M":return Wt.M;case"Q":return Wt.Q;case"H":return Wt.H;default:throw new v(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Wt))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=Wt.FOR_BITS.size)throw new w;return Wt.FOR_BITS.get(a)}}Wt.FOR_BITS=new Map,Wt.FOR_VALUE=new Map,Wt.L=new Wt(Ps.L,"L",1),Wt.M=new Wt(Ps.M,"M",0),Wt.Q=new Wt(Ps.Q,"Q",3),Wt.H=new Wt(Ps.H,"H",2);class en{constructor(a){this.errorCorrectionLevel=Wt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return j.bitCount(a^l)}static decodeFormatInformation(a,l){const u=en.doDecodeFormatInformation(a,l);return u!==null?u:en.doDecodeFormatInformation(a^en.FORMAT_INFO_MASK_QR,l^en.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of en.FORMAT_INFO_DECODE_LOOKUP){const x=g[0];if(x===a||x===l)return new en(g[1]);let E=en.numBitsDiffering(a,x);E<u&&(h=g[1],u=E),a!==l&&(E=en.numBitsDiffering(l,x),E<u&&(h=g[1],u=E))}return u<=3?new en(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof en))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}en.FORMAT_INFO_MASK_QR=21522,en.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ie{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const u of l)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class G{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(a,l,...u){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),x=u[0].getECBlocks();for(const E of x)h+=E.getCount()*(E.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new H;try{return this.getVersionForNumber((a-17)/4)}catch{throw new H}}static getVersionForNumber(a){if(a<1||a>40)throw new w;return nt.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<nt.VERSION_DECODE_INFO.length;h++){const g=nt.VERSION_DECODE_INFO[h];if(g===a)return nt.getVersionForNumber(h+7);const x=en.numBitsDiffering(a,g);x<l&&(u=h+7,l=x)}return l<=3?nt.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new ke(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let x=0;x<u;x++)h===0&&(x===0||x===u-1)||h===u-1&&x===0||l.setRegion(this.alignmentPatternCenters[x]-2,g,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),nt.VERSIONS=[new nt(1,new Int32Array(0),new ie(7,new G(1,19)),new ie(10,new G(1,16)),new ie(13,new G(1,13)),new ie(17,new G(1,9))),new nt(2,Int32Array.from([6,18]),new ie(10,new G(1,34)),new ie(16,new G(1,28)),new ie(22,new G(1,22)),new ie(28,new G(1,16))),new nt(3,Int32Array.from([6,22]),new ie(15,new G(1,55)),new ie(26,new G(1,44)),new ie(18,new G(2,17)),new ie(22,new G(2,13))),new nt(4,Int32Array.from([6,26]),new ie(20,new G(1,80)),new ie(18,new G(2,32)),new ie(26,new G(2,24)),new ie(16,new G(4,9))),new nt(5,Int32Array.from([6,30]),new ie(26,new G(1,108)),new ie(24,new G(2,43)),new ie(18,new G(2,15),new G(2,16)),new ie(22,new G(2,11),new G(2,12))),new nt(6,Int32Array.from([6,34]),new ie(18,new G(2,68)),new ie(16,new G(4,27)),new ie(24,new G(4,19)),new ie(28,new G(4,15))),new nt(7,Int32Array.from([6,22,38]),new ie(20,new G(2,78)),new ie(18,new G(4,31)),new ie(18,new G(2,14),new G(4,15)),new ie(26,new G(4,13),new G(1,14))),new nt(8,Int32Array.from([6,24,42]),new ie(24,new G(2,97)),new ie(22,new G(2,38),new G(2,39)),new ie(22,new G(4,18),new G(2,19)),new ie(26,new G(4,14),new G(2,15))),new nt(9,Int32Array.from([6,26,46]),new ie(30,new G(2,116)),new ie(22,new G(3,36),new G(2,37)),new ie(20,new G(4,16),new G(4,17)),new ie(24,new G(4,12),new G(4,13))),new nt(10,Int32Array.from([6,28,50]),new ie(18,new G(2,68),new G(2,69)),new ie(26,new G(4,43),new G(1,44)),new ie(24,new G(6,19),new G(2,20)),new ie(28,new G(6,15),new G(2,16))),new nt(11,Int32Array.from([6,30,54]),new ie(20,new G(4,81)),new ie(30,new G(1,50),new G(4,51)),new ie(28,new G(4,22),new G(4,23)),new ie(24,new G(3,12),new G(8,13))),new nt(12,Int32Array.from([6,32,58]),new ie(24,new G(2,92),new G(2,93)),new ie(22,new G(6,36),new G(2,37)),new ie(26,new G(4,20),new G(6,21)),new ie(28,new G(7,14),new G(4,15))),new nt(13,Int32Array.from([6,34,62]),new ie(26,new G(4,107)),new ie(22,new G(8,37),new G(1,38)),new ie(24,new G(8,20),new G(4,21)),new ie(22,new G(12,11),new G(4,12))),new nt(14,Int32Array.from([6,26,46,66]),new ie(30,new G(3,115),new G(1,116)),new ie(24,new G(4,40),new G(5,41)),new ie(20,new G(11,16),new G(5,17)),new ie(24,new G(11,12),new G(5,13))),new nt(15,Int32Array.from([6,26,48,70]),new ie(22,new G(5,87),new G(1,88)),new ie(24,new G(5,41),new G(5,42)),new ie(30,new G(5,24),new G(7,25)),new ie(24,new G(11,12),new G(7,13))),new nt(16,Int32Array.from([6,26,50,74]),new ie(24,new G(5,98),new G(1,99)),new ie(28,new G(7,45),new G(3,46)),new ie(24,new G(15,19),new G(2,20)),new ie(30,new G(3,15),new G(13,16))),new nt(17,Int32Array.from([6,30,54,78]),new ie(28,new G(1,107),new G(5,108)),new ie(28,new G(10,46),new G(1,47)),new ie(28,new G(1,22),new G(15,23)),new ie(28,new G(2,14),new G(17,15))),new nt(18,Int32Array.from([6,30,56,82]),new ie(30,new G(5,120),new G(1,121)),new ie(26,new G(9,43),new G(4,44)),new ie(28,new G(17,22),new G(1,23)),new ie(28,new G(2,14),new G(19,15))),new nt(19,Int32Array.from([6,30,58,86]),new ie(28,new G(3,113),new G(4,114)),new ie(26,new G(3,44),new G(11,45)),new ie(26,new G(17,21),new G(4,22)),new ie(26,new G(9,13),new G(16,14))),new nt(20,Int32Array.from([6,34,62,90]),new ie(28,new G(3,107),new G(5,108)),new ie(26,new G(3,41),new G(13,42)),new ie(30,new G(15,24),new G(5,25)),new ie(28,new G(15,15),new G(10,16))),new nt(21,Int32Array.from([6,28,50,72,94]),new ie(28,new G(4,116),new G(4,117)),new ie(26,new G(17,42)),new ie(28,new G(17,22),new G(6,23)),new ie(30,new G(19,16),new G(6,17))),new nt(22,Int32Array.from([6,26,50,74,98]),new ie(28,new G(2,111),new G(7,112)),new ie(28,new G(17,46)),new ie(30,new G(7,24),new G(16,25)),new ie(24,new G(34,13))),new nt(23,Int32Array.from([6,30,54,78,102]),new ie(30,new G(4,121),new G(5,122)),new ie(28,new G(4,47),new G(14,48)),new ie(30,new G(11,24),new G(14,25)),new ie(30,new G(16,15),new G(14,16))),new nt(24,Int32Array.from([6,28,54,80,106]),new ie(30,new G(6,117),new G(4,118)),new ie(28,new G(6,45),new G(14,46)),new ie(30,new G(11,24),new G(16,25)),new ie(30,new G(30,16),new G(2,17))),new nt(25,Int32Array.from([6,32,58,84,110]),new ie(26,new G(8,106),new G(4,107)),new ie(28,new G(8,47),new G(13,48)),new ie(30,new G(7,24),new G(22,25)),new ie(30,new G(22,15),new G(13,16))),new nt(26,Int32Array.from([6,30,58,86,114]),new ie(28,new G(10,114),new G(2,115)),new ie(28,new G(19,46),new G(4,47)),new ie(28,new G(28,22),new G(6,23)),new ie(30,new G(33,16),new G(4,17))),new nt(27,Int32Array.from([6,34,62,90,118]),new ie(30,new G(8,122),new G(4,123)),new ie(28,new G(22,45),new G(3,46)),new ie(30,new G(8,23),new G(26,24)),new ie(30,new G(12,15),new G(28,16))),new nt(28,Int32Array.from([6,26,50,74,98,122]),new ie(30,new G(3,117),new G(10,118)),new ie(28,new G(3,45),new G(23,46)),new ie(30,new G(4,24),new G(31,25)),new ie(30,new G(11,15),new G(31,16))),new nt(29,Int32Array.from([6,30,54,78,102,126]),new ie(30,new G(7,116),new G(7,117)),new ie(28,new G(21,45),new G(7,46)),new ie(30,new G(1,23),new G(37,24)),new ie(30,new G(19,15),new G(26,16))),new nt(30,Int32Array.from([6,26,52,78,104,130]),new ie(30,new G(5,115),new G(10,116)),new ie(28,new G(19,47),new G(10,48)),new ie(30,new G(15,24),new G(25,25)),new ie(30,new G(23,15),new G(25,16))),new nt(31,Int32Array.from([6,30,56,82,108,134]),new ie(30,new G(13,115),new G(3,116)),new ie(28,new G(2,46),new G(29,47)),new ie(30,new G(42,24),new G(1,25)),new ie(30,new G(23,15),new G(28,16))),new nt(32,Int32Array.from([6,34,60,86,112,138]),new ie(30,new G(17,115)),new ie(28,new G(10,46),new G(23,47)),new ie(30,new G(10,24),new G(35,25)),new ie(30,new G(19,15),new G(35,16))),new nt(33,Int32Array.from([6,30,58,86,114,142]),new ie(30,new G(17,115),new G(1,116)),new ie(28,new G(14,46),new G(21,47)),new ie(30,new G(29,24),new G(19,25)),new ie(30,new G(11,15),new G(46,16))),new nt(34,Int32Array.from([6,34,62,90,118,146]),new ie(30,new G(13,115),new G(6,116)),new ie(28,new G(14,46),new G(23,47)),new ie(30,new G(44,24),new G(7,25)),new ie(30,new G(59,16),new G(1,17))),new nt(35,Int32Array.from([6,30,54,78,102,126,150]),new ie(30,new G(12,121),new G(7,122)),new ie(28,new G(12,47),new G(26,48)),new ie(30,new G(39,24),new G(14,25)),new ie(30,new G(22,15),new G(41,16))),new nt(36,Int32Array.from([6,24,50,76,102,128,154]),new ie(30,new G(6,121),new G(14,122)),new ie(28,new G(6,47),new G(34,48)),new ie(30,new G(46,24),new G(10,25)),new ie(30,new G(2,15),new G(64,16))),new nt(37,Int32Array.from([6,28,54,80,106,132,158]),new ie(30,new G(17,122),new G(4,123)),new ie(28,new G(29,46),new G(14,47)),new ie(30,new G(49,24),new G(10,25)),new ie(30,new G(24,15),new G(46,16))),new nt(38,Int32Array.from([6,32,58,84,110,136,162]),new ie(30,new G(4,122),new G(18,123)),new ie(28,new G(13,46),new G(32,47)),new ie(30,new G(48,24),new G(14,25)),new ie(30,new G(42,15),new G(32,16))),new nt(39,Int32Array.from([6,26,54,82,110,138,166]),new ie(30,new G(20,117),new G(4,118)),new ie(28,new G(40,47),new G(7,48)),new ie(30,new G(43,24),new G(22,25)),new ie(30,new G(10,15),new G(67,16))),new nt(40,Int32Array.from([6,30,58,86,114,142,170]),new ie(30,new G(19,118),new G(6,119)),new ie(28,new G(18,47),new G(31,48)),new ie(30,new G(34,24),new G(34,25)),new ie(30,new G(20,15),new G(61,16)))];var Ir;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(Ir||(Ir={}));class At{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let u=0;u<l;u++)for(let h=0;h<l;h++)this.isMasked(u,h)&&a.flip(h,u)}}At.values=new Map([[Ir.DATA_MASK_000,new At(Ir.DATA_MASK_000,(B,a)=>(B+a&1)===0)],[Ir.DATA_MASK_001,new At(Ir.DATA_MASK_001,(B,a)=>(B&1)===0)],[Ir.DATA_MASK_010,new At(Ir.DATA_MASK_010,(B,a)=>a%3===0)],[Ir.DATA_MASK_011,new At(Ir.DATA_MASK_011,(B,a)=>(B+a)%3===0)],[Ir.DATA_MASK_100,new At(Ir.DATA_MASK_100,(B,a)=>(Math.floor(B/2)+Math.floor(a/3)&1)===0)],[Ir.DATA_MASK_101,new At(Ir.DATA_MASK_101,(B,a)=>B*a%6===0)],[Ir.DATA_MASK_110,new At(Ir.DATA_MASK_110,(B,a)=>B*a%6<3)],[Ir.DATA_MASK_111,new At(Ir.DATA_MASK_111,(B,a)=>(B+a+B*a%3&1)===0)]]);class Zd{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new H;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const l=this.bitMatrix.getHeight();let u=0;const h=l-7;for(let g=l-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=l-8;g<l;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=en.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return nt.getVersionForNumber(l);let u=0;const h=a-11;for(let x=5;x>=0;x--)for(let E=a-9;E>=h;E--)u=this.copyBit(E,x,u);let g=nt.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let x=5;x>=0;x--)for(let E=a-9;E>=h;E--)u=this.copyBit(x,E,u);if(g=nt.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new H}copyBit(a,l,u){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),u=At.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=l.buildFunctionPattern();let x=!0;const E=new Uint8Array(l.getTotalCodewords());let C=0,T=0,D=0;for(let F=h-1;F>0;F-=2){F===6&&F--;for(let $=0;$<h;$++){const q=x?h-1-$:$;for(let Z=0;Z<2;Z++)g.get(F-Z,q)||(D++,T<<=1,this.bitMatrix.get(F-Z,q)&&(T|=1),D===8&&(E[C++]=T,D=0,T=0))}x=!x}if(C!==l.getTotalCodewords())throw new H;return E}remask(){if(this.parsedFormatInfo===null)return;const a=At.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,u=a.getWidth();l<u;l++)for(let h=l+1,g=a.getHeight();h<g;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class _l{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,u){if(a.length!==l.getTotalCodewords())throw new w;const h=l.getECBlocksForLevel(u);let g=0;const x=h.getECBlocks();for(const Z of x)g+=Z.getCount();const E=new Array(g);let C=0;for(const Z of x)for(let J=0;J<Z.getCount();J++){const ne=Z.getDataCodewords(),fe=h.getECCodewordsPerBlock()+ne;E[C++]=new _l(ne,new Uint8Array(fe))}const T=E[0].codewords.length;let D=E.length-1;for(;D>=0&&E[D].codewords.length!==T;)D--;D++;const F=T-h.getECCodewordsPerBlock();let $=0;for(let Z=0;Z<F;Z++)for(let J=0;J<C;J++)E[J].codewords[Z]=a[$++];for(let Z=D;Z<C;Z++)E[Z].codewords[F]=a[$++];const q=E[0].codewords.length;for(let Z=F;Z<q;Z++)for(let J=0;J<C;J++){const ne=J<D?Z:Z+1;E[J].codewords[ne]=a[$++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Dn;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(Dn||(Dn={}));class st{constructor(a,l,u,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=h,st.FOR_BITS.set(h,this),st.FOR_VALUE.set(a,this)}static forBits(a){const l=st.FOR_BITS.get(a);if(l===void 0)throw new w;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof st))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.TERMINATOR=new st(Dn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),st.NUMERIC=new st(Dn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),st.ALPHANUMERIC=new st(Dn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),st.STRUCTURED_APPEND=new st(Dn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),st.BYTE=new st(Dn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),st.ECI=new st(Dn.ECI,"ECI",Int32Array.from([0,0,0]),7),st.KANJI=new st(Dn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),st.FNC1_FIRST_POSITION=new st(Dn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),st.FNC1_SECOND_POSITION=new st(Dn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),st.HANZI=new st(Dn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nr{static decode(a,l,u,h){const g=new Yc(a);let x=new Ae;const E=new Array;let C=-1,T=-1;try{let D=null,F=!1,$;do{if(g.available()<4)$=st.TERMINATOR;else{const q=g.readBits(4);$=st.forBits(q)}switch($){case st.TERMINATOR:break;case st.FNC1_FIRST_POSITION:case st.FNC1_SECOND_POSITION:F=!0;break;case st.STRUCTURED_APPEND:if(g.available()<16)throw new H;C=g.readBits(8),T=g.readBits(8);break;case st.ECI:const q=nr.parseECIValue(g);if(D=X.getCharacterSetECIByValue(q),D===null)throw new H;break;case st.HANZI:const Z=g.readBits(4),J=g.readBits($.getCharacterCountBits(l));Z===nr.GB2312_SUBSET&&nr.decodeHanziSegment(g,x,J);break;default:const ne=g.readBits($.getCharacterCountBits(l));switch($){case st.NUMERIC:nr.decodeNumericSegment(g,x,ne);break;case st.ALPHANUMERIC:nr.decodeAlphanumericSegment(g,x,ne,F);break;case st.BYTE:nr.decodeByteSegment(g,x,ne,D,E,h);break;case st.KANJI:nr.decodeKanjiSegment(g,x,ne);break;default:throw new H}break}}while($!==st.TERMINATOR)}catch{throw new H}return new ve(a,x.toString(),E.length===0?null:E,u===null?null:u.toString(),C,T)}static decodeHanziSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let E=x/96<<8&4294967295|x%96;E<959?E+=41377:E+=42657,h[g]=E>>8&255,h[g+1]=E&255,g+=2,u--}try{l.append(pe.decode(h,de.GB2312))}catch(x){throw new H(x)}}static decodeKanjiSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const x=a.readBits(13);let E=x/192<<8&4294967295|x%192;E<7936?E+=33088:E+=49472,h[g]=E>>8,h[g+1]=E,g+=2,u--}try{l.append(pe.decode(h,de.SHIFT_JIS))}catch(x){throw new H(x)}}static decodeByteSegment(a,l,u,h,g,x){if(8*u>a.available())throw new H;const E=new Uint8Array(u);for(let T=0;T<u;T++)E[T]=a.readBits(8);let C;h===null?C=de.guessEncoding(E,x):C=h.getName();try{l.append(pe.decode(E,C))}catch(T){throw new H(T)}g.push(E)}static toAlphaNumericChar(a){if(a>=nr.ALPHANUMERIC_CHARS.length)throw new H;return nr.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,h){const g=l.length();for(;u>1;){if(a.available()<11)throw new H;const x=a.readBits(11);l.append(nr.toAlphaNumericChar(Math.floor(x/45))),l.append(nr.toAlphaNumericChar(x%45)),u-=2}if(u===1){if(a.available()<6)throw new H;l.append(nr.toAlphaNumericChar(a.readBits(6)))}if(h)for(let x=g;x<l.length();x++)l.charAt(x)==="%"&&(x<l.length()-1&&l.charAt(x+1)==="%"?l.deleteCharAt(x+1):l.setCharAt(x,""))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new H;const h=a.readBits(10);if(h>=1e3)throw new H;l.append(nr.toAlphaNumericChar(Math.floor(h/100))),l.append(nr.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(nr.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new H;const h=a.readBits(7);if(h>=100)throw new H;l.append(nr.toAlphaNumericChar(Math.floor(h/10))),l.append(nr.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new H;const h=a.readBits(4);if(h>=10)throw new H;l.append(nr.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=a.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=a.readBits(16);return(l&31)<<16&4294967295|u}throw new H}}nr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nr.GB2312_SUBSET=1;class Zc{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class Qc{constructor(){this.rsDecoder=new _t(Ve.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(ke.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const u=new Zd(a);let h=null;try{return this.decodeBitMatrixParser(u,l)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,l);return g.setOther(new Zc(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,l){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),x=_l.getDataBlocks(g,u,h);let E=0;for(const D of x)E+=D.getNumDataCodewords();const C=new Uint8Array(E);let T=0;for(const D of x){const F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let q=0;q<$;q++)C[T++]=F[q]}return nr.decode(C,u,h,l)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new S}for(let h=0;h<l;h++)a[h]=u[h]}}class ks extends Ue{constructor(a,l,u){super(a,l),this.estimatedModuleSize=u}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=(this.getX()+l)/2,g=(this.getY()+a)/2,x=(this.estimatedModuleSize+u)/2;return new ks(h,g,x)}}class vi{constructor(a,l,u,h,g,x,E){this.image=a,this.startX=l,this.startY=u,this.width=h,this.height=g,this.moduleSize=x,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,u=this.width,h=a+u,g=this.startY+l/2,x=new Int32Array(3),E=this.image;for(let C=0;C<l;C++){const T=g+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));x[0]=0,x[1]=0,x[2]=0;let D=a;for(;D<h&&!E.get(D,T);)D++;let F=0;for(;D<h;){if(E.get(D,T))if(F===1)x[1]++;else if(F===2){if(this.foundPatternCross(x)){const $=this.handlePossibleCenter(x,T,D);if($!==null)return $}x[0]=x[2],x[1]=1,x[2]=0,F=1}else x[++F]++;else F===1&&F++,x[F]++;D++}if(this.foundPatternCross(x)){const $=this.handlePossibleCenter(x,T,h);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,u=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=u)return!1;return!0}crossCheckVertical(a,l,u,h){const g=this.image,x=g.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let C=a;for(;C>=0&&g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&!g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(l,C)&&E[1]<=u;)E[1]++,C++;if(C===x||E[1]>u)return NaN;for(;C<x&&!g.get(l,C)&&E[2]<=u;)E[2]++,C++;if(E[2]>u)return NaN;const T=E[0]+E[1]+E[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(E)?vi.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u){const h=a[0]+a[1]+a[2],g=vi.centerFromEnd(a,u),x=this.crossCheckVertical(l,g,2*a[1],h);if(!isNaN(x)){const E=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(E,x,g))return T.combineEstimate(x,g,E);const C=new ks(g,x,E);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Bi extends Ue{constructor(a,l,u,h){super(a,l),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=this.count+1,g=(this.count*this.getX()+l)/h,x=(this.count*this.getY()+a)/h,E=(this.count*this.estimatedModuleSize+u)/h;return new Bi(g,x,E,h)}}class _a{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class pr{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(V.TRY_HARDER)!==void 0,u=a!=null&&a.get(V.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),x=h.getWidth();let E=Math.floor(3*g/(4*pr.MAX_MODULES));(E<pr.MIN_SKIP||l)&&(E=pr.MIN_SKIP);let C=!1;const T=new Int32Array(5);for(let F=E-1;F<g&&!C;F+=E){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let $=0;for(let q=0;q<x;q++)if(h.get(q,F))($&1)===1&&$++,T[$]++;else if(($&1)===0)if($===4)if(pr.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,q,u)===!0)if(E=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const J=this.findRowSkip();J>T[2]&&(F+=J-T[2]-E,q=x-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;continue}$=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;else T[++$]++;else T[$]++;pr.foundPatternCross(T)&&this.handlePossibleCenter(T,F,x,u)===!0&&(E=T[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Ue.orderBestPatterns(D),new _a(D)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let g=0;g<5;g++){const x=a[g];if(x===0)return!1;l+=x}if(l<7)return!1;const u=l/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,h){const g=this.getCrossCheckStateCount();let x=0;const E=this.image;for(;a>=x&&l>=x&&E.get(l-x,a-x);)g[2]++,x++;if(a<x||l<x)return!1;for(;a>=x&&l>=x&&!E.get(l-x,a-x)&&g[1]<=u;)g[1]++,x++;if(a<x||l<x||g[1]>u)return!1;for(;a>=x&&l>=x&&E.get(l-x,a-x)&&g[0]<=u;)g[0]++,x++;if(g[0]>u)return!1;const C=E.getHeight(),T=E.getWidth();for(x=1;a+x<C&&l+x<T&&E.get(l+x,a+x);)g[2]++,x++;if(a+x>=C||l+x>=T)return!1;for(;a+x<C&&l+x<T&&!E.get(l+x,a+x)&&g[3]<u;)g[3]++,x++;if(a+x>=C||l+x>=T||g[3]>=u)return!1;for(;a+x<C&&l+x<T&&E.get(l+x,a+x)&&g[4]<u;)g[4]++,x++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&pr.foundPatternCross(g)}crossCheckVertical(a,l,u,h){const g=this.image,x=g.getHeight(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(l,C);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(l,C);)E[2]++,C++;if(C===x)return NaN;for(;C<x&&!g.get(l,C)&&E[3]<u;)E[3]++,C++;if(C===x||E[3]>=u)return NaN;for(;C<x&&g.get(l,C)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=2*h?NaN:pr.foundPatternCross(E)?pr.centerFromEnd(E,C):NaN}crossCheckHorizontal(a,l,u,h){const g=this.image,x=g.getWidth(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(C,l);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(C,l)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(C,l)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<x&&g.get(C,l);)E[2]++,C++;if(C===x)return NaN;for(;C<x&&!g.get(C,l)&&E[3]<u;)E[3]++,C++;if(C===x||E[3]>=u)return NaN;for(;C<x&&g.get(C,l)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=h?NaN:pr.foundPatternCross(E)?pr.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let x=pr.centerFromEnd(a,u),E=this.crossCheckVertical(l,Math.floor(x),a[2],g);if(!isNaN(E)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(E),a[2],g),!isNaN(x)&&(!h||this.crossCheckDiagonal(Math.floor(E),Math.floor(x),a[2],g)))){const C=g/7;let T=!1;const D=this.possibleCenters;for(let F=0,$=D.length;F<$;F++){const q=D[F];if(q.aboutEquals(C,E,x)){D[F]=q.combineEstimate(E,x,C),T=!0;break}}if(!T){const F=new Bi(x,E,C);D.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=pr.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=pr.CENTER_QUORUM&&(a++,l+=x.getEstimatedModuleSize());if(a<3)return!1;const h=l/u;let g=0;for(const x of this.possibleCenters)g+=Math.abs(x.getEstimatedModuleSize()-h);return g<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new te;const l=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const C of this.possibleCenters){const T=C.getEstimatedModuleSize();h+=T,g+=T*T}u=h/a;let x=Math.sqrt(g/a-u*u);l.sort((C,T)=>{const D=Math.abs(T.getEstimatedModuleSize()-u),F=Math.abs(C.getEstimatedModuleSize()-u);return D<F?-1:D>F?1:0});const E=Math.max(.2*u,x);for(let C=0;C<l.length&&l.length>3;C++){const T=l[C];Math.abs(T.getEstimatedModuleSize()-u)>E&&(l.splice(C,1),C--)}}if(l.length>3){let h=0;for(const g of l)h+=g.getEstimatedModuleSize();u=h/l.length,l.sort((g,x)=>{if(x.getCount()===g.getCount()){const E=Math.abs(x.getEstimatedModuleSize()-u),C=Math.abs(g.getEstimatedModuleSize()-u);return E<C?1:E>C?-1:0}else return x.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}pr.CENTER_QUORUM=2,pr.MIN_SKIP=3,pr.MAX_MODULES=57;class na{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(V.NEED_RESULT_POINT_CALLBACK);const u=new pr(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const l=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(l,u,h);if(g<1)throw new te("No pattern found in proccess finder.");const x=na.computeDimension(l,u,h,g),E=nt.getProvisionalVersionForDimension(x),C=E.getDimensionForVersion()-7;let T=null;if(E.getAlignmentPatternCenters().length>0){const q=u.getX()-l.getX()+h.getX(),Z=u.getY()-l.getY()+h.getY(),J=1-3/C,ne=Math.floor(l.getX()+J*(q-l.getX())),fe=Math.floor(l.getY()+J*(Z-l.getY()));for(let Te=4;Te<=16;Te<<=1)try{T=this.findAlignmentInRegion(g,ne,fe,Te);break}catch(Pe){if(!(Pe instanceof te))throw Pe}}const D=na.createTransform(l,u,h,T,x),F=na.sampleGrid(this.image,D,x);let $;return T===null?$=[h,l,u]:$=[h,l,u,T],new Mi(F,$)}static createTransform(a,l,u,h,g){const x=g-3.5;let E,C,T,D;return h!==null?(E=h.getX(),C=h.getY(),T=x-3,D=T):(E=l.getX()-a.getX()+u.getX(),C=l.getY()-a.getY()+u.getY(),T=x,D=x),De.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,T,D,3.5,x,a.getX(),a.getY(),l.getX(),l.getY(),E,C,u.getX(),u.getY())}static sampleGrid(a,l,u){return Le.getInstance().sampleGridWithTransform(a,u,u,l)}static computeDimension(a,l,u,h){const g=bt.round(Ue.distance(a,l)/h),x=bt.round(Ue.distance(a,u)/h);let E=Math.floor((g+x)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new te("Dimensions could be not found.")}return E}calculateModuleSize(a,l,u){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,l,u,h),x=1,E=a-(u-a);E<0?(x=a/(a-E),E=0):E>=this.image.getWidth()&&(x=(this.image.getWidth()-1-a)/(E-a),E=this.image.getWidth()-1);let C=Math.floor(l-(h-l)*x);return x=1,C<0?(x=l/(l-C),C=0):C>=this.image.getHeight()&&(x=(this.image.getHeight()-1-l)/(C-l),C=this.image.getHeight()-1),E=Math.floor(a+(E-a)*x),g+=this.sizeOfBlackWhiteBlackRun(a,l,E,C),g-1}sizeOfBlackWhiteBlackRun(a,l,u,h){const g=Math.abs(h-l)>Math.abs(u-a);if(g){let q=a;a=l,l=q,q=u,u=h,h=q}const x=Math.abs(u-a),E=Math.abs(h-l);let C=-x/2;const T=a<u?1:-1,D=l<h?1:-1;let F=0;const $=u+T;for(let q=a,Z=l;q!==$;q+=T){const J=g?Z:q,ne=g?q:Z;if(F===1===this.image.get(J,ne)){if(F===2)return bt.distance(q,Z,a,l);F++}if(C+=E,C>0){if(Z===h)break;Z+=D,C-=x}}return F===2?bt.distance(u+T,h,a,l):NaN}findAlignmentInRegion(a,l,u,h){const g=Math.floor(h*a),x=Math.max(0,l-g),E=Math.min(this.image.getWidth()-1,l+g);if(E-x<a*3)throw new te("Alignment top exceeds estimated module size.");const C=Math.max(0,u-g),T=Math.min(this.image.getHeight()-1,u+g);if(T-C<a*3)throw new te("Alignment bottom exceeds estimated module size.");return new vi(this.image,x,C,E-x,T-C,a,this.resultPointCallback).find()}}class _n{constructor(){this.decoder=new Qc}getDecoder(){return this.decoder}decode(a,l){let u,h;if(l!=null&&l.get(V.PURE_BARCODE)!==void 0){const C=_n.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(C,l),h=_n.NO_POINTS}else{const C=new na(a.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(C.getBits(),l),h=C.getPoints()}u.getOther()instanceof Zc&&u.getOther().applyMirroredCorrection(h);const g=new Me(u.getText(),u.getRawBytes(),void 0,h,Ce.QR_CODE,void 0),x=u.getByteSegments();x!==null&&g.putMetadata(it.BYTE_SEGMENTS,x);const E=u.getECLevel();return E!==null&&g.putMetadata(it.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(g.putMetadata(it.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(it.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l===null||u===null)throw new te;const h=this.moduleSize(l,a);let g=l[1],x=u[1],E=l[0],C=u[0];if(E>=C||g>=x)throw new te;if(x-g!==C-E&&(C=E+(x-g),C>=a.getWidth()))throw new te;const T=Math.round((C-E+1)/h),D=Math.round((x-g+1)/h);if(T<=0||D<=0)throw new te;if(D!==T)throw new te;const F=Math.floor(h/2);g+=F,E+=F;const $=E+Math.floor((T-1)*h)-C;if($>0){if($>F)throw new te;E-=$}const q=g+Math.floor((D-1)*h)-x;if(q>0){if(q>F)throw new te;g-=q}const Z=new ke(T,D);for(let J=0;J<D;J++){const ne=g+Math.floor(J*h);for(let fe=0;fe<T;fe++)a.get(E+Math.floor(fe*h),ne)&&Z.set(fe,J)}return Z}static moduleSize(a,l){const u=l.getHeight(),h=l.getWidth();let g=a[0],x=a[1],E=!0,C=0;for(;g<h&&x<u;){if(E!==l.get(g,x)){if(++C===5)break;E=!E}g++,x++}if(g===h||x===u)throw new te;return(g-a[0])/7}}_n.NO_POINTS=new Array;class ht{PDF417Common(){}static getBitCountSum(a){return bt.sum(a)}static toIntArray(a){if(a==null||!a.length)return ht.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let u=0;for(const h of a)l[u++]=h;return l}static getCodeword(a){const l=L.binarySearch(ht.SYMBOL_TABLE,a&262143);return l<0?-1:(ht.CODEWORD_TABLE[l]-1)%ht.NUMBER_OF_CODEWORDS}}ht.NUMBER_OF_CODEWORDS=929,ht.MAX_CODEWORDS_IN_BARCODE=ht.NUMBER_OF_CODEWORDS-1,ht.MIN_ROWS_IN_BARCODE=3,ht.MAX_ROWS_IN_BARCODE=90,ht.MODULES_IN_CODEWORD=17,ht.MODULES_IN_STOP_PATTERN=18,ht.BARS_IN_MODULE=8,ht.EMPTY_INT_ARRAY=new Int32Array([]),ht.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ht.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qd{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class xt{static detectMultiple(a,l,u){let h=a.getBlackMatrix(),g=xt.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=xt.detect(u,h)),new Qd(h,g)}static detect(a,l){const u=new Array;let h=0,g=0,x=!1;for(;h<l.getHeight();){const E=xt.findVertices(l,h,g);if(E[0]==null&&E[3]==null){if(!x)break;x=!1,g=0;for(const C of u)C[1]!=null&&(h=Math.trunc(Math.max(h,C[1].getY()))),C[3]!=null&&(h=Math.max(h,Math.trunc(C[3].getY())));h+=xt.ROW_STEP;continue}if(x=!0,u.push(E),!a)break;E[2]!=null?(g=Math.trunc(E[2].getX()),h=Math.trunc(E[2].getY())):(g=Math.trunc(E[4].getX()),h=Math.trunc(E[4].getY()))}return u}static findVertices(a,l,u){const h=a.getHeight(),g=a.getWidth(),x=new Array(8);return xt.copyToResult(x,xt.findRowsWithPattern(a,h,g,l,u,xt.START_PATTERN),xt.INDEXES_START_PATTERN),x[4]!=null&&(u=Math.trunc(x[4].getX()),l=Math.trunc(x[4].getY())),xt.copyToResult(x,xt.findRowsWithPattern(a,h,g,l,u,xt.STOP_PATTERN),xt.INDEXES_STOP_PATTERN),x}static copyToResult(a,l,u){for(let h=0;h<u.length;h++)a[u[h]]=l[h]}static findRowsWithPattern(a,l,u,h,g,x){const E=new Array(4);let C=!1;const T=new Int32Array(x.length);for(;h<l;h+=xt.ROW_STEP){let F=xt.findGuardPattern(a,g,h,u,!1,x,T);if(F!=null){for(;h>0;){const $=xt.findGuardPattern(a,g,--h,u,!1,x,T);if($!=null)F=$;else{h++;break}}E[0]=new Ue(F[0],h),E[1]=new Ue(F[1],h),C=!0;break}}let D=h+1;if(C){let F=0,$=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;D<l;D++){const q=xt.findGuardPattern(a,$[0],D,u,!1,x,T);if(q!=null&&Math.abs($[0]-q[0])<xt.MAX_PATTERN_DRIFT&&Math.abs($[1]-q[1])<xt.MAX_PATTERN_DRIFT)$=q,F=0;else{if(F>xt.SKIPPED_ROW_COUNT_MAX)break;F++}}D-=F+1,E[2]=new Ue($[0],D),E[3]=new Ue($[1],D)}return D-h<xt.BARCODE_MIN_HEIGHT&&L.fill(E,null),E}static findGuardPattern(a,l,u,h,g,x,E){L.fillWithin(E,0,E.length,0);let C=l,T=0;for(;a.get(C,u)&&C>0&&T++<xt.MAX_PIXEL_DRIFT;)C--;let D=C,F=0,$=x.length;for(let q=g;D<h;D++)if(a.get(D,u)!==q)E[F]++;else{if(F===$-1){if(xt.patternMatchVariance(E,x,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=E[0]+E[1],O.arraycopy(E,2,E,0,F-1),E[F-1]=0,E[F]=0,F--}else F++;E[F]=1,q=!q}return F===$-1&&xt.patternMatchVariance(E,x,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(a,l,u){let h=a.length,g=0,x=0;for(let T=0;T<h;T++)g+=a[T],x+=l[T];if(g<x)return 1/0;let E=g/x;u*=E;let C=0;for(let T=0;T<h;T++){let D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return 1/0;C+=$}return C/g}}xt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xt.MAX_AVG_VARIANCE=.42,xt.MAX_INDIVIDUAL_VARIANCE=.8,xt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xt.MAX_PIXEL_DRIFT=3,xt.MAX_PATTERN_DRIFT=5,xt.SKIPPED_ROW_COUNT_MAX=25,xt.ROW_STEP=5,xt.BARCODE_MIN_HEIGHT=10;class tn{constructor(a,l){if(l.length===0)throw new w;this.field=a;let u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),O.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let l=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){let x=l;l=u,u=x}let h=new Int32Array(u.length),g=u.length-l.length;O.arraycopy(u,0,h,0,g);for(let x=g;x<u.length;x++)h[x]=this.field.add(l[x-g],u[x]);return new tn(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof tn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new tn(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,x=new Int32Array(u+g-1);for(let E=0;E<u;E++){let C=l[E];for(let T=0;T<g;T++)x[E+T]=this.field.add(x[E+T],this.field.multiply(C,h[T]))}return new tn(this.field,x)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new tn(this.field,l)}multiplyScalar(a){if(a===0)return new tn(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new tn(this.field,u)}multiplyByMonomial(a,l){if(a<0)throw new w;if(l===0)return new tn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],l);return new tn(this.field,h)}toString(){let a=new Ae;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(l===0||u!==1)&&a.append(u),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class Jd{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new w;return this.logTable[a]}inverse(a){if(a===0)throw new ye;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class Rs extends Jd{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new w;if(l===0)return this.zero;let u=new Int32Array(a+1);return u[0]=l,new tn(this,u)}}Rs.PDF417_GF=new Rs(ht.NUMBER_OF_CODEWORDS,3);class Jc{constructor(){this.field=Rs.PDF417_GF}decode(a,l,u){let h=new tn(this.field,a),g=new Int32Array(l),x=!1;for(let Z=l;Z>0;Z--){let J=h.evaluateAt(this.field.exp(Z));g[l-Z]=J,J!==0&&(x=!0)}if(!x)return 0;let E=this.field.getOne();if(u!=null)for(const Z of u){let J=this.field.exp(a.length-1-Z),ne=new tn(this.field,new Int32Array([this.field.subtract(0,J),1]));E=E.multiply(ne)}let C=new tn(this.field,g),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),C,l),D=T[0],F=T[1],$=this.findErrorLocations(D),q=this.findErrorMagnitudes(F,D,$);for(let Z=0;Z<$.length;Z++){let J=a.length-1-this.field.log($[Z]);if(J<0)throw S.getChecksumInstance();a[J]=this.field.subtract(a[J],q[Z])}return $.length}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){let $=a;a=l,l=$}let h=a,g=l,x=this.field.getZero(),E=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let $=h,q=x;if(h=g,x=E,h.isZero())throw S.getChecksumInstance();g=$;let Z=this.field.getZero(),J=h.getCoefficient(h.getDegree()),ne=this.field.inverse(J);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let fe=g.getDegree()-h.getDegree(),Te=this.field.multiply(g.getCoefficient(g.getDegree()),ne);Z=Z.add(this.field.buildMonomial(fe,Te)),g=g.subtract(h.multiplyByMonomial(fe,Te))}E=Z.multiply(x).subtract(q).negative()}let C=E.getCoefficient(0);if(C===0)throw S.getChecksumInstance();let T=this.field.inverse(C),D=E.multiply(T),F=g.multiply(T);return[D,F]}findErrorLocations(a){let l=a.getDegree(),u=new Int32Array(l),h=0;for(let g=1;g<this.field.getSize()&&h<l;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==l)throw S.getChecksumInstance();return u}findErrorMagnitudes(a,l,u){let h=l.getDegree(),g=new Int32Array(h);for(let T=1;T<=h;T++)g[h-T]=this.field.multiply(T,l.getCoefficient(T));let x=new tn(this.field,g),E=u.length,C=new Int32Array(E);for(let T=0;T<E;T++){let D=this.field.inverse(u[T]),F=this.field.subtract(0,a.evaluateAt(D)),$=this.field.inverse(x.evaluateAt(D));C[T]=this.field.multiply(F,$)}return C}}class Ha{constructor(a,l,u,h,g){a instanceof Ha?this.constructor_2(a):this.constructor_1(a,l,u,h,g)}constructor_1(a,l,u,h,g){const x=l==null||u==null,E=h==null||g==null;if(x&&E)throw new te;x?(l=new Ue(0,h.getY()),u=new Ue(0,g.getY())):E&&(h=new Ue(a.getWidth()-1,l.getY()),g=new Ue(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=l,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new Ha(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,u){let h=this.topLeft,g=this.bottomLeft,x=this.topRight,E=this.bottomRight;if(a>0){let C=u?this.topLeft:this.topRight,T=Math.trunc(C.getY()-a);T<0&&(T=0);let D=new Ue(C.getX(),T);u?h=D:x=D}if(l>0){let C=u?this.bottomLeft:this.bottomRight,T=Math.trunc(C.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let D=new Ue(C.getX(),T);u?g=D:E=D}return new Ha(this.image,h,g,x,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class yo{constructor(a,l,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ia{constructor(){this.buffer=""}static form(a,l){let u=-1;function h(x,E,C,T,D,F){if(x==="%%")return"%";if(l[++u]===void 0)return;x=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,q;switch(F){case"s":q=l[u];break;case"c":q=l[u][0];break;case"f":q=parseFloat(l[u]).toFixed(x);break;case"p":q=parseFloat(l[u]).toPrecision(x);break;case"e":q=parseFloat(l[u]).toExponential(x);break;case"x":q=parseInt(l[u]).toString($||16);break;case"d":q=parseFloat(parseInt(l[u],$||10).toPrecision(x)).toFixed(0);break}q=typeof q=="object"?JSON.stringify(q):(+q).toString($);let Z=parseInt(C),J=C&&C[0]+""=="0"?"0":" ";for(;q.length<Z;)q=E!==void 0?q+J:J+q;return q}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...l){this.buffer+=ia.form(a,l)}toString(){return this.buffer}}class Fi{constructor(a){this.boundingBox=new Ha(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let u=1;u<Fi.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ia;let l=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return a.toString()}}Fi.MAX_NEARBY_DISTANCE=5;class Sa{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===a&&l.push(g.getKey())}return ht.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class ef extends Fi{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=-1,T=1,D=0;for(let F=x;F<E;F++){if(l[F]==null)continue;let $=l[F],q=$.getRowNumber()-C;if(q===0)D++;else if(q===1)T=Math.max(T,D),D=1,C=$.getRowNumber();else if(q<0||$.getRowNumber()>=a.getRowCount()||q>F)l[F]=null;else{let Z;T>2?Z=(T-2)*q:Z=q;let J=Z>=F;for(let ne=1;ne<=Z&&!J;ne++)J=l[F-ne]!=null;J?l[F]=null:(C=$.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.getCodewords(),C=-1;for(let T=g;T<x;T++){if(E[T]==null)continue;let D=E[T];D.setRowNumberAsRowIndicatorColumn();let F=D.getRowNumber()-C;F===0||(F===1?C=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?E[T]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new Sa,u=new Sa,h=new Sa,g=new Sa;for(let E of a){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let C=E.getValue()%30,T=E.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(C*3+1);break;case 1:g.setValue(C/3),h.setValue(C%3);break;case 2:l.setValue(C+1);break}}if(l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<ht.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>ht.MAX_ROWS_IN_BARCODE)return null;let x=new yo(l.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,x),x}removeIncorrectCodewords(a,l){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,x=h.getRowNumber();if(x>l.getRowCount()){a[u]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==l.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wo{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=ht.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&l[u]!=null&&a[u].getRowNumber()===l[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let x=this.barcodeColumnCount+1;x>0&&g<this.ADJUST_ROW_NUMBER_SKIP;x--){let E=this.detectionResultColumns[x].getCodewords()[u];E!=null&&(g=wo.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let x=1;x<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;x++){let E=this.detectionResultColumns[x].getCodewords()[u];E!=null&&(g=wo.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,u){if(!this.detectionResultColumns[a-1])return;let h=u[l],g=this.detectionResultColumns[a-1].getCodewords(),x=g;this.detectionResultColumns[a+1]!=null&&(x=this.detectionResultColumns[a+1].getCodewords());let E=new Array(14);E[2]=g[l],E[3]=x[l],l>0&&(E[0]=u[l-1],E[4]=g[l-1],E[5]=x[l-1]),l>1&&(E[8]=u[l-2],E[10]=g[l-2],E[11]=x[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=g[l+1],E[7]=x[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=g[l+2],E[13]=x[l+2]);for(let C of E)if(wo.adjustRowNumber(h,C))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ia;for(let u=0;u<a.getCodewords().length;u++){l.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class Ga{constructor(a,l,u,h){this.rowNumber=Ga.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Ga.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Ga.BARCODE_ROW_UNKNOWN=-1;class rn{static initialize(){for(let a=0;a<ht.SYMBOL_TABLE.length;a++){let l=ht.SYMBOL_TABLE[a],u=l&1;for(let h=0;h<ht.BARS_IN_MODULE;h++){let g=0;for(;(l&1)===u;)g+=1,l>>=1;u=l&1,rn.RATIOS_TABLE[a]||(rn.RATIOS_TABLE[a]=new Array(ht.BARS_IN_MODULE)),rn.RATIOS_TABLE[a][ht.BARS_IN_MODULE-h-1]=Math.fround(g/ht.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=rn.getDecodedCodewordValue(rn.sampleBitCounts(a));return l!==-1?l:rn.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=bt.sum(a),u=new Int32Array(ht.BARS_IN_MODULE),h=0,g=0;for(let x=0;x<ht.MODULES_IN_CODEWORD;x++){let E=l/(2*ht.MODULES_IN_CODEWORD)+x*l/ht.MODULES_IN_CODEWORD;g+a[h]<=E&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let l=rn.getBitValue(a);return ht.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=bt.sum(a),u=new Array(ht.BARS_IN_MODULE);if(l>1)for(let x=0;x<u.length;x++)u[x]=Math.fround(a[x]/l);let h=hr.MAX_VALUE,g=-1;this.bSymbolTableReady||rn.initialize();for(let x=0;x<rn.RATIOS_TABLE.length;x++){let E=0,C=rn.RATIOS_TABLE[x];for(let T=0;T<ht.BARS_IN_MODULE;T++){let D=Math.fround(C[T]-u[T]);if(E+=Math.fround(D*D),E>=h)break}E<h&&(h=E,g=ht.SYMBOL_TABLE[x])}return g}}rn.bSymbolTableReady=!1,rn.RATIOS_TABLE=new Array(ht.SYMBOL_TABLE.length).map(B=>new Array(ht.BARS_IN_MODULE));class Sl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class eu{static parseLong(a,l=void 0){return parseInt(a,l)}}class aa extends m{}aa.kind="NullPointerException";class tu{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,u){if(a==null)throw new aa;if(l<0||l>a.length||u<0||l+u>a.length||l+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(a[l+h])}flush(){}close(){}}class Cl extends m{}class tf extends tu{constructor(a=32){if(super(),this.count=0,a<0)throw new w("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new Cl;u=j.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,u){if(l<0||l>a.length||u<0||l+u-a.length>0)throw new k;this.ensureCapacity(this.count+u),O.arraycopy(a,l,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var jt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function bo(){if(typeof window<"u")return window.BigInt||null;if(typeof Jf<"u")return Jf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Eo;function Tr(B){if(typeof Eo>"u"&&(Eo=bo()),Eo===null)throw new Error("BigInt is not supported!");return Eo(B)}function js(){let B=[];B[0]=Tr(1);let a=Tr(900);B[1]=a;for(let l=2;l<16;l++)B[l]=B[l-1]*a;return B}class he{static decode(a,l){let u=new Ae(""),h=X.ISO8859_1;u.enableDecoding(h);let g=1,x=a[g++],E=new Sl;for(;g<a[0];){switch(x){case he.TEXT_COMPACTION_MODE_LATCH:g=he.textCompaction(a,g,u);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:g=he.byteCompaction(x,a,h,g,u);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:g=he.numericCompaction(a,g,u);break;case he.ECI_CHARSET:X.getCharacterSetECIByValue(a[g++]);break;case he.ECI_GENERAL_PURPOSE:g+=2;break;case he.ECI_USER_DEFINED:g++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=he.decodeMacroBlock(a,g,E);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new H;default:g--,g=he.textCompaction(a,g,u);break}if(g<a.length)x=a[g++];else throw H.getFormatInstance()}if(u.length()===0)throw H.getFormatInstance();let C=new ve(null,u.toString(),null,l);return C.setOther(E),C}static decodeMacroBlock(a,l,u){if(l+he.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw H.getFormatInstance();let h=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<he.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)h[E]=a[l];u.setSegmentIndex(j.parseInt(he.decodeBase900toBase10(h,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Ae;l=he.textCompaction(a,l,g),u.setFileId(g.toString());let x=-1;for(a[l]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=l+1);l<a[0];)switch(a[l]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Ae;l=he.textCompaction(a,l+1,E),u.setFileName(E.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new Ae;l=he.textCompaction(a,l+1,C),u.setSender(C.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Ae;l=he.textCompaction(a,l+1,T),u.setAddressee(T.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new Ae;l=he.numericCompaction(a,l+1,D),u.setSegmentCount(j.parseInt(D.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Ae;l=he.numericCompaction(a,l+1,F),u.setTimestamp(eu.parseLong(F.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new Ae;l=he.numericCompaction(a,l+1,$),u.setChecksum(j.parseInt($.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let q=new Ae;l=he.numericCompaction(a,l+1,q),u.setFileSize(eu.parseLong(q.toString()));break;default:throw H.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(x!==-1){let E=l-x;u.isLastSegment()&&E--,u.setOptionalData(L.copyOfRange(a,x,x+E))}return l}static textCompaction(a,l,u){let h=new Int32Array((a[0]-l)*2),g=new Int32Array((a[0]-l)*2),x=0,E=!1;for(;l<a[0]&&!E;){let C=a[l++];if(C<he.TEXT_COMPACTION_MODE_LATCH)h[x]=C/30,h[x+1]=C%30,x+=2;else switch(C){case he.TEXT_COMPACTION_MODE_LATCH:h[x++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[x]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=a[l++],g[x]=C,x++;break}}return he.decodeTextCompaction(h,g,x,u),l}static decodeTextCompaction(a,l,u,h){let g=jt.ALPHA,x=jt.ALPHA,E=0;for(;E<u;){let C=a[E],T="";switch(g){case jt.ALPHA:if(C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case he.LL:g=jt.LOWER;break;case he.ML:g=jt.MIXED;break;case he.PS:x=g,g=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break;case jt.LOWER:if(C<26)T=String.fromCharCode(97+C);else switch(C){case 26:T=" ";break;case he.AS:x=g,g=jt.ALPHA_SHIFT;break;case he.ML:g=jt.MIXED;break;case he.PS:x=g,g=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break;case jt.MIXED:if(C<he.PL)T=he.MIXED_CHARS[C];else switch(C){case he.PL:g=jt.PUNCT;break;case 26:T=" ";break;case he.LL:g=jt.LOWER;break;case he.AL:g=jt.ALPHA;break;case he.PS:x=g,g=jt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break;case jt.PUNCT:if(C<he.PAL)T=he.PUNCT_CHARS[C];else switch(C){case he.PAL:g=jt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(g=x,C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(g=x,C<he.PAL)T=he.PUNCT_CHARS[C];else switch(C){case he.PAL:g=jt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case he.TEXT_COMPACTION_MODE_LATCH:g=jt.ALPHA;break}break}T!==""&&h.append(T),E++}}static byteCompaction(a,l,u,h,g){let x=new tf,E=0,C=0,T=!1;switch(a){case he.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),F=l[h++];for(;h<l[0]&&!T;)switch(D[E++]=F,C=900*C+F,F=l[h++],F){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(E%5===0&&E>0){for(let $=0;$<6;++$)x.write(Number(Tr(C)>>Tr(8*(5-$))));C=0,E=0}break}h===l[0]&&F<he.TEXT_COMPACTION_MODE_LATCH&&(D[E++]=F);for(let $=0;$<E;$++)x.write(D[$]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!T;){let $=l[h++];if($<he.TEXT_COMPACTION_MODE_LATCH)E++,C=900*C+$;else switch($){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(E%5===0&&E>0){for(let q=0;q<6;++q)x.write(Number(Tr(C)>>Tr(8*(5-q))));C=0,E=0}}break}return g.append(pe.decode(x.toByteArray(),u)),h}static numericCompaction(a,l,u){let h=0,g=!1,x=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!g;){let E=a[l++];if(l===a[0]&&(g=!0),E<he.TEXT_COMPACTION_MODE_LATCH)x[h]=E,h++;else switch(E){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(h%he.MAX_NUMERIC_CODEWORDS===0||E===he.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(he.decodeBase900toBase10(x,h)),h=0)}return l}static decodeBase900toBase10(a,l){let u=Tr(0);for(let g=0;g<l;g++)u+=he.EXP900[l-g-1]*Tr(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new H;return h.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=bo()?js():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class wt{constructor(){}static decode(a,l,u,h,g,x,E){let C=new Ha(a,l,u,h,g),T=null,D=null,F;for(let Z=!0;;Z=!1){if(l!=null&&(T=wt.getRowIndicatorColumn(a,C,l,!0,x,E)),h!=null&&(D=wt.getRowIndicatorColumn(a,C,h,!1,x,E)),F=wt.merge(T,D),F==null)throw te.getNotFoundInstance();let J=F.getBoundingBox();if(Z&&J!=null&&(J.getMinY()<C.getMinY()||J.getMaxY()>C.getMaxY()))C=J;else break}F.setBoundingBox(C);let $=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn($,D);let q=T!=null;for(let Z=1;Z<=$;Z++){let J=q?Z:$-Z;if(F.getDetectionResultColumn(J)!==void 0)continue;let ne;J===0||J===$?ne=new ef(C,J===0):ne=new Fi(C),F.setDetectionResultColumn(J,ne);let fe=-1,Te=fe;for(let Pe=C.getMinY();Pe<=C.getMaxY();Pe++){if(fe=wt.getStartColumn(F,J,Pe,q),fe<0||fe>C.getMaxX()){if(Te===-1)continue;fe=Te}let Oe=wt.detectCodeword(a,C.getMinX(),C.getMaxX(),q,fe,Pe,x,E);Oe!=null&&(ne.setCodeword(Pe,Oe),Te=fe,x=Math.min(x,Oe.getWidth()),E=Math.max(E,Oe.getWidth()))}}return wt.createDecoderResult(F)}static merge(a,l){if(a==null&&l==null)return null;let u=wt.getBarcodeMetadata(a,l);if(u==null)return null;let h=Ha.merge(wt.adjustBoundingBox(a),wt.adjustBoundingBox(l));return new wo(u,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let u=wt.getMax(l),h=0;for(let E of l)if(h+=u-E,E>0)break;let g=a.getCodewords();for(let E=0;h>0&&g[E]==null;E++)h--;let x=0;for(let E=l.length-1;E>=0&&(x+=u-l[E],!(l[E]>0));E--);for(let E=g.length-1;x>0&&g[E]==null;E--)x--;return a.getBoundingBox().addMissingRows(h,x,a.isLeft())}static getMax(a){let l=-1;for(let u of a)l=Math.max(l,u);return l}static getBarcodeMetadata(a,l){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,l,u,h,g,x){let E=new ef(l,h);for(let C=0;C<2;C++){let T=C===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let F=Math.trunc(Math.trunc(u.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let $=wt.detectCodeword(a,0,a.getWidth(),h,D,F,g,x);$!=null&&(E.setCodeword(F,$),h?D=$.getStartX():D=$.getEndX())}}return E}static adjustCodewordCount(a,l){let u=l[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-wt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>ht.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let l=wt.createBarcodeMatrix(a);wt.adjustCodewordCount(a,l);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],x=new Array;for(let C=0;C<a.getBarcodeRowCount();C++)for(let T=0;T<a.getBarcodeColumnCount();T++){let D=l[C][T+1].getValue(),F=C*a.getBarcodeColumnCount()+T;D.length===0?u.push(F):D.length===1?h[F]=D[0]:(x.push(F),g.push(D))}let E=new Array(g.length);for(let C=0;C<E.length;C++)E[C]=g[C];return wt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,ht.toIntArray(u),ht.toIntArray(x),E)}static createDecoderResultFromAmbiguousValues(a,l,u,h,g){let x=new Int32Array(h.length),E=100;for(;E-- >0;){for(let C=0;C<x.length;C++)l[h[C]]=g[C][x[C]];try{return wt.decodeCodewords(l,a,u)}catch(C){if(!(C instanceof S))throw C}if(x.length===0)throw S.getChecksumInstance();for(let C=0;C<x.length;C++)if(x[C]<g[C].length-1){x[C]++;break}else if(x[C]=0,C===x.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let g=0;g<l[h].length;g++)l[h][g]=new Sa;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let x=g.getRowNumber();if(x>=0){if(x>=l.length)continue;l[x][u].setValue(g.getValue())}}}u++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,u,h){let g=h?1:-1,x=null;if(wt.isValidBarcodeColumn(a,l-g)&&(x=a.getDetectionResultColumn(l-g).getCodeword(u)),x!=null)return h?x.getEndX():x.getStartX();if(x=a.getDetectionResultColumn(l).getCodewordNearby(u),x!=null)return h?x.getStartX():x.getEndX();if(wt.isValidBarcodeColumn(a,l-g)&&(x=a.getDetectionResultColumn(l-g).getCodewordNearby(u)),x!=null)return h?x.getEndX():x.getStartX();let E=0;for(;wt.isValidBarcodeColumn(a,l-g);){l-=g;for(let C of a.getDetectionResultColumn(l).getCodewords())if(C!=null)return(h?C.getEndX():C.getStartX())+g*E*(C.getEndX()-C.getStartX());E++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,u,h,g,x,E,C){g=wt.adjustCodewordStartColumn(a,l,u,h,g,x);let T=wt.getModuleBitCount(a,l,u,h,g,x);if(T==null)return null;let D,F=bt.sum(T);if(h)D=g+F;else{for(let Z=0;Z<T.length/2;Z++){let J=T[Z];T[Z]=T[T.length-1-Z],T[T.length-1-Z]=J}D=g,g=D-F}if(!wt.checkCodewordSkew(F,E,C))return null;let $=rn.getDecodedValue(T),q=ht.getCodeword($);return q===-1?null:new Ga(g,D,wt.getCodewordBucketNumber($),q)}static getModuleBitCount(a,l,u,h,g,x){let E=g,C=new Int32Array(8),T=0,D=h?1:-1,F=h;for(;(h?E<u:E>=l)&&T<C.length;)a.get(E,x)===F?(C[T]++,E+=D):(T++,F=!F);return T===C.length||E===(h?u:l)&&T===C.length-1?C:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,u,h,g,x){let E=g,C=h?-1:1;for(let T=0;T<2;T++){for(;(h?E>=l:E<u)&&h===a.get(E,x);){if(Math.abs(g-E)>wt.CODEWORD_SKEW_SIZE)return g;E+=C}C=-C,h=!h}return E}static checkCodewordSkew(a,l,u){return l-wt.CODEWORD_SKEW_SIZE<=a&&a<=u+wt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,u){if(a.length===0)throw H.getFormatInstance();let h=1<<l+1,g=wt.correctErrors(a,u,h);wt.verifyCodewordCount(a,h);let x=he.decode(a,""+l);return x.setErrorsCorrected(g),x.setErasures(u.length),x}static correctErrors(a,l,u){if(l!=null&&l.length>u/2+wt.MAX_ERRORS||u<0||u>wt.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return wt.errorCorrection.decode(a,u,l)}static verifyCodewordCount(a,l){if(a.length<4)throw H.getFormatInstance();let u=a[0];if(u>a.length)throw H.getFormatInstance();if(u===0)if(l<a.length)a[0]=a.length-l;else throw H.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),u=0,h=l.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return wt.getCodewordBucketNumber(wt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new ia;for(let u=0;u<a.length;u++){l.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}wt.CODEWORD_SKEW_SIZE=2,wt.MAX_ERRORS=3,wt.MAX_EC_CODEWORDS=512,wt.errorCorrection=new Jc;class nn{decode(a,l=null){let u=nn.decode(a,l,!1);if(u==null||u.length===0||u[0]==null)throw te.getNotFoundInstance();return u[0]}decodeMultiple(a,l=null){try{return nn.decode(a,l,!0)}catch(u){throw u instanceof H||u instanceof S?te.getNotFoundInstance():u}}static decode(a,l,u){const h=new Array,g=xt.detectMultiple(a,l,u);for(const x of g.getPoints()){const E=wt.decode(g.getBits(),x[4],x[5],x[6],x[7],nn.getMinCodewordWidth(x),nn.getMaxCodewordWidth(x)),C=new Me(E.getText(),E.getRawBytes(),void 0,x,Ce.PDF_417);C.putMetadata(it.ERROR_CORRECTION_LEVEL,E.getECLevel());const T=E.getOther();T!=null&&C.putMetadata(it.PDF417_EXTRA_METADATA,T),h.push(C)}return h.map(x=>x)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?j.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(nn.getMaxWidth(a[0],a[4]),nn.getMaxWidth(a[6],a[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(a[1],a[5]),nn.getMaxWidth(a[7],a[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(nn.getMinWidth(a[0],a[4]),nn.getMinWidth(a[6],a[2])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(a[1],a[5]),nn.getMinWidth(a[7],a[3])*ht.MODULES_IN_CODEWORD/ht.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ms extends m{}Ms.kind="ReaderException";class Ol{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!n(a)&&a.get(V.TRY_HARDER)===!0,u=n(a)?null:a.get(V.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const g=u.some(x=>x===Ce.UPC_A||x===Ce.UPC_E||x===Ce.EAN_13||x===Ce.EAN_8||x===Ce.CODABAR||x===Ce.CODE_39||x===Ce.CODE_93||x===Ce.CODE_128||x===Ce.ITF||x===Ce.RSS_14||x===Ce.RSS_EXPANDED);g&&!l&&h.push(new Ts(a,this.verbose)),u.includes(Ce.QR_CODE)&&h.push(new _n),u.includes(Ce.DATA_MATRIX)&&h.push(new gi),u.includes(Ce.AZTEC)&&h.push(new Er),u.includes(Ce.PDF_417)&&h.push(new nn),g&&l&&h.push(new Ts(a,this.verbose))}h.length===0&&(l||h.push(new Ts(a,this.verbose)),h.push(new _n),h.push(new gi),h.push(new Er),h.push(new nn),l&&h.push(new Ts(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Ms("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(u){if(u instanceof Ms)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Ao extends Be{constructor(a=null,l=500){const u=new Ol;u.setHints(a),super(u,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Nl extends Be{constructor(a=500){super(new nn,a)}}class rf extends Be{constructor(a=500){super(new _n,a)}}var ru;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(ru||(ru={}));var Br=ru;class nu{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new xe(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let u=l[l.length-1];const h=this.field;for(let g=l.length;g<=a;g++){const x=u.multiply(new xe(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));l.push(x),u=x}}return l[a]}encode(a,l){if(l===0)throw new w("No error correction bytes");const u=a.length-l;if(u<=0)throw new w("No data bytes provided");const h=this.buildGenerator(l),g=new Int32Array(u);O.arraycopy(a,0,g,0,u);let x=new xe(this.field,g);x=x.multiplyByMonomial(l,1);const C=x.divide(h)[1].getCoefficients(),T=l-C.length;for(let D=0;D<T;D++)a[u+D]=0;O.arraycopy(C,0,a,u+T,C.length)}}class ir{constructor(){}static applyMaskPenaltyRule1(a){return ir.applyMaskPenaltyRule1Internal(a,!0)+ir.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g-1;x++){const E=u[x];for(let C=0;C<h-1;C++){const T=E[C];T===E[C+1]&&T===u[x+1][C]&&T===u[x+1][C+1]&&l++}}return ir.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let x=0;x<g;x++)for(let E=0;E<h;E++){const C=u[x];E+6<h&&C[E]===1&&C[E+1]===0&&C[E+2]===1&&C[E+3]===1&&C[E+4]===1&&C[E+5]===0&&C[E+6]===1&&(ir.isWhiteHorizontal(C,E-4,E)||ir.isWhiteHorizontal(C,E+7,E+11))&&l++,x+6<g&&u[x][E]===1&&u[x+1][E]===0&&u[x+2][E]===1&&u[x+3][E]===1&&u[x+4][E]===1&&u[x+5][E]===0&&u[x+6][E]===1&&(ir.isWhiteVertical(u,E,x-4,x)||ir.isWhiteVertical(u,E,x+7,x+11))&&l++}return l*ir.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let h=l;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let C=0;C<g;C++){const T=u[C];for(let D=0;D<h;D++)T[D]===1&&l++}const x=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-x)*10/x)*ir.N4}static getDataMaskBit(a,l,u){let h,g;switch(a){case 0:h=u+l&1;break;case 1:h=u&1;break;case 2:h=l%3;break;case 3:h=(u+l)%3;break;case 4:h=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:g=u*l,h=(g&1)+g%3;break;case 6:g=u*l,h=(g&1)+g%3&1;break;case 7:g=u*l,h=g%3+(u+l&1)&1;break;default:throw new w("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let u=0;const h=l?a.getHeight():a.getWidth(),g=l?a.getWidth():a.getHeight(),x=a.getArray();for(let E=0;E<h;E++){let C=0,T=-1;for(let D=0;D<g;D++){const F=l?x[E][D]:x[D][E];F===T?C++:(C>=5&&(u+=ir.N1+(C-5)),C=1,T=F)}C>=5&&(u+=ir.N1+(C-5))}return u}}ir.N1=3,ir.N2=3,ir.N3=40,ir.N4=10;class Il{constructor(a,l){this.width=a,this.height=l;const u=new Array(l);for(let h=0;h!==l;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,u){this.bytes[l][a]=u}setBoolean(a,l,u){this.bytes[l][a]=u?1:0}clear(a){for(const l of this.bytes)L.fill(l,a)}equals(a){if(!(a instanceof Il))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],x=l.bytes[u];for(let E=0,C=this.width;E<C;++E)if(g[E]!==x[E])return!1}return!0}toString(){const a=new Ae;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l];for(let g=0,x=this.width;g<x;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class qa{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Ae;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<qa.NUM_MASK_PATTERNS}}qa.NUM_MASK_PATTERNS=8;class Ht extends m{}Ht.kind="WriterException";class ct{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,u,h,g){ct.clearMatrix(g),ct.embedBasicPatterns(u,g),ct.embedTypeInfo(l,h,g),ct.maybeEmbedVersionInfo(u,g),ct.embedDataBits(a,h,g)}static embedBasicPatterns(a,l){ct.embedPositionDetectionPatternsAndSeparators(l),ct.embedDarkDotAtLeftBottomCorner(l),ct.maybeEmbedPositionAdjustmentPatterns(a,l),ct.embedTimingPatterns(l)}static embedTypeInfo(a,l,u){const h=new z;ct.makeTypeInfoBits(a,l,h);for(let g=0,x=h.getSize();g<x;++g){const E=h.get(h.getSize()-1-g),C=ct.TYPE_INFO_COORDINATES[g],T=C[0],D=C[1];if(u.setBoolean(T,D,E),g<8){const F=u.getWidth()-g-1;u.setBoolean(F,8,E)}else{const $=u.getHeight()-7+(g-8);u.setBoolean(8,$,E)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const u=new z;ct.makeVersionInfoBits(a,u);let h=17;for(let g=0;g<6;++g)for(let x=0;x<3;++x){const E=u.get(h);h--,l.setBoolean(g,l.getHeight()-11+x,E),l.setBoolean(l.getHeight()-11+x,g,E)}}static embedDataBits(a,l,u){let h=0,g=-1,x=u.getWidth()-1,E=u.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);E>=0&&E<u.getHeight();){for(let C=0;C<2;++C){const T=x-C;if(!ct.isEmpty(u.get(T,E)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,l!==255&&ir.getDataMaskBit(l,T,E)&&(D=!D),u.setBoolean(T,E,D)}E+=g}g=-g,E+=g,x-=2}if(h!==a.getSize())throw new Ht("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-j.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new w("0 polynomial");const u=ct.findMSBSet(l);for(a<<=u-1;ct.findMSBSet(a)>=u;)a^=l<<ct.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,l,u){if(!qa.isValidMaskPattern(l))throw new Ht("Invalid mask pattern");const h=a.getBits()<<3|l;u.appendBits(h,5);const g=ct.calculateBCHCode(h,ct.TYPE_INFO_POLY);u.appendBits(g,10);const x=new z;if(x.appendBits(ct.TYPE_INFO_MASK_PATTERN,15),u.xor(x),u.getSize()!==15)throw new Ht("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const u=ct.calculateBCHCode(a.getVersionNumber(),ct.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new Ht("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const u=(l+1)%2;ct.isEmpty(a.get(l,6))&&a.setNumber(l,6,u),ct.isEmpty(a.get(6,l))&&a.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Ht;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,u){for(let h=0;h<8;++h){if(!ct.isEmpty(u.get(a+h,l)))throw new Ht;u.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,u){for(let h=0;h<7;++h){if(!ct.isEmpty(u.get(a,l+h)))throw new Ht;u.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,u){for(let h=0;h<5;++h){const g=ct.POSITION_ADJUSTMENT_PATTERN[h];for(let x=0;x<5;++x)u.setNumber(a+x,l+h,g[x])}}static embedPositionDetectionPattern(a,l,u){for(let h=0;h<7;++h){const g=ct.POSITION_DETECTION_PATTERN[h];for(let x=0;x<7;++x)u.setNumber(a+x,l+h,g[x])}}static embedPositionDetectionPatternsAndSeparators(a){const l=ct.POSITION_DETECTION_PATTERN[0].length;ct.embedPositionDetectionPattern(0,0,a),ct.embedPositionDetectionPattern(a.getWidth()-l,0,a),ct.embedPositionDetectionPattern(0,a.getWidth()-l,a);const u=8;ct.embedHorizontalSeparationPattern(0,u-1,a),ct.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),ct.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;ct.embedVerticalSeparationPattern(h,0,a),ct.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),ct.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,x=h.length;g!==x;g++){const E=h[g];if(E>=0)for(let C=0;C!==x;C++){const T=h[C];T>=0&&ct.isEmpty(l.get(T,E))&&ct.embedPositionAdjustmentPattern(T-2,E-2,l)}}}}ct.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ct.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ct.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ct.VERSION_INFO_POLY=7973,ct.TYPE_INFO_POLY=1335,ct.TYPE_INFO_MASK_PATTERN=21522;class om{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Kt{constructor(){}static calculateMaskPenalty(a){return ir.applyMaskPenaltyRule1(a)+ir.applyMaskPenaltyRule2(a)+ir.applyMaskPenaltyRule3(a)+ir.applyMaskPenaltyRule4(a)}static encode(a,l,u=null){let h=Kt.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Br.CHARACTER_SET)!==void 0;g&&(h=u.get(Br.CHARACTER_SET).toString());const x=this.chooseMode(a,h),E=new z;if(x===st.BYTE&&(g||Kt.DEFAULT_BYTE_MODE_ENCODING!==h)){const Pe=X.getCharacterSetECIByName(h);Pe!==void 0&&this.appendECI(Pe,E)}this.appendModeInfo(x,E);const C=new z;this.appendBytes(a,x,C,h);let T;if(u!==null&&u.get(Br.QR_VERSION)!==void 0){const Pe=Number.parseInt(u.get(Br.QR_VERSION).toString(),10);T=nt.getVersionForNumber(Pe);const Oe=this.calculateBitsNeeded(x,E,C,T);if(!this.willFit(Oe,T,l))throw new Ht("Data too big for requested version")}else T=this.recommendVersion(l,x,E,C);const D=new z;D.appendBitArray(E);const F=x===st.BYTE?C.getSizeInBytes():a.length;this.appendLengthInfo(F,T,x,D),D.appendBitArray(C);const $=T.getECBlocksForLevel(l),q=T.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(q,D);const Z=this.interleaveWithECBytes(D,T.getTotalCodewords(),q,$.getNumBlocks()),J=new qa;J.setECLevel(l),J.setMode(x),J.setVersion(T);const ne=T.getDimensionForVersion(),fe=new Il(ne,ne),Te=this.chooseMaskPattern(Z,l,T,fe);return J.setMaskPattern(Te),ct.buildMatrix(Z,l,T,Te,fe),J.setMatrix(fe),J}static recommendVersion(a,l,u,h){const g=this.calculateBitsNeeded(l,u,h,nt.getVersionForNumber(1)),x=this.chooseVersion(g,a),E=this.calculateBitsNeeded(l,u,h,x);return this.chooseVersion(E,a)}static calculateBitsNeeded(a,l,u,h){return l.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<Kt.ALPHANUMERIC_TABLE.length?Kt.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(X.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return st.KANJI;let u=!1,h=!1;for(let g=0,x=a.length;g<x;++g){const E=a.charAt(g);if(Kt.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)h=!0;else return st.BYTE}return h?st.ALPHANUMERIC:u?st.NUMERIC:st.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=pe.encode(a,X.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=l[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,l,u,h){let g=Number.MAX_SAFE_INTEGER,x=-1;for(let E=0;E<qa.NUM_MASK_PATTERNS;E++){ct.buildMatrix(a,l,u,E,h);let C=this.calculateMaskPenalty(h);C<g&&(g=C,x=E)}return x}static chooseVersion(a,l){for(let u=1;u<=40;u++){const h=nt.getVersionForNumber(u);if(Kt.willFit(a,h,l))return h}throw new Ht("Data too big")}static willFit(a,l,u){const h=l.getTotalCodewords(),x=l.getECBlocksForLevel(u).getTotalECCodewords(),E=h-x,C=(a+7)/8;return E>=C}static terminateBits(a,l){const u=a*8;if(l.getSize()>u)throw new Ht("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let x=0;x<4&&l.getSize()<u;++x)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let x=h;x<8;x++)l.appendBit(!1);const g=a-l.getSizeInBytes();for(let x=0;x<g;++x)l.appendBits((x&1)===0?236:17,8);if(l.getSize()!==u)throw new Ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,u,h,g,x){if(h>=u)throw new Ht("Block ID too large");const E=a%u,C=u-E,T=Math.floor(a/u),D=T+1,F=Math.floor(l/u),$=F+1,q=T-F,Z=D-$;if(q!==Z)throw new Ht("EC bytes mismatch");if(u!==C+E)throw new Ht("RS blocks mismatch");if(a!==(F+q)*C+($+Z)*E)throw new Ht("Total bytes mismatch");h<C?(g[0]=F,x[0]=q):(g[0]=$,x[0]=Z)}static interleaveWithECBytes(a,l,u,h){if(a.getSizeInBytes()!==u)throw new Ht("Number of bits and data bytes does not match");let g=0,x=0,E=0;const C=new Array;for(let D=0;D<h;++D){const F=new Int32Array(1),$=new Int32Array(1);Kt.getNumDataBytesAndNumECBytesForBlockID(l,u,h,D,F,$);const q=F[0],Z=new Uint8Array(q);a.toBytes(8*g,Z,0,q);const J=Kt.generateECBytes(Z,$[0]);C.push(new om(Z,J)),x=Math.max(x,q),E=Math.max(E,J.length),g+=F[0]}if(u!==g)throw new Ht("Data bytes does not match offset");const T=new z;for(let D=0;D<x;++D)for(const F of C){const $=F.getDataBytes();D<$.length&&T.appendBits($[D],8)}for(let D=0;D<E;++D)for(const F of C){const $=F.getErrorCorrectionBytes();D<$.length&&T.appendBits($[D],8)}if(l!==T.getSizeInBytes())throw new Ht("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,l){const u=a.length,h=new Int32Array(u+l);for(let x=0;x<u;x++)h[x]=a[x]&255;new nu(Ve.QR_CODE_FIELD_256).encode(h,l);const g=new Uint8Array(l);for(let x=0;x<l;x++)g[x]=h[u+x];return g}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,u,h){const g=u.getCharacterCountBits(l);if(a>=1<<g)throw new Ht(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,l,u,h){switch(l){case st.NUMERIC:Kt.appendNumericBytes(a,u);break;case st.ALPHANUMERIC:Kt.appendAlphanumericBytes(a,u);break;case st.BYTE:Kt.append8BitBytes(a,u,h);break;case st.KANJI:Kt.appendKanjiBytes(a,u);break;default:throw new Ht("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=Kt.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Kt.getDigit(a.charAt(h));if(h+2<u){const x=Kt.getDigit(a.charAt(h+1)),E=Kt.getDigit(a.charAt(h+2));l.appendBits(g*100+x*10+E,10),h+=3}else if(h+1<u){const x=Kt.getDigit(a.charAt(h+1));l.appendBits(g*10+x,7),h+=2}else l.appendBits(g,4),h++}}static appendAlphanumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Kt.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new Ht;if(h+1<u){const x=Kt.getAlphanumericCode(a.charCodeAt(h+1));if(x===-1)throw new Ht;l.appendBits(g*45+x,11),h+=2}else l.appendBits(g,6),h++}}static append8BitBytes(a,l,u){let h;try{h=pe.encode(a,u)}catch(g){throw new Ht(g)}for(let g=0,x=h.length;g!==x;g++){const E=h[g];l.appendBits(E,8)}}static appendKanjiBytes(a,l){let u;try{u=pe.encode(a,X.SJIS)}catch(g){throw new Ht(g)}const h=u.length;for(let g=0;g<h;g+=2){const x=u[g]&255,E=u[g+1]&255,C=x<<8&4294967295|E;let T=-1;if(C>=33088&&C<=40956?T=C-33088:C>=57408&&C<=60351&&(T=C-49472),T===-1)throw new Ht("Invalid byte sequence");const D=(T>>8)*192+(T&255);l.appendBits(D,13)}}static appendECI(a,l){l.appendBits(st.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}Kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Kt.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Ka{write(a,l,u,h=null){if(a.length===0)throw new w("Found empty contents");if(l<0||u<0)throw new w("Requested dimensions are too small: "+l+"x"+u);let g=Wt.L,x=Ka.QUIET_ZONE_SIZE;h!==null&&(h.get(Br.ERROR_CORRECTION)!==void 0&&(g=Wt.fromString(h.get(Br.ERROR_CORRECTION).toString())),h.get(Br.MARGIN)!==void 0&&(x=Number.parseInt(h.get(Br.MARGIN).toString(),10)));const E=Kt.encode(a,g,h);return this.renderResult(E,l,u,x)}writeToDom(a,l,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const x=this.write(l,u,h,g);a&&a.appendChild(x)}renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new vt;const x=g.getWidth(),E=g.getHeight(),C=x+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),q=Math.floor((D-x*$)/2),Z=Math.floor((F-E*$)/2),J=this.createSVGElement(D,F);for(let ne=0,fe=Z;ne<E;ne++,fe+=$)for(let Te=0,Pe=q;Te<x;Te++,Pe+=$)if(g.get(Te,ne)===1){const Oe=this.createSvgRectElement(Pe,fe,$,$);J.appendChild(Oe)}return J}createSVGElement(a,l){const u=document.createElementNS(Ka.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,h){const g=document.createElementNS(Ka.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Ka.QUIET_ZONE_SIZE=4,Ka.SVG_NS="http://www.w3.org/2000/svg";class Ds{encode(a,l,u,h,g){if(a.length===0)throw new w("Found empty contents");if(l!==Ce.QR_CODE)throw new w("Can only encode QR_CODE, but got "+l);if(u<0||h<0)throw new w(`Requested dimensions are too small: ${u}x${h}`);let x=Wt.L,E=Ds.QUIET_ZONE_SIZE;g!==null&&(g.get(Br.ERROR_CORRECTION)!==void 0&&(x=Wt.fromString(g.get(Br.ERROR_CORRECTION).toString())),g.get(Br.MARGIN)!==void 0&&(E=Number.parseInt(g.get(Br.MARGIN).toString(),10)));const C=Kt.encode(a,x,g);return Ds.renderResult(C,u,h,E)}static renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new vt;const x=g.getWidth(),E=g.getHeight(),C=x+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),q=Math.floor((D-x*$)/2),Z=Math.floor((F-E*$)/2),J=new ke(D,F);for(let ne=0,fe=Z;ne<E;ne++,fe+=$)for(let Te=0,Pe=q;Te<x;Te++,Pe+=$)g.get(Te,ne)===1&&J.setRegion(Pe,fe,$,$);return J}}Ds.QUIET_ZONE_SIZE=4;class lm{encode(a,l,u,h,g){let x;switch(l){case Ce.QR_CODE:x=new Ds;break;default:throw new w("No encoder available for format "+l)}return x.encode(a,l,u,h,g)}}class Ui extends ge{constructor(a,l,u,h,g,x,E,C){if(super(x,E),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,h+x>l||g+E>u)throw new w("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(x,E)}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return O.arraycopy(this.yuvData,g,h,0,u),h;for(let x=0;x<l;x++){const E=x*a;O.arraycopy(this.yuvData,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new Ui(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,h,!1)}renderThumbnail(){const a=this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let x=0;x<l;x++){const E=x*a;for(let C=0;C<a;C++){const T=h[g+C*Ui.THUMBNAIL_SCALE_FACTOR]&255;u[E+C]=4278190080|T*65793}g+=this.dataWidth*Ui.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Ui.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ui.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<l;h++,g+=this.dataWidth){const x=g+a/2;for(let E=g,C=g+a-1;E<x;E++,C--){const T=u[E];u[E]=u[C],u[C]=T}}}invert(){return new we(this)}}Ui.THUMBNAIL_SCALE_FACTOR=2;class _o extends ge{constructor(a,l,u,h,g,x,E){if(super(l,u),this.dataWidth=h,this.dataHeight=g,this.left=x,this.top=E,a.BYTES_PER_ELEMENT===4){const C=l*u,T=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const F=a[D],$=F>>16&255,q=F>>7&510,Z=F&255;T[D]=($+q+Z)/4&255}this.luminances=T}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=u),x===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new w("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return O.arraycopy(this.luminances,g,h,0,u),h;for(let x=0;x<l;x++){const E=x*a;O.arraycopy(this.luminances,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new _o(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new we(this)}}class nf extends X{static forName(a){return this.getCharacterSetECIByName(a)}}class iu{}iu.ISO_8859_1=X.ISO8859_1;class af{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class au{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class cm{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Ls extends cm{constructor(a,l,u){super(a),this.value=l,this.bitCount=u}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new Ls(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ls(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+j.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class su extends Ls{constructor(a,l,u){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(a,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(a,l){return new su(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function um(B,a,l){return new su(B,a,l)}function So(B,a,l){return new Ls(B,a,l)}const dm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ca=0,Bs=1,pn=2,sf=3,xi=4,of=new Ls(null,0,0),Tl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function lf(B){for(let a of B)L.fill(a,-1);return B[Ca][xi]=0,B[Bs][xi]=0,B[Bs][Ca]=28,B[sf][xi]=0,B[pn][xi]=0,B[pn][Ca]=15,B}const ou=lf(L.createInt32Array(6,6));class Sn{constructor(a,l,u,h){this.token=a,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let u=this.bitCount,h=this.token;if(a!==this.mode){let x=Tl[this.mode][a];h=So(h,x&65535,x>>16),u+=x>>16}let g=a===pn?4:5;return h=So(h,l,g),new Sn(h,a,0,u+g)}shiftAndAppend(a,l){let u=this.token,h=this.mode===pn?4:5;return u=So(u,ou[this.mode][a],h),u=So(u,l,5),new Sn(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,u=this.mode,h=this.bitCount;if(this.mode===xi||this.mode===pn){let E=Tl[u][Ca];l=So(l,E&65535,E>>16),h+=E>>16,u=Ca}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new Sn(l,u,this.binaryShiftByteCount+1,h+g);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(a+1)),x}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=um(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Sn(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Tl[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Sn.calculateBinaryShiftCost(a)-Sn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let u=new z;for(const h of l)h.appendTo(u,a);return u}toString(){return de.format("%s bits=%d bytes=%d",dm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Sn.INITIAL_STATE=new Sn(of,Ca,0,0);function fm(B){const a=de.getCharCode(" "),l=de.getCharCode("."),u=de.getCharCode(",");B[Ca][a]=1;const h=de.getCharCode("Z"),g=de.getCharCode("A");for(let $=g;$<=h;$++)B[Ca][$]=$-g+2;B[Bs][a]=1;const x=de.getCharCode("z"),E=de.getCharCode("a");for(let $=E;$<=x;$++)B[Bs][$]=$-E+2;B[pn][a]=1;const C=de.getCharCode("9"),T=de.getCharCode("0");for(let $=T;$<=C;$++)B[pn][$]=$-T+2;B[pn][u]=12,B[pn][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<D.length;$++)B[sf][de.getCharCode(D[$])]=$;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<F.length;$++)de.getCharCode(F[$])>0&&(B[xi][de.getCharCode(F[$])]=$);return B}const lu=fm(L.createInt32Array(5,256));class Co{constructor(a){this.text=a}encode(){const a=de.getCharCode(" "),l=de.getCharCode(`
`);let u=au.singletonList(Sn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let x,E=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case de.getCharCode("\r"):x=E===l?2:0;break;case de.getCharCode("."):x=E===a?3:0;break;case de.getCharCode(","):x=E===a?4:0;break;case de.getCharCode(":"):x=E===a?5:0;break;default:x=0}x>0?(u=Co.updateStateListForPair(u,g,x),g++):u=this.updateStateListForChar(u,g)}return au.min(u,(g,x)=>g.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const u=[];for(let h of a)this.updateStateForChar(h,l,u);return Co.simplifyStates(u)}updateStateForChar(a,l,u){let h=this.text[l]&255,g=lu[a.getMode()][h]>0,x=null;for(let E=0;E<=xi;E++){let C=lu[E][h];if(C>0){if(x==null&&(x=a.endBinaryShift(l)),!g||E===a.getMode()||E===pn){const T=x.latchAndAppend(E,C);u.push(T)}if(!g&&ou[a.getMode()][E]>=0){const T=x.shiftAndAppend(E,C);u.push(T)}}}if(a.getBinaryShiftByteCount()>0||lu[a.getMode()][h]===0){let E=a.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(a,l,u){const h=[];for(let g of a)this.updateStateForPair(g,l,u,h);return this.simplifyStates(h)}static updateStateForPair(a,l,u,h){let g=a.endBinaryShift(l);if(h.push(g.latchAndAppend(xi,u)),a.getMode()!==xi&&h.push(g.shiftAndAppend(xi,u)),u===3||u===4){let x=g.latchAndAppend(pn,16-u).latchAndAppend(pn,1);h.push(x)}if(a.getBinaryShiftByteCount()>0){let x=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(x)}}static simplifyStates(a){let l=[];for(const u of a){let h=!0;for(const g of l){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(l=l.filter(x=>x!==g))}h&&l.push(u)}return l}}class Pt{constructor(){}static encodeBytes(a){return Pt.encode(a,Pt.DEFAULT_EC_PERCENT,Pt.DEFAULT_AZTEC_LAYERS)}static encode(a,l,u){let h=new Co(a).encode(),g=j.truncDivision(h.getSize()*l,100)+11,x=h.getSize()+g,E,C,T,D,F;if(u!==Pt.DEFAULT_AZTEC_LAYERS){if(E=u<0,C=Math.abs(u),C>(E?Pt.MAX_NB_BITS_COMPACT:Pt.MAX_NB_BITS))throw new w(de.format("Illegal value %s for layers",u));T=Pt.totalBitsInLayer(C,E),D=Pt.WORD_SIZE[C];let Oe=T-T%D;if(F=Pt.stuffBits(h,D),F.getSize()+g>Oe)throw new w("Data to large for user specified layer");if(E&&F.getSize()>D*64)throw new w("Data to large for user specified layer")}else{D=0,F=null;for(let Oe=0;;Oe++){if(Oe>Pt.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(E=Oe<=3,C=E?Oe+1:Oe,T=Pt.totalBitsInLayer(C,E),x>T)continue;(F==null||D!==Pt.WORD_SIZE[C])&&(D=Pt.WORD_SIZE[C],F=Pt.stuffBits(h,D));let Ct=T-T%D;if(!(E&&F.getSize()>D*64)&&F.getSize()+g<=Ct)break}}let $=Pt.generateCheckWords(F,T,D),q=F.getSize()/D,Z=Pt.generateModeMessage(E,C,q),J=(E?11:14)+C*4,ne=new Int32Array(J),fe;if(E){fe=J;for(let Oe=0;Oe<ne.length;Oe++)ne[Oe]=Oe}else{fe=J+1+2*j.truncDivision(j.truncDivision(J,2)-1,15);let Oe=j.truncDivision(J,2),Ct=j.truncDivision(fe,2);for(let yt=0;yt<Oe;yt++){let Ln=yt+j.truncDivision(yt,15);ne[Oe-yt-1]=Ct-Ln-1,ne[Oe+yt]=Ct+Ln+1}}let Te=new ke(fe);for(let Oe=0,Ct=0;Oe<C;Oe++){let yt=(C-Oe)*4+(E?9:12);for(let Ln=0;Ln<yt;Ln++){let yi=Ln*2;for(let Fr=0;Fr<2;Fr++)$.get(Ct+yi+Fr)&&Te.set(ne[Oe*2+Fr],ne[Oe*2+Ln]),$.get(Ct+yt*2+yi+Fr)&&Te.set(ne[Oe*2+Ln],ne[J-1-Oe*2-Fr]),$.get(Ct+yt*4+yi+Fr)&&Te.set(ne[J-1-Oe*2-Fr],ne[J-1-Oe*2-Ln]),$.get(Ct+yt*6+yi+Fr)&&Te.set(ne[J-1-Oe*2-Ln],ne[Oe*2+Fr])}Ct+=yt*8}if(Pt.drawModeMessage(Te,E,fe,Z),E)Pt.drawBullsEye(Te,j.truncDivision(fe,2),5);else{Pt.drawBullsEye(Te,j.truncDivision(fe,2),7);for(let Oe=0,Ct=0;Oe<j.truncDivision(J,2)-1;Oe+=15,Ct+=16)for(let yt=j.truncDivision(fe,2)&1;yt<fe;yt+=2)Te.set(j.truncDivision(fe,2)-Ct,yt),Te.set(j.truncDivision(fe,2)+Ct,yt),Te.set(yt,j.truncDivision(fe,2)-Ct),Te.set(yt,j.truncDivision(fe,2)+Ct)}let Pe=new af;return Pe.setCompact(E),Pe.setSize(fe),Pe.setLayers(C),Pe.setCodeWords(q),Pe.setMatrix(Te),Pe}static drawBullsEye(a,l,u){for(let h=0;h<u;h+=2)for(let g=l-h;g<=l+h;g++)a.set(g,l-h),a.set(g,l+h),a.set(l-h,g),a.set(l+h,g);a.set(l-u,l-u),a.set(l-u+1,l-u),a.set(l-u,l-u+1),a.set(l+u,l-u),a.set(l+u,l-u+1),a.set(l+u,l+u-1)}static generateModeMessage(a,l,u){let h=new z;return a?(h.appendBits(l-1,2),h.appendBits(u-1,6),h=Pt.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(u-1,11),h=Pt.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,u,h){let g=j.truncDivision(u,2);if(l)for(let x=0;x<7;x++){let E=g-3+x;h.get(x)&&a.set(E,g-5),h.get(x+7)&&a.set(g+5,E),h.get(20-x)&&a.set(E,g+5),h.get(27-x)&&a.set(g-5,E)}else for(let x=0;x<10;x++){let E=g-5+x+j.truncDivision(x,5);h.get(x)&&a.set(E,g-7),h.get(x+10)&&a.set(g+7,E),h.get(29-x)&&a.set(E,g+7),h.get(39-x)&&a.set(g-7,E)}}static generateCheckWords(a,l,u){let h=a.getSize()/u,g=new nu(Pt.getGF(u)),x=j.truncDivision(l,u),E=Pt.bitsToWords(a,u,x);g.encode(E,x-h);let C=l%u,T=new z;T.appendBits(0,C);for(const D of Array.from(E))T.appendBits(D,u);return T}static bitsToWords(a,l,u){let h=new Int32Array(u),g,x;for(g=0,x=a.getSize()/l;g<x;g++){let E=0;for(let C=0;C<l;C++)E|=a.get(g*l+C)?1<<l-C-1:0;h[g]=E}return h}static getGF(a){switch(a){case 4:return Ve.AZTEC_PARAM;case 6:return Ve.AZTEC_DATA_6;case 8:return Ve.AZTEC_DATA_8;case 10:return Ve.AZTEC_DATA_10;case 12:return Ve.AZTEC_DATA_12;default:throw new w("Unsupported word size "+a)}}static stuffBits(a,l){let u=new z,h=a.getSize(),g=(1<<l)-2;for(let x=0;x<h;x+=l){let E=0;for(let C=0;C<l;C++)(x+C>=h||a.get(x+C))&&(E|=1<<l-1-C);(E&g)===g?(u.appendBits(E&g,l),x--):(E&g)===0?(u.appendBits(E|1,l),x--):u.appendBits(E,l)}return u}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Pt.DEFAULT_EC_PERCENT=33,Pt.DEFAULT_AZTEC_LAYERS=0,Pt.MAX_NB_BITS=32,Pt.MAX_NB_BITS_COMPACT=4,Pt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Oo{encode(a,l,u,h){return this.encodeWithHints(a,l,u,h,null)}encodeWithHints(a,l,u,h,g){let x=iu.ISO_8859_1,E=Pt.DEFAULT_EC_PERCENT,C=Pt.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Br.CHARACTER_SET)&&(x=nf.forName(g.get(Br.CHARACTER_SET).toString())),g.has(Br.ERROR_CORRECTION)&&(E=j.parseInt(g.get(Br.ERROR_CORRECTION).toString())),g.has(Br.AZTEC_LAYERS)&&(C=j.parseInt(g.get(Br.AZTEC_LAYERS).toString()))),Oo.encodeLayers(a,l,u,h,x,E,C)}static encodeLayers(a,l,u,h,g,x,E){if(l!==Ce.AZTEC)throw new w("Can only encode AZTEC, but got "+l);let C=Pt.encode(de.getBytes(a,g),x,E);return Oo.renderResult(C,u,h)}static renderResult(a,l,u){let h=a.getMatrix();if(h==null)throw new vt;let g=h.getWidth(),x=h.getHeight(),E=Math.max(l,g),C=Math.max(u,x),T=Math.min(E/g,C/x),D=(E-g*T)/2,F=(C-x*T)/2,$=new ke(E,C);for(let q=0,Z=F;q<x;q++,Z+=T)for(let J=0,ne=D;J<g;J++,ne+=T)h.get(J,q)&&$.setRegion(ne,Z,T,T);return $}}r.AbstractExpandedDecoder=qc,r.ArgumentException=v,r.ArithmeticException=ye,r.AztecCode=af,r.AztecCodeReader=Er,r.AztecCodeWriter=Oo,r.AztecDecoder=St,r.AztecDetector=qt,r.AztecDetectorResult=Ea,r.AztecEncoder=Pt,r.AztecHighLevelEncoder=Co,r.AztecPoint=Ze,r.BarcodeFormat=Ce,r.Binarizer=N,r.BinaryBitmap=_,r.BitArray=z,r.BitMatrix=ke,r.BitSource=Yc,r.BrowserAztecCodeReader=Wa,r.BrowserBarcodeReader=Yd,r.BrowserCodeReader=Be,r.BrowserDatamatrixCodeReader=sm,r.BrowserMultiFormatReader=Ao,r.BrowserPDF417Reader=Nl,r.BrowserQRCodeReader=rf,r.BrowserQRCodeSvgWriter=Ka,r.CharacterSetECI=X,r.ChecksumException=S,r.Code128Reader=je,r.Code39Reader=Dr,r.DataMatrixDecodedBitStreamParser=mi,r.DataMatrixReader=gi,r.DecodeHintType=V,r.DecoderResult=ve,r.DefaultGridSampler=lt,r.DetectorResult=Mi,r.EAN13Reader=Qn,r.EncodeHintType=Br,r.Exception=m,r.FormatException=H,r.GenericGF=Ve,r.GenericGFPoly=xe,r.GlobalHistogramBinarizer=Fe,r.GridSampler=se,r.GridSamplerInstance=Le,r.HTMLCanvasElementLuminanceSource=be,r.HybridBinarizer=oe,r.ITFReader=Ft,r.IllegalArgumentException=w,r.IllegalStateException=vt,r.InvertedLuminanceSource=we,r.LuminanceSource=ge,r.MathUtils=bt,r.MultiFormatOneDReader=Ts,r.MultiFormatReader=Ol,r.MultiFormatWriter=lm,r.NotFoundException=te,r.OneDReader=Ar,r.PDF417DecodedBitStreamParser=he,r.PDF417DecoderErrorCorrection=Jc,r.PDF417Reader=nn,r.PDF417ResultMetadata=Sl,r.PerspectiveTransform=De,r.PlanarYUVLuminanceSource=Ui,r.QRCodeByteMatrix=Il,r.QRCodeDataMask=At,r.QRCodeDecodedBitStreamParser=nr,r.QRCodeDecoderErrorCorrectionLevel=Wt,r.QRCodeDecoderFormatInformation=en,r.QRCodeEncoder=Kt,r.QRCodeEncoderQRCode=qa,r.QRCodeMaskUtil=ir,r.QRCodeMatrixUtil=ct,r.QRCodeMode=st,r.QRCodeReader=_n,r.QRCodeVersion=nt,r.QRCodeWriter=Ds,r.RGBLuminanceSource=_o,r.RSS14Reader=Yt,r.RSSExpandedReader=Ee,r.ReaderException=Ms,r.ReedSolomonDecoder=_t,r.ReedSolomonEncoder=nu,r.ReedSolomonException=at,r.Result=Me,r.ResultMetadataType=it,r.ResultPoint=Ue,r.StringUtils=de,r.UnsupportedOperationException=_e,r.VideoInputDevice=Y,r.WhiteRectangleDetector=fn,r.WriterException=Ht,r.ZXingArrays=L,r.ZXingCharset=nf,r.ZXingInteger=j,r.ZXingStandardCharsets=iu,r.ZXingStringBuilder=Ae,r.ZXingStringEncoding=pe,r.ZXingSystem=O,r.createAbstractExpandedDecoder=Kd,Object.defineProperty(r,"__esModule",{value:!0})}))})(Vu,Vu.exports)),Vu.exports}var dr=oD();const lD=ta(dr),cD=qx({__proto__:null,default:lD},[dr]);var iA=(function(){function e(t,r,n){if(this.formatMap=new Map([[He.QR_CODE,dr.BarcodeFormat.QR_CODE],[He.AZTEC,dr.BarcodeFormat.AZTEC],[He.CODABAR,dr.BarcodeFormat.CODABAR],[He.CODE_39,dr.BarcodeFormat.CODE_39],[He.CODE_93,dr.BarcodeFormat.CODE_93],[He.CODE_128,dr.BarcodeFormat.CODE_128],[He.DATA_MATRIX,dr.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,dr.BarcodeFormat.MAXICODE],[He.ITF,dr.BarcodeFormat.ITF],[He.EAN_13,dr.BarcodeFormat.EAN_13],[He.EAN_8,dr.BarcodeFormat.EAN_8],[He.PDF_417,dr.BarcodeFormat.PDF_417],[He.RSS_14,dr.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,dr.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,dr.BarcodeFormat.UPC_A],[He.UPC_E,dr.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,dr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!cD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(dr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(dr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new dr.MultiFormatReader(this.verbose,this.hints),n=new dr.HTMLCanvasElementLuminanceSource(t),i=new dr.BinaryBitmap(new dr.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:oI.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),uD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},dD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},aA=(function(){function e(t,r,n){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return uD(this,void 0,void 0,function(){var r,n;return dD(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:oI.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),sA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},oA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},fD=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&aA.isSupported()?(this.primaryDecoder=new aA(t,n,i),this.secondaryDecoder=new iA(t,n,i)):this.primaryDecoder=new iA(t,n,i)}return e.prototype.decodeAsync=function(t){return sA(this,void 0,void 0,function(){var r;return oA(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return sA(this,void 0,void 0,function(){var r,n;return oA(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),vy=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),e0=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},t0=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},cI=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),hD=(function(e){vy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(cI),pD=(function(e){vy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(hD),mD=(function(e){vy(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(cI),gD=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new pD(this.track)},e.prototype.torchFeature=function(){return new mD(this.track)},e})(),vD=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return e0(this,void 0,void 0,function(){var s,c;return t0(this,function(f){switch(f.label){case 0:return s=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return e0(this,void 0,void 0,function(){return t0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new gD(this.getFirstTrackOrFail())},e})(),xD=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return e0(this,void 0,void 0,function(){return t0(this,function(i){return[2,vD.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return e0(this,void 0,void 0,function(){var r,n;return t0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),lA=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},cA=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},yD=(function(){function e(){}return e.failIfNotSupported=function(){return lA(this,void 0,void 0,function(){return cA(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return lA(this,void 0,void 0,function(){return cA(this,function(r){return[2,xD.create(t)]})})},e})(),wD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(v){try{m(n.next(v))}catch(w){c(w)}}function p(v){try{m(n.throw(v))}catch(w){c(w)}}function m(v){v.done?s(v.value):i(v.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},bD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(v){return p([m,v])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(v){m=[6,v],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ED=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=oc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=oc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return wD(this,void 0,void 0,function(){var t,r,n,i,s,c,f;return bD(this,function(p){switch(p.label){case 0:return t=function(m){for(var v=m.getVideoTracks(),w=0,_=v;w<_.length;w++){var S=_[w];S.enabled=!1,S.stop(),m.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],s=0,c=n;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var c=[],f=0,p=s;f<p.length;f++){var m=p[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Rr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rr||(Rr={}));var AD=(function(){function e(){this.state=Rr.NOT_STARTED,this.onGoingTransactionNewState=Rr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Rr.UNKNOWN:throw"Transition from unknown is not allowed";case Rr.NOT_STARTED:this.failIfNewStateIs(t,[Rr.PAUSED]);break;case Rr.SCANNING:break;case Rr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),_D=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rr.PAUSED},e})(),SD=(function(){function e(){}return e.create=function(){return new _D(new AD)},e})(),CD=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ai=(function(e){CD(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(nD),OD=(function(){function e(t,r){this.logger=r,this.fps=Ai.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ai.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?lI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ss(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),ND=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new aD(this.verbose),this.qrcode=new fD(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=SD.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=OD.create(r,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:Ai.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var w=this,_=this.stateManagerProxy.startTransition(Rr.SCANNING);return new Promise(function(S,N){var O=m?f.videoConstraints:w.createVideoConstraints(t);if(!O){_.cancel(),N("videoConstraints should be defined");return}var k={};(!m||f.aspectRatio)&&(k.aspectRatio=f.aspectRatio);var M={onRenderSurfaceReady:function(L,j){w.setupUi(L,j,f),w.isScanning=!0,w.foreverScan(f,n,c)}};yD.failIfNotSupported().then(function(L){L.create(O).then(function(j){return j.render(s.element,k,M).then(function(z){w.renderedCamera=z,_.execute(),S(null)}).catch(function(z){_.cancel(),N(z)})}).catch(function(j){_.cancel(),N(oc.errorGettingUserMedia(j))})}).catch(function(L){_.cancel(),N(oc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rr.PAUSED),this.showPausedState(),(ss(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Rr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Rr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(Ai.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ss(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(n.elementId),v=m.clientWidth?m.clientWidth:Ai.DEFAULT_WIDTH,w=Math.max(m.clientHeight?m.clientHeight:p,Ai.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(f,p,v,w);if(r){var S=n.createCanvasElement(v,w,"qr-canvas-visible");S.style.display="inline-block",m.appendChild(S);var N=S.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=v,N.canvas.height=w,N.drawImage(c,0,0,f,p,_.x,_.y,_.width,_.height)}var O=Ai.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,_.width),M=Math.max(c.height,_.height),L=k+2*O,j=M+2*O,z=n.createCanvasElement(L,j);m.appendChild(z);var W=z.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=j,W.drawImage(c,0,0,f,p,O,O,k,M);try{n.qrcode.decodeRobustlyAsync(z).then(function(V){i(rA.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ED.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!lI.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var c=s[i];rD(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ss(t))return!0;if(!ss(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ss(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ss(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,r,s),f=function(m){if(m<Ai.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ai.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};f(c.width),f(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=ss(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,s):f,m=this.createCanvasElement(p.width,p.height),v={willReadFrequently:!0},w=m.getContext("2d",v);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=oc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,rA.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=oc.codeParseError(i);return r(s,iD.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*f,v=this.qrRegion.x*c,w=this.qrRegion.y*f;this.context.drawImage(s,v,w,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(S){!S&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(S){i.logger.logError("Error happend while scanning context",S),_()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",c=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var v=typeof m;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(s in w)return{deviceId:{exact:w["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof w;throw"Invalid type of 'deviceId' = ".concat(_)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,c=(i-r)/2;return{x:s,y:c,width:t,height:r}}else{var f=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ai.BORDER_SHADER_MATCH_COLOR:Ai.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=ss(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ai.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(s,m,p,-p,null,0,!0),this.insertShaderBorders(s,m,p,-p,null,0,!1),this.insertShaderBorders(s,m,p,null,-p,0,!0),this.insertShaderBorders(s,m,p,null,-p,0,!1),this.insertShaderBorders(s,p,m+p,-p,null,-p,!0),this.insertShaderBorders(s,p,m+p,null,-p,-p,!0),this.insertShaderBorders(s,p,m+p,-p,null,-p,!1),this.insertShaderBorders(s,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Ai.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),s!==null&&(p.style.bottom="".concat(s,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),uA;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(uA||(uA={}));const ID=({perfume:e,onSell:t})=>{const[r,n]=I.useState(null);I.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await ut.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},s=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await ut.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return b.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[b.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),b.jsx("td",{className:"px-3 py-2 text-center",children:b.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),b.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),b.jsx("td",{className:"px-3 py-2 text-right",children:b.jsx("button",{onClick:s,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},TD=({onLogout:e})=>{const[t,r]=I.useState(""),[n,i]=I.useState(""),[s,c]=I.useState(!1),[f,p]=I.useState(null),[m,v]=I.useState("loyalty"),[w,_]=I.useState("Corte"),[S,N]=I.useState("7000"),[O,k]=I.useState(""),[M,L]=I.useState(""),[j,z]=I.useState("0"),[W,V]=I.useState([]),[H,re]=I.useState(null);I.useEffect(()=>{m==="agenda"&&Rt()},[m]);const[X,_e]=I.useState([]),[pe,de]=I.useState(""),[Ae,ke]=I.useState([]),[te,Fe]=I.useState(""),[oe,ge]=I.useState(""),[we,be]=I.useState(!1),[Y,le]=I.useState([]),[Be,Me]=I.useState(null),[We,Ce]=I.useState(""),[ot,it]=I.useState(""),[ve,et]=I.useState(!1),xe=(se,De)=>{if(Y.find(Le=>Le.id===se.id&&Le.type===De))le(Y.map(Le=>Le.id===se.id&&Le.type===De?{...Le,qty:Le.qty+1}:Le));else{let Le=0;De==="product"&&(Le=se.price10ml||0),De==="gift"&&(Le=se.price||0),le([...Y,{...se,type:De,qty:1,price:Le,variant:De==="product"?"10ml":"standard"}])}},ye=se=>{le(Y.filter(De=>De.id!==se))},Ve=async()=>{if(Y.length===0)return alert("El carrito est vaco");if(window.confirm(`Confirmar venta por $${Y.reduce((se,De)=>se+De.price*De.qty,0).toLocaleString()}?`)){et(!0);try{const se=Be?Be.id:null;for(const De of Y){if(De.type==="product"&&De.stock!==!1){const{error:Le}=await ut.rpc("adjust_inventory",{p_product_id:De.id,p_delta:-De.qty,p_reason:"sale_pos"});Le&&console.error("Inventory error",Le)}const{error:lt}=await ut.from("transactions").insert({client_id:se,amount:De.price*De.qty,type:De.type==="service"?"service":"product",description:`POS: ${De.name} (${De.variant}) x${De.qty}`,additional_cost:0});if(lt)throw console.error("Tx Error",lt),lt}alert(" Venta registrada con xito!"),le([]),Me(null),Ce("")}catch(se){alert("Error procesando venta: "+se.message)}finally{et(!1)}}};I.useEffect(()=>{m==="agenda"?Rt():m==="clients"?St():m==="expenses"&&at()},[m]);const at=async()=>{const{data:se,error:De}=await ut.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});De?console.error("Error fetching expenses:",De):ke(se||[])},vt=async()=>{if(!te||!oe){alert("Ingrese descripcin y monto");return}be(!0);try{const se=UM(te),{error:De}=await ut.from("expenses").insert({description:te,amount:parseInt(oe),category:se,date:new Date});if(De)throw De;alert(`Gasto registrado como: ${se}`),Fe(""),ge(""),at()}catch(se){alert("Error: "+se.message)}finally{be(!1)}},_t=async se=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:De}=await ut.from("expenses").delete().eq("id",se);De||at()},Rt=async()=>{const se=new Date().toISOString().split("T")[0],{data:De,error:lt}=await ut.from("bookings").select("*").gte("date",se).order("date",{ascending:!0}).order("time",{ascending:!0});lt?console.error("Error fetching bookings:",lt):V(De||[])},St=async()=>{let se=ut.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);pe&&(se=se.ilike("phone",`%${pe}%`));const{data:De,error:lt}=await se;lt?console.error("Error fetching clients:",lt):_e(De||[])};I.useEffect(()=>{if(m==="clients"){const se=setTimeout(()=>{St()},500);return()=>clearTimeout(se)}},[pe]);const bt=async(se,De)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${De} y todo su historial. Esta accin no se puede deshacer.`))try{await ut.from("hair_service_log").delete().eq("client_id",se),await ut.from("transactions").delete().eq("client_id",se),await ut.from("visit_registrations").delete().eq("client_id",se);const{error:lt}=await ut.from("clients").delete().eq("id",se);if(lt)throw lt;alert("Cliente eliminado correctamente."),St()}catch(lt){alert("Error al eliminar: "+lt.message)}};I.useEffect(()=>{if(s&&!f){const se=new ND("reader"),De={fps:10,qrbox:{width:250,height:250}};return se.start({facingMode:"environment"},De,Ue,Mi).catch(lt=>{console.error("Error starting scanner:",lt),i("Error iniciando cmara: "+lt)}),()=>{se.stop().then(()=>se.clear()).catch(console.error)}}},[s,f]);const hr=async(se,De,lt,Le)=>{if(De<=0)return;const{error:Ze}=await ut.from("transactions").insert({client_id:se,amount:De,type:lt,description:Le});Ze&&console.error("Error recording transaction:",Ze)},Ue=async(se,De)=>{if(!f){p(se),c(!1);try{i("Procesando...");const{data:lt,error:Le}=await ut.rpc("register_visit",{token_input:se});if(Le)throw Le;if(lt.success){if(i("OK: "+lt.message+" Visitas: "+lt.new_visits),m==="hair"){const Ze=parseInt(S)||0,{data:qt}=await ut.from("clients").select("id").eq("member_token",se).single();qt&&await hr(qt.id,Ze,"service",`Servicio: ${w}`)}else if(m==="ventas"){const{data:Ze}=await ut.from("clients").select("*").eq("member_token",se).single();Ze&&Me(Ze)}}else i("Error: "+lt.message);setTimeout(()=>{p(null),i("")},4e3)}catch(lt){console.error(lt),i("Error al procesar el cdigo."),p(null)}}},Mi=se=>{console.warn(se)},Ea=async()=>{if(!H||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:se,error:De}=await ut.rpc("redeem_discount_5th",{token_input:H.member_token});if(De)i("Error: "+De.message);else if(i(se.message),se.success){const{data:lt}=await ut.from("clients").select("*").eq("id",H.id).single();re(lt)}},fn=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),m==="hair"){const se=parseInt(S)||0,De=parseInt(O)||0,{data:lt,error:Le}=await ut.rpc("add_hair_service_by_phone",{phone_input:t,service_type:w,service_price:se,notes_input:`Ingreso Manual. Extras: ${M} ($${De})`});if(Le)throw Le;if(lt.success){const{data:Ze}=await ut.from("clients").select("id").eq("phone",t).single();Ze&&await ut.from("transactions").insert({client_id:Ze.id,amount:se,type:"service",description:`Servicio: ${w}`,additional_cost:De,additional_cost_detail:M}),i(` Servicio registrado. Total: ${lt.new_total_services}. ${lt.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${lt.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r(""),k(""),L("")}else i("Error: "+lt.message)}else{const{data:se,error:De}=await ut.from("clients").select("*").eq("phone",t).single();let lt=0;se&&(lt=se.visits);const Le=lt+1,{data:Ze,error:qt}=await ut.from("clients").upsert({phone:t,visits:Le,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(qt)throw qt;const Er=parseInt(j)||0;await hr(Ze.id,Er,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+Le),r("")}}catch(se){console.error(se),i("Error: "+(se.message||"Error desconocido"))}};return b.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[b.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[b.jsx("span",{children:"Panel de Atencin"}),b.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[b.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[b.jsx(j1,{className:"text-green-600"}),"Registrar Visita Manual"]}),b.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),b.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[b.jsx("input",{type:"tel",value:t,onChange:se=>r(se.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m==="loyalty"&&b.jsx("input",{type:"number",value:j,onChange:se=>z(se.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),b.jsxs("button",{onClick:fn,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[b.jsx(wE,{size:18}),"Registrar"]})]}),b.jsx("div",{className:"flex justify-center mb-6",children:b.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[b.jsx("button",{onClick:()=>v("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),b.jsx("button",{onClick:()=>v("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),b.jsx("button",{onClick:()=>v("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),b.jsx("button",{onClick:()=>v("agenda"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="agenda"?"bg-pink-500 text-white":"text-stone-400 hover:text-white"}`,children:"Agenda"}),b.jsx("button",{onClick:()=>v("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),b.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"}),b.jsx("button",{onClick:()=>v("ventas"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="ventas"?"bg-indigo-600 text-white":"text-stone-400 hover:text-white"}`,children:"Ventas (POS)"})]})}),b.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[b.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:m==="loyalty"?"Registrar Visita":m==="hair"?"Registrar Servicio Peluquera":m==="inventory"?"Gestin de Inventario":m==="clients"?"Gestin de Clientes":m==="expenses"?"Control de Inversin y Compras":m==="ventas"?"Punto de Venta":"Agenda Semanal"}),m==="expenses"&&b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[b.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:te,onChange:se=>Fe(se.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),b.jsx("input",{type:"number",value:oe,onChange:se=>ge(se.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),b.jsx("button",{onClick:vt,disabled:we,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:we?"...":"Guardar"})]}),b.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(se=>{const De=Ae.filter(lt=>lt.category===se).reduce((lt,Le)=>lt+Le.amount,0);return b.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[b.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:se}),b.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",De.toLocaleString()]})]},se)}),b.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[b.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),b.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",Ae.reduce((se,De)=>se+De.amount,0).toLocaleString()]})]})]}),b.jsx("div",{className:"max-h-60 overflow-y-auto",children:b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"sticky top-0 bg-stone-800",children:b.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[b.jsx("th",{className:"pb-2",children:"Desc"}),b.jsx("th",{className:"pb-2",children:"Cat"}),b.jsx("th",{className:"pb-2 text-right",children:"Monto"}),b.jsx("th",{className:"pb-2 w-8"})]})}),b.jsx("tbody",{className:"divide-y divide-stone-700",children:Ae.map(se=>b.jsxs("tr",{children:[b.jsx("td",{className:"py-2",children:se.description}),b.jsx("td",{className:"py-2",children:b.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:se.category})}),b.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",se.amount.toLocaleString()]}),b.jsx("td",{className:"py-2 text-right",children:b.jsx("button",{onClick:()=>_t(se.id),className:"text-red-500 hover:text-red-400",children:b.jsx(ja,{size:12})})})]},se.id))})]})})]}),m==="clients"&&b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:pe,onChange:se=>de(se.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),b.jsxs("div",{className:"overflow-x-auto max-h-96",children:[b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2",children:"Nombre"}),b.jsx("th",{className:"px-3 py-2",children:"Telfono"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),b.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),b.jsx("tbody",{children:X.map(se=>b.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[b.jsx("td",{className:"px-3 py-2 text-white font-medium",children:se.name||"Sin nombre"}),b.jsx("td",{className:"px-3 py-2 text-stone-300 font-mono",children:se.phone}),b.jsx("td",{className:"px-3 py-2 text-center",children:se.visits}),b.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:se.hair_service_count||0}),b.jsx("td",{className:"px-3 py-2 text-right",children:b.jsx("button",{onClick:()=>bt(se.id,se.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:b.jsx(ja,{size:14})})})]},se.id))})]}),X.length===0&&b.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]})]}),m==="inventory"&&b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2",children:"Perfume"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),b.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),b.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),b.jsx("tbody",{children:Da.map(se=>b.jsx(ID,{perfume:se,onSell:(De,lt)=>hr(H?.id||"anon",De,"product",lt)},se.id))})]})}),m==="agenda"&&b.jsx("div",{className:"overflow-x-auto",children:W.length===0?b.jsx("p",{className:"text-center text-stone-400 py-8",children:"No hay horas agendadas prximas."}):b.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[b.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-3 py-2",children:"Fecha/Hora"}),b.jsx("th",{className:"px-3 py-2",children:"Cliente"}),b.jsx("th",{className:"px-3 py-2",children:"Servicio"}),b.jsx("th",{className:"px-3 py-2",children:"Contacto"})]})}),b.jsx("tbody",{children:W.map(se=>b.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[b.jsxs("td",{className:"px-3 py-2",children:[b.jsx("div",{className:"font-bold text-white",children:se.date}),b.jsx("div",{className:"text-amber-400",children:se.time})]}),b.jsx("td",{className:"px-3 py-2 font-medium text-white",children:se.name}),b.jsxs("td",{className:"px-3 py-2",children:[se.is_home_service?b.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[b.jsx("span",{className:"text-[10px]",children:""})," Domicilio"]}):b.jsx("span",{className:"text-purple-400",children:"Salon"}),se.address&&b.jsx("div",{className:"text-[10px] text-stone-500 truncate max-w-[100px]",children:se.address})]}),b.jsx("td",{className:"px-3 py-2",children:b.jsx("a",{href:`https://wa.me/${se.phone.replace(/\D/g,"")}`,target:"_blank",rel:"noreferrer",className:"text-green-400 hover:underline flex items-center gap-1",children:se.phone})})]},se.id))})]})}),m==="hair"&&b.jsxs("div",{className:"mb-4 space-y-3",children:[b.jsxs("select",{value:w,onChange:se=>_(se.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[b.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),b.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),b.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),b.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),b.jsx("input",{type:"number",value:S,onChange:se=>N(se.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"number",value:O,onChange:se=>k(se.target.value),placeholder:"Costo Extra ($)",className:"w-1/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"}),b.jsx("input",{type:"text",value:M,onChange:se=>L(se.target.value),placeholder:"Detalle (ej: Luz, Caf)",className:"w-2/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"})]})]}),m==="ventas"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-stone-700/30 p-3 rounded-xl border border-white/5",children:[b.jsx("h4",{className:"text-stone-400 text-xs font-bold uppercase mb-2",children:"Catlogo"}),b.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm mb-3",value:ot,onChange:se=>it(se.target.value)}),b.jsxs("div",{className:"h-64 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:[Da.filter(se=>se.name.toLowerCase().includes(ot.toLowerCase())).map(se=>b.jsxs("div",{className:"flex items-center justify-between bg-stone-800 p-2 rounded hover:bg-stone-700 cursor-pointer",onClick:()=>xe(se,"product"),children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-white text-sm font-medium",children:se.name}),b.jsxs("div",{className:"text-stone-400 text-[10px]",children:["$",se.price10ml.toLocaleString()," (10ml)"]})]}),b.jsx("button",{className:"text-green-400 hover:text-green-300",children:b.jsx(j1,{size:16})})]},se.id)),PO.filter(se=>se.name.toLowerCase().includes(ot.toLowerCase())).map(se=>b.jsxs("div",{className:"flex items-center justify-between bg-stone-800 p-2 rounded hover:bg-stone-700 cursor-pointer",onClick:()=>xe(se,"gift"),children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-white text-sm font-medium",children:se.name}),b.jsxs("div",{className:"text-stone-400 text-[10px]",children:["$",se.price.toLocaleString()]})]}),b.jsx("button",{className:"text-green-400 hover:text-green-300",children:b.jsx(j1,{size:16})})]},se.id))]})]})}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-stone-700/30 p-3 rounded-xl border border-white/5",children:[b.jsx("h4",{className:"text-stone-400 text-xs font-bold uppercase mb-2",children:"Cliente"}),Be?b.jsxs("div",{className:"flex justify-between items-center bg-green-500/20 text-green-400 p-2 rounded",children:[b.jsx("span",{className:"font-bold",children:Be.name||Be.phone}),b.jsx("button",{onClick:()=>Me(null),className:"text-red-400 hover:text-red-300",children:b.jsx(ja,{size:14})})]}):b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",placeholder:"Buscar cliente (Tel o Nombre)...",className:"w-full bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm",value:We,onChange:se=>Ce(se.target.value)}),We.length>2&&b.jsxs("div",{className:"absolute top-full left-0 right-0 bg-stone-800 border border-stone-600 rounded-b shadow-xl z-10 max-h-40 overflow-y-auto",children:[X.filter(se=>se.phone.includes(We)||se.name&&se.name.toLowerCase().includes(We.toLowerCase())).map(se=>b.jsx("div",{className:"p-2 hover:bg-stone-700 cursor-pointer text-sm text-white",onClick:()=>{Me(se),Ce("")},children:se.name?`${se.name} (${se.phone})`:se.phone},se.id)),X.filter(se=>se.phone.includes(We)||se.name&&se.name.toLowerCase().includes(We.toLowerCase())).length===0&&b.jsx("div",{className:"p-2 text-stone-500 text-xs",children:"No encontrado"})]})]})]}),b.jsxs("div",{className:"bg-white p-3 rounded-xl shadow-lg",children:[b.jsx("h4",{className:"text-stone-900 text-xs font-bold uppercase mb-2 border-b pb-1",children:"Carrito de Compras"}),Y.length===0?b.jsx("div",{className:"text-center text-stone-400 py-6 text-sm",children:"Carrito Vaco"}):b.jsxs("div",{className:"space-y-2 mb-4",children:[Y.map((se,De)=>b.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-stone-100 pb-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-bold text-stone-800",children:se.name}),b.jsxs("div",{className:"text-xs text-stone-500",children:["$",se.price.toLocaleString()," x ",se.qty]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"font-bold text-stone-900",children:["$",(se.price*se.qty).toLocaleString()]}),b.jsx("button",{onClick:()=>ye(se.id),className:"text-red-500 hover:bg-red-50 p-1 rounded",children:b.jsx(ja,{size:14})})]})]},De)),b.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-stone-200 mt-2",children:[b.jsx("span",{className:"font-bold text-stone-900 text-lg",children:"Total"}),b.jsxs("span",{className:"font-bold text-green-600 text-xl",children:["$",Y.reduce((se,De)=>se+De.price*De.qty,0).toLocaleString()]})]})]}),b.jsx("button",{onClick:Ve,disabled:ve||Y.length===0,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex justify-center items-center gap-2",children:ve?"Procesando...":b.jsxs(b.Fragment,{children:[b.jsx(wE,{size:18})," Confirmar Venta"]})})]})]})]}),m!=="inventory"&&m!=="clients"&&m!=="expenses"&&b.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${m==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[b.jsx(np,{size:24}),m==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&b.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),H&&b.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[b.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",H.phone]}),b.jsx("div",{className:"space-y-3",children:H.discount_5th_visit_available?b.jsx("button",{onClick:Ea,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):b.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),s&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[b.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:b.jsx(ja,{size:32})}),b.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),b.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},PD=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=I.useState(!1),[s,c]=I.useState(""),[f,p]=I.useState(!0),[m,v]=I.useState(""),w=async()=>{if(!s.trim()){v("Debes ingresar qu servicio o producto se realiz.");return}i(!0),v("");try{const{data:S,error:N}=await ut.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:s,count_as_loyalty:f});if(N)throw N;if(!S.success)throw new Error(S.message);r(),t()}catch(S){v(S.message||"Error al validar visita")}finally{i(!1)}},_=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:S}=await ut.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(S)throw S;r(),t()}catch(S){alert(S.message)}finally{i(!1)}}};return b.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[b.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[b.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),b.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:b.jsx(ja,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[b.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),b.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),b.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),m&&b.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[b.jsx(_O,{className:"w-4 h-4"}),m]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),b.jsx("textarea",{value:s,onChange:S=>c(S.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:S=>p(S.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),b.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),b.jsxs("div",{className:"mt-8 flex gap-3",children:[b.jsx("button",{onClick:_,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),b.jsx("button",{onClick:w,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?b.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(Ku,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function uI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=uI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function zt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=uI(e))&&(n&&(n+=" "),n+=t);return n}var kD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xy(e){if(typeof e!="string")return!1;var t=kD;return t.includes(e)}var RD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jD=new Set(RD);function dI(e){return typeof e!="string"?!1:jD.has(e)}function fI(e){return typeof e=="string"&&e.startsWith("data-")}function Ti(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dI(r)||fI(r))&&(t[r]=e[r]);return t}function xc(e){if(e==null)return null;if(I.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ti(t)}return typeof e=="object"&&!Array.isArray(e)?Ti(e):null}function Pi(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(dI(r)||fI(r)||xy(r))&&(t[r]=e[r]);return t}var MD=["children","width","height","viewBox","className","style","title","desc"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function DD(e,t){if(e==null)return{};var r,n,i=LD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yy=I.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:f,title:p,desc:m}=e,v=DD(e,MD),w=s||{width:n,height:i,x:0,y:0},_=zt("recharts-surface",c);return I.createElement("svg",Gv({},Pi(v),{className:_,width:n,height:i,style:f,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:t}),I.createElement("title",null,p),I.createElement("desc",null,m),r)}),BD=["children","className"];function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}function FD(e,t){if(e==null)return{};var r,n,i=UD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $r=I.forwardRef((e,t)=>{var{children:r,className:n}=e,i=FD(e,BD),s=zt("recharts-layer",n);return I.createElement("g",qv({className:s},Pi(i),{ref:t}),r)}),hI=I.createContext(null),zD=()=>I.useContext(hI);function or(e){return function(){return e}}const pI=Math.cos,r0=Math.sin,ba=Math.sqrt,n0=Math.PI,cp=2*n0,Kv=Math.PI,Xv=2*Kv,Ho=1e-6,$D=Xv-Ho;function mI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mI;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class VD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?mI:WD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,f=this._y1,p=n-t,m=i-r,v=c-t,w=f-r,_=v*v+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(_>Ho)if(!(Math.abs(w*p-m*v)>Ho)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let S=n-c,N=i-f,O=p*p+m*m,k=S*S+N*N,M=Math.sqrt(O),L=Math.sqrt(_),j=s*Math.tan((Kv-Math.acos((O+_-k)/(2*M*L)))/2),z=j/L,W=j/M;Math.abs(z-1)>Ho&&this._append`L${t+z*v},${r+z*w}`,this._append`A${s},${s},0,0,${+(w*S>v*N)},${this._x1=t+W*p},${this._y1=r+W*m}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),p=n*Math.sin(i),m=t+f,v=r+p,w=1^c,_=c?i-s:s-i;this._x1===null?this._append`M${m},${v}`:(Math.abs(this._x1-m)>Ho||Math.abs(this._y1-v)>Ho)&&this._append`L${m},${v}`,n&&(_<0&&(_=_%Xv+Xv),_>$D?this._append`A${n},${n},0,1,${w},${t-f},${r-p}A${n},${n},0,1,${w},${this._x1=m},${this._y1=v}`:_>Ho&&this._append`A${n},${n},0,${+(_>=Kv)},${w},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function wy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VD(t)}function by(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gI(e){this._context=e}gI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function up(e){return new gI(e)}function vI(e){return e[0]}function xI(e){return e[1]}function yI(e,t){var r=or(!0),n=null,i=up,s=null,c=wy(f);e=typeof e=="function"?e:e===void 0?vI:or(e),t=typeof t=="function"?t:t===void 0?xI:or(t);function f(p){var m,v=(p=by(p)).length,w,_=!1,S;for(n==null&&(s=i(S=c())),m=0;m<=v;++m)!(m<v&&r(w=p[m],m,p))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+e(w,m,p),+t(w,m,p));if(S)return s=null,S+""||null}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:or(+p),f):e},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:or(+p),f):t},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:or(!!p),f):r},f.curve=function(p){return arguments.length?(i=p,n!=null&&(s=i(n)),f):i},f.context=function(p){return arguments.length?(p==null?n=s=null:s=i(n=p),f):n},f}function dh(e,t,r){var n=null,i=or(!0),s=null,c=up,f=null,p=wy(m);e=typeof e=="function"?e:e===void 0?vI:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?xI:or(+r);function m(w){var _,S,N,O=(w=by(w)).length,k,M=!1,L,j=new Array(O),z=new Array(O);for(s==null&&(f=c(L=p())),_=0;_<=O;++_){if(!(_<O&&i(k=w[_],_,w))===M)if(M=!M)S=_,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),N=_-1;N>=S;--N)f.point(j[N],z[N]);f.lineEnd(),f.areaEnd()}M&&(j[_]=+e(k,_,w),z[_]=+t(k,_,w),f.point(n?+n(k,_,w):j[_],r?+r(k,_,w):z[_]))}if(L)return f=null,L+""||null}function v(){return yI().defined(i).curve(c).context(s)}return m.x=function(w){return arguments.length?(e=typeof w=="function"?w:or(+w),n=null,m):e},m.x0=function(w){return arguments.length?(e=typeof w=="function"?w:or(+w),m):e},m.x1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:or(+w),m):n},m.y=function(w){return arguments.length?(t=typeof w=="function"?w:or(+w),r=null,m):t},m.y0=function(w){return arguments.length?(t=typeof w=="function"?w:or(+w),m):t},m.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:or(+w),m):r},m.lineX0=m.lineY0=function(){return v().x(e).y(t)},m.lineY1=function(){return v().x(e).y(r)},m.lineX1=function(){return v().x(n).y(t)},m.defined=function(w){return arguments.length?(i=typeof w=="function"?w:or(!!w),m):i},m.curve=function(w){return arguments.length?(c=w,s!=null&&(f=c(s)),m):c},m.context=function(w){return arguments.length?(w==null?s=f=null:f=c(s=w),m):s},m}class wI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function HD(e){return new wI(e,!0)}function GD(e){return new wI(e,!1)}const Ey={draw(e,t){const r=ba(t/n0);e.moveTo(r,0),e.arc(0,0,r,0,cp)}},qD={draw(e,t){const r=ba(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},bI=ba(1/3),KD=bI*2,XD={draw(e,t){const r=ba(t/KD),n=r*bI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YD={draw(e,t){const r=ba(t),n=-r/2;e.rect(n,n,r,r)}},ZD=.8908130915292852,EI=r0(n0/10)/r0(7*n0/10),QD=r0(cp/10)*EI,JD=-pI(cp/10)*EI,e9={draw(e,t){const r=ba(t*ZD),n=QD*r,i=JD*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=cp*s/5,f=pI(c),p=r0(c);e.lineTo(p*r,-f*r),e.lineTo(f*n-p*i,p*n+f*i)}e.closePath()}},H1=ba(3),t9={draw(e,t){const r=-ba(t/(H1*3));e.moveTo(0,r*2),e.lineTo(-H1*r,-r),e.lineTo(H1*r,-r),e.closePath()}},qi=-.5,Ki=ba(3)/2,Yv=1/ba(12),r9=(Yv/2+1)*3,n9={draw(e,t){const r=ba(t/r9),n=r/2,i=r*Yv,s=n,c=r*Yv+r,f=-s,p=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(f,p),e.lineTo(qi*n-Ki*i,Ki*n+qi*i),e.lineTo(qi*s-Ki*c,Ki*s+qi*c),e.lineTo(qi*f-Ki*p,Ki*f+qi*p),e.lineTo(qi*n+Ki*i,qi*i-Ki*n),e.lineTo(qi*s+Ki*c,qi*c-Ki*s),e.lineTo(qi*f+Ki*p,qi*p-Ki*f),e.closePath()}};function i9(e,t){let r=null,n=wy(i);e=typeof e=="function"?e:or(e||Ey),t=typeof t=="function"?t:or(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:or(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:or(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function i0(){}function a0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function AI(e){this._context=e}AI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:a0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:a0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a9(e){return new AI(e)}function _I(e){this._context=e}_I.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:a0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s9(e){return new _I(e)}function SI(e){this._context=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:a0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o9(e){return new SI(e)}function CI(e){this._context=e}CI.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l9(e){return new CI(e)}function dA(e){return e<0?-1:1}function fA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(s*i+c*n)/(n+i);return(dA(s)+dA(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(f))||0}function hA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function G1(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,f=(s-n)/3;e._context.bezierCurveTo(n+f,i+f*t,s-f,c-f*r,s,c)}function s0(e){this._context=e}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:G1(this,this._t0,hA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,G1(this,hA(this,r=fA(this,e,t)),r);break;default:G1(this,this._t0,r=fA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OI(e){this._context=new NI(e)}(OI.prototype=Object.create(s0.prototype)).point=function(e,t){s0.prototype.point.call(this,t,e)};function NI(e){this._context=e}NI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function c9(e){return new s0(e)}function u9(e){return new OI(e)}function II(e){this._context=e}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pA(e),i=pA(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pA(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function d9(e){return new II(e)}function dp(e,t){this._context=e,this._t=t}dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function f9(e){return new dp(e,.5)}function h9(e){return new dp(e,0)}function p9(e){return new dp(e,1)}function al(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,f=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<f;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Zv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function m9(e,t){return e[t]}function g9(e){const t=[];return t.key=e,t}function v9(){var e=or([]),t=Zv,r=al,n=m9;function i(s){var c=Array.from(e.apply(this,arguments),g9),f,p=c.length,m=-1,v;for(const w of s)for(f=0,++m;f<p;++f)(c[f][m]=[0,+n(w,c[f].key,m,s)]).data=w;for(f=0,v=by(t(c));f<p;++f)c[v[f]].index=f;return r(c,v),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:or(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:or(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Zv:typeof s=="function"?s:or(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??al,i):r},i}function x9(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}al(e,t)}}function y9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}al(e,t)}}function w9(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var f=0,p=0,m=0;f<c;++f){for(var v=e[t[f]],w=v[n][1]||0,_=v[n-1][1]||0,S=(w-_)/2,N=0;N<f;++N){var O=e[t[N]],k=O[n][1]||0,M=O[n-1][1]||0;S+=k-M}p+=w,m+=S*w}i[n-1][1]+=i[n-1][0]=r,p&&(r-=m/p)}i[n-1][1]+=i[n-1][0]=r,al(e,t)}}var q1={},K1={},mA;function b9(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(K1)),K1}var X1={},gA;function TI(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(X1)),X1}var Y1={},vA;function Ay(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Y1)),Y1}var Z1={},Q1={},xA;function E9(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Q1)),Q1}var yA;function _y(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E9(),r=Ay();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let f=0,p="",m="",v=!1;for(i.charCodeAt(0)===46&&(s.push(""),f++);f<c;){const w=i[f];m?w==="\\"&&f+1<c?(f++,p+=i[f]):w===m?m="":p+=w:v?w==='"'||w==="'"?m=w:w==="]"?(v=!1,s.push(p),p=""):p+=w:w==="["?(v=!0,p&&(s.push(p),p="")):w==="."?p&&(s.push(p),p=""):p+=w,f++}return p&&s.push(p),s}e.toPath=n})(Z1)),Z1}var wA;function Sy(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b9(),r=TI(),n=Ay(),i=_y();function s(f,p,m){if(f==null)return m;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?r.isDeepKey(p)?s(f,i.toPath(p),m):m:v}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const v=f[p];return v===void 0?m:v}default:{if(Array.isArray(p))return c(f,p,m);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return m;const v=f[p];return v===void 0?m:v}}}function c(f,p,m){if(p.length===0)return m;let v=f;for(let w=0;w<p.length;w++){if(v==null||t.isUnsafeProperty(p[w]))return m;v=v[p[w]]}return v===void 0?m:v}e.get=s})(q1)),q1}var J1,bA;function A9(){return bA||(bA=1,J1=Sy().get),J1}var _9=A9();const sl=ta(_9);var S9=4;function ao(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function jr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,c)=>{var f=r[c-1];return typeof f=="string"?i+f+s:f!==void 0?i+ao(f)+s:i+s},"")}var bn=e=>e===0?0:e>0?1:-1,ki=e=>typeof e=="number"&&e!=+e,gs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Je=e=>(typeof e=="number"||e instanceof Number)&&!ki(e),Qi=e=>Je(e)||typeof e=="string",C9=0,nd=e=>{var t=++C9;return"".concat(e||"").concat(t)},Hn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(t)&&typeof t!="string")return n;var s;if(gs(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return ki(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},PI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Or(e,t,r){return Je(e)&&Je(t)?ao(e+r*(t-e)):t}function kI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):sl(n,t))===r)}var O9=e=>{for(var t=e.length,r=0,n=0,i=0,s=0,c=1/0,f=-1/0,p=0,m=0,v=0;v<t;v++){var w,_;p=((w=e[v])===null||w===void 0?void 0:w.cx)||0,m=((_=e[v])===null||_===void 0?void 0:_.cy)||0,r+=p,n+=m,i+=p*m,s+=p*p,c=Math.min(c,p),f=Math.max(f,p)}var S=t*s!==r*r?(t*i-r*n)/(t*s-r*r):0;return{xmin:c,xmax:f,a:S,b:(n-S*r)/t}},lr=e=>e===null||typeof e>"u",Ad=e=>lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function N9(e){return e!=null}function _d(){}var I9=["type","size","sizeType"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(null,arguments)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){T9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e,t){if(e==null)return{};var r,n,i=j9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RI={symbolCircle:Ey,symbolCross:qD,symbolDiamond:XD,symbolSquare:YD,symbolStar:e9,symbolTriangle:t9,symbolWye:n9},M9=Math.PI/180,D9=e=>{var t="symbol".concat(Ad(e));return RI[t]||Ey},L9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*M9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},B9=(e,t)=>{RI["symbol".concat(Ad(e))]=t},fp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=R9(e,I9),s=AA(AA({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var _=D9(c),S=i9().type(_).size(L9(r,n,c)),N=S();if(N!==null)return N},{className:p,cx:m,cy:v}=s,w=Pi(s);return Je(m)&&Je(v)&&Je(r)?I.createElement("path",Qv({},w,{className:zt("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(v,")"),d:f()})):null};fp.registerSymbol=B9;var jI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,F9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{xy(i)&&(n[i]=(s=>r[i](r,s)))}),n},U9=(e,t,r)=>n=>(e(t,r,n),null),Pc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];xy(i)&&typeof s=="function"&&(n||(n={}),n[i]=U9(s,t,r))}),n},z9=e=>Array.isArray(e)&&e.length>0;function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wr(e,t){var r=$9({},e),n=t,i=Object.keys(t),s=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return s}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yi=32,Y9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Z9(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Yi/2,s=Yi/6,c=Yi/3,f=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var m;return I.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:Yi,y2:i,className:"recharts-legend-icon"})}if(p==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Yi,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return I.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Yi/8,"h").concat(Yi,"v").concat(Yi*3/4,"h").concat(-Yi,"z"),className:"recharts-legend-icon"});if(I.isValidElement(t.legendIcon)){var v=G9({},t);return delete v.legendIcon,I.cloneElement(t.legendIcon,v)}return I.createElement(fp,{fill:f,cx:i,cy:i,size:Yi,sizeType:"diameter",type:p})}function Q9(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:c}=e,f={x:0,y:0,width:Yi,height:Yi},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((v,w)=>{var _=v.formatter||i,S=zt({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:v.inactive});if(v.type==="none")return null;var N=v.inactive?s:v.color,O=_?_(v.value,v,w):v.value;return I.createElement("li",o0({className:S,style:p,key:"legend-item-".concat(w)},Pc(e,v,w)),I.createElement(yy,{width:r,height:r,viewBox:f,style:m,"aria-label":"".concat(O," legend icon")},I.createElement(Z9,{data:v,iconType:c,inactiveColor:s})),I.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},O))})}var J9=e=>{var t=Wr(e,Y9),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:s},I.createElement(Q9,o0({},t,{payload:r})))},eg={},tg={},CA;function e7(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(tg)),tg}var rg={},OA;function MI(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rg)),rg}var ng={},ig={},ag={},NA;function t7(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ag)),ag}var IA;function Cy(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ig)),ig}var sg={},TA;function r7(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(sg)),sg}var PA;function n7(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy(),r=r7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ng)),ng}var og={},lg={},kA;function i7(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sy();function r(n){return function(i){return t.get(i,n)}}e.property=r})(lg)),lg}var cg={},ug={},dg={},fg={},RA;function DI(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(fg)),fg}var hg={},jA;function LI(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(hg)),hg}var pg={},MA;function BI(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(pg)),pg}var DA;function a7(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI(),r=LI(),n=BI();function i(v,w,_){return typeof _!="function"?i(v,w,()=>{}):s(v,w,function S(N,O,k,M,L,j){const z=_(N,O,k,M,L,j);return z!==void 0?!!z:s(N,O,S,j)},new Map)}function s(v,w,_,S){if(w===v)return!0;switch(typeof w){case"object":return c(v,w,_,S);case"function":return Object.keys(w).length>0?s(v,{...w},_,S):n.eq(v,w);default:return t.isObject(v)?typeof w=="string"?w==="":!0:n.eq(v,w)}}function c(v,w,_,S){if(w==null)return!0;if(Array.isArray(w))return p(v,w,_,S);if(w instanceof Map)return f(v,w,_,S);if(w instanceof Set)return m(v,w,_,S);const N=Object.keys(w);if(v==null||r.isPrimitive(v))return N.length===0;if(N.length===0)return!0;if(S?.has(w))return S.get(w)===v;S?.set(w,v);try{for(let O=0;O<N.length;O++){const k=N[O];if(!r.isPrimitive(v)&&!(k in v)||w[k]===void 0&&v[k]!==void 0||w[k]===null&&v[k]!==null||!_(v[k],w[k],k,v,w,S))return!1}return!0}finally{S?.delete(w)}}function f(v,w,_,S){if(w.size===0)return!0;if(!(v instanceof Map))return!1;for(const[N,O]of w.entries()){const k=v.get(N);if(_(k,O,N,v,w,S)===!1)return!1}return!0}function p(v,w,_,S){if(w.length===0)return!0;if(!Array.isArray(v))return!1;const N=new Set;for(let O=0;O<w.length;O++){const k=w[O];let M=!1;for(let L=0;L<v.length;L++){if(N.has(L))continue;const j=v[L];let z=!1;if(_(j,k,O,v,w,S)&&(z=!0),z){N.add(L),M=!0;break}}if(!M)return!1}return!0}function m(v,w,_,S){return w.size===0?!0:v instanceof Set?p([...v],[...w],_,S):!1}e.isMatchWith=i,e.isSetMatch=m})(dg)),dg}var LA;function FI(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(ug)),ug}var mg={},gg={},vg={},BA;function s7(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vg)),vg}var xg={},FA;function UI(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xg)),xg}var yg={},UA;function zI(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",f="[object Date]",p="[object Map]",m="[object Set]",v="[object Array]",w="[object Function]",_="[object ArrayBuffer]",S="[object Object]",N="[object Error]",O="[object DataView]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",z="[object BigUint64Array]",W="[object Int8Array]",V="[object Int16Array]",H="[object Int32Array]",re="[object BigInt64Array]",X="[object Float32Array]",_e="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=_,e.arrayTag=v,e.bigInt64ArrayTag=re,e.bigUint64ArrayTag=z,e.booleanTag=i,e.dataViewTag=O,e.dateTag=f,e.errorTag=N,e.float32ArrayTag=X,e.float64ArrayTag=_e,e.functionTag=w,e.int16ArrayTag=V,e.int32ArrayTag=H,e.int8ArrayTag=W,e.mapTag=p,e.numberTag=n,e.objectTag=S,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=L,e.uint32ArrayTag=j,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=M})(yg)),yg}var wg={},zA;function o7(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(wg)),wg}var $A;function $I(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s7(),r=UI(),n=zI(),i=LI(),s=o7();function c(v,w){return f(v,void 0,v,new Map,w)}function f(v,w,_,S=new Map,N=void 0){const O=N?.(v,w,_,S);if(O!==void 0)return O;if(i.isPrimitive(v))return v;if(S.has(v))return S.get(v);if(Array.isArray(v)){const k=new Array(v.length);S.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,_,S,N);return Object.hasOwn(v,"index")&&(k.index=v.index),Object.hasOwn(v,"input")&&(k.input=v.input),k}if(v instanceof Date)return new Date(v.getTime());if(v instanceof RegExp){const k=new RegExp(v.source,v.flags);return k.lastIndex=v.lastIndex,k}if(v instanceof Map){const k=new Map;S.set(v,k);for(const[M,L]of v)k.set(M,f(L,M,_,S,N));return k}if(v instanceof Set){const k=new Set;S.set(v,k);for(const M of v)k.add(f(M,void 0,_,S,N));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(v))return v.subarray();if(s.isTypedArray(v)){const k=new(Object.getPrototypeOf(v)).constructor(v.length);S.set(v,k);for(let M=0;M<v.length;M++)k[M]=f(v[M],M,_,S,N);return k}if(v instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&v instanceof SharedArrayBuffer)return v.slice(0);if(v instanceof DataView){const k=new DataView(v.buffer.slice(0),v.byteOffset,v.byteLength);return S.set(v,k),p(k,v,_,S,N),k}if(typeof File<"u"&&v instanceof File){const k=new File([v],v.name,{type:v.type});return S.set(v,k),p(k,v,_,S,N),k}if(typeof Blob<"u"&&v instanceof Blob){const k=new Blob([v],{type:v.type});return S.set(v,k),p(k,v,_,S,N),k}if(v instanceof Error){const k=new v.constructor;return S.set(v,k),k.message=v.message,k.name=v.name,k.stack=v.stack,k.cause=v.cause,p(k,v,_,S,N),k}if(v instanceof Boolean){const k=new Boolean(v.valueOf());return S.set(v,k),p(k,v,_,S,N),k}if(v instanceof Number){const k=new Number(v.valueOf());return S.set(v,k),p(k,v,_,S,N),k}if(v instanceof String){const k=new String(v.valueOf());return S.set(v,k),p(k,v,_,S,N),k}if(typeof v=="object"&&m(v)){const k=Object.create(Object.getPrototypeOf(v));return S.set(v,k),p(k,v,_,S,N),k}return v}function p(v,w,_=v,S,N){const O=[...Object.keys(w),...t.getSymbols(w)];for(let k=0;k<O.length;k++){const M=O[k],L=Object.getOwnPropertyDescriptor(v,M);(L==null||L.writable)&&(v[M]=f(w[M],M,_,S,N))}}function m(v){switch(r.getTag(v)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=p})(gg)),gg}var WA;function l7(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$I();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(mg)),mg}var VA;function c7(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI(),r=l7();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(cg)),cg}var bg={},Eg={},Ag={},HA;function u7(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$I(),r=zI();function n(i,s){return t.cloneDeepWith(i,(c,f,p,m)=>{const v=s?.(c,f,p,m);if(v!==void 0)return v;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new i.constructor(i?.valueOf());return t.copyProperties(w,i),w}case r.argumentsTag:{const w={};return t.copyProperties(w,i),w.length=i.length,w[Symbol.iterator]=i[Symbol.iterator],w}default:return}})}e.cloneDeepWith=n})(Ag)),Ag}var GA;function d7(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Eg)),Eg}var _g={},Sg={},qA;function WI(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Sg)),Sg}var Cg={},KA;function f7(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Cg)),Cg}var XA;function h7(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI(),r=WI(),n=f7(),i=_y();function s(c,f){let p;if(Array.isArray(f)?p=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?p=i.toPath(f):p=[f],p.length===0)return!1;let m=c;for(let v=0;v<p.length;v++){const w=p[v];if((m==null||!Object.hasOwn(m,w))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(w)&&w<m.length))return!1;m=m[w]}return!0}e.has=s})(_g)),_g}var YA;function p7(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FI(),r=Ay(),n=d7(),i=Sy(),s=h7();function c(f,p){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return p=n.cloneDeep(p),function(m){const v=i.get(m,f);return v===void 0?s.has(m,f):p===void 0?v===void 0:t.isMatch(v,p)}}e.matchesProperty=c})(bg)),bg}var ZA;function m7(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MI(),r=i7(),n=c7(),i=p7();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(og)),og}var QA;function g7(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e7(),r=MI(),n=n7(),i=m7();function s(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=s})(eg)),eg}var Og,JA;function v7(){return JA||(JA=1,Og=g7().uniqBy),Og}var x7=v7();const e_=ta(x7);function VI(e,t,r){return t===!0?e_(e,r):typeof t=="function"?e_(e,t):e}var Ng={exports:{}},Ig={},Tg={exports:{}},Pg={};var t_;function y7(){if(t_)return Pg;t_=1;var e=Cc();function t(w,_){return w===_&&(w!==0||1/w===1/_)||w!==w&&_!==_}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(w,_){var S=_(),N=n({inst:{value:S,getSnapshot:_}}),O=N[0].inst,k=N[1];return s(function(){O.value=S,O.getSnapshot=_,p(O)&&k({inst:O})},[w,S,_]),i(function(){return p(O)&&k({inst:O}),w(function(){p(O)&&k({inst:O})})},[w]),c(S),S}function p(w){var _=w.getSnapshot;w=w.value;try{var S=_();return!r(w,S)}catch{return!0}}function m(w,_){return _()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return Pg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,Pg}var r_;function w7(){return r_||(r_=1,Tg.exports=y7()),Tg.exports}var n_;function b7(){if(n_)return Ig;n_=1;var e=Cc(),t=w7();function r(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return Ig.useSyncExternalStoreWithSelector=function(m,v,w,_,S){var N=s(null);if(N.current===null){var O={hasValue:!1,value:null};N.current=O}else O=N.current;N=f(function(){function M(V){if(!L){if(L=!0,j=V,V=_(V),S!==void 0&&O.hasValue){var H=O.value;if(S(H,V))return z=H}return z=V}if(H=z,n(j,V))return H;var re=_(V);return S!==void 0&&S(H,re)?(j=V,H):(j=V,z=re)}var L=!1,j,z,W=w===void 0?null:w;return[function(){return M(v())},W===null?void 0:function(){return M(W())}]},[v,w,_,S]);var k=i(m,N[0],N[1]);return c(function(){O.hasValue=!0,O.value=k},[k]),p(k),k},Ig}var i_;function E7(){return i_||(i_=1,Ng.exports=b7()),Ng.exports}var A7=E7(),Oy=I.createContext(null),_7=e=>e,er=()=>{var e=I.useContext(Oy);return e?e.store.dispatch:_7},Mh=()=>{},S7=()=>Mh,C7=(e,t)=>e===t;function Ge(e){var t=I.useContext(Oy);return A7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:S7,t?t.store.getState:Mh,t?t.store.getState:Mh,t?e:Mh,C7)}function O7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function N7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function I7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var a_=e=>Array.isArray(e)?e:[e];function T7(e){const t=Array.isArray(e[0])?e[0]:e;return I7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var k7=class{constructor(e){this.value=e}deref(){return this.value}},R7=typeof WeakRef<"u"?WeakRef:k7,j7=0,s_=1;function fh(){return{s:j7,v:void 0,o:null,p:null}}function HI(e,t={}){let r=fh();const{resultEqualityCheck:n}=t;let i,s=0;function c(){let f=r;const{length:p}=arguments;for(let w=0,_=p;w<_;w++){const S=arguments[w];if(typeof S=="function"||typeof S=="object"&&S!==null){let N=f.o;N===null&&(f.o=N=new WeakMap);const O=N.get(S);O===void 0?(f=fh(),N.set(S,f)):f=O}else{let N=f.p;N===null&&(f.p=N=new Map);const O=N.get(S);O===void 0?(f=fh(),N.set(S,f)):f=O}}const m=f;let v;if(f.s===s_)v=f.v;else if(v=e.apply(null,arguments),s++,n){const w=i?.deref?.()??i;w!=null&&n(w,v)&&(v=w,s!==0&&s--),i=typeof v=="object"&&v!==null||typeof v=="function"?new R7(v):v}return m.s=s_,m.v=v,v}return c.clearCache=()=>{r=fh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function M7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,f,p={},m=i.pop();typeof m=="object"&&(p=m,m=i.pop()),O7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const v={...r,...p},{memoize:w,memoizeOptions:_=[],argsMemoize:S=HI,argsMemoizeOptions:N=[]}=v,O=a_(_),k=a_(N),M=T7(i),L=w(function(){return s++,m.apply(null,arguments)},...O),j=S(function(){c++;const W=P7(M,arguments);return f=L.apply(null,W),f},...k);return Object.assign(j,{resultFunc:m,memoizedResultFunc:L,dependencies:M,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:w,argsMemoize:S})};return Object.assign(n,{withTypes:()=>n}),n}var ue=M7(HI),D7=Object.assign((e,t=ue)=>{N7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,f,p)=>(c[r[p]]=f,c),{}))},{withTypes:()=>D7}),kg={},Rg={},jg={},o_;function L7(){return o_||(o_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?f-c:c-f}return 0};e.compareValues=r})(jg)),jg}var Mg={},Dg={},l_;function GI(){return l_||(l_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Dg)),Dg}var c_;function B7(){return c_||(c_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(Mg)),Mg}var u_;function F7(){return u_||(u_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L7(),r=B7(),n=_y();function i(s,c,f,p){if(s==null)return[];f=p?void 0:f,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(S=>String(S));const m=(S,N)=>{let O=S;for(let k=0;k<N.length&&O!=null;++k)O=O[N[k]];return O},v=(S,N)=>N==null||S==null?N:typeof S=="object"&&"key"in S?Object.hasOwn(N,S.key)?N[S.key]:m(N,S.path):typeof S=="function"?S(N):Array.isArray(S)?m(N,S):typeof N=="object"?N[S]:N,w=c.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||r.isKey(S)?S:{key:S,path:n.toPath(S)}));return s.map(S=>({original:S,criteria:w.map(N=>v(N,S))})).slice().sort((S,N)=>{for(let O=0;O<w.length;O++){const k=t.compareValues(S.criteria[O],N.criteria[O],f[O]);if(k!==0)return k}return 0}).map(S=>S.original)}e.orderBy=i})(Rg)),Rg}var Lg={},d_;function U7(){return d_||(d_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(f,p)=>{for(let m=0;m<f.length;m++){const v=f[m];Array.isArray(v)&&p<s?c(v,p+1):i.push(v)}};return c(r,0),i}e.flatten=t})(Lg)),Lg}var Bg={},f_;function qI(){return f_||(f_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI(),r=Cy(),n=DI(),i=BI();function s(c,f,p){return n.isObject(p)&&(typeof f=="number"&&r.isArrayLike(p)&&t.isIndex(f)&&f<p.length||typeof f=="string"&&f in p)?i.eq(p[f],c):!1}e.isIterateeCall=s})(Bg)),Bg}var h_;function z7(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F7(),r=U7(),n=qI();function i(s,...c){const f=c.length;return f>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(kg)),kg}var Fg,p_;function $7(){return p_||(p_=1,Fg=z7().sortBy),Fg}var W7=$7();const hp=ta(W7);var KI=e=>e.legend.settings,V7=e=>e.legend.size,H7=e=>e.legend.payload,G7=ue([H7,KI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?hp(n,r):n});function q7(){return Ge(G7)}var hh=1;function XI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=I.useState({height:0,left:0,top:0,width:0}),n=I.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>hh||Math.abs(c.left-t.left)>hh||Math.abs(c.top-t.top)>hh||Math.abs(c.width-t.width)>hh)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K7=typeof Symbol=="function"&&Symbol.observable||"@@observable",m_=K7,Ug=()=>Math.random().toString(36).substring(7).split("").join("."),X7={INIT:`@@redux/INIT${Ug()}`,REPLACE:`@@redux/REPLACE${Ug()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ug()}`},l0=X7;function Ny(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function YI(e,t,r){if(typeof e!="function")throw new Error(Pn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pn(1));return r(YI)(e,t)}let n=e,i=t,s=new Map,c=s,f=0,p=!1;function m(){c===s&&(c=new Map,s.forEach((k,M)=>{c.set(M,k)}))}function v(){if(p)throw new Error(Pn(3));return i}function w(k){if(typeof k!="function")throw new Error(Pn(4));if(p)throw new Error(Pn(5));let M=!0;m();const L=f++;return c.set(L,k),function(){if(M){if(p)throw new Error(Pn(6));M=!1,m(),c.delete(L),s=null}}}function _(k){if(!Ny(k))throw new Error(Pn(7));if(typeof k.type>"u")throw new Error(Pn(8));if(typeof k.type!="string")throw new Error(Pn(17));if(p)throw new Error(Pn(9));try{p=!0,i=n(i,k)}finally{p=!1}return(s=c).forEach(L=>{L()}),k}function S(k){if(typeof k!="function")throw new Error(Pn(10));n=k,_({type:l0.REPLACE})}function N(){const k=w;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Pn(11));function L(){const z=M;z.next&&z.next(v())}return L(),{unsubscribe:k(L)}},[m_](){return this}}}return _({type:l0.INIT}),{dispatch:_,subscribe:w,getState:v,replaceReducer:S,[m_]:N}}function Y7(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:l0.INIT})>"u")throw new Error(Pn(12));if(typeof r(void 0,{type:l0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pn(13))})}function ZI(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{Y7(r)}catch(s){i=s}return function(c={},f){if(i)throw i;let p=!1;const m={};for(let v=0;v<n.length;v++){const w=n[v],_=r[w],S=c[w],N=_(S,f);if(typeof N>"u")throw f&&f.type,new Error(Pn(14));m[w]=N,p=p||N!==S}return p=p||n.length!==Object.keys(c).length,p?m:c}}function c0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Z7(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pn(15))};const c={getState:i.getState,dispatch:(p,...m)=>s(p,...m)},f=e.map(p=>p(c));return s=c0(...f)(i.dispatch),{...i,dispatch:s}}}function QI(e){return Ny(e)&&"type"in e&&typeof e.type=="string"}var JI=Symbol.for("immer-nothing"),g_=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function ma(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Oi=Object,yc=Oi.getPrototypeOf,u0="constructor",pp="prototype",Jv="configurable",d0="enumerable",Dh="writable",id="value",vs=e=>!!e&&!!e[Zn];function ya(e){return e?eT(e)||gp(e)||!!e[g_]||!!e[u0]?.[g_]||vp(e)||xp(e):!1}var Q7=Oi[pp][u0].toString(),v_=new WeakMap;function eT(e){if(!e||!Iy(e))return!1;const t=yc(e);if(t===null||t===Oi[pp])return!0;const r=Oi.hasOwnProperty.call(t,u0)&&t[u0];if(r===Object)return!0;if(!ic(r))return!1;let n=v_.get(r);return n===void 0&&(n=Function.toString.call(r),v_.set(r,n)),n===Q7}function mp(e,t,r=!0){Sd(e)===0?(r?Reflect.ownKeys(e):Oi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Sd(e){const t=e[Zn];return t?t.type_:gp(e)?1:vp(e)?2:xp(e)?3:0}var x_=(e,t,r=Sd(e))=>r===2?e.has(t):Oi[pp].hasOwnProperty.call(e,t),ex=(e,t,r=Sd(e))=>r===2?e.get(t):e[t],f0=(e,t,r,n=Sd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function J7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gp=Array.isArray,vp=e=>e instanceof Map,xp=e=>e instanceof Set,Iy=e=>typeof e=="object",ic=e=>typeof e=="function",zg=e=>typeof e=="boolean";function eL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var os=e=>e.copy_||e.base_,Ty=e=>e.modified_?e.copy_:e.base_;function tx(e,t){if(vp(e))return new Map(e);if(xp(e))return new Set(e);if(gp(e))return Array[pp].slice.call(e);const r=eT(e);if(t===!0||t==="class_only"&&!r){const n=Oi.getOwnPropertyDescriptors(e);delete n[Zn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f[Dh]===!1&&(f[Dh]=!0,f[Jv]=!0),(f.get||f.set)&&(n[c]={[Jv]:!0,[Dh]:!0,[d0]:f[d0],[id]:e[c]})}return Oi.create(yc(e),n)}else{const n=yc(e);if(n!==null&&r)return{...e};const i=Oi.create(n);return Oi.assign(i,e)}}function Py(e,t=!1){return yp(e)||vs(e)||!ya(e)||(Sd(e)>1&&Oi.defineProperties(e,{set:ph,add:ph,clear:ph,delete:ph}),Oi.freeze(e),t&&mp(e,(r,n)=>{Py(n,!0)},!1)),e}function tL(){ma(2)}var ph={[id]:tL};function yp(e){return e===null||!Iy(e)?!0:Oi.isFrozen(e)}var h0="MapSet",rx="Patches",y_="ArrayMethods",tT={};function ol(e){const t=tT[e];return t||ma(0,e),t}var w_=e=>!!tT[e],ad,rT=()=>ad,rL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:w_(h0)?ol(h0):void 0,arrayMethodsPlugin_:w_(y_)?ol(y_):void 0});function b_(e,t){t&&(e.patchPlugin_=ol(rx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function nx(e){ix(e),e.drafts_.forEach(nL),e.drafts_=null}function ix(e){e===ad&&(ad=e.parent_)}var E_=e=>ad=rL(ad,e);function nL(e){const t=e[Zn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function A_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Zn].modified_&&(nx(t),ma(4)),ya(e)&&(e=__(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Zn].base_,e,t)}else e=__(t,r);return iL(t,e,!0),nx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JI?e:void 0}function __(e,t){if(yp(t))return t;const r=t[Zn];if(!r)return p0(t,e.handledSet_,e);if(!wp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);aT(r,e)}return r.copy_}function iL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Py(t,r)}function nT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wp=(e,t)=>e.scope_===t,aL=[];function iT(e,t,r,n){const i=os(e),s=e.type_;if(n!==void 0&&ex(i,n,s)===t){f0(i,n,r,s);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;mp(i,(p,m)=>{if(vs(m)){const v=f.get(m)||[];v.push(p),f.set(m,v)}})}const c=e.draftLocations_.get(t)??aL;for(const f of c)f0(i,f,r,s)}function sL(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!wp(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Ty(s);iT(e,s.draft_??s,c,r),aT(s,i)})}function aT(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}nT(e)}}function oL(e,t,r){const{scope_:n}=e;if(vs(r)){const i=r[Zn];wp(i,n)&&i.callbacks_.push(function(){Lh(e);const c=Ty(i);iT(e,r,c,t)})}else ya(r)&&e.callbacks_.push(function(){const s=os(e);e.type_===3?s.has(r)&&p0(r,n.handledSet_,n):ex(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&p0(ex(e.copy_,t,e.type_),n.handledSet_,n)})}function p0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||vs(e)||t.has(e)||!ya(e)||yp(e)||(t.add(e),mp(e,(n,i)=>{if(vs(i)){const s=i[Zn];if(wp(s,r)){const c=Ty(s);f0(e,n,c,e.type_),nT(s)}}else ya(i)&&p0(i,t,r)})),e}function lL(e,t){const r=gp(e),n={type_:r?1:0,scope_:t?t.scope_:rT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=m0;r&&(i=[n],s=sd);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,[f,n]}var m0={get(e,t){if(t===Zn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=os(e);if(!x_(i,t,e.type_))return cL(e,i,t);const s=i[t];if(e.finalized_||!ya(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&eL(t))return s;if(s===$g(e.base_,t)){Lh(e);const c=e.type_===1?+t:t,f=sx(e.scope_,s,e,c);return e.copy_[c]=f}return s},has(e,t){return t in os(e)},ownKeys(e){return Reflect.ownKeys(os(e))},set(e,t,r){const n=sT(os(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=$g(os(e),t),s=i?.[Zn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(J7(r,i)&&(r!==void 0||x_(e.base_,t,e.type_)))return!0;Lh(e),ax(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),oL(e,t,r)),!0},deleteProperty(e,t){return Lh(e),$g(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ax(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=os(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Dh]:!0,[Jv]:e.type_!==1||t!=="length",[d0]:n[d0],[id]:r[t]}},defineProperty(){ma(11)},getPrototypeOf(e){return yc(e.base_)},setPrototypeOf(){ma(12)}},sd={};for(let e in m0){let t=m0[e];sd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}sd.deleteProperty=function(e,t){return sd.set.call(this,e,t,void 0)};sd.set=function(e,t,r){return m0.set.call(this,e[0],t,r,e[0])};function $g(e,t){const r=e[Zn];return(r?os(r):e)[t]}function cL(e,t,r){const n=sT(t,r);return n?id in n?n[id]:n.get?.call(e.draft_):void 0}function sT(e,t){if(!(t in e))return;let r=yc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yc(r)}}function ax(e){e.modified_||(e.modified_=!0,e.parent_&&ax(e.parent_))}function Lh(e){e.copy_||(e.assigned_=new Map,e.copy_=tx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(ic(r)&&!ic(n)){const c=n;n=r;const f=this;return function(m=c,...v){return f.produce(m,w=>n.call(this,w,...v))}}ic(n)||ma(6),i!==void 0&&!ic(i)&&ma(7);let s;if(ya(r)){const c=E_(this),f=sx(c,r,void 0);let p=!0;try{s=n(f),p=!1}finally{p?nx(c):ix(c)}return b_(c,i),A_(s,c)}else if(!r||!Iy(r)){if(s=n(r),s===void 0&&(s=r),s===JI&&(s=void 0),this.autoFreeze_&&Py(s,!0),i){const c=[],f=[];ol(rx).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:f}),i(c,f)}return s}else ma(1,r)},this.produceWithPatches=(r,n)=>{if(ic(r))return(f,...p)=>this.produceWithPatches(f,m=>r(m,...p));let i,s;return[this.produce(r,n,(f,p)=>{i=f,s=p}),i,s]},zg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),zg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),zg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ya(t)||ma(8),vs(t)&&(t=xa(t));const r=E_(this),n=sx(r,t,void 0);return n[Zn].isManual_=!0,ix(r),n}finishDraft(t,r){const n=t&&t[Zn];(!n||!n.isManual_)&&ma(9);const{scope_:i}=n;return b_(i,r),A_(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=ol(rx).applyPatches_;return vs(t)?i(t,r):this.produce(t,s=>i(s,r))}};function sx(e,t,r,n){const[i,s]=vp(t)?ol(h0).proxyMap_(t,r):xp(t)?ol(h0).proxySet_(t,r):lL(t,r);return(r?.scope_??rT()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?sL(r,s,n):s.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=p;s.modified_&&m&&m.generatePatches_(s,[],p)}),i}function xa(e){return vs(e)||ma(10,e),oT(e)}function oT(e){if(!ya(e)||yp(e))return e;const t=e[Zn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=tx(e,!0);return mp(r,(i,s)=>{f0(r,i,oT(s))},n),t&&(t.finalized_=!1),r}var dL=new uL,lT=dL.produce;function cT(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var fL=cT(),hL=cT,pL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?c0:c0.apply(null,arguments)};function Ji(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ni(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>QI(n)&&n.type===e,r}var uT=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function S_(e){return ya(e)?lT(e,()=>{}):e}function mh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mL(e){return typeof e=="boolean"}var gL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new uT;return r&&(mL(r)?c.push(fL):c.push(hL(r.extraArgument))),c},dT="RTK_autoBatch",xr=()=>e=>({payload:e,meta:{[dT]:!0}}),C_=e=>t=>{setTimeout(t,e)},fT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const f=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:C_(10):e.type==="callback"?e.queueNotification:C_(e.timeout),m=()=>{c=!1,s&&(s=!1,f.forEach(v=>v()))};return Object.assign({},n,{subscribe(v){const w=()=>i&&v(),_=n.subscribe(w);return f.add(v),()=>{_(),f.delete(v)}},dispatch(v){try{return i=!v?.meta?.[dT],s=!i,s&&(c||(c=!0,p(m))),n.dispatch(v)}finally{i=!0}}})},vL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new uT(e);return n&&i.push(fT(typeof n=="object"?n:void 0)),i};function xL(e){const t=gL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Ny(r))f=ZI(r);else throw new Error(Ni(1));let p;typeof n=="function"?p=n(t):p=t();let m=c0;i&&(m=pL({trace:!1,...typeof i=="object"&&i}));const v=Z7(...p),w=vL(v);let _=typeof c=="function"?c(w):w();const S=m(..._);return YI(f,s,S)}function hT(e){const t={},r=[];let n;const i={addCase(s,c){const f=typeof s=="string"?s:s.type;if(!f)throw new Error(Ni(28));if(f in t)throw new Error(Ni(29));return t[f]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function yL(e){return typeof e=="function"}function wL(e,t){let[r,n,i]=hT(t),s;if(yL(e))s=()=>S_(e());else{const f=S_(e);s=()=>f}function c(f=s(),p){let m=[r[p.type],...n.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return m.filter(v=>!!v).length===0&&(m=[i]),m.reduce((v,w)=>{if(w)if(vs(v)){const S=w(v,p);return S===void 0?v:S}else{if(ya(v))return lT(v,_=>w(_,p));{const _=w(v,p);if(_===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return v},f)}return c.getInitialState=s,c}var bL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EL=(e=21)=>{let t="",r=e;for(;r--;)t+=bL[Math.random()*64|0];return t},AL=Symbol.for("rtk-slice-createasyncthunk");function _L(e,t){return`${e}/${t}`}function SL({creators:e}={}){const t=e?.asyncThunk?.[AL];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Ni(11));const c=(typeof n.reducers=="function"?n.reducers(OL()):n.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(j,z){const W=typeof j=="string"?j:j.type;if(!W)throw new Error(Ni(12));if(W in p.sliceCaseReducersByType)throw new Error(Ni(13));return p.sliceCaseReducersByType[W]=z,m},addMatcher(j,z){return p.sliceMatchers.push({matcher:j,reducer:z}),m},exposeAction(j,z){return p.actionCreators[j]=z,m},exposeCaseReducer(j,z){return p.sliceCaseReducersByName[j]=z,m}};f.forEach(j=>{const z=c[j],W={reducerName:j,type:_L(i,j),createNotation:typeof n.reducers=="function"};IL(z)?PL(W,z,m,t):NL(W,z,m)});function v(){const[j={},z=[],W=void 0]=typeof n.extraReducers=="function"?hT(n.extraReducers):[n.extraReducers],V={...j,...p.sliceCaseReducersByType};return wL(n.initialState,H=>{for(let re in V)H.addCase(re,V[re]);for(let re of p.sliceMatchers)H.addMatcher(re.matcher,re.reducer);for(let re of z)H.addMatcher(re.matcher,re.reducer);W&&H.addDefaultCase(W)})}const w=j=>j,_=new Map,S=new WeakMap;let N;function O(j,z){return N||(N=v()),N(j,z)}function k(){return N||(N=v()),N.getInitialState()}function M(j,z=!1){function W(H){let re=H[j];return typeof re>"u"&&z&&(re=mh(S,W,k)),re}function V(H=w){const re=mh(_,z,()=>new WeakMap);return mh(re,H,()=>{const X={};for(const[_e,pe]of Object.entries(n.selectors??{}))X[_e]=CL(pe,H,()=>mh(S,H,k),z);return X})}return{reducerPath:j,getSelectors:V,get selectors(){return V(W)},selectSlice:W}}const L={name:i,reducer:O,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:k,...M(s),injectInto(j,{reducerPath:z,...W}={}){const V=z??s;return j.inject({reducerPath:V,reducer:O},W),{...L,...M(V,!0)}}};return L}}function CL(e,t,r,n){function i(s,...c){let f=t(s);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var di=SL();function OL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function NL({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!TL(n))throw new Error(Ni(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?Ji(e,c):Ji(e))}function IL(e){return e._reducerDefinitionType==="asyncThunk"}function TL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function PL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ni(18));const{payloadCreator:s,fulfilled:c,pending:f,rejected:p,settled:m,options:v}=r,w=i(e,s,v);n.exposeAction(t,w),c&&n.addCase(w.fulfilled,c),f&&n.addCase(w.pending,f),p&&n.addCase(w.rejected,p),m&&n.addMatcher(w.settled,m),n.exposeCaseReducer(t,{fulfilled:c||gh,pending:f||gh,rejected:p||gh,settled:m||gh})}function gh(){}var kL="task",pT="listener",mT="completed",ky="cancelled",RL=`task-${ky}`,jL=`task-${mT}`,ox=`${pT}-${ky}`,ML=`${pT}-${mT}`,bp=class{constructor(e){this.code=e,this.message=`${kL} ${ky} (reason: ${e})`}name="TaskAbortError";message},Ry=(e,t)=>{if(typeof e!="function")throw new TypeError(Ni(32))},g0=()=>{},gT=(e,t=g0)=>(e.catch(t),e),vT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),tl=e=>{if(e.aborted)throw new bp(e.reason)};function xT(e,t){let r=g0;return new Promise((n,i)=>{const s=()=>i(new bp(e.reason));if(e.aborted){s();return}r=vT(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=g0})}var DL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof bp?"cancelled":"rejected",error:r}}finally{t?.()}},v0=e=>t=>gT(xT(e,t).then(r=>(tl(e),r))),yT=e=>{const t=v0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hc}=Object,O_={},Ep="listenerMiddleware",LL=(e,t)=>{const r=n=>vT(e,()=>n.abort(e.reason));return(n,i)=>{Ry(n);const s=new AbortController;r(s);const c=DL(async()=>{tl(e),tl(s.signal);const f=await n({pause:v0(s.signal),delay:yT(s.signal),signal:s.signal});return tl(s.signal),f},()=>s.abort(jL));return i?.autoJoin&&t.push(c.catch(g0)),{result:v0(e)(c),cancel(){s.abort(RL)}}}},BL=(e,t)=>{const r=async(n,i)=>{tl(t);let s=()=>{};const f=[new Promise((p,m)=>{let v=e({predicate:n,effect:(w,_)=>{_.unsubscribe(),p([w,_.getState(),_.getOriginalState()])}});s=()=>{v(),m()}})];i!=null&&f.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await xT(t,Promise.race(f));return tl(t),p}finally{s()}};return(n,i)=>gT(r(n,i))},wT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Ji(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ni(21));return Ry(s),{predicate:i,type:t,effect:s}},bT=hc(e=>{const{type:t,predicate:r,effect:n}=wT(e);return{id:EL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ni(22))}}},{withTypes:()=>bT}),N_=(e,t)=>{const{type:r,effect:n,predicate:i}=wT(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},lx=e=>{e.pending.forEach(t=>{t.abort(ox)})},FL=(e,t)=>()=>{for(const r of t.keys())lx(r);e.clear()},I_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ET=hc(Ji(`${Ep}/add`),{withTypes:()=>ET}),UL=Ji(`${Ep}/removeAll`),AT=hc(Ji(`${Ep}/remove`),{withTypes:()=>AT}),zL=(...e)=>{console.error(`${Ep}/error`,...e)},Cd=(e={})=>{const t=new Map,r=new Map,n=S=>{const N=r.get(S)??0;r.set(S,N+1)},i=S=>{const N=r.get(S)??1;N===1?r.delete(S):r.set(S,N-1)},{extra:s,onError:c=zL}=e;Ry(c);const f=S=>(S.unsubscribe=()=>t.delete(S.id),t.set(S.id,S),N=>{S.unsubscribe(),N?.cancelActive&&lx(S)}),p=S=>{const N=N_(t,S)??bT(S);return f(N)};hc(p,{withTypes:()=>p});const m=S=>{const N=N_(t,S);return N&&(N.unsubscribe(),S.cancelActive&&lx(N)),!!N};hc(m,{withTypes:()=>m});const v=async(S,N,O,k)=>{const M=new AbortController,L=BL(p,M.signal),j=[];try{S.pending.add(M),n(S),await Promise.resolve(S.effect(N,hc({},O,{getOriginalState:k,condition:(z,W)=>L(z,W).then(Boolean),take:L,delay:yT(M.signal),pause:v0(M.signal),extra:s,signal:M.signal,fork:LL(M.signal,j),unsubscribe:S.unsubscribe,subscribe:()=>{t.set(S.id,S)},cancelActiveListeners:()=>{S.pending.forEach((z,W,V)=>{z!==M&&(z.abort(ox),V.delete(z))})},cancel:()=>{M.abort(ox),S.pending.delete(M)},throwIfCancelled:()=>{tl(M.signal)}})))}catch(z){z instanceof bp||I_(c,z,{raisedBy:"effect"})}finally{await Promise.all(j),M.abort(ML),i(S),S.pending.delete(M)}},w=FL(t,r);return{middleware:S=>N=>O=>{if(!QI(O))return N(O);if(ET.match(O))return p(O.payload);if(UL.match(O)){w();return}if(AT.match(O))return m(O.payload);let k=S.getState();const M=()=>{if(k===O_)throw new Error(Ni(23));return k};let L;try{if(L=N(O),t.size>0){const j=S.getState(),z=Array.from(t.values());for(const W of z){let V=!1;try{V=W.predicate(O,j,k)}catch(H){V=!1,I_(c,H,{raisedBy:"predicate"})}V&&v(W,O,S,M)}}}finally{k=O_}return L},startListening:p,stopListening:m,clearListeners:w}};function Ni(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $L={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},_T=di({name:"chartLayout",initialState:$L,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WL,setLayout:VL,setChartSize:HL,setScale:GL}=_T.actions,qL=_T.reducer;function ST(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Qt(e){return Number.isFinite(e)}function Ba(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=YL(e,"string");return typeof t=="symbol"?t:t+""}function YL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t,r){return lr(e)||lr(t)?r:Qi(t)?sl(e,t,r):typeof t=="function"?t(e):r}var ZL=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&s!=="center"&&Je(e[s]))return lc(lc({},e),{},{[s]:e[s]+(n||0)});if((f==="horizontal"||f==="vertical"&&s==="center")&&c!=="middle"&&Je(e[c]))return lc(lc({},e),{},{[c]:e[c]+(i||0)})}return e},gl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CT=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,s,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(s=!0),f.coordinate));return i||c.push(t),s||c.push(r),c},OT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:f,isCategorical:p,categoricalDomain:m,tickCount:v,ticks:w,niceTicks:_,axisType:S}=e;if(!c)return null;var N=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,O=i==="category"&&c.bandwidth?c.bandwidth()/N:0;if(O=S==="angleAxis"&&s&&s.length>=2?bn(s[0]-s[1])*2*O:O,w||_){var k=(w||_||[]).map((M,L)=>{var j=n?n.indexOf(M):M;return{coordinate:c(j)+O,value:M,offset:O,index:L}});return k.filter(M=>!ki(M.coordinate))}return p&&m?m.map((M,L)=>({coordinate:c(M)+O,value:M,index:L,offset:O})):c.ticks&&v!=null?c.ticks(v).map((M,L)=>({coordinate:c(M)+O,value:M,offset:O,index:L})):c.domain().map((M,L)=>({coordinate:c(M)+O,value:n?n[M]:M,index:L,offset:O}))},P_=1e-4,QL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-P_,s=Math.max(n[0],n[1])+P_,c=e(t[0]),f=e(t[r-1]);(c<i||c>s||f<i||f>s)&&e.domain([t[0],t[r-1]])}},JL=(e,t)=>{if(!t||t.length!==2||!Je(t[0])||!Je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Je(e[0])||e[0]<r)&&(i[0]=r),(!Je(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},eB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0,f=0;f<r;++f){var p=e[f],m=p?.[i];if(m!=null){var v=m[1],w=m[0],_=ki(v)?w:v;_>=0?(m[0]=s,m[1]=s+_,s=v):(m[0]=c,m[1]=c+_,c=v)}}}},tB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0;c<r;++c){var f=e[c],p=f?.[i];if(p!=null){var m=ki(p[1])?p[0]:p[1];m>=0?(p[0]=s,p[1]=s+m,s=p[1]):(p[0]=0,p[1]=0)}}}},rB={sign:eB,expand:x9,none:al,silhouette:y9,wiggle:w9,positive:tB},nB=(e,t,r)=>{var n,i=(n=rB[r])!==null&&n!==void 0?n:al,s=v9().keys(t).value((f,p)=>Number(Vt(f,p,0))).order(Zv).offset(i),c=s(e);return c.forEach((f,p)=>{f.forEach((m,v)=>{var w=Vt(e[v],t[p],0);Array.isArray(w)&&w.length===2&&Je(w[0])&&Je(w[1])&&(m[0]=w[0],m[1]=w[1])})}),c};function iB(e){return e==null?void 0:String(e)}function k_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lr(i[t.dataKey])){var f=kI(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var p=Vt(i,lr(c)?t.dataKey:c);return lr(p)?null:t.scale(p)}var R_=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=Vt(s,t.dataKey,t.scale.domain()[c]);return lr(f)?null:t.scale(f)-i/2+n},aB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},sB=e=>{var t=e.flat(2).filter(Je);return[Math.min(...t),Math.max(...t)]},oB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lB=(e,t,r)=>{if(e!=null)return oB(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:c}=s,f=c.reduce((p,m)=>{var v=ST(m,t,r),w=sB(v);return!Qt(w[0])||!Qt(w[1])?p:[Math.min(p[0],w[0]),Math.max(p[1],w[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},j_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=hp(t,v=>v.coordinate),s=1/0,c=1,f=i.length;c<f;c++){var p=i[c],m=i[c-1];s=Math.min((p?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function D_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return lc(lc({},t),{},{dataKey:r,payload:n,value:i,name:s})}function kc(e,t){if(e)return String(e);if(typeof t=="string")return t}var cB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},uB=(e,t)=>t==="centric"?e.angle:e.radius,_s=e=>e.layout.width,Ss=e=>e.layout.height,dB=e=>e.layout.scale,NT=e=>e.layout.margin,Ap=ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_p=ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),jy="data-recharts-item-index",My="data-recharts-item-id",Od=60;function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){fB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fB(e,t,r){return(t=hB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=pB(e,"string");return typeof t=="symbol"?t:t+""}function pB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mB=e=>e.brush.height;function gB(e){var t=_p(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Od;return r+i}return r},0)}function vB(e){var t=_p(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Od;return r+i}return r},0)}function xB(e){var t=Ap(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function yB(e){var t=Ap(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ln=ue([_s,Ss,NT,mB,gB,vB,xB,yB,KI,V7],(e,t,r,n,i,s,c,f,p,m)=>{var v={left:(r.left||0)+i,right:(r.right||0)+s},w={top:(r.top||0)+c,bottom:(r.bottom||0)+f},_=vh(vh({},w),v),S=_.bottom;_.bottom+=n,_=ZL(_,p,m);var N=e-_.left-_.right,O=t-_.top-_.bottom;return vh(vh({brushBottom:S},_),{},{width:Math.max(N,0),height:Math.max(O,0)})}),wB=ue(ln,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Dy=ue(_s,Ss,(e,t)=>({x:0,y:0,width:e,height:t})),bB=I.createContext(null),Rn=()=>I.useContext(bB)!=null,Sp=e=>e.brush,Cp=ue([Sp,ln,NT],(e,t,r)=>({height:e.height,x:Je(e.x)?e.x:t.left,y:Je(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Je(e.width)?e.width:t.width})),Wg={},Vg={},Hg={},B_;function EB(){return B_||(B_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,f=null;const p=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),v=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},w=()=>{m&&v(),O()};let _=null;const S=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,w()},n)},N=()=>{_!==null&&(clearTimeout(_),_=null)},O=()=>{N(),c=void 0,f=null},k=()=>{v()},M=function(...L){if(i?.aborted)return;c=this,f=L;const j=_==null;S(),p&&j&&v()};return M.schedule=S,M.cancel=O,M.flush=k,i?.addEventListener("abort",O,{once:!0}),M}e.debounce=t})(Hg)),Hg}var F_;function AB(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EB();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:f=!0,maxWait:p}=s,m=Array(2);c&&(m[0]="leading"),f&&(m[1]="trailing");let v,w=null;const _=t.debounce(function(...O){v=n.apply(this,O),w=null},i,{edges:m}),S=function(...O){return p!=null&&(w===null&&(w=Date.now()),Date.now()-w>=p)?(v=n.apply(this,O),w=Date.now(),_.cancel(),_.schedule(),v):(_.apply(this,O),v)},N=()=>(_.flush(),v);return S.cancel=_.cancel,S.flush=N,S}e.debounce=r})(Vg)),Vg}var U_;function _B(){return U_||(U_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AB();function r(n,i=0,s={}){const{leading:c=!0,trailing:f=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(Wg)),Wg}var Gg,z_;function SB(){return z_||(z_=1,Gg=_B().throttle),Gg}var CB=SB();const OB=ta(CB);var y0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},IT=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,f=gs(n)?e:Number(n),p=gs(i)?t:Number(i);return s&&s>0&&(f?p=f/s:p&&(f=p*s),c&&p!=null&&p>c&&(p=c)),{calculatedWidth:f,calculatedHeight:p}},NB={width:0,height:0,overflow:"visible"},IB={width:0,overflowX:"visible"},TB={height:0,overflowY:"visible"},PB={},kB=e=>{var{width:t,height:r}=e,n=gs(t),i=gs(r);return n&&i?NB:n?IB:i?TB:PB};function RB(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(null,arguments)}function $_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(n){jB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jB(e,t,r){return(t=MB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MB(e){var t=DB(e,"string");return typeof t=="symbol"?t:t+""}function DB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TT=I.createContext({width:-1,height:-1});function LB(e){return Ba(e.width)&&Ba(e.height)}function PT(e){var{children:t,width:r,height:n}=e,i=I.useMemo(()=>({width:r,height:n}),[r,n]);return LB(i)?I.createElement(TT.Provider,{value:i},t):null}var Ly=()=>I.useContext(TT),BB=I.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:f,maxHeight:p,children:m,debounce:v=0,id:w,className:_,onResize:S,style:N={}}=e,O=I.useRef(null),k=I.useRef();k.current=S,I.useImperativeHandle(t,()=>O.current);var[M,L]=I.useState({containerWidth:n.width,containerHeight:n.height}),j=I.useCallback((re,X)=>{L(_e=>{var pe=Math.round(re),de=Math.round(X);return _e.containerWidth===pe&&_e.containerHeight===de?_e:{containerWidth:pe,containerHeight:de}})},[]);I.useEffect(()=>{if(O.current==null||typeof ResizeObserver>"u")return _d;var re=de=>{var Ae,{width:ke,height:te}=de[0].contentRect;j(ke,te),(Ae=k.current)===null||Ae===void 0||Ae.call(k,ke,te)};v>0&&(re=OB(re,v,{trailing:!0,leading:!1}));var X=new ResizeObserver(re),{width:_e,height:pe}=O.current.getBoundingClientRect();return j(_e,pe),X.observe(O.current),()=>{X.disconnect()}},[j,v]);var{containerWidth:z,containerHeight:W}=M;y0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:H}=IT(z,W,{width:i,height:s,aspect:r,maxHeight:p});return y0(V!=null&&V>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,H,i,s,c,f,r),I.createElement("div",{id:w?"".concat(w):void 0,className:zt("recharts-responsive-container",_),style:W_(W_({},N),{},{width:i,height:s,minWidth:c,minHeight:f,maxHeight:p}),ref:O},I.createElement("div",{style:kB({width:i,height:s})},I.createElement(PT,{width:V,height:H},m)))}),Bh=I.forwardRef((e,t)=>{var r=Ly();if(Ba(r.width)&&Ba(r.height))return e.children;var{width:n,height:i}=RB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=IT(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Je(s)&&Je(c)?I.createElement(PT,{width:s,height:c},e.children):I.createElement(BB,cx({},e,{width:n,height:i,ref:t}))});function kT(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Rc=()=>{var e,t=Rn(),r=Ge(wB),n=Ge(Cp),i=(e=Ge(Sp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},FB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RT=()=>{var e;return(e=Ge(ln))!==null&&e!==void 0?e:FB},By=()=>Ge(_s),Fy=()=>Ge(Ss),UB=()=>Ge(e=>e.layout.margin),Bt=e=>e.layout.layoutType,Nd=()=>Ge(Bt),zB=()=>{var e=Nd();return e!==void 0},Op=e=>{var t=er(),r=Rn(),{width:n,height:i}=e,s=Ly(),c=n,f=i;return s&&(c=s.width>0?s.width:n,f=s.height>0?s.height:i),I.useEffect(()=>{!r&&Ba(c)&&Ba(f)&&t(HL({width:c,height:f}))},[t,r,c,f]),null},jT=Symbol.for("immer-nothing"),V_=Symbol.for("immer-draftable"),Ri=Symbol.for("immer-state");function ga(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var od=Object.getPrototypeOf;function wc(e){return!!e&&!!e[Ri]}function ll(e){return e?MT(e)||Array.isArray(e)||!!e[V_]||!!e.constructor?.[V_]||Id(e)||Ip(e):!1}var $B=Object.prototype.constructor.toString(),H_=new WeakMap;function MT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=H_.get(r);return n===void 0&&(n=Function.toString.call(r),H_.set(r,n)),n===$B}function w0(e,t,r=!0){Np(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Np(e){const t=e[Ri];return t?t.type_:Array.isArray(e)?1:Id(e)?2:Ip(e)?3:0}function ux(e,t){return Np(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DT(e,t,r){const n=Np(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function WB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Id(e){return e instanceof Map}function Ip(e){return e instanceof Set}function Go(e){return e.copy_||e.base_}function dx(e,t){if(Id(e))return new Map(e);if(Ip(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=MT(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ri];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(od(e),n)}else{const n=od(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Uy(e,t=!1){return Tp(e)||wc(e)||!ll(e)||(Np(e)>1&&Object.defineProperties(e,{set:xh,add:xh,clear:xh,delete:xh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Uy(r,!0))),e}function VB(){ga(2)}var xh={value:VB};function Tp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var HB={};function cl(e){const t=HB[e];return t||ga(0,e),t}var ld;function LT(){return ld}function GB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function G_(e,t){t&&(cl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fx(e){hx(e),e.drafts_.forEach(qB),e.drafts_=null}function hx(e){e===ld&&(ld=e.parent_)}function q_(e){return ld=GB(ld,e)}function qB(e){const t=e[Ri];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function K_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ri].modified_&&(fx(t),ga(4)),ll(e)&&(e=b0(t,e),t.parent_||E0(t,e)),t.patches_&&cl("Patches").generateReplacementPatches_(r[Ri].base_,e,t.patches_,t.inversePatches_)):e=b0(t,r,[]),fx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jT?e:void 0}function b0(e,t,r){if(Tp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Ri];if(!i)return w0(t,(s,c)=>X_(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return E0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,f=!1;i.type_===3&&(c=new Set(s),s.clear(),f=!0),w0(c,(p,m)=>X_(e,i,s,p,m,r,f),n),E0(e,s,!1),r&&e.patches_&&cl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function X_(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const f=Tp(i);if(!(f&&!c)){if(wc(i)){const p=s&&t&&t.type_!==3&&!ux(t.assigned_,n)?s.concat(n):void 0,m=b0(e,i,p);if(DT(r,n,m),wc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(ll(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;b0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Id(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&E0(e,i)}}}function E0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uy(t,r)}function KB(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=zy;r&&(i=[n],s=cd);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,f}var zy={get(e,t){if(t===Ri)return e;const r=Go(e);if(!ux(r,t))return XB(e,r,t);const n=r[t];return e.finalized_||!ll(n)?n:n===qg(e.base_,t)?(Kg(e),e.copy_[t]=mx(n,e)):n},has(e,t){return t in Go(e)},ownKeys(e){return Reflect.ownKeys(Go(e))},set(e,t,r){const n=BT(Go(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=qg(Go(e),t),s=i?.[Ri];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(WB(r,i)&&(r!==void 0||ux(e.base_,t)))return!0;Kg(e),px(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kg(e),px(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Go(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ga(11)},getPrototypeOf(e){return od(e.base_)},setPrototypeOf(){ga(12)}},cd={};w0(zy,(e,t)=>{cd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cd.deleteProperty=function(e,t){return cd.set.call(this,e,t,void 0)};cd.set=function(e,t,r){return zy.set.call(this,e[0],t,r,e[0])};function qg(e,t){const r=e[Ri];return(r?Go(r):e)[t]}function XB(e,t,r){const n=BT(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function BT(e,t){if(!(t in e))return;let r=od(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=od(r)}}function px(e){e.modified_||(e.modified_=!0,e.parent_&&px(e.parent_))}function Kg(e){e.copy_||(e.copy_=dx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YB=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(p=s,...m){return c.produce(p,v=>r.call(this,v,...m))}}typeof r!="function"&&ga(6),n!==void 0&&typeof n!="function"&&ga(7);let i;if(ll(t)){const s=q_(this),c=mx(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?fx(s):hx(s)}return G_(s,n),K_(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===jT&&(i=void 0),this.autoFreeze_&&Uy(i,!0),n){const s=[],c=[];cl("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else ga(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,p=>t(p,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ll(e)||ga(8),wc(e)&&(e=ZB(e));const t=q_(this),r=mx(e,void 0);return r[Ri].isManual_=!0,hx(t),r}finishDraft(e,t){const r=e&&e[Ri];(!r||!r.isManual_)&&ga(9);const{scope_:n}=r;return G_(n,t),K_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=cl("Patches").applyPatches_;return wc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function mx(e,t){const r=Id(e)?cl("MapSet").proxyMap_(e,t):Ip(e)?cl("MapSet").proxySet_(e,t):KB(e,t);return(t?t.scope_:LT()).drafts_.push(r),r}function ZB(e){return wc(e)||ga(10,e),FT(e)}function FT(e){if(!ll(e)||Tp(e))return e;const t=e[Ri];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dx(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=dx(e,!0);return w0(r,(i,s)=>{DT(r,i,FT(s))},n),t&&(t.finalized_=!1),r}var QB=new YB;QB.produce;var JB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UT=di({name:"legend",initialState:JB,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=xa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:xr()},removeLegendPayload:{reducer(e,t){var r=xa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:xr()}}}),{setLegendSize:Y_,setLegendSettings:eF,addLegendPayload:zT,replaceLegendPayload:$T,removeLegendPayload:WT}=UT.actions,tF=UT.reducer,rF=["contextPayload"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(null,arguments)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){nF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=aF(e,"string");return typeof t=="symbol"?t:t+""}function aF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sF(e,t){if(e==null)return{};var r,n,i=oF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lF(e){return e.value}function cF(e){var{contextPayload:t}=e,r=sF(e,rF),n=VI(t,e.payloadUniqBy,lF),i=bc(bc({},r),{},{payload:n});return I.isValidElement(e.content)?I.cloneElement(e.content,i):typeof e.content=="function"?I.createElement(e.content,i):I.createElement(J9,i)}function uF(e,t,r,n,i,s){var{layout:c,align:f,verticalAlign:p}=t,m,v;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?m={left:((n||0)-s.width)/2}:m=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?v={top:((i||0)-s.height)/2}:v=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),bc(bc({},m),v)}function dF(e){var t=er();return I.useEffect(()=>{t(eF(e))},[t,e]),null}function fF(e){var t=er();return I.useEffect(()=>(t(Y_(e)),()=>{t(Y_({width:0,height:0}))}),[t,e]),null}function hF(e,t,r,n){return e==="vertical"&&Je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var pF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function $y(e){var t=Wr(e,pF),r=q7(),n=zD(),i=UB(),{width:s,height:c,wrapperStyle:f,portal:p}=t,[m,v]=XI([r]),w=By(),_=Fy();if(w==null||_==null)return null;var S=w-(i?.left||0)-(i?.right||0),N=hF(t.layout,c,s,S),O=p?f:bc(bc({position:"absolute",width:N?.width||s||"auto",height:N?.height||c||"auto"},uF(f,t,i,w,_,m)),f),k=p??n;if(k==null||r==null)return null;var M=I.createElement("div",{className:"recharts-legend-wrapper",style:O,ref:v},I.createElement(dF,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&I.createElement(fF,{width:m.width,height:m.height}),I.createElement(cF,gx({},t,N,{margin:i,chartWidth:w,chartHeight:_,contextPayload:r})));return ty.createPortal(M,k)}$y.displayName="Legend";function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){mF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xF(e){return Array.isArray(e)&&Qi(e[0])&&Qi(e[1])?e.join(" ~ "):e}var yF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:f,wrapperClassName:p,labelClassName:m,label:v,labelFormatter:w,accessibilityLayer:_=!1}=e,S=()=>{if(s&&s.length){var W={padding:0,margin:0},V=(f?hp(s,f):s).map((H,re)=>{if(H.type==="none")return null;var X=H.formatter||c||xF,{value:_e,name:pe}=H,de=_e,Ae=pe;if(X){var ke=X(_e,pe,H,re,s);if(Array.isArray(ke))[de,Ae]=ke;else if(ke!=null)de=ke;else return null}var te=Xg({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},n);return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:te},Qi(Ae)?I.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,Qi(Ae)?I.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,I.createElement("span",{className:"recharts-tooltip-item-value"},de),I.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:W},V)}return null},N=Xg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),O=Xg({margin:0},i),k=!lr(v),M=k?v:"",L=zt("recharts-default-tooltip",p),j=zt("recharts-tooltip-label",m);k&&w&&s!==void 0&&s!==null&&(M=w(v,s));var z=_?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",vx({className:L,style:N},z),I.createElement("p",{className:j,style:O},I.isValidElement(M)?M:"".concat(M)),S())},Ru="recharts-tooltip-wrapper",wF={visibility:"hidden"};function bF(e){var{coordinate:t,translateX:r,translateY:n}=e;return zt(Ru,{["".concat(Ru,"-right")]:Je(r)&&t&&Je(t.x)&&r>=t.x,["".concat(Ru,"-left")]:Je(r)&&t&&Je(t.x)&&r<t.x,["".concat(Ru,"-bottom")]:Je(n)&&t&&Je(t.y)&&n>=t.y,["".concat(Ru,"-top")]:Je(n)&&t&&Je(t.y)&&n<t.y})}function J_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:f,viewBox:p,viewBoxDimension:m}=e;if(s&&Je(s[n]))return s[n];var v=r[n]-f-(i>0?i:0),w=r[n]+i;if(t[n])return c[n]?v:w;var _=p[n];if(_==null)return 0;if(c[n]){var S=v,N=_;return S<N?Math.max(w,_):Math.max(v,_)}if(m==null)return 0;var O=w+f,k=_+m;return O>k?Math.max(v,_):Math.max(w,_)}function EF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function AF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:f,viewBox:p}=e,m,v,w;return c.height>0&&c.width>0&&r?(v=J_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:p,viewBoxDimension:p.width}),w=J_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:p,viewBoxDimension:p.height}),m=EF({translateX:v,translateY:w,useTranslate3d:f})):m=wF,{cssProperties:m,cssClasses:bF({translateX:v,translateY:w,coordinate:r})}}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){xx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xx(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CF extends I.PureComponent{constructor(){super(...arguments),xx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:f,isAnimationActive:p,offset:m,position:v,reverseDirection:w,useTranslate3d:_,viewBox:S,wrapperStyle:N,lastBoundingBox:O,innerRef:k,hasPortalFromProps:M}=this.props,{cssClasses:L,cssProperties:j}=AF({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:v,reverseDirection:w,tooltipBox:{height:O.height,width:O.width},useTranslate3d:_,viewBox:S}),z=M?{}:yh(yh({transition:p&&t?"transform ".concat(n,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=yh(yh({},z),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},N);return I.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:W,ref:k},s)}}var VT=()=>{var e;return(e=Ge(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){OF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OF(e,t,r){return(t=NF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NF(e){var t=IF(e,"string");return typeof t=="symbol"?t:t+""}function IF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nS={curveBasisClosed:s9,curveBasisOpen:o9,curveBasis:a9,curveBumpX:HD,curveBumpY:GD,curveLinearClosed:l9,curveLinear:up,curveMonotoneX:c9,curveMonotoneY:u9,curveNatural:d9,curveStep:f9,curveStepAfter:p9,curveStepBefore:h9},A0=e=>Qt(e.x)&&Qt(e.y),iS=e=>e.base!=null&&A0(e.base)&&A0(e),ju=e=>e.x,Mu=e=>e.y,TF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ad(e));return(r==="curveMonotone"||r==="curveBump")&&t?nS["".concat(r).concat(t==="vertical"?"Y":"X")]:nS[r]||up},PF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=TF(t,i),f=s?r.filter(A0):r,p;if(Array.isArray(n)){var m=r.map((S,N)=>rS(rS({},S),{},{base:n[N]}));i==="vertical"?p=dh().y(Mu).x1(ju).x0(S=>S.base.x):p=dh().x(ju).y1(Mu).y0(S=>S.base.y);var v=p.defined(iS).curve(c),w=s?m.filter(iS):m;return v(w)}i==="vertical"&&Je(n)?p=dh().y(Mu).x1(ju).x0(n):Je(n)?p=dh().x(ju).y1(Mu).y0(n):p=yI().x(ju).y(Mu);var _=p.defined(A0).curve(c);return _(f)},Pp=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=Nd();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},f=r&&r.length?PF(c):n;return I.createElement("path",yx({},Ti(e),F9(e),{className:zt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},kF=["x","y","top","left","width","height","className"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){jF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jF(e,t,r){return(t=MF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LF(e,t){if(e==null)return{};var r,n,i=BF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FF=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),UF=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:f}=e,p=LF(e,kF),m=RF({x:t,y:r,top:n,left:i,width:s,height:c},p);return!Je(t)||!Je(r)||!Je(s)||!Je(c)||!Je(n)||!Je(i)?null:I.createElement("path",wx({},Pi(m),{className:zt("recharts-cross",f),d:FF(t,r,s,c,n,i)}))};function zF(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){$F(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $F(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),HT=(e,t,r)=>e.map(n=>"".concat(HF(n)," ").concat(t,"ms ").concat(r)).join(","),GF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ud=(e,t)=>Object.keys(t).reduce((r,n)=>oS(oS({},r),{},{[n]:e(n,t[n])}),{});function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){qF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qF(e,t,r){return(t=KF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0=(e,t,r)=>e+(t-e)*r,bx=e=>{var{from:t,to:r}=e;return t!==r},GT=(e,t,r)=>{var n=ud((i,s)=>{if(bx(s)){var[c,f]=e(s.from,s.to,s.velocity);return on(on({},s),{},{from:c,velocity:f})}return s},t);return r<1?ud((i,s)=>bx(s)&&n[i]!=null?on(on({},s),{},{velocity:_0(s.velocity,n[i].velocity,r),from:_0(s.from,n[i].from,r)}):s,t):GT(e,n,r-1)};function YF(e,t,r,n,i,s){var c,f=n.reduce((_,S)=>on(on({},_),{},{[S]:{from:e[S],velocity:0,to:t[S]}}),{}),p=()=>ud((_,S)=>S.from,f),m=()=>!Object.values(f).filter(bx).length,v=null,w=_=>{c||(c=_);var S=_-c,N=S/r.dt;f=GT(r,f,N),i(on(on(on({},e),t),p())),c=_,m()||(v=s.setTimeout(w))};return()=>(v=s.setTimeout(w),()=>{var _;(_=v)===null||_===void 0||_()})}function ZF(e,t,r,n,i,s,c){var f=null,p=i.reduce((w,_)=>{var S=e[_],N=t[_];return S==null||N==null?w:on(on({},w),{},{[_]:[S,N]})},{}),m,v=w=>{m||(m=w);var _=(w-m)/n,S=ud((O,k)=>_0(...k,r(_)),p);if(s(on(on(on({},e),t),S)),_<1)f=c.setTimeout(v);else{var N=ud((O,k)=>_0(...k,r(1)),p);s(on(on(on({},e),t),N))}};return()=>(f=c.setTimeout(v),()=>{var w;(w=f)===null||w===void 0||w()})}const QF=(e,t,r,n,i,s)=>{var c=GF(e,t);return r==null?()=>(i(on(on({},e),t)),()=>{}):r.isStepper===!0?YF(e,t,r,c,i,s):ZF(e,t,r,n,c,i,s)};var S0=1e-4,qT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),cS=(e,t)=>r=>{var n=qT(e,t);return KT(n,r)},JF=(e,t)=>r=>{var n=qT(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return KT(i,r)},eU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},tU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=eU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},rU=(e,t,r,n)=>{var i=cS(e,r),s=cS(t,n),c=JF(e,r),f=m=>m>1?1:m<0?0:m,p=m=>{for(var v=m>1?1:m,w=v,_=0;_<8;++_){var S=i(w)-v,N=c(w);if(Math.abs(S-v)<S0||N<S0)return s(w);w=f(w-S/N)}return s(w)};return p.isStepper=!1,p},uS=function(){return rU(...tU(...arguments))},nU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,f,p)=>{var m=-(c-f)*r,v=p*n,w=p+(m-v)*i/1e3,_=p*i/1e3+c;return Math.abs(_-f)<S0&&Math.abs(w)<S0?[f,0]:[_,w]};return s.isStepper=!0,s.dt=i,s},iU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uS(e);case"spring":return nU();default:if(e.split("(")[0]==="cubic-bezier")return uS(e)}return typeof e=="function"?e:null};function aU(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[p,...m]=f;if(typeof p=="number"){i=e.setTimeout(s.bind(null,m),p);return}s(p),i=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class sU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function oU(){return aU(new sU)}var lU=I.createContext(oU);function cU(e,t){var r=I.useContext(lU);return I.useMemo(()=>t??r(e),[e,t,r])}var uU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kp={isSsr:uU()},dU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dS={t:0},Yg={t:1};function Td(e){var t=Wr(e,dU),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:f,onAnimationStart:p,children:m}=t,v=r==="auto"?!kp.isSsr:r,w=cU(t.animationId,t.animationManager),[_,S]=I.useState(v?dS:Yg),N=I.useRef(null);return I.useEffect(()=>{v||S(Yg)},[v]),I.useEffect(()=>{if(!v||!n)return _d;var O=QF(dS,Yg,iU(s),i,S,w.getTimeoutController()),k=()=>{N.current=O()};return w.start([p,c,k,i,f]),()=>{w.stop(),N.current&&N.current(),f()}},[v,n,i,s,c,p,f,w]),m(_.t)}function Pd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=I.useRef(nd(t)),n=I.useRef(e);return n.current!==e&&(r.current=nd(t),n.current=e),r.current}var fU=["radius"],hU=["radius"],fS,hS,pS,mS,gS,vS,xS,yS,wS,bS;function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function _S(e,t){if(e==null)return{};var r,n,i=vU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SS=(e,t,r,n,i)=>{var s=ao(r),c=ao(n),f=Math.min(Math.abs(s)/2,Math.abs(c)/2),p=c>=0?1:-1,m=s>=0?1:-1,v=c>=0&&s>=0||c<0&&s<0?1:0,w;if(f>0&&i instanceof Array){for(var _=[0,0,0,0],S=0,N=4;S<N;S++)_[S]=i[S]>f?f:i[S];w=jr(fS||(fS=Pa(["M",",",""])),e,t+p*_[0]),_[0]>0&&(w+=jr(hS||(hS=Pa(["A ",",",",0,0,",",",",",""])),_[0],_[0],v,e+m*_[0],t)),w+=jr(pS||(pS=Pa(["L ",",",""])),e+r-m*_[1],t),_[1]>0&&(w+=jr(mS||(mS=Pa(["A ",",",",0,0,",`,
        `,",",""])),_[1],_[1],v,e+r,t+p*_[1])),w+=jr(gS||(gS=Pa(["L ",",",""])),e+r,t+n-p*_[2]),_[2]>0&&(w+=jr(vS||(vS=Pa(["A ",",",",0,0,",`,
        `,",",""])),_[2],_[2],v,e+r-m*_[2],t+n)),w+=jr(xS||(xS=Pa(["L ",",",""])),e+m*_[3],t+n),_[3]>0&&(w+=jr(yS||(yS=Pa(["A ",",",",0,0,",`,
        `,",",""])),_[3],_[3],v,e,t+n-p*_[3])),w+="Z"}else if(f>0&&i===+i&&i>0){var O=Math.min(f,i);w=jr(wS||(wS=Pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*O,O,O,v,e+m*O,t,e+r-m*O,t,O,O,v,e+r,t+p*O,e+r,t+n-p*O,O,O,v,e+r-m*O,t+n,e+m*O,t+n,O,O,v,e,t+n-p*O)}else w=jr(bS||(bS=Pa(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return w},CS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XT=e=>{var t=Wr(e,CS),r=I.useRef(null),[n,i]=I.useState(-1);I.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var oe=r.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:s,y:c,width:f,height:p,radius:m,className:v}=t,{animationEasing:w,animationDuration:_,animationBegin:S,isAnimationActive:N,isUpdateAnimationActive:O}=t,k=I.useRef(f),M=I.useRef(p),L=I.useRef(s),j=I.useRef(c),z=I.useMemo(()=>({x:s,y:c,width:f,height:p,radius:m}),[s,c,f,p,m]),W=Pd(z,"rectangle-");if(s!==+s||c!==+c||f!==+f||p!==+p||f===0||p===0)return null;var V=zt("recharts-rectangle",v);if(!O){var H=Pi(t),{radius:re}=H,X=_S(H,fU);return I.createElement("path",C0({},X,{x:ao(s),y:ao(c),width:ao(f),height:ao(p),radius:typeof m=="number"?m:void 0,className:V,d:SS(s,c,f,p,m)}))}var _e=k.current,pe=M.current,de=L.current,Ae=j.current,ke="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),Fe=HT(["strokeDasharray"],_,typeof w=="string"?w:CS.animationEasing);return I.createElement(Td,{animationId:W,key:W,canBegin:n>0,duration:_,easing:w,isActive:O,begin:S},oe=>{var ge=Or(_e,f,oe),we=Or(pe,p,oe),be=Or(de,s,oe),Y=Or(Ae,c,oe);r.current&&(k.current=ge,M.current=we,L.current=be,j.current=Y);var le;N?oe>0?le={transition:Fe,strokeDasharray:te}:le={strokeDasharray:ke}:le={strokeDasharray:te};var Be=Pi(t),{radius:Me}=Be,We=_S(Be,hU);return I.createElement("path",C0({},We,{radius:typeof m=="number"?m:void 0,className:V,d:SS(be,Y,ge,we,m),ref:r,style:AS(AS({},le),t.style)}))})};function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){xU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=wU(e,"string");return typeof t=="symbol"?t:t+""}function wU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0=Math.PI/180,bU=e=>e*180/Math.PI,Yr=(e,t,r,n)=>({x:e+Math.cos(-O0*n)*r,y:t+Math.sin(-O0*n)*r}),YT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},EU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},AU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=EU({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,p=Math.acos(f);return n>s&&(p=2*Math.PI-p),{radius:c,angle:bU(p),angleInRadian:p}},_U=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},SU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},CU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=AU({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:p,endAngle:m}=_U(t),v=s,w;if(p<=m){for(;v>m;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=m}else{for(;v>p;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=p}return w?NS(NS({},t),{},{radius:i,angle:SU(v,t)}):null};function ZT(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=Yr(t,r,n,i),f=Yr(t,r,n,s);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var IS,TS,PS,kS,RS,jS,MS;function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(null,arguments)}function Zo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var OU=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},wh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:f,cornerIsExternal:p}=e,m=f*(c?1:-1)+n,v=Math.asin(f/m)/O0,w=p?i:i+s*v,_=Yr(t,r,m,w),S=Yr(t,r,n,w),N=p?i-s*v:i,O=Yr(t,r,m*Math.cos(v*O0),N);return{center:_,circleTangency:S,lineTangency:O,theta:v}},QT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,f=OU(s,c),p=s+f,m=Yr(t,r,i,s),v=Yr(t,r,i,p),w=jr(IS||(IS=Zo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(f)>180),+(s>p),v.x,v.y);if(n>0){var _=Yr(t,r,n,s),S=Yr(t,r,n,p);w+=jr(TS||(TS=Zo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),S.x,S.y,n,n,+(Math.abs(f)>180),+(s<=p),_.x,_.y)}else w+=jr(PS||(PS=Zo(["L ",","," Z"])),t,r);return w},NU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:m}=e,v=bn(m-p),{circleTangency:w,lineTangency:_,theta:S}=wh({cx:t,cy:r,radius:i,angle:p,sign:v,cornerRadius:s,cornerIsExternal:f}),{circleTangency:N,lineTangency:O,theta:k}=wh({cx:t,cy:r,radius:i,angle:m,sign:-v,cornerRadius:s,cornerIsExternal:f}),M=f?Math.abs(p-m):Math.abs(p-m)-S-k;if(M<0)return c?jr(kS||(kS=Zo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),_.x,_.y,s,s,s*2,s,s,-s*2):QT({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:p,endAngle:m});var L=jr(RS||(RS=Zo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),_.x,_.y,s,s,+(v<0),w.x,w.y,i,i,+(M>180),+(v<0),N.x,N.y,s,s,+(v<0),O.x,O.y);if(n>0){var{circleTangency:j,lineTangency:z,theta:W}=wh({cx:t,cy:r,radius:n,angle:p,sign:v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),{circleTangency:V,lineTangency:H,theta:re}=wh({cx:t,cy:r,radius:n,angle:m,sign:-v,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),X=f?Math.abs(p-m):Math.abs(p-m)-W-re;if(X<0&&s===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=jr(jS||(jS=Zo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),H.x,H.y,s,s,+(v<0),V.x,V.y,n,n,+(X>180),+(v>0),j.x,j.y,s,s,+(v<0),z.x,z.y)}else L+=jr(MS||(MS=Zo(["L",",","Z"])),t,r);return L},IU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JT=e=>{var t=Wr(e,IU),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v,className:w}=t;if(s<i||m===v)return null;var _=zt("recharts-sector",w),S=s-i,N=Hn(c,S,0,!0),O;return N>0&&Math.abs(m-v)<360?O=NU({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(N,S/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:v}):O=QT({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:v}),I.createElement("path",Ex({},Pi(t),{className:_,d:O}))};function TU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(jI(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:f}=t,p=Yr(n,i,s,f),m=Yr(n,i,c,f);return[{x:p.x,y:p.y},{x:m.x,y:m.y}]}return ZT(t)}}var Zg={},Qg={},Jg={},DS;function PU(){return DS||(DS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Jg)),Jg}var LS;function kU(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Qg)),Qg}var BS;function RU(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qI(),r=kU();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((s-i)/(c||1)),0),p=new Array(f);for(let m=0;m<f;m++)p[m]=i,i+=c;return p}e.range=n})(Zg)),Zg}var ev,FS;function jU(){return FS||(FS=1,ev=RU().range),ev}var MU=jU();const e4=ta(MU);function so(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wy(e){let t,r,n;e.length!==2?(t=so,r=(f,p)=>so(e(f),p),n=(f,p)=>e(f)-p):(t=e===so||e===DU?e:LU,r=e,n=e);function i(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<0?m=w+1:v=w}while(m<v)}return m}function s(f,p,m=0,v=f.length){if(m<v){if(t(p,p)!==0)return v;do{const w=m+v>>>1;r(f[w],p)<=0?m=w+1:v=w}while(m<v)}return m}function c(f,p,m=0,v=f.length){const w=i(f,p,m,v-1);return w>m&&n(f[w-1],p)>-n(f[w],p)?w-1:w}return{left:i,center:c,right:s}}function LU(){return 0}function t4(e){return e===null?NaN:+e}function*BU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const FU=Wy(so),kd=FU.right;Wy(t4).center;class US extends Map{constructor(t,r=$U){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(zS(this,t))}has(t){return super.has(zS(this,t))}set(t,r){return super.set(UU(this,t),r)}delete(t){return super.delete(zU(this,t))}}function zS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function UU({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zU({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function $U(e){return e!==null&&typeof e=="object"?e.valueOf():e}function WU(e=so){if(e===so)return r4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function r4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VU=Math.sqrt(50),HU=Math.sqrt(10),GU=Math.sqrt(2);function N0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=VU?10:s>=HU?5:s>=GU?2:1;let f,p,m;return i<0?(m=Math.pow(10,-i)/c,f=Math.round(e*m),p=Math.round(t*m),f/m<e&&++f,p/m>t&&--p,m=-m):(m=Math.pow(10,i)*c,f=Math.round(e/m),p=Math.round(t/m),f*m<e&&++f,p*m>t&&--p),p<f&&.5<=r&&r<2?N0(e,t,r*2):[f,p,m]}function Ax(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?N0(t,e,r):N0(e,t,r);if(!(s>=i))return[];const f=s-i+1,p=new Array(f);if(n)if(c<0)for(let m=0;m<f;++m)p[m]=(s-m)/-c;else for(let m=0;m<f;++m)p[m]=(s-m)*c;else if(c<0)for(let m=0;m<f;++m)p[m]=(i+m)/-c;else for(let m=0;m<f;++m)p[m]=(i+m)*c;return p}function _x(e,t,r){return t=+t,e=+e,r=+r,N0(e,t,r)[2]}function Sx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?_x(t,e,r):_x(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function $S(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function n4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?r4:WU(i);n>r;){if(n-r>600){const p=n-r+1,m=t-r+1,v=Math.log(p),w=.5*Math.exp(2*v/3),_=.5*Math.sqrt(v*w*(p-w)/p)*(m-p/2<0?-1:1),S=Math.max(r,Math.floor(t-m*w/p+_)),N=Math.min(n,Math.floor(t+(p-m)*w/p+_));n4(e,t,S,N,i)}const s=e[t];let c=r,f=n;for(Du(e,r,t),i(e[n],s)>0&&Du(e,r,n);c<f;){for(Du(e,c,f),++c,--f;i(e[c],s)<0;)++c;for(;i(e[f],s)>0;)--f}i(e[r],s)===0?Du(e,r,f):(++f,Du(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Du(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function qU(e,t,r){if(e=Float64Array.from(BU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return WS(e);if(t>=1)return $S(e);var n,i=(n-1)*t,s=Math.floor(i),c=$S(n4(e,s).subarray(0,s+1)),f=WS(e.subarray(s+1));return c+(f-c)*(i-s)}}function KU(e,t,r=t4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),f=+r(e[s+1],s+1,e);return c+(f-c)*(i-s)}}function XU(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ra(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cx=Symbol("implicit");function Vy(){var e=new US,t=[],r=[],n=Cx;function i(s){let c=e.get(s);if(c===void 0){if(n!==Cx)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new US;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Vy(t,r).unknown(n)},ra.apply(i,arguments),i}function Hy(){var e=Vy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,f=!1,p=0,m=0,v=.5;delete e.unknown;function w(){var _=t().length,S=i<n,N=S?i:n,O=S?n:i;s=(O-N)/Math.max(1,_-p+m*2),f&&(s=Math.floor(s)),N+=(O-N-s*(_-p))*v,c=s*(1-p),f&&(N=Math.round(N),c=Math.round(c));var k=XU(_).map(function(M){return N+s*M});return r(S?k.reverse():k)}return e.domain=function(_){return arguments.length?(t(_),w()):t()},e.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,w()):[n,i]},e.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,f=!0,w()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(_){return arguments.length?(f=!!_,w()):f},e.padding=function(_){return arguments.length?(p=Math.min(1,m=+_),w()):p},e.paddingInner=function(_){return arguments.length?(p=Math.min(1,_),w()):p},e.paddingOuter=function(_){return arguments.length?(m=+_,w()):m},e.align=function(_){return arguments.length?(v=Math.max(0,Math.min(1,_)),w()):v},e.copy=function(){return Hy(t(),[n,i]).round(f).paddingInner(p).paddingOuter(m).align(v)},ra.apply(w(),arguments)}function i4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i4(t())},e}function YU(){return i4(Hy.apply(null,arguments).paddingInner(1))}function Gy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function a4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Rd(){}var dd=.7,I0=1/dd,pc="\\s*([+-]?\\d+)\\s*",fd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZU=/^#([0-9a-f]{3,8})$/,QU=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),JU=new RegExp(`^rgb\\(${La},${La},${La}\\)$`),ez=new RegExp(`^rgba\\(${pc},${pc},${pc},${fd}\\)$`),tz=new RegExp(`^rgba\\(${La},${La},${La},${fd}\\)$`),rz=new RegExp(`^hsl\\(${fd},${La},${La}\\)$`),nz=new RegExp(`^hsla\\(${fd},${La},${La},${fd}\\)$`),VS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gy(Rd,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HS,formatHex:HS,formatHex8:iz,formatHsl:az,formatRgb:GS,toString:GS});function HS(){return this.rgb().formatHex()}function iz(){return this.rgb().formatHex8()}function az(){return s4(this).formatHsl()}function GS(){return this.rgb().formatRgb()}function hd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ZU.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?qS(t):r===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QU.exec(e))?new ci(t[1],t[2],t[3],1):(t=JU.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ez.exec(e))?bh(t[1],t[2],t[3],t[4]):(t=tz.exec(e))?bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rz.exec(e))?YS(t[1],t[2]/100,t[3]/100,1):(t=nz.exec(e))?YS(t[1],t[2]/100,t[3]/100,t[4]):VS.hasOwnProperty(e)?qS(VS[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function qS(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function bh(e,t,r,n){return n<=0&&(e=t=r=NaN),new ci(e,t,r,n)}function sz(e){return e instanceof Rd||(e=hd(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function Ox(e,t,r,n){return arguments.length===1?sz(e):new ci(e,t,r,n??1)}function ci(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Gy(ci,Ox,a4(Rd,{brighter(e){return e=e==null?I0:Math.pow(I0,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(rl(this.r),rl(this.g),rl(this.b),T0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KS,formatHex:KS,formatHex8:oz,formatRgb:XS,toString:XS}));function KS(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function oz(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function XS(){const e=T0(this.opacity);return`${e===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${e===1?")":`, ${e})`}`}function T0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qo(e){return e=rl(e),(e<16?"0":"")+e.toString(16)}function YS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new va(e,t,r,n)}function s4(e){if(e instanceof va)return new va(e.h,e.s,e.l,e.opacity);if(e instanceof Rd||(e=hd(e)),!e)return new va;if(e instanceof va)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,f=s-i,p=(s+i)/2;return f?(t===s?c=(r-n)/f+(r<n)*6:r===s?c=(n-t)/f+2:c=(t-r)/f+4,f/=p<.5?s+i:2-s-i,c*=60):f=p>0&&p<1?0:c,new va(c,f,p,e.opacity)}function lz(e,t,r,n){return arguments.length===1?s4(e):new va(e,t,r,n??1)}function va(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Gy(va,lz,a4(Rd,{brighter(e){return e=e==null?I0:Math.pow(I0,e),new va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ci(tv(e>=240?e-240:e+120,i,n),tv(e,i,n),tv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new va(ZS(this.h),Eh(this.s),Eh(this.l),T0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=T0(this.opacity);return`${e===1?"hsl(":"hsla("}${ZS(this.h)}, ${Eh(this.s)*100}%, ${Eh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ZS(e){return e=(e||0)%360,e<0?e+360:e}function Eh(e){return Math.max(0,Math.min(1,e||0))}function tv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qy=e=>()=>e;function cz(e,t){return function(r){return e+r*t}}function uz(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dz(e){return(e=+e)==1?o4:function(t,r){return r-t?uz(t,r,e):qy(isNaN(t)?r:t)}}function o4(e,t){var r=t-e;return r?cz(e,r):qy(isNaN(e)?t:e)}const QS=(function e(t){var r=dz(t);function n(i,s){var c=r((i=Ox(i)).r,(s=Ox(s)).r),f=r(i.g,s.g),p=r(i.b,s.b),m=o4(i.opacity,s.opacity);return function(v){return i.r=c(v),i.g=f(v),i.b=p(v),i.opacity=m(v),i+""}}return n.gamma=e,n})(1);function fz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function hz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=jc(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(f){for(c=0;c<n;++c)s[c]=i[c](f);return s}}function mz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function P0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function gz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=jc(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Nx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rv=new RegExp(Nx.source,"g");function vz(e){return function(){return e}}function xz(e){return function(t){return e(t)+""}}function yz(e,t){var r=Nx.lastIndex=rv.lastIndex=0,n,i,s,c=-1,f=[],p=[];for(e=e+"",t=t+"";(n=Nx.exec(e))&&(i=rv.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),f[c]?f[c]+=s:f[++c]=s),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,p.push({i:c,x:P0(n,i)})),r=rv.lastIndex;return r<t.length&&(s=t.slice(r),f[c]?f[c]+=s:f[++c]=s),f.length<2?p[0]?xz(p[0].x):vz(t):(t=p.length,function(m){for(var v=0,w;v<t;++v)f[(w=p[v]).i]=w.x(m);return f.join("")})}function jc(e,t){var r=typeof t,n;return t==null||r==="boolean"?qy(t):(r==="number"?P0:r==="string"?(n=hd(t))?(t=n,QS):yz:t instanceof hd?QS:t instanceof Date?mz:hz(t)?fz:Array.isArray(t)?pz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gz:P0)(e,t)}function Ky(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wz(e,t){t===void 0&&(t=e,e=jc);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[f](c-f)}}function bz(e){return function(){return e}}function k0(e){return+e}var JS=[0,1];function Yn(e){return e}function Ix(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bz(isNaN(t)?NaN:.5)}function Ez(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Az(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=Ix(i,n),s=r(c,s)):(n=Ix(n,i),s=r(s,c)),function(f){return s(n(f))}}function _z(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=Ix(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(f){var p=kd(e,f,1,n)-1;return s[p](i[p](f))}}function jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rp(){var e=JS,t=JS,r=jc,n,i,s,c=Yn,f,p,m;function v(){var _=Math.min(e.length,t.length);return c!==Yn&&(c=Ez(e[0],e[_-1])),f=_>2?_z:Az,p=m=null,w}function w(_){return _==null||isNaN(_=+_)?s:(p||(p=f(e.map(n),t,r)))(n(c(_)))}return w.invert=function(_){return c(i((m||(m=f(t,e.map(n),P0)))(_)))},w.domain=function(_){return arguments.length?(e=Array.from(_,k0),v()):e.slice()},w.range=function(_){return arguments.length?(t=Array.from(_),v()):t.slice()},w.rangeRound=function(_){return t=Array.from(_),r=Ky,v()},w.clamp=function(_){return arguments.length?(c=_?!0:Yn,v()):c!==Yn},w.interpolate=function(_){return arguments.length?(r=_,v()):r},w.unknown=function(_){return arguments.length?(s=_,w):s},function(_,S){return n=_,i=S,v()}}function Xy(){return Rp()(Yn,Yn)}function Sz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function R0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ec(e){return e=R0(Math.abs(e)),e?e[1]:NaN}function Cz(e,t){return function(r,n){for(var i=r.length,s=[],c=0,f=e[0],p=0;i>0&&f>0&&(p+f+1>n&&(f=Math.max(1,n-p)),s.push(r.substring(i-=f,i+f)),!((p+=f+1)>n));)f=e[c=(c+1)%e.length];return s.reverse().join(t)}}function Oz(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Nz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pd(e){if(!(t=Nz.exec(e)))throw new Error("invalid format: "+e);var t;return new Yy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pd.prototype=Yy.prototype;function Yy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Iz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var l4;function Tz(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(l4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+R0(e,Math.max(0,t+s-1))[0]}function eC(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eC(e*100,t),r:eC,s:Tz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rC(e){return e}var nC=Array.prototype.map,iC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pz(e){var t=e.grouping===void 0||e.thousands===void 0?rC:Cz(nC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?rC:Oz(nC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(w){w=pd(w);var _=w.fill,S=w.align,N=w.sign,O=w.symbol,k=w.zero,M=w.width,L=w.comma,j=w.precision,z=w.trim,W=w.type;W==="n"?(L=!0,W="g"):tC[W]||(j===void 0&&(j=12),z=!0,W="g"),(k||_==="0"&&S==="=")&&(k=!0,_="0",S="=");var V=O==="$"?r:O==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=O==="$"?n:/[%p]/.test(W)?c:"",re=tC[W],X=/[defgprs%]/.test(W);j=j===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function _e(pe){var de=V,Ae=H,ke,te,Fe;if(W==="c")Ae=re(pe)+Ae,pe="";else{pe=+pe;var oe=pe<0||1/pe<0;if(pe=isNaN(pe)?p:re(Math.abs(pe),j),z&&(pe=Iz(pe)),oe&&+pe==0&&N!=="+"&&(oe=!1),de=(oe?N==="("?N:f:N==="-"||N==="("?"":N)+de,Ae=(W==="s"?iC[8+l4/3]:"")+Ae+(oe&&N==="("?")":""),X){for(ke=-1,te=pe.length;++ke<te;)if(Fe=pe.charCodeAt(ke),48>Fe||Fe>57){Ae=(Fe===46?i+pe.slice(ke+1):pe.slice(ke))+Ae,pe=pe.slice(0,ke);break}}}L&&!k&&(pe=t(pe,1/0));var ge=de.length+pe.length+Ae.length,we=ge<M?new Array(M-ge+1).join(_):"";switch(L&&k&&(pe=t(we+pe,we.length?M-Ae.length:1/0),we=""),S){case"<":pe=de+pe+Ae+we;break;case"=":pe=de+we+pe+Ae;break;case"^":pe=we.slice(0,ge=we.length>>1)+de+pe+Ae+we.slice(ge);break;default:pe=we+de+pe+Ae;break}return s(pe)}return _e.toString=function(){return w+""},_e}function v(w,_){var S=m((w=pd(w),w.type="f",w)),N=Math.max(-8,Math.min(8,Math.floor(Ec(_)/3)))*3,O=Math.pow(10,-N),k=iC[8+N/3];return function(M){return S(O*M)+k}}return{format:m,formatPrefix:v}}var Ah,Zy,c4;kz({thousands:",",grouping:[3],currency:["$",""]});function kz(e){return Ah=Pz(e),Zy=Ah.format,c4=Ah.formatPrefix,Ah}function Rz(e){return Math.max(0,-Ec(Math.abs(e)))}function jz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ec(t)/3)))*3-Ec(Math.abs(e)))}function Mz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ec(t)-Ec(e))+1}function u4(e,t,r,n){var i=Sx(e,t,r),s;switch(n=pd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=jz(i,c))&&(n.precision=s),c4(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Mz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Rz(i))&&(n.precision=s-(n.type==="%")*2);break}}return Zy(n)}function ho(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ax(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return u4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],f=n[s],p,m,v=10;for(f<c&&(m=c,c=f,f=m,m=i,i=s,s=m);v-- >0;){if(m=_x(c,f,r),m===p)return n[i]=c,n[s]=f,t(n);if(m>0)c=Math.floor(c/m)*m,f=Math.ceil(f/m)*m;else if(m<0)c=Math.ceil(c*m)/m,f=Math.floor(f*m)/m;else break;p=m}return e},e}function d4(){var e=Xy();return e.copy=function(){return jd(e,d4())},ra.apply(e,arguments),ho(e)}function f4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,k0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return f4(e).unknown(t)},e=arguments.length?Array.from(e,k0):[0,1],ho(r)}function h4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function aC(e){return Math.log(e)}function sC(e){return Math.exp(e)}function Dz(e){return-Math.log(-e)}function Lz(e){return-Math.exp(-e)}function Bz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fz(e){return e===10?Bz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Uz(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oC(e){return(t,r)=>-e(-t,r)}function Qy(e){const t=e(aC,sC),r=t.domain;let n=10,i,s;function c(){return i=Uz(n),s=Fz(n),r()[0]<0?(i=oC(i),s=oC(s),e(Dz,Lz)):e(aC,sC),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const p=r();let m=p[0],v=p[p.length-1];const w=v<m;w&&([m,v]=[v,m]);let _=i(m),S=i(v),N,O;const k=f==null?10:+f;let M=[];if(!(n%1)&&S-_<k){if(_=Math.floor(_),S=Math.ceil(S),m>0){for(;_<=S;++_)for(N=1;N<n;++N)if(O=_<0?N/s(-_):N*s(_),!(O<m)){if(O>v)break;M.push(O)}}else for(;_<=S;++_)for(N=n-1;N>=1;--N)if(O=_>0?N/s(-_):N*s(_),!(O<m)){if(O>v)break;M.push(O)}M.length*2<k&&(M=Ax(m,v,k))}else M=Ax(_,S,Math.min(S-_,k)).map(s);return w?M.reverse():M},t.tickFormat=(f,p)=>{if(f==null&&(f=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=pd(p)).precision==null&&(p.trim=!0),p=Zy(p)),f===1/0)return p;const m=Math.max(1,n*f/t.ticks().length);return v=>{let w=v/s(Math.round(i(v)));return w*n<n-.5&&(w*=n),w<=m?p(v):""}},t.nice=()=>r(h4(r(),{floor:f=>s(Math.floor(i(f))),ceil:f=>s(Math.ceil(i(f)))})),t}function p4(){const e=Qy(Rp()).domain([1,10]);return e.copy=()=>jd(e,p4()).base(e.base()),ra.apply(e,arguments),e}function lC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jy(e){var t=1,r=e(lC(t),cC(t));return r.constant=function(n){return arguments.length?e(lC(t=+n),cC(t)):t},ho(r)}function m4(){var e=Jy(Rp());return e.copy=function(){return jd(e,m4()).constant(e.constant())},ra.apply(e,arguments)}function uC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zz(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $z(e){return e<0?-e*e:e*e}function ew(e){var t=e(Yn,Yn),r=1;function n(){return r===1?e(Yn,Yn):r===.5?e(zz,$z):e(uC(r),uC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ho(t)}function tw(){var e=ew(Rp());return e.copy=function(){return jd(e,tw()).exponent(e.exponent())},ra.apply(e,arguments),e}function Wz(){return tw.apply(null,arguments).exponent(.5)}function dC(e){return Math.sign(e)*e*e}function Vz(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g4(){var e=Xy(),t=[0,1],r=!1,n;function i(s){var c=Vz(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(dC(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,k0)).map(dC)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return g4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ra.apply(i,arguments),ho(i)}function v4(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=KU(e,c/f);return s}function s(c){return c==null||isNaN(c=+c)?n:t[kd(r,c)]}return s.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(so),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return v4().domain(e).range(t).unknown(n)},ra.apply(s,arguments)}function x4(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(p){return p!=null&&p<=p?i[kd(n,p,0,r)]:s}function f(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,f()):[e,t]},c.range=function(p){return arguments.length?(r=(i=Array.from(p)).length-1,f()):i.slice()},c.invertExtent=function(p){var m=i.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(p){return arguments.length&&(s=p),c},c.thresholds=function(){return n.slice()},c.copy=function(){return x4().domain([e,t]).range(i).unknown(s)},ra.apply(ho(c),arguments)}function y4(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[kd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return y4().domain(e).range(t).unknown(r)},ra.apply(i,arguments)}const nv=new Date,iv=new Date;function cn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),f=i.ceil(s);return s-c<f-s?c:f},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,f)=>{const p=[];if(s=i.ceil(s),f=f==null?1:Math.floor(f),!(s<c)||!(f>0))return p;let m;do p.push(m=new Date(+s)),t(s,f),e(s);while(m<s&&s<c);return p},i.filter=s=>cn(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!s(c););else for(;--f>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(nv.setTime(+s),iv.setTime(+c),e(nv),e(iv),Math.floor(r(nv,iv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const j0=cn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);j0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):j0);j0.range;const us=1e3,Zi=us*60,ds=Zi*60,xs=ds*24,rw=xs*7,fC=xs*30,av=xs*365,Jo=cn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*us)},(e,t)=>(t-e)/us,e=>e.getUTCSeconds());Jo.range;const nw=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getMinutes());nw.range;const iw=cn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zi)},(e,t)=>(t-e)/Zi,e=>e.getUTCMinutes());iw.range;const aw=cn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*us-e.getMinutes()*Zi)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getHours());aw.range;const sw=cn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ds)},(e,t)=>(t-e)/ds,e=>e.getUTCHours());sw.range;const Md=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zi)/xs,e=>e.getDate()-1);Md.range;const jp=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xs,e=>e.getUTCDate()-1);jp.range;const w4=cn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xs,e=>Math.floor(e/xs));w4.range;function vl(e){return cn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Zi)/rw)}const Mp=vl(0),M0=vl(1),Hz=vl(2),Gz=vl(3),Ac=vl(4),qz=vl(5),Kz=vl(6);Mp.range;M0.range;Hz.range;Gz.range;Ac.range;qz.range;Kz.range;function xl(e){return cn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rw)}const Dp=xl(0),D0=xl(1),Xz=xl(2),Yz=xl(3),_c=xl(4),Zz=xl(5),Qz=xl(6);Dp.range;D0.range;Xz.range;Yz.range;_c.range;Zz.range;Qz.range;const ow=cn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ow.range;const lw=cn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lw.range;const ys=cn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ys.range;const ws=cn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ws.range;function b4(e,t,r,n,i,s){const c=[[Jo,1,us],[Jo,5,5*us],[Jo,15,15*us],[Jo,30,30*us],[s,1,Zi],[s,5,5*Zi],[s,15,15*Zi],[s,30,30*Zi],[i,1,ds],[i,3,3*ds],[i,6,6*ds],[i,12,12*ds],[n,1,xs],[n,2,2*xs],[r,1,rw],[t,1,fC],[t,3,3*fC],[e,1,av]];function f(m,v,w){const _=v<m;_&&([m,v]=[v,m]);const S=w&&typeof w.range=="function"?w:p(m,v,w),N=S?S.range(m,+v+1):[];return _?N.reverse():N}function p(m,v,w){const _=Math.abs(v-m)/w,S=Wy(([,,k])=>k).right(c,_);if(S===c.length)return e.every(Sx(m/av,v/av,w));if(S===0)return j0.every(Math.max(Sx(m,v,w),1));const[N,O]=c[_/c[S-1][2]<c[S][2]/_?S-1:S];return N.every(O)}return[f,p]}const[Jz,e$]=b4(ws,lw,Dp,w4,sw,iw),[t$,r$]=b4(ys,ow,Mp,Md,aw,nw);function sv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ov(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function n$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,f=e.months,p=e.shortMonths,m=Bu(i),v=Fu(i),w=Bu(s),_=Fu(s),S=Bu(c),N=Fu(c),O=Bu(f),k=Fu(f),M=Bu(p),L=Fu(p),j={a:oe,A:ge,b:we,B:be,c:null,d:xC,e:xC,f:C$,g:D$,G:B$,H:A$,I:_$,j:S$,L:E4,m:O$,M:N$,p:Y,q:le,Q:bC,s:EC,S:I$,u:T$,U:P$,V:k$,w:R$,W:j$,x:null,X:null,y:M$,Y:L$,Z:F$,"%":wC},z={a:Be,A:Me,b:We,B:Ce,c:null,d:yC,e:yC,f:W$,g:J$,G:tW,H:U$,I:z$,j:$$,L:_4,m:V$,M:H$,p:ot,q:it,Q:bC,s:EC,S:G$,u:q$,U:K$,V:X$,w:Y$,W:Z$,x:null,X:null,y:Q$,Y:eW,Z:rW,"%":wC},W={a:_e,A:pe,b:de,B:Ae,c:ke,d:gC,e:gC,f:y$,g:mC,G:pC,H:vC,I:vC,j:m$,L:x$,m:p$,M:g$,p:X,q:h$,Q:b$,s:E$,S:v$,u:l$,U:c$,V:u$,w:o$,W:d$,x:te,X:Fe,y:mC,Y:pC,Z:f$,"%":w$};j.x=V(r,j),j.X=V(n,j),j.c=V(t,j),z.x=V(r,z),z.X=V(n,z),z.c=V(t,z);function V(ve,et){return function(xe){var ye=[],Ve=-1,at=0,vt=ve.length,_t,Rt,St;for(xe instanceof Date||(xe=new Date(+xe));++Ve<vt;)ve.charCodeAt(Ve)===37&&(ye.push(ve.slice(at,Ve)),(Rt=hC[_t=ve.charAt(++Ve)])!=null?_t=ve.charAt(++Ve):Rt=_t==="e"?" ":"0",(St=et[_t])&&(_t=St(xe,Rt)),ye.push(_t),at=Ve+1);return ye.push(ve.slice(at,Ve)),ye.join("")}}function H(ve,et){return function(xe){var ye=Lu(1900,void 0,1),Ve=re(ye,ve,xe+="",0),at,vt;if(Ve!=xe.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(et&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(at=ov(Lu(ye.y,0,1)),vt=at.getUTCDay(),at=vt>4||vt===0?D0.ceil(at):D0(at),at=jp.offset(at,(ye.V-1)*7),ye.y=at.getUTCFullYear(),ye.m=at.getUTCMonth(),ye.d=at.getUTCDate()+(ye.w+6)%7):(at=sv(Lu(ye.y,0,1)),vt=at.getDay(),at=vt>4||vt===0?M0.ceil(at):M0(at),at=Md.offset(at,(ye.V-1)*7),ye.y=at.getFullYear(),ye.m=at.getMonth(),ye.d=at.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),vt="Z"in ye?ov(Lu(ye.y,0,1)).getUTCDay():sv(Lu(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(vt+5)%7:ye.w+ye.U*7-(vt+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,ov(ye)):sv(ye)}}function re(ve,et,xe,ye){for(var Ve=0,at=et.length,vt=xe.length,_t,Rt;Ve<at;){if(ye>=vt)return-1;if(_t=et.charCodeAt(Ve++),_t===37){if(_t=et.charAt(Ve++),Rt=W[_t in hC?et.charAt(Ve++):_t],!Rt||(ye=Rt(ve,xe,ye))<0)return-1}else if(_t!=xe.charCodeAt(ye++))return-1}return ye}function X(ve,et,xe){var ye=m.exec(et.slice(xe));return ye?(ve.p=v.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function _e(ve,et,xe){var ye=S.exec(et.slice(xe));return ye?(ve.w=N.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function pe(ve,et,xe){var ye=w.exec(et.slice(xe));return ye?(ve.w=_.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function de(ve,et,xe){var ye=M.exec(et.slice(xe));return ye?(ve.m=L.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function Ae(ve,et,xe){var ye=O.exec(et.slice(xe));return ye?(ve.m=k.get(ye[0].toLowerCase()),xe+ye[0].length):-1}function ke(ve,et,xe){return re(ve,t,et,xe)}function te(ve,et,xe){return re(ve,r,et,xe)}function Fe(ve,et,xe){return re(ve,n,et,xe)}function oe(ve){return c[ve.getDay()]}function ge(ve){return s[ve.getDay()]}function we(ve){return p[ve.getMonth()]}function be(ve){return f[ve.getMonth()]}function Y(ve){return i[+(ve.getHours()>=12)]}function le(ve){return 1+~~(ve.getMonth()/3)}function Be(ve){return c[ve.getUTCDay()]}function Me(ve){return s[ve.getUTCDay()]}function We(ve){return p[ve.getUTCMonth()]}function Ce(ve){return f[ve.getUTCMonth()]}function ot(ve){return i[+(ve.getUTCHours()>=12)]}function it(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var et=V(ve+="",j);return et.toString=function(){return ve},et},parse:function(ve){var et=H(ve+="",!1);return et.toString=function(){return ve},et},utcFormat:function(ve){var et=V(ve+="",z);return et.toString=function(){return ve},et},utcParse:function(ve){var et=H(ve+="",!0);return et.toString=function(){return ve},et}}}var hC={"-":"",_:" ",0:"0"},En=/^\s*\d+/,i$=/^%/,a$=/[\\^$*+?|[\]().{}]/g;function Lt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function s$(e){return e.replace(a$,"\\$&")}function Bu(e){return new RegExp("^(?:"+e.map(s$).join("|")+")","i")}function Fu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function o$(e,t,r){var n=En.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function l$(e,t,r){var n=En.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function c$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function u$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function d$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pC(e,t,r){var n=En.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mC(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function f$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function h$(e,t,r){var n=En.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function p$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gC(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function m$(e,t,r){var n=En.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vC(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function g$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function v$(e,t,r){var n=En.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function x$(e,t,r){var n=En.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function y$(e,t,r){var n=En.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function w$(e,t,r){var n=i$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function b$(e,t,r){var n=En.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E$(e,t,r){var n=En.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xC(e,t){return Lt(e.getDate(),t,2)}function A$(e,t){return Lt(e.getHours(),t,2)}function _$(e,t){return Lt(e.getHours()%12||12,t,2)}function S$(e,t){return Lt(1+Md.count(ys(e),e),t,3)}function E4(e,t){return Lt(e.getMilliseconds(),t,3)}function C$(e,t){return E4(e,t)+"000"}function O$(e,t){return Lt(e.getMonth()+1,t,2)}function N$(e,t){return Lt(e.getMinutes(),t,2)}function I$(e,t){return Lt(e.getSeconds(),t,2)}function T$(e){var t=e.getDay();return t===0?7:t}function P$(e,t){return Lt(Mp.count(ys(e)-1,e),t,2)}function A4(e){var t=e.getDay();return t>=4||t===0?Ac(e):Ac.ceil(e)}function k$(e,t){return e=A4(e),Lt(Ac.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function R$(e){return e.getDay()}function j$(e,t){return Lt(M0.count(ys(e)-1,e),t,2)}function M$(e,t){return Lt(e.getFullYear()%100,t,2)}function D$(e,t){return e=A4(e),Lt(e.getFullYear()%100,t,2)}function L$(e,t){return Lt(e.getFullYear()%1e4,t,4)}function B$(e,t){var r=e.getDay();return e=r>=4||r===0?Ac(e):Ac.ceil(e),Lt(e.getFullYear()%1e4,t,4)}function F$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lt(t/60|0,"0",2)+Lt(t%60,"0",2)}function yC(e,t){return Lt(e.getUTCDate(),t,2)}function U$(e,t){return Lt(e.getUTCHours(),t,2)}function z$(e,t){return Lt(e.getUTCHours()%12||12,t,2)}function $$(e,t){return Lt(1+jp.count(ws(e),e),t,3)}function _4(e,t){return Lt(e.getUTCMilliseconds(),t,3)}function W$(e,t){return _4(e,t)+"000"}function V$(e,t){return Lt(e.getUTCMonth()+1,t,2)}function H$(e,t){return Lt(e.getUTCMinutes(),t,2)}function G$(e,t){return Lt(e.getUTCSeconds(),t,2)}function q$(e){var t=e.getUTCDay();return t===0?7:t}function K$(e,t){return Lt(Dp.count(ws(e)-1,e),t,2)}function S4(e){var t=e.getUTCDay();return t>=4||t===0?_c(e):_c.ceil(e)}function X$(e,t){return e=S4(e),Lt(_c.count(ws(e),e)+(ws(e).getUTCDay()===4),t,2)}function Y$(e){return e.getUTCDay()}function Z$(e,t){return Lt(D0.count(ws(e)-1,e),t,2)}function Q$(e,t){return Lt(e.getUTCFullYear()%100,t,2)}function J$(e,t){return e=S4(e),Lt(e.getUTCFullYear()%100,t,2)}function eW(e,t){return Lt(e.getUTCFullYear()%1e4,t,4)}function tW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_c(e):_c.ceil(e),Lt(e.getUTCFullYear()%1e4,t,4)}function rW(){return"+0000"}function wC(){return"%"}function bC(e){return+e}function EC(e){return Math.floor(+e/1e3)}var Jl,C4,O4;nW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nW(e){return Jl=n$(e),C4=Jl.format,Jl.parse,O4=Jl.utcFormat,Jl.utcParse,Jl}function iW(e){return new Date(e)}function aW(e){return e instanceof Date?+e:+new Date(+e)}function cw(e,t,r,n,i,s,c,f,p,m){var v=Xy(),w=v.invert,_=v.domain,S=m(".%L"),N=m(":%S"),O=m("%I:%M"),k=m("%I %p"),M=m("%a %d"),L=m("%b %d"),j=m("%B"),z=m("%Y");function W(V){return(p(V)<V?S:f(V)<V?N:c(V)<V?O:s(V)<V?k:n(V)<V?i(V)<V?M:L:r(V)<V?j:z)(V)}return v.invert=function(V){return new Date(w(V))},v.domain=function(V){return arguments.length?_(Array.from(V,aW)):_().map(iW)},v.ticks=function(V){var H=_();return e(H[0],H[H.length-1],V??10)},v.tickFormat=function(V,H){return H==null?W:m(H)},v.nice=function(V){var H=_();return(!V||typeof V.range!="function")&&(V=t(H[0],H[H.length-1],V??10)),V?_(h4(H,V)):v},v.copy=function(){return jd(v,cw(e,t,r,n,i,s,c,f,p,m))},v}function sW(){return ra.apply(cw(t$,r$,ys,ow,Mp,Md,aw,nw,Jo,C4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oW(){return ra.apply(cw(Jz,e$,ws,lw,Dp,jp,sw,iw,Jo,O4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lp(){var e=0,t=1,r,n,i,s,c=Yn,f=!1,p;function m(w){return w==null||isNaN(w=+w)?p:c(i===0?.5:(w=(s(w)-r)*i,f?Math.max(0,Math.min(1,w)):w))}m.domain=function(w){return arguments.length?([e,t]=w,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(w){return arguments.length?(f=!!w,m):f},m.interpolator=function(w){return arguments.length?(c=w,m):c};function v(w){return function(_){var S,N;return arguments.length?([S,N]=_,c=w(S,N),m):[c(0),c(1)]}}return m.range=v(jc),m.rangeRound=v(Ky),m.unknown=function(w){return arguments.length?(p=w,m):p},function(w){return s=w,r=w(e),n=w(t),i=r===n?0:1/(n-r),m}}function po(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function N4(){var e=ho(Lp()(Yn));return e.copy=function(){return po(e,N4())},Cs.apply(e,arguments)}function I4(){var e=Qy(Lp()).domain([1,10]);return e.copy=function(){return po(e,I4()).base(e.base())},Cs.apply(e,arguments)}function T4(){var e=Jy(Lp());return e.copy=function(){return po(e,T4()).constant(e.constant())},Cs.apply(e,arguments)}function uw(){var e=ew(Lp());return e.copy=function(){return po(e,uw()).exponent(e.exponent())},Cs.apply(e,arguments)}function lW(){return uw.apply(null,arguments).exponent(.5)}function P4(){var e=[],t=Yn;function r(n){if(n!=null&&!isNaN(n=+n))return t((kd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(so),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>qU(e,s/n))},r.copy=function(){return P4(t).domain(e)},Cs.apply(r,arguments)}function Bp(){var e=0,t=.5,r=1,n=1,i,s,c,f,p,m=Yn,v,w=!1,_;function S(O){return isNaN(O=+O)?_:(O=.5+((O=+v(O))-s)*(n*O<n*s?f:p),m(w?Math.max(0,Math.min(1,O)):O))}S.domain=function(O){return arguments.length?([e,t,r]=O,i=v(e=+e),s=v(t=+t),c=v(r=+r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,S):[e,t,r]},S.clamp=function(O){return arguments.length?(w=!!O,S):w},S.interpolator=function(O){return arguments.length?(m=O,S):m};function N(O){return function(k){var M,L,j;return arguments.length?([M,L,j]=k,m=wz(O,[M,L,j]),S):[m(0),m(.5),m(1)]}}return S.range=N(jc),S.rangeRound=N(Ky),S.unknown=function(O){return arguments.length?(_=O,S):_},function(O){return v=O,i=O(e),s=O(t),c=O(r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,S}}function k4(){var e=ho(Bp()(Yn));return e.copy=function(){return po(e,k4())},Cs.apply(e,arguments)}function R4(){var e=Qy(Bp()).domain([.1,1,10]);return e.copy=function(){return po(e,R4()).base(e.base())},Cs.apply(e,arguments)}function j4(){var e=Jy(Bp());return e.copy=function(){return po(e,j4()).constant(e.constant())},Cs.apply(e,arguments)}function dw(){var e=ew(Bp());return e.copy=function(){return po(e,dw()).exponent(e.exponent())},Cs.apply(e,arguments)}function cW(){return dw.apply(null,arguments).exponent(.5)}const Gu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hy,scaleDiverging:k4,scaleDivergingLog:R4,scaleDivergingPow:dw,scaleDivergingSqrt:cW,scaleDivergingSymlog:j4,scaleIdentity:f4,scaleImplicit:Cx,scaleLinear:d4,scaleLog:p4,scaleOrdinal:Vy,scalePoint:YU,scalePow:tw,scaleQuantile:v4,scaleQuantize:x4,scaleRadial:g4,scaleSequential:N4,scaleSequentialLog:I4,scaleSequentialPow:uw,scaleSequentialQuantile:P4,scaleSequentialSqrt:lW,scaleSequentialSymlog:T4,scaleSqrt:Wz,scaleSymlog:m4,scaleThreshold:y4,scaleTime:sW,scaleUtc:oW,tickFormat:u4},Symbol.toStringTag,{value:"Module"}));var Os=e=>e.chartData,Fp=ue([Os],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fw=(e,t,r,n)=>n?Fp(e):Os(e),uW=(e,t,r)=>r?Fp(e):Os(e);function oo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Qt(t)&&Qt(r))return!0}return!1}function AC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function M4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Qt(r))i=r;else if(typeof r=="function")return;if(Qt(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(oo(c))return c}}function dW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(oo(n))return AC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(Je(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&j_.test(i)){var p=j_.exec(i);if(p==null||p[1]==null||t==null)c=void 0;else{var m=+p[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(f=Math.max(...t));else if(Je(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[1]))}catch{}else if(typeof s=="string"&&M_.test(s)){var v=M_.exec(s);if(v==null||v[1]==null||t==null)f=void 0;else{var w=+v[1];f=t[1]+w}}else f=t?.[1];var _=[c,f];if(oo(_))return t==null?_:AC(_,t,r)}}}var Mc=1e9,fW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pw,yr=!0,ea="[DecimalError] ",nl=ea+"Invalid argument: ",hw=ea+"Exponent out of range: ",Dc=Math.floor,qo=Math.pow,hW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,wn=1e7,fr=7,D4=9007199254740991,L0=Dc(D4/fr),Xe={};Xe.absoluteValue=Xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Xe.comparedTo=Xe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(e){return hs(this,new this.constructor(e))};Xe.dividedToIntegerBy=Xe.idiv=function(e){var t=this,r=t.constructor;return Jt(hs(t,new r(e),0,1),r.precision)};Xe.equals=Xe.eq=function(e){return!this.cmp(e)};Xe.exponent=function(){return Qr(this)};Xe.greaterThan=Xe.gt=function(e){return this.cmp(e)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(e){return this.cmp(e)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(e){return this.cmp(e)<0};Xe.lessThanOrEqualTo=Xe.lte=function(e){return this.cmp(e)<1};Xe.logarithm=Xe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ci))throw Error(ea+"NaN");if(r.s<1)throw Error(ea+(r.s?"NaN":"-Infinity"));return r.eq(Ci)?new n(0):(yr=!1,t=hs(md(r,s),md(e,s),s),yr=!0,Jt(t,i))};Xe.minus=Xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?F4(t,e):L4(t,(e.s=-e.s,e))};Xe.modulo=Xe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ea+"NaN");return r.s?(yr=!1,t=hs(r,e,0,1).times(e),yr=!0,r.minus(t)):Jt(new n(r),i)};Xe.naturalExponential=Xe.exp=function(){return B4(this)};Xe.naturalLogarithm=Xe.ln=function(){return md(this)};Xe.negated=Xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Xe.plus=Xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L4(t,e):F4(t,(e.s=-e.s,e))};Xe.precision=Xe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nl+e);if(t=Qr(i)+1,n=i.d.length-1,r=n*fr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Xe.squareRoot=Xe.sqrt=function(){var e,t,r,n,i,s,c,f=this,p=f.constructor;if(f.s<1){if(!f.s)return new p(0);throw Error(ea+"NaN")}for(e=Qr(f),yr=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Ma(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Dc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(i.toString()),r=p.precision,i=c=r+3;;)if(s=n,n=s.plus(hs(f,s,c+2)).times(.5),Ma(s.d).slice(0,c)===(t=Ma(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(Jt(s,r+1,0),s.times(s).eq(f)){n=s;break}}else if(t!="9999")break;c+=4}return yr=!0,Jt(n,r)};Xe.times=Xe.mul=function(e){var t,r,n,i,s,c,f,p,m,v=this,w=v.constructor,_=v.d,S=(e=new w(e)).d;if(!v.s||!e.s)return new w(0);for(e.s*=v.s,r=v.e+e.e,p=_.length,m=S.length,p<m&&(s=_,_=S,S=s,c=p,p=m,m=c),s=[],c=p+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=p+n;i>n;)f=s[i]+S[n]*_[i-n-1]+t,s[i--]=f%wn|0,t=f/wn|0;s[i]=(s[i]+t)%wn|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,yr?Jt(e,w.precision):e};Xe.toDecimalPlaces=Xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Fa(e,0,Mc),t===void 0?t=n.rounding:Fa(t,0,8),Jt(r,e+Qr(r)+1,t))};Xe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ul(n,!0):(Fa(e,0,Mc),t===void 0?t=i.rounding:Fa(t,0,8),n=Jt(new i(n),e+1,t),r=ul(n,!0,e+1)),r};Xe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?ul(i):(Fa(e,0,Mc),t===void 0?t=s.rounding:Fa(t,0,8),n=Jt(new s(i),e+Qr(i)+1,t),r=ul(n.abs(),!1,e+Qr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var e=this,t=e.constructor;return Jt(new t(e),Qr(e)+1,t.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(e){var t,r,n,i,s,c,f=this,p=f.constructor,m=12,v=+(e=new p(e));if(!e.s)return new p(Ci);if(f=new p(f),!f.s){if(e.s<1)throw Error(ea+"Infinity");return f}if(f.eq(Ci))return f;if(n=p.precision,e.eq(Ci))return Jt(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=f.s,c){if((r=v<0?-v:v)<=D4){for(i=new p(Ci),t=Math.ceil(n/fr+4),yr=!1;r%2&&(i=i.times(f),SC(i.d,t)),r=Dc(r/2),r!==0;)f=f.times(f),SC(f.d,t);return yr=!0,e.s<0?new p(Ci).div(i):Jt(i,n)}}else if(s<0)throw Error(ea+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,yr=!1,i=e.times(md(f,n+m)),yr=!0,i=B4(i),i.s=s,i};Xe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Qr(i),n=ul(i,r<=s.toExpNeg||r>=s.toExpPos)):(Fa(e,1,Mc),t===void 0?t=s.rounding:Fa(t,0,8),i=Jt(new s(i),e,t),r=Qr(i),n=ul(i,e<=r||r<=s.toExpNeg,e)),n};Xe.toSignificantDigits=Xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Fa(e,1,Mc),t===void 0?t=n.rounding:Fa(t,0,8)),Jt(new n(r),e,t)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qr(e),r=e.constructor;return ul(e,t<=r.toExpNeg||t>=r.toExpPos)};function L4(e,t){var r,n,i,s,c,f,p,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s||(t=new v(e)),yr?Jt(t,w):t;if(p=e.d,m=t.d,c=e.e,i=t.e,p=p.slice(),s=c-i,s){for(s<0?(n=p,s=-s,f=m.length):(n=m,i=c,f=p.length),c=Math.ceil(w/fr),f=c>f?c+1:f+1,s>f&&(s=f,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(f=p.length,s=m.length,f-s<0&&(s=f,n=m,m=p,p=n),r=0;s;)r=(p[--s]=p[s]+m[s]+r)/wn|0,p[s]%=wn;for(r&&(p.unshift(r),++i),f=p.length;p[--f]==0;)p.pop();return t.d=p,t.e=i,yr?Jt(t,w):t}function Fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(nl+e)}function Ma(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=fr-n.length,r&&(s+=eo(r)),s+=n;c=e[t],n=c+"",r=fr-n.length,r&&(s+=eo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var hs=(function(){function e(n,i){var s,c=0,f=n.length;for(n=n.slice();f--;)s=n[f]*i+c,n[f]=s%wn|0,c=s/wn|0;return c&&n.unshift(c),n}function t(n,i,s,c){var f,p;if(s!=c)p=s>c?1:-1;else for(f=p=0;f<s;f++)if(n[f]!=i[f]){p=n[f]>i[f]?1:-1;break}return p}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*wn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var f,p,m,v,w,_,S,N,O,k,M,L,j,z,W,V,H,re,X=n.constructor,_e=n.s==i.s?1:-1,pe=n.d,de=i.d;if(!n.s)return new X(n);if(!i.s)throw Error(ea+"Division by zero");for(p=n.e-i.e,H=de.length,W=pe.length,S=new X(_e),N=S.d=[],m=0;de[m]==(pe[m]||0);)++m;if(de[m]>(pe[m]||0)&&--p,s==null?L=s=X.precision:c?L=s+(Qr(n)-Qr(i))+1:L=s,L<0)return new X(0);if(L=L/fr+2|0,m=0,H==1)for(v=0,de=de[0],L++;(m<W||v)&&L--;m++)j=v*wn+(pe[m]||0),N[m]=j/de|0,v=j%de|0;else{for(v=wn/(de[0]+1)|0,v>1&&(de=e(de,v),pe=e(pe,v),H=de.length,W=pe.length),z=H,O=pe.slice(0,H),k=O.length;k<H;)O[k++]=0;re=de.slice(),re.unshift(0),V=de[0],de[1]>=wn/2&&++V;do v=0,f=t(de,O,H,k),f<0?(M=O[0],H!=k&&(M=M*wn+(O[1]||0)),v=M/V|0,v>1?(v>=wn&&(v=wn-1),w=e(de,v),_=w.length,k=O.length,f=t(w,O,_,k),f==1&&(v--,r(w,H<_?re:de,_))):(v==0&&(f=v=1),w=de.slice()),_=w.length,_<k&&w.unshift(0),r(O,w,k),f==-1&&(k=O.length,f=t(de,O,H,k),f<1&&(v++,r(O,H<k?re:de,k))),k=O.length):f===0&&(v++,O=[0]),N[m++]=v,f&&O[0]?O[k++]=pe[z]||0:(O=[pe[z]],k=1);while((z++<W||O[0]!==void 0)&&L--)}return N[0]||N.shift(),S.e=p,Jt(S,c?s+Qr(S)+1:s)}})();function B4(e,t){var r,n,i,s,c,f,p=0,m=0,v=e.constructor,w=v.precision;if(Qr(e)>16)throw Error(hw+Qr(e));if(!e.s)return new v(Ci);for(yr=!1,f=w,c=new v(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(qo(2,m))/Math.LN10*2+5|0,f+=n,r=i=s=new v(Ci),v.precision=f;;){if(i=Jt(i.times(e),f),r=r.times(++p),c=s.plus(hs(i,r,f)),Ma(c.d).slice(0,f)===Ma(s.d).slice(0,f)){for(;m--;)s=Jt(s.times(s),f);return v.precision=w,t==null?(yr=!0,Jt(s,w)):s}s=c}}function Qr(e){for(var t=e.e*fr,r=e.d[0];r>=10;r/=10)t++;return t}function lv(e,t,r){if(t>e.LN10.sd())throw yr=!0,r&&(e.precision=r),Error(ea+"LN10 precision limit exceeded");return Jt(new e(e.LN10),t)}function eo(e){for(var t="";e--;)t+="0";return t}function md(e,t){var r,n,i,s,c,f,p,m,v,w=1,_=10,S=e,N=S.d,O=S.constructor,k=O.precision;if(S.s<1)throw Error(ea+(S.s?"NaN":"-Infinity"));if(S.eq(Ci))return new O(0);if(t==null?(yr=!1,m=k):m=t,S.eq(10))return t==null&&(yr=!0),lv(O,m);if(m+=_,O.precision=m,r=Ma(N),n=r.charAt(0),s=Qr(S),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)S=S.times(e),r=Ma(S.d),n=r.charAt(0),w++;s=Qr(S),n>1?(S=new O("0."+r),s++):S=new O(n+"."+r.slice(1))}else return p=lv(O,m+2,k).times(s+""),S=md(new O(n+"."+r.slice(1)),m-_).plus(p),O.precision=k,t==null?(yr=!0,Jt(S,k)):S;for(f=c=S=hs(S.minus(Ci),S.plus(Ci),m),v=Jt(S.times(S),m),i=3;;){if(c=Jt(c.times(v),m),p=f.plus(hs(c,new O(i),m)),Ma(p.d).slice(0,m)===Ma(f.d).slice(0,m))return f=f.times(2),s!==0&&(f=f.plus(lv(O,m+2,k).times(s+""))),f=hs(f,new O(w),m),O.precision=k,t==null?(yr=!0,Jt(f,k)):f;f=p,i+=2}}function _C(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Dc(r/fr),e.d=[],n=(r+1)%fr,r<0&&(n+=fr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=fr;n<i;)e.d.push(+t.slice(n,n+=fr));t=t.slice(n),n=fr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),yr&&(e.e>L0||e.e<-L0))throw Error(hw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Jt(e,t,r){var n,i,s,c,f,p,m,v,w=e.d;for(c=1,s=w[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=fr,i=t,m=w[v=0];else{if(v=Math.ceil((n+1)/fr),s=w.length,v>=s)return e;for(m=s=w[v],c=1;s>=10;s/=10)c++;n%=fr,i=n-fr+c}if(r!==void 0&&(s=qo(10,c-i-1),f=m/s%10|0,p=t<0||w[v+1]!==void 0||m%s,p=r<4?(f||p)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||p||r==6&&(n>0?i>0?m/qo(10,c-i):0:w[v-1])%10&1||r==(e.s<0?8:7))),t<1||!w[0])return p?(s=Qr(e),w.length=1,t=t-s-1,w[0]=qo(10,(fr-t%fr)%fr),e.e=Dc(-t/fr)||0):(w.length=1,w[0]=e.e=e.s=0),e;if(n==0?(w.length=v,s=1,v--):(w.length=v+1,s=qo(10,fr-n),w[v]=i>0?(m/qo(10,c-i)%qo(10,i)|0)*s:0),p)for(;;)if(v==0){(w[0]+=s)==wn&&(w[0]=1,++e.e);break}else{if(w[v]+=s,w[v]!=wn)break;w[v--]=0,s=1}for(n=w.length;w[--n]===0;)w.pop();if(yr&&(e.e>L0||e.e<-L0))throw Error(hw+Qr(e));return e}function F4(e,t){var r,n,i,s,c,f,p,m,v,w,_=e.constructor,S=_.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new _(e),yr?Jt(t,S):t;if(p=e.d,w=t.d,n=t.e,m=e.e,p=p.slice(),c=m-n,c){for(v=c<0,v?(r=p,c=-c,f=w.length):(r=w,n=m,f=p.length),i=Math.max(Math.ceil(S/fr),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=p.length,f=w.length,v=i<f,v&&(f=i),i=0;i<f;i++)if(p[i]!=w[i]){v=p[i]<w[i];break}c=0}for(v&&(r=p,p=w,w=r,t.s=-t.s),f=p.length,i=w.length-f;i>0;--i)p[f++]=0;for(i=w.length;i>c;){if(p[--i]<w[i]){for(s=i;s&&p[--s]===0;)p[s]=wn-1;--p[s],p[i]+=wn}p[i]-=w[i]}for(;p[--f]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,yr?Jt(t,S):t):new _(0)}function ul(e,t,r){var n,i=Qr(e),s=Ma(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+eo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+eo(-i-1)+s,r&&(n=r-c)>0&&(s+=eo(n))):i>=c?(s+=eo(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+eo(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=eo(n))),e.s<0?"-"+s:s}function SC(e,t){if(e.length>t)return e.length=t,!0}function U4(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(nl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return _C(c,s.toString())}else if(typeof s!="string")throw Error(nl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,hW.test(s))_C(c,s);else throw Error(nl+s)}if(i.prototype=Xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=U4,i.config=i.set=pW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function pW(e){if(!e||typeof e!="object")throw Error(ea+"Object expected");var t,r,n,i=["precision",1,Mc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Dc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(nl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nl+r+": "+n);return this}var pw=U4(fW);Ci=new pw(1);const Gt=pw;var mW=e=>e,z4={},$4=e=>e===z4,CC=e=>function t(){return arguments.length===0||arguments.length===1&&$4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},W4=(e,t)=>e===1?t:CC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==z4).length;return s>=e?t(...n):W4(e-s,CC(function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];var m=n.map(v=>$4(v)?f.shift():v);return t(...m,...f)}))}),gW=e=>W4(e.length,e),Tx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},vW=gW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mW;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((f,p)=>p(f),s(...arguments))}};function V4(e){var t;return e===0?t=1:t=Math.floor(new Gt(e).abs().log(10).toNumber())+1,t}function H4(e,t,r){for(var n=new Gt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var G4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},q4=(e,t,r)=>{if(e.lte(0))return new Gt(0);var n=V4(e.toNumber()),i=new Gt(10).pow(n),s=e.div(i),c=n!==1?.05:.1,f=new Gt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),p=f.mul(i);return t?new Gt(p.toNumber()):new Gt(Math.ceil(p.toNumber()))},yW=(e,t,r)=>{var n=new Gt(1),i=new Gt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Gt(10).pow(V4(e)-1),i=new Gt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Gt(Math.floor(e)))}else e===0?i=new Gt(Math.floor((t-1)/2)):r||(i=new Gt(Math.floor(e)));var c=Math.floor((t-1)/2),f=xW(vW(p=>i.add(new Gt(p-c).mul(n)).toNumber()),Tx);return f(0,t)},K4=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Gt(0),tickMin:new Gt(0),tickMax:new Gt(0)};var c=q4(new Gt(r).sub(t).div(n-1),i,s),f;t<=0&&r>=0?f=new Gt(0):(f=new Gt(t).add(r).div(2),f=f.sub(new Gt(f).mod(c)));var p=Math.ceil(f.sub(t).div(c).toNumber()),m=Math.ceil(new Gt(r).sub(f).div(c).toNumber()),v=p+m+1;return v>n?K4(t,r,n,i,s+1):(v<n&&(m=r>0?m+(n-v):m,p=r>0?p:p+(n-v)),{step:c,tickMin:f.sub(new Gt(p).mul(c)),tickMax:f.add(new Gt(m).mul(c))})},wW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,p]=G4([r,n]);if(f===-1/0||p===1/0){var m=p===1/0?[f,...Tx(0,i-1).map(()=>1/0)]:[...Tx(0,i-1).map(()=>-1/0),p];return r>n?m.reverse():m}if(f===p)return yW(f,i,s);var{step:v,tickMin:w,tickMax:_}=K4(f,p,c,s,0),S=H4(w,_.add(new Gt(.1).mul(v)),v);return r>n?S.reverse():S},bW=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=G4([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var p=Math.max(r,2),m=q4(new Gt(f).sub(c).div(p-1),s,0),v=[...H4(new Gt(c),new Gt(f),m),f];return s===!1&&(v=v.map(w=>Math.round(w))),n>i?v.reverse():v},X4=e=>e.rootProps.maxBarSize,EW=e=>e.rootProps.barGap,Y4=e=>e.rootProps.barCategoryGap,AW=e=>e.rootProps.barSize,Dd=e=>e.rootProps.stackOffset,Z4=e=>e.rootProps.reverseStackOrder,mw=e=>e.options.chartName,gw=e=>e.rootProps.syncId,Q4=e=>e.rootProps.syncMethod,vw=e=>e.options.eventEmitter,Zr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ls={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_i={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Up=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},_W={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:ls.reversed,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:ls.type,unit:void 0},SW={allowDataOverflow:_i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_i.scale,tick:_i.tick,tickCount:_i.tickCount,ticks:void 0,type:_i.type,unit:void 0},CW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},OW={allowDataOverflow:_i.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_i.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_i.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_i.scale,tick:_i.tick,tickCount:_i.tickCount,ticks:void 0,type:"category",unit:void 0},xw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?CW:_W,yw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?OW:SW,zp=e=>e.polarOptions,ww=ue([_s,Ss,ln],YT),J4=ue([zp,ww],(e,t)=>{if(e!=null)return Hn(e.innerRadius,t,0)}),eP=ue([zp,ww],(e,t)=>{if(e!=null)return Hn(e.outerRadius,t,t*.8)}),NW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tP=ue([zp],NW);ue([xw,tP],Up);var rP=ue([ww,J4,eP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ue([yw,rP],Up);var nP=ue([Bt,zp,J4,eP,_s,Ss],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:p,endAngle:m}=t;return{cx:Hn(c,i,i/2),cy:Hn(f,s,s/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:m,clockWise:!1}}}),br=(e,t)=>t,Ld=(e,t,r)=>r;function bw(e){return e?.id}function iP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(f=>{var p,m=(p=f.data)!==null&&p!==void 0?p:n;if(!(m==null||m.length===0)){var v=bw(f);m.forEach((w,_)=>{var S=s==null||i?_:String(Vt(w,s,null)),N=Vt(w,f.dataKey,0),O;c.has(S)?O=c.get(S):O={},Object.assign(O,{[v]:N}),c.set(S,O)})}}),Array.from(c.values())}function $p(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Wp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function IW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var un=e=>{var t=Bt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Lc=e=>e.tooltip.settings.axisId;function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Px=[0,"auto"],xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aP=(e,t)=>e.cartesianAxis.xAxis[t],za=(e,t)=>{var r=aP(e,t);return r??xn},yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Px,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Od},sP=(e,t)=>e.cartesianAxis.yAxis[t],$a=(e,t)=>{var r=sP(e,t);return r??yn},oP={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ew=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oP},Nr=(e,t,r)=>{switch(t){case"xAxis":return za(e,r);case"yAxis":return $a(e,r);case"zAxis":return Ew(e,r);case"angleAxis":return xw(e,r);case"radiusAxis":return yw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},RW=(e,t,r)=>{switch(t){case"xAxis":return za(e,r);case"yAxis":return $a(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bd=(e,t,r)=>{switch(t){case"xAxis":return za(e,r);case"yAxis":return $a(e,r);case"angleAxis":return xw(e,r);case"radiusAxis":return yw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Aw(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Hp=e=>e.graphicalItems.cartesianItems,jW=ue([br,Ld],Aw),_w=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Fd=ue([Hp,Nr,jW],_w,{memoizeOptions:{resultEqualityCheck:Vp}}),cP=ue([Fd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($p)),uP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MW=ue([Fd],uP),Sw=e=>e.map(t=>t.data).filter(Boolean).flat(1),DW=ue([Fd],Sw,{memoizeOptions:{resultEqualityCheck:Vp}}),Cw=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Ow=ue([DW,fw],Cw),Nw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Vt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Vt(i,n)}))):e.map(n=>({value:n})),Gp=ue([Ow,Nr,Fd],Nw);function dP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Fh(e){if(Qi(e)||e instanceof Date){var t=Number(e);if(Qt(t))return t}}function NC(e){if(Array.isArray(e)){var t=[Fh(e[0]),Fh(e[1])];return oo(t)?t:void 0}var r=Fh(e);if(r!=null)return[r,r]}function bs(e){return e.map(Fh).filter(N9)}function LW(e,t,r){return!r||typeof t!="number"||ki(t)?[]:r.length?bs(r.flatMap(n=>{var i=Vt(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!Qt(s)||!Qt(c)))return[t-s,t+c]})):[]}var dn=e=>{var t=un(e),r=Lc(e);return Bd(e,t,r)},Ud=ue([dn],e=>e?.dataKey),BW=ue([cP,fw,dn],iP),fP=(e,t,r,n)=>{var i={},s=t.reduce((c,f)=>{if(f.stackId==null)return c;var p=c[f.stackId];return p==null&&(p=[]),p.push(f),c[f.stackId]=p,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[f,p]=c,m=n?[...p].reverse():p,v=m.map(bw);return[f,{stackedData:nB(e,v,r),graphicalItems:m}]}))},kx=ue([BW,cP,Dd,Z4],fP),hP=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=lB(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},FW=ue([Nr],e=>e.allowDataOverflow),Iw=e=>{var t;if(e==null||!("domain"in e))return Px;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=bs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Px},Tw=ue([Nr],Iw),Pw=ue([Tw,FW],M4),UW=ue([kx,Os,br,Pw],hP,{memoizeOptions:{resultEqualityCheck:Wp}}),qp=e=>e.errorBars,zW=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>dP(r,n)),F0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),f=Math.max(...s);return[c,f]}},kw=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(f=>{r.forEach(p=>{var m,v,w=(m=n[p.id])===null||m===void 0?void 0:m.filter(M=>dP(i,M)),_=Vt(f,(v=t.dataKey)!==null&&v!==void 0?v:p.dataKey),S=LW(f,_,w);if(S.length>=2){var N=Math.min(...S),O=Math.max(...S);(s==null||N<s)&&(s=N),(c==null||O>c)&&(c=O)}var k=NC(_);k!=null&&(s=s==null?k[0]:Math.min(s,k[0]),c=c==null?k[1]:Math.max(c,k[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var p=NC(Vt(f,t.dataKey));p!=null&&(s=s==null?p[0]:Math.min(s,p[0]),c=c==null?p[1]:Math.max(c,p[1]))}),Qt(s)&&Qt(c))return[s,c]},$W=ue([Ow,Nr,MW,qp,br],kw,{memoizeOptions:{resultEqualityCheck:Wp}});function WW(e){var{value:t}=e;if(Qi(t)||t instanceof Date)return t}var VW=(e,t,r)=>{var n=e.map(WW).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&PI(n))?e4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pP=e=>e.referenceElements.dots,Bc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),HW=ue([pP,br,Ld],Bc),mP=e=>e.referenceElements.areas,GW=ue([mP,br,Ld],Bc),gP=e=>e.referenceElements.lines,qW=ue([gP,br,Ld],Bc),vP=(e,t)=>{if(e!=null){var r=bs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},KW=ue(HW,br,vP),xP=(e,t)=>{if(e!=null){var r=bs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},XW=ue([GW,br],xP);function YW(e){var t;if(e.x!=null)return bs([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:bs(r)}function ZW(e){var t;if(e.y!=null)return bs([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:bs(r)}var yP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?YW(n):ZW(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},QW=ue([qW,br],yP),JW=ue(KW,QW,XW,(e,t,r)=>F0(e,r,t)),Rw=(e,t,r,n,i,s,c,f)=>{if(r!=null)return r;var p=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",m=p?F0(n,s,i):F0(s,i);return dW(t,m,e.allowDataOverflow)},eV=ue([Nr,Tw,Pw,UW,$W,JW,Bt,br],Rw,{memoizeOptions:{resultEqualityCheck:Wp}}),tV=[0,1],jw=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:p}=e,m=gl(t,s);if(m&&f==null){var v;return e4(0,(v=r?.length)!==null&&v!==void 0?v:0)}return p==="category"?VW(n,e,m):i==="expand"?tV:c}},Mw=ue([Nr,Bt,Ow,Gp,Dd,br,eV],jw),wP=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var f="scale".concat(Ad(s));return f in Gu?f:"point"}}},Fc=ue([Nr,Bt,lP,mw,br],wP);function rV(e){if(e!=null){if(e in Gu)return Gu[e]();var t="scale".concat(Ad(e));if(t in Gu)return Gu[t]()}}function Dw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=rV(t);if(i!=null){var s=i.domain(r).range(n);return QL(s),s}}}var Lw=(e,t,r)=>{var n=Iw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&oo(e))return wW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&oo(e))return bW(e,t.tickCount,t.allowDecimals)}},Bw=ue([Mw,Bd,Fc],Lw),Fw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&oo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,s),Math.max(c,f)]}return t},nV=ue([Nr,Mw,Bw,br],Fw),iV=ue(Gp,Nr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(bs(e.map(w=>w.value))).sort((w,_)=>w-_),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var p=n[f],m=n[f+1];if(!(p==null||m==null)){var v=m-p;r=Math.min(r,v)}}return r/c}}),bP=ue(iV,Bt,Y4,ln,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Qt(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=Hn(r,e*s),f=e*s/2;return f-c-(f-c)/s*c}return 0}),aV=(e,t,r)=>{var n=za(e,t);return n==null||typeof n.padding!="string"?0:bP(e,"xAxis",t,r,n.padding)},sV=(e,t,r)=>{var n=$a(e,t);return n==null||typeof n.padding!="string"?0:bP(e,"yAxis",t,r,n.padding)},oV=ue(za,aV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),lV=ue($a,sV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),cV=ue([ln,oV,Cp,Sp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),uV=ue([ln,Bt,lV,Cp,Sp,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),zd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return cV(e,r,n);case"yAxis":return uV(e,r,n);case"zAxis":return(i=Ew(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return tP(e);case"radiusAxis":return rP(e,r);default:return}},EP=ue([Nr,zd],Up),Sc=ue([Nr,Fc,nV,EP],Dw);ue([Fd,qp,br],zW);function AP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kp=(e,t)=>t,Xp=(e,t,r)=>r,dV=ue(Ap,Kp,Xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),fV=ue(_p,Kp,Xp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(AP)),_P=(e,t)=>({width:e.width,height:t.height}),hV=(e,t)=>{var r=typeof t.width=="number"?t.width:Od;return{width:r,height:e.height}},SP=ue(ln,za,_P),pV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},mV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},gV=ue(Ss,ln,dV,Kp,Xp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=_P(t,f);c==null&&(c=pV(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[f.id]=c-Number(m)*p.height,c+=(m?-1:1)*p.height}),s}),vV=ue(_s,ln,fV,Kp,Xp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=hV(t,f);c==null&&(c=mV(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[f.id]=c-Number(m)*p.width,c+=(m?-1:1)*p.width}),s}),xV=(e,t)=>{var r=za(e,t);if(r!=null)return gV(e,r.orientation,r.mirror)},yV=ue([ln,za,xV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),wV=(e,t)=>{var r=$a(e,t);if(r!=null)return vV(e,r.orientation,r.mirror)},bV=ue([ln,$a,wV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),CP=ue(ln,$a,(e,t)=>{var r=typeof t.width=="number"?t.width:Od;return{width:r,height:e.height}}),IC=(e,t,r)=>{switch(t){case"xAxis":return SP(e,r).width;case"yAxis":return CP(e,r).height;default:return}},OP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,f=gl(e,n),p=t.map(m=>m.value);if(c&&f&&s==="category"&&i&&PI(p))return p}},Uw=ue([Bt,Gp,Nr,br],OP),NP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=gl(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(f=>f.value)}},zw=ue([Bt,Gp,Bd,br],NP),TC=ue([Bt,RW,Fc,Sc,Uw,zw,zd,Bw,br],(e,t,r,n,i,s,c,f,p)=>{if(t!=null){var m=gl(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:f,range:c,realScaleType:r,scale:n}}}),EV=(e,t,r,n,i,s,c,f,p)=>{if(!(t==null||n==null)){var m=gl(e,p),{type:v,ticks:w,tickCount:_}=t,S=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,N=v==="category"&&n.bandwidth?n.bandwidth()/S:0;N=p==="angleAxis"&&s!=null&&s.length>=2?bn(s[0]-s[1])*2*N:N;var O=w||i;if(O){var k=O.map((M,L)=>{var j=c?c.indexOf(M):M;return{index:L,coordinate:n(j)+N,value:M,offset:N}});return k.filter(M=>Qt(M.coordinate))}return m&&f?f.map((M,L)=>({coordinate:n(M)+N,value:M,index:L,offset:N})).filter(M=>Qt(M.coordinate)):n.ticks?n.ticks(_).map(M=>({coordinate:n(M)+N,value:M,offset:N})):n.domain().map((M,L)=>({coordinate:n(M)+N,value:c?c[M]:M,index:L,offset:N}))}},IP=ue([Bt,Bd,Fc,Sc,Bw,zd,Uw,zw,br],EV),AV=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=gl(e,c),{tickCount:p}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?bn(n[0]-n[1])*2*m:m,f&&s?s.map((v,w)=>({coordinate:r(v)+m,value:v,index:w,offset:m})):r.ticks?r.ticks(p).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,w)=>({coordinate:r(v)+m,value:i?i[v]:v,index:w,offset:m}))}},lo=ue([Bt,Bd,Sc,zd,Uw,zw,br],AV),co=ue(Nr,Sc,(e,t)=>{if(!(e==null||t==null))return B0(B0({},e),{},{scale:t})}),_V=ue([Nr,Fc,Mw,EP],Dw),SV=ue((e,t,r)=>Ew(e,r),_V,(e,t)=>{if(!(e==null||t==null))return B0(B0({},e),{},{scale:t})}),CV=ue([Bt,Ap,_p],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TP=e=>e.options.defaultTooltipEventType,PP=e=>e.options.validateTooltipEventTypes;function kP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function $w(e,t){var r=TP(e),n=PP(e);return kP(t,r,n)}function OV(e){return Ge(t=>$w(t,e))}var RP=(e,t)=>{var r,n=Number(t);if(!(ki(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},NV=e=>e.tooltip.settings,io={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},IV={itemInteraction:{click:io,hover:io},axisInteraction:{click:io,hover:io},keyboardInteraction:io,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jP=di({name:"tooltip",initialState:IV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=xa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:xr()},removeTooltipEntrySettings:{reducer(e,t){var r=xa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:xr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:TV,replaceTooltipEntrySettings:PV,removeTooltipEntrySettings:kV,setTooltipSettingsState:RV,setActiveMouseOverItemIndex:MP,mouseLeaveItem:jV,mouseLeaveChart:DP,setActiveClickItemIndex:MV,setMouseOverAxisIndex:LP,setMouseClickAxisIndex:DV,setSyncInteraction:Rx,setKeyboardInteraction:jx}=jP.actions,LV=jP.reducer;function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=FV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $V(e){return e.index!=null}var BP=(e,t,r,n)=>{if(t==null)return io;var i=zV(e,t,r);if(i==null)return io;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if($V(i)){if(s)return _h(_h({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return _h(_h({},io),{},{coordinate:i.coordinate})};function WV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function VV(e,t){var r=WV(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function HV(e,t,r){if(r==null||t==null)return!0;var n=Vt(e,t);return n==null||!oo(r)?!0:VV(n,r)}var Ww=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!Qt(s))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var p=Math.max(c,Math.min(s,f)),m=t[p];return m==null||HV(m,r,n)?String(p):null},FP=(e,t,r,n,i,s,c,f)=>{if(!(s==null||f==null)){var p=c[0],m=p==null?void 0:f(p.positions,s);if(m!=null)return m;var v=i?.[Number(s)];if(v)switch(r){case"horizontal":return{x:v.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:v.coordinate}}}},UP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},$d=e=>e.options.tooltipPayloadSearcher,Uc=e=>e.tooltip;function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return(t=qV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XV(e,t){return e??t}var zP=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:f,computedData:p,dataStartIndex:m,dataEndIndex:v}=r,w=[];return e.reduce((_,S)=>{var N,{dataDefinedOnItem:O,settings:k}=S,M=XV(O,f),L=Array.isArray(M)?ST(M,m,v):M,j=(N=k?.dataKey)!==null&&N!==void 0?N:n,z=k?.nameKey,W;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?W=kI(L,n,i):W=s(L,t,p,z),Array.isArray(W))W.forEach(H=>{var re=RC(RC({},k),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});_.push(D_({tooltipEntrySettings:re,dataKey:H.dataKey,payload:H.payload,value:Vt(H.payload,H.dataKey),name:H.name}))});else{var V;_.push(D_({tooltipEntrySettings:k,dataKey:j,payload:W,value:Vt(W,j),name:(V=Vt(W,z))!==null&&V!==void 0?V:k?.name}))}return _},w)}},Vw=ue([dn,Bt,lP,mw,un],wP),YV=ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ZV=ue([un,Lc],Aw),zc=ue([YV,dn,ZV],_w,{memoizeOptions:{resultEqualityCheck:Vp}}),QV=ue([zc],e=>e.filter($p)),JV=ue([zc],Sw,{memoizeOptions:{resultEqualityCheck:Vp}}),$c=ue([JV,Os],Cw),eH=ue([QV,Os,dn],iP),Hw=ue([$c,dn,zc],Nw),$P=ue([dn],Iw),tH=ue([dn],e=>e.allowDataOverflow),WP=ue([$P,tH],M4),rH=ue([zc],e=>e.filter($p)),nH=ue([eH,rH,Dd,Z4],fP),iH=ue([nH,Os,un,WP],hP),aH=ue([zc],uP),sH=ue([$c,dn,aH,qp,un],kw,{memoizeOptions:{resultEqualityCheck:Wp}}),oH=ue([pP,un,Lc],Bc),lH=ue([oH,un],vP),cH=ue([mP,un,Lc],Bc),uH=ue([cH,un],xP),dH=ue([gP,un,Lc],Bc),fH=ue([dH,un],yP),hH=ue([lH,fH,uH],F0),pH=ue([dn,$P,WP,iH,sH,hH,Bt,un],Rw),Wd=ue([dn,Bt,$c,Hw,Dd,un,pH],jw),mH=ue([Wd,dn,Vw],Lw),gH=ue([dn,Wd,mH,un],Fw),VP=e=>{var t=un(e),r=Lc(e),n=!1;return zd(e,t,r,n)},HP=ue([dn,VP],Up),GP=ue([dn,Vw,gH,HP],Dw),vH=ue([Bt,Hw,dn,un],OP),xH=ue([Bt,Hw,dn,un],NP),yH=(e,t,r,n,i,s,c,f)=>{if(t){var{type:p}=t,m=gl(e,f);if(n){var v=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/v:0;return w=f==="angleAxis"&&i!=null&&i?.length>=2?bn(i[0]-i[1])*2*w:w,m&&c?c.map((_,S)=>({coordinate:n(_)+w,value:_,index:S,offset:w})):n.domain().map((_,S)=>({coordinate:n(_)+w,value:s?s[_]:_,index:S,offset:w}))}}},Ns=ue([Bt,dn,Vw,GP,VP,vH,xH,un],yH),Gw=ue([TP,PP,NV],(e,t,r)=>kP(r.shared,e,t)),qP=e=>e.tooltip.settings.trigger,qw=e=>e.tooltip.settings.defaultIndex,Vd=ue([Uc,Gw,qP,qw],BP),uo=ue([Vd,$c,Ud,Wd],Ww),KP=ue([Ns,uo],RP),Kw=ue([Vd],e=>{if(e)return e.dataKey}),wH=ue([Vd],e=>{if(e)return e.graphicalItemId}),XP=ue([Uc,Gw,qP,qw],UP),bH=ue([_s,Ss,Bt,ln,Ns,qw,XP,$d],FP),EH=ue([Vd,bH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),AH=ue([Vd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),_H=ue([XP,uo,Os,Ud,KP,$d,Gw],zP);ue([_H],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=CH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NH=()=>Ge(dn),IH=()=>{var e=NH(),t=Ge(Ns),r=Ge(GP);return x0(!e||!r?void 0:MC(MC({},e),{},{scale:r}),t)};function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RH=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},jH=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return ec(ec(ec({},n),Yr(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var f=i.coordinate,{angle:p}=n;return ec(ec(ec({},n),Yr(n.cx,n.cy,f,p)),{},{angle:p,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function MH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var YP=(e,t,r,n,i)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var p,m,v,w,_,S=f>0?(p=r[f-1])===null||p===void 0?void 0:p.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,N=(v=r[f])===null||v===void 0?void 0:v.coordinate,O=f>=c-1?(w=r[0])===null||w===void 0?void 0:w.coordinate:(_=r[f+1])===null||_===void 0?void 0:_.coordinate,k=void 0;if(!(S==null||N==null||O==null))if(bn(N-S)!==bn(O-N)){var M=[];if(bn(O-N)===bn(i[1]-i[0])){k=O;var L=N+i[1]-i[0];M[0]=Math.min(L,(L+S)/2),M[1]=Math.max(L,(L+S)/2)}else{k=S;var j=O+i[1]-i[0];M[0]=Math.min(N,(j+N)/2),M[1]=Math.max(N,(j+N)/2)}var z=[Math.min(N,(k+N)/2),Math.max(N,(k+N)/2)];if(e>z[0]&&e<=z[1]||e>=M[0]&&e<=M[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var V=Math.min(S,O),H=Math.max(S,O);if(e>(V+N)/2&&e<=(H+N)/2){var re;return(re=r[f])===null||re===void 0?void 0:re.index}}}else if(t)for(var X=0;X<c;X++){var _e=t[X];if(_e!=null){var pe=t[X+1],de=t[X-1];if(X===0&&pe!=null&&e<=(_e.coordinate+pe.coordinate)/2||X===c-1&&de!=null&&e>(_e.coordinate+de.coordinate)/2||X>0&&X<c-1&&de!=null&&pe!=null&&e>(_e.coordinate+de.coordinate)/2&&e<=(_e.coordinate+pe.coordinate)/2)return _e.index}}return-1},DH=()=>Ge(mw),Xw=(e,t)=>t,ZP=(e,t,r)=>r,Yw=(e,t,r,n)=>n,LH=ue(Ns,e=>hp(e,t=>t.coordinate)),Zw=ue([Uc,Xw,ZP,Yw],BP),Qw=ue([Zw,$c,Ud,Wd],Ww),BH=(e,t,r)=>{if(t!=null){var n=Uc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},QP=ue([Uc,Xw,ZP,Yw],UP),U0=ue([_s,Ss,Bt,ln,Ns,Yw,QP,$d],FP),FH=ue([Zw,U0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),JP=ue([Ns,Qw],RP),UH=ue([QP,Qw,Os,Ud,JP,$d,Xw],zP),zH=ue([Zw,Qw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$H=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&MH(e,c)){var f=cB(e,t),p=YP(f,s,i,r,n),m=RH(t,i,p,e);return{activeIndex:String(p),activeCoordinate:m}}},WH=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var f=CU(e,r);if(f){var p=uB(f,t),m=YP(p,c,s,n,i),v=jH(t,s,m,f);return{activeIndex:String(m),activeCoordinate:v}}}},VH=(e,t,r,n,i,s,c,f)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?$H(e,t,n,i,s,c,f):WH(e,t,r,n,i,s,c)},HH=ue(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),GH=ue(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Zr)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:IW}});function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=KH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YH={},ZH={zIndexMap:Object.values(Zr).reduce((e,t)=>BC(BC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),YH)},QH=new Set(Object.values(Zr));function JH(e){return QH.has(e)}var e8=di({name:"zIndex",initialState:ZH,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!JH(r)&&delete e.zIndexMap[r])},prepare:xr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:xr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:xr()}}}),{registerZIndexPortal:eG,unregisterZIndexPortal:tG,registerZIndexPortalElement:rG,unregisterZIndexPortalElement:nG}=e8.actions,iG=e8.reducer;function fi(e){var{zIndex:t,children:r}=e,n=zB(),i=n&&t!==void 0&&t!==0,s=Rn(),c=er();I.useLayoutEffect(()=>i?(c(eG({zIndex:t})),()=>{c(tG({zIndex:t}))}):_d,[c,t,i]);var f=Ge(p=>HH(p,t,s));return i?f?ty.createPortal(r,f):null:r}function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mx.apply(null,arguments)}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lG(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return I.isValidElement(t)?I.cloneElement(t,n):I.createElement(r,n)}function cG(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:f,cursor:p,tooltipEventType:m,chartName:v}=e,w=r,_=n,S=i;if(!p||!w||v!=="ScatterChart"&&m!=="axis")return null;var N,O,k;if(v==="ScatterChart")N=w,O=UF,k=Zr.cursorLine;else if(v==="BarChart")N=zF(f,w,s,c),O=XT,k=Zr.cursorRectangle;else if(f==="radial"&&jI(w)){var{cx:M,cy:L,radius:j,startAngle:z,endAngle:W}=ZT(w);N={cx:M,cy:L,startAngle:z,endAngle:W,innerRadius:j,outerRadius:j},O=JT,k=Zr.cursorLine}else N={points:TU(f,w,s)},O=Pp,k=Zr.cursorLine;var V=typeof p=="object"&&"className"in p?p.className:void 0,H=Sh(Sh(Sh(Sh({stroke:"#ccc",pointerEvents:"none"},s),N),xc(p)),{},{payload:_,payloadIndex:S,className:zt("recharts-tooltip-cursor",V)});return I.createElement(fi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},I.createElement(lG,{cursor:p,cursorComp:O,cursorProps:H}))}function uG(e){var t=IH(),r=RT(),n=Nd(),i=DH();return t==null||r==null||n==null||i==null?null:I.createElement(cG,Mx({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var t8=I.createContext(null),dG=()=>I.useContext(t8),cv={exports:{}},UC;function fG(){return UC||(UC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,m,v){this.fn=p,this.context=m,this.once=v||!1}function s(p,m,v,w,_){if(typeof v!="function")throw new TypeError("The listener must be a function");var S=new i(v,w||p,_),N=r?r+m:m;return p._events[N]?p._events[N].fn?p._events[N]=[p._events[N],S]:p._events[N].push(S):(p._events[N]=S,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],v,w;if(this._eventsCount===0)return m;for(w in v=this._events)t.call(v,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(v)):m},f.prototype.listeners=function(m){var v=r?r+m:m,w=this._events[v];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,S=w.length,N=new Array(S);_<S;_++)N[_]=w[_].fn;return N},f.prototype.listenerCount=function(m){var v=r?r+m:m,w=this._events[v];return w?w.fn?1:w.length:0},f.prototype.emit=function(m,v,w,_,S,N){var O=r?r+m:m;if(!this._events[O])return!1;var k=this._events[O],M=arguments.length,L,j;if(k.fn){switch(k.once&&this.removeListener(m,k.fn,void 0,!0),M){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,v),!0;case 3:return k.fn.call(k.context,v,w),!0;case 4:return k.fn.call(k.context,v,w,_),!0;case 5:return k.fn.call(k.context,v,w,_,S),!0;case 6:return k.fn.call(k.context,v,w,_,S,N),!0}for(j=1,L=new Array(M-1);j<M;j++)L[j-1]=arguments[j];k.fn.apply(k.context,L)}else{var z=k.length,W;for(j=0;j<z;j++)switch(k[j].once&&this.removeListener(m,k[j].fn,void 0,!0),M){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,v);break;case 3:k[j].fn.call(k[j].context,v,w);break;case 4:k[j].fn.call(k[j].context,v,w,_);break;default:if(!L)for(W=1,L=new Array(M-1);W<M;W++)L[W-1]=arguments[W];k[j].fn.apply(k[j].context,L)}}return!0},f.prototype.on=function(m,v,w){return s(this,m,v,w,!1)},f.prototype.once=function(m,v,w){return s(this,m,v,w,!0)},f.prototype.removeListener=function(m,v,w,_){var S=r?r+m:m;if(!this._events[S])return this;if(!v)return c(this,S),this;var N=this._events[S];if(N.fn)N.fn===v&&(!_||N.once)&&(!w||N.context===w)&&c(this,S);else{for(var O=0,k=[],M=N.length;O<M;O++)(N[O].fn!==v||_&&!N[O].once||w&&N[O].context!==w)&&k.push(N[O]);k.length?this._events[S]=k.length===1?k[0]:k:c(this,S)}return this},f.prototype.removeAllListeners=function(m){var v;return m?(v=r?r+m:m,this._events[v]&&c(this,v)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(cv)),cv.exports}var hG=fG();const pG=ta(hG);var gd=new pG,Dx="recharts.syncEvent.tooltip",zC="recharts.syncEvent.brush";function Jw(e,t){if(t){var r=Number.parseInt(t,10);if(!ki(r))return e?.[r]}}var mG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},r8=di({name:"options",initialState:mG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gG=r8.reducer,{createEventEmitter:vG}=r8.actions;function xG(e){return e.tooltip.syncInteraction}var yG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},n8=di({name:"chartData",initialState:yG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:$C,setDataStartEndIndexes:wG,setComputedData:Pte}=n8.actions,bG=n8.reducer,EG=["x","y"];function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=_G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CG(e,t){if(e==null)return{};var r,n,i=OG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NG(){var e=Ge(gw),t=Ge(vw),r=er(),n=Ge(Q4),i=Ge(Ns),s=Nd(),c=Rc(),f=Ge(p=>p.rootProps.className);I.useEffect(()=>{if(e==null)return _d;var p=(m,v,w)=>{if(t!==w&&e===m){if(n==="index"){var _;if(c&&v!==null&&v!==void 0&&(_=v.payload)!==null&&_!==void 0&&_.coordinate&&v.payload.sourceViewBox){var S=v.payload.coordinate,{x:N,y:O}=S,k=CG(S,EG),{x:M,y:L,width:j,height:z}=v.payload.sourceViewBox,W=tc(tc({},k),{},{x:c.x+(j?(N-M)/j:0)*c.width,y:c.y+(z?(O-L)/z:0)*c.height});r(tc(tc({},v),{},{payload:tc(tc({},v.payload),{},{coordinate:W})}))}else r(v);return}if(i!=null){var V;if(typeof n=="function"){var H={activeTooltipIndex:v.payload.index==null?void 0:Number(v.payload.index),isTooltipActive:v.payload.active,activeIndex:v.payload.index==null?void 0:Number(v.payload.index),activeLabel:v.payload.label,activeDataKey:v.payload.dataKey,activeCoordinate:v.payload.coordinate},re=n(i,H);V=i[re]}else n==="value"&&(V=i.find(Fe=>String(Fe.value)===v.payload.label));var{coordinate:X}=v.payload;if(V==null||v.payload.active===!1||X==null||c==null){r(Rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:_e,y:pe}=X,de=Math.min(_e,c.x+c.width),Ae=Math.min(pe,c.y+c.height),ke={x:s==="horizontal"?V.coordinate:de,y:s==="horizontal"?Ae:V.coordinate},te=Rx({active:v.payload.active,coordinate:ke,dataKey:v.payload.dataKey,index:String(V.index),label:v.payload.label,sourceViewBox:v.payload.sourceViewBox,graphicalItemId:v.payload.graphicalItemId});r(te)}}};return gd.on(Dx,p),()=>{gd.off(Dx,p)}},[f,r,t,e,n,i,s,c])}function IG(){var e=Ge(gw),t=Ge(vw),r=er();I.useEffect(()=>{if(e==null)return _d;var n=(i,s,c)=>{t!==c&&e===i&&r(wG(s))};return gd.on(zC,n),()=>{gd.off(zC,n)}},[r,t,e])}function TG(){var e=er();I.useEffect(()=>{e(vG())},[e]),NG(),IG()}function PG(e,t,r,n,i,s){var c=Ge(S=>BH(S,e,t)),f=Ge(vw),p=Ge(gw),m=Ge(Q4),v=Ge(xG),w=v?.active,_=Rc();I.useEffect(()=>{if(!w&&p!=null&&f!=null){var S=Rx({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:_,graphicalItemId:void 0});gd.emit(Dx,p,S,f)}},[w,r,c,i,n,f,p,m,s,_])}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){kG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e){return e.dataKey}function DG(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(yF,t)}var GC=[],LG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Uh(e){var t,r,n=Wr(e,LG),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:f,content:p,filterNull:m,isAnimationActive:v,offset:w,payloadUniqBy:_,position:S,reverseDirection:N,useTranslate3d:O,wrapperStyle:k,cursor:M,shared:L,trigger:j,defaultIndex:z,portal:W,axisId:V}=n,H=er(),re=typeof z=="number"?String(z):z;I.useEffect(()=>{H(RV({shared:L,trigger:j,axisId:V,active:i,defaultIndex:re}))},[H,L,j,V,i,re]);var X=Rc(),_e=VT(),pe=OV(L),{activeIndex:de,isActive:Ae}=(t=Ge(ot=>zH(ot,pe,j,re)))!==null&&t!==void 0?t:{},ke=Ge(ot=>UH(ot,pe,j,re)),te=Ge(ot=>JP(ot,pe,j,re)),Fe=Ge(ot=>FH(ot,pe,j,re)),oe=ke,ge=dG(),we=(r=i??Ae)!==null&&r!==void 0?r:!1,[be,Y]=XI([oe,we]),le=pe==="axis"?te:void 0;PG(pe,j,Fe,le,de,we);var Be=W??ge;if(Be==null||X==null||pe==null)return null;var Me=oe??GC;we||(Me=GC),m&&Me.length&&(Me=VI(Me.filter(ot=>ot.value!=null&&(ot.hide!==!0||n.includeHidden)),_,MG));var We=Me.length>0,Ce=I.createElement(CF,{allowEscapeViewBox:s,animationDuration:c,animationEasing:f,isAnimationActive:v,active:we,coordinate:Fe,hasPayload:We,offset:w,position:S,reverseDirection:N,useTranslate3d:O,viewBox:X,wrapperStyle:k,lastBoundingBox:be,innerRef:Y,hasPortalFromProps:!!W},DG(p,HC(HC({},n),{},{payload:Me,label:le,active:we,activeIndex:de,coordinate:Fe,accessibilityLayer:_e})));return I.createElement(I.Fragment,null,ty.createPortal(Ce,Be),we&&I.createElement(uG,{cursor:M,tooltipEventType:pe,coordinate:Fe,payload:Me,index:de}))}var dl=e=>null;dl.displayName="Cell";function BG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zG{constructor(t){BG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=VG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GG={cacheSize:2e3,enableCache:!0},i8=$G({},GG),KC=new zG(i8.cacheSize),qG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XC="recharts_measurement_span";function KG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(f)}var YC=(e,t)=>{try{var r=document.getElementById(XC);r||(r=document.createElement("span"),r.setAttribute("id",XC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kp.isSsr)return{width:0,height:0};if(!i8.enableCache)return YC(t,r);var n=KG(t,r),i=KC.get(n);if(i)return i;var s=YC(t,r);return KC.set(n,s),s},a8;function XG(e,t,r){return(t=YG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=ZG(e,"string");return typeof t=="symbol"?t:t+""}function ZG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tq=["cm","mm","pt","pc","in","Q","px"];function rq(e){return tq.includes(e)}var cc="NaN";function nq(e,t){return e*eq[t]}class kn{static parse(t){var r,[,n,i]=(r=JG.exec(t))!==null&&r!==void 0?r:[];return n==null?kn.NaN:new kn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ki(t)&&(this.unit=""),r!==""&&!QG.test(r)&&(this.num=NaN,this.unit=""),rq(r)&&(this.num=nq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kn(NaN,""):new kn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kn(NaN,""):new kn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}a8=kn;XG(kn,"NaN",new a8(NaN,""));function s8(e){if(e==null||e.includes(cc))return cc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=ZC.exec(t))!==null&&r!==void 0?r:[],c=kn.parse(n??""),f=kn.parse(s??""),p=i==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return cc;t=t.replace(ZC,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,v,w,_]=(m=QC.exec(t))!==null&&m!==void 0?m:[],S=kn.parse(v??""),N=kn.parse(_??""),O=w==="+"?S.add(N):S.subtract(N);if(O.isNaN())return cc;t=t.replace(QC,O.toString())}return t}var JC=/\(([^()]*)\)/;function iq(e){for(var t=e,r;(r=JC.exec(t))!=null;){var[,n]=r;t=t.replace(JC,s8(n))}return t}function aq(e){var t=e.replace(/\s+/g,"");return t=iq(t),t=s8(t),t}function sq(e){try{return aq(e)}catch{return cc}}function uv(e){var t=sq(e.slice(5,-1));return t===cc?"":t}var oq=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lq=["dx","dy","angle","className","breakAll"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function e3(e,t){if(e==null)return{};var r,n,i=cq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o8=/[ \f\n\r\t\v\u2028\u2029]+/,l8=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];lr(t)||(r?i=t.toString().split(""):i=t.toString().split(o8));var s=i.map(f=>({word:f,width:Xu(f,n).width})),c=r?0:Xu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function uq(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var c8=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:f}=s,p=i[i.length-1];if(p&&f!=null&&(t==null||n||p.width+f+r<Number(t)))p.words.push(c),p.width+=f+r;else{var m={words:[c],width:f};i.push(m)}return i},[]),u8=e=>e.reduce((t,r)=>t.width>r.width?t:r),dq="",t3=(e,t,r,n,i,s,c,f)=>{var p=e.slice(0,t),m=l8({breakAll:r,style:n,children:p+dq});if(!m)return[!1,[]];var v=c8(m.wordsWithComputedWidth,s,c,f),w=v.length>i||u8(v).width>Number(s);return[w,v]},fq=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:f,breakAll:p}=e,m=Je(s),v=String(c),w=c8(t,n,r,i);if(!m||i)return w;var _=w.length>s||u8(w).width>Number(n);if(!_)return w;for(var S=0,N=v.length-1,O=0,k;S<=N&&O<=v.length-1;){var M=Math.floor((S+N)/2),L=M-1,[j,z]=t3(v,L,p,f,s,n,r,i),[W]=t3(v,M,p,f,s,n,r,i);if(!j&&!W&&(S=M+1),j&&W&&(N=M-1),!j&&W){k=z;break}O++}return k||w},r3=e=>{var t=lr(e)?[]:e.toString().split(o8);return[{words:t,width:void 0}]},hq=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!kp.isSsr){var f,p,m=l8({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:v,spaceWidth:w}=m;f=v,p=w}else return r3(n);return fq({breakAll:s,children:n,maxLines:c,style:i},f,p,t,!!r)}return r3(n)},d8="#808080",pq={angle:0,breakAll:!1,capHeight:"0.71em",fill:d8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yp=I.forwardRef((e,t)=>{var r=Wr(e,pq),{x:n,y:i,lineHeight:s,capHeight:c,fill:f,scaleToFit:p,textAnchor:m,verticalAnchor:v}=r,w=e3(r,oq),_=I.useMemo(()=>hq({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:p,style:w.style,width:w.width}),[w.breakAll,w.children,w.maxLines,p,w.style,w.width]),{dx:S,dy:N,angle:O,className:k,breakAll:M}=w,L=e3(w,lq);if(!Qi(n)||!Qi(i)||_.length===0)return null;var j=Number(n)+(Je(S)?S:0),z=Number(i)+(Je(N)?N:0);if(!Qt(j)||!Qt(z))return null;var W;switch(v){case"start":W=uv("calc(".concat(c,")"));break;case"middle":W=uv("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:W=uv("calc(".concat(_.length-1," * -").concat(s,")"));break}var V=[];if(p){var H=_[0].width,{width:re}=w;V.push("scale(".concat(Je(re)&&Je(H)?re/H:1,")"))}return O&&V.push("rotate(".concat(O,", ").concat(j,", ").concat(z,")")),V.length&&(L.transform=V.join(" ")),I.createElement("text",Lx({},Pi(L),{ref:t,x:j,y:z,className:zt("recharts-text",k),textAnchor:m,fill:f.includes("url")?d8:f}),_.map((X,_e)=>{var pe=X.words.join(M?"":" ");return I.createElement("tspan",{x:j,dy:_e===0?W:s,key:"".concat(pe,"-").concat(_e)},pe)}))});Yp.displayName="Text";var mq=["labelRef"],gq=["content"];function n3(e,t){if(e==null)return{};var r,n,i=vq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i3(Object(r),!0).forEach(function(n){xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=wq(e,"string");return typeof t=="symbol"?t:t+""}function wq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(null,arguments)}var f8=I.createContext(null),h8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:f}=e,p=I.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return I.createElement(f8.Provider,{value:p},f)},p8=()=>{var e=I.useContext(f8),t=Rc();return e||kT(t)},bq=I.createContext(null),Eq=()=>{var e=I.useContext(bq),t=Ge(nP);return e||t},Aq=e=>{var{value:t,formatter:r}=e,n=lr(e.children)?t:e.children;return typeof r=="function"?r(n):n},eb=e=>e!=null&&typeof e=="function",_q=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Sq=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:f,cy:p,innerRadius:m,outerRadius:v,startAngle:w,endAngle:_,clockWise:S}=i,N=(m+v)/2,O=_q(w,_),k=O>=0?1:-1,M,L;switch(t){case"insideStart":M=w+k*s,L=S;break;case"insideEnd":M=_-k*s,L=!S;break;case"end":M=_+k*s,L=S;break;default:throw new Error("Unsupported position ".concat(t))}L=O<=0?L:!L;var j=Yr(f,p,N,M),z=Yr(f,p,N,M+(L?1:-1)*359),W="M".concat(j.x,",").concat(j.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),V=lr(e.id)?nd("recharts-radial-line-"):e.id;return I.createElement("text",cs({},n,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",c)}),I.createElement("defs",null,I.createElement("path",{id:V,d:W})),I.createElement("textPath",{xlinkHref:"#".concat(V)},r))},Cq=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:f,endAngle:p}=e,m=(f+p)/2;if(r==="outside"){var{x:v,y:w}=Yr(n,i,c+t,m);return{x:v,y:w,textAnchor:v>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(s+c)/2,{x:S,y:N}=Yr(n,i,_,m);return{x:S,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Bx=e=>"cx"in e&&Je(e.cx),Oq=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!Bx(r)&&(s=r);var{x:c,y:f,upperWidth:p,lowerWidth:m,height:v}=t,w=c,_=c+(p-m)/2,S=(w+_)/2,N=(p+m)/2,O=w+p/2,k=v>=0?1:-1,M=k*n,L=k>0?"end":"start",j=k>0?"start":"end",z=p>=0?1:-1,W=z*n,V=z>0?"end":"start",H=z>0?"start":"end";if(i==="top"){var re={x:w+p/2,y:f-M,textAnchor:"middle",verticalAnchor:L};return zr(zr({},re),s?{height:Math.max(f-s.y,0),width:p}:{})}if(i==="bottom"){var X={x:_+m/2,y:f+v+M,textAnchor:"middle",verticalAnchor:j};return zr(zr({},X),s?{height:Math.max(s.y+s.height-(f+v),0),width:m}:{})}if(i==="left"){var _e={x:S-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"};return zr(zr({},_e),s?{width:Math.max(_e.x-s.x,0),height:v}:{})}if(i==="right"){var pe={x:S+N+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"};return zr(zr({},pe),s?{width:Math.max(s.x+s.width-pe.x,0),height:v}:{})}var de=s?{width:N,height:v}:{};return i==="insideLeft"?zr({x:S+W,y:f+v/2,textAnchor:H,verticalAnchor:"middle"},de):i==="insideRight"?zr({x:S+N-W,y:f+v/2,textAnchor:V,verticalAnchor:"middle"},de):i==="insideTop"?zr({x:w+p/2,y:f+M,textAnchor:"middle",verticalAnchor:j},de):i==="insideBottom"?zr({x:_+m/2,y:f+v-M,textAnchor:"middle",verticalAnchor:L},de):i==="insideTopLeft"?zr({x:w+W,y:f+M,textAnchor:H,verticalAnchor:j},de):i==="insideTopRight"?zr({x:w+p-W,y:f+M,textAnchor:V,verticalAnchor:j},de):i==="insideBottomLeft"?zr({x:_+W,y:f+v-M,textAnchor:H,verticalAnchor:L},de):i==="insideBottomRight"?zr({x:_+m-W,y:f+v-M,textAnchor:V,verticalAnchor:L},de):i&&typeof i=="object"&&(Je(i.x)||gs(i.x))&&(Je(i.y)||gs(i.y))?zr({x:c+Hn(i.x,N),y:f+Hn(i.y,v),textAnchor:"end",verticalAnchor:"end"},de):zr({x:O,y:f+v/2,textAnchor:"middle",verticalAnchor:"middle"},de)},Nq={angle:0,offset:5,zIndex:Zr.label,position:"middle",textBreakAll:!1};function to(e){var t=Wr(e,Nq),{viewBox:r,position:n,value:i,children:s,content:c,className:f="",textBreakAll:p,labelRef:m}=t,v=Eq(),w=p8(),_=n==="center"?w:v??w,S,N,O;if(r==null?S=_:Bx(r)?S=r:S=kT(r),!S||lr(i)&&lr(s)&&!I.isValidElement(c)&&typeof c!="function")return null;var k=zr(zr({},t),{},{viewBox:S});if(I.isValidElement(c)){var{labelRef:M}=k,L=n3(k,mq);return I.cloneElement(c,L)}if(typeof c=="function"){var{content:j}=k,z=n3(k,gq);if(N=I.createElement(c,z),I.isValidElement(N))return N}else N=Aq(t);var W=Pi(t);if(Bx(S)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Sq(t,n,N,W,S);O=Cq(S,t.offset,t.position)}else O=Oq(t,S);return I.createElement(fi,{zIndex:t.zIndex},I.createElement(Yp,cs({ref:m,className:zt("recharts-label",f)},W,O,{textAnchor:uq(W.textAnchor)?W.textAnchor:O.textAnchor,breakAll:p}),N))}to.displayName="Label";var Iq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?I.createElement(to,cs({key:"label-implicit"},n)):Qi(e)?I.createElement(to,cs({key:"label-implicit",value:e},n)):I.isValidElement(e)?e.type===to?I.cloneElement(e,zr({key:"label-implicit"},n)):I.createElement(to,cs({key:"label-implicit",content:e},n)):eb(e)?I.createElement(to,cs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?I.createElement(to,cs({},e,{key:"label-implicit"},n)):null};function m8(e){var{label:t,labelRef:r}=e,n=p8();return Iq(t,n,r)||null}var dv={},fv={},a3;function Tq(){return a3||(a3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fv)),fv}var hv={},s3;function Pq(){return s3||(s3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hv)),hv}var o3;function kq(){return o3||(o3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tq(),r=Pq(),n=Cy();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(dv)),dv}var pv,l3;function Rq(){return l3||(l3=1,pv=kq().last),pv}var jq=Rq();const Mq=ta(jq);var Dq=["valueAccessor"],Lq=["dataKey","clockWise","id","textBreakAll","zIndex"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}function c3(e,t){if(e==null)return{};var r,n,i=Bq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fq=e=>Array.isArray(e.value)?Mq(e.value):e.value,g8=I.createContext(void 0),v8=g8.Provider,x8=I.createContext(void 0),Uq=x8.Provider;function zq(){return I.useContext(g8)}function $q(){return I.useContext(x8)}function zh(e){var{valueAccessor:t=Fq}=e,r=c3(e,Dq),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:f}=r,p=c3(r,Lq),m=zq(),v=$q(),w=m||v;return!w||!w.length?null:I.createElement(fi,{zIndex:f??Zr.label},I.createElement($r,{className:"recharts-label-list"},w.map((_,S)=>{var N,O=lr(n)?t(_,S):Vt(_&&_.payload,n),k=lr(s)?{}:{id:"".concat(s,"-").concat(S)};return I.createElement(to,z0({key:"label-".concat(S)},Pi(_),p,k,{fill:(N=r.fill)!==null&&N!==void 0?N:_.fill,parentViewBox:_.parentViewBox,value:O,textBreakAll:c,viewBox:_.viewBox,index:S,zIndex:0}))})))}zh.displayName="LabelList";function tb(e){var{label:t}=e;return t?t===!0?I.createElement(zh,{key:"labelList-implicit"}):I.isValidElement(t)||eb(t)?I.createElement(zh,{key:"labelList-implicit",content:t}):typeof t=="object"?I.createElement(zh,z0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var y8=e=>e.graphicalItems.polarItems,Wq=ue([br,Ld],Aw),Zp=ue([y8,Nr,Wq],_w),Vq=ue([Zp],Sw),Qp=ue([Vq,Fp],Cw),Hq=ue([Qp,Nr,Zp],Nw);ue([Qp,Nr,Zp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=Vt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Vt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var u3=()=>{},Gq=ue([Qp,Nr,Zp,qp,br],kw),qq=ue([Nr,Tw,Pw,u3,Gq,u3,Bt,br],Rw),w8=ue([Nr,Bt,Qp,Hq,Dd,br,qq],jw),Kq=ue([w8,Nr,Fc],Lw);ue([Nr,w8,Kq,br],Fw);var Xq={radiusAxis:{},angleAxis:{}},b8=di({name:"polarAxis",initialState:Xq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kte,removeRadiusAxis:Rte,addAngleAxis:jte,removeAngleAxis:Mte}=b8.actions,Yq=b8.reducer;function d3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d3(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eK=(e,t)=>t,rb=ue([y8,eK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),tK=[],nb=(e,t,r)=>r?.length===0?tK:r,E8=ue([Fp,rb,nb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>f3(f3({},t.presentationProps),s.props))),i!=null)return i}}),rK=ue([E8,rb,nb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=Vt(n,t.nameKey,t.name),f;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:kc(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),nK=ue([E8,rb,nb,ln],(e,t,r,n)=>{if(!(t==null||e==null))return aX({offset:n,pieSettings:t,displayedData:e,cells:r})}),mv={exports:{}},Xt={};var h3;function iK(){if(h3)return Xt;h3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function N(O){if(typeof O=="object"&&O!==null){var k=O.$$typeof;switch(k){case e:switch(O=O.type,O){case r:case i:case n:case p:case m:case _:return O;default:switch(O=O&&O.$$typeof,O){case c:case f:case w:case v:return O;case s:return O;default:return k}}case t:return k}}}return Xt.ContextConsumer=s,Xt.ContextProvider=c,Xt.Element=e,Xt.ForwardRef=f,Xt.Fragment=r,Xt.Lazy=w,Xt.Memo=v,Xt.Portal=t,Xt.Profiler=i,Xt.StrictMode=n,Xt.Suspense=p,Xt.SuspenseList=m,Xt.isContextConsumer=function(O){return N(O)===s},Xt.isContextProvider=function(O){return N(O)===c},Xt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Xt.isForwardRef=function(O){return N(O)===f},Xt.isFragment=function(O){return N(O)===r},Xt.isLazy=function(O){return N(O)===w},Xt.isMemo=function(O){return N(O)===v},Xt.isPortal=function(O){return N(O)===t},Xt.isProfiler=function(O){return N(O)===i},Xt.isStrictMode=function(O){return N(O)===n},Xt.isSuspense=function(O){return N(O)===p},Xt.isSuspenseList=function(O){return N(O)===m},Xt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===i||O===n||O===p||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===v||O.$$typeof===c||O.$$typeof===s||O.$$typeof===f||O.$$typeof===S||O.getModuleId!==void 0)},Xt.typeOf=N,Xt}var p3;function aK(){return p3||(p3=1,mv.exports=iK()),mv.exports}var sK=aK(),m3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",g3=null,gv=null,A8=e=>{if(e===g3&&Array.isArray(gv))return gv;var t=[];return I.Children.forEach(e,r=>{lr(r)||(sK.isFragment(r)?t=t.concat(A8(r.props.children)):t.push(r))}),gv=t,g3=e,t};function Jp(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>m3(i)):n=[m3(t)],A8(e).forEach(i=>{var s=sl(i,"type.displayName")||sl(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var vv={},v3;function oK(){return v3||(v3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(vv)),vv}var xv,x3;function lK(){return x3||(x3=1,xv=oK().isPlainObject),xv}var cK=lK();const uK=ta(cK);var y3,w3,b3,E3,A3;function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){dK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dK(e,t,r){return(t=fK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function Uu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C3=(e,t,r,n,i)=>{var s=r-n,c;return c=jr(y3||(y3=Uu(["M ",",",""])),e,t),c+=jr(w3||(w3=Uu(["L ",",",""])),e+r,t),c+=jr(b3||(b3=Uu(["L ",",",""])),e+r-s/2,t+i),c+=jr(E3||(E3=Uu(["L ",",",""])),e+r-s/2-n,t+i),c+=jr(A3||(A3=Uu(["L ",","," Z"])),e,t),c},pK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mK=e=>{var t=Wr(e,pK),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:v,isUpdateAnimationActive:w}=t,_=I.useRef(null),[S,N]=I.useState(-1),O=I.useRef(i),k=I.useRef(s),M=I.useRef(c),L=I.useRef(r),j=I.useRef(n),z=Pd(e,"trapezoid-");if(I.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var ke=_.current.getTotalLength();ke&&N(ke)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var W=zt("recharts-trapezoid",f);if(!w)return I.createElement("g",null,I.createElement("path",$0({},Pi(t),{className:W,d:C3(r,n,i,s,c)})));var V=O.current,H=k.current,re=M.current,X=L.current,_e=j.current,pe="0px ".concat(S===-1?1:S,"px"),de="".concat(S,"px 0px"),Ae=HT(["strokeDasharray"],m,p);return I.createElement(Td,{animationId:z,key:z,canBegin:S>0,duration:m,easing:p,isActive:w,begin:v},ke=>{var te=Or(V,i,ke),Fe=Or(H,s,ke),oe=Or(re,c,ke),ge=Or(X,r,ke),we=Or(_e,n,ke);_.current&&(O.current=te,k.current=Fe,M.current=oe,L.current=ge,j.current=we);var be=ke>0?{transition:Ae,strokeDasharray:de}:{strokeDasharray:pe};return I.createElement("path",$0({},Pi(t),{className:W,d:C3(ge,we,te,Fe,oe),ref:_,style:S3(S3({},be),t.style)}))})},gK=["option","shapeType","activeClassName"];function vK(e,t){if(e==null)return{};var r,n,i=xK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){yK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EK(e,t){return W0(W0({},t),e)}function AK(e,t){return e==="symbols"}function N3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return I.createElement(XT,r);case"trapezoid":return I.createElement(mK,r);case"sector":return I.createElement(JT,r);case"symbols":if(AK(t))return I.createElement(fp,r);break;case"curve":return I.createElement(Pp,r);default:return null}}function _K(e){return I.isValidElement(e)?e.props:e}function V0(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=vK(e,gK),s;if(I.isValidElement(t))s=I.cloneElement(t,W0(W0({},i),_K(t)));else if(typeof t=="function")s=t(i,i.index);else if(uK(t)&&typeof t!="boolean"){var c=EK(t,i);s=I.createElement(N3,{shapeType:r,elementProps:c})}else{var f=i;s=I.createElement(N3,{shapeType:r,elementProps:f})}return i.isActive?I.createElement($r,{className:n},s):s}var em=(e,t,r)=>{var n=er();return(i,s)=>c=>{e?.(i,s,c),n(MP({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},tm=e=>{var t=er();return(r,n)=>i=>{e?.(r,n,i),t(jV())}},rm=(e,t,r)=>{var n=er();return(i,s)=>c=>{e?.(i,s,c),n(MV({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function ib(e){var{tooltipEntrySettings:t}=e,r=er(),n=Rn(),i=I.useRef(null);return I.useLayoutEffect(()=>{n||(i.current===null?r(TV(t)):i.current!==t&&r(PV({prev:i.current,next:t})),i.current=t)},[t,r,n]),I.useLayoutEffect(()=>()=>{i.current&&(r(kV(i.current)),i.current=null)},[r]),null}function _8(e){var{legendPayload:t}=e,r=er(),n=Rn(),i=I.useRef(null);return I.useLayoutEffect(()=>{n||(i.current===null?r(zT(t)):i.current!==t&&r($T({prev:i.current,next:t})),i.current=t)},[r,n,t]),I.useLayoutEffect(()=>()=>{i.current&&(r(WT(i.current)),i.current=null)},[r]),null}function SK(e){var{legendPayload:t}=e,r=er(),n=Ge(Bt),i=I.useRef(null);return I.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(zT(t)):i.current!==t&&r($T({prev:i.current,next:t})),i.current=t)},[r,n,t]),I.useLayoutEffect(()=>()=>{i.current&&(r(WT(i.current)),i.current=null)},[r]),null}var yv,CK=()=>{var[e]=I.useState(()=>nd("uid-"));return e},OK=(yv=sR.useId)!==null&&yv!==void 0?yv:CK;function NK(e,t){var r=OK();return t||(e?"".concat(e,"-").concat(r):r)}var IK=I.createContext(void 0),ab=e=>{var{id:t,type:r,children:n}=e,i=NK("recharts-".concat(r),t);return I.createElement(IK.Provider,{value:i},n(i))},TK={cartesianItems:[],polarItems:[]},S8=di({name:"graphicalItems",initialState:TK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=xa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:xr()},removeCartesianGraphicalItem:{reducer(e,t){var r=xa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:xr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xr()},removePolarGraphicalItem:{reducer(e,t){var r=xa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:xr()}}}),{addCartesianGraphicalItem:PK,replaceCartesianGraphicalItem:kK,removeCartesianGraphicalItem:RK,addPolarGraphicalItem:jK,removePolarGraphicalItem:MK}=S8.actions,DK=S8.reducer,LK=e=>{var t=er(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(PK(e)):r.current!==e&&t(kK({prev:r.current,next:e})),r.current=e},[t,e]),I.useLayoutEffect(()=>()=>{r.current&&(t(RK(r.current)),r.current=null)},[t]),null},C8=I.memo(LK);function BK(e){var t=er();return I.useLayoutEffect(()=>(t(jK(e)),()=>{t(MK(e))}),[t,e]),null}var FK=["key"],UK=["onMouseEnter","onClick","onMouseLeave"],zK=["id"],$K=["id"];function I3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(r),!0).forEach(function(n){WK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WK(e,t,r){return(t=VK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fo(){return fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(null,arguments)}function nm(e,t){if(e==null)return{};var r,n,i=GK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qK(e){var t=I.useMemo(()=>Jp(e.children,dl),[e.children]),r=Ge(n=>rK(n,e.id,t));return r==null?null:I.createElement(SK,{legendPayload:r})}var KK=I.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:f,hide:p,tooltipType:m,id:v}=e,w={dataDefinedOnItem:n.map(_=>_.tooltipPayload),positions:n.map(_=>_.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:kc(f,t),hide:p,type:m,color:c,unit:"",graphicalItemId:v}};return I.createElement(ib,{tooltipEntrySettings:w})}),XK=(e,t)=>e>t?"start":e<t?"end":"middle",YK=(e,t,r)=>Hn(typeof t=="function"?t(e):t,r,r*.8),ZK=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,f=YT(s,c),p=i+Hn(e.cx,s,s/2),m=n+Hn(e.cy,c,c/2),v=Hn(e.innerRadius,f,0),w=YK(r,e.outerRadius,f),_=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:p,cy:m,innerRadius:v,outerRadius:w,maxRadius:_}},QK=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function JK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var eX=(e,t)=>{if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return e(t);var r=zt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=nm(t,FK);return I.createElement(Pp,fo({},i,{type:"linear",className:r}))},tX=(e,t,r)=>{if(I.isValidElement(e))return I.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),I.isValidElement(n)))return n;var i=zt("recharts-pie-label-text",JK(e));return I.createElement(Yp,fo({},t,{alignmentBaseline:"middle",className:i}),n)};function rX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var f=Ti(r),p=xc(i),m=xc(s),v=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,w=t.map((_,S)=>{var N=(_.startAngle+_.endAngle)/2,O=Yr(_.cx,_.cy,_.outerRadius+v,N),k=Mr(Mr(Mr(Mr({},f),_),{},{stroke:"none"},p),{},{index:S,textAnchor:XK(O.x,_.cx)},O),M=Mr(Mr(Mr(Mr({},f),_),{},{fill:"none",stroke:_.fill},m),{},{index:S,points:[Yr(_.cx,_.cy,_.outerRadius,N),O],key:"line"});return I.createElement(fi,{zIndex:Zr.label,key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(S)},I.createElement($r,null,s&&eX(s,M),tX(i,k,Vt(_,c))))});return I.createElement($r,{className:"recharts-pie-labels"},w)}function nX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?I.createElement(tb,{label:i}):I.createElement(rX,{sectors:t,props:r,showLabels:n})}function iX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:c}=e,f=Ge(uo),p=Ge(Kw),m=Ge(wH),{onMouseEnter:v,onClick:w,onMouseLeave:_}=i,S=nm(i,UK),N=em(v,i.dataKey,c),O=tm(_),k=rm(w,i.dataKey,c);return t==null||t.length===0?null:I.createElement(I.Fragment,null,t.map((M,L)=>{if(M?.startAngle===0&&M?.endAngle===0&&t.length!==1)return null;var j=m==null||m===c,z=String(L)===f&&(p==null||i.dataKey===p)&&j,W=f?n:null,V=r&&z?r:W,H=Mr(Mr({},M),{},{stroke:M.stroke,tabIndex:-1,[jy]:L,[My]:c});return I.createElement($r,fo({key:"sector-".concat(M?.startAngle,"-").concat(M?.endAngle,"-").concat(M.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Pc(S,M,L),{onMouseEnter:N(M,L),onMouseLeave:O(M,L),onClick:k(M,L)}),I.createElement(V0,fo({option:s??V,index:L,shapeType:"sector",isActive:z},H)))}))}function aX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:f,endAngle:p,dataKey:m,nameKey:v,tooltipType:w}=r,_=Math.abs(r.minAngle),S=QK(f,p),N=Math.abs(S),O=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(V=>Vt(V,m,0)!==0).length,M=(N>=360?k:k-1)*O,L=N-k*_-M,j=n.reduce((V,H)=>{var re=Vt(H,m,0);return V+(Je(re)?re:0)},0),z;if(j>0){var W;z=n.map((V,H)=>{var re=Vt(V,m,0),X=Vt(V,v,H),_e=ZK(r,s,V),pe=(Je(re)?re:0)/j,de,Ae=Mr(Mr({},V),i&&i[H]&&i[H].props);H?de=W.endAngle+bn(S)*O*(re!==0?1:0):de=f;var ke=de+bn(S)*((re!==0?_:0)+pe*L),te=(de+ke)/2,Fe=(_e.innerRadius+_e.outerRadius)/2,oe=[{name:X,value:re,payload:Ae,dataKey:m,type:w,graphicalItemId:r.id}],ge=Yr(_e.cx,_e.cy,Fe,te);return W=Mr(Mr(Mr(Mr({},r.presentationProps),{},{percent:pe,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:oe,midAngle:te,middleRadius:Fe,tooltipPosition:ge},Ae),_e),{},{value:re,dataKey:m,startAngle:de,endAngle:ke,payload:Ae,paddingAngle:bn(S)*O}),W})}return z}function sX(e){var{showLabels:t,sectors:r,children:n}=e,i=I.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return I.createElement(Uq,{value:t?i:void 0},n)}function oX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,activeShape:m,inactiveShape:v,onAnimationStart:w,onAnimationEnd:_}=t,S=Pd(t,"recharts-pie-"),N=r.current,[O,k]=I.useState(!1),M=I.useCallback(()=>{typeof _=="function"&&_(),k(!1)},[_]),L=I.useCallback(()=>{typeof w=="function"&&w(),k(!0)},[w]);return I.createElement(sX,{showLabels:!O,sectors:i},I.createElement(Td,{animationId:S,begin:c,duration:f,isActive:s,easing:p,onAnimationStart:L,onAnimationEnd:M,key:S},j=>{var z=[],W=i&&i[0],V=W?.startAngle;return i?.forEach((H,re)=>{var X=N&&N[re],_e=re>0?sl(H,"paddingAngle",0):0;if(X){var pe=Or(X.endAngle-X.startAngle,H.endAngle-H.startAngle,j),de=Mr(Mr({},H),{},{startAngle:V+_e,endAngle:V+pe+_e});z.push(de),V=de.endAngle}else{var{endAngle:Ae,startAngle:ke}=H,te=Or(0,Ae-ke,j),Fe=Mr(Mr({},H),{},{startAngle:V+_e,endAngle:V+te+_e});z.push(Fe),V=Fe.endAngle}}),r.current=z,I.createElement($r,null,I.createElement(iX,{sectors:z,activeShape:m,inactiveShape:v,allOtherPieProps:t,shape:t.shape,id:n}))}),I.createElement(nX,{showLabels:!O,sectors:i,props:t}),t.children)}var lX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Zr.area};function cX(e){var{id:t}=e,r=nm(e,zK),{hide:n,className:i,rootTabIndex:s}=e,c=I.useMemo(()=>Jp(e.children,dl),[e.children]),f=Ge(v=>nK(v,t,c)),p=I.useRef(null),m=zt("recharts-pie",i);return n||f==null?(p.current=null,I.createElement($r,{tabIndex:s,className:m})):I.createElement(fi,{zIndex:e.zIndex},I.createElement(KK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),I.createElement($r,{tabIndex:s,className:m},I.createElement(oX,{props:Mr(Mr({},r),{},{sectors:f}),previousSectorsRef:p,id:t})))}function O8(e){var t=Wr(e,lX),{id:r}=t,n=nm(t,$K),i=Ti(n);return I.createElement(ab,{id:r,type:"pie"},s=>I.createElement(I.Fragment,null,I.createElement(BK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),I.createElement(qK,fo({},n,{id:s})),I.createElement(cX,fo({},n,{id:s}))))}O8.displayName="Pie";function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N8=0,hX={xAxis:{},yAxis:{},zAxis:{}},I8=di({name:"cartesianAxis",initialState:hX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:xr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:xr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:xr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=P3(P3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:pX,replaceXAxis:mX,removeXAxis:gX,addYAxis:vX,replaceYAxis:xX,removeYAxis:yX,addZAxis:Dte,replaceZAxis:Lte,removeZAxis:Bte,updateYAxisWidth:wX}=I8.actions,bX=I8.reducer,EX=ue([ln],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),AX=ue([EX,_s,Ss],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),T8=()=>Ge(AX),k3=(e,t,r)=>{var n=r??e;if(!lr(n))return Hn(n,t,0)},_X=(e,t,r)=>{var n={},i=e.filter($p),s=e.filter(m=>m.stackId==null),c=i.reduce((m,v)=>(m[v.stackId]||(m[v.stackId]=[]),m[v.stackId].push(v),m),n),f=Object.entries(c).map(m=>{var[v,w]=m,_=w.map(N=>N.dataKey),S=k3(t,r,w[0].barSize);return{stackId:v,dataKeys:_,barSize:S}}),p=s.map(m=>{var v=[m.dataKey].filter(_=>_!=null),w=k3(t,r,m.barSize);return{stackId:void 0,dataKeys:v,barSize:w}});return[...f,...p]};function R3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R3(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NX(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=Hn(e,r,0,!0),f,p=[];if(Qt(n[0].barSize)){var m=!1,v=r/s,w=n.reduce((M,L)=>M+(L.barSize||0),0);w+=(s-1)*c,w>=r&&(w-=(s-1)*c,c=0),w>=r&&v>0&&(m=!0,v*=.9,w=s*v);var _=(r-w)/2>>0,S={offset:_-c,size:0};f=n.reduce((M,L)=>{var j,z={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:S.offset+S.size+c,size:m?v:(j=L.barSize)!==null&&j!==void 0?j:0}},W=[...M,z];return S=W[W.length-1].position,W},p)}else{var N=Hn(t,r,0,!0);r-2*N-(s-1)*c<=0&&(c=0);var O=(r-2*N-(s-1)*c)/s;O>1&&(O>>=0);var k=Qt(i)?Math.min(O,i):O;f=n.reduce((M,L,j)=>[...M,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:N+(O+c)*j+(O-k)/2,size:k}}],p)}return f}}var IX=(e,t,r,n,i,s,c)=>{var f=lr(c)?t:c,p=NX(r,n,i!==s?i:s,e,f);return i!==s&&p!=null&&(p=p.map(m=>Ch(Ch({},m),{},{position:Ch(Ch({},m.position),{},{offset:m.position.offset-i/2})}))),p},TX=(e,t)=>{var r=bw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}};function PX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Qt(e.zIndex)?e.zIndex:t}var P8=e=>{var{chartData:t}=e,r=er(),n=Rn();return I.useEffect(()=>n?()=>{}:(r($C(t)),()=>{r($C(void 0))}),[t,r,n]),null},j3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k8=di({name:"brush",initialState:j3,reducers:{setBrushSettings(e,t){return t.payload==null?j3:t.payload}}}),{setBrushSettings:Fte}=k8.actions,kX=k8.reducer;function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){R8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},DX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return MX({x:t,y:r},{x:n,y:i})};class im{static create(t){return new im(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}R8(im,"EPS",1e-4);var LX=e=>{var t=Object.keys(e).reduce((r,n)=>Oh(Oh({},r),{},{[n]:im.create(e[n])}),{});return Oh(Oh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[c,f]=s;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function BX(e){return(e%180+180)%180}var FX=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=BX(i),c=s*Math.PI/180,f=Math.atan(n/r),p=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(p)},UX={dots:[],areas:[],lines:[]},j8=di({name:"referenceElements",initialState:UX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=xa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=xa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=xa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ute,removeDot:zte,addArea:$te,removeArea:Wte,addLine:zX,removeLine:$X}=j8.actions,WX=j8.reducer,M8=I.createContext(void 0),VX=e=>{var{children:t}=e,[r]=I.useState("".concat(nd("recharts"),"-clip")),n=T8();if(n==null)return null;var{x:i,y:s,width:c,height:f}=n;return I.createElement(M8.Provider,{value:r},I.createElement("defs",null,I.createElement("clipPath",{id:r},I.createElement("rect",{x:i,y:s,height:f,width:c}))),t)},HX=()=>I.useContext(M8);function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){GX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t,r){return(t=qX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}var XX=(e,t)=>{var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!Qt(t.x1)||!Qt(t.y1)||!Qt(t.x2)||!Qt(t.y2))return null;r=I.createElement("line",H0({},t,{className:"recharts-reference-line-line"}))}return r},YX=(e,t,r,n,i,s)=>{var{x:c,width:f}=s,p=i.y.apply(e,{position:r});if(ki(p)||t==="discard"&&!i.y.isInRange(p))return null;var m=[{x:c+f,y:p},{x:c,y:p}];return n==="left"?m.reverse():m},ZX=(e,t,r,n,i,s)=>{var{y:c,height:f}=s,p=i.x.apply(e,{position:r});if(ki(p)||t==="discard"&&!i.x.isInRange(p))return null;var m=[{x:p,y:c+f},{x:p,y:c}];return n==="top"?m.reverse():m},QX=(e,t,r,n)=>{var i=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&i.some(s=>!n.isInRange(s))?null:i},JX=(e,t,r,n,i,s)=>{var{x:c,y:f,segment:p,ifOverflow:m}=s,v=Qi(c),w=Qi(f);return w?YX(f,m,r,i,e,t):v?ZX(c,m,r,n,e,t):p!=null&&p.length===2?QX(p,m,r,e):null};function eY(e){var t=er();return I.useEffect(()=>(t(zX(e)),()=>{t($X(e))})),null}function tY(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:s}=e,c=Rn(),f=HX(),p=Ge(V=>za(V,t)),m=Ge(V=>$a(V,r)),v=Ge(V=>Sc(V,"xAxis",t,c)),w=Ge(V=>Sc(V,"yAxis",r,c)),_=Rc();if(!f||!_||p==null||m==null||v==null||w==null)return null;var S=LX({x:v,y:w}),N=JX(S,_,e.position,p.orientation,m.orientation,e);if(!N)return null;var[{x:O,y:k},{x:M,y:L}]=N,j=s==="hidden"?"url(#".concat(f,")"):void 0,z=L3(L3({clipPath:j},Pi(e)),{},{x1:O,y1:k,x2:M,y2:L}),W=DX({x1:O,y1:k,x2:M,y2:L});return I.createElement(fi,{zIndex:e.zIndex},I.createElement($r,{className:zt("recharts-reference-line",i)},XX(n,z),I.createElement(h8,H0({},W,{lowerWidth:W.width,upperWidth:W.width}),I.createElement(m8,{label:e.label}),e.children)))}var rY={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Zr.line};function D8(e){var t=Wr(e,rY);return I.createElement(I.Fragment,null,I.createElement(eY,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),I.createElement(tY,t))}D8.displayName="ReferenceLine";function L8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function nY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return FX(n,r)}function iY(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:f}=e;return t===1?{start:n?i:s,end:n?i+c:s+f}:{start:n?i+c:s+f,end:n?i:s}}function vd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function aY(e,t){return L8(e,t+1)}function sY(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:f}=t,p=0,m=1,v=c,w=function(){var N=n?.[p];if(N===void 0)return{v:L8(n,m)};var O=p,k,M=()=>(k===void 0&&(k=r(N,O)),k),L=N.coordinate,j=p===0||vd(e,L,M,v,f);j||(p=0,v=c,m+=1),j&&(v=L+e*(M()/2+i),p+=m)},_;m<=s.length;)if(_=w(),_)return _.v;return[]}function oY(e,t,r,n,i){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:f,end:p}=t,m=1;m<=c;m++){for(var v=(c-1)%m,w=f,_=!0,S=function(){var L=n[N],j=N,z,W=()=>(z===void 0&&(z=r(L,j)),z),V=L.coordinate,H=N===v||vd(e,V,W,w,p);if(!H)return _=!1,1;H&&(w=V+e*(W()/2+i))},N=v;N<c&&!S();N+=m);if(_){for(var O=[],k=v;k<c;k+=m)O.push(n[k]);return O}}return[]}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){lY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lY(e,t,r){return(t=cY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=uY(e,"string");return typeof t=="symbol"?t:t+""}function uY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dY(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:f}=t,{end:p}=t,m=function(_){var S=s[_],N,O=()=>(N===void 0&&(N=r(S,_)),N);if(_===c-1){var k=e*(S.coordinate+e*O()/2-p);s[_]=S=Wn(Wn({},S),{},{tickCoord:k>0?S.coordinate-k*e:S.coordinate})}else s[_]=S=Wn(Wn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var M=vd(e,S.tickCoord,O,f,p);M&&(p=S.tickCoord-e*(O()/2+i),s[_]=Wn(Wn({},S),{},{isShow:!0}))}},v=c-1;v>=0;v--)m(v);return s}function fY(e,t,r,n,i,s){var c=(n||[]).slice(),f=c.length,{start:p,end:m}=t;if(s){var v=n[f-1],w=r(v,f-1),_=e*(v.coordinate+e*w/2-m);if(c[f-1]=v=Wn(Wn({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate}),v.tickCoord!=null){var S=vd(e,v.tickCoord,()=>w,p,m);S&&(m=v.tickCoord-e*(w/2+i),c[f-1]=Wn(Wn({},v),{},{isShow:!0}))}}for(var N=s?f-1:f,O=function(L){var j=c[L],z,W=()=>(z===void 0&&(z=r(j,L)),z);if(L===0){var V=e*(j.coordinate-e*W()/2-p);c[L]=j=Wn(Wn({},j),{},{tickCoord:V<0?j.coordinate-V*e:j.coordinate})}else c[L]=j=Wn(Wn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var H=vd(e,j.tickCoord,W,p,m);H&&(p=j.tickCoord+e*(W()/2+i),c[L]=Wn(Wn({},j),{},{isShow:!0}))}},k=0;k<N;k++)O(k);return c}function sb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:f,interval:p,tickFormatter:m,unit:v,angle:w}=e;if(!i||!i.length||!n)return[];if(Je(p)||kp.isSsr){var _;return(_=aY(i,Je(p)?p:0))!==null&&_!==void 0?_:[]}var S=[],N=f==="top"||f==="bottom"?"width":"height",O=v&&N==="width"?Xu(v,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(j,z)=>{var W=typeof m=="function"?m(j.value,z):j.value;return N==="width"?nY(Xu(W,{fontSize:t,letterSpacing:r}),O,w):Xu(W,{fontSize:t,letterSpacing:r})[N]},M=i.length>=2?bn(i[1].coordinate-i[0].coordinate):1,L=iY(s,M,N);return p==="equidistantPreserveStart"?sY(M,L,k,i,c):p==="equidistantPreserveEnd"?oY(M,L,k,i,c):(p==="preserveStart"||p==="preserveStartEnd"?S=fY(M,L,k,i,c,p==="preserveStartEnd"):S=dY(M,L,k,i,c),S.filter(j=>j.isShow))}var hY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(v=>{if(v){var w=v.getBoundingClientRect();w.width>c&&(c=w.width)}});var f=r?r.getBoundingClientRect().width:0,p=i+s,m=c+p+f+(r?n:0);return Math.round(m)}return 0},pY=["axisLine","width","height","className","hide","ticks","axisType"];function mY(e,t){if(e==null)return{};var r,n,i=gY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fl.apply(null,arguments)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=xY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Zr.axis};function wY(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:f,otherSvgProps:p}=e;if(!f)return null;var m=Xr(Xr(Xr({},p),Ti(f)),{},{fill:"none"});if(s==="top"||s==="bottom"){var v=+(s==="top"&&!c||s==="bottom"&&c);m=Xr(Xr({},m),{},{x1:t,y1:r+v*i,x2:t+n,y2:r+v*i})}else{var w=+(s==="left"&&!c||s==="right"&&c);m=Xr(Xr({},m),{},{x1:t+w*n,y1:r,x2:t+w*n,y2:r+i})}return I.createElement("line",fl({},m,{className:zt("recharts-cartesian-axis-line",sl(f,"className"))}))}function bY(e,t,r,n,i,s,c,f,p){var m,v,w,_,S,N,O=f?-1:1,k=e.tickSize||c,M=Je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=v=e.coordinate,_=r+ +!f*i,w=_-O*k,N=w-O*p,S=M;break;case"left":w=_=e.coordinate,v=t+ +!f*n,m=v-O*k,S=m-O*p,N=M;break;case"right":w=_=e.coordinate,v=t+ +f*n,m=v+O*k,S=m+O*p,N=M;break;default:m=v=e.coordinate,_=r+ +f*i,w=_+O*k,N=w+O*p,S=M;break}return{line:{x1:m,y1:w,x2:v,y2:_},tick:{x:S,y:N}}}function EY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function AY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _Y(e){var{option:t,tickProps:r,value:n}=e,i,s=zt(r.className,"recharts-cartesian-axis-tick-value");if(I.isValidElement(t))i=I.cloneElement(t,Xr(Xr({},r),{},{className:s}));else if(typeof t=="function")i=t(Xr(Xr({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=zt(c,t?.className)),i=I.createElement(Yp,fl({},r,{className:c}),n)}return i}var SY=I.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:f,padding:p,tickTextProps:m,orientation:v,mirror:w,x:_,y:S,width:N,height:O,tickSize:k,tickMargin:M,fontSize:L,letterSpacing:j,getTicksConfig:z,events:W,axisType:V}=e,H=sb(Xr(Xr({},z),{},{ticks:r}),L,j),re=EY(v,w),X=AY(v,w),_e=Ti(z),pe=xc(n),de={};typeof i=="object"&&(de=i);var Ae=Xr(Xr({},_e),{},{fill:"none"},de),ke=H.map(oe=>Xr({entry:oe},bY(oe,_,S,N,O,v,k,w,M))),te=ke.map(oe=>{var{entry:ge,line:we}=oe;return I.createElement($r,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ge.value,"-").concat(ge.coordinate,"-").concat(ge.tickCoord)},i&&I.createElement("line",fl({},Ae,we,{className:zt("recharts-cartesian-axis-tick-line",sl(i,"className"))})))}),Fe=ke.map((oe,ge)=>{var{entry:we,tick:be}=oe,Y=Xr(Xr(Xr(Xr({textAnchor:re,verticalAnchor:X},_e),{},{stroke:"none",fill:s},pe),be),{},{index:ge,payload:we,visibleTicksCount:H.length,tickFormatter:c,padding:p},m);return I.createElement($r,fl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},Pc(W,we,ge)),n&&I.createElement(_Y,{option:n,tickProps:Y,value:"".concat(typeof c=="function"?c(we.value,ge):we.value).concat(f||"")}))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},Fe.length>0&&I.createElement(fi,{zIndex:Zr.label},I.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:t},Fe)),te.length>0&&I.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},te))}),CY=I.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:f,axisType:p}=e,m=mY(e,pY),[v,w]=I.useState(""),[_,S]=I.useState(""),N=I.useRef(null);I.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return hY({ticks:N.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var O=I.useCallback(k=>{if(k){var M=k.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=M;var L=M[0];if(L){var j=window.getComputedStyle(L),z=j.fontSize,W=j.letterSpacing;(z!==v||W!==_)&&(w(z),S(W))}}},[v,_]);return c||n!=null&&n<=0||i!=null&&i<=0?null:I.createElement(fi,{zIndex:e.zIndex},I.createElement($r,{className:zt("recharts-cartesian-axis",s)},I.createElement(wY,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ti(e)}),I.createElement(SY,{ref:O,axisType:p,events:m,fontSize:v,getTicksConfig:e,height:e.height,letterSpacing:_,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),I.createElement(h8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},I.createElement(m8,{label:e.label,labelRef:e.labelRef}),e.children)))}),ob=I.forwardRef((e,t)=>{var r=Wr(e,ps);return I.createElement(CY,fl({},r,{ref:t}))});ob.displayName="CartesianAxis";var OY=["x1","y1","x2","y2","key"],NY=["offset"],IY=["xAxisId","yAxisId"],TY=["xAxisId","yAxisId"];function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(null,arguments)}function G0(e,t){if(e==null)return{};var r,n,i=jY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:f}=e;return I.createElement("rect",{x:n,y:i,ry:f,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function B8(e){var{option:t,lineItemProps:r}=e,n;if(I.isValidElement(t))n=I.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:f,y2:p,key:m}=r,v=G0(r,OY),w=(i=Ti(v))!==null&&i!==void 0?i:{},{offset:_}=w,S=G0(w,NY);n=I.createElement("line",el({},S,{x1:s,y1:c,x2:f,y2:p,fill:"none",key:m}))}return n}function DY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,IY),p=i.map((m,v)=>{var w=Vn(Vn({},f),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(v),index:v});return I.createElement(B8,{key:"line-".concat(v),option:n,lineItemProps:w})});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function LY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,TY),p=i.map((m,v)=>{var w=Vn(Vn({},f),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(v),index:v});return I.createElement(B8,{option:n,lineItemProps:w,key:"line-".concat(v)})});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function BY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:f,horizontal:p=!0}=e;if(!p||!t||!t.length||f==null)return null;var m=f.map(w=>Math.round(w+i-i)).sort((w,_)=>w-_);i!==m[0]&&m.unshift(0);var v=m.map((w,_)=>{var S=!m[_+1],N=S?i+c-w:m[_+1]-w;if(N<=0)return null;var O=_%t.length;return I.createElement("rect",{key:"react-".concat(_),y:w,x:n,height:N,width:s,stroke:"none",fill:t[O],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},v)}function FY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:f,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var m=p.map(w=>Math.round(w+i-i)).sort((w,_)=>w-_);i!==m[0]&&m.unshift(0);var v=m.map((w,_)=>{var S=!m[_+1],N=S?i+c-w:m[_+1]-w;if(N<=0)return null;var O=_%r.length;return I.createElement("rect",{key:"react-".concat(_),x:w,y:s,width:N,height:f,stroke:"none",fill:r[O],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},v)}var UY=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return CT(sb(Vn(Vn(Vn({},ps),r),{},{ticks:OT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},zY=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return CT(sb(Vn(Vn(Vn({},ps),r),{},{ticks:OT(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},$Y={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Zr.grid};function q0(e){var t=By(),r=Fy(),n=RT(),i=Vn(Vn({},Wr(e,$Y)),{},{x:Je(e.x)?e.x:n.left,y:Je(e.y)?e.y:n.top,width:Je(e.width)?e.width:n.width,height:Je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:f,y:p,width:m,height:v,syncWithTicks:w,horizontalValues:_,verticalValues:S}=i,N=Rn(),O=Ge(X=>TC(X,"xAxis",s,N)),k=Ge(X=>TC(X,"yAxis",c,N));if(!Ba(m)||!Ba(v)||!Je(f)||!Je(p))return null;var M=i.verticalCoordinatesGenerator||UY,L=i.horizontalCoordinatesGenerator||zY,{horizontalPoints:j,verticalPoints:z}=i;if((!j||!j.length)&&typeof L=="function"){var W=_&&_.length,V=L({yAxis:k?Vn(Vn({},k),{},{ticks:W?_:k.ticks}):void 0,width:t??m,height:r??v,offset:n},W?!0:w);y0(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(j=V)}if((!z||!z.length)&&typeof M=="function"){var H=S&&S.length,re=M({xAxis:O?Vn(Vn({},O),{},{ticks:H?S:O.ticks}):void 0,width:t??m,height:r??v,offset:n},H?!0:w);y0(Array.isArray(re),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof re,"]")),Array.isArray(re)&&(z=re)}return I.createElement(fi,{zIndex:i.zIndex},I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(MY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),I.createElement(BY,el({},i,{horizontalPoints:j})),I.createElement(FY,el({},i,{verticalPoints:z})),I.createElement(DY,el({},i,{offset:n,horizontalPoints:j,xAxis:O,yAxis:k})),I.createElement(LY,el({},i,{offset:n,verticalPoints:z,xAxis:O,yAxis:k}))))}q0.displayName="CartesianGrid";var WY={},F8=di({name:"errorBars",initialState:WY,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Vte,replaceErrorBar:Hte,removeErrorBar:Gte}=F8.actions,VY=F8.reducer,HY=["children"];function GY(e,t){if(e==null)return{};var r,n,i=qY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KY={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},XY=I.createContext(KY);function U8(e){var{children:t}=e,r=GY(e,HY);return I.createElement(XY.Provider,{value:r},t)}function lb(e,t){var r,n,i=Ge(m=>za(m,e)),s=Ge(m=>$a(m,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:xn.allowDataOverflow,f=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:yn.allowDataOverflow,p=c||f;return{needClip:p,needClipX:c,needClipY:f}}function z8(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=T8(),{needClipX:s,needClipY:c,needClip:f}=lb(t,r);if(!f||!i)return null;var{x:p,y:m,width:v,height:w}=i;return I.createElement("clipPath",{id:"clipPath-".concat(n)},I.createElement("rect",{x:s?p:p-v/2,y:c?m:m-w/2,width:s?v:v*2,height:c?w:w*2}))}var wv={exports:{}},bv={};var z3;function YY(){if(z3)return bv;z3=1;var e=Cc();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return bv.useSyncExternalStoreWithSelector=function(p,m,v,w,_){var S=i(null);if(S.current===null){var N={hasValue:!1,value:null};S.current=N}else N=S.current;S=c(function(){function k(W){if(!M){if(M=!0,L=W,W=w(W),_!==void 0&&N.hasValue){var V=N.value;if(_(V,W))return j=V}return j=W}if(V=j,r(L,W))return V;var H=w(W);return _!==void 0&&_(V,H)?(L=W,V):(L=W,j=H)}var M=!1,L,j,z=v===void 0?null:v;return[function(){return k(m())},z===null?void 0:function(){return k(z())}]},[m,v,w,_]);var O=n(p,S[0],S[1]);return s(function(){N.hasValue=!0,N.value=O},[O]),f(O),O},bv}var $3;function ZY(){return $3||($3=1,wv.exports=YY()),wv.exports}ZY();function QY(e){e()}function JY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){QY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var W3={notify(){},get:()=>[]};function eZ(e,t){let r,n=W3,i=0,s=!1;function c(O){v();const k=n.subscribe(O);let M=!1;return()=>{M||(M=!0,k(),w())}}function f(){n.notify()}function p(){N.onStateChange&&N.onStateChange()}function m(){return s}function v(){i++,r||(r=e.subscribe(p),n=JY())}function w(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=W3)}function _(){s||(s=!0,v())}function S(){s&&(s=!1,w())}const N={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:_,tryUnsubscribe:S,getListeners:()=>n};return N}var tZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rZ=tZ(),nZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iZ=nZ(),aZ=()=>rZ||iZ?I.useLayoutEffect:I.useEffect,sZ=aZ();function V3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oZ(e,t){if(V3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!V3(e[r[i]],t[r[i]]))return!1;return!0}var lZ=Symbol.for("react-redux-context"),cZ=typeof globalThis<"u"?globalThis:{};function uZ(){if(!I.createContext)return{};const e=cZ[lZ]??=new Map;let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var dZ=uZ();function fZ(e){const{children:t,context:r,serverState:n,store:i}=e,s=I.useMemo(()=>{const p=eZ(i);return{store:i,subscription:p,getServerState:n?()=>n:void 0}},[i,n]),c=I.useMemo(()=>i.getState(),[i]);sZ(()=>{const{subscription:p}=s;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[s,c]);const f=r||dZ;return I.createElement(f.Provider,{value:s},t)}var hZ=fZ,pZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function mZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function am(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(pZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!oZ(e[n],t[n]))return!1}else if(!mZ(e[n],t[n]))return!1;return!0}function yl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:N8}function wl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:N8}var gZ="Invariant failed";function vZ(e,t){throw new Error(gZ)}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function K0(e){return I.createElement(V0,Fx({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var xZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Je(t))return t;var s=Je(n)||lr(n);return s?t(n,i):(s||vZ(),r)}},yZ=(e,t,r)=>r,wZ=(e,t)=>t,Hd=ue([Hp,wZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),bZ=ue([Hd],e=>e?.maxBarSize),EZ=(e,t,r,n)=>n,AZ=ue([Bt,Hp,yl,wl,yZ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),_Z=(e,t,r)=>{var n=Bt(e),i=yl(e,t),s=wl(e,t);if(!(i==null||s==null))return n==="horizontal"?kx(e,"yAxis",s,r):kx(e,"xAxis",i,r)},SZ=(e,t)=>{var r=Bt(e),n=yl(e,t),i=wl(e,t);if(!(n==null||i==null))return r==="horizontal"?IC(e,"xAxis",n):IC(e,"yAxis",i)},CZ=ue([AZ,AW,SZ],_X),OZ=(e,t,r)=>{var n,i,s=Hd(e,t);if(s!=null){var c=yl(e,t),f=wl(e,t);if(!(c==null||f==null)){var p=Bt(e),m=X4(e),{maxBarSize:v}=s,w=lr(v)?m:v,_,S;return p==="horizontal"?(_=co(e,"xAxis",c,r),S=lo(e,"xAxis",c,r)):(_=co(e,"yAxis",f,r),S=lo(e,"yAxis",f,r)),(n=(i=x0(_,S,!0))!==null&&i!==void 0?i:w)!==null&&n!==void 0?n:0}}},$8=(e,t,r)=>{var n=Bt(e),i=yl(e,t),s=wl(e,t);if(!(i==null||s==null)){var c,f;return n==="horizontal"?(c=co(e,"xAxis",i,r),f=lo(e,"xAxis",i,r)):(c=co(e,"yAxis",s,r),f=lo(e,"yAxis",s,r)),x0(c,f)}},NZ=ue([CZ,X4,EW,Y4,OZ,$8,bZ],IX),IZ=(e,t,r)=>{var n=yl(e,t);if(n!=null)return co(e,"xAxis",n,r)},TZ=(e,t,r)=>{var n=wl(e,t);if(n!=null)return co(e,"yAxis",n,r)},PZ=(e,t,r)=>{var n=yl(e,t);if(n!=null)return lo(e,"xAxis",n,r)},kZ=(e,t,r)=>{var n=wl(e,t);if(n!=null)return lo(e,"yAxis",n,r)},RZ=ue([NZ,Hd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),jZ=ue([_Z,Hd],TX),MZ=ue([ln,Dy,IZ,TZ,PZ,kZ,RZ,Bt,uW,$8,jZ,Hd,EZ],(e,t,r,n,i,s,c,f,p,m,v,w,_)=>{var{chartData:S,dataStartIndex:N,dataEndIndex:O}=p;if(!(w==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:k}=w,M;if(k!=null&&k.length>0?M=k:M=S?.slice(N,O+1),M!=null)return uQ({layout:f,barSettings:w,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:v,displayedData:M,offset:e,cells:_,dataStartIndex:N})}}),DZ=["index"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(null,arguments)}function LZ(e,t){if(e==null)return{};var r,n,i=BZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W8=I.createContext(void 0),FZ=e=>{var t=I.useContext(W8);if(t!=null)return t.stackId;if(e!=null)return iB(e)},UZ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),zZ=e=>{var t=I.useContext(W8);if(t!=null){var{stackId:r}=t;return"url(#".concat(UZ(r,e),")")}},$Z=e=>{var{index:t}=e,r=LZ(e,DZ),n=zZ(t);return I.createElement($r,Ux({className:"recharts-bar-stack-layer",clipPath:n},r))},WZ=["onMouseEnter","onMouseLeave","onClick"],VZ=["value","background","tooltipPosition"],HZ=["id"],GZ=["onMouseEnter","onClick","onMouseLeave"];function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Es.apply(null,arguments)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0(e,t){if(e==null)return{};var r,n,i=YZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZZ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:kc(r,t),payload:e}]},QZ=I.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:kc(s,t),hide:c,type:p,color:i,unit:f,graphicalItemId:m}};return I.createElement(ib,{tooltipEntrySettings:v})});function JZ(e){var t=Ge(uo),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:f,onClick:p}=s,m=X0(s,WZ),v=em(c,n,s.id),w=tm(f),_=rm(p,n,s.id);if(!i||r==null)return null;var S=xc(i);return I.createElement(fi,{zIndex:PX(i,Zr.barBackground)},r.map((N,O)=>{var{value:k,background:M,tooltipPosition:L}=N,j=X0(N,VZ);if(!M)return null;var z=v(N,O),W=w(N,O),V=_(N,O),H=Xn(Xn(Xn(Xn(Xn({option:i,isActive:String(O)===t},j),{},{fill:"#eee"},M),S),Pc(m,N,O)),{},{onMouseEnter:z,onMouseLeave:W,onClick:V,dataKey:n,index:O,className:"recharts-bar-background-rectangle"});return I.createElement(K0,Es({key:"background-bar-".concat(O)},H))}))}function eQ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Xn(Xn({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return I.createElement(v8,{value:t?i:void 0},r)}function tQ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,f=Ge(uo),p=Ge(Kw),m=r&&String(s)===f&&(p==null||c===p),v=m?r:t;return m?I.createElement(fi,{zIndex:Zr.activeBar},I.createElement(K0,Es({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))):I.createElement(K0,Es({},n,{name:String(n.name)},i,{isActive:m,option:v,index:s,dataKey:c}))}function rQ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return I.createElement(K0,Es({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function nQ(e){var t,{data:r,props:n}=e,i=(t=Ti(n))!==null&&t!==void 0?t:{},{id:s}=i,c=X0(i,HZ),{shape:f,dataKey:p,activeBar:m}=n,{onMouseEnter:v,onClick:w,onMouseLeave:_}=n,S=X0(n,GZ),N=em(v,p,s),O=tm(_),k=rm(w,p,s);return r?I.createElement(I.Fragment,null,r.map((M,L)=>I.createElement($Z,Es({index:L,key:"rectangle-".concat(M?.x,"-").concat(M?.y,"-").concat(M?.value,"-").concat(L),className:"recharts-bar-rectangle"},Pc(S,M,L),{onMouseEnter:N(M,L),onMouseLeave:O(M,L),onClick:k(M,L)}),m?I.createElement(tQ,{shape:f,activeBar:m,baseProps:c,entry:M,index:L,dataKey:p}):I.createElement(rQ,{shape:f,baseProps:c,entry:M,index:L,dataKey:p})))):null}function iQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,onAnimationEnd:m,onAnimationStart:v}=t,w=r.current,_=Pd(t,"recharts-bar-"),[S,N]=I.useState(!1),O=!S,k=I.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),M=I.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);return I.createElement(eQ,{showLabels:O,rects:n},I.createElement(Td,{animationId:_,begin:c,duration:f,isActive:s,easing:p,onAnimationEnd:k,onAnimationStart:M,key:_},L=>{var j=L===1?n:n?.map((z,W)=>{var V=w&&w[W];if(V)return Xn(Xn({},z),{},{x:Or(V.x,z.x,L),y:Or(V.y,z.y,L),width:Or(V.width,z.width,L),height:Or(V.height,z.height,L)});if(i==="horizontal"){var H=Or(0,z.height,L),re=Or(z.stackedBarStart,z.y,L);return Xn(Xn({},z),{},{y:re,height:H})}var X=Or(0,z.width,L),_e=Or(z.stackedBarStart,z.x,L);return Xn(Xn({},z),{},{width:X,x:_e})});return L>0&&(r.current=j??null),j==null?null:I.createElement($r,null,I.createElement(nQ,{props:t,data:j}))}),I.createElement(tb,{label:t.label}),t.children)}function aQ(e){var t=I.useRef(null);return I.createElement(iQ,{previousRectanglesRef:t,props:e})}var V8=0,sQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Vt(e,t)}};class oQ extends I.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:f,background:p,id:m}=this.props;if(t||r==null)return null;var v=zt("recharts-bar",i),w=m;return I.createElement($r,{className:v,id:m},f&&I.createElement("defs",null,I.createElement(z8,{clipPathId:w,xAxisId:s,yAxisId:c})),I.createElement($r,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(w,")"):void 0},I.createElement(JZ,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),I.createElement(aQ,this.props)))}}var lQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:V8,xAxisId:0,yAxisId:0,zIndex:Zr.bar};function cQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v}=e,{needClip:w}=lb(t,r),_=Nd(),S=Rn(),N=Jp(e.children,dl),O=Ge(L=>MZ(L,e.id,S,N));if(_!=="vertical"&&_!=="horizontal")return null;var k,M=O?.[0];return M==null||M.height==null||M.width==null?k=0:k=_==="vertical"?M.height/2:M.width/2,I.createElement(U8,{xAxisId:t,yAxisId:r,data:O,dataPointFormatter:sQ,errorBarOffset:k},I.createElement(oQ,Es({},e,{layout:_,needClip:w,data:O,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:v})))}function uQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:f,xAxisTicks:p,yAxisTicks:m,stackedData:v,displayedData:w,offset:_,cells:S,parentViewBox:N,dataStartIndex:O}=e,k=t==="horizontal"?f:c,M=v?k.scale.domain():null,L=aB({numericAxis:k}),j=k.scale(L);return w.map((z,W)=>{var V,H,re,X,_e,pe;if(v){var de=v[W+O];if(de==null)return null;V=JL(de,M)}else V=Vt(z,r),Array.isArray(V)||(V=[L,V]);var Ae=xZ(n,V8)(V[1],W);if(t==="horizontal"){var ke,[te,Fe]=[f.scale(V[0]),f.scale(V[1])];H=R_({axis:c,ticks:p,bandSize:s,offset:i.offset,entry:z,index:W}),re=(ke=Fe??te)!==null&&ke!==void 0?ke:void 0,X=i.size;var oe=te-Fe;if(_e=ki(oe)?0:oe,pe={x:H,y:_.top,width:X,height:_.height},Math.abs(Ae)>0&&Math.abs(_e)<Math.abs(Ae)){var ge=bn(_e||Ae)*(Math.abs(Ae)-Math.abs(_e));re-=ge,_e+=ge}}else{var[we,be]=[c.scale(V[0]),c.scale(V[1])];if(H=we,re=R_({axis:f,ticks:m,bandSize:s,offset:i.offset,entry:z,index:W}),X=be-we,_e=i.size,pe={x:_.left,y:re,width:_.width,height:_e},Math.abs(Ae)>0&&Math.abs(X)<Math.abs(Ae)){var Y=bn(X||Ae)*(Math.abs(Ae)-Math.abs(X));X+=Y}}if(H==null||re==null||X==null||_e==null)return null;var le=Xn(Xn({},z),{},{stackedBarStart:j,x:H,y:re,width:X,height:_e,value:v?V:V[1],payload:z,background:pe,tooltipPosition:{x:H+X/2,y:re+_e/2},parentViewBox:N},S&&S[W]&&S[W].props);return le}).filter(Boolean)}function dQ(e){var t=Wr(e,lQ),r=FZ(t.stackId),n=Rn();return I.createElement(ab,{id:t.id,type:"bar"},i=>I.createElement(I.Fragment,null,I.createElement(_8,{legendPayload:ZZ(t)}),I.createElement(QZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),I.createElement(C8,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),I.createElement(fi,{zIndex:t.zIndex},I.createElement(cQ,Es({},t,{id:i})))))}var Yu=I.memo(dQ,am);Yu.displayName="Bar";var fQ=["option","isActive"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function hQ(e,t){if(e==null)return{};var r,n,i=pQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mQ(e){var{option:t,isActive:r}=e,n=hQ(e,fQ);return typeof t=="string"?I.createElement(V0,Zu({option:I.createElement(fp,Zu({type:t},n)),isActive:r,shapeType:"symbols"},n)):I.createElement(V0,Zu({option:t,isActive:r,shapeType:"symbols"},n))}var gQ=(e,t,r,n,i,s,c)=>co(e,"xAxis",t,c),vQ=(e,t,r,n,i,s,c)=>lo(e,"xAxis",t,c),xQ=(e,t,r,n,i,s,c)=>co(e,"yAxis",r,c),yQ=(e,t,r,n,i,s,c)=>lo(e,"yAxis",r,c),wQ=(e,t,r,n)=>SV(e,"zAxis",n,!1),bQ=(e,t,r,n,i)=>i,EQ=(e,t,r,n,i,s)=>s,AQ=(e,t,r,n,i,s,c)=>fw(e,void 0,void 0,c),_Q=ue([Hp,bQ],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),SQ=ue([AQ,gQ,vQ,xQ,yQ,wQ,_Q,EQ],(e,t,r,n,i,s,c,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=e;if(c!=null){var w;if(c?.data!=null&&c.data.length>0?w=c.data:w=p?.slice(m,v+1),!(w==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return FQ({displayedData:w,xAxis:t,yAxis:n,zAxis:s,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),CQ=["id"],OQ=["onMouseEnter","onClick","onMouseLeave"],NQ=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function zx(e,t){if(e==null)return{};var r,n,i=IQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(null,arguments)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:kc(r,t),payload:e}]},jQ=I.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:s,name:c,hide:f,tooltipType:p,id:m}=e,v={dataDefinedOnItem:r?.map(w=>w.tooltipPayload),positions:r?.map(w=>w.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,nameKey:void 0,dataKey:t,name:kc(c,t),hide:f,type:p,color:s,unit:"",graphicalItemId:m}};return I.createElement(ib,{tooltipEntrySettings:v})});function MQ(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:s}=r;if(!n)return null;var c=Ti(r),f=xc(n),p,m;if(i==="joint")p=t.map(k=>{var M,L;return{x:(M=k.cx)!==null&&M!==void 0?M:null,y:(L=k.cy)!==null&&L!==void 0?L:null}});else if(i==="fitting"){var{xmin:v,xmax:w,a:_,b:S}=O9(t),N=k=>_*k+S;p=[{x:v,y:N(v)},{x:w,y:N(w)}]}var O=ui(ui(ui({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:p});return I.isValidElement(n)?m=I.cloneElement(n,O):typeof n=="function"?m=n(O):m=I.createElement(Pp,hl({},O,{type:s})),I.createElement($r,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function DQ(e){var{showLabels:t,points:r,children:n}=e,i=Rc(),s=I.useMemo(()=>r?.map(c=>{var f,p,m={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return ui(ui({},m),{},{value:void 0,payload:c.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,r]);return I.createElement(v8,{value:t?s:void 0},n)}function LQ(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:s}=r,{id:c}=r,f=zx(r,CQ),p=Ge(uo),{onMouseEnter:m,onClick:v,onMouseLeave:w}=r,_=zx(r,OQ),S=em(m,s,c),N=tm(w),O=rm(v,s,c);if(!z9(t))return null;var k=Ti(f);return I.createElement(I.Fragment,null,I.createElement(MQ,{points:t,props:f}),t.map((M,L)=>{var j=i!=null&&i!==!1,z=j&&p===String(L),W=j&&z?i:n,V=ui(ui(ui({},k),M),{},{[jy]:L,[My]:String(c)});return I.createElement(fi,{key:"symbol-".concat(M?.cx,"-").concat(M?.cy,"-").concat(M?.size,"-").concat(L),zIndex:z?Zr.activeDot:void 0},I.createElement($r,hl({className:"recharts-scatter-symbol"},Pc(_,M,L),{onMouseEnter:S(M,L),onMouseLeave:N(M,L),onClick:O(M,L)}),I.createElement(mQ,hl({option:W,isActive:z},V))))}))}function BQ(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:f}=r,p=t.current,m=Pd(r,"recharts-scatter-"),[v,w]=I.useState(!1),_=I.useCallback(()=>{w(!1)},[]),S=I.useCallback(()=>{w(!0)},[]),N=!v;return I.createElement(DQ,{showLabels:N,points:n},r.children,I.createElement(Td,{animationId:m,begin:s,duration:c,isActive:i,easing:f,onAnimationEnd:_,onAnimationStart:S,key:m},O=>{var k=O===1?n:n?.map((M,L)=>{var j=p&&p[L];return j?ui(ui({},M),{},{cx:M.cx==null?void 0:Or(j.cx,M.cx,O),cy:M.cy==null?void 0:Or(j.cy,M.cy,O),size:Or(j.size,M.size,O)}):ui(ui({},M),{},{size:Or(0,M.size,O)})});return O>0&&(t.current=k),I.createElement($r,null,I.createElement(LQ,{points:k,allOtherScatterProps:r,showLabels:N}))}),I.createElement(tb,{label:r.label}))}function FQ(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:f,cells:p}=e,m=lr(r.dataKey)?s.dataKey:r.dataKey,v=lr(n.dataKey)?s.dataKey:n.dataKey,w=i&&i.dataKey,_=i?i.range:oP.range,S=_&&_[0],N=r.scale.bandwidth?r.scale.bandwidth():0,O=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((k,M)=>{var L=Vt(k,m),j=Vt(k,v),z=!lr(w)&&Vt(k,w)||"-",W=[{name:lr(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:L,payload:k,dataKey:m,type:s.tooltipType},{name:lr(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:j,payload:k,dataKey:v,type:s.tooltipType}];z!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:z,payload:k,dataKey:w,type:s.tooltipType});var V=k_({axis:r,ticks:c,bandSize:N,entry:k,index:M,dataKey:m}),H=k_({axis:n,ticks:f,bandSize:O,entry:k,index:M,dataKey:v}),re=z!=="-"?i.scale(z):S,X=Math.sqrt(Math.max(re,0)/Math.PI);return ui(ui({},k),{},{cx:V,cy:H,x:V==null?void 0:V-X,y:H==null?void 0:H-X,width:2*X,height:2*X,size:re,node:{x:L,y:j,z},tooltipPayload:W,tooltipPosition:{x:V,y:H},payload:k},p&&p[M]&&p[M].props)})}var UQ=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Vt(e,t)});function zQ(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:s,yAxisId:c,id:f}=e,p=I.useRef(null);if(t)return null;var m=zt("recharts-scatter",n),v=f;return I.createElement(fi,{zIndex:e.zIndex},I.createElement($r,{className:m,clipPath:i?"url(#clipPath-".concat(v,")"):void 0,id:f},i&&I.createElement("defs",null,I.createElement(z8,{clipPathId:v,xAxisId:s,yAxisId:c})),I.createElement(U8,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:UQ,errorBarOffset:0},I.createElement($r,{key:"recharts-scatter-symbols"},I.createElement(BQ,{props:e,previousPointsRef:p})))))}var H8={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Zr.scatter};function $Q(e){var t=Wr(e,H8),{animationBegin:r,animationDuration:n,animationEasing:i,hide:s,isAnimationActive:c,legendType:f,lineJointType:p,lineType:m,shape:v,xAxisId:w,yAxisId:_,zAxisId:S}=t,N=zx(t,NQ),{needClip:O}=lb(w,_),k=I.useMemo(()=>Jp(e.children,dl),[e.children]),M=Rn(),L=Ge(j=>SQ(j,w,_,S,e.id,k,M));return O==null||L==null?null:I.createElement(I.Fragment,null,I.createElement(jQ,{dataKey:e.dataKey,points:L,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),I.createElement(zQ,hl({},N,{xAxisId:w,yAxisId:_,zAxisId:S,lineType:m,lineJointType:p,legendType:f,shape:v,hide:s,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:L,needClip:O})))}function WQ(e){var t=Wr(e,H8),r=Rn();return I.createElement(ab,{id:t.id,type:"scatter"},n=>I.createElement(I.Fragment,null,I.createElement(_8,{legendPayload:RQ(t)}),I.createElement(C8,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),I.createElement($Q,hl({},t,{id:n}))))}var G8=I.memo(WQ,am);G8.displayName="Scatter";var VQ=["domain","range"],HQ=["domain","range"];function q3(e,t){if(e==null)return{};var r,n,i=GQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function q8(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=q3(e,VQ),{domain:s,range:c}=t,f=q3(t,HQ);return!K3(r,s)||!K3(n,c)?!1:am(i,f)}var qQ=["dangerouslySetInnerHTML","ticks","scale"],KQ=["id","scale"];function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function X3(e,t){if(e==null)return{};var r,n,i=XQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YQ(e){var t=er(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(pX(e)):r.current!==e&&t(mX({prev:r.current,next:e})),r.current=e},[e,t]),I.useLayoutEffect(()=>()=>{r.current&&(t(gX(r.current)),r.current=null)},[t]),null}var ZQ=e=>{var{xAxisId:t,className:r}=e,n=Ge(Dy),i=Rn(),s="xAxis",c=Ge(M=>IP(M,s,t,i)),f=Ge(M=>SP(M,t)),p=Ge(M=>yV(M,t)),m=Ge(M=>aP(M,t));if(f==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:w,scale:_}=e,S=X3(e,qQ),{id:N,scale:O}=m,k=X3(m,KQ);return I.createElement(ob,$x({},S,k,{x:p.x,y:p.y,width:f.width,height:f.height,className:zt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},QQ={allowDataOverflow:xn.allowDataOverflow,allowDecimals:xn.allowDecimals,allowDuplicatedCategory:xn.allowDuplicatedCategory,angle:xn.angle,axisLine:ps.axisLine,height:xn.height,hide:!1,includeHidden:xn.includeHidden,interval:xn.interval,minTickGap:xn.minTickGap,mirror:xn.mirror,orientation:xn.orientation,padding:xn.padding,reversed:xn.reversed,scale:xn.scale,tick:xn.tick,tickCount:xn.tickCount,tickLine:ps.tickLine,tickSize:ps.tickSize,type:xn.type,xAxisId:0},JQ=e=>{var t=Wr(e,QQ);return I.createElement(I.Fragment,null,I.createElement(YQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),I.createElement(ZQ,t))},Y0=I.memo(JQ,q8);Y0.displayName="XAxis";var eJ=["dangerouslySetInnerHTML","ticks","scale"],tJ=["id","scale"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wx.apply(null,arguments)}function Y3(e,t){if(e==null)return{};var r,n,i=rJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nJ(e){var t=er(),r=I.useRef(null);return I.useLayoutEffect(()=>{r.current===null?t(vX(e)):r.current!==e&&t(xX({prev:r.current,next:e})),r.current=e},[e,t]),I.useLayoutEffect(()=>()=>{r.current&&(t(yX(r.current)),r.current=null)},[t]),null}var iJ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=I.useRef(null),c=I.useRef(null),f=Ge(Dy),p=Rn(),m=er(),v="yAxis",w=Ge(V=>CP(V,t)),_=Ge(V=>bV(V,t)),S=Ge(V=>IP(V,v,t,p)),N=Ge(V=>sP(V,t));if(I.useLayoutEffect(()=>{if(!(n!=="auto"||!w||eb(i)||I.isValidElement(i)||N==null)){var V=s.current;if(V){var H=V.getCalculatedWidth();Math.round(w.width)!==Math.round(H)&&m(wX({id:t,width:H}))}}},[S,w,m,i,t,n,N]),w==null||_==null||N==null)return null;var{dangerouslySetInnerHTML:O,ticks:k,scale:M}=e,L=Y3(e,eJ),{id:j,scale:z}=N,W=Y3(N,tJ);return I.createElement(ob,Wx({},L,W,{ref:s,labelRef:c,x:_.x,y:_.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:w.width,height:w.height,className:zt("recharts-".concat(v," ").concat(v),r),viewBox:f,ticks:S,axisType:v}))},aJ={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,angle:yn.angle,axisLine:ps.axisLine,hide:!1,includeHidden:yn.includeHidden,interval:yn.interval,minTickGap:yn.minTickGap,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,tickLine:ps.tickLine,tickSize:ps.tickSize,type:yn.type,width:yn.width,yAxisId:0},sJ=e=>{var t=Wr(e,aJ);return I.createElement(I.Fragment,null,I.createElement(nJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),I.createElement(iJ,t))},Z0=I.memo(sJ,q8);Z0.displayName="YAxis";var oJ=(e,t)=>t,cb=ue([oJ,Bt,nP,un,HP,Ns,LH,ln],VH),ub=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},K8=Ji("mouseClick"),X8=Cd();X8.startListening({actionCreator:K8,effect:(e,t)=>{var r=e.payload,n=cb(t.getState(),ub(r));n?.activeIndex!=null&&t.dispatch(DV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Vx=Ji("mouseMove"),Y8=Cd(),Nh=null;Y8.startListening({actionCreator:Vx,effect:(e,t)=>{var r=e.payload;Nh!==null&&cancelAnimationFrame(Nh);var n=ub(r);Nh=requestAnimationFrame(()=>{var i=t.getState(),s=$w(i,i.tooltip.settings.shared);if(s==="axis"){var c=cb(i,n);c?.activeIndex!=null?t.dispatch(LP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(DP())}Nh=null})}});function lJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Z3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Z8=di({name:"rootProps",initialState:Z3,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Z3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),cJ=Z8.reducer,{updateOptions:uJ}=Z8.actions,Q8=di({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:dJ}=Q8.actions,fJ=Q8.reducer,J8=Ji("keyDown"),ek=Ji("focus"),db=Cd();db.startListening({actionCreator:J8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Ww(i,$c(r),Ud(r),Wd(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var p=Ns(r);if(s==="Enter"){var m=U0(r,"axis","hover",String(i.index));t.dispatch(jx({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var v=CV(r),w=v==="left-to-right"?1:-1,_=s==="ArrowRight"?1:-1,S=f+_*w;if(!(p==null||S>=p.length||S<0)){var N=U0(r,"axis","hover",String(S));t.dispatch(jx({active:!0,activeIndex:S.toString(),activeCoordinate:N}))}}}}}});db.startListening({actionCreator:ek,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=U0(r,"axis","hover",String(s));t.dispatch(jx({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Xi=Ji("externalEvent"),tk=Cd(),Ev=new Map;tk.startListening({actionCreator:Xi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Ev.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var f=t.getState(),p={activeCoordinate:EH(f),activeDataKey:Kw(f),activeIndex:uo(f),activeLabel:KP(f),activeTooltipIndex:uo(f),isTooltipActive:AH(f)};r(p,n)}finally{Ev.delete(i)}});Ev.set(i,c)}}});var hJ=ue([Uc],e=>e.tooltipItemPayloads),pJ=ue([hJ,$d,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),rk=Ji("touchMove"),nk=Cd();nk.startListening({actionCreator:rk,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=$w(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var c=cb(n,ub({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(LP({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var v=m.getAttribute(jy),w=(f=m.getAttribute(My))!==null&&f!==void 0?f:void 0,_=zc(n).find(O=>O.id===w);if(v==null||_==null||w==null)return;var{dataKey:S}=_,N=pJ(n,v,w);t.dispatch(MP({activeDataKey:S,activeIndex:v,activeCoordinate:N,activeGraphicalItemId:w}))}}}});var mJ=ZI({brush:kX,cartesianAxis:bX,chartData:bG,errorBars:VY,graphicalItems:DK,layout:qL,legend:tF,options:gG,polarAxis:Yq,polarOptions:fJ,referenceElements:WX,rootProps:cJ,tooltip:LV,zIndex:iG}),gJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xL({reducer:mJ,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([X8.middleware,Y8.middleware,db.middleware,tk.middleware,nk.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(fT({type:"raf"}))},devTools:{serialize:{replacer:lJ},name:"recharts-".concat(r)}})};function ik(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Rn(),s=I.useRef(null);if(i)return r;s.current==null&&(s.current=gJ(t,n));var c=Oy;return I.createElement(hZ,{context:c,store:s.current},r)}function vJ(e){var{layout:t,margin:r}=e,n=er(),i=Rn();return I.useEffect(()=>{i||(n(VL(t)),n(WL(r)))},[n,i,t,r]),null}var ak=I.memo(vJ,am);function sk(e){var t=er();return I.useEffect(()=>{t(uJ(e))},[t,e]),null}function Q3(e){var{zIndex:t,isPanorama:r}=e,n=I.useRef(null),i=er();return I.useLayoutEffect(()=>(n.current&&i(rG({zIndex:t,element:n.current,isPanorama:r})),()=>{i(nG({zIndex:t,isPanorama:r}))}),[i,t,r]),I.createElement("g",{tabIndex:-1,ref:n})}function J3(e){var{children:t,isPanorama:r}=e,n=Ge(GH);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return I.createElement(I.Fragment,null,i.map(c=>I.createElement(Q3,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>I.createElement(Q3,{key:c,zIndex:c,isPanorama:r})))}var xJ=["children"];function yJ(e,t){if(e==null)return{};var r,n,i=wJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}var bJ={width:"100%",height:"100%",display:"block"},EJ=I.forwardRef((e,t)=>{var r=By(),n=Fy(),i=VT();if(!Ba(r)||!Ba(n))return null;var{children:s,otherAttributes:c,title:f,desc:p}=e,m,v;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?v=c.role:v=i?"application":void 0),I.createElement(yy,Q0({},c,{title:f,desc:p,role:v,tabIndex:m,width:r,height:n,style:bJ,ref:t}),s)}),AJ=e=>{var{children:t}=e,r=Ge(Cp);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return I.createElement(yy,{width:n,height:i,x:c,y:s},t)},eO=I.forwardRef((e,t)=>{var{children:r}=e,n=yJ(e,xJ),i=Rn();return i?I.createElement(AJ,null,I.createElement(J3,{isPanorama:!0},r)):I.createElement(EJ,Q0({ref:t},n),I.createElement(J3,{isPanorama:!1},r))});function _J(){var e=er(),[t,r]=I.useState(null),n=Ge(dB);return I.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Qt(s)&&s!==n&&e(GL(s))}},[t,e,n]),r}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){CJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(null,arguments)}var IJ=()=>(TG(),null);function J0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var TJ=I.forwardRef((e,t)=>{var r,n,i=I.useRef(null),[s,c]=I.useState({containerWidth:J0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:J0((n=e.style)===null||n===void 0?void 0:n.height)}),f=I.useCallback((m,v)=>{c(w=>{var _=Math.round(m),S=Math.round(v);return w.containerWidth===_&&w.containerHeight===S?w:{containerWidth:_,containerHeight:S}})},[]),p=I.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:v,height:w}=m.getBoundingClientRect();f(v,w);var _=N=>{var{width:O,height:k}=N[0].contentRect;f(O,k)},S=new ResizeObserver(_);S.observe(m),i.current=S}},[t,f]);return I.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[f]),I.createElement(I.Fragment,null,I.createElement(Op,{width:s.containerWidth,height:s.containerHeight}),I.createElement("div",pl({ref:p},e)))}),PJ=I.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=I.useState({containerWidth:J0(r),containerHeight:J0(n)}),c=I.useCallback((p,m)=>{s(v=>{var w=Math.round(p),_=Math.round(m);return v.containerWidth===w&&v.containerHeight===_?v:{containerWidth:w,containerHeight:_}})},[]),f=I.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:m,height:v}=p.getBoundingClientRect();c(m,v)}},[t,c]);return I.createElement(I.Fragment,null,I.createElement(Op,{width:i.containerWidth,height:i.containerHeight}),I.createElement("div",pl({ref:f},e)))}),kJ=I.forwardRef((e,t)=>{var{width:r,height:n}=e;return I.createElement(I.Fragment,null,I.createElement(Op,{width:r,height:n}),I.createElement("div",pl({ref:t},e)))}),RJ=I.forwardRef((e,t)=>{var{width:r,height:n}=e;return gs(r)||gs(n)?I.createElement(PJ,pl({},e,{ref:t})):I.createElement(kJ,pl({},e,{ref:t}))});function jJ(e){return e===!0?TJ:RJ}var MJ=I.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:f,onMouseDown:p,onMouseEnter:m,onMouseLeave:v,onMouseMove:w,onMouseUp:_,onTouchEnd:S,onTouchMove:N,onTouchStart:O,style:k,width:M,responsive:L,dispatchTouchEvents:j=!0}=e,z=I.useRef(null),W=er(),[V,H]=I.useState(null),[re,X]=I.useState(null),_e=_J(),pe=Ly(),de=pe?.width>0?pe.width:M,Ae=pe?.height>0?pe.height:i,ke=I.useCallback(ve=>{_e(ve),typeof t=="function"&&t(ve),H(ve),X(ve),ve!=null&&(z.current=ve)},[_e,t,H,X]),te=I.useCallback(ve=>{W(K8(ve)),W(Xi({handler:s,reactEvent:ve}))},[W,s]),Fe=I.useCallback(ve=>{W(Vx(ve)),W(Xi({handler:m,reactEvent:ve}))},[W,m]),oe=I.useCallback(ve=>{W(DP()),W(Xi({handler:v,reactEvent:ve}))},[W,v]),ge=I.useCallback(ve=>{W(Vx(ve)),W(Xi({handler:w,reactEvent:ve}))},[W,w]),we=I.useCallback(()=>{W(ek())},[W]),be=I.useCallback(ve=>{W(J8(ve.key))},[W]),Y=I.useCallback(ve=>{W(Xi({handler:c,reactEvent:ve}))},[W,c]),le=I.useCallback(ve=>{W(Xi({handler:f,reactEvent:ve}))},[W,f]),Be=I.useCallback(ve=>{W(Xi({handler:p,reactEvent:ve}))},[W,p]),Me=I.useCallback(ve=>{W(Xi({handler:_,reactEvent:ve}))},[W,_]),We=I.useCallback(ve=>{W(Xi({handler:O,reactEvent:ve}))},[W,O]),Ce=I.useCallback(ve=>{j&&W(rk(ve)),W(Xi({handler:N,reactEvent:ve}))},[W,j,N]),ot=I.useCallback(ve=>{W(Xi({handler:S,reactEvent:ve}))},[W,S]),it=jJ(L);return I.createElement(t8.Provider,{value:V},I.createElement(hI.Provider,{value:re},I.createElement(it,{width:de??k?.width,height:Ae??k?.height,className:zt("recharts-wrapper",n),style:SJ({position:"relative",cursor:"default",width:de,height:Ae},k),onClick:te,onContextMenu:Y,onDoubleClick:le,onFocus:we,onKeyDown:be,onMouseDown:Be,onMouseEnter:Fe,onMouseLeave:oe,onMouseMove:ge,onMouseUp:Me,onTouchEnd:ot,onTouchMove:Ce,onTouchStart:We,ref:ke},I.createElement(IJ,null),r)))}),DJ=["width","height","responsive","children","className","style","compact","title","desc"];function LJ(e,t){if(e==null)return{};var r,n,i=BJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ok=I.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:f,compact:p,title:m,desc:v}=e,w=LJ(e,DJ),_=Ti(w);return p?I.createElement(I.Fragment,null,I.createElement(Op,{width:r,height:n}),I.createElement(eO,{otherAttributes:_,title:m,desc:v},s)):I.createElement(MJ,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},I.createElement(eO,{otherAttributes:_,title:m,desc:v,ref:t},I.createElement(VX,null,s)))});function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}var FJ={top:5,right:5,bottom:5,left:5},UJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:FJ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},lk=I.forwardRef(function(t,r){var n,i=Wr(t.categoricalChartProps,UJ),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:m}=t,v={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return I.createElement(ik,{preloadedState:{options:v},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},I.createElement(P8,{chartData:m.data}),I.createElement(ak,{layout:i.layout,margin:i.margin}),I.createElement(sk,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),I.createElement(ok,Hx({},i,{ref:r})))}),zJ=["axis","item"],ck=I.forwardRef((e,t)=>I.createElement(lk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zJ,tooltipPayloadSearcher:Jw,categoricalChartProps:e,ref:t}));function $J(e){var t=er();return I.useEffect(()=>{t(dJ(e))},[t,e]),null}var WJ=["layout"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}function VJ(e,t){if(e==null)return{};var r,n,i=HJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GJ={top:5,right:5,bottom:5,left:5},uk={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},qJ=I.forwardRef(function(t,r){var n,i=Wr(t.categoricalChartProps,uk),{layout:s}=i,c=VJ(i,WJ),{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v}=t,w={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:v,eventEmitter:void 0};return I.createElement(ik,{preloadedState:{options:w},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},I.createElement(P8,{chartData:i.data}),I.createElement(ak,{layout:s,margin:i.margin}),I.createElement(sk,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),I.createElement($J,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),I.createElement(ok,Gx({},c,{ref:r})))});function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){KJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZJ=["item"],QJ=nO(nO({},uk),{},{layout:"centric",startAngle:0,endAngle:360}),JJ=I.forwardRef((e,t)=>{var r=Wr(e,QJ);return I.createElement(qJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ZJ,tooltipPayloadSearcher:Jw,categoricalChartProps:r,ref:t})}),eee=["item"],tee=I.forwardRef((e,t)=>I.createElement(lk,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eee,tooltipPayloadSearcher:Jw,categoricalChartProps:e,ref:t}));const ree=({transactions:e,expenses:t,timeRange:r,onTimeRangeChange:n})=>{const[i,s]=I.useState([]),[c,f]=I.useState({invested:0,recovered:0}),[p,m]=I.useState([]);I.useEffect(()=>{v()},[e,t]);const v=()=>{const w={Style:{sales:0,cost:0,extras:0,count:0},Perfum:{sales:0,cost:0,extras:0,count:0},"Amor Amor":{sales:0,cost:0,extras:0,count:0}};e.forEach(O=>{let k="Style";if(O.type==="product"?O.description?.includes("Regalito")||O.description?.includes("Amor")?k="Amor Amor":(k="Perfum",Da.find(M=>O.description?.includes(M.name))):k="Style",w[k]){const M=w[k];M.sales+=O.amount,M.extras+=O.additional_cost||0,M.count+=1,M.cost+=0}});const _=Object.keys(w).map(O=>{const k=w[O],M=k.sales-k.cost-k.extras,L=k.sales>0?M/k.sales*100:0;return{name:O,Ventas:k.sales,"Costo Extra":k.extras,Margen:M,"Margen %":Math.round(L)}});s(_);const S=t.reduce((O,k)=>O+k.amount,0),N=e.reduce((O,k)=>O+k.amount,0);f({invested:S,recovered:N})};return b.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-stone-100 shadow-sm",children:[b.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[b.jsx(Gj,{className:"text-emerald-600"}),"Resumen Financiero"]}),b.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(w=>b.jsx("button",{onClick:()=>n(w),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition ${r===w?"bg-stone-900 text-white":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:w==="day"?"Hoy":w==="week"?"Semana":"Mes"},w))})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-stone-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-stone-400 text-sm font-bold uppercase tracking-wider mb-2",children:"Inversin Total (Gastos)"}),b.jsxs("h3",{className:"text-4xl font-mono font-bold text-red-400 mb-1",children:["$",c.invested.toLocaleString()]}),b.jsx("p",{className:"text-xs text-stone-500",children:"Acumulado histrico de compras/gastos"})]}),b.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10",children:b.jsx(SO,{size:120})})]}),b.jsx("div",{className:"bg-emerald-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:b.jsxs("div",{className:"relative z-10",children:[b.jsx("p",{className:"text-emerald-200 text-sm font-bold uppercase tracking-wider mb-2",children:"Recuperado (Ventas)"}),b.jsxs("h3",{className:"text-4xl font-mono font-bold text-emerald-400 mb-1",children:["$",c.recovered.toLocaleString()]}),b.jsx("p",{className:"text-xs text-emerald-200/50",children:c.invested>0?`${(c.recovered/c.invested*100).toFixed(1)}% de la inversin recuperada`:"Calculando retorno..."})]})})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[b.jsx(Sv,{size:20})," Rendimiento por rea"]}),b.jsx("div",{className:"h-[300px] w-full text-xs",children:b.jsx(Bh,{width:"100%",height:"100%",children:b.jsxs(ck,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[b.jsx(q0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),b.jsx(Y0,{dataKey:"name",axisLine:!1,tickLine:!1}),b.jsx(Z0,{axisLine:!1,tickLine:!1,tickFormatter:w=>`$${w/1e3}k`}),b.jsx(Uh,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),b.jsx($y,{}),b.jsx(Yu,{dataKey:"Ventas",fill:"#3b82f6",radius:[4,4,0,0]}),b.jsx(Yu,{dataKey:"Margen",fill:"#10b981",radius:[4,4,0,0]}),b.jsx(Yu,{dataKey:"Costo Extra",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[b.jsx(NO,{size:20})," Detalle de Mrgenes"]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-2 py-2 text-left",children:"rea"}),b.jsx("th",{className:"px-2 py-2 text-right",children:"Margen $"}),b.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),b.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(w=>b.jsxs("tr",{children:[b.jsx("td",{className:"px-2 py-3 font-medium",children:w.name}),b.jsxs("td",{className:`px-2 py-3 text-right font-bold ${w.Margen>0?"text-emerald-600":"text-stone-500"}`,children:["$",w.Margen.toLocaleString()]}),b.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[w["Margen %"],"%"]})]},w.name))})]})}),b.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl text-xs text-blue-700",children:[b.jsx("p",{className:"font-bold mb-1",children:" Tip:"}),b.jsx("p",{children:'El "Margen" descuenta los Costos Extra ingresados (luz, caf, etc). Para aumentar el margen en "Style", asegrate de registrar todos los insumos variables.'})]})]})]})]})},iO=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],nee=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=I.useState(!1),s=t?.quantity||0,c=t?.last_purchase_price||0,f=e.priceFullBottle||0,p=f-c,m=c>0?p/c*100:0;let v=null;if(t?.last_purchase_date){const _=new Date().getTime()-new Date(t.last_purchase_date).getTime();v=Math.floor(_/(1e3*60*60*24))}const w=async _=>{i(!0);const{data:S,error:N}=await ut.rpc("adjust_inventory",{p_product_id:e.id,p_delta:_,p_reason:"manual_adjustment"});N?alert("Error: "+N.message):S.success?r():alert("Error: "+S.message),i(!1)};return b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsx("td",{className:"px-4 py-2",children:b.jsx("div",{className:"font-medium text-stone-800",children:e.name})}),b.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",c.toLocaleString()]}),b.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",f.toLocaleString()]}),b.jsxs("td",{className:"px-4 py-2 text-center",children:[b.jsxs("div",{className:`text-xs font-bold ${p>=0?"text-green-600":"text-red-500"}`,children:["$",p.toLocaleString()]}),b.jsxs("div",{className:`text-[10px] ${p>=0?"text-green-500":"text-red-400"}`,children:[m.toFixed(1),"%"]})]}),b.jsx("td",{className:"px-4 py-2 text-center",children:b.jsx("span",{className:`font-bold ${s>2?"text-green-600":"text-red-500"}`,children:s})}),b.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:v!==null?`${v}d`:"-"}),b.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[b.jsx("button",{onClick:()=>w(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),b.jsx("button",{onClick:()=>w(-1),disabled:n||s<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},iee=({onClose:e})=>{const[t,r]=I.useState([]),[n,i]=I.useState(!0);I.useEffect(()=>{(async()=>{const{data:f,error:p}=await ut.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);p?console.error("Error fetching logs:",p):r(f||[]),i(!1)})()},[]);const s=c=>{const f=Da.find(p=>p.id===c);return f?f.name:c};return b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[b.jsx(CO,{})," Historial de Movimientos"]}),b.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),b.jsx("div",{className:"overflow-y-auto flex-1",children:n?b.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2",children:"Fecha"}),b.jsx("th",{className:"px-4 py-2",children:"Producto"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),b.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),b.jsxs("tbody",{children:[t.map(c=>b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),b.jsx("td",{className:"px-4 py-2 font-medium",children:s(c.product_id)}),b.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),b.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),b.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},aee=({onLogout:e})=>{const[t,r]=I.useState([]),[n,i]=I.useState(!0),[s,c]=I.useState("month"),[f,p]=I.useState(0),[m,v]=I.useState(0),[w,_]=I.useState([]),[S,N]=I.useState([]),[O,k]=I.useState([]),[M,L]=I.useState([]),[j,z]=I.useState("dashboard"),[W,V]=I.useState([]),[H,re]=I.useState(null),[X,_e]=I.useState([]),[pe,de]=I.useState(null),[Ae,ke]=I.useState(new Map),[te,Fe]=I.useState(0),[oe,ge]=I.useState(0),[we,be]=I.useState([]),[Y,le]=I.useState(!1);I.useEffect(()=>{j==="dashboard"||j==="finanzas"?(Me(),j==="finanzas"&&Be()):j==="clients"?Ce():j==="validaciones"&&ot(),We()},[j,s]);const Be=async()=>{const{data:xe}=await ut.from("expenses").select("*");xe&&be(xe)},Me=async()=>{i(!0);try{const xe=new Date;s==="week"?xe.setDate(xe.getDate()-7):s==="month"?xe.setDate(xe.getDate()-30):xe.setHours(0,0,0,0);const{data:ye,error:Ve}=await ut.from("transactions").select("*").gte("created_at",xe.toISOString());if(Ve)throw Ve;const at=ye||[],vt=new Date(xe);s==="week"?vt.setDate(vt.getDate()-7):s==="month"?vt.setDate(vt.getDate()-30):vt.setDate(vt.getDate()-1);const{data:_t}=await ut.from("transactions").select("*").gte("created_at",vt.toISOString()).lt("created_at",xe.toISOString()),Rt=_t||[];r(at);const St=at.reduce((Le,Ze)=>Le+Ze.amount,0);p(St),v(at.length?Math.round(St/at.length):0);const bt=new Map;at.forEach(Le=>{const Ze=Le.type==="product"?"Productos":"Servicios";bt.set(Ze,(bt.get(Ze)||0)+Le.amount)}),N(Array.from(bt).map(([Le,Ze])=>({name:Le,value:Ze})));const hr=new Map,Ue=(Le,Ze)=>{if(Ze==="product"){const qt=Da.find(Er=>Er.price5ml===Le||Er.price10ml===Le||Er.priceFullBottle===Le);return qt?qt.name:"Producto Genrico"}else{const qt=ac.find(Er=>Er.price===Le);return qt?qt.name:"Servicio General"}};at.forEach(Le=>{const Ze=Ue(Le.amount,Le.type);hr.has(Ze)||hr.set(Ze,{current:0,previous:0}),hr.get(Ze).current++}),Rt.forEach(Le=>{const Ze=Ue(Le.amount,Le.type);hr.has(Ze)||hr.set(Ze,{current:0,previous:0}),hr.get(Ze).previous++});const Mi=Array.from(hr.entries()).map(([Le,Ze])=>({name:Le,count:Ze.current})).sort((Le,Ze)=>Ze.count-Le.count).slice(0,5);k(Mi);const Ea=at.length||1,fn=at.length/hr.size/Ea,se=[];hr.forEach((Le,Ze)=>{if(Le.current===0)return;const qt=Le.current/Ea,Er=Le.previous===0?1:(Le.current-Le.previous)/Le.previous;let Wa="question";qt>=fn&&Er>=0?Wa="star":qt>=fn&&Er<0?Wa="cow":qt<fn&&Er>=0?Wa="question":Wa="dog",se.push({name:Ze,volume:qt,growth:Er,type:Wa})}),L(se);const De=new Map;at.forEach(Le=>{if(!Le.client_id)return;const Ze=De.get(Le.client_id)||{id:Le.client_id,phone:"Cargando...",total_spent:0,visit_count:0};Ze.total_spent+=Le.amount,Ze.visit_count+=1,De.set(Le.client_id,Ze)});const lt=Array.from(De.keys());if(lt.length>0){const{data:Le}=await ut.from("clients").select("id, phone").in("id",lt);Le?.forEach(Ze=>{const qt=De.get(Ze.id);qt&&(qt.phone=Ze.phone)})}_(Array.from(De.values()).sort((Le,Ze)=>Ze.total_spent-Le.total_spent).slice(0,10))}catch(xe){console.error("Error fetching dashboard data:",xe)}finally{i(!1)}},We=async()=>{const{data:xe,error:ye}=await ut.from("inventory").select("*");if(xe){const Ve=new Map;let at=0,vt=0;xe.forEach(_t=>{Ve.set(_t.product_id,_t),at+=_t.quantity*(_t.last_purchase_price||0),vt+=_t.quantity}),ke(Ve),Fe(at),ge(vt)}ye&&console.error("Error fetching inventory",ye)},Ce=async()=>{i(!0);const{data:xe,error:ye}=await ut.from("clients").select("*").order("last_visit",{ascending:!1});ye?console.error("Error fetching clients",ye):V(xe||[]),ye?console.error("Error fetching clients",ye):V(xe||[]),i(!1)},ot=async()=>{i(!0);const{data:xe,error:ye}=await ut.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});ye?console.error("Error fetching visits",ye):_e(xe||[]),i(!1)},it=async xe=>{if(xe.preventDefault(),!H)return;const{error:ye}=await ut.from("clients").update({name:H.name,phone:H.phone,visits:H.visits}).eq("id",H.id);ye?alert("Error al actualizar: "+ye.message):(re(null),Ce())},ve=async xe=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await ut.from("hair_service_log").delete().eq("client_id",xe),await ut.from("transactions").delete().eq("client_id",xe),await ut.from("visit_registrations").delete().eq("client_id",xe);const{error:ye}=await ut.from("clients").delete().eq("id",xe);if(ye)throw ye;Ce()}catch(ye){alert("Error al eliminar: "+ye.message)}},et=()=>{const xe=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],ye=t.map(_t=>[_t.id,_t.created_at,_t.amount,_t.type,_t.client_id||"Annimo"]),Ve="data:text/csv;charset=utf-8,"+xe.join(",")+`
`+ye.map(_t=>_t.join(",")).join(`
`),at=encodeURI(Ve),vt=document.createElement("a");vt.setAttribute("href",at),vt.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(vt),vt.click(),document.body.removeChild(vt)};return b.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8",children:[b.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),b.jsxs("div",{className:"flex gap-4",children:[j==="dashboard"&&b.jsxs("select",{value:s,onChange:xe=>c(xe.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[b.jsx("option",{value:"week",children:"ltima Semana"}),b.jsx("option",{value:"month",children:"ltimo Mes"})]}),b.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),b.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[b.jsx("button",{onClick:()=>z("dashboard"),className:`px-4 py-2 font-bold transition ${j==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),b.jsx("button",{onClick:()=>z("clients"),className:`px-4 py-2 font-bold transition ${j==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),b.jsxs("button",{onClick:()=>z("validaciones"),className:`px-4 py-2 font-bold transition ${j==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones QR",X.length>0&&b.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:X.length})]}),b.jsx("button",{onClick:()=>z("finanzas"),className:`px-4 py-2 font-bold transition ${j==="finanzas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Finanzas"})]}),j==="validaciones"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[b.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[b.jsx(np,{})," QR de Llegada"]}),b.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),b.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:b.jsx(gy,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),b.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),b.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[b.jsx(yE,{size:14})," Imprimir QR"]})]}),b.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[b.jsx(Xj,{})," Visitas Pendientes"]}),X.length===0?b.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:b.jsx("p",{children:"No hay clientes esperando validacin."})}):b.jsx("div",{className:"space-y-4",children:X.map(xe=>b.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[b.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:xe.client?.name?.charAt(0)||"?"}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-stone-900",children:xe.client?.name||"Cliente"}),b.jsx("p",{className:"text-sm text-stone-500",children:xe.client?.phone}),b.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(xe.check_in_time).toLocaleTimeString()]})]})]}),b.jsx("button",{onClick:()=>de(xe),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},xe.id))})]})]}),j==="finanzas"&&b.jsx(ree,{transactions:t,expenses:we,timeRange:s,onTimeRangeChange:xe=>c(xe)}),j==="dashboard"?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),b.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),b.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:b.jsx(SO,{className:"text-green-600"})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),b.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",m.toLocaleString()]})]}),b.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:b.jsx(Sv,{className:"text-blue-600"})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),b.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),b.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:b.jsx(Sv,{className:"text-purple-600"})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(NO,{size:18})," Origen de Ingresos"]}),b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(Bh,{width:"100%",height:"100%",children:b.jsxs(JJ,{children:[b.jsx(O8,{data:S,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:S.map((xe,ye)=>b.jsx(dl,{fill:iO[ye%iO.length]},`cell-${ye}`))}),b.jsx(Uh,{formatter:xe=>`$${xe.toLocaleString()}`}),b.jsx($y,{})]})})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(qj,{size:18})," Top Productos/Servicios"]}),b.jsx("div",{className:"h-[250px] w-full",children:b.jsx(Bh,{width:"100%",height:"100%",children:b.jsxs(ck,{data:O,layout:"vertical",children:[b.jsx(q0,{strokeDasharray:"3 3",horizontal:!1}),b.jsx(Y0,{type:"number",hide:!0}),b.jsx(Z0,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),b.jsx(Uh,{}),b.jsx(Yu,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),b.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[b.jsx(l6,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),b.jsxs("div",{className:"h-[300px] w-full relative",children:[b.jsx(Bh,{width:"100%",height:"100%",children:b.jsxs(tee,{margin:{top:20,right:20,bottom:20,left:20},children:[b.jsx(q0,{}),b.jsx(Y0,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:xe=>Math.round(xe*100)+"%"}),b.jsx(Z0,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:xe=>Math.round(xe*100)+"%"}),b.jsx(Uh,{cursor:{strokeDasharray:"3 3"},formatter:(xe,ye)=>[Math.round(xe*100)+"%",ye==="volume"?"Cuota":"Crecimiento"]}),b.jsx(D8,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),b.jsx(G8,{name:"Productos",data:M,fill:"#8884d8",children:M.map((xe,ye)=>{let Ve="#8884d8";return xe.type==="star"?Ve="#FFBB28":xe.type==="cow"?Ve="#00C49F":xe.type==="dog"?Ve="#FF8042":Ve="#999",b.jsx(dl,{fill:Ve},`cell-${ye}`)})})]})}),b.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),b.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[b.jsx(h6,{size:20})," Top 10 Clientes (Gasto)"]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2",children:"Cliente"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"})]})}),b.jsxs("tbody",{children:[w.map((xe,ye)=>b.jsxs("tr",{className:"border-b border-stone-100",children:[b.jsxs("td",{className:"px-4 py-3 font-medium",children:[ye+1,". ",xe.phone]}),b.jsx("td",{className:"px-4 py-3 text-right",children:xe.visit_count}),b.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",xe.total_spent.toLocaleString()]})]},xe.id)),w.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[b.jsx(s6,{size:20})," Inventario Perfumes"]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>le(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[b.jsx(CO,{size:14})," Historial"]}),b.jsxs("button",{onClick:et,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[b.jsx(yE,{size:14})," Exportar CSV"]})]})]}),b.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:b.jsxs("table",{className:"w-full text-xs text-left",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-stone-500 border-b border-stone-200",children:[b.jsx("th",{className:"px-4 py-2 text-left",children:"Producto"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Costo"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Precio Vta"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Margen"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Stock"}),b.jsx("th",{className:"px-4 py-2 text-center",children:"Das"}),b.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),b.jsx("tbody",{children:Da.map(xe=>b.jsx(nee,{perfume:xe,inventoryItem:Ae.get(xe.id),onRefresh:We},xe.id))}),b.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:b.jsxs("tr",{children:[b.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),b.jsx("td",{className:"px-4 py-3"}),b.jsx("td",{className:"px-4 py-3"}),b.jsx("td",{className:"px-4 py-3"}),b.jsxs("td",{className:"px-4 py-3 text-center",children:[oe," un."]}),b.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),b.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",te.toLocaleString()]})]})})]})})]})]})]}):b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[b.jsx("h3",{className:"text-xl font-bold mb-6",children:"Gestin de Clientes"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-sm text-left",children:[b.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3",children:"Nombre"}),b.jsx("th",{className:"px-6 py-3",children:"Telfono"}),b.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),b.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),b.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),b.jsx("tbody",{children:W.map(xe=>b.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[b.jsx("td",{className:"px-6 py-4 font-bold text-stone-800",children:xe.name||"Sin nombre"}),b.jsx("td",{className:"px-6 py-4 font-mono text-stone-600",children:xe.phone}),b.jsx("td",{className:"px-6 py-4 text-center",children:b.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:xe.visits})}),b.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(xe.last_visit).toLocaleDateString()}),b.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[b.jsx("button",{onClick:()=>re(xe),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),b.jsx("button",{onClick:()=>ve(xe.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},xe.id))})]})})]}),H&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[b.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),b.jsxs("form",{onSubmit:it,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Nombre"}),b.jsx("input",{type:"text",value:H.name||"",onChange:xe=>re({...H,name:xe.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),b.jsx("input",{type:"text",value:H.phone,onChange:xe=>re({...H,phone:xe.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),b.jsx("input",{type:"number",value:H.visits,onChange:xe=>re({...H,visits:parseInt(xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),b.jsxs("div",{className:"flex gap-2 mt-6",children:[b.jsx("button",{type:"button",onClick:()=>re(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),pe&&b.jsx(PD,{visit:pe,onClose:()=>de(null),onSuccess:ot}),Y&&b.jsx(iee,{onClose:()=>le(!1)})]})},see=()=>{const[e,t]=I.useState(null),[r,n]=I.useState(""),i=(c,f)=>{t(c),f&&n(f)},s=async()=>{await ut.auth.signOut(),t(null),n("")};return e?e==="management"?b.jsx(aee,{onLogout:s}):b.jsx(TD,{onLogout:s}):b.jsx(tD,{onLogin:i})},oee=()=>{const[e,t]=I.useState("Todos"),[r,n]=I.useState(null),i=["Todos","Cortes","Color","Peinados"],s=e==="Todos"?bE:bE.filter(c=>c.category===e);return b.jsxs("div",{className:"animate-in fade-in duration-700",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>b.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),b.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:s.map((c,f)=>b.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[b.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),b.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:b.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[b.jsx(m6,{className:"mx-auto mb-2 opacity-80"}),b.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[b.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:b.jsx(ja,{size:32})}),b.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},lee=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${uc}?text=${r}`,"_blank")};return b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),b.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:PO.map(t=>b.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[b.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[b.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),b.jsx(ny,{size:64,className:"text-amber-500 relative z-10"})]}),b.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[b.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),b.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),b.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>b.jsxs("div",{className:"flex items-start text-stone-600",children:[b.jsx(e6,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),b.jsx("span",{className:"text-sm",children:r})]},n))}),b.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},cee=()=>{const[e,t]=I.useState(""),[r,n]=I.useState(""),[i,s]=I.useState(!1),[c,f]=I.useState("search"),[p,m]=I.useState(null),[v,w]=I.useState(""),_=async O=>{O.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(k.length<8)throw new Error("Ingresa un nmero vlido (ej: 912345678)");const{data:M,error:L}=await ut.from("clients").select("*").eq("phone",k).single();if(L&&L.code!=="PGRST116")throw L;M?(m(M),await N(M.id)):f("register")}catch(k){w(k.message||"Error al buscar cliente")}finally{s(!1)}},S=async O=>{O.preventDefault(),s(!0),w("");try{const k=e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");const{data:M,error:L}=await ut.from("clients").insert([{name:r,phone:k,visits:0}]).select().single();if(L)throw L;await N(M.id)}catch(k){w(k.message||"Error al registrar")}finally{s(!1)}},N=async O=>{const{error:k}=await ut.from("visit_registrations").insert([{client_id:O}]);if(k)throw console.error(k),new Error("Hubo un problema registrando la visita. Intenta de nuevo.");f("success")};return c==="success"?b.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-stone-900 border border-amber-500/30 rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl animate-fade-in-up",children:[b.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(ry,{className:"w-10 h-10 text-green-400"})}),b.jsx("h2",{className:"text-2xl font-serif text-amber-100 mb-2",children:"Llegada Registrada!"}),b.jsx("p",{className:"text-stone-400 mb-6",children:"Tu visita ha quedado en espera. Tu estilista validar tus servicios al finalizar para sumar tus puntos."}),b.jsx(Kr,{to:"/",className:"block w-full py-3 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded-lg transition-colors font-medium",children:"Volver al Inicio"})]})}):b.jsxs("div",{className:"min-h-screen bg-stone-950 p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),b.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3 pointer-events-none"}),b.jsxs("div",{className:"w-full max-w-md bg-stone-900/80 backdrop-blur-md border border-stone-800 rounded-2xl shadow-xl overflow-hidden relative z-10",children:[b.jsxs("div",{className:"bg-gradient-to-r from-stone-900 to-stone-800 p-6 text-center border-b border-stone-800",children:[b.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:b.jsx(np,{className:"w-6 h-6 text-amber-400"})}),b.jsx("h1",{className:"text-xl font-serif text-amber-100",children:"Registro de Visita"}),b.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Escanea al llegar para sumar puntos"})]}),b.jsxs("div",{className:"p-6",children:[v&&b.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-200 text-sm text-center",children:v}),c==="search"?b.jsxs("form",{onSubmit:_,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Nmero de Telfono"}),b.jsx("input",{type:"tel",placeholder:"Ej: 912345678",value:e,onChange:O=>t(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all text-lg tracking-widest text-center",autoFocus:!0})]}),b.jsx("button",{type:"submit",disabled:i||e.length<8,className:"w-full py-3.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?b.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:[b.jsx(ip,{className:"w-4 h-4"}),"Buscar / Registrar"]})})]}):b.jsxs("form",{onSubmit:S,className:"space-y-4 animate-fade-in-right",children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("div",{className:"w-12 h-12 bg-stone-800 rounded-full flex items-center justify-center mx-auto mb-2 text-stone-400",children:b.jsx(sy,{className:"w-6 h-6"})}),b.jsx("h3",{className:"text-amber-100 font-medium",children:"Primera vez por aqu!"}),b.jsx("p",{className:"text-xs text-stone-400",children:"Crea tu perfil para empezar a sumar."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Tu Nombre"}),b.jsx("input",{type:"text",placeholder:"Nombre y Apellido",value:r,onChange:O=>n(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 outline-none",autoFocus:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Telfono"}),b.jsx("input",{type:"tel",value:e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800 rounded-lg px-4 py-3 text-stone-500 cursor-not-allowed"})]}),b.jsxs("div",{className:"pt-2 flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>f("search"),className:"flex-1 py-3 bg-stone-800 text-stone-300 rounded-lg hover:bg-stone-700 transition",children:"Volver"}),b.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-500 transition shadow-lg shadow-amber-900/20",children:i?"Registrando...":"Confirmar"})]})]})]}),b.jsx("div",{className:"bg-stone-950/50 p-4 text-center border-t border-stone-800",children:b.jsx("p",{className:"text-xs text-stone-600",children:"Tus3B Style  Sistema de Lealtad"})})]})]})},uee=()=>b.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),b.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[b.jsxs("div",{className:"text-center space-y-2 mb-4",children:[b.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",b.jsx("span",{className:"text-amber-500",children:"Hub"})]}),b.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs(Kr,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:b.jsx(ay,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),b.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),b.jsx(qu,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),b.jsx(Kr,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:b.jsx(ed,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),b.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),b.jsx(qu,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),b.jsx(Kr,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:b.jsxs("div",{className:"p-6 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:b.jsx(ny,{size:24})}),b.jsxs("div",{children:[b.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),b.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),b.jsx(qu,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),b.jsx("div",{className:"w-full mt-4",children:b.jsxs(Kr,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),b.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:b.jsx(np,{size:20})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),b.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),b.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),b.jsx("div",{className:"w-full pt-4",children:b.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),b.jsx("div",{className:"text-center py-6 z-10",children:b.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),dee=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:b.jsx(Qj,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:b.jsx(f6,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:b.jsx(ay,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:b.jsx(mc,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:b.jsx(p6,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],fee=()=>{const[e,t]=I.useState(null);return b.jsx("section",{className:"py-20 bg-stone-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),b.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),b.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:dee.map(r=>b.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&b.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),b.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?b.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[b.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),b.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[b.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),b.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",b.jsx(qu,{size:14})]})]})]}):b.jsxs("div",{children:[b.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),b.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",b.jsx(qu,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),b.jsx("div",{className:"mt-12 text-center",children:b.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[b.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),b.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',b.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},hee=()=>{const{pathname:e}=wa();return vr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},pee=()=>{const[e,t]=I.useState(null),r=()=>b.jsxs(b.Fragment,{children:[b.jsx(v6,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),b.jsx("section",{className:"py-20 bg-white",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),b.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ac.filter(n=>!n.homeServiceOnly).map(n=>b.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),b.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),b.jsxs("div",{className:"text-right ml-4",children:[b.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),b.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx(Kr,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),b.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),b.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),b.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),b.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),b.jsx("div",{className:"flex items-center space-x-4 pt-4",children:b.jsx(Kr,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),b.jsx(fee,{}),b.jsx(WM,{}),b.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),b.jsx(RM,{onSuccess:n=>{t(n)}})]}),b.jsx("div",{className:"bg-white py-4 text-center",children:b.jsxs(Kr,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[b.jsx(c6,{size:10})," Admin"]})})]});return b.jsx(jj,{children:b.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[b.jsx(hee,{}),b.jsx(g6,{}),b.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:b.jsxs(uj,{children:[b.jsx(ka,{path:"/",element:b.jsx(uee,{})}),b.jsx(ka,{path:"/style",element:b.jsx(r,{})}),b.jsx(ka,{path:"/perfum",element:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),b.jsx(MM,{})]})}),b.jsx(ka,{path:"/regalos",element:b.jsx(lee,{})}),b.jsx(ka,{path:"/gallery",element:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),b.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),b.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),b.jsx(oee,{})]})}),b.jsx(ka,{path:"/loyalty",element:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:b.jsx(eD,{})})}),b.jsx(ka,{path:"/admin",element:b.jsx(see,{})}),b.jsx(ka,{path:"/checkin",element:b.jsx(cee,{})}),b.jsx(ka,{path:"/confirmation",element:b.jsx(mee,{})})]})}),b.jsx(DM,{}),b.jsx(zM,{})]})})},mee=()=>{const t=wa().state;return t?b.jsx($M,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):b.jsx(lj,{to:"/"})};console.log("Iniciando aplicacin React...");const dk=document.getElementById("root");if(!dk)throw new Error("Could not find root element to mount to");try{fR.createRoot(dk).render(b.jsx(vr.StrictMode,{children:b.jsx(pee,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}
