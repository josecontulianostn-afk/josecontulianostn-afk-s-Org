function Xv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Ig={exports:{}},Pu={},Tg={exports:{}},It={};var sE;function uj(){if(sE)return It;sE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function S(Z){return Z===null||typeof Z!="object"?null:(Z=b&&Z[b]||Z["@@iterator"],typeof Z=="function"?Z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,O={};function k(Z,fe,Me){this.props=Z,this.context=fe,this.refs=O,this.updater=Me||_}k.prototype.isReactComponent={},k.prototype.setState=function(Z,fe){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,fe,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function R(){}R.prototype=k.prototype;function L(Z,fe,Me){this.props=Z,this.context=fe,this.refs=O,this.updater=Me||_}var M=L.prototype=new R;M.constructor=L,I(M,k.prototype),M.isPureReactComponent=!0;var U=Array.isArray,W=Object.prototype.hasOwnProperty,V={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function re(Z,fe,Me){var Fe,Je={},Ie=null,lt=null;if(fe!=null)for(Fe in fe.ref!==void 0&&(lt=fe.ref),fe.key!==void 0&&(Ie=""+fe.key),fe)W.call(fe,Fe)&&!H.hasOwnProperty(Fe)&&(Je[Fe]=fe[Fe]);var ye=arguments.length-2;if(ye===1)Je.children=Me;else if(1<ye){for(var se=Array(ye),Be=0;Be<ye;Be++)se[Be]=arguments[Be+2];Je.children=se}if(Z&&Z.defaultProps)for(Fe in ye=Z.defaultProps,ye)Je[Fe]===void 0&&(Je[Fe]=ye[Fe]);return{$$typeof:e,type:Z,key:Ie,ref:lt,props:Je,_owner:V.current}}function X(Z,fe){return{$$typeof:e,type:Z.type,key:fe,ref:Z.ref,props:Z.props,_owner:Z._owner}}function Ee(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e}function ue(Z){var fe={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Me){return fe[Me]})}var de=/\/+/g;function Ae(Z,fe){return typeof Z=="object"&&Z!==null&&Z.key!=null?ue(""+Z.key):fe.toString(36)}function ke(Z,fe,Me,Fe,Je){var Ie=typeof Z;(Ie==="undefined"||Ie==="boolean")&&(Z=null);var lt=!1;if(Z===null)lt=!0;else switch(Ie){case"string":case"number":lt=!0;break;case"object":switch(Z.$$typeof){case e:case t:lt=!0}}if(lt)return lt=Z,Je=Je(lt),Z=Fe===""?"."+Ae(lt,0):Fe,U(Je)?(Me="",Z!=null&&(Me=Z.replace(de,"$&/")+"/"),ke(Je,fe,Me,"",function(Be){return Be})):Je!=null&&(Ee(Je)&&(Je=X(Je,Me+(!Je.key||lt&&lt.key===Je.key?"":(""+Je.key).replace(de,"$&/")+"/")+Z)),fe.push(Je)),1;if(lt=0,Fe=Fe===""?".":Fe+":",U(Z))for(var ye=0;ye<Z.length;ye++){Ie=Z[ye];var se=Fe+Ae(Ie,ye);lt+=ke(Ie,fe,Me,se,Je)}else if(se=S(Z),typeof se=="function")for(Z=se.call(Z),ye=0;!(Ie=Z.next()).done;)Ie=Ie.value,se=Fe+Ae(Ie,ye++),lt+=ke(Ie,fe,Me,se,Je);else if(Ie==="object")throw fe=String(Z),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.");return lt}function te(Z,fe,Me){if(Z==null)return Z;var Fe=[],Je=0;return ke(Z,Fe,"","",function(Ie){return fe.call(Me,Ie,Je++)}),Fe}function ie(Z){if(Z._status===-1){var fe=Z._result;fe=fe(),fe.then(function(Me){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Me)},function(Me){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Me)}),Z._status===-1&&(Z._status=0,Z._result=fe)}if(Z._status===1)return Z._result.default;throw Z._result}var Q={current:null},oe={transition:null},xe={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:oe,ReactCurrentOwner:V};function Se(){throw Error("act(...) is not supported in production builds of React.")}return It.Children={map:te,forEach:function(Z,fe,Me){te(Z,function(){fe.apply(this,arguments)},Me)},count:function(Z){var fe=0;return te(Z,function(){fe++}),fe},toArray:function(Z){return te(Z,function(fe){return fe})||[]},only:function(Z){if(!Ee(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},It.Component=k,It.Fragment=r,It.Profiler=i,It.PureComponent=L,It.StrictMode=n,It.Suspense=p,It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,It.act=Se,It.cloneElement=function(Z,fe,Me){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Fe=I({},Z.props),Je=Z.key,Ie=Z.ref,lt=Z._owner;if(fe!=null){if(fe.ref!==void 0&&(Ie=fe.ref,lt=V.current),fe.key!==void 0&&(Je=""+fe.key),Z.type&&Z.type.defaultProps)var ye=Z.type.defaultProps;for(se in fe)W.call(fe,se)&&!H.hasOwnProperty(se)&&(Fe[se]=fe[se]===void 0&&ye!==void 0?ye[se]:fe[se])}var se=arguments.length-2;if(se===1)Fe.children=Me;else if(1<se){ye=Array(se);for(var Be=0;Be<se;Be++)ye[Be]=arguments[Be+2];Fe.children=ye}return{$$typeof:e,type:Z.type,key:Je,ref:Ie,props:Fe,_owner:lt}},It.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:s,_context:Z},Z.Consumer=Z},It.createElement=re,It.createFactory=function(Z){var fe=re.bind(null,Z);return fe.type=Z,fe},It.createRef=function(){return{current:null}},It.forwardRef=function(Z){return{$$typeof:f,render:Z}},It.isValidElement=Ee,It.lazy=function(Z){return{$$typeof:x,_payload:{_status:-1,_result:Z},_init:ie}},It.memo=function(Z,fe){return{$$typeof:m,type:Z,compare:fe===void 0?null:fe}},It.startTransition=function(Z){var fe=oe.transition;oe.transition={};try{Z()}finally{oe.transition=fe}},It.unstable_act=Se,It.useCallback=function(Z,fe){return Q.current.useCallback(Z,fe)},It.useContext=function(Z){return Q.current.useContext(Z)},It.useDebugValue=function(){},It.useDeferredValue=function(Z){return Q.current.useDeferredValue(Z)},It.useEffect=function(Z,fe){return Q.current.useEffect(Z,fe)},It.useId=function(){return Q.current.useId()},It.useImperativeHandle=function(Z,fe,Me){return Q.current.useImperativeHandle(Z,fe,Me)},It.useInsertionEffect=function(Z,fe){return Q.current.useInsertionEffect(Z,fe)},It.useLayoutEffect=function(Z,fe){return Q.current.useLayoutEffect(Z,fe)},It.useMemo=function(Z,fe){return Q.current.useMemo(Z,fe)},It.useReducer=function(Z,fe,Me){return Q.current.useReducer(Z,fe,Me)},It.useRef=function(Z){return Q.current.useRef(Z)},It.useState=function(Z){return Q.current.useState(Z)},It.useSyncExternalStore=function(Z,fe,Me){return Q.current.useSyncExternalStore(Z,fe,Me)},It.useTransition=function(){return Q.current.useTransition()},It.version="18.3.1",It}var oE;function Rc(){return oE||(oE=1,Tg.exports=uj()),Tg.exports}var lE;function dj(){if(lE)return Pu;lE=1;var e=Rc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var x,b={},S=null,_=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(_=p.ref);for(x in p)n.call(p,x)&&!s.hasOwnProperty(x)&&(b[x]=p[x]);if(f&&f.defaultProps)for(x in p=f.defaultProps,p)b[x]===void 0&&(b[x]=p[x]);return{$$typeof:t,type:f,key:S,ref:_,props:b,_owner:i.current}}return Pu.Fragment=r,Pu.jsx=c,Pu.jsxs=c,Pu}var cE;function fj(){return cE||(cE=1,Ig.exports=dj()),Ig.exports}var v=fj(),N=Rc();const Nr=da(N),hj=Xv({__proto__:null,default:Nr},[N]);var th={},kg={exports:{}},gi={},Pg={exports:{}},jg={};var uE;function pj(){return uE||(uE=1,(function(e){function t(oe,xe){var Se=oe.length;oe.push(xe);e:for(;0<Se;){var Z=Se-1>>>1,fe=oe[Z];if(0<i(fe,xe))oe[Z]=xe,oe[Se]=fe,Se=Z;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var xe=oe[0],Se=oe.pop();if(Se!==xe){oe[0]=Se;e:for(var Z=0,fe=oe.length,Me=fe>>>1;Z<Me;){var Fe=2*(Z+1)-1,Je=oe[Fe],Ie=Fe+1,lt=oe[Ie];if(0>i(Je,Se))Ie<fe&&0>i(lt,Je)?(oe[Z]=lt,oe[Ie]=Se,Z=Ie):(oe[Z]=Je,oe[Fe]=Se,Z=Fe);else if(Ie<fe&&0>i(lt,Se))oe[Z]=lt,oe[Ie]=Se,Z=Ie;else break e}}return xe}function i(oe,xe){var Se=oe.sortIndex-xe.sortIndex;return Se!==0?Se:oe.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],m=[],x=1,b=null,S=3,_=!1,I=!1,O=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(oe){for(var xe=r(m);xe!==null;){if(xe.callback===null)n(m);else if(xe.startTime<=oe)n(m),xe.sortIndex=xe.expirationTime,t(p,xe);else break;xe=r(m)}}function U(oe){if(O=!1,M(oe),!I)if(r(p)!==null)I=!0,ie(W);else{var xe=r(m);xe!==null&&Q(U,xe.startTime-oe)}}function W(oe,xe){I=!1,O&&(O=!1,R(re),re=-1),_=!0;var Se=S;try{for(M(xe),b=r(p);b!==null&&(!(b.expirationTime>xe)||oe&&!ue());){var Z=b.callback;if(typeof Z=="function"){b.callback=null,S=b.priorityLevel;var fe=Z(b.expirationTime<=xe);xe=e.unstable_now(),typeof fe=="function"?b.callback=fe:b===r(p)&&n(p),M(xe)}else n(p);b=r(p)}if(b!==null)var Me=!0;else{var Fe=r(m);Fe!==null&&Q(U,Fe.startTime-xe),Me=!1}return Me}finally{b=null,S=Se,_=!1}}var V=!1,H=null,re=-1,X=5,Ee=-1;function ue(){return!(e.unstable_now()-Ee<X)}function de(){if(H!==null){var oe=e.unstable_now();Ee=oe;var xe=!0;try{xe=H(!0,oe)}finally{xe?Ae():(V=!1,H=null)}}else V=!1}var Ae;if(typeof L=="function")Ae=function(){L(de)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,te=ke.port2;ke.port1.onmessage=de,Ae=function(){te.postMessage(null)}}else Ae=function(){k(de,0)};function ie(oe){H=oe,V||(V=!0,Ae())}function Q(oe,xe){re=k(function(){oe(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){I||_||(I=!0,ie(W))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(oe){switch(S){case 1:case 2:case 3:var xe=3;break;default:xe=S}var Se=S;S=xe;try{return oe()}finally{S=Se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,xe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Se=S;S=oe;try{return xe()}finally{S=Se}},e.unstable_scheduleCallback=function(oe,xe,Se){var Z=e.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Z+Se:Z):Se=Z,oe){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Se+fe,oe={id:x++,callback:xe,priorityLevel:oe,startTime:Se,expirationTime:fe,sortIndex:-1},Se>Z?(oe.sortIndex=Se,t(m,oe),r(p)===null&&oe===r(m)&&(O?(R(re),re=-1):O=!0,Q(U,Se-Z))):(oe.sortIndex=fe,t(p,oe),I||_||(I=!0,ie(W))),oe},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(oe){var xe=S;return function(){var Se=S;S=xe;try{return oe.apply(this,arguments)}finally{S=Se}}}})(jg)),jg}var dE;function mj(){return dE||(dE=1,Pg.exports=pj()),Pg.exports}var fE;function gj(){if(fE)return gi;fE=1;var e=Rc(),t=mj();function r(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,w=1;w<arguments.length;w++)d+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,d){c(o,d),c(o+"Capture",d)}function c(o,d){for(i[o]=d,o=0;o<d.length;o++)n.add(d[o])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function S(o){return p.call(b,o)?!0:p.call(x,o)?!1:m.test(o)?b[o]=!0:(x[o]=!0,!1)}function _(o,d,w,A){if(w!==null&&w.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return A?!1:w!==null?!w.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,d,w,A){if(d===null||typeof d>"u"||_(o,d,w,A))return!0;if(A)return!1;if(w!==null)switch(w.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function O(o,d,w,A,P,j,z){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=A,this.attributeNamespace=P,this.mustUseProperty=w,this.propertyName=o,this.type=d,this.sanitizeURL=j,this.removeEmptyString=z}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new O(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new O(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new O(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new O(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new O(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new O(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new O(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new O(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new O(o,5,!1,o.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(R,L);k[d]=new O(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(R,L);k[d]=new O(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(R,L);k[d]=new O(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new O(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new O(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,d,w,A){var P=k.hasOwnProperty(d)?k[d]:null;(P!==null?P.type!==0:A||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(I(d,w,P,A)&&(w=null),A||P===null?S(d)&&(w===null?o.removeAttribute(d):o.setAttribute(d,""+w)):P.mustUseProperty?o[P.propertyName]=w===null?P.type===3?!1:"":w:(d=P.attributeName,A=P.attributeNamespace,w===null?o.removeAttribute(d):(P=P.type,w=P===3||P===4&&w===!0?"":""+w,A?o.setAttributeNS(A,d,w):o.setAttribute(d,w))))}var U=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),V=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),ue=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),oe=Symbol.iterator;function xe(o){return o===null||typeof o!="object"?null:(o=oe&&o[oe]||o["@@iterator"],typeof o=="function"?o:null)}var Se=Object.assign,Z;function fe(o){if(Z===void 0)try{throw Error()}catch(w){var d=w.stack.trim().match(/\n( *(at )?)/);Z=d&&d[1]||""}return`
`+Z+o}var Me=!1;function Fe(o,d){if(!o||Me)return"";Me=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ve){var A=ve}Reflect.construct(o,[],d)}else{try{d.call()}catch(ve){A=ve}o.call(d.prototype)}else{try{throw Error()}catch(ve){A=ve}o()}}catch(ve){if(ve&&A&&typeof ve.stack=="string"){for(var P=ve.stack.split(`
`),j=A.stack.split(`
`),z=P.length-1,K=j.length-1;1<=z&&0<=K&&P[z]!==j[K];)K--;for(;1<=z&&0<=K;z--,K--)if(P[z]!==j[K]){if(z!==1||K!==1)do if(z--,K--,0>K||P[z]!==j[K]){var J=`
`+P[z].replace(" at new "," at ");return o.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",o.displayName)),J}while(1<=z&&0<=K);break}}}finally{Me=!1,Error.prepareStackTrace=w}return(o=o?o.displayName||o.name:"")?fe(o):""}function Je(o){switch(o.tag){case 5:return fe(o.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 2:case 15:return o=Fe(o.type,!1),o;case 11:return o=Fe(o.type.render,!1),o;case 1:return o=Fe(o.type,!0),o;default:return""}}function Ie(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case H:return"Fragment";case V:return"Portal";case X:return"Profiler";case re:return"StrictMode";case Ae:return"Suspense";case ke:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case ue:return(o.displayName||"Context")+".Consumer";case Ee:return(o._context.displayName||"Context")+".Provider";case de:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case te:return d=o.displayName||null,d!==null?d:Ie(o.type)||"Memo";case ie:d=o._payload,o=o._init;try{return Ie(o(d))}catch{}}return null}function lt(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(d);case 8:return d===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ye(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function se(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Be(o){var d=se(o)?"checked":"value",w=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),A=""+o[d];if(!o.hasOwnProperty(d)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var P=w.get,j=w.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return P.call(this)},set:function(z){A=""+z,j.call(this,z)}}),Object.defineProperty(o,d,{enumerable:w.enumerable}),{getValue:function(){return A},setValue:function(z){A=""+z},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function Ue(o){o._valueTracker||(o._valueTracker=Be(o))}function we(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var w=d.getValue(),A="";return o&&(A=se(o)?o.checked?"true":"false":o.value),o=A,o!==w?(d.setValue(o),!0):!1}function He(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Qe(o,d){var w=d.checked;return Se({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??o._wrapperState.initialChecked})}function Ct(o,d){var w=d.defaultValue==null?"":d.defaultValue,A=d.checked!=null?d.checked:d.defaultChecked;w=ye(d.value!=null?d.value:w),o._wrapperState={initialChecked:A,initialValue:w,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ft(o,d){d=d.checked,d!=null&&M(o,"checked",d,!1)}function Pt(o,d){Ft(o,d);var w=ye(d.value),A=d.type;if(w!=null)A==="number"?(w===0&&o.value===""||o.value!=w)&&(o.value=""+w):o.value!==""+w&&(o.value=""+w);else if(A==="submit"||A==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?_t(o,d.type,w):d.hasOwnProperty("defaultValue")&&_t(o,d.type,ye(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function At(o,d,w){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var A=d.type;if(!(A!=="submit"&&A!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,w||d===o.value||(o.value=d),o.defaultValue=d}w=o.name,w!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,w!==""&&(o.name=w)}function _t(o,d,w){(d!=="number"||He(o.ownerDocument)!==o)&&(w==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+w&&(o.defaultValue=""+w))}var Ai=Array.isArray;function $e(o,d,w,A){if(o=o.options,d){d={};for(var P=0;P<w.length;P++)d["$"+w[P]]=!0;for(w=0;w<o.length;w++)P=d.hasOwnProperty("$"+o[w].value),o[w].selected!==P&&(o[w].selected=P),P&&A&&(o[w].defaultSelected=!0)}else{for(w=""+ye(w),d=null,P=0;P<o.length;P++){if(o[P].value===w){o[P].selected=!0,A&&(o[P].defaultSelected=!0);return}d!==null||o[P].disabled||(d=o[P])}d!==null&&(d.selected=!0)}}function _e(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return Se({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function gt(o,d){var w=d.value;if(w==null){if(w=d.children,d=d.defaultValue,w!=null){if(d!=null)throw Error(r(92));if(Ai(w)){if(1<w.length)throw Error(r(93));w=w[0]}d=w}d==null&&(d=""),w=d}o._wrapperState={initialValue:ye(w)}}function Ut(o,d){var w=ye(d.value),A=ye(d.defaultValue);w!=null&&(w=""+w,w!==o.value&&(o.value=w),d.defaultValue==null&&o.defaultValue!==w&&(o.defaultValue=w)),A!=null&&(o.defaultValue=""+A)}function wr(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function zt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pr(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?zt(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Wn,mr=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,w,A,P){MSApp.execUnsafeLocalFunction(function(){return o(d,w,A,P)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(Wn=Wn||document.createElement("div"),Wn.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Wn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function ci(o,d){if(d){var w=o.firstChild;if(w&&w===o.lastChild&&w.nodeType===3){w.nodeValue=d;return}}o.textContent=d}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Za=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(o){Za.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),Br[d]=Br[o]})});function er(o,d,w){return d==null||typeof d=="boolean"||d===""?"":w||typeof d!="number"||d===0||Br.hasOwnProperty(o)&&Br[o]?(""+d).trim():d+"px"}function Le(o,d){o=o.style;for(var w in d)if(d.hasOwnProperty(w)){var A=w.indexOf("--")===0,P=er(w,d[w],A);w==="float"&&(w="cssFloat"),A?o.setProperty(w,P):o[w]=P}}var sr=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rt(o,d){if(d){if(sr[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function Dt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _i=null;function xt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Nt=null,ut=null,or=null;function Gi(o){if(o=xu(o)){if(typeof Nt!="function")throw Error(r(280));var d=o.stateNode;d&&(d=mf(d),Nt(o.stateNode,o.type,d))}}function Il(o){ut?or?or.push(o):or=[o]:ut=o}function ti(){if(ut){var o=ut,d=or;if(or=ut=null,Gi(o),d)for(o=0;o<d.length;o++)Gi(d[o])}}function So(o,d){return o(d)}function en(){}var ri=!1;function Qa(o,d,w){if(ri)return o(d,w);ri=!0;try{return So(o,d,w)}finally{ri=!1,(ut!==null||or!==null)&&(en(),ti())}}function En(o,d){var w=o.stateNode;if(w===null)return null;var A=mf(w);if(A===null)return null;w=A[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(o=o.type,A=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!A;break e;default:o=!1}if(o)return null;if(w&&typeof w!="function")throw Error(r(231,d,typeof w));return w}var Ao=!1;if(f)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ao=!1}function _o(o,d,w,A,P,j,z,K,J){var ve=Array.prototype.slice.call(arguments,3);try{d.apply(w,ve)}catch(Te){this.onError(Te)}}var br=!1,ui=null,un=!1,ze=null,Pa={onError:function(o){br=!0,ui=o}};function be(o,d,w,A,P,j,z,K,J){br=!1,ui=null,_o.apply(Pa,arguments)}function We(o,d,w,A,P,j,z,K,J){if(be.apply(this,arguments),br){if(br){var ve=ui;br=!1,ui=null}else throw Error(r(198));un||(un=!0,ze=ve)}}function at(o){var d=o,w=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(w=d.return),o=d.return;while(o)}return d.tag===3?w:null}function Er(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function Sr(o){if(at(o)!==o)throw Error(r(188))}function Fr(o){var d=o.alternate;if(!d){if(d=at(o),d===null)throw Error(r(188));return d!==o?null:o}for(var w=o,A=d;;){var P=w.return;if(P===null)break;var j=P.alternate;if(j===null){if(A=P.return,A!==null){w=A;continue}break}if(P.child===j.child){for(j=P.child;j;){if(j===w)return Sr(P),o;if(j===A)return Sr(P),d;j=j.sibling}throw Error(r(188))}if(w.return!==A.return)w=P,A=j;else{for(var z=!1,K=P.child;K;){if(K===w){z=!0,w=P,A=j;break}if(K===A){z=!0,A=P,w=j;break}K=K.sibling}if(!z){for(K=j.child;K;){if(K===w){z=!0,w=j,A=P;break}if(K===A){z=!0,A=j,w=P;break}K=K.sibling}if(!z)throw Error(r(189))}}if(w.alternate!==A)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?o:d}function Ja(o){return o=Fr(o),o!==null?Kd(o):null}function Kd(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Kd(o);if(d!==null)return d;o=o.sibling}return null}var Ci=t.unstable_scheduleCallback,Sn=t.unstable_cancelCallback,lr=t.unstable_shouldYield,Xd=t.unstable_requestPaint,Gt=t.unstable_now,Zc=t.unstable_getCurrentPriorityLevel,Ce=t.unstable_ImmediatePriority,Yd=t.unstable_UserBlockingPriority,tr=t.unstable_NormalPriority,Bs=t.unstable_LowPriority,Zd=t.unstable_IdlePriority,Mt=null,Et=null;function Tt(o){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Mt,o,void 0,(o.current.flags&128)===128)}catch{}}var ni=Math.clz32?Math.clz32:Gr,Qc=Math.log,Jc=Math.LN2;function Gr(o){return o>>>=0,o===0?32:31-(Qc(o)/Jc|0)|0}var Ni=64,Tl=4194304;function rr(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Oi(o,d){var w=o.pendingLanes;if(w===0)return 0;var A=0,P=o.suspendedLanes,j=o.pingedLanes,z=w&268435455;if(z!==0){var K=z&~P;K!==0?A=rr(K):(j&=z,j!==0&&(A=rr(j)))}else z=w&~P,z!==0?A=rr(z):j!==0&&(A=rr(j));if(A===0)return 0;if(d!==0&&d!==A&&(d&P)===0&&(P=A&-A,j=d&-d,P>=j||P===16&&(j&4194240)!==0))return d;if((A&4)!==0&&(A|=w&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=A;0<d;)w=31-ni(d),P=1<<w,A|=o[w],d&=~P;return A}function cm(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(o,d){for(var w=o.suspendedLanes,A=o.pingedLanes,P=o.expirationTimes,j=o.pendingLanes;0<j;){var z=31-ni(j),K=1<<z,J=P[z];J===-1?((K&w)===0||(K&A)!==0)&&(P[z]=cm(K,d)):J<=d&&(o.expiredLanes|=K),j&=~K}}function Kt(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function dn(){var o=Ni;return Ni<<=1,(Ni&4194240)===0&&(Ni=64),o}function le(o){for(var d=[],w=0;31>w;w++)d.push(o);return d}function q(o,d,w){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-ni(d),o[d]=w}function ot(o,d){var w=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var A=o.eventTimes;for(o=o.expirationTimes;0<w;){var P=31-ni(w),j=1<<P;d[P]=0,A[P]=-1,o[P]=-1,w&=~j}}function Ur(o,d){var w=o.entangledLanes|=d;for(o=o.entanglements;w;){var A=31-ni(w),P=1<<A;P&d|o[A]&d&&(o[A]|=d),w&=~P}}var St=0;function Qd(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var kl,Hn,ct,cr,eu,tu=!1,Us=[],Ii=null,Ki=null,ja=null,Ar=new Map,ha=new Map,jn=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jd(o,d){switch(o){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Ar.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(d.pointerId)}}function yt(o,d,w,A,P,j){return o===null||o.nativeEvent!==j?(o={blockedOn:d,domEventName:w,eventSystemFlags:A,nativeEvent:j,targetContainers:[P]},d!==null&&(d=xu(d),d!==null&&Hn(d)),o):(o.eventSystemFlags|=A,d=o.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),o)}function fn(o,d,w,A,P){switch(d){case"focusin":return Ii=yt(Ii,o,d,w,A,P),!0;case"dragenter":return Ki=yt(Ki,o,d,w,A,P),!0;case"mouseover":return ja=yt(ja,o,d,w,A,P),!0;case"pointerover":var j=P.pointerId;return Ar.set(j,yt(Ar.get(j)||null,o,d,w,A,P)),!0;case"gotpointercapture":return j=P.pointerId,ha.set(j,yt(ha.get(j)||null,o,d,w,A,P)),!0}return!1}function ef(o){var d=Mo(o.target);if(d!==null){var w=at(d);if(w!==null){if(d=w.tag,d===13){if(d=Er(w),d!==null){o.blockedOn=d,eu(o.priority,function(){ct(w)});return}}else if(d===3&&w.stateNode.current.memoizedState.isDehydrated){o.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zs(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var w=Pl(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(w===null){w=o.nativeEvent;var A=new w.constructor(w.type,w);_i=A,w.target.dispatchEvent(A),_i=null}else return d=xu(w),d!==null&&Hn(d),o.blockedOn=w,!1;d.shift()}return!0}function ru(o,d,w){zs(o)&&w.delete(d)}function es(){tu=!1,Ii!==null&&zs(Ii)&&(Ii=null),Ki!==null&&zs(Ki)&&(Ki=null),ja!==null&&zs(ja)&&(ja=null),Ar.forEach(ru),ha.forEach(ru)}function Co(o,d){o.blockedOn===d&&(o.blockedOn=null,tu||(tu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,es)))}function pa(o){function d(P){return Co(P,o)}if(0<Us.length){Co(Us[0],o);for(var w=1;w<Us.length;w++){var A=Us[w];A.blockedOn===o&&(A.blockedOn=null)}}for(Ii!==null&&Co(Ii,o),Ki!==null&&Co(Ki,o),ja!==null&&Co(ja,o),Ar.forEach(d),ha.forEach(d),w=0;w<jn.length;w++)A=jn[w],A.blockedOn===o&&(A.blockedOn=null);for(;0<jn.length&&(w=jn[0],w.blockedOn===null);)ef(w),w.blockedOn===null&&jn.shift()}var Xi=U.ReactCurrentBatchConfig,Ra=!0;function tf(o,d,w,A){var P=St,j=Xi.transition;Xi.transition=null;try{St=1,ts(o,d,w,A)}finally{St=P,Xi.transition=j}}function No(o,d,w,A){var P=St,j=Xi.transition;Xi.transition=null;try{St=4,ts(o,d,w,A)}finally{St=P,Xi.transition=j}}function ts(o,d,w,A){if(Ra){var P=Pl(o,d,w,A);if(P===null)ym(o,d,A,hn,w),Jd(o,A);else if(fn(P,o,d,w,A))A.stopPropagation();else if(Jd(o,A),d&4&&-1<pt.indexOf(o)){for(;P!==null;){var j=xu(P);if(j!==null&&kl(j),j=Pl(o,d,w,A),j===null&&ym(o,d,A,hn,w),j===P)break;P=j}P!==null&&A.stopPropagation()}else ym(o,d,A,null,w)}}var hn=null;function Pl(o,d,w,A){if(hn=null,o=xt(A),o=Mo(o),o!==null)if(d=at(o),d===null)o=null;else if(w=d.tag,w===13){if(o=Er(d),o!==null)return o;o=null}else if(w===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return hn=o,null}function nu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zc()){case Ce:return 1;case Yd:return 4;case tr:case Bs:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var ma=null,iu=null,jl=null;function rf(){if(jl)return jl;var o,d=iu,w=d.length,A,P="value"in ma?ma.value:ma.textContent,j=P.length;for(o=0;o<w&&d[o]===P[o];o++);var z=w-o;for(A=1;A<=z&&d[w-A]===P[j-A];A++);return jl=P.slice(o,1<A?1-A:void 0)}function Lt(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Oo(){return!0}function Io(){return!1}function zr(o){function d(w,A,P,j,z){this._reactName=w,this._targetInst=P,this.type=A,this.nativeEvent=j,this.target=z,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(w=o[K],this[K]=w?w(j):j[K]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Oo:Io,this.isPropagationStopped=Io,this}return Se(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),d}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ge=zr($s),bt=Se({},$s,{view:0,detail:0}),pn=zr(bt),Ws,Rl,To,Ml=Se({},bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==To&&(To&&o.type==="mousemove"?(Ws=o.screenX-To.screenX,Rl=o.screenY-To.screenY):Rl=Ws=0,To=o),Ws)},movementY:function(o){return"movementY"in o?o.movementY:Rl}}),nf=zr(Ml),au=Se({},Ml,{dataTransfer:0}),Kr=zr(au),su=Se({},bt,{relatedTarget:0}),ur=zr(su),Dl=Se({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),rs=zr(Dl),Yt=Se({},$s,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),dt=zr(Yt),um=Se({},$s,{data:0}),Qt=zr(um),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yi(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=dm[o])?!!d[o]:!1}function ko(){return Yi}var af=Se({},bt,{key:function(o){if(o.key){var d=ns[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Lt(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vs[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(o){return o.type==="keypress"?Lt(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lt(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ou=zr(af),sf=Se({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=zr(sf),fm=Se({},bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),Hs=zr(fm),cu=Se({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=zr(cu),Po=Se({},Ml,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),pm=zr(Po),Ma=[9,13,27,32],qs=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var of=f&&"TextEvent"in window&&!An,Ti=f&&(!qs||An&&8<An&&11>=An),lf=" ",Ll=!1;function cf(o,d){switch(o){case"keyup":return Ma.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Rn=!1;function mm(o,d){switch(o){case"compositionend":return uu(d);case"keypress":return d.which!==32?null:(Ll=!0,lf);case"textInput":return o=d.data,o===lf&&Ll?null:o;default:return null}}function du(o,d){if(Rn)return o==="compositionend"||!qs&&cf(o,d)?(o=rf(),jl=iu=ma=null,Rn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ti&&d.locale!=="ko"?null:d.data;default:return null}}var jo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!jo[o.type]:d==="textarea"}function Ro(o,d,w,A){Il(A),d=ff(d,"onChange"),0<d.length&&(w=new ge("onChange","change",null,w,A),o.push({event:w,listeners:d}))}var B=null,a=null;function l(o){Eb(o,0)}function u(o){var d=Ul(o);if(we(d))return o}function h(o,d){if(o==="change")return d}var g=!1;if(f){var y;if(f){var E="oninput"in document;if(!E){var C=document.createElement("div");C.setAttribute("oninput","return;"),E=typeof C.oninput=="function"}y=E}else y=!1;g=y&&(!document.documentMode||9<document.documentMode)}function T(){B&&(B.detachEvent("onpropertychange",D),a=B=null)}function D(o){if(o.propertyName==="value"&&u(a)){var d=[];Ro(d,a,o,xt(o)),Qa(l,d)}}function F(o,d,w){o==="focusin"?(T(),B=d,a=w,B.attachEvent("onpropertychange",D)):o==="focusout"&&T()}function $(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return u(a)}function G(o,d){if(o==="click")return u(d)}function Y(o,d){if(o==="input"||o==="change")return u(d)}function ee(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var ae=typeof Object.is=="function"?Object.is:ee;function me(o,d){if(ae(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var w=Object.keys(o),A=Object.keys(d);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var P=w[A];if(!p.call(d,P)||!ae(o[P],d[P]))return!1}return!0}function je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Re(o,d){var w=je(o);o=0;for(var A;w;){if(w.nodeType===3){if(A=o+w.textContent.length,o<=d&&A>=d)return{node:w,offset:d-o};o=A}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=je(w)}}function Oe(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Oe(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function Ot(){for(var o=window,d=He();d instanceof o.HTMLIFrameElement;){try{var w=typeof d.contentWindow.location.href=="string"}catch{w=!1}if(w)o=d.contentWindow;else break;d=He(o.document)}return d}function wt(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function qn(o){var d=Ot(),w=o.focusedElem,A=o.selectionRange;if(d!==w&&w&&w.ownerDocument&&Oe(w.ownerDocument.documentElement,w)){if(A!==null&&wt(w)){if(d=A.start,o=A.end,o===void 0&&(o=d),"selectionStart"in w)w.selectionStart=d,w.selectionEnd=Math.min(o,w.value.length);else if(o=(d=w.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var P=w.textContent.length,j=Math.min(A.start,P);A=A.end===void 0?j:Math.min(A.end,P),!o.extend&&j>A&&(P=A,A=j,j=P),P=Re(w,j);var z=Re(w,A);P&&z&&(o.rangeCount!==1||o.anchorNode!==P.node||o.anchorOffset!==P.offset||o.focusNode!==z.node||o.focusOffset!==z.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),o.removeAllRanges(),j>A?(o.addRange(d),o.extend(z.node,z.offset)):(d.setEnd(z.node,z.offset),o.addRange(d)))}}for(d=[],o=w;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<d.length;w++)o=d[w],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var ki=f&&"documentMode"in document&&11>=document.documentMode,Xr=null,Ht=null,jr=null,Mn=!1;function is(o,d,w){var A=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Mn||Xr==null||Xr!==He(A)||(A=Xr,"selectionStart"in A&&wt(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),jr&&me(jr,A)||(jr=A,A=ff(Ht,"onSelect"),0<A.length&&(d=new ge("onSelect","select",null,d,w),o.push({event:d,listeners:A}),d.target=Xr)))}function ga(o,d){var w={};return w[o.toLowerCase()]=d.toLowerCase(),w["Webkit"+o]="webkit"+d,w["Moz"+o]="moz"+d,w}var Gs={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},fu={},pb={};f&&(pb=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function uf(o){if(fu[o])return fu[o];if(!Gs[o])return o;var d=Gs[o],w;for(w in d)if(d.hasOwnProperty(w)&&w in pb)return fu[o]=d[w];return o}var mb=uf("animationend"),gb=uf("animationiteration"),xb=uf("animationstart"),vb=uf("transitionend"),yb=new Map,wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(o,d){yb.set(o,d),s(d,[o])}for(var gm=0;gm<wb.length;gm++){var xm=wb[gm],y8=xm.toLowerCase(),w8=xm[0].toUpperCase()+xm.slice(1);Ks(y8,"on"+w8)}Ks(mb,"onAnimationEnd"),Ks(gb,"onAnimationIteration"),Ks(xb,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(vb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b8=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function bb(o,d,w){var A=o.type||"unknown-event";o.currentTarget=w,We(A,d,void 0,o),o.currentTarget=null}function Eb(o,d){d=(d&4)!==0;for(var w=0;w<o.length;w++){var A=o[w],P=A.event;A=A.listeners;e:{var j=void 0;if(d)for(var z=A.length-1;0<=z;z--){var K=A[z],J=K.instance,ve=K.currentTarget;if(K=K.listener,J!==j&&P.isPropagationStopped())break e;bb(P,K,ve),j=J}else for(z=0;z<A.length;z++){if(K=A[z],J=K.instance,ve=K.currentTarget,K=K.listener,J!==j&&P.isPropagationStopped())break e;bb(P,K,ve),j=J}}}if(un)throw o=ze,un=!1,ze=null,o}function gr(o,d){var w=d[_m];w===void 0&&(w=d[_m]=new Set);var A=o+"__bubble";w.has(A)||(Sb(d,o,2,!1),w.add(A))}function vm(o,d,w){var A=0;d&&(A|=4),Sb(w,o,A,d)}var df="_reactListening"+Math.random().toString(36).slice(2);function pu(o){if(!o[df]){o[df]=!0,n.forEach(function(w){w!=="selectionchange"&&(b8.has(w)||vm(w,!1,o),vm(w,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[df]||(d[df]=!0,vm("selectionchange",!1,d))}}function Sb(o,d,w,A){switch(nu(d)){case 1:var P=tf;break;case 4:P=No;break;default:P=ts}w=P.bind(null,d,w,o),P=void 0,!Ao||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),A?P!==void 0?o.addEventListener(d,w,{capture:!0,passive:P}):o.addEventListener(d,w,!0):P!==void 0?o.addEventListener(d,w,{passive:P}):o.addEventListener(d,w,!1)}function ym(o,d,w,A,P){var j=A;if((d&1)===0&&(d&2)===0&&A!==null)e:for(;;){if(A===null)return;var z=A.tag;if(z===3||z===4){var K=A.stateNode.containerInfo;if(K===P||K.nodeType===8&&K.parentNode===P)break;if(z===4)for(z=A.return;z!==null;){var J=z.tag;if((J===3||J===4)&&(J=z.stateNode.containerInfo,J===P||J.nodeType===8&&J.parentNode===P))return;z=z.return}for(;K!==null;){if(z=Mo(K),z===null)return;if(J=z.tag,J===5||J===6){A=j=z;continue e}K=K.parentNode}}A=A.return}Qa(function(){var ve=j,Te=xt(w),Pe=[];e:{var Ne=yb.get(o);if(Ne!==void 0){var Ve=ge,et=o;switch(o){case"keypress":if(Lt(w)===0)break e;case"keydown":case"keyup":Ve=ou;break;case"focusin":et="focus",Ve=ur;break;case"focusout":et="blur",Ve=ur;break;case"beforeblur":case"afterblur":Ve=ur;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Kr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Hs;break;case mb:case gb:case xb:Ve=rs;break;case vb:Ve=hm;break;case"scroll":Ve=pn;break;case"wheel":Ve=pm;break;case"copy":case"cut":case"paste":Ve=dt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=lu}var tt=(d&4)!==0,Yr=!tt&&o==="scroll",ce=tt?Ne!==null?Ne+"Capture":null:Ne;tt=[];for(var ne=ve,he;ne!==null;){he=ne;var De=he.stateNode;if(he.tag===5&&De!==null&&(he=De,ce!==null&&(De=En(ne,ce),De!=null&&tt.push(mu(ne,De,he)))),Yr)break;ne=ne.return}0<tt.length&&(Ne=new Ve(Ne,et,null,w,Te),Pe.push({event:Ne,listeners:tt}))}}if((d&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",Ne&&w!==_i&&(et=w.relatedTarget||w.fromElement)&&(Mo(et)||et[as]))break e;if((Ve||Ne)&&(Ne=Te.window===Te?Te:(Ne=Te.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ve?(et=w.relatedTarget||w.toElement,Ve=ve,et=et?Mo(et):null,et!==null&&(Yr=at(et),et!==Yr||et.tag!==5&&et.tag!==6)&&(et=null)):(Ve=null,et=ve),Ve!==et)){if(tt=nf,De="onMouseLeave",ce="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(tt=lu,De="onPointerLeave",ce="onPointerEnter",ne="pointer"),Yr=Ve==null?Ne:Ul(Ve),he=et==null?Ne:Ul(et),Ne=new tt(De,ne+"leave",Ve,w,Te),Ne.target=Yr,Ne.relatedTarget=he,De=null,Mo(Te)===ve&&(tt=new tt(ce,ne+"enter",et,w,Te),tt.target=he,tt.relatedTarget=Yr,De=tt),Yr=De,Ve&&et)t:{for(tt=Ve,ce=et,ne=0,he=tt;he;he=Bl(he))ne++;for(he=0,De=ce;De;De=Bl(De))he++;for(;0<ne-he;)tt=Bl(tt),ne--;for(;0<he-ne;)ce=Bl(ce),he--;for(;ne--;){if(tt===ce||ce!==null&&tt===ce.alternate)break t;tt=Bl(tt),ce=Bl(ce)}tt=null}else tt=null;Ve!==null&&Ab(Pe,Ne,Ve,tt,!1),et!==null&&Yr!==null&&Ab(Pe,Yr,et,tt,!0)}}e:{if(Ne=ve?Ul(ve):window,Ve=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ne.type==="file")var nt=h;else if(jt(Ne))if(g)nt=Y;else{nt=$;var ft=F}else(Ve=Ne.nodeName)&&Ve.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(nt=G);if(nt&&(nt=nt(o,ve))){Ro(Pe,nt,w,Te);break e}ft&&ft(o,Ne,ve),o==="focusout"&&(ft=Ne._wrapperState)&&ft.controlled&&Ne.type==="number"&&_t(Ne,"number",Ne.value)}switch(ft=ve?Ul(ve):window,o){case"focusin":(jt(ft)||ft.contentEditable==="true")&&(Xr=ft,Ht=ve,jr=null);break;case"focusout":jr=Ht=Xr=null;break;case"mousedown":Mn=!0;break;case"contextmenu":case"mouseup":case"dragend":Mn=!1,is(Pe,w,Te);break;case"selectionchange":if(ki)break;case"keydown":case"keyup":is(Pe,w,Te)}var ht;if(qs)e:{switch(o){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else Rn?cf(o,w)&&(vt="onCompositionEnd"):o==="keydown"&&w.keyCode===229&&(vt="onCompositionStart");vt&&(Ti&&w.locale!=="ko"&&(Rn||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Rn&&(ht=rf()):(ma=Te,iu="value"in ma?ma.value:ma.textContent,Rn=!0)),ft=ff(ve,vt),0<ft.length&&(vt=new Qt(vt,o,null,w,Te),Pe.push({event:vt,listeners:ft}),ht?vt.data=ht:(ht=uu(w),ht!==null&&(vt.data=ht)))),(ht=of?mm(o,w):du(o,w))&&(ve=ff(ve,"onBeforeInput"),0<ve.length&&(Te=new Qt("onBeforeInput","beforeinput",null,w,Te),Pe.push({event:Te,listeners:ve}),Te.data=ht))}Eb(Pe,d)})}function mu(o,d,w){return{instance:o,listener:d,currentTarget:w}}function ff(o,d){for(var w=d+"Capture",A=[];o!==null;){var P=o,j=P.stateNode;P.tag===5&&j!==null&&(P=j,j=En(o,w),j!=null&&A.unshift(mu(o,j,P)),j=En(o,d),j!=null&&A.push(mu(o,j,P))),o=o.return}return A}function Bl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Ab(o,d,w,A,P){for(var j=d._reactName,z=[];w!==null&&w!==A;){var K=w,J=K.alternate,ve=K.stateNode;if(J!==null&&J===A)break;K.tag===5&&ve!==null&&(K=ve,P?(J=En(w,j),J!=null&&z.unshift(mu(w,J,K))):P||(J=En(w,j),J!=null&&z.push(mu(w,J,K)))),w=w.return}z.length!==0&&o.push({event:d,listeners:z})}var E8=/\r\n?/g,S8=/\u0000|\uFFFD/g;function _b(o){return(typeof o=="string"?o:""+o).replace(E8,`
`).replace(S8,"")}function hf(o,d,w){if(d=_b(d),_b(o)!==d&&w)throw Error(r(425))}function pf(){}var wm=null,bm=null;function Em(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sm=typeof setTimeout=="function"?setTimeout:void 0,A8=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,_8=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(o){return Cb.resolve(null).then(o).catch(C8)}:Sm;function C8(o){setTimeout(function(){throw o})}function Am(o,d){var w=d,A=0;do{var P=w.nextSibling;if(o.removeChild(w),P&&P.nodeType===8)if(w=P.data,w==="/$"){if(A===0){o.removeChild(P),pa(d);return}A--}else w!=="$"&&w!=="$?"&&w!=="$!"||A++;w=P}while(w);pa(d)}function Xs(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function Nb(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="$"||w==="$!"||w==="$?"){if(d===0)return o;d--}else w==="/$"&&d++}o=o.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),Da="__reactFiber$"+Fl,gu="__reactProps$"+Fl,as="__reactContainer$"+Fl,_m="__reactEvents$"+Fl,N8="__reactListeners$"+Fl,O8="__reactHandles$"+Fl;function Mo(o){var d=o[Da];if(d)return d;for(var w=o.parentNode;w;){if(d=w[as]||w[Da]){if(w=d.alternate,d.child!==null||w!==null&&w.child!==null)for(o=Nb(o);o!==null;){if(w=o[Da])return w;o=Nb(o)}return d}o=w,w=o.parentNode}return null}function xu(o){return o=o[Da]||o[as],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ul(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function mf(o){return o[gu]||null}var Cm=[],zl=-1;function Ys(o){return{current:o}}function xr(o){0>zl||(o.current=Cm[zl],Cm[zl]=null,zl--)}function dr(o,d){zl++,Cm[zl]=o.current,o.current=d}var Zs={},Gn=Ys(Zs),di=Ys(!1),Do=Zs;function $l(o,d){var w=o.type.contextTypes;if(!w)return Zs;var A=o.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var P={},j;for(j in w)P[j]=d[j];return A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=P),P}function fi(o){return o=o.childContextTypes,o!=null}function gf(){xr(di),xr(Gn)}function Ob(o,d,w){if(Gn.current!==Zs)throw Error(r(168));dr(Gn,d),dr(di,w)}function Ib(o,d,w){var A=o.stateNode;if(d=d.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var P in A)if(!(P in d))throw Error(r(108,lt(o)||"Unknown",P));return Se({},w,A)}function xf(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Zs,Do=Gn.current,dr(Gn,o),dr(di,di.current),!0}function Tb(o,d,w){var A=o.stateNode;if(!A)throw Error(r(169));w?(o=Ib(o,d,Do),A.__reactInternalMemoizedMergedChildContext=o,xr(di),xr(Gn),dr(Gn,o)):xr(di),dr(di,w)}var ss=null,vf=!1,Nm=!1;function kb(o){ss===null?ss=[o]:ss.push(o)}function I8(o){vf=!0,kb(o)}function Qs(){if(!Nm&&ss!==null){Nm=!0;var o=0,d=St;try{var w=ss;for(St=1;o<w.length;o++){var A=w[o];do A=A(!0);while(A!==null)}ss=null,vf=!1}catch(P){throw ss!==null&&(ss=ss.slice(o+1)),Ci(Ce,Qs),P}finally{St=d,Nm=!1}}return null}var Wl=[],Vl=0,yf=null,wf=0,Zi=[],Qi=0,Lo=null,os=1,ls="";function Bo(o,d){Wl[Vl++]=wf,Wl[Vl++]=yf,yf=o,wf=d}function Pb(o,d,w){Zi[Qi++]=os,Zi[Qi++]=ls,Zi[Qi++]=Lo,Lo=o;var A=os;o=ls;var P=32-ni(A)-1;A&=~(1<<P),w+=1;var j=32-ni(d)+P;if(30<j){var z=P-P%5;j=(A&(1<<z)-1).toString(32),A>>=z,P-=z,os=1<<32-ni(d)+P|w<<P|A,ls=j+o}else os=1<<j|w<<P|A,ls=o}function Om(o){o.return!==null&&(Bo(o,1),Pb(o,1,0))}function Im(o){for(;o===yf;)yf=Wl[--Vl],Wl[Vl]=null,wf=Wl[--Vl],Wl[Vl]=null;for(;o===Lo;)Lo=Zi[--Qi],Zi[Qi]=null,ls=Zi[--Qi],Zi[Qi]=null,os=Zi[--Qi],Zi[Qi]=null}var Pi=null,ji=null,_r=!1,xa=null;function jb(o,d){var w=ra(5,null,null,0);w.elementType="DELETED",w.stateNode=d,w.return=o,d=o.deletions,d===null?(o.deletions=[w],o.flags|=16):d.push(w)}function Rb(o,d){switch(o.tag){case 5:var w=o.type;return d=d.nodeType!==1||w.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,Pi=o,ji=Xs(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,Pi=o,ji=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(w=Lo!==null?{id:os,overflow:ls}:null,o.memoizedState={dehydrated:d,treeContext:w,retryLane:1073741824},w=ra(18,null,null,0),w.stateNode=d,w.return=o,o.child=w,Pi=o,ji=null,!0):!1;default:return!1}}function Tm(o){return(o.mode&1)!==0&&(o.flags&128)===0}function km(o){if(_r){var d=ji;if(d){var w=d;if(!Rb(o,d)){if(Tm(o))throw Error(r(418));d=Xs(w.nextSibling);var A=Pi;d&&Rb(o,d)?jb(A,w):(o.flags=o.flags&-4097|2,_r=!1,Pi=o)}}else{if(Tm(o))throw Error(r(418));o.flags=o.flags&-4097|2,_r=!1,Pi=o}}}function Mb(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Pi=o}function bf(o){if(o!==Pi)return!1;if(!_r)return Mb(o),_r=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Em(o.type,o.memoizedProps)),d&&(d=ji)){if(Tm(o))throw Db(),Error(r(418));for(;d;)jb(o,d),d=Xs(d.nextSibling)}if(Mb(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var w=o.data;if(w==="/$"){if(d===0){ji=Xs(o.nextSibling);break e}d--}else w!=="$"&&w!=="$!"&&w!=="$?"||d++}o=o.nextSibling}ji=null}}else ji=Pi?Xs(o.stateNode.nextSibling):null;return!0}function Db(){for(var o=ji;o;)o=Xs(o.nextSibling)}function Hl(){ji=Pi=null,_r=!1}function Pm(o){xa===null?xa=[o]:xa.push(o)}var T8=U.ReactCurrentBatchConfig;function vu(o,d,w){if(o=w.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var A=w.stateNode}if(!A)throw Error(r(147,o));var P=A,j=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===j?d.ref:(d=function(z){var K=P.refs;z===null?delete K[j]:K[j]=z},d._stringRef=j,d)}if(typeof o!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,o))}return o}function Ef(o,d){throw o=Object.prototype.toString.call(d),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function Lb(o){var d=o._init;return d(o._payload)}function Bb(o){function d(ce,ne){if(o){var he=ce.deletions;he===null?(ce.deletions=[ne],ce.flags|=16):he.push(ne)}}function w(ce,ne){if(!o)return null;for(;ne!==null;)d(ce,ne),ne=ne.sibling;return null}function A(ce,ne){for(ce=new Map;ne!==null;)ne.key!==null?ce.set(ne.key,ne):ce.set(ne.index,ne),ne=ne.sibling;return ce}function P(ce,ne){return ce=so(ce,ne),ce.index=0,ce.sibling=null,ce}function j(ce,ne,he){return ce.index=he,o?(he=ce.alternate,he!==null?(he=he.index,he<ne?(ce.flags|=2,ne):he):(ce.flags|=2,ne)):(ce.flags|=1048576,ne)}function z(ce){return o&&ce.alternate===null&&(ce.flags|=2),ce}function K(ce,ne,he,De){return ne===null||ne.tag!==6?(ne=Sg(he,ce.mode,De),ne.return=ce,ne):(ne=P(ne,he),ne.return=ce,ne)}function J(ce,ne,he,De){var nt=he.type;return nt===H?Te(ce,ne,he.props.children,De,he.key):ne!==null&&(ne.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===ie&&Lb(nt)===ne.type)?(De=P(ne,he.props),De.ref=vu(ce,ne,he),De.return=ce,De):(De=qf(he.type,he.key,he.props,null,ce.mode,De),De.ref=vu(ce,ne,he),De.return=ce,De)}function ve(ce,ne,he,De){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=Ag(he,ce.mode,De),ne.return=ce,ne):(ne=P(ne,he.children||[]),ne.return=ce,ne)}function Te(ce,ne,he,De,nt){return ne===null||ne.tag!==7?(ne=qo(he,ce.mode,De,nt),ne.return=ce,ne):(ne=P(ne,he),ne.return=ce,ne)}function Pe(ce,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return ne=Sg(""+ne,ce.mode,he),ne.return=ce,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case W:return he=qf(ne.type,ne.key,ne.props,null,ce.mode,he),he.ref=vu(ce,null,ne),he.return=ce,he;case V:return ne=Ag(ne,ce.mode,he),ne.return=ce,ne;case ie:var De=ne._init;return Pe(ce,De(ne._payload),he)}if(Ai(ne)||xe(ne))return ne=qo(ne,ce.mode,he,null),ne.return=ce,ne;Ef(ce,ne)}return null}function Ne(ce,ne,he,De){var nt=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return nt!==null?null:K(ce,ne,""+he,De);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case W:return he.key===nt?J(ce,ne,he,De):null;case V:return he.key===nt?ve(ce,ne,he,De):null;case ie:return nt=he._init,Ne(ce,ne,nt(he._payload),De)}if(Ai(he)||xe(he))return nt!==null?null:Te(ce,ne,he,De,null);Ef(ce,he)}return null}function Ve(ce,ne,he,De,nt){if(typeof De=="string"&&De!==""||typeof De=="number")return ce=ce.get(he)||null,K(ne,ce,""+De,nt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case W:return ce=ce.get(De.key===null?he:De.key)||null,J(ne,ce,De,nt);case V:return ce=ce.get(De.key===null?he:De.key)||null,ve(ne,ce,De,nt);case ie:var ft=De._init;return Ve(ce,ne,he,ft(De._payload),nt)}if(Ai(De)||xe(De))return ce=ce.get(he)||null,Te(ne,ce,De,nt,null);Ef(ne,De)}return null}function et(ce,ne,he,De){for(var nt=null,ft=null,ht=ne,vt=ne=0,Nn=null;ht!==null&&vt<he.length;vt++){ht.index>vt?(Nn=ht,ht=null):Nn=ht.sibling;var $t=Ne(ce,ht,he[vt],De);if($t===null){ht===null&&(ht=Nn);break}o&&ht&&$t.alternate===null&&d(ce,ht),ne=j($t,ne,vt),ft===null?nt=$t:ft.sibling=$t,ft=$t,ht=Nn}if(vt===he.length)return w(ce,ht),_r&&Bo(ce,vt),nt;if(ht===null){for(;vt<he.length;vt++)ht=Pe(ce,he[vt],De),ht!==null&&(ne=j(ht,ne,vt),ft===null?nt=ht:ft.sibling=ht,ft=ht);return _r&&Bo(ce,vt),nt}for(ht=A(ce,ht);vt<he.length;vt++)Nn=Ve(ht,ce,vt,he[vt],De),Nn!==null&&(o&&Nn.alternate!==null&&ht.delete(Nn.key===null?vt:Nn.key),ne=j(Nn,ne,vt),ft===null?nt=Nn:ft.sibling=Nn,ft=Nn);return o&&ht.forEach(function(oo){return d(ce,oo)}),_r&&Bo(ce,vt),nt}function tt(ce,ne,he,De){var nt=xe(he);if(typeof nt!="function")throw Error(r(150));if(he=nt.call(he),he==null)throw Error(r(151));for(var ft=nt=null,ht=ne,vt=ne=0,Nn=null,$t=he.next();ht!==null&&!$t.done;vt++,$t=he.next()){ht.index>vt?(Nn=ht,ht=null):Nn=ht.sibling;var oo=Ne(ce,ht,$t.value,De);if(oo===null){ht===null&&(ht=Nn);break}o&&ht&&oo.alternate===null&&d(ce,ht),ne=j(oo,ne,vt),ft===null?nt=oo:ft.sibling=oo,ft=oo,ht=Nn}if($t.done)return w(ce,ht),_r&&Bo(ce,vt),nt;if(ht===null){for(;!$t.done;vt++,$t=he.next())$t=Pe(ce,$t.value,De),$t!==null&&(ne=j($t,ne,vt),ft===null?nt=$t:ft.sibling=$t,ft=$t);return _r&&Bo(ce,vt),nt}for(ht=A(ce,ht);!$t.done;vt++,$t=he.next())$t=Ve(ht,ce,vt,$t.value,De),$t!==null&&(o&&$t.alternate!==null&&ht.delete($t.key===null?vt:$t.key),ne=j($t,ne,vt),ft===null?nt=$t:ft.sibling=$t,ft=$t);return o&&ht.forEach(function(cj){return d(ce,cj)}),_r&&Bo(ce,vt),nt}function Yr(ce,ne,he,De){if(typeof he=="object"&&he!==null&&he.type===H&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case W:e:{for(var nt=he.key,ft=ne;ft!==null;){if(ft.key===nt){if(nt=he.type,nt===H){if(ft.tag===7){w(ce,ft.sibling),ne=P(ft,he.props.children),ne.return=ce,ce=ne;break e}}else if(ft.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===ie&&Lb(nt)===ft.type){w(ce,ft.sibling),ne=P(ft,he.props),ne.ref=vu(ce,ft,he),ne.return=ce,ce=ne;break e}w(ce,ft);break}else d(ce,ft);ft=ft.sibling}he.type===H?(ne=qo(he.props.children,ce.mode,De,he.key),ne.return=ce,ce=ne):(De=qf(he.type,he.key,he.props,null,ce.mode,De),De.ref=vu(ce,ne,he),De.return=ce,ce=De)}return z(ce);case V:e:{for(ft=he.key;ne!==null;){if(ne.key===ft)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){w(ce,ne.sibling),ne=P(ne,he.children||[]),ne.return=ce,ce=ne;break e}else{w(ce,ne);break}else d(ce,ne);ne=ne.sibling}ne=Ag(he,ce.mode,De),ne.return=ce,ce=ne}return z(ce);case ie:return ft=he._init,Yr(ce,ne,ft(he._payload),De)}if(Ai(he))return et(ce,ne,he,De);if(xe(he))return tt(ce,ne,he,De);Ef(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ne!==null&&ne.tag===6?(w(ce,ne.sibling),ne=P(ne,he),ne.return=ce,ce=ne):(w(ce,ne),ne=Sg(he,ce.mode,De),ne.return=ce,ce=ne),z(ce)):w(ce,ne)}return Yr}var ql=Bb(!0),Fb=Bb(!1),Sf=Ys(null),Af=null,Gl=null,jm=null;function Rm(){jm=Gl=Af=null}function Mm(o){var d=Sf.current;xr(Sf),o._currentValue=d}function Dm(o,d,w){for(;o!==null;){var A=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,A!==null&&(A.childLanes|=d)):A!==null&&(A.childLanes&d)!==d&&(A.childLanes|=d),o===w)break;o=o.return}}function Kl(o,d){Af=o,jm=Gl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(hi=!0),o.firstContext=null)}function Ji(o){var d=o._currentValue;if(jm!==o)if(o={context:o,memoizedValue:d,next:null},Gl===null){if(Af===null)throw Error(r(308));Gl=o,Af.dependencies={lanes:0,firstContext:o}}else Gl=Gl.next=o;return d}var Fo=null;function Lm(o){Fo===null?Fo=[o]:Fo.push(o)}function Ub(o,d,w,A){var P=d.interleaved;return P===null?(w.next=w,Lm(d)):(w.next=P.next,P.next=w),d.interleaved=w,cs(o,A)}function cs(o,d){o.lanes|=d;var w=o.alternate;for(w!==null&&(w.lanes|=d),w=o,o=o.return;o!==null;)o.childLanes|=d,w=o.alternate,w!==null&&(w.childLanes|=d),w=o,o=o.return;return w.tag===3?w.stateNode:null}var Js=!1;function Bm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zb(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function us(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function eo(o,d,w){var A=o.updateQueue;if(A===null)return null;if(A=A.shared,(Bt&2)!==0){var P=A.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),A.pending=d,cs(o,w)}return P=A.interleaved,P===null?(d.next=d,Lm(A)):(d.next=P.next,P.next=d),A.interleaved=d,cs(o,w)}function _f(o,d,w){if(d=d.updateQueue,d!==null&&(d=d.shared,(w&4194240)!==0)){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,Ur(o,w)}}function $b(o,d){var w=o.updateQueue,A=o.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var P=null,j=null;if(w=w.firstBaseUpdate,w!==null){do{var z={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};j===null?P=j=z:j=j.next=z,w=w.next}while(w!==null);j===null?P=j=d:j=j.next=d}else P=j=d;w={baseState:A.baseState,firstBaseUpdate:P,lastBaseUpdate:j,shared:A.shared,effects:A.effects},o.updateQueue=w;return}o=w.lastBaseUpdate,o===null?w.firstBaseUpdate=d:o.next=d,w.lastBaseUpdate=d}function Cf(o,d,w,A){var P=o.updateQueue;Js=!1;var j=P.firstBaseUpdate,z=P.lastBaseUpdate,K=P.shared.pending;if(K!==null){P.shared.pending=null;var J=K,ve=J.next;J.next=null,z===null?j=ve:z.next=ve,z=J;var Te=o.alternate;Te!==null&&(Te=Te.updateQueue,K=Te.lastBaseUpdate,K!==z&&(K===null?Te.firstBaseUpdate=ve:K.next=ve,Te.lastBaseUpdate=J))}if(j!==null){var Pe=P.baseState;z=0,Te=ve=J=null,K=j;do{var Ne=K.lane,Ve=K.eventTime;if((A&Ne)===Ne){Te!==null&&(Te=Te.next={eventTime:Ve,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var et=o,tt=K;switch(Ne=d,Ve=w,tt.tag){case 1:if(et=tt.payload,typeof et=="function"){Pe=et.call(Ve,Pe,Ne);break e}Pe=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=tt.payload,Ne=typeof et=="function"?et.call(Ve,Pe,Ne):et,Ne==null)break e;Pe=Se({},Pe,Ne);break e;case 2:Js=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,Ne=P.effects,Ne===null?P.effects=[K]:Ne.push(K))}else Ve={eventTime:Ve,lane:Ne,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Te===null?(ve=Te=Ve,J=Pe):Te=Te.next=Ve,z|=Ne;if(K=K.next,K===null){if(K=P.shared.pending,K===null)break;Ne=K,K=Ne.next,Ne.next=null,P.lastBaseUpdate=Ne,P.shared.pending=null}}while(!0);if(Te===null&&(J=Pe),P.baseState=J,P.firstBaseUpdate=ve,P.lastBaseUpdate=Te,d=P.shared.interleaved,d!==null){P=d;do z|=P.lane,P=P.next;while(P!==d)}else j===null&&(P.shared.lanes=0);$o|=z,o.lanes=z,o.memoizedState=Pe}}function Wb(o,d,w){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var A=o[d],P=A.callback;if(P!==null){if(A.callback=null,A=w,typeof P!="function")throw Error(r(191,P));P.call(A)}}}var yu={},La=Ys(yu),wu=Ys(yu),bu=Ys(yu);function Uo(o){if(o===yu)throw Error(r(174));return o}function Fm(o,d){switch(dr(bu,d),dr(wu,o),dr(La,yu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Pr(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=Pr(d,o)}xr(La),dr(La,d)}function Xl(){xr(La),xr(wu),xr(bu)}function Vb(o){Uo(bu.current);var d=Uo(La.current),w=Pr(d,o.type);d!==w&&(dr(wu,o),dr(La,w))}function Um(o){wu.current===o&&(xr(La),xr(wu))}var Rr=Ys(0);function Nf(o){for(var d=o;d!==null;){if(d.tag===13){var w=d.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var zm=[];function $m(){for(var o=0;o<zm.length;o++)zm[o]._workInProgressVersionPrimary=null;zm.length=0}var Of=U.ReactCurrentDispatcher,Wm=U.ReactCurrentBatchConfig,zo=0,Mr=null,mn=null,_n=null,If=!1,Eu=!1,Su=0,k8=0;function Kn(){throw Error(r(321))}function Vm(o,d){if(d===null)return!1;for(var w=0;w<d.length&&w<o.length;w++)if(!ae(o[w],d[w]))return!1;return!0}function Hm(o,d,w,A,P,j){if(zo=j,Mr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Of.current=o===null||o.memoizedState===null?M8:D8,o=w(A,P),Eu){j=0;do{if(Eu=!1,Su=0,25<=j)throw Error(r(301));j+=1,_n=mn=null,d.updateQueue=null,Of.current=L8,o=w(A,P)}while(Eu)}if(Of.current=Pf,d=mn!==null&&mn.next!==null,zo=0,_n=mn=Mr=null,If=!1,d)throw Error(r(300));return o}function qm(){var o=Su!==0;return Su=0,o}function Ba(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Mr.memoizedState=_n=o:_n=_n.next=o,_n}function ea(){if(mn===null){var o=Mr.alternate;o=o!==null?o.memoizedState:null}else o=mn.next;var d=_n===null?Mr.memoizedState:_n.next;if(d!==null)_n=d,mn=o;else{if(o===null)throw Error(r(310));mn=o,o={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},_n===null?Mr.memoizedState=_n=o:_n=_n.next=o}return _n}function Au(o,d){return typeof d=="function"?d(o):d}function Gm(o){var d=ea(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=mn,P=A.baseQueue,j=w.pending;if(j!==null){if(P!==null){var z=P.next;P.next=j.next,j.next=z}A.baseQueue=P=j,w.pending=null}if(P!==null){j=P.next,A=A.baseState;var K=z=null,J=null,ve=j;do{var Te=ve.lane;if((zo&Te)===Te)J!==null&&(J=J.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),A=ve.hasEagerState?ve.eagerState:o(A,ve.action);else{var Pe={lane:Te,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};J===null?(K=J=Pe,z=A):J=J.next=Pe,Mr.lanes|=Te,$o|=Te}ve=ve.next}while(ve!==null&&ve!==j);J===null?z=A:J.next=K,ae(A,d.memoizedState)||(hi=!0),d.memoizedState=A,d.baseState=z,d.baseQueue=J,w.lastRenderedState=A}if(o=w.interleaved,o!==null){P=o;do j=P.lane,Mr.lanes|=j,$o|=j,P=P.next;while(P!==o)}else P===null&&(w.lanes=0);return[d.memoizedState,w.dispatch]}function Km(o){var d=ea(),w=d.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=o;var A=w.dispatch,P=w.pending,j=d.memoizedState;if(P!==null){w.pending=null;var z=P=P.next;do j=o(j,z.action),z=z.next;while(z!==P);ae(j,d.memoizedState)||(hi=!0),d.memoizedState=j,d.baseQueue===null&&(d.baseState=j),w.lastRenderedState=j}return[j,A]}function Hb(){}function qb(o,d){var w=Mr,A=ea(),P=d(),j=!ae(A.memoizedState,P);if(j&&(A.memoizedState=P,hi=!0),A=A.queue,Xm(Xb.bind(null,w,A,o),[o]),A.getSnapshot!==d||j||_n!==null&&_n.memoizedState.tag&1){if(w.flags|=2048,_u(9,Kb.bind(null,w,A,P,d),void 0,null),Cn===null)throw Error(r(349));(zo&30)!==0||Gb(w,d,P)}return P}function Gb(o,d,w){o.flags|=16384,o={getSnapshot:d,value:w},d=Mr.updateQueue,d===null?(d={lastEffect:null,stores:null},Mr.updateQueue=d,d.stores=[o]):(w=d.stores,w===null?d.stores=[o]:w.push(o))}function Kb(o,d,w,A){d.value=w,d.getSnapshot=A,Yb(d)&&Zb(o)}function Xb(o,d,w){return w(function(){Yb(d)&&Zb(o)})}function Yb(o){var d=o.getSnapshot;o=o.value;try{var w=d();return!ae(o,w)}catch{return!0}}function Zb(o){var d=cs(o,1);d!==null&&ba(d,o,1,-1)}function Qb(o){var d=Ba();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:o},d.queue=o,o=o.dispatch=R8.bind(null,Mr,o),[d.memoizedState,o]}function _u(o,d,w,A){return o={tag:o,create:d,destroy:w,deps:A,next:null},d=Mr.updateQueue,d===null?(d={lastEffect:null,stores:null},Mr.updateQueue=d,d.lastEffect=o.next=o):(w=d.lastEffect,w===null?d.lastEffect=o.next=o:(A=w.next,w.next=o,o.next=A,d.lastEffect=o)),o}function Jb(){return ea().memoizedState}function Tf(o,d,w,A){var P=Ba();Mr.flags|=o,P.memoizedState=_u(1|d,w,void 0,A===void 0?null:A)}function kf(o,d,w,A){var P=ea();A=A===void 0?null:A;var j=void 0;if(mn!==null){var z=mn.memoizedState;if(j=z.destroy,A!==null&&Vm(A,z.deps)){P.memoizedState=_u(d,w,j,A);return}}Mr.flags|=o,P.memoizedState=_u(1|d,w,j,A)}function e2(o,d){return Tf(8390656,8,o,d)}function Xm(o,d){return kf(2048,8,o,d)}function t2(o,d){return kf(4,2,o,d)}function r2(o,d){return kf(4,4,o,d)}function n2(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function i2(o,d,w){return w=w!=null?w.concat([o]):null,kf(4,4,n2.bind(null,d,o),w)}function Ym(){}function a2(o,d){var w=ea();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&Vm(d,A[1])?A[0]:(w.memoizedState=[o,d],o)}function s2(o,d){var w=ea();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&Vm(d,A[1])?A[0]:(o=o(),w.memoizedState=[o,d],o)}function o2(o,d,w){return(zo&21)===0?(o.baseState&&(o.baseState=!1,hi=!0),o.memoizedState=w):(ae(w,d)||(w=dn(),Mr.lanes|=w,$o|=w,o.baseState=!0),d)}function P8(o,d){var w=St;St=w!==0&&4>w?w:4,o(!0);var A=Wm.transition;Wm.transition={};try{o(!1),d()}finally{St=w,Wm.transition=A}}function l2(){return ea().memoizedState}function j8(o,d,w){var A=io(o);if(w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},c2(o))u2(d,w);else if(w=Ub(o,d,w,A),w!==null){var P=ai();ba(w,o,A,P),d2(w,d,A)}}function R8(o,d,w){var A=io(o),P={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(c2(o))u2(d,P);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=d.lastRenderedReducer,j!==null))try{var z=d.lastRenderedState,K=j(z,w);if(P.hasEagerState=!0,P.eagerState=K,ae(K,z)){var J=d.interleaved;J===null?(P.next=P,Lm(d)):(P.next=J.next,J.next=P),d.interleaved=P;return}}catch{}finally{}w=Ub(o,d,P,A),w!==null&&(P=ai(),ba(w,o,A,P),d2(w,d,A))}}function c2(o){var d=o.alternate;return o===Mr||d!==null&&d===Mr}function u2(o,d){Eu=If=!0;var w=o.pending;w===null?d.next=d:(d.next=w.next,w.next=d),o.pending=d}function d2(o,d,w){if((w&4194240)!==0){var A=d.lanes;A&=o.pendingLanes,w|=A,d.lanes=w,Ur(o,w)}}var Pf={readContext:Ji,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},M8={readContext:Ji,useCallback:function(o,d){return Ba().memoizedState=[o,d===void 0?null:d],o},useContext:Ji,useEffect:e2,useImperativeHandle:function(o,d,w){return w=w!=null?w.concat([o]):null,Tf(4194308,4,n2.bind(null,d,o),w)},useLayoutEffect:function(o,d){return Tf(4194308,4,o,d)},useInsertionEffect:function(o,d){return Tf(4,2,o,d)},useMemo:function(o,d){var w=Ba();return d=d===void 0?null:d,o=o(),w.memoizedState=[o,d],o},useReducer:function(o,d,w){var A=Ba();return d=w!==void 0?w(d):d,A.memoizedState=A.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},A.queue=o,o=o.dispatch=j8.bind(null,Mr,o),[A.memoizedState,o]},useRef:function(o){var d=Ba();return o={current:o},d.memoizedState=o},useState:Qb,useDebugValue:Ym,useDeferredValue:function(o){return Ba().memoizedState=o},useTransition:function(){var o=Qb(!1),d=o[0];return o=P8.bind(null,o[1]),Ba().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,w){var A=Mr,P=Ba();if(_r){if(w===void 0)throw Error(r(407));w=w()}else{if(w=d(),Cn===null)throw Error(r(349));(zo&30)!==0||Gb(A,d,w)}P.memoizedState=w;var j={value:w,getSnapshot:d};return P.queue=j,e2(Xb.bind(null,A,j,o),[o]),A.flags|=2048,_u(9,Kb.bind(null,A,j,w,d),void 0,null),w},useId:function(){var o=Ba(),d=Cn.identifierPrefix;if(_r){var w=ls,A=os;w=(A&~(1<<32-ni(A)-1)).toString(32)+w,d=":"+d+"R"+w,w=Su++,0<w&&(d+="H"+w.toString(32)),d+=":"}else w=k8++,d=":"+d+"r"+w.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},D8={readContext:Ji,useCallback:a2,useContext:Ji,useEffect:Xm,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:s2,useReducer:Gm,useRef:Jb,useState:function(){return Gm(Au)},useDebugValue:Ym,useDeferredValue:function(o){var d=ea();return o2(d,mn.memoizedState,o)},useTransition:function(){var o=Gm(Au)[0],d=ea().memoizedState;return[o,d]},useMutableSource:Hb,useSyncExternalStore:qb,useId:l2,unstable_isNewReconciler:!1},L8={readContext:Ji,useCallback:a2,useContext:Ji,useEffect:Xm,useImperativeHandle:i2,useInsertionEffect:t2,useLayoutEffect:r2,useMemo:s2,useReducer:Km,useRef:Jb,useState:function(){return Km(Au)},useDebugValue:Ym,useDeferredValue:function(o){var d=ea();return mn===null?d.memoizedState=o:o2(d,mn.memoizedState,o)},useTransition:function(){var o=Km(Au)[0],d=ea().memoizedState;return[o,d]},useMutableSource:Hb,useSyncExternalStore:qb,useId:l2,unstable_isNewReconciler:!1};function va(o,d){if(o&&o.defaultProps){d=Se({},d),o=o.defaultProps;for(var w in o)d[w]===void 0&&(d[w]=o[w]);return d}return d}function Zm(o,d,w,A){d=o.memoizedState,w=w(A,d),w=w==null?d:Se({},d,w),o.memoizedState=w,o.lanes===0&&(o.updateQueue.baseState=w)}var jf={isMounted:function(o){return(o=o._reactInternals)?at(o)===o:!1},enqueueSetState:function(o,d,w){o=o._reactInternals;var A=ai(),P=io(o),j=us(A,P);j.payload=d,w!=null&&(j.callback=w),d=eo(o,j,P),d!==null&&(ba(d,o,P,A),_f(d,o,P))},enqueueReplaceState:function(o,d,w){o=o._reactInternals;var A=ai(),P=io(o),j=us(A,P);j.tag=1,j.payload=d,w!=null&&(j.callback=w),d=eo(o,j,P),d!==null&&(ba(d,o,P,A),_f(d,o,P))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var w=ai(),A=io(o),P=us(w,A);P.tag=2,d!=null&&(P.callback=d),d=eo(o,P,A),d!==null&&(ba(d,o,A,w),_f(d,o,A))}};function f2(o,d,w,A,P,j,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(A,j,z):d.prototype&&d.prototype.isPureReactComponent?!me(w,A)||!me(P,j):!0}function h2(o,d,w){var A=!1,P=Zs,j=d.contextType;return typeof j=="object"&&j!==null?j=Ji(j):(P=fi(d)?Do:Gn.current,A=d.contextTypes,j=(A=A!=null)?$l(o,P):Zs),d=new d(w,j),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,o.stateNode=d,d._reactInternals=o,A&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=P,o.__reactInternalMemoizedMaskedChildContext=j),d}function p2(o,d,w,A){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(w,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(w,A),d.state!==o&&jf.enqueueReplaceState(d,d.state,null)}function Qm(o,d,w,A){var P=o.stateNode;P.props=w,P.state=o.memoizedState,P.refs={},Bm(o);var j=d.contextType;typeof j=="object"&&j!==null?P.context=Ji(j):(j=fi(d)?Do:Gn.current,P.context=$l(o,j)),P.state=o.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(Zm(o,d,j,w),P.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&jf.enqueueReplaceState(P,P.state,null),Cf(o,w,P,A),P.state=o.memoizedState),typeof P.componentDidMount=="function"&&(o.flags|=4194308)}function Yl(o,d){try{var w="",A=d;do w+=Je(A),A=A.return;while(A);var P=w}catch(j){P=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:d,stack:P,digest:null}}function Jm(o,d,w){return{value:o,source:null,stack:w??null,digest:d??null}}function eg(o,d){try{console.error(d.value)}catch(w){setTimeout(function(){throw w})}}var B8=typeof WeakMap=="function"?WeakMap:Map;function m2(o,d,w){w=us(-1,w),w.tag=3,w.payload={element:null};var A=d.value;return w.callback=function(){Uf||(Uf=!0,mg=A),eg(o,d)},w}function g2(o,d,w){w=us(-1,w),w.tag=3;var A=o.type.getDerivedStateFromError;if(typeof A=="function"){var P=d.value;w.payload=function(){return A(P)},w.callback=function(){eg(o,d)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(w.callback=function(){eg(o,d),typeof A!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var z=d.stack;this.componentDidCatch(d.value,{componentStack:z!==null?z:""})}),w}function x2(o,d,w){var A=o.pingCache;if(A===null){A=o.pingCache=new B8;var P=new Set;A.set(d,P)}else P=A.get(d),P===void 0&&(P=new Set,A.set(d,P));P.has(w)||(P.add(w),o=Q8.bind(null,o,d,w),d.then(o,o))}function v2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function y2(o,d,w,A,P){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(d=us(-1,1),d.tag=2,eo(w,d,1))),w.lanes|=1),o):(o.flags|=65536,o.lanes=P,o)}var F8=U.ReactCurrentOwner,hi=!1;function ii(o,d,w,A){d.child=o===null?Fb(d,null,w,A):ql(d,o.child,w,A)}function w2(o,d,w,A,P){w=w.render;var j=d.ref;return Kl(d,P),A=Hm(o,d,w,A,j,P),w=qm(),o!==null&&!hi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,ds(o,d,P)):(_r&&w&&Om(d),d.flags|=1,ii(o,d,A,P),d.child)}function b2(o,d,w,A,P){if(o===null){var j=w.type;return typeof j=="function"&&!Eg(j)&&j.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(d.tag=15,d.type=j,E2(o,d,j,A,P)):(o=qf(w.type,null,A,d,d.mode,P),o.ref=d.ref,o.return=d,d.child=o)}if(j=o.child,(o.lanes&P)===0){var z=j.memoizedProps;if(w=w.compare,w=w!==null?w:me,w(z,A)&&o.ref===d.ref)return ds(o,d,P)}return d.flags|=1,o=so(j,A),o.ref=d.ref,o.return=d,d.child=o}function E2(o,d,w,A,P){if(o!==null){var j=o.memoizedProps;if(me(j,A)&&o.ref===d.ref)if(hi=!1,d.pendingProps=A=j,(o.lanes&P)!==0)(o.flags&131072)!==0&&(hi=!0);else return d.lanes=o.lanes,ds(o,d,P)}return tg(o,d,w,A,P)}function S2(o,d,w){var A=d.pendingProps,P=A.children,j=o!==null?o.memoizedState:null;if(A.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},dr(Ql,Ri),Ri|=w;else{if((w&1073741824)===0)return o=j!==null?j.baseLanes|w:w,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,dr(Ql,Ri),Ri|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=j!==null?j.baseLanes:w,dr(Ql,Ri),Ri|=A}else j!==null?(A=j.baseLanes|w,d.memoizedState=null):A=w,dr(Ql,Ri),Ri|=A;return ii(o,d,P,w),d.child}function A2(o,d){var w=d.ref;(o===null&&w!==null||o!==null&&o.ref!==w)&&(d.flags|=512,d.flags|=2097152)}function tg(o,d,w,A,P){var j=fi(w)?Do:Gn.current;return j=$l(d,j),Kl(d,P),w=Hm(o,d,w,A,j,P),A=qm(),o!==null&&!hi?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~P,ds(o,d,P)):(_r&&A&&Om(d),d.flags|=1,ii(o,d,w,P),d.child)}function _2(o,d,w,A,P){if(fi(w)){var j=!0;xf(d)}else j=!1;if(Kl(d,P),d.stateNode===null)Mf(o,d),h2(d,w,A),Qm(d,w,A,P),A=!0;else if(o===null){var z=d.stateNode,K=d.memoizedProps;z.props=K;var J=z.context,ve=w.contextType;typeof ve=="object"&&ve!==null?ve=Ji(ve):(ve=fi(w)?Do:Gn.current,ve=$l(d,ve));var Te=w.getDerivedStateFromProps,Pe=typeof Te=="function"||typeof z.getSnapshotBeforeUpdate=="function";Pe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==A||J!==ve)&&p2(d,z,A,ve),Js=!1;var Ne=d.memoizedState;z.state=Ne,Cf(d,A,z,P),J=d.memoizedState,K!==A||Ne!==J||di.current||Js?(typeof Te=="function"&&(Zm(d,w,Te,A),J=d.memoizedState),(K=Js||f2(d,w,K,A,Ne,J,ve))?(Pe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(d.flags|=4194308)):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=A,d.memoizedState=J),z.props=A,z.state=J,z.context=ve,A=K):(typeof z.componentDidMount=="function"&&(d.flags|=4194308),A=!1)}else{z=d.stateNode,zb(o,d),K=d.memoizedProps,ve=d.type===d.elementType?K:va(d.type,K),z.props=ve,Pe=d.pendingProps,Ne=z.context,J=w.contextType,typeof J=="object"&&J!==null?J=Ji(J):(J=fi(w)?Do:Gn.current,J=$l(d,J));var Ve=w.getDerivedStateFromProps;(Te=typeof Ve=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(K!==Pe||Ne!==J)&&p2(d,z,A,J),Js=!1,Ne=d.memoizedState,z.state=Ne,Cf(d,A,z,P);var et=d.memoizedState;K!==Pe||Ne!==et||di.current||Js?(typeof Ve=="function"&&(Zm(d,w,Ve,A),et=d.memoizedState),(ve=Js||f2(d,w,ve,A,Ne,et,J)||!1)?(Te||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(A,et,J),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(A,et,J)),typeof z.componentDidUpdate=="function"&&(d.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof z.componentDidUpdate!="function"||K===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=1024),d.memoizedProps=A,d.memoizedState=et),z.props=A,z.state=et,z.context=J,A=ve):(typeof z.componentDidUpdate!="function"||K===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=1024),A=!1)}return rg(o,d,w,A,j,P)}function rg(o,d,w,A,P,j){A2(o,d);var z=(d.flags&128)!==0;if(!A&&!z)return P&&Tb(d,w,!1),ds(o,d,j);A=d.stateNode,F8.current=d;var K=z&&typeof w.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,o!==null&&z?(d.child=ql(d,o.child,null,j),d.child=ql(d,null,K,j)):ii(o,d,K,j),d.memoizedState=A.state,P&&Tb(d,w,!0),d.child}function C2(o){var d=o.stateNode;d.pendingContext?Ob(o,d.pendingContext,d.pendingContext!==d.context):d.context&&Ob(o,d.context,!1),Fm(o,d.containerInfo)}function N2(o,d,w,A,P){return Hl(),Pm(P),d.flags|=256,ii(o,d,w,A),d.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function ig(o){return{baseLanes:o,cachePool:null,transitions:null}}function O2(o,d,w){var A=d.pendingProps,P=Rr.current,j=!1,z=(d.flags&128)!==0,K;if((K=z)||(K=o!==null&&o.memoizedState===null?!1:(P&2)!==0),K?(j=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(P|=1),dr(Rr,P&1),o===null)return km(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(z=A.children,o=A.fallback,j?(A=d.mode,j=d.child,z={mode:"hidden",children:z},(A&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=z):j=Gf(z,A,0,null),o=qo(o,A,w,null),j.return=d,o.return=d,j.sibling=o,d.child=j,d.child.memoizedState=ig(w),d.memoizedState=ng,o):ag(d,z));if(P=o.memoizedState,P!==null&&(K=P.dehydrated,K!==null))return U8(o,d,z,A,K,P,w);if(j){j=A.fallback,z=d.mode,P=o.child,K=P.sibling;var J={mode:"hidden",children:A.children};return(z&1)===0&&d.child!==P?(A=d.child,A.childLanes=0,A.pendingProps=J,d.deletions=null):(A=so(P,J),A.subtreeFlags=P.subtreeFlags&14680064),K!==null?j=so(K,j):(j=qo(j,z,w,null),j.flags|=2),j.return=d,A.return=d,A.sibling=j,d.child=A,A=j,j=d.child,z=o.child.memoizedState,z=z===null?ig(w):{baseLanes:z.baseLanes|w,cachePool:null,transitions:z.transitions},j.memoizedState=z,j.childLanes=o.childLanes&~w,d.memoizedState=ng,A}return j=o.child,o=j.sibling,A=so(j,{mode:"visible",children:A.children}),(d.mode&1)===0&&(A.lanes=w),A.return=d,A.sibling=null,o!==null&&(w=d.deletions,w===null?(d.deletions=[o],d.flags|=16):w.push(o)),d.child=A,d.memoizedState=null,A}function ag(o,d){return d=Gf({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function Rf(o,d,w,A){return A!==null&&Pm(A),ql(d,o.child,null,w),o=ag(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function U8(o,d,w,A,P,j,z){if(w)return d.flags&256?(d.flags&=-257,A=Jm(Error(r(422))),Rf(o,d,z,A)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(j=A.fallback,P=d.mode,A=Gf({mode:"visible",children:A.children},P,0,null),j=qo(j,P,z,null),j.flags|=2,A.return=d,j.return=d,A.sibling=j,d.child=A,(d.mode&1)!==0&&ql(d,o.child,null,z),d.child.memoizedState=ig(z),d.memoizedState=ng,j);if((d.mode&1)===0)return Rf(o,d,z,null);if(P.data==="$!"){if(A=P.nextSibling&&P.nextSibling.dataset,A)var K=A.dgst;return A=K,j=Error(r(419)),A=Jm(j,A,void 0),Rf(o,d,z,A)}if(K=(z&o.childLanes)!==0,hi||K){if(A=Cn,A!==null){switch(z&-z){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(A.suspendedLanes|z))!==0?0:P,P!==0&&P!==j.retryLane&&(j.retryLane=P,cs(o,P),ba(A,o,P,-1))}return bg(),A=Jm(Error(r(421))),Rf(o,d,z,A)}return P.data==="$?"?(d.flags|=128,d.child=o.child,d=J8.bind(null,o),P._reactRetry=d,null):(o=j.treeContext,ji=Xs(P.nextSibling),Pi=d,_r=!0,xa=null,o!==null&&(Zi[Qi++]=os,Zi[Qi++]=ls,Zi[Qi++]=Lo,os=o.id,ls=o.overflow,Lo=d),d=ag(d,A.children),d.flags|=4096,d)}function I2(o,d,w){o.lanes|=d;var A=o.alternate;A!==null&&(A.lanes|=d),Dm(o.return,d,w)}function sg(o,d,w,A,P){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:P}:(j.isBackwards=d,j.rendering=null,j.renderingStartTime=0,j.last=A,j.tail=w,j.tailMode=P)}function T2(o,d,w){var A=d.pendingProps,P=A.revealOrder,j=A.tail;if(ii(o,d,A.children,w),A=Rr.current,(A&2)!==0)A=A&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&I2(o,w,d);else if(o.tag===19)I2(o,w,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}A&=1}if(dr(Rr,A),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(w=d.child,P=null;w!==null;)o=w.alternate,o!==null&&Nf(o)===null&&(P=w),w=w.sibling;w=P,w===null?(P=d.child,d.child=null):(P=w.sibling,w.sibling=null),sg(d,!1,P,w,j);break;case"backwards":for(w=null,P=d.child,d.child=null;P!==null;){if(o=P.alternate,o!==null&&Nf(o)===null){d.child=P;break}o=P.sibling,P.sibling=w,w=P,P=o}sg(d,!0,w,null,j);break;case"together":sg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Mf(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function ds(o,d,w){if(o!==null&&(d.dependencies=o.dependencies),$o|=d.lanes,(w&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(r(153));if(d.child!==null){for(o=d.child,w=so(o,o.pendingProps),d.child=w,w.return=d;o.sibling!==null;)o=o.sibling,w=w.sibling=so(o,o.pendingProps),w.return=d;w.sibling=null}return d.child}function z8(o,d,w){switch(d.tag){case 3:C2(d),Hl();break;case 5:Vb(d);break;case 1:fi(d.type)&&xf(d);break;case 4:Fm(d,d.stateNode.containerInfo);break;case 10:var A=d.type._context,P=d.memoizedProps.value;dr(Sf,A._currentValue),A._currentValue=P;break;case 13:if(A=d.memoizedState,A!==null)return A.dehydrated!==null?(dr(Rr,Rr.current&1),d.flags|=128,null):(w&d.child.childLanes)!==0?O2(o,d,w):(dr(Rr,Rr.current&1),o=ds(o,d,w),o!==null?o.sibling:null);dr(Rr,Rr.current&1);break;case 19:if(A=(w&d.childLanes)!==0,(o.flags&128)!==0){if(A)return T2(o,d,w);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),dr(Rr,Rr.current),A)break;return null;case 22:case 23:return d.lanes=0,S2(o,d,w)}return ds(o,d,w)}var k2,og,P2,j2;k2=function(o,d){for(var w=d.child;w!==null;){if(w.tag===5||w.tag===6)o.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},og=function(){},P2=function(o,d,w,A){var P=o.memoizedProps;if(P!==A){o=d.stateNode,Uo(La.current);var j=null;switch(w){case"input":P=Qe(o,P),A=Qe(o,A),j=[];break;case"select":P=Se({},P,{value:void 0}),A=Se({},A,{value:void 0}),j=[];break;case"textarea":P=_e(o,P),A=_e(o,A),j=[];break;default:typeof P.onClick!="function"&&typeof A.onClick=="function"&&(o.onclick=pf)}Rt(w,A);var z;w=null;for(ve in P)if(!A.hasOwnProperty(ve)&&P.hasOwnProperty(ve)&&P[ve]!=null)if(ve==="style"){var K=P[ve];for(z in K)K.hasOwnProperty(z)&&(w||(w={}),w[z]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(i.hasOwnProperty(ve)?j||(j=[]):(j=j||[]).push(ve,null));for(ve in A){var J=A[ve];if(K=P?.[ve],A.hasOwnProperty(ve)&&J!==K&&(J!=null||K!=null))if(ve==="style")if(K){for(z in K)!K.hasOwnProperty(z)||J&&J.hasOwnProperty(z)||(w||(w={}),w[z]="");for(z in J)J.hasOwnProperty(z)&&K[z]!==J[z]&&(w||(w={}),w[z]=J[z])}else w||(j||(j=[]),j.push(ve,w)),w=J;else ve==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,K=K?K.__html:void 0,J!=null&&K!==J&&(j=j||[]).push(ve,J)):ve==="children"?typeof J!="string"&&typeof J!="number"||(j=j||[]).push(ve,""+J):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(ve)?(J!=null&&ve==="onScroll"&&gr("scroll",o),j||K===J||(j=[])):(j=j||[]).push(ve,J))}w&&(j=j||[]).push("style",w);var ve=j;(d.updateQueue=ve)&&(d.flags|=4)}},j2=function(o,d,w,A){w!==A&&(d.flags|=4)};function Cu(o,d){if(!_r)switch(o.tailMode){case"hidden":d=o.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?o.tail=null:w.sibling=null;break;case"collapsed":w=o.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:A.sibling=null}}function Xn(o){var d=o.alternate!==null&&o.alternate.child===o.child,w=0,A=0;if(d)for(var P=o.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags&14680064,A|=P.flags&14680064,P.return=o,P=P.sibling;else for(P=o.child;P!==null;)w|=P.lanes|P.childLanes,A|=P.subtreeFlags,A|=P.flags,P.return=o,P=P.sibling;return o.subtreeFlags|=A,o.childLanes=w,d}function $8(o,d,w){var A=d.pendingProps;switch(Im(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(d),null;case 1:return fi(d.type)&&gf(),Xn(d),null;case 3:return A=d.stateNode,Xl(),xr(di),xr(Gn),$m(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(o===null||o.child===null)&&(bf(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,xa!==null&&(vg(xa),xa=null))),og(o,d),Xn(d),null;case 5:Um(d);var P=Uo(bu.current);if(w=d.type,o!==null&&d.stateNode!=null)P2(o,d,w,A,P),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!A){if(d.stateNode===null)throw Error(r(166));return Xn(d),null}if(o=Uo(La.current),bf(d)){A=d.stateNode,w=d.type;var j=d.memoizedProps;switch(A[Da]=d,A[gu]=j,o=(d.mode&1)!==0,w){case"dialog":gr("cancel",A),gr("close",A);break;case"iframe":case"object":case"embed":gr("load",A);break;case"video":case"audio":for(P=0;P<hu.length;P++)gr(hu[P],A);break;case"source":gr("error",A);break;case"img":case"image":case"link":gr("error",A),gr("load",A);break;case"details":gr("toggle",A);break;case"input":Ct(A,j),gr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!j.multiple},gr("invalid",A);break;case"textarea":gt(A,j),gr("invalid",A)}Rt(w,j),P=null;for(var z in j)if(j.hasOwnProperty(z)){var K=j[z];z==="children"?typeof K=="string"?A.textContent!==K&&(j.suppressHydrationWarning!==!0&&hf(A.textContent,K,o),P=["children",K]):typeof K=="number"&&A.textContent!==""+K&&(j.suppressHydrationWarning!==!0&&hf(A.textContent,K,o),P=["children",""+K]):i.hasOwnProperty(z)&&K!=null&&z==="onScroll"&&gr("scroll",A)}switch(w){case"input":Ue(A),At(A,j,!0);break;case"textarea":Ue(A),wr(A);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(A.onclick=pf)}A=P,d.updateQueue=A,A!==null&&(d.flags|=4)}else{z=P.nodeType===9?P:P.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=zt(w)),o==="http://www.w3.org/1999/xhtml"?w==="script"?(o=z.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof A.is=="string"?o=z.createElement(w,{is:A.is}):(o=z.createElement(w),w==="select"&&(z=o,A.multiple?z.multiple=!0:A.size&&(z.size=A.size))):o=z.createElementNS(o,w),o[Da]=d,o[gu]=A,k2(o,d,!1,!1),d.stateNode=o;e:{switch(z=Dt(w,A),w){case"dialog":gr("cancel",o),gr("close",o),P=A;break;case"iframe":case"object":case"embed":gr("load",o),P=A;break;case"video":case"audio":for(P=0;P<hu.length;P++)gr(hu[P],o);P=A;break;case"source":gr("error",o),P=A;break;case"img":case"image":case"link":gr("error",o),gr("load",o),P=A;break;case"details":gr("toggle",o),P=A;break;case"input":Ct(o,A),P=Qe(o,A),gr("invalid",o);break;case"option":P=A;break;case"select":o._wrapperState={wasMultiple:!!A.multiple},P=Se({},A,{value:void 0}),gr("invalid",o);break;case"textarea":gt(o,A),P=_e(o,A),gr("invalid",o);break;default:P=A}Rt(w,P),K=P;for(j in K)if(K.hasOwnProperty(j)){var J=K[j];j==="style"?Le(o,J):j==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&mr(o,J)):j==="children"?typeof J=="string"?(w!=="textarea"||J!=="")&&ci(o,J):typeof J=="number"&&ci(o,""+J):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?J!=null&&j==="onScroll"&&gr("scroll",o):J!=null&&M(o,j,J,z))}switch(w){case"input":Ue(o),At(o,A,!1);break;case"textarea":Ue(o),wr(o);break;case"option":A.value!=null&&o.setAttribute("value",""+ye(A.value));break;case"select":o.multiple=!!A.multiple,j=A.value,j!=null?$e(o,!!A.multiple,j,!1):A.defaultValue!=null&&$e(o,!!A.multiple,A.defaultValue,!0);break;default:typeof P.onClick=="function"&&(o.onclick=pf)}switch(w){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Xn(d),null;case 6:if(o&&d.stateNode!=null)j2(o,d,o.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(r(166));if(w=Uo(bu.current),Uo(La.current),bf(d)){if(A=d.stateNode,w=d.memoizedProps,A[Da]=d,(j=A.nodeValue!==w)&&(o=Pi,o!==null))switch(o.tag){case 3:hf(A.nodeValue,w,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&hf(A.nodeValue,w,(o.mode&1)!==0)}j&&(d.flags|=4)}else A=(w.nodeType===9?w:w.ownerDocument).createTextNode(A),A[Da]=d,d.stateNode=A}return Xn(d),null;case 13:if(xr(Rr),A=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(_r&&ji!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Db(),Hl(),d.flags|=98560,j=!1;else if(j=bf(d),A!==null&&A.dehydrated!==null){if(o===null){if(!j)throw Error(r(318));if(j=d.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Da]=d}else Hl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xn(d),j=!1}else xa!==null&&(vg(xa),xa=null),j=!0;if(!j)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=w,d):(A=A!==null,A!==(o!==null&&o.memoizedState!==null)&&A&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Rr.current&1)!==0?gn===0&&(gn=3):bg())),d.updateQueue!==null&&(d.flags|=4),Xn(d),null);case 4:return Xl(),og(o,d),o===null&&pu(d.stateNode.containerInfo),Xn(d),null;case 10:return Mm(d.type._context),Xn(d),null;case 17:return fi(d.type)&&gf(),Xn(d),null;case 19:if(xr(Rr),j=d.memoizedState,j===null)return Xn(d),null;if(A=(d.flags&128)!==0,z=j.rendering,z===null)if(A)Cu(j,!1);else{if(gn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(z=Nf(o),z!==null){for(d.flags|=128,Cu(j,!1),A=z.updateQueue,A!==null&&(d.updateQueue=A,d.flags|=4),d.subtreeFlags=0,A=w,w=d.child;w!==null;)j=w,o=A,j.flags&=14680066,z=j.alternate,z===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=z.childLanes,j.lanes=z.lanes,j.child=z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=z.memoizedProps,j.memoizedState=z.memoizedState,j.updateQueue=z.updateQueue,j.type=z.type,o=z.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),w=w.sibling;return dr(Rr,Rr.current&1|2),d.child}o=o.sibling}j.tail!==null&&Gt()>Jl&&(d.flags|=128,A=!0,Cu(j,!1),d.lanes=4194304)}else{if(!A)if(o=Nf(z),o!==null){if(d.flags|=128,A=!0,w=o.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),Cu(j,!0),j.tail===null&&j.tailMode==="hidden"&&!z.alternate&&!_r)return Xn(d),null}else 2*Gt()-j.renderingStartTime>Jl&&w!==1073741824&&(d.flags|=128,A=!0,Cu(j,!1),d.lanes=4194304);j.isBackwards?(z.sibling=d.child,d.child=z):(w=j.last,w!==null?w.sibling=z:d.child=z,j.last=z)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Gt(),d.sibling=null,w=Rr.current,dr(Rr,A?w&1|2:w&1),d):(Xn(d),null);case 22:case 23:return wg(),A=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==A&&(d.flags|=8192),A&&(d.mode&1)!==0?(Ri&1073741824)!==0&&(Xn(d),d.subtreeFlags&6&&(d.flags|=8192)):Xn(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function W8(o,d){switch(Im(d),d.tag){case 1:return fi(d.type)&&gf(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return Xl(),xr(di),xr(Gn),$m(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return Um(d),null;case 13:if(xr(Rr),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Hl()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return xr(Rr),null;case 4:return Xl(),null;case 10:return Mm(d.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var Df=!1,Yn=!1,V8=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Zl(o,d){var w=o.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){$r(o,d,A)}else w.current=null}function lg(o,d,w){try{w()}catch(A){$r(o,d,A)}}var R2=!1;function H8(o,d){if(wm=Ra,o=Ot(),wt(o)){if("selectionStart"in o)var w={start:o.selectionStart,end:o.selectionEnd};else e:{w=(w=o.ownerDocument)&&w.defaultView||window;var A=w.getSelection&&w.getSelection();if(A&&A.rangeCount!==0){w=A.anchorNode;var P=A.anchorOffset,j=A.focusNode;A=A.focusOffset;try{w.nodeType,j.nodeType}catch{w=null;break e}var z=0,K=-1,J=-1,ve=0,Te=0,Pe=o,Ne=null;t:for(;;){for(var Ve;Pe!==w||P!==0&&Pe.nodeType!==3||(K=z+P),Pe!==j||A!==0&&Pe.nodeType!==3||(J=z+A),Pe.nodeType===3&&(z+=Pe.nodeValue.length),(Ve=Pe.firstChild)!==null;)Ne=Pe,Pe=Ve;for(;;){if(Pe===o)break t;if(Ne===w&&++ve===P&&(K=z),Ne===j&&++Te===A&&(J=z),(Ve=Pe.nextSibling)!==null)break;Pe=Ne,Ne=Pe.parentNode}Pe=Ve}w=K===-1||J===-1?null:{start:K,end:J}}else w=null}w=w||{start:0,end:0}}else w=null;for(bm={focusedElem:o,selectionRange:w},Ra=!1,Xe=d;Xe!==null;)if(d=Xe,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Xe=o;else for(;Xe!==null;){d=Xe;try{var et=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var tt=et.memoizedProps,Yr=et.memoizedState,ce=d.stateNode,ne=ce.getSnapshotBeforeUpdate(d.elementType===d.type?tt:va(d.type,tt),Yr);ce.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:var he=d.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(De){$r(d,d.return,De)}if(o=d.sibling,o!==null){o.return=d.return,Xe=o;break}Xe=d.return}return et=R2,R2=!1,et}function Nu(o,d,w){var A=d.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var P=A=A.next;do{if((P.tag&o)===o){var j=P.destroy;P.destroy=void 0,j!==void 0&&lg(d,w,j)}P=P.next}while(P!==A)}}function Lf(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var w=d=d.next;do{if((w.tag&o)===o){var A=w.create;w.destroy=A()}w=w.next}while(w!==d)}}function cg(o){var d=o.ref;if(d!==null){var w=o.stateNode;switch(o.tag){case 5:o=w;break;default:o=w}typeof d=="function"?d(o):d.current=o}}function M2(o){var d=o.alternate;d!==null&&(o.alternate=null,M2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[Da],delete d[gu],delete d[_m],delete d[N8],delete d[O8])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function D2(o){return o.tag===5||o.tag===3||o.tag===4}function L2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||D2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ug(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.nodeType===8?w.parentNode.insertBefore(o,d):w.insertBefore(o,d):(w.nodeType===8?(d=w.parentNode,d.insertBefore(o,w)):(d=w,d.appendChild(o)),w=w._reactRootContainer,w!=null||d.onclick!==null||(d.onclick=pf));else if(A!==4&&(o=o.child,o!==null))for(ug(o,d,w),o=o.sibling;o!==null;)ug(o,d,w),o=o.sibling}function dg(o,d,w){var A=o.tag;if(A===5||A===6)o=o.stateNode,d?w.insertBefore(o,d):w.appendChild(o);else if(A!==4&&(o=o.child,o!==null))for(dg(o,d,w),o=o.sibling;o!==null;)dg(o,d,w),o=o.sibling}var Dn=null,ya=!1;function to(o,d,w){for(w=w.child;w!==null;)B2(o,d,w),w=w.sibling}function B2(o,d,w){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Mt,w)}catch{}switch(w.tag){case 5:Yn||Zl(w,d);case 6:var A=Dn,P=ya;Dn=null,to(o,d,w),Dn=A,ya=P,Dn!==null&&(ya?(o=Dn,w=w.stateNode,o.nodeType===8?o.parentNode.removeChild(w):o.removeChild(w)):Dn.removeChild(w.stateNode));break;case 18:Dn!==null&&(ya?(o=Dn,w=w.stateNode,o.nodeType===8?Am(o.parentNode,w):o.nodeType===1&&Am(o,w),pa(o)):Am(Dn,w.stateNode));break;case 4:A=Dn,P=ya,Dn=w.stateNode.containerInfo,ya=!0,to(o,d,w),Dn=A,ya=P;break;case 0:case 11:case 14:case 15:if(!Yn&&(A=w.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){P=A=A.next;do{var j=P,z=j.destroy;j=j.tag,z!==void 0&&((j&2)!==0||(j&4)!==0)&&lg(w,d,z),P=P.next}while(P!==A)}to(o,d,w);break;case 1:if(!Yn&&(Zl(w,d),A=w.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=w.memoizedProps,A.state=w.memoizedState,A.componentWillUnmount()}catch(K){$r(w,d,K)}to(o,d,w);break;case 21:to(o,d,w);break;case 22:w.mode&1?(Yn=(A=Yn)||w.memoizedState!==null,to(o,d,w),Yn=A):to(o,d,w);break;default:to(o,d,w)}}function F2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var w=o.stateNode;w===null&&(w=o.stateNode=new V8),d.forEach(function(A){var P=ej.bind(null,o,A);w.has(A)||(w.add(A),A.then(P,P))})}}function wa(o,d){var w=d.deletions;if(w!==null)for(var A=0;A<w.length;A++){var P=w[A];try{var j=o,z=d,K=z;e:for(;K!==null;){switch(K.tag){case 5:Dn=K.stateNode,ya=!1;break e;case 3:Dn=K.stateNode.containerInfo,ya=!0;break e;case 4:Dn=K.stateNode.containerInfo,ya=!0;break e}K=K.return}if(Dn===null)throw Error(r(160));B2(j,z,P),Dn=null,ya=!1;var J=P.alternate;J!==null&&(J.return=null),P.return=null}catch(ve){$r(P,d,ve)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)U2(d,o),d=d.sibling}function U2(o,d){var w=o.alternate,A=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(wa(d,o),Fa(o),A&4){try{Nu(3,o,o.return),Lf(3,o)}catch(tt){$r(o,o.return,tt)}try{Nu(5,o,o.return)}catch(tt){$r(o,o.return,tt)}}break;case 1:wa(d,o),Fa(o),A&512&&w!==null&&Zl(w,w.return);break;case 5:if(wa(d,o),Fa(o),A&512&&w!==null&&Zl(w,w.return),o.flags&32){var P=o.stateNode;try{ci(P,"")}catch(tt){$r(o,o.return,tt)}}if(A&4&&(P=o.stateNode,P!=null)){var j=o.memoizedProps,z=w!==null?w.memoizedProps:j,K=o.type,J=o.updateQueue;if(o.updateQueue=null,J!==null)try{K==="input"&&j.type==="radio"&&j.name!=null&&Ft(P,j),Dt(K,z);var ve=Dt(K,j);for(z=0;z<J.length;z+=2){var Te=J[z],Pe=J[z+1];Te==="style"?Le(P,Pe):Te==="dangerouslySetInnerHTML"?mr(P,Pe):Te==="children"?ci(P,Pe):M(P,Te,Pe,ve)}switch(K){case"input":Pt(P,j);break;case"textarea":Ut(P,j);break;case"select":var Ne=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!j.multiple;var Ve=j.value;Ve!=null?$e(P,!!j.multiple,Ve,!1):Ne!==!!j.multiple&&(j.defaultValue!=null?$e(P,!!j.multiple,j.defaultValue,!0):$e(P,!!j.multiple,j.multiple?[]:"",!1))}P[gu]=j}catch(tt){$r(o,o.return,tt)}}break;case 6:if(wa(d,o),Fa(o),A&4){if(o.stateNode===null)throw Error(r(162));P=o.stateNode,j=o.memoizedProps;try{P.nodeValue=j}catch(tt){$r(o,o.return,tt)}}break;case 3:if(wa(d,o),Fa(o),A&4&&w!==null&&w.memoizedState.isDehydrated)try{pa(d.containerInfo)}catch(tt){$r(o,o.return,tt)}break;case 4:wa(d,o),Fa(o);break;case 13:wa(d,o),Fa(o),P=o.child,P.flags&8192&&(j=P.memoizedState!==null,P.stateNode.isHidden=j,!j||P.alternate!==null&&P.alternate.memoizedState!==null||(pg=Gt())),A&4&&F2(o);break;case 22:if(Te=w!==null&&w.memoizedState!==null,o.mode&1?(Yn=(ve=Yn)||Te,wa(d,o),Yn=ve):wa(d,o),Fa(o),A&8192){if(ve=o.memoizedState!==null,(o.stateNode.isHidden=ve)&&!Te&&(o.mode&1)!==0)for(Xe=o,Te=o.child;Te!==null;){for(Pe=Xe=Te;Xe!==null;){switch(Ne=Xe,Ve=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Nu(4,Ne,Ne.return);break;case 1:Zl(Ne,Ne.return);var et=Ne.stateNode;if(typeof et.componentWillUnmount=="function"){A=Ne,w=Ne.return;try{d=A,et.props=d.memoizedProps,et.state=d.memoizedState,et.componentWillUnmount()}catch(tt){$r(A,w,tt)}}break;case 5:Zl(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){W2(Pe);continue}}Ve!==null?(Ve.return=Ne,Xe=Ve):W2(Pe)}Te=Te.sibling}e:for(Te=null,Pe=o;;){if(Pe.tag===5){if(Te===null){Te=Pe;try{P=Pe.stateNode,ve?(j=P.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(K=Pe.stateNode,J=Pe.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null,K.style.display=er("display",z))}catch(tt){$r(o,o.return,tt)}}}else if(Pe.tag===6){if(Te===null)try{Pe.stateNode.nodeValue=ve?"":Pe.memoizedProps}catch(tt){$r(o,o.return,tt)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===o)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===o)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===o)break e;Te===Pe&&(Te=null),Pe=Pe.return}Te===Pe&&(Te=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:wa(d,o),Fa(o),A&4&&F2(o);break;case 21:break;default:wa(d,o),Fa(o)}}function Fa(o){var d=o.flags;if(d&2){try{e:{for(var w=o.return;w!==null;){if(D2(w)){var A=w;break e}w=w.return}throw Error(r(160))}switch(A.tag){case 5:var P=A.stateNode;A.flags&32&&(ci(P,""),A.flags&=-33);var j=L2(o);dg(o,j,P);break;case 3:case 4:var z=A.stateNode.containerInfo,K=L2(o);ug(o,K,z);break;default:throw Error(r(161))}}catch(J){$r(o,o.return,J)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function q8(o,d,w){Xe=o,z2(o)}function z2(o,d,w){for(var A=(o.mode&1)!==0;Xe!==null;){var P=Xe,j=P.child;if(P.tag===22&&A){var z=P.memoizedState!==null||Df;if(!z){var K=P.alternate,J=K!==null&&K.memoizedState!==null||Yn;K=Df;var ve=Yn;if(Df=z,(Yn=J)&&!ve)for(Xe=P;Xe!==null;)z=Xe,J=z.child,z.tag===22&&z.memoizedState!==null?V2(P):J!==null?(J.return=z,Xe=J):V2(P);for(;j!==null;)Xe=j,z2(j),j=j.sibling;Xe=P,Df=K,Yn=ve}$2(o)}else(P.subtreeFlags&8772)!==0&&j!==null?(j.return=P,Xe=j):$2(o)}}function $2(o){for(;Xe!==null;){var d=Xe;if((d.flags&8772)!==0){var w=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Yn||Lf(5,d);break;case 1:var A=d.stateNode;if(d.flags&4&&!Yn)if(w===null)A.componentDidMount();else{var P=d.elementType===d.type?w.memoizedProps:va(d.type,w.memoizedProps);A.componentDidUpdate(P,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var j=d.updateQueue;j!==null&&Wb(d,j,A);break;case 3:var z=d.updateQueue;if(z!==null){if(w=null,d.child!==null)switch(d.child.tag){case 5:w=d.child.stateNode;break;case 1:w=d.child.stateNode}Wb(d,z,w)}break;case 5:var K=d.stateNode;if(w===null&&d.flags&4){w=K;var J=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&w.focus();break;case"img":J.src&&(w.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ve=d.alternate;if(ve!==null){var Te=ve.memoizedState;if(Te!==null){var Pe=Te.dehydrated;Pe!==null&&pa(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yn||d.flags&512&&cg(d)}catch(Ne){$r(d,d.return,Ne)}}if(d===o){Xe=null;break}if(w=d.sibling,w!==null){w.return=d.return,Xe=w;break}Xe=d.return}}function W2(o){for(;Xe!==null;){var d=Xe;if(d===o){Xe=null;break}var w=d.sibling;if(w!==null){w.return=d.return,Xe=w;break}Xe=d.return}}function V2(o){for(;Xe!==null;){var d=Xe;try{switch(d.tag){case 0:case 11:case 15:var w=d.return;try{Lf(4,d)}catch(J){$r(d,w,J)}break;case 1:var A=d.stateNode;if(typeof A.componentDidMount=="function"){var P=d.return;try{A.componentDidMount()}catch(J){$r(d,P,J)}}var j=d.return;try{cg(d)}catch(J){$r(d,j,J)}break;case 5:var z=d.return;try{cg(d)}catch(J){$r(d,z,J)}}}catch(J){$r(d,d.return,J)}if(d===o){Xe=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Xe=K;break}Xe=d.return}}var G8=Math.ceil,Bf=U.ReactCurrentDispatcher,fg=U.ReactCurrentOwner,ta=U.ReactCurrentBatchConfig,Bt=0,Cn=null,tn=null,Ln=0,Ri=0,Ql=Ys(0),gn=0,Ou=null,$o=0,Ff=0,hg=0,Iu=null,pi=null,pg=0,Jl=1/0,fs=null,Uf=!1,mg=null,ro=null,zf=!1,no=null,$f=0,Tu=0,gg=null,Wf=-1,Vf=0;function ai(){return(Bt&6)!==0?Gt():Wf!==-1?Wf:Wf=Gt()}function io(o){return(o.mode&1)===0?1:(Bt&2)!==0&&Ln!==0?Ln&-Ln:T8.transition!==null?(Vf===0&&(Vf=dn()),Vf):(o=St,o!==0||(o=window.event,o=o===void 0?16:nu(o.type)),o)}function ba(o,d,w,A){if(50<Tu)throw Tu=0,gg=null,Error(r(185));q(o,w,A),((Bt&2)===0||o!==Cn)&&(o===Cn&&((Bt&2)===0&&(Ff|=w),gn===4&&ao(o,Ln)),mi(o,A),w===1&&Bt===0&&(d.mode&1)===0&&(Jl=Gt()+500,vf&&Qs()))}function mi(o,d){var w=o.callbackNode;Fs(o,d);var A=Oi(o,o===Cn?Ln:0);if(A===0)w!==null&&Sn(w),o.callbackNode=null,o.callbackPriority=0;else if(d=A&-A,o.callbackPriority!==d){if(w!=null&&Sn(w),d===1)o.tag===0?I8(q2.bind(null,o)):kb(q2.bind(null,o)),_8(function(){(Bt&6)===0&&Qs()}),w=null;else{switch(Qd(A)){case 1:w=Ce;break;case 4:w=Yd;break;case 16:w=tr;break;case 536870912:w=Zd;break;default:w=tr}w=eE(w,H2.bind(null,o))}o.callbackPriority=d,o.callbackNode=w}}function H2(o,d){if(Wf=-1,Vf=0,(Bt&6)!==0)throw Error(r(327));var w=o.callbackNode;if(ec()&&o.callbackNode!==w)return null;var A=Oi(o,o===Cn?Ln:0);if(A===0)return null;if((A&30)!==0||(A&o.expiredLanes)!==0||d)d=Hf(o,A);else{d=A;var P=Bt;Bt|=2;var j=K2();(Cn!==o||Ln!==d)&&(fs=null,Jl=Gt()+500,Vo(o,d));do try{Y8();break}catch(K){G2(o,K)}while(!0);Rm(),Bf.current=j,Bt=P,tn!==null?d=0:(Cn=null,Ln=0,d=gn)}if(d!==0){if(d===2&&(P=Kt(o),P!==0&&(A=P,d=xg(o,P))),d===1)throw w=Ou,Vo(o,0),ao(o,A),mi(o,Gt()),w;if(d===6)ao(o,A);else{if(P=o.current.alternate,(A&30)===0&&!K8(P)&&(d=Hf(o,A),d===2&&(j=Kt(o),j!==0&&(A=j,d=xg(o,j))),d===1))throw w=Ou,Vo(o,0),ao(o,A),mi(o,Gt()),w;switch(o.finishedWork=P,o.finishedLanes=A,d){case 0:case 1:throw Error(r(345));case 2:Ho(o,pi,fs);break;case 3:if(ao(o,A),(A&130023424)===A&&(d=pg+500-Gt(),10<d)){if(Oi(o,0)!==0)break;if(P=o.suspendedLanes,(P&A)!==A){ai(),o.pingedLanes|=o.suspendedLanes&P;break}o.timeoutHandle=Sm(Ho.bind(null,o,pi,fs),d);break}Ho(o,pi,fs);break;case 4:if(ao(o,A),(A&4194240)===A)break;for(d=o.eventTimes,P=-1;0<A;){var z=31-ni(A);j=1<<z,z=d[z],z>P&&(P=z),A&=~j}if(A=P,A=Gt()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*G8(A/1960))-A,10<A){o.timeoutHandle=Sm(Ho.bind(null,o,pi,fs),A);break}Ho(o,pi,fs);break;case 5:Ho(o,pi,fs);break;default:throw Error(r(329))}}}return mi(o,Gt()),o.callbackNode===w?H2.bind(null,o):null}function xg(o,d){var w=Iu;return o.current.memoizedState.isDehydrated&&(Vo(o,d).flags|=256),o=Hf(o,d),o!==2&&(d=pi,pi=w,d!==null&&vg(d)),o}function vg(o){pi===null?pi=o:pi.push.apply(pi,o)}function K8(o){for(var d=o;;){if(d.flags&16384){var w=d.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var P=w[A],j=P.getSnapshot;P=P.value;try{if(!ae(j(),P))return!1}catch{return!1}}}if(w=d.child,d.subtreeFlags&16384&&w!==null)w.return=d,d=w;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ao(o,d){for(d&=~hg,d&=~Ff,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var w=31-ni(d),A=1<<w;o[w]=-1,d&=~A}}function q2(o){if((Bt&6)!==0)throw Error(r(327));ec();var d=Oi(o,0);if((d&1)===0)return mi(o,Gt()),null;var w=Hf(o,d);if(o.tag!==0&&w===2){var A=Kt(o);A!==0&&(d=A,w=xg(o,A))}if(w===1)throw w=Ou,Vo(o,0),ao(o,d),mi(o,Gt()),w;if(w===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Ho(o,pi,fs),mi(o,Gt()),null}function yg(o,d){var w=Bt;Bt|=1;try{return o(d)}finally{Bt=w,Bt===0&&(Jl=Gt()+500,vf&&Qs())}}function Wo(o){no!==null&&no.tag===0&&(Bt&6)===0&&ec();var d=Bt;Bt|=1;var w=ta.transition,A=St;try{if(ta.transition=null,St=1,o)return o()}finally{St=A,ta.transition=w,Bt=d,(Bt&6)===0&&Qs()}}function wg(){Ri=Ql.current,xr(Ql)}function Vo(o,d){o.finishedWork=null,o.finishedLanes=0;var w=o.timeoutHandle;if(w!==-1&&(o.timeoutHandle=-1,A8(w)),tn!==null)for(w=tn.return;w!==null;){var A=w;switch(Im(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&gf();break;case 3:Xl(),xr(di),xr(Gn),$m();break;case 5:Um(A);break;case 4:Xl();break;case 13:xr(Rr);break;case 19:xr(Rr);break;case 10:Mm(A.type._context);break;case 22:case 23:wg()}w=w.return}if(Cn=o,tn=o=so(o.current,null),Ln=Ri=d,gn=0,Ou=null,hg=Ff=$o=0,pi=Iu=null,Fo!==null){for(d=0;d<Fo.length;d++)if(w=Fo[d],A=w.interleaved,A!==null){w.interleaved=null;var P=A.next,j=w.pending;if(j!==null){var z=j.next;j.next=P,A.next=z}w.pending=A}Fo=null}return o}function G2(o,d){do{var w=tn;try{if(Rm(),Of.current=Pf,If){for(var A=Mr.memoizedState;A!==null;){var P=A.queue;P!==null&&(P.pending=null),A=A.next}If=!1}if(zo=0,_n=mn=Mr=null,Eu=!1,Su=0,fg.current=null,w===null||w.return===null){gn=1,Ou=d,tn=null;break}e:{var j=o,z=w.return,K=w,J=d;if(d=Ln,K.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var ve=J,Te=K,Pe=Te.tag;if((Te.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Ne=Te.alternate;Ne?(Te.updateQueue=Ne.updateQueue,Te.memoizedState=Ne.memoizedState,Te.lanes=Ne.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var Ve=v2(z);if(Ve!==null){Ve.flags&=-257,y2(Ve,z,K,j,d),Ve.mode&1&&x2(j,ve,d),d=Ve,J=ve;var et=d.updateQueue;if(et===null){var tt=new Set;tt.add(J),d.updateQueue=tt}else et.add(J);break e}else{if((d&1)===0){x2(j,ve,d),bg();break e}J=Error(r(426))}}else if(_r&&K.mode&1){var Yr=v2(z);if(Yr!==null){(Yr.flags&65536)===0&&(Yr.flags|=256),y2(Yr,z,K,j,d),Pm(Yl(J,K));break e}}j=J=Yl(J,K),gn!==4&&(gn=2),Iu===null?Iu=[j]:Iu.push(j),j=z;do{switch(j.tag){case 3:j.flags|=65536,d&=-d,j.lanes|=d;var ce=m2(j,J,d);$b(j,ce);break e;case 1:K=J;var ne=j.type,he=j.stateNode;if((j.flags&128)===0&&(typeof ne.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(ro===null||!ro.has(he)))){j.flags|=65536,d&=-d,j.lanes|=d;var De=g2(j,K,d);$b(j,De);break e}}j=j.return}while(j!==null)}Y2(w)}catch(nt){d=nt,tn===w&&w!==null&&(tn=w=w.return);continue}break}while(!0)}function K2(){var o=Bf.current;return Bf.current=Pf,o===null?Pf:o}function bg(){(gn===0||gn===3||gn===2)&&(gn=4),Cn===null||($o&268435455)===0&&(Ff&268435455)===0||ao(Cn,Ln)}function Hf(o,d){var w=Bt;Bt|=2;var A=K2();(Cn!==o||Ln!==d)&&(fs=null,Vo(o,d));do try{X8();break}catch(P){G2(o,P)}while(!0);if(Rm(),Bt=w,Bf.current=A,tn!==null)throw Error(r(261));return Cn=null,Ln=0,gn}function X8(){for(;tn!==null;)X2(tn)}function Y8(){for(;tn!==null&&!lr();)X2(tn)}function X2(o){var d=J2(o.alternate,o,Ri);o.memoizedProps=o.pendingProps,d===null?Y2(o):tn=d,fg.current=null}function Y2(o){var d=o;do{var w=d.alternate;if(o=d.return,(d.flags&32768)===0){if(w=$8(w,d,Ri),w!==null){tn=w;return}}else{if(w=W8(w,d),w!==null){w.flags&=32767,tn=w;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{gn=6,tn=null;return}}if(d=d.sibling,d!==null){tn=d;return}tn=d=o}while(d!==null);gn===0&&(gn=5)}function Ho(o,d,w){var A=St,P=ta.transition;try{ta.transition=null,St=1,Z8(o,d,w,A)}finally{ta.transition=P,St=A}return null}function Z8(o,d,w,A){do ec();while(no!==null);if((Bt&6)!==0)throw Error(r(327));w=o.finishedWork;var P=o.finishedLanes;if(w===null)return null;if(o.finishedWork=null,o.finishedLanes=0,w===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var j=w.lanes|w.childLanes;if(ot(o,j),o===Cn&&(tn=Cn=null,Ln=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||zf||(zf=!0,eE(tr,function(){return ec(),null})),j=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||j){j=ta.transition,ta.transition=null;var z=St;St=1;var K=Bt;Bt|=4,fg.current=null,H8(o,w),U2(w,o),qn(bm),Ra=!!wm,bm=wm=null,o.current=w,q8(w),Xd(),Bt=K,St=z,ta.transition=j}else o.current=w;if(zf&&(zf=!1,no=o,$f=P),j=o.pendingLanes,j===0&&(ro=null),Tt(w.stateNode),mi(o,Gt()),d!==null)for(A=o.onRecoverableError,w=0;w<d.length;w++)P=d[w],A(P.value,{componentStack:P.stack,digest:P.digest});if(Uf)throw Uf=!1,o=mg,mg=null,o;return($f&1)!==0&&o.tag!==0&&ec(),j=o.pendingLanes,(j&1)!==0?o===gg?Tu++:(Tu=0,gg=o):Tu=0,Qs(),null}function ec(){if(no!==null){var o=Qd($f),d=ta.transition,w=St;try{if(ta.transition=null,St=16>o?16:o,no===null)var A=!1;else{if(o=no,no=null,$f=0,(Bt&6)!==0)throw Error(r(331));var P=Bt;for(Bt|=4,Xe=o.current;Xe!==null;){var j=Xe,z=j.child;if((Xe.flags&16)!==0){var K=j.deletions;if(K!==null){for(var J=0;J<K.length;J++){var ve=K[J];for(Xe=ve;Xe!==null;){var Te=Xe;switch(Te.tag){case 0:case 11:case 15:Nu(8,Te,j)}var Pe=Te.child;if(Pe!==null)Pe.return=Te,Xe=Pe;else for(;Xe!==null;){Te=Xe;var Ne=Te.sibling,Ve=Te.return;if(M2(Te),Te===ve){Xe=null;break}if(Ne!==null){Ne.return=Ve,Xe=Ne;break}Xe=Ve}}}var et=j.alternate;if(et!==null){var tt=et.child;if(tt!==null){et.child=null;do{var Yr=tt.sibling;tt.sibling=null,tt=Yr}while(tt!==null)}}Xe=j}}if((j.subtreeFlags&2064)!==0&&z!==null)z.return=j,Xe=z;else e:for(;Xe!==null;){if(j=Xe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Nu(9,j,j.return)}var ce=j.sibling;if(ce!==null){ce.return=j.return,Xe=ce;break e}Xe=j.return}}var ne=o.current;for(Xe=ne;Xe!==null;){z=Xe;var he=z.child;if((z.subtreeFlags&2064)!==0&&he!==null)he.return=z,Xe=he;else e:for(z=ne;Xe!==null;){if(K=Xe,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Lf(9,K)}}catch(nt){$r(K,K.return,nt)}if(K===z){Xe=null;break e}var De=K.sibling;if(De!==null){De.return=K.return,Xe=De;break e}Xe=K.return}}if(Bt=P,Qs(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Mt,o)}catch{}A=!0}return A}finally{St=w,ta.transition=d}}return!1}function Z2(o,d,w){d=Yl(w,d),d=m2(o,d,1),o=eo(o,d,1),d=ai(),o!==null&&(q(o,1,d),mi(o,d))}function $r(o,d,w){if(o.tag===3)Z2(o,o,w);else for(;d!==null;){if(d.tag===3){Z2(d,o,w);break}else if(d.tag===1){var A=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(ro===null||!ro.has(A))){o=Yl(w,o),o=g2(d,o,1),d=eo(d,o,1),o=ai(),d!==null&&(q(d,1,o),mi(d,o));break}}d=d.return}}function Q8(o,d,w){var A=o.pingCache;A!==null&&A.delete(d),d=ai(),o.pingedLanes|=o.suspendedLanes&w,Cn===o&&(Ln&w)===w&&(gn===4||gn===3&&(Ln&130023424)===Ln&&500>Gt()-pg?Vo(o,0):hg|=w),mi(o,d)}function Q2(o,d){d===0&&((o.mode&1)===0?d=1:(d=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var w=ai();o=cs(o,d),o!==null&&(q(o,d,w),mi(o,w))}function J8(o){var d=o.memoizedState,w=0;d!==null&&(w=d.retryLane),Q2(o,w)}function ej(o,d){var w=0;switch(o.tag){case 13:var A=o.stateNode,P=o.memoizedState;P!==null&&(w=P.retryLane);break;case 19:A=o.stateNode;break;default:throw Error(r(314))}A!==null&&A.delete(d),Q2(o,w)}var J2;J2=function(o,d,w){if(o!==null)if(o.memoizedProps!==d.pendingProps||di.current)hi=!0;else{if((o.lanes&w)===0&&(d.flags&128)===0)return hi=!1,z8(o,d,w);hi=(o.flags&131072)!==0}else hi=!1,_r&&(d.flags&1048576)!==0&&Pb(d,wf,d.index);switch(d.lanes=0,d.tag){case 2:var A=d.type;Mf(o,d),o=d.pendingProps;var P=$l(d,Gn.current);Kl(d,w),P=Hm(null,d,A,o,P,w);var j=qm();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,fi(A)?(j=!0,xf(d)):j=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Bm(d),P.updater=jf,d.stateNode=P,P._reactInternals=d,Qm(d,A,o,w),d=rg(null,d,A,!0,j,w)):(d.tag=0,_r&&j&&Om(d),ii(null,d,P,w),d=d.child),d;case 16:A=d.elementType;e:{switch(Mf(o,d),o=d.pendingProps,P=A._init,A=P(A._payload),d.type=A,P=d.tag=rj(A),o=va(A,o),P){case 0:d=tg(null,d,A,o,w);break e;case 1:d=_2(null,d,A,o,w);break e;case 11:d=w2(null,d,A,o,w);break e;case 14:d=b2(null,d,A,va(A.type,o),w);break e}throw Error(r(306,A,""))}return d;case 0:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),tg(o,d,A,P,w);case 1:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),_2(o,d,A,P,w);case 3:e:{if(C2(d),o===null)throw Error(r(387));A=d.pendingProps,j=d.memoizedState,P=j.element,zb(o,d),Cf(d,A,null,w);var z=d.memoizedState;if(A=z.element,j.isDehydrated)if(j={element:A,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},d.updateQueue.baseState=j,d.memoizedState=j,d.flags&256){P=Yl(Error(r(423)),d),d=N2(o,d,A,w,P);break e}else if(A!==P){P=Yl(Error(r(424)),d),d=N2(o,d,A,w,P);break e}else for(ji=Xs(d.stateNode.containerInfo.firstChild),Pi=d,_r=!0,xa=null,w=Fb(d,null,A,w),d.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Hl(),A===P){d=ds(o,d,w);break e}ii(o,d,A,w)}d=d.child}return d;case 5:return Vb(d),o===null&&km(d),A=d.type,P=d.pendingProps,j=o!==null?o.memoizedProps:null,z=P.children,Em(A,P)?z=null:j!==null&&Em(A,j)&&(d.flags|=32),A2(o,d),ii(o,d,z,w),d.child;case 6:return o===null&&km(d),null;case 13:return O2(o,d,w);case 4:return Fm(d,d.stateNode.containerInfo),A=d.pendingProps,o===null?d.child=ql(d,null,A,w):ii(o,d,A,w),d.child;case 11:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),w2(o,d,A,P,w);case 7:return ii(o,d,d.pendingProps,w),d.child;case 8:return ii(o,d,d.pendingProps.children,w),d.child;case 12:return ii(o,d,d.pendingProps.children,w),d.child;case 10:e:{if(A=d.type._context,P=d.pendingProps,j=d.memoizedProps,z=P.value,dr(Sf,A._currentValue),A._currentValue=z,j!==null)if(ae(j.value,z)){if(j.children===P.children&&!di.current){d=ds(o,d,w);break e}}else for(j=d.child,j!==null&&(j.return=d);j!==null;){var K=j.dependencies;if(K!==null){z=j.child;for(var J=K.firstContext;J!==null;){if(J.context===A){if(j.tag===1){J=us(-1,w&-w),J.tag=2;var ve=j.updateQueue;if(ve!==null){ve=ve.shared;var Te=ve.pending;Te===null?J.next=J:(J.next=Te.next,Te.next=J),ve.pending=J}}j.lanes|=w,J=j.alternate,J!==null&&(J.lanes|=w),Dm(j.return,w,d),K.lanes|=w;break}J=J.next}}else if(j.tag===10)z=j.type===d.type?null:j.child;else if(j.tag===18){if(z=j.return,z===null)throw Error(r(341));z.lanes|=w,K=z.alternate,K!==null&&(K.lanes|=w),Dm(z,w,d),z=j.sibling}else z=j.child;if(z!==null)z.return=j;else for(z=j;z!==null;){if(z===d){z=null;break}if(j=z.sibling,j!==null){j.return=z.return,z=j;break}z=z.return}j=z}ii(o,d,P.children,w),d=d.child}return d;case 9:return P=d.type,A=d.pendingProps.children,Kl(d,w),P=Ji(P),A=A(P),d.flags|=1,ii(o,d,A,w),d.child;case 14:return A=d.type,P=va(A,d.pendingProps),P=va(A.type,P),b2(o,d,A,P,w);case 15:return E2(o,d,d.type,d.pendingProps,w);case 17:return A=d.type,P=d.pendingProps,P=d.elementType===A?P:va(A,P),Mf(o,d),d.tag=1,fi(A)?(o=!0,xf(d)):o=!1,Kl(d,w),h2(d,A,P),Qm(d,A,P,w),rg(null,d,A,!0,o,w);case 19:return T2(o,d,w);case 22:return S2(o,d,w)}throw Error(r(156,d.tag))};function eE(o,d){return Ci(o,d)}function tj(o,d,w,A){this.tag=o,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(o,d,w,A){return new tj(o,d,w,A)}function Eg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function rj(o){if(typeof o=="function")return Eg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===de)return 11;if(o===te)return 14}return 2}function so(o,d){var w=o.alternate;return w===null?(w=ra(o.tag,d,o.key,o.mode),w.elementType=o.elementType,w.type=o.type,w.stateNode=o.stateNode,w.alternate=o,o.alternate=w):(w.pendingProps=d,w.type=o.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=o.flags&14680064,w.childLanes=o.childLanes,w.lanes=o.lanes,w.child=o.child,w.memoizedProps=o.memoizedProps,w.memoizedState=o.memoizedState,w.updateQueue=o.updateQueue,d=o.dependencies,w.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},w.sibling=o.sibling,w.index=o.index,w.ref=o.ref,w}function qf(o,d,w,A,P,j){var z=2;if(A=o,typeof o=="function")Eg(o)&&(z=1);else if(typeof o=="string")z=5;else e:switch(o){case H:return qo(w.children,P,j,d);case re:z=8,P|=8;break;case X:return o=ra(12,w,d,P|2),o.elementType=X,o.lanes=j,o;case Ae:return o=ra(13,w,d,P),o.elementType=Ae,o.lanes=j,o;case ke:return o=ra(19,w,d,P),o.elementType=ke,o.lanes=j,o;case Q:return Gf(w,P,j,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ee:z=10;break e;case ue:z=9;break e;case de:z=11;break e;case te:z=14;break e;case ie:z=16,A=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return d=ra(z,w,d,P),d.elementType=o,d.type=A,d.lanes=j,d}function qo(o,d,w,A){return o=ra(7,o,A,d),o.lanes=w,o}function Gf(o,d,w,A){return o=ra(22,o,A,d),o.elementType=Q,o.lanes=w,o.stateNode={isHidden:!1},o}function Sg(o,d,w){return o=ra(6,o,null,d),o.lanes=w,o}function Ag(o,d,w){return d=ra(4,o.children!==null?o.children:[],o.key,d),d.lanes=w,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function nj(o,d,w,A,P){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=le(0),this.expirationTimes=le(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=le(0),this.identifierPrefix=A,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function _g(o,d,w,A,P,j,z,K,J){return o=new nj(o,d,w,K,J),d===1?(d=1,j===!0&&(d|=8)):d=0,j=ra(3,null,null,d),o.current=j,j.stateNode=o,j.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bm(j),o}function ij(o,d,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:A==null?null:""+A,children:o,containerInfo:d,implementation:w}}function tE(o){if(!o)return Zs;o=o._reactInternals;e:{if(at(o)!==o||o.tag!==1)throw Error(r(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(fi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(o.tag===1){var w=o.type;if(fi(w))return Ib(o,w,d)}return d}function rE(o,d,w,A,P,j,z,K,J){return o=_g(w,A,!0,o,P,j,z,K,J),o.context=tE(null),w=o.current,A=ai(),P=io(w),j=us(A,P),j.callback=d??null,eo(w,j,P),o.current.lanes=P,q(o,P,A),mi(o,A),o}function Kf(o,d,w,A){var P=d.current,j=ai(),z=io(P);return w=tE(w),d.context===null?d.context=w:d.pendingContext=w,d=us(j,z),d.payload={element:o},A=A===void 0?null:A,A!==null&&(d.callback=A),o=eo(P,d,z),o!==null&&(ba(o,P,z,j),_f(o,P,z)),z}function Xf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function nE(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var w=o.retryLane;o.retryLane=w!==0&&w<d?w:d}}function Cg(o,d){nE(o,d),(o=o.alternate)&&nE(o,d)}function aj(){return null}var iE=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ng(o){this._internalRoot=o}Yf.prototype.render=Ng.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(r(409));Kf(o,d,null,null)},Yf.prototype.unmount=Ng.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Wo(function(){Kf(null,o,null,null)}),d[as]=null}};function Yf(o){this._internalRoot=o}Yf.prototype.unstable_scheduleHydration=function(o){if(o){var d=cr();o={blockedOn:null,target:o,priority:d};for(var w=0;w<jn.length&&d!==0&&d<jn[w].priority;w++);jn.splice(w,0,o),w===0&&ef(o)}};function Og(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function aE(){}function sj(o,d,w,A,P){if(P){if(typeof A=="function"){var j=A;A=function(){var ve=Xf(z);j.call(ve)}}var z=rE(d,A,o,0,null,!1,!1,"",aE);return o._reactRootContainer=z,o[as]=z.current,pu(o.nodeType===8?o.parentNode:o),Wo(),z}for(;P=o.lastChild;)o.removeChild(P);if(typeof A=="function"){var K=A;A=function(){var ve=Xf(J);K.call(ve)}}var J=_g(o,0,!1,null,null,!1,!1,"",aE);return o._reactRootContainer=J,o[as]=J.current,pu(o.nodeType===8?o.parentNode:o),Wo(function(){Kf(d,J,w,A)}),J}function Qf(o,d,w,A,P){var j=w._reactRootContainer;if(j){var z=j;if(typeof P=="function"){var K=P;P=function(){var J=Xf(z);K.call(J)}}Kf(d,z,o,P)}else z=sj(w,d,o,P,A);return Xf(z)}kl=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var w=rr(d.pendingLanes);w!==0&&(Ur(d,w|1),mi(d,Gt()),(Bt&6)===0&&(Jl=Gt()+500,Qs()))}break;case 13:Wo(function(){var A=cs(o,1);if(A!==null){var P=ai();ba(A,o,1,P)}}),Cg(o,1)}},Hn=function(o){if(o.tag===13){var d=cs(o,134217728);if(d!==null){var w=ai();ba(d,o,134217728,w)}Cg(o,134217728)}},ct=function(o){if(o.tag===13){var d=io(o),w=cs(o,d);if(w!==null){var A=ai();ba(w,o,d,A)}Cg(o,d)}},cr=function(){return St},eu=function(o,d){var w=St;try{return St=o,d()}finally{St=w}},Nt=function(o,d,w){switch(d){case"input":if(Pt(o,w),d=w.name,w.type==="radio"&&d!=null){for(w=o;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<w.length;d++){var A=w[d];if(A!==o&&A.form===o.form){var P=mf(A);if(!P)throw Error(r(90));we(A),Pt(A,P)}}}break;case"textarea":Ut(o,w);break;case"select":d=w.value,d!=null&&$e(o,!!w.multiple,d,!1)}},So=yg,en=Wo;var oj={usingClientEntryPoint:!1,Events:[xu,Ul,mf,Il,ti,yg]},ku={findFiberByHostInstance:Mo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lj={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ja(o),o===null?null:o.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||aj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Mt=Jf.inject(lj),Et=Jf}catch{}}return gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oj,gi.createPortal=function(o,d){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(d))throw Error(r(200));return ij(o,d,null,w)},gi.createRoot=function(o,d){if(!Og(o))throw Error(r(299));var w=!1,A="",P=iE;return d!=null&&(d.unstable_strictMode===!0&&(w=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=_g(o,1,!1,null,null,w,!1,A,P),o[as]=d.current,pu(o.nodeType===8?o.parentNode:o),new Ng(d)},gi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Ja(d),o=o===null?null:o.stateNode,o},gi.flushSync=function(o){return Wo(o)},gi.hydrate=function(o,d,w){if(!Zf(d))throw Error(r(200));return Qf(null,o,d,!0,w)},gi.hydrateRoot=function(o,d,w){if(!Og(o))throw Error(r(405));var A=w!=null&&w.hydratedSources||null,P=!1,j="",z=iE;if(w!=null&&(w.unstable_strictMode===!0&&(P=!0),w.identifierPrefix!==void 0&&(j=w.identifierPrefix),w.onRecoverableError!==void 0&&(z=w.onRecoverableError)),d=rE(d,null,o,1,w??null,P,!1,j,z),o[as]=d.current,pu(o),A)for(o=0;o<A.length;o++)w=A[o],P=w._getVersion,P=P(w._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[w,P]:d.mutableSourceEagerHydrationData.push(w,P);return new Yf(d)},gi.render=function(o,d,w){if(!Zf(d))throw Error(r(200));return Qf(null,o,d,!1,w)},gi.unmountComponentAtNode=function(o){if(!Zf(o))throw Error(r(40));return o._reactRootContainer?(Wo(function(){Qf(null,null,o,!1,function(){o._reactRootContainer=null,o[as]=null})}),!0):!1},gi.unstable_batchedUpdates=yg,gi.unstable_renderSubtreeIntoContainer=function(o,d,w,A){if(!Zf(w))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Qf(o,d,w,!1,A)},gi.version="18.3.1-next-f1338f8080-20240426",gi}var hE;function lN(){if(hE)return kg.exports;hE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kg.exports=gj(),kg.exports}var pE;function xj(){if(pE)return th;pE=1;var e=lN();return th.createRoot=e.createRoot,th.hydrateRoot=e.hydrateRoot,th}var vj=xj();const yj=da(vj);var mE="popstate";function wj(e={}){function t(i,s){let{pathname:c="/",search:f="",hash:p=""}=Sl(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_x("",{pathname:c,search:f,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let c=i.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let p=i.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof s=="string"?s:ed(s))}function n(i,s){zi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return Ej(t,r,n,e)}function Tr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bj(){return Math.random().toString(36).substring(2,10)}function gE(e,t){return{usr:e.state,key:e.key,idx:t}}function _x(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sl(t):t,state:r,key:t&&t.key||n||bj()}}function ed({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Ej(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,c=i.history,f="POP",p=null,m=x();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function x(){return(c.state||{idx:null}).idx}function b(){f="POP";let k=x(),R=k==null?null:k-m;m=k,p&&p({action:f,location:O.location,delta:R})}function S(k,R){f="PUSH";let L=_x(O.location,k,R);r&&r(L,k),m=x()+1;let M=gE(L,m),U=O.createHref(L);try{c.pushState(M,"",U)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(U)}s&&p&&p({action:f,location:O.location,delta:1})}function _(k,R){f="REPLACE";let L=_x(O.location,k,R);r&&r(L,k),m=x();let M=gE(L,m),U=O.createHref(L);c.replaceState(M,"",U),s&&p&&p({action:f,location:O.location,delta:0})}function I(k){return Sj(k)}let O={get action(){return f},get location(){return e(i,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(mE,b),p=k,()=>{i.removeEventListener(mE,b),p=null}},createHref(k){return t(i,k)},createURL:I,encodeLocation(k){let R=I(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:S,replace:_,go(k){return c.go(k)}};return O}function Sj(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Tr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ed(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function cN(e,t,r="/"){return Aj(e,t,r,!1)}function Aj(e,t,r,n){let i=typeof t=="string"?Sl(t):t,s=As(i.pathname||"/",r);if(s==null)return null;let c=uN(e);_j(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=Dj(s);f=Rj(c[p],m,n)}return f}function uN(e,t=[],r=[],n="",i=!1){let s=(c,f,p=i,m)=>{let x={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(n)&&p)return;Tr(x.relativePath.startsWith(n),`Absolute route path "${x.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(n.length)}let b=bs([n,x.relativePath]),S=r.concat(x);c.children&&c.children.length>0&&(Tr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),uN(c.children,t,S,b,p)),!(c.path==null&&!c.index)&&t.push({path:b,score:Pj(b,c.index),routesMeta:S})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))s(c,f);else for(let p of dN(c.path))s(c,f,!0,p)}),t}function dN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let c=dN(n.join("/")),f=[];return f.push(...c.map(p=>p===""?s:[s,p].join("/"))),i&&f.push(...c),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function _j(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:jj(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Cj=/^:[\w-]+$/,Nj=3,Oj=2,Ij=1,Tj=10,kj=-2,xE=e=>e==="*";function Pj(e,t){let r=e.split("/"),n=r.length;return r.some(xE)&&(n+=kj),t&&(n+=Oj),r.filter(i=>!xE(i)).reduce((i,s)=>i+(Cj.test(s)?Nj:s===""?Ij:Tj),n)}function jj(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Rj(e,t,r=!1){let{routesMeta:n}=e,i={},s="/",c=[];for(let f=0;f<n.length;++f){let p=n[f],m=f===n.length-1,x=s==="/"?t:t.slice(s.length)||"/",b=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},x),S=p.route;if(!b&&m&&r&&!n[n.length-1].route.index&&(b=Wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(i,b.params),c.push({params:i,pathname:bs([s,b.pathname]),pathnameBase:Uj(bs([s,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(s=bs([s,b.pathnameBase]))}return c}function Wh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Mj(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],c=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((m,{paramName:x,isOptional:b},S)=>{if(x==="*"){let I=f[S]||"";c=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const _=f[S];return b&&!_?m[x]=void 0:m[x]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:c,pattern:e}}function Mj(e,t=!1,r=!0){zi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(n.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Dj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function As(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lj=e=>fN.test(e);function Bj(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Sl(e):e,s;if(r)if(Lj(r))s=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),zi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?s=vE(r.substring(1),"/"):s=vE(r,t)}else s=t;return{pathname:s,search:zj(n),hash:$j(i)}}function vE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yv(e){let t=Fj(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Zv(e,t,r,n=!1){let i;typeof e=="string"?i=Sl(e):(i={...e},Tr(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),Tr(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),Tr(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let s=e===""||i.pathname==="",c=s?"/":i.pathname,f;if(c==null)f=r;else{let b=t.length-1;if(!n&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;i.pathname=S.join("/")}f=b>=0?t[b]:"/"}let p=Bj(i,f),m=c&&c!=="/"&&c.endsWith("/"),x=(s||c===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(m||x)&&(p.pathname+="/"),p}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),Uj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$j=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Wj=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Vj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Hj(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pN(e,t){let r=e;if(typeof r!="string"||!fN.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(hN)try{let s=new URL(window.location.href),c=r.startsWith("//")?new URL(s.protocol+r):new URL(r),f=As(c.pathname,t);c.origin===s.origin&&f!=null?r=f+c.search+c.hash:i=!0}catch{zi(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mN=["POST","PUT","PATCH","DELETE"];new Set(mN);var qj=["GET",...mN];new Set(qj);var Mc=N.createContext(null);Mc.displayName="DataRouter";var tp=N.createContext(null);tp.displayName="DataRouterState";var Gj=N.createContext(!1),gN=N.createContext({isTransitioning:!1});gN.displayName="ViewTransition";var Kj=N.createContext(new Map);Kj.displayName="Fetchers";var Xj=N.createContext(null);Xj.displayName="Await";var qi=N.createContext(null);qi.displayName="Navigation";var bd=N.createContext(null);bd.displayName="Location";var Ka=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var Qv=N.createContext(null);Qv.displayName="RouteError";var xN="REACT_ROUTER_ERROR",Yj="REDIRECT",Zj="ROUTE_ERROR_RESPONSE";function Qj(e){if(e.startsWith(`${xN}:${Yj}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Jj(e){if(e.startsWith(`${xN}:${Zj}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Wj(t.status,t.statusText,t.data)}catch{}}function eR(e,{relative:t}={}){Tr(Dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(qi),{hash:i,pathname:s,search:c}=Ed(e,{relative:t}),f=s;return r!=="/"&&(f=s==="/"?r:bs([r,s])),n.createHref({pathname:f,search:c,hash:i})}function Dc(){return N.useContext(bd)!=null}function Ta(){return Tr(Dc(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bd).location}var vN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yN(e){N.useContext(qi).static||N.useLayoutEffect(e)}function rp(){let{isDataRoute:e}=N.useContext(Ka);return e?hR():tR()}function tR(){Tr(Dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Mc),{basename:t,navigator:r}=N.useContext(qi),{matches:n}=N.useContext(Ka),{pathname:i}=Ta(),s=JSON.stringify(Yv(n)),c=N.useRef(!1);return yN(()=>{c.current=!0}),N.useCallback((p,m={})=>{if(zi(c.current,vN),!c.current)return;if(typeof p=="number"){r.go(p);return}let x=Zv(p,JSON.parse(s),i,m.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:bs([t,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[t,r,s,i,e])}N.createContext(null);function Ed(e,{relative:t}={}){let{matches:r}=N.useContext(Ka),{pathname:n}=Ta(),i=JSON.stringify(Yv(r));return N.useMemo(()=>Zv(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function rR(e,t){return wN(e,t)}function wN(e,t,r,n,i){Tr(Dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(qi),{matches:c}=N.useContext(Ka),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",x=f?f.pathnameBase:"/",b=f&&f.route;{let L=b&&b.path||"";EN(m,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let S=Ta(),_;if(t){let L=typeof t=="string"?Sl(t):t;Tr(x==="/"||L.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${L.pathname}" was given in the \`location\` prop.`),_=L}else _=S;let I=_.pathname||"/",O=I;if(x!=="/"){let L=x.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let k=cN(e,{pathname:O});zi(b||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),zi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=oR(k&&k.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:bs([x,s.encodeLocation?s.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?x:bs([x,s.encodeLocation?s.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,r,n,i);return t&&R?N.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function nR(){let e=fR(),t=Vj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:i},r):null,c)}var iR=N.createElement(nR,null),bN=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=Jj(e.digest);r&&(e=r)}let t=e!==void 0?N.createElement(Ka.Provider,{value:this.props.routeContext},N.createElement(Qv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?N.createElement(aR,{error:e},t):t}};bN.contextType=Gj;var Mg=new WeakMap;function aR({children:e,error:t}){let{basename:r}=N.useContext(qi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=Qj(t.digest);if(n){let i=Mg.get(t);if(i)throw i;let s=pN(n.location,r);if(hN&&!Mg.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw Mg.set(t,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function sR({routeContext:e,match:t,children:r}){let n=N.useContext(Mc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ka.Provider,{value:e},r)}function oR(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,c=r?.errors;if(c!=null){let x=s.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Tr(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,x+1))}let f=!1,p=-1;if(r)for(let x=0;x<s.length;x++){let b=s[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=x),b.route.id){let{loaderData:S,errors:_}=r,I=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!_||_[b.route.id]===void 0);if(b.route.lazy||I){f=!0,p>=0?s=s.slice(0,p+1):s=[s[0]];break}}}let m=r&&n?(x,b)=>{n(x,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Hj(r.matches),errorInfo:b})}:void 0;return s.reduceRight((x,b,S)=>{let _,I=!1,O=null,k=null;r&&(_=c&&b.route.id?c[b.route.id]:void 0,O=b.route.errorElement||iR,f&&(p<0&&S===0?(EN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):p===S&&(I=!0,k=b.route.hydrateFallbackElement||null)));let R=t.concat(s.slice(0,S+1)),L=()=>{let M;return _?M=O:I?M=k:b.route.Component?M=N.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=x,N.createElement(sR,{match:b,routeContext:{outlet:x,matches:R,isDataRoute:r!=null},children:M})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?N.createElement(bN,{location:r.location,revalidation:r.revalidation,component:O,error:_,children:L(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:m}):L()},null)}function Jv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lR(e){let t=N.useContext(Mc);return Tr(t,Jv(e)),t}function cR(e){let t=N.useContext(tp);return Tr(t,Jv(e)),t}function uR(e){let t=N.useContext(Ka);return Tr(t,Jv(e)),t}function ey(e){let t=uR(e),r=t.matches[t.matches.length-1];return Tr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function dR(){return ey("useRouteId")}function fR(){let e=N.useContext(Qv),t=cR("useRouteError"),r=ey("useRouteError");return e!==void 0?e:t.errors?.[r]}function hR(){let{router:e}=lR("useNavigate"),t=ey("useNavigate"),r=N.useRef(!1);return yN(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{zi(r.current,vN),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var yE={};function EN(e,t,r){!t&&!yE[e]&&(yE[e]=!0,zi(!1,r))}N.memo(pR);function pR({routes:e,future:t,state:r,onError:n}){return wN(e,void 0,r,n,t)}function mR({to:e,replace:t,state:r,relative:n}){Tr(Dc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(qi);zi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(Ka),{pathname:c}=Ta(),f=rp(),p=Zv(e,Yv(s),c,n==="path"),m=JSON.stringify(p);return N.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:n})},[f,m,n,t,r]),null}function za(e){Tr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:c}){Tr(!Dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:f,navigator:i,static:s,unstable_useTransitions:c,future:{}}),[f,i,s,c]);typeof r=="string"&&(r=Sl(r));let{pathname:m="/",search:x="",hash:b="",state:S=null,key:_="default"}=r,I=N.useMemo(()=>{let O=As(m,f);return O==null?null:{location:{pathname:O,search:x,hash:b,state:S,key:_},navigationType:n}},[f,m,x,b,S,_,n]);return zi(I!=null,`<Router basename="${f}"> is not able to match the URL "${m}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:N.createElement(qi.Provider,{value:p},N.createElement(bd.Provider,{children:t,value:I}))}function xR({children:e,location:t}){return rR(Cx(e),t)}function Cx(e,t=[]){let r=[];return N.Children.forEach(e,(n,i)=>{if(!N.isValidElement(n))return;let s=[...t,i];if(n.type===N.Fragment){r.push.apply(r,Cx(n.props.children,s));return}Tr(n.type===za,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Cx(n.props.children,s)),r.push(c)}),r}var Th="get",kh="application/x-www-form-urlencoded";function np(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function vR(e){return np(e)&&e.tagName.toLowerCase()==="button"}function yR(e){return np(e)&&e.tagName.toLowerCase()==="form"}function wR(e){return np(e)&&e.tagName.toLowerCase()==="input"}function bR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ER(e,t){return e.button===0&&(!t||t==="_self")&&!bR(e)}var rh=null;function SR(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var AR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(e){return e!=null&&!AR.has(e)?(zi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):e}function _R(e,t){let r,n,i,s,c;if(yR(e)){let f=e.getAttribute("action");n=f?As(f,t):null,r=e.getAttribute("method")||Th,i=Dg(e.getAttribute("enctype"))||kh,s=new FormData(e)}else if(vR(e)||wR(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(n=p?As(p,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||Th,i=Dg(e.getAttribute("formenctype"))||Dg(f.getAttribute("enctype"))||kh,s=new FormData(f,e),!SR()){let{name:m,type:x,value:b}=e;if(x==="image"){let S=m?`${m}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else m&&s.append(m,b)}}else{if(np(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Th,n=null,i=kh,c=e}return s&&i==="text/plain"&&(c=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ty(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CR(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&As(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function NR(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IR(e,t,r){let n=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let c=await NR(s,r);return c.links?c.links():[]}return[]}));return jR(n.flat(1).filter(OR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wE(e,t,r,n,i,s){let c=(p,m)=>r[m]?p.route.id!==r[m].route.id:!0,f=(p,m)=>r[m].pathname!==p.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==p.params["*"];return s==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):s==="data"?t.filter((p,m)=>{let x=n.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function TR(e,t,{includeHydrateFallback:r}={}){return kR(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function kR(e){return[...new Set(e)]}function PR(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function jR(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let s=JSON.stringify(PR(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function SN(){let e=N.useContext(Mc);return ty(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RR(){let e=N.useContext(tp);return ty(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ry=N.createContext(void 0);ry.displayName="FrameworkContext";function AN(){let e=N.useContext(ry);return ty(e,"You must render this element inside a <HydratedRouter> element"),e}function MR(e,t){let r=N.useContext(ry),[n,i]=N.useState(!1),[s,c]=N.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:x,onTouchStart:b}=t,S=N.useRef(null);N.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let O=R=>{R.forEach(L=>{c(L.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[e]),N.useEffect(()=>{if(n){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[n]);let _=()=>{i(!0)},I=()=>{i(!1),c(!1)};return r?e!=="intent"?[s,S,{}]:[s,S,{onFocus:ju(f,_),onBlur:ju(p,I),onMouseEnter:ju(m,_),onMouseLeave:ju(x,I),onTouchStart:ju(b,_)}]:[!1,S,{}]}function ju(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function DR({page:e,...t}){let{router:r}=SN(),n=N.useMemo(()=>cN(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(BR,{page:e,matches:n,...t}):null}function LR(e){let{manifest:t,routeModules:r}=AN(),[n,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return IR(e,t,r).then(c=>{s||i(c)}),()=>{s=!0}},[e,t,r]),n}function BR({page:e,matches:t,...r}){let n=Ta(),{future:i,manifest:s,routeModules:c}=AN(),{basename:f}=SN(),{loaderData:p,matches:m}=RR(),x=N.useMemo(()=>wE(e,t,m,s,n,"data"),[e,t,m,s,n]),b=N.useMemo(()=>wE(e,t,m,s,n,"assets"),[e,t,m,s,n]),S=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let O=new Set,k=!1;if(t.forEach(L=>{let M=s.routes[L.route.id];!M||!M.hasLoader||(!x.some(U=>U.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||M.hasClientLoader?k=!0:O.add(L.route.id))}),O.size===0)return[];let R=CR(e,f,i.unstable_trailingSlashAwareDataRequests,"data");return k&&O.size>0&&R.searchParams.set("_routes",t.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[R.pathname+R.search]},[f,i.unstable_trailingSlashAwareDataRequests,p,n,s,x,t,e,c]),_=N.useMemo(()=>TR(b,s),[b,s]),I=LR(b);return N.createElement(N.Fragment,null,S.map(O=>N.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),_.map(O=>N.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),I.map(({key:O,link:k})=>N.createElement("link",{key:O,nonce:r.nonce,...k})))}function FR(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var UR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UR&&(window.__reactRouterVersion="7.12.0")}catch{}function zR({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=N.useRef();i.current==null&&(i.current=wj({window:n,v5Compat:!0}));let s=i.current,[c,f]=N.useState({action:s.action,location:s.location}),p=N.useCallback(m=>{r===!1?f(m):N.startTransition(()=>f(m))},[r]);return N.useLayoutEffect(()=>s.listen(p),[s,p]),N.createElement(gR,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:s,unstable_useTransitions:r})}var _N=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:c,state:f,target:p,to:m,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:S,..._},I){let{basename:O,unstable_useTransitions:k}=N.useContext(qi),R=typeof m=="string"&&_N.test(m),L=pN(m,O);m=L.to;let M=eR(m,{relative:i}),[U,W,V]=MR(n,_),H=HR(m,{replace:c,state:f,target:p,preventScrollReset:x,relative:i,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:k});function re(Ee){t&&t(Ee),Ee.defaultPrevented||H(Ee)}let X=N.createElement("a",{..._,...V,href:L.absoluteURL||M,onClick:L.isExternal||s?t:re,ref:FR(I,W),target:p,"data-discover":!R&&r==="render"?"true":void 0});return U&&!R?N.createElement(N.Fragment,null,X,N.createElement(DR,{page:M})):X});an.displayName="Link";var $R=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:c,viewTransition:f,children:p,...m},x){let b=Ed(c,{relative:m.relative}),S=Ta(),_=N.useContext(tp),{navigator:I,basename:O}=N.useContext(qi),k=_!=null&&YR(b)&&f===!0,R=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,L=S.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(L=L.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&O&&(M=As(M,O)||M);const U=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let W=L===R||!i&&L.startsWith(R)&&L.charAt(U)==="/",V=M!=null&&(M===R||!i&&M.startsWith(R)&&M.charAt(R.length)==="/"),H={isActive:W,isPending:V,isTransitioning:k},re=W?t:void 0,X;typeof n=="function"?X=n(H):X=[n,W?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Ee=typeof s=="function"?s(H):s;return N.createElement(an,{...m,"aria-current":re,className:X,ref:x,style:Ee,to:c,viewTransition:f},typeof p=="function"?p(H):p)});$R.displayName="NavLink";var WR=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:s,method:c=Th,action:f,onSubmit:p,relative:m,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:S,..._},I)=>{let{unstable_useTransitions:O}=N.useContext(qi),k=KR(),R=XR(f,{relative:m}),L=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&_N.test(f),U=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let V=W.nativeEvent.submitter,H=V?.getAttribute("formmethod")||c,re=()=>k(V||W.currentTarget,{fetcherKey:t,method:H,navigate:r,replace:i,state:s,relative:m,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:S});O&&r!==!1?N.startTransition(()=>re()):re()};return N.createElement("form",{ref:I,method:L,action:R,onSubmit:n?p:U,..._,"data-discover":!M&&e==="render"?"true":void 0})});WR.displayName="Form";function VR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CN(e){let t=N.useContext(Mc);return Tr(t,VR(e)),t}function HR(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=rp(),x=Ta(),b=Ed(e,{relative:s});return N.useCallback(S=>{if(ER(S,t)){S.preventDefault();let _=r!==void 0?r:ed(x)===ed(b),I=()=>m(e,{replace:_,state:n,preventScrollReset:i,relative:s,viewTransition:c,unstable_defaultShouldRevalidate:f});p?N.startTransition(()=>I()):I()}},[x,m,b,r,n,t,e,i,s,c,f,p])}var qR=0,GR=()=>`__${String(++qR)}__`;function KR(){let{router:e}=CN("useSubmit"),{basename:t}=N.useContext(qi),r=dR(),n=e.fetch,i=e.navigate;return N.useCallback(async(s,c={})=>{let{action:f,method:p,encType:m,formData:x,body:b}=_R(s,t);if(c.navigate===!1){let S=c.fetcherKey||GR();await n(S,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||p,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:x,body:b,formMethod:c.method||p,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,i,t,r])}function XR(e,{relative:t}={}){let{basename:r}=N.useContext(qi),n=N.useContext(Ka);Tr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Ed(e||".",{relative:t})},c=Ta();if(e==null){s.search=c.search;let f=new URLSearchParams(s.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let x=f.toString();s.search=x?`?${x}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:bs([r,s.pathname])),ed(s)}function YR(e,{relative:t}={}){let r=N.useContext(gN);Tr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=CN("useViewTransitionState"),i=Ed(e,{relative:t});if(!r.isTransitioning)return!1;let s=As(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=As(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wh(i.pathname,c)!=null||Wh(i.pathname,s)!=null}var ny=lN(),ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),st=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:c,children:f,...p},m)=>N.createElement("svg",{ref:m,...ZR,width:i,height:i,stroke:n,strokeWidth:c?Number(s)*24/Number(i):s,className:`lucide lucide-${QR(e)}`,...p},[...t.map(([x,b])=>N.createElement(x,b)),...(Array.isArray(f)?f:[f])||[]]));return r.displayName=`${e}`,r},JR=st("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),iy=st("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Yu=st("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),e6=st("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),NN=st("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ip=st("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gc=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),t6=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),r6=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),n6=st("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ON=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),i6=st("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),a6=st("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),IN=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),bE=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),s6=st("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),o6=st("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),TN=st("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ay=st("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),l6=st("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]),c6=st("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),kN=st("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),u6=st("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),d6=st("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),f6=st("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),td=st("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),EE=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),PN=st("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),h6=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),sy=st("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),p6=st("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),jN=st("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),m6=st("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),RN=st("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),SE=st("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),ap=st("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),g6=st("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),MN=st("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),x6=st("ScatterChart",[["circle",{cx:"7.5",cy:"7.5",r:".5",key:"1x97lo"}],["circle",{cx:"18.5",cy:"5.5",r:".5",key:"56iowl"}],["circle",{cx:"11.5",cy:"11.5",r:".5",key:"m9xkw9"}],["circle",{cx:"7.5",cy:"16.5",r:".5",key:"14ln9z"}],["circle",{cx:"17.5",cy:"14.5",r:".5",key:"14qxqt"}],["path",{d:"M3 3v18h18",key:"1s2lah"}]]),sp=st("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),Ec=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),DN=st("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),v6=st("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),y6=st("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),rd=st("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),LN=st("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),BN=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Sc=st("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),oy=st("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),w6=st("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),op=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Nx=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ly=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),b6=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),E6=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),S6=st("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),A6=st("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),yi=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_6=st("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),C6=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(!1),i=Ta(),s=rp();N.useEffect(()=>{const x=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const c=`fixed w-full z-50 transition-all duration-300 ${e||i.pathname==="/"?"bg-white/90 backdrop-blur-md shadow-sm py-2":"bg-transparent py-4"}`,f=x=>`cursor-pointer font-medium tracking-wide transition-colors ${i.pathname===x?"text-stone-900 border-b-2 border-stone-800":e?"text-stone-600 hover:text-stone-900":"text-stone-800 hover:text-stone-600"}`,p=x=>{s(x),n(!1)},m=()=>{const x=i.pathname;return x==="/"?v.jsxs("div",{className:"flex items-center gap-2 md:gap-6",children:[v.jsx("div",{className:"w-10 h-10 md:w-16 md:h-16 rounded-full p-0.5 bg-gradient-to-tr from-amber-200 via-rose-200 to-amber-200 shadow-lg shrink-0",children:v.jsx("img",{src:"/images/logo-hub.jpg",alt:"Logo",className:"w-full h-full object-cover rounded-full border-2 border-white/10"})}),v.jsx(an,{to:"/style",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:v.jsx("span",{className:"serif text-base md:text-xl font-bold italic tracking-tighter text-stone-900 whitespace-nowrap",children:"Style"})}),v.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),v.jsx(an,{to:"/perfum",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:v.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-amber-500 whitespace-nowrap",children:"Perfum"})}),v.jsx("div",{className:"h-4 w-px bg-stone-200 block md:h-6"}),v.jsx(an,{to:"/regalos",className:"flex flex-col items-center leading-none hover:opacity-70 transition-opacity cursor-pointer",children:v.jsx("span",{className:"serif text-base md:text-xl font-bold tracking-tight text-rose-500 whitespace-nowrap",children:"Amor Amor"})})]}):x.startsWith("/perfum")?v.jsxs(an,{to:"/perfum",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[v.jsx("span",{className:"serif text-2xl md:text-4xl font-bold tracking-tight text-amber-500",children:"Perfum"}),v.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):x.startsWith("/regalos")?v.jsxs(an,{to:"/regalos",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[v.jsx("span",{className:"serif text-2xl md:text-3xl font-bold tracking-tight text-rose-500",children:"Amor Amor"}),v.jsx("span",{className:"text-stone-600 text-[10px] md:text-xs font-medium tracking-[0.2em] uppercase mt-1",children:"by tus3b"})]}):v.jsxs(an,{to:"/style",className:"flex flex-col items-start leading-none hover:opacity-80 transition-opacity",children:[v.jsx("span",{className:"serif text-xl md:text-4xl font-bold italic tracking-tighter text-stone-900",children:"Style"}),v.jsx("span",{className:"text-stone-500 text-[8px] md:text-xs font-medium tracking-[0.15em] md:tracking-[0.2em] uppercase",children:"by tus3b"})]})};return v.jsxs("nav",{className:c,children:[v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex justify-between items-center h-16",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[i.pathname!=="/"&&v.jsx(an,{to:"/",className:"text-white bg-stone-900 p-2 rounded-full hover:bg-stone-700 transition z-10 shrink-0",title:"Volver al Hub",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),v.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),v.jsx("div",{className:"flex items-center",children:m()})]}),v.jsxs("div",{className:"hidden md:flex space-x-8 items-center",children:[i.pathname!=="/"&&v.jsxs(v.Fragment,{children:[v.jsx(an,{to:"/style",className:f("/style"),children:"Style"}),v.jsx(an,{to:"/perfum",className:f("/perfum"),children:"Perfum"}),v.jsx(an,{to:"/regalos",className:f("/regalos"),children:"Amor Amor"})]}),v.jsx("button",{onClick:()=>{i.pathname==="/style"?document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"}):s("/style")},className:"bg-stone-900 text-white px-6 py-2 rounded-full text-sm uppercase tracking-wider hover:bg-stone-800 transition shadow-lg",children:"Reservar"})]}),v.jsx("div",{className:"md:hidden flex items-center",children:v.jsx("button",{onClick:()=>n(!r),className:"text-stone-800 focus:outline-none",children:r?v.jsx(yi,{size:28}):v.jsx(h6,{size:28})})})]})}),r&&v.jsxs("div",{className:"md:hidden fixed inset-0 top-16 bg-white z-40 flex flex-col p-6 space-y-8 animate-in slide-in-from-right-10",children:[v.jsxs("button",{onClick:()=>p("/style"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[v.jsx(sp,{size:24}),v.jsx("span",{children:"Style (Inicio)"})]}),v.jsxs("button",{onClick:()=>p("/perfum"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[v.jsx(rd,{size:24}),v.jsx("span",{children:"Perfumes"})]}),v.jsxs("button",{onClick:()=>p("/regalos"),className:"flex items-center space-x-4 text-xl font-medium text-stone-700 p-2 active:bg-stone-50 rounded-lg",children:[v.jsx(ay,{size:24}),v.jsx("span",{children:"Regalos"})]}),v.jsx("div",{className:"mt-auto pb-8",children:v.jsx("button",{onClick:()=>p("/booking"),className:"w-full bg-stone-900 text-white py-4 rounded-xl text-center uppercase tracking-widest font-bold shadow-lg active:scale-95 transition-transform",children:"Agendar Cita"})})]})]})},N6=({onCtaClick:e})=>v.jsxs("div",{className:"relative h-screen min-h-[600px] w-full overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/images/greici/greici-main-new.jpg')"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/20 mix-blend-multiply"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/60 via-transparent to-transparent"})]}),v.jsxs("div",{className:"relative h-full flex flex-col justify-center items-center text-center px-4",children:[v.jsx("h2",{className:"text-white text-base md:text-xl uppercase tracking-[0.3em] mb-4 font-light",children:"Belleza & Elegancia"}),v.jsxs("h1",{className:"text-white text-4xl md:text-7xl lg:text-8xl serif font-light mb-6 md:mb-8 max-w-4xl leading-tight",children:["Redefine Tu Estilo ",v.jsx("br",{})," ",v.jsx("span",{className:"italic",children:"Tu Esencia"})]}),v.jsxs("p",{className:"text-stone-200 max-w-lg mx-auto text-lg mb-10 font-light",children:["Experiencia exclusiva en nuestro Studio. Cortes y tratamientos personalizados.",v.jsx("br",{className:"hidden md:block"}),v.jsx("span",{className:"text-sm opacity-80",children:"(Servicio a domicilio disponible con recargo)"})]}),v.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:v.jsx("button",{onClick:e,className:"px-8 py-4 bg-white text-stone-900 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition shadow-lg",children:"Reserva Tu Cita"})}),v.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-8 text-white/90 text-sm font-medium",children:[v.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[v.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),"Disponible Hoy"]}),v.jsxs("div",{className:"flex items-center bg-black/30 px-3 py-1 rounded-full backdrop-blur-sm border border-white/10",children:[v.jsx("span",{className:"mr-1",children:"Desde"}),v.jsx("span",{className:"font-bold text-lg",children:"$7.000"})]})]})]})]}),xc="56984524774",O6="https://www.instagram.com/tus3bstyle/?igsh=MWtnc2R5MjQ0c21kOQ%3D%3D#",nl=[{id:"cut-1",name:"Corte de Puntas / Flequillos",description:"Mantenimiento esencial para eliminar horquillas y sanear el cabello.",price:7e3,durationMin:30,includes:["Corte tcnico de puntas o flequillo","Sellado de puntas"]},{id:"cut-2",name:"Corte Bordado",description:"Elimina el frizz y puntas daadas sin afectar el largo de tu cabello.",price:1e4,durationMin:45,includes:["Corte con mquina bordadora","Limpieza de puntas"]},{id:"wash-1",name:"Lavado",description:"Lavado profesional refrescante.",price:5e3,durationMin:20,includes:["Shampoo profesional","Acondicionador"]},{id:"massage-1",name:"Masaje Capilar",description:"Tratamiento profundo para hidratar y revitalizar tu cabello.",price:5e3,durationMin:30,includes:["Ampolla o crema de tratamiento","Masaje craneal"]},{id:"brushing-1",name:"Brushing",description:"Peinado profesional para dar volumen, brillo y movimiento.",price:14e3,durationMin:45,includes:["Secado","Modelado con cepillo"]},{id:"color-1",name:"Aplicacin de Tintura",description:"Aplicacin profesional de tu color (tintura no incluida).",price:1e4,durationMin:60,includes:["Aplicacin uniforme","Lavado final"]}],I6=3e3,T6=30,k6=["Santiago Centro","uoa"],Va=[{id:"l1",brand:"Lancme",name:"La Vie Est Belle EDP",description:"La fragancia de la felicidad. Iris pallida, Jazmn Sambac y Azahar.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/la-vie-est-belle.png",notes:["Iris","Vainilla","Pralin"],category:"classic",stock:!1,priceFullBottle:89990},{id:"l2",brand:"Carolina Herrera",name:"Good Girl EDP",description:"Audaz y sexy, elegante y enigmtica. El famoso tacn.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/good-girl.png",notes:["Tuberosa","Jazmn","Cacao"],category:"classic",stock:!1,priceFullBottle:94990},{id:"l3",brand:"Lancme",name:"Idle EDP",description:"Para la mujer que suea a lo grande. Limpio y luminoso.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/idole.png",notes:["Rosa","Jazmn","Chipre Blanco"],category:"classic",stock:!1,priceFullBottle:84990},{id:"l4",brand:"Giorgio Armani",name:"Acqua Di Gioia EDP",description:"La esencia de la alegra. Fresco, acutico y ctrico.",price5ml:6990,price10ml:12990,margin5ml:0,margin10ml:0,image:"/images/perfumes/acqua-di-gioia.png",notes:["Limn","Menta","Jazmn de Agua"],category:"classic",stock:!1,priceFullBottle:79990},{id:"l5",brand:"Yves Saint Laurent",name:"Black Opium EDP",description:"Adrenalina y energa. Caf negro y flores blancas.",price5ml:7990,price10ml:14990,margin5ml:0,margin10ml:0,image:"/images/perfumes/black-opium.png",notes:["Caf","Vainilla","Flores Blancas"],category:"classic",stock:!1,priceFullBottle:92990},{id:"l6",brand:"Dolce & Gabbana",name:"Light Blue EDT",description:"La alegra de vivir el Mediterrneo. Fresco y frutal.",price5ml:5990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/light-blue.png",notes:["Limn Siciliano","Manzana","Cedro"],category:"classic",stock:!1,priceFullBottle:74990},{id:"a1",brand:"Lattafa",name:"Lattafa Yara EDP 100 ML Mujer",description:"El viral de TikTok. Dulce, cremoso y adictivo.",price5ml:5990,price10ml:8990,margin5ml:2803,margin10ml:4616,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-rosa.png",secondaryImage:"/images/perfumes/yara-rosa-notes.jpg",notes:["Orqudea","Heliotropo","Frutas Tropicales"],category:"arab"},{id:"a2",brand:"Lattafa",name:"Lattafa Yara Tous EDP 100 ML Mujer",description:"La versin tropical y solar de Yara. Mango y maracuy.",price5ml:5990,price10ml:8990,margin5ml:2850,margin10ml:4711,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-yara-tous.png",secondaryImage:"/images/perfumes/yara-tous-notes.jpg",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a3",brand:"Lattafa",name:"Lattafa Rave Now Women EDP 100 ML",description:"Dulce, frutal y vibrante. Energa pura en una botella.",price5ml:4990,price10ml:7990,margin5ml:2040,margin10ml:4091,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-rave-now-women.png",notes:["Frutas Rojas","Malvavisco","Almizcle"],category:"arab"},{id:"a4",brand:"Fragrance World",name:"FW Valentia Rome Intense EDP 100 ML",description:"Inspirada en el lujo italiano. Floral y moderna.",price5ml:5990,price10ml:8990,margin5ml:2898,margin10ml:4806,stock:!0,priceFullBottle:29990,image:"/images/perfumes/fw-valentia-rome.png",notes:["Jazmn","Grosella Negra","Vainilla Bourbon"],category:"arab"},{id:"a5",brand:"Maison Alhambra",name:"Maison Alhambra Leonie EDP 100 ML",description:"Elegancia y sofisticacin. Una fragancia que impone presencia.",price5ml:4990,price10ml:6990,margin5ml:2183,margin10ml:3376,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-leonie.png",notes:["Floral","mbar","Vainilla"],category:"arab"},{id:"a6",brand:"Lattafa",name:"Lattafa Ana Abiyedh EDP 60 ML",description:"Limpio, almizclado y frutal. Un aroma que dura todo el da.",price5ml:6990,price10ml:9990,margin5ml:3487,margin10ml:4983,stock:!0,priceFullBottle:29990,image:"/images/perfumes/lattafa-ana-abiyedh.png",notes:["Almizcle Blanco","Pera","Bergamota"],category:"arab"},{id:"a7",brand:"Maison Alhambra",name:"Maison Alhambra Bad Femme EDP 100 ML",description:"Atrevida y seductora. Ideal para la noche.",price5ml:4990,price10ml:6990,margin5ml:2135,margin10ml:3281,stock:!0,priceFullBottle:27990,image:"/images/perfumes/maison-alhambra-bad-femme.png",notes:["Tuberosa","Jazmn","Cacao"],category:"arab"},{id:"d1",brand:"Lattafa",name:"Lattafa Yara Spray 200 ML",description:"El complemento perfecto para tu perfume Yara.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/yara-spray.png",notes:["Tropical","Dulce","Cremoso"],category:"arab"},{id:"d2",brand:"Lattafa",name:"Lattafa Qaed Al Fursan Spray 200 ML",description:"Fresco, pia ahumada y maderas.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/qaed-al-fursan-spray.png",notes:["Pia","Musgo","Azafrn"],category:"arab"},{id:"d3",brand:"Lattafa",name:"Lattafa Yara Tous Spray 200 ML",description:"El complemento tropical para tu perfume Yara Tous.",price5ml:0,price10ml:0,margin5ml:0,margin10ml:0,stock:!0,priceFullBottle:5990,isSpray:!0,image:"/images/perfumes/lattafa-yara-tous-spray.png",notes:["Mango","Coco","Vainilla"],category:"arab"},{id:"a8",brand:"Armaf",name:"Club de Nuit Intense Woman EDP",description:"Un chipre floral intenso y elegante. Misterioso.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-intense-woman.png",notes:["Rosa","Azafrn","Geranio"],category:"arab",stock:!1},{id:"a9",brand:"Lattafa",name:"Eclaire EDP",description:"Dulce y envolvente, con notas gourmand irresistibles.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-eclaire.png",notes:["Caramelo","Leche","Miel"],category:"arab",stock:!1},{id:"a10",brand:"Armaf",name:"Club de Nuit Untold EDP",description:"El dupe perfecto de Baccarat Rouge 540. Lujoso y dulce.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-untold.png",notes:["Azafrn","Jazmn","Amberwood"],category:"arab",stock:!1},{id:"a11",brand:"Lattafa",name:"Khamrah EDP",description:"Clido y especiado. Canela, dtiles y pralin.",price5ml:6990,price10ml:9990,margin5ml:0,margin10ml:0,image:"/images/perfumes/lattafa-khamrah.png",notes:["Canela","Dtiles","Pralin"],category:"arab",stock:!1},{id:"a12",brand:"Armaf",name:"Club de Nuit Imperiale",description:"Floral, fresco y frutal. Elegancia moderna.",price5ml:5990,price10ml:8990,margin5ml:0,margin10ml:0,image:"/images/perfumes/club-de-nuit-imperiale.png",notes:["Litchi","Bergamota","Rosa Turca"],category:"arab",stock:!1}],AE=[{id:"1",url:"/images/greici/greici-portrait.jpg",category:"Cortes",description:"Estilista Greici Nataly"},{id:"2",url:"/images/greici/greici-salon-wide.jpg",category:"Color",description:"Atencin Personalizada"},{id:"3",url:"/images/greici/greici-back-view.jpg",category:"Cortes",description:"Acabados Perfectos"},{id:"4",url:"/images/greici/greici-red-shirt.jpg",category:"Cortes",description:"Precisin y Estilo"},{id:"5",url:"/images/greici/greici-side-work.jpg",category:"Color",description:"Tcnica Profesional"}],P6=[{id:"r1",name:"Maria Paz",rating:5,comment:"Me encant el servicio, muy profesionales y puntuales. El corte que me hicieron fue exactamente lo que peda.",date:"Hace 2 semanas"},{id:"r2",name:"Carla S.",rating:5,comment:"Increble la atencin a domicilio. Todo muy limpio y ordenado, y los perfumes huelen delicioso. Totalmente recomendada.",date:"Hace 1 mes"},{id:"r3",name:"Valentina R.",rating:5,comment:"Compr el Lattafa Yara y es exquisito, lleg super rpido. Adems aprovech de hacerme un masaje capilar y qued como nueva.",date:"Hace 3 semanas"},{id:"r4",name:"Isidora M.",rating:5,comment:"Excelente experiencia con Tus3B. La calidad de los productos y la dedicacin en el servicio se notan. Volver a comprar seguro.",date:"Hace 1 mes"},{id:"r5",name:"Fernanda L.",rating:5,comment:"Muy buena disposicin y asesora para elegir mi perfume. Los precios son muy convenientes para la calidad que ofrecen.",date:"Hace 2 semanas"},{id:"r6",name:"Camila J.",rating:4,comment:"Todo super bien, el perfume lleg en perfecto estado. Solo demor un poquito ms de lo esperado la coordinacin, pero la atencin un 7.",date:"Hace 1 mes"}],j6=[{id:"gift-1",name:"Regalito A",price:19990,includes:["Perfume 10ml","Chocolates Ferrero","Tarjeta Personalizada"]},{id:"gift-2",name:"Regalito B",price:29990,includes:["Perfume 10ml","Crema de Manos","Chocolates Finos","Globo Corazn"]},{id:"gift-custom",name:"Arma tu regalito",price:0,includes:["Chocolates Ferrero Roche","Los Perfumes en Stock","Globo de corazn","Y mucho ms..."]}];var hs={},nh={},Ox=function(e,t){return Ox=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Ox(e,t)};function FN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ox(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vh=function(){return Vh=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Vh.apply(this,arguments)};function Lc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function UN(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(s=(i<3?c(s):i>3?c(t,r,s):c(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function zN(e,t){return function(r,n){t(r,n,e)}}function $N(e,t,r,n,i,s){function c(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var f=n.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!t&&e?n.static?e:e.prototype:null,x=t||(m?Object.getOwnPropertyDescriptor(m,n.name):{}),b,S=!1,_=r.length-1;_>=0;_--){var I={};for(var O in n)I[O]=O==="access"?{}:n[O];for(var O in n.access)I.access[O]=n.access[O];I.addInitializer=function(R){if(S)throw new TypeError("Cannot add initializers after decoration has completed");s.push(c(R||null))};var k=(0,r[_])(f==="accessor"?{get:x.get,set:x.set}:x[p],I);if(f==="accessor"){if(k===void 0)continue;if(k===null||typeof k!="object")throw new TypeError("Object expected");(b=c(k.get))&&(x.get=b),(b=c(k.set))&&(x.set=b),(b=c(k.init))&&i.unshift(b)}else(b=c(k))&&(f==="field"?i.unshift(b):x[p]=b)}m&&Object.defineProperty(m,n.name,x),S=!0}function WN(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function VN(e){return typeof e=="symbol"?e:"".concat(e)}function HN(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function qN(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ye(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})}function GN(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=f(0),c.throw=f(1),c.return=f(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var lp=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function KN(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lp(t,e,r)}function Hh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function cy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],c;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(f){c={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(c)throw c.error}}return s}function XN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cy(arguments[t]));return e}function YN(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],c=0,f=s.length;c<f;c++,i++)n[i]=s[c];return n}function ZN(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Ac(e){return this instanceof Ac?(this.v=e,this):new Ac(e)}function QN(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(_){return function(I){return Promise.resolve(I).then(_,b)}}function f(_,I){n[_]&&(i[_]=function(O){return new Promise(function(k,R){s.push([_,O,k,R])>1||p(_,O)})},I&&(i[_]=I(i[_])))}function p(_,I){try{m(n[_](I))}catch(O){S(s[0][3],O)}}function m(_){_.value instanceof Ac?Promise.resolve(_.value.v).then(x,b):S(s[0][2],_)}function x(_){p("next",_)}function b(_){p("throw",_)}function S(_,I){_(I),s.shift(),s.length&&p(s[0][0],s[0][1])}}function JN(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(c){return(r=!r)?{value:Ac(e[i](c)),done:!1}:s?s(c):c}:s}}function eO(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hh=="function"?Hh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(c){return new Promise(function(f,p){c=e[s](c),i(f,p,c.done,c.value)})}}function i(s,c,f,p){Promise.resolve(p).then(function(m){s({value:m,done:f})},c)}}function tO(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R6=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ix=function(e){return Ix=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ix(e)};function rO(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ix(e),n=0;n<r.length;n++)r[n]!=="default"&&lp(t,e,r[n]);return R6(t,e),t}function nO(e){return e&&e.__esModule?e:{default:e}}function iO(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function aO(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function sO(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function oO(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var M6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function lO(e){function t(s){e.error=e.hasError?new M6(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(c){return t(c),i()})}else n|=1}catch(c){t(c)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function cO(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,c){return n?t?".jsx":".js":i&&(!s||!c)?r:i+s+"."+c.toLowerCase()+"js"}):e}const D6={__extends:FN,__assign:Vh,__rest:Lc,__decorate:UN,__param:zN,__esDecorate:$N,__runInitializers:WN,__propKey:VN,__setFunctionName:HN,__metadata:qN,__awaiter:Ye,__generator:GN,__createBinding:lp,__exportStar:KN,__values:Hh,__read:cy,__spread:XN,__spreadArrays:YN,__spreadArray:ZN,__await:Ac,__asyncGenerator:QN,__asyncDelegator:JN,__asyncValues:eO,__makeTemplateObject:tO,__importStar:rO,__importDefault:nO,__classPrivateFieldGet:iO,__classPrivateFieldSet:aO,__classPrivateFieldIn:sO,__addDisposableResource:oO,__disposeResources:lO,__rewriteRelativeImportExtension:cO},L6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:oO,get __assign(){return Vh},__asyncDelegator:JN,__asyncGenerator:QN,__asyncValues:eO,__await:Ac,__awaiter:Ye,__classPrivateFieldGet:iO,__classPrivateFieldIn:sO,__classPrivateFieldSet:aO,__createBinding:lp,__decorate:UN,__disposeResources:lO,__esDecorate:$N,__exportStar:KN,__extends:FN,__generator:GN,__importDefault:nO,__importStar:rO,__makeTemplateObject:tO,__metadata:qN,__param:zN,__propKey:VN,__read:cy,__rest:Lc,__rewriteRelativeImportExtension:cO,__runInitializers:WN,__setFunctionName:HN,__spread:XN,__spreadArray:ZN,__spreadArrays:YN,__values:Hh,default:D6},Symbol.toStringTag,{value:"Module"})),B6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let cp=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},uO=class extends cp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Tx=class extends cp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},kx=class extends cp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var qh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qh||(qh={}));class F6{constructor(t,{headers:r={},customFetch:n,region:i=qh.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=B6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ye(this,arguments,void 0,function*(r,n={}){var i;let s,c;try{const{headers:f,method:p,body:m,signal:x,timeout:b}=n;let S={},{region:_}=n;_||(_=this.region);const I=new URL(`${this.url}/${r}`);_&&_!=="any"&&(S["x-region"]=_,I.searchParams.set("forceFunctionRegion",_));let O;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",O=m):typeof m=="string"?(S["Content-Type"]="text/plain",O=m):typeof FormData<"u"&&m instanceof FormData?O=m:(S["Content-Type"]="application/json",O=JSON.stringify(m)):O=m;let k=x;b&&(c=new AbortController,s=setTimeout(()=>c.abort(),b),x?(k=c.signal,x.addEventListener("abort",()=>c.abort())):k=c.signal);const R=yield this.fetch(I.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:O,signal:k}).catch(W=>{throw new uO(W)}),L=R.headers.get("x-relay-error");if(L&&L==="true")throw new Tx(R);if(!R.ok)throw new kx(R);let M=((i=R.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),U;return M==="application/json"?U=yield R.json():M==="application/octet-stream"||M==="application/pdf"?U=yield R.blob():M==="text/event-stream"?U=R:M==="multipart/form-data"?U=yield R.formData():U=yield R.text(),{data:U,error:null,response:R}}catch(f){return{data:null,error:f,response:f instanceof kx||f instanceof Tx?f.context:void 0}}finally{s&&clearTimeout(s)}})}}const U6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return qh},FunctionsClient:F6,FunctionsError:cp,FunctionsFetchError:uO,FunctionsHttpError:kx,FunctionsRelayError:Tx},Symbol.toStringTag,{value:"Module"})),dO=wd(U6);var Zn={};const Bc=wd(L6);var ih={},ah={},sh={},oh={},lh={},ch={},_E;function fO(){if(_E)return ch;_E=1,Object.defineProperty(ch,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ch.default=e,ch}var CE;function hO(){if(CE)return lh;CE=1,Object.defineProperty(lh,"__esModule",{value:!0});const t=Bc.__importDefault(fO());let r=class{constructor(i){var s,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let f=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,x,b,S;let _=null,I=null,O=null,k=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const W=await p.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?I=W:I=JSON.parse(W))}const M=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),U=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");M&&U&&U.length>1&&(O=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(I)&&(I.length>1?(_={code:"PGRST116",details:`Results contain ${I.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},I=null,O=null,k=406,R="Not Acceptable"):I.length===1?I=I[0]:I=null)}else{const M=await p.text();try{_=JSON.parse(M),Array.isArray(_)&&p.status===404&&(I=[],_=null,k=200,R="OK")}catch{p.status===404&&M===""?(k=204,R="No Content"):_={message:M}}if(_&&this.isMaybeSingle&&(!((S=_?.details)===null||S===void 0)&&S.includes("0 rows"))&&(_=null,k=200,R="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:I,count:O,status:k,statusText:R}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,x,b,S,_,I;let O="";const k=p?.cause;if(k){const R=(m=k?.message)!==null&&m!==void 0?m:"",L=(x=k?.code)!==null&&x!==void 0?x:"";O=`${(b=p?.name)!==null&&b!==void 0?b:"FetchError"}: ${p?.message}`,O+=`

Caused by: ${(S=k?.name)!==null&&S!==void 0?S:"Error"}: ${R}`,L&&(O+=` (${L})`),k?.stack&&(O+=`
${k.stack}`)}else O=(_=p?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(I=p?.name)!==null&&I!==void 0?I:"FetchError"}: ${p?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(i,s)}returns(){return this}overrideTypes(){return this}};return lh.default=r,lh}var NE;function pO(){if(NE)return oh;NE=1,Object.defineProperty(oh,"__esModule",{value:!0});const t=Bc.__importDefault(hO());let r=class extends t.default{select(i){let s=!1;const c=(i??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:c,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${i}.${s?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:c=s}={}){const f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(f,`${i}`),this}range(i,s,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${i}`),this.url.searchParams.set(m,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:c=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var x;const b=[i?"analyze":null,s?"verbose":null,c?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),S=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${S}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return oh.default=r,oh}var OE;function uy(){if(OE)return sh;OE=1,Object.defineProperty(sh,"__esModule",{value:!0});const t=Bc.__importDefault(pO()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,c){return this.url.searchParams.append(s,`eq.${c}`),this}neq(s,c){return this.url.searchParams.append(s,`neq.${c}`),this}gt(s,c){return this.url.searchParams.append(s,`gt.${c}`),this}gte(s,c){return this.url.searchParams.append(s,`gte.${c}`),this}lt(s,c){return this.url.searchParams.append(s,`lt.${c}`),this}lte(s,c){return this.url.searchParams.append(s,`lte.${c}`),this}like(s,c){return this.url.searchParams.append(s,`like.${c}`),this}likeAllOf(s,c){return this.url.searchParams.append(s,`like(all).{${c.join(",")}}`),this}likeAnyOf(s,c){return this.url.searchParams.append(s,`like(any).{${c.join(",")}}`),this}ilike(s,c){return this.url.searchParams.append(s,`ilike.${c}`),this}ilikeAllOf(s,c){return this.url.searchParams.append(s,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(s,c){return this.url.searchParams.append(s,`ilike(any).{${c.join(",")}}`),this}regexMatch(s,c){return this.url.searchParams.append(s,`match.${c}`),this}regexIMatch(s,c){return this.url.searchParams.append(s,`imatch.${c}`),this}is(s,c){return this.url.searchParams.append(s,`is.${c}`),this}isDistinct(s,c){return this.url.searchParams.append(s,`isdistinct.${c}`),this}in(s,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(s,`in.(${f})`),this}contains(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cs.{${c.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(c)}`),this}containedBy(s,c){return typeof c=="string"?this.url.searchParams.append(s,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(s,`cd.{${c.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(c)}`),this}rangeGt(s,c){return this.url.searchParams.append(s,`sr.${c}`),this}rangeGte(s,c){return this.url.searchParams.append(s,`nxl.${c}`),this}rangeLt(s,c){return this.url.searchParams.append(s,`sl.${c}`),this}rangeLte(s,c){return this.url.searchParams.append(s,`nxr.${c}`),this}rangeAdjacent(s,c){return this.url.searchParams.append(s,`adj.${c}`),this}overlaps(s,c){return typeof c=="string"?this.url.searchParams.append(s,`ov.${c}`):this.url.searchParams.append(s,`ov.{${c.join(",")}}`),this}textSearch(s,c,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(s,`${m}fts${x}.${c}`),this}match(s){return Object.entries(s).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(s,c,f){return this.url.searchParams.append(s,`not.${c}.${f}`),this}or(s,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${s})`),this}filter(s,c,f){return this.url.searchParams.append(s,`${c}.${f}`),this}};return sh.default=n,sh}var IE;function mO(){if(IE)return ah;IE=1,Object.defineProperty(ah,"__esModule",{value:!0});const t=Bc.__importDefault(uy());let r=class{constructor(i,{headers:s={},schema:c,fetch:f}){this.url=i,this.headers=new Headers(s),this.schema=c,this.fetch=f}select(i,s){const{head:c=!1,count:f}=s??{},p=c?"HEAD":"GET";let m=!1;const x=(i??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",x),f&&this.headers.append("Prefer",`count=${f}`),new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:c=!0}={}){var f;const p="POST";if(s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(m.length>0){const x=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:c=!1,count:f,defaultToNull:p=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const b=i.reduce((S,_)=>S.concat(Object.keys(_)),[]);if(b.length>0){const S=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:s}={}){var c;const f="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var s;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return ah.default=r,ah}var TE;function z6(){if(TE)return ih;TE=1,Object.defineProperty(ih,"__esModule",{value:!0});const e=Bc,t=e.__importDefault(mO()),r=e.__importDefault(uy());let n=class gO{constructor(s,{headers:c={},schema:f,fetch:p}={}){this.url=s,this.headers=new Headers(c),this.schemaName=f,this.fetch=p}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new gO(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:f=!1,get:p=!1,count:m}={}){var x;let b;const S=new URL(`${this.url}/rpc/${s}`);let _;f||p?(b=f?"HEAD":"GET",Object.entries(c).filter(([O,k])=>k!==void 0).map(([O,k])=>[O,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([O,k])=>{S.searchParams.append(O,k)})):(b="POST",_=c);const I=new Headers(this.headers);return m&&I.set("Prefer",`count=${m}`),new r.default({method:b,url:S,headers:I,schema:this.schemaName,body:_,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return ih.default=n,ih}var kE;function xO(){if(kE)return Zn;kE=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const e=Bc,t=e.__importDefault(z6());Zn.PostgrestClient=t.default;const r=e.__importDefault(mO());Zn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(uy());Zn.PostgrestFilterBuilder=n.default;const i=e.__importDefault(pO());Zn.PostgrestTransformBuilder=i.default;const s=e.__importDefault(hO());Zn.PostgrestBuilder=s.default;const c=e.__importDefault(fO());return Zn.PostgrestError=c.default,Zn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:c.default},Zn}class vO{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $6="2.87.1",W6=`realtime-js/${$6}`,yO="1.0.0",V6="2.0.0",PE=yO,Px=1e4,H6=1e3,q6=100;var tl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(tl||(tl={}));var rn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rn||(rn={}));var Aa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Aa||(Aa={}));var jx;(function(e){e.websocket="websocket"})(jx||(jx={}));var rl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rl||(rl={}));class G6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var i,s;const c=t.topic,f=(i=t.ref)!==null&&i!==void 0?i:"",p=(s=t.join_ref)!==null&&s!==void 0?s:"",m=t.payload.event,x=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+c.length+m.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+S);let I=new DataView(_),O=0;I.setUint8(O++,this.KINDS.userBroadcastPush),I.setUint8(O++,p.length),I.setUint8(O++,f.length),I.setUint8(O++,c.length),I.setUint8(O++,m.length),I.setUint8(O++,b.length),I.setUint8(O++,r),Array.from(p,R=>I.setUint8(O++,R.charCodeAt(0))),Array.from(f,R=>I.setUint8(O++,R.charCodeAt(0))),Array.from(c,R=>I.setUint8(O++,R.charCodeAt(0))),Array.from(m,R=>I.setUint8(O++,R.charCodeAt(0))),Array.from(b,R=>I.setUint8(O++,R.charCodeAt(0)));var k=new Uint8Array(_.byteLength+n.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(n),_.byteLength),k.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,c,f,p]=n;return r({join_ref:i,ref:s,topic:c,event:f,payload:p})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let p=this.HEADER_LENGTH+4;const m=n.decode(t.slice(p,p+i));p=p+i;const x=n.decode(t.slice(p,p+s));p=p+s;const b=n.decode(t.slice(p,p+c));p=p+c;const S=t.slice(p,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(n.decode(S)):S,I={type:this.BROADCAST_EVENT,event:x,payload:_};return c>0&&(I.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:I}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class wO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fr||(fr={}));const jE=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,c)=>(s[c]=K6(c,e,t,i),s),{}):{}},K6=(e,t,r,n)=>{const i=t.find(f=>f.name===e),s=i?.type,c=r[e];return s&&!n.includes(s)?bO(s,c):Rx(c)},bO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Q6(t,r)}switch(e){case fr.bool:return X6(t);case fr.float4:case fr.float8:case fr.int2:case fr.int4:case fr.int8:case fr.numeric:case fr.oid:return Y6(t);case fr.json:case fr.jsonb:return Z6(t);case fr.timestamp:return J6(t);case fr.abstime:case fr.date:case fr.daterange:case fr.int4range:case fr.int8range:case fr.money:case fr.reltime:case fr.text:case fr.time:case fr.timestamptz:case fr.timetz:case fr.tsrange:case fr.tstzrange:return Rx(t);default:return Rx(t)}},Rx=e=>e,X6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Y6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Z6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Q6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const c=e.slice(1,r);try{s=JSON.parse("["+c+"]")}catch{s=c?c.split(","):[]}return s.map(f=>bO(t,f))}return e},J6=e=>typeof e=="string"?e.replace(" ","T"):e,EO=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Lg{constructor(t,r,n={},i=Px){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mx||(Mx={}));let SO=class Ph{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ph.syncState(this.state,i,s,c),this.pendingDiffs.forEach(p=>{this.state=Ph.syncDiff(this.state,p,s,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ph.syncDiff(this.state,i,s,c),f())}),this.onJoin((i,s,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:c})}),this.onLeave((i,s,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),c=this.transformState(r),f={},p={};return this.map(s,(m,x)=>{c[m]||(p[m]=x)}),this.map(c,(m,x)=>{const b=s[m];if(b){const S=x.map(k=>k.presence_ref),_=b.map(k=>k.presence_ref),I=x.filter(k=>_.indexOf(k.presence_ref)<0),O=b.filter(k=>S.indexOf(k.presence_ref)<0);I.length>0&&(f[m]=I),O.length>0&&(p[m]=O)}else f[m]=x}),this.syncDiff(s,{joins:f,leaves:p},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(f,p)=>{var m;const x=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),x.length>0){const b=t[f].map(_=>_.presence_ref),S=x.filter(_=>b.indexOf(_.presence_ref)<0);t[f].unshift(...S)}n(f,x,p)}),this.map(c,(f,p)=>{let m=t[f];if(!m)return;const x=p.map(b=>b.presence_ref);m=m.filter(b=>x.indexOf(b.presence_ref)<0),t[f]=m,i(f,m,p),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Dx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dx||(Dx={}));var vc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vc||(vc={}));var $a;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($a||($a={}));const e5=rn;let AO=class Vu{constructor(t,r={config:{}},n){var i,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lg(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new wO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rn.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=rn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new SO(this),this.broadcastEndpointURL=EO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rn.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params,m=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(_=>_.filter))!==null&&i!==void 0?i:[],x=!!this.bindings[vc.PRESENCE]&&this.bindings[vc.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,b={},S={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:x}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t?.($a.CHANNEL_ERROR,_)),this._onClose(()=>t?.($a.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:_})=>{var I;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.($a.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,k=(I=O?.length)!==null&&I!==void 0?I:0,R=[];for(let L=0;L<k;L++){const M=O[L],{filter:{event:U,schema:W,table:V,filter:H}}=M,re=_&&_[L];if(re&&re.event===U&&Vu.isFilterValueEqual(re.schema,W)&&Vu.isFilterValueEqual(re.table,V)&&Vu.isFilterValueEqual(re.filter,H))R.push(Object.assign(Object.assign({},M),{id:re.id}));else{this.unsubscribe(),this.state=rn.errored,t?.($a.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t($a.SUBSCRIBED);return}}).receive("error",_=>{this.state=rn.errored,t?.($a.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.($a.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rn.joined&&t===vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:c}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var c,f,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&s("ok"),m.receive("ok",()=>s("ok")),m.receive("error",()=>s("error")),m.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Lg(this,Aa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lg(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>q6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const c=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:x}=Aa;if(n&&[f,p,m,x].indexOf(c)>=0&&n!==this._joinRef())return;let S=this._onMessage(c,r,n);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var I,O,k;return((I=_.filter)===null||I===void 0?void 0:I.event)==="*"||((k=(O=_.filter)===null||O===void 0?void 0:O.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===c}).map(_=>_.callback(S,n)):(s=this.bindings[c])===null||s===void 0||s.filter(_=>{var I,O,k,R,L,M;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const U=_.id,W=(I=_.filter)===null||I===void 0?void 0:I.event;return U&&((O=r.ids)===null||O===void 0?void 0:O.includes(U))&&(W==="*"||W?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const U=(L=(R=_?.filter)===null||R===void 0?void 0:R.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return U==="*"||U===((M=r?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof S=="object"&&"ids"in S){const I=S.data,{schema:O,table:k,commit_timestamp:R,type:L,errors:M}=I;S=Object.assign(Object.assign({},{schema:O,table:k,commit_timestamp:R,eventType:L,new:{},old:{},errors:M}),this._getPayloadRecords(I))}_.callback(S,n)})}_isClosed(){return this.state===rn.closed}_isJoined(){return this.state===rn.joined}_isJoining(){return this.state===rn.joining}_isLeaving(){return this.state===rn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Vu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Aa.close,{},t)}_onError(t){this._on(Aa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jE(t.columns,t.old_record)),r}};const Bg=()=>{},uh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t5=[1e3,2e3,5e3,1e4],r5=1e4,n5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let i5=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Px,this.transport=null,this.heartbeatIntervalMs=uh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bg,this.ref=0,this.reconnectTimer=null,this.vsn=PE,this.logger=Bg,this.conn=null,this.sendBuffer=[],this.serializer=new G6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jx.websocket}`,this.httpEndpoint=EO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return rl.Connecting;case tl.open:return rl.Open;case tl.closing:return rl.Closing;default:return rl.Closed}}isConnected(){return this.connectionState()===rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new AO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,c=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(H6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:c}=r,f=c?`(${c})`:"",p=s.status||"";this.log("receive",`${p} ${n} ${i} ${f}`.trim(),s),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(i,s,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tl.open||this.conn.readyState===tl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Aa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([n5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:W6};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Aa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,c,f,p,m,x,b,S,_;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Px,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:uh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Bg,this.vsn=(p=t?.vsn)!==null&&p!==void 0?p:PE,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(I=>t5[I-1]||r5),this.vsn){case yO:this.encode=(x=t?.encode)!==null&&x!==void 0?x:((I,O)=>O(JSON.stringify(I))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((I,O)=>O(JSON.parse(I)));break;case V6:this.encode=(S=t?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const a5=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:e5,get REALTIME_LISTEN_TYPES(){return vc},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Dx},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Mx},get REALTIME_SUBSCRIBE_STATES(){return $a},RealtimeChannel:AO,RealtimeClient:i5,RealtimePresence:SO,WebSocketFactory:vO},Symbol.toStringTag,{value:"Module"})),_O=wd(a5);class Sd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class CO extends Sd{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gh extends Sd{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const dy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s5=()=>Response,Lx=e=>{if(Array.isArray(e))return e.map(r=>Lx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Lx(n)}),t},o5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},l5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Fg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},c5=(e,t,r)=>Ye(void 0,void 0,void 0,function*(){const n=yield s5();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,c=i?.statusCode||s+"";t(new CO(Fg(i),s,c))}).catch(i=>{t(new Gh(Fg(i),i))}):t(new Gh(Fg(e),e))}),u5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(o5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function Ad(e,t,r,n,i,s){return Ye(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,u5(t,n,i,s)).then(p=>{if(!p.ok)throw p;return n?.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>c5(p,f,n))})})}function nd(e,t,r,n){return Ye(this,void 0,void 0,function*(){return Ad(e,"GET",t,r,n)})}function Sa(e,t,r,n,i){return Ye(this,void 0,void 0,function*(){return Ad(e,"POST",t,n,i,r)})}function Bx(e,t,r,n,i){return Ye(this,void 0,void 0,function*(){return Ad(e,"PUT",t,n,i,r)})}function d5(e,t,r,n){return Ye(this,void 0,void 0,function*(){return Ad(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function fy(e,t,r,n,i){return Ye(this,void 0,void 0,function*(){return Ad(e,"DELETE",t,n,i,r)})}class f5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}})}}var NO;class h5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[NO]="BlobDownloadBuilder",this.promise=null}asStream(){return new f5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}})}}NO=Symbol.toStringTag;const p5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class m5{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=dy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ye(this,void 0,void 0,function*(){try{let s;const c=Object.assign(Object.assign({},RE),i);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",c.cacheControl),p&&s.append("metadata",this.encodeMetadata(p)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",c.cacheControl),p&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(p))):(s=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=Object.assign(Object.assign({},f),i.headers));const m=this._removeEmptyFolders(r),x=this._getFinalPath(m),b=yield(t=="PUT"?Bx:Sa)(this.fetch,`${this.url}/object/${x}`,s,Object.assign({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ye(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),c=this._getFinalPath(s),f=new URL(this.url+`/object/upload/sign/${c}`);f.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:RE.upsert},i),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const b=yield Bx(this.fetch,f.toString(),p,{headers:x});return{data:{path:s,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Cr(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return Ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield Sa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),c=new URL(this.url+s.url),f=c.searchParams.get("token");if(!f)throw new Sd("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:f},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ye(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Sa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${c}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ye(this,void 0,void 0,function*(){try{const i=yield Sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),c=s?`?${s}`:"",f=this._getFinalPath(t),p=()=>nd(this.fetch,`${this.url}/${i}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new h5(p,this.shouldThrowOnError)}info(t){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield nd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lx(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}exists(t){return Ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield d5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n)&&n instanceof Gh){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&i.push(p);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${n}${m}`)}}}remove(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ye(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},p5),r),{prefix:t||""});return{data:yield Sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ye(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const OO="2.87.1",IO={"X-Client-Info":`storage-js/${OO}`};class g5{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IO),r),this.fetch=dy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield nd(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var id=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function x5(e,t,r){const n=new URL(t,e);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function v5(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function y5(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:c}){const f=x5(e.baseUrl,n,i),p=await v5(e.auth),m=await t(f,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...p,...c},body:s?JSON.stringify(s):void 0}),x=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),S=b&&x?JSON.parse(x):x;if(!m.ok){const _=b?S:void 0,I=_?.error;throw new id(I?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:I?.type,icebergCode:I?.code,details:_})}return{status:m.status,headers:m.headers,data:S}}}}function dh(e){return e.join("")}var w5=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:dh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${dh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${dh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${dh(e.namespace)}`}),!0}catch(t){if(t instanceof id&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof id&&r.status===409)return;throw r}}};function tc(e){return e.join("")}var b5=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof id&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof id&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},E5=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=y5({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new w5(this.client,t),this.tableOps=new b5(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class TO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IO),r),this.fetch=dy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield nd(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield fy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}from(t){if(!l5(t))throw new Sd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new E5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,c){const f=s[c];return typeof f!="function"?f:(...p)=>Ye(this,void 0,void 0,function*(){try{return{data:yield f.apply(s,p),error:null}}catch(m){if(n)throw m;return{data:null,error:m}}})}})}}const hy={"X-Client-Info":`storage-js/${OO}`,"Content-Type":"application/json"};class py extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function vi(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jh extends py{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kO extends py{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Fx;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fx||(Fx={}));const up=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S5=()=>Response,PO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},A5=e=>Array.from(new Float32Array(e)),_5=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},ME=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),C5=(e,t,r)=>Ye(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(c=>{const f=c?.statusCode||c?.code||i+"";t(new jh(ME(c),i,f))}).catch(()=>{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new jh(f,i,c))});else{const c=i+"",f=s.statusText||`HTTP ${i} error`;t(new jh(f,i,c))}}else t(new kO(ME(e),e))}),N5=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(PO(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function O5(e,t,r,n,i,s){return Ye(this,void 0,void 0,function*(){return new Promise((c,f)=>{e(r,N5(t,n,i,s)).then(p=>{if(!p.ok)throw p;if(n?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>C5(p,f,n))})})}function Li(e,t,r,n,i){return Ye(this,void 0,void 0,function*(){return O5(e,"POST",t,n,i,r)})}class jO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hy),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Li(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Li(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(vi(n))return{data:null,error:n};throw n}})}}class RO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hy),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Li(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}getVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}listVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Li(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Li(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}}class MO{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hy),r),this.fetch=up(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Li(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}getBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Li(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}listBuckets(){return Ye(this,arguments,void 0,function*(t={}){try{return{data:yield Li(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ye(this,void 0,void 0,function*(){try{return{data:(yield Li(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(vi(r))return{data:null,error:r};throw r}})}}class DO extends MO{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new LO(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ye(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ye(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ye(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ye(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class LO extends jO{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ye(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new BO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class BO extends RO{constructor(t,r,n,i,s){super(t,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ye(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class I5 extends g5{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new m5(this.url,this.headers,t,this.fetch)}get vectors(){return new DO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TO(this.url+"/iceberg",this.headers,this.fetch)}}const T5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:TO,StorageApiError:CO,StorageClient:I5,StorageError:Sd,StorageUnknownError:Gh,StorageVectorsApiError:jh,StorageVectorsClient:DO,StorageVectorsError:py,get StorageVectorsErrorCode(){return Fx},StorageVectorsUnknownError:kO,VectorBucketApi:MO,VectorBucketScope:LO,VectorDataApi:RO,VectorIndexApi:jO,VectorIndexScope:BO,isPlainObject:PO,isStorageError:Cr,isStorageVectorsError:vi,normalizeToFloat32:A5,resolveFetch:up,resolveResponse:S5,validateVectorDimension:_5},Symbol.toStringTag,{value:"Module"})),k5=wd(T5);var Ug={},Ru={},DE;function P5(){return DE||(DE=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.version=void 0,Ru.version="2.87.1"),Ru}var LE;function j5(){return LE||(LE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=P5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Ug)),Ug}var zg={},BE;function R5(){return BE||(BE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...s)=>i(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,s,c)=>{const f=(0,e.resolveFetch)(c),p=(0,e.resolveHeadersConstructor)();return async(m,x)=>{var b;const S=(b=await s())!==null&&b!==void 0?b:i;let _=new p(x?.headers);return _.has("apikey")||_.set("apikey",i),_.has("Authorization")||_.set("Authorization",`Bearer ${S}`),f(m,Object.assign(Object.assign({},x),{headers:_}))}};e.fetchWithAuth=n})(zg)),zg}var ps={},FE;function M5(){if(FE)return ps;FE=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.isBrowser=void 0,ps.uuid=e,ps.ensureTrailingSlash=t,ps.applySettingDefaults=n,ps.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var c=Math.random()*16|0,f=s=="x"?c:c&3|8;return f.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";ps.isBrowser=r;function n(s,c){var f,p;const{db:m,auth:x,realtime:b,global:S}=s,{db:_,auth:I,realtime:O,global:k}=c,R={db:Object.assign(Object.assign({},_),m),auth:Object.assign(Object.assign({},I),x),realtime:Object.assign(Object.assign({},O),b),storage:{},global:Object.assign(Object.assign(Object.assign({},k),S),{headers:Object.assign(Object.assign({},(f=k?.headers)!==null&&f!==void 0?f:{}),(p=S?.headers)!==null&&p!==void 0?p:{})}),accessToken:async()=>""};return s.accessToken?R.accessToken=s.accessToken:delete R.accessToken,R}function i(s){const c=s?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ps}var Mu={};const FO="2.87.1",cc=30*1e3,Ux=3,$g=Ux*cc,D5="http://localhost:9999",L5="supabase.auth.token",B5={"X-Client-Info":`gotrue-js/${FO}`},zx="X-Supabase-Api-Version",UO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},F5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,U5=600*1e3;let _c=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function it(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let zO=class extends _c{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function $O(e){return it(e)&&e.name==="AuthApiError"}let uo=class extends _c{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Ps=class extends _c{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},xi=class extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function WO(e){return it(e)&&e.name==="AuthSessionMissingError"}let Xo=class extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Hu=class extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qu=class extends Ps{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function VO(e){return it(e)&&e.name==="AuthImplicitGrantRedirectError"}let $x=class extends Ps{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Kh=class extends Ps{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Rh(e){return it(e)&&e.name==="AuthRetryableFetchError"}let Wx=class extends Ps{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function z5(e){return it(e)&&e.name==="AuthWeakPasswordError"}let Xh=class extends Ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const Yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UE=` 	
\r=`.split(""),$5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<UE.length;t+=1)e[UE[t].charCodeAt(0)]=-2;for(let t=0;t<Yh.length;t+=1)e[Yh[t].charCodeAt(0)]=t;return e})();function zE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Yh[n]),t.queuedBits-=6}}function HO(e,t,r){const n=$5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $E(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=c=>{H5(c,n,r)};for(let c=0;c<e.length;c+=1)HO(e.charCodeAt(c),i,s);return t.join("")}function W5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function V5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}W5(n,t)}}function H5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)HO(e.charCodeAt(i),r,n);return new Uint8Array(t)}function q5(e){const t=[];return V5(e,r=>t.push(r)),new Uint8Array(t)}function il(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>zE(i,r,n)),zE(null,r,n),t.join("")}function G5(e){return Math.round(Date.now()/1e3)+e}function K5(){return Symbol("auth-callback")}const Fn=()=>typeof window<"u"&&typeof document<"u",Go={tested:!1,writable:!1},qO=()=>{if(!Fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Go.tested)return Go.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Go.tested=!0,Go.writable=!0}catch{Go.tested=!0,Go.writable=!1}return Go.writable};function X5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const GO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ko=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bn=async(e,t)=>{await e.removeItem(t)};class dp{constructor(){this.promise=new dp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dp.promiseConstructor=Promise;function Wg(e){const t=e.split(".");if(t.length!==3)throw new Xh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!F5.test(t[n]))throw new Xh("JWT not in base64url format");return{header:JSON.parse($E(t[0])),payload:JSON.parse($E(t[1])),signature:yc(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Q5(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const c=await e(s);if(!t(s,null,c)){n(c);return}}catch(c){if(!t(s,c)){i(c);return}}})()})}function J5(e){return("0"+e.toString(16)).substr(-2)}function eM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,J5).join("")}async function tM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function rM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rc(e,t,r=!1){const n=eM();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await uc(e,`${t}-code-verifier`,i);const s=await rM(n);return[s,n===s?"plain":"s256"]}const nM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iM(e){const t=e.headers.get(zx);if(!t||!t.match(nM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function nc(e){if(!oM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lM(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function WE(e){return JSON.parse(JSON.stringify(e))}const Yo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cM=[502,503,504];async function VE(e){var t;if(!Y5(e))throw new Kh(Yo(e),0);if(cM.includes(e.status))throw new Kh(Yo(e),e.status);let r;try{r=await e.json()}catch(s){throw new uo(Yo(s),s)}let n;const i=iM(e);if(i&&i.getTime()>=UO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wx(Yo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,c)=>s&&typeof c=="string",!0))throw new Wx(Yo(r),e.status,r.weak_password.reasons);throw new zO(Yo(r),e.status||500,n)}const uM=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function mt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[zx]||(s[zx]=UO["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const c=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await dM(e,t,r+f,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(p):{data:Object.assign({},p),error:null}}async function dM(e,t,r,n,i,s){const c=uM(t,n,i,s);let f;try{f=await e(r,Object.assign({},c))}catch(p){throw console.error(p),new Kh(Yo(p),0)}if(f.ok||await VE(f),n?.noResolveJson)return f;try{return await f.json()}catch(p){await VE(p)}}function Ea(e){var t;let r=null;pM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=G5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HE(e){const t=Ea(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fM(e){return{data:e,error:null}}function hM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,c=Lc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},p=Object.assign({},c);return{data:{properties:f,user:p},error:null}}function qE(e){return e}function pM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mh=["global","local","others"];let my=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=GO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mh[0]){if(Mh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mh.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fo})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lc(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hM,redirectTo:r?.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fo})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},x=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qE});if(x.error)throw x.error;const b=await x.json(),S=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(I=>{const O=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(I.split(";")[1].split("=")[1]);m[`${k}Page`]=O}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(it(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){nc(t);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fo})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){nc(t);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fo})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){nc(t);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fo})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){nc(t.userId);try{const{data:r,error:n}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(t){nc(t.userId),nc(t.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,s,c,f,p;try{const m={nextPage:null,lastPage:0,total:0},x=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qE});if(x.error)throw x.error;const b=await x.json(),S=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(p=(f=x.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(I=>{const O=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(I.split(";")[1].split("=")[1]);m[`${k}Page`]=O}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(it(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}};function GE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Zo={debug:!!(globalThis&&qO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let KO=class extends gy{};class mM extends gy{}async function XO(e,t,r){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const KE={};async function gM(e,t,r){var n;const i=(n=KE[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([i.catch(()=>null),t>=0?new Promise((c,f)=>{setTimeout(()=>{f(new mM(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return KE[e]=s.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await s}function xM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vM(e){return parseInt(e,16)}function yM(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function wM(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:c,notBefore:f,requestId:p,resources:m,scheme:x,uri:b,version:S}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=YO(e.address),I=x?`${x}://${n}`:n,O=e.statement?`${e.statement}
`:"",k=`${I} wants you to sign in with your Ethereum account:
${_}

${O}`;let R=`URI: ${b}
Version: ${S}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${s.toISOString()}`;if(i&&(R+=`
Expiration Time: ${i.toISOString()}`),f&&(R+=`
Not Before: ${f.toISOString()}`),p&&(R+=`
Request ID: ${p}`),m){let L=`
Resources:`;for(const M of m){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);L+=`
- ${M}`}R+=L}return`${k}
${R}`}class nn extends Error{constructor({message:t,code:r,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Zh extends nn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function bM({error:e,options:t}){var r,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(ZO(c)){if(s.rp.id!==c)return new nn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function EM({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(ZO(n)){if(r.rpId!==n)return new nn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class SM{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const AM=new SM;function _M(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Lc(e,["challenge","user","excludeCredentials"]),s=yc(t).buffer,c=Object.assign(Object.assign({},r),{id:yc(r.id).buffer}),f=Object.assign(Object.assign({},i),{challenge:s,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const m=n[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:yc(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function CM(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Lc(e,["challenge","allowCredentials"]),i=yc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];s.allowCredentials[c]=Object.assign(Object.assign({},f),{id:yc(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return s}function NM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:il(new Uint8Array(e.response.attestationObject)),clientDataJSON:il(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OM(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:il(new Uint8Array(i.authenticatorData)),clientDataJSON:il(new Uint8Array(i.clientDataJSON)),signature:il(new Uint8Array(i.signature)),userHandle:i.userHandle?il(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XE(){var e,t;return!!(Fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function IM(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:bM({error:t,options:e})}}}async function TM(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:EM({error:t,options:e})}}}const kM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const c=i[s];if(c!==void 0)if(Array.isArray(c))n[s]=c;else if(r(c))n[s]=c;else if(t(c)){const f=n[s];t(f)?n[s]=Qh(f,c):n[s]=Qh(c)}else n[s]=c}return n}function jM(e,t){return Qh(kM,e,t||{})}function RM(e,t){return Qh(PM,e,t||{})}class MM{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},s){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const p=i??AM.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${n}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=jM(c.webauthn.credential_options.publicKey,s?.create),{data:x,error:b}=await IM({publicKey:m,signal:p});return x?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const m=RM(c.webauthn.credential_options.publicKey,s?.request),{data:x,error:b}=await TM(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:p}));return x?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(c){return it(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn authentication")};try{if(!XE())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!c)return{data:null,error:f};const{webauthn:p}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(c){return it(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new _c("rpId is required for WebAuthn registration")};try{if(!XE())return{data:null,error:new uo("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(c){return it(c)?{data:null,error:c}:{data:null,error:new uo("Unexpected error in register",c)}}}}xM();const DM={url:D5,storageKey:L5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:B5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function YE(e,t,r){return await r()}const ic={};let xy=class Vx{get jwks(){var t,r;return(r=(t=ic[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ic[this.storageKey]=Object.assign(Object.assign({},ic[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ic[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ic[this.storageKey]=Object.assign(Object.assign({},ic[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},DM),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Vx.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Fn()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new my({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=GO(s.fetch),this.lock=s.lock||YE,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Fn()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=XO:this.lock=YE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GE(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=GE(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${FO}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Fn()&&(r=X5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Fn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VO(s)){const p=(t=s.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:c,redirectType:f}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?this._returnResult({error:r}):this._returnResult({error:new uo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ea}),{data:c,error:f}=s;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:x,password:b,options:S}=t;let _=null,I=null;this.flowType==="pkce"&&([_,I]=await rc(this.storage,this.storageKey)),s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:b,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:_,code_challenge_method:I},xform:Ea})}else if("phone"in t){const{phone:x,password:b,options:S}=t;s=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(n=S?.data)!==null&&n!==void 0?n:{},channel:(i=S?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Ea})}else throw new Hu("You must provide either an email or phone number and a password");const{data:c,error:f}=s;if(f||!c)return await Bn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(s){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:c,options:f}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:HE})}else if("phone"in t){const{phone:s,password:c,options:f}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:HE})}else throw new Hu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Xo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,s,c,f,p,m,x,b,S;let _,I;if("message"in t)_=t.message,I=t.signature;else{const{chain:O,wallet:k,statement:R,options:L}=t;let M;if(Fn())if(typeof k=="object")M=k;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")M=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=k}const U=new URL((r=L?.url)!==null&&r!==void 0?r:window.location.href),W=await M.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=YO(W[0]);let H=(n=L?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const X=await M.request({method:"eth_chainId"});H=vM(X)}const re={domain:U.host,address:V,statement:R,uri:U.href,version:"1",chainId:H,nonce:(i=L?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(s=L?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=L?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=L?.signInWithEthereum)===null||x===void 0?void 0:x.resources};_=wM(re),I=await M.request({method:"personal_sign",params:[yM(_),V]})}try{const{data:O,error:k}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:I},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ea});if(k)throw k;if(!O||!O.session||!O.user){const R=new Xo;return this._returnResult({data:{user:null,session:null},error:R})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:k})}catch(O){if(it(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(t){var r,n,i,s,c,f,p,m,x,b,S,_;let I,O;if("message"in t)I=t.message,O=t.signature;else{const{chain:k,wallet:R,statement:L,options:M}=t;let U;if(Fn())if(typeof R=="object")U=R;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))U=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const W=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){const V=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),L?{statement:L}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)I=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),O=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${W.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(i=(n=M?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=M?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((c=M?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(x=M?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await U.signMessage(new TextEncoder().encode(I),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=V}}try{const{data:k,error:R}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:il(O)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ea});if(R)throw R;if(!k||!k.session||!k.user){const L=new Xo;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:R})}catch(k){if(it(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const r=await Ko(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:c}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ea});if(await Bn(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!s||!s.session||!s.user){const f=new Xo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:c})}catch(s){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:c}=t,f=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ea}),{data:p,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const x=new Xo;return this._returnResult({data:{user:null,session:null},error:x})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,s,c;try{if("email"in t){const{email:f,options:p}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await rc(this.storage,this.storageKey));const{error:b}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(n=p?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:x}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(c=p?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:x})}throw new Hu("You must provide either an email or phone number.")}catch(f){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ea});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,m=c.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(i){if(it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,s,c;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await rc(this.storage,this.storageKey));const m=await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:fM});return!((s=m.data)===null||s===void 0)&&s.url&&Fn()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xi;const{error:i}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(it(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:c}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:c,error:f}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Hu("You must provide either an email or phone number and a type")}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ko(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$g:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await Ko(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Vg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=lM(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fo}):await this._useSession(async r=>{var n,i,s;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:fo})})}catch(r){if(it(r))return WO(r)&&(await this._removeSession(),await Bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new xi;const c=i.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await rc(this.storage,this.storageKey));const{data:m,error:x}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:c.access_token,xform:fo});if(x)throw x;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:c}=Wg(t.access_token);if(c.exp&&(n=c.exp,i=n<=r),i){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};s=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;s={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(it(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new xi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(it(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Fn())throw new qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $x("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $x("No code detected.");const{data:L,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:c,expires_in:f,expires_at:p,token_type:m}=t;if(!s||!f||!c||!m)throw new qu("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(f);let S=x+b;p&&(S=parseInt(p));const _=S-x;_*1e3<=cc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const I=S-b;x-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,S,x):x-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,S,x);const{data:O,error:k}=await this._getUser(s);if(k)throw k;const R={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:b,expires_at:S,refresh_token:c,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(n){if(it(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ko(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const c=(n=i.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!($O(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Bn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=K5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await rc(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var c,f,p,m,x;const{data:b,error:S}=s;if(S)throw S;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",_,{headers:this.headers,jwt:(x=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(i)throw i;return Fn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(it(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:c,provider:f,token:p,access_token:m,nonce:x}=t,b=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:p,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Ea}),{data:S,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Xo}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:_}))}catch(i){if(await Bn(this.storage,`${this.storageKey}-code-verifier`),it(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)throw c;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Q5(async i=>(i>0&&await Z5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ea})),(i,s)=>{const c=200*Math.pow(2,i);return s&&Rh(s)&&Date.now()+c-n<cc})}catch(n){if(this._debug(r,"error",n),it(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ko(this.storage,this.storageKey);if(i&&this.userStorage){let c=await Ko(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await uc(this.userStorage,this.storageKey+"-user",c)),i.user=(t=c?.user)!==null&&t!==void 0?t:Vg()}else if(i&&!i.user&&!i.user){const c=await Ko(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Bn(this.storage,this.storageKey+"-user"),await uc(this.storage,this.storageKey,i)):i.user=Vg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$g;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${$g}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Rh(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(i.access_token);!f&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new dp;const{data:s,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!s.session)throw new xi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const f={data:s.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(s){if(this._debug(i,"error",s),it(s)){const c={data:null,error:s};return Rh(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){s.push(p)}});if(await Promise.all(c),s.length>0){for(let f=0;f<s.length;f+=1)console.error(s[f]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Bn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uc(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=WE(i);await uc(this.storage,this.storageKey,s)}else{const i=WE(r);await uc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Bn(this.storage,this.storageKey),await Bn(this.storage,this.storageKey+"-code-verifier"),await Bn(this.storage,this.storageKey+"-user"),this.userStorage&&await Bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),cc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/cc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cc}ms, refresh threshold is ${Ux} ticks`),i<=Ux&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,c]=await rc(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(f.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((i=p?.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?NM(t.webauthn.credential_response):OM(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const c=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:_M(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:CM(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Wg(n.access_token);let c=null;s.aal&&(c=s.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=s.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xi})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new xi});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Fn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new xi});const c=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Fn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xi})})}catch(t){if(it(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xi})})}catch(r){if(it(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+U5>i)return n;const{data:s,error:c}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:_,error:I}=await this.getSession();if(I||!_.session)return this._returnResult({data:null,error:I});n=_.session.access_token}const{header:i,payload:s,signature:c,raw:{header:f,payload:p}}=Wg(n);r?.allowExpired||aM(s.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:_}=await this.getUser(n);if(_)throw _;return{data:{claims:s,header:i,signature:c},error:null}}const x=sM(i.alg),b=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,c,q5(`${f}.${p}`)))throw new Xh("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(n){if(it(n))return this._returnResult({data:null,error:n});throw n}}};xy.nextInstanceID={};const LM=my,BM=xy,FM=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:LM,AuthApiError:zO,AuthClient:BM,AuthError:_c,AuthImplicitGrantRedirectError:qu,AuthInvalidCredentialsError:Hu,AuthInvalidJwtError:Xh,AuthInvalidTokenResponseError:Xo,AuthPKCEGrantCodeExchangeError:$x,AuthRetryableFetchError:Kh,AuthSessionMissingError:xi,AuthUnknownError:uo,AuthWeakPasswordError:Wx,CustomAuthError:Ps,GoTrueAdminApi:my,GoTrueClient:xy,NavigatorLockAcquireTimeoutError:KO,SIGN_OUT_SCOPES:Mh,isAuthApiError:$O,isAuthError:it,isAuthImplicitGrantRedirectError:VO,isAuthRetryableFetchError:Rh,isAuthSessionMissingError:WO,isAuthWeakPasswordError:z5,lockInternals:Zo,navigatorLock:XO,processLock:gM},Symbol.toStringTag,{value:"Module"})),QO=wd(FM);var ZE;function UM(){if(ZE)return Mu;ZE=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.SupabaseAuthClient=void 0;const e=QO;let t=class extends e.AuthClient{constructor(n){super(n)}};return Mu.SupabaseAuthClient=t,Mu}var QE;function JE(){if(QE)return nh;QE=1,Object.defineProperty(nh,"__esModule",{value:!0});const e=dO,t=xO(),r=_O,n=k5,i=j5(),s=R5(),c=M5(),f=UM();class p{constructor(x,b,S){var _,I,O;this.supabaseUrl=x,this.supabaseKey=b;const k=(0,c.validateSupabaseUrl)(x);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",k),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",k),this.storageUrl=new URL("storage/v1",k),this.functionsUrl=new URL("functions/v1",k);const R=`sb-${k.hostname.split(".")[0]}-auth-token`,L={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:R}),global:i.DEFAULT_GLOBAL_OPTIONS},M=(0,c.applySettingDefaults)(S??{},L);this.storageKey=(_=M.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(I=M.global.headers)!==null&&I!==void 0?I:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(U,W)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(W)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((O=M.auth)!==null&&O!==void 0?O:{},this.headers,M.global.fetch),this.fetch=(0,s.fetchWithAuth)(b,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(U=>this.realtime.setAuth(U)).catch(U=>console.warn("Failed to set initial Realtime auth token:",U)),this.rest=new t.PostgrestClient(new URL("rest/v1",k).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,S?.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,b={},S={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,b,S)}channel(x,b={config:{}}){return this.realtime.channel(x,b)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,b;if(this.accessToken)return await this.accessToken();const{data:S}=await this.auth.getSession();return(b=(x=S.session)===null||x===void 0?void 0:x.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:b,detectSessionInUrl:S,storage:_,userStorage:I,storageKey:O,flowType:k,lock:R,debug:L,throwOnError:M},U,W){const V={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},V),U),storageKey:O,autoRefreshToken:x,persistSession:b,detectSessionInUrl:S,storage:_,userStorage:I,flowType:k,lock:R,debug:L,throwOnError:M,fetch:W,hasCustomAuthorizationHeader:Object.keys(this.headers).some(H=>H.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,S)=>{this._handleTokenChanged(b,"CLIENT",S?.access_token)})}_handleTokenChanged(x,b,S){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==S?(this.changedAccessToken=S,this.realtime.setAuth(S)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return nh.default=p,nh}var eS;function zM(){return eS||(eS=1,(function(e){var t=hs&&hs.__createBinding||(Object.create?(function(x,b,S,_){_===void 0&&(_=S);var I=Object.getOwnPropertyDescriptor(b,S);(!I||("get"in I?!b.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return b[S]}}),Object.defineProperty(x,_,I)}):(function(x,b,S,_){_===void 0&&(_=S),x[_]=b[S]})),r=hs&&hs.__exportStar||function(x,b){for(var S in x)S!=="default"&&!Object.prototype.hasOwnProperty.call(b,S)&&t(b,x,S)},n=hs&&hs.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(JE());r(QO,e);var s=xO();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var c=dO;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(_O,e);var f=JE();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(f).default}});const p=(x,b,S)=>new i.default(x,b,S);e.createClient=p;function m(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const b=x.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(hs)),hs}var JO=zM();const e4=da(JO),$M=Xv({__proto__:null,default:e4},[JO]),{PostgrestError:nte,FunctionsHttpError:ite,FunctionsFetchError:ate,FunctionsRelayError:ste,FunctionsError:ote,FunctionRegion:lte,SupabaseClient:cte,createClient:WM,GoTrueAdminApi:ute,GoTrueClient:dte,AuthAdminApi:fte,AuthClient:hte,navigatorLock:pte,NavigatorLockAcquireTimeoutError:mte,lockInternals:gte,processLock:xte,SIGN_OUT_SCOPES:vte,AuthError:yte,AuthApiError:wte,AuthUnknownError:bte,CustomAuthError:Ete,AuthSessionMissingError:Ste,AuthInvalidTokenResponseError:Ate,AuthInvalidCredentialsError:_te,AuthImplicitGrantRedirectError:Cte,AuthPKCEGrantCodeExchangeError:Nte,AuthRetryableFetchError:Ote,AuthWeakPasswordError:Ite,AuthInvalidJwtError:Tte,isAuthError:kte,isAuthApiError:Pte,isAuthSessionMissingError:jte,isAuthImplicitGrantRedirectError:Rte,isAuthRetryableFetchError:Mte,isAuthWeakPasswordError:Dte,RealtimePresence:Lte,RealtimeChannel:Bte,RealtimeClient:Fte,REALTIME_LISTEN_TYPES:Ute,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:zte,REALTIME_PRESENCE_LISTEN_EVENTS:$te,REALTIME_SUBSCRIBE_STATES:Wte,REALTIME_CHANNEL_STATES:Vte}=e4||$M,Hg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_GEMINI_API_KEY:"AIzaSyBZfTYTu4PTBrJ0apswyVHkF-HJiNbJG80",VITE_SUPABASE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hYmpsaGpsa2VlaGFjenhyZ2N5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU4Mzg5MDMsImV4cCI6MjA4MTQxNDkwM30.eHuUAZMQ9eGffxCwYwOczhzZuRksv41QoUaIulebpT4",VITE_SUPABASE_URL:"https://mabjlhjlkeehaczxrgcy.supabase.co"},t4=e=>Hg&&Hg[e]?Hg[e]:"",qg=t4("VITE_SUPABASE_URL"),tS=t4("VITE_SUPABASE_KEY");let r4=null;if(qg&&tS&&qg!=="https://placeholder.supabase.co")try{r4=WM(qg,tS)}catch(e){console.error("Error initializing Supabase:",e)}else console.warn("VITE_SUPABASE_URL o VITE_SUPABASE_KEY no configuradas. El backend funcionar en modo MOCK (sin persistencia).");const qe=r4,VM=({onSuccess:e})=>{const[t,r]=N.useState(nl[0].id),n=nl.find(Q=>Q.id===t)||nl[0],[i,s]=N.useState({name:"",email:"",phone:"+569 ",date:"",time:"",isHomeService:!1,address:"",serviceId:n.id,serviceName:n.name,referral:""}),[c,f]=N.useState(!1),[p,m]=N.useState(!1),[x,b]=N.useState([]),[S,_]=N.useState([]),[I,O]=N.useState({}),[k,R]=N.useState(null),[L,M]=N.useState(!1);N.useEffect(()=>{s(Q=>({...Q,serviceId:n.id,serviceName:n.name,isHomeService:n.homeServiceOnly?!0:Q.isHomeService}))},[n]);const U=n.durationMin+(i.isHomeService?T6:0),W=n.price+(i.isHomeService?I6:0);N.useEffect(()=>{i.date&&V(i.date)},[i.date]),N.useEffect(()=>{i.date&&H()},[i.date,S,U]),N.useEffect(()=>{const oe=setTimeout(()=>{if(i.name.length>3&&i.phone.length>8){const Se=JSON.parse(localStorage.getItem("mock_bookings")||"[]").find(Z=>Z.phone.replace(/\s/g,"")===i.phone.replace(/\s/g,"")&&Z.name.toLowerCase()===i.name.toLowerCase());Se&&(R(Se),M(!0))}},1e3);return()=>clearTimeout(oe)},[i.name,i.phone]);const V=async Q=>{m(!0);try{let oe=[];if(qe){const{data:fe,error:Me}=await qe.from("bookings").select("time, duration_minutes").eq("date",Q);!Me&&fe&&(oe=fe.map(Fe=>{const[Je,Ie]=Fe.time.split(":").map(Number),lt=Je*60+Ie;return{start:lt,end:lt+Fe.duration_minutes}}))}const Z=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(fe=>fe.date===Q).map(fe=>{const[Me,Fe]=fe.time.split(":").map(Number),Je=Me*60+Fe,Ie=fe.duration_minutes||60;return{start:Je,end:Je+Ie}});_([...oe,...Z])}catch(oe){console.warn("Error fetching slots",oe),_([])}finally{m(!1)}},H=()=>{const xe=[];for(let Se=9;Se<20;Se++)for(let Z=0;Z<60;Z+=30){const fe=Se*60+Z,Me=fe+U;if(Me>1200)continue;if(!S.some(Je=>fe>=Je.start&&fe<Je.end||Me>Je.start&&Me<=Je.end||fe<=Je.start&&Me>=Je.end)){const Je=`${Se.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`;xe.push(Je)}}b(xe),i.time&&!xe.includes(i.time)&&s(Se=>({...Se,time:""}))},re=()=>{const Q={};return i.name||(Q.name="El nombre es obligatorio"),(!i.phone||i.phone.trim()==="+569")&&(Q.phone="El telfono es obligatorio"),i.email?/\S+@\S+\.\S+/.test(i.email)||(Q.email="El formato del email no es vlido"):Q.email="El email es obligatorio",i.date||(Q.date="Selecciona una fecha"),i.time||(Q.time="Selecciona una hora"),i.isHomeService&&!i.address&&(Q.address="La direccin es obligatoria para servicio a domicilio"),O(Q),Object.keys(Q).length===0},X=Q=>{const{name:oe,value:xe,type:Se}=Q.target,Z=Q.target.checked;s(fe=>({...fe,[oe]:Se==="checkbox"?Z:xe})),I[oe]&&O(fe=>{const Me={...fe};return delete Me[oe],Me})},Ee=Q=>{s(oe=>({...oe,time:Q})),I.time&&O(oe=>{const xe={...oe};return delete xe.time,xe})},ue=async()=>{const Q=JSON.parse(localStorage.getItem("mock_bookings")||"[]"),oe={id:Date.now(),...i,duration_minutes:U,created_at:new Date().toISOString()};if(Q.push(oe),localStorage.setItem("mock_bookings",JSON.stringify(Q)),qe)try{const{error:xe}=await qe.from("leads").upsert({phone:i.phone,name:i.name,email:i.email,last_booking_date:i.date},{onConflict:"phone"});xe&&console.warn("Error saving lead:",xe),await qe.from("bookings").insert([{name:i.name,email:i.email,phone:i.phone,date:i.date,time:i.time,is_home_service:i.isHomeService,address:i.address||null,duration_minutes:U}])}catch(xe){console.warn("Supabase save failed, relying on local:",xe)}},de=Q=>{const xe=JSON.parse(localStorage.getItem("mock_bookings")||"[]").filter(Se=>Se.id!==Q);localStorage.setItem("mock_bookings",JSON.stringify(xe))},Ae=()=>{k&&(de(k.id),R(null),M(!1))},ke=()=>{M(!1),s(Q=>({...Q,name:"",phone:"+569 "})),alert(`Entendido. Tu cita anterior (${k.date} a las ${k.time}) se mantiene. Gracias!`)},te=rp(),ie=async Q=>{if(!re())return;f(!0),await ue();const oe=`${n.name}${i.isHomeService?" + Domicilio":" (En Studio)"}`,xe=new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W),Se=`
Hola Tus3B Style, acabo de reservar en la web.
--------------------------------
*Cliente:* ${i.name}
*Telfono:* ${i.phone}
*Servicio:* ${oe}
*Fecha:* ${i.date}
*Hora:* ${i.time}
*Duracin:* ${U} min
${i.isHomeService?`*Direccin:* ${i.address}`:""}
${i.referral?`*Referido por:* ${i.referral}`:""}
*Total:* ${xe}
--------------------------------
Espero su confirmacin final. Gracias.
    `.trim();await new Promise(Z=>setTimeout(Z,800)),f(!1),e&&e(i),te("/confirmation",{state:{booking:i,totalPrice:W,duration:U}});{const Z=`https://wa.me/${xc}?text=${encodeURIComponent(Se)}`;window.open(Z,"_blank")}};return v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start fade-in pb-12 relative",children:[L&&k&&v.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-white/95 backdrop-blur-sm rounded-2xl animate-in fade-in zoom-in-95",children:v.jsxs("div",{className:"bg-white border border-stone-200 shadow-2xl p-8 rounded-2xl max-w-sm text-center",children:[v.jsx(iy,{className:"mx-auto text-amber-500 mb-4 h-12 w-12"}),v.jsx("h3",{className:"serif text-2xl font-bold text-stone-900 mb-2",children:"Ya tienes una reserva"}),v.jsxs("p",{className:"text-stone-600 mb-6 text-sm",children:["Hemos encontrado una cita para ",v.jsx("strong",{children:k.name})," el da ",v.jsx("strong",{children:k.date})," a las ",v.jsx("strong",{children:k.time}),"."]}),v.jsx("p",{className:"font-bold text-stone-900 mb-6 text-lg",children:"Deseas cambiar tu reserva?"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("button",{onClick:Ae,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-700 transition",children:"S, cambiar cita"}),v.jsx("button",{onClick:ke,className:"w-full bg-stone-100 text-stone-600 py-3 rounded-xl font-bold hover:bg-stone-200 transition",children:"No, mantener la anterior"})]})]})}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 relative",children:[!qe&&v.jsxs("div",{className:"absolute top-0 right-0 bg-amber-100 text-amber-800 text-[10px] font-bold px-3 py-1 rounded-bl-lg flex items-center gap-1 z-10",children:[v.jsx(d6,{size:12})," MODO DEMO"]}),v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Elige tu Servicio"}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx("select",{value:t,onChange:Q=>r(Q.target.value),className:"w-full p-4 rounded-xl bg-stone-50 border border-stone-200 text-stone-900 font-serif text-lg focus:ring-2 focus:ring-stone-900 outline-none appearance-none",children:nl.map(Q=>v.jsxs("option",{value:Q.id,children:[Q.name," - $",Q.price.toLocaleString("es-CL")]},Q.id))}),v.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none",children:v.jsx("svg",{className:"w-5 h-5 text-stone-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),v.jsx("p",{className:"text-stone-500 font-light text-sm mb-4",children:n.description}),v.jsxs("div",{className:"flex justify-between items-center bg-stone-50 p-4 rounded-xl mb-4",children:[v.jsxs("div",{children:[v.jsx("span",{className:"block text-2xl font-semibold text-stone-900",children:new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(W)}),v.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Precio Estimado"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("span",{className:"block text-lg font-medium text-stone-900",children:[U," min"]}),v.jsx("span",{className:"text-xs text-stone-500 uppercase tracking-wide",children:"Duracin"})]})]}),v.jsx("div",{className:"mb-4",children:v.jsxs("div",{className:`flex items-start p-3 rounded-lg border relative transition-colors ${n.homeServiceOnly?"bg-amber-50 border-amber-200":"bg-blue-50/50 border-blue-100"}`,children:[v.jsx("div",{className:"flex items-center h-5 mt-0.5",children:v.jsx("input",{id:"isHomeService",name:"isHomeService",type:"checkbox",checked:i.isHomeService,onChange:X,disabled:n.homeServiceOnly,className:"focus:ring-stone-500 h-5 w-5 text-stone-900 border-gray-300 rounded cursor-pointer disabled:opacity-50"})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("label",{htmlFor:"isHomeService",className:"font-bold text-stone-900 cursor-pointer",children:n.homeServiceOnly?"Servicio Exclusivo a Domicilio":"Servicio a Domicilio? (+ $3.000)"}),v.jsxs("p",{className:"text-xs text-stone-500 mt-1 leading-relaxed",children:["Vamos a tu casa en ",k6.join(", "),". ",v.jsx("br",{}),v.jsx("span",{className:"text-blue-600 font-medium",children:"Incluye +30 min de traslado."})]})]})]})}),v.jsx("h4",{className:"text-xs uppercase tracking-widest text-stone-400 mb-3 font-bold mt-6",children:"Incluye"}),v.jsx("ul",{className:"space-y-2",children:n.includes.map((Q,oe)=>v.jsxs("li",{className:"flex items-center text-sm text-stone-700",children:[v.jsx(ip,{size:14,className:"text-stone-900 mr-2"}),Q]},oe))})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"1"}),"Tus Datos"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Nombre y Apellido"}),v.jsx("input",{type:"text",name:"name",value:i.name,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.name?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"Ej: Mara Prez"}),I.name&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.name})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Telfono"}),v.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.phone?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"+569...",inputMode:"numeric"}),I.phone&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.phone})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:i.email,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-stone-50 border ${I.email?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} focus:ring-1 outline-none transition-all`,placeholder:"correo@ejemplo.com"}),I.email&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.email})]})]}),v.jsxs("div",{className:"animate-in fade-in pt-2",children:[v.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1 flex items-center gap-1",children:[v.jsx(ly,{size:12})," Quin te recomend? (Opcional)"]}),v.jsx("input",{type:"text",name:"referral",value:i.referral,onChange:X,className:"w-full px-4 py-3 rounded-lg bg-purple-50 border border-purple-100 focus:border-purple-300 focus:ring-1 outline-none transition-all placeholder-purple-300 text-purple-900",placeholder:"Nombre o Telfono de tu amiga"})]}),i.isHomeService&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 pt-2",children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-1",children:"Direccin (Comuna y Calle)"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",name:"address",value:i.address,onChange:X,className:`w-full px-4 py-3 rounded-lg bg-amber-50 border ${I.address?"border-red-300 focus:border-red-500":"border-amber-200 focus:border-amber-500"} focus:ring-1 pl-10 outline-none transition-all`,placeholder:"Av. Irarrzaval 1234, uoa"}),v.jsx(PN,{size:18,className:"absolute left-3 top-3.5 text-amber-500"})]}),I.address&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.address})]})]})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"serif text-xl text-stone-900 mb-4 flex items-center gap-2",children:[v.jsx("span",{className:"bg-stone-900 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center font-sans",children:"2"}),"Fecha y Hora"]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Selecciona un da"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"date",name:"date",min:new Date().toISOString().split("T")[0],value:i.date,onChange:X,className:`w-full px-4 py-4 rounded-xl bg-stone-50 border ${I.date?"border-red-300 focus:border-red-500":"border-stone-200 focus:border-stone-900"} text-lg font-medium shadow-sm outline-none`}),v.jsx(NN,{size:20,className:"absolute right-4 top-4.5 text-stone-400 pointer-events-none"})]}),I.date&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.date})]}),i.date&&v.jsxs("div",{className:"animate-in fade-in",children:[v.jsxs("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-3 flex justify-between",children:[v.jsx("span",{children:"Horas Disponibles"}),p&&v.jsxs("span",{className:"flex items-center text-stone-400",children:[v.jsx(td,{size:12,className:"animate-spin mr-1"})," Buscando..."]})]}),x.length>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-4 gap-3",children:x.map(Q=>v.jsx("button",{onClick:()=>Ee(Q),className:`py-3 px-2 rounded-lg text-sm font-bold transition-all transform active:scale-95 ${i.time===Q?"bg-stone-900 text-white shadow-md scale-105 ring-2 ring-offset-2 ring-stone-900":"bg-white border border-stone-200 text-stone-600 hover:border-stone-900 hover:bg-stone-50"}`,children:Q},Q))}),I.time&&v.jsx("p",{className:"text-red-500 text-xs mt-2 text-center bg-red-50 p-2 rounded",children:I.time})]}):v.jsx("div",{className:"bg-stone-50 p-4 rounded-lg text-center text-stone-500 text-sm",children:p?"Cargando...":"No hay horas disponibles para este da. Intenta otra fecha."})]}),!i.date&&v.jsxs("div",{className:"text-center py-8 text-stone-400 text-sm italic",children:[v.jsx(ON,{size:32,className:"mx-auto mb-2 opacity-20"}),"Selecciona una fecha para ver disponibilidad"]})]}),v.jsxs("div",{className:"pt-2 sticky bottom-4 z-10",children:[v.jsxs("button",{onClick:()=>ie(),disabled:c,className:"w-full flex justify-center items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl shadow-xl transition-all transform hover:-translate-y-1 disabled:opacity-75 disabled:cursor-not-allowed disabled:transform-none",children:[c?v.jsx(td,{className:"animate-spin"}):v.jsx(BN,{size:22}),v.jsx("span",{className:"text-lg",children:c?"Procesando...":"Confirmar y Enviar WhatsApp"})]}),v.jsx("p",{className:"text-xs text-center text-stone-400 mt-3 px-4",children:"Al confirmar, volvers al inicio y se abrir WhatsApp."})]})]})]})},HM=({onSelectPerfume:e})=>{const[t,r]=N.useState(!1),[n,i]=N.useState(""),[s,c]=N.useState([]),[f,p]=N.useState(!1),m=b=>{if(b.preventDefault(),!n.trim())return;const S=n.toLowerCase().split(/[\s,]+/).filter(O=>O.length>2),I=Va.map(O=>{let k=0;const R=[],L=(M,U)=>{S.forEach(W=>{M.toLowerCase().includes(W)&&(k+=U,R.includes(W)||R.push(W))})};return L(O.name,3),L(O.description,1),L(O.brand,2),O.notes.forEach(M=>L(M,2)),L(O.category==="arab"?"arabe":"clasico",2),{perfume:O,score:k,matches:R}}).filter(O=>O.score>0).sort((O,k)=>k.score-O.score).slice(0,3);c(I),p(!0)},x=()=>{i(""),c([]),p(!1)};return v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>r(!0),className:"fixed bottom-6 right-6 z-40 bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 rounded-full shadow-2xl hover:scale-105 transition-transform flex items-center gap-2",children:[v.jsx(Sc,{size:24,className:"animate-pulse"}),v.jsx("span",{className:"font-bold pr-1 hidden md:block",children:"Asesor IA"})]}),t&&v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-800 p-6 text-white relative",children:[v.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white",children:v.jsx(yi,{size:24})}),v.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[v.jsx(Sc,{className:"text-yellow-300"})," Asesor de Aromas"]}),v.jsx("p",{className:"text-white/80 text-sm",children:"Cuntame qu te gusta y te recomendar tu perfume ideal."})]}),v.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:f?v.jsx("div",{className:"space-y-4",children:s.length>0?v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"font-bold text-stone-700 text-sm uppercase tracking-wider mb-2",children:"Mejores Coincidencias:"}),s.map(({perfume:b,matches:S},_)=>v.jsxs("div",{onClick:()=>{e(b.id),r(!1)},className:"border border-stone-200 rounded-xl p-3 flex gap-3 hover:border-purple-500 hover:shadow-md transition cursor-pointer bg-white group",children:[v.jsxs("div",{className:"w-16 h-16 bg-stone-100 rounded-lg flex-shrink-0 overflow-hidden relative",children:[_===0&&v.jsx("div",{className:"absolute top-0 left-0 bg-yellow-400 text-yellow-900 text-[10px] font-bold px-1.5 py-0.5 rounded-br",children:"#1"}),v.jsx("img",{src:b.image,alt:b.name,className:"w-full h-full object-cover"})]}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h4",{className:"font-bold text-stone-900 truncate group-hover:text-purple-700",children:b.name}),v.jsx("p",{className:"text-xs text-stone-500 mb-2 truncate",children:b.brand}),v.jsx("div",{className:"flex flex-wrap gap-1",children:S.map(I=>v.jsxs("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:[" ",I]},I))})]})]},b.id)),v.jsx("button",{onClick:x,className:"w-full text-center text-sm text-stone-400 hover:text-stone-600 mt-4 underline",children:"Probar otra bsqueda"})]}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("p",{className:"text-stone-500 mb-4",children:"No encontr coincidencias exactas. "}),v.jsx("button",{onClick:x,className:"bg-stone-100 text-stone-700 px-4 py-2 rounded-lg font-bold",children:"Intentar de nuevo"})]})}):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"bg-purple-50 inline-flex p-4 rounded-full mb-4",children:v.jsx(sy,{size:48,className:"text-purple-400"})}),v.jsx("h3",{className:"font-bold text-stone-700 mb-2",children:"Qu buscas hoy?"}),v.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["Ejemplos: ",v.jsx("br",{}),'"Algo dulce con vainilla"',v.jsx("br",{}),'"Fresco y ctrico para el da"',v.jsx("br",{}),'"Intenso y sexy para fiesta"']})]})}),v.jsx("form",{onSubmit:m,className:"p-4 border-t border-stone-100 bg-stone-50",children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:n,onChange:b=>i(b.target.value),placeholder:"Escribe aqu...",className:"w-full pl-4 pr-12 py-3 rounded-xl border border-stone-300 focus:ring-2 focus:ring-purple-500 outline-none shadow-sm",autoFocus:!0}),v.jsx("button",{type:"submit",disabled:!n.trim(),className:"absolute right-2 top-2 p-1.5 bg-purple-600 text-white rounded-lg disabled:bg-stone-300 disabled:cursor-not-allowed transition",children:f?v.jsx(Ec,{size:20}):v.jsx(DN,{size:20})})]})})]})})]})},qM=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(null),[i,s]=N.useState("all"),[c,f]=N.useState({});N.useEffect(()=>{p()},[]);const p=async()=>{const{data:L}=await qe.from("inventory").select("product_id, quantity");if(L){const M={};L.forEach(U=>{M[U.product_id]=U.quantity}),f(M)}},m=L=>{t("");const M=Va.find(U=>U.id===L);M&&(s(M.category),setTimeout(()=>{const U=document.getElementById(`perfume-${L}`);U&&U.scrollIntoView({behavior:"smooth",block:"center"}),U?.classList.add("ring-4","ring-purple-500","ring-opacity-50"),setTimeout(()=>U?.classList.remove("ring-4","ring-purple-500","ring-opacity-50"),2e3)},100))},x=N.useMemo(()=>{const L=new Set;return Va.forEach(M=>M.notes.forEach(U=>L.add(U))),Array.from(L).sort()},[]),b=N.useMemo(()=>Va.filter(L=>{const M=L.name.toLowerCase().includes(e.toLowerCase())||L.brand.toLowerCase().includes(e.toLowerCase()),U=r?L.notes.includes(r):!0,W=i==="all"||L.category===i;return M&&U&&W}).sort((L,M)=>{const U=c[L.id]!==void 0?c[L.id]>0:L.stock,W=c[M.id]!==void 0?c[M.id]>0:M.stock;return U===W?0:U?-1:1}),[e,r,i,c]),S=b.filter(L=>L.category==="classic"),_=b.filter(L=>L.category==="arab"),I=(L,M)=>{const U=M==="5ml"?L.price5ml:L.price10ml,W=`Hola Tus3B Style, quiero comprar el decant de *${L.brand} - ${L.name}* en formato *${M}* por $${U}. Tienen disponibilidad?`,V=`https://wa.me/${xc}?text=${encodeURIComponent(W)}`;window.open(V,"_blank")},O=L=>{if(!L.priceFullBottle)return;const M=`Hola Tus3B Style, quiero comprar la botella completa de *${L.brand} - ${L.name}* por $${L.priceFullBottle.toLocaleString("es-CL")}. Tienen disponibilidad?`,U=`https://wa.me/${xc}?text=${encodeURIComponent(M)}`;window.open(U,"_blank")},k=()=>{window.open(`https://wa.me/${xc}?text=${encodeURIComponent("Hola Tus3B Style, me gustara cotizar/encargar un perfume que no veo en el catlogo.")}`,"_blank")},R=L=>v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12",children:L.map((M,U)=>v.jsxs("div",{className:"group flex flex-col h-full",children:[v.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-white rounded-2xl mb-5 shadow-[0_2px_10px_-4px_rgba(0,0,0,0.05)] border border-stone-100 transition-all duration-300 group-hover:shadow-[0_8px_30px_-4px_rgba(0,0,0,0.1)]",children:[!e&&!r&&v.jsx("div",{className:"absolute top-0 left-0 bg-stone-900 text-white w-8 h-8 flex items-center justify-center font-serif text-sm border-br-xl z-10",children:U+1}),v.jsxs("div",{className:"relative w-full h-full p-8 transition-transform duration-700 ease-out group-hover:scale-105",children:[v.jsx("img",{src:M.image,alt:M.name,className:`w-full h-full object-contain ${M.secondaryImage?"transition-opacity duration-500 group-hover:opacity-0":""}`}),M.secondaryImage&&v.jsx("img",{src:M.secondaryImage,alt:`${M.name} detalle`,className:"absolute inset-0 w-full h-full object-contain p-0 transition-opacity duration-500 opacity-0 group-hover:opacity-100"})]}),v.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity bg-stone-900/90 text-white text-[10px] uppercase font-bold px-2 py-1 rounded",children:"Original"}),!M.stock&&v.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] flex items-center justify-center z-20",children:v.jsx("span",{className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold uppercase tracking-widest text-xs shadow-lg",children:"Agotado"})})]}),v.jsxs("div",{className:"flex-1 flex flex-col",children:[v.jsx("h4",{className:"text-xs uppercase tracking-wider text-stone-500 font-bold mb-1",children:M.brand}),v.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2 group-hover:text-stone-700 transition-colors",children:M.name}),v.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-3 leading-relaxed flex-grow",children:M.description}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:M.notes.slice(0,3).map(W=>v.jsx("span",{className:"text-[10px] uppercase tracking-wide bg-stone-50 text-stone-500 px-2 py-1 rounded border border-stone-100",children:W},W))}),v.jsxs("div",{className:"mt-auto space-y-3",children:[!M.isSpray&&v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("button",{onClick:()=>I(M,"5ml"),disabled:!M.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${M.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[v.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"5 ML"}),v.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",M.price5ml.toLocaleString("es-CL")]})]}),v.jsxs("button",{onClick:()=>I(M,"10ml"),disabled:!M.stock,className:`group/btn flex flex-col items-center justify-center p-2.5 border rounded-lg transition-all duration-300 ${M.stock?"border-stone-200 hover:border-stone-900 hover:bg-stone-900":"border-stone-100 bg-stone-50 opacity-50 cursor-not-allowed"}`,children:[v.jsx("span",{className:"text-[10px] font-bold text-stone-500 uppercase mb-0.5 group-hover/btn:text-stone-400",children:"10 ML"}),v.jsxs("span",{className:"text-stone-900 font-semibold group-hover/btn:text-white",children:["$",M.price10ml.toLocaleString("es-CL")]})]})]}),M.priceFullBottle&&v.jsxs("button",{onClick:()=>O(M),disabled:!(c[M.id]!==void 0?c[M.id]>0:M.stock),className:`w-full flex items-center justify-center gap-2 p-3 rounded-lg font-bold uppercase text-xs tracking-wider transition-all ${(c[M.id]!==void 0?c[M.id]>0:M.stock)?"bg-stone-900 text-white hover:bg-stone-800 shadow-md hover:shadow-lg":"bg-stone-100 text-stone-400 cursor-not-allowed"}`,children:[v.jsx(rd,{size:14}),v.jsxs("span",{children:["Botella ",M.isSpray?"200ml":"100ml"," - $",M.priceFullBottle.toLocaleString("es-CL")]})]})]})]})]},M.id))});return v.jsxs("div",{className:"space-y-16 fade-in",children:[v.jsxs("div",{className:"flex flex-col border-b border-stone-200 pb-8 gap-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Catlogo de Decants"}),v.jsx("p",{className:"text-stone-500 mt-2 max-w-xl",children:"Descubre tu firma olfativa con nuestra curadura de perfumes 100% originales."})]}),v.jsxs("div",{className:"relative w-full md:w-72",children:[v.jsx("input",{type:"text",placeholder:"Buscar marca o nombre...",className:"pl-10 pr-4 py-3 border border-stone-300 rounded-xl focus:ring-stone-900 focus:border-stone-900 w-full transition-shadow hover:shadow-sm",value:e,onChange:L=>t(L.target.value)}),v.jsx(Ec,{size:18,className:"absolute left-3 top-3.5 text-stone-400"})]})]}),v.jsx("div",{className:"w-full overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide",children:v.jsxs("div",{className:"flex flex-nowrap md:flex-wrap gap-2 items-center min-w-max",children:[v.jsx("span",{className:"text-xs font-bold uppercase text-stone-400 mr-2 sticky left-0 bg-white pl-2 md:pl-0",children:"Filtrar:"}),x.map(L=>v.jsx("button",{onClick:()=>n(r===L?null:L),className:`text-xs px-4 py-2 rounded-full border transition-all duration-200 whitespace-nowrap ${r===L?"bg-stone-900 text-white border-stone-900 shadow-md":"bg-white text-stone-600 border-stone-200 active:bg-stone-100"}`,children:L},L))]})})]}),v.jsxs("section",{className:"bg-stone-50 rounded-3xl p-8 md:p-12 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-purple-100 rounded-full blur-[80px] opacity-60 mix-blend-multiply"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-amber-100 rounded-full blur-[60px] opacity-60 mix-blend-multiply"}),v.jsxs("div",{className:"relative z-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx("span",{className:"inline-block px-3 py-1 bg-stone-900 text-white text-[10px] font-bold uppercase tracking-widest rounded-full",children:"Sabas que..."}),v.jsxs("h3",{className:"serif text-3xl md:text-4xl text-stone-900 leading-tight",children:["Por qu elegir ",v.jsx("span",{className:"italic text-stone-500",children:"Decants"}),"?"]}),v.jsx("p",{className:"text-stone-600 text-lg font-light leading-relaxed",children:"No necesitas gastar una fortuna para oler increble. Los decants son la forma inteligente de construir tu coleccin de perfumes."}),v.jsxs("ul",{className:"space-y-4 pt-2",children:[v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:v.jsx(gc,{size:14,className:"text-green-500"})}),v.jsxs("span",{className:"text-stone-700 text-sm",children:[v.jsx("strong",{className:"text-stone-900",children:"Variedad vs. Monotona:"})," Por el precio de 1 botella llena, puedes tener 5 fragancias diferentes para cada ocasin."]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:v.jsx(gc,{size:14,className:"text-green-500"})}),v.jsxs("span",{className:"text-stone-700 text-sm",children:[v.jsx("strong",{className:"text-stone-900",children:"Portabilidad Total:"})," Llvalos en tu cartera, auto o viaje. El formato perfecto para reaplicar durante el da."]})]}),v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-white p-1.5 rounded-full shadow-sm mt-0.5",children:v.jsx(gc,{size:14,className:"text-green-500"})}),v.jsxs("span",{className:"text-stone-700 text-sm",children:[v.jsx("strong",{className:"text-stone-900",children:"Prueba Real:"})," salo por semanas antes de comprometerte con la botella grande (que tambin vendemos!)."]})]})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:"/images/perfumes/decant-showcase.png",alt:"Coleccin de Decants",className:"rounded-2xl shadow-xl w-full object-cover h-80 rotate-2 hover:rotate-0 transition-transform duration-500",onError:L=>L.target.src="https://images.unsplash.com/photo-1592914610354-fd354ea45e48?auto=format&fit=crop&q=80&w=800"}),v.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-lg border border-stone-100 max-w-[200px]",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(oy,{fill:"#fbbf24",className:"text-amber-400",size:16}),v.jsx("span",{className:"text-xs font-bold text-stone-900",children:"100% Originales"})]}),v.jsx("p",{className:"text-[10px] text-stone-500 leading-tight",children:"Nunca rellenamos con imitaciones. Solo extraemos el perfume directo de la botella original."})]})]})]})]}),(()=>{const L=W=>W.some(V=>c[V.id]!==void 0?c[V.id]>0:V.stock),U=[{id:"arab",hasStock:L(_),items:_,render:()=>v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:v.jsx(Sc,{size:24,className:"text-purple-600"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Joyas rabes"}),v.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Virales del Momento"})]})]}),R(_)]},"arab")},{id:"classic",hasStock:L(S),items:S,render:()=>v.jsxs("section",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"bg-stone-100 p-2 rounded-full",children:v.jsx(a6,{size:24,className:"text-stone-800"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"serif text-3xl text-stone-900",children:"Clsicos del Lujo"}),v.jsx("p",{className:"text-sm text-stone-500 uppercase tracking-widest font-bold mt-1",children:"Ranking de Tendencia 2025-26"})]})]}),R(S)]},"classic")}].sort((W,V)=>W.hasStock===V.hasStock?W.id==="arab"?-1:1:W.hasStock?-1:1);return U.map((W,V)=>v.jsxs(Nr.Fragment,{children:[W.items.length>0&&W.render(),V===0&&U.length>1&&U[1].items.length>0&&U[0].items.length>0&&v.jsx("div",{className:"border-t border-stone-100 my-16"})]},W.id))})(),b.length===0&&v.jsxs("div",{className:"text-center py-24 bg-stone-50 rounded-2xl border border-dashed border-stone-200",children:[v.jsx(rd,{size:48,className:"mx-auto text-stone-300 mb-4"}),v.jsx("h4",{className:"text-stone-900 font-bold text-lg mb-1",children:"No encontramos resultados"}),v.jsx("p",{className:"text-stone-500 text-sm",children:"Prueba ajustando tus filtros de bsqueda."})]}),v.jsxs("div",{className:"mt-20 bg-stone-900 rounded-3xl p-8 md:p-14 text-center text-white relative overflow-hidden shadow-2xl ring-1 ring-white/10",children:[v.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[v.jsx("div",{className:"bg-white/10 backdrop-blur-sm p-4 rounded-full mb-6 ring-1 ring-white/20",children:v.jsx(p6,{size:32,className:"text-yellow-200"})}),v.jsx("h3",{className:"serif text-3xl md:text-5xl mb-6",children:"Buscas algo exclusivo?"}),v.jsx("p",{className:"text-stone-300 mb-10 max-w-2xl mx-auto text-lg font-light leading-relaxed",children:"Si no encuentras tu fragancia favorita en nuestro catlogo, contctanos. Hacemos encargos especiales para que encuentres tu firma olfativa perfecta."}),v.jsxs("button",{onClick:k,className:"group inline-flex items-center bg-white text-stone-900 px-8 py-4 rounded-full font-bold uppercase tracking-widest hover:bg-stone-100 transition-all transform hover:-translate-y-1 shadow-[0_10px_20px_-10px_rgba(255,255,255,0.3)]",children:[v.jsx(sy,{className:"mr-3 group-hover:text-amber-600 transition-colors",size:20}),"Cotizar Encargo"]})]}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://images.unsplash.com/photo-1541643600914-78b084683601?auto=format&fit=crop&q=80')] opacity-20 bg-cover bg-center mix-blend-overlay grayscale"})]}),v.jsx(HM,{onSelectPerfume:m})]})},GM=()=>v.jsx("footer",{className:"bg-stone-900 text-white py-12 md:py-16",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left",children:[v.jsxs("div",{children:[v.jsxs("span",{className:"serif text-3xl font-bold italic tracking-tighter block mb-4",children:["Tus3B ",v.jsx("span",{className:"text-stone-400 not-italic font-light text-xl ml-1",children:"Style"})]}),v.jsx("p",{className:"text-stone-400 font-light max-w-xs mx-auto md:mx-0",children:"Elevando tu estilo con servicios de peluquera premium a domicilio y lo mejor de la perfumera internacional."})]}),v.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[v.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Contacto"}),v.jsxs("a",{href:`https://wa.me/${xc}`,className:"text-stone-300 hover:text-white mb-2 transition flex items-center gap-2",children:[v.jsx(sy,{size:16})," WhatsApp: +56 9 8452 4774"]}),v.jsx("span",{className:"text-stone-300 mb-2",children:"Santiago, Chile"}),v.jsx("span",{className:"text-stone-300",children:"contacto@tus3b.cl"})]}),v.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[v.jsx("h4",{className:"uppercase tracking-widest text-xs font-bold text-stone-500 mb-4",children:"Sguenos"}),v.jsx("div",{className:"flex space-x-4",children:v.jsx("a",{href:O6,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-stone-800 rounded-full hover:bg-stone-700 transition",children:v.jsx(f6,{size:20})})})]})]}),v.jsxs("div",{className:"border-t border-stone-800 mt-12 pt-8 text-center text-stone-500 text-sm font-light",children:[" ",new Date().getFullYear()," Tus3B Style. Todos los derechos reservados."]})]})}),KM=[{name:"Lattafa Teriaq",brand:"Lattafa",inspiration:"Creacin original de Quentin Bisch (estilo La Belle JPG)",profile:"Gourmand, dulce y acuerado (caramelo, almendra, chabacano, miel, cuero, vainilla).",performance:"Beast Mode! +8-10 horas. Proyeccin notable.",target:"Mujer audaz, sexy, misteriosa. Climas fros/noche.",keywords:["teriaq","quentin bisch","la belle","jpg","cuero","miel","beast mode","dulce","sexy"],details:"Obra maestra de Quentin Bisch. Un perfume polarizante que mezcla dulzura gourmand con cuero. Una declaracin de intenciones para 'arrasar'."},{name:"Lattafa Pride Wujood",brand:"Lattafa Pride",inspiration:"Kenzo Homme Eau de Toilette Intense (con giro propio)",profile:"Marino, especiado y amaderado. Sin la nota de higo de Kenzo, destaca el sndalo.",performance:"Muy buen rendimiento.",target:"Hombre que busca alternativa a Kenzo pero distintiva. Uso diario.",keywords:["wujood","wajood","kenzo","marino","intense","sandalo","especiado"],details:"Una inspiracin con identidad propia. Evoca a Kenzo pero sin la nota frutal de higo, ofreciendo una firma amaderada y especiada nica."},{name:"Lattafa Pride Masa",brand:"Lattafa Pride",inspiration:"Ganymede de Marc-Antoine Barrois",profile:"Mineral, 'acerado', con giro tropical de MANGO en la salida.",performance:"Muy buen rendimiento.",target:"Sofisticado, audaz, moderno. Nicho usable.",keywords:["masa","ganymede","mineral","mango","nicho","ropical"],details:"Exclusividad nicho con un giro tropical. Mantiene los toques minerales de Ganymede pero aade mango jugoso para hacerlo ms vibrante y usable."},{name:"Lattafa Khamrah Qahwa",brand:"Lattafa",inspiration:"Angel's Share de Kilian (con giro de caf)",profile:"Gourmand, dulce, cremoso (CAF, canela, cardamomo, pralin, frutas confitadas).",performance:"Muy bueno, empalagoso y potente.",target:"Amantes de lo gourmand extremo, invierno, citas.",keywords:["khamrah","qahwa","angel","kilian","cafe","coffee","dulce","canela","gourmand"],details:"Una 'Inspiracin' con personalidad marcada. Aade una nota prominente de caf ('Qahwa') y frutas confitadas, diferencindose de Angel's Share."},{name:"Lattafa Pride La Collection D'antiquites 1886",brand:"Lattafa Pride",inspiration:"Dior Homme Intense",profile:"Atalcado, especiado, cremoso (iris, chocolate blanco, tabaco, yerba mate).",performance:"Rinde muy bien.",target:"Semiformal a formal, elegante, refinado.",keywords:["1886","antiquites","dior homme","iris","atalcado","chocolate","elegante","formal"],details:"Personalidad propia muy marcada. Comparte el iris de Dior pero lo eleva con chocolate blanco y tabaco, ofreciendo un refinamiento nico."},{name:"Maison Alhambra Immortal",brand:"Maison Alhambra",inspiration:"L'Immensit de Louis Vuitton",profile:"Ctrico, aromtico y acutico (pomelo, jengibre, ambroxan).",performance:"Buen rendimiento para ser fresca.",target:"Hombre que busca lujo fresco para verano y diario.",keywords:["immortal","jean lowe","immensite","louis vuitton","lv","citrico","fresco","verano","acuatico"],details:"Un 'Clonazo' de L'Immensit. Frescura ctrica y lujo a un precio accesible. Ideal para el verano."},{name:"Maison Alhambra Jean Lowe Noir",brand:"Maison Alhambra",inspiration:"Ombre Nomade de Louis Vuitton",profile:"Oscuro, ahumado, terroso, resinoso (incienso, oud, abedul).",performance:"Muy bueno, potente y opulento.",target:"Amante de fragancias oscuras y potentes. Invierno/Noche.",keywords:["jean lowe noir","ombre nomade","louis vuitton","lv","oscuro","oud","incienso","fuerte"],details:"Captura la esencia oscura y opulenta de Ombre Nomade (que cuesta 10 veces ms). Perfume con mucho carcter."},{name:"Armaf Odyssey Mega",brand:"Armaf",inspiration:"Y Eau de Parfum de Yves Saint Laurent",profile:"Ctrico, afrutado (naranja, menta, jengibre, pia), fondo amaderado.",performance:"6-7 horas, sper verstil ('perfume azul').",target:"Juvenil, verstil, diario.",keywords:["odyssey mega","y edp","ysl","yves saint laurent","azul","versatil","citrico","afrutado"],details:"El 'Caballo de batalla' diario. Un clonazo de Y EDP con rendimiento slido, a veces superior a las formulaciones actuales del original."},{name:"Armaf Odyssey Mandarin Sky",brand:"Armaf",inspiration:"Scandal Eau de Toilette de Jean Paul Gaultier",profile:"Cremosa, dulce, caramelizada (mandarina, azafrn, caramelo, haba tonka).",performance:"Buen rendimiento, dulce y nocturna.",target:"Juvenil, salidas, fiesta. xito de ventas.",keywords:["odyssey mandarin","mandarin sky","scandal","jpg","jean paul gaultier","dulce","caramelo","noche"],details:"Un 'clonazo descarado' de Scandal. Sper ventas reciente, combo adictivo de mandarina y caramelo."},{name:"Armaf Odyssey Dubai Chocolat",brand:"Armaf",inspiration:"Aroma Gourmand Original (Galleta de Chocolate)",profile:"Gourmand (galleta chocolate, pralin, vainilla, pistacho).",performance:"Normal (6-7h), proyeccin moderada.",target:"Citas, encuentros cercanos, amantes del chocolate.",keywords:["dubai chocolat","chocolate","galleta","gourmand","pistacho","cita"],details:"Arma secreta para citas. Aroma realista a galleta de chocolate para una impresin memorable."},{name:"Armaf Midnight Dubai Nights",brand:"Armaf",inspiration:"MYSLF de Yves Saint Laurent",profile:"Limpio, ctrico, fresco y floral masculino.",performance:"Potencia muy importante, gran proyeccin inicial.",target:"Da a da, oficina, verstil elegante.",keywords:["midnight","dubai nights","myslf","ysl","floral","limpio","oficina"],details:"Mejora estratgica de MYSLF con mayor potencia y proyeccin en las primeras horas."},{name:"Armaf Club De Nuit Iconic",brand:"Armaf",inspiration:"Bleu de Chanel Eau de Parfum",profile:"Azul elctrico, ctrico, incienso, sndalo.",performance:"Slido y confiable.",target:"Elegante, verstil, formal e informal. Clsico moderno.",keywords:["iconic","bleu de chanel","chanel","azul","elegante","incienso"],details:"Elegancia atemporal reinventada. Ms vibrante y elctrico que el clsico Bleu."},{name:"Armaf Aura Fresh",brand:"Armaf",inspiration:"Versace Man Eau Fraiche + Montblanc Starwalker",profile:"Fresco, alimonado, amaderado, oznico.",performance:"Mejor que Starwalker, ideal para calor.",target:"Verano, calor, da a da, ultra verstil.",keywords:["aura fresh","versace","eau fraiche","starwalker","fresco","verano","limon"],details:"El 'dos en uno' del frescor. Fusin de Starwalker y Versace Eau Fraiche."},{name:"Armaf Checkmate King",brand:"Armaf",inspiration:"Scandal Absolu de Jean Paul Gaultier",profile:"Dulce oscuro, concentrado (ADN Mandarin Sky pero ms maduro).",performance:"Excelente duracin y proyeccin.",target:"Noche sofisticada, alegre pero maduro.",keywords:["checkmate king","scandal absolu","jpg","oscuro","maduro","noche"],details:"Evolucin natural de Mandarin Sky. Ms oscuro y sofisticado."},{name:"Armaf Beach Party",brand:"Armaf",inspiration:"Summerhammer (Nicho)",profile:"Fresco, frutal tropical (guayaba, ctricos). Unisex.",performance:"Buena duracin y muy buena proyeccin.",target:"Verano, vacaciones, playa, relax. Unisex.",keywords:["beach party","summerhammer","tropical","frutal","guayaba","unisex","playa"],details:"Cctel de frutas tropicales vibrante. Escapada instantnea a la playa."},{name:"Armaf Club de Nuit Precioso",brand:"Armaf",inspiration:"Creed Aventus Absolu",profile:"Frutal maduro, especiado (pia, maderas, musgo).",performance:"Potente, +8 horas.",target:"Hombre maduro, conocedor, calidad y potencia.",keywords:["precioso","aventus absolu","creed","pia","especiado","maduro"],details:"Alternativa inteligente a Aventus Absolu. Ms maduro y especiado."},{name:"Armaf Club de Nuit Intense Man",brand:"Armaf",inspiration:"Creed Aventus (El Rey de los Clones)",profile:"Ctrico, ahumado, frutal (pia/limn), amaderado.",performance:"Beast Mode (sobre todo Parfum/Extrait).",target:"Todo uso. La leyenda.",keywords:["club de nuit intense","cdnim","aventus","creed","limon","ahumado","beast"],details:"La leyenda de Armaf. EDT proyecta mucho (salida fuerte), Parfum es ms equilibrado."},{name:"Armaf Club de Nuit Urban Man Elixir",brand:"Armaf",inspiration:"Dior Sauvage + Hacivat (Toque frutal)",profile:"Fresco, especiado (ambroxan) y frutal.",performance:"Excelente (8-10 horas), generador de cumplidos.",target:"Verstil, fiesta, diario. El que ms gusta.",keywords:["urban man elixir","sauvage","dior","hacivat","frutal","ambroxan","elixir"],details:"El 'dos por uno' de los cumplidos: Sauvage con toque nicho frutal."},{name:"Armaf Infinity",brand:"Armaf",inspiration:"L'Homme Ultime de YSL (Descontinuado)",profile:"Fresco, especiado, floral (rosa, jengibre).",performance:"Superior al original.",target:"Oficina, formal, hombre elegante que busca rosa masculina.",keywords:["infinity","l'homme ultime","ysl","rosa","jengibre","oficina","elegante"],details:"Joya para quienes extraan L'Homme Ultime. Elegancia floral masculina."},{name:"Armaf Odyssey Vamas",brand:"Armaf",inspiration:"L'Eau d'Issey Pour Homme (con giro frutal)",profile:"Frutal, salado, marino, ahumado (meln, incienso).",performance:"Buena duracin (hasta 7h).",target:"Juvenil, casual, verano, playa.",keywords:["vamas","issey miyake","l'eau d'issey","marino","melon","salado"],details:"Giro tropical de un clsico marino. Meln + notas saladas."},{name:"Armaf Odyssey Go Mango",brand:"Armaf",inspiration:"Original centrada en Mango",profile:"Ctrico, frutal dulce (MANGO jugoso).",performance:"Por confirmar (se espera bueno).",target:"Amantes del mango y frutas. Verano, casual.",keywords:["go mango","mango","frutal","verano","jugoso"],details:"Mango realista y jugoso. Pura felicidad de verano."},{name:"9pm",brand:"Afnan",inspiration:"Ultramale de Jean Paul Gaultier",profile:"Dulce, fiestero (manzana, vainilla, canela).",performance:"Modo Bestia. Proyeccin nuclear.",target:"Juvenil, fiesta, noche.",keywords:["9pm","ultramale","jpg","fiesta","noche","dulce","vainilla"],details:"xito de ventas para la fiesta. Proyeccin 'Modo Bestia'."},{name:"Fattan",brand:"Rasasi",inspiration:"Terre d'Herms EDT",profile:"Ctrico, terroso, vetiver, MUSGO (ms verde y hmedo).",performance:"Muy buen rendimiento y versatilidad.",target:"Maduro, elegante, terroso.",keywords:["fattan","terre","hermes","vetiver","musgo","verde","tierra"],details:"Inspiracin con identidad propia: aade una base potente de musgo que lo hace ms verde que Terre d'Herms."}],ac={greeting:"Hola! Bienvenid@ a Tus3B Style. Soy tu experto en perfumera rabe. Pregntame por una fragancia, una nota (ej: 'mango', 'caf') o una inspiracin (ej: 'tipo Sauvage').",default:"No estoy seguro de entender tu consulta. Puedo recomendarte perfumes (ej: 'algo fresco', 'algo dulce'), explicarte conceptos como **Clon vs Inspiracin**, **Maceracin**, o sugerirte combinaciones.",shipping:"Atendemos en nuestro **Studio** (Santiago Centro/uoa). Tambin vamos a domicilio por +$3.000.",prices:"Perfumes disponibles en Decants (5ml/10ml) y Botella. Servicios de peluquera desde $7.000.",arab_info:`**Perfumera rabe:** Lujo democratizado.

 **Ingrediente Clave**: OUD (resina amaderada/ahumada de lujo).
 **Rendimiento**: Alta concentracin, buscan durar todo el da.
 **Ciencia**: Uso experto de qumica para garantizar consistencia y precios accesibles.`,concepts:` **Clon o Inspiracin?**

 **Clonazo**: Rplica directa (Ej: *Jean Lowe Immortal* = *L'Immensit*).
 **Inspiracin**: Toma un ADN conocido pero aade un giro propio (Ej: *Teriaq* de Quentin Bisch o *Fattan* con ms musgo).

 **Maceracin**: Proceso de reposo donde el alcohol se estabiliza y la fragancia gana cuerpo.`},XM=e=>{const t=e.toLowerCase();return KM.filter(r=>r.name.toLowerCase().includes(t)||r.brand.toLowerCase().includes(t)||r.keywords.some(n=>t.includes(n))||r.profile.toLowerCase().includes(t)||r.inspiration.toLowerCase().includes(t))},YM=async(e,t)=>{await new Promise(i=>setTimeout(i,600));const r=e.toLowerCase();if(r.includes("maceracion")||r.includes("oxigenacion"))return` **Maceracin vs Oxigenacin**:

 **Maceracin**: Es bueno. El perfume reposa, gana cuerpo y calidad.

 **Oxigenacin**: Es malo. El aire degrada el aroma con el tiempo (el enemigo del perfume).`;if(r.includes("clon")||r.includes("inspiracion")||r.includes("diferencia"))return ac.concepts;if(r.includes("oud")||r.includes("arabe"))return ac.arab_info;if(r.includes("layering")||r.includes("mezclar"))return` **Layering (Capas)**: Mezcla fragancias para crear algo nico.

 **Combo Sugerido**: *Armaf Kayaan Toffee* + *Paris Corner Khair Pistachio* = Moderno, Chic y Gourmand.`;if(r.match(/\b(hola|buenos|buenas|hi)\b/))return ac.greeting;if(r.includes("precio")||r.includes("valor"))return ac.prices;if(r.includes("domicilio")||r.includes("ubicacion"))return ac.shipping;const n=XM(r);if(n.length>0)if(n.length===1){const i=n[0];return`Te recomiendo **${i.name}** de ${i.brand}.

 **Inspiracin**: ${i.inspiration}.
 **Perfil**: ${i.profile}
 **Detalle**: ${i.details||""}
 **Rendimiento**: ${i.performance}
 **Para**: ${i.target}`}else{const s=n.slice(0,5).map(c=>` **${c.name}**: ${c.profile.split("(")[0]}`).join(`
`);return`Encontr estas opciones para "${e}":

${s}

Quieres detalles de alguno?`}return ac.default},ZM=e=>{const t=e.toLowerCase();return t.match(/(tijera|maquina|secador|peine|cepillo|navaja|capa|guia|patillera)/)?"Herramientas":t.match(/(silla|sillon|espejo|mueble|lavacabeza|estante|mesa|camilla|vitrina|aro de luz|lampara)/)?"Mobiliario":t.match(/(shampoo|acondicionador|tinte|color|oxidanta|crema|keratina|botox|mascara|aceite|alcohol|algodon|guantes|papel aluminio|decolorante)/)?"Materiales":t.match(/(cafe|te|azucar|agua|galletas|jugo|limpieza|confort|papel|toalla|aromatizante|basura)/)?"Insumos Recepcin":"Otros"},QM=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([{role:"bot",text:'Hola! Soy tu asistente experto en perfumes rabes. Pregntame por "recomendaciones dulces", "algo tipo YSL" o por nuestros servicios.'}]),[i,s]=N.useState(""),[c,f]=N.useState(!1),p=N.useRef(null),m=()=>{p.current?.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{m()},[r,e]);const x=async()=>{if(!i.trim()||c)return;const S=i;n(I=>[...I,{role:"user",text:S}]),s(""),f(!0);const _=r.map(I=>`${I.role==="user"?"Usuario":"Bot"}: ${I.text}`);try{const I=await YM(S,_);n(O=>[...O,{role:"bot",text:I}])}catch{n(O=>[...O,{role:"bot",text:"Lo siento, tuve un problema procesando tu mensaje."}])}f(!1)},b=S=>{S.key==="Enter"&&x()};return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>t(!e),className:`fixed bottom-6 right-6 z-50 p-4 rounded-full shadow-2xl transition-all duration-300 hover:scale-110 flex items-center justify-center ${e?"bg-stone-800 rotate-90":"bg-stone-900 rotate-0"}`,children:e?v.jsx(yi,{color:"white"}):v.jsx(Sc,{color:"white"})}),e&&v.jsxs("div",{className:"fixed bottom-24 right-6 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-stone-200 z-50 flex flex-col overflow-hidden animate-in slide-in-from-bottom-10 fade-in duration-300 h-[500px]",children:[v.jsxs("div",{className:"bg-stone-900 p-4 flex items-center space-x-3",children:[v.jsx("div",{className:"bg-stone-700 p-2 rounded-full",children:v.jsx(Sc,{size:16,className:"text-yellow-400"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-white font-serif font-bold",children:"Asistente Tus3B"}),v.jsx("p",{className:"text-stone-400 text-xs",children:"Experto en Perfumes rabes"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((S,_)=>v.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm whitespace-pre-line ${S.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white text-stone-800 border border-stone-200 rounded-bl-none shadow-sm"}`,children:S.text})},_)),c&&v.jsx("div",{className:"flex justify-start",children:v.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-stone-200 shadow-sm flex items-center space-x-2",children:[v.jsx(td,{size:16,className:"animate-spin text-stone-400"}),v.jsx("span",{className:"text-xs text-stone-400",children:"Consultando catlogo..."})]})}),v.jsx("div",{ref:p})]}),v.jsxs("div",{className:"p-3 bg-white border-t border-stone-100 flex items-center gap-2",children:[v.jsx("input",{type:"text",value:i,onChange:S=>s(S.target.value),onKeyDown:b,placeholder:"Busca por perfume, nota o inspiracin...",className:"flex-1 text-sm border-none focus:ring-0 bg-stone-100 rounded-full px-4 py-2 text-stone-800 placeholder-stone-400"}),v.jsx("button",{onClick:x,disabled:c||!i.trim(),className:"p-2 bg-stone-900 text-white rounded-full hover:bg-stone-700 disabled:opacity-50 transition",children:v.jsx(DN,{size:16})})]})]})]})},JM=({isHomeService:e,onGoHome:t,onGoCatalog:r})=>(N.useEffect(()=>{window.scrollTo(0,0)},[]),v.jsx("div",{className:"min-h-[70vh] flex items-center justify-center p-4 fade-in",children:v.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-3xl shadow-2xl border border-stone-100 max-w-2xl w-full text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-green-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),v.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-amber-50 rounded-full opacity-50 blur-3xl pointer-events-none"}),v.jsxs("div",{className:"relative z-10",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 text-green-600 rounded-full mb-6 shadow-sm animate-in zoom-in spin-in-12 duration-700",children:v.jsx(ip,{size:40,strokeWidth:2.5})}),v.jsx("h2",{className:"serif text-4xl text-stone-900 mb-3",children:"Reserva Confirmada!"}),v.jsx("p",{className:"text-xl text-stone-600 font-light mb-8",children:"Gracias por tu confianza!"}),!e&&v.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl mb-8 border border-stone-100 transform transition hover:scale-105 duration-300",children:[v.jsxs("h3",{className:"text-xs font-bold text-stone-400 uppercase tracking-widest mb-3 flex items-center justify-center gap-2",children:[v.jsx(PN,{size:14})," Direccin del Servicio"]}),v.jsx("p",{className:"text-xl font-medium text-stone-800",children:"Diagonal Vicua Mackenna 2004"}),v.jsx("p",{className:"text-lg text-stone-600",children:"Torre B, Santiago"})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[v.jsxs("button",{onClick:t,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-100 text-stone-700 rounded-xl font-bold hover:bg-stone-200 transition-colors w-full sm:w-auto",children:[v.jsx(u6,{size:20}),"Regresar al Inicio"]}),v.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-8 py-4 bg-stone-900 text-white rounded-xl font-bold hover:bg-stone-800 transition-transform hover:-translate-y-1 shadow-lg w-full sm:w-auto",children:[v.jsx(rd,{size:20}),v.jsxs("span",{children:["Venta de Perfumes ",v.jsx("span",{className:"block text-[10px] font-normal opacity-80 leading-none mt-0.5",children:"Formatos 5ml y 10ml"})]})]})]})]})]})})),eD=()=>v.jsx("section",{className:"py-24 bg-white",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Testimonios"}),v.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Lo que dicen nuestras clientas"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:P6.map(e=>v.jsxs("div",{className:"bg-stone-50 p-8 rounded-sm hover:shadow-lg transition-shadow duration-300 relative",children:[v.jsx(g6,{className:"absolute top-6 right-6 text-stone-200",size:40}),v.jsx("div",{className:"flex space-x-1 mb-4 text-amber-500",children:[...Array(5)].map((t,r)=>v.jsx(oy,{size:16,fill:r<e.rating?"currentColor":"none",className:r<e.rating?"text-amber-500":"text-stone-300"},r))}),v.jsxs("p",{className:"text-stone-600 italic mb-6 leading-relaxed relative z-10",children:['"',e.comment,'"']}),v.jsxs("div",{className:"flex justify-between items-end border-t border-stone-200 pt-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-stone-900",children:e.name}),v.jsx("span",{className:"text-xs text-stone-400 font-medium",children:"Cliente Verificado"})]}),v.jsx("span",{className:"text-xs text-stone-400",children:e.date})]})]},e.id))})]})});var tD=Object.defineProperty,Jh=Object.getOwnPropertySymbols,n4=Object.prototype.hasOwnProperty,i4=Object.prototype.propertyIsEnumerable,rS=(e,t,r)=>t in e?tD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hx=(e,t)=>{for(var r in t||(t={}))n4.call(t,r)&&rS(e,r,t[r]);if(Jh)for(var r of Jh(t))i4.call(t,r)&&rS(e,r,t[r]);return e},qx=(e,t)=>{var r={};for(var n in e)n4.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Jh)for(var n of Jh(e))t.indexOf(n)<0&&i4.call(e,n)&&(r[n]=e[n]);return r};var fl;(e=>{const t=class kt{constructor(p,m,x,b){if(this.version=p,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],p<kt.MIN_VERSION||p>kt.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let S=[];for(let I=0;I<this.size;I++)S.push(!1);for(let I=0;I<this.size;I++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(x);if(this.drawCodewords(_),b==-1){let I=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const k=this.getPenaltyScore();k<I&&(b=O,I=k),this.applyMask(O)}}i(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(p,m){const x=e.QrSegment.makeSegments(p);return kt.encodeSegments(x,m)}static encodeBinary(p,m){const x=e.QrSegment.makeBytes(p);return kt.encodeSegments([x],m)}static encodeSegments(p,m,x=1,b=40,S=-1,_=!0){if(!(kt.MIN_VERSION<=x&&x<=b&&b<=kt.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let I,O;for(I=x;;I++){const M=kt.getNumDataCodewords(I,m)*8,U=c.getTotalBits(p,I);if(U<=M){O=U;break}if(I>=b)throw new RangeError("Data too long")}for(const M of[kt.Ecc.MEDIUM,kt.Ecc.QUARTILE,kt.Ecc.HIGH])_&&O<=kt.getNumDataCodewords(I,M)*8&&(m=M);let k=[];for(const M of p){r(M.mode.modeBits,4,k),r(M.numChars,M.mode.numCharCountBits(I),k);for(const U of M.getData())k.push(U)}i(k.length==O);const R=kt.getNumDataCodewords(I,m)*8;i(k.length<=R),r(0,Math.min(4,R-k.length),k),r(0,(8-k.length%8)%8,k),i(k.length%8==0);for(let M=236;k.length<R;M^=253)r(M,8,k);let L=[];for(;L.length*8<k.length;)L.push(0);return k.forEach((M,U)=>L[U>>>3]|=M<<7-(U&7)),new kt(I,m,L,S)}getModule(p,m){return 0<=p&&p<this.size&&0<=m&&m<this.size&&this.modules[m][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),m=p.length;for(let x=0;x<m;x++)for(let b=0;b<m;b++)x==0&&b==0||x==0&&b==m-1||x==m-1&&b==0||this.drawAlignmentPattern(p[x],p[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const m=this.errorCorrectionLevel.formatBits<<3|p;let x=m;for(let S=0;S<10;S++)x=x<<1^(x>>>9)*1335;const b=(m<<10|x)^21522;i(b>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,n(b,S));this.setFunctionModule(8,7,n(b,6)),this.setFunctionModule(8,8,n(b,7)),this.setFunctionModule(7,8,n(b,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,n(b,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,n(b,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,n(b,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const m=this.version<<12|p;i(m>>>18==0);for(let x=0;x<18;x++){const b=n(m,x),S=this.size-11+x%3,_=Math.floor(x/3);this.setFunctionModule(S,_,b),this.setFunctionModule(_,S,b)}}drawFinderPattern(p,m){for(let x=-4;x<=4;x++)for(let b=-4;b<=4;b++){const S=Math.max(Math.abs(b),Math.abs(x)),_=p+b,I=m+x;0<=_&&_<this.size&&0<=I&&I<this.size&&this.setFunctionModule(_,I,S!=2&&S!=4)}}drawAlignmentPattern(p,m){for(let x=-2;x<=2;x++)for(let b=-2;b<=2;b++)this.setFunctionModule(p+b,m+x,Math.max(Math.abs(b),Math.abs(x))!=1)}setFunctionModule(p,m,x){this.modules[m][p]=x,this.isFunction[m][p]=!0}addEccAndInterleave(p){const m=this.version,x=this.errorCorrectionLevel;if(p.length!=kt.getNumDataCodewords(m,x))throw new RangeError("Invalid argument");const b=kt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][m],S=kt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][m],_=Math.floor(kt.getNumRawDataModules(m)/8),I=b-_%b,O=Math.floor(_/b);let k=[];const R=kt.reedSolomonComputeDivisor(S);for(let M=0,U=0;M<b;M++){let W=p.slice(U,U+O-S+(M<I?0:1));U+=W.length;const V=kt.reedSolomonComputeRemainder(W,R);M<I&&W.push(0),k.push(W.concat(V))}let L=[];for(let M=0;M<k[0].length;M++)k.forEach((U,W)=>{(M!=O-S||W>=I)&&L.push(U[M])});return i(L.length==_),L}drawCodewords(p){if(p.length!=Math.floor(kt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let b=0;b<this.size;b++)for(let S=0;S<2;S++){const _=x-S,O=(x+1&2)==0?this.size-1-b:b;!this.isFunction[O][_]&&m<p.length*8&&(this.modules[O][_]=n(p[m>>>3],7-(m&7)),m++)}}i(m==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let x=0;x<this.size;x++){let b;switch(p){case 0:b=(x+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=x%3==0;break;case 3:b=(x+m)%3==0;break;case 4:b=(Math.floor(x/3)+Math.floor(m/2))%2==0;break;case 5:b=x*m%2+x*m%3==0;break;case 6:b=(x*m%2+x*m%3)%2==0;break;case 7:b=((x+m)%2+x*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][x]&&b&&(this.modules[m][x]=!this.modules[m][x])}}getPenaltyScore(){let p=0;for(let S=0;S<this.size;S++){let _=!1,I=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[S][k]==_?(I++,I==5?p+=kt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,O),_||(p+=this.finderPenaltyCountPatterns(O)*kt.PENALTY_N3),_=this.modules[S][k],I=1);p+=this.finderPenaltyTerminateAndCount(_,I,O)*kt.PENALTY_N3}for(let S=0;S<this.size;S++){let _=!1,I=0,O=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][S]==_?(I++,I==5?p+=kt.PENALTY_N1:I>5&&p++):(this.finderPenaltyAddHistory(I,O),_||(p+=this.finderPenaltyCountPatterns(O)*kt.PENALTY_N3),_=this.modules[k][S],I=1);p+=this.finderPenaltyTerminateAndCount(_,I,O)*kt.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let _=0;_<this.size-1;_++){const I=this.modules[S][_];I==this.modules[S][_+1]&&I==this.modules[S+1][_]&&I==this.modules[S+1][_+1]&&(p+=kt.PENALTY_N2)}let m=0;for(const S of this.modules)m=S.reduce((_,I)=>_+(I?1:0),m);const x=this.size*this.size,b=Math.ceil(Math.abs(m*20-x*10)/x)-1;return i(0<=b&&b<=9),p+=b*kt.PENALTY_N4,i(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let b=this.size-7;x.length<p;b-=m)x.splice(1,0,b);return x}}static getNumRawDataModules(p){if(p<kt.MIN_VERSION||p>kt.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;m-=(25*x-10)*x-55,p>=7&&(m-=36)}return i(208<=m&&m<=29648),m}static getNumDataCodewords(p,m){return Math.floor(kt.getNumRawDataModules(p)/8)-kt.ECC_CODEWORDS_PER_BLOCK[m.ordinal][p]*kt.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<p-1;b++)m.push(0);m.push(1);let x=1;for(let b=0;b<p;b++){for(let S=0;S<m.length;S++)m[S]=kt.reedSolomonMultiply(m[S],x),S+1<m.length&&(m[S]^=m[S+1]);x=kt.reedSolomonMultiply(x,2)}return m}static reedSolomonComputeRemainder(p,m){let x=m.map(b=>0);for(const b of p){const S=b^x.shift();x.push(0),m.forEach((_,I)=>x[I]^=kt.reedSolomonMultiply(_,S))}return x}static reedSolomonMultiply(p,m){if(p>>>8||m>>>8)throw new RangeError("Byte out of range");let x=0;for(let b=7;b>=0;b--)x=x<<1^(x>>>7)*285,x^=(m>>>b&1)*p;return i(x>>>8==0),x}finderPenaltyCountPatterns(p){const m=p[1];i(m<=this.size*3);const x=m>0&&p[2]==m&&p[3]==m*3&&p[4]==m&&p[5]==m;return(x&&p[0]>=m*4&&p[6]>=m?1:0)+(x&&p[6]>=m*4&&p[0]>=m?1:0)}finderPenaltyTerminateAndCount(p,m,x){return p&&(this.finderPenaltyAddHistory(m,x),m=0),m+=this.size,this.finderPenaltyAddHistory(m,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,m){m[0]==0&&(p+=this.size),m.pop(),m.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(f,p,m){if(p<0||p>31||f>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)m.push(f>>>x&1)}function n(f,p){return(f>>>p&1)!=0}function i(f){if(!f)throw new Error("Assertion error")}const s=class Wr{constructor(p,m,x){if(this.mode=p,this.numChars=m,this.bitData=x,m<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let m=[];for(const x of p)r(x,8,m);return new Wr(Wr.Mode.BYTE,p.length,m)}static makeNumeric(p){if(!Wr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let m=[];for(let x=0;x<p.length;){const b=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+b),10),b*3+1,m),x+=b}return new Wr(Wr.Mode.NUMERIC,p.length,m)}static makeAlphanumeric(p){if(!Wr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],x;for(x=0;x+2<=p.length;x+=2){let b=Wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;b+=Wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(b,11,m)}return x<p.length&&r(Wr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,m),new Wr(Wr.Mode.ALPHANUMERIC,p.length,m)}static makeSegments(p){return p==""?[]:Wr.isNumeric(p)?[Wr.makeNumeric(p)]:Wr.isAlphanumeric(p)?[Wr.makeAlphanumeric(p)]:[Wr.makeBytes(Wr.toUtf8ByteArray(p))]}static makeEci(p){let m=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,m);else if(p<16384)r(2,2,m),r(p,14,m);else if(p<1e6)r(6,3,m),r(p,21,m);else throw new RangeError("ECI assignment value out of range");return new Wr(Wr.Mode.ECI,0,m)}static isNumeric(p){return Wr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return Wr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,m){let x=0;for(const b of p){const S=b.mode.numCharCountBits(m);if(b.numChars>=1<<S)return 1/0;x+=4+S+b.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let m=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?m.push(p.charCodeAt(x)):(m.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return m}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=s;e.QrSegment=s})(fl||(fl={}));(e=>{(t=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(fl||(fl={}));(e=>{(t=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(fl||(fl={}));var fc=fl;var rD={L:fc.QrCode.Ecc.LOW,M:fc.QrCode.Ecc.MEDIUM,Q:fc.QrCode.Ecc.QUARTILE,H:fc.QrCode.Ecc.HIGH},a4=128,s4="L",o4="#FFFFFF",l4="#000000",c4=!1,u4=1,nD=4,iD=0,aD=.1;function d4(e,t=0){const r=[];return e.forEach(function(n,i){let s=null;n.forEach(function(c,f){if(!c&&s!==null){r.push(`M${s+t} ${i+t}h${f-s}v1H${s+t}z`),s=null;return}if(f===n.length-1){if(!c)return;s===null?r.push(`M${f+t},${i+t} h1v1H${f+t}z`):r.push(`M${s+t},${i+t} h${f+1-s}v1H${s+t}z`);return}c&&s===null&&(s=f)})}),r.join("")}function f4(e,t){return e.slice().map((r,n)=>n<t.y||n>=t.y+t.h?r:r.map((i,s)=>s<t.x||s>=t.x+t.w?i:!1))}function sD(e,t,r,n){if(n==null)return null;const i=e.length+r*2,s=Math.floor(t*aD),c=i/t,f=(n.width||s)*c,p=(n.height||s)*c,m=n.x==null?e.length/2-f/2:n.x*c,x=n.y==null?e.length/2-p/2:n.y*c,b=n.opacity==null?1:n.opacity;let S=null;if(n.excavate){let I=Math.floor(m),O=Math.floor(x),k=Math.ceil(f+m-I),R=Math.ceil(p+x-O);S={x:I,y:O,w:k,h:R}}const _=n.crossOrigin;return{x:m,y:x,h:p,w:f,excavation:S,opacity:b,crossOrigin:_}}function oD(e,t){return t!=null?Math.max(Math.floor(t),0):e?nD:iD}function h4({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:c,boostLevel:f}){let p=Nr.useMemo(()=>{const I=(Array.isArray(e)?e:[e]).reduce((O,k)=>(O.push(...fc.QrSegment.makeSegments(k)),O),[]);return fc.QrCode.encodeSegments(I,rD[t],r,void 0,void 0,f)},[e,t,r,f]);const{cells:m,margin:x,numCells:b,calculatedImageSettings:S}=Nr.useMemo(()=>{let _=p.getModules();const I=oD(n,i),O=_.length+I*2,k=sD(_,c,I,s);return{cells:_,margin:I,numCells:O,calculatedImageSettings:k}},[p,c,s,n,i]);return{qrcode:p,margin:x,cells:m,numCells:b,calculatedImageSettings:S}}var lD=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),cD=Nr.forwardRef(function(t,r){const n=t,{value:i,size:s=a4,level:c=s4,bgColor:f=o4,fgColor:p=l4,includeMargin:m=c4,minVersion:x=u4,boostLevel:b,marginSize:S,imageSettings:_}=n,O=qx(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=O,R=qx(O,["style"]),L=_?.src,M=Nr.useRef(null),U=Nr.useRef(null),W=Nr.useCallback(ke=>{M.current=ke,typeof r=="function"?r(ke):r&&(r.current=ke)},[r]),[V,H]=Nr.useState(!1),{margin:re,cells:X,numCells:Ee,calculatedImageSettings:ue}=h4({value:i,level:c,minVersion:x,boostLevel:b,includeMargin:m,marginSize:S,imageSettings:_,size:s});Nr.useEffect(()=>{if(M.current!=null){const ke=M.current,te=ke.getContext("2d");if(!te)return;let ie=X;const Q=U.current,oe=ue!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;oe&&ue.excavation!=null&&(ie=f4(X,ue.excavation));const xe=window.devicePixelRatio||1;ke.height=ke.width=s*xe;const Se=s/Ee*xe;te.scale(Se,Se),te.fillStyle=f,te.fillRect(0,0,Ee,Ee),te.fillStyle=p,lD?te.fill(new Path2D(d4(ie,re))):X.forEach(function(Z,fe){Z.forEach(function(Me,Fe){Me&&te.fillRect(Fe+re,fe+re,1,1)})}),ue&&(te.globalAlpha=ue.opacity),oe&&te.drawImage(Q,ue.x+re,ue.y+re,ue.w,ue.h)}}),Nr.useEffect(()=>{H(!1)},[L]);const de=Hx({height:s,width:s},k);let Ae=null;return L!=null&&(Ae=Nr.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{H(!0)},ref:U,crossOrigin:ue?.crossOrigin})),Nr.createElement(Nr.Fragment,null,Nr.createElement("canvas",Hx({style:de,height:s,width:s,ref:W,role:"img"},R)),Ae)});cD.displayName="QRCodeCanvas";var vy=Nr.forwardRef(function(t,r){const n=t,{value:i,size:s=a4,level:c=s4,bgColor:f=o4,fgColor:p=l4,includeMargin:m=c4,minVersion:x=u4,boostLevel:b,title:S,marginSize:_,imageSettings:I}=n,O=qx(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:R,numCells:L,calculatedImageSettings:M}=h4({value:i,level:c,minVersion:x,boostLevel:b,includeMargin:m,marginSize:_,imageSettings:I,size:s});let U=R,W=null;I!=null&&M!=null&&(M.excavation!=null&&(U=f4(R,M.excavation)),W=Nr.createElement("image",{href:I.src,height:M.h,width:M.w,x:M.x+k,y:M.y+k,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const V=d4(U,k);return Nr.createElement("svg",Hx({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:r,role:"img"},O),!!S&&Nr.createElement("title",null,S),Nr.createElement("path",{fill:f,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),Nr.createElement("path",{fill:p,d:V,shapeRendering:"crispEdges"}),W)});vy.displayName="QRCodeSVG";const uD=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":/android/i.test(e)?"android":"other"},dD=e=>{const t={Bronce:"",Plata:"",Gold:""};return{formatVersion:1,passTypeIdentifier:"pass.cl.tus3b.loyalty",serialNumber:e.token,teamIdentifier:"TUS3BSTYLE",organizationName:"Tus3B Style",description:"Tarjeta de Fidelidad Tus3B Style",logoText:"Tus3B Style",foregroundColor:"rgb(255, 255, 255)",backgroundColor:e.tier==="Gold"?"rgb(245, 158, 11)":e.tier==="Plata"?"rgb(148, 163, 184)":"rgb(28, 25, 23)",storeCard:{headerFields:[{key:"tier",label:"NIVEL",value:`${t[e.tier]} ${e.tier}`}],primaryFields:[{key:"name",label:"CLIENTE",value:e.clientName}],secondaryFields:[{key:"visits",label:"VISITAS",value:e.visits.toString()},{key:"next",label:"PRXIMO NIVEL",value:e.tier==="Bronce"?"5 visitas":e.tier==="Plata"?"10 visitas":"Eres VIP!"}],auxiliaryFields:[{key:"id",label:"ID MIEMBRO",value:e.token.substring(0,8).toUpperCase()}],backFields:[{key:"website",label:"Sitio Web",value:"https://tus3b.cl"},{key:"benefits",label:"Beneficios",value:e.tier==="Gold"?"30% OFF en servicios + Trato VIP":e.tier==="Plata"?"15% OFF en servicios":"5% OFF en productos"},{key:"howto",label:"Cmo usar",value:"Muestra este cdigo QR en cada visita para acumular puntos."}]},barcode:{message:e.token,format:"PKBarcodeFormatQR",messageEncoding:"iso-8859-1"}}},fD=e=>{const t=dD(e);sessionStorage.setItem("tus3b_wallet_pass",JSON.stringify({...t,_instructions:`
Para agregar tu tarjeta a Apple Wallet:

1. Visita: https://walletwallet.alen.ro/
2. Selecciona "Store Card" como tipo
3. Completa los campos:
   - Organization: Tus3B Style
   - Header: Nivel ${e.tier}
   - Primary: ${e.clientName}
   - Secondary: ${e.visits} Visitas
   - Barcode: QR con valor "${e.token}"
4. Descarga el pass y brelo en tu iPhone
        `.trim()})),window.open("https://walletwallet.alen.ro/","_blank")},hD=({clientName:e,token:t,visits:r,tier:n})=>{const[i,s]=N.useState(!1),[c,f]=N.useState("apple"),[p,m]=N.useState(!1),x=uD(),b=()=>{f("apple"),s(!0)},S=()=>{f("google"),s(!0)},_=async()=>{try{await navigator.clipboard.writeText(t),m(!0),setTimeout(()=>m(!1),2e3)}catch(L){console.error("Error copying:",L)}},I=()=>{c==="apple"?fD({clientName:e,token:t,visits:r,tier:n}):window.open("https://99minds.io/wallet-pass-creator","_blank")},O={Bronce:"",Plata:"",Gold:""},k=x==="ios"||x==="other",R=x==="android"||x==="other";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[k&&v.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 bg-black hover:bg-gray-900 text-white py-3 px-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl group w-full",children:[v.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:v.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),v.jsx("span",{className:"font-medium",children:"Agregar a Apple Wallet"})]}),R&&v.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 bg-white hover:bg-gray-100 text-gray-800 py-3 px-4 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl group w-full border border-gray-200",children:[v.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),v.jsx("span",{className:"font-medium",children:"Agregar a Google Wallet"})]}),v.jsx("p",{className:"text-[10px] text-stone-500 text-center",children:x==="ios"?"Disponible para iPhone  Gratis":x==="android"?"Disponible para Android  Gratis":"Disponible para iPhone y Android  Gratis"})]}),i&&v.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-stone-900 border border-stone-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-800",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${c==="apple"?"bg-gradient-to-br from-amber-500 to-amber-600":"bg-gradient-to-br from-blue-500 to-green-500"}`,children:v.jsx(S6,{className:"w-5 h-5 text-white"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-white",children:c==="apple"?"Apple Wallet":"Google Wallet"}),v.jsx("p",{className:"text-xs text-stone-400",children:"Agregar tarjeta"})]})]}),v.jsx("button",{onClick:()=>s(!1),className:"w-8 h-8 rounded-full bg-stone-800 hover:bg-stone-700 flex items-center justify-center text-stone-400 hover:text-white transition-colors",children:v.jsx(yi,{size:18})})]}),v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:`rounded-xl p-4 ${n==="Gold"?"bg-gradient-to-br from-amber-500 to-amber-600":n==="Plata"?"bg-gradient-to-br from-slate-400 to-slate-500":"bg-gradient-to-br from-stone-700 to-stone-800"}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] uppercase tracking-wider opacity-70",children:"Tus3B Style"}),v.jsx("p",{className:"font-bold text-lg",children:e.split(" ")[0]})]}),v.jsx("span",{className:"text-2xl",children:O[n]})]}),v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Visitas"}),v.jsx("p",{className:"text-2xl font-bold",children:r})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] uppercase opacity-70",children:"Nivel"}),v.jsx("p",{className:"font-bold",children:n})]})]})]})}),v.jsxs("div",{className:"p-4 pt-0 space-y-3",children:[v.jsxs("div",{className:"bg-stone-950 rounded-xl p-4 border border-stone-800",children:[v.jsxs("h4",{className:`font-bold text-sm mb-3 flex items-center gap-2 ${c==="apple"?"text-amber-400":"text-blue-400"}`,children:[v.jsx(BN,{size:16}),c==="apple"?"Pasos para agregar a Apple Wallet":"Pasos para agregar a Google Wallet"]}),v.jsxs("ol",{className:"space-y-2 text-sm text-stone-300",children:[v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"1"}),v.jsx("span",{children:'Haz clic en "Crear Pass" abajo'})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"2"}),v.jsx("span",{children:c==="apple"?'Selecciona "Store Card" como tipo':'Selecciona "Loyalty Card"'})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"3"}),v.jsx("span",{children:"Copia los datos mostrados abajo"})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"4"}),v.jsx("span",{children:'En "Barcode", pega tu cdigo QR'})]}),v.jsxs("li",{className:"flex gap-2",children:[v.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${c==="apple"?"bg-amber-500 text-black":"bg-blue-500 text-white"}`,children:"5"}),v.jsx("span",{children:c==="apple"?"Descarga y abre en tu iPhone":"Guarda en tu Google Wallet"})]})]})]}),v.jsxs("div",{className:"bg-stone-950 rounded-xl p-4 border border-stone-800",children:[v.jsx("h4",{className:"text-xs font-bold text-stone-400 uppercase mb-2",children:"Tus Datos"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-stone-500",children:"Organizacin:"}),v.jsx("span",{className:"text-white font-mono",children:"Tus3B Style"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-stone-500",children:"Nombre:"}),v.jsx("span",{className:"text-white font-mono",children:e})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-stone-500",children:"Nivel:"}),v.jsx("span",{className:"text-white font-mono",children:n})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-stone-500",children:"Visitas:"}),v.jsx("span",{className:"text-white font-mono",children:r})]}),v.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-stone-800",children:[v.jsx("span",{className:"text-stone-500",children:"Cdigo QR:"}),v.jsxs("button",{onClick:_,className:"flex items-center gap-1 bg-stone-800 hover:bg-stone-700 px-2 py-1 rounded text-xs font-mono text-amber-400 transition-colors",children:[p?v.jsx(gc,{size:12,className:"text-green-400"}):v.jsx(i6,{size:12}),t.substring(0,12),"..."]})]})]})]})]}),v.jsxs("div",{className:"p-4 pt-0 space-y-2",children:[v.jsxs("button",{onClick:I,className:`w-full font-bold py-3 px-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg ${c==="apple"?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-black shadow-amber-500/20":"bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-400 hover:to-green-400 text-white shadow-blue-500/20"}`,children:[v.jsx(o6,{size:18}),"Crear Pass Gratis"]}),v.jsx("button",{onClick:()=>s(!1),className:"w-full bg-stone-800 hover:bg-stone-700 text-stone-300 py-3 px-4 rounded-xl transition-colors",children:"Cerrar"})]})]})})]})},pD=({clientName:e,token:t,visits:r,nextReward:n,tier:i="Bronce"})=>{const[s,c]=N.useState(!1),p=(x=>{switch(x==="Silver"&&(x="Bronce"),x){case"Gold":return{name:"NIVEL GOLD",bgGradient:"bg-gradient-to-br from-amber-500 to-yellow-600",stampColor:"bg-amber-100 text-amber-700",benefit:"30% OFF"};case"Plata":return{name:"NIVEL PLATA",bgGradient:"bg-gradient-to-br from-slate-400 to-stone-400",stampColor:"bg-slate-50 text-slate-900",benefit:"15% OFF"};case"Bronce":default:return{name:"NIVEL BRONCE",bgGradient:"bg-gradient-to-br from-stone-800 to-stone-950",stampColor:"bg-white text-stone-950",benefit:"5% OFF"}}})(i||"Bronce");return v.jsxs("div",{className:"w-full max-w-sm mx-auto perspective-1000 group cursor-pointer",onClick:()=>c(!s),children:[v.jsxs("div",{className:`relative transition-transform duration-700 preserve-3d ${s?"rotate-y-180":""}`,children:[v.jsxs("div",{className:"backface-hidden w-full bg-stone-950 rounded-[24px] overflow-hidden shadow-2xl flex flex-col relative h-[680px] border border-stone-800",children:[v.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start z-10",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"font-serif italic text-2xl text-white tracking-tight",children:["Tus3B ",v.jsx("span",{className:"text-amber-500",children:"Style"})]}),v.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-stone-400 font-bold block mt-1",children:p.name})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] text-stone-500 uppercase font-bold mb-0.5",children:"Cliente"}),v.jsx("p",{className:"text-white font-bold text-lg leading-none",children:e.split(" ")[0]})]})]}),v.jsxs("div",{className:"px-6 py-4 z-10",children:[v.jsx("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[...Array(10)].map((x,b)=>v.jsx("div",{className:`aspect-square rounded-full flex items-center justify-center border-2 transition-all duration-500 ${b<r?"bg-white border-white scale-100 shadow-[0_0_10px_rgba(255,255,255,0.5)]":"bg-stone-900/50 border-stone-700 scale-90"}`,children:b<r&&v.jsx(gc,{size:20,className:"text-stone-950 stroke-[4]"})},b))}),v.jsxs("div",{className:"flex justify-between text-[10px] text-stone-500 font-mono mt-2 px-1",children:[v.jsx("span",{className:r>=5?"text-slate-400 font-bold":"",children:"PLATA (5)"}),v.jsx("span",{className:r>=10?"text-amber-500 font-bold":"",children:"GOLD (10)"})]})]}),v.jsxs("div",{className:"px-8 py-2 flex justify-between items-center z-10 mt-2",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Total Servicios"}),v.jsx("p",{className:"text-4xl font-black text-white",children:r})]}),v.jsx("div",{className:"w-px h-10 bg-stone-800"}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[10px] uppercase font-bold text-stone-400 tracking-wider mb-1",children:"Nivel Actual"}),v.jsx("p",{className:"text-xl font-black text-white",children:i||"Bronce"})]})]}),v.jsxs("div",{className:"flex-grow flex items-center justify-center p-6 relative",children:[v.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between items-center",children:[v.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-r-full -ml-3"}),v.jsx("div",{className:"w-full border-t-2 border-dashed border-stone-800 mx-2"}),v.jsx("div",{className:"w-6 h-6 bg-[#1c1917] rounded-l-full -mr-3"})]}),v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg relative group-hover:scale-105 transition-transform duration-300",children:[v.jsx(vy,{value:t,size:160,level:"M"}),v.jsx("p",{className:"text-center text-[9px] font-mono mt-2 text-stone-500 tracking-widest",children:t})]}),v.jsx("div",{className:"mt-4 w-full",onClick:x=>x.stopPropagation(),children:v.jsx(hD,{clientName:e,token:t,visits:r,tier:i||"Bronce"})})]}),v.jsx("div",{className:`absolute top-0 left-0 w-full h-full opacity-20 ${p.bgGradient} z-0`})]}),v.jsxs("div",{className:"absolute top-0 left-0 backface-hidden w-full h-[680px] bg-stone-900 rounded-[24px] shadow-2xl rotate-y-180 p-8 text-white flex flex-col justify-between border border-stone-800",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[v.jsx("h3",{className:"font-serif italic text-2xl",children:"Beneficios"}),v.jsx(l6,{className:"text-stone-500"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Bronce"?"border-stone-500 bg-stone-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-700 flex items-center justify-center font-bold text-stone-400",children:"0"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-stone-300",children:"Nivel Bronce"}),v.jsx("p",{className:"text-[10px] text-stone-500",children:"0 - 4 visitas"}),v.jsx("span",{className:"text-[10px] text-stone-400",children:"5% OFF en productos"})]})]}),v.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Plata"?"border-slate-400 bg-slate-800":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-500 text-white flex items-center justify-center font-bold shadow-lg shadow-slate-500/20",children:"5"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-slate-200",children:"Nivel Plata"}),v.jsx("p",{className:"text-[10px] text-stone-400",children:"5 - 9 visitas"}),v.jsx("span",{className:"text-[10px] text-slate-300 font-bold",children:"15% OFF en servicios"})]})]}),v.jsxs("div",{className:`p-3 rounded-2xl border ${i==="Gold"?"border-amber-500 bg-amber-900/20":"border-stone-800 bg-stone-900/50 opacity-50"} flex gap-4 items-center`,children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500 text-stone-900 flex items-center justify-center font-bold shadow-lg shadow-amber-500/40",children:"10"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-amber-500",children:"Nivel Gold"}),v.jsx("p",{className:"text-[10px] text-stone-400",children:"10+ visitas"}),v.jsx("span",{className:"text-[10px] text-amber-400 font-bold",children:"30% OFF + VIP"})]})]})]})]}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-[10px] text-stone-500",children:"Muestra tu cdigo QR para desbloquear niveles."})})]})]}),v.jsx("style",{children:`
                .perspective-1000 { perspective: 1000px; }
                .preserve-3d { transform-style: preserve-3d; }
                .backface-hidden { backface-visibility: hidden; }
                .rotate-y-180 { transform: rotateY(180deg); }
            `})]})},mD=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(!1),[i,s]=N.useState(null),[c,f]=N.useState(null),[p,m]=N.useState(!1),[x,b]=N.useState(""),[S,_]=N.useState(""),[I,O]=N.useState(""),k=U=>{let W=U.replace(/[^0-9kK]/g,"").toUpperCase();return W=W.replace("K","0"),W},R=U=>{const W=U.target.value.replace(/[^0-9]/g,"");W.length<=8&&t(W)},L=async U=>{U&&U.preventDefault();const V=new URLSearchParams(window.location.search).get("token");if(!(!V&&e.length<8)){n(!0);try{let H=qe.from("clients").select("*");V?H=H.eq("member_token",V):H=H.eq("phone","+569"+e);const{data:re,error:X}=await H.single();if(re){const Ee=re.visits||0;let ue="Bronce";Ee>=10?ue="Gold":Ee>=5&&(ue="Plata"),f({name:re.name,visits:Ee,referrals:re.referrals,nextReward:Ee<5?5:Ee<10?10:15,token:re.member_token,tier:ue,hair_service_count:re.hair_service_count||0}),m(!1)}else V||m(!0)}catch(H){console.error("Error checking loyalty:",H)}finally{n(!1)}}},M=async U=>{U.preventDefault(),n(!0);try{if(!qe)throw new Error("Sistema no disponible. Contacta al administrador.");if(!x.trim()||!S.trim())throw new Error("Por favor completa nombre y apellido");const W=k(I),V="+569"+e,re="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ue){const de=Math.random()*16|0;return(ue==="x"?de:de&3|8).toString(16)});console.log("Registrando cliente:",{fullPhone:V,name:`${x} ${S}`,token:re});const{data:X,error:Ee}=await qe.from("clients").insert([{name:`${x} ${S}`,phone:V,rut:W,visits:0,referrals:0,hair_service_count:0,member_token:re}]).select();if(console.log("Resultado insert:",{data:X,error:Ee}),Ee)throw console.error("Error de Supabase:",Ee),new Error(Ee.message||"Error al registrar");if(X&&X[0]){const ue=X[0];console.log("Cliente creado:",ue),f({name:ue.name,visits:0,referrals:0,nextReward:5,token:ue.member_token||re,tier:"Bronce",hair_service_count:0}),m(!1)}else throw new Error("No se recibieron datos del servidor")}catch(W){console.error("Error registering:",W),s(W.message||"No se pudo registrar. Verifica si ya existe el nmero o RUT.")}finally{n(!1)}};return Nr.useEffect(()=>{new URLSearchParams(window.location.search).get("token")&&L()},[]),v.jsxs("div",{className:"bg-stone-950 rounded-3xl p-8 text-white relative overflow-hidden shadow-2xl min-h-[600px] flex flex-col items-center",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[80px]"}),v.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-amber-500 font-bold",children:"Bienvenida a tu"}),v.jsx("h3",{className:"serif text-4xl mt-2 text-white",children:"Wallet Clientes"})]}),!c&&!p&&v.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-white/5 shadow-xl",children:[v.jsx("p",{className:"text-stone-400 text-center mb-6 text-sm",children:"Consulta tus puntos, beneficios y acceso a tu tarjeta digital."}),v.jsxs("form",{onSubmit:L,className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 group",children:[v.jsx("span",{className:"bg-stone-800/50 text-stone-400 font-mono text-sm px-3 py-4 rounded-xl border border-stone-700 whitespace-nowrap",children:"+569"}),v.jsxs("div",{className:"relative flex-1",children:[v.jsx("input",{type:"tel",value:e,onChange:R,placeholder:"87654321",maxLength:8,className:"w-full bg-stone-950 border border-stone-800 rounded-xl py-4 px-4 pr-10 text-white placeholder-stone-600 focus:outline-none focus:border-amber-500/50 transition duration-300 font-mono text-lg tracking-wider"}),v.jsx(Ec,{size:18,className:"absolute right-3 top-1/2 -translate-y-1/2 text-stone-600 group-focus-within:text-amber-500 transition-colors pointer-events-none"})]})]}),v.jsx("button",{type:"submit",disabled:r||e.length<8,className:"w-full bg-gradient-to-r from-amber-200 to-amber-500 text-stone-900 font-bold py-4 rounded-xl hover:shadow-[0_0_20px_rgba(245,158,11,0.3)] transition-shadow flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed",children:r?v.jsx(td,{className:"animate-spin"}):"Entrar a mi Wallet"})]})]}),!c&&p&&v.jsxs("div",{className:"bg-stone-900/50 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 shadow-xl animate-in slide-in-from-right-8",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("div",{className:"bg-amber-500/20 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-amber-500",children:v.jsx(ly,{size:24})}),v.jsx("h4",{className:"text-xl font-bold text-white",children:"Crear Cuenta"}),v.jsxs("p",{className:"text-stone-400 text-xs mt-1",children:["No encontramos el nmero ",v.jsxs("span",{className:"text-amber-400 font-mono",children:["+569 ",e]}),". Regstrate para acumular puntos."]})]}),v.jsxs("form",{onSubmit:M,className:"space-y-4",children:[i&&v.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex items-center gap-3",children:[v.jsx(iy,{className:"text-red-400 shrink-0",size:20}),v.jsx("p",{className:"text-red-300 text-sm",children:i})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Nombre",required:!0,value:x,onChange:U=>{b(U.target.value),s(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),v.jsx("input",{type:"text",placeholder:"Apellido",required:!0,value:S,onChange:U=>{_(U.target.value),s(null)},className:"bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"})]}),v.jsx("input",{type:"text",placeholder:"RUT (Sin puntos ni guin)",required:!0,value:I,onChange:U=>{O(U.target.value),s(null)},className:"w-full bg-stone-950 border border-stone-800 rounded-xl px-4 py-3 text-white focus:border-amber-500/50 focus:outline-none"}),v.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white text-stone-900 font-bold py-4 rounded-xl hover:bg-stone-100 transition-colors flex justify-center items-center mt-4",children:r?v.jsx(td,{className:"animate-spin"}):"Registrarme"}),v.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full text-stone-500 text-xs hover:text-white transition-colors py-2",children:"Volver / Usar otro nmero"})]})]}),c&&v.jsxs("div",{className:"animate-in fade-in zoom-in-95 duration-700",children:[v.jsx("div",{className:"mb-8 transform hover:scale-[1.02] transition-transform duration-500",children:v.jsx(pD,{clientName:c.name||"Miembro Exclusivo",token:c.token||"pending-token",visits:c.visits,nextReward:5,tier:c.tier})}),v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("p",{className:"text-sm text-stone-400",children:c.visits>=5?" Tienes una recompensa disponible":"Sigue sumando para desbloquear beneficios"}),v.jsx("button",{onClick:()=>{f(null),t(""),m(!1)},className:"text-xs text-stone-500 hover:text-stone-300 transition",children:"Cerrar sesin"})]})]})]})]})},gD=({onLogin:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[s,c]=N.useState(""),[f,p]=N.useState(!1),m=async x=>{x.preventDefault(),c(""),p(!0);try{if(await new Promise(b=>setTimeout(b,800)),n==="jacontulianoc@gmail.com")if(t==="Chile2026#")console.log("ACCESO AUTORIZADO: Credenciales vlidas"),e("management",n);else throw new Error("Invalid login credentials");else throw n.includes("@")?new Error("Usuario no autorizado para bypass"):new Error("Email invlido")}catch(b){console.error(b),c("Error local simulado")}finally{p(!1)}};return v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[50vh] bg-stone-50 p-4",children:v.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-stone-100 max-w-sm w-full text-center",children:[v.jsx(y6,{className:"w-12 h-12 text-stone-900 mx-auto mb-4"}),v.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-6",children:"Acceso Seguro"}),v.jsxs("form",{onSubmit:m,className:"space-y-4",children:[v.jsx("input",{type:"email",value:n,onChange:x=>i(x.target.value),placeholder:"Correo (@tus3b.cl)",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),v.jsx("input",{type:"password",value:t,onChange:x=>r(x.target.value),placeholder:"Contrasea",className:"w-full px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-stone-900 outline-none"}),s&&v.jsx("p",{className:"text-red-500 text-sm",children:s}),v.jsx("button",{type:"submit",disabled:f,className:"w-full bg-stone-900 text-white py-3 rounded-lg font-bold disabled:bg-stone-500",children:f?"Verificando...":"Ingresar"}),v.jsx("p",{className:"text-xs text-stone-400 mt-4",children:"* Sistema protegido con Supabase Auth"})]})]})})};var Ge;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var nS=new Map([[Ge.QR_CODE,"QR_CODE"],[Ge.AZTEC,"AZTEC"],[Ge.CODABAR,"CODABAR"],[Ge.CODE_39,"CODE_39"],[Ge.CODE_93,"CODE_93"],[Ge.CODE_128,"CODE_128"],[Ge.DATA_MATRIX,"DATA_MATRIX"],[Ge.MAXICODE,"MAXICODE"],[Ge.ITF,"ITF"],[Ge.EAN_13,"EAN_13"],[Ge.EAN_8,"EAN_8"],[Ge.PDF_417,"PDF_417"],[Ge.RSS_14,"RSS_14"],[Ge.RSS_EXPANDED,"RSS_EXPANDED"],[Ge.UPC_A,"UPC_A"],[Ge.UPC_E,"UPC_E"],[Ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),iS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(iS||(iS={}));function xD(e){return Object.values(Ge).includes(e)}var e0;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(e0||(e0={}));var vD=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[e0.SCAN_TYPE_CAMERA,e0.SCAN_TYPE_FILE],e})(),p4=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!nS.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,nS.get(t))},e})(),aS=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Gx;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gx||(Gx={}));var yD=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Gx.UNKWOWN_ERROR}},e})(),wD=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function ms(e){return typeof e>"u"||e===null}var hc=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),m4=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),c=Object.keys(t),f=0,p=c;f<p.length;f++){var m=p[f];if(s.has(m))return r.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e})(),Gu={exports:{}},bD=Gu.exports,sS;function ED(){return sS||(sS=1,(function(e,t){(function(r,n){n(t)})(bD,(function(r){function n(B){return B==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,a){B.__proto__=a}||function(B,a){for(var l in a)a.hasOwnProperty(l)&&(B[l]=a[l])};function s(B,a){i(B,a);function l(){this.constructor=B}B.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function c(B,a){var l=Object.setPrototypeOf;l?l(B,a):B.__proto__=a}function f(B,a){a===void 0&&(a=B.constructor);var l=Error.captureStackTrace;l&&l(B,a)}var p=(function(B){s(a,B);function a(l){var u=this.constructor,h=B.call(this,l)||this;return Object.defineProperty(h,"name",{value:u.name,enumerable:!1}),c(h,u.prototype),f(h),h}return a})(Error);class m extends p{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}m.kind="Exception";class x extends m{}x.kind="ArgumentException";class b extends m{}b.kind="IllegalArgumentException";class S{constructor(a){if(this.binarizer=a,a===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,u,h){const g=this.binarizer.getLuminanceSource().crop(a,l,u,h);return new S(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends m{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class I{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(a,l,u,h,g){for(;g--;)u[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class R extends k{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}R.kind="ArrayIndexOutOfBoundsException";class L{static fill(a,l){for(let u=0,h=a.length;u<h;u++)a[u]=l}static fillWithin(a,l,u,h){L.rangeCheck(a.length,l,u);for(let g=l;g<u;g++)a[g]=h}static rangeCheck(a,l,u){if(l>u)throw new b("fromIndex("+l+") > toIndex("+u+")");if(l<0)throw new R(l);if(u>a)throw new R(u)}static asList(...a){return a}static create(a,l,u){return Array.from({length:a}).map(g=>Array.from({length:l}).fill(u))}static createInt32Array(a,l,u){return Array.from({length:a}).map(g=>Int32Array.from({length:l}).fill(u))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let u=0,h=a.length;u<h;u++)if(a[u]!==l[u])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const u of a)l=31*l+u;return l}static fillUint8Array(a,l){for(let u=0;u!==a.length;u++)a[u]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const u=new Uint8Array(l);return u.set(a),u}return a.slice(0,l)}static copyOfRange(a,l,u){const h=u-l,g=new Int32Array(h);return O.arraycopy(a,l,g,0,h),g}static binarySearch(a,l,u){u===void 0&&(u=L.numberComparator);let h=0,g=a.length-1;for(;h<=g;){const y=g+h>>1,E=u(l,a[y]);if(E>0)h=y+1;else if(E<0)g=y-1;else return y}return-h-1}static numberComparator(a,l){return a-l}}class M{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let u=31;return l=a<<16,l!==0&&(u-=16,a=l),l=a<<8,l!==0&&(u-=8,a=l),l=a<<4,l!==0&&(u-=4,a=l),l=a<<2,l!==0&&(u-=2,a=l),u-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=U.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=U.makeArray(a);O.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=u[h];g&=~((1<<(a&31))-1);const y=u.length;for(;g===0;){if(++h===y)return l;g=u[h]}const E=h*32+M.numberOfTrailingZeros(g);return E>l?l:E}getNextUnset(a){const l=this.size;if(a>=l)return l;const u=this.bits;let h=Math.floor(a/32),g=~u[h];g&=~((1<<(a&31))-1);const y=u.length;for(;g===0;){if(++h===y)return l;g=~u[h]}const E=h*32+M.numberOfTrailingZeros(g);return E>l?l:E}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new b;if(l===a)return;l--;const u=Math.floor(a/32),h=Math.floor(l/32),g=this.bits;for(let y=u;y<=h;y++){const E=y>u?0:a&31,T=(2<<(y<h?31:l&31))-(1<<E);g[y]|=T}}clear(){const a=this.bits.length,l=this.bits;for(let u=0;u<a;u++)l[u]=0}isRange(a,l,u){if(l<a||a<0||l>this.size)throw new b;if(l===a)return!0;l--;const h=Math.floor(a/32),g=Math.floor(l/32),y=this.bits;for(let E=h;E<=g;E++){const C=E>h?0:a&31,D=(2<<(E<g?31:l&31))-(1<<C)&4294967295;if((y[E]&D)!==(u?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let u=l;u>0;u--)this.appendBit((a>>u-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let u=0;u<l;u++)this.appendBit(a.get(u))}xor(a){if(this.size!==a.size)throw new b("Sizes don't match");const l=this.bits;for(let u=0,h=l.length;u<h;u++)l[u]^=a.bits[u]}toBytes(a,l,u,h){for(let g=0;g<h;g++){let y=0;for(let E=0;E<8;E++)this.get(a)&&(y|=1<<7-E),a++;l[u+g]=y}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),u=l+1,h=this.bits;for(let g=0;g<u;g++){let y=h[g];y=y>>1&1431655765|(y&1431655765)<<1,y=y>>2&858993459|(y&858993459)<<2,y=y>>4&252645135|(y&252645135)<<4,y=y>>8&16711935|(y&16711935)<<8,y=y>>16&65535|(y&65535)<<16,a[l-g]=y}if(this.size!==u*32){const g=u*32-this.size;let y=a[0]>>>g;for(let E=1;E<u;E++){const C=a[E];y|=C<<32-g,a[E-1]=y,y=C>>>g}a[u-1]=y}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof U))return!1;const l=a;return this.size===l.size&&L.equals(this.bits,l.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let a="";for(let l=0,u=this.size;l<u;l++)(l&7)===0&&(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new U(this.size,this.bits.slice())}}var W;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(W||(W={}));var V=W;class H extends m{static getFormatInstance(){return new H}}H.kind="FormatException";var re;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(re||(re={}));class X{constructor(a,l,u,...h){this.valueIdentifier=a,this.name=u,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,X.VALUE_IDENTIFIER_TO_ECI.set(a,this),X.NAME_TO_ECI.set(u,this);const g=this.values;for(let y=0,E=g.length;y!==E;y++){const C=g[y];X.VALUES_TO_ECI.set(C,this)}for(const y of h)X.NAME_TO_ECI.set(y,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new H("incorect value");const l=X.VALUES_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}static getCharacterSetECIByName(a){const l=X.NAME_TO_ECI.get(a);if(l===void 0)throw new H("incorect value");return l}equals(a){if(!(a instanceof X))return!1;const l=a;return this.getName()===l.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(re.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(re.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(re.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(re.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(re.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(re.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(re.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(re.Big5,28,"Big5"),X.GB18030=new X(re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(re.EUC_KR,30,"EUC_KR","EUC-KR");class Ee extends m{}Ee.kind="UnsupportedOperationException";class ue{static decode(a,l){const u=this.encodingName(l);return this.customDecoder?this.customDecoder(a,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(a,u):new TextDecoder(u).decode(a)}static shouldDecodeOnFallback(a){return!ue.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const u=this.encodingName(l);return this.customEncoder?this.customEncoder(a,u):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof X?a:X.getCharacterSetECIByName(a)}static decodeFallback(a,l){const u=this.encodingCharacterSet(l);if(ue.isDecodeFallbackSupported(u)){let h="";for(let g=0,y=a.length;g<y;g++){let E=a[g].toString(16);E.length<2&&(E="0"+E),h+="%"+E}return decodeURIComponent(h)}if(u.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new Ee(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(X.UTF8)||a.equals(X.ISO8859_1)||a.equals(X.ASCII)}static encodeFallback(a){const u=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let g=0;g<u.length;g++)h.push(u[g].charCodeAt(0));return new Uint8Array(h)}}class de{static castAsNonUtf8Char(a,l=null){const u=l?l.getName():this.ISO88591;return ue.decode(new Uint8Array([a]),u)}static guessEncoding(a,l){if(l!=null&&l.get(V.CHARACTER_SET)!==void 0)return l.get(V.CHARACTER_SET).toString();const u=a.length;let h=!0,g=!0,y=!0,E=0,C=0,T=0,D=0,F=0,$=0,G=0,Y=0,ee=0,ae=0,me=0;const je=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let Re=0;Re<u&&(h||g||y);Re++){const Oe=a[Re]&255;y&&(E>0?(Oe&128)===0?y=!1:E--:(Oe&128)!==0&&((Oe&64)===0?y=!1:(E++,(Oe&32)===0?C++:(E++,(Oe&16)===0?T++:(E++,(Oe&8)===0?D++:y=!1))))),h&&(Oe>127&&Oe<160?h=!1:Oe>159&&(Oe<192||Oe===215||Oe===247)&&me++),g&&(F>0?Oe<64||Oe===127||Oe>252?g=!1:F--:Oe===128||Oe===160||Oe>239?g=!1:Oe>160&&Oe<224?($++,Y=0,G++,G>ee&&(ee=G)):Oe>127?(F++,G=0,Y++,Y>ae&&(ae=Y)):(G=0,Y=0))}return y&&E>0&&(y=!1),g&&F>0&&(g=!1),y&&(je||C+T+D>0)?de.UTF8:g&&(de.ASSUME_SHIFT_JIS||ee>=3||ae>=3)?de.SHIFT_JIS:h&&g?ee===2&&$===2||me*10>=u?de.SHIFT_JIS:de.ISO88591:h?de.ISO88591:g?de.SHIFT_JIS:y?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let u=-1;function h(y,E,C,T,D,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,G;switch(F){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(y);break;case"p":G=parseFloat(l[u]).toPrecision(y);break;case"e":G=parseFloat(l[u]).toExponential(y);break;case"x":G=parseInt(l[u]).toString($||16);break;case"d":G=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString($);let Y=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;G.length<Y;)G=E!==void 0?G+ee:ee+G;return G}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}static getBytes(a,l){return ue.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}de.SHIFT_JIS=X.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=X.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=X.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class Ae{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=de.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,u){for(let h=l;l<l+u;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class ke{constructor(a,l,u,h){if(this.width=a,this.height=l,this.rowSize=u,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new b("Both dimensions must be greater than 0");u==null&&(u=Math.floor((a+31)/32)),this.rowSize=u,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,u=a[0].length,h=new ke(u,l);for(let g=0;g<l;g++){const y=a[g];for(let E=0;E<u;E++)y[E]&&h.set(E,g)}return h}static parseFromString(a,l,u){if(a===null)throw new b("stringRepresentation cannot be null");const h=new Array(a.length);let g=0,y=0,E=-1,C=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(g>y){if(E===-1)E=g-y;else if(g-y!==E)throw new b("row lengths do not match");y=g,C++}T++}else if(a.substring(T,T+l.length)===l)T+=l.length,h[g]=!0,g++;else if(a.substring(T,T+u.length)===u)T+=u.length,h[g]=!1,g++;else throw new b("illegal character encountered: "+a.substring(T));if(g>y){if(E===-1)E=g-y;else if(g-y!==E)throw new b("row lengths do not match");C++}const D=new ke(E,C);for(let F=0;F<g;F++)h[F]&&D.set(Math.floor(F%E),Math.floor(F/E));return D}get(a,l){const u=l*this.rowSize+Math.floor(a/32);return(this.bits[u]>>>(a&31)&1)!==0}set(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]|=1<<(a&31)&4294967295}unset(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]&=~(1<<(a&31)&4294967295)}flip(a,l){const u=l*this.rowSize+Math.floor(a/32);this.bits[u]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new b("input matrix dimensions do not match");const l=new U(Math.floor(this.width/32)+1),u=this.rowSize,h=this.bits;for(let g=0,y=this.height;g<y;g++){const E=g*u,C=a.getRow(g,l).getBitArray();for(let T=0;T<u;T++)h[E+T]^=C[T]}}clear(){const a=this.bits,l=a.length;for(let u=0;u<l;u++)a[u]=0}setRegion(a,l,u,h){if(l<0||a<0)throw new b("Left and top must be nonnegative");if(h<1||u<1)throw new b("Height and width must be at least 1");const g=a+u,y=l+h;if(y>this.height||g>this.width)throw new b("The region must fit inside the matrix");const E=this.rowSize,C=this.bits;for(let T=l;T<y;T++){const D=T*E;for(let F=a;F<g;F++)C[D+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new U(this.width):l.clear();const u=this.rowSize,h=this.bits,g=a*u;for(let y=0;y<u;y++)l.setBulk(y*32,h[g+y]);return l}setRow(a,l){O.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let u=new U(a),h=new U(a);for(let g=0,y=Math.floor((l+1)/2);g<y;g++)u=this.getRow(g,u),h=this.getRow(l-1-g,h),u.reverse(),h.reverse(),this.setRow(g,h),this.setRow(l-1-g,u)}getEnclosingRectangle(){const a=this.width,l=this.height,u=this.rowSize,h=this.bits;let g=a,y=l,E=-1,C=-1;for(let T=0;T<l;T++)for(let D=0;D<u;D++){const F=h[T*u+D];if(F!==0){if(T<y&&(y=T),T>C&&(C=T),D*32<g){let $=0;for(;(F<<31-$&4294967295)===0;)$++;D*32+$<g&&(g=D*32+$)}if(D*32+31>E){let $=31;for(;!(F>>>$);)$--;D*32+$>E&&(E=D*32+$)}}}return E<g||C<y?null:Int32Array.from([g,y,E-g+1,C-y+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let u=0;for(;u<l.length&&l[u]===0;)u++;if(u===l.length)return null;const h=u/a;let g=u%a*32;const y=l[u];let E=0;for(;(y<<31-E&4294967295)===0;)E++;return g+=E,Int32Array.from([g,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let u=l.length-1;for(;u>=0&&l[u]===0;)u--;if(u<0)return null;const h=Math.floor(u/a);let g=Math.floor(u%a)*32;const y=l[u];let E=31;for(;!(y>>>E);)E--;return g+=E,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ke))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&L.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+L.hashCode(this.bits),a}toString(a="X ",l="  ",u=`
`){return this.buildToString(a,l,u)}buildToString(a,l,u){let h=new Ae;for(let g=0,y=this.height;g<y;g++){for(let E=0,C=this.width;E<C;E++)h.append(this.get(E,g)?a:l);h.append(u)}return h.toString()}clone(){return new ke(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends m{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class ie extends I{constructor(a){super(a),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(a,l){const u=this.getLuminanceSource(),h=u.getWidth();l==null||l.getSize()<h?l=new U(h):l.clear(),this.initArrays(h);const g=u.getRow(a,this.luminances),y=this.buckets;for(let C=0;C<h;C++)y[(g[C]&255)>>ie.LUMINANCE_SHIFT]++;const E=ie.estimateBlackPoint(y);if(h<3)for(let C=0;C<h;C++)(g[C]&255)<E&&l.set(C);else{let C=g[0]&255,T=g[1]&255;for(let D=1;D<h-1;D++){const F=g[D+1]&255;(T*4-C-F)/2<E&&l.set(D),C=T,T=F}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight(),h=new ke(l,u);this.initArrays(l);const g=this.buckets;for(let C=1;C<5;C++){const T=Math.floor(u*C/5),D=a.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let $=Math.floor(l/5);$<F;$++){const G=D[$]&255;g[G>>ie.LUMINANCE_SHIFT]++}}const y=ie.estimateBlackPoint(g),E=a.getMatrix();for(let C=0;C<u;C++){const T=C*l;for(let D=0;D<l;D++)(E[T+D]&255)<y&&h.set(D,C)}return h}createBinarizer(a){return new ie(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let u=0;u<ie.LUMINANCE_BUCKETS;u++)l[u]=0}static estimateBlackPoint(a){const l=a.length;let u=0,h=0,g=0;for(let D=0;D<l;D++)a[D]>g&&(h=D,g=a[D]),a[D]>u&&(u=a[D]);let y=0,E=0;for(let D=0;D<l;D++){const F=D-h,$=a[D]*F*F;$>E&&(y=D,E=$)}if(h>y){const D=h;h=y,y=D}if(y-h<=l/16)throw new te;let C=y-1,T=-1;for(let D=y-1;D>h;D--){const F=D-h,$=F*F*(y-D)*(u-a[D]);$>T&&(C=D,T=$)}return C<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class Q extends ie{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),u=a.getHeight();if(l>=Q.MINIMUM_DIMENSION&&u>=Q.MINIMUM_DIMENSION){const h=a.getMatrix();let g=l>>Q.BLOCK_SIZE_POWER;(l&Q.BLOCK_SIZE_MASK)!==0&&g++;let y=u>>Q.BLOCK_SIZE_POWER;(u&Q.BLOCK_SIZE_MASK)!==0&&y++;const E=Q.calculateBlackPoints(h,g,y,l,u),C=new ke(l,u);Q.calculateThresholdForBlock(h,g,y,l,u,E,C),this.matrix=C}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new Q(a)}static calculateThresholdForBlock(a,l,u,h,g,y,E){const C=g-Q.BLOCK_SIZE,T=h-Q.BLOCK_SIZE;for(let D=0;D<u;D++){let F=D<<Q.BLOCK_SIZE_POWER;F>C&&(F=C);const $=Q.cap(D,2,u-3);for(let G=0;G<l;G++){let Y=G<<Q.BLOCK_SIZE_POWER;Y>T&&(Y=T);const ee=Q.cap(G,2,l-3);let ae=0;for(let je=-2;je<=2;je++){const Re=y[$+je];ae+=Re[ee-2]+Re[ee-1]+Re[ee]+Re[ee+1]+Re[ee+2]}const me=ae/25;Q.thresholdBlock(a,Y,F,me,h,E)}}}static cap(a,l,u){return a<l?l:a>u?u:a}static thresholdBlock(a,l,u,h,g,y){for(let E=0,C=u*g+l;E<Q.BLOCK_SIZE;E++,C+=g)for(let T=0;T<Q.BLOCK_SIZE;T++)(a[C+T]&255)<=h&&y.set(l+T,u+E)}static calculateBlackPoints(a,l,u,h,g){const y=g-Q.BLOCK_SIZE,E=h-Q.BLOCK_SIZE,C=new Array(u);for(let T=0;T<u;T++){C[T]=new Int32Array(l);let D=T<<Q.BLOCK_SIZE_POWER;D>y&&(D=y);for(let F=0;F<l;F++){let $=F<<Q.BLOCK_SIZE_POWER;$>E&&($=E);let G=0,Y=255,ee=0;for(let me=0,je=D*h+$;me<Q.BLOCK_SIZE;me++,je+=h){for(let Re=0;Re<Q.BLOCK_SIZE;Re++){const Oe=a[je+Re]&255;G+=Oe,Oe<Y&&(Y=Oe),Oe>ee&&(ee=Oe)}if(ee-Y>Q.MIN_DYNAMIC_RANGE)for(me++,je+=h;me<Q.BLOCK_SIZE;me++,je+=h)for(let Re=0;Re<Q.BLOCK_SIZE;Re++)G+=a[je+Re]&255}let ae=G>>Q.BLOCK_SIZE_POWER*2;if(ee-Y<=Q.MIN_DYNAMIC_RANGE&&(ae=Y/2,T>0&&F>0)){const me=(C[T-1][F]+2*C[T][F-1]+C[T-1][F-1])/4;Y<me&&(ae=me)}C[T][F]=ae}}return C}}Q.BLOCK_SIZE_POWER=3,Q.BLOCK_SIZE=1<<Q.BLOCK_SIZE_POWER,Q.BLOCK_SIZE_MASK=Q.BLOCK_SIZE-1,Q.MINIMUM_DIMENSION=Q.BLOCK_SIZE*5,Q.MIN_DYNAMIC_RANGE=24;class oe{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,u,h){throw new Ee("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ee("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ee("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new Ae;for(let u=0;u<this.height;u++){const h=this.getRow(u,a);for(let g=0;g<this.width;g++){const y=h[g]&255;let E;y<64?E="#":y<128?E="+":y<192?E=".":E=" ",l.append(E)}l.append(`
`)}return l.toString()}}class xe extends oe{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const u=this.delegate.getRow(a,l),h=this.getWidth();for(let g=0;g<h;g++)u[g]=255-(u[g]&255);return u}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(l);for(let h=0;h<l;h++)u[h]=255-(a[h]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,u,h){return new xe(this.delegate.crop(a,l,u,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class Se extends oe{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=Se.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return Se.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,u){const h=new Uint8ClampedArray(l*u);for(let g=0,y=0,E=a.length;g<E;g+=4,y++){let C;if(a[g+3]===0)C=255;else{const D=a[g],F=a[g+1],$=a[g+2];C=306*D+601*F+117*$+512>>10}h[y]=C}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const u=this.getWidth(),h=a*u;return l===null?l=this.buffer.slice(h,h+u):(l.length<u&&(l=new Uint8ClampedArray(u)),l.set(this.buffer.slice(h,h+u))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,u,h){return super.crop(a,l,u,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),u=l.getContext("2d"),h=a*Se.DEGREE_TO_RADIANS,g=this.canvas.width,y=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*y),C=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*y);return l.width=E,l.height=C,u.translate(E/2,C/2),u.rotate(h),u.drawImage(this.canvas,g/-2,y/-2),this.buffer=Se.makeBufferFromCanvasImageData(l),this}invert(){return new xe(this)}}Se.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(a,l,u){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var fe=(globalThis||eh||self||window||void 0)&&(globalThis||eh||self||window||void 0).__awaiter||function(B,a,l,u){function h(g){return g instanceof l?g:new l(function(y){y(g)})}return new(l||(l=Promise))(function(g,y){function E(D){try{T(u.next(D))}catch(F){y(F)}}function C(D){try{T(u.throw(D))}catch(F){y(F)}}function T(D){D.done?g(D.value):h(D.value).then(E,C)}T((u=u.apply(B,a||[])).next())})};class Me{constructor(a,l=500,u){this.reader=a,this.timeBetweenScansMillis=l,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return fe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const u of a){const h=u.kind==="video"?"videoinput":u.kind;if(h!=="videoinput")continue;const g=u.deviceId||u.id,y=u.label||`Video device ${l.length+1}`,E=u.groupId,C={deviceId:g,label:y,kind:h,groupId:E};l.push(C)}return l})}getVideoInputDevices(){return fe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Z(l.deviceId,l.label))})}findDeviceById(a){return fe(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(u=>u.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return fe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return fe(this,void 0,void 0,function*(){this.reset();let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return fe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(u,l)})}decodeOnceFromStream(a,l){return fe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(a,l,u){return fe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,u)})}decodeFromVideoDevice(a,l,u){return fe(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,l,u)})}decodeFromConstraints(a,l,u){return fe(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,u)})}decodeFromStream(a,l,u){return fe(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return fe(this,void 0,void 0,function*(){const u=this.prepareVideoElement(l);return this.addVideoSource(u,a),this.videoElement=u,this.stream=a,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(a){return new Promise((l,u)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return fe(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const u=document.getElementById(a);if(!u)throw new x(`element with id '${a}' not found`);if(u.nodeName.toLowerCase()!==l.toLowerCase())throw new x(`element with id '${a}' must be an ${l} element`);return u}decodeFromImage(a,l){if(!a&&!l)throw new x("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new x("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,u){if(a===void 0&&l===void 0)throw new x("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,u):this.decodeFromVideoElementContinuously(a,u)}decodeFromImageElement(a){if(!a)throw new x("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let u;return this.isImageLoaded(l)?u=this.decodeOnce(l,!1,!0):u=this._decodeOnLoadImage(l),u}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const u=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(u,l)}_decodeFromVideoElementSetup(a){if(!a)throw new x("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new x("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const u=this._decodeOnLoadImage(l);return l.src=a,u}decodeFromVideoUrl(a){if(!a)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElement(l);return l.src=a,u}decodeFromVideoUrlContinuously(a,l){if(!a)throw new x("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(u,l);return u.src=a,h}_decodeOnLoadImage(a){return new Promise((l,u)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,u),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return fe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return fe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,u=!0){this._stopAsyncDecode=!1;const h=(g,y)=>{if(this._stopAsyncDecode){y(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(a);g(E)}catch(E){const C=l&&E instanceof te,D=(E instanceof _||E instanceof H)&&u;if(C||D)return setTimeout(h,this._timeBetweenDecodingAttempts,g,y);y(E)}};return new Promise((g,y)=>h(g,y))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(u,this.timeBetweenScansMillis)}catch(h){l(null,h);const g=h instanceof _||h instanceof H,y=h instanceof te;(g||y)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,u){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,u=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),u=new Se(l),h=new Q(u);return new S(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let u,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(u=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(u=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=u+"px",l.style.height=h+"px",l.width=u,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(a,l,u=l==null?0:8*l.length,h,g,y=O.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=u,this.resultPoints=h,this.format=g,this.timestamp=y,this.text=a,this.rawBytes=l,u==null?this.numBits=l==null?0:8*l.length:this.numBits=u,this.resultPoints=h,this.format=g,this.resultMetadata=null,y==null?this.timestamp=O.currentTimeMillis():this.timestamp=y}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const u=new Array(l.length+a.length);O.arraycopy(l,0,u,0,l.length),O.arraycopy(a,0,u,l.length,a.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Je;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var Ie=Je,lt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var ye=lt;class se{constructor(a,l,u,h,g=-1,y=-1){this.rawBytes=a,this.text=l,this.byteSegments=u,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=y,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Be{exp(a){return this.expTable[a]}log(a){if(a===0)throw new b;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class Ue{constructor(a,l){if(l.length===0)throw new b;this.field=a;const u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-h),O.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let u;if(a===1){u=0;for(let y=0,E=l.length;y!==E;y++){const C=l[y];u=Be.addOrSubtract(u,C)}return u}u=l[0];const h=l.length,g=this.field;for(let y=1;y<h;y++)u=Be.addOrSubtract(g.multiply(a,u),l[y]);return u}addOrSubtract(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){const y=l;l=u,u=y}let h=new Int32Array(u.length);const g=u.length-l.length;O.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=Be.addOrSubtract(l[y-g],u[y]);return new Ue(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,y=new Int32Array(u+g-1),E=this.field;for(let C=0;C<u;C++){const T=l[C];for(let D=0;D<g;D++)y[C+D]=Be.addOrSubtract(y[C+D],E.multiply(T,h[D]))}return new Ue(E,y)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,u=this.field,h=new Int32Array(l),g=this.coefficients;for(let y=0;y<l;y++)h[y]=u.multiply(g[y],a);return new Ue(u,h)}multiplyByMonomial(a,l){if(a<0)throw new b;if(l===0)return this.field.getZero();const u=this.coefficients,h=u.length,g=new Int32Array(h+a),y=this.field;for(let E=0;E<h;E++)g[E]=y.multiply(u[E],l);return new Ue(y,g)}divide(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new b("Divide by 0");const l=this.field;let u=l.getZero(),h=this;const g=a.getCoefficient(a.getDegree()),y=l.inverse(g);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const E=h.getDegree()-a.getDegree(),C=l.multiply(h.getCoefficient(h.getDegree()),y),T=a.multiplyByMonomial(E,C),D=l.buildMonomial(E,C);u=u.addOrSubtract(D),h=h.addOrSubtract(T)}return[u,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);if(u!==0){if(u<0?(a+=" - ",u=-u):a.length>0&&(a+=" + "),l===0||u!==1){const h=this.field.log(u);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class we extends m{}we.kind="ArithmeticException";class He extends Be{constructor(a,l,u){super(),this.primitive=a,this.size=l,this.generatorBase=u;const h=new Int32Array(l);let g=1;for(let E=0;E<l;E++)h[E]=g,g*=2,g>=l&&(g^=a,g&=l-1);this.expTable=h;const y=new Int32Array(l);for(let E=0;E<l-1;E++)y[h[E]]=E;this.logTable=y,this.zero=new Ue(this,Int32Array.from([0])),this.one=new Ue(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new b;if(l===0)return this.zero;const u=new Int32Array(a+1);return u[0]=l,new Ue(this,u)}inverse(a){if(a===0)throw new we;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class Qe extends m{}Qe.kind="ReedSolomonException";class Ct extends m{}Ct.kind="IllegalStateException";class Ft{constructor(a){this.field=a}decode(a,l){const u=this.field,h=new Ue(u,a),g=new Int32Array(l);let y=!0;for(let G=0;G<l;G++){const Y=h.evaluateAt(u.exp(G+u.getGeneratorBase()));g[g.length-1-G]=Y,Y!==0&&(y=!1)}if(y)return;const E=new Ue(u,g),C=this.runEuclideanAlgorithm(u.buildMonomial(l,1),E,l),T=C[0],D=C[1],F=this.findErrorLocations(T),$=this.findErrorMagnitudes(D,F);for(let G=0;G<F.length;G++){const Y=a.length-1-u.log(F[G]);if(Y<0)throw new Qe("Bad error location");a[Y]=He.addOrSubtract(a[Y],$[G])}}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){const G=a;a=l,l=G}const h=this.field;let g=a,y=l,E=h.getZero(),C=h.getOne();for(;y.getDegree()>=(u/2|0);){let G=g,Y=E;if(g=y,E=C,g.isZero())throw new Qe("r_{i-1} was zero");y=G;let ee=h.getZero();const ae=g.getCoefficient(g.getDegree()),me=h.inverse(ae);for(;y.getDegree()>=g.getDegree()&&!y.isZero();){const je=y.getDegree()-g.getDegree(),Re=h.multiply(y.getCoefficient(y.getDegree()),me);ee=ee.addOrSubtract(h.buildMonomial(je,Re)),y=y.addOrSubtract(g.multiplyByMonomial(je,Re))}if(C=ee.multiply(E).addOrSubtract(Y),y.getDegree()>=g.getDegree())throw new Ct("Division algorithm failed to reduce polynomial?")}const T=C.getCoefficient(0);if(T===0)throw new Qe("sigmaTilde(0) was zero");const D=h.inverse(T),F=C.multiplyScalar(D),$=y.multiplyScalar(D);return[F,$]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const u=new Int32Array(l);let h=0;const g=this.field;for(let y=1;y<g.getSize()&&h<l;y++)a.evaluateAt(y)===0&&(u[h]=g.inverse(y),h++);if(h!==l)throw new Qe("Error locator degree does not match number of roots");return u}findErrorMagnitudes(a,l){const u=l.length,h=new Int32Array(u),g=this.field;for(let y=0;y<u;y++){const E=g.inverse(l[y]);let C=1;for(let T=0;T<u;T++)if(y!==T){const D=g.multiply(l[T],E),F=(D&1)===0?D|1:D&-2;C=g.multiply(C,F)}h[y]=g.multiply(a.evaluateAt(E),g.inverse(C)),g.getGeneratorBase()!==0&&(h[y]=g.multiply(h[y],E))}return h}}var Pt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Pt||(Pt={}));class At{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),h=this.correctBits(u),g=At.convertBoolArrayToByteArray(h),y=At.getEncodedData(h),E=new se(g,y,null,null);return E.setNumBits(h.length),E}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=Pt.UPPER,h=Pt.UPPER,g="",y=0;for(;y<l;)if(h===Pt.BINARY){if(l-y<5)break;let E=At.readCode(a,y,5);if(y+=5,E===0){if(l-y<11)break;E=At.readCode(a,y,11)+31,y+=11}for(let C=0;C<E;C++){if(l-y<8){y=l;break}const T=At.readCode(a,y,8);g+=de.castAsNonUtf8Char(T),y+=8}h=u}else{let E=h===Pt.DIGIT?4:5;if(l-y<E)break;let C=At.readCode(a,y,E);y+=E;let T=At.getCharacter(h,C);T.startsWith("CTRL_")?(u=h,h=At.getTable(T.charAt(5)),T.charAt(6)==="L"&&(u=h)):(g+=T,h=u)}return g}static getTable(a){switch(a){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(a,l){switch(a){case Pt.UPPER:return At.UPPER_TABLE[l];case Pt.LOWER:return At.LOWER_TABLE[l];case Pt.MIXED:return At.MIXED_TABLE[l];case Pt.PUNCT:return At.PUNCT_TABLE[l];case Pt.DIGIT:return At.DIGIT_TABLE[l];default:throw new Ct("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=He.AZTEC_DATA_10):(u=12,l=He.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=a.length/u;if(g<h)throw new H;let y=a.length%u,E=new Int32Array(g);for(let $=0;$<g;$++,y+=u)E[$]=At.readCode(a,y,u);try{new Ft(l).decode(E,g-h)}catch($){throw new H($)}let C=(1<<u)-1,T=0;for(let $=0;$<h;$++){let G=E[$];if(G===0||G===C)throw new H;(G===1||G===C-1)&&T++}let D=new Array(h*u-T),F=0;for(let $=0;$<h;$++){let G=E[$];if(G===1||G===C-1)D.fill(G>1,F,F+u-1),F+=u-1;else for(let Y=u-1;Y>=0;--Y)D[F++]=(G&1<<Y)!==0}return D}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),h=(l?11:14)+u*4,g=new Int32Array(h),y=new Array(this.totalBitsInLayer(u,l));if(l)for(let E=0;E<g.length;E++)g[E]=E;else{let E=h+1+2*M.truncDivision(M.truncDivision(h,2)-1,15),C=h/2,T=M.truncDivision(E,2);for(let D=0;D<C;D++){let F=D+M.truncDivision(D,15);g[C-D-1]=T-F-1,g[C+D]=T+F+1}}for(let E=0,C=0;E<u;E++){let T=(u-E)*4+(l?9:12),D=E*2,F=h-1-D;for(let $=0;$<T;$++){let G=$*2;for(let Y=0;Y<2;Y++)y[C+G+Y]=a.get(g[D+Y],g[D+$]),y[C+2*T+G+Y]=a.get(g[D+$],g[F-Y]),y[C+4*T+G+Y]=a.get(g[F-Y],g[F-$]),y[C+6*T+G+Y]=a.get(g[F-$],g[D+Y])}C+=T*8}return y}static readCode(a,l,u){let h=0;for(let g=l;g<l+u;g++)h<<=1,a[g]&&(h|=1);return h}static readByte(a,l){let u=a.length-l;return u>=8?At.readCode(a,l,8):At.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=At.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}At.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],At.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],At.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],At.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],At.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class _t{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,u,h){const g=a-u,y=l-h;return Math.sqrt(g*g+y*y)}static sum(a){let l=0;for(let u=0,h=a.length;u!==h;u++){const g=a[u];l+=g}return l}}class Ai{static floatToIntBits(a){return a}}Ai.MAX_VALUE=Number.MAX_SAFE_INTEGER;class $e{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof $e){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*Ai.floatToIntBits(this.x)+Ai.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),u=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let g,y,E;if(u>=l&&u>=h?(y=a[0],g=a[1],E=a[2]):h>=u&&h>=l?(y=a[1],g=a[0],E=a[2]):(y=a[2],g=a[0],E=a[1]),this.crossProductZ(g,y,E)<0){const C=g;g=E,E=C}a[0]=g,a[1]=y,a[2]=E}static distance(a,l){return _t.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,u){const h=l.x,g=l.y;return(u.x-h)*(a.y-g)-(u.y-g)*(a.x-h)}}class _e{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class gt extends _e{constructor(a,l,u,h,g){super(a,l),this.compact=u,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ut{constructor(a,l,u,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=Ut.INIT_SIZE),u==null&&(u=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const g=l/2|0;if(this.leftInit=u-g,this.rightInit=u+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,h=this.downInit,g=!1,y=!0,E=!1,C=!1,T=!1,D=!1,F=!1;const $=this.width,G=this.height;for(;y;){y=!1;let Y=!0;for(;(Y||!C)&&l<$;)Y=this.containsBlackPoint(u,h,l,!1),Y?(l++,y=!0,C=!0):C||l++;if(l>=$){g=!0;break}let ee=!0;for(;(ee||!T)&&h<G;)ee=this.containsBlackPoint(a,l,h,!0),ee?(h++,y=!0,T=!0):T||h++;if(h>=G){g=!0;break}let ae=!0;for(;(ae||!D)&&a>=0;)ae=this.containsBlackPoint(u,h,a,!1),ae?(a--,y=!0,D=!0):D||a--;if(a<0){g=!0;break}let me=!0;for(;(me||!F)&&u>=0;)me=this.containsBlackPoint(a,l,u,!0),me?(u--,y=!0,F=!0):F||u--;if(u<0){g=!0;break}y&&(E=!0)}if(!g&&E){const Y=l-a;let ee=null;for(let Re=1;ee===null&&Re<Y;Re++)ee=this.getBlackPointOnSegment(a,h-Re,a+Re,h);if(ee==null)throw new te;let ae=null;for(let Re=1;ae===null&&Re<Y;Re++)ae=this.getBlackPointOnSegment(a,u+Re,a+Re,u);if(ae==null)throw new te;let me=null;for(let Re=1;me===null&&Re<Y;Re++)me=this.getBlackPointOnSegment(l,u+Re,l-Re,u);if(me==null)throw new te;let je=null;for(let Re=1;je===null&&Re<Y;Re++)je=this.getBlackPointOnSegment(l,h-Re,l-Re,h);if(je==null)throw new te;return this.centerEdges(je,ee,me,ae)}else throw new te}getBlackPointOnSegment(a,l,u,h){const g=_t.round(_t.distance(a,l,u,h)),y=(u-a)/g,E=(h-l)/g,C=this.image;for(let T=0;T<g;T++){const D=_t.round(a+T*y),F=_t.round(l+T*E);if(C.get(D,F))return new $e(D,F)}return null}centerEdges(a,l,u,h){const g=a.getX(),y=a.getY(),E=l.getX(),C=l.getY(),T=u.getX(),D=u.getY(),F=h.getX(),$=h.getY(),G=Ut.CORR;return g<this.width/2?[new $e(F-G,$+G),new $e(E+G,C+G),new $e(T-G,D-G),new $e(g+G,y-G)]:[new $e(F+G,$+G),new $e(E+G,C-G),new $e(T-G,D+G),new $e(g-G,y-G)]}containsBlackPoint(a,l,u,h){const g=this.image;if(h){for(let y=a;y<=l;y++)if(g.get(y,u))return!0}else for(let y=a;y<=l;y++)if(g.get(u,y))return!0;return!1}}Ut.INIT_SIZE=10,Ut.CORR=1;class wr{static checkAndNudgePoints(a,l){const u=a.getWidth(),h=a.getHeight();let g=!0;for(let y=0;y<l.length&&g;y+=2){const E=Math.floor(l[y]),C=Math.floor(l[y+1]);if(E<-1||E>u||C<-1||C>h)throw new te;g=!1,E===-1?(l[y]=0,g=!0):E===u&&(l[y]=u-1,g=!0),C===-1?(l[y+1]=0,g=!0):C===h&&(l[y+1]=h-1,g=!0)}g=!0;for(let y=l.length-2;y>=0&&g;y-=2){const E=Math.floor(l[y]),C=Math.floor(l[y+1]);if(E<-1||E>u||C<-1||C>h)throw new te;g=!1,E===-1?(l[y]=0,g=!0):E===u&&(l[y]=u-1,g=!0),C===-1?(l[y+1]=0,g=!0):C===h&&(l[y+1]=h-1,g=!0)}}}class zt{constructor(a,l,u,h,g,y,E,C,T){this.a11=a,this.a21=l,this.a31=u,this.a12=h,this.a22=g,this.a32=y,this.a13=E,this.a23=C,this.a33=T}static quadrilateralToQuadrilateral(a,l,u,h,g,y,E,C,T,D,F,$,G,Y,ee,ae){const me=zt.quadrilateralToSquare(a,l,u,h,g,y,E,C);return zt.squareToQuadrilateral(T,D,F,$,G,Y,ee,ae).times(me)}transformPoints(a){const l=a.length,u=this.a11,h=this.a12,g=this.a13,y=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33;for(let $=0;$<l;$+=2){const G=a[$],Y=a[$+1],ee=g*G+C*Y+F;a[$]=(u*G+y*Y+T)/ee,a[$+1]=(h*G+E*Y+D)/ee}}transformPointsWithValues(a,l){const u=this.a11,h=this.a12,g=this.a13,y=this.a21,E=this.a22,C=this.a23,T=this.a31,D=this.a32,F=this.a33,$=a.length;for(let G=0;G<$;G++){const Y=a[G],ee=l[G],ae=g*Y+C*ee+F;a[G]=(u*Y+y*ee+T)/ae,l[G]=(h*Y+E*ee+D)/ae}}static squareToQuadrilateral(a,l,u,h,g,y,E,C){const T=a-u+g-E,D=l-h+y-C;if(T===0&&D===0)return new zt(u-a,g-u,a,h-l,y-h,l,0,0,1);{const F=u-g,$=E-g,G=h-y,Y=C-y,ee=F*Y-$*G,ae=(T*Y-$*D)/ee,me=(F*D-T*G)/ee;return new zt(u-a+ae*u,E-a+me*E,a,h-l+ae*h,C-l+me*C,l,ae,me,1)}}static quadrilateralToSquare(a,l,u,h,g,y,E,C){return zt.squareToQuadrilateral(a,l,u,h,g,y,E,C).buildAdjoint()}buildAdjoint(){return new zt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new zt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Pr extends wr{sampleGrid(a,l,u,h,g,y,E,C,T,D,F,$,G,Y,ee,ae,me,je,Re){const Oe=zt.quadrilateralToQuadrilateral(h,g,y,E,C,T,D,F,$,G,Y,ee,ae,me,je,Re);return this.sampleGridWithTransform(a,l,u,Oe)}sampleGridWithTransform(a,l,u,h){if(l<=0||u<=0)throw new te;const g=new ke(l,u),y=new Float32Array(2*l);for(let E=0;E<u;E++){const C=y.length,T=E+.5;for(let D=0;D<C;D+=2)y[D]=D/2+.5,y[D+1]=T;h.transformPoints(y),wr.checkAndNudgePoints(a,y);try{for(let D=0;D<C;D+=2)a.get(Math.floor(y[D]),Math.floor(y[D+1]))&&g.set(D/2,E)}catch{throw new te}}return g}}class Wn{static setGridSampler(a){Wn.gridSampler=a}static getInstance(){return Wn.gridSampler}}Wn.gridSampler=new Pr;class mr{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new $e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ci{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),u=this.getBullsEyeCorners(l);if(a){let y=u[0];u[0]=u[2],u[2]=y}this.extractParameters(u);let h=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),g=this.getMatrixCornerPoints(u);return new gt(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new te;let l=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(u,l);let h=0;for(let y=0;y<4;y++){let E=u[(this.shift+y)%4];this.compact?(h<<=7,h+=E>>1&127):(h<<=10,h+=(E>>2&992)+(E>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(a,l){let u=0;a.forEach((h,g,y)=>{let E=(h>>l-2<<1)+(h&1);u=(u<<3)+E}),u=((u&1)<<11)+(u>>1);for(let h=0;h<4;h++)if(M.bitCount(u^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new te}getCorrectedParameterData(a,l){let u,h;l?(u=7,h=2):(u=10,h=4);let g=u-h,y=new Int32Array(u);for(let C=u-1;C>=0;--C)y[C]=a&15,a>>=4;try{new Ft(He.AZTEC_PARAM).decode(y,g)}catch{throw new te}let E=0;for(let C=0;C<h;C++)E=(E<<4)+y[C];return E}getBullsEyeCorners(a){let l=a,u=a,h=a,g=a,y=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,y,1,-1),$=this.getFirstDifferent(u,y,1,1),G=this.getFirstDifferent(h,y,-1,1),Y=this.getFirstDifferent(g,y,-1,-1);if(this.nbCenterLayers>2){let ee=this.distancePoint(Y,F)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(ee<.75||ee>1.25||!this.isWhiteOrBlackRectangle(F,$,G,Y))break}l=F,u=$,h=G,g=Y,y=!y}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let E=new $e(l.getX()+.5,l.getY()-.5),C=new $e(u.getX()+.5,u.getY()+.5),T=new $e(h.getX()-.5,h.getY()+.5),D=new $e(g.getX()-.5,g.getY()-.5);return this.expandSquare([E,C,T,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,u,h;try{let E=new Ut(this.image).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{let C=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new mr(C+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new mr(C+7,T+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new mr(C-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new mr(C-7,T-7),!1,-1,-1).toResultPoint()}let g=_t.round((a.getX()+h.getX()+l.getX()+u.getX())/4),y=_t.round((a.getY()+h.getY()+l.getY()+u.getY())/4);try{let E=new Ut(this.image,15,g,y).detect();a=E[0],l=E[1],u=E[2],h=E[3]}catch{a=this.getFirstDifferent(new mr(g+7,y-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new mr(g+7,y+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new mr(g-7,y+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new mr(g-7,y-7),!1,-1,-1).toResultPoint()}return g=_t.round((a.getX()+h.getX()+l.getX()+u.getX())/4),y=_t.round((a.getY()+h.getY()+l.getY()+u.getY())/4),new mr(g,y)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,u,h,g){let y=Wn.getInstance(),E=this.getDimension(),C=E/2-this.nbCenterLayers,T=E/2+this.nbCenterLayers;return y.sampleGrid(a,E,E,C,C,T,C,T,T,C,T,l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(a,l,u){let h=0,g=this.distanceResultPoint(a,l),y=g/u,E=a.getX(),C=a.getY(),T=y*(l.getX()-a.getX())/g,D=y*(l.getY()-a.getY())/g;for(let F=0;F<u;F++)this.image.get(_t.round(E+F*T),_t.round(C+F*D))&&(h|=1<<u-F-1);return h}isWhiteOrBlackRectangle(a,l,u,h){let g=3;a=new mr(a.getX()-g,a.getY()+g),l=new mr(l.getX()-g,l.getY()-g),u=new mr(u.getX()+g,u.getY()-g),h=new mr(h.getX()+g,h.getY()+g);let y=this.getColor(h,a);if(y===0)return!1;let E=this.getColor(a,l);return E!==y||(E=this.getColor(l,u),E!==y)?!1:(E=this.getColor(u,h),E===y)}getColor(a,l){let u=this.distancePoint(a,l),h=(l.getX()-a.getX())/u,g=(l.getY()-a.getY())/u,y=0,E=a.getX(),C=a.getY(),T=this.image.get(a.getX(),a.getY()),D=Math.ceil(u);for(let $=0;$<D;$++)E+=h,C+=g,this.image.get(_t.round(E),_t.round(C))!==T&&y++;let F=y/u;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(a,l,u,h){let g=a.getX()+u,y=a.getY()+h;for(;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u,y+=h;for(g-=u,y-=h;this.isValid(g,y)&&this.image.get(g,y)===l;)g+=u;for(g-=u;this.isValid(g,y)&&this.image.get(g,y)===l;)y+=h;return y-=h,new mr(g,y)}expandSquare(a,l,u){let h=u/(2*l),g=a[0].getX()-a[2].getX(),y=a[0].getY()-a[2].getY(),E=(a[0].getX()+a[2].getX())/2,C=(a[0].getY()+a[2].getY())/2,T=new $e(E+h*g,C+h*y),D=new $e(E-h*g,C-h*y);g=a[1].getX()-a[3].getX(),y=a[1].getY()-a[3].getY(),E=(a[1].getX()+a[3].getX())/2,C=(a[1].getY()+a[3].getY())/2;let F=new $e(E+h*g,C+h*y),$=new $e(E-h*g,C-h*y);return[T,F,D,$]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=_t.round(a.getX()),u=_t.round(a.getY());return this.isValid(l,u)}distancePoint(a,l){return _t.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return _t.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class Br{decode(a,l=null){let u=null,h=new ci(a.getBlackMatrix()),g=null,y=null;try{let D=h.detectMirror(!1);g=D.getPoints(),this.reportFoundResultPoints(l,g),y=new At().decode(D)}catch(D){u=D}if(y==null)try{let D=h.detectMirror(!0);g=D.getPoints(),this.reportFoundResultPoints(l,g),y=new At().decode(D)}catch(D){throw u??D}let E=new Fe(y.getText(),y.getRawBytes(),y.getNumBits(),g,Ie.AZTEC,O.currentTimeMillis()),C=y.getByteSegments();C!=null&&E.putMetadata(ye.BYTE_SEGMENTS,C);let T=y.getECLevel();return T!=null&&E.putMetadata(ye.ERROR_CORRECTION_LEVEL,T),E}reportFoundResultPoints(a,l){if(a!=null){let u=a.get(V.NEED_RESULT_POINT_CALLBACK);u!=null&&l.forEach((h,g,y)=>{u.foundPossibleResultPoint(h)})}}reset(){}}class Za extends Me{constructor(a=500){super(new Br,a)}}class er{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(V.TRY_HARDER)===!0&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),y=this.doDecode(g,l),E=y.getResultMetadata();let C=270;E!==null&&E.get(ye.ORIENTATION)===!0&&(C=C+E.get(ye.ORIENTATION)%360),y.putMetadata(ye.ORIENTATION,C);const T=y.getResultPoints();if(T!==null){const D=g.getHeight();for(let F=0;F<T.length;F++)T[F]=new $e(D-T[F].getY()-1,T[F].getX())}return y}else throw new te}}reset(){}doDecode(a,l){const u=a.getWidth(),h=a.getHeight();let g=new U(u);const y=l&&l.get(V.TRY_HARDER)===!0,E=Math.max(1,h>>(y?8:5));let C;y?C=h:C=15;const T=Math.trunc(h/2);for(let D=0;D<C;D++){const F=Math.trunc((D+1)/2),$=(D&1)===0,G=T+E*($?F:-F);if(G<0||G>=h)break;try{g=a.getBlackRow(G,g)}catch{continue}for(let Y=0;Y<2;Y++){if(Y===1&&(g.reverse(),l&&l.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const ee=new Map;l.forEach((ae,me)=>ee.set(me,ae)),ee.delete(V.NEED_RESULT_POINT_CALLBACK),l=ee}try{const ee=this.decodeRow(G,g,l);if(Y===1){ee.putMetadata(ye.ORIENTATION,180);const ae=ee.getResultPoints();ae!==null&&(ae[0]=new $e(u-ae[0].getX()-1,ae[0].getY()),ae[1]=new $e(u-ae[1].getX()-1,ae[1].getY()))}return ee}catch{}}}throw new te}static recordPattern(a,l,u){const h=u.length;for(let T=0;T<h;T++)u[T]=0;const g=a.getSize();if(l>=g)throw new te;let y=!a.get(l),E=0,C=l;for(;C<g;){if(a.get(C)!==y)u[E]++;else{if(++E===h)break;u[E]=1,y=!y}C++}if(!(E===h||E===h-1&&C===g))throw new te}static recordPatternInReverse(a,l,u){let h=u.length,g=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==g&&(h--,g=!g);if(h>=0)throw new te;er.recordPattern(a,l+1,u)}static patternMatchVariance(a,l,u){const h=a.length;let g=0,y=0;for(let T=0;T<h;T++)g+=a[T],y+=l[T];if(g<y)return Number.POSITIVE_INFINITY;const E=g/y;u*=E;let C=0;for(let T=0;T<h;T++){const D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return Number.POSITIVE_INFINITY;C+=$}return C/g}}class Le extends er{static findStartPattern(a){const l=a.getSize(),u=a.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),y=u,E=!1;const C=6;for(let T=u;T<l;T++)if(a.get(T)!==E)g[h]++;else{if(h===C-1){let D=Le.MAX_AVG_VARIANCE,F=-1;for(let $=Le.CODE_START_A;$<=Le.CODE_START_C;$++){const G=er.patternMatchVariance(g,Le.CODE_PATTERNS[$],Le.MAX_INDIVIDUAL_VARIANCE);G<D&&(D=G,F=$)}if(F>=0&&a.isRange(Math.max(0,y-(T-y)/2),y,!1))return Int32Array.from([y,T,F]);y+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,E=!E}throw new te}static decodeCode(a,l,u){er.recordPattern(a,u,l);let h=Le.MAX_AVG_VARIANCE,g=-1;for(let y=0;y<Le.CODE_PATTERNS.length;y++){const E=Le.CODE_PATTERNS[y],C=this.patternMatchVariance(l,E,Le.MAX_INDIVIDUAL_VARIANCE);C<h&&(h=C,g=y)}if(g>=0)return g;throw new te}decodeRow(a,l,u){const h=u&&u.get(V.ASSUME_GS1)===!0,g=Le.findStartPattern(l),y=g[2];let E=0;const C=new Uint8Array(20);C[E++]=y;let T;switch(y){case Le.CODE_START_A:T=Le.CODE_CODE_A;break;case Le.CODE_START_B:T=Le.CODE_CODE_B;break;case Le.CODE_START_C:T=Le.CODE_CODE_C;break;default:throw new H}let D=!1,F=!1,$="",G=g[0],Y=g[1];const ee=Int32Array.from([0,0,0,0,0,0]);let ae=0,me=0,je=y,Re=0,Oe=!0,Ot=!1,wt=!1;for(;!D;){const ga=F;switch(F=!1,ae=me,me=Le.decodeCode(l,ee,Y),C[E++]=me,me!==Le.CODE_STOP&&(Oe=!0),me!==Le.CODE_STOP&&(Re++,je+=Re*me),G=Y,Y+=ee.reduce((Gs,fu)=>Gs+fu,0),me){case Le.CODE_START_A:case Le.CODE_START_B:case Le.CODE_START_C:throw new H}switch(T){case Le.CODE_CODE_A:if(me<64)wt===Ot?$+=String.fromCharCode(32+me):$+=String.fromCharCode(32+me+128),wt=!1;else if(me<96)wt===Ot?$+=String.fromCharCode(me-64):$+=String.fromCharCode(me+64),wt=!1;else switch(me!==Le.CODE_STOP&&(Oe=!1),me){case Le.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_A:!Ot&&wt?(Ot=!0,wt=!1):Ot&&wt?(Ot=!1,wt=!1):wt=!0;break;case Le.CODE_SHIFT:F=!0,T=Le.CODE_CODE_B;break;case Le.CODE_CODE_B:T=Le.CODE_CODE_B;break;case Le.CODE_CODE_C:T=Le.CODE_CODE_C;break;case Le.CODE_STOP:D=!0;break}break;case Le.CODE_CODE_B:if(me<96)wt===Ot?$+=String.fromCharCode(32+me):$+=String.fromCharCode(32+me+128),wt=!1;else switch(me!==Le.CODE_STOP&&(Oe=!1),me){case Le.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Le.CODE_FNC_2:case Le.CODE_FNC_3:break;case Le.CODE_FNC_4_B:!Ot&&wt?(Ot=!0,wt=!1):Ot&&wt?(Ot=!1,wt=!1):wt=!0;break;case Le.CODE_SHIFT:F=!0,T=Le.CODE_CODE_A;break;case Le.CODE_CODE_A:T=Le.CODE_CODE_A;break;case Le.CODE_CODE_C:T=Le.CODE_CODE_C;break;case Le.CODE_STOP:D=!0;break}break;case Le.CODE_CODE_C:if(me<100)me<10&&($+="0"),$+=me;else switch(me!==Le.CODE_STOP&&(Oe=!1),me){case Le.CODE_FNC_1:h&&($.length===0?$+="]C1":$+="");break;case Le.CODE_CODE_A:T=Le.CODE_CODE_A;break;case Le.CODE_CODE_B:T=Le.CODE_CODE_B;break;case Le.CODE_STOP:D=!0;break}break}ga&&(T=T===Le.CODE_CODE_A?Le.CODE_CODE_B:Le.CODE_CODE_A)}const qn=Y-G;if(Y=l.getNextUnset(Y),!l.isRange(Y,Math.min(l.getSize(),Y+(Y-G)/2),!1))throw new te;if(je-=Re*ae,je%103!==ae)throw new _;const ki=$.length;if(ki===0)throw new te;ki>0&&Oe&&(T===Le.CODE_CODE_C?$=$.substring(0,ki-2):$=$.substring(0,ki-1));const Xr=(g[1]+g[0])/2,Ht=G+qn/2,jr=C.length,Mn=new Uint8Array(jr);for(let ga=0;ga<jr;ga++)Mn[ga]=C[ga];const is=[new $e(Xr,a),new $e(Ht,a)];return new Fe($,Mn,0,is,Ie.CODE_128,new Date().getTime())}}Le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Le.MAX_AVG_VARIANCE=.25,Le.MAX_INDIVIDUAL_VARIANCE=.7,Le.CODE_SHIFT=98,Le.CODE_CODE_C=99,Le.CODE_CODE_B=100,Le.CODE_CODE_A=101,Le.CODE_FNC_1=102,Le.CODE_FNC_2=97,Le.CODE_FNC_3=96,Le.CODE_FNC_4_A=101,Le.CODE_FNC_4_B=100,Le.CODE_START_A=103,Le.CODE_START_B=104,Le.CODE_START_C=105,Le.CODE_STOP=106;class sr extends er{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=sr.findAsteriskPattern(l,h),y=l.getNextSet(g[1]),E=l.getSize(),C,T;do{sr.recordPattern(l,y,h);let ee=sr.toNarrowWidePattern(h);if(ee<0)throw new te;C=sr.patternToChar(ee),this.decodeRowResult+=C,T=y;for(let ae of h)y+=ae;y=l.getNextSet(y)}while(C!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ee of h)D+=ee;let F=y-T-D;if(y!==E&&F*2<D)throw new te;if(this.usingCheckDigit){let ee=this.decodeRowResult.length-1,ae=0;for(let me=0;me<ee;me++)ae+=sr.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(me));if(this.decodeRowResult.charAt(ee)!==sr.ALPHABET_STRING.charAt(ae%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ee)}if(this.decodeRowResult.length===0)throw new te;let $;this.extendedMode?$=sr.decodeExtended(this.decodeRowResult):$=this.decodeRowResult;let G=(g[1]+g[0])/2,Y=T+D/2;return new Fe($,null,0,[new $e(G,a),new $e(Y,a)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),h=a.getNextSet(0),g=0,y=h,E=!1,C=l.length;for(let T=h;T<u;T++)if(a.get(T)!==E)l[g]++;else{if(g===C-1){if(this.toNarrowWidePattern(l)===sr.ASTERISK_ENCODING&&a.isRange(Math.max(0,y-Math.floor((T-y)/2)),y,!1))return[y,T];y+=l[0]+l[1],l.copyWithin(0,2,2+g-1),l[g-1]=0,l[g]=0,g--}else g++;l[g]=1,E=!E}throw new te}static toNarrowWidePattern(a){let l=a.length,u=0,h;do{let g=2147483647;for(let C of a)C<g&&C>u&&(g=C);u=g,h=0;let y=0,E=0;for(let C=0;C<l;C++){let T=a[C];T>u&&(E|=1<<l-1-C,h++,y+=T)}if(h===3){for(let C=0;C<l&&h>0;C++){let T=a[C];if(T>u&&(h--,T*2>=y))return-1}return E}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<sr.CHARACTER_ENCODINGS.length;l++)if(sr.CHARACTER_ENCODINGS[l]===a)return sr.ALPHABET_STRING.charAt(l);if(a===sr.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(a){let l=a.length,u="";for(let h=0;h<l;h++){let g=a.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let y=a.charAt(h+1),E="\0";switch(g){case"+":if(y>="A"&&y<="Z")E=String.fromCharCode(y.charCodeAt(0)+32);else throw new H;break;case"$":if(y>="A"&&y<="Z")E=String.fromCharCode(y.charCodeAt(0)-64);else throw new H;break;case"%":if(y>="A"&&y<="E")E=String.fromCharCode(y.charCodeAt(0)-38);else if(y>="F"&&y<="J")E=String.fromCharCode(y.charCodeAt(0)-11);else if(y>="K"&&y<="O")E=String.fromCharCode(y.charCodeAt(0)+16);else if(y>="P"&&y<="T")E=String.fromCharCode(y.charCodeAt(0)+43);else if(y==="U")E="\0";else if(y==="V")E="@";else if(y==="W")E="`";else if(y==="X"||y==="Y"||y==="Z")E="";else throw new H;break;case"/":if(y>="A"&&y<="O")E=String.fromCharCode(y.charCodeAt(0)-32);else if(y==="Z")E=":";else throw new H;break}u+=E,h++}else u+=g}return u}}sr.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",sr.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],sr.ASTERISK_ENCODING=148;class Rt extends er{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,u){let h=this.decodeStart(l),g=this.decodeEnd(l),y=new Ae;Rt.decodeMiddle(l,h[1],g[0],y);let E=y.toString(),C=null;u!=null&&(C=u.get(V.ALLOWED_LENGTHS)),C==null&&(C=Rt.DEFAULT_ALLOWED_LENGTHS);let T=E.length,D=!1,F=0;for(let Y of C){if(T===Y){D=!0;break}Y>F&&(F=Y)}if(!D&&T>F&&(D=!0),!D)throw new H;const $=[new $e(h[1],a),new $e(g[0],a)];return new Fe(E,null,0,$,Ie.ITF,new Date().getTime())}static decodeMiddle(a,l,u,h){let g=new Int32Array(10),y=new Int32Array(5),E=new Int32Array(5);for(g.fill(0),y.fill(0),E.fill(0);l<u;){er.recordPattern(a,l,g);for(let T=0;T<5;T++){let D=2*T;y[T]=g[D],E[T]=g[D+1]}let C=Rt.decodeDigit(y);h.append(C.toString()),C=this.decodeDigit(E),h.append(C.toString()),g.forEach(function(T){l+=T})}}decodeStart(a){let l=Rt.skipWhiteSpace(a),u=Rt.findGuardPattern(a,l,Rt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(a,u[0]),u}validateQuietZone(a,l){let u=this.narrowLineWidth*10;u=u<l?u:l;for(let h=l-1;u>0&&h>=0&&!a.get(h);h--)u--;if(u!==0)throw new te}static skipWhiteSpace(a){const l=a.getSize(),u=a.getNextSet(0);if(u===l)throw new te;return u}decodeEnd(a){a.reverse();try{let l=Rt.skipWhiteSpace(a),u;try{u=Rt.findGuardPattern(a,l,Rt.END_PATTERN_REVERSED[0])}catch(g){g instanceof te&&(u=Rt.findGuardPattern(a,l,Rt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,u[0]);let h=u[0];return u[0]=a.getSize()-u[1],u[1]=a.getSize()-h,u}finally{a.reverse()}}static findGuardPattern(a,l,u){let h=u.length,g=new Int32Array(h),y=a.getSize(),E=!1,C=0,T=l;g.fill(0);for(let D=l;D<y;D++)if(a.get(D)!==E)g[C]++;else{if(C===h-1){if(er.patternMatchVariance(g,u,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return[T,D];T+=g[0]+g[1],O.arraycopy(g,2,g,0,C-1),g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,E=!E}throw new te}static decodeDigit(a){let l=Rt.MAX_AVG_VARIANCE,u=-1,h=Rt.PATTERNS.length;for(let g=0;g<h;g++){let y=Rt.PATTERNS[g],E=er.patternMatchVariance(a,y,Rt.MAX_INDIVIDUAL_VARIANCE);E<l?(l=E,u=g):E===l&&(u=-1)}if(u>=0)return u%10;throw new te}}Rt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Rt.MAX_AVG_VARIANCE=.38,Rt.MAX_INDIVIDUAL_VARIANCE=.5,Rt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Rt.START_PATTERN=Int32Array.from([1,1,1,1]),Rt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Dt extends er{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,u,h=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),u=Dt.findGuardPattern(a,h,!1,this.START_END_PATTERN,g);let y=u[0];h=u[1];let E=y-(h-y);E>=0&&(l=a.isRange(E,y,!1))}return u}static checkChecksum(a){return Dt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return Dt.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}static decodeEnd(a,l){return Dt.findGuardPattern(a,l,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,u,h){return this.findGuardPattern(a,l,u,h,new Int32Array(h.length))}static findGuardPattern(a,l,u,h,g){let y=a.getSize();l=u?a.getNextUnset(l):a.getNextSet(l);let E=0,C=l,T=h.length,D=u;for(let F=l;F<y;F++)if(a.get(F)!==D)g[E]++;else{if(E===T-1){if(er.patternMatchVariance(g,h,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return Int32Array.from([C,F]);C+=g[0]+g[1];let $=g.slice(2,g.length-1);for(let G=0;G<E-1;G++)g[G]=$[G];g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,D=!D}throw new te}static decodeDigit(a,l,u,h){this.recordPattern(a,u,l);let g=this.MAX_AVG_VARIANCE,y=-1,E=h.length;for(let C=0;C<E;C++){let T=h[C],D=er.patternMatchVariance(l,T,Dt.MAX_INDIVIDUAL_VARIANCE);D<g&&(g=D,y=C)}if(y>=0)return y;throw new te}}Dt.MAX_AVG_VARIANCE=.48,Dt.MAX_INDIVIDUAL_VARIANCE=.7,Dt.START_END_PATTERN=Int32Array.from([1,1,1]),Dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class _i{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),y=h.toString(),E=_i.parseExtensionString(y),C=[new $e((u[0]+u[1])/2,a),new $e(g,a)],T=new Fe(y,null,0,C,Ie.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],E=0;for(let T=0;T<5&&y<g;T++){let D=Dt.decodeDigit(a,h,y,Dt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(E|=1<<4-T),T!==4&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(u.length!==5)throw new te;let C=this.determineCheckDigit(E);if(_i.extensionChecksum(u.toString())!==C)throw new te;return y}static extensionChecksum(a){let l=a.length,u=0;for(let h=l-2;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;u*=3;for(let h=l-1;h>=0;h-=2)u+=a.charAt(h).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new te}static parseExtensionString(a){if(a.length!==5)return null;let l=_i.parseExtension5String(a);return l==null?null:new Map([[ye.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let u=parseInt(a.substring(1)),h=(u/100).toString(),g=u%100,y=g<10?"0"+g:g.toString();return l+h+"."+y}}class xt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,u){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(l,u,h),y=h.toString(),E=xt.parseExtensionString(y),C=[new $e((u[0]+u[1])/2,a),new $e(g,a)],T=new Fe(y,null,0,C,Ie.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&T.putAllMetadata(E),T}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],E=0;for(let C=0;C<2&&y<g;C++){let T=Dt.decodeDigit(a,h,y,Dt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+T%10);for(let D of h)y+=D;T>=10&&(E|=1<<1-C),C!==1&&(y=a.getNextSet(y),y=a.getNextUnset(y))}if(u.length!==2)throw new te;if(parseInt(u.toString())%4!==E)throw new te;return y}static parseExtensionString(a){return a.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(a)]])}}class Nt{static decodeRow(a,l,u){let h=Dt.findGuardPattern(l,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new _i().decodeRow(a,l,h)}catch{return new xt().decodeRow(a,l,h)}}}Nt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends Dt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=ut.L_PATTERNS[a-10],u=new Int32Array(l.length);for(let h=0;h<l.length;h++)u[h]=l[l.length-h-1];ut.L_AND_G_PATTERNS[a]=u}}decodeRow(a,l,u){let h=ut.findStartGuardPattern(l),g=u==null?null:u.get(V.NEED_RESULT_POINT_CALLBACK);if(g!=null){const Oe=new $e((h[0]+h[1])/2,a);g.foundPossibleResultPoint(Oe)}let y=this.decodeMiddle(l,h,this.decodeRowStringBuffer),E=y.rowOffset,C=y.resultString;if(g!=null){const Oe=new $e(E,a);g.foundPossibleResultPoint(Oe)}let T=this.decodeEnd(l,E);if(g!=null){const Oe=new $e((T[0]+T[1])/2,a);g.foundPossibleResultPoint(Oe)}let D=T[1],F=D+(D-T[0]);if(F>=l.getSize()||!l.isRange(D,F,!1))throw new te;let $=C.toString();if($.length<8)throw new H;if(!ut.checkChecksum($))throw new _;let G=(h[1]+h[0])/2,Y=(T[1]+T[0])/2,ee=this.getBarcodeFormat(),ae=[new $e(G,a),new $e(Y,a)],me=new Fe($,null,0,ae,ee,new Date().getTime()),je=0;try{let Oe=Nt.decodeRow(a,l,T[1]);me.putMetadata(ye.UPC_EAN_EXTENSION,Oe.getText()),me.putAllMetadata(Oe.getResultMetadata()),me.addResultPoints(Oe.getResultPoints()),je=Oe.getText().length}catch{}let Re=u==null?null:u.get(V.ALLOWED_EAN_EXTENSIONS);if(Re!=null){let Oe=!1;for(let Ot in Re)if(je.toString()===Ot){Oe=!0;break}if(!Oe)throw new te}return me}decodeEnd(a,l){return ut.findGuardPattern(a,l,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return ut.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let u=parseInt(a.charAt(l-1),10);return ut.getStandardUPCEANChecksum(a.substring(0,l-1))===u}static getStandardUPCEANChecksum(a){let l=a.length,u=0;for(let h=l-1;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}u*=3;for(let h=l-2;h>=0;h-=2){let g=a.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new H;u+=g}return(1e3-u)%10}}class or extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1],E=0;for(let T=0;T<6&&y<g;T++){let D=ut.decodeDigit(a,h,y,ut.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(E|=1<<5-T)}u=or.determineFirstDigit(u,E),y=ut.findGuardPattern(a,y,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&y<g;T++){let D=ut.decodeDigit(a,h,y,ut.L_PATTERNS);u+=String.fromCharCode(48+D);for(let F of h)y+=F}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return a=String.fromCharCode(48+u)+a,a;throw new te}}or.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gi extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y=l[1];for(let C=0;C<4&&y<g;C++){let T=ut.decodeDigit(a,h,y,ut.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}y=ut.findGuardPattern(a,y,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<4&&y<g;C++){let T=ut.decodeDigit(a,h,y,ut.L_PATTERNS);u+=String.fromCharCode(48+T);for(let D of h)y+=D}return{rowOffset:y,resultString:u}}getBarcodeFormat(){return Ie.EAN_8}}class Il extends ut{constructor(){super(...arguments),this.ean13Reader=new or}getBarcodeFormat(){return Ie.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,u))}decodeMiddle(a,l,u){return this.ean13Reader.decodeMiddle(a,l,u)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let u=new Fe(l.substring(1),null,null,a.getResultPoints(),Ie.UPC_A);return a.getResultMetadata()!=null&&u.putAllMetadata(a.getResultMetadata()),u}else throw new te}reset(){this.ean13Reader.reset()}}class ti extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,u){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=a.getSize();let y=l[1],E=0;for(let T=0;T<6&&y<g;T++){const D=ti.decodeDigit(a,h,y,ti.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let F of h)y+=F;D>=10&&(E|=1<<5-T)}let C=ti.determineNumSysAndCheckDigit(u,E);return{rowOffset:y,resultString:C}}decodeEnd(a,l){return ti.findGuardPatternWithoutCounters(a,l,!0,ti.MIDDLE_END_PATTERN)}checkChecksum(a){return ut.checkChecksum(ti.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let u=0;u<=1;u++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][h]){let g=String.fromCharCode(48+u),y=String.fromCharCode(48+h);return g+a+y}throw te.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),u=new Ae;u.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:u.appendChars(l,0,2),u.append(h),u.append("0000"),u.appendChars(l,2,3);break;case 3:u.appendChars(l,0,3),u.append("00000"),u.appendChars(l,3,2);break;case 4:u.appendChars(l,0,4),u.append("00000"),u.append(l[4]);break;default:u.appendChars(l,0,5),u.append("0000"),u.append(h);break}return a.length>=8&&u.append(a.charAt(7)),u.toString()}}ti.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ti.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class So extends er{constructor(a){super();let l=a==null?null:a.get(V.POSSIBLE_FORMATS),u=[];n(l)?(u.push(new or),u.push(new Il),u.push(new Gi),u.push(new ti)):(l.indexOf(Ie.EAN_13)>-1&&u.push(new or),l.indexOf(Ie.UPC_A)>-1&&u.push(new Il),l.indexOf(Ie.EAN_8)>-1&&u.push(new Gi),l.indexOf(Ie.UPC_E)>-1&&u.push(new ti)),this.readers=u}decodeRow(a,l,u){for(let h of this.readers)try{const g=h.decodeRow(a,l,u),y=g.getBarcodeFormat()===Ie.EAN_13&&g.getText().charAt(0)==="0",E=u==null?null:u.get(V.POSSIBLE_FORMATS),C=E==null||E.includes(Ie.UPC_A);if(y&&C){const T=g.getRawBytes(),D=new Fe(g.getText().substring(1),T,T?T.length:null,g.getResultPoints(),Ie.UPC_A);return D.putAllMetadata(g.getResultMetadata()),D}return g}catch{}throw new te}reset(){for(let a of this.readers)a.reset()}}class en extends er{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(er.patternMatchVariance(a,l[u],en.MAX_INDIVIDUAL_VARIANCE)<en.MAX_AVG_VARIANCE)return u;throw new te}static count(a){return _t.sum(new Int32Array(a))}static increment(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]>h&&(h=l[g],u=g);a[u]++}static decrement(a,l){let u=0,h=l[0];for(let g=1;g<a.length;g++)l[g]<h&&(h=l[g],u=g);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],u=l+a[2]+a[3],h=l/u;if(h>=en.MIN_FINDER_PATTERN_RATIO&&h<=en.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;for(let E of a)E>y&&(y=E),E<g&&(g=E);return y<10*g}return!1}}en.MAX_AVG_VARIANCE=.2,en.MAX_INDIVIDUAL_VARIANCE=.45,en.MIN_FINDER_PATTERN_RATIO=9.5/12,en.MAX_FINDER_PATTERN_RATIO=12.5/14;class ri{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof ri))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Qa{constructor(a,l,u,h,g){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new $e(u,g)),this.resultPoints.push(new $e(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Qa))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class En{constructor(){}static getRSSvalue(a,l,u){let h=0;for(let C of a)h+=C;let g=0,y=0,E=a.length;for(let C=0;C<E-1;C++){let T;for(T=1,y|=1<<C;T<a[C];T++,y&=~(1<<C)){let D=En.combins(h-T-1,E-C-2);if(u&&y===0&&h-T-(E-C-1)>=E-C-1&&(D-=En.combins(h-T-(E-C),E-C-2)),E-C-1>1){let F=0;for(let $=h-T-(E-C-2);$>l;$--)F+=En.combins(h-T-$-1,E-C-3);D-=F*(E-1-C)}else h-T>l&&D--;g+=D}h-=T}return g}static combins(a,l){let u,h;a-l>l?(h=l,u=a-l):(h=a-l,u=l);let g=1,y=1;for(let E=a;E>u;E--)g*=E,y<=h&&(g/=y,y++);for(;y<=h;)g/=y,y++;return g}}class Ao{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let u=12*l,h=new U(u),g=0,E=a[0].getRightChar().getValue();for(let C=11;C>=0;--C)(E&1<<C)!=0&&h.set(g),g++;for(let C=1;C<a.length;++C){let T=a[C],D=T.getLeftChar().getValue();for(let F=11;F>=0;--F)(D&1<<F)!=0&&h.set(g),g++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let $=11;$>=0;--$)(F&1<<$)!=0&&h.set(g),g++}}return h}}class Vn{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _o{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class br extends _o{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===br.FNC1}}br.FNC1="$";class ui extends _o{constructor(a,l,u){super(a),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class un extends _o{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new H;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===un.FNC1}isSecondDigitFNC1(){return this.secondDigit===un.FNC1}isAnyFNC1(){return this.firstDigit===un.FNC1||this.secondDigit===un.FNC1}}un.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new te;let l=a.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],a):ze.processFixedAI(2,g[1],a);if(a.length<3)throw new te;let u=a.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],a):ze.processFixedAI(3,g[1],a);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===u)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);if(a.length<4)throw new te;let h=a.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);throw new te}static processFixedAI(a,l,u){if(u.length<a)throw new te;let h=u.substring(0,a);if(u.length<a+l)throw new te;let g=u.substring(a,a+l),y=u.substring(a+l),E="("+h+")"+g,C=ze.parseFieldsInGeneralPurpose(y);return C==null?E:E+C}static processVariableAI(a,l,u){let h=u.substring(0,a),g;u.length<a+l?g=u.length:g=a+l;let y=u.substring(a,g),E=u.substring(g),C="("+h+")"+y,T=ze.parseFieldsInGeneralPurpose(E);return T==null?C:C+T}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Pa{constructor(a){this.buffer=new Ae,this.information=a}decodeAllCodes(a,l){let u=l,h=null;do{let g=this.decodeGeneralPurposeField(u,h),y=ze.parseFieldsInGeneralPurpose(g.getNewString());if(y!=null&&a.append(y),g.isRemaining()?h=""+g.getRemainingValue():h=null,u===g.getNewPosition())break;u=g.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return g===0?new un(this.information.getSize(),un.FNC1,un.FNC1):new un(this.information.getSize(),g-1,un.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),u=(l-8)/11,h=(l-8)%11;return new un(a+7,u,h)}extractNumericValueFromBitArray(a,l){return Pa.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,u){let h=0;for(let g=0;g<u;++g)a.get(l+g)&&(h|=1<<u-g-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new ui(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let u=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(u!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new ui(this.current.getPosition(),this.buffer.toString()):l=new ui(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Vn(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new ui(this.current.getPosition(),this.buffer.toString());return new Vn(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new ui(this.current.getPosition(),this.buffer.toString());return new Vn(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new ui(this.current.getPosition(),this.buffer.toString());return new Vn(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new br(a+5,br.FNC1);if(l>=5&&l<15)return new br(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,7);if(u>=64&&u<90)return new br(a+7,""+(u+1));if(u>=90&&u<116)return new br(a+7,""+(u+7));let h=this.extractNumericValueFromBitArray(a,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new H}return new br(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,6);return u>=16&&u<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new br(a+5,br.FNC1);if(l>=5&&l<15)return new br(a+5,"0"+(l-5));let u=this.extractNumericValueFromBitArray(a,6);if(u>=32&&u<58)return new br(a+6,""+(u+33));let h;switch(u){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Ct("Decoding invalid alphanumeric value: "+u)}return new br(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class be{constructor(a){this.information=a,this.generalDecoder=new Pa(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class We extends be{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);g/100===0&&a.append("0"),g/10===0&&a.append("0"),a.append(g)}We.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let h=0;h<13;h++){let g=a.charAt(h+l).charCodeAt(0)-48;u+=(h&1)===0?3*g:g}u=10-u%10,u===10&&(u=0),a.append(u)}}We.GTIN_SIZE=40;class at extends We{constructor(a){super(a)}parseInformation(){let a=new Ae;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(at.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,at.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,at.HEADER_SIZE+44)}}at.HEADER_SIZE=4;class Er extends be{constructor(a){super(a)}parseInformation(){let a=new Ae;return this.getGeneralDecoder().decodeAllCodes(a,Er.HEADER_SIZE)}}Er.HEADER_SIZE=5;class Sr extends We{constructor(a){super(a)}encodeCompressedWeight(a,l,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,u);this.addWeightCode(a,h);let g=this.checkWeight(h),y=1e5;for(let E=0;E<5;++E)g/y===0&&a.append("0"),y/=10;a.append(g)}}class Fr extends Sr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Fr.HEADER_SIZE+Sr.GTIN_SIZE+Fr.WEIGHT_SIZE)throw new te;let a=new Ae;return this.encodeCompressedGtin(a,Fr.HEADER_SIZE),this.encodeCompressedWeight(a,Fr.HEADER_SIZE+Sr.GTIN_SIZE,Fr.WEIGHT_SIZE),a.toString()}}Fr.HEADER_SIZE=5,Fr.WEIGHT_SIZE=15;class Ja extends Fr{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class Kd extends Fr{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class Ci extends We{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Ci.HEADER_SIZE+We.GTIN_SIZE)throw new te;let a=new Ae;this.encodeCompressedGtin(a,Ci.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ci.HEADER_SIZE+We.GTIN_SIZE,Ci.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Ci.HEADER_SIZE+We.GTIN_SIZE+Ci.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}Ci.HEADER_SIZE=8,Ci.LAST_DIGIT_SIZE=2;class Sn extends We{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+We.GTIN_SIZE)throw new te;let a=new Ae;this.encodeCompressedGtin(a,Sn.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+We.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+We.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+We.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class lr extends Sr{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=lr.HEADER_SIZE+lr.GTIN_SIZE+lr.WEIGHT_SIZE+lr.DATE_SIZE)throw new te;let a=new Ae;return this.encodeCompressedGtin(a,lr.HEADER_SIZE),this.encodeCompressedWeight(a,lr.HEADER_SIZE+lr.GTIN_SIZE,lr.WEIGHT_SIZE),this.encodeCompressedDate(a,lr.HEADER_SIZE+lr.GTIN_SIZE+lr.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,lr.DATE_SIZE);if(u==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=u%32;u/=32;let g=u%12+1;u/=12;let y=u;y/10==0&&a.append("0"),a.append(y),g/10==0&&a.append("0"),a.append(g),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}lr.HEADER_SIZE=8,lr.WEIGHT_SIZE=20,lr.DATE_SIZE=16;function Xd(B){try{if(B.get(1))return new at(B);if(!B.get(2))return new Er(B);switch(Pa.extractNumericValueFromBitArray(B,1,4)){case 4:return new Ja(B);case 5:return new Kd(B)}switch(Pa.extractNumericValueFromBitArray(B,1,5)){case 12:return new Ci(B);case 13:return new Sn(B)}switch(Pa.extractNumericValueFromBitArray(B,1,7)){case 56:return new lr(B,"310","11");case 57:return new lr(B,"320","11");case 58:return new lr(B,"310","13");case 59:return new lr(B,"320","13");case 60:return new lr(B,"310","15");case 61:return new lr(B,"320","15");case 62:return new lr(B,"310","17");case 63:return new lr(B,"320","17")}}catch(a){throw console.log(a),new Ct("unknown decoder: "+B)}}class Gt{constructor(a,l,u,h){this.leftchar=a,this.rightchar=l,this.finderpattern=u,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof Gt?Gt.equalsOrNull(a.leftchar,l.leftchar)&&Gt.equalsOrNull(a.rightchar,l.rightchar)&&Gt.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:Gt.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zc{constructor(a,l,u){this.pairs=a,this.rowNumber=l,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof Zc?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let u;return a.forEach((h,g)=>{l.forEach(y=>{h.getLeftChar().getValue()===y.getLeftChar().getValue()&&h.getRightChar().getValue()===y.getRightChar().getValue()&&h.getFinderPatter().getValue()===y.getFinderPatter().getValue()&&(u=!0)})}),u}}class Ce extends en{constructor(a){super(...arguments),this.pairs=new Array(Ce.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,u){this.pairs.length=0,this.startFromEven=!1;try{return Ce.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Ce.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(g){if(g instanceof te){if(!this.pairs.length)throw new te;u=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new te}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let u=l;u<this.rows.length;u++){let h=this.rows[u];this.pairs.length=0;for(let y of a)this.pairs.push(y.getPairs());if(this.pairs.push(h.getPairs()),!Ce.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(h);try{return this.checkRows(g,u+1)}catch(y){this.verbose&&console.log(y)}}throw new te}static isValidSequence(a){for(let l of Ce.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let u=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){u=!1;break}if(u)return!0}return!1}storeRow(a,l){let u=0,h=!1,g=!1;for(;u<this.rows.length;){let y=this.rows[u];if(y.getRowNumber()>a){g=y.isEquivalent(this.pairs);break}h=y.isEquivalent(this.pairs),u++}g||h||Ce.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Zc(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let u of l)if(u.getPairs().length!==a.length){for(let h of u.getPairs())for(let g of a)if(Gt.equals(h,g))break}}static isPartialRow(a,l){for(let u of l){let h=!0;for(let g of a){let y=!1;for(let E of u.getPairs())if(g.equals(E)){y=!0;break}if(!y){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=Ao.buildBitArray(a),h=Xd(l).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),y=a[a.length-1].getFinderPattern().getResultPoints(),E=[g[0],g[1],y[0],y[1]];return new Fe(h,null,null,E,Ie.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),u=a.getRightChar();if(u==null)return!1;let h=u.getChecksumPortion(),g=2;for(let E=1;E<this.pairs.size();++E){let C=this.pairs.get(E);h+=C.getLeftChar().getChecksumPortion(),g++;let T=C.getRightChar();T!=null&&(h+=T.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==l.getValue()}static getNextSecondBar(a,l){let u;return a.get(l)?(u=a.getNextUnset(l),u=a.getNextSet(u)):(u=a.getNextSet(l),u=a.getNextUnset(u)),u}retrieveNextPair(a,l,u){let h=l.length%2==0;this.startFromEven&&(h=!h);let g,y=!0,E=-1;do this.findNextPair(a,l,E),g=this.parseFoundFinderPattern(a,u,h),g==null?E=Ce.getNextSecondBar(a,this.startEnd[0]):y=!1;while(y);let C=this.decodeDataCharacter(a,g,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new te;let T;try{T=this.decodeDataCharacter(a,g,h,!1)}catch(D){T=null,this.verbose&&console.log(D)}return new Gt(C,T,g,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=a.getSize(),y;u>=0?y=u:this.isEmptyPair(l)?y=0:y=l[l.length-1].getFinderPattern().getStartEnd()[1];let E=l.length%2!=0;this.startFromEven&&(E=!E);let C=!1;for(;y<g&&(C=!a.get(y),!!C);)y++;let T=0,D=y;for(let F=y;F<g;F++)if(a.get(F)!=C)h[T]++;else{if(T==3){if(E&&Ce.reverseCounters(h),Ce.isFinderPattern(h)){this.startEnd[0]=D,this.startEnd[1]=F;return}E&&Ce.reverseCounters(h),D+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,C=!C}throw new te}static reverseCounters(a){let l=a.length;for(let u=0;u<l/2;++u){let h=a[u];a[u]=a[l-u-1],a[l-u-1]=h}}parseFoundFinderPattern(a,l,u){let h,g,y;if(u){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,h=this.startEnd[0]-T,g=T,y=this.startEnd[1]}else g=this.startEnd[0],y=a.getNextUnset(this.startEnd[1]+1),h=y-this.startEnd[1];let E=this.getDecodeFinderCounters();O.arraycopy(E,0,E,1,E.length-1),E[0]=h;let C;try{C=this.parseFinderValue(E,Ce.FINDER_PATTERNS)}catch{return null}return new Qa(C,[g,y],g,y,l)}decodeDataCharacter(a,l,u,h){let g=this.getDataCharacterCounters();for(let Ht=0;Ht<g.length;Ht++)g[Ht]=0;if(h)Ce.recordPatternInReverse(a,l.getStartEnd()[0],g);else{Ce.recordPattern(a,l.getStartEnd()[1],g);for(let Ht=0,jr=g.length-1;Ht<jr;Ht++,jr--){let Mn=g[Ht];g[Ht]=g[jr],g[jr]=Mn}}let y=17,E=_t.sum(new Int32Array(g))/y,C=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(E-C)/C>.3)throw new te;let T=this.getOddCounts(),D=this.getEvenCounts(),F=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Ht=0;Ht<g.length;Ht++){let jr=1*g[Ht]/E,Mn=jr+.5;if(Mn<1){if(jr<.3)throw new te;Mn=1}else if(Mn>8){if(jr>8.7)throw new te;Mn=8}let is=Ht/2;(Ht&1)==0?(T[is]=Mn,F[is]=jr-Mn):(D[is]=Mn,$[is]=jr-Mn)}this.adjustOddEvenCounts(y);let G=4*l.getValue()+(u?0:2)+(h?0:1)-1,Y=0,ee=0;for(let Ht=T.length-1;Ht>=0;Ht--){if(Ce.isNotA1left(l,u,h)){let jr=Ce.WEIGHTS[G][2*Ht];ee+=T[Ht]*jr}Y+=T[Ht]}let ae=0;for(let Ht=D.length-1;Ht>=0;Ht--)if(Ce.isNotA1left(l,u,h)){let jr=Ce.WEIGHTS[G][2*Ht+1];ae+=D[Ht]*jr}let me=ee+ae;if((Y&1)!=0||Y>13||Y<4)throw new te;let je=(13-Y)/2,Re=Ce.SYMBOL_WIDEST[je],Oe=9-Re,Ot=En.getRSSvalue(T,Re,!0),wt=En.getRSSvalue(D,Oe,!1),qn=Ce.EVEN_TOTAL_SUBSET[je],ki=Ce.GSUM[je],Xr=Ot*qn+wt+ki;return new ri(Xr,me)}static isNotA1left(a,l,u){return!(a.getValue()==0&&l&&u)}adjustOddEvenCounts(a){let l=_t.sum(new Int32Array(this.getOddCounts())),u=_t.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;l>13?g=!0:l<4&&(h=!0);let y=!1,E=!1;u>13?E=!0:u<4&&(y=!0);let C=l+u-a,T=(l&1)==1,D=(u&1)==0;if(C==1)if(T){if(D)throw new te;g=!0}else{if(!D)throw new te;E=!0}else if(C==-1)if(T){if(D)throw new te;h=!0}else{if(!D)throw new te;y=!0}else if(C==0){if(T){if(!D)throw new te;l<u?(h=!0,E=!0):(g=!0,y=!0)}else if(D)throw new te}else throw new te;if(h){if(g)throw new te;Ce.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&Ce.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(E)throw new te;Ce.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ce.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ce.SYMBOL_WIDEST=[7,5,4,3,1],Ce.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ce.GSUM=[0,348,1388,2948,3988],Ce.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ce.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ce.FINDER_PAT_A=0,Ce.FINDER_PAT_B=1,Ce.FINDER_PAT_C=2,Ce.FINDER_PAT_D=3,Ce.FINDER_PAT_E=4,Ce.FINDER_PAT_F=5,Ce.FINDER_PATTERN_SEQUENCES=[[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_C,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_C],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_E,Ce.FINDER_PAT_B,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F],[Ce.FINDER_PAT_A,Ce.FINDER_PAT_A,Ce.FINDER_PAT_B,Ce.FINDER_PAT_B,Ce.FINDER_PAT_C,Ce.FINDER_PAT_D,Ce.FINDER_PAT_D,Ce.FINDER_PAT_E,Ce.FINDER_PAT_E,Ce.FINDER_PAT_F,Ce.FINDER_PAT_F]],Ce.MAX_PAIRS=11;class Yd extends ri{constructor(a,l,u){super(a,l),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tr extends en{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,u){const h=this.decodePair(l,!1,a,u);tr.addOrTally(this.possibleLeftPairs,h),l.reverse();let g=this.decodePair(l,!0,a,u);tr.addOrTally(this.possibleRightPairs,g),l.reverse();for(let y of this.possibleLeftPairs)if(y.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&tr.checkChecksum(y,E))return tr.constructResult(y,E)}throw new te}static addOrTally(a,l){if(l==null)return;let u=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),u=!0;break}u||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let u=4537077*a.getValue()+l.getValue(),h=new String(u).toString(),g=new Ae;for(let T=13-h.length;T>0;T--)g.append("0");g.append(h);let y=0;for(let T=0;T<13;T++){let D=g.charAt(T).charCodeAt(0)-48;y+=(T&1)===0?3*D:D}y=10-y%10,y===10&&(y=0),g.append(y.toString());let E=a.getFinderPattern().getResultPoints(),C=l.getFinderPattern().getResultPoints();return new Fe(g.toString(),null,0,[E[0],E[1],C[0],C[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(a,l){let u=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,u===h}decodePair(a,l,u,h){try{let g=this.findFinderPattern(a,l),y=this.parseFoundFinderPattern(a,u,l,g),E=h==null?null:h.get(V.NEED_RESULT_POINT_CALLBACK);if(E!=null){let D=(g[0]+g[1])/2;l&&(D=a.getSize()-1-D),E.foundPossibleResultPoint(new $e(D,u))}let C=this.decodeDataCharacter(a,y,!0),T=this.decodeDataCharacter(a,y,!1);return new Yd(1597*C.getValue()+T.getValue(),C.getChecksumPortion()+4*T.getChecksumPortion(),y)}catch{return null}}decodeDataCharacter(a,l,u){let h=this.getDataCharacterCounters();for(let ae=0;ae<h.length;ae++)h[ae]=0;if(u)er.recordPatternInReverse(a,l.getStartEnd()[0],h);else{er.recordPattern(a,l.getStartEnd()[1]+1,h);for(let ae=0,me=h.length-1;ae<me;ae++,me--){let je=h[ae];h[ae]=h[me],h[me]=je}}let g=u?16:15,y=_t.sum(new Int32Array(h))/g,E=this.getOddCounts(),C=this.getEvenCounts(),T=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ae=0;ae<h.length;ae++){let me=h[ae]/y,je=Math.floor(me+.5);je<1?je=1:je>8&&(je=8);let Re=Math.floor(ae/2);(ae&1)===0?(E[Re]=je,T[Re]=me-je):(C[Re]=je,D[Re]=me-je)}this.adjustOddEvenCounts(u,g);let F=0,$=0;for(let ae=E.length-1;ae>=0;ae--)$*=9,$+=E[ae],F+=E[ae];let G=0,Y=0;for(let ae=C.length-1;ae>=0;ae--)G*=9,G+=C[ae],Y+=C[ae];let ee=$+3*G;if(u){if((F&1)!==0||F>12||F<4)throw new te;let ae=(12-F)/2,me=tr.OUTSIDE_ODD_WIDEST[ae],je=9-me,Re=En.getRSSvalue(E,me,!1),Oe=En.getRSSvalue(C,je,!0),Ot=tr.OUTSIDE_EVEN_TOTAL_SUBSET[ae],wt=tr.OUTSIDE_GSUM[ae];return new ri(Re*Ot+Oe+wt,ee)}else{if((Y&1)!==0||Y>10||Y<4)throw new te;let ae=(10-Y)/2,me=tr.INSIDE_ODD_WIDEST[ae],je=9-me,Re=En.getRSSvalue(E,me,!0),Oe=En.getRSSvalue(C,je,!1),Ot=tr.INSIDE_ODD_TOTAL_SUBSET[ae],wt=tr.INSIDE_GSUM[ae];return new ri(Oe*Ot+Re+wt,ee)}}findFinderPattern(a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=a.getSize(),g=!1,y=0;for(;y<h&&(g=!a.get(y),l!==g);)y++;let E=0,C=y;for(let T=y;T<h;T++)if(a.get(T)!==g)u[E]++;else{if(E===3){if(en.isFinderPattern(u))return[C,T];C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,E--}else E++;u[E]=1,g=!g}throw new te}parseFoundFinderPattern(a,l,u,h){let g=a.get(h[0]),y=h[0]-1;for(;y>=0&&g!==a.get(y);)y--;y++;const E=h[0]-y,C=this.getDecodeFinderCounters(),T=new Int32Array(C.length);O.arraycopy(C,0,T,1,C.length-1),T[0]=E;const D=this.parseFinderValue(T,tr.FINDER_PATTERNS);let F=y,$=h[1];return u&&(F=a.getSize()-1-F,$=a.getSize()-1-$),new Qa(D,[y,h[1]],F,$,l)}adjustOddEvenCounts(a,l){let u=_t.sum(new Int32Array(this.getOddCounts())),h=_t.sum(new Int32Array(this.getEvenCounts())),g=!1,y=!1,E=!1,C=!1;a?(u>12?y=!0:u<4&&(g=!0),h>12?C=!0:h<4&&(E=!0)):(u>11?y=!0:u<5&&(g=!0),h>10?C=!0:h<4&&(E=!0));let T=u+h-l,D=(u&1)===(a?1:0),F=(h&1)===1;if(T===1)if(D){if(F)throw new te;y=!0}else{if(!F)throw new te;C=!0}else if(T===-1)if(D){if(F)throw new te;g=!0}else{if(!F)throw new te;E=!0}else if(T===0){if(D){if(!F)throw new te;u<h?(g=!0,C=!0):(y=!0,E=!0)}else if(F)throw new te}else throw new te;if(g){if(y)throw new te;en.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(y&&en.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(C)throw new te;en.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&en.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tr.OUTSIDE_GSUM=[0,161,961,2015,2715],tr.INSIDE_GSUM=[0,336,1036,1516],tr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tr.INSIDE_ODD_WIDEST=[2,4,6,8],tr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bs extends er{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const u=a?a.get(V.POSSIBLE_FORMATS):null,h=a&&a.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(Ie.EAN_13)||u.includes(Ie.UPC_A)||u.includes(Ie.EAN_8)||u.includes(Ie.UPC_E))&&this.readers.push(new So(a)),u.includes(Ie.CODE_39)&&this.readers.push(new sr(h)),u.includes(Ie.CODE_128)&&this.readers.push(new Le),u.includes(Ie.ITF)&&this.readers.push(new Rt),u.includes(Ie.RSS_14)&&this.readers.push(new tr),u.includes(Ie.RSS_EXPANDED)&&this.readers.push(new Ce(this.verbose))):(this.readers.push(new So(a)),this.readers.push(new sr),this.readers.push(new So(a)),this.readers.push(new Le),this.readers.push(new Rt),this.readers.push(new tr),this.readers.push(new Ce(this.verbose)))}decodeRow(a,l,u){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,u)}catch{}throw new te}reset(){this.readers.forEach(a=>a.reset())}}class Zd extends Me{constructor(a=500,l){super(new Bs(l),a,l)}}class Mt{constructor(a,l,u){this.ecCodewords=a,this.ecBlocks=[l],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Et{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tt{constructor(a,l,u,h,g,y){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=u,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=y;let E=0;const C=y.getECCodewords(),T=y.getECBlocks();for(let D of T)E+=D.getCount()*(D.getDataCodewords()+C);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if((a&1)!==0||(l&1)!==0)throw new H;for(let u of Tt.VERSIONS)if(u.symbolSizeRows===a&&u.symbolSizeColumns===l)return u;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new Tt(1,10,10,8,8,new Mt(5,new Et(1,3))),new Tt(2,12,12,10,10,new Mt(7,new Et(1,5))),new Tt(3,14,14,12,12,new Mt(10,new Et(1,8))),new Tt(4,16,16,14,14,new Mt(12,new Et(1,12))),new Tt(5,18,18,16,16,new Mt(14,new Et(1,18))),new Tt(6,20,20,18,18,new Mt(18,new Et(1,22))),new Tt(7,22,22,20,20,new Mt(20,new Et(1,30))),new Tt(8,24,24,22,22,new Mt(24,new Et(1,36))),new Tt(9,26,26,24,24,new Mt(28,new Et(1,44))),new Tt(10,32,32,14,14,new Mt(36,new Et(1,62))),new Tt(11,36,36,16,16,new Mt(42,new Et(1,86))),new Tt(12,40,40,18,18,new Mt(48,new Et(1,114))),new Tt(13,44,44,20,20,new Mt(56,new Et(1,144))),new Tt(14,48,48,22,22,new Mt(68,new Et(1,174))),new Tt(15,52,52,24,24,new Mt(42,new Et(2,102))),new Tt(16,64,64,14,14,new Mt(56,new Et(2,140))),new Tt(17,72,72,16,16,new Mt(36,new Et(4,92))),new Tt(18,80,80,18,18,new Mt(48,new Et(4,114))),new Tt(19,88,88,20,20,new Mt(56,new Et(4,144))),new Tt(20,96,96,22,22,new Mt(68,new Et(4,174))),new Tt(21,104,104,24,24,new Mt(56,new Et(6,136))),new Tt(22,120,120,18,18,new Mt(68,new Et(6,175))),new Tt(23,132,132,20,20,new Mt(62,new Et(8,163))),new Tt(24,144,144,22,22,new Mt(62,new Et(8,156),new Et(2,155))),new Tt(25,8,18,6,16,new Mt(7,new Et(1,5))),new Tt(26,8,32,6,14,new Mt(11,new Et(1,10))),new Tt(27,12,26,10,24,new Mt(14,new Et(1,16))),new Tt(28,12,36,10,16,new Mt(18,new Et(1,22))),new Tt(29,16,36,14,16,new Mt(24,new Et(1,32))),new Tt(30,16,48,14,22,new Mt(28,new Et(1,49)))]}}Tt.VERSIONS=Tt.buildVersions();class ni{constructor(a){const l=a.getHeight();if(l<8||l>144||(l&1)!==0)throw new H;this.version=ni.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ke(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),u=a.getWidth();return Tt.getVersionForDimensions(l,u)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,u=4,h=0;const g=this.mappingBitMatrix.getHeight(),y=this.mappingBitMatrix.getWidth();let E=!1,C=!1,T=!1,D=!1;do if(u===g&&h===0&&!E)a[l++]=this.readCorner1(g,y)&255,u-=2,h+=2,E=!0;else if(u===g-2&&h===0&&(y&3)!==0&&!C)a[l++]=this.readCorner2(g,y)&255,u-=2,h+=2,C=!0;else if(u===g+4&&h===2&&(y&7)===0&&!T)a[l++]=this.readCorner3(g,y)&255,u-=2,h+=2,T=!0;else if(u===g-2&&h===0&&(y&7)===4&&!D)a[l++]=this.readCorner4(g,y)&255,u-=2,h+=2,D=!0;else{do u<g&&h>=0&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,y)&255),u-=2,h+=2;while(u>=0&&h<y);u+=1,h+=3;do u>=0&&h<y&&!this.readMappingMatrix.get(h,u)&&(a[l++]=this.readUtah(u,h,g,y)&255),u+=2,h-=2;while(u<g&&h>=0);u+=3,h+=1}while(u<g||h<y);if(l!==this.version.getTotalCodewords())throw new H;return a}readModule(a,l,u,h){return a<0&&(a+=u,l+=4-(u+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,u,h){let g=0;return this.readModule(a-2,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-2,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a-1,l,u,h)&&(g|=1),g<<=1,this.readModule(a,l-2,u,h)&&(g|=1),g<<=1,this.readModule(a,l-1,u,h)&&(g|=1),g<<=1,this.readModule(a,l,u,h)&&(g|=1),g}readCorner1(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,1,a,l)&&(u|=1),u<<=1,this.readModule(a-1,2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}readCorner2(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-4,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner3(a,l){let u=0;return this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(0,l-3,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-3,a,l)&&(u|=1),u<<=1,this.readModule(1,l-2,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u}readCorner4(a,l){let u=0;return this.readModule(a-3,0,a,l)&&(u|=1),u<<=1,this.readModule(a-2,0,a,l)&&(u|=1),u<<=1,this.readModule(a-1,0,a,l)&&(u|=1),u<<=1,this.readModule(0,l-2,a,l)&&(u|=1),u<<=1,this.readModule(0,l-1,a,l)&&(u|=1),u<<=1,this.readModule(1,l-1,a,l)&&(u|=1),u<<=1,this.readModule(2,l-1,a,l)&&(u|=1),u<<=1,this.readModule(3,l-1,a,l)&&(u|=1),u}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new b("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),y=l/h|0,E=u/g|0,C=y*h,T=E*g,D=new ke(T,C);for(let F=0;F<y;++F){const $=F*h;for(let G=0;G<E;++G){const Y=G*g;for(let ee=0;ee<h;++ee){const ae=F*(h+2)+1+ee,me=$+ee;for(let je=0;je<g;++je){const Re=G*(g+2)+1+je;if(a.get(Re,ae)){const Oe=Y+je;D.set(Oe,me)}}}}}return D}}class Qc{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const u=l.getECBlocks();let h=0;const g=u.getECBlocks();for(let ee of g)h+=ee.getCount();const y=new Array(h);let E=0;for(let ee of g)for(let ae=0;ae<ee.getCount();ae++){const me=ee.getDataCodewords(),je=u.getECCodewords()+me;y[E++]=new Qc(me,new Uint8Array(je))}const T=y[0].codewords.length-u.getECCodewords(),D=T-1;let F=0;for(let ee=0;ee<D;ee++)for(let ae=0;ae<E;ae++)y[ae].codewords[ee]=a[F++];const $=l.getVersionNumber()===24,G=$?8:E;for(let ee=0;ee<G;ee++)y[ee].codewords[T-1]=a[F++];const Y=y[0].codewords.length;for(let ee=T;ee<Y;ee++)for(let ae=0;ae<E;ae++){const me=$?(ae+8)%E:ae,je=$&&me>7?ee-1:ee;y[me].codewords[je]=a[F++]}if(F!==a.length)throw new b;return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jc{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new b(""+a);let l=0,u=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(u>0){const y=8-u,E=a<y?a:y,C=y-E,T=255>>8-E<<C;l=(g[h]&T)>>C,a-=E,u+=E,u===8&&(u=0,h++)}if(a>0){for(;a>=8;)l=l<<8|g[h]&255,h++,a-=8;if(a>0){const y=8-a,E=255>>y<<y;l=l<<a|(g[h]&E)>>y,u+=a}}return this.bitOffset=u,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Gr;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Gr||(Gr={}));class Ni{static decode(a){const l=new Jc(a),u=new Ae,h=new Ae,g=new Array;let y=Gr.ASCII_ENCODE;do if(y===Gr.ASCII_ENCODE)y=this.decodeAsciiSegment(l,u,h);else{switch(y){case Gr.C40_ENCODE:this.decodeC40Segment(l,u);break;case Gr.TEXT_ENCODE:this.decodeTextSegment(l,u);break;case Gr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,u);break;case Gr.EDIFACT_ENCODE:this.decodeEdifactSegment(l,u);break;case Gr.BASE256_ENCODE:this.decodeBase256Segment(l,u,g);break;default:throw new H}y=Gr.ASCII_ENCODE}while(y!==Gr.PAD_ENCODE&&l.available()>0);return h.length()>0&&u.append(h.toString()),new se(a,u.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(a,l,u){let h=!1;do{let g=a.readBits(8);if(g===0)throw new H;if(g<=128)return h&&(g+=128),l.append(String.fromCharCode(g-1)),Gr.ASCII_ENCODE;if(g===129)return Gr.PAD_ENCODE;if(g<=229){const y=g-130;y<10&&l.append("0"),l.append(""+y)}else switch(g){case 230:return Gr.C40_ENCODE;case 231:return Gr.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),u.insert(0,"");break;case 237:l.append("[)>06"),u.insert(0,"");break;case 238:return Gr.ANSIX12_ENCODE;case 239:return Gr.TEXT_ENCODE;case 240:return Gr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||a.available()!==0)throw new H;break}}while(a.available()>0);return Gr.ASCII_ENCODE}static decodeC40Segment(a,l){let u=!1;const h=[];let g=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:u?(l.append(String.fromCharCode(C+224)),u=!1):l.append(String.fromCharCode(C+96)),g=0;break;default:throw new H}}}while(a.available()>0)}static decodeTextSegment(a,l){let u=!1,h=[],g=0;do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let E=0;E<3;E++){const C=h[E];switch(g){case 0:if(C<3)g=C+1;else if(C<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else throw new H;break;case 1:u?(l.append(String.fromCharCode(C+128)),u=!1):l.append(String.fromCharCode(C)),g=0;break;case 2:if(C<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T)}else switch(C){case 27:l.append("");break;case 30:u=!0;break;default:throw new H}g=0;break;case 3:if(C<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[C];u?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),u=!1):l.append(T),g=0}else throw new H;break;default:throw new H}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const u=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),u);for(let g=0;g<3;g++){const y=u[g];switch(y){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(y<14)l.append(String.fromCharCode(y+44));else if(y<40)l.append(String.fromCharCode(y+51));else throw new H;break}}}while(a.available()>0)}static parseTwoBytes(a,l,u){let h=(a<<8)+l-1,g=Math.floor(h/1600);u[0]=g,h-=g*1600,g=Math.floor(h/40),u[1]=g,u[2]=h-g*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let u=0;u<4;u++){let h=a.readBits(6);if(h===31){const g=8-a.getBitOffset();g!==8&&a.readBits(g);return}(h&32)===0&&(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,u){let h=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),h++);let y;if(g===0?y=a.available()/8|0:g<250?y=g:y=250*(g-249)+this.unrandomize255State(a.readBits(8),h++),y<0)throw new H;const E=new Uint8Array(y);for(let C=0;C<y;C++){if(a.available()<8)throw new H;E[C]=this.unrandomize255State(a.readBits(8),h++)}u.push(E);try{l.append(ue.decode(E,de.ISO88591))}catch(C){throw new Ct("Platform does not support required encoding: "+C.message)}}static unrandomize255State(a,l){const u=149*l%255+1,h=a-u;return h>=0?h:h+256}}Ni.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ni.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ni.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ni.TEXT_SHIFT2_SET_CHARS=Ni.C40_SHIFT2_SET_CHARS,Ni.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Tl{constructor(){this.rsDecoder=new Ft(He.DATA_MATRIX_FIELD_256)}decode(a){const l=new ni(a),u=l.getVersion(),h=l.readCodewords(),g=Qc.getDataBlocks(h,u);let y=0;for(let T of g)y+=T.getNumDataCodewords();const E=new Uint8Array(y),C=g.length;for(let T=0;T<C;T++){const D=g[T],F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let G=0;G<$;G++)E[G*C+T]=F[G]}return Ni.decode(E)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new _}for(let h=0;h<l;h++)a[h]=u[h]}}class rr{constructor(a){this.image=a,this.rectangleDetector=new Ut(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new te;l=this.shiftToModuleCenter(l);const u=l[0],h=l[1],g=l[2],y=l[3];let E=this.transitionsBetween(u,y)+1,C=this.transitionsBetween(g,y)+1;(E&1)===1&&(E+=1),(C&1)===1&&(C+=1),4*E<7*C&&4*C<7*E&&(E=C=Math.max(E,C));let T=rr.sampleGrid(this.image,u,h,g,y,E,C);return new _e(T,[u,h,g,y])}static shiftPoint(a,l,u){let h=(l.getX()-a.getX())/(u+1),g=(l.getY()-a.getY())/(u+1);return new $e(a.getX()+h,a.getY()+g)}static moveAway(a,l,u){let h=a.getX(),g=a.getY();return h<l?h-=1:h+=1,g<u?g-=1:g+=1,new $e(h,g)}detectSolid1(a){let l=a[0],u=a[1],h=a[3],g=a[2],y=this.transitionsBetween(l,u),E=this.transitionsBetween(u,h),C=this.transitionsBetween(h,g),T=this.transitionsBetween(g,l),D=y,F=[g,l,u,h];return D>E&&(D=E,F[0]=l,F[1]=u,F[2]=h,F[3]=g),D>C&&(D=C,F[0]=u,F[1]=h,F[2]=g,F[3]=l),D>T&&(F[0]=h,F[1]=g,F[2]=l,F[3]=u),F}detectSolid2(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g),E=rr.shiftPoint(u,h,(y+1)*4),C=rr.shiftPoint(h,u,(y+1)*4),T=this.transitionsBetween(E,l),D=this.transitionsBetween(C,g);return T<D?(a[0]=l,a[1]=u,a[2]=h,a[3]=g):(a[0]=u,a[1]=h,a[2]=g,a[3]=l),a}correctTopRight(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g),E=this.transitionsBetween(u,g),C=rr.shiftPoint(l,u,(E+1)*4),T=rr.shiftPoint(h,u,(y+1)*4);y=this.transitionsBetween(C,g),E=this.transitionsBetween(T,g);let D=new $e(g.getX()+(h.getX()-u.getX())/(y+1),g.getY()+(h.getY()-u.getY())/(y+1)),F=new $e(g.getX()+(l.getX()-u.getX())/(E+1),g.getY()+(l.getY()-u.getY())/(E+1));if(!this.isValid(D))return this.isValid(F)?F:null;if(!this.isValid(F))return D;let $=this.transitionsBetween(C,D)+this.transitionsBetween(T,D),G=this.transitionsBetween(C,F)+this.transitionsBetween(T,F);return $>G?D:F}shiftToModuleCenter(a){let l=a[0],u=a[1],h=a[2],g=a[3],y=this.transitionsBetween(l,g)+1,E=this.transitionsBetween(h,g)+1,C=rr.shiftPoint(l,u,E*4),T=rr.shiftPoint(h,u,y*4);y=this.transitionsBetween(C,g)+1,E=this.transitionsBetween(T,g)+1,(y&1)===1&&(y+=1),(E&1)===1&&(E+=1);let D=(l.getX()+u.getX()+h.getX()+g.getX())/4,F=(l.getY()+u.getY()+h.getY()+g.getY())/4;l=rr.moveAway(l,D,F),u=rr.moveAway(u,D,F),h=rr.moveAway(h,D,F),g=rr.moveAway(g,D,F);let $,G;return C=rr.shiftPoint(l,u,E*4),C=rr.shiftPoint(C,g,y*4),$=rr.shiftPoint(u,l,E*4),$=rr.shiftPoint($,h,y*4),T=rr.shiftPoint(h,g,E*4),T=rr.shiftPoint(T,u,y*4),G=rr.shiftPoint(g,h,E*4),G=rr.shiftPoint(G,l,y*4),[C,$,T,G]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,u,h,g,y,E){return Wn.getInstance().sampleGrid(a,y,E,.5,.5,y-.5,.5,y-.5,E-.5,.5,E-.5,l.getX(),l.getY(),g.getX(),g.getY(),h.getX(),h.getY(),u.getX(),u.getY())}transitionsBetween(a,l){let u=Math.trunc(a.getX()),h=Math.trunc(a.getY()),g=Math.trunc(l.getX()),y=Math.trunc(l.getY()),E=Math.abs(y-h)>Math.abs(g-u);if(E){let ee=u;u=h,h=ee,ee=g,g=y,y=ee}let C=Math.abs(g-u),T=Math.abs(y-h),D=-C/2,F=h<y?1:-1,$=u<g?1:-1,G=0,Y=this.image.get(E?h:u,E?u:h);for(let ee=u,ae=h;ee!==g;ee+=$){let me=this.image.get(E?ae:ee,E?ee:ae);if(me!==Y&&(G++,Y=me),D+=T,D>0){if(ae===y)break;ae+=F,D-=C}}return G}}class Oi{constructor(){this.decoder=new Tl}decode(a,l=null){let u,h;if(l!=null&&l.has(V.PURE_BARCODE)){const T=Oi.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(T),h=Oi.NO_POINTS}else{const T=new rr(a.getBlackMatrix()).detect();u=this.decoder.decode(T.getBits()),h=T.getPoints()}const g=u.getRawBytes(),y=new Fe(u.getText(),g,8*g.length,h,Ie.DATA_MATRIX,O.currentTimeMillis()),E=u.getByteSegments();E!=null&&y.putMetadata(ye.BYTE_SEGMENTS,E);const C=u.getECLevel();return C!=null&&y.putMetadata(ye.ERROR_CORRECTION_LEVEL,C),y}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l==null||u==null)throw new te;const h=this.moduleSize(l,a);let g=l[1];const y=u[1];let E=l[0];const T=(u[0]-E+1)/h,D=(y-g+1)/h;if(T<=0||D<=0)throw new te;const F=h/2;g+=F,E+=F;const $=new ke(T,D);for(let G=0;G<D;G++){const Y=g+G*h;for(let ee=0;ee<T;ee++)a.get(E+ee*h,Y)&&$.set(ee,G)}return $}static moduleSize(a,l){const u=l.getWidth();let h=a[0];const g=a[1];for(;h<u&&l.get(h,g);)h++;if(h===u)throw new te;const y=h-a[0];if(y===0)throw new te;return y}}Oi.NO_POINTS=[];class cm extends Me{constructor(a=500){super(new Oi,a)}}var Fs;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Fs||(Fs={}));class Kt{constructor(a,l,u){this.value=a,this.stringValue=l,this.bits=u,Kt.FOR_BITS.set(u,this),Kt.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new x(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof Kt))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=Kt.FOR_BITS.size)throw new b;return Kt.FOR_BITS.get(a)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(Fs.L,"L",1),Kt.M=new Kt(Fs.M,"M",0),Kt.Q=new Kt(Fs.Q,"Q",3),Kt.H=new Kt(Fs.H,"H",2);class dn{constructor(a){this.errorCorrectionLevel=Kt.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return M.bitCount(a^l)}static decodeFormatInformation(a,l){const u=dn.doDecodeFormatInformation(a,l);return u!==null?u:dn.doDecodeFormatInformation(a^dn.FORMAT_INFO_MASK_QR,l^dn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let u=Number.MAX_SAFE_INTEGER,h=0;for(const g of dn.FORMAT_INFO_DECODE_LOOKUP){const y=g[0];if(y===a||y===l)return new dn(g[1]);let E=dn.numBitsDiffering(a,y);E<u&&(h=g[1],u=E),a!==l&&(E=dn.numBitsDiffering(l,y),E<u&&(h=g[1],u=E))}return u<=3?new dn(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof dn))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}dn.FORMAT_INFO_MASK_QR=21522,dn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const u of l)a+=u.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class q{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(a,l,...u){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=u;let h=0;const g=u[0].getECCodewordsPerBlock(),y=u[0].getECBlocks();for(const E of y)h+=E.getCount()*(E.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new H;try{return this.getVersionForNumber((a-17)/4)}catch{throw new H}}static getVersionForNumber(a){if(a<1||a>40)throw new b;return ot.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,u=0;for(let h=0;h<ot.VERSION_DECODE_INFO.length;h++){const g=ot.VERSION_DECODE_INFO[h];if(g===a)return ot.getVersionForNumber(h+7);const y=dn.numBitsDiffering(a,g);y<l&&(u=h+7,l=y)}return l<=3?ot.getVersionForNumber(u):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new ke(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const u=this.alignmentPatternCenters.length;for(let h=0;h<u;h++){const g=this.alignmentPatternCenters[h]-2;for(let y=0;y<u;y++)h===0&&(y===0||y===u-1)||h===u-1&&y===0||l.setRegion(this.alignmentPatternCenters[y]-2,g,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ot.VERSIONS=[new ot(1,new Int32Array(0),new le(7,new q(1,19)),new le(10,new q(1,16)),new le(13,new q(1,13)),new le(17,new q(1,9))),new ot(2,Int32Array.from([6,18]),new le(10,new q(1,34)),new le(16,new q(1,28)),new le(22,new q(1,22)),new le(28,new q(1,16))),new ot(3,Int32Array.from([6,22]),new le(15,new q(1,55)),new le(26,new q(1,44)),new le(18,new q(2,17)),new le(22,new q(2,13))),new ot(4,Int32Array.from([6,26]),new le(20,new q(1,80)),new le(18,new q(2,32)),new le(26,new q(2,24)),new le(16,new q(4,9))),new ot(5,Int32Array.from([6,30]),new le(26,new q(1,108)),new le(24,new q(2,43)),new le(18,new q(2,15),new q(2,16)),new le(22,new q(2,11),new q(2,12))),new ot(6,Int32Array.from([6,34]),new le(18,new q(2,68)),new le(16,new q(4,27)),new le(24,new q(4,19)),new le(28,new q(4,15))),new ot(7,Int32Array.from([6,22,38]),new le(20,new q(2,78)),new le(18,new q(4,31)),new le(18,new q(2,14),new q(4,15)),new le(26,new q(4,13),new q(1,14))),new ot(8,Int32Array.from([6,24,42]),new le(24,new q(2,97)),new le(22,new q(2,38),new q(2,39)),new le(22,new q(4,18),new q(2,19)),new le(26,new q(4,14),new q(2,15))),new ot(9,Int32Array.from([6,26,46]),new le(30,new q(2,116)),new le(22,new q(3,36),new q(2,37)),new le(20,new q(4,16),new q(4,17)),new le(24,new q(4,12),new q(4,13))),new ot(10,Int32Array.from([6,28,50]),new le(18,new q(2,68),new q(2,69)),new le(26,new q(4,43),new q(1,44)),new le(24,new q(6,19),new q(2,20)),new le(28,new q(6,15),new q(2,16))),new ot(11,Int32Array.from([6,30,54]),new le(20,new q(4,81)),new le(30,new q(1,50),new q(4,51)),new le(28,new q(4,22),new q(4,23)),new le(24,new q(3,12),new q(8,13))),new ot(12,Int32Array.from([6,32,58]),new le(24,new q(2,92),new q(2,93)),new le(22,new q(6,36),new q(2,37)),new le(26,new q(4,20),new q(6,21)),new le(28,new q(7,14),new q(4,15))),new ot(13,Int32Array.from([6,34,62]),new le(26,new q(4,107)),new le(22,new q(8,37),new q(1,38)),new le(24,new q(8,20),new q(4,21)),new le(22,new q(12,11),new q(4,12))),new ot(14,Int32Array.from([6,26,46,66]),new le(30,new q(3,115),new q(1,116)),new le(24,new q(4,40),new q(5,41)),new le(20,new q(11,16),new q(5,17)),new le(24,new q(11,12),new q(5,13))),new ot(15,Int32Array.from([6,26,48,70]),new le(22,new q(5,87),new q(1,88)),new le(24,new q(5,41),new q(5,42)),new le(30,new q(5,24),new q(7,25)),new le(24,new q(11,12),new q(7,13))),new ot(16,Int32Array.from([6,26,50,74]),new le(24,new q(5,98),new q(1,99)),new le(28,new q(7,45),new q(3,46)),new le(24,new q(15,19),new q(2,20)),new le(30,new q(3,15),new q(13,16))),new ot(17,Int32Array.from([6,30,54,78]),new le(28,new q(1,107),new q(5,108)),new le(28,new q(10,46),new q(1,47)),new le(28,new q(1,22),new q(15,23)),new le(28,new q(2,14),new q(17,15))),new ot(18,Int32Array.from([6,30,56,82]),new le(30,new q(5,120),new q(1,121)),new le(26,new q(9,43),new q(4,44)),new le(28,new q(17,22),new q(1,23)),new le(28,new q(2,14),new q(19,15))),new ot(19,Int32Array.from([6,30,58,86]),new le(28,new q(3,113),new q(4,114)),new le(26,new q(3,44),new q(11,45)),new le(26,new q(17,21),new q(4,22)),new le(26,new q(9,13),new q(16,14))),new ot(20,Int32Array.from([6,34,62,90]),new le(28,new q(3,107),new q(5,108)),new le(26,new q(3,41),new q(13,42)),new le(30,new q(15,24),new q(5,25)),new le(28,new q(15,15),new q(10,16))),new ot(21,Int32Array.from([6,28,50,72,94]),new le(28,new q(4,116),new q(4,117)),new le(26,new q(17,42)),new le(28,new q(17,22),new q(6,23)),new le(30,new q(19,16),new q(6,17))),new ot(22,Int32Array.from([6,26,50,74,98]),new le(28,new q(2,111),new q(7,112)),new le(28,new q(17,46)),new le(30,new q(7,24),new q(16,25)),new le(24,new q(34,13))),new ot(23,Int32Array.from([6,30,54,78,102]),new le(30,new q(4,121),new q(5,122)),new le(28,new q(4,47),new q(14,48)),new le(30,new q(11,24),new q(14,25)),new le(30,new q(16,15),new q(14,16))),new ot(24,Int32Array.from([6,28,54,80,106]),new le(30,new q(6,117),new q(4,118)),new le(28,new q(6,45),new q(14,46)),new le(30,new q(11,24),new q(16,25)),new le(30,new q(30,16),new q(2,17))),new ot(25,Int32Array.from([6,32,58,84,110]),new le(26,new q(8,106),new q(4,107)),new le(28,new q(8,47),new q(13,48)),new le(30,new q(7,24),new q(22,25)),new le(30,new q(22,15),new q(13,16))),new ot(26,Int32Array.from([6,30,58,86,114]),new le(28,new q(10,114),new q(2,115)),new le(28,new q(19,46),new q(4,47)),new le(28,new q(28,22),new q(6,23)),new le(30,new q(33,16),new q(4,17))),new ot(27,Int32Array.from([6,34,62,90,118]),new le(30,new q(8,122),new q(4,123)),new le(28,new q(22,45),new q(3,46)),new le(30,new q(8,23),new q(26,24)),new le(30,new q(12,15),new q(28,16))),new ot(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new q(3,117),new q(10,118)),new le(28,new q(3,45),new q(23,46)),new le(30,new q(4,24),new q(31,25)),new le(30,new q(11,15),new q(31,16))),new ot(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new q(7,116),new q(7,117)),new le(28,new q(21,45),new q(7,46)),new le(30,new q(1,23),new q(37,24)),new le(30,new q(19,15),new q(26,16))),new ot(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new q(5,115),new q(10,116)),new le(28,new q(19,47),new q(10,48)),new le(30,new q(15,24),new q(25,25)),new le(30,new q(23,15),new q(25,16))),new ot(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new q(13,115),new q(3,116)),new le(28,new q(2,46),new q(29,47)),new le(30,new q(42,24),new q(1,25)),new le(30,new q(23,15),new q(28,16))),new ot(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new q(17,115)),new le(28,new q(10,46),new q(23,47)),new le(30,new q(10,24),new q(35,25)),new le(30,new q(19,15),new q(35,16))),new ot(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new q(17,115),new q(1,116)),new le(28,new q(14,46),new q(21,47)),new le(30,new q(29,24),new q(19,25)),new le(30,new q(11,15),new q(46,16))),new ot(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new q(13,115),new q(6,116)),new le(28,new q(14,46),new q(23,47)),new le(30,new q(44,24),new q(7,25)),new le(30,new q(59,16),new q(1,17))),new ot(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new q(12,121),new q(7,122)),new le(28,new q(12,47),new q(26,48)),new le(30,new q(39,24),new q(14,25)),new le(30,new q(22,15),new q(41,16))),new ot(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new q(6,121),new q(14,122)),new le(28,new q(6,47),new q(34,48)),new le(30,new q(46,24),new q(10,25)),new le(30,new q(2,15),new q(64,16))),new ot(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new q(17,122),new q(4,123)),new le(28,new q(29,46),new q(14,47)),new le(30,new q(49,24),new q(10,25)),new le(30,new q(24,15),new q(46,16))),new ot(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new q(4,122),new q(18,123)),new le(28,new q(13,46),new q(32,47)),new le(30,new q(48,24),new q(14,25)),new le(30,new q(42,15),new q(32,16))),new ot(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new q(20,117),new q(4,118)),new le(28,new q(40,47),new q(7,48)),new le(30,new q(43,24),new q(22,25)),new le(30,new q(10,15),new q(67,16))),new ot(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new q(19,118),new q(6,119)),new le(28,new q(18,47),new q(31,48)),new le(30,new q(34,24),new q(34,25)),new le(30,new q(20,15),new q(61,16)))];var Ur;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(Ur||(Ur={}));class St{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let u=0;u<l;u++)for(let h=0;h<l;h++)this.isMasked(u,h)&&a.flip(h,u)}}St.values=new Map([[Ur.DATA_MASK_000,new St(Ur.DATA_MASK_000,(B,a)=>(B+a&1)===0)],[Ur.DATA_MASK_001,new St(Ur.DATA_MASK_001,(B,a)=>(B&1)===0)],[Ur.DATA_MASK_010,new St(Ur.DATA_MASK_010,(B,a)=>a%3===0)],[Ur.DATA_MASK_011,new St(Ur.DATA_MASK_011,(B,a)=>(B+a)%3===0)],[Ur.DATA_MASK_100,new St(Ur.DATA_MASK_100,(B,a)=>(Math.floor(B/2)+Math.floor(a/3)&1)===0)],[Ur.DATA_MASK_101,new St(Ur.DATA_MASK_101,(B,a)=>B*a%6===0)],[Ur.DATA_MASK_110,new St(Ur.DATA_MASK_110,(B,a)=>B*a%6<3)],[Ur.DATA_MASK_111,new St(Ur.DATA_MASK_111,(B,a)=>(B+a+B*a%3&1)===0)]]);class Qd{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new H;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const l=this.bitMatrix.getHeight();let u=0;const h=l-7;for(let g=l-1;g>=h;g--)u=this.copyBit(8,g,u);for(let g=l-8;g<l;g++)u=this.copyBit(g,8,u);if(this.parsedFormatInfo=dn.decodeFormatInformation(a,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return ot.getVersionForNumber(l);let u=0;const h=a-11;for(let y=5;y>=0;y--)for(let E=a-9;E>=h;E--)u=this.copyBit(E,y,u);let g=ot.decodeVersionInformation(u);if(g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;u=0;for(let y=5;y>=0;y--)for(let E=a-9;E>=h;E--)u=this.copyBit(y,E,u);if(g=ot.decodeVersionInformation(u),g!==null&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new H}copyBit(a,l,u){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?u<<1|1:u<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),u=St.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,h);const g=l.buildFunctionPattern();let y=!0;const E=new Uint8Array(l.getTotalCodewords());let C=0,T=0,D=0;for(let F=h-1;F>0;F-=2){F===6&&F--;for(let $=0;$<h;$++){const G=y?h-1-$:$;for(let Y=0;Y<2;Y++)g.get(F-Y,G)||(D++,T<<=1,this.bitMatrix.get(F-Y,G)&&(T|=1),D===8&&(E[C++]=T,D=0,T=0))}y=!y}if(C!==l.getTotalCodewords())throw new H;return E}remask(){if(this.parsedFormatInfo===null)return;const a=St.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,u=a.getWidth();l<u;l++)for(let h=l+1,g=a.getHeight();h<g;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class kl{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,u){if(a.length!==l.getTotalCodewords())throw new b;const h=l.getECBlocksForLevel(u);let g=0;const y=h.getECBlocks();for(const Y of y)g+=Y.getCount();const E=new Array(g);let C=0;for(const Y of y)for(let ee=0;ee<Y.getCount();ee++){const ae=Y.getDataCodewords(),me=h.getECCodewordsPerBlock()+ae;E[C++]=new kl(ae,new Uint8Array(me))}const T=E[0].codewords.length;let D=E.length-1;for(;D>=0&&E[D].codewords.length!==T;)D--;D++;const F=T-h.getECCodewordsPerBlock();let $=0;for(let Y=0;Y<F;Y++)for(let ee=0;ee<C;ee++)E[ee].codewords[Y]=a[$++];for(let Y=D;Y<C;Y++)E[Y].codewords[F]=a[$++];const G=E[0].codewords.length;for(let Y=F;Y<G;Y++)for(let ee=0;ee<C;ee++){const ae=ee<D?Y:Y+1;E[ee].codewords[ae]=a[$++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Hn;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(Hn||(Hn={}));class ct{constructor(a,l,u,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=u,this.bits=h,ct.FOR_BITS.set(h,this),ct.FOR_VALUE.set(a,this)}static forBits(a){const l=ct.FOR_BITS.get(a);if(l===void 0)throw new b;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let u;return l<=9?u=0:l<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof ct))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}ct.FOR_BITS=new Map,ct.FOR_VALUE=new Map,ct.TERMINATOR=new ct(Hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ct.NUMERIC=new ct(Hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ct.ALPHANUMERIC=new ct(Hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ct.STRUCTURED_APPEND=new ct(Hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ct.BYTE=new ct(Hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ct.ECI=new ct(Hn.ECI,"ECI",Int32Array.from([0,0,0]),7),ct.KANJI=new ct(Hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ct.FNC1_FIRST_POSITION=new ct(Hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ct.FNC1_SECOND_POSITION=new ct(Hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ct.HANZI=new ct(Hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class cr{static decode(a,l,u,h){const g=new Jc(a);let y=new Ae;const E=new Array;let C=-1,T=-1;try{let D=null,F=!1,$;do{if(g.available()<4)$=ct.TERMINATOR;else{const G=g.readBits(4);$=ct.forBits(G)}switch($){case ct.TERMINATOR:break;case ct.FNC1_FIRST_POSITION:case ct.FNC1_SECOND_POSITION:F=!0;break;case ct.STRUCTURED_APPEND:if(g.available()<16)throw new H;C=g.readBits(8),T=g.readBits(8);break;case ct.ECI:const G=cr.parseECIValue(g);if(D=X.getCharacterSetECIByValue(G),D===null)throw new H;break;case ct.HANZI:const Y=g.readBits(4),ee=g.readBits($.getCharacterCountBits(l));Y===cr.GB2312_SUBSET&&cr.decodeHanziSegment(g,y,ee);break;default:const ae=g.readBits($.getCharacterCountBits(l));switch($){case ct.NUMERIC:cr.decodeNumericSegment(g,y,ae);break;case ct.ALPHANUMERIC:cr.decodeAlphanumericSegment(g,y,ae,F);break;case ct.BYTE:cr.decodeByteSegment(g,y,ae,D,E,h);break;case ct.KANJI:cr.decodeKanjiSegment(g,y,ae);break;default:throw new H}break}}while($!==ct.TERMINATOR)}catch{throw new H}return new se(a,y.toString(),E.length===0?null:E,u===null?null:u.toString(),C,T)}static decodeHanziSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=a.readBits(13);let E=y/96<<8&4294967295|y%96;E<959?E+=41377:E+=42657,h[g]=E>>8&255,h[g+1]=E&255,g+=2,u--}try{l.append(ue.decode(h,de.GB2312))}catch(y){throw new H(y)}}static decodeKanjiSegment(a,l,u){if(u*13>a.available())throw new H;const h=new Uint8Array(2*u);let g=0;for(;u>0;){const y=a.readBits(13);let E=y/192<<8&4294967295|y%192;E<7936?E+=33088:E+=49472,h[g]=E>>8,h[g+1]=E,g+=2,u--}try{l.append(ue.decode(h,de.SHIFT_JIS))}catch(y){throw new H(y)}}static decodeByteSegment(a,l,u,h,g,y){if(8*u>a.available())throw new H;const E=new Uint8Array(u);for(let T=0;T<u;T++)E[T]=a.readBits(8);let C;h===null?C=de.guessEncoding(E,y):C=h.getName();try{l.append(ue.decode(E,C))}catch(T){throw new H(T)}g.push(E)}static toAlphaNumericChar(a){if(a>=cr.ALPHANUMERIC_CHARS.length)throw new H;return cr.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,h){const g=l.length();for(;u>1;){if(a.available()<11)throw new H;const y=a.readBits(11);l.append(cr.toAlphaNumericChar(Math.floor(y/45))),l.append(cr.toAlphaNumericChar(y%45)),u-=2}if(u===1){if(a.available()<6)throw new H;l.append(cr.toAlphaNumericChar(a.readBits(6)))}if(h)for(let y=g;y<l.length();y++)l.charAt(y)==="%"&&(y<l.length()-1&&l.charAt(y+1)==="%"?l.deleteCharAt(y+1):l.setCharAt(y,""))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new H;const h=a.readBits(10);if(h>=1e3)throw new H;l.append(cr.toAlphaNumericChar(Math.floor(h/100))),l.append(cr.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(cr.toAlphaNumericChar(h%10)),u-=3}if(u===2){if(a.available()<7)throw new H;const h=a.readBits(7);if(h>=100)throw new H;l.append(cr.toAlphaNumericChar(Math.floor(h/10))),l.append(cr.toAlphaNumericChar(h%10))}else if(u===1){if(a.available()<4)throw new H;const h=a.readBits(4);if(h>=10)throw new H;l.append(cr.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const u=a.readBits(8);return(l&63)<<8&4294967295|u}if((l&224)===192){const u=a.readBits(16);return(l&31)<<16&4294967295|u}throw new H}}cr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",cr.GB2312_SUBSET=1;class eu{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class tu{constructor(){this.rsDecoder=new Ft(He.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(ke.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const u=new Qd(a);let h=null;try{return this.decodeBitMatrixParser(u,l)}catch(g){h=g}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const g=this.decodeBitMatrixParser(u,l);return g.setOther(new eu(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(a,l){const u=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),y=kl.getDataBlocks(g,u,h);let E=0;for(const D of y)E+=D.getNumDataCodewords();const C=new Uint8Array(E);let T=0;for(const D of y){const F=D.getCodewords(),$=D.getNumDataCodewords();this.correctErrors(F,$);for(let G=0;G<$;G++)C[T++]=F[G]}return cr.decode(C,u,h,l)}correctErrors(a,l){const u=new Int32Array(a);try{this.rsDecoder.decode(u,a.length-l)}catch{throw new _}for(let h=0;h<l;h++)a[h]=u[h]}}class Us extends $e{constructor(a,l,u){super(a,l),this.estimatedModuleSize=u}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=(this.getX()+l)/2,g=(this.getY()+a)/2,y=(this.estimatedModuleSize+u)/2;return new Us(h,g,y)}}class Ii{constructor(a,l,u,h,g,y,E){this.image=a,this.startX=l,this.startY=u,this.width=h,this.height=g,this.moduleSize=y,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,u=this.width,h=a+u,g=this.startY+l/2,y=new Int32Array(3),E=this.image;for(let C=0;C<l;C++){const T=g+((C&1)===0?Math.floor((C+1)/2):-Math.floor((C+1)/2));y[0]=0,y[1]=0,y[2]=0;let D=a;for(;D<h&&!E.get(D,T);)D++;let F=0;for(;D<h;){if(E.get(D,T))if(F===1)y[1]++;else if(F===2){if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,D);if($!==null)return $}y[0]=y[2],y[1]=1,y[2]=0,F=1}else y[++F]++;else F===1&&F++,y[F]++;D++}if(this.foundPatternCross(y)){const $=this.handlePossibleCenter(y,T,h);if($!==null)return $}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,u=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=u)return!1;return!0}crossCheckVertical(a,l,u,h){const g=this.image,y=g.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let C=a;for(;C>=0&&g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&!g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<y&&g.get(l,C)&&E[1]<=u;)E[1]++,C++;if(C===y||E[1]>u)return NaN;for(;C<y&&!g.get(l,C)&&E[2]<=u;)E[2]++,C++;if(E[2]>u)return NaN;const T=E[0]+E[1]+E[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(E)?Ii.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u){const h=a[0]+a[1]+a[2],g=Ii.centerFromEnd(a,u),y=this.crossCheckVertical(l,g,2*a[1],h);if(!isNaN(y)){const E=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(E,y,g))return T.combineEstimate(y,g,E);const C=new Us(g,y,E);this.possibleCenters.push(C),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(C)}return null}}class Ki extends $e{constructor(a,l,u,h){super(a,l),this.estimatedModuleSize=u,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,u){if(Math.abs(l-this.getY())<=a&&Math.abs(u-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,u){const h=this.count+1,g=(this.count*this.getX()+l)/h,y=(this.count*this.getY()+a)/h,E=(this.count*this.estimatedModuleSize+u)/h;return new Ki(g,y,E,h)}}class ja{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ar{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(V.TRY_HARDER)!==void 0,u=a!=null&&a.get(V.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),y=h.getWidth();let E=Math.floor(3*g/(4*Ar.MAX_MODULES));(E<Ar.MIN_SKIP||l)&&(E=Ar.MIN_SKIP);let C=!1;const T=new Int32Array(5);for(let F=E-1;F<g&&!C;F+=E){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let $=0;for(let G=0;G<y;G++)if(h.get(G,F))($&1)===1&&$++,T[$]++;else if(($&1)===0)if($===4)if(Ar.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,G,u)===!0)if(E=2,this.hasSkipped===!0)C=this.haveMultiplyConfirmedCenters();else{const ee=this.findRowSkip();ee>T[2]&&(F+=ee-T[2]-E,G=y-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;continue}$=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,$=3;else T[++$]++;else T[$]++;Ar.foundPatternCross(T)&&this.handlePossibleCenter(T,F,y,u)===!0&&(E=T[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return $e.orderBestPatterns(D),new ja(D)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let g=0;g<5;g++){const y=a[g];if(y===0)return!1;l+=y}if(l<7)return!1;const u=l/7,h=u/2;return Math.abs(u-a[0])<h&&Math.abs(u-a[1])<h&&Math.abs(3*u-a[2])<3*h&&Math.abs(u-a[3])<h&&Math.abs(u-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,h){const g=this.getCrossCheckStateCount();let y=0;const E=this.image;for(;a>=y&&l>=y&&E.get(l-y,a-y);)g[2]++,y++;if(a<y||l<y)return!1;for(;a>=y&&l>=y&&!E.get(l-y,a-y)&&g[1]<=u;)g[1]++,y++;if(a<y||l<y||g[1]>u)return!1;for(;a>=y&&l>=y&&E.get(l-y,a-y)&&g[0]<=u;)g[0]++,y++;if(g[0]>u)return!1;const C=E.getHeight(),T=E.getWidth();for(y=1;a+y<C&&l+y<T&&E.get(l+y,a+y);)g[2]++,y++;if(a+y>=C||l+y>=T)return!1;for(;a+y<C&&l+y<T&&!E.get(l+y,a+y)&&g[3]<u;)g[3]++,y++;if(a+y>=C||l+y>=T||g[3]>=u)return!1;for(;a+y<C&&l+y<T&&E.get(l+y,a+y)&&g[4]<u;)g[4]++,y++;if(g[4]>=u)return!1;const D=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(D-h)<2*h&&Ar.foundPatternCross(g)}crossCheckVertical(a,l,u,h){const g=this.image,y=g.getHeight(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(l,C);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(l,C)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(l,C)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<y&&g.get(l,C);)E[2]++,C++;if(C===y)return NaN;for(;C<y&&!g.get(l,C)&&E[3]<u;)E[3]++,C++;if(C===y||E[3]>=u)return NaN;for(;C<y&&g.get(l,C)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=2*h?NaN:Ar.foundPatternCross(E)?Ar.centerFromEnd(E,C):NaN}crossCheckHorizontal(a,l,u,h){const g=this.image,y=g.getWidth(),E=this.getCrossCheckStateCount();let C=a;for(;C>=0&&g.get(C,l);)E[2]++,C--;if(C<0)return NaN;for(;C>=0&&!g.get(C,l)&&E[1]<=u;)E[1]++,C--;if(C<0||E[1]>u)return NaN;for(;C>=0&&g.get(C,l)&&E[0]<=u;)E[0]++,C--;if(E[0]>u)return NaN;for(C=a+1;C<y&&g.get(C,l);)E[2]++,C++;if(C===y)return NaN;for(;C<y&&!g.get(C,l)&&E[3]<u;)E[3]++,C++;if(C===y||E[3]>=u)return NaN;for(;C<y&&g.get(C,l)&&E[4]<u;)E[4]++,C++;if(E[4]>=u)return NaN;const T=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(T-h)>=h?NaN:Ar.foundPatternCross(E)?Ar.centerFromEnd(E,C):NaN}handlePossibleCenter(a,l,u,h){const g=a[0]+a[1]+a[2]+a[3]+a[4];let y=Ar.centerFromEnd(a,u),E=this.crossCheckVertical(l,Math.floor(y),a[2],g);if(!isNaN(E)&&(y=this.crossCheckHorizontal(Math.floor(y),Math.floor(E),a[2],g),!isNaN(y)&&(!h||this.crossCheckDiagonal(Math.floor(E),Math.floor(y),a[2],g)))){const C=g/7;let T=!1;const D=this.possibleCenters;for(let F=0,$=D.length;F<$;F++){const G=D[F];if(G.aboutEquals(C,E,y)){D[F]=G.combineEstimate(E,y,C),T=!0;break}}if(!T){const F=new Ki(y,E,C);D.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=Ar.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const y of this.possibleCenters)y.getCount()>=Ar.CENTER_QUORUM&&(a++,l+=y.getEstimatedModuleSize());if(a<3)return!1;const h=l/u;let g=0;for(const y of this.possibleCenters)g+=Math.abs(y.getEstimatedModuleSize()-h);return g<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new te;const l=this.possibleCenters;let u;if(a>3){let h=0,g=0;for(const C of this.possibleCenters){const T=C.getEstimatedModuleSize();h+=T,g+=T*T}u=h/a;let y=Math.sqrt(g/a-u*u);l.sort((C,T)=>{const D=Math.abs(T.getEstimatedModuleSize()-u),F=Math.abs(C.getEstimatedModuleSize()-u);return D<F?-1:D>F?1:0});const E=Math.max(.2*u,y);for(let C=0;C<l.length&&l.length>3;C++){const T=l[C];Math.abs(T.getEstimatedModuleSize()-u)>E&&(l.splice(C,1),C--)}}if(l.length>3){let h=0;for(const g of l)h+=g.getEstimatedModuleSize();u=h/l.length,l.sort((g,y)=>{if(y.getCount()===g.getCount()){const E=Math.abs(y.getEstimatedModuleSize()-u),C=Math.abs(g.getEstimatedModuleSize()-u);return E<C?1:E>C?-1:0}else return y.getCount()-g.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Ar.CENTER_QUORUM=2,Ar.MIN_SKIP=3,Ar.MAX_MODULES=57;class ha{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(V.NEED_RESULT_POINT_CALLBACK);const u=new Ar(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(u)}processFinderPatternInfo(a){const l=a.getTopLeft(),u=a.getTopRight(),h=a.getBottomLeft(),g=this.calculateModuleSize(l,u,h);if(g<1)throw new te("No pattern found in proccess finder.");const y=ha.computeDimension(l,u,h,g),E=ot.getProvisionalVersionForDimension(y),C=E.getDimensionForVersion()-7;let T=null;if(E.getAlignmentPatternCenters().length>0){const G=u.getX()-l.getX()+h.getX(),Y=u.getY()-l.getY()+h.getY(),ee=1-3/C,ae=Math.floor(l.getX()+ee*(G-l.getX())),me=Math.floor(l.getY()+ee*(Y-l.getY()));for(let je=4;je<=16;je<<=1)try{T=this.findAlignmentInRegion(g,ae,me,je);break}catch(Re){if(!(Re instanceof te))throw Re}}const D=ha.createTransform(l,u,h,T,y),F=ha.sampleGrid(this.image,D,y);let $;return T===null?$=[h,l,u]:$=[h,l,u,T],new _e(F,$)}static createTransform(a,l,u,h,g){const y=g-3.5;let E,C,T,D;return h!==null?(E=h.getX(),C=h.getY(),T=y-3,D=T):(E=l.getX()-a.getX()+u.getX(),C=l.getY()-a.getY()+u.getY(),T=y,D=y),zt.quadrilateralToQuadrilateral(3.5,3.5,y,3.5,T,D,3.5,y,a.getX(),a.getY(),l.getX(),l.getY(),E,C,u.getX(),u.getY())}static sampleGrid(a,l,u){return Wn.getInstance().sampleGridWithTransform(a,u,u,l)}static computeDimension(a,l,u,h){const g=_t.round($e.distance(a,l)/h),y=_t.round($e.distance(a,u)/h);let E=Math.floor((g+y)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new te("Dimensions could be not found.")}return E}calculateModuleSize(a,l,u){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,u))/2}calculateModuleSizeOneWay(a,l){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(u)?h/7:isNaN(h)?u/7:(u+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,u,h){let g=this.sizeOfBlackWhiteBlackRun(a,l,u,h),y=1,E=a-(u-a);E<0?(y=a/(a-E),E=0):E>=this.image.getWidth()&&(y=(this.image.getWidth()-1-a)/(E-a),E=this.image.getWidth()-1);let C=Math.floor(l-(h-l)*y);return y=1,C<0?(y=l/(l-C),C=0):C>=this.image.getHeight()&&(y=(this.image.getHeight()-1-l)/(C-l),C=this.image.getHeight()-1),E=Math.floor(a+(E-a)*y),g+=this.sizeOfBlackWhiteBlackRun(a,l,E,C),g-1}sizeOfBlackWhiteBlackRun(a,l,u,h){const g=Math.abs(h-l)>Math.abs(u-a);if(g){let G=a;a=l,l=G,G=u,u=h,h=G}const y=Math.abs(u-a),E=Math.abs(h-l);let C=-y/2;const T=a<u?1:-1,D=l<h?1:-1;let F=0;const $=u+T;for(let G=a,Y=l;G!==$;G+=T){const ee=g?Y:G,ae=g?G:Y;if(F===1===this.image.get(ee,ae)){if(F===2)return _t.distance(G,Y,a,l);F++}if(C+=E,C>0){if(Y===h)break;Y+=D,C-=y}}return F===2?_t.distance(u+T,h,a,l):NaN}findAlignmentInRegion(a,l,u,h){const g=Math.floor(h*a),y=Math.max(0,l-g),E=Math.min(this.image.getWidth()-1,l+g);if(E-y<a*3)throw new te("Alignment top exceeds estimated module size.");const C=Math.max(0,u-g),T=Math.min(this.image.getHeight()-1,u+g);if(T-C<a*3)throw new te("Alignment bottom exceeds estimated module size.");return new Ii(this.image,y,C,E-y,T-C,a,this.resultPointCallback).find()}}class jn{constructor(){this.decoder=new tu}getDecoder(){return this.decoder}decode(a,l){let u,h;if(l!=null&&l.get(V.PURE_BARCODE)!==void 0){const C=jn.extractPureBits(a.getBlackMatrix());u=this.decoder.decodeBitMatrix(C,l),h=jn.NO_POINTS}else{const C=new ha(a.getBlackMatrix()).detect(l);u=this.decoder.decodeBitMatrix(C.getBits(),l),h=C.getPoints()}u.getOther()instanceof eu&&u.getOther().applyMirroredCorrection(h);const g=new Fe(u.getText(),u.getRawBytes(),void 0,h,Ie.QR_CODE,void 0),y=u.getByteSegments();y!==null&&g.putMetadata(ye.BYTE_SEGMENTS,y);const E=u.getECLevel();return E!==null&&g.putMetadata(ye.ERROR_CORRECTION_LEVEL,E),u.hasStructuredAppend()&&(g.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),g.putMetadata(ye.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(l===null||u===null)throw new te;const h=this.moduleSize(l,a);let g=l[1],y=u[1],E=l[0],C=u[0];if(E>=C||g>=y)throw new te;if(y-g!==C-E&&(C=E+(y-g),C>=a.getWidth()))throw new te;const T=Math.round((C-E+1)/h),D=Math.round((y-g+1)/h);if(T<=0||D<=0)throw new te;if(D!==T)throw new te;const F=Math.floor(h/2);g+=F,E+=F;const $=E+Math.floor((T-1)*h)-C;if($>0){if($>F)throw new te;E-=$}const G=g+Math.floor((D-1)*h)-y;if(G>0){if(G>F)throw new te;g-=G}const Y=new ke(T,D);for(let ee=0;ee<D;ee++){const ae=g+Math.floor(ee*h);for(let me=0;me<T;me++)a.get(E+Math.floor(me*h),ae)&&Y.set(me,ee)}return Y}static moduleSize(a,l){const u=l.getHeight(),h=l.getWidth();let g=a[0],y=a[1],E=!0,C=0;for(;g<h&&y<u;){if(E!==l.get(g,y)){if(++C===5)break;E=!E}g++,y++}if(g===h||y===u)throw new te;return(g-a[0])/7}}jn.NO_POINTS=new Array;class pt{PDF417Common(){}static getBitCountSum(a){return _t.sum(a)}static toIntArray(a){if(a==null||!a.length)return pt.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let u=0;for(const h of a)l[u++]=h;return l}static getCodeword(a){const l=L.binarySearch(pt.SYMBOL_TABLE,a&262143);return l<0?-1:(pt.CODEWORD_TABLE[l]-1)%pt.NUMBER_OF_CODEWORDS}}pt.NUMBER_OF_CODEWORDS=929,pt.MAX_CODEWORDS_IN_BARCODE=pt.NUMBER_OF_CODEWORDS-1,pt.MIN_ROWS_IN_BARCODE=3,pt.MAX_ROWS_IN_BARCODE=90,pt.MODULES_IN_CODEWORD=17,pt.MODULES_IN_STOP_PATTERN=18,pt.BARS_IN_MODULE=8,pt.EMPTY_INT_ARRAY=new Int32Array([]),pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Jd{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class yt{static detectMultiple(a,l,u){let h=a.getBlackMatrix(),g=yt.detect(u,h);return g.length||(h=h.clone(),h.rotate180(),g=yt.detect(u,h)),new Jd(h,g)}static detect(a,l){const u=new Array;let h=0,g=0,y=!1;for(;h<l.getHeight();){const E=yt.findVertices(l,h,g);if(E[0]==null&&E[3]==null){if(!y)break;y=!1,g=0;for(const C of u)C[1]!=null&&(h=Math.trunc(Math.max(h,C[1].getY()))),C[3]!=null&&(h=Math.max(h,Math.trunc(C[3].getY())));h+=yt.ROW_STEP;continue}if(y=!0,u.push(E),!a)break;E[2]!=null?(g=Math.trunc(E[2].getX()),h=Math.trunc(E[2].getY())):(g=Math.trunc(E[4].getX()),h=Math.trunc(E[4].getY()))}return u}static findVertices(a,l,u){const h=a.getHeight(),g=a.getWidth(),y=new Array(8);return yt.copyToResult(y,yt.findRowsWithPattern(a,h,g,l,u,yt.START_PATTERN),yt.INDEXES_START_PATTERN),y[4]!=null&&(u=Math.trunc(y[4].getX()),l=Math.trunc(y[4].getY())),yt.copyToResult(y,yt.findRowsWithPattern(a,h,g,l,u,yt.STOP_PATTERN),yt.INDEXES_STOP_PATTERN),y}static copyToResult(a,l,u){for(let h=0;h<u.length;h++)a[u[h]]=l[h]}static findRowsWithPattern(a,l,u,h,g,y){const E=new Array(4);let C=!1;const T=new Int32Array(y.length);for(;h<l;h+=yt.ROW_STEP){let F=yt.findGuardPattern(a,g,h,u,!1,y,T);if(F!=null){for(;h>0;){const $=yt.findGuardPattern(a,g,--h,u,!1,y,T);if($!=null)F=$;else{h++;break}}E[0]=new $e(F[0],h),E[1]=new $e(F[1],h),C=!0;break}}let D=h+1;if(C){let F=0,$=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;D<l;D++){const G=yt.findGuardPattern(a,$[0],D,u,!1,y,T);if(G!=null&&Math.abs($[0]-G[0])<yt.MAX_PATTERN_DRIFT&&Math.abs($[1]-G[1])<yt.MAX_PATTERN_DRIFT)$=G,F=0;else{if(F>yt.SKIPPED_ROW_COUNT_MAX)break;F++}}D-=F+1,E[2]=new $e($[0],D),E[3]=new $e($[1],D)}return D-h<yt.BARCODE_MIN_HEIGHT&&L.fill(E,null),E}static findGuardPattern(a,l,u,h,g,y,E){L.fillWithin(E,0,E.length,0);let C=l,T=0;for(;a.get(C,u)&&C>0&&T++<yt.MAX_PIXEL_DRIFT;)C--;let D=C,F=0,$=y.length;for(let G=g;D<h;D++)if(a.get(D,u)!==G)E[F]++;else{if(F===$-1){if(yt.patternMatchVariance(E,y,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return new Int32Array([C,D]);C+=E[0]+E[1],O.arraycopy(E,2,E,0,F-1),E[F-1]=0,E[F]=0,F--}else F++;E[F]=1,G=!G}return F===$-1&&yt.patternMatchVariance(E,y,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE?new Int32Array([C,D-1]):null}static patternMatchVariance(a,l,u){let h=a.length,g=0,y=0;for(let T=0;T<h;T++)g+=a[T],y+=l[T];if(g<y)return 1/0;let E=g/y;u*=E;let C=0;for(let T=0;T<h;T++){let D=a[T],F=l[T]*E,$=D>F?D-F:F-D;if($>u)return 1/0;C+=$}return C/g}}yt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),yt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),yt.MAX_AVG_VARIANCE=.42,yt.MAX_INDIVIDUAL_VARIANCE=.8,yt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),yt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),yt.MAX_PIXEL_DRIFT=3,yt.MAX_PATTERN_DRIFT=5,yt.SKIPPED_ROW_COUNT_MAX=25,yt.ROW_STEP=5,yt.BARCODE_MIN_HEIGHT=10;class fn{constructor(a,l){if(l.length===0)throw new b;this.field=a;let u=l.length;if(u>1&&l[0]===0){let h=1;for(;h<u&&l[h]===0;)h++;h===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-h),O.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let l=this.coefficients[0],u=this.coefficients.length;for(let h=1;h<u;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,u=a.coefficients;if(l.length>u.length){let y=l;l=u,u=y}let h=new Int32Array(u.length),g=u.length-l.length;O.arraycopy(u,0,h,0,g);for(let y=g;y<u.length;y++)h[y]=this.field.add(l[y-g],u[y]);return new fn(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof fn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new fn(this.field,new Int32Array([0]));let l=this.coefficients,u=l.length,h=a.coefficients,g=h.length,y=new Int32Array(u+g-1);for(let E=0;E<u;E++){let C=l[E];for(let T=0;T<g;T++)y[E+T]=this.field.add(y[E+T],this.field.multiply(C,h[T]))}return new fn(this.field,y)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.subtract(0,this.coefficients[u]);return new fn(this.field,l)}multiplyScalar(a){if(a===0)return new fn(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,u=new Int32Array(l);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],a);return new fn(this.field,u)}multiplyByMonomial(a,l){if(a<0)throw new b;if(l===0)return new fn(this.field,new Int32Array([0]));let u=this.coefficients.length,h=new Int32Array(u+a);for(let g=0;g<u;g++)h[g]=this.field.multiply(this.coefficients[g],l);return new fn(this.field,h)}toString(){let a=new Ae;for(let l=this.getDegree();l>=0;l--){let u=this.getCoefficient(l);u!==0&&(u<0?(a.append(" - "),u=-u):a.length()>0&&a.append(" + "),(l===0||u!==1)&&a.append(u),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class ef{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new b;return this.logTable[a]}inverse(a){if(a===0)throw new we;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class zs extends ef{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let u=1;for(let h=0;h<a;h++)this.expTable[h]=u,u=u*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new fn(this,new Int32Array([0])),this.one=new fn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new b;if(l===0)return this.zero;let u=new Int32Array(a+1);return u[0]=l,new fn(this,u)}}zs.PDF417_GF=new zs(pt.NUMBER_OF_CODEWORDS,3);class ru{constructor(){this.field=zs.PDF417_GF}decode(a,l,u){let h=new fn(this.field,a),g=new Int32Array(l),y=!1;for(let Y=l;Y>0;Y--){let ee=h.evaluateAt(this.field.exp(Y));g[l-Y]=ee,ee!==0&&(y=!0)}if(!y)return 0;let E=this.field.getOne();if(u!=null)for(const Y of u){let ee=this.field.exp(a.length-1-Y),ae=new fn(this.field,new Int32Array([this.field.subtract(0,ee),1]));E=E.multiply(ae)}let C=new fn(this.field,g),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),C,l),D=T[0],F=T[1],$=this.findErrorLocations(D),G=this.findErrorMagnitudes(F,D,$);for(let Y=0;Y<$.length;Y++){let ee=a.length-1-this.field.log($[Y]);if(ee<0)throw _.getChecksumInstance();a[ee]=this.field.subtract(a[ee],G[Y])}return $.length}runEuclideanAlgorithm(a,l,u){if(a.getDegree()<l.getDegree()){let $=a;a=l,l=$}let h=a,g=l,y=this.field.getZero(),E=this.field.getOne();for(;g.getDegree()>=Math.round(u/2);){let $=h,G=y;if(h=g,y=E,h.isZero())throw _.getChecksumInstance();g=$;let Y=this.field.getZero(),ee=h.getCoefficient(h.getDegree()),ae=this.field.inverse(ee);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let me=g.getDegree()-h.getDegree(),je=this.field.multiply(g.getCoefficient(g.getDegree()),ae);Y=Y.add(this.field.buildMonomial(me,je)),g=g.subtract(h.multiplyByMonomial(me,je))}E=Y.multiply(y).subtract(G).negative()}let C=E.getCoefficient(0);if(C===0)throw _.getChecksumInstance();let T=this.field.inverse(C),D=E.multiply(T),F=g.multiply(T);return[D,F]}findErrorLocations(a){let l=a.getDegree(),u=new Int32Array(l),h=0;for(let g=1;g<this.field.getSize()&&h<l;g++)a.evaluateAt(g)===0&&(u[h]=this.field.inverse(g),h++);if(h!==l)throw _.getChecksumInstance();return u}findErrorMagnitudes(a,l,u){let h=l.getDegree(),g=new Int32Array(h);for(let T=1;T<=h;T++)g[h-T]=this.field.multiply(T,l.getCoefficient(T));let y=new fn(this.field,g),E=u.length,C=new Int32Array(E);for(let T=0;T<E;T++){let D=this.field.inverse(u[T]),F=this.field.subtract(0,a.evaluateAt(D)),$=this.field.inverse(y.evaluateAt(D));C[T]=this.field.multiply(F,$)}return C}}class es{constructor(a,l,u,h,g){a instanceof es?this.constructor_2(a):this.constructor_1(a,l,u,h,g)}constructor_1(a,l,u,h,g){const y=l==null||u==null,E=h==null||g==null;if(y&&E)throw new te;y?(l=new $e(0,h.getY()),u=new $e(0,g.getY())):E&&(h=new $e(a.getWidth()-1,l.getY()),g=new $e(a.getWidth()-1,u.getY())),this.image=a,this.topLeft=l,this.bottomLeft=u,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),u.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(u.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new es(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,u){let h=this.topLeft,g=this.bottomLeft,y=this.topRight,E=this.bottomRight;if(a>0){let C=u?this.topLeft:this.topRight,T=Math.trunc(C.getY()-a);T<0&&(T=0);let D=new $e(C.getX(),T);u?h=D:y=D}if(l>0){let C=u?this.bottomLeft:this.bottomRight,T=Math.trunc(C.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let D=new $e(C.getX(),T);u?g=D:E=D}return new es(this.image,h,g,y,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Co{constructor(a,l,u,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=u,this.rowCount=l+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class pa{constructor(){this.buffer=""}static form(a,l){let u=-1;function h(y,E,C,T,D,F){if(y==="%%")return"%";if(l[++u]===void 0)return;y=T?parseInt(T.substr(1)):void 0;let $=D?parseInt(D.substr(1)):void 0,G;switch(F){case"s":G=l[u];break;case"c":G=l[u][0];break;case"f":G=parseFloat(l[u]).toFixed(y);break;case"p":G=parseFloat(l[u]).toPrecision(y);break;case"e":G=parseFloat(l[u]).toExponential(y);break;case"x":G=parseInt(l[u]).toString($||16);break;case"d":G=parseFloat(parseInt(l[u],$||10).toPrecision(y)).toFixed(0);break}G=typeof G=="object"?JSON.stringify(G):(+G).toString($);let Y=parseInt(C),ee=C&&C[0]+""=="0"?"0":" ";for(;G.length<Y;)G=E!==void 0?G+ee:ee+G;return G}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(g,h)}format(a,...l){this.buffer+=pa.form(a,l)}toString(){return this.buffer}}class Xi{constructor(a){this.boundingBox=new es(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let u=1;u<Xi.MAX_NEARBY_DISTANCE;u++){let h=this.imageRowToCodewordIndex(a)-u;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+u,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new pa;let l=0;for(const u of this.codewords){if(u==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}return a.toString()}}Xi.MAX_NEARBY_DISTANCE=5;class Ra{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[u,h]of this.values.entries()){const g={getKey:()=>u,getValue:()=>h};g.getValue()>a?(a=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===a&&l.push(g.getKey())}return pt.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class tf extends Xi{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),g=this._isLeft?u.getBottomLeft():u.getBottomRight(),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.imageRowToCodewordIndex(Math.trunc(g.getY())),C=-1,T=1,D=0;for(let F=y;F<E;F++){if(l[F]==null)continue;let $=l[F],G=$.getRowNumber()-C;if(G===0)D++;else if(G===1)T=Math.max(T,D),D=1,C=$.getRowNumber();else if(G<0||$.getRowNumber()>=a.getRowCount()||G>F)l[F]=null;else{let Y;T>2?Y=(T-2)*G:Y=G;let ee=Y>=F;for(let ae=1;ae<=Y&&!ee;ae++)ee=l[F-ae]!=null;ee?l[F]=null:(C=$.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let u of this.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=this.getCodewords(),C=-1;for(let T=g;T<y;T++){if(E[T]==null)continue;let D=E[T];D.setRowNumberAsRowIndicatorColumn();let F=D.getRowNumber()-C;F===0||(F===1?C=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?E[T]=null:C=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new Ra,u=new Ra,h=new Ra,g=new Ra;for(let E of a){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let C=E.getValue()%30,T=E.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:u.setValue(C*3+1);break;case 1:g.setValue(C/3),h.setValue(C%3);break;case 2:l.setValue(C+1);break}}if(l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||g.getValue().length===0||l.getValue()[0]<1||u.getValue()[0]+h.getValue()[0]<pt.MIN_ROWS_IN_BARCODE||u.getValue()[0]+h.getValue()[0]>pt.MAX_ROWS_IN_BARCODE)return null;let y=new Co(l.getValue()[0],u.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,y),y}removeIncorrectCodewords(a,l){for(let u=0;u<a.length;u++){let h=a[u];if(a[u]==null)continue;let g=h.getValue()%30,y=h.getRowNumber();if(y>l.getRowCount()){a[u]=null;continue}switch(this._isLeft||(y+=2),y%3){case 0:g*3+1!==l.getRowCountUpperPart()&&(a[u]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(a[u]=null);break;case 2:g+1!==l.getColumnCount()&&(a[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class No{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=pt.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let u=this.detectionResultColumns[l].getCodewords();for(let h=0;h<u.length;h++)u[h]!=null&&(u[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,u))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<a.length;u++)if(a[u]!=null&&l[u]!=null&&a[u].getRowNumber()===l[u].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[u];g!=null&&(g.setRowNumber(a[u].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let y=this.barcodeColumnCount+1;y>0&&g<this.ADJUST_ROW_NUMBER_SKIP;y--){let E=this.detectionResultColumns[y].getCodewords()[u];E!=null&&(g=No.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let u=0;u<l.length;u++){if(l[u]==null)continue;let h=l[u].getRowNumber(),g=0;for(let y=1;y<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;y++){let E=this.detectionResultColumns[y].getCodewords()[u];E!=null&&(g=No.adjustRowNumberIfValid(h,g,E),E.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(a)?(u.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,u){if(!this.detectionResultColumns[a-1])return;let h=u[l],g=this.detectionResultColumns[a-1].getCodewords(),y=g;this.detectionResultColumns[a+1]!=null&&(y=this.detectionResultColumns[a+1].getCodewords());let E=new Array(14);E[2]=g[l],E[3]=y[l],l>0&&(E[0]=u[l-1],E[4]=g[l-1],E[5]=y[l-1]),l>1&&(E[8]=u[l-2],E[10]=g[l-2],E[11]=y[l-2]),l<u.length-1&&(E[1]=u[l+1],E[6]=g[l+1],E[7]=y[l+1]),l<u.length-2&&(E[9]=u[l+2],E[12]=g[l+2],E[13]=y[l+2]);for(let C of E)if(No.adjustRowNumber(h,C))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new pa;for(let u=0;u<a.getCodewords().length;u++){l.format("CW %3d:",u);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[u];if(g==null){l.format("    |   ");continue}l.format(" %3d|%3d",g.getRowNumber(),g.getValue())}l.format("%n")}return l.toString()}}class ts{constructor(a,l,u,h){this.rowNumber=ts.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==ts.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}ts.BARCODE_ROW_UNKNOWN=-1;class hn{static initialize(){for(let a=0;a<pt.SYMBOL_TABLE.length;a++){let l=pt.SYMBOL_TABLE[a],u=l&1;for(let h=0;h<pt.BARS_IN_MODULE;h++){let g=0;for(;(l&1)===u;)g+=1,l>>=1;u=l&1,hn.RATIOS_TABLE[a]||(hn.RATIOS_TABLE[a]=new Array(pt.BARS_IN_MODULE)),hn.RATIOS_TABLE[a][pt.BARS_IN_MODULE-h-1]=Math.fround(g/pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=hn.getDecodedCodewordValue(hn.sampleBitCounts(a));return l!==-1?l:hn.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=_t.sum(a),u=new Int32Array(pt.BARS_IN_MODULE),h=0,g=0;for(let y=0;y<pt.MODULES_IN_CODEWORD;y++){let E=l/(2*pt.MODULES_IN_CODEWORD)+y*l/pt.MODULES_IN_CODEWORD;g+a[h]<=E&&(g+=a[h],h++),u[h]++}return u}static getDecodedCodewordValue(a){let l=hn.getBitValue(a);return pt.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let u=0;u<a.length;u++)for(let h=0;h<a[u];h++)l=l<<1|(u%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=_t.sum(a),u=new Array(pt.BARS_IN_MODULE);if(l>1)for(let y=0;y<u.length;y++)u[y]=Math.fround(a[y]/l);let h=Ai.MAX_VALUE,g=-1;this.bSymbolTableReady||hn.initialize();for(let y=0;y<hn.RATIOS_TABLE.length;y++){let E=0,C=hn.RATIOS_TABLE[y];for(let T=0;T<pt.BARS_IN_MODULE;T++){let D=Math.fround(C[T]-u[T]);if(E+=Math.fround(D*D),E>=h)break}E<h&&(h=E,g=pt.SYMBOL_TABLE[y])}return g}}hn.bSymbolTableReady=!1,hn.RATIOS_TABLE=new Array(pt.SYMBOL_TABLE.length).map(B=>new Array(pt.BARS_IN_MODULE));class Pl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class nu{static parseLong(a,l=void 0){return parseInt(a,l)}}class ma extends m{}ma.kind="NullPointerException";class iu{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,u){if(a==null)throw new ma;if(l<0||l>a.length||u<0||l+u>a.length||l+u<0)throw new k;if(u===0)return;for(let h=0;h<u;h++)this.write(a[l+h])}flush(){}close(){}}class jl extends m{}class rf extends iu{constructor(a=32){if(super(),this.count=0,a<0)throw new b("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let u=this.buf.length<<1;if(u-a<0&&(u=a),u<0){if(a<0)throw new jl;u=M.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,u)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,u){if(l<0||l>a.length||u<0||l+u-a.length>0)throw new k;this.ensureCapacity(this.count+u),O.arraycopy(a,l,this.buf,this.count,u),this.count+=u}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Lt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Lt||(Lt={}));function Oo(){if(typeof window<"u")return window.BigInt||null;if(typeof eh<"u")return eh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Io;function zr(B){if(typeof Io>"u"&&(Io=Oo()),Io===null)throw new Error("BigInt is not supported!");return Io(B)}function $s(){let B=[];B[0]=zr(1);let a=zr(900);B[1]=a;for(let l=2;l<16;l++)B[l]=B[l-1]*a;return B}class ge{static decode(a,l){let u=new Ae(""),h=X.ISO8859_1;u.enableDecoding(h);let g=1,y=a[g++],E=new Pl;for(;g<a[0];){switch(y){case ge.TEXT_COMPACTION_MODE_LATCH:g=ge.textCompaction(a,g,u);break;case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:g=ge.byteCompaction(y,a,h,g,u);break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[g++]);break;case ge.NUMERIC_COMPACTION_MODE_LATCH:g=ge.numericCompaction(a,g,u);break;case ge.ECI_CHARSET:X.getCharacterSetECIByValue(a[g++]);break;case ge.ECI_GENERAL_PURPOSE:g+=2;break;case ge.ECI_USER_DEFINED:g++;break;case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=ge.decodeMacroBlock(a,g,E);break;case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:throw new H;default:g--,g=ge.textCompaction(a,g,u);break}if(g<a.length)y=a[g++];else throw H.getFormatInstance()}if(u.length()===0)throw H.getFormatInstance();let C=new se(null,u.toString(),null,l);return C.setOther(E),C}static decodeMacroBlock(a,l,u){if(l+ge.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw H.getFormatInstance();let h=new Int32Array(ge.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<ge.NUMBER_OF_SEQUENCE_CODEWORDS;E++,l++)h[E]=a[l];u.setSegmentIndex(M.parseInt(ge.decodeBase900toBase10(h,ge.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new Ae;l=ge.textCompaction(a,l,g),u.setFileId(g.toString());let y=-1;for(a[l]===ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(y=l+1);l<a[0];)switch(a[l]){case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Ae;l=ge.textCompaction(a,l+1,E),u.setFileName(E.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let C=new Ae;l=ge.textCompaction(a,l+1,C),u.setSender(C.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new Ae;l=ge.textCompaction(a,l+1,T),u.setAddressee(T.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new Ae;l=ge.numericCompaction(a,l+1,D),u.setSegmentCount(M.parseInt(D.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new Ae;l=ge.numericCompaction(a,l+1,F),u.setTimestamp(nu.parseLong(F.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let $=new Ae;l=ge.numericCompaction(a,l+1,$),u.setChecksum(M.parseInt($.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let G=new Ae;l=ge.numericCompaction(a,l+1,G),u.setFileSize(nu.parseLong(G.toString()));break;default:throw H.getFormatInstance()}break;case ge.MACRO_PDF417_TERMINATOR:l++,u.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(y!==-1){let E=l-y;u.isLastSegment()&&E--,u.setOptionalData(L.copyOfRange(a,y,y+E))}return l}static textCompaction(a,l,u){let h=new Int32Array((a[0]-l)*2),g=new Int32Array((a[0]-l)*2),y=0,E=!1;for(;l<a[0]&&!E;){let C=a[l++];if(C<ge.TEXT_COMPACTION_MODE_LATCH)h[y]=C/30,h[y+1]=C%30,y+=2;else switch(C){case ge.TEXT_COMPACTION_MODE_LATCH:h[y++]=ge.TEXT_COMPACTION_MODE_LATCH;break;case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:l--,E=!0;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[y]=ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,C=a[l++],g[y]=C,y++;break}}return ge.decodeTextCompaction(h,g,y,u),l}static decodeTextCompaction(a,l,u,h){let g=Lt.ALPHA,y=Lt.ALPHA,E=0;for(;E<u;){let C=a[E],T="";switch(g){case Lt.ALPHA:if(C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case ge.LL:g=Lt.LOWER;break;case ge.ML:g=Lt.MIXED;break;case ge.PS:y=g,g=Lt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.LOWER:if(C<26)T=String.fromCharCode(97+C);else switch(C){case 26:T=" ";break;case ge.AS:y=g,g=Lt.ALPHA_SHIFT;break;case ge.ML:g=Lt.MIXED;break;case ge.PS:y=g,g=Lt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.MIXED:if(C<ge.PL)T=ge.MIXED_CHARS[C];else switch(C){case ge.PL:g=Lt.PUNCT;break;case 26:T=" ";break;case ge.LL:g=Lt.LOWER;break;case ge.AL:g=Lt.ALPHA;break;case ge.PS:y=g,g=Lt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.PUNCT:if(C<ge.PAL)T=ge.PUNCT_CHARS[C];else switch(C){case ge.PAL:g=Lt.ALPHA;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.ALPHA_SHIFT:if(g=y,C<26)T=String.fromCharCode(65+C);else switch(C){case 26:T=" ";break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break;case Lt.PUNCT_SHIFT:if(g=y,C<ge.PAL)T=ge.PUNCT_CHARS[C];else switch(C){case ge.PAL:g=Lt.ALPHA;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[E]);break;case ge.TEXT_COMPACTION_MODE_LATCH:g=Lt.ALPHA;break}break}T!==""&&h.append(T),E++}}static byteCompaction(a,l,u,h,g){let y=new rf,E=0,C=0,T=!1;switch(a){case ge.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),F=l[h++];for(;h<l[0]&&!T;)switch(D[E++]=F,C=900*C+F,F=l[h++],F){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(E%5===0&&E>0){for(let $=0;$<6;++$)y.write(Number(zr(C)>>zr(8*(5-$))));C=0,E=0}break}h===l[0]&&F<ge.TEXT_COMPACTION_MODE_LATCH&&(D[E++]=F);for(let $=0;$<E;$++)y.write(D[$]);break;case ge.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!T;){let $=l[h++];if($<ge.TEXT_COMPACTION_MODE_LATCH)E++,C=900*C+$;else switch($){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(E%5===0&&E>0){for(let G=0;G<6;++G)y.write(Number(zr(C)>>zr(8*(5-G))));C=0,E=0}}break}return g.append(ue.decode(y.toByteArray(),u)),h}static numericCompaction(a,l,u){let h=0,g=!1,y=new Int32Array(ge.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!g;){let E=a[l++];if(l===a[0]&&(g=!0),E<ge.TEXT_COMPACTION_MODE_LATCH)y[h]=E,h++;else switch(E){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:l--,g=!0;break}(h%ge.MAX_NUMERIC_CODEWORDS===0||E===ge.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(u.append(ge.decodeBase900toBase10(y,h)),h=0)}return l}static decodeBase900toBase10(a,l){let u=zr(0);for(let g=0;g<l;g++)u+=ge.EXP900[l-g-1]*zr(a[g]);let h=u.toString();if(h.charAt(0)!=="1")throw new H;return h.substring(1)}}ge.TEXT_COMPACTION_MODE_LATCH=900,ge.BYTE_COMPACTION_MODE_LATCH=901,ge.NUMERIC_COMPACTION_MODE_LATCH=902,ge.BYTE_COMPACTION_MODE_LATCH_6=924,ge.ECI_USER_DEFINED=925,ge.ECI_GENERAL_PURPOSE=926,ge.ECI_CHARSET=927,ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ge.MACRO_PDF417_TERMINATOR=922,ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ge.MAX_NUMERIC_CODEWORDS=15,ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ge.PL=25,ge.LL=27,ge.AS=27,ge.ML=28,ge.AL=28,ge.PS=29,ge.PAL=29,ge.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ge.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ge.EXP900=Oo()?$s():[],ge.NUMBER_OF_SEQUENCE_CODEWORDS=2;class bt{constructor(){}static decode(a,l,u,h,g,y,E){let C=new es(a,l,u,h,g),T=null,D=null,F;for(let Y=!0;;Y=!1){if(l!=null&&(T=bt.getRowIndicatorColumn(a,C,l,!0,y,E)),h!=null&&(D=bt.getRowIndicatorColumn(a,C,h,!1,y,E)),F=bt.merge(T,D),F==null)throw te.getNotFoundInstance();let ee=F.getBoundingBox();if(Y&&ee!=null&&(ee.getMinY()<C.getMinY()||ee.getMaxY()>C.getMaxY()))C=ee;else break}F.setBoundingBox(C);let $=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn($,D);let G=T!=null;for(let Y=1;Y<=$;Y++){let ee=G?Y:$-Y;if(F.getDetectionResultColumn(ee)!==void 0)continue;let ae;ee===0||ee===$?ae=new tf(C,ee===0):ae=new Xi(C),F.setDetectionResultColumn(ee,ae);let me=-1,je=me;for(let Re=C.getMinY();Re<=C.getMaxY();Re++){if(me=bt.getStartColumn(F,ee,Re,G),me<0||me>C.getMaxX()){if(je===-1)continue;me=je}let Oe=bt.detectCodeword(a,C.getMinX(),C.getMaxX(),G,me,Re,y,E);Oe!=null&&(ae.setCodeword(Re,Oe),je=me,y=Math.min(y,Oe.getWidth()),E=Math.max(E,Oe.getWidth()))}}return bt.createDecoderResult(F)}static merge(a,l){if(a==null&&l==null)return null;let u=bt.getBarcodeMetadata(a,l);if(u==null)return null;let h=es.merge(bt.adjustBoundingBox(a),bt.adjustBoundingBox(l));return new No(u,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let u=bt.getMax(l),h=0;for(let E of l)if(h+=u-E,E>0)break;let g=a.getCodewords();for(let E=0;h>0&&g[E]==null;E++)h--;let y=0;for(let E=l.length-1;E>=0&&(y+=u-l[E],!(l[E]>0));E--);for(let E=g.length-1;y>0&&g[E]==null;E--)y--;return a.getBoundingBox().addMissingRows(h,y,a.isLeft())}static getMax(a){let l=-1;for(let u of a)l=Math.max(l,u);return l}static getBarcodeMetadata(a,l){let u;if(a==null||(u=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?u:u.getColumnCount()!==h.getColumnCount()&&u.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&u.getRowCount()!==h.getRowCount()?null:u}static getRowIndicatorColumn(a,l,u,h,g,y){let E=new tf(l,h);for(let C=0;C<2;C++){let T=C===0?1:-1,D=Math.trunc(Math.trunc(u.getX()));for(let F=Math.trunc(Math.trunc(u.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let $=bt.detectCodeword(a,0,a.getWidth(),h,D,F,g,y);$!=null&&(E.setCodeword(F,$),h?D=$.getStartX():D=$.getEndX())}}return E}static adjustCodewordCount(a,l){let u=l[0][1],h=u.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-bt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(g<1||g>pt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();u.setValue(g)}else h[0]!==g&&u.setValue(g)}static createDecoderResult(a){let l=bt.createBarcodeMatrix(a);bt.adjustCodewordCount(a,l);let u=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],y=new Array;for(let C=0;C<a.getBarcodeRowCount();C++)for(let T=0;T<a.getBarcodeColumnCount();T++){let D=l[C][T+1].getValue(),F=C*a.getBarcodeColumnCount()+T;D.length===0?u.push(F):D.length===1?h[F]=D[0]:(y.push(F),g.push(D))}let E=new Array(g.length);for(let C=0;C<E.length;C++)E[C]=g[C];return bt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,pt.toIntArray(u),pt.toIntArray(y),E)}static createDecoderResultFromAmbiguousValues(a,l,u,h,g){let y=new Int32Array(h.length),E=100;for(;E-- >0;){for(let C=0;C<y.length;C++)l[h[C]]=g[C][y[C]];try{return bt.decodeCodewords(l,a,u)}catch(C){if(!(C instanceof _))throw C}if(y.length===0)throw _.getChecksumInstance();for(let C=0;C<y.length;C++)if(y[C]<g[C].length-1){y[C]++;break}else if(y[C]=0,C===y.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let g=0;g<l[h].length;g++)l[h][g]=new Ra;let u=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=0){if(y>=l.length)continue;l[y][u].setValue(g.getValue())}}}u++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,u,h){let g=h?1:-1,y=null;if(bt.isValidBarcodeColumn(a,l-g)&&(y=a.getDetectionResultColumn(l-g).getCodeword(u)),y!=null)return h?y.getEndX():y.getStartX();if(y=a.getDetectionResultColumn(l).getCodewordNearby(u),y!=null)return h?y.getStartX():y.getEndX();if(bt.isValidBarcodeColumn(a,l-g)&&(y=a.getDetectionResultColumn(l-g).getCodewordNearby(u)),y!=null)return h?y.getEndX():y.getStartX();let E=0;for(;bt.isValidBarcodeColumn(a,l-g);){l-=g;for(let C of a.getDetectionResultColumn(l).getCodewords())if(C!=null)return(h?C.getEndX():C.getStartX())+g*E*(C.getEndX()-C.getStartX());E++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,u,h,g,y,E,C){g=bt.adjustCodewordStartColumn(a,l,u,h,g,y);let T=bt.getModuleBitCount(a,l,u,h,g,y);if(T==null)return null;let D,F=_t.sum(T);if(h)D=g+F;else{for(let Y=0;Y<T.length/2;Y++){let ee=T[Y];T[Y]=T[T.length-1-Y],T[T.length-1-Y]=ee}D=g,g=D-F}if(!bt.checkCodewordSkew(F,E,C))return null;let $=hn.getDecodedValue(T),G=pt.getCodeword($);return G===-1?null:new ts(g,D,bt.getCodewordBucketNumber($),G)}static getModuleBitCount(a,l,u,h,g,y){let E=g,C=new Int32Array(8),T=0,D=h?1:-1,F=h;for(;(h?E<u:E>=l)&&T<C.length;)a.get(E,y)===F?(C[T]++,E+=D):(T++,F=!F);return T===C.length||E===(h?u:l)&&T===C.length-1?C:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,u,h,g,y){let E=g,C=h?-1:1;for(let T=0;T<2;T++){for(;(h?E>=l:E<u)&&h===a.get(E,y);){if(Math.abs(g-E)>bt.CODEWORD_SKEW_SIZE)return g;E+=C}C=-C,h=!h}return E}static checkCodewordSkew(a,l,u){return l-bt.CODEWORD_SKEW_SIZE<=a&&a<=u+bt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,u){if(a.length===0)throw H.getFormatInstance();let h=1<<l+1,g=bt.correctErrors(a,u,h);bt.verifyCodewordCount(a,h);let y=ge.decode(a,""+l);return y.setErrorsCorrected(g),y.setErasures(u.length),y}static correctErrors(a,l,u){if(l!=null&&l.length>u/2+bt.MAX_ERRORS||u<0||u>bt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return bt.errorCorrection.decode(a,u,l)}static verifyCodewordCount(a,l){if(a.length<4)throw H.getFormatInstance();let u=a[0];if(u>a.length)throw H.getFormatInstance();if(u===0)if(l<a.length)a[0]=a.length-l;else throw H.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),u=0,h=l.length-1;for(;!((a&1)!==u&&(u=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return bt.getCodewordBucketNumber(bt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new pa;for(let u=0;u<a.length;u++){l.format("Row %2d: ",u);for(let h=0;h<a[u].length;h++){let g=a[u][h];g.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}bt.CODEWORD_SKEW_SIZE=2,bt.MAX_ERRORS=3,bt.MAX_EC_CODEWORDS=512,bt.errorCorrection=new ru;class pn{decode(a,l=null){let u=pn.decode(a,l,!1);if(u==null||u.length===0||u[0]==null)throw te.getNotFoundInstance();return u[0]}decodeMultiple(a,l=null){try{return pn.decode(a,l,!0)}catch(u){throw u instanceof H||u instanceof _?te.getNotFoundInstance():u}}static decode(a,l,u){const h=new Array,g=yt.detectMultiple(a,l,u);for(const y of g.getPoints()){const E=bt.decode(g.getBits(),y[4],y[5],y[6],y[7],pn.getMinCodewordWidth(y),pn.getMaxCodewordWidth(y)),C=new Fe(E.getText(),E.getRawBytes(),void 0,y,Ie.PDF_417);C.putMetadata(ye.ERROR_CORRECTION_LEVEL,E.getECLevel());const T=E.getOther();T!=null&&C.putMetadata(ye.PDF417_EXTRA_METADATA,T),h.push(C)}return h.map(y=>y)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?M.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(pn.getMaxWidth(a[0],a[4]),pn.getMaxWidth(a[6],a[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(a[1],a[5]),pn.getMaxWidth(a[7],a[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(pn.getMinWidth(a[0],a[4]),pn.getMinWidth(a[6],a[2])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(a[1],a[5]),pn.getMinWidth(a[7],a[3])*pt.MODULES_IN_CODEWORD/pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ws extends m{}Ws.kind="ReaderException";class Rl{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!n(a)&&a.get(V.TRY_HARDER)===!0,u=n(a)?null:a.get(V.POSSIBLE_FORMATS),h=new Array;if(!n(u)){const g=u.some(y=>y===Ie.UPC_A||y===Ie.UPC_E||y===Ie.EAN_13||y===Ie.EAN_8||y===Ie.CODABAR||y===Ie.CODE_39||y===Ie.CODE_93||y===Ie.CODE_128||y===Ie.ITF||y===Ie.RSS_14||y===Ie.RSS_EXPANDED);g&&!l&&h.push(new Bs(a,this.verbose)),u.includes(Ie.QR_CODE)&&h.push(new jn),u.includes(Ie.DATA_MATRIX)&&h.push(new Oi),u.includes(Ie.AZTEC)&&h.push(new Br),u.includes(Ie.PDF_417)&&h.push(new pn),g&&l&&h.push(new Bs(a,this.verbose))}h.length===0&&(l||h.push(new Bs(a,this.verbose)),h.push(new jn),h.push(new Oi),h.push(new Br),h.push(new pn),l&&h.push(new Bs(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Ws("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(u){if(u instanceof Ws)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class To extends Me{constructor(a=null,l=500){const u=new Rl;u.setHints(a),super(u,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Ml extends Me{constructor(a=500){super(new pn,a)}}class nf extends Me{constructor(a=500){super(new jn,a)}}var au;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(au||(au={}));var Kr=au;class su{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Ue(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let u=l[l.length-1];const h=this.field;for(let g=l.length;g<=a;g++){const y=u.multiply(new Ue(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));l.push(y),u=y}}return l[a]}encode(a,l){if(l===0)throw new b("No error correction bytes");const u=a.length-l;if(u<=0)throw new b("No data bytes provided");const h=this.buildGenerator(l),g=new Int32Array(u);O.arraycopy(a,0,g,0,u);let y=new Ue(this.field,g);y=y.multiplyByMonomial(l,1);const C=y.divide(h)[1].getCoefficients(),T=l-C.length;for(let D=0;D<T;D++)a[u+D]=0;O.arraycopy(C,0,a,u+T,C.length)}}class ur{constructor(){}static applyMaskPenaltyRule1(a){return ur.applyMaskPenaltyRule1Internal(a,!0)+ur.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let y=0;y<g-1;y++){const E=u[y];for(let C=0;C<h-1;C++){const T=E[C];T===E[C+1]&&T===u[y+1][C]&&T===u[y+1][C+1]&&l++}}return ur.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let y=0;y<g;y++)for(let E=0;E<h;E++){const C=u[y];E+6<h&&C[E]===1&&C[E+1]===0&&C[E+2]===1&&C[E+3]===1&&C[E+4]===1&&C[E+5]===0&&C[E+6]===1&&(ur.isWhiteHorizontal(C,E-4,E)||ur.isWhiteHorizontal(C,E+7,E+11))&&l++,y+6<g&&u[y][E]===1&&u[y+1][E]===0&&u[y+2][E]===1&&u[y+3][E]===1&&u[y+4][E]===1&&u[y+5][E]===0&&u[y+6][E]===1&&(ur.isWhiteVertical(u,E,y-4,y)||ur.isWhiteVertical(u,E,y+7,y+11))&&l++}return l*ur.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let h=l;h<u;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,u,h){u=Math.max(u,0),h=Math.min(h,a.length);for(let g=u;g<h;g++)if(a[g][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),h=a.getWidth(),g=a.getHeight();for(let C=0;C<g;C++){const T=u[C];for(let D=0;D<h;D++)T[D]===1&&l++}const y=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-y)*10/y)*ur.N4}static getDataMaskBit(a,l,u){let h,g;switch(a){case 0:h=u+l&1;break;case 1:h=u&1;break;case 2:h=l%3;break;case 3:h=(u+l)%3;break;case 4:h=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:g=u*l,h=(g&1)+g%3;break;case 6:g=u*l,h=(g&1)+g%3&1;break;case 7:g=u*l,h=g%3+(u+l&1)&1;break;default:throw new b("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let u=0;const h=l?a.getHeight():a.getWidth(),g=l?a.getWidth():a.getHeight(),y=a.getArray();for(let E=0;E<h;E++){let C=0,T=-1;for(let D=0;D<g;D++){const F=l?y[E][D]:y[D][E];F===T?C++:(C>=5&&(u+=ur.N1+(C-5)),C=1,T=F)}C>=5&&(u+=ur.N1+(C-5))}return u}}ur.N1=3,ur.N2=3,ur.N3=40,ur.N4=10;class Dl{constructor(a,l){this.width=a,this.height=l;const u=new Array(l);for(let h=0;h!==l;h++)u[h]=new Uint8Array(a);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,u){this.bytes[l][a]=u}setBoolean(a,l,u){this.bytes[l][a]=u?1:0}clear(a){for(const l of this.bytes)L.fill(l,a)}equals(a){if(!(a instanceof Dl))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let u=0,h=this.height;u<h;++u){const g=this.bytes[u],y=l.bytes[u];for(let E=0,C=this.width;E<C;++E)if(g[E]!==y[E])return!1}return!0}toString(){const a=new Ae;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l];for(let g=0,y=this.width;g<y;++g)switch(h[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class rs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Ae;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<rs.NUM_MASK_PATTERNS}}rs.NUM_MASK_PATTERNS=8;class Yt extends m{}Yt.kind="WriterException";class dt{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,u,h,g){dt.clearMatrix(g),dt.embedBasicPatterns(u,g),dt.embedTypeInfo(l,h,g),dt.maybeEmbedVersionInfo(u,g),dt.embedDataBits(a,h,g)}static embedBasicPatterns(a,l){dt.embedPositionDetectionPatternsAndSeparators(l),dt.embedDarkDotAtLeftBottomCorner(l),dt.maybeEmbedPositionAdjustmentPatterns(a,l),dt.embedTimingPatterns(l)}static embedTypeInfo(a,l,u){const h=new U;dt.makeTypeInfoBits(a,l,h);for(let g=0,y=h.getSize();g<y;++g){const E=h.get(h.getSize()-1-g),C=dt.TYPE_INFO_COORDINATES[g],T=C[0],D=C[1];if(u.setBoolean(T,D,E),g<8){const F=u.getWidth()-g-1;u.setBoolean(F,8,E)}else{const $=u.getHeight()-7+(g-8);u.setBoolean(8,$,E)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const u=new U;dt.makeVersionInfoBits(a,u);let h=17;for(let g=0;g<6;++g)for(let y=0;y<3;++y){const E=u.get(h);h--,l.setBoolean(g,l.getHeight()-11+y,E),l.setBoolean(l.getHeight()-11+y,g,E)}}static embedDataBits(a,l,u){let h=0,g=-1,y=u.getWidth()-1,E=u.getHeight()-1;for(;y>0;){for(y===6&&(y-=1);E>=0&&E<u.getHeight();){for(let C=0;C<2;++C){const T=y-C;if(!dt.isEmpty(u.get(T,E)))continue;let D;h<a.getSize()?(D=a.get(h),++h):D=!1,l!==255&&ur.getDataMaskBit(l,T,E)&&(D=!D),u.setBoolean(T,E,D)}E+=g}g=-g,E+=g,y-=2}if(h!==a.getSize())throw new Yt("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-M.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new b("0 polynomial");const u=dt.findMSBSet(l);for(a<<=u-1;dt.findMSBSet(a)>=u;)a^=l<<dt.findMSBSet(a)-u;return a}static makeTypeInfoBits(a,l,u){if(!rs.isValidMaskPattern(l))throw new Yt("Invalid mask pattern");const h=a.getBits()<<3|l;u.appendBits(h,5);const g=dt.calculateBCHCode(h,dt.TYPE_INFO_POLY);u.appendBits(g,10);const y=new U;if(y.appendBits(dt.TYPE_INFO_MASK_PATTERN,15),u.xor(y),u.getSize()!==15)throw new Yt("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const u=dt.calculateBCHCode(a.getVersionNumber(),dt.VERSION_INFO_POLY);if(l.appendBits(u,12),l.getSize()!==18)throw new Yt("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const u=(l+1)%2;dt.isEmpty(a.get(l,6))&&a.setNumber(l,6,u),dt.isEmpty(a.get(6,l))&&a.setNumber(6,l,u)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Yt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,u){for(let h=0;h<8;++h){if(!dt.isEmpty(u.get(a+h,l)))throw new Yt;u.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,u){for(let h=0;h<7;++h){if(!dt.isEmpty(u.get(a,l+h)))throw new Yt;u.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,u){for(let h=0;h<5;++h){const g=dt.POSITION_ADJUSTMENT_PATTERN[h];for(let y=0;y<5;++y)u.setNumber(a+y,l+h,g[y])}}static embedPositionDetectionPattern(a,l,u){for(let h=0;h<7;++h){const g=dt.POSITION_DETECTION_PATTERN[h];for(let y=0;y<7;++y)u.setNumber(a+y,l+h,g[y])}}static embedPositionDetectionPatternsAndSeparators(a){const l=dt.POSITION_DETECTION_PATTERN[0].length;dt.embedPositionDetectionPattern(0,0,a),dt.embedPositionDetectionPattern(a.getWidth()-l,0,a),dt.embedPositionDetectionPattern(0,a.getWidth()-l,a);const u=8;dt.embedHorizontalSeparationPattern(0,u-1,a),dt.embedHorizontalSeparationPattern(a.getWidth()-u,u-1,a),dt.embedHorizontalSeparationPattern(0,a.getWidth()-u,a);const h=7;dt.embedVerticalSeparationPattern(h,0,a),dt.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),dt.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const u=a.getVersionNumber()-1,h=dt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let g=0,y=h.length;g!==y;g++){const E=h[g];if(E>=0)for(let C=0;C!==y;C++){const T=h[C];T>=0&&dt.isEmpty(l.get(T,E))&&dt.embedPositionAdjustmentPattern(T-2,E-2,l)}}}}dt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),dt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),dt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),dt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),dt.VERSION_INFO_POLY=7973,dt.TYPE_INFO_POLY=1335,dt.TYPE_INFO_MASK_PATTERN=21522;class um{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qt{constructor(){}static calculateMaskPenalty(a){return ur.applyMaskPenaltyRule1(a)+ur.applyMaskPenaltyRule2(a)+ur.applyMaskPenaltyRule3(a)+ur.applyMaskPenaltyRule4(a)}static encode(a,l,u=null){let h=Qt.DEFAULT_BYTE_MODE_ENCODING;const g=u!==null&&u.get(Kr.CHARACTER_SET)!==void 0;g&&(h=u.get(Kr.CHARACTER_SET).toString());const y=this.chooseMode(a,h),E=new U;if(y===ct.BYTE&&(g||Qt.DEFAULT_BYTE_MODE_ENCODING!==h)){const Re=X.getCharacterSetECIByName(h);Re!==void 0&&this.appendECI(Re,E)}this.appendModeInfo(y,E);const C=new U;this.appendBytes(a,y,C,h);let T;if(u!==null&&u.get(Kr.QR_VERSION)!==void 0){const Re=Number.parseInt(u.get(Kr.QR_VERSION).toString(),10);T=ot.getVersionForNumber(Re);const Oe=this.calculateBitsNeeded(y,E,C,T);if(!this.willFit(Oe,T,l))throw new Yt("Data too big for requested version")}else T=this.recommendVersion(l,y,E,C);const D=new U;D.appendBitArray(E);const F=y===ct.BYTE?C.getSizeInBytes():a.length;this.appendLengthInfo(F,T,y,D),D.appendBitArray(C);const $=T.getECBlocksForLevel(l),G=T.getTotalCodewords()-$.getTotalECCodewords();this.terminateBits(G,D);const Y=this.interleaveWithECBytes(D,T.getTotalCodewords(),G,$.getNumBlocks()),ee=new rs;ee.setECLevel(l),ee.setMode(y),ee.setVersion(T);const ae=T.getDimensionForVersion(),me=new Dl(ae,ae),je=this.chooseMaskPattern(Y,l,T,me);return ee.setMaskPattern(je),dt.buildMatrix(Y,l,T,je,me),ee.setMatrix(me),ee}static recommendVersion(a,l,u,h){const g=this.calculateBitsNeeded(l,u,h,ot.getVersionForNumber(1)),y=this.chooseVersion(g,a),E=this.calculateBitsNeeded(l,u,h,y);return this.chooseVersion(E,a)}static calculateBitsNeeded(a,l,u,h){return l.getSize()+a.getCharacterCountBits(h)+u.getSize()}static getAlphanumericCode(a){return a<Qt.ALPHANUMERIC_TABLE.length?Qt.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(X.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return ct.KANJI;let u=!1,h=!1;for(let g=0,y=a.length;g<y;++g){const E=a.charAt(g);if(Qt.isDigit(E))u=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)h=!0;else return ct.BYTE}return h?ct.ALPHANUMERIC:u?ct.NUMERIC:ct.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=ue.encode(a,X.SJIS)}catch{return!1}const u=l.length;if(u%2!==0)return!1;for(let h=0;h<u;h+=2){const g=l[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,l,u,h){let g=Number.MAX_SAFE_INTEGER,y=-1;for(let E=0;E<rs.NUM_MASK_PATTERNS;E++){dt.buildMatrix(a,l,u,E,h);let C=this.calculateMaskPenalty(h);C<g&&(g=C,y=E)}return y}static chooseVersion(a,l){for(let u=1;u<=40;u++){const h=ot.getVersionForNumber(u);if(Qt.willFit(a,h,l))return h}throw new Yt("Data too big")}static willFit(a,l,u){const h=l.getTotalCodewords(),y=l.getECBlocksForLevel(u).getTotalECCodewords(),E=h-y,C=(a+7)/8;return E>=C}static terminateBits(a,l){const u=a*8;if(l.getSize()>u)throw new Yt("data bits cannot fit in the QR Code"+l.getSize()+" > "+u);for(let y=0;y<4&&l.getSize()<u;++y)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let y=h;y<8;y++)l.appendBit(!1);const g=a-l.getSizeInBytes();for(let y=0;y<g;++y)l.appendBits((y&1)===0?236:17,8);if(l.getSize()!==u)throw new Yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,u,h,g,y){if(h>=u)throw new Yt("Block ID too large");const E=a%u,C=u-E,T=Math.floor(a/u),D=T+1,F=Math.floor(l/u),$=F+1,G=T-F,Y=D-$;if(G!==Y)throw new Yt("EC bytes mismatch");if(u!==C+E)throw new Yt("RS blocks mismatch");if(a!==(F+G)*C+($+Y)*E)throw new Yt("Total bytes mismatch");h<C?(g[0]=F,y[0]=G):(g[0]=$,y[0]=Y)}static interleaveWithECBytes(a,l,u,h){if(a.getSizeInBytes()!==u)throw new Yt("Number of bits and data bytes does not match");let g=0,y=0,E=0;const C=new Array;for(let D=0;D<h;++D){const F=new Int32Array(1),$=new Int32Array(1);Qt.getNumDataBytesAndNumECBytesForBlockID(l,u,h,D,F,$);const G=F[0],Y=new Uint8Array(G);a.toBytes(8*g,Y,0,G);const ee=Qt.generateECBytes(Y,$[0]);C.push(new um(Y,ee)),y=Math.max(y,G),E=Math.max(E,ee.length),g+=F[0]}if(u!==g)throw new Yt("Data bytes does not match offset");const T=new U;for(let D=0;D<y;++D)for(const F of C){const $=F.getDataBytes();D<$.length&&T.appendBits($[D],8)}for(let D=0;D<E;++D)for(const F of C){const $=F.getErrorCorrectionBytes();D<$.length&&T.appendBits($[D],8)}if(l!==T.getSizeInBytes())throw new Yt("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,l){const u=a.length,h=new Int32Array(u+l);for(let y=0;y<u;y++)h[y]=a[y]&255;new su(He.QR_CODE_FIELD_256).encode(h,l);const g=new Uint8Array(l);for(let y=0;y<l;y++)g[y]=h[u+y];return g}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,u,h){const g=u.getCharacterCountBits(l);if(a>=1<<g)throw new Yt(a+" is bigger than "+((1<<g)-1));h.appendBits(a,g)}static appendBytes(a,l,u,h){switch(l){case ct.NUMERIC:Qt.appendNumericBytes(a,u);break;case ct.ALPHANUMERIC:Qt.appendAlphanumericBytes(a,u);break;case ct.BYTE:Qt.append8BitBytes(a,u,h);break;case ct.KANJI:Qt.appendKanjiBytes(a,u);break;default:throw new Yt("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=Qt.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Qt.getDigit(a.charAt(h));if(h+2<u){const y=Qt.getDigit(a.charAt(h+1)),E=Qt.getDigit(a.charAt(h+2));l.appendBits(g*100+y*10+E,10),h+=3}else if(h+1<u){const y=Qt.getDigit(a.charAt(h+1));l.appendBits(g*10+y,7),h+=2}else l.appendBits(g,4),h++}}static appendAlphanumericBytes(a,l){const u=a.length;let h=0;for(;h<u;){const g=Qt.getAlphanumericCode(a.charCodeAt(h));if(g===-1)throw new Yt;if(h+1<u){const y=Qt.getAlphanumericCode(a.charCodeAt(h+1));if(y===-1)throw new Yt;l.appendBits(g*45+y,11),h+=2}else l.appendBits(g,6),h++}}static append8BitBytes(a,l,u){let h;try{h=ue.encode(a,u)}catch(g){throw new Yt(g)}for(let g=0,y=h.length;g!==y;g++){const E=h[g];l.appendBits(E,8)}}static appendKanjiBytes(a,l){let u;try{u=ue.encode(a,X.SJIS)}catch(g){throw new Yt(g)}const h=u.length;for(let g=0;g<h;g+=2){const y=u[g]&255,E=u[g+1]&255,C=y<<8&4294967295|E;let T=-1;if(C>=33088&&C<=40956?T=C-33088:C>=57408&&C<=60351&&(T=C-49472),T===-1)throw new Yt("Invalid byte sequence");const D=(T>>8)*192+(T&255);l.appendBits(D,13)}}static appendECI(a,l){l.appendBits(ct.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}Qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qt.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class ns{write(a,l,u,h=null){if(a.length===0)throw new b("Found empty contents");if(l<0||u<0)throw new b("Requested dimensions are too small: "+l+"x"+u);let g=Kt.L,y=ns.QUIET_ZONE_SIZE;h!==null&&(h.get(Kr.ERROR_CORRECTION)!==void 0&&(g=Kt.fromString(h.get(Kr.ERROR_CORRECTION).toString())),h.get(Kr.MARGIN)!==void 0&&(y=Number.parseInt(h.get(Kr.MARGIN).toString(),10)));const E=Qt.encode(a,g,h);return this.renderResult(E,l,u,y)}writeToDom(a,l,u,h,g=null){typeof a=="string"&&(a=document.querySelector(a));const y=this.write(l,u,h,g);a&&a.appendChild(y)}renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new Ct;const y=g.getWidth(),E=g.getHeight(),C=y+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),G=Math.floor((D-y*$)/2),Y=Math.floor((F-E*$)/2),ee=this.createSVGElement(D,F);for(let ae=0,me=Y;ae<E;ae++,me+=$)for(let je=0,Re=G;je<y;je++,Re+=$)if(g.get(je,ae)===1){const Oe=this.createSvgRectElement(Re,me,$,$);ee.appendChild(Oe)}return ee}createSVGElement(a,l){const u=document.createElementNS(ns.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,h){const g=document.createElementNS(ns.SVG_NS,"rect");return g.setAttributeNS(null,"x",a.toString()),g.setAttributeNS(null,"y",l.toString()),g.setAttributeNS(null,"height",u.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}ns.QUIET_ZONE_SIZE=4,ns.SVG_NS="http://www.w3.org/2000/svg";class Vs{encode(a,l,u,h,g){if(a.length===0)throw new b("Found empty contents");if(l!==Ie.QR_CODE)throw new b("Can only encode QR_CODE, but got "+l);if(u<0||h<0)throw new b(`Requested dimensions are too small: ${u}x${h}`);let y=Kt.L,E=Vs.QUIET_ZONE_SIZE;g!==null&&(g.get(Kr.ERROR_CORRECTION)!==void 0&&(y=Kt.fromString(g.get(Kr.ERROR_CORRECTION).toString())),g.get(Kr.MARGIN)!==void 0&&(E=Number.parseInt(g.get(Kr.MARGIN).toString(),10)));const C=Qt.encode(a,y,g);return Vs.renderResult(C,u,h,E)}static renderResult(a,l,u,h){const g=a.getMatrix();if(g===null)throw new Ct;const y=g.getWidth(),E=g.getHeight(),C=y+h*2,T=E+h*2,D=Math.max(l,C),F=Math.max(u,T),$=Math.min(Math.floor(D/C),Math.floor(F/T)),G=Math.floor((D-y*$)/2),Y=Math.floor((F-E*$)/2),ee=new ke(D,F);for(let ae=0,me=Y;ae<E;ae++,me+=$)for(let je=0,Re=G;je<y;je++,Re+=$)g.get(je,ae)===1&&ee.setRegion(Re,me,$,$);return ee}}Vs.QUIET_ZONE_SIZE=4;class dm{encode(a,l,u,h,g){let y;switch(l){case Ie.QR_CODE:y=new Vs;break;default:throw new b("No encoder available for format "+l)}return y.encode(a,l,u,h,g)}}class Yi extends oe{constructor(a,l,u,h,g,y,E,C){if(super(y,E),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=g,h+y>l||g+E>u)throw new b("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(y,E)}getRow(a,l){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return O.arraycopy(this.yuvData,g,h,0,u),h;for(let y=0;y<l;y++){const E=y*a;O.arraycopy(this.yuvData,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new Yi(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,h,!1)}renderThumbnail(){const a=this.getWidth()/Yi.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Yi.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let y=0;y<l;y++){const E=y*a;for(let C=0;C<a;C++){const T=h[g+C*Yi.THUMBNAIL_SCALE_FACTOR]&255;u[E+C]=4278190080|T*65793}g+=this.dataWidth*Yi.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Yi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Yi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<l;h++,g+=this.dataWidth){const y=g+a/2;for(let E=g,C=g+a-1;E<y;E++,C--){const T=u[E];u[E]=u[C],u[C]=T}}}invert(){return new xe(this)}}Yi.THUMBNAIL_SCALE_FACTOR=2;class ko extends oe{constructor(a,l,u,h,g,y,E){if(super(l,u),this.dataWidth=h,this.dataHeight=g,this.left=y,this.top=E,a.BYTES_PER_ELEMENT===4){const C=l*u,T=new Uint8ClampedArray(C);for(let D=0;D<C;D++){const F=a[D],$=F>>16&255,G=F>>7&510,Y=F&255;T[D]=($+G+Y)/4&255}this.luminances=T}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),g===void 0&&(this.dataHeight=u),y===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+u>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const u=this.getWidth();(l==null||l.length<u)&&(l=new Uint8ClampedArray(u));const h=(a+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,h,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const u=a*l,h=new Uint8ClampedArray(u);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return O.arraycopy(this.luminances,g,h,0,u),h;for(let y=0;y<l;y++){const E=y*a;O.arraycopy(this.luminances,g,h,E,a),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,u,h){return new ko(this.luminances,u,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new xe(this)}}class af extends X{static forName(a){return this.getCharacterSetECIByName(a)}}class ou{}ou.ISO_8859_1=X.ISO8859_1;class sf{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class lu{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class fm{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Hs extends fm{constructor(a,l,u){super(a),this.value=l,this.bitCount=u}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new Hs(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hs(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+M.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class cu extends Hs{constructor(a,l,u){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=u}appendTo(a,l){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):u===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+u],8)}addBinaryShift(a,l){return new cu(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function hm(B,a,l){return new cu(B,a,l)}function Po(B,a,l){return new Hs(B,a,l)}const pm=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ma=0,qs=1,An=2,of=3,Ti=4,lf=new Hs(null,0,0),Ll=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cf(B){for(let a of B)L.fill(a,-1);return B[Ma][Ti]=0,B[qs][Ti]=0,B[qs][Ma]=28,B[of][Ti]=0,B[An][Ti]=0,B[An][Ma]=15,B}const uu=cf(L.createInt32Array(6,6));class Rn{constructor(a,l,u,h){this.token=a,this.mode=l,this.binaryShiftByteCount=u,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let u=this.bitCount,h=this.token;if(a!==this.mode){let y=Ll[this.mode][a];h=Po(h,y&65535,y>>16),u+=y>>16}let g=a===An?4:5;return h=Po(h,l,g),new Rn(h,a,0,u+g)}shiftAndAppend(a,l){let u=this.token,h=this.mode===An?4:5;return u=Po(u,uu[this.mode][a],h),u=Po(u,l,5),new Rn(u,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,u=this.mode,h=this.bitCount;if(this.mode===Ti||this.mode===An){let E=Ll[u][Ma];l=Po(l,E&65535,E>>16),h+=E>>16,u=Ma}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,y=new Rn(l,u,this.binaryShiftByteCount+1,h+g);return y.binaryShiftByteCount===2078&&(y=y.endBinaryShift(a+1)),y}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=hm(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rn(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Ll[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Rn.calculateBinaryShiftCost(a)-Rn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let u=new U;for(const h of l)h.appendTo(u,a);return u}toString(){return de.format("%s bits=%d bytes=%d",pm[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Rn.INITIAL_STATE=new Rn(lf,Ma,0,0);function mm(B){const a=de.getCharCode(" "),l=de.getCharCode("."),u=de.getCharCode(",");B[Ma][a]=1;const h=de.getCharCode("Z"),g=de.getCharCode("A");for(let $=g;$<=h;$++)B[Ma][$]=$-g+2;B[qs][a]=1;const y=de.getCharCode("z"),E=de.getCharCode("a");for(let $=E;$<=y;$++)B[qs][$]=$-E+2;B[An][a]=1;const C=de.getCharCode("9"),T=de.getCharCode("0");for(let $=T;$<=C;$++)B[An][$]=$-T+2;B[An][u]=12,B[An][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let $=0;$<D.length;$++)B[of][de.getCharCode(D[$])]=$;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let $=0;$<F.length;$++)de.getCharCode(F[$])>0&&(B[Ti][de.getCharCode(F[$])]=$);return B}const du=mm(L.createInt32Array(5,256));class jo{constructor(a){this.text=a}encode(){const a=de.getCharCode(" "),l=de.getCharCode(`
`);let u=lu.singletonList(Rn.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let y,E=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case de.getCharCode("\r"):y=E===l?2:0;break;case de.getCharCode("."):y=E===a?3:0;break;case de.getCharCode(","):y=E===a?4:0;break;case de.getCharCode(":"):y=E===a?5:0;break;default:y=0}y>0?(u=jo.updateStateListForPair(u,g,y),g++):u=this.updateStateListForChar(u,g)}return lu.min(u,(g,y)=>g.getBitCount()-y.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const u=[];for(let h of a)this.updateStateForChar(h,l,u);return jo.simplifyStates(u)}updateStateForChar(a,l,u){let h=this.text[l]&255,g=du[a.getMode()][h]>0,y=null;for(let E=0;E<=Ti;E++){let C=du[E][h];if(C>0){if(y==null&&(y=a.endBinaryShift(l)),!g||E===a.getMode()||E===An){const T=y.latchAndAppend(E,C);u.push(T)}if(!g&&uu[a.getMode()][E]>=0){const T=y.shiftAndAppend(E,C);u.push(T)}}}if(a.getBinaryShiftByteCount()>0||du[a.getMode()][h]===0){let E=a.addBinaryShiftChar(l);u.push(E)}}static updateStateListForPair(a,l,u){const h=[];for(let g of a)this.updateStateForPair(g,l,u,h);return this.simplifyStates(h)}static updateStateForPair(a,l,u,h){let g=a.endBinaryShift(l);if(h.push(g.latchAndAppend(Ti,u)),a.getMode()!==Ti&&h.push(g.shiftAndAppend(Ti,u)),u===3||u===4){let y=g.latchAndAppend(An,16-u).latchAndAppend(An,1);h.push(y)}if(a.getBinaryShiftByteCount()>0){let y=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(y)}}static simplifyStates(a){let l=[];for(const u of a){let h=!0;for(const g of l){if(g.isBetterThanOrEqualTo(u)){h=!1;break}u.isBetterThanOrEqualTo(g)&&(l=l.filter(y=>y!==g))}h&&l.push(u)}return l}}class jt{constructor(){}static encodeBytes(a){return jt.encode(a,jt.DEFAULT_EC_PERCENT,jt.DEFAULT_AZTEC_LAYERS)}static encode(a,l,u){let h=new jo(a).encode(),g=M.truncDivision(h.getSize()*l,100)+11,y=h.getSize()+g,E,C,T,D,F;if(u!==jt.DEFAULT_AZTEC_LAYERS){if(E=u<0,C=Math.abs(u),C>(E?jt.MAX_NB_BITS_COMPACT:jt.MAX_NB_BITS))throw new b(de.format("Illegal value %s for layers",u));T=jt.totalBitsInLayer(C,E),D=jt.WORD_SIZE[C];let Oe=T-T%D;if(F=jt.stuffBits(h,D),F.getSize()+g>Oe)throw new b("Data to large for user specified layer");if(E&&F.getSize()>D*64)throw new b("Data to large for user specified layer")}else{D=0,F=null;for(let Oe=0;;Oe++){if(Oe>jt.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(E=Oe<=3,C=E?Oe+1:Oe,T=jt.totalBitsInLayer(C,E),y>T)continue;(F==null||D!==jt.WORD_SIZE[C])&&(D=jt.WORD_SIZE[C],F=jt.stuffBits(h,D));let Ot=T-T%D;if(!(E&&F.getSize()>D*64)&&F.getSize()+g<=Ot)break}}let $=jt.generateCheckWords(F,T,D),G=F.getSize()/D,Y=jt.generateModeMessage(E,C,G),ee=(E?11:14)+C*4,ae=new Int32Array(ee),me;if(E){me=ee;for(let Oe=0;Oe<ae.length;Oe++)ae[Oe]=Oe}else{me=ee+1+2*M.truncDivision(M.truncDivision(ee,2)-1,15);let Oe=M.truncDivision(ee,2),Ot=M.truncDivision(me,2);for(let wt=0;wt<Oe;wt++){let qn=wt+M.truncDivision(wt,15);ae[Oe-wt-1]=Ot-qn-1,ae[Oe+wt]=Ot+qn+1}}let je=new ke(me);for(let Oe=0,Ot=0;Oe<C;Oe++){let wt=(C-Oe)*4+(E?9:12);for(let qn=0;qn<wt;qn++){let ki=qn*2;for(let Xr=0;Xr<2;Xr++)$.get(Ot+ki+Xr)&&je.set(ae[Oe*2+Xr],ae[Oe*2+qn]),$.get(Ot+wt*2+ki+Xr)&&je.set(ae[Oe*2+qn],ae[ee-1-Oe*2-Xr]),$.get(Ot+wt*4+ki+Xr)&&je.set(ae[ee-1-Oe*2-Xr],ae[ee-1-Oe*2-qn]),$.get(Ot+wt*6+ki+Xr)&&je.set(ae[ee-1-Oe*2-qn],ae[Oe*2+Xr])}Ot+=wt*8}if(jt.drawModeMessage(je,E,me,Y),E)jt.drawBullsEye(je,M.truncDivision(me,2),5);else{jt.drawBullsEye(je,M.truncDivision(me,2),7);for(let Oe=0,Ot=0;Oe<M.truncDivision(ee,2)-1;Oe+=15,Ot+=16)for(let wt=M.truncDivision(me,2)&1;wt<me;wt+=2)je.set(M.truncDivision(me,2)-Ot,wt),je.set(M.truncDivision(me,2)+Ot,wt),je.set(wt,M.truncDivision(me,2)-Ot),je.set(wt,M.truncDivision(me,2)+Ot)}let Re=new sf;return Re.setCompact(E),Re.setSize(me),Re.setLayers(C),Re.setCodeWords(G),Re.setMatrix(je),Re}static drawBullsEye(a,l,u){for(let h=0;h<u;h+=2)for(let g=l-h;g<=l+h;g++)a.set(g,l-h),a.set(g,l+h),a.set(l-h,g),a.set(l+h,g);a.set(l-u,l-u),a.set(l-u+1,l-u),a.set(l-u,l-u+1),a.set(l+u,l-u),a.set(l+u,l-u+1),a.set(l+u,l+u-1)}static generateModeMessage(a,l,u){let h=new U;return a?(h.appendBits(l-1,2),h.appendBits(u-1,6),h=jt.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(u-1,11),h=jt.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,u,h){let g=M.truncDivision(u,2);if(l)for(let y=0;y<7;y++){let E=g-3+y;h.get(y)&&a.set(E,g-5),h.get(y+7)&&a.set(g+5,E),h.get(20-y)&&a.set(E,g+5),h.get(27-y)&&a.set(g-5,E)}else for(let y=0;y<10;y++){let E=g-5+y+M.truncDivision(y,5);h.get(y)&&a.set(E,g-7),h.get(y+10)&&a.set(g+7,E),h.get(29-y)&&a.set(E,g+7),h.get(39-y)&&a.set(g-7,E)}}static generateCheckWords(a,l,u){let h=a.getSize()/u,g=new su(jt.getGF(u)),y=M.truncDivision(l,u),E=jt.bitsToWords(a,u,y);g.encode(E,y-h);let C=l%u,T=new U;T.appendBits(0,C);for(const D of Array.from(E))T.appendBits(D,u);return T}static bitsToWords(a,l,u){let h=new Int32Array(u),g,y;for(g=0,y=a.getSize()/l;g<y;g++){let E=0;for(let C=0;C<l;C++)E|=a.get(g*l+C)?1<<l-C-1:0;h[g]=E}return h}static getGF(a){switch(a){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new b("Unsupported word size "+a)}}static stuffBits(a,l){let u=new U,h=a.getSize(),g=(1<<l)-2;for(let y=0;y<h;y+=l){let E=0;for(let C=0;C<l;C++)(y+C>=h||a.get(y+C))&&(E|=1<<l-1-C);(E&g)===g?(u.appendBits(E&g,l),y--):(E&g)===0?(u.appendBits(E|1,l),y--):u.appendBits(E,l)}return u}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}jt.DEFAULT_EC_PERCENT=33,jt.DEFAULT_AZTEC_LAYERS=0,jt.MAX_NB_BITS=32,jt.MAX_NB_BITS_COMPACT=4,jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ro{encode(a,l,u,h){return this.encodeWithHints(a,l,u,h,null)}encodeWithHints(a,l,u,h,g){let y=ou.ISO_8859_1,E=jt.DEFAULT_EC_PERCENT,C=jt.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(Kr.CHARACTER_SET)&&(y=af.forName(g.get(Kr.CHARACTER_SET).toString())),g.has(Kr.ERROR_CORRECTION)&&(E=M.parseInt(g.get(Kr.ERROR_CORRECTION).toString())),g.has(Kr.AZTEC_LAYERS)&&(C=M.parseInt(g.get(Kr.AZTEC_LAYERS).toString()))),Ro.encodeLayers(a,l,u,h,y,E,C)}static encodeLayers(a,l,u,h,g,y,E){if(l!==Ie.AZTEC)throw new b("Can only encode AZTEC, but got "+l);let C=jt.encode(de.getBytes(a,g),y,E);return Ro.renderResult(C,u,h)}static renderResult(a,l,u){let h=a.getMatrix();if(h==null)throw new Ct;let g=h.getWidth(),y=h.getHeight(),E=Math.max(l,g),C=Math.max(u,y),T=Math.min(E/g,C/y),D=(E-g*T)/2,F=(C-y*T)/2,$=new ke(E,C);for(let G=0,Y=F;G<y;G++,Y+=T)for(let ee=0,ae=D;ee<g;ee++,ae+=T)h.get(ee,G)&&$.setRegion(ae,Y,T,T);return $}}r.AbstractExpandedDecoder=be,r.ArgumentException=x,r.ArithmeticException=we,r.AztecCode=sf,r.AztecCodeReader=Br,r.AztecCodeWriter=Ro,r.AztecDecoder=At,r.AztecDetector=ci,r.AztecDetectorResult=gt,r.AztecEncoder=jt,r.AztecHighLevelEncoder=jo,r.AztecPoint=mr,r.BarcodeFormat=Ie,r.Binarizer=I,r.BinaryBitmap=S,r.BitArray=U,r.BitMatrix=ke,r.BitSource=Jc,r.BrowserAztecCodeReader=Za,r.BrowserBarcodeReader=Zd,r.BrowserCodeReader=Me,r.BrowserDatamatrixCodeReader=cm,r.BrowserMultiFormatReader=To,r.BrowserPDF417Reader=Ml,r.BrowserQRCodeReader=nf,r.BrowserQRCodeSvgWriter=ns,r.CharacterSetECI=X,r.ChecksumException=_,r.Code128Reader=Le,r.Code39Reader=sr,r.DataMatrixDecodedBitStreamParser=Ni,r.DataMatrixReader=Oi,r.DecodeHintType=V,r.DecoderResult=se,r.DefaultGridSampler=Pr,r.DetectorResult=_e,r.EAN13Reader=or,r.EncodeHintType=Kr,r.Exception=m,r.FormatException=H,r.GenericGF=He,r.GenericGFPoly=Ue,r.GlobalHistogramBinarizer=ie,r.GridSampler=wr,r.GridSamplerInstance=Wn,r.HTMLCanvasElementLuminanceSource=Se,r.HybridBinarizer=Q,r.ITFReader=Rt,r.IllegalArgumentException=b,r.IllegalStateException=Ct,r.InvertedLuminanceSource=xe,r.LuminanceSource=oe,r.MathUtils=_t,r.MultiFormatOneDReader=Bs,r.MultiFormatReader=Rl,r.MultiFormatWriter=dm,r.NotFoundException=te,r.OneDReader=er,r.PDF417DecodedBitStreamParser=ge,r.PDF417DecoderErrorCorrection=ru,r.PDF417Reader=pn,r.PDF417ResultMetadata=Pl,r.PerspectiveTransform=zt,r.PlanarYUVLuminanceSource=Yi,r.QRCodeByteMatrix=Dl,r.QRCodeDataMask=St,r.QRCodeDecodedBitStreamParser=cr,r.QRCodeDecoderErrorCorrectionLevel=Kt,r.QRCodeDecoderFormatInformation=dn,r.QRCodeEncoder=Qt,r.QRCodeEncoderQRCode=rs,r.QRCodeMaskUtil=ur,r.QRCodeMatrixUtil=dt,r.QRCodeMode=ct,r.QRCodeReader=jn,r.QRCodeVersion=ot,r.QRCodeWriter=Vs,r.RGBLuminanceSource=ko,r.RSS14Reader=tr,r.RSSExpandedReader=Ce,r.ReaderException=Ws,r.ReedSolomonDecoder=Ft,r.ReedSolomonEncoder=su,r.ReedSolomonException=Qe,r.Result=Fe,r.ResultMetadataType=ye,r.ResultPoint=$e,r.StringUtils=de,r.UnsupportedOperationException=Ee,r.VideoInputDevice=Z,r.WhiteRectangleDetector=Ut,r.WriterException=Yt,r.ZXingArrays=L,r.ZXingCharset=af,r.ZXingInteger=M,r.ZXingStandardCharsets=ou,r.ZXingStringBuilder=Ae,r.ZXingStringEncoding=ue,r.ZXingSystem=O,r.createAbstractExpandedDecoder=Xd,Object.defineProperty(r,"__esModule",{value:!0})}))})(Gu,Gu.exports)),Gu.exports}var vr=ED();const SD=da(vr),AD=Xv({__proto__:null,default:SD},[vr]);var oS=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ge.QR_CODE,vr.BarcodeFormat.QR_CODE],[Ge.AZTEC,vr.BarcodeFormat.AZTEC],[Ge.CODABAR,vr.BarcodeFormat.CODABAR],[Ge.CODE_39,vr.BarcodeFormat.CODE_39],[Ge.CODE_93,vr.BarcodeFormat.CODE_93],[Ge.CODE_128,vr.BarcodeFormat.CODE_128],[Ge.DATA_MATRIX,vr.BarcodeFormat.DATA_MATRIX],[Ge.MAXICODE,vr.BarcodeFormat.MAXICODE],[Ge.ITF,vr.BarcodeFormat.ITF],[Ge.EAN_13,vr.BarcodeFormat.EAN_13],[Ge.EAN_8,vr.BarcodeFormat.EAN_8],[Ge.PDF_417,vr.BarcodeFormat.PDF_417],[Ge.RSS_14,vr.BarcodeFormat.RSS_14],[Ge.RSS_EXPANDED,vr.BarcodeFormat.RSS_EXPANDED],[Ge.UPC_A,vr.BarcodeFormat.UPC_A],[Ge.UPC_E,vr.BarcodeFormat.UPC_E],[Ge.UPC_EAN_EXTENSION,vr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!AD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),s=new Map;s.set(vr.DecodeHintType.POSSIBLE_FORMATS,i),s.set(vr.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var r=new vr.MultiFormatReader(this.verbose,this.hints),n=new vr.HTMLCanvasElementLuminanceSource(t),i=new vr.BinaryBitmap(new vr.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:p4.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),_D=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},CD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},lS=(function(){function e(t,r,n){if(this.formatMap=new Map([[Ge.QR_CODE,"qr_code"],[Ge.AZTEC,"aztec"],[Ge.CODABAR,"codabar"],[Ge.CODE_39,"code_39"],[Ge.CODE_93,"code_93"],[Ge.CODE_128,"code_128"],[Ge.DATA_MATRIX,"data_matrix"],[Ge.ITF,"itf"],[Ge.EAN_13,"ean_13"],[Ge.EAN_8,"ean_8"],[Ge.PDF_417,"pdf417"],[Ge.UPC_A,"upc_a"],[Ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return _D(this,void 0,void 0,function(){var r,n;return CD(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:p4.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,s=t;i<s.length;i++){var c=s[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),cS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},uS=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},ND=(function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&lS.isSupported()?(this.primaryDecoder=new lS(t,n,i),this.secondaryDecoder=new oS(t,n,i)):this.primaryDecoder=new oS(t,n,i)}return e.prototype.decodeAsync=function(t){return cS(this,void 0,void 0,function(){var r;return uS(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return cS(this,void 0,void 0,function(){var r,n;return uS(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),yy=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),t0=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},r0=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},g4=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),OD=(function(e){yy(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(g4),ID=(function(e){yy(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(OD),TD=(function(e){yy(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(g4),kD=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ID(this.track)},e.prototype.torchFeature=function(){return new TD(this.track)},e})(),PD=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return t0(this,void 0,void 0,function(){var s,c;return r0(this,function(f){switch(f.label){case 0:return s=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return t0(this,void 0,void 0,function(){return r0(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),s=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new kD(this.getFirstTrackOrFail())},e})(),jD=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return t0(this,void 0,void 0,function(){return r0(this,function(i){return[2,PD.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return t0(this,void 0,void 0,function(){var r,n;return r0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e})(),dS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},fS=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},RD=(function(){function e(){}return e.failIfNotSupported=function(){return dS(this,void 0,void 0,function(){return fS(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return dS(this,void 0,void 0,function(){return fS(this,function(r){return[2,jD.create(t)]})})},e})(),MD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function f(x){try{m(n.next(x))}catch(b){c(b)}}function p(x){try{m(n.throw(x))}catch(b){c(b)}}function m(x){x.done?s(x.value):i(x.value).then(f,p)}m((n=n.apply(e,t||[])).next())})},DD=function(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(m){return function(x){return p([m,x])}}function p(m){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(n=1,i&&(s=m[0]&2?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){r.label=m[1];break}if(m[0]===6&&r.label<s[1]){r.label=s[1],s=m;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(m);break}s[2]&&r.ops.pop(),r.trys.pop();continue}m=t.call(e,r)}catch(x){m=[6,x],i=0}finally{n=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},LD=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=hc.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=hc.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return MD(this,void 0,void 0,function(){var t,r,n,i,s,c,f;return DD(this,function(p){switch(p.label){case 0:return t=function(m){for(var x=m.getVideoTracks(),b=0,S=x;b<S.length;b++){var _=S[b];_.enabled=!1,_.stop(),m.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),i=[],s=0,c=n;s<c.length;s++)f=c[s],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(s){for(var c=[],f=0,p=s;f<p.length;f++){var m=p[f];m.kind==="video"&&c.push({id:m.id,label:m.label})}t(c)},i=MediaStreamTrack;i.getSources(n)})},e})(),Vr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Vr||(Vr={}));var BD=(function(){function e(){this.state=Vr.NOT_STARTED,this.onGoingTransactionNewState=Vr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Vr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Vr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Vr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Vr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Vr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Vr.UNKNOWN:throw"Transition from unknown is not allowed";case Vr.NOT_STARTED:this.failIfNewStateIs(t,[Vr.PAUSED]);break;case Vr.SCANNING:break;case Vr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),FD=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Vr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Vr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Vr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Vr.PAUSED},e})(),UD=(function(){function e(){}return e.create=function(){return new FD(new BD)},e})(),zD=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Mi=(function(e){zD(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(vD),$D=(function(){function e(t,r){this.logger=r,this.fps=Mi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Mi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?m4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ms(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),WD=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new wD(this.verbose),this.qrcode=new ND(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=UD.create()}return e.prototype.start=function(t,r,n,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var f=$D.create(r,this.logger);this.clearElement();var p=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=p,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Mi.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var b=this,S=this.stateManagerProxy.startTransition(Vr.SCANNING);return new Promise(function(_,I){var O=m?f.videoConstraints:b.createVideoConstraints(t);if(!O){S.cancel(),I("videoConstraints should be defined");return}var k={};(!m||f.aspectRatio)&&(k.aspectRatio=f.aspectRatio);var R={onRenderSurfaceReady:function(L,M){b.setupUi(L,M,f),b.isScanning=!0,b.foreverScan(f,n,c)}};RD.failIfNotSupported().then(function(L){L.create(O).then(function(M){return M.render(s.element,k,R).then(function(U){b.renderedCamera=U,S.execute(),_(null)}).catch(function(U){S.cancel(),I(U)})}).catch(function(M){S.cancel(),I(hc.errorGettingUserMedia(M))})}).catch(function(L){S.cancel(),I(hc.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Vr.PAUSED),this.showPausedState(),(ms(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Vr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Vr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var s=document.getElementById(Mi.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ms(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,p=c.height,m=document.getElementById(n.elementId),x=m.clientWidth?m.clientWidth:Mi.DEFAULT_WIDTH,b=Math.max(m.clientHeight?m.clientHeight:p,Mi.FILE_SCAN_MIN_HEIGHT),S=n.computeCanvasDrawConfig(f,p,x,b);if(r){var _=n.createCanvasElement(x,b,"qr-canvas-visible");_.style.display="inline-block",m.appendChild(_);var I=_.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=x,I.canvas.height=b,I.drawImage(c,0,0,f,p,S.x,S.y,S.width,S.height)}var O=Mi.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,S.width),R=Math.max(c.height,S.height),L=k+2*O,M=R+2*O,U=n.createCanvasElement(L,M);m.appendChild(U);var W=U.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=L,W.canvas.height=M,W.drawImage(c,0,0,f,p,O,O,k,R);try{n.qrcode.decodeRobustlyAsync(U).then(function(V){i(aS.createFromQrcodeResult(V))}).catch(s)}catch(V){s("QR code parse error, error = ".concat(V))}},c.onerror=s,c.onabort=s,c.onstalled=s,c.onsuspend=s,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return LD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!m4.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ge.QR_CODE,Ge.AZTEC,Ge.CODABAR,Ge.CODE_39,Ge.CODE_93,Ge.CODE_128,Ge.DATA_MATRIX,Ge.MAXICODE,Ge.ITF,Ge.EAN_13,Ge.EAN_8,Ge.PDF_417,Ge.RSS_14,Ge.RSS_EXPANDED,Ge.UPC_A,Ge.UPC_E,Ge.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=t.formatsToSupport;i<s.length;i++){var c=s[i];xD(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ms(t))return!0;if(!ms(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ms(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ms(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var c=this.toQrdimensions(t,r,s),f=function(m){if(m<Mi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Mi.MIN_QR_BOX_SIZE,"px.")},p=function(m){return m>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};f(c.width),f(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=ms(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&s.height<=r,f={x:0,y:0,width:t,height:r},p=c?this.getShadedRegionBounds(t,r,s):f,m=this.createCanvasElement(p.width,p.height),x={willReadFrequently:!0},b=m.getContext("2d",x);b.canvas.width=p.width,b.canvas.height=p.height,this.element.append(m),c&&this.possiblyInsertShadingElement(this.element,t,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=b,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=hc.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,aS.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=hc.codeParseError(i);return r(s,yD.createFrom(s)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),c=s.videoWidth/s.clientWidth,f=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,m=this.qrRegion.height*f,x=this.qrRegion.x*c,b=this.qrRegion.y*f;this.context.drawImage(s,x,b,p,m,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){S()})):S()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",c=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var p=Object.keys(t)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var m=t.facingMode;if(typeof m=="string"){if(c(m))return{facingMode:m}}else if(typeof m=="object")if(s in m){if(c(m["".concat(s)]))return{facingMode:{exact:m["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof m;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(s in b)return{deviceId:{exact:b["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof b;throw"Invalid type of 'deviceId' = ".concat(S)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var s=(n-t)/2,c=(i-r)/2;return{x:s,y:c,width:t,height:r}}else{var f=t,p=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(p)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Mi.BORDER_SHADER_MATCH_COLOR:Mi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,s=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(s,"px"),c.style.display="none",c.id=ms(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(s.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Mi.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var p=5,m=40;this.insertShaderBorders(s,m,p,-p,null,0,!0),this.insertShaderBorders(s,m,p,-p,null,0,!1),this.insertShaderBorders(s,m,p,null,-p,0,!0),this.insertShaderBorders(s,m,p,null,-p,0,!1),this.insertShaderBorders(s,p,m+p,-p,null,-p,!0),this.insertShaderBorders(s,p,m+p,null,-p,-p,!0),this.insertShaderBorders(s,p,m+p,-p,null,-p,!1),this.insertShaderBorders(s,p,m+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,r,n,i,s,c,f){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Mi.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),i!==null&&(p.style.top="".concat(i,"px")),s!==null&&(p.style.bottom="".concat(s,"px")),f?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),hS;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(hS||(hS={}));const VD=({perfume:e,onSell:t})=>{const[r,n]=N.useState(null);N.useEffect(()=>{i()},[]);const i=async()=>{const{data:c}=await qe.from("inventory").select("quantity").eq("product_id",e.id).single();n(c?c.quantity:e.stock?5:0)},s=async()=>{if(!window.confirm(`Confirmar venta de ${e.name}?`))return;const{data:c,error:f}=await qe.rpc("adjust_inventory",{p_product_id:e.id,p_delta:-1,p_reason:"sale"});f?alert("Error: "+f.message):c.success?(n(c.new_quantity),t(e.price10ml,`Venta: ${e.name}`),alert("Venta exitosa. Nuevo stock: "+c.new_quantity)):alert("Error: "+c.message)};return v.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[v.jsx("td",{className:"px-3 py-2 font-medium text-white",children:e.name}),v.jsx("td",{className:"px-3 py-2 text-center",children:v.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r!==null&&r>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:r!==null?r:"..."})}),v.jsxs("td",{className:"px-3 py-2 text-center text-green-400",children:["$",e.price10ml.toLocaleString()]}),v.jsx("td",{className:"px-3 py-2 text-right",children:v.jsx("button",{onClick:s,disabled:r!==null&&r<=0,className:"bg-blue-600 hover:bg-blue-500 disabled:bg-stone-600 disabled:cursor-not-allowed text-white px-3 py-1 rounded text-xs font-bold shadow-lg",children:"Vender"})})]})},HD=({onLogout:e})=>{const[t,r]=N.useState(""),[n,i]=N.useState(""),[s,c]=N.useState(!1),[f,p]=N.useState(null),[m,x]=N.useState("loyalty"),[b,S]=N.useState("Corte"),[_,I]=N.useState("7000"),[O,k]=N.useState(""),[R,L]=N.useState(""),[M,U]=N.useState("0"),[W,V]=N.useState([]),[H,re]=N.useState(null);N.useEffect(()=>{m==="agenda"&&Za()},[m]);const[X,Ee]=N.useState([]),[ue,de]=N.useState(""),[Ae,ke]=N.useState(!1),[te,ie]=N.useState(""),[Q,oe]=N.useState(""),[xe,Se]=N.useState(null),[Z,fe]=N.useState([]),[Me,Fe]=N.useState(null),[Je,Ie]=N.useState(!1),[lt,ye]=N.useState([]),[se,Be]=N.useState(""),[Ue,we]=N.useState(""),[He,Qe]=N.useState(!1),[Ct,Ft]=N.useState([]),[Pt,At]=N.useState(null),[_t,Ai]=N.useState(""),[$e,_e]=N.useState(""),[gt,Ut]=N.useState(!1),[wr,zt]=N.useState(""),[Pr,Wn]=N.useState("");N.useEffect(()=>{m==="agenda"?Za():m==="clients"?ri():m==="expenses"&&mr()},[m]);const mr=async()=>{const{data:be,error:We}=await qe.from("expenses").select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1});We?console.error("Error fetching expenses:",We):ye(be||[])},ci=async()=>{if(!se||!Ue){alert("Ingrese descripcin y monto");return}Qe(!0);try{const be=ZM(se),{error:We}=await qe.from("expenses").insert({description:se,amount:parseInt(Ue),category:be,date:new Date});if(We)throw We;alert(`Gasto registrado como: ${be}`),Be(""),we(""),mr()}catch(be){alert("Error: "+be.message)}finally{Qe(!1)}},Br=async be=>{if(!window.confirm("Eliminar este gasto?"))return;const{error:We}=await qe.from("expenses").delete().eq("id",be);We||mr()},Za=async()=>{const{data:be,error:We}=await qe.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});We?console.error("Error fetching bookings:",We):V(be||[])},[er,Le]=N.useState(new Date),[sr,Rt]=N.useState(null),[Dt,_i]=N.useState(!1),[xt,Nt]=N.useState(""),[ut,or]=N.useState(""),[Gi,Il]=N.useState("Corte"),[ti,So]=N.useState("salon");(be=>{const We=[],at=be.getDay(),Er=be.getDate()-at+(at===0?-6:1),Sr=new Date(be);Sr.setDate(Er);for(let Fr=0;Fr<7;Fr++){const Ja=new Date(Sr);Ja.setDate(Sr.getDate()+Fr),We.push(Ja)}return We})(er),Array.from({length:13},(be,We)=>`${We+9}:00`);const ri=async()=>{let be=qe.from("clients").select("*").order("created_at",{ascending:!1}).limit(50);ue&&(be=be.ilike("phone",`%${ue}%`));const{data:We,error:at}=await be;at?console.error("Error fetching clients:",at):Ee(We||[])};N.useEffect(()=>{if(m==="clients"){const be=setTimeout(()=>{ri()},500);return()=>clearTimeout(be)}},[ue]);const Qa=async(be,We)=>{if(window.confirm(`ESTS SEGURO? Esto eliminar al cliente ${We} y todo su historial. Esta accin no se puede deshacer.`))try{await qe.from("hair_service_log").delete().eq("client_id",be),await qe.from("transactions").delete().eq("client_id",be),await qe.from("visit_registrations").delete().eq("client_id",be);const{error:at}=await qe.from("clients").delete().eq("id",be);if(at)throw at;alert("Cliente eliminado correctamente."),ri()}catch(at){alert("Error al eliminar: "+at.message)}},En=async be=>{Ie(!0),Fe(be);const{data:We,error:at}=await qe.from("transactions").select("*").eq("client_id",be.id).order("created_at",{ascending:!1});at?console.error("Error fetching history:",at):fe(We||[]),Ie(!1)},Ao=async be=>{if(!window.confirm("Eliminar esta transaccin?"))return;const{error:We}=await qe.from("transactions").delete().eq("id",be);We?alert("Error: "+We.message):fe(at=>at.filter(Er=>Er.id!==be))},Vn=(be=null)=>{be?(Se(be),ie(be.name||""),oe(be.phone||"")):(Se(null),ie(""),oe("")),ke(!0)},_o=async()=>{if(!Q)return alert("El telfono es obligatorio");const be=Q.trim();try{if(xe){const{error:We}=await qe.from("clients").update({name:te,phone:be}).eq("id",xe.id);if(We)throw We;alert("Cliente actualizado")}else{const{error:We}=await qe.from("clients").insert({name:te,phone:be,member_token:"manual-"+Date.now(),visits:0});if(We)throw We;alert("Cliente creado")}ke(!1),ri()}catch(We){alert("Error al guardar cliente: "+We.message)}};N.useEffect(()=>{if(s&&!f){const be=new WD("reader"),We={fps:10,qrbox:{width:250,height:250}};return be.start({facingMode:"environment"},We,ui,un).catch(at=>{console.error("Error starting scanner:",at),i("Error iniciando cmara: "+at)}),()=>{be.stop().then(()=>be.clear()).catch(console.error)}}},[s,f]);const br=async(be,We,at,Er)=>{if(We<=0)return;const{error:Sr}=await qe.from("transactions").insert({client_id:be,amount:We,type:at,description:Er});Sr&&console.error("Error recording transaction:",Sr)},ui=async(be,We)=>{if(!f){p(be),c(!1);try{i("Procesando...");const{data:at,error:Er}=await qe.rpc("register_visit",{token_input:be});if(Er)throw Er;if(at.success){if(i("OK: "+at.message+" Visitas: "+at.new_visits),m==="hair"){const Sr=parseInt(_)||0,{data:Fr}=await qe.from("clients").select("id").eq("member_token",be).single();Fr&&await br(Fr.id,Sr,"service",`Servicio: ${b}`)}else if(m==="ventas"){const{data:Sr}=await qe.from("clients").select("*").eq("member_token",be).single();Sr&&At(Sr)}}else i("Error: "+at.message);setTimeout(()=>{p(null),i("")},4e3)}catch(at){console.error(at),i("Error al procesar el cdigo."),p(null)}}},un=be=>{console.warn(be)},ze=async()=>{if(!H||!window.confirm("Confirmar canje del 10% de Descuento?"))return;const{data:be,error:We}=await qe.rpc("redeem_discount_5th",{token_input:H.member_token});if(We)i("Error: "+We.message);else if(i(be.message),be.success){const{data:at}=await qe.from("clients").select("*").eq("id",H.id).single();re(at)}},Pa=async()=>{if(t.length<8){alert("Ingrese un nmero vlido (ej: +569...)");return}try{if(i("Procesando..."),m==="hair"){const be=parseInt(_)||0,We=parseInt(O)||0,{data:at,error:Er}=await qe.rpc("add_hair_service_by_phone",{phone_input:t,service_type:b,service_price:be,notes_input:`Ingreso Manual. Extras: ${R} ($${We})`});if(Er)throw Er;if(at.success){const{data:Sr}=await qe.from("clients").select("id").eq("phone",t).single();Sr&&await qe.from("transactions").insert({client_id:Sr.id,amount:be,type:"service",description:`Servicio: ${b}`,additional_cost:We,additional_cost_detail:R}),i(` Servicio registrado. Total: ${at.new_total_services}. ${at.discount_5th_unlocked?"DESCUENTO 10% DESBLOQUEADO!":""} ${at.free_cut_unlocked?"CORTE GRATIS DESBLOQUEADO!":""}`),r(""),k(""),L("")}else i("Error: "+at.message)}else{const{data:be,error:We}=await qe.from("clients").select("*").eq("phone",t).single();let at=0;be&&(at=be.visits);const Er=at+1,{data:Sr,error:Fr}=await qe.from("clients").upsert({phone:t,visits:Er,last_visit:new Date().toISOString()},{onConflict:"phone"}).select().single();if(Fr)throw Fr;const Ja=parseInt(M)||0;await br(Sr.id,Ja,"service","Manual: Visita"),i("Visita registrada para "+t+". Total: "+Er),r("")}}catch(be){console.error(be),i("Error: "+(be.message||"Error desconocido"))}};return v.jsxs("div",{className:"max-w-2xl mx-auto p-4 py-12 md:pt-24",children:[v.jsxs("h2",{className:"text-3xl serif text-stone-900 mb-8 border-b pb-4 flex justify-between items-center",children:[v.jsx("span",{children:"Panel de Atencin"}),v.jsx("button",{onClick:e,className:"text-sm bg-stone-200 px-3 py-1 rounded hover:bg-stone-300 transition",children:"Salir"})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 mb-8",children:[v.jsxs("h3",{className:"text-xl font-bold text-stone-900 mb-4 flex items-center gap-2",children:[v.jsx(SE,{className:"text-green-600"}),"Registrar Visita Manual"]}),v.jsx("p",{className:"text-sm text-stone-500 mb-6",children:"Ingrese nmero y monto para registrar."}),v.jsxs("div",{className:"flex gap-4 mb-4 flex-wrap",children:[v.jsx("input",{type:"tel",value:t,onChange:be=>r(be.target.value),placeholder:"+569...",className:"flex-1 min-w-[150px] px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),m==="loyalty"&&v.jsx("input",{type:"number",value:M,onChange:be=>U(be.target.value),placeholder:"Monto ($)",className:"w-32 px-4 py-3 rounded-lg border border-stone-300 focus:ring-2 focus:ring-green-600 outline-none"}),v.jsxs("button",{onClick:Pa,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-green-700 transition flex items-center gap-2",children:[v.jsx(MN,{size:18}),"Registrar"]})]}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsxs("div",{className:"bg-stone-800 p-1 rounded-xl inline-flex",children:[v.jsx("button",{onClick:()=>x("loyalty"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="loyalty"?"bg-amber-500 text-stone-900":"text-stone-400 hover:text-white"}`,children:"Visitas"}),v.jsx("button",{onClick:()=>x("hair"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="hair"?"bg-purple-500 text-white":"text-stone-400 hover:text-white"}`,children:"Peluquera"}),v.jsx("button",{onClick:()=>x("inventory"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="inventory"?"bg-blue-500 text-white":"text-stone-400 hover:text-white"}`,children:"Inventario"}),v.jsx("button",{onClick:()=>x("clients"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="clients"?"bg-red-500 text-white":"text-stone-400 hover:text-white"}`,children:"Clientes"}),v.jsx("button",{onClick:()=>x("expenses"),className:`px-4 py-2 rounded-lg text-sm font-bold transition ${m==="expenses"?"bg-emerald-600 text-white":"text-stone-400 hover:text-white"}`,children:"Compras"})]})}),v.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl shadow-xl border border-white/5",children:[v.jsx("h3",{className:"serif text-xl mb-4 text-center text-white",children:m==="loyalty"?"Registrar Visita":m==="hair"?"Registrar Servicio Peluquera":m==="inventory"?"Gestin de Inventario":m==="clients"?"Gestin de Clientes":"Control de Inversin y Compras"}),m==="expenses"&&v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-stone-700/50 p-4 rounded-xl space-y-3",children:[v.jsx("h4",{className:"text-white font-bold text-sm",children:"Registrar Nueva Compra"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:se,onChange:be=>Be(be.target.value),placeholder:"Descripcin (ej: Tijeras, Sillas...)",className:"flex-1 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),v.jsx("input",{type:"number",value:Ue,onChange:be=>we(be.target.value),placeholder:"Monto",className:"w-24 bg-stone-900 border border-white/10 rounded px-3 py-2 text-white text-sm"}),v.jsx("button",{onClick:ci,disabled:He,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded font-bold text-sm disabled:opacity-50",children:He?"...":"Guardar"})]}),v.jsx("p",{className:"text-[10px] text-stone-400 italic",children:"* La categora se asigna automticamente con IA."})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[["Materiales","Herramientas","Mobiliario","Insumos Recepcin","Otros"].map(be=>{const We=lt.filter(at=>at.category===be).reduce((at,Er)=>at+Er.amount,0);return v.jsxs("div",{className:"bg-stone-900 p-3 rounded-lg border border-white/5",children:[v.jsx("div",{className:"text-stone-400 text-[10px] uppercase font-bold",children:be}),v.jsxs("div",{className:"text-emerald-400 font-mono text-lg font-bold",children:["$",We.toLocaleString()]})]},be)}),v.jsxs("div",{className:"bg-emerald-900/30 p-3 rounded-lg border border-emerald-500/30 col-span-2",children:[v.jsx("div",{className:"text-emerald-200 text-xs uppercase font-bold",children:"Inversin Total"}),v.jsxs("div",{className:"text-white font-mono text-2xl font-bold",children:["$",lt.reduce((be,We)=>be+We.amount,0).toLocaleString()]})]})]}),v.jsx("div",{className:"max-h-60 overflow-y-auto",children:v.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[v.jsx("thead",{className:"sticky top-0 bg-stone-800",children:v.jsxs("tr",{className:"text-stone-500 border-b border-stone-700",children:[v.jsx("th",{className:"pb-2",children:"Desc"}),v.jsx("th",{className:"pb-2",children:"Cat"}),v.jsx("th",{className:"pb-2 text-right",children:"Monto"}),v.jsx("th",{className:"pb-2 w-8"})]})}),v.jsx("tbody",{className:"divide-y divide-stone-700",children:lt.map(be=>v.jsxs("tr",{children:[v.jsx("td",{className:"py-2",children:be.description}),v.jsx("td",{className:"py-2",children:v.jsx("span",{className:"bg-stone-700 px-1 rounded text-[10px]",children:be.category})}),v.jsxs("td",{className:"py-2 text-right text-emerald-400",children:["$",be.amount.toLocaleString()]}),v.jsx("td",{className:"py-2 text-right",children:v.jsx("button",{onClick:()=>Br(be.id),className:"text-red-500 hover:text-red-400",children:v.jsx(yi,{size:12})})})]},be.id))})]})})]}),m==="clients"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",placeholder:"Buscar por telfono...",value:ue,onChange:be=>de(be.target.value),className:"flex-1 bg-stone-900 border border-white/10 rounded-lg px-4 py-2 text-white"}),v.jsxs("button",{onClick:()=>Vn(),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[v.jsx(SE,{size:16})," Nuevo"]})]}),v.jsxs("div",{className:"overflow-x-auto max-h-96",children:[v.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[v.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50 sticky top-0",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2",children:"Nombre"}),v.jsx("th",{className:"px-3 py-2",children:"Telfono"}),v.jsx("th",{className:"px-3 py-2 text-center",children:"Visitas"}),v.jsx("th",{className:"px-3 py-2 text-center",children:"Peluquera"}),v.jsx("th",{className:"px-3 py-2 text-right",children:"Acciones"})]})}),v.jsx("tbody",{children:X.map(be=>v.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/20",children:[v.jsx("td",{className:"px-3 py-2 text-white font-medium",children:be.name||"Sin nombre"}),v.jsx("td",{className:"px-3 py-2 text-stone-300 font-mono",children:be.phone}),v.jsx("td",{className:"px-3 py-2 text-center",children:be.visits}),v.jsx("td",{className:"px-3 py-2 text-center text-purple-400 font-bold",children:be.hair_service_count||0}),v.jsxs("td",{className:"px-3 py-2 text-right flex justify-end gap-1",children:[v.jsx("button",{onClick:()=>En(be),className:"bg-purple-600/20 hover:bg-purple-600 hover:text-white text-purple-400 p-1.5 rounded transition",title:"Ver Historial",children:v.jsx(TN,{size:14})}),v.jsx("button",{onClick:()=>Vn(be),className:"bg-blue-600/20 hover:bg-blue-600 hover:text-white text-blue-500 p-1.5 rounded transition",title:"Editar Cliente",children:v.jsx(sp,{size:14,className:"rotate-90"})}),v.jsx("button",{onClick:()=>Qa(be.id,be.phone),className:"bg-red-600/20 hover:bg-red-600 hover:text-white text-red-500 p-1.5 rounded transition",title:"Eliminar Cliente",children:v.jsx(yi,{size:14})})]})]},be.id))})]}),X.length===0&&v.jsx("p",{className:"text-center text-stone-500 py-4",children:"No se encontraron clientes."})]}),Ae&&v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-sm border border-stone-600 shadow-2xl",children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:xe?"Editar Cliente":"Nuevo Cliente"}),v.jsxs("div",{className:"space-y-3 mb-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Telfono (ID nico)"}),v.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm disabled:opacity-50",placeholder:"+569...",value:Q,onChange:be=>oe(be.target.value),disabled:!!xe}),xe&&v.jsx("p",{className:"text-[10px] text-stone-500 mt-1",children:"El telfono no se puede cambiar."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Nombre"}),v.jsx("input",{className:"w-full bg-stone-900 border border-stone-700 rounded p-2 text-white text-sm",placeholder:"Nombre Cliente",value:te,onChange:be=>ie(be.target.value)})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>ke(!1),className:"flex-1 py-2 rounded bg-stone-700 text-white text-sm hover:bg-stone-600",children:"Cancelar"}),v.jsx("button",{onClick:_o,className:"flex-1 py-2 rounded bg-green-600 text-white font-bold text-sm hover:bg-green-500",children:"Guardar"})]})]})}),Me&&v.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-stone-800 p-6 rounded-2xl w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col border border-stone-600 shadow-2xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:"Historial de Servicios"}),v.jsxs("p",{className:"text-sm text-stone-400",children:[Me.name||"Cliente"," - ",Me.phone]})]}),v.jsx("button",{onClick:()=>{Fe(null),fe([])},className:"p-2 hover:bg-stone-700 rounded-full text-stone-400",children:v.jsx(yi,{size:20})})]}),Je?v.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):Z.length===0?v.jsx("div",{className:"py-12 text-center text-stone-500 bg-stone-900 rounded-lg border border-stone-700",children:v.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[v.jsx("thead",{className:"text-xs uppercase bg-stone-700 text-stone-400 sticky top-0",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2",children:"Fecha"}),v.jsx("th",{className:"px-3 py-2",children:"Descripcin"}),v.jsx("th",{className:"px-3 py-2 text-right",children:"Monto"}),v.jsx("th",{className:"px-3 py-2 w-8"})]})}),v.jsx("tbody",{children:Z.map(be=>v.jsxs("tr",{className:"border-b border-stone-700 hover:bg-stone-700/30",children:[v.jsx("td",{className:"px-3 py-2 text-stone-500 text-[10px]",children:new Date(be.created_at).toLocaleDateString("es-CL")}),v.jsx("td",{className:"px-3 py-2 text-white",children:be.description||(be.type==="service"?"Servicio":"Producto")}),v.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400 font-bold",children:["$",be.amount.toLocaleString()]}),v.jsx("td",{className:"px-3 py-2 text-right",children:v.jsx("button",{onClick:()=>Ao(be.id),className:"text-red-500 hover:text-red-400 p-1",title:"Eliminar",children:v.jsx(op,{size:12})})})]},be.id))}),v.jsx("tfoot",{className:"bg-stone-900 font-bold text-white",children:v.jsxs("tr",{children:[v.jsx("td",{colSpan:2,className:"px-3 py-2",children:"Total"}),v.jsxs("td",{className:"px-3 py-2 text-right text-emerald-400",children:["$",Z.reduce((be,We)=>be+We.amount,0).toLocaleString()]}),v.jsx("td",{})]})})]})}),v.jsx("div",{className:"mt-4 pt-4 border-t border-stone-700",children:v.jsx("button",{onClick:()=>{Fe(null),fe([])},className:"w-full py-2 bg-stone-700 hover:bg-stone-600 text-white rounded font-bold text-sm",children:"Cerrar"})})]})})]}),m==="inventory"&&v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-xs text-left text-stone-300",children:[v.jsx("thead",{className:"text-xs text-stone-400 uppercase bg-stone-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-3 py-2",children:"Perfume"}),v.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"}),v.jsx("th",{className:"px-3 py-2 text-center",children:"Precio 10ml"}),v.jsx("th",{className:"px-3 py-2 text-right",children:"Accin"})]})}),v.jsx("tbody",{children:Va.map(be=>v.jsx(VD,{perfume:be,onSell:(We,at)=>br(H?.id||"anon",We,"product",at)},be.id))})]})}),m==="hair"&&v.jsxs("div",{className:"mb-4 space-y-3",children:[v.jsxs("select",{value:b,onChange:be=>S(be.target.value),className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white",children:[v.jsx("option",{value:"Corte",children:"Corte ($7.000+)"}),v.jsx("option",{value:"Lavado",children:"Lavado ($5.000)"}),v.jsx("option",{value:"Tintura",children:"Tintura ($10.000+)"}),v.jsx("option",{value:"Masaje",children:"Masaje ($5.000)"})]}),v.jsx("input",{type:"number",value:_,onChange:be=>I(be.target.value),placeholder:"Precio Real",className:"w-full bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"number",value:O,onChange:be=>k(be.target.value),placeholder:"Costo Extra ($)",className:"w-1/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"}),v.jsx("input",{type:"text",value:R,onChange:be=>L(be.target.value),placeholder:"Detalle (ej: Luz, Caf)",className:"w-2/3 bg-stone-900 border border-white/10 rounded-lg px-3 py-2 text-white text-sm"})]})]}),m!=="inventory"&&m!=="clients"&&m!=="expenses"&&v.jsxs("button",{onClick:()=>c(!0),className:`w-full py-4 rounded-xl flex items-center justify-center gap-2 font-bold text-lg transition ${m==="hair"?"bg-purple-600 hover:bg-purple-500 text-white":"bg-amber-500 hover:bg-amber-400 text-stone-900"}`,children:[v.jsx(ap,{size:24}),m==="hair"?"Escanear para Servicio":"Escanear Tarjeta"]}),n&&v.jsx("div",{className:"mt-4 p-3 bg-green-500/20 text-green-400 rounded-lg text-sm font-medium whitespace-pre-wrap",children:n}),H&&v.jsxs("div",{className:"mt-6 border-t border-white/10 pt-4",children:[v.jsxs("h3",{className:"font-bold text-white mb-3",children:["Cliente: ",H.phone]}),v.jsx("div",{className:"space-y-3",children:H.discount_5th_visit_available?v.jsx("button",{onClick:ze,className:"w-full bg-purple-600 text-white py-2 rounded",children:"Canjear 10%"}):v.jsx("div",{className:"text-stone-500 text-xs text-center",children:"Sin descuento disponible"})})]})]}),s&&v.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white p-4 rounded-2xl w-full max-w-sm relative",children:[v.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white p-2",children:v.jsx(yi,{size:32})}),v.jsx("h3",{className:"text-center font-bold mb-4",children:"Escanea el Cdigo del Cliente"}),v.jsx("div",{id:"reader",className:"w-full bg-stone-100 rounded-lg overflow-hidden"})]})})]})]})},qD=({visit:e,onClose:t,onSuccess:r})=>{const[n,i]=N.useState(!1),[s,c]=N.useState(""),[f,p]=N.useState(!0),[m,x]=N.useState(""),b=async()=>{if(!s.trim()){x("Debes ingresar qu servicio o producto se realiz.");return}i(!0),x("");try{const{data:_,error:I}=await qe.rpc("process_visit_validation",{registration_id:e.id,new_status:"approved",notes:s,count_as_loyalty:f});if(I)throw I;if(!_.success)throw new Error(_.message);r(),t()}catch(_){x(_.message||"Error al validar visita")}finally{i(!1)}},S=async()=>{if(window.confirm("Seguro que quieres rechazar/eliminar esta visita?")){i(!0);try{const{error:_}=await qe.rpc("process_visit_validation",{registration_id:e.id,new_status:"rejected",notes:"Rechazada por admin",count_as_loyalty:!1});if(_)throw _;r(),t()}catch(_){alert(_.message)}finally{i(!1)}}};return v.jsx("div",{className:"fixed inset-0 bg-stone-950/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-fade-in-up",children:[v.jsxs("div",{className:"bg-stone-900 px-6 py-4 flex justify-between items-center",children:[v.jsx("h3",{className:"text-amber-100 font-serif text-lg",children:"Validar Visita"}),v.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white transition",children:v.jsx(yi,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-stone-50 p-3 rounded-lg border border-stone-200",children:[v.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-700 font-bold",children:e.client?.name.charAt(0)}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-stone-800",children:e.client?.name}),v.jsx("p",{className:"text-xs text-stone-500",children:e.client?.phone})]}),v.jsx("div",{className:"ml-auto text-xs text-stone-400",children:new Date(e.check_in_time).toLocaleTimeString()})]}),m&&v.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm border border-red-100 flex items-center gap-2",children:[v.jsx(iy,{className:"w-4 h-4"}),m]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Servicio Realizado / Compra"}),v.jsx("textarea",{value:s,onChange:_=>c(_.target.value),placeholder:"Ej: Corte Bob + Braiding o Compra Perfume Yara",className:"w-full border border-stone-300 rounded-lg px-3 py-2 text-stone-800 focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",autoFocus:!0})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",id:"cntLoyalty",checked:f,onChange:_=>p(_.target.checked),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-500 border-stone-300"}),v.jsx("label",{htmlFor:"cntLoyalty",className:"text-sm text-stone-700 cursor-pointer select-none",children:"Contar como visita vlida para premios"})]})]}),v.jsxs("div",{className:"mt-8 flex gap-3",children:[v.jsx("button",{onClick:S,disabled:n,className:"px-4 py-3 border border-stone-300 text-stone-500 rounded-lg hover:bg-stone-100 transition font-medium text-sm",children:"Rechazar"}),v.jsx("button",{onClick:b,disabled:n,className:"flex-1 py-3 bg-stone-900 text-white rounded-lg hover:bg-stone-800 transition font-bold shadow-lg flex items-center justify-center gap-2",children:n?v.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):v.jsxs(v.Fragment,{children:[v.jsx(gc,{className:"w-4 h-4"}),"Validar y Sumar Puntos"]})})]})]})]})})};function x4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=x4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=x4(e))&&(n&&(n+=" "),n+=t);return n}var GD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function wy(e){if(typeof e!="string")return!1;var t=GD;return t.includes(e)}var KD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XD=new Set(KD);function v4(e){return typeof e!="string"?!1:XD.has(e)}function y4(e){return typeof e=="string"&&e.startsWith("data-")}function $i(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(v4(r)||y4(r))&&(t[r]=e[r]);return t}function Cc(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $i(t)}return typeof e=="object"&&!Array.isArray(e)?$i(e):null}function Wi(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(v4(r)||y4(r)||wy(r))&&(t[r]=e[r]);return t}var YD=["children","width","height","viewBox","className","style","title","desc"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function ZD(e,t){if(e==null)return{};var r,n,i=QD(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var by=N.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:c,style:f,title:p,desc:m}=e,x=ZD(e,YD),b=s||{width:n,height:i,x:0,y:0},S=qt("recharts-surface",c);return N.createElement("svg",Kx({},Wi(x),{className:S,width:n,height:i,style:f,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height),ref:t}),N.createElement("title",null,p),N.createElement("desc",null,m),r)}),JD=["children","className"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(null,arguments)}function e9(e,t){if(e==null)return{};var r,n,i=t9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qr=N.forwardRef((e,t)=>{var{children:r,className:n}=e,i=e9(e,JD),s=qt("recharts-layer",n);return N.createElement("g",Xx({className:s},Wi(i),{ref:t}),r)}),w4=N.createContext(null),r9=()=>N.useContext(w4);function hr(e){return function(){return e}}const b4=Math.cos,n0=Math.sin,ka=Math.sqrt,i0=Math.PI,fp=2*i0,Yx=Math.PI,Zx=2*Yx,Qo=1e-6,n9=Zx-Qo;function E4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function i9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return E4;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class a9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?E4:i9(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,c){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+c}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,f=this._y1,p=n-t,m=i-r,x=c-t,b=f-r,S=x*x+b*b;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(S>Qo)if(!(Math.abs(b*p-m*x)>Qo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-c,I=i-f,O=p*p+m*m,k=_*_+I*I,R=Math.sqrt(O),L=Math.sqrt(S),M=s*Math.tan((Yx-Math.acos((O+S-k)/(2*R*L)))/2),U=M/L,W=M/R;Math.abs(U-1)>Qo&&this._append`L${t+U*x},${r+U*b}`,this._append`A${s},${s},0,0,${+(b*_>x*I)},${this._x1=t+W*p},${this._y1=r+W*m}`}}arc(t,r,n,i,s,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let f=n*Math.cos(i),p=n*Math.sin(i),m=t+f,x=r+p,b=1^c,S=c?i-s:s-i;this._x1===null?this._append`M${m},${x}`:(Math.abs(this._x1-m)>Qo||Math.abs(this._y1-x)>Qo)&&this._append`L${m},${x}`,n&&(S<0&&(S=S%Zx+Zx),S>n9?this._append`A${n},${n},0,1,${b},${t-f},${r-p}A${n},${n},0,1,${b},${this._x1=m},${this._y1=x}`:S>Qo&&this._append`A${n},${n},0,${+(S>=Yx)},${b},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Ey(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new a9(t)}function Sy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S4(e){this._context=e}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hp(e){return new S4(e)}function A4(e){return e[0]}function _4(e){return e[1]}function C4(e,t){var r=hr(!0),n=null,i=hp,s=null,c=Ey(f);e=typeof e=="function"?e:e===void 0?A4:hr(e),t=typeof t=="function"?t:t===void 0?_4:hr(t);function f(p){var m,x=(p=Sy(p)).length,b,S=!1,_;for(n==null&&(s=i(_=c())),m=0;m<=x;++m)!(m<x&&r(b=p[m],m,p))===S&&((S=!S)?s.lineStart():s.lineEnd()),S&&s.point(+e(b,m,p),+t(b,m,p));if(_)return s=null,_+""||null}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:hr(+p),f):e},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:hr(+p),f):t},f.defined=function(p){return arguments.length?(r=typeof p=="function"?p:hr(!!p),f):r},f.curve=function(p){return arguments.length?(i=p,n!=null&&(s=i(n)),f):i},f.context=function(p){return arguments.length?(p==null?n=s=null:s=i(n=p),f):n},f}function fh(e,t,r){var n=null,i=hr(!0),s=null,c=hp,f=null,p=Ey(m);e=typeof e=="function"?e:e===void 0?A4:hr(+e),t=typeof t=="function"?t:hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_4:hr(+r);function m(b){var S,_,I,O=(b=Sy(b)).length,k,R=!1,L,M=new Array(O),U=new Array(O);for(s==null&&(f=c(L=p())),S=0;S<=O;++S){if(!(S<O&&i(k=b[S],S,b))===R)if(R=!R)_=S,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),I=S-1;I>=_;--I)f.point(M[I],U[I]);f.lineEnd(),f.areaEnd()}R&&(M[S]=+e(k,S,b),U[S]=+t(k,S,b),f.point(n?+n(k,S,b):M[S],r?+r(k,S,b):U[S]))}if(L)return f=null,L+""||null}function x(){return C4().defined(i).curve(c).context(s)}return m.x=function(b){return arguments.length?(e=typeof b=="function"?b:hr(+b),n=null,m):e},m.x0=function(b){return arguments.length?(e=typeof b=="function"?b:hr(+b),m):e},m.x1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:hr(+b),m):n},m.y=function(b){return arguments.length?(t=typeof b=="function"?b:hr(+b),r=null,m):t},m.y0=function(b){return arguments.length?(t=typeof b=="function"?b:hr(+b),m):t},m.y1=function(b){return arguments.length?(r=b==null?null:typeof b=="function"?b:hr(+b),m):r},m.lineX0=m.lineY0=function(){return x().x(e).y(t)},m.lineY1=function(){return x().x(e).y(r)},m.lineX1=function(){return x().x(n).y(t)},m.defined=function(b){return arguments.length?(i=typeof b=="function"?b:hr(!!b),m):i},m.curve=function(b){return arguments.length?(c=b,s!=null&&(f=c(s)),m):c},m.context=function(b){return arguments.length?(b==null?s=f=null:f=c(s=b),m):s},m}class N4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function s9(e){return new N4(e,!0)}function o9(e){return new N4(e,!1)}const Ay={draw(e,t){const r=ka(t/i0);e.moveTo(r,0),e.arc(0,0,r,0,fp)}},l9={draw(e,t){const r=ka(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},O4=ka(1/3),c9=O4*2,u9={draw(e,t){const r=ka(t/c9),n=r*O4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},d9={draw(e,t){const r=ka(t),n=-r/2;e.rect(n,n,r,r)}},f9=.8908130915292852,I4=n0(i0/10)/n0(7*i0/10),h9=n0(fp/10)*I4,p9=-b4(fp/10)*I4,m9={draw(e,t){const r=ka(t*f9),n=h9*r,i=p9*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const c=fp*s/5,f=b4(c),p=n0(c);e.lineTo(p*r,-f*r),e.lineTo(f*n-p*i,p*n+f*i)}e.closePath()}},Gg=ka(3),g9={draw(e,t){const r=-ka(t/(Gg*3));e.moveTo(0,r*2),e.lineTo(-Gg*r,-r),e.lineTo(Gg*r,-r),e.closePath()}},na=-.5,ia=ka(3)/2,Qx=1/ka(12),x9=(Qx/2+1)*3,v9={draw(e,t){const r=ka(t/x9),n=r/2,i=r*Qx,s=n,c=r*Qx+r,f=-s,p=c;e.moveTo(n,i),e.lineTo(s,c),e.lineTo(f,p),e.lineTo(na*n-ia*i,ia*n+na*i),e.lineTo(na*s-ia*c,ia*s+na*c),e.lineTo(na*f-ia*p,ia*f+na*p),e.lineTo(na*n+ia*i,na*i-ia*n),e.lineTo(na*s+ia*c,na*c-ia*s),e.lineTo(na*f+ia*p,na*p-ia*f),e.closePath()}};function y9(e,t){let r=null,n=Ey(i);e=typeof e=="function"?e:hr(e||Ay),t=typeof t=="function"?t:hr(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:hr(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:hr(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function a0(){}function s0(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w9(e){return new T4(e)}function k4(e){this._context=e}k4.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b9(e){return new k4(e)}function P4(e){this._context=e}P4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:s0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E9(e){return new P4(e)}function j4(e){this._context=e}j4.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function S9(e){return new j4(e)}function pS(e){return e<0?-1:1}function mS(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),c=(r-e._y1)/(i||n<0&&-0),f=(s*i+c*n)/(n+i);return(pS(s)+pS(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(f))||0}function gS(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Kg(e,t,r){var n=e._x0,i=e._y0,s=e._x1,c=e._y1,f=(s-n)/3;e._context.bezierCurveTo(n+f,i+f*t,s-f,c-f*r,s,c)}function o0(e){this._context=e}o0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,gS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,gS(this,r=mS(this,e,t)),r);break;default:Kg(this,this._t0,r=mS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R4(e){this._context=new M4(e)}(R4.prototype=Object.create(o0.prototype)).point=function(e,t){o0.prototype.point.call(this,t,e)};function M4(e){this._context=e}M4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function A9(e){return new o0(e)}function _9(e){return new R4(e)}function D4(e){this._context=e}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=xS(e),i=xS(t),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function xS(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),c=new Array(r);for(i[0]=0,s[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,c[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,c[t]-=n*c[t-1];for(i[r-1]=c[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(c[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function C9(e){return new D4(e)}function pp(e,t){this._context=e,this._t=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function N9(e){return new pp(e,.5)}function O9(e){return new pp(e,0)}function I9(e){return new pp(e,1)}function hl(e,t){if((c=e.length)>1)for(var r=1,n,i,s=e[t[0]],c,f=s.length;r<c;++r)for(i=s,s=e[t[r]],n=0;n<f;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Jx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T9(e,t){return e[t]}function k9(e){const t=[];return t.key=e,t}function P9(){var e=hr([]),t=Jx,r=hl,n=T9;function i(s){var c=Array.from(e.apply(this,arguments),k9),f,p=c.length,m=-1,x;for(const b of s)for(f=0,++m;f<p;++f)(c[f][m]=[0,+n(b,c[f].key,m,s)]).data=b;for(f=0,x=Sy(t(c));f<p;++f)c[x[f]].index=f;return r(c,x),c}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:hr(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:hr(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Jx:typeof s=="function"?s:hr(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??hl,i):r},i}function j9(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,c;i<s;++i){for(c=r=0;r<n;++r)c+=e[r][i][1]||0;if(c)for(r=0;r<n;++r)e[r][i][1]/=c}hl(e,t)}}function R9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var c=0,f=0;c<i;++c)f+=e[c][r][1]||0;n[r][1]+=n[r][0]=-f/2}hl(e,t)}}function M9(e,t){if(!(!((c=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,c;n<s;++n){for(var f=0,p=0,m=0;f<c;++f){for(var x=e[t[f]],b=x[n][1]||0,S=x[n-1][1]||0,_=(b-S)/2,I=0;I<f;++I){var O=e[t[I]],k=O[n][1]||0,R=O[n-1][1]||0;_+=k-R}p+=b,m+=_*b}i[n-1][1]+=i[n-1][0]=r,p&&(r-=m/p)}i[n-1][1]+=i[n-1][0]=r,hl(e,t)}}var Xg={},Yg={},vS;function D9(){return vS||(vS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Yg)),Yg}var Zg={},yS;function L4(){return yS||(yS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Zg)),Zg}var Qg={},wS;function _y(){return wS||(wS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Qg)),Qg}var Jg={},e1={},bS;function L9(){return bS||(bS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(e1)),e1}var ES;function Cy(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L9(),r=_y();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],c=i.length;if(c===0)return s;let f=0,p="",m="",x=!1;for(i.charCodeAt(0)===46&&(s.push(""),f++);f<c;){const b=i[f];m?b==="\\"&&f+1<c?(f++,p+=i[f]):b===m?m="":p+=b:x?b==='"'||b==="'"?m=b:b==="]"?(x=!1,s.push(p),p=""):p+=b:b==="["?(x=!0,p&&(s.push(p),p="")):b==="."?p&&(s.push(p),p=""):p+=b,f++}return p&&s.push(p),s}e.toPath=n})(Jg)),Jg}var SS;function Ny(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9(),r=L4(),n=_y(),i=Cy();function s(f,p,m){if(f==null)return m;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return m;const x=f[p];return x===void 0?r.isDeepKey(p)?s(f,i.toPath(p),m):m:x}case"number":case"symbol":{typeof p=="number"&&(p=n.toKey(p));const x=f[p];return x===void 0?m:x}default:{if(Array.isArray(p))return c(f,p,m);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return m;const x=f[p];return x===void 0?m:x}}}function c(f,p,m){if(p.length===0)return m;let x=f;for(let b=0;b<p.length;b++){if(x==null||t.isUnsafeProperty(p[b]))return m;x=x[p[b]]}return x===void 0?m:x}e.get=s})(Xg)),Xg}var t1,AS;function B9(){return AS||(AS=1,t1=Ny().get),t1}var F9=B9();const pl=da(F9);var U9=4;function po(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U9,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Hr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,s,c)=>{var f=r[c-1];return typeof f=="string"?i+f+s:f!==void 0?i+po(f)+s:i+s},"")}var kn=e=>e===0?0:e>0?1:-1,Vi=e=>typeof e=="number"&&e!=+e,_s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,rt=e=>(typeof e=="number"||e instanceof Number)&&!Vi(e),la=e=>rt(e)||typeof e=="string",z9=0,ad=e=>{var t=++z9;return"".concat(e||"").concat(t)},ei=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(t)&&typeof t!="string")return n;var s;if(_s(t)){if(r==null)return n;var c=t.indexOf("%");s=r*parseFloat(t.slice(0,c))/100}else s=+t;return Vi(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},B4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Dr(e,t,r){return rt(e)&&rt(t)?po(e+r*(t-e)):t}function F4(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):pl(n,t))===r)}var $9=e=>{for(var t=e.length,r=0,n=0,i=0,s=0,c=1/0,f=-1/0,p=0,m=0,x=0;x<t;x++){var b,S;p=((b=e[x])===null||b===void 0?void 0:b.cx)||0,m=((S=e[x])===null||S===void 0?void 0:S.cy)||0,r+=p,n+=m,i+=p*m,s+=p*p,c=Math.min(c,p),f=Math.max(f,p)}var _=t*s!==r*r?(t*i-r*n)/(t*s-r*r):0;return{xmin:c,xmax:f,a:_,b:(n-_*r)/t}},pr=e=>e===null||typeof e>"u",_d=e=>pr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function W9(e){return e!=null}function Cd(){}var V9=["type","size","sizeType"];function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K9(e,t){if(e==null)return{};var r,n,i=X9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var U4={symbolCircle:Ay,symbolCross:l9,symbolDiamond:u9,symbolSquare:d9,symbolStar:m9,symbolTriangle:g9,symbolWye:v9},Y9=Math.PI/180,Z9=e=>{var t="symbol".concat(_d(e));return U4[t]||Ay},Q9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Y9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},J9=(e,t)=>{U4["symbol".concat(_d(e))]=t},mp=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=K9(e,V9),s=CS(CS({},i),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var f=()=>{var S=Z9(c),_=y9().type(S).size(Q9(r,n,c)),I=_();if(I!==null)return I},{className:p,cx:m,cy:x}=s,b=Wi(s);return rt(m)&&rt(x)&&rt(r)?N.createElement("path",ev({},b,{className:qt("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(x,")"),d:f()})):null};mp.registerSymbol=J9;var z4=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,e7=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{wy(i)&&(n[i]=(s=>r[i](r,s)))}),n},t7=(e,t,r)=>n=>(e(t,r,n),null),Fc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];wy(i)&&typeof s=="function"&&(n||(n={}),n[i]=t7(s,t,r))}),n},r7=e=>Array.isArray(e)&&e.length>0;function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){i7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7(e,t,r){return(t=a7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(e,t){var r=n7({},e),n=t,i=Object.keys(t),s=i.reduce((c,f)=>(c[f]===void 0&&n[f]!==void 0&&(c[f]=n[f]),c),r);return s}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){l7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l7(e,t,r){return(t=c7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sa=32,d7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function f7(e){var{data:t,iconType:r,inactiveColor:n}=e,i=sa/2,s=sa/6,c=sa/3,f=t.inactive?n:t.color,p=r??t.type;if(p==="none")return null;if(p==="plainline"){var m;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:sa,y2:i,className:"recharts-legend-icon"})}if(p==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(sa,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return N.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(sa/8,"h").concat(sa,"v").concat(sa*3/4,"h").concat(-sa,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var x=o7({},t);return delete x.legendIcon,N.cloneElement(t.legendIcon,x)}return N.createElement(mp,{fill:f,cx:i,cy:i,size:sa,sizeType:"diameter",type:p})}function h7(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:c}=e,f={x:0,y:0,width:sa,height:sa},p={display:n==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((x,b)=>{var S=x.formatter||i,_=qt({"recharts-legend-item":!0,["legend-item-".concat(b)]:!0,inactive:x.inactive});if(x.type==="none")return null;var I=x.inactive?s:x.color,O=S?S(x.value,x,b):x.value;return N.createElement("li",l0({className:_,style:p,key:"legend-item-".concat(b)},Fc(e,x,b)),N.createElement(by,{width:r,height:r,viewBox:f,style:m,"aria-label":"".concat(O," legend icon")},N.createElement(f7,{data:x,iconType:c,inactiveColor:s})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},O))})}var p7=e=>{var t=Jr(e,d7),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},N.createElement(h7,l0({},t,{payload:r})))},r1={},n1={},IS;function m7(){return IS||(IS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const c=r[s],f=n(c);i.has(f)||i.set(f,c)}return Array.from(i.values())}e.uniqBy=t})(n1)),n1}var i1={},TS;function $4(){return TS||(TS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(i1)),i1}var a1={},s1={},o1={},kS;function g7(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(o1)),o1}var PS;function Oy(){return PS||(PS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(s1)),s1}var l1={},jS;function x7(){return jS||(jS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(l1)),l1}var RS;function v7(){return RS||(RS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oy(),r=x7();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(a1)),a1}var c1={},u1={},MS;function y7(){return MS||(MS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny();function r(n){return function(i){return t.get(i,n)}}e.property=r})(u1)),u1}var d1={},f1={},h1={},p1={},DS;function W4(){return DS||(DS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(p1)),p1}var m1={},LS;function V4(){return LS||(LS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(m1)),m1}var g1={},BS;function H4(){return BS||(BS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(g1)),g1}var FS;function w7(){return FS||(FS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W4(),r=V4(),n=H4();function i(x,b,S){return typeof S!="function"?i(x,b,()=>{}):s(x,b,function _(I,O,k,R,L,M){const U=S(I,O,k,R,L,M);return U!==void 0?!!U:s(I,O,_,M)},new Map)}function s(x,b,S,_){if(b===x)return!0;switch(typeof b){case"object":return c(x,b,S,_);case"function":return Object.keys(b).length>0?s(x,{...b},S,_):n.eq(x,b);default:return t.isObject(x)?typeof b=="string"?b==="":!0:n.eq(x,b)}}function c(x,b,S,_){if(b==null)return!0;if(Array.isArray(b))return p(x,b,S,_);if(b instanceof Map)return f(x,b,S,_);if(b instanceof Set)return m(x,b,S,_);const I=Object.keys(b);if(x==null||r.isPrimitive(x))return I.length===0;if(I.length===0)return!0;if(_?.has(b))return _.get(b)===x;_?.set(b,x);try{for(let O=0;O<I.length;O++){const k=I[O];if(!r.isPrimitive(x)&&!(k in x)||b[k]===void 0&&x[k]!==void 0||b[k]===null&&x[k]!==null||!S(x[k],b[k],k,x,b,_))return!1}return!0}finally{_?.delete(b)}}function f(x,b,S,_){if(b.size===0)return!0;if(!(x instanceof Map))return!1;for(const[I,O]of b.entries()){const k=x.get(I);if(S(k,O,I,x,b,_)===!1)return!1}return!0}function p(x,b,S,_){if(b.length===0)return!0;if(!Array.isArray(x))return!1;const I=new Set;for(let O=0;O<b.length;O++){const k=b[O];let R=!1;for(let L=0;L<x.length;L++){if(I.has(L))continue;const M=x[L];let U=!1;if(S(M,k,O,x,b,_)&&(U=!0),U){I.add(L),R=!0;break}}if(!R)return!1}return!0}function m(x,b,S,_){return b.size===0?!0:x instanceof Set?p([...x],[...b],S,_):!1}e.isMatchWith=i,e.isSetMatch=m})(h1)),h1}var US;function q4(){return US||(US=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(f1)),f1}var x1={},v1={},y1={},zS;function b7(){return zS||(zS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(y1)),y1}var w1={},$S;function G4(){return $S||($S=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(w1)),w1}var b1={},WS;function K4(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",c="[object Symbol]",f="[object Date]",p="[object Map]",m="[object Set]",x="[object Array]",b="[object Function]",S="[object ArrayBuffer]",_="[object Object]",I="[object Error]",O="[object DataView]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",U="[object BigUint64Array]",W="[object Int8Array]",V="[object Int16Array]",H="[object Int32Array]",re="[object BigInt64Array]",X="[object Float32Array]",Ee="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=S,e.arrayTag=x,e.bigInt64ArrayTag=re,e.bigUint64ArrayTag=U,e.booleanTag=i,e.dataViewTag=O,e.dateTag=f,e.errorTag=I,e.float32ArrayTag=X,e.float64ArrayTag=Ee,e.functionTag=b,e.int16ArrayTag=V,e.int32ArrayTag=H,e.int8ArrayTag=W,e.mapTag=p,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=L,e.uint32ArrayTag=M,e.uint8ArrayTag=k,e.uint8ClampedArrayTag=R})(b1)),b1}var E1={},VS;function E7(){return VS||(VS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(E1)),E1}var HS;function X4(){return HS||(HS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7(),r=G4(),n=K4(),i=V4(),s=E7();function c(x,b){return f(x,void 0,x,new Map,b)}function f(x,b,S,_=new Map,I=void 0){const O=I?.(x,b,S,_);if(O!==void 0)return O;if(i.isPrimitive(x))return x;if(_.has(x))return _.get(x);if(Array.isArray(x)){const k=new Array(x.length);_.set(x,k);for(let R=0;R<x.length;R++)k[R]=f(x[R],R,S,_,I);return Object.hasOwn(x,"index")&&(k.index=x.index),Object.hasOwn(x,"input")&&(k.input=x.input),k}if(x instanceof Date)return new Date(x.getTime());if(x instanceof RegExp){const k=new RegExp(x.source,x.flags);return k.lastIndex=x.lastIndex,k}if(x instanceof Map){const k=new Map;_.set(x,k);for(const[R,L]of x)k.set(R,f(L,R,S,_,I));return k}if(x instanceof Set){const k=new Set;_.set(x,k);for(const R of x)k.add(f(R,void 0,S,_,I));return k}if(typeof Buffer<"u"&&Buffer.isBuffer(x))return x.subarray();if(s.isTypedArray(x)){const k=new(Object.getPrototypeOf(x)).constructor(x.length);_.set(x,k);for(let R=0;R<x.length;R++)k[R]=f(x[R],R,S,_,I);return k}if(x instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&x instanceof SharedArrayBuffer)return x.slice(0);if(x instanceof DataView){const k=new DataView(x.buffer.slice(0),x.byteOffset,x.byteLength);return _.set(x,k),p(k,x,S,_,I),k}if(typeof File<"u"&&x instanceof File){const k=new File([x],x.name,{type:x.type});return _.set(x,k),p(k,x,S,_,I),k}if(typeof Blob<"u"&&x instanceof Blob){const k=new Blob([x],{type:x.type});return _.set(x,k),p(k,x,S,_,I),k}if(x instanceof Error){const k=new x.constructor;return _.set(x,k),k.message=x.message,k.name=x.name,k.stack=x.stack,k.cause=x.cause,p(k,x,S,_,I),k}if(x instanceof Boolean){const k=new Boolean(x.valueOf());return _.set(x,k),p(k,x,S,_,I),k}if(x instanceof Number){const k=new Number(x.valueOf());return _.set(x,k),p(k,x,S,_,I),k}if(x instanceof String){const k=new String(x.valueOf());return _.set(x,k),p(k,x,S,_,I),k}if(typeof x=="object"&&m(x)){const k=Object.create(Object.getPrototypeOf(x));return _.set(x,k),p(k,x,S,_,I),k}return x}function p(x,b,S=x,_,I){const O=[...Object.keys(b),...t.getSymbols(b)];for(let k=0;k<O.length;k++){const R=O[k],L=Object.getOwnPropertyDescriptor(x,R);(L==null||L.writable)&&(x[R]=f(b[R],R,S,_,I))}}function m(x){switch(r.getTag(x)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=f,e.copyProperties=p})(v1)),v1}var qS;function S7(){return qS||(qS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(x1)),x1}var GS;function A7(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q4(),r=S7();function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(d1)),d1}var S1={},A1={},_1={},KS;function _7(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X4(),r=K4();function n(i,s){return t.cloneDeepWith(i,(c,f,p,m)=>{const x=s?.(c,f,p,m);if(x!==void 0)return x;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const b=new i.constructor(i?.valueOf());return t.copyProperties(b,i),b}case r.argumentsTag:{const b={};return t.copyProperties(b,i),b.length=i.length,b[Symbol.iterator]=i[Symbol.iterator],b}default:return}})}e.cloneDeepWith=n})(_1)),_1}var XS;function C7(){return XS||(XS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_7();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(A1)),A1}var C1={},N1={},YS;function Y4(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(N1)),N1}var O1={},ZS;function N7(){return ZS||(ZS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G4();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(O1)),O1}var QS;function O7(){return QS||(QS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L4(),r=Y4(),n=N7(),i=Cy();function s(c,f){let p;if(Array.isArray(f)?p=f:typeof f=="string"&&t.isDeepKey(f)&&c?.[f]==null?p=i.toPath(f):p=[f],p.length===0)return!1;let m=c;for(let x=0;x<p.length;x++){const b=p[x];if((m==null||!Object.hasOwn(m,b))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(b)&&b<m.length))return!1;m=m[b]}return!0}e.has=s})(C1)),C1}var JS;function I7(){return JS||(JS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q4(),r=_y(),n=C7(),i=Ny(),s=O7();function c(f,p){switch(typeof f){case"object":{Object.is(f?.valueOf(),-0)&&(f="-0");break}case"number":{f=r.toKey(f);break}}return p=n.cloneDeep(p),function(m){const x=i.get(m,f);return x===void 0?s.has(m,f):p===void 0?x===void 0:t.isMatch(x,p)}}e.matchesProperty=c})(S1)),S1}var eA;function T7(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4(),r=y7(),n=A7(),i=I7();function s(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?i.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=s})(c1)),c1}var tA;function k7(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7(),r=$4(),n=v7(),i=T7();function s(c,f=r.identity){return n.isArrayLikeObject(c)?t.uniqBy(Array.from(c),i.iteratee(f)):[]}e.uniqBy=s})(r1)),r1}var I1,rA;function P7(){return rA||(rA=1,I1=k7().uniqBy),I1}var j7=P7();const nA=da(j7);function Z4(e,t,r){return t===!0?nA(e,r):typeof t=="function"?nA(e,t):e}var T1={exports:{}},k1={},P1={exports:{}},j1={};var iA;function R7(){if(iA)return j1;iA=1;var e=Rc();function t(b,S){return b===S&&(b!==0||1/b===1/S)||b!==b&&S!==S}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function f(b,S){var _=S(),I=n({inst:{value:_,getSnapshot:S}}),O=I[0].inst,k=I[1];return s(function(){O.value=_,O.getSnapshot=S,p(O)&&k({inst:O})},[b,_,S]),i(function(){return p(O)&&k({inst:O}),b(function(){p(O)&&k({inst:O})})},[b]),c(_),_}function p(b){var S=b.getSnapshot;b=b.value;try{var _=S();return!r(b,_)}catch{return!0}}function m(b,S){return S()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:f;return j1.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,j1}var aA;function M7(){return aA||(aA=1,P1.exports=R7()),P1.exports}var sA;function D7(){if(sA)return k1;sA=1;var e=Rc(),t=M7();function r(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,s=e.useRef,c=e.useEffect,f=e.useMemo,p=e.useDebugValue;return k1.useSyncExternalStoreWithSelector=function(m,x,b,S,_){var I=s(null);if(I.current===null){var O={hasValue:!1,value:null};I.current=O}else O=I.current;I=f(function(){function R(V){if(!L){if(L=!0,M=V,V=S(V),_!==void 0&&O.hasValue){var H=O.value;if(_(H,V))return U=H}return U=V}if(H=U,n(M,V))return H;var re=S(V);return _!==void 0&&_(H,re)?(M=V,H):(M=V,U=re)}var L=!1,M,U,W=b===void 0?null:b;return[function(){return R(x())},W===null?void 0:function(){return R(W())}]},[x,b,S,_]);var k=i(m,I[0],I[1]);return c(function(){O.hasValue=!0,O.value=k},[k]),p(k),k},k1}var oA;function L7(){return oA||(oA=1,T1.exports=D7()),T1.exports}var B7=L7(),Iy=N.createContext(null),F7=e=>e,ar=()=>{var e=N.useContext(Iy);return e?e.store.dispatch:F7},Dh=()=>{},U7=()=>Dh,z7=(e,t)=>e===t;function Ke(e){var t=N.useContext(Iy);return B7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:U7,t?t.store.getState:Dh,t?t.store.getState:Dh,t?e:Dh,z7)}function $7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function W7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function V7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var lA=e=>Array.isArray(e)?e:[e];function H7(e){const t=Array.isArray(e[0])?e[0]:e;return V7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function q7(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var G7=class{constructor(e){this.value=e}deref(){return this.value}},K7=typeof WeakRef<"u"?WeakRef:G7,X7=0,cA=1;function hh(){return{s:X7,v:void 0,o:null,p:null}}function Q4(e,t={}){let r=hh();const{resultEqualityCheck:n}=t;let i,s=0;function c(){let f=r;const{length:p}=arguments;for(let b=0,S=p;b<S;b++){const _=arguments[b];if(typeof _=="function"||typeof _=="object"&&_!==null){let I=f.o;I===null&&(f.o=I=new WeakMap);const O=I.get(_);O===void 0?(f=hh(),I.set(_,f)):f=O}else{let I=f.p;I===null&&(f.p=I=new Map);const O=I.get(_);O===void 0?(f=hh(),I.set(_,f)):f=O}}const m=f;let x;if(f.s===cA)x=f.v;else if(x=e.apply(null,arguments),s++,n){const b=i?.deref?.()??i;b!=null&&n(b,x)&&(x=b,s!==0&&s--),i=typeof x=="object"&&x!==null||typeof x=="function"?new K7(x):x}return m.s=cA,m.v=x,x}return c.clearCache=()=>{r=hh(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function Y7(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,c=0,f,p={},m=i.pop();typeof m=="object"&&(p=m,m=i.pop()),$7(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const x={...r,...p},{memoize:b,memoizeOptions:S=[],argsMemoize:_=Q4,argsMemoizeOptions:I=[]}=x,O=lA(S),k=lA(I),R=H7(i),L=b(function(){return s++,m.apply(null,arguments)},...O),M=_(function(){c++;const W=q7(R,arguments);return f=L.apply(null,W),f},...k);return Object.assign(M,{resultFunc:m,memoizedResultFunc:L,dependencies:R,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>f,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:b,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var pe=Y7(Q4),Z7=Object.assign((e,t=pe)=>{W7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((c,f,p)=>(c[r[p]]=f,c),{}))},{withTypes:()=>Z7}),R1={},M1={},D1={},uA;function Q7(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const c=t(n),f=t(i);if(c===f&&c===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?f-c:c-f}return 0};e.compareValues=r})(D1)),D1}var L1={},B1={},dA;function J4(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(B1)),B1}var fA;function J7(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J4(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||c!=null&&Object.hasOwn(c,s)}e.isKey=i})(L1)),L1}var hA;function eL(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q7(),r=J7(),n=Cy();function i(s,c,f,p){if(s==null)return[];f=p?void 0:f,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(_=>String(_));const m=(_,I)=>{let O=_;for(let k=0;k<I.length&&O!=null;++k)O=O[I[k]];return O},x=(_,I)=>I==null||_==null?I:typeof _=="object"&&"key"in _?Object.hasOwn(I,_.key)?I[_.key]:m(I,_.path):typeof _=="function"?_(I):Array.isArray(_)?m(I,_):typeof I=="object"?I[_]:I,b=c.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return s.map(_=>({original:_,criteria:b.map(I=>x(I,_))})).slice().sort((_,I)=>{for(let O=0;O<b.length;O++){const k=t.compareValues(_.criteria[O],I.criteria[O],f[O]);if(k!==0)return k}return 0}).map(_=>_.original)}e.orderBy=i})(M1)),M1}var F1={},pA;function tL(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),c=(f,p)=>{for(let m=0;m<f.length;m++){const x=f[m];Array.isArray(x)&&p<s?c(x,p+1):i.push(x)}};return c(r,0),i}e.flatten=t})(F1)),F1}var U1={},mA;function eI(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y4(),r=Oy(),n=W4(),i=H4();function s(c,f,p){return n.isObject(p)&&(typeof f=="number"&&r.isArrayLike(p)&&t.isIndex(f)&&f<p.length||typeof f=="string"&&f in p)?i.eq(p[f],c):!1}e.isIterateeCall=s})(U1)),U1}var gA;function rL(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eL(),r=tL(),n=eI();function i(s,...c){const f=c.length;return f>1&&n.isIterateeCall(s,c[0],c[1])?c=[]:f>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(s,r.flatten(c),["asc"])}e.sortBy=i})(R1)),R1}var z1,xA;function nL(){return xA||(xA=1,z1=rL().sortBy),z1}var iL=nL();const gp=da(iL);var tI=e=>e.legend.settings,aL=e=>e.legend.size,sL=e=>e.legend.payload,oL=pe([sL,tI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?gp(n,r):n});function lL(){return Ke(oL)}var ph=1;function rI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-t.height)>ph||Math.abs(c.left-t.left)>ph||Math.abs(c.top-t.top)>ph||Math.abs(c.width-t.width)>ph)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Un(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cL=typeof Symbol=="function"&&Symbol.observable||"@@observable",vA=cL,$1=()=>Math.random().toString(36).substring(7).split("").join("."),uL={INIT:`@@redux/INIT${$1()}`,REPLACE:`@@redux/REPLACE${$1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$1()}`},c0=uL;function Ty(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function nI(e,t,r){if(typeof e!="function")throw new Error(Un(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Un(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Un(1));return r(nI)(e,t)}let n=e,i=t,s=new Map,c=s,f=0,p=!1;function m(){c===s&&(c=new Map,s.forEach((k,R)=>{c.set(R,k)}))}function x(){if(p)throw new Error(Un(3));return i}function b(k){if(typeof k!="function")throw new Error(Un(4));if(p)throw new Error(Un(5));let R=!0;m();const L=f++;return c.set(L,k),function(){if(R){if(p)throw new Error(Un(6));R=!1,m(),c.delete(L),s=null}}}function S(k){if(!Ty(k))throw new Error(Un(7));if(typeof k.type>"u")throw new Error(Un(8));if(typeof k.type!="string")throw new Error(Un(17));if(p)throw new Error(Un(9));try{p=!0,i=n(i,k)}finally{p=!1}return(s=c).forEach(L=>{L()}),k}function _(k){if(typeof k!="function")throw new Error(Un(10));n=k,S({type:c0.REPLACE})}function I(){const k=b;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Un(11));function L(){const U=R;U.next&&U.next(x())}return L(),{unsubscribe:k(L)}},[vA](){return this}}}return S({type:c0.INIT}),{dispatch:S,subscribe:b,getState:x,replaceReducer:_,[vA]:I}}function dL(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:c0.INIT})>"u")throw new Error(Un(12));if(typeof r(void 0,{type:c0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Un(13))})}function iI(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const c=t[s];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let i;try{dL(r)}catch(s){i=s}return function(c={},f){if(i)throw i;let p=!1;const m={};for(let x=0;x<n.length;x++){const b=n[x],S=r[b],_=c[b],I=S(_,f);if(typeof I>"u")throw f&&f.type,new Error(Un(14));m[b]=I,p=p||I!==_}return p=p||n.length!==Object.keys(c).length,p?m:c}}function u0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fL(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Un(15))};const c={getState:i.getState,dispatch:(p,...m)=>s(p,...m)},f=e.map(p=>p(c));return s=u0(...f)(i.dispatch),{...i,dispatch:s}}}function aI(e){return Ty(e)&&"type"in e&&typeof e.type=="string"}var sI=Symbol.for("immer-nothing"),yA=Symbol.for("immer-draftable"),li=Symbol.for("immer-state");function _a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fi=Object,Nc=Fi.getPrototypeOf,d0="constructor",xp="prototype",tv="configurable",f0="enumerable",Lh="writable",sd="value",Cs=e=>!!e&&!!e[li];function Ia(e){return e?oI(e)||yp(e)||!!e[yA]||!!e[d0]?.[yA]||wp(e)||bp(e):!1}var hL=Fi[xp][d0].toString(),wA=new WeakMap;function oI(e){if(!e||!ky(e))return!1;const t=Nc(e);if(t===null||t===Fi[xp])return!0;const r=Fi.hasOwnProperty.call(t,d0)&&t[d0];if(r===Object)return!0;if(!dc(r))return!1;let n=wA.get(r);return n===void 0&&(n=Function.toString.call(r),wA.set(r,n)),n===hL}function vp(e,t,r=!0){Nd(e)===0?(r?Reflect.ownKeys(e):Fi.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Nd(e){const t=e[li];return t?t.type_:yp(e)?1:wp(e)?2:bp(e)?3:0}var bA=(e,t,r=Nd(e))=>r===2?e.has(t):Fi[xp].hasOwnProperty.call(e,t),rv=(e,t,r=Nd(e))=>r===2?e.get(t):e[t],h0=(e,t,r,n=Nd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function pL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var yp=Array.isArray,wp=e=>e instanceof Map,bp=e=>e instanceof Set,ky=e=>typeof e=="object",dc=e=>typeof e=="function",W1=e=>typeof e=="boolean";function mL(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var gs=e=>e.copy_||e.base_,Py=e=>e.modified_?e.copy_:e.base_;function nv(e,t){if(wp(e))return new Map(e);if(bp(e))return new Set(e);if(yp(e))return Array[xp].slice.call(e);const r=oI(e);if(t===!0||t==="class_only"&&!r){const n=Fi.getOwnPropertyDescriptors(e);delete n[li];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f[Lh]===!1&&(f[Lh]=!0,f[tv]=!0),(f.get||f.set)&&(n[c]={[tv]:!0,[Lh]:!0,[f0]:f[f0],[sd]:e[c]})}return Fi.create(Nc(e),n)}else{const n=Nc(e);if(n!==null&&r)return{...e};const i=Fi.create(n);return Fi.assign(i,e)}}function jy(e,t=!1){return Ep(e)||Cs(e)||!Ia(e)||(Nd(e)>1&&Fi.defineProperties(e,{set:mh,add:mh,clear:mh,delete:mh}),Fi.freeze(e),t&&vp(e,(r,n)=>{jy(n,!0)},!1)),e}function gL(){_a(2)}var mh={[sd]:gL};function Ep(e){return e===null||!ky(e)?!0:Fi.isFrozen(e)}var p0="MapSet",iv="Patches",EA="ArrayMethods",lI={};function ml(e){const t=lI[e];return t||_a(0,e),t}var SA=e=>!!lI[e],od,cI=()=>od,xL=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:SA(p0)?ml(p0):void 0,arrayMethodsPlugin_:SA(EA)?ml(EA):void 0});function AA(e,t){t&&(e.patchPlugin_=ml(iv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function av(e){sv(e),e.drafts_.forEach(vL),e.drafts_=null}function sv(e){e===od&&(od=e.parent_)}var _A=e=>od=xL(od,e);function vL(e){const t=e[li];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[li].modified_&&(av(t),_a(4)),Ia(e)&&(e=NA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[li].base_,e,t)}else e=NA(t,r);return yL(t,e,!0),av(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sI?e:void 0}function NA(e,t){if(Ep(t))return t;const r=t[li];if(!r)return m0(t,e.handledSet_,e);if(!Sp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);fI(r,e)}return r.copy_}function yL(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jy(t,r)}function uI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Sp=(e,t)=>e.scope_===t,wL=[];function dI(e,t,r,n){const i=gs(e),s=e.type_;if(n!==void 0&&rv(i,n,s)===t){h0(i,n,r,s);return}if(!e.draftLocations_){const f=e.draftLocations_=new Map;vp(i,(p,m)=>{if(Cs(m)){const x=f.get(m)||[];x.push(p),f.set(m,x)}})}const c=e.draftLocations_.get(t)??wL;for(const f of c)h0(i,f,r,s)}function bL(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!Sp(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Py(s);dI(e,s.draft_??s,c,r),fI(s,i)})}function fI(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}uI(e)}}function EL(e,t,r){const{scope_:n}=e;if(Cs(r)){const i=r[li];Sp(i,n)&&i.callbacks_.push(function(){Bh(e);const c=Py(i);dI(e,r,c,t)})}else Ia(r)&&e.callbacks_.push(function(){const s=gs(e);e.type_===3?s.has(r)&&m0(r,n.handledSet_,n):rv(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&m0(rv(e.copy_,t,e.type_),n.handledSet_,n)})}function m0(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Cs(e)||t.has(e)||!Ia(e)||Ep(e)||(t.add(e),vp(e,(n,i)=>{if(Cs(i)){const s=i[li];if(Sp(s,r)){const c=Py(s);h0(e,n,c,e.type_),uI(s)}}else Ia(i)&&m0(i,t,r)})),e}function SL(e,t){const r=yp(e),n={type_:r?1:0,scope_:t?t.scope_:cI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=g0;r&&(i=[n],s=ld);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,[f,n]}var g0={get(e,t){if(t===li)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=gs(e);if(!bA(i,t,e.type_))return AL(e,i,t);const s=i[t];if(e.finalized_||!Ia(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&mL(t))return s;if(s===V1(e.base_,t)){Bh(e);const c=e.type_===1?+t:t,f=lv(e.scope_,s,e,c);return e.copy_[c]=f}return s},has(e,t){return t in gs(e)},ownKeys(e){return Reflect.ownKeys(gs(e))},set(e,t,r){const n=hI(gs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=V1(gs(e),t),s=i?.[li];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(pL(r,i)&&(r!==void 0||bA(e.base_,t,e.type_)))return!0;Bh(e),ov(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),EL(e,t,r)),!0},deleteProperty(e,t){return Bh(e),V1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ov(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=gs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Lh]:!0,[tv]:e.type_!==1||t!=="length",[f0]:n[f0],[sd]:r[t]}},defineProperty(){_a(11)},getPrototypeOf(e){return Nc(e.base_)},setPrototypeOf(){_a(12)}},ld={};for(let e in g0){let t=g0[e];ld[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ld.deleteProperty=function(e,t){return ld.set.call(this,e,t,void 0)};ld.set=function(e,t,r){return g0.set.call(this,e[0],t,r,e[0])};function V1(e,t){const r=e[li];return(r?gs(r):e)[t]}function AL(e,t,r){const n=hI(t,r);return n?sd in n?n[sd]:n.get?.call(e.draft_):void 0}function hI(e,t){if(!(t in e))return;let r=Nc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Nc(r)}}function ov(e){e.modified_||(e.modified_=!0,e.parent_&&ov(e.parent_))}function Bh(e){e.copy_||(e.assigned_=new Map,e.copy_=nv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _L=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(dc(r)&&!dc(n)){const c=n;n=r;const f=this;return function(m=c,...x){return f.produce(m,b=>n.call(this,b,...x))}}dc(n)||_a(6),i!==void 0&&!dc(i)&&_a(7);let s;if(Ia(r)){const c=_A(this),f=lv(c,r,void 0);let p=!0;try{s=n(f),p=!1}finally{p?av(c):sv(c)}return AA(c,i),CA(s,c)}else if(!r||!ky(r)){if(s=n(r),s===void 0&&(s=r),s===sI&&(s=void 0),this.autoFreeze_&&jy(s,!0),i){const c=[],f=[];ml(iv).generateReplacementPatches_(r,s,{patches_:c,inversePatches_:f}),i(c,f)}return s}else _a(1,r)},this.produceWithPatches=(r,n)=>{if(dc(r))return(f,...p)=>this.produceWithPatches(f,m=>r(m,...p));let i,s;return[this.produce(r,n,(f,p)=>{i=f,s=p}),i,s]},W1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),W1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),W1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ia(t)||_a(8),Cs(t)&&(t=Oa(t));const r=_A(this),n=lv(r,t,void 0);return n[li].isManual_=!0,sv(r),n}finishDraft(t,r){const n=t&&t[li];(!n||!n.isManual_)&&_a(9);const{scope_:i}=n;return AA(i,r),CA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const i=ml(iv).applyPatches_;return Cs(t)?i(t,r):this.produce(t,s=>i(s,r))}};function lv(e,t,r,n){const[i,s]=wp(t)?ml(p0).proxyMap_(t,r):bp(t)?ml(p0).proxySet_(t,r):SL(t,r);return(r?.scope_??cI()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?bL(r,s,n):s.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=p;s.modified_&&m&&m.generatePatches_(s,[],p)}),i}function Oa(e){return Cs(e)||_a(10,e),pI(e)}function pI(e){if(!Ia(e)||Ep(e))return e;const t=e[li];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=nv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=nv(e,!0);return vp(r,(i,s)=>{h0(r,i,pI(s))},n),t&&(t.finalized_=!1),r}var CL=new _L,mI=CL.produce;function gI(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var NL=gI(),OL=gI,IL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u0:u0.apply(null,arguments)};function ca(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ui(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>aI(n)&&n.type===e,r}var xI=class Ku extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ku.prototype)}static get[Symbol.species](){return Ku}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ku(...t[0].concat(this)):new Ku(...t.concat(this))}};function OA(e){return Ia(e)?mI(e,()=>{}):e}function gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function TL(e){return typeof e=="boolean"}var kL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new xI;return r&&(TL(r)?c.push(NL):c.push(OL(r.extraArgument))),c},vI="RTK_autoBatch",Or=()=>e=>({payload:e,meta:{[vI]:!0}}),IA=e=>t=>{setTimeout(t,e)},yI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const f=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IA(10):e.type==="callback"?e.queueNotification:IA(e.timeout),m=()=>{c=!1,s&&(s=!1,f.forEach(x=>x()))};return Object.assign({},n,{subscribe(x){const b=()=>i&&x(),S=n.subscribe(b);return f.add(x),()=>{S(),f.delete(x)}},dispatch(x){try{return i=!x?.meta?.[vI],s=!i,s&&(c||(c=!0,p(m))),n.dispatch(x)}finally{i=!0}}})},PL=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new xI(e);return n&&i.push(yI(typeof n=="object"?n:void 0)),i};function jL(e){const t=kL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let f;if(typeof r=="function")f=r;else if(Ty(r))f=iI(r);else throw new Error(Ui(1));let p;typeof n=="function"?p=n(t):p=t();let m=u0;i&&(m=IL({trace:!1,...typeof i=="object"&&i}));const x=fL(...p),b=PL(x);let S=typeof c=="function"?c(b):b();const _=m(...S);return nI(f,s,_)}function wI(e){const t={},r=[];let n;const i={addCase(s,c){const f=typeof s=="string"?s:s.type;if(!f)throw new Error(Ui(28));if(f in t)throw new Error(Ui(29));return t[f]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function RL(e){return typeof e=="function"}function ML(e,t){let[r,n,i]=wI(t),s;if(RL(e))s=()=>OA(e());else{const f=OA(e);s=()=>f}function c(f=s(),p){let m=[r[p.type],...n.filter(({matcher:x})=>x(p)).map(({reducer:x})=>x)];return m.filter(x=>!!x).length===0&&(m=[i]),m.reduce((x,b)=>{if(b)if(Cs(x)){const _=b(x,p);return _===void 0?x:_}else{if(Ia(x))return mI(x,S=>b(S,p));{const S=b(x,p);if(S===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return x},f)}return c.getInitialState=s,c}var DL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LL=(e=21)=>{let t="",r=e;for(;r--;)t+=DL[Math.random()*64|0];return t},BL=Symbol.for("rtk-slice-createasyncthunk");function FL(e,t){return`${e}/${t}`}function UL({creators:e}={}){const t=e?.asyncThunk?.[BL];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Ui(11));const c=(typeof n.reducers=="function"?n.reducers($L()):n.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(M,U){const W=typeof M=="string"?M:M.type;if(!W)throw new Error(Ui(12));if(W in p.sliceCaseReducersByType)throw new Error(Ui(13));return p.sliceCaseReducersByType[W]=U,m},addMatcher(M,U){return p.sliceMatchers.push({matcher:M,reducer:U}),m},exposeAction(M,U){return p.actionCreators[M]=U,m},exposeCaseReducer(M,U){return p.sliceCaseReducersByName[M]=U,m}};f.forEach(M=>{const U=c[M],W={reducerName:M,type:FL(i,M),createNotation:typeof n.reducers=="function"};VL(U)?qL(W,U,m,t):WL(W,U,m)});function x(){const[M={},U=[],W=void 0]=typeof n.extraReducers=="function"?wI(n.extraReducers):[n.extraReducers],V={...M,...p.sliceCaseReducersByType};return ML(n.initialState,H=>{for(let re in V)H.addCase(re,V[re]);for(let re of p.sliceMatchers)H.addMatcher(re.matcher,re.reducer);for(let re of U)H.addMatcher(re.matcher,re.reducer);W&&H.addDefaultCase(W)})}const b=M=>M,S=new Map,_=new WeakMap;let I;function O(M,U){return I||(I=x()),I(M,U)}function k(){return I||(I=x()),I.getInitialState()}function R(M,U=!1){function W(H){let re=H[M];return typeof re>"u"&&U&&(re=gh(_,W,k)),re}function V(H=b){const re=gh(S,U,()=>new WeakMap);return gh(re,H,()=>{const X={};for(const[Ee,ue]of Object.entries(n.selectors??{}))X[Ee]=zL(ue,H,()=>gh(_,H,k),U);return X})}return{reducerPath:M,getSelectors:V,get selectors(){return V(W)},selectSlice:W}}const L={name:i,reducer:O,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:k,...R(s),injectInto(M,{reducerPath:U,...W}={}){const V=U??s;return M.inject({reducerPath:V,reducer:O},W),{...L,...R(V,!0)}}};return L}}function zL(e,t,r,n){function i(s,...c){let f=t(s);return typeof f>"u"&&n&&(f=r()),e(f,...c)}return i.unwrapped=e,i}var Ei=UL();function $L(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function WL({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!HL(n))throw new Error(Ui(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?ca(e,c):ca(e))}function VL(e){return e._reducerDefinitionType==="asyncThunk"}function HL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qL({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ui(18));const{payloadCreator:s,fulfilled:c,pending:f,rejected:p,settled:m,options:x}=r,b=i(e,s,x);n.exposeAction(t,b),c&&n.addCase(b.fulfilled,c),f&&n.addCase(b.pending,f),p&&n.addCase(b.rejected,p),m&&n.addMatcher(b.settled,m),n.exposeCaseReducer(t,{fulfilled:c||xh,pending:f||xh,rejected:p||xh,settled:m||xh})}function xh(){}var GL="task",bI="listener",EI="completed",Ry="cancelled",KL=`task-${Ry}`,XL=`task-${EI}`,cv=`${bI}-${Ry}`,YL=`${bI}-${EI}`,Ap=class{constructor(e){this.code=e,this.message=`${GL} ${Ry} (reason: ${e})`}name="TaskAbortError";message},My=(e,t)=>{if(typeof e!="function")throw new TypeError(Ui(32))},x0=()=>{},SI=(e,t=x0)=>(e.catch(t),e),AI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cl=e=>{if(e.aborted)throw new Ap(e.reason)};function _I(e,t){let r=x0;return new Promise((n,i)=>{const s=()=>i(new Ap(e.reason));if(e.aborted){s();return}r=AI(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=x0})}var ZL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ap?"cancelled":"rejected",error:r}}finally{t?.()}},v0=e=>t=>SI(_I(e,t).then(r=>(cl(e),r))),CI=e=>{const t=v0(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wc}=Object,TA={},_p="listenerMiddleware",QL=(e,t)=>{const r=n=>AI(e,()=>n.abort(e.reason));return(n,i)=>{My(n);const s=new AbortController;r(s);const c=ZL(async()=>{cl(e),cl(s.signal);const f=await n({pause:v0(s.signal),delay:CI(s.signal),signal:s.signal});return cl(s.signal),f},()=>s.abort(XL));return i?.autoJoin&&t.push(c.catch(x0)),{result:v0(e)(c),cancel(){s.abort(KL)}}}},JL=(e,t)=>{const r=async(n,i)=>{cl(t);let s=()=>{};const f=[new Promise((p,m)=>{let x=e({predicate:n,effect:(b,S)=>{S.unsubscribe(),p([b,S.getState(),S.getOriginalState()])}});s=()=>{x(),m()}})];i!=null&&f.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await _I(t,Promise.race(f));return cl(t),p}finally{s()}};return(n,i)=>SI(r(n,i))},NI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=ca(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ui(21));return My(s),{predicate:i,type:t,effect:s}},OI=wc(e=>{const{type:t,predicate:r,effect:n}=NI(e);return{id:LL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ui(22))}}},{withTypes:()=>OI}),kA=(e,t)=>{const{type:r,effect:n,predicate:i}=NI(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},uv=e=>{e.pending.forEach(t=>{t.abort(cv)})},eB=(e,t)=>()=>{for(const r of t.keys())uv(r);e.clear()},PA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},II=wc(ca(`${_p}/add`),{withTypes:()=>II}),tB=ca(`${_p}/removeAll`),TI=wc(ca(`${_p}/remove`),{withTypes:()=>TI}),rB=(...e)=>{console.error(`${_p}/error`,...e)},Od=(e={})=>{const t=new Map,r=new Map,n=_=>{const I=r.get(_)??0;r.set(_,I+1)},i=_=>{const I=r.get(_)??1;I===1?r.delete(_):r.set(_,I-1)},{extra:s,onError:c=rB}=e;My(c);const f=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),I=>{_.unsubscribe(),I?.cancelActive&&uv(_)}),p=_=>{const I=kA(t,_)??OI(_);return f(I)};wc(p,{withTypes:()=>p});const m=_=>{const I=kA(t,_);return I&&(I.unsubscribe(),_.cancelActive&&uv(I)),!!I};wc(m,{withTypes:()=>m});const x=async(_,I,O,k)=>{const R=new AbortController,L=JL(p,R.signal),M=[];try{_.pending.add(R),n(_),await Promise.resolve(_.effect(I,wc({},O,{getOriginalState:k,condition:(U,W)=>L(U,W).then(Boolean),take:L,delay:CI(R.signal),pause:v0(R.signal),extra:s,signal:R.signal,fork:QL(R.signal,M),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((U,W,V)=>{U!==R&&(U.abort(cv),V.delete(U))})},cancel:()=>{R.abort(cv),_.pending.delete(R)},throwIfCancelled:()=>{cl(R.signal)}})))}catch(U){U instanceof Ap||PA(c,U,{raisedBy:"effect"})}finally{await Promise.all(M),R.abort(YL),i(_),_.pending.delete(R)}},b=eB(t,r);return{middleware:_=>I=>O=>{if(!aI(O))return I(O);if(II.match(O))return p(O.payload);if(tB.match(O)){b();return}if(TI.match(O))return m(O.payload);let k=_.getState();const R=()=>{if(k===TA)throw new Error(Ui(23));return k};let L;try{if(L=I(O),t.size>0){const M=_.getState(),U=Array.from(t.values());for(const W of U){let V=!1;try{V=W.predicate(O,M,k)}catch(H){V=!1,PA(c,H,{raisedBy:"predicate"})}V&&x(W,O,_,R)}}}finally{k=TA}return L},startListening:p,stopListening:m,clearListeners:b}};function Ui(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kI=Ei({name:"chartLayout",initialState:nB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:iB,setLayout:aB,setChartSize:sB,setScale:oB}=kI.actions,lB=kI.reducer;function PI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function nr(e){return Number.isFinite(e)}function qa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){cB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cB(e,t,r){return(t=uB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=dB(e,"string");return typeof t=="symbol"?t:t+""}function dB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t,r){return pr(e)||pr(t)?r:la(t)?pl(e,t,r):typeof t=="function"?t(e):r}var fB=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:c,layout:f}=t;if((f==="vertical"||f==="horizontal"&&c==="middle")&&s!=="center"&&rt(e[s]))return pc(pc({},e),{},{[s]:e[s]+(n||0)});if((f==="horizontal"||f==="vertical"&&s==="center")&&c!=="middle"&&rt(e[c]))return pc(pc({},e),{},{[c]:e[c]+(i||0)})}return e},Al=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jI=(e,t,r,n)=>{if(n)return e.map(f=>f.coordinate);var i,s,c=e.map(f=>(f.coordinate===t&&(i=!0),f.coordinate===r&&(s=!0),f.coordinate));return i||c.push(t),s||c.push(r),c},RI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:c,realScaleType:f,isCategorical:p,categoricalDomain:m,tickCount:x,ticks:b,niceTicks:S,axisType:_}=e;if(!c)return null;var I=f==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,O=i==="category"&&c.bandwidth?c.bandwidth()/I:0;if(O=_==="angleAxis"&&s&&s.length>=2?kn(s[0]-s[1])*2*O:O,b||S){var k=(b||S||[]).map((R,L)=>{var M=n?n.indexOf(R):R;return{coordinate:c(M)+O,value:R,offset:O,index:L}});return k.filter(R=>!Vi(R.coordinate))}return p&&m?m.map((R,L)=>({coordinate:c(R)+O,value:R,index:L,offset:O})):c.ticks&&x!=null?c.ticks(x).map((R,L)=>({coordinate:c(R)+O,value:R,offset:O,index:L})):c.domain().map((R,L)=>({coordinate:c(R)+O,value:n?n[R]:R,index:L,offset:O}))},RA=1e-4,hB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-RA,s=Math.max(n[0],n[1])+RA,c=e(t[0]),f=e(t[r-1]);(c<i||c>s||f<i||f>s)&&e.domain([t[0],t[r-1]])}},pB=(e,t)=>{if(!t||t.length!==2||!rt(t[0])||!rt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!rt(e[0])||e[0]<r)&&(i[0]=r),(!rt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},mB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0,f=0;f<r;++f){var p=e[f],m=p?.[i];if(m!=null){var x=m[1],b=m[0],S=Vi(x)?b:x;S>=0?(m[0]=s,m[1]=s+S,s=x):(m[0]=c,m[1]=c+S,c=x)}}}},gB=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,c=0;c<r;++c){var f=e[c],p=f?.[i];if(p!=null){var m=Vi(p[1])?p[0]:p[1];m>=0?(p[0]=s,p[1]=s+m,s=p[1]):(p[0]=0,p[1]=0)}}}},xB={sign:mB,expand:j9,none:hl,silhouette:R9,wiggle:M9,positive:gB},vB=(e,t,r)=>{var n,i=(n=xB[r])!==null&&n!==void 0?n:hl,s=P9().keys(t).value((f,p)=>Number(Xt(f,p,0))).order(Jx).offset(i),c=s(e);return c.forEach((f,p)=>{f.forEach((m,x)=>{var b=Xt(e[x],t[p],0);Array.isArray(b)&&b.length===2&&rt(b[0])&&rt(b[1])&&(m[0]=b[0],m[1]=b[1])})}),c};function yB(e){return e==null?void 0:String(e)}function MA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:s,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pr(i[t.dataKey])){var f=F4(r,"value",i[t.dataKey]);if(f)return f.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var p=Xt(i,pr(c)?t.dataKey:c);return pr(p)?null:t.scale(p)}var DA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var f=Xt(s,t.dataKey,t.scale.domain()[c]);return pr(f)?null:t.scale(f)-i/2+n},wB=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},bB=e=>{var t=e.flat(2).filter(rt);return[Math.min(...t),Math.max(...t)]},EB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SB=(e,t,r)=>{if(e!=null)return EB(Object.keys(e).reduce((n,i)=>{var s=e[i];if(!s)return n;var{stackedData:c}=s,f=c.reduce((p,m)=>{var x=PI(m,t,r),b=bB(x);return!nr(b[0])||!nr(b[1])?p:[Math.min(p[0],b[0]),Math.max(p[1],b[1])]},[1/0,-1/0]);return[Math.min(f[0],n[0]),Math.max(f[1],n[1])]},[1/0,-1/0]))},LA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y0=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=gp(t,x=>x.coordinate),s=1/0,c=1,f=i.length;c<f;c++){var p=i[c],m=i[c-1];s=Math.min((p?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function FA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return pc(pc({},t),{},{dataKey:r,payload:n,value:i,name:s})}function Uc(e,t){if(e)return String(e);if(typeof t=="string")return t}var AB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_B=(e,t)=>t==="centric"?e.angle:e.radius,js=e=>e.layout.width,Rs=e=>e.layout.height,CB=e=>e.layout.scale,MI=e=>e.layout.margin,Cp=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Np=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Dy="data-recharts-item-index",Ly="data-recharts-item-id",Id=60;function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return(t=OB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OB(e){var t=IB(e,"string");return typeof t=="symbol"?t:t+""}function IB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TB=e=>e.brush.height;function kB(e){var t=Np(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Id;return r+i}return r},0)}function PB(e){var t=Np(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Id;return r+i}return r},0)}function jB(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function RB(e){var t=Cp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vn=pe([js,Rs,MI,TB,kB,PB,jB,RB,tI,aL],(e,t,r,n,i,s,c,f,p,m)=>{var x={left:(r.left||0)+i,right:(r.right||0)+s},b={top:(r.top||0)+c,bottom:(r.bottom||0)+f},S=vh(vh({},b),x),_=S.bottom;S.bottom+=n,S=fB(S,p,m);var I=e-S.left-S.right,O=t-S.top-S.bottom;return vh(vh({brushBottom:_},S),{},{width:Math.max(I,0),height:Math.max(O,0)})}),MB=pe(vn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),By=pe(js,Rs,(e,t)=>({x:0,y:0,width:e,height:t})),DB=N.createContext(null),$n=()=>N.useContext(DB)!=null,Op=e=>e.brush,Ip=pe([Op,vn,MI],(e,t,r)=>({height:e.height,x:rt(e.x)?e.x:t.left,y:rt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:rt(e.width)?e.width:t.width})),H1={},q1={},G1={},zA;function LB(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let c,f=null;const p=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),x=()=>{f!==null&&(r.apply(c,f),c=void 0,f=null)},b=()=>{m&&x(),O()};let S=null;const _=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,b()},n)},I=()=>{S!==null&&(clearTimeout(S),S=null)},O=()=>{I(),c=void 0,f=null},k=()=>{x()},R=function(...L){if(i?.aborted)return;c=this,f=L;const M=S==null;_(),p&&M&&x()};return R.schedule=_,R.cancel=O,R.flush=k,i?.addEventListener("abort",O,{once:!0}),R}e.debounce=t})(G1)),G1}var $A;function BB(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LB();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:f=!0,maxWait:p}=s,m=Array(2);c&&(m[0]="leading"),f&&(m[1]="trailing");let x,b=null;const S=t.debounce(function(...O){x=n.apply(this,O),b=null},i,{edges:m}),_=function(...O){return p!=null&&(b===null&&(b=Date.now()),Date.now()-b>=p)?(x=n.apply(this,O),b=Date.now(),S.cancel(),S.schedule(),x):(S.apply(this,O),x)},I=()=>(S.flush(),x);return _.cancel=S.cancel,_.flush=I,_}e.debounce=r})(q1)),q1}var WA;function FB(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BB();function r(n,i=0,s={}){const{leading:c=!0,trailing:f=!0}=s;return t.debounce(n,i,{leading:c,maxWait:i,trailing:f})}e.throttle=r})(H1)),H1}var K1,VA;function UB(){return VA||(VA=1,K1=FB().throttle),K1}var zB=UB();const $B=da(zB);var w0=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>i[c++]))}},DI=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:c}=r,f=_s(n)?e:Number(n),p=_s(i)?t:Number(i);return s&&s>0&&(f?p=f/s:p&&(f=p*s),c&&p!=null&&p>c&&(p=c)),{calculatedWidth:f,calculatedHeight:p}},WB={width:0,height:0,overflow:"visible"},VB={width:0,overflowX:"visible"},HB={height:0,overflowY:"visible"},qB={},GB=e=>{var{width:t,height:r}=e,n=_s(t),i=_s(r);return n&&i?WB:n?VB:i?HB:qB};function KB(e){var{width:t,height:r,aspect:n}=e,i=t,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=ZB(e,"string");return typeof t=="symbol"?t:t+""}function ZB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LI=N.createContext({width:-1,height:-1});function QB(e){return qa(e.width)&&qa(e.height)}function BI(e){var{children:t,width:r,height:n}=e,i=N.useMemo(()=>({width:r,height:n}),[r,n]);return QB(i)?N.createElement(LI.Provider,{value:i},t):null}var Fy=()=>N.useContext(LI),JB=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:c=0,minHeight:f,maxHeight:p,children:m,debounce:x=0,id:b,className:S,onResize:_,style:I={}}=e,O=N.useRef(null),k=N.useRef();k.current=_,N.useImperativeHandle(t,()=>O.current);var[R,L]=N.useState({containerWidth:n.width,containerHeight:n.height}),M=N.useCallback((re,X)=>{L(Ee=>{var ue=Math.round(re),de=Math.round(X);return Ee.containerWidth===ue&&Ee.containerHeight===de?Ee:{containerWidth:ue,containerHeight:de}})},[]);N.useEffect(()=>{if(O.current==null||typeof ResizeObserver>"u")return Cd;var re=de=>{var Ae,{width:ke,height:te}=de[0].contentRect;M(ke,te),(Ae=k.current)===null||Ae===void 0||Ae.call(k,ke,te)};x>0&&(re=$B(re,x,{trailing:!0,leading:!1}));var X=new ResizeObserver(re),{width:Ee,height:ue}=O.current.getBoundingClientRect();return M(Ee,ue),X.observe(O.current),()=>{X.disconnect()}},[M,x]);var{containerWidth:U,containerHeight:W}=R;w0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:H}=DI(U,W,{width:i,height:s,aspect:r,maxHeight:p});return w0(V!=null&&V>0||H!=null&&H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,H,i,s,c,f,r),N.createElement("div",{id:b?"".concat(b):void 0,className:qt("recharts-responsive-container",S),style:qA(qA({},I),{},{width:i,height:s,minWidth:c,minHeight:f,maxHeight:p}),ref:O},N.createElement("div",{style:GB({width:i,height:s})},N.createElement(BI,{width:V,height:H},m)))}),Fh=N.forwardRef((e,t)=>{var r=Fy();if(qa(r.width)&&qa(r.height))return e.children;var{width:n,height:i}=KB({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:c}=DI(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return rt(s)&&rt(c)?N.createElement(BI,{width:s,height:c},e.children):N.createElement(JB,dv({},e,{width:n,height:i,ref:t}))});function FI(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var zc=()=>{var e,t=$n(),r=Ke(MB),n=Ke(Ip),i=(e=Ke(Op))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},eF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},UI=()=>{var e;return(e=Ke(vn))!==null&&e!==void 0?e:eF},Uy=()=>Ke(js),zy=()=>Ke(Rs),tF=()=>Ke(e=>e.layout.margin),Vt=e=>e.layout.layoutType,Td=()=>Ke(Vt),rF=()=>{var e=Td();return e!==void 0},Tp=e=>{var t=ar(),r=$n(),{width:n,height:i}=e,s=Fy(),c=n,f=i;return s&&(c=s.width>0?s.width:n,f=s.height>0?s.height:i),N.useEffect(()=>{!r&&qa(c)&&qa(f)&&t(sB({width:c,height:f}))},[t,r,c,f]),null},zI=Symbol.for("immer-nothing"),GA=Symbol.for("immer-draftable"),Hi=Symbol.for("immer-state");function Ca(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cd=Object.getPrototypeOf;function Oc(e){return!!e&&!!e[Hi]}function gl(e){return e?$I(e)||Array.isArray(e)||!!e[GA]||!!e.constructor?.[GA]||kd(e)||Pp(e):!1}var nF=Object.prototype.constructor.toString(),KA=new WeakMap;function $I(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=KA.get(r);return n===void 0&&(n=Function.toString.call(r),KA.set(r,n)),n===nF}function b0(e,t,r=!0){kp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function kp(e){const t=e[Hi];return t?t.type_:Array.isArray(e)?1:kd(e)?2:Pp(e)?3:0}function fv(e,t){return kp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function WI(e,t,r){const n=kp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iF(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kd(e){return e instanceof Map}function Pp(e){return e instanceof Set}function Jo(e){return e.copy_||e.base_}function hv(e,t){if(kd(e))return new Map(e);if(Pp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=$I(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Hi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],f=n[c];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(n[c]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[c]})}return Object.create(cd(e),n)}else{const n=cd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function $y(e,t=!1){return jp(e)||Oc(e)||!gl(e)||(kp(e)>1&&Object.defineProperties(e,{set:yh,add:yh,clear:yh,delete:yh}),Object.freeze(e),t&&Object.values(e).forEach(r=>$y(r,!0))),e}function aF(){Ca(2)}var yh={value:aF};function jp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var sF={};function xl(e){const t=sF[e];return t||Ca(0,e),t}var ud;function VI(){return ud}function oF(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XA(e,t){t&&(xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pv(e){mv(e),e.drafts_.forEach(lF),e.drafts_=null}function mv(e){e===ud&&(ud=e.parent_)}function YA(e){return ud=oF(ud,e)}function lF(e){const t=e[Hi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Hi].modified_&&(pv(t),Ca(4)),gl(e)&&(e=E0(t,e),t.parent_||S0(t,e)),t.patches_&&xl("Patches").generateReplacementPatches_(r[Hi].base_,e,t.patches_,t.inversePatches_)):e=E0(t,r,[]),pv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zI?e:void 0}function E0(e,t,r){if(jp(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Hi];if(!i)return b0(t,(s,c)=>QA(e,i,t,s,c,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return S0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let c=s,f=!1;i.type_===3&&(c=new Set(s),s.clear(),f=!0),b0(c,(p,m)=>QA(e,i,s,p,m,r,f),n),S0(e,s,!1),r&&e.patches_&&xl("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function QA(e,t,r,n,i,s,c){if(i==null||typeof i!="object"&&!c)return;const f=jp(i);if(!(f&&!c)){if(Oc(i)){const p=s&&t&&t.type_!==3&&!fv(t.assigned_,n)?s.concat(n):void 0,m=E0(e,i,p);if(WI(r,n,m),Oc(m))e.canAutoFreeze_=!1;else return}else c&&r.add(i);if(gl(i)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&f)return;E0(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&S0(e,i)}}}function S0(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$y(t,r)}function cF(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:VI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Wy;r&&(i=[n],s=dd);const{revoke:c,proxy:f}=Proxy.revocable(i,s);return n.draft_=f,n.revoke_=c,f}var Wy={get(e,t){if(t===Hi)return e;const r=Jo(e);if(!fv(r,t))return uF(e,r,t);const n=r[t];return e.finalized_||!gl(n)?n:n===X1(e.base_,t)?(Y1(e),e.copy_[t]=xv(n,e)):n},has(e,t){return t in Jo(e)},ownKeys(e){return Reflect.ownKeys(Jo(e))},set(e,t,r){const n=HI(Jo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=X1(Jo(e),t),s=i?.[Hi];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iF(r,i)&&(r!==void 0||fv(e.base_,t)))return!0;Y1(e),gv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return X1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Y1(e),gv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Jo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ca(11)},getPrototypeOf(e){return cd(e.base_)},setPrototypeOf(){Ca(12)}},dd={};b0(Wy,(e,t)=>{dd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return Wy.set.call(this,e[0],t,r,e[0])};function X1(e,t){const r=e[Hi];return(r?Jo(r):e)[t]}function uF(e,t,r){const n=HI(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function HI(e,t){if(!(t in e))return;let r=cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cd(r)}}function gv(e){e.modified_||(e.modified_=!0,e.parent_&&gv(e.parent_))}function Y1(e){e.copy_||(e.copy_=hv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dF=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const c=this;return function(p=s,...m){return c.produce(p,x=>r.call(this,x,...m))}}typeof r!="function"&&Ca(6),n!==void 0&&typeof n!="function"&&Ca(7);let i;if(gl(t)){const s=YA(this),c=xv(t,void 0);let f=!0;try{i=r(c),f=!1}finally{f?pv(s):mv(s)}return XA(s,n),ZA(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===zI&&(i=void 0),this.autoFreeze_&&$y(i,!0),n){const s=[],c=[];xl("Patches").generateReplacementPatches_(t,i,s,c),n(s,c)}return i}else Ca(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...f)=>this.produceWithPatches(c,p=>t(p,...f));let n,i;return[this.produce(t,r,(c,f)=>{n=c,i=f}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){gl(e)||Ca(8),Oc(e)&&(e=fF(e));const t=YA(this),r=xv(e,void 0);return r[Hi].isManual_=!0,mv(t),r}finishDraft(e,t){const r=e&&e[Hi];(!r||!r.isManual_)&&Ca(9);const{scope_:n}=r;return XA(n,t),ZA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=xl("Patches").applyPatches_;return Oc(e)?n(e,t):this.produce(e,i=>n(i,t))}};function xv(e,t){const r=kd(e)?xl("MapSet").proxyMap_(e,t):Pp(e)?xl("MapSet").proxySet_(e,t):cF(e,t);return(t?t.scope_:VI()).drafts_.push(r),r}function fF(e){return Oc(e)||Ca(10,e),qI(e)}function qI(e){if(!gl(e)||jp(e))return e;const t=e[Hi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=hv(e,!0);return b0(r,(i,s)=>{WI(r,i,qI(s))},n),t&&(t.finalized_=!1),r}var hF=new dF;hF.produce;var pF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GI=Ei({name:"legend",initialState:pF,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Or()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Or()},removeLegendPayload:{reducer(e,t){var r=Oa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Or()}}}),{setLegendSize:JA,setLegendSettings:mF,addLegendPayload:KI,replaceLegendPayload:XI,removeLegendPayload:YI}=GI.actions,gF=GI.reducer,xF=["contextPayload"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vv.apply(null,arguments)}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return(t=yF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=wF(e,"string");return typeof t=="symbol"?t:t+""}function wF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bF(e,t){if(e==null)return{};var r,n,i=EF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SF(e){return e.value}function AF(e){var{contextPayload:t}=e,r=bF(e,xF),n=Z4(t,e.payloadUniqBy,SF),i=Ic(Ic({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(p7,i)}function _F(e,t,r,n,i,s){var{layout:c,align:f,verticalAlign:p}=t,m,x;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&c==="vertical"?m={left:((n||0)-s.width)/2}:m=f==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(p==="middle"?x={top:((i||0)-s.height)/2}:x=p==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ic(Ic({},m),x)}function CF(e){var t=ar();return N.useEffect(()=>{t(mF(e))},[t,e]),null}function NF(e){var t=ar();return N.useEffect(()=>(t(JA(e)),()=>{t(JA({width:0,height:0}))}),[t,e]),null}function OF(e,t,r,n){return e==="vertical"&&rt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var IF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Vy(e){var t=Jr(e,IF),r=lL(),n=r9(),i=tF(),{width:s,height:c,wrapperStyle:f,portal:p}=t,[m,x]=rI([r]),b=Uy(),S=zy();if(b==null||S==null)return null;var _=b-(i?.left||0)-(i?.right||0),I=OF(t.layout,c,s,_),O=p?f:Ic(Ic({position:"absolute",width:I?.width||s||"auto",height:I?.height||c||"auto"},_F(f,t,i,b,S,m)),f),k=p??n;if(k==null||r==null)return null;var R=N.createElement("div",{className:"recharts-legend-wrapper",style:O,ref:x},N.createElement(CF,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!p&&N.createElement(NF,{width:m.width,height:m.height}),N.createElement(AF,vv({},t,I,{margin:i,chartWidth:b,chartHeight:S,contextPayload:r})));return ny.createPortal(R,k)}Vy.displayName="Legend";function yv(){return yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yv.apply(null,arguments)}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){TF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TF(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jF(e){return Array.isArray(e)&&la(e[0])&&la(e[1])?e.join(" ~ "):e}var RF=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:c,itemSorter:f,wrapperClassName:p,labelClassName:m,label:x,labelFormatter:b,accessibilityLayer:S=!1}=e,_=()=>{if(s&&s.length){var W={padding:0,margin:0},V=(f?gp(s,f):s).map((H,re)=>{if(H.type==="none")return null;var X=H.formatter||c||jF,{value:Ee,name:ue}=H,de=Ee,Ae=ue;if(X){var ke=X(Ee,ue,H,re,s);if(Array.isArray(ke))[de,Ae]=ke;else if(ke!=null)de=ke;else return null}var te=Z1({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:te},la(Ae)?N.createElement("span",{className:"recharts-tooltip-item-name"},Ae):null,la(Ae)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},de),N.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:W},V)}return null},I=Z1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),O=Z1({margin:0},i),k=!pr(x),R=k?x:"",L=qt("recharts-default-tooltip",p),M=qt("recharts-tooltip-label",m);k&&b&&s!==void 0&&s!==null&&(R=b(x,s));var U=S?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",yv({className:L,style:I},U),N.createElement("p",{className:M,style:O},N.isValidElement(R)?R:"".concat(R)),_())},Du="recharts-tooltip-wrapper",MF={visibility:"hidden"};function DF(e){var{coordinate:t,translateX:r,translateY:n}=e;return qt(Du,{["".concat(Du,"-right")]:rt(r)&&t&&rt(t.x)&&r>=t.x,["".concat(Du,"-left")]:rt(r)&&t&&rt(t.x)&&r<t.x,["".concat(Du,"-bottom")]:rt(n)&&t&&rt(t.y)&&n>=t.y,["".concat(Du,"-top")]:rt(n)&&t&&rt(t.y)&&n<t.y})}function r_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:c,tooltipDimension:f,viewBox:p,viewBoxDimension:m}=e;if(s&&rt(s[n]))return s[n];var x=r[n]-f-(i>0?i:0),b=r[n]+i;if(t[n])return c[n]?x:b;var S=p[n];if(S==null)return 0;if(c[n]){var _=x,I=S;return _<I?Math.max(b,S):Math.max(x,S)}if(m==null)return 0;var O=b+f,k=S+m;return O>k?Math.max(x,S):Math.max(b,S)}function LF(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function BF(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:c,useTranslate3d:f,viewBox:p}=e,m,x,b;return c.height>0&&c.width>0&&r?(x=r_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.width,viewBox:p,viewBoxDimension:p.width}),b=r_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:c.height,viewBox:p,viewBoxDimension:p.height}),m=LF({translateX:x,translateY:b,useTranslate3d:f})):m=MF,{cssProperties:m,cssClasses:DF({translateX:x,translateY:b,coordinate:r})}}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wv(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=UF(e,"string");return typeof t=="symbol"?t:t+""}function UF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zF extends N.PureComponent{constructor(){super(...arguments),wv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:c,hasPayload:f,isAnimationActive:p,offset:m,position:x,reverseDirection:b,useTranslate3d:S,viewBox:_,wrapperStyle:I,lastBoundingBox:O,innerRef:k,hasPortalFromProps:R}=this.props,{cssClasses:L,cssProperties:M}=BF({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:m,position:x,reverseDirection:b,tooltipBox:{height:O.height,width:O.width},useTranslate3d:S,viewBox:_}),U=R?{}:wh(wh({transition:p&&t?"transform ".concat(n,"ms ").concat(i):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),W=wh(wh({},U),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},I);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:W,ref:k},s)}}var ZI=()=>{var e;return(e=Ke(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){$F(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $F(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s_={curveBasisClosed:b9,curveBasisOpen:E9,curveBasis:w9,curveBumpX:s9,curveBumpY:o9,curveLinearClosed:S9,curveLinear:hp,curveMonotoneX:A9,curveMonotoneY:_9,curveNatural:C9,curveStep:N9,curveStepAfter:I9,curveStepBefore:O9},A0=e=>nr(e.x)&&nr(e.y),o_=e=>e.base!=null&&A0(e.base)&&A0(e),Lu=e=>e.x,Bu=e=>e.y,HF=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(_d(e));return(r==="curveMonotone"||r==="curveBump")&&t?s_["".concat(r).concat(t==="vertical"?"Y":"X")]:s_[r]||hp},qF=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,c=HF(t,i),f=s?r.filter(A0):r,p;if(Array.isArray(n)){var m=r.map((_,I)=>a_(a_({},_),{},{base:n[I]}));i==="vertical"?p=fh().y(Bu).x1(Lu).x0(_=>_.base.x):p=fh().x(Lu).y1(Bu).y0(_=>_.base.y);var x=p.defined(o_).curve(c),b=s?m.filter(o_):m;return x(b)}i==="vertical"&&rt(n)?p=fh().y(Bu).x1(Lu).x0(n):rt(n)?p=fh().x(Lu).y1(Bu).y0(n):p=C4().x(Lu).y(Bu);var S=p.defined(A0).curve(c);return S(f)},Rp=e=>{var{className:t,points:r,path:n,pathRef:i}=e,s=Td();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},f=r&&r.length?qF(c):n;return N.createElement("path",bv({},$i(e),e7(e),{className:qt("recharts-curve",t),d:f===null?void 0:f,ref:i}))},GF=["x","y","top","left","width","height","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(null,arguments)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){XF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XF(e,t,r){return(t=YF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QF(e,t){if(e==null)return{};var r,n,i=JF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eU=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),tU=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:c=0,className:f}=e,p=QF(e,GF),m=KF({x:t,y:r,top:n,left:i,width:s,height:c},p);return!rt(t)||!rt(r)||!rt(s)||!rt(c)||!rt(n)||!rt(i)?null:N.createElement("path",Ev({},Wi(m),{className:qt("recharts-cross",f),d:eU(t,r,s,c,n,i)}))};function rU(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sU=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QI=(e,t,r)=>e.map(n=>"".concat(sU(n)," ").concat(t,"ms ").concat(r)).join(","),oU=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fd=(e,t)=>Object.keys(t).reduce((r,n)=>u_(u_({},r),{},{[n]:e(n,t[n])}),{});function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _0=(e,t,r)=>e+(t-e)*r,Sv=e=>{var{from:t,to:r}=e;return t!==r},JI=(e,t,r)=>{var n=fd((i,s)=>{if(Sv(s)){var[c,f]=e(s.from,s.to,s.velocity);return xn(xn({},s),{},{from:c,velocity:f})}return s},t);return r<1?fd((i,s)=>Sv(s)&&n[i]!=null?xn(xn({},s),{},{velocity:_0(s.velocity,n[i].velocity,r),from:_0(s.from,n[i].from,r)}):s,t):JI(e,n,r-1)};function dU(e,t,r,n,i,s){var c,f=n.reduce((S,_)=>xn(xn({},S),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),p=()=>fd((S,_)=>_.from,f),m=()=>!Object.values(f).filter(Sv).length,x=null,b=S=>{c||(c=S);var _=S-c,I=_/r.dt;f=JI(r,f,I),i(xn(xn(xn({},e),t),p())),c=S,m()||(x=s.setTimeout(b))};return()=>(x=s.setTimeout(b),()=>{var S;(S=x)===null||S===void 0||S()})}function fU(e,t,r,n,i,s,c){var f=null,p=i.reduce((b,S)=>{var _=e[S],I=t[S];return _==null||I==null?b:xn(xn({},b),{},{[S]:[_,I]})},{}),m,x=b=>{m||(m=b);var S=(b-m)/n,_=fd((O,k)=>_0(...k,r(S)),p);if(s(xn(xn(xn({},e),t),_)),S<1)f=c.setTimeout(x);else{var I=fd((O,k)=>_0(...k,r(1)),p);s(xn(xn(xn({},e),t),I))}};return()=>(f=c.setTimeout(x),()=>{var b;(b=f)===null||b===void 0||b()})}const hU=(e,t,r,n,i,s)=>{var c=oU(e,t);return r==null?()=>(i(xn(xn({},e),t)),()=>{}):r.isStepper===!0?dU(e,t,r,c,i,s):fU(e,t,r,n,c,i,s)};var C0=1e-4,eT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],tT=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),f_=(e,t)=>r=>{var n=eT(e,t);return tT(n,r)},pU=(e,t)=>r=>{var n=eT(e,t),i=[...n.map((s,c)=>s*c).slice(1),0];return tT(i,r)},mU=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},gU=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=mU(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},xU=(e,t,r,n)=>{var i=f_(e,r),s=f_(t,n),c=pU(e,r),f=m=>m>1?1:m<0?0:m,p=m=>{for(var x=m>1?1:m,b=x,S=0;S<8;++S){var _=i(b)-x,I=c(b);if(Math.abs(_-x)<C0||I<C0)return s(b);b=f(b-_/I)}return s(b)};return p.isStepper=!1,p},h_=function(){return xU(...gU(...arguments))},vU=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(c,f,p)=>{var m=-(c-f)*r,x=p*n,b=p+(m-x)*i/1e3,S=p*i/1e3+c;return Math.abs(S-f)<C0&&Math.abs(b)<C0?[f,0]:[S,b]};return s.isStepper=!0,s.dt=i,s},yU=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return h_(e);case"spring":return vU();default:if(e.split("(")[0]==="cubic-bezier")return h_(e)}return typeof e=="function"?e:null};function wU(e){var t,r=()=>null,n=!1,i=null,s=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var f=c,[p,...m]=f;if(typeof p=="number"){i=e.setTimeout(s.bind(null,m),p);return}s(p),i=e.setTimeout(s.bind(null,m));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,i&&(i(),i=null),s(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class bU{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function EU(){return wU(new bU)}var SU=N.createContext(EU);function AU(e,t){var r=N.useContext(SU);return N.useMemo(()=>t??r(e),[e,t,r])}var _U=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mp={isSsr:_U()},CU={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},p_={t:0},Q1={t:1};function Pd(e){var t=Jr(e,CU),{isActive:r,canBegin:n,duration:i,easing:s,begin:c,onAnimationEnd:f,onAnimationStart:p,children:m}=t,x=r==="auto"?!Mp.isSsr:r,b=AU(t.animationId,t.animationManager),[S,_]=N.useState(x?p_:Q1),I=N.useRef(null);return N.useEffect(()=>{x||_(Q1)},[x]),N.useEffect(()=>{if(!x||!n)return Cd;var O=hU(p_,Q1,yU(s),i,_,b.getTimeoutController()),k=()=>{I.current=O()};return b.start([p,c,k,i,f]),()=>{b.stop(),I.current&&I.current(),f()}},[x,n,i,s,c,p,f,b]),m(S.t)}function jd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(ad(t)),n=N.useRef(e);return n.current!==e&&(r.current=ad(t),n.current=e),r.current}var NU=["radius"],OU=["radius"],m_,g_,x_,v_,y_,w_,b_,E_,S_,A_;function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return(t=TU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}function N_(e,t){if(e==null)return{};var r,n,i=PU(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ua(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O_=(e,t,r,n,i)=>{var s=po(r),c=po(n),f=Math.min(Math.abs(s)/2,Math.abs(c)/2),p=c>=0?1:-1,m=s>=0?1:-1,x=c>=0&&s>=0||c<0&&s<0?1:0,b;if(f>0&&i instanceof Array){for(var S=[0,0,0,0],_=0,I=4;_<I;_++)S[_]=i[_]>f?f:i[_];b=Hr(m_||(m_=Ua(["M",",",""])),e,t+p*S[0]),S[0]>0&&(b+=Hr(g_||(g_=Ua(["A ",",",",0,0,",",",",",""])),S[0],S[0],x,e+m*S[0],t)),b+=Hr(x_||(x_=Ua(["L ",",",""])),e+r-m*S[1],t),S[1]>0&&(b+=Hr(v_||(v_=Ua(["A ",",",",0,0,",`,
        `,",",""])),S[1],S[1],x,e+r,t+p*S[1])),b+=Hr(y_||(y_=Ua(["L ",",",""])),e+r,t+n-p*S[2]),S[2]>0&&(b+=Hr(w_||(w_=Ua(["A ",",",",0,0,",`,
        `,",",""])),S[2],S[2],x,e+r-m*S[2],t+n)),b+=Hr(b_||(b_=Ua(["L ",",",""])),e+m*S[3],t+n),S[3]>0&&(b+=Hr(E_||(E_=Ua(["A ",",",",0,0,",`,
        `,",",""])),S[3],S[3],x,e,t+n-p*S[3])),b+="Z"}else if(f>0&&i===+i&&i>0){var O=Math.min(f,i);b=Hr(S_||(S_=Ua(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*O,O,O,x,e+m*O,t,e+r-m*O,t,O,O,x,e+r,t+p*O,e+r,t+n-p*O,O,O,x,e+r-m*O,t+n,e+m*O,t+n,O,O,x,e,t+n-p*O)}else b=Hr(A_||(A_=Ua(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return b},I_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rT=e=>{var t=Jr(e,I_),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:s,y:c,width:f,height:p,radius:m,className:x}=t,{animationEasing:b,animationDuration:S,animationBegin:_,isAnimationActive:I,isUpdateAnimationActive:O}=t,k=N.useRef(f),R=N.useRef(p),L=N.useRef(s),M=N.useRef(c),U=N.useMemo(()=>({x:s,y:c,width:f,height:p,radius:m}),[s,c,f,p,m]),W=jd(U,"rectangle-");if(s!==+s||c!==+c||f!==+f||p!==+p||f===0||p===0)return null;var V=qt("recharts-rectangle",x);if(!O){var H=Wi(t),{radius:re}=H,X=N_(H,NU);return N.createElement("path",N0({},X,{x:po(s),y:po(c),width:po(f),height:po(p),radius:typeof m=="number"?m:void 0,className:V,d:O_(s,c,f,p,m)}))}var Ee=k.current,ue=R.current,de=L.current,Ae=M.current,ke="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),ie=QI(["strokeDasharray"],S,typeof b=="string"?b:I_.animationEasing);return N.createElement(Pd,{animationId:W,key:W,canBegin:n>0,duration:S,easing:b,isActive:O,begin:_},Q=>{var oe=Dr(Ee,f,Q),xe=Dr(ue,p,Q),Se=Dr(de,s,Q),Z=Dr(Ae,c,Q);r.current&&(k.current=oe,R.current=xe,L.current=Se,M.current=Z);var fe;I?Q>0?fe={transition:ie,strokeDasharray:te}:fe={strokeDasharray:ke}:fe={strokeDasharray:te};var Me=Wi(t),{radius:Fe}=Me,Je=N_(Me,OU);return N.createElement("path",N0({},Je,{radius:typeof m=="number"?m:void 0,className:V,d:O_(Se,Z,oe,xe,m),ref:r,style:C_(C_({},fe),t.style)}))})};function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=MU(e,"string");return typeof t=="symbol"?t:t+""}function MU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0=Math.PI/180,DU=e=>e*180/Math.PI,on=(e,t,r,n)=>({x:e+Math.cos(-O0*n)*r,y:t+Math.sin(-O0*n)*r}),nT=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},BU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,c=LU({x:r,y:n},{x:i,y:s});if(c<=0)return{radius:c,angle:0};var f=(r-i)/c,p=Math.acos(f);return n>s&&(p=2*Math.PI-p),{radius:c,angle:DU(p),angleInRadian:p}},FU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},UU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(i,s);return e+c*360},zU=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:s}=BU({x:r,y:n},t),{innerRadius:c,outerRadius:f}=t;if(i<c||i>f||i===0)return null;var{startAngle:p,endAngle:m}=FU(t),x=s,b;if(p<=m){for(;x>m;)x-=360;for(;x<p;)x+=360;b=x>=p&&x<=m}else{for(;x>p;)x-=360;for(;x<m;)x+=360;b=x>=m&&x<=p}return b?k_(k_({},t),{},{radius:i,angle:UU(x,t)}):null};function iT(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,c=on(t,r,n,i),f=on(t,r,n,s);return{points:[c,f],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}var P_,j_,R_,M_,D_,L_,B_;function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function al(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $U=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},bh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:c,cornerRadius:f,cornerIsExternal:p}=e,m=f*(c?1:-1)+n,x=Math.asin(f/m)/O0,b=p?i:i+s*x,S=on(t,r,m,b),_=on(t,r,n,b),I=p?i-s*x:i,O=on(t,r,m*Math.cos(x*O0),I);return{center:S,circleTangency:_,lineTangency:O,theta:x}},aT=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:c}=e,f=$U(s,c),p=s+f,m=on(t,r,i,s),x=on(t,r,i,p),b=Hr(P_||(P_=al(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(f)>180),+(s>p),x.x,x.y);if(n>0){var S=on(t,r,n,s),_=on(t,r,n,p);b+=Hr(j_||(j_=al(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,n,n,+(Math.abs(f)>180),+(s<=p),S.x,S.y)}else b+=Hr(R_||(R_=al(["L ",","," Z"])),t,r);return b},WU=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:f,startAngle:p,endAngle:m}=e,x=kn(m-p),{circleTangency:b,lineTangency:S,theta:_}=bh({cx:t,cy:r,radius:i,angle:p,sign:x,cornerRadius:s,cornerIsExternal:f}),{circleTangency:I,lineTangency:O,theta:k}=bh({cx:t,cy:r,radius:i,angle:m,sign:-x,cornerRadius:s,cornerIsExternal:f}),R=f?Math.abs(p-m):Math.abs(p-m)-_-k;if(R<0)return c?Hr(M_||(M_=al(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),S.x,S.y,s,s,s*2,s,s,-s*2):aT({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:p,endAngle:m});var L=Hr(D_||(D_=al(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),S.x,S.y,s,s,+(x<0),b.x,b.y,i,i,+(R>180),+(x<0),I.x,I.y,s,s,+(x<0),O.x,O.y);if(n>0){var{circleTangency:M,lineTangency:U,theta:W}=bh({cx:t,cy:r,radius:n,angle:p,sign:x,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),{circleTangency:V,lineTangency:H,theta:re}=bh({cx:t,cy:r,radius:n,angle:m,sign:-x,isExternal:!0,cornerRadius:s,cornerIsExternal:f}),X=f?Math.abs(p-m):Math.abs(p-m)-W-re;if(X<0&&s===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=Hr(L_||(L_=al(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),H.x,H.y,s,s,+(x<0),V.x,V.y,n,n,+(X>180),+(x>0),M.x,M.y,s,s,+(x<0),U.x,U.y)}else L+=Hr(B_||(B_=al(["L",",","Z"])),t,r);return L},VU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sT=e=>{var t=Jr(e,VU),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:c,forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:x,className:b}=t;if(s<i||m===x)return null;var S=qt("recharts-sector",b),_=s-i,I=ei(c,_,0,!0),O;return I>0&&Math.abs(m-x)<360?O=WU({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(I,_/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:m,endAngle:x}):O=aT({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:m,endAngle:x}),N.createElement("path",Av({},Wi(t),{className:S,d:O}))};function HU(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(z4(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:c,angle:f}=t,p=on(n,i,s,f),m=on(n,i,c,f);return[{x:p.x,y:p.y},{x:m.x,y:m.y}]}return iT(t)}}var J1={},ex={},tx={},F_;function qU(){return F_||(F_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J4();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tx)),tx}var U_;function GU(){return U_||(U_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qU();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ex)),ex}var z_;function KU(){return z_||(z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eI(),r=GU();function n(i,s,c){c&&typeof c!="number"&&t.isIterateeCall(i,s,c)&&(s=c=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),c=c===void 0?i<s?1:-1:r.toFinite(c);const f=Math.max(Math.ceil((s-i)/(c||1)),0),p=new Array(f);for(let m=0;m<f;m++)p[m]=i,i+=c;return p}e.range=n})(J1)),J1}var rx,$_;function XU(){return $_||($_=1,rx=KU().range),rx}var YU=XU();const oT=da(YU);function mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZU(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hy(e){let t,r,n;e.length!==2?(t=mo,r=(f,p)=>mo(e(f),p),n=(f,p)=>e(f)-p):(t=e===mo||e===ZU?e:QU,r=e,n=e);function i(f,p,m=0,x=f.length){if(m<x){if(t(p,p)!==0)return x;do{const b=m+x>>>1;r(f[b],p)<0?m=b+1:x=b}while(m<x)}return m}function s(f,p,m=0,x=f.length){if(m<x){if(t(p,p)!==0)return x;do{const b=m+x>>>1;r(f[b],p)<=0?m=b+1:x=b}while(m<x)}return m}function c(f,p,m=0,x=f.length){const b=i(f,p,m,x-1);return b>m&&n(f[b-1],p)>-n(f[b],p)?b-1:b}return{left:i,center:c,right:s}}function QU(){return 0}function lT(e){return e===null?NaN:+e}function*JU(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ez=Hy(mo),Rd=ez.right;Hy(lT).center;class W_ extends Map{constructor(t,r=nz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(V_(this,t))}has(t){return super.has(V_(this,t))}set(t,r){return super.set(tz(this,t),r)}delete(t){return super.delete(rz(this,t))}}function V_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tz({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rz({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function iz(e=mo){if(e===mo)return cT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function cT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const az=Math.sqrt(50),sz=Math.sqrt(10),oz=Math.sqrt(2);function I0(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),c=s>=az?10:s>=sz?5:s>=oz?2:1;let f,p,m;return i<0?(m=Math.pow(10,-i)/c,f=Math.round(e*m),p=Math.round(t*m),f/m<e&&++f,p/m>t&&--p,m=-m):(m=Math.pow(10,i)*c,f=Math.round(e/m),p=Math.round(t/m),f*m<e&&++f,p*m>t&&--p),p<f&&.5<=r&&r<2?I0(e,t,r*2):[f,p,m]}function _v(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,c]=n?I0(t,e,r):I0(e,t,r);if(!(s>=i))return[];const f=s-i+1,p=new Array(f);if(n)if(c<0)for(let m=0;m<f;++m)p[m]=(s-m)/-c;else for(let m=0;m<f;++m)p[m]=(s-m)*c;else if(c<0)for(let m=0;m<f;++m)p[m]=(i+m)/-c;else for(let m=0;m<f;++m)p[m]=(i+m)*c;return p}function Cv(e,t,r){return t=+t,e=+e,r=+r,I0(e,t,r)[2]}function Nv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Cv(t,e,r):Cv(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function H_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function q_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uT(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?cT:iz(i);n>r;){if(n-r>600){const p=n-r+1,m=t-r+1,x=Math.log(p),b=.5*Math.exp(2*x/3),S=.5*Math.sqrt(x*b*(p-b)/p)*(m-p/2<0?-1:1),_=Math.max(r,Math.floor(t-m*b/p+S)),I=Math.min(n,Math.floor(t+(p-m)*b/p+S));uT(e,t,_,I,i)}const s=e[t];let c=r,f=n;for(Fu(e,r,t),i(e[n],s)>0&&Fu(e,r,n);c<f;){for(Fu(e,c,f),++c,--f;i(e[c],s)<0;)++c;for(;i(e[f],s)>0;)--f}i(e[r],s)===0?Fu(e,r,f):(++f,Fu(e,f,n)),f<=t&&(r=f+1),t<=f&&(n=f-1)}return e}function Fu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lz(e,t,r){if(e=Float64Array.from(JU(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return q_(e);if(t>=1)return H_(e);var n,i=(n-1)*t,s=Math.floor(i),c=H_(uT(e,s).subarray(0,s+1)),f=q_(e.subarray(s+1));return c+(f-c)*(i-s)}}function cz(e,t,r=lT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),c=+r(e[s],s,e),f=+r(e[s+1],s+1,e);return c+(f-c)*(i-s)}}function uz(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ms(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ov=Symbol("implicit");function qy(){var e=new W_,t=[],r=[],n=Ov;function i(s){let c=e.get(s);if(c===void 0){if(n!==Ov)return n;e.set(s,c=t.push(s)-1)}return r[c%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new W_;for(const c of s)e.has(c)||e.set(c,t.push(c)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qy(t,r).unknown(n)},fa.apply(i,arguments),i}function Gy(){var e=qy().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,c,f=!1,p=0,m=0,x=.5;delete e.unknown;function b(){var S=t().length,_=i<n,I=_?i:n,O=_?n:i;s=(O-I)/Math.max(1,S-p+m*2),f&&(s=Math.floor(s)),I+=(O-I-s*(S-p))*x,c=s*(1-p),f&&(I=Math.round(I),c=Math.round(c));var k=uz(S).map(function(R){return I+s*R});return r(_?k.reverse():k)}return e.domain=function(S){return arguments.length?(t(S),b()):t()},e.range=function(S){return arguments.length?([n,i]=S,n=+n,i=+i,b()):[n,i]},e.rangeRound=function(S){return[n,i]=S,n=+n,i=+i,f=!0,b()},e.bandwidth=function(){return c},e.step=function(){return s},e.round=function(S){return arguments.length?(f=!!S,b()):f},e.padding=function(S){return arguments.length?(p=Math.min(1,m=+S),b()):p},e.paddingInner=function(S){return arguments.length?(p=Math.min(1,S),b()):p},e.paddingOuter=function(S){return arguments.length?(m=+S,b()):m},e.align=function(S){return arguments.length?(x=Math.max(0,Math.min(1,S)),b()):x},e.copy=function(){return Gy(t(),[n,i]).round(f).paddingInner(p).paddingOuter(m).align(x)},fa.apply(b(),arguments)}function dT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dT(t())},e}function dz(){return dT(Gy.apply(null,arguments).paddingInner(1))}function Ky(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Md(){}var hd=.7,T0=1/hd,bc="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fz=/^#([0-9a-f]{3,8})$/,hz=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),pz=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),mz=new RegExp(`^rgba\\(${bc},${bc},${bc},${pd}\\)$`),gz=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${pd}\\)$`),xz=new RegExp(`^hsl\\(${pd},${Ha},${Ha}\\)$`),vz=new RegExp(`^hsla\\(${pd},${Ha},${Ha},${pd}\\)$`),G_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ky(Md,md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:K_,formatHex:K_,formatHex8:yz,formatHsl:wz,formatRgb:X_,toString:X_});function K_(){return this.rgb().formatHex()}function yz(){return this.rgb().formatHex8()}function wz(){return hT(this).formatHsl()}function X_(){return this.rgb().formatRgb()}function md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fz.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Y_(t):r===3?new wi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hz.exec(e))?new wi(t[1],t[2],t[3],1):(t=pz.exec(e))?new wi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mz.exec(e))?Eh(t[1],t[2],t[3],t[4]):(t=gz.exec(e))?Eh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xz.exec(e))?J_(t[1],t[2]/100,t[3]/100,1):(t=vz.exec(e))?J_(t[1],t[2]/100,t[3]/100,t[4]):G_.hasOwnProperty(e)?Y_(G_[e]):e==="transparent"?new wi(NaN,NaN,NaN,0):null}function Y_(e){return new wi(e>>16&255,e>>8&255,e&255,1)}function Eh(e,t,r,n){return n<=0&&(e=t=r=NaN),new wi(e,t,r,n)}function bz(e){return e instanceof Md||(e=md(e)),e?(e=e.rgb(),new wi(e.r,e.g,e.b,e.opacity)):new wi}function Iv(e,t,r,n){return arguments.length===1?bz(e):new wi(e,t,r,n??1)}function wi(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ky(wi,Iv,fT(Md,{brighter(e){return e=e==null?T0:Math.pow(T0,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new wi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wi(ul(this.r),ul(this.g),ul(this.b),k0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Z_,formatHex:Z_,formatHex8:Ez,formatRgb:Q_,toString:Q_}));function Z_(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}`}function Ez(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}${sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Q_(){const e=k0(this.opacity);return`${e===1?"rgb(":"rgba("}${ul(this.r)}, ${ul(this.g)}, ${ul(this.b)}${e===1?")":`, ${e})`}`}function k0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ul(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sl(e){return e=ul(e),(e<16?"0":"")+e.toString(16)}function J_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,r,n)}function hT(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof Md||(e=md(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),c=NaN,f=s-i,p=(s+i)/2;return f?(t===s?c=(r-n)/f+(r<n)*6:r===s?c=(n-t)/f+2:c=(t-r)/f+4,f/=p<.5?s+i:2-s-i,c*=60):f=p>0&&p<1?0:c,new Na(c,f,p,e.opacity)}function Sz(e,t,r,n){return arguments.length===1?hT(e):new Na(e,t,r,n??1)}function Na(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ky(Na,Sz,fT(Md,{brighter(e){return e=e==null?T0:Math.pow(T0,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hd:Math.pow(hd,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new wi(nx(e>=240?e-240:e+120,i,n),nx(e,i,n),nx(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Na(eC(this.h),Sh(this.s),Sh(this.l),k0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=k0(this.opacity);return`${e===1?"hsl(":"hsla("}${eC(this.h)}, ${Sh(this.s)*100}%, ${Sh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eC(e){return e=(e||0)%360,e<0?e+360:e}function Sh(e){return Math.max(0,Math.min(1,e||0))}function nx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Xy=e=>()=>e;function Az(e,t){return function(r){return e+r*t}}function _z(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Cz(e){return(e=+e)==1?pT:function(t,r){return r-t?_z(t,r,e):Xy(isNaN(t)?r:t)}}function pT(e,t){var r=t-e;return r?Az(e,r):Xy(isNaN(e)?t:e)}const tC=(function e(t){var r=Cz(t);function n(i,s){var c=r((i=Iv(i)).r,(s=Iv(s)).r),f=r(i.g,s.g),p=r(i.b,s.b),m=pT(i.opacity,s.opacity);return function(x){return i.r=c(x),i.g=f(x),i.b=p(x),i.opacity=m(x),i+""}}return n.gamma=e,n})(1);function Nz(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function Oz(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Iz(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)i[c]=$c(e[c],t[c]);for(;c<r;++c)s[c]=t[c];return function(f){for(c=0;c<n;++c)s[c]=i[c](f);return s}}function Tz(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function P0(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kz(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$c(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ix=new RegExp(Tv.source,"g");function Pz(e){return function(){return e}}function jz(e){return function(t){return e(t)+""}}function Rz(e,t){var r=Tv.lastIndex=ix.lastIndex=0,n,i,s,c=-1,f=[],p=[];for(e=e+"",t=t+"";(n=Tv.exec(e))&&(i=ix.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),f[c]?f[c]+=s:f[++c]=s),(n=n[0])===(i=i[0])?f[c]?f[c]+=i:f[++c]=i:(f[++c]=null,p.push({i:c,x:P0(n,i)})),r=ix.lastIndex;return r<t.length&&(s=t.slice(r),f[c]?f[c]+=s:f[++c]=s),f.length<2?p[0]?jz(p[0].x):Pz(t):(t=p.length,function(m){for(var x=0,b;x<t;++x)f[(b=p[x]).i]=b.x(m);return f.join("")})}function $c(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xy(t):(r==="number"?P0:r==="string"?(n=md(t))?(t=n,tC):Rz:t instanceof md?tC:t instanceof Date?Tz:Oz(t)?Nz:Array.isArray(t)?Iz:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kz:P0)(e,t)}function Yy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Mz(e,t){t===void 0&&(t=e,e=$c);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(c){var f=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[f](c-f)}}function Dz(e){return function(){return e}}function j0(e){return+e}var rC=[0,1];function oi(e){return e}function kv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Dz(isNaN(t)?NaN:.5)}function Lz(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Bz(e,t,r){var n=e[0],i=e[1],s=t[0],c=t[1];return i<n?(n=kv(i,n),s=r(c,s)):(n=kv(n,i),s=r(s,c)),function(f){return s(n(f))}}function Fz(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)i[c]=kv(e[c],e[c+1]),s[c]=r(t[c],t[c+1]);return function(f){var p=Rd(e,f,1,n)-1;return s[p](i[p](f))}}function Dd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dp(){var e=rC,t=rC,r=$c,n,i,s,c=oi,f,p,m;function x(){var S=Math.min(e.length,t.length);return c!==oi&&(c=Lz(e[0],e[S-1])),f=S>2?Fz:Bz,p=m=null,b}function b(S){return S==null||isNaN(S=+S)?s:(p||(p=f(e.map(n),t,r)))(n(c(S)))}return b.invert=function(S){return c(i((m||(m=f(t,e.map(n),P0)))(S)))},b.domain=function(S){return arguments.length?(e=Array.from(S,j0),x()):e.slice()},b.range=function(S){return arguments.length?(t=Array.from(S),x()):t.slice()},b.rangeRound=function(S){return t=Array.from(S),r=Yy,x()},b.clamp=function(S){return arguments.length?(c=S?!0:oi,x()):c!==oi},b.interpolate=function(S){return arguments.length?(r=S,x()):r},b.unknown=function(S){return arguments.length?(s=S,b):s},function(S,_){return n=S,i=_,x()}}function Zy(){return Dp()(oi,oi)}function Uz(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function R0(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tc(e){return e=R0(Math.abs(e)),e?e[1]:NaN}function zz(e,t){return function(r,n){for(var i=r.length,s=[],c=0,f=e[0],p=0;i>0&&f>0&&(p+f+1>n&&(f=Math.max(1,n-p)),s.push(r.substring(i-=f,i+f)),!((p+=f+1)>n));)f=e[c=(c+1)%e.length];return s.reverse().join(t)}}function $z(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Wz=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(e){if(!(t=Wz.exec(e)))throw new Error("invalid format: "+e);var t;return new Qy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gd.prototype=Qy.prototype;function Qy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vz(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var mT;function Hz(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(mT=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+R0(e,Math.max(0,t+s-1))[0]}function nC(e,t){var r=R0(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const iC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uz,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nC(e*100,t),r:nC,s:Hz,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aC(e){return e}var sC=Array.prototype.map,oC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qz(e){var t=e.grouping===void 0||e.thousands===void 0?aC:zz(sC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aC:$z(sC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(b){b=gd(b);var S=b.fill,_=b.align,I=b.sign,O=b.symbol,k=b.zero,R=b.width,L=b.comma,M=b.precision,U=b.trim,W=b.type;W==="n"?(L=!0,W="g"):iC[W]||(M===void 0&&(M=12),U=!0,W="g"),(k||S==="0"&&_==="=")&&(k=!0,S="0",_="=");var V=O==="$"?r:O==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",H=O==="$"?n:/[%p]/.test(W)?c:"",re=iC[W],X=/[defgprs%]/.test(W);M=M===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function Ee(ue){var de=V,Ae=H,ke,te,ie;if(W==="c")Ae=re(ue)+Ae,ue="";else{ue=+ue;var Q=ue<0||1/ue<0;if(ue=isNaN(ue)?p:re(Math.abs(ue),M),U&&(ue=Vz(ue)),Q&&+ue==0&&I!=="+"&&(Q=!1),de=(Q?I==="("?I:f:I==="-"||I==="("?"":I)+de,Ae=(W==="s"?oC[8+mT/3]:"")+Ae+(Q&&I==="("?")":""),X){for(ke=-1,te=ue.length;++ke<te;)if(ie=ue.charCodeAt(ke),48>ie||ie>57){Ae=(ie===46?i+ue.slice(ke+1):ue.slice(ke))+Ae,ue=ue.slice(0,ke);break}}}L&&!k&&(ue=t(ue,1/0));var oe=de.length+ue.length+Ae.length,xe=oe<R?new Array(R-oe+1).join(S):"";switch(L&&k&&(ue=t(xe+ue,xe.length?R-Ae.length:1/0),xe=""),_){case"<":ue=de+ue+Ae+xe;break;case"=":ue=de+xe+ue+Ae;break;case"^":ue=xe.slice(0,oe=xe.length>>1)+de+ue+Ae+xe.slice(oe);break;default:ue=xe+de+ue+Ae;break}return s(ue)}return Ee.toString=function(){return b+""},Ee}function x(b,S){var _=m((b=gd(b),b.type="f",b)),I=Math.max(-8,Math.min(8,Math.floor(Tc(S)/3)))*3,O=Math.pow(10,-I),k=oC[8+I/3];return function(R){return _(O*R)+k}}return{format:m,formatPrefix:x}}var Ah,Jy,gT;Gz({thousands:",",grouping:[3],currency:["$",""]});function Gz(e){return Ah=qz(e),Jy=Ah.format,gT=Ah.formatPrefix,Ah}function Kz(e){return Math.max(0,-Tc(Math.abs(e)))}function Xz(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tc(t)/3)))*3-Tc(Math.abs(e)))}function Yz(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tc(t)-Tc(e))+1}function xT(e,t,r,n){var i=Nv(e,t,r),s;switch(n=gd(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=Xz(i,c))&&(n.precision=s),gT(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Yz(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Kz(i))&&(n.precision=s-(n.type==="%")*2);break}}return Jy(n)}function bo(e){var t=e.domain;return e.ticks=function(r){var n=t();return _v(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return xT(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,c=n[i],f=n[s],p,m,x=10;for(f<c&&(m=c,c=f,f=m,m=i,i=s,s=m);x-- >0;){if(m=Cv(c,f,r),m===p)return n[i]=c,n[s]=f,t(n);if(m>0)c=Math.floor(c/m)*m,f=Math.ceil(f/m)*m;else if(m<0)c=Math.ceil(c*m)/m,f=Math.floor(f*m)/m;else break;p=m}return e},e}function vT(){var e=Zy();return e.copy=function(){return Dd(e,vT())},fa.apply(e,arguments),bo(e)}function yT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,j0),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return yT(e).unknown(t)},e=arguments.length?Array.from(e,j0):[0,1],bo(r)}function wT(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],c;return s<i&&(c=r,r=n,n=c,c=i,i=s,s=c),e[r]=t.floor(i),e[n]=t.ceil(s),e}function lC(e){return Math.log(e)}function cC(e){return Math.exp(e)}function Zz(e){return-Math.log(-e)}function Qz(e){return-Math.exp(-e)}function Jz(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e$(e){return e===10?Jz:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uC(e){return(t,r)=>-e(-t,r)}function ew(e){const t=e(lC,cC),r=t.domain;let n=10,i,s;function c(){return i=t$(n),s=e$(n),r()[0]<0?(i=uC(i),s=uC(s),e(Zz,Qz)):e(lC,cC),t}return t.base=function(f){return arguments.length?(n=+f,c()):n},t.domain=function(f){return arguments.length?(r(f),c()):r()},t.ticks=f=>{const p=r();let m=p[0],x=p[p.length-1];const b=x<m;b&&([m,x]=[x,m]);let S=i(m),_=i(x),I,O;const k=f==null?10:+f;let R=[];if(!(n%1)&&_-S<k){if(S=Math.floor(S),_=Math.ceil(_),m>0){for(;S<=_;++S)for(I=1;I<n;++I)if(O=S<0?I/s(-S):I*s(S),!(O<m)){if(O>x)break;R.push(O)}}else for(;S<=_;++S)for(I=n-1;I>=1;--I)if(O=S>0?I/s(-S):I*s(S),!(O<m)){if(O>x)break;R.push(O)}R.length*2<k&&(R=_v(m,x,k))}else R=_v(S,_,Math.min(_-S,k)).map(s);return b?R.reverse():R},t.tickFormat=(f,p)=>{if(f==null&&(f=10),p==null&&(p=n===10?"s":","),typeof p!="function"&&(!(n%1)&&(p=gd(p)).precision==null&&(p.trim=!0),p=Jy(p)),f===1/0)return p;const m=Math.max(1,n*f/t.ticks().length);return x=>{let b=x/s(Math.round(i(x)));return b*n<n-.5&&(b*=n),b<=m?p(x):""}},t.nice=()=>r(wT(r(),{floor:f=>s(Math.floor(i(f))),ceil:f=>s(Math.ceil(i(f)))})),t}function bT(){const e=ew(Dp()).domain([1,10]);return e.copy=()=>Dd(e,bT()).base(e.base()),fa.apply(e,arguments),e}function dC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tw(e){var t=1,r=e(dC(t),fC(t));return r.constant=function(n){return arguments.length?e(dC(t=+n),fC(t)):t},bo(r)}function ET(){var e=tw(Dp());return e.copy=function(){return Dd(e,ET()).constant(e.constant())},fa.apply(e,arguments)}function hC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function r$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function n$(e){return e<0?-e*e:e*e}function rw(e){var t=e(oi,oi),r=1;function n(){return r===1?e(oi,oi):r===.5?e(r$,n$):e(hC(r),hC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},bo(t)}function nw(){var e=rw(Dp());return e.copy=function(){return Dd(e,nw()).exponent(e.exponent())},fa.apply(e,arguments),e}function i$(){return nw.apply(null,arguments).exponent(.5)}function pC(e){return Math.sign(e)*e*e}function a$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ST(){var e=Zy(),t=[0,1],r=!1,n;function i(s){var c=a$(e(s));return isNaN(c)?n:r?Math.round(c):c}return i.invert=function(s){return e.invert(pC(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,j0)).map(pC)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ST(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fa.apply(i,arguments),bo(i)}function AT(){var e=[],t=[],r=[],n;function i(){var c=0,f=Math.max(1,t.length);for(r=new Array(f-1);++c<f;)r[c-1]=cz(e,c/f);return s}function s(c){return c==null||isNaN(c=+c)?n:t[Rd(r,c)]}return s.invertExtent=function(c){var f=t.indexOf(c);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},s.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let f of c)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(mo),i()},s.range=function(c){return arguments.length?(t=Array.from(c),i()):t.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return AT().domain(e).range(t).unknown(n)},fa.apply(s,arguments)}function _T(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function c(p){return p!=null&&p<=p?i[Rd(n,p,0,r)]:s}function f(){var p=-1;for(n=new Array(r);++p<r;)n[p]=((p+1)*t-(p-r)*e)/(r+1);return c}return c.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,f()):[e,t]},c.range=function(p){return arguments.length?(r=(i=Array.from(p)).length-1,f()):i.slice()},c.invertExtent=function(p){var m=i.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},c.unknown=function(p){return arguments.length&&(s=p),c},c.thresholds=function(){return n.slice()},c.copy=function(){return _T().domain([e,t]).range(i).unknown(s)},fa.apply(bo(c),arguments)}function CT(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Rd(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var c=t.indexOf(s);return[e[c-1],e[c]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return CT().domain(e).range(t).unknown(r)},fa.apply(i,arguments)}const ax=new Date,sx=new Date;function yn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const c=i(s),f=i.ceil(s);return s-c<f-s?c:f},i.offset=(s,c)=>(t(s=new Date(+s),c==null?1:Math.floor(c)),s),i.range=(s,c,f)=>{const p=[];if(s=i.ceil(s),f=f==null?1:Math.floor(f),!(s<c)||!(f>0))return p;let m;do p.push(m=new Date(+s)),t(s,f),e(s);while(m<s&&s<c);return p},i.filter=s=>yn(c=>{if(c>=c)for(;e(c),!s(c);)c.setTime(c-1)},(c,f)=>{if(c>=c)if(f<0)for(;++f<=0;)for(;t(c,-1),!s(c););else for(;--f>=0;)for(;t(c,1),!s(c););}),r&&(i.count=(s,c)=>(ax.setTime(+s),sx.setTime(+c),e(ax),e(sx),Math.floor(r(ax,sx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?c=>n(c)%s===0:c=>i.count(0,c)%s===0):i)),i}const M0=yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);M0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):M0);M0.range;const ys=1e3,oa=ys*60,ws=oa*60,Ns=ws*24,iw=Ns*7,mC=Ns*30,ox=Ns*365,ol=yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());ol.range;const aw=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getMinutes());aw.range;const sw=yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCMinutes());sw.range;const ow=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*oa)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getHours());ow.range;const lw=yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getUTCHours());lw.range;const Ld=yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Ns,e=>e.getDate()-1);Ld.range;const Lp=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ns,e=>e.getUTCDate()-1);Lp.range;const NT=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ns,e=>Math.floor(e/Ns));NT.range;function _l(e){return yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oa)/iw)}const Bp=_l(0),D0=_l(1),s$=_l(2),o$=_l(3),kc=_l(4),l$=_l(5),c$=_l(6);Bp.range;D0.range;s$.range;o$.range;kc.range;l$.range;c$.range;function Cl(e){return yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/iw)}const Fp=Cl(0),L0=Cl(1),u$=Cl(2),d$=Cl(3),Pc=Cl(4),f$=Cl(5),h$=Cl(6);Fp.range;L0.range;u$.range;d$.range;Pc.range;f$.range;h$.range;const cw=yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cw.range;const uw=yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uw.range;const Os=yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Os.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Os.range;const Is=yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Is.range;function OT(e,t,r,n,i,s){const c=[[ol,1,ys],[ol,5,5*ys],[ol,15,15*ys],[ol,30,30*ys],[s,1,oa],[s,5,5*oa],[s,15,15*oa],[s,30,30*oa],[i,1,ws],[i,3,3*ws],[i,6,6*ws],[i,12,12*ws],[n,1,Ns],[n,2,2*Ns],[r,1,iw],[t,1,mC],[t,3,3*mC],[e,1,ox]];function f(m,x,b){const S=x<m;S&&([m,x]=[x,m]);const _=b&&typeof b.range=="function"?b:p(m,x,b),I=_?_.range(m,+x+1):[];return S?I.reverse():I}function p(m,x,b){const S=Math.abs(x-m)/b,_=Hy(([,,k])=>k).right(c,S);if(_===c.length)return e.every(Nv(m/ox,x/ox,b));if(_===0)return M0.every(Math.max(Nv(m,x,b),1));const[I,O]=c[S/c[_-1][2]<c[_][2]/S?_-1:_];return I.every(O)}return[f,p]}const[p$,m$]=OT(Is,uw,Fp,NT,lw,sw),[g$,x$]=OT(Os,cw,Bp,Ld,ow,aw);function lx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function cx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function v$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,c=e.shortDays,f=e.months,p=e.shortMonths,m=zu(i),x=$u(i),b=zu(s),S=$u(s),_=zu(c),I=$u(c),O=zu(f),k=$u(f),R=zu(p),L=$u(p),M={a:Q,A:oe,b:xe,B:Se,c:null,d:bC,e:bC,f:z$,g:Z$,G:J$,H:B$,I:F$,j:U$,L:IT,m:$$,M:W$,p:Z,q:fe,Q:AC,s:_C,S:V$,u:H$,U:q$,V:G$,w:K$,W:X$,x:null,X:null,y:Y$,Y:Q$,Z:eW,"%":SC},U={a:Me,A:Fe,b:Je,B:Ie,c:null,d:EC,e:EC,f:iW,g:pW,G:gW,H:tW,I:rW,j:nW,L:kT,m:aW,M:sW,p:lt,q:ye,Q:AC,s:_C,S:oW,u:lW,U:cW,V:uW,w:dW,W:fW,x:null,X:null,y:hW,Y:mW,Z:xW,"%":SC},W={a:Ee,A:ue,b:de,B:Ae,c:ke,d:yC,e:yC,f:R$,g:vC,G:xC,H:wC,I:wC,j:T$,L:j$,m:I$,M:k$,p:X,q:O$,Q:D$,s:L$,S:P$,u:S$,U:A$,V:_$,w:E$,W:C$,x:te,X:ie,y:vC,Y:xC,Z:N$,"%":M$};M.x=V(r,M),M.X=V(n,M),M.c=V(t,M),U.x=V(r,U),U.X=V(n,U),U.c=V(t,U);function V(se,Be){return function(Ue){var we=[],He=-1,Qe=0,Ct=se.length,Ft,Pt,At;for(Ue instanceof Date||(Ue=new Date(+Ue));++He<Ct;)se.charCodeAt(He)===37&&(we.push(se.slice(Qe,He)),(Pt=gC[Ft=se.charAt(++He)])!=null?Ft=se.charAt(++He):Pt=Ft==="e"?" ":"0",(At=Be[Ft])&&(Ft=At(Ue,Pt)),we.push(Ft),Qe=He+1);return we.push(se.slice(Qe,He)),we.join("")}}function H(se,Be){return function(Ue){var we=Uu(1900,void 0,1),He=re(we,se,Ue+="",0),Qe,Ct;if(He!=Ue.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Be&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Qe=cx(Uu(we.y,0,1)),Ct=Qe.getUTCDay(),Qe=Ct>4||Ct===0?L0.ceil(Qe):L0(Qe),Qe=Lp.offset(Qe,(we.V-1)*7),we.y=Qe.getUTCFullYear(),we.m=Qe.getUTCMonth(),we.d=Qe.getUTCDate()+(we.w+6)%7):(Qe=lx(Uu(we.y,0,1)),Ct=Qe.getDay(),Qe=Ct>4||Ct===0?D0.ceil(Qe):D0(Qe),Qe=Ld.offset(Qe,(we.V-1)*7),we.y=Qe.getFullYear(),we.m=Qe.getMonth(),we.d=Qe.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Ct="Z"in we?cx(Uu(we.y,0,1)).getUTCDay():lx(Uu(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Ct+5)%7:we.w+we.U*7-(Ct+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,cx(we)):lx(we)}}function re(se,Be,Ue,we){for(var He=0,Qe=Be.length,Ct=Ue.length,Ft,Pt;He<Qe;){if(we>=Ct)return-1;if(Ft=Be.charCodeAt(He++),Ft===37){if(Ft=Be.charAt(He++),Pt=W[Ft in gC?Be.charAt(He++):Ft],!Pt||(we=Pt(se,Ue,we))<0)return-1}else if(Ft!=Ue.charCodeAt(we++))return-1}return we}function X(se,Be,Ue){var we=m.exec(Be.slice(Ue));return we?(se.p=x.get(we[0].toLowerCase()),Ue+we[0].length):-1}function Ee(se,Be,Ue){var we=_.exec(Be.slice(Ue));return we?(se.w=I.get(we[0].toLowerCase()),Ue+we[0].length):-1}function ue(se,Be,Ue){var we=b.exec(Be.slice(Ue));return we?(se.w=S.get(we[0].toLowerCase()),Ue+we[0].length):-1}function de(se,Be,Ue){var we=R.exec(Be.slice(Ue));return we?(se.m=L.get(we[0].toLowerCase()),Ue+we[0].length):-1}function Ae(se,Be,Ue){var we=O.exec(Be.slice(Ue));return we?(se.m=k.get(we[0].toLowerCase()),Ue+we[0].length):-1}function ke(se,Be,Ue){return re(se,t,Be,Ue)}function te(se,Be,Ue){return re(se,r,Be,Ue)}function ie(se,Be,Ue){return re(se,n,Be,Ue)}function Q(se){return c[se.getDay()]}function oe(se){return s[se.getDay()]}function xe(se){return p[se.getMonth()]}function Se(se){return f[se.getMonth()]}function Z(se){return i[+(se.getHours()>=12)]}function fe(se){return 1+~~(se.getMonth()/3)}function Me(se){return c[se.getUTCDay()]}function Fe(se){return s[se.getUTCDay()]}function Je(se){return p[se.getUTCMonth()]}function Ie(se){return f[se.getUTCMonth()]}function lt(se){return i[+(se.getUTCHours()>=12)]}function ye(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Be=V(se+="",M);return Be.toString=function(){return se},Be},parse:function(se){var Be=H(se+="",!1);return Be.toString=function(){return se},Be},utcFormat:function(se){var Be=V(se+="",U);return Be.toString=function(){return se},Be},utcParse:function(se){var Be=H(se+="",!0);return Be.toString=function(){return se},Be}}}var gC={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,y$=/^%/,w$=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function b$(e){return e.replace(w$,"\\$&")}function zu(e){return new RegExp("^(?:"+e.map(b$).join("|")+")","i")}function $u(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function E$(e,t,r){var n=Pn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function S$(e,t,r){var n=Pn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function A$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function C$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xC(e,t,r){var n=Pn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vC(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function N$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function O$(e,t,r){var n=Pn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function I$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function yC(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function T$(e,t,r){var n=Pn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function wC(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function k$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function P$(e,t,r){var n=Pn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function j$(e,t,r){var n=Pn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function R$(e,t,r){var n=Pn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function M$(e,t,r){var n=y$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function D$(e,t,r){var n=Pn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function L$(e,t,r){var n=Pn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function bC(e,t){return Wt(e.getDate(),t,2)}function B$(e,t){return Wt(e.getHours(),t,2)}function F$(e,t){return Wt(e.getHours()%12||12,t,2)}function U$(e,t){return Wt(1+Ld.count(Os(e),e),t,3)}function IT(e,t){return Wt(e.getMilliseconds(),t,3)}function z$(e,t){return IT(e,t)+"000"}function $$(e,t){return Wt(e.getMonth()+1,t,2)}function W$(e,t){return Wt(e.getMinutes(),t,2)}function V$(e,t){return Wt(e.getSeconds(),t,2)}function H$(e){var t=e.getDay();return t===0?7:t}function q$(e,t){return Wt(Bp.count(Os(e)-1,e),t,2)}function TT(e){var t=e.getDay();return t>=4||t===0?kc(e):kc.ceil(e)}function G$(e,t){return e=TT(e),Wt(kc.count(Os(e),e)+(Os(e).getDay()===4),t,2)}function K$(e){return e.getDay()}function X$(e,t){return Wt(D0.count(Os(e)-1,e),t,2)}function Y$(e,t){return Wt(e.getFullYear()%100,t,2)}function Z$(e,t){return e=TT(e),Wt(e.getFullYear()%100,t,2)}function Q$(e,t){return Wt(e.getFullYear()%1e4,t,4)}function J$(e,t){var r=e.getDay();return e=r>=4||r===0?kc(e):kc.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function eW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function EC(e,t){return Wt(e.getUTCDate(),t,2)}function tW(e,t){return Wt(e.getUTCHours(),t,2)}function rW(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function nW(e,t){return Wt(1+Lp.count(Is(e),e),t,3)}function kT(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function iW(e,t){return kT(e,t)+"000"}function aW(e,t){return Wt(e.getUTCMonth()+1,t,2)}function sW(e,t){return Wt(e.getUTCMinutes(),t,2)}function oW(e,t){return Wt(e.getUTCSeconds(),t,2)}function lW(e){var t=e.getUTCDay();return t===0?7:t}function cW(e,t){return Wt(Fp.count(Is(e)-1,e),t,2)}function PT(e){var t=e.getUTCDay();return t>=4||t===0?Pc(e):Pc.ceil(e)}function uW(e,t){return e=PT(e),Wt(Pc.count(Is(e),e)+(Is(e).getUTCDay()===4),t,2)}function dW(e){return e.getUTCDay()}function fW(e,t){return Wt(L0.count(Is(e)-1,e),t,2)}function hW(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function pW(e,t){return e=PT(e),Wt(e.getUTCFullYear()%100,t,2)}function mW(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function gW(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pc(e):Pc.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function xW(){return"+0000"}function SC(){return"%"}function AC(e){return+e}function _C(e){return Math.floor(+e/1e3)}var sc,jT,RT;vW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vW(e){return sc=v$(e),jT=sc.format,sc.parse,RT=sc.utcFormat,sc.utcParse,sc}function yW(e){return new Date(e)}function wW(e){return e instanceof Date?+e:+new Date(+e)}function dw(e,t,r,n,i,s,c,f,p,m){var x=Zy(),b=x.invert,S=x.domain,_=m(".%L"),I=m(":%S"),O=m("%I:%M"),k=m("%I %p"),R=m("%a %d"),L=m("%b %d"),M=m("%B"),U=m("%Y");function W(V){return(p(V)<V?_:f(V)<V?I:c(V)<V?O:s(V)<V?k:n(V)<V?i(V)<V?R:L:r(V)<V?M:U)(V)}return x.invert=function(V){return new Date(b(V))},x.domain=function(V){return arguments.length?S(Array.from(V,wW)):S().map(yW)},x.ticks=function(V){var H=S();return e(H[0],H[H.length-1],V??10)},x.tickFormat=function(V,H){return H==null?W:m(H)},x.nice=function(V){var H=S();return(!V||typeof V.range!="function")&&(V=t(H[0],H[H.length-1],V??10)),V?S(wT(H,V)):x},x.copy=function(){return Dd(x,dw(e,t,r,n,i,s,c,f,p,m))},x}function bW(){return fa.apply(dw(g$,x$,Os,cw,Bp,Ld,ow,aw,ol,jT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EW(){return fa.apply(dw(p$,m$,Is,uw,Fp,Lp,lw,sw,ol,RT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Up(){var e=0,t=1,r,n,i,s,c=oi,f=!1,p;function m(b){return b==null||isNaN(b=+b)?p:c(i===0?.5:(b=(s(b)-r)*i,f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t]=b,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(c=b,m):c};function x(b){return function(S){var _,I;return arguments.length?([_,I]=S,c=b(_,I),m):[c(0),c(1)]}}return m.range=x($c),m.rangeRound=x(Yy),m.unknown=function(b){return arguments.length?(p=b,m):p},function(b){return s=b,r=b(e),n=b(t),i=r===n?0:1/(n-r),m}}function Eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MT(){var e=bo(Up()(oi));return e.copy=function(){return Eo(e,MT())},Ms.apply(e,arguments)}function DT(){var e=ew(Up()).domain([1,10]);return e.copy=function(){return Eo(e,DT()).base(e.base())},Ms.apply(e,arguments)}function LT(){var e=tw(Up());return e.copy=function(){return Eo(e,LT()).constant(e.constant())},Ms.apply(e,arguments)}function fw(){var e=rw(Up());return e.copy=function(){return Eo(e,fw()).exponent(e.exponent())},Ms.apply(e,arguments)}function SW(){return fw.apply(null,arguments).exponent(.5)}function BT(){var e=[],t=oi;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>lz(e,s/n))},r.copy=function(){return BT(t).domain(e)},Ms.apply(r,arguments)}function zp(){var e=0,t=.5,r=1,n=1,i,s,c,f,p,m=oi,x,b=!1,S;function _(O){return isNaN(O=+O)?S:(O=.5+((O=+x(O))-s)*(n*O<n*s?f:p),m(b?Math.max(0,Math.min(1,O)):O))}_.domain=function(O){return arguments.length?([e,t,r]=O,i=x(e=+e),s=x(t=+t),c=x(r=+r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,_):[e,t,r]},_.clamp=function(O){return arguments.length?(b=!!O,_):b},_.interpolator=function(O){return arguments.length?(m=O,_):m};function I(O){return function(k){var R,L,M;return arguments.length?([R,L,M]=k,m=Mz(O,[R,L,M]),_):[m(0),m(.5),m(1)]}}return _.range=I($c),_.rangeRound=I(Yy),_.unknown=function(O){return arguments.length?(S=O,_):S},function(O){return x=O,i=O(e),s=O(t),c=O(r),f=i===s?0:.5/(s-i),p=s===c?0:.5/(c-s),n=s<i?-1:1,_}}function FT(){var e=bo(zp()(oi));return e.copy=function(){return Eo(e,FT())},Ms.apply(e,arguments)}function UT(){var e=ew(zp()).domain([.1,1,10]);return e.copy=function(){return Eo(e,UT()).base(e.base())},Ms.apply(e,arguments)}function zT(){var e=tw(zp());return e.copy=function(){return Eo(e,zT()).constant(e.constant())},Ms.apply(e,arguments)}function hw(){var e=rw(zp());return e.copy=function(){return Eo(e,hw()).exponent(e.exponent())},Ms.apply(e,arguments)}function AW(){return hw.apply(null,arguments).exponent(.5)}const Xu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Gy,scaleDiverging:FT,scaleDivergingLog:UT,scaleDivergingPow:hw,scaleDivergingSqrt:AW,scaleDivergingSymlog:zT,scaleIdentity:yT,scaleImplicit:Ov,scaleLinear:vT,scaleLog:bT,scaleOrdinal:qy,scalePoint:dz,scalePow:nw,scaleQuantile:AT,scaleQuantize:_T,scaleRadial:ST,scaleSequential:MT,scaleSequentialLog:DT,scaleSequentialPow:fw,scaleSequentialQuantile:BT,scaleSequentialSqrt:SW,scaleSequentialSymlog:LT,scaleSqrt:i$,scaleSymlog:ET,scaleThreshold:CT,scaleTime:bW,scaleUtc:EW,tickFormat:xT},Symbol.toStringTag,{value:"Module"}));var Ds=e=>e.chartData,$p=pe([Ds],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),pw=(e,t,r,n)=>n?$p(e):Ds(e),_W=(e,t,r)=>r?$p(e):Ds(e);function go(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(nr(t)&&nr(r))return!0}return!1}function CC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $T(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(nr(r))i=r;else if(typeof r=="function")return;if(nr(n))s=n;else if(typeof n=="function")return;var c=[i,s];if(go(c))return c}}function CW(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(go(n))return CC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,c,f;if(i==="auto")t!=null&&(c=Math.min(...t));else if(rt(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[0]))}catch{}else if(typeof i=="string"&&LA.test(i)){var p=LA.exec(i);if(p==null||p[1]==null||t==null)c=void 0;else{var m=+p[1];c=t[0]-m}}else c=t?.[0];if(s==="auto")t!=null&&(f=Math.max(...t));else if(rt(s))f=s;else if(typeof s=="function")try{t!=null&&(f=s(t?.[1]))}catch{}else if(typeof s=="string"&&BA.test(s)){var x=BA.exec(s);if(x==null||x[1]==null||t==null)f=void 0;else{var b=+x[1];f=t[1]+b}}else f=t?.[1];var S=[c,f];if(go(S))return t==null?S:CC(S,t,r)}}}var Wc=1e9,NW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gw,Ir=!0,ua="[DecimalError] ",dl=ua+"Invalid argument: ",mw=ua+"Exponent out of range: ",Vc=Math.floor,el=Math.pow,OW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bi,Tn=1e7,yr=7,WT=9007199254740991,B0=Vc(WT/yr),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*yr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(e){return Es(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,r=t.constructor;return ir(Es(t,new r(e),0,1),r.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return cn(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bi))throw Error(ua+"NaN");if(r.s<1)throw Error(ua+(r.s?"NaN":"-Infinity"));return r.eq(Bi)?new n(0):(Ir=!1,t=Es(xd(r,s),xd(e,s),s),Ir=!0,ir(t,i))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qT(t,e):VT(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ua+"NaN");return r.s?(Ir=!1,t=Es(r,e,0,1).times(e),Ir=!0,r.minus(t)):ir(new n(r),i)};Ze.naturalExponential=Ze.exp=function(){return HT(this)};Ze.naturalLogarithm=Ze.ln=function(){return xd(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VT(t,e):qT(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dl+e);if(t=cn(i)+1,n=i.d.length-1,r=n*yr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ze.squareRoot=Ze.sqrt=function(){var e,t,r,n,i,s,c,f=this,p=f.constructor;if(f.s<1){if(!f.s)return new p(0);throw Error(ua+"NaN")}for(e=cn(f),Ir=!1,i=Math.sqrt(+f),i==0||i==1/0?(t=Wa(f.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Vc((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new p(t)):n=new p(i.toString()),r=p.precision,i=c=r+3;;)if(s=n,n=s.plus(Es(f,s,c+2)).times(.5),Wa(s.d).slice(0,c)===(t=Wa(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),i==c&&t=="4999"){if(ir(s,r+1,0),s.times(s).eq(f)){n=s;break}}else if(t!="9999")break;c+=4}return Ir=!0,ir(n,r)};Ze.times=Ze.mul=function(e){var t,r,n,i,s,c,f,p,m,x=this,b=x.constructor,S=x.d,_=(e=new b(e)).d;if(!x.s||!e.s)return new b(0);for(e.s*=x.s,r=x.e+e.e,p=S.length,m=_.length,p<m&&(s=S,S=_,_=s,c=p,p=m,m=c),s=[],c=p+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(t=0,i=p+n;i>n;)f=s[i]+_[n]*S[i-n-1]+t,s[i--]=f%Tn|0,t=f/Tn|0;s[i]=(s[i]+t)%Tn|0}for(;!s[--c];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ir?ir(e,b.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,Wc),t===void 0?t=n.rounding:Ga(t,0,8),ir(r,e+cn(r)+1,t))};Ze.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=vl(n,!0):(Ga(e,0,Wc),t===void 0?t=i.rounding:Ga(t,0,8),n=ir(new i(n),e+1,t),r=vl(n,!0,e+1)),r};Ze.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?vl(i):(Ga(e,0,Wc),t===void 0?t=s.rounding:Ga(t,0,8),n=ir(new s(i),e+cn(i)+1,t),r=vl(n.abs(),!1,e+cn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return ir(new t(e),cn(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,r,n,i,s,c,f=this,p=f.constructor,m=12,x=+(e=new p(e));if(!e.s)return new p(Bi);if(f=new p(f),!f.s){if(e.s<1)throw Error(ua+"Infinity");return f}if(f.eq(Bi))return f;if(n=p.precision,e.eq(Bi))return ir(f,n);if(t=e.e,r=e.d.length-1,c=t>=r,s=f.s,c){if((r=x<0?-x:x)<=WT){for(i=new p(Bi),t=Math.ceil(n/yr+4),Ir=!1;r%2&&(i=i.times(f),OC(i.d,t)),r=Vc(r/2),r!==0;)f=f.times(f),OC(f.d,t);return Ir=!0,e.s<0?new p(Bi).div(i):ir(i,n)}}else if(s<0)throw Error(ua+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,f.s=1,Ir=!1,i=e.times(xd(f,n+m)),Ir=!0,i=HT(i),i.s=s,i};Ze.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=cn(i),n=vl(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ga(e,1,Wc),t===void 0?t=s.rounding:Ga(t,0,8),i=ir(new s(i),e,t),r=cn(i),n=vl(i,e<=r||r<=s.toExpNeg,e)),n};Ze.toSignificantDigits=Ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,Wc),t===void 0?t=n.rounding:Ga(t,0,8)),ir(new n(r),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cn(e),r=e.constructor;return vl(e,t<=r.toExpNeg||t>=r.toExpPos)};function VT(e,t){var r,n,i,s,c,f,p,m,x=e.constructor,b=x.precision;if(!e.s||!t.s)return t.s||(t=new x(e)),Ir?ir(t,b):t;if(p=e.d,m=t.d,c=e.e,i=t.e,p=p.slice(),s=c-i,s){for(s<0?(n=p,s=-s,f=m.length):(n=m,i=c,f=p.length),c=Math.ceil(b/yr),f=c>f?c+1:f+1,s>f&&(s=f,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(f=p.length,s=m.length,f-s<0&&(s=f,n=m,m=p,p=n),r=0;s;)r=(p[--s]=p[s]+m[s]+r)/Tn|0,p[s]%=Tn;for(r&&(p.unshift(r),++i),f=p.length;p[--f]==0;)p.pop();return t.d=p,t.e=i,Ir?ir(t,b):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(dl+e)}function Wa(e){var t,r,n,i=e.length-1,s="",c=e[0];if(i>0){for(s+=c,t=1;t<i;t++)n=e[t]+"",r=yr-n.length,r&&(s+=lo(r)),s+=n;c=e[t],n=c+"",r=yr-n.length,r&&(s+=lo(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Es=(function(){function e(n,i){var s,c=0,f=n.length;for(n=n.slice();f--;)s=n[f]*i+c,n[f]=s%Tn|0,c=s/Tn|0;return c&&n.unshift(c),n}function t(n,i,s,c){var f,p;if(s!=c)p=s>c?1:-1;else for(f=p=0;f<s;f++)if(n[f]!=i[f]){p=n[f]>i[f]?1:-1;break}return p}function r(n,i,s){for(var c=0;s--;)n[s]-=c,c=n[s]<i[s]?1:0,n[s]=c*Tn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,c){var f,p,m,x,b,S,_,I,O,k,R,L,M,U,W,V,H,re,X=n.constructor,Ee=n.s==i.s?1:-1,ue=n.d,de=i.d;if(!n.s)return new X(n);if(!i.s)throw Error(ua+"Division by zero");for(p=n.e-i.e,H=de.length,W=ue.length,_=new X(Ee),I=_.d=[],m=0;de[m]==(ue[m]||0);)++m;if(de[m]>(ue[m]||0)&&--p,s==null?L=s=X.precision:c?L=s+(cn(n)-cn(i))+1:L=s,L<0)return new X(0);if(L=L/yr+2|0,m=0,H==1)for(x=0,de=de[0],L++;(m<W||x)&&L--;m++)M=x*Tn+(ue[m]||0),I[m]=M/de|0,x=M%de|0;else{for(x=Tn/(de[0]+1)|0,x>1&&(de=e(de,x),ue=e(ue,x),H=de.length,W=ue.length),U=H,O=ue.slice(0,H),k=O.length;k<H;)O[k++]=0;re=de.slice(),re.unshift(0),V=de[0],de[1]>=Tn/2&&++V;do x=0,f=t(de,O,H,k),f<0?(R=O[0],H!=k&&(R=R*Tn+(O[1]||0)),x=R/V|0,x>1?(x>=Tn&&(x=Tn-1),b=e(de,x),S=b.length,k=O.length,f=t(b,O,S,k),f==1&&(x--,r(b,H<S?re:de,S))):(x==0&&(f=x=1),b=de.slice()),S=b.length,S<k&&b.unshift(0),r(O,b,k),f==-1&&(k=O.length,f=t(de,O,H,k),f<1&&(x++,r(O,H<k?re:de,k))),k=O.length):f===0&&(x++,O=[0]),I[m++]=x,f&&O[0]?O[k++]=ue[U]||0:(O=[ue[U]],k=1);while((U++<W||O[0]!==void 0)&&L--)}return I[0]||I.shift(),_.e=p,ir(_,c?s+cn(_)+1:s)}})();function HT(e,t){var r,n,i,s,c,f,p=0,m=0,x=e.constructor,b=x.precision;if(cn(e)>16)throw Error(mw+cn(e));if(!e.s)return new x(Bi);for(Ir=!1,f=b,c=new x(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(n=Math.log(el(2,m))/Math.LN10*2+5|0,f+=n,r=i=s=new x(Bi),x.precision=f;;){if(i=ir(i.times(e),f),r=r.times(++p),c=s.plus(Es(i,r,f)),Wa(c.d).slice(0,f)===Wa(s.d).slice(0,f)){for(;m--;)s=ir(s.times(s),f);return x.precision=b,t==null?(Ir=!0,ir(s,b)):s}s=c}}function cn(e){for(var t=e.e*yr,r=e.d[0];r>=10;r/=10)t++;return t}function ux(e,t,r){if(t>e.LN10.sd())throw Ir=!0,r&&(e.precision=r),Error(ua+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function lo(e){for(var t="";e--;)t+="0";return t}function xd(e,t){var r,n,i,s,c,f,p,m,x,b=1,S=10,_=e,I=_.d,O=_.constructor,k=O.precision;if(_.s<1)throw Error(ua+(_.s?"NaN":"-Infinity"));if(_.eq(Bi))return new O(0);if(t==null?(Ir=!1,m=k):m=t,_.eq(10))return t==null&&(Ir=!0),ux(O,m);if(m+=S,O.precision=m,r=Wa(I),n=r.charAt(0),s=cn(_),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=Wa(_.d),n=r.charAt(0),b++;s=cn(_),n>1?(_=new O("0."+r),s++):_=new O(n+"."+r.slice(1))}else return p=ux(O,m+2,k).times(s+""),_=xd(new O(n+"."+r.slice(1)),m-S).plus(p),O.precision=k,t==null?(Ir=!0,ir(_,k)):_;for(f=c=_=Es(_.minus(Bi),_.plus(Bi),m),x=ir(_.times(_),m),i=3;;){if(c=ir(c.times(x),m),p=f.plus(Es(c,new O(i),m)),Wa(p.d).slice(0,m)===Wa(f.d).slice(0,m))return f=f.times(2),s!==0&&(f=f.plus(ux(O,m+2,k).times(s+""))),f=Es(f,new O(b),m),O.precision=k,t==null?(Ir=!0,ir(f,k)):f;f=p,i+=2}}function NC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Vc(r/yr),e.d=[],n=(r+1)%yr,r<0&&(n+=yr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=yr;n<i;)e.d.push(+t.slice(n,n+=yr));t=t.slice(n),n=yr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ir&&(e.e>B0||e.e<-B0))throw Error(mw+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,i,s,c,f,p,m,x,b=e.d;for(c=1,s=b[0];s>=10;s/=10)c++;if(n=t-c,n<0)n+=yr,i=t,m=b[x=0];else{if(x=Math.ceil((n+1)/yr),s=b.length,x>=s)return e;for(m=s=b[x],c=1;s>=10;s/=10)c++;n%=yr,i=n-yr+c}if(r!==void 0&&(s=el(10,c-i-1),f=m/s%10|0,p=t<0||b[x+1]!==void 0||m%s,p=r<4?(f||p)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||p||r==6&&(n>0?i>0?m/el(10,c-i):0:b[x-1])%10&1||r==(e.s<0?8:7))),t<1||!b[0])return p?(s=cn(e),b.length=1,t=t-s-1,b[0]=el(10,(yr-t%yr)%yr),e.e=Vc(-t/yr)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(n==0?(b.length=x,s=1,x--):(b.length=x+1,s=el(10,yr-n),b[x]=i>0?(m/el(10,c-i)%el(10,i)|0)*s:0),p)for(;;)if(x==0){(b[0]+=s)==Tn&&(b[0]=1,++e.e);break}else{if(b[x]+=s,b[x]!=Tn)break;b[x--]=0,s=1}for(n=b.length;b[--n]===0;)b.pop();if(Ir&&(e.e>B0||e.e<-B0))throw Error(mw+cn(e));return e}function qT(e,t){var r,n,i,s,c,f,p,m,x,b,S=e.constructor,_=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),Ir?ir(t,_):t;if(p=e.d,b=t.d,n=t.e,m=e.e,p=p.slice(),c=m-n,c){for(x=c<0,x?(r=p,c=-c,f=b.length):(r=b,n=m,f=p.length),i=Math.max(Math.ceil(_/yr),f)+2,c>i&&(c=i,r.length=1),r.reverse(),i=c;i--;)r.push(0);r.reverse()}else{for(i=p.length,f=b.length,x=i<f,x&&(f=i),i=0;i<f;i++)if(p[i]!=b[i]){x=p[i]<b[i];break}c=0}for(x&&(r=p,p=b,b=r,t.s=-t.s),f=p.length,i=b.length-f;i>0;--i)p[f++]=0;for(i=b.length;i>c;){if(p[--i]<b[i]){for(s=i;s&&p[--s]===0;)p[s]=Tn-1;--p[s],p[i]+=Tn}p[i]-=b[i]}for(;p[--f]===0;)p.pop();for(;p[0]===0;p.shift())--n;return p[0]?(t.d=p,t.e=n,Ir?ir(t,_):t):new S(0)}function vl(e,t,r){var n,i=cn(e),s=Wa(e.d),c=s.length;return t?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+lo(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+lo(-i-1)+s,r&&(n=r-c)>0&&(s+=lo(n))):i>=c?(s+=lo(i+1-c),r&&(n=r-i-1)>0&&(s=s+"."+lo(n))):((n=i+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(i+1===c&&(s+="."),s+=lo(n))),e.s<0?"-"+s:s}function OC(e,t){if(e.length>t)return e.length=t,!0}function GT(e){var t,r,n;function i(s){var c=this;if(!(c instanceof i))return new i(s);if(c.constructor=i,s instanceof i){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(dl+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return NC(c,s.toString())}else if(typeof s!="string")throw Error(dl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,OW.test(s))NC(c,s);else throw Error(dl+s)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GT,i.config=i.set=IW,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function IW(e){if(!e||typeof e!="object")throw Error(ua+"Object expected");var t,r,n,i=["precision",1,Wc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Vc(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(dl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dl+r+": "+n);return this}var gw=GT(NW);Bi=new gw(1);const Zt=gw;var TW=e=>e,KT={},XT=e=>e===KT,IC=e=>function t(){return arguments.length===0||arguments.length===1&&XT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YT=(e,t)=>e===1?t:IC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(c=>c!==KT).length;return s>=e?t(...n):YT(e-s,IC(function(){for(var c=arguments.length,f=new Array(c),p=0;p<c;p++)f[p]=arguments[p];var m=n.map(x=>XT(x)?f.shift():x);return t(...m,...f)}))}),kW=e=>YT(e.length,e),Pv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},PW=kW((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),jW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return TW;var i=r.reverse(),s=i[0],c=i.slice(1);return function(){return c.reduce((f,p)=>p(f),s(...arguments))}};function ZT(e){var t;return e===0?t=1:t=Math.floor(new Zt(e).abs().log(10).toNumber())+1,t}function QT(e,t,r){for(var n=new Zt(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var JT=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},ek=(e,t,r)=>{if(e.lte(0))return new Zt(0);var n=ZT(e.toNumber()),i=new Zt(10).pow(n),s=e.div(i),c=n!==1?.05:.1,f=new Zt(Math.ceil(s.div(c).toNumber())).add(r).mul(c),p=f.mul(i);return t?new Zt(p.toNumber()):new Zt(Math.ceil(p.toNumber()))},RW=(e,t,r)=>{var n=new Zt(1),i=new Zt(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Zt(10).pow(ZT(e)-1),i=new Zt(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Zt(Math.floor(e)))}else e===0?i=new Zt(Math.floor((t-1)/2)):r||(i=new Zt(Math.floor(e)));var c=Math.floor((t-1)/2),f=jW(PW(p=>i.add(new Zt(p-c).mul(n)).toNumber()),Pv);return f(0,t)},tk=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Zt(0),tickMin:new Zt(0),tickMax:new Zt(0)};var c=ek(new Zt(r).sub(t).div(n-1),i,s),f;t<=0&&r>=0?f=new Zt(0):(f=new Zt(t).add(r).div(2),f=f.sub(new Zt(f).mod(c)));var p=Math.ceil(f.sub(t).div(c).toNumber()),m=Math.ceil(new Zt(r).sub(f).div(c).toNumber()),x=p+m+1;return x>n?tk(t,r,n,i,s+1):(x<n&&(m=r>0?m+(n-x):m,p=r>0?p:p+(n-x)),{step:c,tickMin:f.sub(new Zt(p).mul(c)),tickMax:f.add(new Zt(m).mul(c))})},MW=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(i,2),[f,p]=JT([r,n]);if(f===-1/0||p===1/0){var m=p===1/0?[f,...Pv(0,i-1).map(()=>1/0)]:[...Pv(0,i-1).map(()=>-1/0),p];return r>n?m.reverse():m}if(f===p)return RW(f,i,s);var{step:x,tickMin:b,tickMax:S}=tk(f,p,c,s,0),_=QT(b,S.add(new Zt(.1).mul(x)),x);return r>n?_.reverse():_},DW=function(t,r){var[n,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,f]=JT([n,i]);if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var p=Math.max(r,2),m=ek(new Zt(f).sub(c).div(p-1),s,0),x=[...QT(new Zt(c),new Zt(f),m),f];return s===!1&&(x=x.map(b=>Math.round(b))),n>i?x.reverse():x},rk=e=>e.rootProps.maxBarSize,LW=e=>e.rootProps.barGap,nk=e=>e.rootProps.barCategoryGap,BW=e=>e.rootProps.barSize,Bd=e=>e.rootProps.stackOffset,ik=e=>e.rootProps.reverseStackOrder,xw=e=>e.options.chartName,vw=e=>e.rootProps.syncId,ak=e=>e.rootProps.syncMethod,yw=e=>e.options.eventEmitter,ln={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Di={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Wp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},FW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:xs.reversed,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:xs.type,unit:void 0},UW={allowDataOverflow:Di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Di.scale,tick:Di.tick,tickCount:Di.tickCount,ticks:void 0,type:Di.type,unit:void 0},zW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xs.scale,tick:xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},$W={allowDataOverflow:Di.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Di.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Di.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Di.scale,tick:Di.tick,tickCount:Di.tickCount,ticks:void 0,type:"category",unit:void 0},ww=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?zW:FW,bw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?$W:UW,Vp=e=>e.polarOptions,Ew=pe([js,Rs,vn],nT),sk=pe([Vp,Ew],(e,t)=>{if(e!=null)return ei(e.innerRadius,t,0)}),ok=pe([Vp,Ew],(e,t)=>{if(e!=null)return ei(e.outerRadius,t,t*.8)}),WW=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},lk=pe([Vp],WW);pe([ww,lk],Wp);var ck=pe([Ew,sk,ok],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});pe([bw,ck],Wp);var uk=pe([Vt,Vp,sk,ok,js,Rs],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:f,startAngle:p,endAngle:m}=t;return{cx:ei(c,i,i/2),cy:ei(f,s,s/2),innerRadius:r,outerRadius:n,startAngle:p,endAngle:m,clockWise:!1}}}),kr=(e,t)=>t,Fd=(e,t,r)=>r;function Sw(e){return e?.id}function dk(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=r,c=new Map;return e.forEach(f=>{var p,m=(p=f.data)!==null&&p!==void 0?p:n;if(!(m==null||m.length===0)){var x=Sw(f);m.forEach((b,S)=>{var _=s==null||i?S:String(Xt(b,s,null)),I=Xt(b,f.dataKey,0),O;c.has(_)?O=c.get(_):O={},Object.assign(O,{[x]:I}),c.set(_,O)})}}),Array.from(c.values())}function Hp(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Gp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VW(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Hc=e=>e.tooltip.settings.axisId;function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){HW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jv=[0,"auto"],On={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fk=(e,t)=>e.cartesianAxis.xAxis[t],Xa=(e,t)=>{var r=fk(e,t);return r??On},In={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Id},hk=(e,t)=>e.cartesianAxis.yAxis[t],Ya=(e,t)=>{var r=hk(e,t);return r??In},pk={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Aw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pk},Lr=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);case"zAxis":return Aw(e,r);case"angleAxis":return ww(e,r);case"radiusAxis":return bw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},KW=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ud=(e,t,r)=>{switch(t){case"xAxis":return Xa(e,r);case"yAxis":return Ya(e,r);case"angleAxis":return ww(e,r);case"radiusAxis":return bw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _w(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Kp=e=>e.graphicalItems.cartesianItems,XW=pe([kr,Fd],_w),Cw=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zd=pe([Kp,Lr,XW],Cw,{memoizeOptions:{resultEqualityCheck:Gp}}),gk=pe([zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Hp)),xk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),YW=pe([zd],xk),Nw=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZW=pe([zd],Nw,{memoizeOptions:{resultEqualityCheck:Gp}}),Ow=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Iw=pe([ZW,pw],Ow),Tw=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Xt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Xt(i,n)}))):e.map(n=>({value:n})),Xp=pe([Iw,Lr,zd],Tw);function vk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uh(e){if(la(e)||e instanceof Date){var t=Number(e);if(nr(t))return t}}function kC(e){if(Array.isArray(e)){var t=[Uh(e[0]),Uh(e[1])];return go(t)?t:void 0}var r=Uh(e);if(r!=null)return[r,r]}function Ts(e){return e.map(Uh).filter(W9)}function QW(e,t,r){return!r||typeof t!="number"||Vi(t)?[]:r.length?Ts(r.flatMap(n=>{var i=Xt(e,n.dataKey),s,c;if(Array.isArray(i)?[s,c]=i:s=c=i,!(!nr(s)||!nr(c)))return[t-s,t+c]})):[]}var bn=e=>{var t=wn(e),r=Hc(e);return Ud(e,t,r)},$d=pe([bn],e=>e?.dataKey),JW=pe([gk,pw,bn],dk),yk=(e,t,r,n)=>{var i={},s=t.reduce((c,f)=>{if(f.stackId==null)return c;var p=c[f.stackId];return p==null&&(p=[]),p.push(f),c[f.stackId]=p,c},i);return Object.fromEntries(Object.entries(s).map(c=>{var[f,p]=c,m=n?[...p].reverse():p,x=m.map(Sw);return[f,{stackedData:vB(e,x,r),graphicalItems:m}]}))},Rv=pe([JW,gk,Bd,ik],yk),wk=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var c=SB(e,i,s);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},eV=pe([Lr],e=>e.allowDataOverflow),kw=e=>{var t;if(e==null||!("domain"in e))return jv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ts(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:jv},Pw=pe([Lr],kw),jw=pe([Pw,eV],$T),tV=pe([Rv,Ds,kr,jw],wk,{memoizeOptions:{resultEqualityCheck:qp}}),Yp=e=>e.errorBars,rV=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>vk(r,n)),U0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),c=Math.min(...s),f=Math.max(...s);return[c,f]}},Rw=(e,t,r,n,i)=>{var s,c;if(r.length>0&&e.forEach(f=>{r.forEach(p=>{var m,x,b=(m=n[p.id])===null||m===void 0?void 0:m.filter(R=>vk(i,R)),S=Xt(f,(x=t.dataKey)!==null&&x!==void 0?x:p.dataKey),_=QW(f,S,b);if(_.length>=2){var I=Math.min(..._),O=Math.max(..._);(s==null||I<s)&&(s=I),(c==null||O>c)&&(c=O)}var k=kC(S);k!=null&&(s=s==null?k[0]:Math.min(s,k[0]),c=c==null?k[1]:Math.max(c,k[1]))})}),t?.dataKey!=null&&e.forEach(f=>{var p=kC(Xt(f,t.dataKey));p!=null&&(s=s==null?p[0]:Math.min(s,p[0]),c=c==null?p[1]:Math.max(c,p[1]))}),nr(s)&&nr(c))return[s,c]},nV=pe([Iw,Lr,YW,Yp,kr],Rw,{memoizeOptions:{resultEqualityCheck:qp}});function iV(e){var{value:t}=e;if(la(t)||t instanceof Date)return t}var aV=(e,t,r)=>{var n=e.map(iV).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&B4(n))?oT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},bk=e=>e.referenceElements.dots,qc=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),sV=pe([bk,kr,Fd],qc),Ek=e=>e.referenceElements.areas,oV=pe([Ek,kr,Fd],qc),Sk=e=>e.referenceElements.lines,lV=pe([Sk,kr,Fd],qc),Ak=(e,t)=>{if(e!=null){var r=Ts(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},cV=pe(sV,kr,Ak),_k=(e,t)=>{if(e!=null){var r=Ts(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},uV=pe([oV,kr],_k);function dV(e){var t;if(e.x!=null)return Ts([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ts(r)}function fV(e){var t;if(e.y!=null)return Ts([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ts(r)}var Ck=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?dV(n):fV(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},hV=pe([lV,kr],Ck),pV=pe(cV,hV,uV,(e,t,r)=>U0(e,r,t)),Mw=(e,t,r,n,i,s,c,f)=>{if(r!=null)return r;var p=c==="vertical"&&f==="xAxis"||c==="horizontal"&&f==="yAxis",m=p?U0(n,s,i):U0(s,i);return CW(t,m,e.allowDataOverflow)},mV=pe([Lr,Pw,jw,tV,nV,pV,Vt,kr],Mw,{memoizeOptions:{resultEqualityCheck:qp}}),gV=[0,1],Dw=(e,t,r,n,i,s,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:f,type:p}=e,m=Al(t,s);if(m&&f==null){var x;return oT(0,(x=r?.length)!==null&&x!==void 0?x:0)}return p==="category"?aV(n,e,m):i==="expand"?gV:c}},Lw=pe([Lr,Vt,Iw,Xp,Bd,kr,mV],Dw),Nk=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:c}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":c==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var f="scale".concat(_d(s));return f in Xu?f:"point"}}},Gc=pe([Lr,Vt,mk,xw,kr],Nk);function xV(e){if(e!=null){if(e in Xu)return Xu[e]();var t="scale".concat(_d(e));if(t in Xu)return Xu[t]()}}function Bw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=xV(t);if(i!=null){var s=i.domain(r).range(n);return hB(s),s}}}var Fw=(e,t,r)=>{var n=kw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&go(e))return MW(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&go(e))return DW(e,t.tickCount,t.allowDecimals)}},Uw=pe([Lw,Ud,Gc],Fw),zw=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&go(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],c=t[1],f=r[r.length-1];return[Math.min(i,s),Math.max(c,f)]}return t},vV=pe([Lr,Lw,Uw,kr],zw),yV=pe(Xp,Lr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ts(e.map(b=>b.value))).sort((b,S)=>b-S),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var c=s-i;if(c===0)return 1/0;for(var f=0;f<n.length-1;f++){var p=n[f],m=n[f+1];if(!(p==null||m==null)){var x=m-p;r=Math.min(r,x)}}return r/c}}),Ok=pe(yV,Vt,nk,vn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!nr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var c=ei(r,e*s),f=e*s/2;return f-c-(f-c)/s*c}return 0}),wV=(e,t,r)=>{var n=Xa(e,t);return n==null||typeof n.padding!="string"?0:Ok(e,"xAxis",t,r,n.padding)},bV=(e,t,r)=>{var n=Ya(e,t);return n==null||typeof n.padding!="string"?0:Ok(e,"yAxis",t,r,n.padding)},EV=pe(Xa,wV,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),SV=pe(Ya,bV,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),AV=pe([vn,EV,Ip,Op,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),_V=pe([vn,Vt,SV,Ip,Op,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:c}=i;return s?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return AV(e,r,n);case"yAxis":return _V(e,r,n);case"zAxis":return(i=Aw(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return lk(e);case"radiusAxis":return ck(e,r);default:return}},Ik=pe([Lr,Wd],Wp),jc=pe([Lr,Gc,vV,Ik],Bw);pe([zd,Yp,kr],rV);function Tk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Zp=(e,t)=>t,Qp=(e,t,r)=>r,CV=pe(Cp,Zp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Tk)),NV=pe(Np,Zp,Qp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Tk)),kk=(e,t)=>({width:e.width,height:t.height}),OV=(e,t)=>{var r=typeof t.width=="number"?t.width:Id;return{width:r,height:e.height}},Pk=pe(vn,Xa,kk),IV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},TV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},kV=pe(Rs,vn,CV,Zp,Qp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=kk(t,f);c==null&&(c=IV(t,n,e));var m=n==="top"&&!i||n==="bottom"&&i;s[f.id]=c-Number(m)*p.height,c+=(m?-1:1)*p.height}),s}),PV=pe(js,vn,NV,Zp,Qp,(e,t,r,n,i)=>{var s={},c;return r.forEach(f=>{var p=OV(t,f);c==null&&(c=TV(t,n,e));var m=n==="left"&&!i||n==="right"&&i;s[f.id]=c-Number(m)*p.width,c+=(m?-1:1)*p.width}),s}),jV=(e,t)=>{var r=Xa(e,t);if(r!=null)return kV(e,r.orientation,r.mirror)},RV=pe([vn,Xa,jV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),MV=(e,t)=>{var r=Ya(e,t);if(r!=null)return PV(e,r.orientation,r.mirror)},DV=pe([vn,Ya,MV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),jk=pe(vn,Ya,(e,t)=>{var r=typeof t.width=="number"?t.width:Id;return{width:r,height:e.height}}),PC=(e,t,r)=>{switch(t){case"xAxis":return Pk(e,r).width;case"yAxis":return jk(e,r).height;default:return}},Rk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:c}=r,f=Al(e,n),p=t.map(m=>m.value);if(c&&f&&s==="category"&&i&&B4(p))return p}},$w=pe([Vt,Xp,Lr,kr],Rk),Mk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,c=Al(e,n);if(c&&(i==="number"||s!=="auto"))return t.map(f=>f.value)}},Ww=pe([Vt,Xp,Ud,kr],Mk),jC=pe([Vt,KW,Gc,jc,$w,Ww,Wd,Uw,kr],(e,t,r,n,i,s,c,f,p)=>{if(t!=null){var m=Al(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:f,range:c,realScaleType:r,scale:n}}}),LV=(e,t,r,n,i,s,c,f,p)=>{if(!(t==null||n==null)){var m=Al(e,p),{type:x,ticks:b,tickCount:S}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,I=x==="category"&&n.bandwidth?n.bandwidth()/_:0;I=p==="angleAxis"&&s!=null&&s.length>=2?kn(s[0]-s[1])*2*I:I;var O=b||i;if(O){var k=O.map((R,L)=>{var M=c?c.indexOf(R):R;return{index:L,coordinate:n(M)+I,value:R,offset:I}});return k.filter(R=>nr(R.coordinate))}return m&&f?f.map((R,L)=>({coordinate:n(R)+I,value:R,index:L,offset:I})).filter(R=>nr(R.coordinate)):n.ticks?n.ticks(S).map(R=>({coordinate:n(R)+I,value:R,offset:I})):n.domain().map((R,L)=>({coordinate:n(R)+I,value:c?c[R]:R,index:L,offset:I}))}},Dk=pe([Vt,Ud,Gc,jc,Uw,Wd,$w,Ww,kr],LV),BV=(e,t,r,n,i,s,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var f=Al(e,c),{tickCount:p}=t,m=0;return m=c==="angleAxis"&&n?.length>=2?kn(n[0]-n[1])*2*m:m,f&&s?s.map((x,b)=>({coordinate:r(x)+m,value:x,index:b,offset:m})):r.ticks?r.ticks(p).map(x=>({coordinate:r(x)+m,value:x,offset:m})):r.domain().map((x,b)=>({coordinate:r(x)+m,value:i?i[x]:x,index:b,offset:m}))}},xo=pe([Vt,Ud,jc,Wd,$w,Ww,kr],BV),vo=pe(Lr,jc,(e,t)=>{if(!(e==null||t==null))return F0(F0({},e),{},{scale:t})}),FV=pe([Lr,Gc,Lw,Ik],Bw),UV=pe((e,t,r)=>Aw(e,r),FV,(e,t)=>{if(!(e==null||t==null))return F0(F0({},e),{},{scale:t})}),zV=pe([Vt,Cp,Np],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Lk=e=>e.options.defaultTooltipEventType,Bk=e=>e.options.validateTooltipEventTypes;function Fk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Vw(e,t){var r=Lk(e),n=Bk(e);return Fk(t,r,n)}function $V(e){return Ke(t=>Vw(t,e))}var Uk=(e,t)=>{var r,n=Number(t);if(!(Vi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},WV=e=>e.tooltip.settings,ho={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},VV={itemInteraction:{click:ho,hover:ho},axisInteraction:{click:ho,hover:ho},keyboardInteraction:ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zk=Ei({name:"tooltip",initialState:VV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Or()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Or()},removeTooltipEntrySettings:{reducer(e,t){var r=Oa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Or()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:HV,replaceTooltipEntrySettings:qV,removeTooltipEntrySettings:GV,setTooltipSettingsState:KV,setActiveMouseOverItemIndex:$k,mouseLeaveItem:XV,mouseLeaveChart:Wk,setActiveClickItemIndex:YV,setMouseOverAxisIndex:Vk,setMouseClickAxisIndex:ZV,setSyncInteraction:Mv,setKeyboardInteraction:Dv}=zk.actions,QV=zk.reducer;function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return(t=eH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=tH(e,"string");return typeof t=="symbol"?t:t+""}function tH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nH(e){return e.index!=null}var Hk=(e,t,r,n)=>{if(t==null)return ho;var i=rH(e,t,r);if(i==null)return ho;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(nH(i)){if(s)return _h(_h({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return _h(_h({},ho),{},{coordinate:i.coordinate})};function iH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function aH(e,t){var r=iH(e),n=t[0],i=t[1];if(r===void 0)return!1;var s=Math.min(n,i),c=Math.max(n,i);return r>=s&&r<=c}function sH(e,t,r){if(r==null||t==null)return!0;var n=Xt(e,t);return n==null||!go(r)?!0:aH(n,r)}var Hw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var s=Number(i);if(!nr(s))return i;var c=0,f=1/0;t.length>0&&(f=t.length-1);var p=Math.max(c,Math.min(s,f)),m=t[p];return m==null||sH(m,r,n)?String(p):null},qk=(e,t,r,n,i,s,c,f)=>{if(!(s==null||f==null)){var p=c[0],m=p==null?void 0:f(p.positions,s);if(m!=null)return m;var x=i?.[Number(s)];if(x)switch(r){case"horizontal":return{x:x.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:x.coordinate}}}},Gk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(c=>{var f;return((f=c.settings)===null||f===void 0?void 0:f.graphicalItemId)===i})},Vd=e=>e.options.tooltipPayloadSearcher,Kc=e=>e.tooltip;function MC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(r),!0).forEach(function(n){oH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oH(e,t,r){return(t=lH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=cH(e,"string");return typeof t=="symbol"?t:t+""}function cH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e,t){return e??t}var Kk=(e,t,r,n,i,s,c)=>{if(!(t==null||s==null)){var{chartData:f,computedData:p,dataStartIndex:m,dataEndIndex:x}=r,b=[];return e.reduce((S,_)=>{var I,{dataDefinedOnItem:O,settings:k}=_,R=uH(O,f),L=Array.isArray(R)?PI(R,m,x):R,M=(I=k?.dataKey)!==null&&I!==void 0?I:n,U=k?.nameKey,W;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&c==="axis"?W=F4(L,n,i):W=s(L,t,p,U),Array.isArray(W))W.forEach(H=>{var re=DC(DC({},k),{},{name:H.name,unit:H.unit,color:void 0,fill:void 0});S.push(FA({tooltipEntrySettings:re,dataKey:H.dataKey,payload:H.payload,value:Xt(H.payload,H.dataKey),name:H.name}))});else{var V;S.push(FA({tooltipEntrySettings:k,dataKey:M,payload:W,value:Xt(W,M),name:(V=Xt(W,U))!==null&&V!==void 0?V:k?.name}))}return S},b)}},qw=pe([bn,Vt,mk,xw,wn],Nk),dH=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fH=pe([wn,Hc],_w),Xc=pe([dH,bn,fH],Cw,{memoizeOptions:{resultEqualityCheck:Gp}}),hH=pe([Xc],e=>e.filter(Hp)),pH=pe([Xc],Nw,{memoizeOptions:{resultEqualityCheck:Gp}}),Yc=pe([pH,Ds],Ow),mH=pe([hH,Ds,bn],dk),Gw=pe([Yc,bn,Xc],Tw),Xk=pe([bn],kw),gH=pe([bn],e=>e.allowDataOverflow),Yk=pe([Xk,gH],$T),xH=pe([Xc],e=>e.filter(Hp)),vH=pe([mH,xH,Bd,ik],yk),yH=pe([vH,Ds,wn,Yk],wk),wH=pe([Xc],xk),bH=pe([Yc,bn,wH,Yp,wn],Rw,{memoizeOptions:{resultEqualityCheck:qp}}),EH=pe([bk,wn,Hc],qc),SH=pe([EH,wn],Ak),AH=pe([Ek,wn,Hc],qc),_H=pe([AH,wn],_k),CH=pe([Sk,wn,Hc],qc),NH=pe([CH,wn],Ck),OH=pe([SH,NH,_H],U0),IH=pe([bn,Xk,Yk,yH,bH,OH,Vt,wn],Mw),Hd=pe([bn,Vt,Yc,Gw,Bd,wn,IH],Dw),TH=pe([Hd,bn,qw],Fw),kH=pe([bn,Hd,TH,wn],zw),Zk=e=>{var t=wn(e),r=Hc(e),n=!1;return Wd(e,t,r,n)},Qk=pe([bn,Zk],Wp),Jk=pe([bn,qw,kH,Qk],Bw),PH=pe([Vt,Gw,bn,wn],Rk),jH=pe([Vt,Gw,bn,wn],Mk),RH=(e,t,r,n,i,s,c,f)=>{if(t){var{type:p}=t,m=Al(e,f);if(n){var x=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,b=p==="category"&&n.bandwidth?n.bandwidth()/x:0;return b=f==="angleAxis"&&i!=null&&i?.length>=2?kn(i[0]-i[1])*2*b:b,m&&c?c.map((S,_)=>({coordinate:n(S)+b,value:S,index:_,offset:b})):n.domain().map((S,_)=>({coordinate:n(S)+b,value:s?s[S]:S,index:_,offset:b}))}}},Ls=pe([Vt,bn,qw,Jk,Zk,PH,jH,wn],RH),Kw=pe([Lk,Bk,WV],(e,t,r)=>Fk(r.shared,e,t)),eP=e=>e.tooltip.settings.trigger,Xw=e=>e.tooltip.settings.defaultIndex,qd=pe([Kc,Kw,eP,Xw],Hk),yo=pe([qd,Yc,$d,Hd],Hw),tP=pe([Ls,yo],Uk),Yw=pe([qd],e=>{if(e)return e.dataKey}),MH=pe([qd],e=>{if(e)return e.graphicalItemId}),rP=pe([Kc,Kw,eP,Xw],Gk),DH=pe([js,Rs,Vt,vn,Ls,Xw,rP,Vd],qk),LH=pe([qd,DH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),BH=pe([qd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),FH=pe([rP,yo,Ds,$d,tP,Vd,Kw],Kk);pe([FH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=zH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=()=>Ke(bn),VH=()=>{var e=WH(),t=Ke(Ls),r=Ke(Jk);return y0(!e||!r?void 0:BC(BC({},e),{},{scale:r}),t)};function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=(e,t,r,n)=>{var i=t.find(s=>s&&s.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},XH=(e,t,r,n)=>{var i=t.find(m=>m&&m.index===r);if(i){if(e==="centric"){var s=i.coordinate,{radius:c}=n;return oc(oc(oc({},n),on(n.cx,n.cy,c,s)),{},{angle:s,radius:c})}var f=i.coordinate,{angle:p}=n;return oc(oc(oc({},n),on(n.cx,n.cy,f,p)),{},{angle:p,radius:f})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function YH(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var nP=(e,t,r,n,i)=>{var s,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<c;f++){var p,m,x,b,S,_=f>0?(p=r[f-1])===null||p===void 0?void 0:p.coordinate:(m=r[c-1])===null||m===void 0?void 0:m.coordinate,I=(x=r[f])===null||x===void 0?void 0:x.coordinate,O=f>=c-1?(b=r[0])===null||b===void 0?void 0:b.coordinate:(S=r[f+1])===null||S===void 0?void 0:S.coordinate,k=void 0;if(!(_==null||I==null||O==null))if(kn(I-_)!==kn(O-I)){var R=[];if(kn(O-I)===kn(i[1]-i[0])){k=O;var L=I+i[1]-i[0];R[0]=Math.min(L,(L+_)/2),R[1]=Math.max(L,(L+_)/2)}else{k=_;var M=O+i[1]-i[0];R[0]=Math.min(I,(M+I)/2),R[1]=Math.max(I,(M+I)/2)}var U=[Math.min(I,(k+I)/2),Math.max(I,(k+I)/2)];if(e>U[0]&&e<=U[1]||e>=R[0]&&e<=R[1]){var W;return(W=r[f])===null||W===void 0?void 0:W.index}}else{var V=Math.min(_,O),H=Math.max(_,O);if(e>(V+I)/2&&e<=(H+I)/2){var re;return(re=r[f])===null||re===void 0?void 0:re.index}}}else if(t)for(var X=0;X<c;X++){var Ee=t[X];if(Ee!=null){var ue=t[X+1],de=t[X-1];if(X===0&&ue!=null&&e<=(Ee.coordinate+ue.coordinate)/2||X===c-1&&de!=null&&e>(Ee.coordinate+de.coordinate)/2||X>0&&X<c-1&&de!=null&&ue!=null&&e>(Ee.coordinate+de.coordinate)/2&&e<=(Ee.coordinate+ue.coordinate)/2)return Ee.index}}return-1},ZH=()=>Ke(xw),Zw=(e,t)=>t,iP=(e,t,r)=>r,Qw=(e,t,r,n)=>n,QH=pe(Ls,e=>gp(e,t=>t.coordinate)),Jw=pe([Kc,Zw,iP,Qw],Hk),eb=pe([Jw,Yc,$d,Hd],Hw),JH=(e,t,r)=>{if(t!=null){var n=Kc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aP=pe([Kc,Zw,iP,Qw],Gk),z0=pe([js,Rs,Vt,vn,Ls,Qw,aP,Vd],qk),eq=pe([Jw,z0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),sP=pe([Ls,eb],Uk),tq=pe([aP,eb,Ds,$d,sP,Vd,Zw],Kk),rq=pe([Jw,eb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nq=(e,t,r,n,i,s,c)=>{if(!(!e||!r||!n||!i)&&YH(e,c)){var f=AB(e,t),p=nP(f,s,i,r,n),m=KH(t,i,p,e);return{activeIndex:String(p),activeCoordinate:m}}},iq=(e,t,r,n,i,s,c)=>{if(!(!e||!n||!i||!s||!r)){var f=zU(e,r);if(f){var p=_B(f,t),m=nP(p,c,s,n,i),x=XH(t,s,m,f);return{activeIndex:String(m),activeCoordinate:x}}}},aq=(e,t,r,n,i,s,c,f)=>{if(!(!e||!t||!n||!i||!s))return t==="horizontal"||t==="vertical"?nq(e,t,n,i,s,c,f):iq(e,t,r,n,i,s,c)},sq=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),oq=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ln)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:VW}});function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dq={},fq={zIndexMap:Object.values(ln).reduce((e,t)=>zC(zC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),dq)},hq=new Set(Object.values(ln));function pq(e){return hq.has(e)}var oP=Ei({name:"zIndex",initialState:fq,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Or()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!pq(r)&&delete e.zIndexMap[r])},prepare:Or()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Or()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Or()}}}),{registerZIndexPortal:mq,unregisterZIndexPortal:gq,registerZIndexPortalElement:xq,unregisterZIndexPortalElement:vq}=oP.actions,yq=oP.reducer;function Si(e){var{zIndex:t,children:r}=e,n=rF(),i=n&&t!==void 0&&t!==0,s=$n(),c=ar();N.useLayoutEffect(()=>i?(c(mq({zIndex:t})),()=>{c(gq({zIndex:t}))}):Cd,[c,t,i]);var f=Ke(p=>sq(p,t,s));return i?f?ny.createPortal(r,f):null:r}function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return(t=bq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sq(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function Aq(e){var t,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:c,layout:f,cursor:p,tooltipEventType:m,chartName:x}=e,b=r,S=n,_=i;if(!p||!b||x!=="ScatterChart"&&m!=="axis")return null;var I,O,k;if(x==="ScatterChart")I=b,O=tU,k=ln.cursorLine;else if(x==="BarChart")I=rU(f,b,s,c),O=rT,k=ln.cursorRectangle;else if(f==="radial"&&z4(b)){var{cx:R,cy:L,radius:M,startAngle:U,endAngle:W}=iT(b);I={cx:R,cy:L,startAngle:U,endAngle:W,innerRadius:M,outerRadius:M},O=sT,k=ln.cursorLine}else I={points:HU(f,b,s)},O=Rp,k=ln.cursorLine;var V=typeof p=="object"&&"className"in p?p.className:void 0,H=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},s),I),Cc(p)),{},{payload:S,payloadIndex:_,className:qt("recharts-tooltip-cursor",V)});return N.createElement(Si,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:k},N.createElement(Sq,{cursor:p,cursorComp:O,cursorProps:H}))}function _q(e){var t=VH(),r=UI(),n=Td(),i=ZH();return t==null||r==null||n==null||i==null?null:N.createElement(Aq,Lv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var lP=N.createContext(null),Cq=()=>N.useContext(lP),dx={exports:{}},WC;function Nq(){return WC||(WC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(p,m,x){this.fn=p,this.context=m,this.once=x||!1}function s(p,m,x,b,S){if(typeof x!="function")throw new TypeError("The listener must be a function");var _=new i(x,b||p,S),I=r?r+m:m;return p._events[I]?p._events[I].fn?p._events[I]=[p._events[I],_]:p._events[I].push(_):(p._events[I]=_,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new n:delete p._events[m]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],x,b;if(this._eventsCount===0)return m;for(b in x=this._events)t.call(x,b)&&m.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(x)):m},f.prototype.listeners=function(m){var x=r?r+m:m,b=this._events[x];if(!b)return[];if(b.fn)return[b.fn];for(var S=0,_=b.length,I=new Array(_);S<_;S++)I[S]=b[S].fn;return I},f.prototype.listenerCount=function(m){var x=r?r+m:m,b=this._events[x];return b?b.fn?1:b.length:0},f.prototype.emit=function(m,x,b,S,_,I){var O=r?r+m:m;if(!this._events[O])return!1;var k=this._events[O],R=arguments.length,L,M;if(k.fn){switch(k.once&&this.removeListener(m,k.fn,void 0,!0),R){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,x),!0;case 3:return k.fn.call(k.context,x,b),!0;case 4:return k.fn.call(k.context,x,b,S),!0;case 5:return k.fn.call(k.context,x,b,S,_),!0;case 6:return k.fn.call(k.context,x,b,S,_,I),!0}for(M=1,L=new Array(R-1);M<R;M++)L[M-1]=arguments[M];k.fn.apply(k.context,L)}else{var U=k.length,W;for(M=0;M<U;M++)switch(k[M].once&&this.removeListener(m,k[M].fn,void 0,!0),R){case 1:k[M].fn.call(k[M].context);break;case 2:k[M].fn.call(k[M].context,x);break;case 3:k[M].fn.call(k[M].context,x,b);break;case 4:k[M].fn.call(k[M].context,x,b,S);break;default:if(!L)for(W=1,L=new Array(R-1);W<R;W++)L[W-1]=arguments[W];k[M].fn.apply(k[M].context,L)}}return!0},f.prototype.on=function(m,x,b){return s(this,m,x,b,!1)},f.prototype.once=function(m,x,b){return s(this,m,x,b,!0)},f.prototype.removeListener=function(m,x,b,S){var _=r?r+m:m;if(!this._events[_])return this;if(!x)return c(this,_),this;var I=this._events[_];if(I.fn)I.fn===x&&(!S||I.once)&&(!b||I.context===b)&&c(this,_);else{for(var O=0,k=[],R=I.length;O<R;O++)(I[O].fn!==x||S&&!I[O].once||b&&I[O].context!==b)&&k.push(I[O]);k.length?this._events[_]=k.length===1?k[0]:k:c(this,_)}return this},f.prototype.removeAllListeners=function(m){var x;return m?(x=r?r+m:m,this._events[x]&&c(this,x)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f})(dx)),dx.exports}var Oq=Nq();const Iq=da(Oq);var vd=new Iq,Bv="recharts.syncEvent.tooltip",VC="recharts.syncEvent.brush";function tb(e,t){if(t){var r=Number.parseInt(t,10);if(!Vi(r))return e?.[r]}}var Tq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},cP=Ei({name:"options",initialState:Tq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kq=cP.reducer,{createEventEmitter:Pq}=cP.actions;function jq(e){return e.tooltip.syncInteraction}var Rq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},uP=Ei({name:"chartData",initialState:Rq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:HC,setDataStartEndIndexes:Mq,setComputedData:Kte}=uP.actions,Dq=uP.reducer,Lq=["x","y"];function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zq(e,t){if(e==null)return{};var r,n,i=$q(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wq(){var e=Ke(vw),t=Ke(yw),r=ar(),n=Ke(ak),i=Ke(Ls),s=Td(),c=zc(),f=Ke(p=>p.rootProps.className);N.useEffect(()=>{if(e==null)return Cd;var p=(m,x,b)=>{if(t!==b&&e===m){if(n==="index"){var S;if(c&&x!==null&&x!==void 0&&(S=x.payload)!==null&&S!==void 0&&S.coordinate&&x.payload.sourceViewBox){var _=x.payload.coordinate,{x:I,y:O}=_,k=zq(_,Lq),{x:R,y:L,width:M,height:U}=x.payload.sourceViewBox,W=lc(lc({},k),{},{x:c.x+(M?(I-R)/M:0)*c.width,y:c.y+(U?(O-L)/U:0)*c.height});r(lc(lc({},x),{},{payload:lc(lc({},x.payload),{},{coordinate:W})}))}else r(x);return}if(i!=null){var V;if(typeof n=="function"){var H={activeTooltipIndex:x.payload.index==null?void 0:Number(x.payload.index),isTooltipActive:x.payload.active,activeIndex:x.payload.index==null?void 0:Number(x.payload.index),activeLabel:x.payload.label,activeDataKey:x.payload.dataKey,activeCoordinate:x.payload.coordinate},re=n(i,H);V=i[re]}else n==="value"&&(V=i.find(ie=>String(ie.value)===x.payload.label));var{coordinate:X}=x.payload;if(V==null||x.payload.active===!1||X==null||c==null){r(Mv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Ee,y:ue}=X,de=Math.min(Ee,c.x+c.width),Ae=Math.min(ue,c.y+c.height),ke={x:s==="horizontal"?V.coordinate:de,y:s==="horizontal"?Ae:V.coordinate},te=Mv({active:x.payload.active,coordinate:ke,dataKey:x.payload.dataKey,index:String(V.index),label:x.payload.label,sourceViewBox:x.payload.sourceViewBox,graphicalItemId:x.payload.graphicalItemId});r(te)}}};return vd.on(Bv,p),()=>{vd.off(Bv,p)}},[f,r,t,e,n,i,s,c])}function Vq(){var e=Ke(vw),t=Ke(yw),r=ar();N.useEffect(()=>{if(e==null)return Cd;var n=(i,s,c)=>{t!==c&&e===i&&r(Mq(s))};return vd.on(VC,n),()=>{vd.off(VC,n)}},[r,t,e])}function Hq(){var e=ar();N.useEffect(()=>{e(Pq())},[e]),Wq(),Vq()}function qq(e,t,r,n,i,s){var c=Ke(_=>JH(_,e,t)),f=Ke(yw),p=Ke(vw),m=Ke(ak),x=Ke(jq),b=x?.active,S=zc();N.useEffect(()=>{if(!b&&p!=null&&f!=null){var _=Mv({active:s,coordinate:r,dataKey:c,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:S,graphicalItemId:void 0});vd.emit(Bv,p,_,f)}},[b,r,c,i,n,f,p,m,s,S])}function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yq(e){return e.dataKey}function Zq(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(RF,t)}var XC=[],Qq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zh(e){var t,r,n=Jr(e,Qq),{active:i,allowEscapeViewBox:s,animationDuration:c,animationEasing:f,content:p,filterNull:m,isAnimationActive:x,offset:b,payloadUniqBy:S,position:_,reverseDirection:I,useTranslate3d:O,wrapperStyle:k,cursor:R,shared:L,trigger:M,defaultIndex:U,portal:W,axisId:V}=n,H=ar(),re=typeof U=="number"?String(U):U;N.useEffect(()=>{H(KV({shared:L,trigger:M,axisId:V,active:i,defaultIndex:re}))},[H,L,M,V,i,re]);var X=zc(),Ee=ZI(),ue=$V(L),{activeIndex:de,isActive:Ae}=(t=Ke(lt=>rq(lt,ue,M,re)))!==null&&t!==void 0?t:{},ke=Ke(lt=>tq(lt,ue,M,re)),te=Ke(lt=>sP(lt,ue,M,re)),ie=Ke(lt=>eq(lt,ue,M,re)),Q=ke,oe=Cq(),xe=(r=i??Ae)!==null&&r!==void 0?r:!1,[Se,Z]=rI([Q,xe]),fe=ue==="axis"?te:void 0;qq(ue,M,ie,fe,de,xe);var Me=W??oe;if(Me==null||X==null||ue==null)return null;var Fe=Q??XC;xe||(Fe=XC),m&&Fe.length&&(Fe=Z4(Fe.filter(lt=>lt.value!=null&&(lt.hide!==!0||n.includeHidden)),S,Yq));var Je=Fe.length>0,Ie=N.createElement(zF,{allowEscapeViewBox:s,animationDuration:c,animationEasing:f,isAnimationActive:x,active:xe,coordinate:ie,hasPayload:Je,offset:b,position:_,reverseDirection:I,useTranslate3d:O,viewBox:X,wrapperStyle:k,lastBoundingBox:Se,innerRef:Z,hasPortalFromProps:!!W},Zq(p,KC(KC({},n),{},{payload:Fe,label:fe,active:xe,activeIndex:de,coordinate:ie,accessibilityLayer:Ee})));return N.createElement(N.Fragment,null,ny.createPortal(Ie,Me),xe&&N.createElement(_q,{cursor:R,tooltipEventType:ue,coordinate:ie,payload:Fe,index:de}))}var yl=e=>null;yl.displayName="Cell";function Jq(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rG{constructor(t){Jq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=sG(e,"string");return typeof t=="symbol"?t:t+""}function sG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oG={cacheSize:2e3,enableCache:!0},dP=nG({},oG),ZC=new rG(dP.cacheSize),lG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QC="recharts_measurement_span";function cG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",c=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(c,"|").concat(f)}var JC=(e,t)=>{try{var r=document.getElementById(QC);r||(r=document.createElement("span"),r.setAttribute("id",QC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Zu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mp.isSsr)return{width:0,height:0};if(!dP.enableCache)return JC(t,r);var n=cG(t,r),i=ZC.get(n);if(i)return i;var s=JC(t,r);return ZC.set(n,s),s},fP;function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gG=["cm","mm","pt","pc","in","Q","px"];function xG(e){return gG.includes(e)}var mc="NaN";function vG(e,t){return e*mG[t]}class zn{static parse(t){var r,[,n,i]=(r=pG.exec(t))!==null&&r!==void 0?r:[];return n==null?zn.NaN:new zn(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Vi(t)&&(this.unit=""),r!==""&&!hG.test(r)&&(this.num=NaN,this.unit=""),xG(r)&&(this.num=vG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zn(NaN,""):new zn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zn(NaN,""):new zn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Vi(this.num)}}fP=zn;uG(zn,"NaN",new fP(NaN,""));function hP(e){if(e==null||e.includes(mc))return mc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=e3.exec(t))!==null&&r!==void 0?r:[],c=zn.parse(n??""),f=zn.parse(s??""),p=i==="*"?c.multiply(f):c.divide(f);if(p.isNaN())return mc;t=t.replace(e3,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,x,b,S]=(m=t3.exec(t))!==null&&m!==void 0?m:[],_=zn.parse(x??""),I=zn.parse(S??""),O=b==="+"?_.add(I):_.subtract(I);if(O.isNaN())return mc;t=t.replace(t3,O.toString())}return t}var r3=/\(([^()]*)\)/;function yG(e){for(var t=e,r;(r=r3.exec(t))!=null;){var[,n]=r;t=t.replace(r3,hP(n))}return t}function wG(e){var t=e.replace(/\s+/g,"");return t=yG(t),t=hP(t),t}function bG(e){try{return wG(e)}catch{return mc}}function fx(e){var t=bG(e.slice(5,-1));return t===mc?"":t}var EG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],SG=["dx","dy","angle","className","breakAll"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}function n3(e,t){if(e==null)return{};var r,n,i=AG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pP=/[ \f\n\r\t\v\u2028\u2029]+/,mP=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];pr(t)||(r?i=t.toString().split(""):i=t.toString().split(pP));var s=i.map(f=>({word:f,width:Zu(f,n).width})),c=r?0:Zu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}};function _G(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var gP=(e,t,r,n)=>e.reduce((i,s)=>{var{word:c,width:f}=s,p=i[i.length-1];if(p&&f!=null&&(t==null||n||p.width+f+r<Number(t)))p.words.push(c),p.width+=f+r;else{var m={words:[c],width:f};i.push(m)}return i},[]),xP=e=>e.reduce((t,r)=>t.width>r.width?t:r),CG="",i3=(e,t,r,n,i,s,c,f)=>{var p=e.slice(0,t),m=mP({breakAll:r,style:n,children:p+CG});if(!m)return[!1,[]];var x=gP(m.wordsWithComputedWidth,s,c,f),b=x.length>i||xP(x).width>Number(s);return[b,x]},NG=(e,t,r,n,i)=>{var{maxLines:s,children:c,style:f,breakAll:p}=e,m=rt(s),x=String(c),b=gP(t,n,r,i);if(!m||i)return b;var S=b.length>s||xP(b).width>Number(n);if(!S)return b;for(var _=0,I=x.length-1,O=0,k;_<=I&&O<=x.length-1;){var R=Math.floor((_+I)/2),L=R-1,[M,U]=i3(x,L,p,f,s,n,r,i),[W]=i3(x,R,p,f,s,n,r,i);if(!M&&!W&&(_=R+1),M&&W&&(I=R-1),!M&&W){k=U;break}O++}return k||b},a3=e=>{var t=pr(e)?[]:e.toString().split(pP);return[{words:t,width:void 0}]},OG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:c}=e;if((t||r)&&!Mp.isSsr){var f,p,m=mP({breakAll:s,children:n,style:i});if(m){var{wordsWithComputedWidth:x,spaceWidth:b}=m;f=x,p=b}else return a3(n);return NG({breakAll:s,children:n,maxLines:c,style:i},f,p,t,!!r)}return a3(n)},vP="#808080",IG={angle:0,breakAll:!1,capHeight:"0.71em",fill:vP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jp=N.forwardRef((e,t)=>{var r=Jr(e,IG),{x:n,y:i,lineHeight:s,capHeight:c,fill:f,scaleToFit:p,textAnchor:m,verticalAnchor:x}=r,b=n3(r,EG),S=N.useMemo(()=>OG({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:p,style:b.style,width:b.width}),[b.breakAll,b.children,b.maxLines,p,b.style,b.width]),{dx:_,dy:I,angle:O,className:k,breakAll:R}=b,L=n3(b,SG);if(!la(n)||!la(i)||S.length===0)return null;var M=Number(n)+(rt(_)?_:0),U=Number(i)+(rt(I)?I:0);if(!nr(M)||!nr(U))return null;var W;switch(x){case"start":W=fx("calc(".concat(c,")"));break;case"middle":W=fx("calc(".concat((S.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:W=fx("calc(".concat(S.length-1," * -").concat(s,")"));break}var V=[];if(p){var H=S[0].width,{width:re}=b;V.push("scale(".concat(rt(re)&&rt(H)?re/H:1,")"))}return O&&V.push("rotate(".concat(O,", ").concat(M,", ").concat(U,")")),V.length&&(L.transform=V.join(" ")),N.createElement("text",Fv({},Wi(L),{ref:t,x:M,y:U,className:qt("recharts-text",k),textAnchor:m,fill:f.includes("url")?vP:f}),S.map((X,Ee)=>{var ue=X.words.join(R?"":" ");return N.createElement("tspan",{x:M,dy:Ee===0?W:s,key:"".concat(ue,"-").concat(Ee)},ue)}))});Jp.displayName="Text";var TG=["labelRef"],kG=["content"];function s3(e,t){if(e==null)return{};var r,n,i=PG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=MG(e,"string");return typeof t=="symbol"?t:t+""}function MG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(null,arguments)}var yP=N.createContext(null),wP=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c,children:f}=e,p=N.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:s,height:c}),[t,r,n,i,s,c]);return N.createElement(yP.Provider,{value:p},f)},bP=()=>{var e=N.useContext(yP),t=zc();return e||FI(t)},DG=N.createContext(null),LG=()=>{var e=N.useContext(DG),t=Ke(uk);return e||t},BG=e=>{var{value:t,formatter:r}=e,n=pr(e.children)?t:e.children;return typeof r=="function"?r(n):n},rb=e=>e!=null&&typeof e=="function",FG=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},UG=(e,t,r,n,i)=>{var{offset:s,className:c}=e,{cx:f,cy:p,innerRadius:m,outerRadius:x,startAngle:b,endAngle:S,clockWise:_}=i,I=(m+x)/2,O=FG(b,S),k=O>=0?1:-1,R,L;switch(t){case"insideStart":R=b+k*s,L=_;break;case"insideEnd":R=S-k*s,L=!_;break;case"end":R=S+k*s,L=_;break;default:throw new Error("Unsupported position ".concat(t))}L=O<=0?L:!L;var M=on(f,p,I,R),U=on(f,p,I,R+(L?1:-1)*359),W="M".concat(M.x,",").concat(M.y,`
    A`).concat(I,",").concat(I,",0,1,").concat(L?0:1,`,
    `).concat(U.x,",").concat(U.y),V=pr(e.id)?ad("recharts-radial-line-"):e.id;return N.createElement("text",vs({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",c)}),N.createElement("defs",null,N.createElement("path",{id:V,d:W})),N.createElement("textPath",{xlinkHref:"#".concat(V)},r))},zG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:c,startAngle:f,endAngle:p}=e,m=(f+p)/2;if(r==="outside"){var{x,y:b}=on(n,i,c+t,m);return{x,y:b,textAnchor:x>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var S=(s+c)/2,{x:_,y:I}=on(n,i,S,m);return{x:_,y:I,textAnchor:"middle",verticalAnchor:"middle"}},Uv=e=>"cx"in e&&rt(e.cx),$G=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,s;r!=null&&!Uv(r)&&(s=r);var{x:c,y:f,upperWidth:p,lowerWidth:m,height:x}=t,b=c,S=c+(p-m)/2,_=(b+S)/2,I=(p+m)/2,O=b+p/2,k=x>=0?1:-1,R=k*n,L=k>0?"end":"start",M=k>0?"start":"end",U=p>=0?1:-1,W=U*n,V=U>0?"end":"start",H=U>0?"start":"end";if(i==="top"){var re={x:b+p/2,y:f-R,textAnchor:"middle",verticalAnchor:L};return Zr(Zr({},re),s?{height:Math.max(f-s.y,0),width:p}:{})}if(i==="bottom"){var X={x:S+m/2,y:f+x+R,textAnchor:"middle",verticalAnchor:M};return Zr(Zr({},X),s?{height:Math.max(s.y+s.height-(f+x),0),width:m}:{})}if(i==="left"){var Ee={x:_-W,y:f+x/2,textAnchor:V,verticalAnchor:"middle"};return Zr(Zr({},Ee),s?{width:Math.max(Ee.x-s.x,0),height:x}:{})}if(i==="right"){var ue={x:_+I+W,y:f+x/2,textAnchor:H,verticalAnchor:"middle"};return Zr(Zr({},ue),s?{width:Math.max(s.x+s.width-ue.x,0),height:x}:{})}var de=s?{width:I,height:x}:{};return i==="insideLeft"?Zr({x:_+W,y:f+x/2,textAnchor:H,verticalAnchor:"middle"},de):i==="insideRight"?Zr({x:_+I-W,y:f+x/2,textAnchor:V,verticalAnchor:"middle"},de):i==="insideTop"?Zr({x:b+p/2,y:f+R,textAnchor:"middle",verticalAnchor:M},de):i==="insideBottom"?Zr({x:S+m/2,y:f+x-R,textAnchor:"middle",verticalAnchor:L},de):i==="insideTopLeft"?Zr({x:b+W,y:f+R,textAnchor:H,verticalAnchor:M},de):i==="insideTopRight"?Zr({x:b+p-W,y:f+R,textAnchor:V,verticalAnchor:M},de):i==="insideBottomLeft"?Zr({x:S+W,y:f+x-R,textAnchor:H,verticalAnchor:L},de):i==="insideBottomRight"?Zr({x:S+m-W,y:f+x-R,textAnchor:V,verticalAnchor:L},de):i&&typeof i=="object"&&(rt(i.x)||_s(i.x))&&(rt(i.y)||_s(i.y))?Zr({x:c+ei(i.x,I),y:f+ei(i.y,x),textAnchor:"end",verticalAnchor:"end"},de):Zr({x:O,y:f+x/2,textAnchor:"middle",verticalAnchor:"middle"},de)},WG={angle:0,offset:5,zIndex:ln.label,position:"middle",textBreakAll:!1};function co(e){var t=Jr(e,WG),{viewBox:r,position:n,value:i,children:s,content:c,className:f="",textBreakAll:p,labelRef:m}=t,x=LG(),b=bP(),S=n==="center"?b:x??b,_,I,O;if(r==null?_=S:Uv(r)?_=r:_=FI(r),!_||pr(i)&&pr(s)&&!N.isValidElement(c)&&typeof c!="function")return null;var k=Zr(Zr({},t),{},{viewBox:_});if(N.isValidElement(c)){var{labelRef:R}=k,L=s3(k,TG);return N.cloneElement(c,L)}if(typeof c=="function"){var{content:M}=k,U=s3(k,kG);if(I=N.createElement(c,U),N.isValidElement(I))return I}else I=BG(t);var W=Wi(t);if(Uv(_)){if(n==="insideStart"||n==="insideEnd"||n==="end")return UG(t,n,I,W,_);O=zG(_,t.offset,t.position)}else O=$G(t,_);return N.createElement(Si,{zIndex:t.zIndex},N.createElement(Jp,vs({ref:m,className:qt("recharts-label",f)},W,O,{textAnchor:_G(W.textAnchor)?W.textAnchor:O.textAnchor,breakAll:p}),I))}co.displayName="Label";var VG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?N.createElement(co,vs({key:"label-implicit"},n)):la(e)?N.createElement(co,vs({key:"label-implicit",value:e},n)):N.isValidElement(e)?e.type===co?N.cloneElement(e,Zr({key:"label-implicit"},n)):N.createElement(co,vs({key:"label-implicit",content:e},n)):rb(e)?N.createElement(co,vs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?N.createElement(co,vs({},e,{key:"label-implicit"},n)):null};function EP(e){var{label:t,labelRef:r}=e,n=bP();return VG(t,n,r)||null}var hx={},px={},l3;function HG(){return l3||(l3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(px)),px}var mx={},c3;function qG(){return c3||(c3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(mx)),mx}var u3;function GG(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HG(),r=qG(),n=Oy();function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(hx)),hx}var gx,d3;function KG(){return d3||(d3=1,gx=GG().last),gx}var XG=KG();const YG=da(XG);var ZG=["valueAccessor"],QG=["dataKey","clockWise","id","textBreakAll","zIndex"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function f3(e,t){if(e==null)return{};var r,n,i=JG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eK=e=>Array.isArray(e.value)?YG(e.value):e.value,SP=N.createContext(void 0),AP=SP.Provider,_P=N.createContext(void 0),tK=_P.Provider;function rK(){return N.useContext(SP)}function nK(){return N.useContext(_P)}function $h(e){var{valueAccessor:t=eK}=e,r=f3(e,ZG),{dataKey:n,clockWise:i,id:s,textBreakAll:c,zIndex:f}=r,p=f3(r,QG),m=rK(),x=nK(),b=m||x;return!b||!b.length?null:N.createElement(Si,{zIndex:f??ln.label},N.createElement(Qr,{className:"recharts-label-list"},b.map((S,_)=>{var I,O=pr(n)?t(S,_):Xt(S&&S.payload,n),k=pr(s)?{}:{id:"".concat(s,"-").concat(_)};return N.createElement(co,$0({key:"label-".concat(_)},Wi(S),p,k,{fill:(I=r.fill)!==null&&I!==void 0?I:S.fill,parentViewBox:S.parentViewBox,value:O,textBreakAll:c,viewBox:S.viewBox,index:_,zIndex:0}))})))}$h.displayName="LabelList";function nb(e){var{label:t}=e;return t?t===!0?N.createElement($h,{key:"labelList-implicit"}):N.isValidElement(t)||rb(t)?N.createElement($h,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement($h,$0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var CP=e=>e.graphicalItems.polarItems,iK=pe([kr,Fd],_w),em=pe([CP,Lr,iK],Cw),aK=pe([em],Nw),tm=pe([aK,$p],Ow),sK=pe([tm,Lr,em],Tw);pe([tm,Lr,em],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,c=Xt(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Xt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var h3=()=>{},oK=pe([tm,Lr,em,Yp,kr],Rw),lK=pe([Lr,Pw,jw,h3,oK,h3,Vt,kr],Mw),NP=pe([Lr,Vt,tm,sK,Bd,kr,lK],Dw),cK=pe([NP,Lr,Gc],Fw);pe([Lr,NP,cK,kr],zw);var uK={radiusAxis:{},angleAxis:{}},OP=Ei({name:"polarAxis",initialState:uK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Xte,removeRadiusAxis:Yte,addAngleAxis:Zte,removeAngleAxis:Qte}=OP.actions,dK=OP.reducer;function p3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p3(Object(r),!0).forEach(function(n){fK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fK(e,t,r){return(t=hK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK=(e,t)=>t,ib=pe([CP,mK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),gK=[],ab=(e,t,r)=>r?.length===0?gK:r,IP=pe([$p,ib,ab],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>m3(m3({},t.presentationProps),s.props))),i!=null)return i}}),xK=pe([IP,ib,ab],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,c=Xt(n,t.nameKey,t.name),f;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?f=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?f=n.fill:f=t.fill,{value:Uc(c,t.dataKey),color:f,payload:n,type:t.legendType}})}),vK=pe([IP,ib,ab,vn],(e,t,r,n)=>{if(!(t==null||e==null))return wX({offset:n,pieSettings:t,displayedData:e,cells:r})}),xx={exports:{}},Jt={};var g3;function yK(){if(g3)return Jt;g3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function I(O){if(typeof O=="object"&&O!==null){var k=O.$$typeof;switch(k){case e:switch(O=O.type,O){case r:case i:case n:case p:case m:case S:return O;default:switch(O=O&&O.$$typeof,O){case c:case f:case b:case x:return O;case s:return O;default:return k}}case t:return k}}}return Jt.ContextConsumer=s,Jt.ContextProvider=c,Jt.Element=e,Jt.ForwardRef=f,Jt.Fragment=r,Jt.Lazy=b,Jt.Memo=x,Jt.Portal=t,Jt.Profiler=i,Jt.StrictMode=n,Jt.Suspense=p,Jt.SuspenseList=m,Jt.isContextConsumer=function(O){return I(O)===s},Jt.isContextProvider=function(O){return I(O)===c},Jt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Jt.isForwardRef=function(O){return I(O)===f},Jt.isFragment=function(O){return I(O)===r},Jt.isLazy=function(O){return I(O)===b},Jt.isMemo=function(O){return I(O)===x},Jt.isPortal=function(O){return I(O)===t},Jt.isProfiler=function(O){return I(O)===i},Jt.isStrictMode=function(O){return I(O)===n},Jt.isSuspense=function(O){return I(O)===p},Jt.isSuspenseList=function(O){return I(O)===m},Jt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===i||O===n||O===p||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===b||O.$$typeof===x||O.$$typeof===c||O.$$typeof===s||O.$$typeof===f||O.$$typeof===_||O.getModuleId!==void 0)},Jt.typeOf=I,Jt}var x3;function wK(){return x3||(x3=1,xx.exports=yK()),xx.exports}var bK=wK(),v3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",y3=null,vx=null,TP=e=>{if(e===y3&&Array.isArray(vx))return vx;var t=[];return N.Children.forEach(e,r=>{pr(r)||(bK.isFragment(r)?t=t.concat(TP(r.props.children)):t.push(r))}),vx=t,y3=e,t};function rm(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>v3(i)):n=[v3(t)],TP(e).forEach(i=>{var s=pl(i,"type.displayName")||pl(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var yx={},w3;function EK(){return w3||(w3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(yx)),yx}var wx,b3;function SK(){return b3||(b3=1,wx=EK().isPlainObject),wx}var AK=SK();const _K=da(AK);var E3,S3,A3,_3,C3;function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0.apply(null,arguments)}function Wu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I3=(e,t,r,n,i)=>{var s=r-n,c;return c=Hr(E3||(E3=Wu(["M ",",",""])),e,t),c+=Hr(S3||(S3=Wu(["L ",",",""])),e+r,t),c+=Hr(A3||(A3=Wu(["L ",",",""])),e+r-s/2,t+i),c+=Hr(_3||(_3=Wu(["L ",",",""])),e+r-s/2-n,t+i),c+=Hr(C3||(C3=Wu(["L ",","," Z"])),e,t),c},IK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TK=e=>{var t=Jr(e,IK),{x:r,y:n,upperWidth:i,lowerWidth:s,height:c,className:f}=t,{animationEasing:p,animationDuration:m,animationBegin:x,isUpdateAnimationActive:b}=t,S=N.useRef(null),[_,I]=N.useState(-1),O=N.useRef(i),k=N.useRef(s),R=N.useRef(c),L=N.useRef(r),M=N.useRef(n),U=jd(e,"trapezoid-");if(N.useEffect(()=>{if(S.current&&S.current.getTotalLength)try{var ke=S.current.getTotalLength();ke&&I(ke)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||c!==+c||i===0&&s===0||c===0)return null;var W=qt("recharts-trapezoid",f);if(!b)return N.createElement("g",null,N.createElement("path",W0({},Wi(t),{className:W,d:I3(r,n,i,s,c)})));var V=O.current,H=k.current,re=R.current,X=L.current,Ee=M.current,ue="0px ".concat(_===-1?1:_,"px"),de="".concat(_,"px 0px"),Ae=QI(["strokeDasharray"],m,p);return N.createElement(Pd,{animationId:U,key:U,canBegin:_>0,duration:m,easing:p,isActive:b,begin:x},ke=>{var te=Dr(V,i,ke),ie=Dr(H,s,ke),Q=Dr(re,c,ke),oe=Dr(X,r,ke),xe=Dr(Ee,n,ke);S.current&&(O.current=te,k.current=ie,R.current=Q,L.current=oe,M.current=xe);var Se=ke>0?{transition:Ae,strokeDasharray:de}:{strokeDasharray:ue};return N.createElement("path",W0({},Wi(t),{className:W,d:I3(oe,xe,te,ie,Q),ref:S,style:O3(O3({},Se),t.style)}))})},kK=["option","shapeType","activeClassName"];function PK(e,t){if(e==null)return{};var r,n,i=jK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(r),!0).forEach(function(n){RK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=DK(e,"string");return typeof t=="symbol"?t:t+""}function DK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LK(e,t){return V0(V0({},t),e)}function BK(e,t){return e==="symbols"}function k3(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(rT,r);case"trapezoid":return N.createElement(TK,r);case"sector":return N.createElement(sT,r);case"symbols":if(BK(t))return N.createElement(mp,r);break;case"curve":return N.createElement(Rp,r);default:return null}}function FK(e){return N.isValidElement(e)?e.props:e}function H0(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=PK(e,kK),s;if(N.isValidElement(t))s=N.cloneElement(t,V0(V0({},i),FK(t)));else if(typeof t=="function")s=t(i,i.index);else if(_K(t)&&typeof t!="boolean"){var c=LK(t,i);s=N.createElement(k3,{shapeType:r,elementProps:c})}else{var f=i;s=N.createElement(k3,{shapeType:r,elementProps:f})}return i.isActive?N.createElement(Qr,{className:n},s):s}var nm=(e,t,r)=>{var n=ar();return(i,s)=>c=>{e?.(i,s,c),n($k({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},im=e=>{var t=ar();return(r,n)=>i=>{e?.(r,n,i),t(XV())}},am=(e,t,r)=>{var n=ar();return(i,s)=>c=>{e?.(i,s,c),n(YV({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function sb(e){var{tooltipEntrySettings:t}=e,r=ar(),n=$n(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(HV(t)):i.current!==t&&r(qV({prev:i.current,next:t})),i.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{i.current&&(r(GV(i.current)),i.current=null)},[r]),null}function kP(e){var{legendPayload:t}=e,r=ar(),n=$n(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(KI(t)):i.current!==t&&r(XI({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(YI(i.current)),i.current=null)},[r]),null}function UK(e){var{legendPayload:t}=e,r=ar(),n=Ke(Vt),i=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(KI(t)):i.current!==t&&r(XI({prev:i.current,next:t})),i.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{i.current&&(r(YI(i.current)),i.current=null)},[r]),null}var bx,zK=()=>{var[e]=N.useState(()=>ad("uid-"));return e},$K=(bx=hj.useId)!==null&&bx!==void 0?bx:zK;function WK(e,t){var r=$K();return t||(e?"".concat(e,"-").concat(r):r)}var VK=N.createContext(void 0),ob=e=>{var{id:t,type:r,children:n}=e,i=WK("recharts-".concat(r),t);return N.createElement(VK.Provider,{value:i},n(i))},HK={cartesianItems:[],polarItems:[]},PP=Ei({name:"graphicalItems",initialState:HK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Or()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Oa(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Or()},removeCartesianGraphicalItem:{reducer(e,t){var r=Oa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Or()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Or()},removePolarGraphicalItem:{reducer(e,t){var r=Oa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Or()}}}),{addCartesianGraphicalItem:qK,replaceCartesianGraphicalItem:GK,removeCartesianGraphicalItem:KK,addPolarGraphicalItem:XK,removePolarGraphicalItem:YK}=PP.actions,ZK=PP.reducer,QK=e=>{var t=ar(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(qK(e)):r.current!==e&&t(GK({prev:r.current,next:e})),r.current=e},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(t(KK(r.current)),r.current=null)},[t]),null},jP=N.memo(QK);function JK(e){var t=ar();return N.useLayoutEffect(()=>(t(XK(e)),()=>{t(YK(e))}),[t,e]),null}var eX=["key"],tX=["onMouseEnter","onClick","onMouseLeave"],rX=["id"],nX=["id"];function P3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P3(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wo(){return wo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wo.apply(null,arguments)}function sm(e,t){if(e==null)return{};var r,n,i=oX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lX(e){var t=N.useMemo(()=>rm(e.children,yl),[e.children]),r=Ke(n=>xK(n,e.id,t));return r==null?null:N.createElement(UK,{legendPayload:r})}var cX=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:c,name:f,hide:p,tooltipType:m,id:x}=e,b={dataDefinedOnItem:n.map(S=>S.tooltipPayload),positions:n.map(S=>S.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:c,dataKey:t,nameKey:r,name:Uc(f,t),hide:p,type:m,color:c,unit:"",graphicalItemId:x}};return N.createElement(sb,{tooltipEntrySettings:b})}),uX=(e,t)=>e>t?"start":e<t?"end":"middle",dX=(e,t,r)=>ei(typeof t=="function"?t(e):t,r,r*.8),fX=(e,t,r)=>{var{top:n,left:i,width:s,height:c}=t,f=nT(s,c),p=i+ei(e.cx,s,s/2),m=n+ei(e.cy,c,c/2),x=ei(e.innerRadius,f,0),b=dX(r,e.outerRadius,f),S=e.maxRadius||Math.sqrt(s*s+c*c)/2;return{cx:p,cy:m,innerRadius:x,outerRadius:b,maxRadius:S}},hX=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function pX(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var mX=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=qt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=sm(t,eX);return N.createElement(Rp,wo({},i,{type:"linear",className:r}))},gX=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var i=qt("recharts-pie-label-text",pX(e));return N.createElement(Jp,wo({},t,{alignmentBaseline:"middle",className:i}),n)};function xX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:c}=r;if(!n||!i||!t)return null;var f=$i(r),p=Cc(i),m=Cc(s),x=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,b=t.map((S,_)=>{var I=(S.startAngle+S.endAngle)/2,O=on(S.cx,S.cy,S.outerRadius+x,I),k=qr(qr(qr(qr({},f),S),{},{stroke:"none"},p),{},{index:_,textAnchor:uX(O.x,S.cx)},O),R=qr(qr(qr(qr({},f),S),{},{fill:"none",stroke:S.fill},m),{},{index:_,points:[on(S.cx,S.cy,S.outerRadius,I),O],key:"line"});return N.createElement(Si,{zIndex:ln.label,key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(_)},N.createElement(Qr,null,s&&mX(s,R),gX(i,k,Xt(S,c))))});return N.createElement(Qr,{className:"recharts-pie-labels"},b)}function vX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(nb,{label:i}):N.createElement(xX,{sectors:t,props:r,showLabels:n})}function yX(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:c}=e,f=Ke(yo),p=Ke(Yw),m=Ke(MH),{onMouseEnter:x,onClick:b,onMouseLeave:S}=i,_=sm(i,tX),I=nm(x,i.dataKey,c),O=im(S),k=am(b,i.dataKey,c);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((R,L)=>{if(R?.startAngle===0&&R?.endAngle===0&&t.length!==1)return null;var M=m==null||m===c,U=String(L)===f&&(p==null||i.dataKey===p)&&M,W=f?n:null,V=r&&U?r:W,H=qr(qr({},R),{},{stroke:R.stroke,tabIndex:-1,[Dy]:L,[Ly]:c});return N.createElement(Qr,wo({key:"sector-".concat(R?.startAngle,"-").concat(R?.endAngle,"-").concat(R.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Fc(_,R,L),{onMouseEnter:I(R,L),onMouseLeave:O(R,L),onClick:k(R,L)}),N.createElement(H0,wo({option:s??V,index:L,shapeType:"sector",isActive:U},H)))}))}function wX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:c,startAngle:f,endAngle:p,dataKey:m,nameKey:x,tooltipType:b}=r,S=Math.abs(r.minAngle),_=hX(f,p),I=Math.abs(_),O=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,k=n.filter(V=>Xt(V,m,0)!==0).length,R=(I>=360?k:k-1)*O,L=I-k*S-R,M=n.reduce((V,H)=>{var re=Xt(H,m,0);return V+(rt(re)?re:0)},0),U;if(M>0){var W;U=n.map((V,H)=>{var re=Xt(V,m,0),X=Xt(V,x,H),Ee=fX(r,s,V),ue=(rt(re)?re:0)/M,de,Ae=qr(qr({},V),i&&i[H]&&i[H].props);H?de=W.endAngle+kn(_)*O*(re!==0?1:0):de=f;var ke=de+kn(_)*((re!==0?S:0)+ue*L),te=(de+ke)/2,ie=(Ee.innerRadius+Ee.outerRadius)/2,Q=[{name:X,value:re,payload:Ae,dataKey:m,type:b,graphicalItemId:r.id}],oe=on(Ee.cx,Ee.cy,ie,te);return W=qr(qr(qr(qr({},r.presentationProps),{},{percent:ue,cornerRadius:typeof c=="string"?parseFloat(c):c,name:X,tooltipPayload:Q,midAngle:te,middleRadius:ie,tooltipPosition:oe},Ae),Ee),{},{value:re,dataKey:m,startAngle:de,endAngle:ke,payload:Ae,paddingAngle:kn(_)*O}),W})}return U}function bX(e){var{showLabels:t,sectors:r,children:n}=e,i=N.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return N.createElement(tK,{value:t?i:void 0},n)}function EX(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,activeShape:m,inactiveShape:x,onAnimationStart:b,onAnimationEnd:S}=t,_=jd(t,"recharts-pie-"),I=r.current,[O,k]=N.useState(!1),R=N.useCallback(()=>{typeof S=="function"&&S(),k(!1)},[S]),L=N.useCallback(()=>{typeof b=="function"&&b(),k(!0)},[b]);return N.createElement(bX,{showLabels:!O,sectors:i},N.createElement(Pd,{animationId:_,begin:c,duration:f,isActive:s,easing:p,onAnimationStart:L,onAnimationEnd:R,key:_},M=>{var U=[],W=i&&i[0],V=W?.startAngle;return i?.forEach((H,re)=>{var X=I&&I[re],Ee=re>0?pl(H,"paddingAngle",0):0;if(X){var ue=Dr(X.endAngle-X.startAngle,H.endAngle-H.startAngle,M),de=qr(qr({},H),{},{startAngle:V+Ee,endAngle:V+ue+Ee});U.push(de),V=de.endAngle}else{var{endAngle:Ae,startAngle:ke}=H,te=Dr(0,Ae-ke,M),ie=qr(qr({},H),{},{startAngle:V+Ee,endAngle:V+te+Ee});U.push(ie),V=ie.endAngle}}),r.current=U,N.createElement(Qr,null,N.createElement(yX,{sectors:U,activeShape:m,inactiveShape:x,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(vX,{showLabels:!O,sectors:i,props:t}),t.children)}var SX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ln.area};function AX(e){var{id:t}=e,r=sm(e,rX),{hide:n,className:i,rootTabIndex:s}=e,c=N.useMemo(()=>rm(e.children,yl),[e.children]),f=Ke(x=>vK(x,t,c)),p=N.useRef(null),m=qt("recharts-pie",i);return n||f==null?(p.current=null,N.createElement(Qr,{tabIndex:s,className:m})):N.createElement(Si,{zIndex:e.zIndex},N.createElement(cX,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:f,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),N.createElement(Qr,{tabIndex:s,className:m},N.createElement(EX,{props:qr(qr({},r),{},{sectors:f}),previousSectorsRef:p,id:t})))}function RP(e){var t=Jr(e,SX),{id:r}=t,n=sm(t,nX),i=$i(n);return N.createElement(ob,{id:r,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(JK,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),N.createElement(lX,wo({},n,{id:s})),N.createElement(AX,wo({},n,{id:s}))))}RP.displayName="Pie";function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){_X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _X(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MP=0,OX={xAxis:{},yAxis:{},zAxis:{}},DP=Ei({name:"cartesianAxis",initialState:OX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Or()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Or()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Or()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Or()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Or()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Or()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Or()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Or()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Or()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var c=[...s,n].slice(-3);e.yAxis[r]=R3(R3({},e.yAxis[r]),{},{width:n,widthHistory:c})}}}}),{addXAxis:IX,replaceXAxis:TX,removeXAxis:kX,addYAxis:PX,replaceYAxis:jX,removeYAxis:RX,addZAxis:Jte,replaceZAxis:ere,removeZAxis:tre,updateYAxisWidth:MX}=DP.actions,DX=DP.reducer,LX=pe([vn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),BX=pe([LX,js,Rs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),LP=()=>Ke(BX),M3=(e,t,r)=>{var n=r??e;if(!pr(n))return ei(n,t,0)},FX=(e,t,r)=>{var n={},i=e.filter(Hp),s=e.filter(m=>m.stackId==null),c=i.reduce((m,x)=>(m[x.stackId]||(m[x.stackId]=[]),m[x.stackId].push(x),m),n),f=Object.entries(c).map(m=>{var[x,b]=m,S=b.map(I=>I.dataKey),_=M3(t,r,b[0].barSize);return{stackId:x,dataKeys:S,barSize:_}}),p=s.map(m=>{var x=[m.dataKey].filter(S=>S!=null),b=M3(t,r,m.barSize);return{stackId:void 0,dataKeys:x,barSize:b}});return[...f,...p]};function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WX(e,t,r,n,i){var s=n.length;if(!(s<1)){var c=ei(e,r,0,!0),f,p=[];if(nr(n[0].barSize)){var m=!1,x=r/s,b=n.reduce((R,L)=>R+(L.barSize||0),0);b+=(s-1)*c,b>=r&&(b-=(s-1)*c,c=0),b>=r&&x>0&&(m=!0,x*=.9,b=s*x);var S=(r-b)/2>>0,_={offset:S-c,size:0};f=n.reduce((R,L)=>{var M,U={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:_.offset+_.size+c,size:m?x:(M=L.barSize)!==null&&M!==void 0?M:0}},W=[...R,U];return _=W[W.length-1].position,W},p)}else{var I=ei(t,r,0,!0);r-2*I-(s-1)*c<=0&&(c=0);var O=(r-2*I-(s-1)*c)/s;O>1&&(O>>=0);var k=nr(i)?Math.min(O,i):O;f=n.reduce((R,L,M)=>[...R,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:I+(O+c)*M+(O-k)/2,size:k}}],p)}return f}}var VX=(e,t,r,n,i,s,c)=>{var f=pr(c)?t:c,p=WX(r,n,i!==s?i:s,e,f);return i!==s&&p!=null&&(p=p.map(m=>Nh(Nh({},m),{},{position:Nh(Nh({},m.position),{},{offset:m.position.offset-i/2})}))),p},HX=(e,t)=>{var r=Sw(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(c=>c.key===r)}}}};function qX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&nr(e.zIndex)?e.zIndex:t}var BP=e=>{var{chartData:t}=e,r=ar(),n=$n();return N.useEffect(()=>n?()=>{}:(r(HC(t)),()=>{r(HC(void 0))}),[t,r,n]),null},L3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},FP=Ei({name:"brush",initialState:L3,reducers:{setBrushSettings(e,t){return t.payload==null?L3:t.payload}}}),{setBrushSettings:rre}=FP.actions,GX=FP.reducer;function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){UP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UP(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return{x:Math.min(r,i),y:Math.min(n,s),width:Math.abs(i-r),height:Math.abs(s-n)}},ZX=e=>{var{x1:t,y1:r,x2:n,y2:i}=e;return YX({x:t,y:r},{x:n,y:i})};class om{static create(t){return new om(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}UP(om,"EPS",1e-4);var QX=e=>{var t=Object.keys(e).reduce((r,n)=>Oh(Oh({},r),{},{[n]:om.create(e[n])}),{});return Oh(Oh({},t),{},{apply(r){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[c,f]=s;return[c,t[c].apply(f,{bandAware:n,position:i})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function JX(e){return(e%180+180)%180}var eY=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=JX(i),c=s*Math.PI/180,f=Math.atan(n/r),p=c>f&&c<Math.PI-f?n/Math.sin(c):r/Math.cos(c);return Math.abs(p)},tY={dots:[],areas:[],lines:[]},zP=Ei({name:"referenceElements",initialState:tY,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Oa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Oa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Oa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:nre,removeDot:ire,addArea:are,removeArea:sre,addLine:rY,removeLine:nY}=zP.actions,iY=zP.reducer,$P=N.createContext(void 0),aY=e=>{var{children:t}=e,[r]=N.useState("".concat(ad("recharts"),"-clip")),n=LP();if(n==null)return null;var{x:i,y:s,width:c,height:f}=n;return N.createElement($P.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:s,height:f,width:c}))),t)},sY=()=>N.useContext($P);function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return(t=lY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}var uY=(e,t)=>{var r;if(N.isValidElement(e))r=N.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!nr(t.x1)||!nr(t.y1)||!nr(t.x2)||!nr(t.y2))return null;r=N.createElement("line",q0({},t,{className:"recharts-reference-line-line"}))}return r},dY=(e,t,r,n,i,s)=>{var{x:c,width:f}=s,p=i.y.apply(e,{position:r});if(Vi(p)||t==="discard"&&!i.y.isInRange(p))return null;var m=[{x:c+f,y:p},{x:c,y:p}];return n==="left"?m.reverse():m},fY=(e,t,r,n,i,s)=>{var{y:c,height:f}=s,p=i.x.apply(e,{position:r});if(Vi(p)||t==="discard"&&!i.x.isInRange(p))return null;var m=[{x:p,y:c+f},{x:p,y:c}];return n==="top"?m.reverse():m},hY=(e,t,r,n)=>{var i=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&i.some(s=>!n.isInRange(s))?null:i},pY=(e,t,r,n,i,s)=>{var{x:c,y:f,segment:p,ifOverflow:m}=s,x=la(c),b=la(f);return b?dY(f,m,r,i,e,t):x?fY(c,m,r,n,e,t):p!=null&&p.length===2?hY(p,m,r,e):null};function mY(e){var t=ar();return N.useEffect(()=>(t(rY(e)),()=>{t(nY(e))})),null}function gY(e){var{xAxisId:t,yAxisId:r,shape:n,className:i,ifOverflow:s}=e,c=$n(),f=sY(),p=Ke(V=>Xa(V,t)),m=Ke(V=>Ya(V,r)),x=Ke(V=>jc(V,"xAxis",t,c)),b=Ke(V=>jc(V,"yAxis",r,c)),S=zc();if(!f||!S||p==null||m==null||x==null||b==null)return null;var _=QX({x,y:b}),I=pY(_,S,e.position,p.orientation,m.orientation,e);if(!I)return null;var[{x:O,y:k},{x:R,y:L}]=I,M=s==="hidden"?"url(#".concat(f,")"):void 0,U=U3(U3({clipPath:M},Wi(e)),{},{x1:O,y1:k,x2:R,y2:L}),W=ZX({x1:O,y1:k,x2:R,y2:L});return N.createElement(Si,{zIndex:e.zIndex},N.createElement(Qr,{className:qt("recharts-reference-line",i)},uY(n,U),N.createElement(wP,q0({},W,{lowerWidth:W.width,upperWidth:W.width}),N.createElement(EP,{label:e.label}),e.children)))}var xY={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ln.line};function WP(e){var t=Jr(e,xY);return N.createElement(N.Fragment,null,N.createElement(mY,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),N.createElement(gY,t))}WP.displayName="ReferenceLine";function VP(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function vY(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eY(n,r)}function yY(e,t,r){var n=r==="width",{x:i,y:s,width:c,height:f}=e;return t===1?{start:n?i:s,end:n?i+c:s+f}:{start:n?i+c:s+f,end:n?i:s}}function yd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function wY(e,t){return VP(e,t+1)}function bY(e,t,r,n,i){for(var s=(n||[]).slice(),{start:c,end:f}=t,p=0,m=1,x=c,b=function(){var I=n?.[p];if(I===void 0)return{v:VP(n,m)};var O=p,k,R=()=>(k===void 0&&(k=r(I,O)),k),L=I.coordinate,M=p===0||yd(e,L,R,x,f);M||(p=0,x=c,m+=1),M&&(x=L+e*(R()/2+i),p+=m)},S;m<=s.length;)if(S=b(),S)return S.v;return[]}function EY(e,t,r,n,i){var s=(n||[]).slice(),c=s.length;if(c===0)return[];for(var{start:f,end:p}=t,m=1;m<=c;m++){for(var x=(c-1)%m,b=f,S=!0,_=function(){var L=n[I],M=I,U,W=()=>(U===void 0&&(U=r(L,M)),U),V=L.coordinate,H=I===x||yd(e,V,W,b,p);if(!H)return S=!1,1;H&&(b=V+e*(W()/2+i))},I=x;I<c&&!_();I+=m);if(S){for(var O=[],k=x;k<c;k+=m)O.push(n[k]);return O}}return[]}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CY(e,t,r,n,i){for(var s=(n||[]).slice(),c=s.length,{start:f}=t,{end:p}=t,m=function(S){var _=s[S],I,O=()=>(I===void 0&&(I=r(_,S)),I);if(S===c-1){var k=e*(_.coordinate+e*O()/2-p);s[S]=_=Qn(Qn({},_),{},{tickCoord:k>0?_.coordinate-k*e:_.coordinate})}else s[S]=_=Qn(Qn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var R=yd(e,_.tickCoord,O,f,p);R&&(p=_.tickCoord-e*(O()/2+i),s[S]=Qn(Qn({},_),{},{isShow:!0}))}},x=c-1;x>=0;x--)m(x);return s}function NY(e,t,r,n,i,s){var c=(n||[]).slice(),f=c.length,{start:p,end:m}=t;if(s){var x=n[f-1],b=r(x,f-1),S=e*(x.coordinate+e*b/2-m);if(c[f-1]=x=Qn(Qn({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate}),x.tickCoord!=null){var _=yd(e,x.tickCoord,()=>b,p,m);_&&(m=x.tickCoord-e*(b/2+i),c[f-1]=Qn(Qn({},x),{},{isShow:!0}))}}for(var I=s?f-1:f,O=function(L){var M=c[L],U,W=()=>(U===void 0&&(U=r(M,L)),U);if(L===0){var V=e*(M.coordinate-e*W()/2-p);c[L]=M=Qn(Qn({},M),{},{tickCoord:V<0?M.coordinate-V*e:M.coordinate})}else c[L]=M=Qn(Qn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var H=yd(e,M.tickCoord,W,p,m);H&&(p=M.tickCoord+e*(W()/2+i),c[L]=Qn(Qn({},M),{},{isShow:!0}))}},k=0;k<I;k++)O(k);return c}function lb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:c,orientation:f,interval:p,tickFormatter:m,unit:x,angle:b}=e;if(!i||!i.length||!n)return[];if(rt(p)||Mp.isSsr){var S;return(S=wY(i,rt(p)?p:0))!==null&&S!==void 0?S:[]}var _=[],I=f==="top"||f==="bottom"?"width":"height",O=x&&I==="width"?Zu(x,{fontSize:t,letterSpacing:r}):{width:0,height:0},k=(M,U)=>{var W=typeof m=="function"?m(M.value,U):M.value;return I==="width"?vY(Zu(W,{fontSize:t,letterSpacing:r}),O,b):Zu(W,{fontSize:t,letterSpacing:r})[I]},R=i.length>=2?kn(i[1].coordinate-i[0].coordinate):1,L=yY(s,R,I);return p==="equidistantPreserveStart"?bY(R,L,k,i,c):p==="equidistantPreserveEnd"?EY(R,L,k,i,c):(p==="preserveStart"||p==="preserveStartEnd"?_=NY(R,L,k,i,c,p==="preserveStartEnd"):_=CY(R,L,k,i,c),_.filter(M=>M.isShow))}var OY=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,c=0;if(t){Array.from(t).forEach(x=>{if(x){var b=x.getBoundingClientRect();b.width>c&&(c=b.width)}});var f=r?r.getBoundingClientRect().width:0,p=i+s,m=c+p+f+(r?n:0);return Math.round(m)}return 0},IY=["axisLine","width","height","className","hide","ticks","axisType"];function TY(e,t){if(e==null)return{};var r,n,i=kY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(null,arguments)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=jY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ss={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ln.axis};function MY(e){var{x:t,y:r,width:n,height:i,orientation:s,mirror:c,axisLine:f,otherSvgProps:p}=e;if(!f)return null;var m=sn(sn(sn({},p),$i(f)),{},{fill:"none"});if(s==="top"||s==="bottom"){var x=+(s==="top"&&!c||s==="bottom"&&c);m=sn(sn({},m),{},{x1:t,y1:r+x*i,x2:t+n,y2:r+x*i})}else{var b=+(s==="left"&&!c||s==="right"&&c);m=sn(sn({},m),{},{x1:t+b*n,y1:r,x2:t+b*n,y2:r+i})}return N.createElement("line",wl({},m,{className:qt("recharts-cartesian-axis-line",pl(f,"className"))}))}function DY(e,t,r,n,i,s,c,f,p){var m,x,b,S,_,I,O=f?-1:1,k=e.tickSize||c,R=rt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":m=x=e.coordinate,S=r+ +!f*i,b=S-O*k,I=b-O*p,_=R;break;case"left":b=S=e.coordinate,x=t+ +!f*n,m=x-O*k,_=m-O*p,I=R;break;case"right":b=S=e.coordinate,x=t+ +f*n,m=x+O*k,_=m+O*p,I=R;break;default:m=x=e.coordinate,S=r+ +f*i,b=S+O*k,I=b+O*p,_=R;break}return{line:{x1:m,y1:b,x2:x,y2:S},tick:{x:_,y:I}}}function LY(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function BY(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function FY(e){var{option:t,tickProps:r,value:n}=e,i,s=qt(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,sn(sn({},r),{},{className:s}));else if(typeof t=="function")i=t(sn(sn({},r),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=qt(c,t?.className)),i=N.createElement(Jp,wl({},r,{className:c}),n)}return i}var UY=N.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:c,unit:f,padding:p,tickTextProps:m,orientation:x,mirror:b,x:S,y:_,width:I,height:O,tickSize:k,tickMargin:R,fontSize:L,letterSpacing:M,getTicksConfig:U,events:W,axisType:V}=e,H=lb(sn(sn({},U),{},{ticks:r}),L,M),re=LY(x,b),X=BY(x,b),Ee=$i(U),ue=Cc(n),de={};typeof i=="object"&&(de=i);var Ae=sn(sn({},Ee),{},{fill:"none"},de),ke=H.map(Q=>sn({entry:Q},DY(Q,S,_,I,O,x,k,b,R))),te=ke.map(Q=>{var{entry:oe,line:xe}=Q;return N.createElement(Qr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&N.createElement("line",wl({},Ae,xe,{className:qt("recharts-cartesian-axis-tick-line",pl(i,"className"))})))}),ie=ke.map((Q,oe)=>{var{entry:xe,tick:Se}=Q,Z=sn(sn(sn(sn({textAnchor:re,verticalAnchor:X},Ee),{},{stroke:"none",fill:s},ue),Se),{},{index:oe,payload:xe,visibleTicksCount:H.length,tickFormatter:c,padding:p},m);return N.createElement(Qr,wl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},Fc(W,xe,oe)),n&&N.createElement(FY,{option:n,tickProps:Z,value:"".concat(typeof c=="function"?c(xe.value,oe):xe.value).concat(f||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},ie.length>0&&N.createElement(Si,{zIndex:ln.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:t},ie)),te.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},te))}),zY=N.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:s,hide:c,ticks:f,axisType:p}=e,m=TY(e,IY),[x,b]=N.useState(""),[S,_]=N.useState(""),I=N.useRef(null);N.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var k;return OY({ticks:I.current,label:(k=e.labelRef)===null||k===void 0?void 0:k.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var O=N.useCallback(k=>{if(k){var R=k.getElementsByClassName("recharts-cartesian-axis-tick-value");I.current=R;var L=R[0];if(L){var M=window.getComputedStyle(L),U=M.fontSize,W=M.letterSpacing;(U!==x||W!==S)&&(b(U),_(W))}}},[x,S]);return c||n!=null&&n<=0||i!=null&&i<=0?null:N.createElement(Si,{zIndex:e.zIndex},N.createElement(Qr,{className:qt("recharts-cartesian-axis",s)},N.createElement(MY,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:$i(e)}),N.createElement(UY,{ref:O,axisType:p,events:m,fontSize:x,getTicksConfig:e,height:e.height,letterSpacing:S,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:f,unit:e.unit,width:e.width,x:e.x,y:e.y}),N.createElement(wP,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},N.createElement(EP,{label:e.label,labelRef:e.labelRef}),e.children)))}),cb=N.forwardRef((e,t)=>{var r=Jr(e,Ss);return N.createElement(zY,wl({},r,{ref:t}))});cb.displayName="CartesianAxis";var $Y=["x1","y1","x2","y2","key"],WY=["offset"],VY=["xAxisId","yAxisId"],HY=["xAxisId","yAxisId"];function W3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W3(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}function G0(e,t){if(e==null)return{};var r,n,i=XY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:c,ry:f}=e;return N.createElement("rect",{x:n,y:i,ry:f,width:s,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function HP(e){var{option:t,lineItemProps:r}=e,n;if(N.isValidElement(t))n=N.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:s,y1:c,x2:f,y2:p,key:m}=r,x=G0(r,$Y),b=(i=$i(x))!==null&&i!==void 0?i:{},{offset:S}=b,_=G0(b,WY);n=N.createElement("line",ll({},_,{x1:s,y1:c,x2:f,y2:p,fill:"none",key:m}))}return n}function ZY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,VY),p=i.map((m,x)=>{var b=Jn(Jn({},f),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(x),index:x});return N.createElement(HP,{key:"line-".concat(x),option:n,lineItemProps:b})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function QY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:c}=e,f=G0(e,HY),p=i.map((m,x)=>{var b=Jn(Jn({},f),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(x),index:x});return N.createElement(HP,{option:n,lineItemProps:b,key:"line-".concat(x)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function JY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:c,horizontalPoints:f,horizontal:p=!0}=e;if(!p||!t||!t.length||f==null)return null;var m=f.map(b=>Math.round(b+i-i)).sort((b,S)=>b-S);i!==m[0]&&m.unshift(0);var x=m.map((b,S)=>{var _=!m[S+1],I=_?i+c-b:m[S+1]-b;if(I<=0)return null;var O=S%t.length;return N.createElement("rect",{key:"react-".concat(S),y:b,x:n,height:I,width:s,stroke:"none",fill:t[O],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},x)}function eZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:c,height:f,verticalPoints:p}=e;if(!t||!r||!r.length)return null;var m=p.map(b=>Math.round(b+i-i)).sort((b,S)=>b-S);i!==m[0]&&m.unshift(0);var x=m.map((b,S)=>{var _=!m[S+1],I=_?i+c-b:m[S+1]-b;if(I<=0)return null;var O=S%r.length;return N.createElement("rect",{key:"react-".concat(S),x:b,y:s,width:I,height:f,stroke:"none",fill:r[O],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},x)}var tZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return jI(lb(Jn(Jn(Jn({},Ss),r),{},{ticks:RI(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},rZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return jI(lb(Jn(Jn(Jn({},Ss),r),{},{ticks:RI(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},nZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ln.grid};function K0(e){var t=Uy(),r=zy(),n=UI(),i=Jn(Jn({},Jr(e,nZ)),{},{x:rt(e.x)?e.x:n.left,y:rt(e.y)?e.y:n.top,width:rt(e.width)?e.width:n.width,height:rt(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:c,x:f,y:p,width:m,height:x,syncWithTicks:b,horizontalValues:S,verticalValues:_}=i,I=$n(),O=Ke(X=>jC(X,"xAxis",s,I)),k=Ke(X=>jC(X,"yAxis",c,I));if(!qa(m)||!qa(x)||!rt(f)||!rt(p))return null;var R=i.verticalCoordinatesGenerator||tZ,L=i.horizontalCoordinatesGenerator||rZ,{horizontalPoints:M,verticalPoints:U}=i;if((!M||!M.length)&&typeof L=="function"){var W=S&&S.length,V=L({yAxis:k?Jn(Jn({},k),{},{ticks:W?S:k.ticks}):void 0,width:t??m,height:r??x,offset:n},W?!0:b);w0(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(M=V)}if((!U||!U.length)&&typeof R=="function"){var H=_&&_.length,re=R({xAxis:O?Jn(Jn({},O),{},{ticks:H?_:O.ticks}):void 0,width:t??m,height:r??x,offset:n},H?!0:b);w0(Array.isArray(re),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof re,"]")),Array.isArray(re)&&(U=re)}return N.createElement(Si,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(YY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(JY,ll({},i,{horizontalPoints:M})),N.createElement(eZ,ll({},i,{verticalPoints:U})),N.createElement(ZY,ll({},i,{offset:n,horizontalPoints:M,xAxis:O,yAxis:k})),N.createElement(QY,ll({},i,{offset:n,verticalPoints:U,xAxis:O,yAxis:k}))))}K0.displayName="CartesianGrid";var iZ={},qP=Ei({name:"errorBars",initialState:iZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:ore,replaceErrorBar:lre,removeErrorBar:cre}=qP.actions,aZ=qP.reducer,sZ=["children"];function oZ(e,t){if(e==null)return{};var r,n,i=lZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uZ=N.createContext(cZ);function GP(e){var{children:t}=e,r=oZ(e,sZ);return N.createElement(uZ.Provider,{value:r},t)}function ub(e,t){var r,n,i=Ke(m=>Xa(m,e)),s=Ke(m=>Ya(m,t)),c=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:On.allowDataOverflow,f=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:In.allowDataOverflow,p=c||f;return{needClip:p,needClipX:c,needClipY:f}}function KP(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=LP(),{needClipX:s,needClipY:c,needClip:f}=ub(t,r);if(!f||!i)return null;var{x:p,y:m,width:x,height:b}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:s?p:p-x/2,y:c?m:m-b/2,width:s?x:x*2,height:c?b:b*2}))}var Ex={exports:{}},Sx={};var V3;function dZ(){if(V3)return Sx;V3=1;var e=Rc();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return Sx.useSyncExternalStoreWithSelector=function(p,m,x,b,S){var _=i(null);if(_.current===null){var I={hasValue:!1,value:null};_.current=I}else I=_.current;_=c(function(){function k(W){if(!R){if(R=!0,L=W,W=b(W),S!==void 0&&I.hasValue){var V=I.value;if(S(V,W))return M=V}return M=W}if(V=M,r(L,W))return V;var H=b(W);return S!==void 0&&S(V,H)?(L=W,V):(L=W,M=H)}var R=!1,L,M,U=x===void 0?null:x;return[function(){return k(m())},U===null?void 0:function(){return k(U())}]},[m,x,b,S]);var O=n(p,_[0],_[1]);return s(function(){I.hasValue=!0,I.value=O},[O]),f(O),O},Sx}var H3;function fZ(){return H3||(H3=1,Ex.exports=dZ()),Ex.exports}fZ();function hZ(e){e()}function pZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var q3={notify(){},get:()=>[]};function mZ(e,t){let r,n=q3,i=0,s=!1;function c(O){x();const k=n.subscribe(O);let R=!1;return()=>{R||(R=!0,k(),b())}}function f(){n.notify()}function p(){I.onStateChange&&I.onStateChange()}function m(){return s}function x(){i++,r||(r=e.subscribe(p),n=pZ())}function b(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=q3)}function S(){s||(s=!0,x())}function _(){s&&(s=!1,b())}const I={addNestedSub:c,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:m,trySubscribe:S,tryUnsubscribe:_,getListeners:()=>n};return I}var gZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xZ=gZ(),vZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yZ=vZ(),wZ=()=>xZ||yZ?N.useLayoutEffect:N.useEffect,bZ=wZ();function G3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function EZ(e,t){if(G3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!G3(e[r[i]],t[r[i]]))return!1;return!0}var SZ=Symbol.for("react-redux-context"),AZ=typeof globalThis<"u"?globalThis:{};function _Z(){if(!N.createContext)return{};const e=AZ[SZ]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var CZ=_Z();function NZ(e){const{children:t,context:r,serverState:n,store:i}=e,s=N.useMemo(()=>{const p=mZ(i);return{store:i,subscription:p,getServerState:n?()=>n:void 0}},[i,n]),c=N.useMemo(()=>i.getState(),[i]);bZ(()=>{const{subscription:p}=s;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[s,c]);const f=r||CZ;return N.createElement(f.Provider,{value:s},t)}var OZ=NZ,IZ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function TZ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function lm(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(IZ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!EZ(e[n],t[n]))return!1}else if(!TZ(e[n],t[n]))return!1;return!0}function Nl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:MP}function Ol(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:MP}var kZ="Invariant failed";function PZ(e,t){throw new Error(kZ)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function X0(e){return N.createElement(H0,zv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var jZ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(rt(t))return t;var s=rt(n)||pr(n);return s?t(n,i):(s||PZ(),r)}},RZ=(e,t,r)=>r,MZ=(e,t)=>t,Gd=pe([Kp,MZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),DZ=pe([Gd],e=>e?.maxBarSize),LZ=(e,t,r,n)=>n,BZ=pe([Vt,Kp,Nl,Ol,RZ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),FZ=(e,t,r)=>{var n=Vt(e),i=Nl(e,t),s=Ol(e,t);if(!(i==null||s==null))return n==="horizontal"?Rv(e,"yAxis",s,r):Rv(e,"xAxis",i,r)},UZ=(e,t)=>{var r=Vt(e),n=Nl(e,t),i=Ol(e,t);if(!(n==null||i==null))return r==="horizontal"?PC(e,"xAxis",n):PC(e,"yAxis",i)},zZ=pe([BZ,BW,UZ],FX),$Z=(e,t,r)=>{var n,i,s=Gd(e,t);if(s!=null){var c=Nl(e,t),f=Ol(e,t);if(!(c==null||f==null)){var p=Vt(e),m=rk(e),{maxBarSize:x}=s,b=pr(x)?m:x,S,_;return p==="horizontal"?(S=vo(e,"xAxis",c,r),_=xo(e,"xAxis",c,r)):(S=vo(e,"yAxis",f,r),_=xo(e,"yAxis",f,r)),(n=(i=y0(S,_,!0))!==null&&i!==void 0?i:b)!==null&&n!==void 0?n:0}}},XP=(e,t,r)=>{var n=Vt(e),i=Nl(e,t),s=Ol(e,t);if(!(i==null||s==null)){var c,f;return n==="horizontal"?(c=vo(e,"xAxis",i,r),f=xo(e,"xAxis",i,r)):(c=vo(e,"yAxis",s,r),f=xo(e,"yAxis",s,r)),y0(c,f)}},WZ=pe([zZ,rk,LW,nk,$Z,XP,DZ],VX),VZ=(e,t,r)=>{var n=Nl(e,t);if(n!=null)return vo(e,"xAxis",n,r)},HZ=(e,t,r)=>{var n=Ol(e,t);if(n!=null)return vo(e,"yAxis",n,r)},qZ=(e,t,r)=>{var n=Nl(e,t);if(n!=null)return xo(e,"xAxis",n,r)},GZ=(e,t,r)=>{var n=Ol(e,t);if(n!=null)return xo(e,"yAxis",n,r)},KZ=pe([WZ,Gd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),XZ=pe([FZ,Gd],HX),YZ=pe([vn,By,VZ,HZ,qZ,GZ,KZ,Vt,_W,XP,XZ,Gd,LZ],(e,t,r,n,i,s,c,f,p,m,x,b,S)=>{var{chartData:_,dataStartIndex:I,dataEndIndex:O}=p;if(!(b==null||c==null||t==null||f!=="horizontal"&&f!=="vertical"||r==null||n==null||i==null||s==null||m==null)){var{data:k}=b,R;if(k!=null&&k.length>0?R=k:R=_?.slice(I,O+1),R!=null)return _Q({layout:f,barSettings:b,pos:c,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,stackedData:x,displayedData:R,offset:e,cells:S,dataStartIndex:I})}}),ZZ=["index"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}function QZ(e,t){if(e==null)return{};var r,n,i=JZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YP=N.createContext(void 0),eQ=e=>{var t=N.useContext(YP);if(t!=null)return t.stackId;if(e!=null)return yB(e)},tQ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),rQ=e=>{var t=N.useContext(YP);if(t!=null){var{stackId:r}=t;return"url(#".concat(tQ(r,e),")")}},nQ=e=>{var{index:t}=e,r=QZ(e,ZZ),n=rQ(t);return N.createElement(Qr,$v({className:"recharts-bar-stack-layer",clipPath:n},r))},iQ=["onMouseEnter","onMouseLeave","onClick"],aQ=["value","background","tooltipPosition"],sQ=["id"],oQ=["onMouseEnter","onClick","onMouseLeave"];function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(null,arguments)}function K3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K3(Object(r),!0).forEach(function(n){lQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQ(e,t,r){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y0(e,t){if(e==null)return{};var r,n,i=dQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Uc(r,t),payload:e}]},hQ=N.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:c,unit:f,tooltipType:p,id:m}=e,x={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Uc(s,t),hide:c,type:p,color:i,unit:f,graphicalItemId:m}};return N.createElement(sb,{tooltipEntrySettings:x})});function pQ(e){var t=Ke(yo),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:c,onMouseLeave:f,onClick:p}=s,m=Y0(s,iQ),x=nm(c,n,s.id),b=im(f),S=am(p,n,s.id);if(!i||r==null)return null;var _=Cc(i);return N.createElement(Si,{zIndex:qX(i,ln.barBackground)},r.map((I,O)=>{var{value:k,background:R,tooltipPosition:L}=I,M=Y0(I,aQ);if(!R)return null;var U=x(I,O),W=b(I,O),V=S(I,O),H=si(si(si(si(si({option:i,isActive:String(O)===t},M),{},{fill:"#eee"},R),_),Fc(m,I,O)),{},{onMouseEnter:U,onMouseLeave:W,onClick:V,dataKey:n,index:O,className:"recharts-bar-background-rectangle"});return N.createElement(X0,ks({key:"background-bar-".concat(O)},H))}))}function mQ(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(s=>{var c={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return si(si({},c),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:c,fill:s.fill})});return N.createElement(AP,{value:t?i:void 0},r)}function gQ(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:s,dataKey:c}=e,f=Ke(yo),p=Ke(Yw),m=r&&String(s)===f&&(p==null||c===p),x=m?r:t;return m?N.createElement(Si,{zIndex:ln.activeBar},N.createElement(X0,ks({},n,{name:String(n.name)},i,{isActive:m,option:x,index:s,dataKey:c}))):N.createElement(X0,ks({},n,{name:String(n.name)},i,{isActive:m,option:x,index:s,dataKey:c}))}function xQ(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:s}=e;return N.createElement(X0,ks({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:s}))}function vQ(e){var t,{data:r,props:n}=e,i=(t=$i(n))!==null&&t!==void 0?t:{},{id:s}=i,c=Y0(i,sQ),{shape:f,dataKey:p,activeBar:m}=n,{onMouseEnter:x,onClick:b,onMouseLeave:S}=n,_=Y0(n,oQ),I=nm(x,p,s),O=im(S),k=am(b,p,s);return r?N.createElement(N.Fragment,null,r.map((R,L)=>N.createElement(nQ,ks({index:L,key:"rectangle-".concat(R?.x,"-").concat(R?.y,"-").concat(R?.value,"-").concat(L),className:"recharts-bar-rectangle"},Fc(_,R,L),{onMouseEnter:I(R,L),onMouseLeave:O(R,L),onClick:k(R,L)}),m?N.createElement(gQ,{shape:f,activeBar:m,baseProps:c,entry:R,index:L,dataKey:p}):N.createElement(xQ,{shape:f,baseProps:c,entry:R,index:L,dataKey:p})))):null}function yQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:c,animationDuration:f,animationEasing:p,onAnimationEnd:m,onAnimationStart:x}=t,b=r.current,S=jd(t,"recharts-bar-"),[_,I]=N.useState(!1),O=!_,k=N.useCallback(()=>{typeof m=="function"&&m(),I(!1)},[m]),R=N.useCallback(()=>{typeof x=="function"&&x(),I(!0)},[x]);return N.createElement(mQ,{showLabels:O,rects:n},N.createElement(Pd,{animationId:S,begin:c,duration:f,isActive:s,easing:p,onAnimationEnd:k,onAnimationStart:R,key:S},L=>{var M=L===1?n:n?.map((U,W)=>{var V=b&&b[W];if(V)return si(si({},U),{},{x:Dr(V.x,U.x,L),y:Dr(V.y,U.y,L),width:Dr(V.width,U.width,L),height:Dr(V.height,U.height,L)});if(i==="horizontal"){var H=Dr(0,U.height,L),re=Dr(U.stackedBarStart,U.y,L);return si(si({},U),{},{y:re,height:H})}var X=Dr(0,U.width,L),Ee=Dr(U.stackedBarStart,U.x,L);return si(si({},U),{},{width:X,x:Ee})});return L>0&&(r.current=M??null),M==null?null:N.createElement(Qr,null,N.createElement(vQ,{props:t,data:M}))}),N.createElement(nb,{label:t.label}),t.children)}function wQ(e){var t=N.useRef(null);return N.createElement(yQ,{previousRectanglesRef:t,props:e})}var ZP=0,bQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Xt(e,t)}};class EQ extends N.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:c,needClip:f,background:p,id:m}=this.props;if(t||r==null)return null;var x=qt("recharts-bar",i),b=m;return N.createElement(Qr,{className:x,id:m},f&&N.createElement("defs",null,N.createElement(KP,{clipPathId:b,xAxisId:s,yAxisId:c})),N.createElement(Qr,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(b,")"):void 0},N.createElement(pQ,{data:r,dataKey:n,background:p,allOtherBarProps:this.props}),N.createElement(wQ,this.props)))}}var SQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:ZP,xAxisId:0,yAxisId:0,zIndex:ln.bar};function AQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:x}=e,{needClip:b}=ub(t,r),S=Td(),_=$n(),I=rm(e.children,yl),O=Ke(L=>YZ(L,e.id,_,I));if(S!=="vertical"&&S!=="horizontal")return null;var k,R=O?.[0];return R==null||R.height==null||R.width==null?k=0:k=S==="vertical"?R.height/2:R.width/2,N.createElement(GP,{xAxisId:t,yAxisId:r,data:O,dataPointFormatter:bQ,errorBarOffset:k},N.createElement(EQ,ks({},e,{layout:S,needClip:b,data:O,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:c,animationBegin:f,animationDuration:p,animationEasing:m,isAnimationActive:x})))}function _Q(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:c,yAxis:f,xAxisTicks:p,yAxisTicks:m,stackedData:x,displayedData:b,offset:S,cells:_,parentViewBox:I,dataStartIndex:O}=e,k=t==="horizontal"?f:c,R=x?k.scale.domain():null,L=wB({numericAxis:k}),M=k.scale(L);return b.map((U,W)=>{var V,H,re,X,Ee,ue;if(x){var de=x[W+O];if(de==null)return null;V=pB(de,R)}else V=Xt(U,r),Array.isArray(V)||(V=[L,V]);var Ae=jZ(n,ZP)(V[1],W);if(t==="horizontal"){var ke,[te,ie]=[f.scale(V[0]),f.scale(V[1])];H=DA({axis:c,ticks:p,bandSize:s,offset:i.offset,entry:U,index:W}),re=(ke=ie??te)!==null&&ke!==void 0?ke:void 0,X=i.size;var Q=te-ie;if(Ee=Vi(Q)?0:Q,ue={x:H,y:S.top,width:X,height:S.height},Math.abs(Ae)>0&&Math.abs(Ee)<Math.abs(Ae)){var oe=kn(Ee||Ae)*(Math.abs(Ae)-Math.abs(Ee));re-=oe,Ee+=oe}}else{var[xe,Se]=[c.scale(V[0]),c.scale(V[1])];if(H=xe,re=DA({axis:f,ticks:m,bandSize:s,offset:i.offset,entry:U,index:W}),X=Se-xe,Ee=i.size,ue={x:S.left,y:re,width:S.width,height:Ee},Math.abs(Ae)>0&&Math.abs(X)<Math.abs(Ae)){var Z=kn(X||Ae)*(Math.abs(Ae)-Math.abs(X));X+=Z}}if(H==null||re==null||X==null||Ee==null)return null;var fe=si(si({},U),{},{stackedBarStart:M,x:H,y:re,width:X,height:Ee,value:x?V:V[1],payload:U,background:ue,tooltipPosition:{x:H+X/2,y:re+Ee/2},parentViewBox:I},_&&_[W]&&_[W].props);return fe}).filter(Boolean)}function CQ(e){var t=Jr(e,SQ),r=eQ(t.stackId),n=$n();return N.createElement(ob,{id:t.id,type:"bar"},i=>N.createElement(N.Fragment,null,N.createElement(kP,{legendPayload:fQ(t)}),N.createElement(hQ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),N.createElement(jP,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),N.createElement(Si,{zIndex:t.zIndex},N.createElement(AQ,ks({},t,{id:i})))))}var Qu=N.memo(CQ,lm);Qu.displayName="Bar";var NQ=["option","isActive"];function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(null,arguments)}function OQ(e,t){if(e==null)return{};var r,n,i=IQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TQ(e){var{option:t,isActive:r}=e,n=OQ(e,NQ);return typeof t=="string"?N.createElement(H0,Ju({option:N.createElement(mp,Ju({type:t},n)),isActive:r,shapeType:"symbols"},n)):N.createElement(H0,Ju({option:t,isActive:r,shapeType:"symbols"},n))}var kQ=(e,t,r,n,i,s,c)=>vo(e,"xAxis",t,c),PQ=(e,t,r,n,i,s,c)=>xo(e,"xAxis",t,c),jQ=(e,t,r,n,i,s,c)=>vo(e,"yAxis",r,c),RQ=(e,t,r,n,i,s,c)=>xo(e,"yAxis",r,c),MQ=(e,t,r,n)=>UV(e,"zAxis",n,!1),DQ=(e,t,r,n,i)=>i,LQ=(e,t,r,n,i,s)=>s,BQ=(e,t,r,n,i,s,c)=>pw(e,void 0,void 0,c),FQ=pe([Kp,DQ],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),UQ=pe([BQ,kQ,PQ,jQ,RQ,MQ,FQ,LQ],(e,t,r,n,i,s,c,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:x}=e;if(c!=null){var b;if(c?.data!=null&&c.data.length>0?b=c.data:b=p?.slice(m,x+1),!(b==null||t==null||n==null||r==null||i==null||r?.length===0||i?.length===0))return eJ({displayedData:b,xAxis:t,yAxis:n,zAxis:s,scatterSettings:c,xAxisTicks:r,yAxisTicks:i,cells:f})}}),zQ=["id"],$Q=["onMouseEnter","onClick","onMouseLeave"],WQ=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Wv(e,t){if(e==null)return{};var r,n,i=VQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bl.apply(null,arguments)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:Uc(r,t),payload:e}]},XQ=N.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:i,fill:s,name:c,hide:f,tooltipType:p,id:m}=e,x={dataDefinedOnItem:r?.map(b=>b.tooltipPayload),positions:r?.map(b=>b.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:s,nameKey:void 0,dataKey:t,name:Uc(c,t),hide:f,type:p,color:s,unit:"",graphicalItemId:m}};return N.createElement(sb,{tooltipEntrySettings:x})});function YQ(e){var{points:t,props:r}=e,{line:n,lineType:i,lineJointType:s}=r;if(!n)return null;var c=$i(r),f=Cc(n),p,m;if(i==="joint")p=t.map(k=>{var R,L;return{x:(R=k.cx)!==null&&R!==void 0?R:null,y:(L=k.cy)!==null&&L!==void 0?L:null}});else if(i==="fitting"){var{xmin:x,xmax:b,a:S,b:_}=$9(t),I=k=>S*k+_;p=[{x,y:I(x)},{x:b,y:I(b)}]}var O=bi(bi(bi({},c),{},{fill:"none",stroke:c&&c.fill},f),{},{points:p});return N.isValidElement(n)?m=N.cloneElement(n,O):typeof n=="function"?m=n(O):m=N.createElement(Rp,bl({},O,{type:s})),N.createElement(Qr,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function ZQ(e){var{showLabels:t,points:r,children:n}=e,i=zc(),s=N.useMemo(()=>r?.map(c=>{var f,p,m={x:(f=c.x)!==null&&f!==void 0?f:0,y:(p=c.y)!==null&&p!==void 0?p:0,width:c.width,height:c.height,lowerWidth:c.width,upperWidth:c.width};return bi(bi({},m),{},{value:void 0,payload:c.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,r]);return N.createElement(AP,{value:t?s:void 0},n)}function QQ(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:i,dataKey:s}=r,{id:c}=r,f=Wv(r,zQ),p=Ke(yo),{onMouseEnter:m,onClick:x,onMouseLeave:b}=r,S=Wv(r,$Q),_=nm(m,s,c),I=im(b),O=am(x,s,c);if(!r7(t))return null;var k=$i(f);return N.createElement(N.Fragment,null,N.createElement(YQ,{points:t,props:f}),t.map((R,L)=>{var M=i!=null&&i!==!1,U=M&&p===String(L),W=M&&U?i:n,V=bi(bi(bi({},k),R),{},{[Dy]:L,[Ly]:String(c)});return N.createElement(Si,{key:"symbol-".concat(R?.cx,"-").concat(R?.cy,"-").concat(R?.size,"-").concat(L),zIndex:U?ln.activeDot:void 0},N.createElement(Qr,bl({className:"recharts-scatter-symbol"},Fc(S,R,L),{onMouseEnter:_(R,L),onMouseLeave:I(R,L),onClick:O(R,L)}),N.createElement(TQ,bl({option:W,isActive:U},V))))}))}function JQ(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:c,animationEasing:f}=r,p=t.current,m=jd(r,"recharts-scatter-"),[x,b]=N.useState(!1),S=N.useCallback(()=>{b(!1)},[]),_=N.useCallback(()=>{b(!0)},[]),I=!x;return N.createElement(ZQ,{showLabels:I,points:n},r.children,N.createElement(Pd,{animationId:m,begin:s,duration:c,isActive:i,easing:f,onAnimationEnd:S,onAnimationStart:_,key:m},O=>{var k=O===1?n:n?.map((R,L)=>{var M=p&&p[L];return M?bi(bi({},R),{},{cx:R.cx==null?void 0:Dr(M.cx,R.cx,O),cy:R.cy==null?void 0:Dr(M.cy,R.cy,O),size:Dr(M.size,R.size,O)}):bi(bi({},R),{},{size:Dr(0,R.size,O)})});return O>0&&(t.current=k),N.createElement(Qr,null,N.createElement(QQ,{points:k,allOtherScatterProps:r,showLabels:I}))}),N.createElement(nb,{label:r.label}))}function eJ(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:i,scatterSettings:s,xAxisTicks:c,yAxisTicks:f,cells:p}=e,m=pr(r.dataKey)?s.dataKey:r.dataKey,x=pr(n.dataKey)?s.dataKey:n.dataKey,b=i&&i.dataKey,S=i?i.range:pk.range,_=S&&S[0],I=r.scale.bandwidth?r.scale.bandwidth():0,O=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((k,R)=>{var L=Xt(k,m),M=Xt(k,x),U=!pr(b)&&Xt(k,b)||"-",W=[{name:pr(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:L,payload:k,dataKey:m,type:s.tooltipType},{name:pr(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:M,payload:k,dataKey:x,type:s.tooltipType}];U!=="-"&&W.push({name:i.name||i.dataKey,unit:i.unit||"",value:U,payload:k,dataKey:b,type:s.tooltipType});var V=MA({axis:r,ticks:c,bandSize:I,entry:k,index:R,dataKey:m}),H=MA({axis:n,ticks:f,bandSize:O,entry:k,index:R,dataKey:x}),re=U!=="-"?i.scale(U):_,X=Math.sqrt(Math.max(re,0)/Math.PI);return bi(bi({},k),{},{cx:V,cy:H,x:V==null?void 0:V-X,y:H==null?void 0:H-X,width:2*X,height:2*X,size:re,node:{x:L,y:M,z:U},tooltipPayload:W,tooltipPosition:{x:V,y:H},payload:k},p&&p[R]&&p[R].props)})}var tJ=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Xt(e,t)});function rJ(e){var{hide:t,points:r,className:n,needClip:i,xAxisId:s,yAxisId:c,id:f}=e,p=N.useRef(null);if(t)return null;var m=qt("recharts-scatter",n),x=f;return N.createElement(Si,{zIndex:e.zIndex},N.createElement(Qr,{className:m,clipPath:i?"url(#clipPath-".concat(x,")"):void 0,id:f},i&&N.createElement("defs",null,N.createElement(KP,{clipPathId:x,xAxisId:s,yAxisId:c})),N.createElement(GP,{xAxisId:s,yAxisId:c,data:r,dataPointFormatter:tJ,errorBarOffset:0},N.createElement(Qr,{key:"recharts-scatter-symbols"},N.createElement(JQ,{props:e,previousPointsRef:p})))))}var QP={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:ln.scatter};function nJ(e){var t=Jr(e,QP),{animationBegin:r,animationDuration:n,animationEasing:i,hide:s,isAnimationActive:c,legendType:f,lineJointType:p,lineType:m,shape:x,xAxisId:b,yAxisId:S,zAxisId:_}=t,I=Wv(t,WQ),{needClip:O}=ub(b,S),k=N.useMemo(()=>rm(e.children,yl),[e.children]),R=$n(),L=Ke(M=>UQ(M,b,S,_,e.id,k,R));return O==null||L==null?null:N.createElement(N.Fragment,null,N.createElement(XQ,{dataKey:e.dataKey,points:L,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:e.id}),N.createElement(rJ,bl({},I,{xAxisId:b,yAxisId:S,zAxisId:_,lineType:m,lineJointType:p,legendType:f,shape:x,hide:s,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:i,points:L,needClip:O})))}function iJ(e){var t=Jr(e,QP),r=$n();return N.createElement(ob,{id:t.id,type:"scatter"},n=>N.createElement(N.Fragment,null,N.createElement(kP,{legendPayload:KQ(t)}),N.createElement(jP,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),N.createElement(nJ,bl({},t,{id:n}))))}var JP=N.memo(iJ,lm);JP.displayName="Scatter";var aJ=["domain","range"],sJ=["domain","range"];function Y3(e,t){if(e==null)return{};var r,n,i=oJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Z3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function e8(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=Y3(e,aJ),{domain:s,range:c}=t,f=Y3(t,sJ);return!Z3(r,s)||!Z3(n,c)?!1:lm(i,f)}var lJ=["dangerouslySetInnerHTML","ticks","scale"],cJ=["id","scale"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}function Q3(e,t){if(e==null)return{};var r,n,i=uJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dJ(e){var t=ar(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(IX(e)):r.current!==e&&t(TX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(kX(r.current)),r.current=null)},[t]),null}var fJ=e=>{var{xAxisId:t,className:r}=e,n=Ke(By),i=$n(),s="xAxis",c=Ke(R=>Dk(R,s,t,i)),f=Ke(R=>Pk(R,t)),p=Ke(R=>RV(R,t)),m=Ke(R=>fk(R,t));if(f==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:S}=e,_=Q3(e,lJ),{id:I,scale:O}=m,k=Q3(m,cJ);return N.createElement(cb,Vv({},_,k,{x:p.x,y:p.y,width:f.width,height:f.height,className:qt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},hJ={allowDataOverflow:On.allowDataOverflow,allowDecimals:On.allowDecimals,allowDuplicatedCategory:On.allowDuplicatedCategory,angle:On.angle,axisLine:Ss.axisLine,height:On.height,hide:!1,includeHidden:On.includeHidden,interval:On.interval,minTickGap:On.minTickGap,mirror:On.mirror,orientation:On.orientation,padding:On.padding,reversed:On.reversed,scale:On.scale,tick:On.tick,tickCount:On.tickCount,tickLine:Ss.tickLine,tickSize:Ss.tickSize,type:On.type,xAxisId:0},pJ=e=>{var t=Jr(e,hJ);return N.createElement(N.Fragment,null,N.createElement(dJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),N.createElement(fJ,t))},Z0=N.memo(pJ,e8);Z0.displayName="XAxis";var mJ=["dangerouslySetInnerHTML","ticks","scale"],gJ=["id","scale"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}function J3(e,t){if(e==null)return{};var r,n,i=xJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vJ(e){var t=ar(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?t(PX(e)):r.current!==e&&t(jX({prev:r.current,next:e})),r.current=e},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(t(RX(r.current)),r.current=null)},[t]),null}var yJ=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,s=N.useRef(null),c=N.useRef(null),f=Ke(By),p=$n(),m=ar(),x="yAxis",b=Ke(V=>jk(V,t)),S=Ke(V=>DV(V,t)),_=Ke(V=>Dk(V,x,t,p)),I=Ke(V=>hk(V,t));if(N.useLayoutEffect(()=>{if(!(n!=="auto"||!b||rb(i)||N.isValidElement(i)||I==null)){var V=s.current;if(V){var H=V.getCalculatedWidth();Math.round(b.width)!==Math.round(H)&&m(MX({id:t,width:H}))}}},[_,b,m,i,t,n,I]),b==null||S==null||I==null)return null;var{dangerouslySetInnerHTML:O,ticks:k,scale:R}=e,L=J3(e,mJ),{id:M,scale:U}=I,W=J3(I,gJ);return N.createElement(cb,Hv({},L,W,{ref:s,labelRef:c,x:S.x,y:S.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:b.width,height:b.height,className:qt("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:_,axisType:x}))},wJ={allowDataOverflow:In.allowDataOverflow,allowDecimals:In.allowDecimals,allowDuplicatedCategory:In.allowDuplicatedCategory,angle:In.angle,axisLine:Ss.axisLine,hide:!1,includeHidden:In.includeHidden,interval:In.interval,minTickGap:In.minTickGap,mirror:In.mirror,orientation:In.orientation,padding:In.padding,reversed:In.reversed,scale:In.scale,tick:In.tick,tickCount:In.tickCount,tickLine:Ss.tickLine,tickSize:Ss.tickSize,type:In.type,width:In.width,yAxisId:0},bJ=e=>{var t=Jr(e,wJ);return N.createElement(N.Fragment,null,N.createElement(vJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),N.createElement(yJ,t))},Q0=N.memo(bJ,e8);Q0.displayName="YAxis";var EJ=(e,t)=>t,db=pe([EJ,Vt,uk,wn,Qk,Ls,QH,vn],aq),fb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},t8=ca("mouseClick"),r8=Od();r8.startListening({actionCreator:t8,effect:(e,t)=>{var r=e.payload,n=db(t.getState(),fb(r));n?.activeIndex!=null&&t.dispatch(ZV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qv=ca("mouseMove"),n8=Od(),Ih=null;n8.startListening({actionCreator:qv,effect:(e,t)=>{var r=e.payload;Ih!==null&&cancelAnimationFrame(Ih);var n=fb(r);Ih=requestAnimationFrame(()=>{var i=t.getState(),s=Vw(i,i.tooltip.settings.shared);if(s==="axis"){var c=db(i,n);c?.activeIndex!=null?t.dispatch(Vk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(Wk())}Ih=null})}});function SJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var eN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},i8=Ei({name:"rootProps",initialState:eN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:eN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),AJ=i8.reducer,{updateOptions:_J}=i8.actions,a8=Ei({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:CJ}=a8.actions,NJ=a8.reducer,s8=ca("keyDown"),o8=ca("focus"),hb=Od();hb.startListening({actionCreator:s8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Hw(i,Yc(r),$d(r),Hd(r)),f=c==null?-1:Number(c);if(!(!Number.isFinite(f)||f<0)){var p=Ls(r);if(s==="Enter"){var m=z0(r,"axis","hover",String(i.index));t.dispatch(Dv({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var x=zV(r),b=x==="left-to-right"?1:-1,S=s==="ArrowRight"?1:-1,_=f+S*b;if(!(p==null||_>=p.length||_<0)){var I=z0(r,"axis","hover",String(_));t.dispatch(Dv({active:!0,activeIndex:_.toString(),activeCoordinate:I}))}}}}}});hb.startListening({actionCreator:o8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",c=z0(r,"axis","hover",String(s));t.dispatch(Dv({active:!0,activeIndex:s,activeCoordinate:c}))}}}});var aa=ca("externalEvent"),l8=Od(),Ax=new Map;l8.startListening({actionCreator:aa,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,s=Ax.get(i);s!==void 0&&cancelAnimationFrame(s);var c=requestAnimationFrame(()=>{try{var f=t.getState(),p={activeCoordinate:LH(f),activeDataKey:Yw(f),activeIndex:yo(f),activeLabel:tP(f),activeTooltipIndex:yo(f),isTooltipActive:BH(f)};r(p,n)}finally{Ax.delete(i)}});Ax.set(i,c)}}});var OJ=pe([Kc],e=>e.tooltipItemPayloads),IJ=pe([OJ,Vd,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(f=>f.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var c=t(s,r);return c}}}),c8=ca("touchMove"),u8=Od();u8.startListening({actionCreator:c8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Vw(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var c=db(n,fb({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(Vk({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(i==="item"){var f,p=r.touches[0];if(document.elementFromPoint==null||p==null)return;var m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var x=m.getAttribute(Dy),b=(f=m.getAttribute(Ly))!==null&&f!==void 0?f:void 0,S=Xc(n).find(O=>O.id===b);if(x==null||S==null||b==null)return;var{dataKey:_}=S,I=IJ(n,x,b);t.dispatch($k({activeDataKey:_,activeIndex:x,activeCoordinate:I,activeGraphicalItemId:b}))}}}});var TJ=iI({brush:GX,cartesianAxis:DX,chartData:Dq,errorBars:aZ,graphicalItems:ZK,layout:lB,legend:gF,options:kq,polarAxis:dK,polarOptions:NJ,referenceElements:iY,rootProps:AJ,tooltip:QV,zIndex:yq}),kJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return jL({reducer:TJ,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([r8.middleware,n8.middleware,hb.middleware,l8.middleware,u8.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(yI({type:"raf"}))},devTools:{serialize:{replacer:SJ},name:"recharts-".concat(r)}})};function d8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=$n(),s=N.useRef(null);if(i)return r;s.current==null&&(s.current=kJ(t,n));var c=Iy;return N.createElement(OZ,{context:c,store:s.current},r)}function PJ(e){var{layout:t,margin:r}=e,n=ar(),i=$n();return N.useEffect(()=>{i||(n(aB(t)),n(iB(r)))},[n,i,t,r]),null}var f8=N.memo(PJ,lm);function h8(e){var t=ar();return N.useEffect(()=>{t(_J(e))},[t,e]),null}function tN(e){var{zIndex:t,isPanorama:r}=e,n=N.useRef(null),i=ar();return N.useLayoutEffect(()=>(n.current&&i(xq({zIndex:t,element:n.current,isPanorama:r})),()=>{i(vq({zIndex:t,isPanorama:r}))}),[i,t,r]),N.createElement("g",{tabIndex:-1,ref:n})}function rN(e){var{children:t,isPanorama:r}=e,n=Ke(oq);if(!n||n.length===0)return t;var i=n.filter(c=>c<0),s=n.filter(c=>c>0);return N.createElement(N.Fragment,null,i.map(c=>N.createElement(tN,{key:c,zIndex:c,isPanorama:r})),t,s.map(c=>N.createElement(tN,{key:c,zIndex:c,isPanorama:r})))}var jJ=["children"];function RJ(e,t){if(e==null)return{};var r,n,i=MJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(null,arguments)}var DJ={width:"100%",height:"100%",display:"block"},LJ=N.forwardRef((e,t)=>{var r=Uy(),n=zy(),i=ZI();if(!qa(r)||!qa(n))return null;var{children:s,otherAttributes:c,title:f,desc:p}=e,m,x;return c!=null&&(typeof c.tabIndex=="number"?m=c.tabIndex:m=i?0:void 0,typeof c.role=="string"?x=c.role:x=i?"application":void 0),N.createElement(by,J0({},c,{title:f,desc:p,role:x,tabIndex:m,width:r,height:n,style:DJ,ref:t}),s)}),BJ=e=>{var{children:t}=e,r=Ke(Ip);if(!r)return null;var{width:n,height:i,y:s,x:c}=r;return N.createElement(by,{width:n,height:i,x:c,y:s},t)},nN=N.forwardRef((e,t)=>{var{children:r}=e,n=RJ(e,jJ),i=$n();return i?N.createElement(BJ,null,N.createElement(rN,{isPanorama:!0},r)):N.createElement(LJ,J0({ref:t},n),N.createElement(rN,{isPanorama:!1},r))});function FJ(){var e=ar(),[t,r]=N.useState(null),n=Ke(CB);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;nr(s)&&s!==n&&e(oB(s))}},[t,e,n]),r}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=$J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $J(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(null,arguments)}var VJ=()=>(Hq(),null);function ep(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var HJ=N.forwardRef((e,t)=>{var r,n,i=N.useRef(null),[s,c]=N.useState({containerWidth:ep((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ep((n=e.style)===null||n===void 0?void 0:n.height)}),f=N.useCallback((m,x)=>{c(b=>{var S=Math.round(m),_=Math.round(x);return b.containerWidth===S&&b.containerHeight===_?b:{containerWidth:S,containerHeight:_}})},[]),p=N.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:x,height:b}=m.getBoundingClientRect();f(x,b);var S=I=>{var{width:O,height:k}=I[0].contentRect;f(O,k)},_=new ResizeObserver(S);_.observe(m),i.current=_}},[t,f]);return N.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[f]),N.createElement(N.Fragment,null,N.createElement(Tp,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",El({ref:p},e)))}),qJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,s]=N.useState({containerWidth:ep(r),containerHeight:ep(n)}),c=N.useCallback((p,m)=>{s(x=>{var b=Math.round(p),S=Math.round(m);return x.containerWidth===b&&x.containerHeight===S?x:{containerWidth:b,containerHeight:S}})},[]),f=N.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:m,height:x}=p.getBoundingClientRect();c(m,x)}},[t,c]);return N.createElement(N.Fragment,null,N.createElement(Tp,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",El({ref:f},e)))}),GJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(Tp,{width:r,height:n}),N.createElement("div",El({ref:t},e)))}),KJ=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return _s(r)||_s(n)?N.createElement(qJ,El({},e,{ref:t})):N.createElement(GJ,El({},e,{ref:t}))});function XJ(e){return e===!0?HJ:KJ}var YJ=N.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:c,onDoubleClick:f,onMouseDown:p,onMouseEnter:m,onMouseLeave:x,onMouseMove:b,onMouseUp:S,onTouchEnd:_,onTouchMove:I,onTouchStart:O,style:k,width:R,responsive:L,dispatchTouchEvents:M=!0}=e,U=N.useRef(null),W=ar(),[V,H]=N.useState(null),[re,X]=N.useState(null),Ee=FJ(),ue=Fy(),de=ue?.width>0?ue.width:R,Ae=ue?.height>0?ue.height:i,ke=N.useCallback(se=>{Ee(se),typeof t=="function"&&t(se),H(se),X(se),se!=null&&(U.current=se)},[Ee,t,H,X]),te=N.useCallback(se=>{W(t8(se)),W(aa({handler:s,reactEvent:se}))},[W,s]),ie=N.useCallback(se=>{W(qv(se)),W(aa({handler:m,reactEvent:se}))},[W,m]),Q=N.useCallback(se=>{W(Wk()),W(aa({handler:x,reactEvent:se}))},[W,x]),oe=N.useCallback(se=>{W(qv(se)),W(aa({handler:b,reactEvent:se}))},[W,b]),xe=N.useCallback(()=>{W(o8())},[W]),Se=N.useCallback(se=>{W(s8(se.key))},[W]),Z=N.useCallback(se=>{W(aa({handler:c,reactEvent:se}))},[W,c]),fe=N.useCallback(se=>{W(aa({handler:f,reactEvent:se}))},[W,f]),Me=N.useCallback(se=>{W(aa({handler:p,reactEvent:se}))},[W,p]),Fe=N.useCallback(se=>{W(aa({handler:S,reactEvent:se}))},[W,S]),Je=N.useCallback(se=>{W(aa({handler:O,reactEvent:se}))},[W,O]),Ie=N.useCallback(se=>{M&&W(c8(se)),W(aa({handler:I,reactEvent:se}))},[W,M,I]),lt=N.useCallback(se=>{W(aa({handler:_,reactEvent:se}))},[W,_]),ye=XJ(L);return N.createElement(lP.Provider,{value:V},N.createElement(w4.Provider,{value:re},N.createElement(ye,{width:de??k?.width,height:Ae??k?.height,className:qt("recharts-wrapper",n),style:UJ({position:"relative",cursor:"default",width:de,height:Ae},k),onClick:te,onContextMenu:Z,onDoubleClick:fe,onFocus:xe,onKeyDown:Se,onMouseDown:Me,onMouseEnter:ie,onMouseLeave:Q,onMouseMove:oe,onMouseUp:Fe,onTouchEnd:lt,onTouchMove:Ie,onTouchStart:Je,ref:ke},N.createElement(VJ,null),r)))}),ZJ=["width","height","responsive","children","className","style","compact","title","desc"];function QJ(e,t){if(e==null)return{};var r,n,i=JJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p8=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:s,className:c,style:f,compact:p,title:m,desc:x}=e,b=QJ(e,ZJ),S=$i(b);return p?N.createElement(N.Fragment,null,N.createElement(Tp,{width:r,height:n}),N.createElement(nN,{otherAttributes:S,title:m,desc:x},s)):N.createElement(YJ,{className:c,style:f,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(nN,{otherAttributes:S,title:m,desc:x,ref:t},N.createElement(aY,null,s)))});function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}var eee={top:5,right:5,bottom:5,left:5},tee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},m8=N.forwardRef(function(t,r){var n,i=Jr(t.categoricalChartProps,tee),{chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:m}=t,x={chartName:s,defaultTooltipEventType:c,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return N.createElement(d8,{preloadedState:{options:x},reduxStoreName:(n=m.id)!==null&&n!==void 0?n:s},N.createElement(BP,{chartData:m.data}),N.createElement(f8,{layout:i.layout,margin:i.margin}),N.createElement(h8,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(p8,Gv({},i,{ref:r})))}),ree=["axis","item"],g8=N.forwardRef((e,t)=>N.createElement(m8,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ree,tooltipPayloadSearcher:tb,categoricalChartProps:e,ref:t}));function nee(e){var t=ar();return N.useEffect(()=>{t(CJ(e))},[t,e]),null}var iee=["layout"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(null,arguments)}function aee(e,t){if(e==null)return{};var r,n,i=see(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function see(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oee={top:5,right:5,bottom:5,left:5},x8={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:oee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lee=N.forwardRef(function(t,r){var n,i=Jr(t.categoricalChartProps,x8),{layout:s}=i,c=aee(i,iee),{chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:x}=t,b={chartName:f,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:x,eventEmitter:void 0};return N.createElement(d8,{preloadedState:{options:b},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:f},N.createElement(BP,{chartData:i.data}),N.createElement(f8,{layout:s,margin:i.margin}),N.createElement(h8,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(nee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(p8,Kv({},c,{ref:r})))});function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cee(e,t,r){return(t=uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fee=["item"],hee=sN(sN({},x8),{},{layout:"centric",startAngle:0,endAngle:360}),pee=N.forwardRef((e,t)=>{var r=Jr(e,hee);return N.createElement(lee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fee,tooltipPayloadSearcher:tb,categoricalChartProps:r,ref:t})}),mee=["item"],gee=N.forwardRef((e,t)=>N.createElement(m8,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:mee,tooltipPayloadSearcher:tb,categoricalChartProps:e,ref:t}));const xee=({transactions:e,expenses:t,timeRange:r,onTimeRangeChange:n})=>{const[i,s]=N.useState([]),[c,f]=N.useState({invested:0,recovered:0}),[p,m]=N.useState([]);N.useEffect(()=>{x()},[e,t]);const x=()=>{const b={Style:{sales:0,cost:0,extras:0,count:0},Perfum:{sales:0,cost:0,extras:0,count:0},"Amor Amor":{sales:0,cost:0,extras:0,count:0}};e.forEach(O=>{let k="Style";if(O.type==="product"?O.description?.includes("Regalito")||O.description?.includes("Amor")?k="Amor Amor":(k="Perfum",Va.find(R=>O.description?.includes(R.name))):k="Style",b[k]){const R=b[k];R.sales+=O.amount,R.extras+=O.additional_cost||0,R.count+=1,R.cost+=0}});const S=Object.keys(b).map(O=>{const k=b[O],R=k.sales-k.cost-k.extras,L=k.sales>0?R/k.sales*100:0;return{name:O,Ventas:k.sales,"Costo Extra":k.extras,Margen:R,"Margen %":Math.round(L)}});s(S);const _=t.reduce((O,k)=>O+k.amount,0),I=e.reduce((O,k)=>O+k.amount,0);f({invested:_,recovered:I})};return v.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-stone-100 shadow-sm",children:[v.jsxs("h2",{className:"text-xl font-bold text-stone-800 flex items-center gap-2",children:[v.jsx(JR,{className:"text-emerald-600"}),"Resumen Financiero"]}),v.jsx("div",{className:"flex gap-2",children:["day","week","month"].map(b=>v.jsx("button",{onClick:()=>n(b),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition ${r===b?"bg-stone-900 text-white":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:b==="day"?"Hoy":b==="week"?"Semana":"Mes"},b))})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-stone-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsx("p",{className:"text-stone-400 text-sm font-bold uppercase tracking-wider mb-2",children:"Inversin Total (Gastos)"}),v.jsxs("h3",{className:"text-4xl font-mono font-bold text-red-400 mb-1",children:["$",c.invested.toLocaleString()]}),v.jsx("p",{className:"text-xs text-stone-500",children:"Acumulado histrico de compras/gastos"})]}),v.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10",children:v.jsx(IN,{size:120})})]}),v.jsx("div",{className:"bg-emerald-900 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:v.jsxs("div",{className:"relative z-10",children:[v.jsx("p",{className:"text-emerald-200 text-sm font-bold uppercase tracking-wider mb-2",children:"Recuperado (Ventas)"}),v.jsxs("h3",{className:"text-4xl font-mono font-bold text-emerald-400 mb-1",children:["$",c.recovered.toLocaleString()]}),v.jsx("p",{className:"text-xs text-emerald-200/50",children:c.invested>0?`${(c.recovered/c.invested*100).toFixed(1)}% de la inversin recuperada`:"Calculando retorno..."})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[v.jsx(Nx,{size:20})," Rendimiento por rea"]}),v.jsx("div",{className:"h-[300px] w-full text-xs",children:v.jsx(Fh,{width:"100%",height:"100%",children:v.jsxs(g8,{data:i,margin:{top:20,right:30,left:20,bottom:5},children:[v.jsx(K0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),v.jsx(Z0,{dataKey:"name",axisLine:!1,tickLine:!1}),v.jsx(Q0,{axisLine:!1,tickLine:!1,tickFormatter:b=>`$${b/1e3}k`}),v.jsx(zh,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),v.jsx(Vy,{}),v.jsx(Qu,{dataKey:"Ventas",fill:"#3b82f6",radius:[4,4,0,0]}),v.jsx(Qu,{dataKey:"Margen",fill:"#10b981",radius:[4,4,0,0]}),v.jsx(Qu,{dataKey:"Costo Extra",fill:"#ef4444",radius:[4,4,0,0]})]})})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"font-bold text-lg mb-6 flex items-center gap-2",children:[v.jsx(RN,{size:20})," Detalle de Mrgenes"]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm",children:[v.jsx("thead",{className:"text-xs uppercase text-stone-400 bg-stone-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-2 py-2 text-left",children:"rea"}),v.jsx("th",{className:"px-2 py-2 text-right",children:"Margen $"}),v.jsx("th",{className:"px-2 py-2 text-right",children:"%"})]})}),v.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(b=>v.jsxs("tr",{children:[v.jsx("td",{className:"px-2 py-3 font-medium",children:b.name}),v.jsxs("td",{className:`px-2 py-3 text-right font-bold ${b.Margen>0?"text-emerald-600":"text-stone-500"}`,children:["$",b.Margen.toLocaleString()]}),v.jsxs("td",{className:"px-2 py-3 text-right text-stone-500",children:[b["Margen %"],"%"]})]},b.name))})]})}),v.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl text-xs text-blue-700",children:[v.jsx("p",{className:"font-bold mb-1",children:" Tip:"}),v.jsx("p",{children:'El "Margen" descuenta los Costos Extra ingresados (luz, caf, etc). Para aumentar el margen en "Style", asegrate de registrar todos los insumos variables.'})]})]})]})]})},vee=({initialClient:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(e||null),[s,c]=N.useState(""),[f,p]=N.useState(""),[m,x]=N.useState(!1),[b,S]=N.useState([]),[_,I]=N.useState(""),[O,k]=N.useState([]),[R,L]=N.useState(""),[M,U]=N.useState("");N.useEffect(()=>{e&&i(e),W()},[e]);const W=async()=>{const{data:ie,error:Q}=await qe.from("inventory").select("*").gt("quantity",0).order("name",{ascending:!0});ie&&k(ie)},V=async ie=>{if(!ie||ie.length<2){S([]);return}const{data:Q,error:oe}=await qe.from("clients").select("*").or(`phone.ilike.%${ie}%,name.ilike.%${ie}%`).limit(10);Q&&S(Q)};N.useEffect(()=>{const ie=setTimeout(()=>{V(s)},500);return()=>clearTimeout(ie)},[s]);const H=(ie,Q,oe,xe)=>{const Se=oe||(Q==="product"?"10ml":"standard"),Z=`${ie.id}-${Se}`;if(t.find(Me=>Me.cartId===Z))r(t.map(Me=>Me.cartId===Z?{...Me,qty:Me.qty+1}:Me));else{let Me=xe||0;xe||(Q==="product"&&(oe==="5ml"?Me=ie.price5ml||ie.price||0:Me=ie.price10ml||ie.price||0),Q==="gift"&&(Me=ie.price||0),Q==="service"&&(Me=ie.price||0)),r([...t,{...ie,cartId:Z,type:Q,qty:1,price:Me,variant:Se}])}I(`Agregado: ${ie.name} (${Se})`),setTimeout(()=>I(""),2e3)},re=()=>{if(!R||!M){alert("Por favor ingrese nombre y precio del item.");return}const ie=parseInt(M);if(isNaN(ie)){alert("El precio debe ser un nmero vlido.");return}const Q={id:"manual-"+Date.now(),name:R,price:ie,type:"service",qty:1,variant:"manual",stock:!1};r(oe=>[...oe,Q]),L(""),U(""),I(`Item "${R}" agregado al carrito ($${ie})`),setTimeout(()=>I(""),3e3)},X=ie=>{r(t.filter(Q=>Q.cartId!==ie))},Ee=(ie,Q)=>{Q<1||r(t.map(oe=>oe.cartId===ie?{...oe,qty:Q}:oe))},ue=(ie,Q)=>{if(Q===""){r(t.map(xe=>xe.cartId===ie?{...xe,price:0}:xe));return}const oe=parseInt(Q);isNaN(oe)||r(t.map(xe=>xe.cartId===ie?{...xe,price:oe}:xe))},de=async()=>{if(t.length===0)return alert("El carrito est vaco");if(window.confirm(`Confirmar venta por $${t.reduce((ie,Q)=>ie+Q.price*Q.qty,0).toLocaleString()}?`)){x(!0);try{const ie=n?n.id:null;for(const Q of t){if(Q.type==="product"&&Q.stock!==!1){const{error:xe}=await qe.rpc("adjust_inventory",{p_product_id:Q.id,p_delta:-Q.qty,p_reason:"sale_pos"});xe&&console.error("Inventory error",xe)}const{error:oe}=await qe.from("transactions").insert({client_id:ie,amount:Q.price*Q.qty,type:Q.type==="service"?"service":"product",description:`POS: ${Q.name} (${Q.variant}) x${Q.qty}`,additional_cost:0});if(oe)throw oe}alert(" Venta registrada con xito!"),r([]),i(null),c("")}catch(ie){alert("Error procesando venta: "+ie.message)}finally{x(!1)}}},Ae=Va.filter(ie=>ie.name?.toLowerCase().includes(f.toLowerCase())),ke=nl.filter(ie=>ie.name?.toLowerCase().includes(f.toLowerCase())),te=O.filter(ie=>ie.name?.toLowerCase().includes(f.toLowerCase()));return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 h-[80vh]",children:[v.jsxs("div",{className:"md:col-span-2 space-y-4 overflow-y-auto pr-2",children:[_&&v.jsx("div",{className:"bg-green-600 text-white p-2 rounded text-center text-sm font-bold sticky top-0 z-10",children:_}),v.jsx("div",{className:"sticky top-0 bg-white z-10 pb-4",children:v.jsxs("div",{className:"relative",children:[v.jsx(Ec,{className:"absolute left-3 top-3 text-stone-400",size:18}),v.jsx("input",{type:"text",placeholder:"Buscar productos o servicios...",value:f,onChange:ie=>p(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-stone-500 outline-none"})]})}),v.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[v.jsxs("h4",{className:"font-bold text-stone-700 mb-2 text-sm flex items-center gap-2",children:[v.jsx(m6,{size:14})," Item Manual"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{placeholder:"Nombre Item",className:"flex-1 border p-2 rounded text-sm",value:R,onChange:ie=>L(ie.target.value)}),v.jsx("input",{placeholder:"Precio",type:"number",className:"w-24 border p-2 rounded text-sm",value:M,onChange:ie=>U(ie.target.value)}),v.jsx("button",{onClick:re,className:"bg-stone-800 text-white px-3 rounded font-bold text-sm",children:"+"})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-stone-500 mb-2 uppercase text-xs",children:"Servicios"}),v.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:ke.map(ie=>v.jsxs("button",{onClick:()=>H(ie,"service"),className:"p-3 bg-white border border-stone-100 rounded-lg shadow-sm hover:border-purple-300 text-left transition group",children:[v.jsx("div",{className:"font-bold text-stone-800 group-hover:text-purple-600",children:ie.name}),v.jsxs("div",{className:"text-stone-500 text-xs",children:["$",ie.price.toLocaleString()]})]},ie.id))})]}),v.jsxs("div",{children:[v.jsxs("h4",{className:"font-bold text-stone-500 mb-2 uppercase text-xs flex items-center gap-2",children:[v.jsx(jN,{size:14})," Inventario (",te.length,")"]}),v.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:te.map(ie=>v.jsxs("div",{className:"p-3 bg-white border border-stone-100 rounded-lg shadow-sm hover:border-emerald-300 text-left transition group",children:[v.jsx("div",{className:"font-bold text-stone-800 text-sm group-hover:text-emerald-600 truncate",children:ie.name}),v.jsxs("div",{className:"text-stone-400 text-[10px] mb-2",children:["Stock: ",ie.quantity]}),v.jsx("div",{className:"flex gap-1",children:v.jsxs("button",{onClick:()=>H({...ie,id:ie.product_id},"product","unidad",ie.sale_price||ie.price||0),className:"flex-1 bg-emerald-600 text-white text-xs py-1 rounded font-bold hover:bg-emerald-700",children:["$",(ie.sale_price||ie.price||0).toLocaleString()]})})]},ie.product_id))})]}),v.jsxs("div",{children:[v.jsxs("h4",{className:"font-bold text-stone-500 mb-2 uppercase text-xs",children:["Perfumes Catlogo (",Ae.length,")"]}),v.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:Ae.map(ie=>v.jsxs("div",{className:"p-3 bg-white border border-stone-100 rounded-lg shadow-sm hover:border-blue-300 text-left transition group",children:[v.jsx("div",{className:"font-bold text-stone-800 text-sm group-hover:text-blue-600 truncate",children:ie.name}),v.jsx("div",{className:"text-stone-400 text-[10px] mb-2",children:ie.brand}),v.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.jsxs("button",{onClick:()=>H(ie,"product","5ml",ie.price5ml),className:"flex-1 bg-blue-500 text-white text-xs py-1 rounded font-bold hover:bg-blue-600",children:["5ml $",ie.price5ml.toLocaleString()]}),v.jsxs("button",{onClick:()=>H(ie,"product","10ml",ie.price10ml),className:"flex-1 bg-blue-700 text-white text-xs py-1 rounded font-bold hover:bg-blue-800",children:["10ml $",ie.price10ml.toLocaleString()]}),ie.priceFullBottle&&v.jsxs("button",{onClick:()=>H(ie,"product","Botella",ie.priceFullBottle),className:"w-full mt-1 bg-amber-600 text-white text-xs py-1 rounded font-bold hover:bg-amber-700",children:[" Botella $",ie.priceFullBottle.toLocaleString()]})]})]},ie.id))})]})]}),v.jsxs("div",{className:"md:col-span-1 bg-white border-l border-stone-100 pl-6 flex flex-col h-full",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[v.jsx(LN,{})," Carrito"]}),v.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-amber-50 to-rose-50 border-2 border-dashed border-amber-300 rounded-xl",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(b6,{className:"text-amber-600",size:18}),v.jsx("span",{className:"font-bold text-amber-800 text-sm",children:"Cliente (Fidelidad)"})]}),n?v.jsxs("div",{className:"bg-white border border-green-300 p-3 rounded-lg flex justify-between items-center shadow-sm",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-stone-800",children:n.name||"Sin Nombre"}),v.jsx("div",{className:"text-xs text-stone-500",children:n.phone}),v.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[v.jsx(oy,{className:"text-amber-500",size:12,fill:"currentColor"}),v.jsxs("span",{className:"text-xs font-bold text-amber-600",children:[n.loyalty_points||0," puntos"]})]})]}),v.jsx("button",{onClick:()=>i(null),className:"text-stone-400 hover:text-red-500 p-1",children:v.jsx(yi,{size:18})})]}):v.jsxs("div",{className:"relative",children:[v.jsx(Ec,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),v.jsx("input",{type:"text",placeholder:"Buscar por nombre o telfono...",value:s,onChange:ie=>c(ie.target.value),className:"w-full pl-9 pr-4 py-2 border-2 border-amber-200 bg-white rounded-lg text-sm focus:ring-2 focus:ring-amber-400 focus:border-amber-400 outline-none"}),b.length>0&&v.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border-2 border-amber-200 shadow-xl rounded-lg mt-1 z-50 max-h-48 overflow-y-auto",children:b.map(ie=>v.jsxs("button",{onClick:()=>{i(ie),c(""),S([])},className:"w-full text-left px-3 py-2 hover:bg-amber-50 text-sm border-b border-stone-100 last:border-0 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold",children:ie.name||"Sin Nombre"}),v.jsx("div",{className:"text-xs text-stone-500",children:ie.phone})]}),v.jsxs("div",{className:"text-xs text-amber-600 font-bold",children:[ie.loyalty_points||0," pts"]})]},ie.id))}),v.jsx("p",{className:"text-[10px] text-amber-600 mt-1",children:"Asocia un cliente para acumular puntos"})]})]}),v.jsxs("div",{className:"space-y-3",children:[t.map((ie,Q)=>v.jsxs("div",{className:"flex justify-between items-start border-b border-stone-100 pb-3",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium text-sm text-stone-800",children:ie.name}),v.jsx("div",{className:"text-xs text-stone-400",children:ie.variant}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("button",{onClick:()=>Ee(ie.cartId,ie.qty-1),className:"w-5 h-5 flex items-center justify-center bg-stone-100 rounded text-xs",children:"-"}),v.jsx("span",{className:"text-xs font-bold w-4 text-center",children:ie.qty}),v.jsx("button",{onClick:()=>Ee(ie.cartId,ie.qty+1),className:"w-5 h-5 flex items-center justify-center bg-stone-100 rounded text-xs",children:"+"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{className:"text-stone-400 text-xs",children:"$"}),v.jsx("input",{className:"w-20 text-right border border-stone-200 bg-amber-50 font-bold text-stone-800 text-sm focus:ring-2 focus:ring-amber-300 rounded px-2 py-1",value:ie.price,onChange:oe=>ue(ie.cartId,oe.target.value),title:"Click para editar precio"})]}),v.jsx("button",{onClick:()=>X(ie.cartId),className:"text-red-400 hover:text-red-500 block ml-auto mt-1",children:v.jsx(op,{size:12})})]})]},ie.cartId||`${ie.id}-${Q}`)),t.length===0&&v.jsx("p",{className:"text-center text-stone-400 text-sm py-8",children:"Carrito vaco"})]})]}),v.jsxs("div",{className:"border-t border-stone-200 pt-4 mt-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("span",{className:"text-stone-500 font-medium",children:"Total"}),v.jsxs("span",{className:"text-2xl font-bold text-stone-900",children:["$",t.reduce((ie,Q)=>ie+Q.price*Q.qty,0).toLocaleString()]})]}),v.jsx("button",{onClick:de,disabled:m||t.length===0,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold hover:bg-stone-800 disabled:opacity-50 disabled:cursor-not-allowed transition flex justify-center items-center gap-2",children:m?"Procesando...":v.jsxs(v.Fragment,{children:[v.jsx(MN,{size:18})," Confirmar Venta"]})})]})]})]})},yee=({onRegisterService:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(new Date),[s,c]=N.useState(null),[f,p]=N.useState(!1),[m,x]=N.useState(null),[b,S]=N.useState(""),[_,I]=N.useState(""),[O,k]=N.useState("Corte"),[R,L]=N.useState("salon"),[M,U]=N.useState(1),[W,V]=N.useState(!1),[H,re]=N.useState(!1),[X,Ee]=N.useState("9:00"),[ue,de]=N.useState("21:00"),[Ae,ke]=N.useState("");N.useEffect(()=>{te()},[n]);const te=async()=>{V(!0);const{data:ye,error:se}=await qe.from("bookings").select("*").order("date",{ascending:!0}).order("time",{ascending:!0});se?console.error("Error fetching bookings:",se):r(ye||[]),V(!1)},Q=(ye=>{const se=[],Be=ye.getDay(),Ue=ye.getDate()-Be+(Be===0?-6:1),we=new Date(ye);we.setDate(Ue);for(let He=0;He<7;He++){const Qe=new Date(we);Qe.setDate(we.getDate()+He),se.push(Qe)}return se})(n),oe=Array.from({length:13},(ye,se)=>`${se+9}:00`),xe=(ye,se)=>{const Be=new Date,Ue=parseInt(se.split(":")[0]),we=new Date(ye+"T00:00:00");return we.toDateString()<Be.toDateString()?!0:we.toDateString()===Be.toDateString()?Ue<=Be.getHours():!1},Se=()=>{const ye=new Date(n);ye.setDate(n.getDate()-7),i(ye)},Z=()=>{const ye=new Date(n);ye.setDate(n.getDate()+7),i(ye)},fe=(ye,se)=>{const Be=t.find(Ue=>Ue.date===ye&&Ue.time===se);Be?x(Be):(c({date:ye,time:se}),L("salon"),S(""),I(""),U(1),p(!0))},Me=async()=>{if(!s)return;const ye=R==="bloqueo",se=ye?"BLOQUEADO":b;if(!se&&!ye)return alert("Ingrese nombre");V(!0);try{const Be=parseInt(s.time.split(":")[0]),Ue=[];for(let Qe=0;Qe<M;Qe++){const Ct=Be+Qe;if(Ct>21)break;const Ft=`${Ct}:00`;if(t.find(At=>At.date===s.date&&At.time===Ft)){alert(`El horario ${Ft} ya est ocupado`),V(!1);return}Ue.push({date:s.date,time:Ft,name:se,phone:_||"00000000",email:"manual@admin.com",service_name:ye?"Bloqueo":`${O} (${M}h)`,is_home_service:R==="domicilio",created_at:new Date().toISOString()})}const{error:we}=await qe.from("bookings").insert(Ue);if(we)throw we;const He=M>1?` (${M} horas)`:"";alert(ye?"Bloqueo registrado"+He:"Reserva creada"+He),p(!1),te()}catch(Be){alert("Error: "+Be.message)}finally{V(!1)}},Fe=async ye=>{const{error:se}=await qe.from("bookings").delete().eq("id",ye);se||te()},Je=async ye=>{if(!window.confirm(`Bloquear todo el da ${ye}?`))return;V(!0);const se=oe.map(we=>({date:ye,time:we,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()})),Be=t.filter(we=>we.date===ye).map(we=>we.time),Ue=se.filter(we=>!Be.includes(we.time));if(Ue.length>0){const{error:we}=await qe.from("bookings").insert(Ue);we?alert("Error: "+we.message):te()}V(!1)},Ie=async()=>{if(!Ae)return alert("Selecciona una fecha");const ye=oe.indexOf(X),se=oe.indexOf(ue);if(ye>se)return alert("Hora inicio debe ser menor que fin");const Be=oe.slice(ye,se+1),Ue=t.filter(Qe=>Qe.date===Ae).map(Qe=>Qe.time),we=Be.filter(Qe=>!Ue.includes(Qe)).map(Qe=>({date:Ae,time:Qe,name:"BLOQUEADO",phone:"00000000",email:"block@admin.com",service_name:"Bloqueo",is_home_service:!1,created_at:new Date().toISOString()}));if(we.length===0)return alert("Todos esos horarios ya estn ocupados");V(!0);const{error:He}=await qe.from("bookings").insert(we);He?alert("Error: "+He.message):(alert(`${we.length} horarios bloqueados`),re(!1),te()),V(!1)},lt=async ye=>{if(!window.confirm(`Desbloquear todo el da ${ye}?`))return;V(!0);const{error:se}=await qe.from("bookings").delete().eq("date",ye).eq("name","BLOQUEADO");se||te(),V(!1)};return v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-stone-200 h-[80vh] flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(NN,{})," Agenda Semanal"]}),v.jsxs("div",{className:"flex items-center bg-stone-100 rounded-lg p-1",children:[v.jsx("button",{onClick:Se,className:"p-1 hover:bg-stone-200 rounded",children:v.jsx(t6,{size:20})}),v.jsxs("span",{className:"px-3 font-mono text-sm font-bold",children:[Q[0].getDate(),"/",Q[0].getMonth()+1," - ",Q[6].getDate(),"/",Q[6].getMonth()+1]}),v.jsx("button",{onClick:Z,className:"p-1 hover:bg-stone-200 rounded",children:v.jsx(r6,{size:20})})]})]}),v.jsxs("div",{className:"flex gap-2 text-xs items-center flex-wrap",children:[v.jsxs("button",{onClick:()=>re(!H),className:`px-3 py-1.5 rounded-lg font-bold flex items-center gap-1 transition ${H?"bg-red-600 text-white":"bg-red-100 text-red-600 hover:bg-red-200"}`,children:[v.jsx(EE,{size:14})," ",H?"Cerrar":"Bloqueo Rpido"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-purple-100 border border-purple-300 rounded"})," Saln"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"})," Domicilio"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-red-100 border border-red-300 rounded"})," Bloqueado"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-stone-200 border border-stone-300 rounded"})," Expirado"]})]})]}),H&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 animate-in slide-in-from-top duration-200",children:v.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Fecha"}),v.jsxs("select",{value:Ae,onChange:ye=>ke(ye.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:[v.jsx("option",{value:"",children:"Seleccionar..."}),Q.map(ye=>v.jsxs("option",{value:ye.toISOString().split("T")[0],children:[["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][ye.getDay()]," ",ye.getDate(),"/",ye.getMonth()+1]},ye.toISOString()))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Desde"}),v.jsx("select",{value:X,onChange:ye=>Ee(ye.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:oe.map(ye=>v.jsx("option",{value:ye,children:ye},ye))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-red-600 font-bold block mb-1",children:"Hasta"}),v.jsx("select",{value:ue,onChange:ye=>de(ye.target.value),className:"border border-red-300 rounded px-2 py-1 text-sm",children:oe.map(ye=>v.jsx("option",{value:ye,children:ye},ye))})]}),v.jsx("button",{onClick:Ie,disabled:W||!Ae,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-1.5 rounded font-bold text-sm disabled:opacity-50",children:W?"Bloqueando...":"Bloquear Rango"}),v.jsxs("div",{className:"border-l border-red-300 pl-4 ml-2",children:[v.jsx("span",{className:"text-xs text-red-600 mr-2",children:"Da completo:"}),Q.map(ye=>{const se=ye.toISOString().split("T")[0],Be=t.some(Ue=>Ue.date===se&&Ue.name==="BLOQUEADO");return v.jsxs("button",{onClick:()=>Be?lt(se):Je(se),className:`px-2 py-0.5 mx-0.5 rounded text-xs font-bold ${Be?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,title:Be?"Desbloquear da":"Bloquear da",children:[["D","L","M","X","J","V","S"][ye.getDay()],ye.getDate()]},se)})]})]})}),v.jsx("div",{className:"flex-1 overflow-auto border border-stone-200 rounded-lg",children:v.jsxs("div",{className:"min-w-[800px]",children:[v.jsxs("div",{className:"grid grid-cols-8 bg-stone-50 border-b border-stone-200 sticky top-0 z-10",children:[v.jsx("div",{className:"p-2 text-center text-stone-500 font-bold text-xs border-r border-stone-200",children:"Hora"}),Q.map((ye,se)=>v.jsxs("div",{className:`p-2 text-center border-r border-stone-200 ${ye.toDateString()===new Date().toDateString()?"bg-amber-50":""}`,children:[v.jsx("div",{className:"text-stone-500 text-[10px] uppercase",children:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"][ye.getDay()]}),v.jsx("div",{className:"font-bold text-stone-900",children:ye.getDate()})]},se))]}),oe.map(ye=>v.jsxs("div",{className:"grid grid-cols-8 border-b border-stone-100 hover:bg-stone-50/50",children:[v.jsx("div",{className:"p-2 text-center text-stone-400 text-xs font-mono border-r border-stone-100",children:ye}),Q.map((se,Be)=>{const Ue=se.toISOString().split("T")[0],we=t.find(Pt=>Pt.date===Ue&&Pt.time===ye),He=xe(Ue,ye);let Qe="transition p-1 border-r border-stone-100 min-h-[50px]",Ct=null,Ft=!0;return we?we.name==="BLOQUEADO"?(Qe+=" bg-red-100 hover:bg-red-200 border-red-200 cursor-pointer",Ct=v.jsx("div",{className:"flex justify-center items-center h-full text-red-400",children:v.jsx(EE,{size:16})})):(Qe+=we.is_home_service?" bg-blue-100 hover:bg-blue-200 border-blue-200 cursor-pointer":" bg-purple-100 hover:bg-purple-200 border-purple-200 cursor-pointer",Ct=v.jsxs("div",{className:"text-[10px] leading-tight p-1 h-full overflow-hidden",children:[v.jsx("div",{className:"font-bold truncate",children:we.name}),v.jsx("div",{className:"text-stone-500 truncate",children:we.service_name})]})):He?(Qe+=" bg-stone-200/50 cursor-not-allowed",Ct=v.jsx("div",{className:"flex justify-center items-center h-full text-stone-400",children:v.jsx(ON,{size:14,className:"opacity-50"})}),Ft=!1):Qe+=" cursor-pointer hover:bg-stone-100",v.jsx("div",{className:Qe,onClick:()=>Ft&&fe(Ue,ye),children:Ct},`${Ue}-${ye}`)})]},ye))]})}),f&&s&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"text-xl font-bold",children:[s.date," - ",s.time]}),v.jsx("button",{onClick:()=>p(!1),children:v.jsx(yi,{className:"text-stone-400 hover:text-stone-600"})})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[v.jsx("button",{onClick:()=>L("salon"),className:`p-2 rounded border text-sm font-bold ${R==="salon"?"bg-purple-600 text-white border-purple-600":"border-stone-200 text-stone-500"}`,children:"Saln"}),v.jsx("button",{onClick:()=>L("domicilio"),className:`p-2 rounded border text-sm font-bold ${R==="domicilio"?"bg-blue-600 text-white border-blue-600":"border-stone-200 text-stone-500"}`,children:"Domicilio"}),v.jsx("button",{onClick:()=>L("bloqueo"),className:`p-2 rounded border text-sm font-bold ${R==="bloqueo"?"bg-red-600 text-white border-red-600":"border-stone-200 text-stone-500"}`,children:"Bloquear"})]}),R!=="bloqueo"&&v.jsxs(v.Fragment,{children:[v.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",placeholder:"Nombre Cliente",value:b,onChange:ye=>S(ye.target.value),autoFocus:!0}),v.jsx("input",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",placeholder:"Telfono (Opcional)",value:_,onChange:ye=>I(ye.target.value)}),v.jsxs("select",{className:"w-full border border-stone-300 rounded-lg p-2 text-sm",value:O,onChange:ye=>k(ye.target.value),children:[v.jsx("option",{value:"Corte",children:"Corte"}),v.jsx("option",{value:"Color",children:"Color"}),v.jsx("option",{value:"Efecto",children:"Efecto"}),v.jsx("option",{value:"Alisado",children:"Alisado"}),v.jsx("option",{value:"Masaje",children:"Masaje"})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm text-stone-600 whitespace-nowrap",children:"Duracin:"}),v.jsxs("select",{className:"flex-1 border border-stone-300 rounded-lg p-2 text-sm",value:M,onChange:ye=>U(parseInt(ye.target.value)),children:[v.jsx("option",{value:1,children:"1 hora"}),v.jsx("option",{value:2,children:"2 horas"}),v.jsx("option",{value:3,children:"3 horas"}),v.jsx("option",{value:4,children:"4 horas"}),v.jsx("option",{value:5,children:"5 horas"})]})]}),v.jsx("button",{onClick:Me,disabled:W,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg mt-2 disabled:opacity-50 ${R==="bloqueo"?"bg-red-600 hover:bg-red-700":"bg-stone-900 hover:bg-stone-800"}`,children:W?"Guardando...":R==="bloqueo"?"Bloquear Horario":"Guardar Reserva"})]})]})}),m&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm shadow-xl animate-in fade-in zoom-in duration-200",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold",children:m.name==="BLOQUEADO"?"Horario Bloqueado":"Reserva"}),v.jsx("button",{onClick:()=>x(null),children:v.jsx(yi,{className:"text-stone-400 hover:text-stone-600"})})]}),m.name!=="BLOQUEADO"&&v.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 mb-4",children:[v.jsx("p",{className:"font-bold text-lg",children:m.name}),v.jsx("p",{className:"text-stone-500 text-sm",children:m.phone}),v.jsx("p",{className:"text-stone-400 text-xs mt-1",children:m.service_name}),v.jsxs("p",{className:"text-stone-400 text-xs",children:[m.date," - ",m.time]})]}),v.jsxs("div",{className:"space-y-3",children:[m.name!=="BLOQUEADO"&&e&&v.jsxs("button",{onClick:()=>{e({name:m.name,phone:m.phone,service:m.service_name}),x(null)},className:"w-full py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg",children:[v.jsx(ip,{size:20})," Registrar Servicio"]}),v.jsxs("button",{onClick:()=>{Fe(m.id),x(null)},className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[v.jsx(op,{size:18})," ",m.name==="BLOQUEADO"?"Desbloquear":"Eliminar Reserva"]}),v.jsx("button",{onClick:()=>x(null),className:"w-full py-2 bg-stone-100 hover:bg-stone-200 text-stone-600 font-bold rounded-xl",children:"Cancelar"})]})]})})]})},oN=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],wee=({perfume:e,inventoryItem:t,onRefresh:r})=>{const[n,i]=N.useState(!1),s=t?.quantity||0,c=t?.last_purchase_price||0,f=e.priceFullBottle||0,p=f-c,m=c>0?p/c*100:0;let x=null;if(t?.last_purchase_date){const S=new Date().getTime()-new Date(t.last_purchase_date).getTime();x=Math.floor(S/(1e3*60*60*24))}const b=async S=>{i(!0);const{data:_,error:I}=await qe.rpc("adjust_inventory",{p_product_id:e.id,p_delta:S,p_reason:"manual_adjustment"});I?alert("Error: "+I.message):_.success?r():alert("Error: "+_.message),i(!1)};return v.jsxs("tr",{className:"border-b border-stone-100",children:[v.jsx("td",{className:"px-4 py-2",children:v.jsx("div",{className:"font-medium text-stone-800",children:e.name})}),v.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",c.toLocaleString()]}),v.jsxs("td",{className:"px-4 py-2 text-center text-stone-600",children:["$",f.toLocaleString()]}),v.jsxs("td",{className:"px-4 py-2 text-center",children:[v.jsxs("div",{className:`text-xs font-bold ${p>=0?"text-green-600":"text-red-500"}`,children:["$",p.toLocaleString()]}),v.jsxs("div",{className:`text-[10px] ${p>=0?"text-green-500":"text-red-400"}`,children:[m.toFixed(1),"%"]})]}),v.jsx("td",{className:"px-4 py-2 text-center",children:v.jsx("span",{className:`font-bold ${s>2?"text-green-600":"text-red-500"}`,children:s})}),v.jsx("td",{className:"px-4 py-2 text-center text-stone-500",children:x!==null?`${x}d`:"-"}),v.jsxs("td",{className:"px-4 py-2 text-right flex justify-end gap-1",children:[v.jsx("button",{onClick:()=>b(1),disabled:n,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"+"}),v.jsx("button",{onClick:()=>b(-1),disabled:n||s<=0,className:"bg-stone-200 text-stone-800 px-2 py-1 rounded text-xs font-bold hover:bg-stone-300",children:"-"})]})]})},bee=({onClose:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(!0);N.useEffect(()=>{(async()=>{const{data:f,error:p}=await qe.from("inventory_logs").select("*").order("created_at",{ascending:!1}).limit(50);p?console.error("Error fetching logs:",p):r(f||[]),i(!1)})()},[]);const s=c=>{const f=Va.find(p=>p.id===c);return f?f.name:c};return v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(kN,{})," Historial de Movimientos"]}),v.jsx("button",{onClick:e,className:"text-stone-400 hover:text-stone-600 font-bold text-xl",children:""})]}),v.jsx("div",{className:"overflow-y-auto flex-1",children:n?v.jsx("p",{className:"text-center py-8 text-stone-400",children:"Cargando historial..."}):v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2",children:"Fecha"}),v.jsx("th",{className:"px-4 py-2",children:"Producto"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Cambio"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Stock Final"}),v.jsx("th",{className:"px-4 py-2",children:"Motivo"})]})}),v.jsxs("tbody",{children:[t.map(c=>v.jsxs("tr",{className:"border-b border-stone-100",children:[v.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:new Date(c.created_at).toLocaleString()}),v.jsx("td",{className:"px-4 py-2 font-medium",children:s(c.product_id)}),v.jsxs("td",{className:`px-4 py-2 text-right font-bold ${c.change_amount>0?"text-green-600":"text-red-500"}`,children:[c.change_amount>0?"+":"",c.change_amount]}),v.jsx("td",{className:"px-4 py-2 text-right text-stone-600",children:c.new_quantity}),v.jsx("td",{className:"px-4 py-2 text-stone-500 text-xs",children:c.reason==="manual_adjustment"?"Ajuste Manual":c.reason})]},c.id)),t.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-stone-400",children:"No hay movimientos registrados."})})]})]})})]})})},Eee=({onLogout:e})=>{const[t,r]=N.useState([]),[n,i]=N.useState(!0),[s,c]=N.useState("month"),[f,p]=N.useState(0),[m,x]=N.useState(0),[b,S]=N.useState([]),[_,I]=N.useState([]),[O,k]=N.useState([]),[R,L]=N.useState([]),[M,U]=N.useState("dashboard"),[W,V]=N.useState([]),[H,re]=N.useState(null),[X,Ee]=N.useState(null),[ue,de]=N.useState([]),[Ae,ke]=N.useState(null),[te,ie]=N.useState(!1),[Q,oe]=N.useState([]),[xe,Se]=N.useState(null),[Z,fe]=N.useState(new Map),[Me,Fe]=N.useState(0),[Je,Ie]=N.useState(0),[lt,ye]=N.useState([]),[se,Be]=N.useState(!1);N.useEffect(()=>{M==="dashboard"||M==="finanzas"?(we(),M==="finanzas"&&Ue()):M==="clients"?Qe():M==="validaciones"&&Ct(),He()},[M,s]);const Ue=async()=>{const{data:_e}=await qe.from("expenses").select("*");_e&&ye(_e)},we=async()=>{i(!0);try{const _e=new Date;s==="week"?_e.setDate(_e.getDate()-7):s==="month"?_e.setDate(_e.getDate()-30):_e.setHours(0,0,0,0);const{data:gt,error:Ut}=await qe.from("transactions").select("*").gte("created_at",_e.toISOString());if(Ut)throw Ut;const wr=gt||[],zt=new Date(_e);s==="week"?zt.setDate(zt.getDate()-7):s==="month"?zt.setDate(zt.getDate()-30):zt.setDate(zt.getDate()-1);const{data:Pr}=await qe.from("transactions").select("*").gte("created_at",zt.toISOString()).lt("created_at",_e.toISOString()),Wn=Pr||[];r(wr);const mr=wr.reduce((xt,Nt)=>xt+Nt.amount,0);p(mr),x(wr.length?Math.round(mr/wr.length):0);const ci=new Map;wr.forEach(xt=>{const Nt=xt.type==="product"?"Productos":"Servicios";ci.set(Nt,(ci.get(Nt)||0)+xt.amount)}),I(Array.from(ci).map(([xt,Nt])=>({name:xt,value:Nt})));const Br=new Map,Za=(xt,Nt)=>{if(Nt==="product"){const ut=Va.find(or=>or.price5ml===xt||or.price10ml===xt||or.priceFullBottle===xt);return ut?ut.name:"Producto Genrico"}else{const ut=nl.find(or=>or.price===xt);return ut?ut.name:"Servicio General"}};wr.forEach(xt=>{const Nt=Za(xt.amount,xt.type);Br.has(Nt)||Br.set(Nt,{current:0,previous:0}),Br.get(Nt).current++}),Wn.forEach(xt=>{const Nt=Za(xt.amount,xt.type);Br.has(Nt)||Br.set(Nt,{current:0,previous:0}),Br.get(Nt).previous++});const er=Array.from(Br.entries()).map(([xt,Nt])=>({name:xt,count:Nt.current})).sort((xt,Nt)=>Nt.count-xt.count).slice(0,5);k(er);const Le=wr.length||1,sr=wr.length/Br.size/Le,Rt=[];Br.forEach((xt,Nt)=>{if(xt.current===0)return;const ut=xt.current/Le,or=xt.previous===0?1:(xt.current-xt.previous)/xt.previous;let Gi="question";ut>=sr&&or>=0?Gi="star":ut>=sr&&or<0?Gi="cow":ut<sr&&or>=0?Gi="question":Gi="dog",Rt.push({name:Nt,volume:ut,growth:or,type:Gi})}),L(Rt);const Dt=new Map;wr.forEach(xt=>{if(!xt.client_id)return;const Nt=Dt.get(xt.client_id)||{id:xt.client_id,phone:"Cargando...",total_spent:0,visit_count:0};Nt.total_spent+=xt.amount,Nt.visit_count+=1,Dt.set(xt.client_id,Nt)});const _i=Array.from(Dt.keys());if(_i.length>0){const{data:xt}=await qe.from("clients").select("id, phone").in("id",_i);xt?.forEach(Nt=>{const ut=Dt.get(Nt.id);ut&&(ut.phone=Nt.phone)})}S(Array.from(Dt.values()).sort((xt,Nt)=>Nt.total_spent-xt.total_spent).slice(0,10))}catch(_e){console.error("Error fetching dashboard data:",_e)}finally{i(!1)}},He=async()=>{const{data:_e,error:gt}=await qe.from("inventory").select("*");if(_e){const Ut=new Map;let wr=0,zt=0;_e.forEach(Pr=>{Ut.set(Pr.product_id,Pr),wr+=Pr.quantity*(Pr.last_purchase_price||0),zt+=Pr.quantity}),fe(Ut),Fe(wr),Ie(zt)}gt&&console.error("Error fetching inventory",gt)},Qe=async()=>{i(!0);const{data:_e,error:gt}=await qe.from("clients").select("*").order("last_visit",{ascending:!1});gt?console.error("Error fetching clients",gt):V(_e||[]),gt?console.error("Error fetching clients",gt):V(_e||[]),i(!1)},Ct=async()=>{i(!0);const{data:_e,error:gt}=await qe.from("visit_registrations").select(`
                *,
                client:clients(name, phone)
            `).eq("status","pending").order("check_in_time",{ascending:!0});gt?console.error("Error fetching visits",gt):oe(_e||[]),i(!1)},Ft=async _e=>{if(_e.preventDefault(),!H)return;const{error:gt}=await qe.from("clients").update({name:H.name,phone:H.phone,visits:H.visits}).eq("id",H.id);gt?alert("Error al actualizar: "+gt.message):(re(null),Qe())},Pt=async _e=>{if(window.confirm("Ests seguro de eliminar este cliente? Esta accin no se puede deshacer y borrar su historial."))try{await qe.from("hair_service_log").delete().eq("client_id",_e),await qe.from("transactions").delete().eq("client_id",_e),await qe.from("visit_registrations").delete().eq("client_id",_e);const{error:gt}=await qe.from("clients").delete().eq("id",_e);if(gt)throw gt;Qe()}catch(gt){alert("Error al eliminar: "+gt.message)}},At=_e=>{Ee(_e),U("ventas")},_t=async _e=>{ie(!0),ke(_e);const{data:gt,error:Ut}=await qe.from("transactions").select("*").eq("client_id",_e.id).order("created_at",{ascending:!1});Ut?console.error("Error fetching history:",Ut):de(gt||[]),ie(!1)},Ai=async _e=>{if(!window.confirm("Eliminar esta transaccin? Esta accin no se puede deshacer."))return;const{error:gt}=await qe.from("transactions").delete().eq("id",_e);gt?alert("Error al eliminar: "+gt.message):de(Ut=>Ut.filter(wr=>wr.id!==_e))},$e=()=>{const _e=["ID Transaccion","Fecha","Monto","Tipo","ID Cliente"],gt=t.map(Pr=>[Pr.id,Pr.created_at,Pr.amount,Pr.type,Pr.client_id||"Annimo"]),Ut="data:text/csv;charset=utf-8,"+_e.join(",")+`
`+gt.map(Pr=>Pr.join(",")).join(`
`),wr=encodeURI(Ut),zt=document.createElement("a");zt.setAttribute("href",wr),zt.setAttribute("download",`reporte_financiero_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(zt),zt.click(),document.body.removeChild(zt)};return v.jsxs("div",{className:"max-w-6xl mx-auto p-4 py-8 md:pt-24",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-stone-900 serif",children:"Panel de Gestin"}),v.jsxs("div",{className:"flex gap-4",children:[M==="dashboard"&&v.jsxs("select",{value:s,onChange:_e=>c(_e.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-2 text-sm",children:[v.jsx("option",{value:"week",children:"ltima Semana"}),v.jsx("option",{value:"month",children:"ltimo Mes"})]}),v.jsx("button",{onClick:e,className:"bg-stone-200 px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-300",children:"Cerrar Sesin"})]})]}),v.jsxs("div",{className:"flex gap-4 mb-6 border-b border-stone-200 pb-1",children:[v.jsx("button",{onClick:()=>U("dashboard"),className:`px-4 py-2 font-bold transition ${M==="dashboard"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Dashboard"}),v.jsx("button",{onClick:()=>U("clients"),className:`px-4 py-2 font-bold transition ${M==="clients"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Clientes"}),v.jsxs("button",{onClick:()=>U("validaciones"),className:`px-4 py-2 font-bold transition ${M==="validaciones"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:["Validaciones QR",Q.length>0&&v.jsx("span",{className:"ml-2 bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full align-top",children:Q.length})]}),v.jsx("button",{onClick:()=>U("finanzas"),className:`px-4 py-2 font-bold transition ${M==="finanzas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Finanzas"}),v.jsx("button",{onClick:()=>U("ventas"),className:`px-4 py-2 font-bold transition ${M==="ventas"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Ventas (POS)"}),v.jsx("button",{onClick:()=>U("agenda"),className:`px-4 py-2 font-bold transition ${M==="agenda"?"text-stone-900 border-b-2 border-stone-900":"text-stone-400 hover:text-stone-600"}`,children:"Agenda"})]}),M==="validaciones"&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"md:col-span-1 bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex flex-col items-center text-center",children:[v.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[v.jsx(ap,{})," QR de Llegada"]}),v.jsx("p",{className:"text-stone-500 text-xs mb-6",children:"Imprime este cdigo y pgalo en la entrada."}),v.jsx("div",{className:"bg-white p-4 rounded-xl border-2 border-stone-900 mb-4",children:v.jsx(vy,{value:"https://tus3b.cl/#/checkin",size:200,level:"H"})}),v.jsx("p",{className:"font-mono text-xs text-stone-400 mb-4",children:"tus3b.cl/#/checkin"}),v.jsxs("button",{onClick:()=>window.print(),className:"w-full py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 text-sm font-bold flex items-center justify-center gap-2",children:[v.jsx(bE,{size:14})," Imprimir QR"]})]}),v.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[v.jsx(n6,{})," Visitas Pendientes"]}),Q.length===0?v.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:v.jsx("p",{children:"No hay clientes esperando validacin."})}):v.jsx("div",{className:"space-y-4",children:Q.map(_e=>v.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-stone-50 border border-stone-100 rounded-xl hover:border-amber-200 transition",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-3 sm:mb-0",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center text-amber-800 font-bold text-lg",children:_e.client?.name?.charAt(0)||"?"}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-stone-900",children:_e.client?.name||"Cliente"}),v.jsx("p",{className:"text-sm text-stone-500",children:_e.client?.phone}),v.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Lleg: ",new Date(_e.check_in_time).toLocaleTimeString()]})]})]}),v.jsx("button",{onClick:()=>Se(_e),className:"w-full sm:w-auto px-6 py-2 bg-stone-900 text-white font-bold rounded-lg shadow hover:bg-stone-800 transition",children:"Validar Visita"})]},_e.id))})]})]}),M==="finanzas"&&v.jsx(xee,{transactions:t,expenses:lt,timeRange:s,onTimeRangeChange:_e=>c(_e)}),M==="ventas"&&v.jsx(vee,{initialClient:X},X?X.id:"pos-reset"),M==="agenda"&&v.jsx(yee,{onRegisterService:_e=>{const gt={name:_e.name,phone:_e.phone,service:_e.service};Ee(gt),U("ventas")}}),M==="dashboard"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Monto Neto"}),v.jsxs("h3",{className:"text-3xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),v.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:v.jsx(IN,{className:"text-green-600"})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Ticket Promedio"}),v.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["$",m.toLocaleString()]})]}),v.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:v.jsx(Nx,{className:"text-blue-600"})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-stone-500 text-sm uppercase tracking-wider mb-1",children:"Transacciones"}),v.jsx("h3",{className:"text-3xl font-bold text-purple-600",children:t.length})]}),v.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:v.jsx(Nx,{className:"text-purple-600"})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[v.jsx(RN,{size:18})," Origen de Ingresos"]}),v.jsx("div",{className:"h-[250px] w-full",children:v.jsx(Fh,{width:"100%",height:"100%",children:v.jsxs(pee,{children:[v.jsx(RP,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:_.map((_e,gt)=>v.jsx(yl,{fill:oN[gt%oN.length]},`cell-${gt}`))}),v.jsx(zh,{formatter:_e=>`$${_e.toLocaleString()}`}),v.jsx(Vy,{})]})})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[v.jsx(e6,{size:18})," Top Productos/Servicios"]}),v.jsx("div",{className:"h-[250px] w-full",children:v.jsx(Fh,{width:"100%",height:"100%",children:v.jsxs(g8,{data:O,layout:"vertical",children:[v.jsx(K0,{strokeDasharray:"3 3",horizontal:!1}),v.jsx(Z0,{type:"number",hide:!0}),v.jsx(Q0,{dataKey:"name",type:"category",width:100,style:{fontSize:"10px"}}),v.jsx(zh,{}),v.jsx(Qu,{dataKey:"count",fill:"#8884d8",radius:[0,4,4,0]})]})})})]}),v.jsxs("div",{className:"md:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[v.jsx(x6,{size:18})," Matriz BCG (Crecimiento vs Participacin)"]}),v.jsxs("div",{className:"h-[300px] w-full relative",children:[v.jsx(Fh,{width:"100%",height:"100%",children:v.jsxs(gee,{margin:{top:20,right:20,bottom:20,left:20},children:[v.jsx(K0,{}),v.jsx(Z0,{type:"number",dataKey:"volume",name:"Cuota (Volumen)",unit:"%",domain:[0,"auto"],tickFormatter:_e=>Math.round(_e*100)+"%"}),v.jsx(Q0,{type:"number",dataKey:"growth",name:"Crecimiento",unit:"%",tickFormatter:_e=>Math.round(_e*100)+"%"}),v.jsx(zh,{cursor:{strokeDasharray:"3 3"},formatter:(_e,gt)=>[Math.round(_e*100)+"%",gt==="volume"?"Cuota":"Crecimiento"]}),v.jsx(WP,{y:0,stroke:"#ccc",strokeDasharray:"3 3"}),v.jsx(JP,{name:"Productos",data:R,fill:"#8884d8",children:R.map((_e,gt)=>{let Ut="#8884d8";return _e.type==="star"?Ut="#FFBB28":_e.type==="cow"?Ut="#00C49F":_e.type==="dog"?Ut="#FF8042":Ut="#999",v.jsx(yl,{fill:Ut},`cell-${gt}`)})})]})}),v.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 p-2 rounded border border-stone-200 text-xs shadow-lg grid grid-cols-2 gap-2",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-[#FFBB28] rounded-full"}),"  Estrella"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-[#00C49F] rounded-full"}),"  Vaca"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-[#999] rounded-full"}),"  Interrogante"]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-3 h-3 bg-[#FF8042] rounded-full"}),"  Perro"]})]})]}),v.jsx("p",{className:"text-xs text-stone-400 mt-2 text-center",children:"* Eje X: Cuota de Mercado (Volumen) | Eje Y: Crecimiento respecto al periodo anterior"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[v.jsx(E6,{size:20})," Top 10 Clientes (Gasto)"]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2",children:"Cliente"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Visitas"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Total Gastado"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),v.jsxs("tbody",{children:[b.map((_e,gt)=>v.jsxs("tr",{className:"border-b border-stone-100",children:[v.jsxs("td",{className:"px-4 py-3 font-medium",children:[gt+1,". ",_e.phone]}),v.jsx("td",{className:"px-4 py-3 text-right",children:_e.visit_count}),v.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",_e.total_spent.toLocaleString()]}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsx("button",{onClick:()=>At({id:_e.id,phone:_e.phone,name:"Cliente"}),className:"text-xs bg-stone-900 text-white px-2 py-1 rounded hover:bg-stone-700",children:"Vender"})})]},_e.id)),b.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-stone-400",children:"No hay suficientes datos"})})]})]})})]}),v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(jN,{size:20})," Inventario Perfumes"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>Be(!0),className:"text-sm text-stone-500 hover:text-stone-800 font-bold flex items-center gap-1 bg-stone-100 px-2 py-1 rounded",children:[v.jsx(kN,{size:14})," Historial"]}),v.jsxs("button",{onClick:$e,className:"text-sm text-blue-600 font-bold hover:underline flex items-center gap-1",children:[v.jsx(bE,{size:14})," Exportar CSV"]})]})]}),v.jsx("div",{className:"overflow-y-auto max-h-[300px]",children:v.jsxs("table",{className:"w-full text-xs text-left",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-stone-500 border-b border-stone-200",children:[v.jsx("th",{className:"px-4 py-2 text-left",children:"Producto"}),v.jsx("th",{className:"px-4 py-2 text-center",children:"Costo"}),v.jsx("th",{className:"px-4 py-2 text-center",children:"Precio Vta"}),v.jsx("th",{className:"px-4 py-2 text-center",children:"Margen"}),v.jsx("th",{className:"px-4 py-2 text-center",children:"Stock"}),v.jsx("th",{className:"px-4 py-2 text-center",children:"Das"}),v.jsx("th",{className:"px-4 py-2 text-right",children:"Accin"})]})}),v.jsx("tbody",{children:Va.map(_e=>v.jsx(wee,{perfume:_e,inventoryItem:Z.get(_e.id),onRefresh:He},_e.id))}),v.jsx("tfoot",{className:"bg-stone-100 font-bold text-stone-800 border-t-2 border-stone-200",children:v.jsxs("tr",{children:[v.jsx("td",{className:"px-4 py-3",children:"TOTALES"}),v.jsx("td",{className:"px-4 py-3"}),v.jsx("td",{className:"px-4 py-3"}),v.jsx("td",{className:"px-4 py-3"}),v.jsxs("td",{className:"px-4 py-3 text-center",children:[Je," un."]}),v.jsx("td",{className:"px-4 py-3 text-center text-xs text-stone-500"}),v.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["Inv: $",Me.toLocaleString()]})]})})]})})]})]})]}):v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-stone-100",children:[v.jsx("h3",{className:"text-xl font-bold mb-6",children:"Gestin de Clientes"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3",children:"Nombre"}),v.jsx("th",{className:"px-6 py-3",children:"Telfono"}),v.jsx("th",{className:"px-6 py-3 text-center",children:"Visitas (Lealtad)"}),v.jsx("th",{className:"px-6 py-3",children:"ltima Visita"}),v.jsx("th",{className:"px-6 py-3 text-right",children:"Acciones"})]})}),v.jsx("tbody",{children:W.map(_e=>v.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[v.jsx("td",{className:"px-6 py-4 font-bold text-stone-800",children:_e.name||"Sin nombre"}),v.jsx("td",{className:"px-6 py-4 font-mono text-stone-600",children:_e.phone}),v.jsx("td",{className:"px-6 py-4 text-center",children:v.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full font-bold",children:_e.visits})}),v.jsx("td",{className:"px-6 py-4 text-stone-500",children:new Date(_e.last_visit).toLocaleDateString()}),v.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[v.jsxs("button",{onClick:()=>_t(_e),className:"text-purple-600 hover:text-purple-800 font-medium text-xs px-2 py-1 bg-purple-50 rounded inline-flex items-center gap-1",children:[v.jsx(TN,{size:12})," Historial"]}),v.jsx("button",{onClick:()=>re(_e),className:"text-blue-600 hover:text-blue-800 font-medium text-xs px-2 py-1 bg-blue-50 rounded",children:"Editar"}),v.jsx("button",{onClick:()=>Pt(_e.id),className:"text-red-600 hover:text-red-800 font-medium text-xs px-2 py-1 bg-red-50 rounded",children:"Eliminar"})]})]},_e.id))})]})})]}),H&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-sm",children:[v.jsx("h3",{className:"text-xl font-bold mb-4",children:"Editar Cliente"}),v.jsxs("form",{onSubmit:Ft,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Nombre"}),v.jsx("input",{type:"text",value:H.name||"",onChange:_e=>re({...H,name:_e.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Telfono"}),v.jsx("input",{type:"text",value:H.phone,onChange:_e=>re({...H,phone:_e.target.value}),className:"w-full px-4 py-2 border rounded-lg"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-1",children:"Visitas (Puntos)"}),v.jsx("input",{type:"number",value:H.visits,onChange:_e=>re({...H,visits:parseInt(_e.target.value)}),className:"w-full px-4 py-2 border rounded-lg"})]}),v.jsxs("div",{className:"flex gap-2 mt-6",children:[v.jsx("button",{type:"button",onClick:()=>re(null),className:"flex-1 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cancelar"}),v.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold",children:"Guardar"})]})]})]})}),Ae&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl font-bold",children:"Historial de Servicios"}),v.jsxs("p",{className:"text-sm text-stone-500",children:[Ae.name||"Cliente"," - ",Ae.phone]})]}),v.jsx("button",{onClick:()=>{ke(null),de([])},className:"p-2 hover:bg-stone-100 rounded-full",children:v.jsx(yi,{size:20})})]}),te?v.jsx("div",{className:"py-12 text-center text-stone-400",children:"Cargando historial..."}):ue.length===0?v.jsx("div",{className:"py-12 text-center text-stone-400 bg-stone-50 rounded-lg border-2 border-dashed border-stone-100",children:v.jsx("p",{children:"Este cliente no tiene transacciones registradas."})}):v.jsx("div",{className:"overflow-y-auto flex-1",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs uppercase bg-stone-50 text-stone-500 sticky top-0",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-3",children:"Fecha"}),v.jsx("th",{className:"px-4 py-3",children:"Descripcin"}),v.jsx("th",{className:"px-4 py-3",children:"Tipo"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Monto"}),v.jsx("th",{className:"px-4 py-3 text-right",children:"Accin"})]})}),v.jsx("tbody",{children:ue.map(_e=>v.jsxs("tr",{className:"border-b border-stone-100 hover:bg-stone-50",children:[v.jsx("td",{className:"px-4 py-3 text-stone-500 text-xs",children:new Date(_e.created_at).toLocaleDateString("es-CL",{day:"2-digit",month:"short",year:"numeric"})}),v.jsx("td",{className:"px-4 py-3 font-medium",children:_e.description||"Sin descripcin"}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${_e.type==="service"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:_e.type==="service"?"Servicio":"Producto"})}),v.jsxs("td",{className:"px-4 py-3 text-right font-bold text-green-600",children:["$",_e.amount.toLocaleString()]}),v.jsx("td",{className:"px-4 py-3 text-right",children:v.jsx("button",{onClick:()=>Ai(_e.id),className:"text-red-500 hover:text-red-700 p-1",title:"Eliminar transaccin",children:v.jsx(op,{size:14})})})]},_e.id))}),v.jsx("tfoot",{className:"bg-stone-100 font-bold",children:v.jsxs("tr",{children:[v.jsx("td",{colSpan:3,className:"px-4 py-3",children:"Total General"}),v.jsxs("td",{className:"px-4 py-3 text-right text-green-700",children:["$",ue.reduce((_e,gt)=>_e+gt.amount,0).toLocaleString()]}),v.jsx("td",{})]})})]})}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-stone-200 flex gap-2",children:[v.jsxs("button",{onClick:()=>At(Ae),className:"flex-1 px-4 py-2 bg-stone-900 text-white rounded-lg font-bold flex items-center justify-center gap-2",children:[v.jsx(LN,{size:16})," Registrar Nueva Venta"]}),v.jsx("button",{onClick:()=>{ke(null),de([])},className:"px-4 py-2 bg-stone-200 text-stone-700 rounded-lg font-bold",children:"Cerrar"})]})]})}),xe&&v.jsx(qD,{visit:xe,onClose:()=>Se(null),onSuccess:Ct}),se&&v.jsx(bee,{onClose:()=>Be(!1)})]})},See=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(""),i=(c,f)=>{t(c),f&&n(f)},s=async()=>{await qe.auth.signOut(),t(null),n("")};return e?e==="management"?v.jsx(Eee,{onLogout:s}):v.jsx(HD,{onLogout:s}):v.jsx(gD,{onLogin:i})},Aee=()=>{const[e,t]=N.useState("Todos"),[r,n]=N.useState(null),i=["Todos","Cortes","Color","Peinados"],s=e==="Todos"?AE:AE.filter(c=>c.category===e);return v.jsxs("div",{className:"animate-in fade-in duration-700",children:[v.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:i.map(c=>v.jsx("button",{onClick:()=>t(c),className:`px-6 py-2 rounded-full text-sm font-bold uppercase tracking-widest transition-all ${e===c?"bg-stone-900 text-white shadow-lg scale-105":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,children:c},c))}),v.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-8 space-y-8 px-4",children:s.map((c,f)=>v.jsxs("div",{className:"break-inside-avoid relative group cursor-zoom-in overflow-hidden rounded-xl shadow-md bg-stone-100",onClick:()=>n(c.url),children:[v.jsx("img",{src:c.url,alt:c.description,className:"w-full h-auto object-cover transform transition duration-700 group-hover:scale-110",loading:"lazy"}),v.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:v.jsxs("div",{className:"text-white text-center p-4 transform translate-y-4 group-hover:translate-y-0 transition duration-300",children:[v.jsx(_6,{className:"mx-auto mb-2 opacity-80"}),v.jsx("p",{className:"font-serif italic text-lg",children:c.description})]})})]},f))}),r&&v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/95 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>n(null),children:[v.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition",onClick:()=>n(null),children:v.jsx(yi,{size:32})}),v.jsx("img",{src:r,alt:"Zoom",className:"max-w-full max-h-[90vh] object-contain rounded-sm shadow-2xl scale-in-95 animate-in duration-300"})]})]})},_ee=()=>{const e=t=>{const r=encodeURIComponent(`Hola, me gustara reservar el "${t}".`);window.open(`https://wa.me/${xc}?text=${r}`,"_blank")};return v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh]",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Detalles con Amor"}),v.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-rose-500",children:"Amor Amor"}),v.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Sorprende a quien ms quieres con nuestra seleccin exclusiva."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:j6.map(t=>v.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-stone-100 hover:shadow-xl transition-shadow flex flex-col",children:[v.jsxs("div",{className:"bg-amber-50 p-8 flex justify-center items-center h-48 relative overflow-hidden group",children:[v.jsx("div",{className:"absolute inset-0 bg-amber-100 opacity-0 group-hover:opacity-20 transition-opacity"}),v.jsx(ay,{size:64,className:"text-amber-500 relative z-10"})]}),v.jsxs("div",{className:"p-8 flex-grow flex flex-col",children:[v.jsx("h3",{className:"serif text-2xl text-stone-900 mb-2",children:t.name}),v.jsx("div",{className:"text-3xl font-light text-stone-800 mb-6 font-serif",children:t.price>0?`$${t.price.toLocaleString("es-CL")}`:"A medida"}),v.jsx("div",{className:"space-y-3 mb-8 flex-grow",children:t.includes.map((r,n)=>v.jsxs("div",{className:"flex items-start text-stone-600",children:[v.jsx(c6,{size:16,className:"text-amber-400 mt-1 mr-2 flex-shrink-0 fill-current"}),v.jsx("span",{className:"text-sm",children:r})]},n))}),v.jsx("button",{onClick:()=>e(t.name),className:"w-full bg-stone-900 text-white py-3 rounded-full font-bold uppercase tracking-wider text-sm hover:bg-stone-800 transition shadow-md",children:"Reservar"})]})]},t.id))})]})},Cee=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(!1),[c,f]=N.useState("search"),[p,m]=N.useState(null),[x,b]=N.useState(""),S=async O=>{O.preventDefault(),s(!0),b("");try{const k=e.replace(/\D/g,"");if(k.length<8)throw new Error("Ingresa un nmero vlido (ej: 912345678)");const{data:R,error:L}=await qe.from("clients").select("*").eq("phone",k).single();if(L&&L.code!=="PGRST116")throw L;R?(m(R),await I(R.id)):f("register")}catch(k){b(k.message||"Error al buscar cliente")}finally{s(!1)}},_=async O=>{O.preventDefault(),s(!0),b("");try{const k=e.replace(/\D/g,"");if(!r.trim())throw new Error("Ingresa tu nombre");const{data:R,error:L}=await qe.from("clients").insert([{name:r,phone:k,visits:0}]).select().single();if(L)throw L;await I(R.id)}catch(k){b(k.message||"Error al registrar")}finally{s(!1)}},I=async O=>{const{error:k}=await qe.from("visit_registrations").insert([{client_id:O}]);if(k)throw console.error(k),new Error("Hubo un problema registrando la visita. Intenta de nuevo.");f("success")};return c==="success"?v.jsx("div",{className:"min-h-screen bg-stone-950 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-stone-900 border border-amber-500/30 rounded-2xl p-8 max-w-sm w-full text-center shadow-2xl animate-fade-in-up",children:[v.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:v.jsx(ip,{className:"w-10 h-10 text-green-400"})}),v.jsx("h2",{className:"text-2xl font-serif text-amber-100 mb-2",children:"Llegada Registrada!"}),v.jsx("p",{className:"text-stone-400 mb-6",children:"Tu visita ha quedado en espera. Tu estilista validar tus servicios al finalizar para sumar tus puntos."}),v.jsx(an,{to:"/",className:"block w-full py-3 bg-stone-800 hover:bg-stone-700 text-amber-100 rounded-lg transition-colors font-medium",children:"Volver al Inicio"})]})}):v.jsxs("div",{className:"min-h-screen bg-stone-950 p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 pointer-events-none"}),v.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 bg-pink-500/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3 pointer-events-none"}),v.jsxs("div",{className:"w-full max-w-md bg-stone-900/80 backdrop-blur-md border border-stone-800 rounded-2xl shadow-xl overflow-hidden relative z-10",children:[v.jsxs("div",{className:"bg-gradient-to-r from-stone-900 to-stone-800 p-6 text-center border-b border-stone-800",children:[v.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center mx-auto mb-3",children:v.jsx(ap,{className:"w-6 h-6 text-amber-400"})}),v.jsx("h1",{className:"text-xl font-serif text-amber-100",children:"Registro de Visita"}),v.jsx("p",{className:"text-sm text-stone-400 mt-1",children:"Escanea al llegar para sumar puntos"})]}),v.jsxs("div",{className:"p-6",children:[x&&v.jsx("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded-lg text-red-200 text-sm text-center",children:x}),c==="search"?v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Nmero de Telfono"}),v.jsx("input",{type:"tel",placeholder:"Ej: 912345678",value:e,onChange:O=>t(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all text-lg tracking-widest text-center",autoFocus:!0})]}),v.jsx("button",{type:"submit",disabled:i||e.length<8,className:"w-full py-3.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold rounded-lg shadow-lg shadow-amber-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i?v.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):v.jsxs(v.Fragment,{children:[v.jsx(Ec,{className:"w-4 h-4"}),"Buscar / Registrar"]})})]}):v.jsxs("form",{onSubmit:_,className:"space-y-4 animate-fade-in-right",children:[v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("div",{className:"w-12 h-12 bg-stone-800 rounded-full flex items-center justify-center mx-auto mb-2 text-stone-400",children:v.jsx(ly,{className:"w-6 h-6"})}),v.jsx("h3",{className:"text-amber-100 font-medium",children:"Primera vez por aqu!"}),v.jsx("p",{className:"text-xs text-stone-400",children:"Crea tu perfil para empezar a sumar."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Tu Nombre"}),v.jsx("input",{type:"text",placeholder:"Nombre y Apellido",value:r,onChange:O=>n(O.target.value),className:"w-full bg-stone-950 border border-stone-800 rounded-lg px-4 py-3 text-white placeholder-stone-600 focus:ring-2 focus:ring-amber-500 outline-none",autoFocus:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase tracking-wider mb-1",children:"Telfono"}),v.jsx("input",{type:"tel",value:e,disabled:!0,className:"w-full bg-stone-950/50 border border-stone-800 rounded-lg px-4 py-3 text-stone-500 cursor-not-allowed"})]}),v.jsxs("div",{className:"pt-2 flex gap-3",children:[v.jsx("button",{type:"button",onClick:()=>f("search"),className:"flex-1 py-3 bg-stone-800 text-stone-300 rounded-lg hover:bg-stone-700 transition",children:"Volver"}),v.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-3 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-500 transition shadow-lg shadow-amber-900/20",children:i?"Registrando...":"Confirmar"})]})]})]}),v.jsx("div",{className:"bg-stone-950/50 p-4 text-center border-t border-stone-800",children:v.jsx("p",{className:"text-xs text-stone-600",children:"Tus3B Style  Sistema de Lealtad"})})]})]})},Nee=()=>v.jsxs("div",{className:"min-h-screen bg-stone-950 text-white flex flex-col relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-rose-500/10 rounded-full blur-[120px] pointer-events-none"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-amber-500/10 rounded-full blur-[100px] pointer-events-none"}),v.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center px-4 py-8 max-w-lg mx-auto w-full z-10 space-y-8",children:[v.jsxs("div",{className:"text-center space-y-2 mb-4",children:[v.jsxs("h1",{className:"font-serif italic text-5xl md:text-6xl text-white tracking-tighter",children:["Tus3B ",v.jsx("span",{className:"text-amber-500",children:"Hub"})]}),v.jsx("p",{className:"text-stone-400 text-[10px] uppercase tracking-[0.4em] font-medium",children:"Belleza  Aroma  Regalos"})]}),v.jsxs("div",{className:"w-full space-y-4",children:[v.jsxs(an,{to:"/style",className:"group block relative overflow-hidden rounded-2xl border border-stone-800 bg-stone-900/40 hover:bg-stone-900/60 transition-all duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),v.jsxs("div",{className:"p-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-800 flex items-center justify-center text-white border border-stone-700 group-hover:border-white/50 transition-colors",children:v.jsx(sp,{size:24})}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-serif text-2xl italic",children:"Style"}),v.jsx("p",{className:"text-[10px] text-stone-500 uppercase tracking-widest",children:"Peluquera & Color"})]})]}),v.jsx(Yu,{size:20,className:"text-stone-600 group-hover:text-white transition-colors"})]})]}),v.jsx(an,{to:"/perfum",className:"group block relative overflow-hidden rounded-2xl border border-amber-900/30 bg-stone-900/40 hover:bg-amber-950/20 transition-all duration-300",children:v.jsxs("div",{className:"p-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-amber-900/20 flex items-center justify-center text-amber-500 border border-amber-500/20 group-hover:border-amber-500/50 transition-colors",children:v.jsx(rd,{size:24})}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-serif text-2xl text-amber-500",children:"Perfum"}),v.jsx("p",{className:"text-[10px] text-amber-800/80 uppercase tracking-widest",children:"Decants Exclusivos"})]})]}),v.jsx(Yu,{size:20,className:"text-amber-900/50 group-hover:text-amber-500 transition-colors"})]})}),v.jsx(an,{to:"/regalos",className:"group block relative overflow-hidden rounded-2xl border border-rose-900/30 bg-stone-900/40 hover:bg-rose-950/20 transition-all duration-300",children:v.jsxs("div",{className:"p-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-rose-900/20 flex items-center justify-center text-rose-400 border border-rose-500/20 group-hover:border-rose-500/50 transition-colors",children:v.jsx(ay,{size:24})}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-serif text-2xl text-rose-400",children:"Amor Amor"}),v.jsx("p",{className:"text-[10px] text-rose-800/80 uppercase tracking-widest",children:"Detalles Especiales"})]})]}),v.jsx(Yu,{size:20,className:"text-rose-900/50 group-hover:text-rose-400 transition-colors"})]})})]}),v.jsx("div",{className:"w-full mt-4",children:v.jsxs(an,{to:"/loyalty",className:"block relative bg-gradient-to-r from-stone-900 to-stone-800 p-1 rounded-2xl shadow-xl group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 via-rose-500 to-amber-500 opacity-20 blur-md group-hover:opacity-40 transition-opacity"}),v.jsxs("div",{className:"relative bg-stone-950 rounded-xl p-5 flex items-center justify-between border border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-white text-black p-2 rounded-lg",children:v.jsx(ap,{size:20})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs text-stone-400 font-medium",children:"Tus3B Club"}),v.jsx("p",{className:"text-sm font-bold text-white",children:"Mi Tarjeta Digital"})]})]}),v.jsx("span",{className:"text-[10px] bg-stone-800 px-2 py-1 rounded text-stone-300 group-hover:bg-stone-700 transition",children:"Ver Puntos"})]})]})}),v.jsx("div",{className:"w-full pt-4",children:v.jsx("p",{className:"text-center text-[10px] text-stone-600 mt-3",children:"Toca una categora para explorar"})})]}),v.jsx("div",{className:"text-center py-6 z-10",children:v.jsx("p",{className:"text-[9px] text-stone-700 uppercase tracking-widest",children:"Estilo  Confianza  Calidad"})})]}),Oee=[{id:"1",title:"Hidratacin Profunda",preview:"Cabello seco y sin vida? Descubre el secreto de la hidratacin.",icon:v.jsx(s6,{className:"text-blue-400",size:24}),fullTip:"El agua caliente abre la cutcula y reseca tu cabello. Intenta lavar siempre con agua tibia y terminar con un chorro de agua fra para sellar el brillo. Complementa con una mascarilla hidratante una vez a la semana.",relatedProduct:"Masaje Capilar"},{id:"2",title:"Proteccin Trmica",preview:"No quemes tu cabello. Aprende a usar el calor a tu favor.",icon:v.jsx(w6,{className:"text-amber-500",size:24}),fullTip:"Antes de usar secador o plancha, SIEMPRE aplica un protector trmico. Es la diferencia entre un cabello sano y uno quebradizo. Ajusta la temperatura a medio, no mximo.",relatedProduct:"Brushing"},{id:"3",title:"Corte de Puntas",preview:"Mito o realidad? Cortar las puntas hace crecer el pelo.",icon:v.jsx(sp,{className:"text-rose-400",size:24}),fullTip:"Cortar las puntas no hace que crezca ms rpido desde la raz, pero evita que las puntas abiertas se sigan partiendo hacia arriba (tripa). Un corte cada 2-3 meses mantiene tu largo saludable.",relatedProduct:"Corte de Puntas"},{id:"4",title:"Cuidado del Color",preview:"Mantn tu tinte vibrante por mucho ms tiempo.",icon:v.jsx(Sc,{className:"text-purple-400",size:24}),fullTip:"Usa shampoos sin sulfatos para cabellos teidos. El sol oxida el color, as que usa sombreros o productos con filtro UV en verano. Lava tu cabello cada 2-3 das, no a diario.",relatedProduct:"Aplicacin de Tintura"},{id:"5",title:"Frizz Control",preview:"Doma el volumen y luce un cabello suave y ordenado.",icon:v.jsx(A6,{className:"text-teal-400",size:24}),fullTip:"El frizz es falta de hidratacin. No frotes tu cabello con la toalla; presiona suavemente. Usa fundas de almohada de satn o seda para evitar la friccin mientras duermes.",relatedProduct:"Corte Bordado"}],Iee=()=>{const[e,t]=N.useState(null);return v.jsx("section",{className:"py-20 bg-stone-50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Blog de Expertos"}),v.jsx("h2",{className:"serif text-4xl mt-2 text-stone-900",children:"Secretos de Greici Nataly"}),v.jsx("p",{className:"text-stone-600 mt-4 max-w-2xl mx-auto",children:"Tips profesionales para que mantengas tu cabello radiante entre cada visita al saln."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Oee.map(r=>v.jsxs("div",{className:`bg-white rounded-2xl p-6 shadow-sm border border-stone-100 transition-all duration-300 ${e===r.id?"row-span-2 shadow-md ring-1 ring-stone-200":"hover:shadow-md"}`,children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsx("div",{className:"bg-stone-50 p-3 rounded-xl",children:r.icon}),r.relatedProduct&&v.jsx("span",{className:"text-[10px] bg-stone-100 px-2 py-1 rounded-full text-stone-500 font-bold uppercase",children:"Recomendado"})]}),v.jsx("h3",{className:"text-xl font-bold text-stone-900 mb-2",children:r.title}),e===r.id?v.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[v.jsx("p",{className:"text-stone-600 leading-relaxed mb-6 font-light",children:r.fullTip}),v.jsxs("div",{className:"flex justify-between items-center border-t border-stone-100 pt-4",children:[v.jsx("button",{onClick:()=>t(null),className:"text-stone-400 text-sm hover:text-stone-600 font-medium transition",children:"Cerrar"}),v.jsxs("a",{href:"#booking-section",className:"text-stone-900 text-sm font-bold flex items-center gap-1 hover:underline",children:["Agendar ",r.relatedProduct," ",v.jsx(Yu,{size:14})]})]})]}):v.jsxs("div",{children:[v.jsx("p",{className:"text-stone-500 text-sm mb-4",children:r.preview}),v.jsxs("button",{onClick:()=>t(r.id),className:"text-stone-900 font-bold text-sm flex items-center gap-2 hover:gap-3 transition-all group",children:["Leer Tip ",v.jsx(Yu,{size:14,className:"group-hover:text-amber-500 transition-colors"})]})]})]},r.id))}),v.jsx("div",{className:"mt-12 text-center",children:v.jsxs("div",{className:"inline-flex items-center gap-3 bg-white px-4 py-2 rounded-full shadow-sm border border-stone-100",children:[v.jsx("img",{src:"/images/gallery/work_1.png",alt:"Greici",className:"w-8 h-8 rounded-full object-cover",onError:r=>r.target.src="https://ui-avatars.com/api/?name=Greici+Nataly&background=random"}),v.jsxs("span",{className:"text-sm text-stone-600 italic",children:['"Tu cabello es tu corona, cudalo con amor."  ',v.jsx("span",{className:"font-bold text-stone-900",children:"Greici Nataly"})]})]})})]})})},Tee=()=>{const{pathname:e}=Ta();return Nr.useEffect(()=>{window.scrollTo(0,0)},[e]),null},kee=()=>{const[e,t]=N.useState(null),r=()=>v.jsxs(v.Fragment,{children:[v.jsx(N6,{onCtaClick:()=>{document.getElementById("booking-section")?.scrollIntoView({behavior:"smooth"})}}),v.jsx("section",{className:"py-20 bg-white",children:v.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"serif text-4xl text-stone-900",children:"Nuestros Servicios"}),v.jsx("p",{className:"text-stone-500 mt-2",children:"Transparencia y calidad en cada detalle."})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:nl.filter(n=>!n.homeServiceOnly).map(n=>v.jsxs("div",{className:"flex justify-between items-center border-b border-stone-100 pb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-stone-900",children:n.name}),v.jsx("p",{className:"text-xs text-stone-500",children:n.description})]}),v.jsxs("div",{className:"text-right ml-4",children:[v.jsxs("span",{className:"block font-serif font-bold text-lg text-stone-900",children:["$",n.price.toLocaleString("es-CL")]}),v.jsxs("span",{className:"text-[10px] text-stone-400 uppercase",children:[n.durationMin," min"]})]})]},n.id))}),v.jsx("div",{className:"mt-8 text-center",children:v.jsx(an,{to:"/booking",className:"text-stone-900 font-bold border-b border-stone-900 hover:text-stone-600 hover:border-stone-600 transition",children:"Ver Men Completo"})})]})}),v.jsx("section",{className:"py-24 bg-stone-50 relative overflow-hidden",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute -top-4 -left-4 w-full h-full border-2 border-stone-200 rounded-sm"}),v.jsx("img",{src:"/images/gallery/work_1.png",alt:"Hair Styling",className:"rounded-sm shadow-xl relative z-10 w-full",onError:n=>{n.target.src="https://images.unsplash.com/photo-1560869713-7d0a29430803?auto=format&fit=crop&q=80&w=800"}})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("span",{className:"text-xs font-bold tracking-widest text-stone-500 uppercase",children:"Portafolio"}),v.jsx("h3",{className:"serif text-4xl text-stone-900",children:"Experiencia que se nota"}),v.jsx("p",{className:"text-stone-600 font-light text-lg leading-relaxed",children:"Cada corte y color es una obra de arte personalizada. Revisa nuestra galera para encontrar la inspiracin de tu prximo look."}),v.jsx("div",{className:"flex items-center space-x-4 pt-4",children:v.jsx(an,{to:"/gallery",className:"px-8 py-3 bg-stone-900 text-white rounded-full font-bold text-sm hover:bg-stone-700 transition no-underline flex items-center justify-center shadow-lg",children:"Ver Galera Completa"})})]})]})})}),v.jsx(Iee,{}),v.jsx(eD,{}),v.jsxs("div",{id:"booking-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Tu momento es ahora"}),v.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Agenda tu Cita"})]}),v.jsx(VM,{onSuccess:n=>{t(n)}})]}),v.jsx("div",{className:"bg-white py-4 text-center",children:v.jsxs(an,{to:"/admin",className:"text-[10px] text-stone-300 hover:text-stone-500 flex items-center justify-center gap-1 mx-auto transition no-underline",children:[v.jsx(v6,{size:10})," Admin"]})})]});return v.jsx(zR,{children:v.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[v.jsx(Tee,{}),v.jsx(C6,{}),v.jsx("main",{className:"flex-grow pt-16 md:pt-0",children:v.jsxs(xR,{children:[v.jsx(za,{path:"/",element:v.jsx(Nee,{})}),v.jsx(za,{path:"/style",element:v.jsx(r,{})}),v.jsx(za,{path:"/perfum",element:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Aromas Exclusivos"}),v.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Nuestra Coleccin"})]}),v.jsx(qM,{})]})}),v.jsx(za,{path:"/regalos",element:v.jsx(_ee,{})}),v.jsx(za,{path:"/gallery",element:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[v.jsxs("div",{className:"text-center mb-16",children:[v.jsx("span",{className:"text-sm font-bold tracking-widest text-stone-500 uppercase",children:"Nuestro Arte"}),v.jsx("h2",{className:"serif text-4xl md:text-5xl mt-3 text-stone-900",children:"Galera de Trabajos"}),v.jsx("p",{className:"text-stone-500 mt-4 max-w-2xl mx-auto",children:"Resultados reales de clientas felices. Insprate para tu prximo cambio de look."})]}),v.jsx(Aee,{})]})}),v.jsx(za,{path:"/loyalty",element:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 min-h-[60vh] flex flex-col justify-center items-center",children:v.jsx(mD,{})})}),v.jsx(za,{path:"/admin",element:v.jsx(See,{})}),v.jsx(za,{path:"/checkin",element:v.jsx(Cee,{})}),v.jsx(za,{path:"/confirmation",element:v.jsx(Pee,{})})]})}),v.jsx(GM,{}),v.jsx(QM,{})]})})},Pee=()=>{const t=Ta().state;return t?v.jsx(JM,{isHomeService:t.booking.isHomeService,onGoHome:()=>window.location.href="/",onGoCatalog:()=>window.location.href="/perfum"}):v.jsx(mR,{to:"/"})};console.log("Iniciando aplicacin React...");const v8=document.getElementById("root");if(!v8)throw new Error("Could not find root element to mount to");try{yj.createRoot(v8).render(v.jsx(Nr.StrictMode,{children:v.jsx(kee,{})})),console.log("Aplicacin montada correctamente.")}catch(e){console.error("Error al montar la aplicacin:",e);const t=document.getElementById("app-error");t&&(t.style.display="block",t.innerHTML="Error crtico al iniciar React: "+e.message)}
